2019-09-24 12:04:54,029 INFO  util.LogUtils (LogUtils.java:setLogLevel(41)) - Set org.apache.ratis.conf.ConfUtils log level to WARN
2019-09-24 12:04:54,032 INFO  util.LogUtils (LogUtils.java:setLogLevel(41)) - Set org.apache.ratis.util.FileUtils log level to TRACE
2019-09-24 12:04:54,044 INFO  util.LogUtils (LogUtils.java:setLogLevel(41)) - Set org.apache.ratis.server.impl.RaftServerImpl log level to DEBUG
2019-09-24 12:04:54,045 INFO  util.LogUtils (LogUtils.java:setLogLevel(41)) - Set org.apache.ratis.client.RaftClient log level to DEBUG
2019-09-24 12:04:54,049 INFO  netty.TestLeaderElectionWithNetty (LeaderElectionTests.java:testEnforceLeader(90)) - Running testEnforceLeader
2019-09-24 12:04:54,132 INFO  ratis.MiniRaftCluster (MiniRaftCluster.java:<init>(253)) - new MiniRaftClusterWithNetty with group-B55F010AECEC:[s3:0.0.0.0:40896, s4:0.0.0.0:43977, s0:0.0.0.0:38561, s1:0.0.0.0:45613, s2:0.0.0.0:44259]
2019-09-24 12:04:54,133 INFO  ratis.MiniRaftCluster (MiniRaftCluster.java:start(287)) - .............................................................. 
2019-09-24 12:04:54,133 INFO  ratis.MiniRaftCluster (MiniRaftCluster.java:start(288)) - ... 
2019-09-24 12:04:54,133 INFO  ratis.MiniRaftCluster (MiniRaftCluster.java:start(289)) - ...     Starting MiniRaftClusterWithNetty
2019-09-24 12:04:54,133 INFO  ratis.MiniRaftCluster (MiniRaftCluster.java:start(290)) - ... 
2019-09-24 12:04:54,133 INFO  ratis.MiniRaftCluster (MiniRaftCluster.java:start(291)) - .............................................................. 
2019-09-24 12:04:54,133 INFO  ratis.MiniRaftCluster (MiniRaftCluster.java:initServers(265)) - servers = {}
2019-09-24 12:04:54,142 INFO  ratis.MiniRaftCluster (MiniRaftCluster.java:newRaftServer(330)) - newRaftServer: s3, group-B55F010AECEC:[s3:0.0.0.0:40896, s4:0.0.0.0:43977, s0:0.0.0.0:38561, s1:0.0.0.0:45613, s2:0.0.0.0:44259], format? true
2019-09-24 12:04:54,145 TRACE util.FileUtils (FileUtils.java:deleteFully(88)) - deleteFully target/test/data/aaa4fccd/MiniRaftClusterWithNetty9708bfc2/s3
2019-09-24 12:04:54,152 TRACE util.FileUtils (FileUtils.java:deleteFully(104)) - deleteFully: target/test/data/aaa4fccd/MiniRaftClusterWithNetty9708bfc2/s3 does not exist.
2019-09-24 12:04:54,152 INFO  ratis.MiniRaftCluster (MiniRaftCluster.java:newRaftServer(335)) - Formatted directory target/test/data/aaa4fccd/MiniRaftClusterWithNetty9708bfc2/s3
2019-09-24 12:04:54,167 INFO  impl.RaftServerProxy (ConfUtils.java:logGet(43)) - raft.rpc.type = NETTY (custom)
2019-09-24 12:04:54,257 INFO  netty.NettyConfigKeys$Server (ConfUtils.java:logGet(43)) - raft.netty.server.port = 40896 (custom)
2019-09-24 12:04:54,364 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.storage.dir = [/workdir/ratis-test/target/test/data/aaa4fccd/MiniRaftClusterWithNetty9708bfc2/s3] (custom)
2019-09-24 12:04:54,373 INFO  impl.RaftServerProxy (RaftServerProxy.java:addNew(89)) - s3: addNew group-B55F010AECEC:[s3:0.0.0.0:40896, s4:0.0.0.0:43977, s0:0.0.0.0:38561, s1:0.0.0.0:45613, s2:0.0.0.0:44259] returns group-B55F010AECEC:java.util.concurrent.CompletableFuture@1269e098[Not completed]
2019-09-24 12:04:54,377 INFO  logging.LoggingHandler (AbstractInternalLogger.java:log(150)) - [id: 0x9f7e2b0f] REGISTERED
2019-09-24 12:04:54,379 INFO  logging.LoggingHandler (AbstractInternalLogger.java:log(150)) - [id: 0x9f7e2b0f] BIND: 0.0.0.0/0.0.0.0:40896
2019-09-24 12:04:54,381 INFO  impl.RaftServerImpl (RaftServerImpl.java:<init>(95)) - s3: new RaftServerImpl for group-B55F010AECEC:[s3:0.0.0.0:40896, s4:0.0.0.0:43977, s0:0.0.0.0:38561, s1:0.0.0.0:45613, s2:0.0.0.0:44259] with BaseStateMachine:uninitialized
2019-09-24 12:04:54,385 INFO  ratis.MiniRaftCluster (MiniRaftCluster.java:newRaftServer(330)) - newRaftServer: s4, group-B55F010AECEC:[s3:0.0.0.0:40896, s4:0.0.0.0:43977, s0:0.0.0.0:38561, s1:0.0.0.0:45613, s2:0.0.0.0:44259], format? true
2019-09-24 12:04:54,385 INFO  logging.LoggingHandler (AbstractInternalLogger.java:log(150)) - [id: 0x9f7e2b0f, L:0.0.0.0/0.0.0.0:40896] ACTIVE
2019-09-24 12:04:54,385 TRACE util.FileUtils (FileUtils.java:deleteFully(88)) - deleteFully target/test/data/aaa4fccd/MiniRaftClusterWithNetty9708bfc2/s4
2019-09-24 12:04:54,386 TRACE util.FileUtils (FileUtils.java:deleteFully(104)) - deleteFully: target/test/data/aaa4fccd/MiniRaftClusterWithNetty9708bfc2/s4 does not exist.
2019-09-24 12:04:54,386 INFO  ratis.MiniRaftCluster (MiniRaftCluster.java:newRaftServer(335)) - Formatted directory target/test/data/aaa4fccd/MiniRaftClusterWithNetty9708bfc2/s4
2019-09-24 12:04:54,387 INFO  impl.RaftServerProxy (ConfUtils.java:logGet(43)) - raft.rpc.type = NETTY (custom)
2019-09-24 12:04:54,390 INFO  netty.NettyConfigKeys$Server (ConfUtils.java:logGet(43)) - raft.netty.server.port = 43977 (custom)
2019-09-24 12:04:54,391 INFO  logging.LoggingHandler (AbstractInternalLogger.java:log(150)) - [id: 0xbff02252] REGISTERED
2019-09-24 12:04:54,391 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.rpc.timeout.min = 150ms (default)
2019-09-24 12:04:54,391 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.storage.dir = [/workdir/ratis-test/target/test/data/aaa4fccd/MiniRaftClusterWithNetty9708bfc2/s4] (custom)
2019-09-24 12:04:54,391 INFO  logging.LoggingHandler (AbstractInternalLogger.java:log(150)) - [id: 0xbff02252] BIND: 0.0.0.0/0.0.0.0:43977
2019-09-24 12:04:54,392 INFO  impl.RaftServerProxy (RaftServerProxy.java:addNew(89)) - s4: addNew group-B55F010AECEC:[s3:0.0.0.0:40896, s4:0.0.0.0:43977, s0:0.0.0.0:38561, s1:0.0.0.0:45613, s2:0.0.0.0:44259] returns group-B55F010AECEC:java.util.concurrent.CompletableFuture@631d1362[Not completed]
2019-09-24 12:04:54,392 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.rpc.timeout.max = 300ms (default)
2019-09-24 12:04:54,392 INFO  logging.LoggingHandler (AbstractInternalLogger.java:log(150)) - [id: 0xbff02252, L:/0.0.0.0:43977] ACTIVE
2019-09-24 12:04:54,393 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.rpcslowness.timeout = 60s (default)
2019-09-24 12:04:54,393 INFO  ratis.MiniRaftCluster (MiniRaftCluster.java:newRaftServer(330)) - newRaftServer: s0, group-B55F010AECEC:[s3:0.0.0.0:40896, s4:0.0.0.0:43977, s0:0.0.0.0:38561, s1:0.0.0.0:45613, s2:0.0.0.0:44259], format? true
2019-09-24 12:04:54,394 INFO  impl.RaftServerImpl (RaftServerImpl.java:<init>(95)) - s4: new RaftServerImpl for group-B55F010AECEC:[s3:0.0.0.0:40896, s4:0.0.0.0:43977, s0:0.0.0.0:38561, s1:0.0.0.0:45613, s2:0.0.0.0:44259] with BaseStateMachine:uninitialized
2019-09-24 12:04:54,394 TRACE util.FileUtils (FileUtils.java:deleteFully(88)) - deleteFully target/test/data/aaa4fccd/MiniRaftClusterWithNetty9708bfc2/s0
2019-09-24 12:04:54,394 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.rpc.timeout.min = 150ms (default)
2019-09-24 12:04:54,394 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.sleep.deviation.threshold = 300 (default)
2019-09-24 12:04:54,395 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.rpc.timeout.max = 300ms (default)
2019-09-24 12:04:54,395 TRACE util.FileUtils (FileUtils.java:deleteFully(104)) - deleteFully: target/test/data/aaa4fccd/MiniRaftClusterWithNetty9708bfc2/s0 does not exist.
2019-09-24 12:04:54,396 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.rpcslowness.timeout = 60s (default)
2019-09-24 12:04:54,396 INFO  ratis.MiniRaftCluster (MiniRaftCluster.java:newRaftServer(335)) - Formatted directory target/test/data/aaa4fccd/MiniRaftClusterWithNetty9708bfc2/s0
2019-09-24 12:04:54,397 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.sleep.deviation.threshold = 300 (default)
2019-09-24 12:04:54,397 INFO  impl.RaftServerProxy (ConfUtils.java:logGet(43)) - raft.rpc.type = NETTY (custom)
2019-09-24 12:04:54,399 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.log.appender.install.snapshot.enabled = true (default)
2019-09-24 12:04:54,400 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.log.appender.install.snapshot.enabled = true (default)
2019-09-24 12:04:54,400 INFO  netty.NettyConfigKeys$Server (ConfUtils.java:logGet(43)) - raft.netty.server.port = 38561 (custom)
2019-09-24 12:04:54,402 INFO  logging.LoggingHandler (AbstractInternalLogger.java:log(150)) - [id: 0x4de89b0d] REGISTERED
2019-09-24 12:04:54,402 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.storage.dir = [/workdir/ratis-test/target/test/data/aaa4fccd/MiniRaftClusterWithNetty9708bfc2/s0] (custom)
2019-09-24 12:04:54,402 INFO  logging.LoggingHandler (AbstractInternalLogger.java:log(150)) - [id: 0x4de89b0d] BIND: 0.0.0.0/0.0.0.0:38561
2019-09-24 12:04:54,403 INFO  impl.RaftServerProxy (RaftServerProxy.java:addNew(89)) - s0: addNew group-B55F010AECEC:[s3:0.0.0.0:40896, s4:0.0.0.0:43977, s0:0.0.0.0:38561, s1:0.0.0.0:45613, s2:0.0.0.0:44259] returns group-B55F010AECEC:java.util.concurrent.CompletableFuture@6356eeb5[Not completed]
2019-09-24 12:04:54,403 INFO  logging.LoggingHandler (AbstractInternalLogger.java:log(150)) - [id: 0x4de89b0d, L:/0.0.0.0:38561] ACTIVE
2019-09-24 12:04:54,404 INFO  ratis.MiniRaftCluster (MiniRaftCluster.java:newRaftServer(330)) - newRaftServer: s1, group-B55F010AECEC:[s3:0.0.0.0:40896, s4:0.0.0.0:43977, s0:0.0.0.0:38561, s1:0.0.0.0:45613, s2:0.0.0.0:44259], format? true
2019-09-24 12:04:54,404 INFO  impl.RaftServerImpl (RaftServerImpl.java:<init>(95)) - s0: new RaftServerImpl for group-B55F010AECEC:[s3:0.0.0.0:40896, s4:0.0.0.0:43977, s0:0.0.0.0:38561, s1:0.0.0.0:45613, s2:0.0.0.0:44259] with BaseStateMachine:uninitialized
2019-09-24 12:04:54,404 TRACE util.FileUtils (FileUtils.java:deleteFully(88)) - deleteFully target/test/data/aaa4fccd/MiniRaftClusterWithNetty9708bfc2/s1
2019-09-24 12:04:54,405 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.rpc.timeout.min = 150ms (default)
2019-09-24 12:04:54,405 TRACE util.FileUtils (FileUtils.java:deleteFully(104)) - deleteFully: target/test/data/aaa4fccd/MiniRaftClusterWithNetty9708bfc2/s1 does not exist.
2019-09-24 12:04:54,405 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.rpc.timeout.max = 300ms (default)
2019-09-24 12:04:54,405 INFO  ratis.MiniRaftCluster (MiniRaftCluster.java:newRaftServer(335)) - Formatted directory target/test/data/aaa4fccd/MiniRaftClusterWithNetty9708bfc2/s1
2019-09-24 12:04:54,406 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.rpcslowness.timeout = 60s (default)
2019-09-24 12:04:54,406 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.sleep.deviation.threshold = 300 (default)
2019-09-24 12:04:54,406 INFO  impl.RaftServerProxy (ConfUtils.java:logGet(43)) - raft.rpc.type = NETTY (custom)
2019-09-24 12:04:54,407 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.log.appender.install.snapshot.enabled = true (default)
2019-09-24 12:04:54,409 INFO  impl.RaftServerImpl (ServerState.java:<init>(103)) - s3@group-B55F010AECEC: ConfigurationManager, init=-1: [s3:0.0.0.0:40896, s4:0.0.0.0:43977, s0:0.0.0.0:38561, s1:0.0.0.0:45613, s2:0.0.0.0:44259], old=null, confs=<EMPTY_MAP>
2019-09-24 12:04:54,409 INFO  netty.NettyConfigKeys$Server (ConfUtils.java:logGet(43)) - raft.netty.server.port = 45613 (custom)
2019-09-24 12:04:54,409 INFO  impl.RaftServerImpl (ServerState.java:<init>(103)) - s0@group-B55F010AECEC: ConfigurationManager, init=-1: [s3:0.0.0.0:40896, s4:0.0.0.0:43977, s0:0.0.0.0:38561, s1:0.0.0.0:45613, s2:0.0.0.0:44259], old=null, confs=<EMPTY_MAP>
2019-09-24 12:04:54,409 INFO  impl.RaftServerImpl (ServerState.java:<init>(103)) - s4@group-B55F010AECEC: ConfigurationManager, init=-1: [s3:0.0.0.0:40896, s4:0.0.0.0:43977, s0:0.0.0.0:38561, s1:0.0.0.0:45613, s2:0.0.0.0:44259], old=null, confs=<EMPTY_MAP>
2019-09-24 12:04:54,410 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.storage.dir = [/workdir/ratis-test/target/test/data/aaa4fccd/MiniRaftClusterWithNetty9708bfc2/s0] (custom)
2019-09-24 12:04:54,410 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.storage.dir = [/workdir/ratis-test/target/test/data/aaa4fccd/MiniRaftClusterWithNetty9708bfc2/s1] (custom)
2019-09-24 12:04:54,410 INFO  logging.LoggingHandler (AbstractInternalLogger.java:log(150)) - [id: 0x21558c29] REGISTERED
2019-09-24 12:04:54,410 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.storage.dir = [/workdir/ratis-test/target/test/data/aaa4fccd/MiniRaftClusterWithNetty9708bfc2/s3] (custom)
2019-09-24 12:04:54,411 INFO  logging.LoggingHandler (AbstractInternalLogger.java:log(150)) - [id: 0x21558c29] BIND: 0.0.0.0/0.0.0.0:45613
2019-09-24 12:04:54,411 INFO  impl.RaftServerProxy (RaftServerProxy.java:addNew(89)) - s1: addNew group-B55F010AECEC:[s3:0.0.0.0:40896, s4:0.0.0.0:43977, s0:0.0.0.0:38561, s1:0.0.0.0:45613, s2:0.0.0.0:44259] returns group-B55F010AECEC:java.util.concurrent.CompletableFuture@6e1e2a32[Not completed]
2019-09-24 12:04:54,411 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.storage.dir = [/workdir/ratis-test/target/test/data/aaa4fccd/MiniRaftClusterWithNetty9708bfc2/s4] (custom)
2019-09-24 12:04:54,412 INFO  logging.LoggingHandler (AbstractInternalLogger.java:log(150)) - [id: 0x21558c29, L:/0.0.0.0:45613] ACTIVE
2019-09-24 12:04:54,412 INFO  impl.RaftServerImpl (RaftServerImpl.java:<init>(95)) - s1: new RaftServerImpl for group-B55F010AECEC:[s3:0.0.0.0:40896, s4:0.0.0.0:43977, s0:0.0.0.0:38561, s1:0.0.0.0:45613, s2:0.0.0.0:44259] with BaseStateMachine:uninitialized
2019-09-24 12:04:54,413 INFO  ratis.MiniRaftCluster (MiniRaftCluster.java:newRaftServer(330)) - newRaftServer: s2, group-B55F010AECEC:[s3:0.0.0.0:40896, s4:0.0.0.0:43977, s0:0.0.0.0:38561, s1:0.0.0.0:45613, s2:0.0.0.0:44259], format? true
2019-09-24 12:04:54,413 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.rpc.timeout.min = 150ms (default)
2019-09-24 12:04:54,413 TRACE util.FileUtils (FileUtils.java:deleteFully(88)) - deleteFully target/test/data/aaa4fccd/MiniRaftClusterWithNetty9708bfc2/s2
2019-09-24 12:04:54,414 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.rpc.timeout.max = 300ms (default)
2019-09-24 12:04:54,414 TRACE util.FileUtils (FileUtils.java:deleteFully(104)) - deleteFully: target/test/data/aaa4fccd/MiniRaftClusterWithNetty9708bfc2/s2 does not exist.
2019-09-24 12:04:54,414 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.rpcslowness.timeout = 60s (default)
2019-09-24 12:04:54,414 INFO  ratis.MiniRaftCluster (MiniRaftCluster.java:newRaftServer(335)) - Formatted directory target/test/data/aaa4fccd/MiniRaftClusterWithNetty9708bfc2/s2
2019-09-24 12:04:54,415 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.sleep.deviation.threshold = 300 (default)
2019-09-24 12:04:54,415 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.log.appender.install.snapshot.enabled = true (default)
2019-09-24 12:04:54,415 INFO  impl.RaftServerProxy (ConfUtils.java:logGet(43)) - raft.rpc.type = NETTY (custom)
2019-09-24 12:04:54,416 INFO  impl.RaftServerImpl (ServerState.java:<init>(103)) - s1@group-B55F010AECEC: ConfigurationManager, init=-1: [s3:0.0.0.0:40896, s4:0.0.0.0:43977, s0:0.0.0.0:38561, s1:0.0.0.0:45613, s2:0.0.0.0:44259], old=null, confs=<EMPTY_MAP>
2019-09-24 12:04:54,416 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.storage.dir = [/workdir/ratis-test/target/test/data/aaa4fccd/MiniRaftClusterWithNetty9708bfc2/s1] (custom)
2019-09-24 12:04:54,418 INFO  netty.NettyConfigKeys$Server (ConfUtils.java:logGet(43)) - raft.netty.server.port = 44259 (custom)
2019-09-24 12:04:54,419 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.storage.dir = [/workdir/ratis-test/target/test/data/aaa4fccd/MiniRaftClusterWithNetty9708bfc2/s2] (custom)
2019-09-24 12:04:54,419 INFO  logging.LoggingHandler (AbstractInternalLogger.java:log(150)) - [id: 0x9ab02c3c] REGISTERED
2019-09-24 12:04:54,420 INFO  impl.RaftServerProxy (RaftServerProxy.java:addNew(89)) - s2: addNew group-B55F010AECEC:[s3:0.0.0.0:40896, s4:0.0.0.0:43977, s0:0.0.0.0:38561, s1:0.0.0.0:45613, s2:0.0.0.0:44259] returns group-B55F010AECEC:java.util.concurrent.CompletableFuture@3a224f14[Not completed]
2019-09-24 12:04:54,420 INFO  logging.LoggingHandler (AbstractInternalLogger.java:log(150)) - [id: 0x9ab02c3c] BIND: 0.0.0.0/0.0.0.0:44259
2019-09-24 12:04:54,420 INFO  logging.LoggingHandler (AbstractInternalLogger.java:log(150)) - [id: 0x9ab02c3c, L:/0.0.0.0:44259] ACTIVE
2019-09-24 12:04:54,421 INFO  impl.RaftServerImpl (RaftServerImpl.java:<init>(95)) - s2: new RaftServerImpl for group-B55F010AECEC:[s3:0.0.0.0:40896, s4:0.0.0.0:43977, s0:0.0.0.0:38561, s1:0.0.0.0:45613, s2:0.0.0.0:44259] with BaseStateMachine:uninitialized
2019-09-24 12:04:54,421 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.rpc.timeout.min = 150ms (default)
2019-09-24 12:04:54,421 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.rpc.timeout.max = 300ms (default)
2019-09-24 12:04:54,421 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.rpcslowness.timeout = 60s (default)
2019-09-24 12:04:54,422 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.sleep.deviation.threshold = 300 (default)
2019-09-24 12:04:54,422 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.log.appender.install.snapshot.enabled = true (default)
2019-09-24 12:04:54,422 INFO  impl.RaftServerImpl (ServerState.java:<init>(103)) - s2@group-B55F010AECEC: ConfigurationManager, init=-1: [s3:0.0.0.0:40896, s4:0.0.0.0:43977, s0:0.0.0.0:38561, s1:0.0.0.0:45613, s2:0.0.0.0:44259], old=null, confs=<EMPTY_MAP>
2019-09-24 12:04:54,422 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.storage.dir = [/workdir/ratis-test/target/test/data/aaa4fccd/MiniRaftClusterWithNetty9708bfc2/s2] (custom)
2019-09-24 12:04:54,426 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.log.corruption.policy = EXCEPTION (default)
2019-09-24 12:04:54,426 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.log.corruption.policy = EXCEPTION (default)
2019-09-24 12:04:54,426 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.log.corruption.policy = EXCEPTION (default)
2019-09-24 12:04:54,426 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.log.corruption.policy = EXCEPTION (default)
2019-09-24 12:04:54,426 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.log.corruption.policy = EXCEPTION (default)
2019-09-24 12:04:54,428 INFO  storage.RaftStorageDirectory (RaftStorageDirectory.java:analyzeStorage(246)) - The storage directory /workdir/ratis-test/target/test/data/aaa4fccd/MiniRaftClusterWithNetty9708bfc2/s3/51504d50-cd5d-4be6-800a-b55f010aecec does not exist. Creating ...
2019-09-24 12:04:54,428 INFO  storage.RaftStorageDirectory (RaftStorageDirectory.java:analyzeStorage(246)) - The storage directory /workdir/ratis-test/target/test/data/aaa4fccd/MiniRaftClusterWithNetty9708bfc2/s0/51504d50-cd5d-4be6-800a-b55f010aecec does not exist. Creating ...
2019-09-24 12:04:54,428 INFO  storage.RaftStorageDirectory (RaftStorageDirectory.java:analyzeStorage(246)) - The storage directory /workdir/ratis-test/target/test/data/aaa4fccd/MiniRaftClusterWithNetty9708bfc2/s1/51504d50-cd5d-4be6-800a-b55f010aecec does not exist. Creating ...
2019-09-24 12:04:54,428 INFO  storage.RaftStorageDirectory (RaftStorageDirectory.java:analyzeStorage(246)) - The storage directory /workdir/ratis-test/target/test/data/aaa4fccd/MiniRaftClusterWithNetty9708bfc2/s4/51504d50-cd5d-4be6-800a-b55f010aecec does not exist. Creating ...
2019-09-24 12:04:54,428 INFO  storage.RaftStorageDirectory (RaftStorageDirectory.java:analyzeStorage(246)) - The storage directory /workdir/ratis-test/target/test/data/aaa4fccd/MiniRaftClusterWithNetty9708bfc2/s2/51504d50-cd5d-4be6-800a-b55f010aecec does not exist. Creating ...
2019-09-24 12:04:54,431 TRACE util.FileUtils (LogUtils.java:runAndLog(61)) - Successfully ran Files.createDirectories /workdir/ratis-test/target/test/data/aaa4fccd/MiniRaftClusterWithNetty9708bfc2/s2/51504d50-cd5d-4be6-800a-b55f010aecec
2019-09-24 12:04:54,432 TRACE util.FileUtils (LogUtils.java:runAndLog(61)) - Successfully ran Files.createDirectories /workdir/ratis-test/target/test/data/aaa4fccd/MiniRaftClusterWithNetty9708bfc2/s4/51504d50-cd5d-4be6-800a-b55f010aecec
2019-09-24 12:04:54,432 TRACE util.FileUtils (LogUtils.java:runAndLog(61)) - Successfully ran Files.createDirectories /workdir/ratis-test/target/test/data/aaa4fccd/MiniRaftClusterWithNetty9708bfc2/s1/51504d50-cd5d-4be6-800a-b55f010aecec
2019-09-24 12:04:54,432 TRACE util.FileUtils (LogUtils.java:runAndLog(61)) - Successfully ran Files.createDirectories /workdir/ratis-test/target/test/data/aaa4fccd/MiniRaftClusterWithNetty9708bfc2/s3/51504d50-cd5d-4be6-800a-b55f010aecec
2019-09-24 12:04:54,432 TRACE util.FileUtils (LogUtils.java:runAndLog(61)) - Successfully ran Files.createDirectories /workdir/ratis-test/target/test/data/aaa4fccd/MiniRaftClusterWithNetty9708bfc2/s0/51504d50-cd5d-4be6-800a-b55f010aecec
2019-09-24 12:04:54,475 INFO  storage.RaftStorageDirectory (RaftStorageDirectory.java:tryLock(328)) - Lock on /workdir/ratis-test/target/test/data/aaa4fccd/MiniRaftClusterWithNetty9708bfc2/s0/51504d50-cd5d-4be6-800a-b55f010aecec/in_use.lock acquired by nodename 2153@ratis-test-nppbd-817190658
2019-09-24 12:04:54,475 INFO  storage.RaftStorageDirectory (RaftStorageDirectory.java:tryLock(328)) - Lock on /workdir/ratis-test/target/test/data/aaa4fccd/MiniRaftClusterWithNetty9708bfc2/s3/51504d50-cd5d-4be6-800a-b55f010aecec/in_use.lock acquired by nodename 2153@ratis-test-nppbd-817190658
2019-09-24 12:04:54,475 INFO  storage.RaftStorageDirectory (RaftStorageDirectory.java:tryLock(328)) - Lock on /workdir/ratis-test/target/test/data/aaa4fccd/MiniRaftClusterWithNetty9708bfc2/s2/51504d50-cd5d-4be6-800a-b55f010aecec/in_use.lock acquired by nodename 2153@ratis-test-nppbd-817190658
2019-09-24 12:04:54,475 INFO  storage.RaftStorageDirectory (RaftStorageDirectory.java:tryLock(328)) - Lock on /workdir/ratis-test/target/test/data/aaa4fccd/MiniRaftClusterWithNetty9708bfc2/s4/51504d50-cd5d-4be6-800a-b55f010aecec/in_use.lock acquired by nodename 2153@ratis-test-nppbd-817190658
2019-09-24 12:04:54,476 TRACE util.FileUtils (LogUtils.java:runAndLog(61)) - Successfully ran Files.createDirectories /workdir/ratis-test/target/test/data/aaa4fccd/MiniRaftClusterWithNetty9708bfc2/s3/51504d50-cd5d-4be6-800a-b55f010aecec/current
2019-09-24 12:04:54,475 INFO  storage.RaftStorageDirectory (RaftStorageDirectory.java:tryLock(328)) - Lock on /workdir/ratis-test/target/test/data/aaa4fccd/MiniRaftClusterWithNetty9708bfc2/s1/51504d50-cd5d-4be6-800a-b55f010aecec/in_use.lock acquired by nodename 2153@ratis-test-nppbd-817190658
2019-09-24 12:04:54,477 TRACE util.FileUtils (LogUtils.java:runAndLog(61)) - Successfully ran Files.createDirectories /workdir/ratis-test/target/test/data/aaa4fccd/MiniRaftClusterWithNetty9708bfc2/s3/51504d50-cd5d-4be6-800a-b55f010aecec/sm
2019-09-24 12:04:54,477 TRACE util.FileUtils (LogUtils.java:runAndLog(61)) - Successfully ran Files.createDirectories /workdir/ratis-test/target/test/data/aaa4fccd/MiniRaftClusterWithNetty9708bfc2/s1/51504d50-cd5d-4be6-800a-b55f010aecec/current
2019-09-24 12:04:54,477 TRACE util.FileUtils (LogUtils.java:runAndLog(61)) - Successfully ran Files.createDirectories /workdir/ratis-test/target/test/data/aaa4fccd/MiniRaftClusterWithNetty9708bfc2/s4/51504d50-cd5d-4be6-800a-b55f010aecec/current
2019-09-24 12:04:54,476 TRACE util.FileUtils (LogUtils.java:runAndLog(61)) - Successfully ran Files.createDirectories /workdir/ratis-test/target/test/data/aaa4fccd/MiniRaftClusterWithNetty9708bfc2/s0/51504d50-cd5d-4be6-800a-b55f010aecec/current
2019-09-24 12:04:54,476 TRACE util.FileUtils (LogUtils.java:runAndLog(61)) - Successfully ran Files.createDirectories /workdir/ratis-test/target/test/data/aaa4fccd/MiniRaftClusterWithNetty9708bfc2/s2/51504d50-cd5d-4be6-800a-b55f010aecec/current
2019-09-24 12:04:54,478 TRACE util.FileUtils (LogUtils.java:runAndLog(61)) - Successfully ran Files.createDirectories /workdir/ratis-test/target/test/data/aaa4fccd/MiniRaftClusterWithNetty9708bfc2/s0/51504d50-cd5d-4be6-800a-b55f010aecec/sm
2019-09-24 12:04:54,478 TRACE util.FileUtils (LogUtils.java:runAndLog(61)) - Successfully ran Files.createDirectories /workdir/ratis-test/target/test/data/aaa4fccd/MiniRaftClusterWithNetty9708bfc2/s4/51504d50-cd5d-4be6-800a-b55f010aecec/sm
2019-09-24 12:04:54,477 TRACE util.FileUtils (LogUtils.java:runAndLog(61)) - Successfully ran Files.createDirectories /workdir/ratis-test/target/test/data/aaa4fccd/MiniRaftClusterWithNetty9708bfc2/s1/51504d50-cd5d-4be6-800a-b55f010aecec/sm
2019-09-24 12:04:54,478 TRACE util.FileUtils (LogUtils.java:runAndLog(61)) - Successfully ran Files.createDirectories /workdir/ratis-test/target/test/data/aaa4fccd/MiniRaftClusterWithNetty9708bfc2/s2/51504d50-cd5d-4be6-800a-b55f010aecec/sm
2019-09-24 12:04:54,515 INFO  storage.RaftStorage (RaftStorage.java:format(84)) - Storage directory /workdir/ratis-test/target/test/data/aaa4fccd/MiniRaftClusterWithNetty9708bfc2/s3/51504d50-cd5d-4be6-800a-b55f010aecec has been successfully formatted.
2019-09-24 12:04:54,515 INFO  storage.RaftStorage (RaftStorage.java:format(84)) - Storage directory /workdir/ratis-test/target/test/data/aaa4fccd/MiniRaftClusterWithNetty9708bfc2/s4/51504d50-cd5d-4be6-800a-b55f010aecec has been successfully formatted.
2019-09-24 12:04:54,515 INFO  storage.RaftStorage (RaftStorage.java:format(84)) - Storage directory /workdir/ratis-test/target/test/data/aaa4fccd/MiniRaftClusterWithNetty9708bfc2/s1/51504d50-cd5d-4be6-800a-b55f010aecec has been successfully formatted.
2019-09-24 12:04:54,515 INFO  storage.RaftStorage (RaftStorage.java:format(84)) - Storage directory /workdir/ratis-test/target/test/data/aaa4fccd/MiniRaftClusterWithNetty9708bfc2/s2/51504d50-cd5d-4be6-800a-b55f010aecec has been successfully formatted.
2019-09-24 12:04:54,515 INFO  storage.RaftStorage (RaftStorage.java:format(84)) - Storage directory /workdir/ratis-test/target/test/data/aaa4fccd/MiniRaftClusterWithNetty9708bfc2/s0/51504d50-cd5d-4be6-800a-b55f010aecec has been successfully formatted.
2019-09-24 12:04:54,517 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.notification.no-leader.timeout = 60s (default)
2019-09-24 12:04:54,517 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.notification.no-leader.timeout = 60s (default)
2019-09-24 12:04:54,517 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.notification.no-leader.timeout = 60s (default)
2019-09-24 12:04:54,517 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.notification.no-leader.timeout = 60s (default)
2019-09-24 12:04:54,517 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.notification.no-leader.timeout = 60s (default)
2019-09-24 12:04:54,520 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.log.use.memory = false (default)
2019-09-24 12:04:54,521 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.log.use.memory = false (default)
2019-09-24 12:04:54,521 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.log.use.memory = false (default)
2019-09-24 12:04:54,521 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.log.use.memory = false (default)
2019-09-24 12:04:54,521 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.log.use.memory = false (default)
2019-09-24 12:04:54,529 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.log.purge.gap = 1024 (default)
2019-09-24 12:04:54,529 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.log.purge.gap = 1024 (default)
2019-09-24 12:04:54,529 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.log.purge.gap = 1024 (default)
2019-09-24 12:04:54,529 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.log.purge.gap = 1024 (default)
2019-09-24 12:04:54,529 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.log.purge.gap = 1024 (default)
2019-09-24 12:04:54,530 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.log.appender.buffer.byte-limit = 4MB (=4194304) (default)
2019-09-24 12:04:54,530 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.log.appender.buffer.byte-limit = 4MB (=4194304) (default)
2019-09-24 12:04:54,530 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.log.appender.buffer.byte-limit = 4MB (=4194304) (default)
2019-09-24 12:04:54,530 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.log.appender.buffer.byte-limit = 4MB (=4194304) (default)
2019-09-24 12:04:54,530 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.log.appender.buffer.byte-limit = 4MB (=4194304) (default)
2019-09-24 12:04:54,534 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.log.segment.size.max = 8MB (=8388608) (default)
2019-09-24 12:04:54,534 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.log.segment.size.max = 8MB (=8388608) (default)
2019-09-24 12:04:54,534 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.log.segment.size.max = 8MB (=8388608) (default)
2019-09-24 12:04:54,534 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.log.segment.size.max = 8MB (=8388608) (default)
2019-09-24 12:04:54,535 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.log.segment.size.max = 8MB (=8388608) (default)
2019-09-24 12:04:54,538 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.log.segment.cache.num.max = 6 (default)
2019-09-24 12:04:54,538 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.log.segment.cache.num.max = 6 (default)
2019-09-24 12:04:54,538 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.log.segment.cache.num.max = 6 (default)
2019-09-24 12:04:54,538 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.log.segment.cache.num.max = 6 (default)
2019-09-24 12:04:54,538 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.log.segment.cache.num.max = 6 (default)
2019-09-24 12:04:54,543 INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:<init>(172)) - new s3@group-B55F010AECEC-SegmentedRaftLogWorker for RaftStorage:Storage Directory /workdir/ratis-test/target/test/data/aaa4fccd/MiniRaftClusterWithNetty9708bfc2/s3/51504d50-cd5d-4be6-800a-b55f010aecec
2019-09-24 12:04:54,543 INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:<init>(172)) - new s0@group-B55F010AECEC-SegmentedRaftLogWorker for RaftStorage:Storage Directory /workdir/ratis-test/target/test/data/aaa4fccd/MiniRaftClusterWithNetty9708bfc2/s0/51504d50-cd5d-4be6-800a-b55f010aecec
2019-09-24 12:04:54,543 INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:<init>(172)) - new s1@group-B55F010AECEC-SegmentedRaftLogWorker for RaftStorage:Storage Directory /workdir/ratis-test/target/test/data/aaa4fccd/MiniRaftClusterWithNetty9708bfc2/s1/51504d50-cd5d-4be6-800a-b55f010aecec
2019-09-24 12:04:54,543 INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:<init>(172)) - new s2@group-B55F010AECEC-SegmentedRaftLogWorker for RaftStorage:Storage Directory /workdir/ratis-test/target/test/data/aaa4fccd/MiniRaftClusterWithNetty9708bfc2/s2/51504d50-cd5d-4be6-800a-b55f010aecec
2019-09-24 12:04:54,543 INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:<init>(172)) - new s4@group-B55F010AECEC-SegmentedRaftLogWorker for RaftStorage:Storage Directory /workdir/ratis-test/target/test/data/aaa4fccd/MiniRaftClusterWithNetty9708bfc2/s4/51504d50-cd5d-4be6-800a-b55f010aecec
2019-09-24 12:04:54,618 WARN  impl.MetricsConfig (MetricsConfig.java:loadFirst(124)) - Cannot locate configuration: tried hadoop-metrics2-ratis.properties,hadoop-metrics2.properties
2019-09-24 12:04:54,715 INFO  impl.MetricsSystemImpl (MetricsSystemImpl.java:startTimer(376)) - Scheduled snapshot period at 10 second(s).
2019-09-24 12:04:54,715 INFO  impl.MetricsSystemImpl (MetricsSystemImpl.java:start(191)) - ratis metrics system started
2019-09-24 12:04:54,721 INFO  metrics.MetricRegistries (MetricRegistriesLoader.java:load(64)) - Loaded MetricRegistries class org.apache.ratis.metrics.impl.MetricRegistriesImpl
2019-09-24 12:04:54,768 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.log.queue.byte-limit = 64MB (=67108864) (default)
2019-09-24 12:04:54,768 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.log.queue.byte-limit = 64MB (=67108864) (default)
2019-09-24 12:04:54,768 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.log.queue.byte-limit = 64MB (=67108864) (default)
2019-09-24 12:04:54,768 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.log.queue.byte-limit = 64MB (=67108864) (default)
2019-09-24 12:04:54,768 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.log.queue.byte-limit = 64MB (=67108864) (default)
2019-09-24 12:04:54,769 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.log.queue.element-limit = 4096 (default)
2019-09-24 12:04:54,769 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.log.queue.element-limit = 4096 (default)
2019-09-24 12:04:54,769 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.log.queue.element-limit = 4096 (default)
2019-09-24 12:04:54,768 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.log.queue.element-limit = 4096 (default)
2019-09-24 12:04:54,768 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.log.queue.element-limit = 4096 (default)
2019-09-24 12:04:54,772 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.log.segment.size.max = 8MB (=8388608) (default)
2019-09-24 12:04:54,772 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.log.segment.size.max = 8MB (=8388608) (default)
2019-09-24 12:04:54,773 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.log.segment.size.max = 8MB (=8388608) (default)
2019-09-24 12:04:54,772 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.log.segment.size.max = 8MB (=8388608) (default)
2019-09-24 12:04:54,772 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.log.segment.size.max = 8MB (=8388608) (default)
2019-09-24 12:04:54,773 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.log.preallocated.size = 4MB (=4194304) (default)
2019-09-24 12:04:54,773 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.log.preallocated.size = 4MB (=4194304) (default)
2019-09-24 12:04:54,773 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.log.preallocated.size = 4MB (=4194304) (default)
2019-09-24 12:04:54,773 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.log.preallocated.size = 4MB (=4194304) (default)
2019-09-24 12:04:54,774 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.log.write.buffer.size = 64KB (=65536) (default)
2019-09-24 12:04:54,773 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.log.preallocated.size = 4MB (=4194304) (default)
2019-09-24 12:04:54,774 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.log.write.buffer.size = 64KB (=65536) (default)
2019-09-24 12:04:54,774 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.log.write.buffer.size = 64KB (=65536) (default)
2019-09-24 12:04:54,774 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.log.write.buffer.size = 64KB (=65536) (default)
2019-09-24 12:04:54,775 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.log.force.sync.num = 128 (default)
2019-09-24 12:04:54,775 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.log.force.sync.num = 128 (default)
2019-09-24 12:04:54,775 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.log.write.buffer.size = 64KB (=65536) (default)
2019-09-24 12:04:54,775 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.log.force.sync.num = 128 (default)
2019-09-24 12:04:54,775 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.log.force.sync.num = 128 (default)
2019-09-24 12:04:54,776 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.log.force.sync.num = 128 (default)
2019-09-24 12:04:54,777 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.log.statemachine.data.sync = true (default)
2019-09-24 12:04:54,777 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.log.statemachine.data.sync = true (default)
2019-09-24 12:04:54,777 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.log.statemachine.data.sync = true (default)
2019-09-24 12:04:54,777 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.log.statemachine.data.sync = true (default)
2019-09-24 12:04:54,777 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.log.statemachine.data.sync = true (default)
2019-09-24 12:04:54,778 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.log.statemachine.data.sync.timeout = 10s (default)
2019-09-24 12:04:54,778 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.log.statemachine.data.sync.timeout = 10s (default)
2019-09-24 12:04:54,777 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.log.statemachine.data.sync.timeout = 10s (default)
2019-09-24 12:04:54,777 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.log.statemachine.data.sync.timeout = 10s (default)
2019-09-24 12:04:54,778 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.log.statemachine.data.sync.timeout = 10s (default)
2019-09-24 12:04:54,779 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.log.statemachine.data.sync.timeout.retry = -1 (default)
2019-09-24 12:04:54,779 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.log.statemachine.data.sync.timeout.retry = -1 (default)
2019-09-24 12:04:54,779 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.log.statemachine.data.sync.timeout.retry = -1 (default)
2019-09-24 12:04:54,779 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.log.statemachine.data.sync.timeout.retry = -1 (default)
2019-09-24 12:04:54,779 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.log.statemachine.data.sync.timeout.retry = -1 (default)
2019-09-24 12:04:54,794 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.log.statemachine.data.caching.enabled = false (default)
2019-09-24 12:04:54,794 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.log.statemachine.data.caching.enabled = false (default)
2019-09-24 12:04:54,794 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.log.statemachine.data.caching.enabled = false (default)
2019-09-24 12:04:54,794 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.log.statemachine.data.caching.enabled = false (default)
2019-09-24 12:04:54,794 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.log.statemachine.data.caching.enabled = false (default)
2019-09-24 12:04:54,802 INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:lambda$new$0(132)) - s1@group-B55F010AECEC-SegmentedRaftLogWorker: flushIndex: setUnconditionally 0 -> -1
2019-09-24 12:04:54,802 INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:lambda$new$0(132)) - s4@group-B55F010AECEC-SegmentedRaftLogWorker: flushIndex: setUnconditionally 0 -> -1
2019-09-24 12:04:54,802 INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:lambda$new$0(132)) - s2@group-B55F010AECEC-SegmentedRaftLogWorker: flushIndex: setUnconditionally 0 -> -1
2019-09-24 12:04:54,802 INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:lambda$new$0(132)) - s0@group-B55F010AECEC-SegmentedRaftLogWorker: flushIndex: setUnconditionally 0 -> -1
2019-09-24 12:04:54,802 INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:lambda$new$0(132)) - s3@group-B55F010AECEC-SegmentedRaftLogWorker: flushIndex: setUnconditionally 0 -> -1
2019-09-24 12:04:54,809 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.snapshot.auto.trigger.enabled = false (default)
2019-09-24 12:04:54,809 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.snapshot.auto.trigger.enabled = false (default)
2019-09-24 12:04:54,809 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.snapshot.auto.trigger.enabled = false (default)
2019-09-24 12:04:54,809 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.snapshot.auto.trigger.enabled = false (default)
2019-09-24 12:04:54,809 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.snapshot.auto.trigger.enabled = false (default)
2019-09-24 12:04:54,809 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.snapshot.retention.file.num = -1 (default)
2019-09-24 12:04:54,810 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.snapshot.retention.file.num = -1 (default)
2019-09-24 12:04:54,809 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.snapshot.retention.file.num = -1 (default)
2019-09-24 12:04:54,809 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.snapshot.retention.file.num = -1 (default)
2019-09-24 12:04:54,810 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.snapshot.retention.file.num = -1 (default)
2019-09-24 12:04:54,811 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.retrycache.expirytime = 60s (default)
2019-09-24 12:04:54,811 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.retrycache.expirytime = 60s (default)
2019-09-24 12:04:54,811 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.retrycache.expirytime = 60s (default)
2019-09-24 12:04:54,811 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.retrycache.expirytime = 60s (default)
2019-09-24 12:04:54,811 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.retrycache.expirytime = 60s (default)
2019-09-24 12:04:54,851 INFO  impl.RaftServerImpl (RaftServerImpl.java:start(181)) - s3@group-B55F010AECEC: start as a follower, conf=-1: [s3:0.0.0.0:40896, s4:0.0.0.0:43977, s0:0.0.0.0:38561, s1:0.0.0.0:45613, s2:0.0.0.0:44259], old=null
2019-09-24 12:04:54,854 INFO  impl.RaftServerImpl (RaftServerImpl.java:setRole(170)) - s3@group-B55F010AECEC: changes role from      null to FOLLOWER at term 0 for startAsFollower
2019-09-24 12:04:54,856 INFO  impl.RoleInfo (RoleInfo.java:updateAndGet(143)) - s3: start FollowerState
2019-09-24 12:04:54,860 INFO  util.JmxRegister (JmxRegister.java:tryRegister(44)) - Successfully registered JMX Bean with object name Ratis:service=RaftServer,group=group-B55F010AECEC,id=s3
2019-09-24 12:04:54,871 INFO  impl.RaftServerProxy (RaftServerProxy.java:lambda$start$3(299)) - s3: start RPC server
2019-09-24 12:04:54,872 INFO  impl.RaftServerImpl (RaftServerImpl.java:start(181)) - s4@group-B55F010AECEC: start as a follower, conf=-1: [s3:0.0.0.0:40896, s4:0.0.0.0:43977, s0:0.0.0.0:38561, s1:0.0.0.0:45613, s2:0.0.0.0:44259], old=null
2019-09-24 12:04:54,872 INFO  impl.RaftServerImpl (RaftServerImpl.java:setRole(170)) - s4@group-B55F010AECEC: changes role from      null to FOLLOWER at term 0 for startAsFollower
2019-09-24 12:04:54,872 INFO  impl.RoleInfo (RoleInfo.java:updateAndGet(143)) - s4: start FollowerState
2019-09-24 12:04:54,873 INFO  util.JmxRegister (JmxRegister.java:tryRegister(44)) - Successfully registered JMX Bean with object name Ratis:service=RaftServer,group=group-B55F010AECEC,id=s4
2019-09-24 12:04:54,878 INFO  impl.RaftServerProxy (RaftServerProxy.java:lambda$start$3(299)) - s4: start RPC server
2019-09-24 12:04:54,879 INFO  impl.RaftServerImpl (RaftServerImpl.java:start(181)) - s0@group-B55F010AECEC: start as a follower, conf=-1: [s3:0.0.0.0:40896, s4:0.0.0.0:43977, s0:0.0.0.0:38561, s1:0.0.0.0:45613, s2:0.0.0.0:44259], old=null
2019-09-24 12:04:54,879 INFO  impl.RaftServerImpl (RaftServerImpl.java:setRole(170)) - s0@group-B55F010AECEC: changes role from      null to FOLLOWER at term 0 for startAsFollower
2019-09-24 12:04:54,879 INFO  impl.RoleInfo (RoleInfo.java:updateAndGet(143)) - s0: start FollowerState
2019-09-24 12:04:54,880 INFO  util.JmxRegister (JmxRegister.java:tryRegister(44)) - Successfully registered JMX Bean with object name Ratis:service=RaftServer,group=group-B55F010AECEC,id=s0
2019-09-24 12:04:54,885 INFO  impl.RaftServerProxy (RaftServerProxy.java:lambda$start$3(299)) - s0: start RPC server
2019-09-24 12:04:54,885 INFO  impl.RaftServerImpl (RaftServerImpl.java:start(181)) - s1@group-B55F010AECEC: start as a follower, conf=-1: [s3:0.0.0.0:40896, s4:0.0.0.0:43977, s0:0.0.0.0:38561, s1:0.0.0.0:45613, s2:0.0.0.0:44259], old=null
2019-09-24 12:04:54,886 INFO  impl.RaftServerImpl (RaftServerImpl.java:setRole(170)) - s1@group-B55F010AECEC: changes role from      null to FOLLOWER at term 0 for startAsFollower
2019-09-24 12:04:54,886 INFO  impl.RoleInfo (RoleInfo.java:updateAndGet(143)) - s1: start FollowerState
2019-09-24 12:04:54,887 INFO  util.JmxRegister (JmxRegister.java:tryRegister(44)) - Successfully registered JMX Bean with object name Ratis:service=RaftServer,group=group-B55F010AECEC,id=s1
2019-09-24 12:04:54,891 INFO  impl.RaftServerProxy (RaftServerProxy.java:lambda$start$3(299)) - s1: start RPC server
2019-09-24 12:04:54,892 INFO  impl.RaftServerImpl (RaftServerImpl.java:start(181)) - s2@group-B55F010AECEC: start as a follower, conf=-1: [s3:0.0.0.0:40896, s4:0.0.0.0:43977, s0:0.0.0.0:38561, s1:0.0.0.0:45613, s2:0.0.0.0:44259], old=null
2019-09-24 12:04:54,892 INFO  impl.RaftServerImpl (RaftServerImpl.java:setRole(170)) - s2@group-B55F010AECEC: changes role from      null to FOLLOWER at term 0 for startAsFollower
2019-09-24 12:04:54,892 INFO  impl.RoleInfo (RoleInfo.java:updateAndGet(143)) - s2: start FollowerState
2019-09-24 12:04:54,893 INFO  util.JmxRegister (JmxRegister.java:tryRegister(44)) - Successfully registered JMX Bean with object name Ratis:service=RaftServer,group=group-B55F010AECEC,id=s2
2019-09-24 12:04:54,897 INFO  impl.RaftServerProxy (RaftServerProxy.java:lambda$start$3(299)) - s2: start RPC server
2019-09-24 12:04:54,901 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.rpc.timeout.max = 300ms (default)
2019-09-24 12:04:54,906 INFO  ratis.RaftTestUtil (RaftTestUtil.java:waitForLeader(86)) - printing ALL groups
  s3:  RUNNING  FOLLOWER s3@group-B55F010AECEC:t0, leader=null, voted=null, raftlog=s3@group-B55F010AECEC-SegmentedRaftLog:OPENED:c-1,f-1,i0, conf=-1: [s3:0.0.0.0:40896, s4:0.0.0.0:43977, s0:0.0.0.0:38561, s1:0.0.0.0:45613, s2:0.0.0.0:44259], old=null RUNNING
  s4:  RUNNING  FOLLOWER s4@group-B55F010AECEC:t0, leader=null, voted=null, raftlog=s4@group-B55F010AECEC-SegmentedRaftLog:OPENED:c-1,f-1,i0, conf=-1: [s3:0.0.0.0:40896, s4:0.0.0.0:43977, s0:0.0.0.0:38561, s1:0.0.0.0:45613, s2:0.0.0.0:44259], old=null RUNNING
  s0:  RUNNING  FOLLOWER s0@group-B55F010AECEC:t0, leader=null, voted=null, raftlog=s0@group-B55F010AECEC-SegmentedRaftLog:OPENED:c-1,f-1,i0, conf=-1: [s3:0.0.0.0:40896, s4:0.0.0.0:43977, s0:0.0.0.0:38561, s1:0.0.0.0:45613, s2:0.0.0.0:44259], old=null RUNNING
  s1:  RUNNING  FOLLOWER s1@group-B55F010AECEC:t0, leader=null, voted=null, raftlog=s1@group-B55F010AECEC-SegmentedRaftLog:OPENED:c-1,f-1,i0, conf=-1: [s3:0.0.0.0:40896, s4:0.0.0.0:43977, s0:0.0.0.0:38561, s1:0.0.0.0:45613, s2:0.0.0.0:44259], old=null RUNNING
  s2:  RUNNING  FOLLOWER s2@group-B55F010AECEC:t0, leader=null, voted=null, raftlog=s2@group-B55F010AECEC-SegmentedRaftLog:OPENED:c-1,f-1,i0, conf=-1: [s3:0.0.0.0:40896, s4:0.0.0.0:43977, s0:0.0.0.0:38561, s1:0.0.0.0:45613, s2:0.0.0.0:44259], old=null RUNNING
2019-09-24 12:04:54,912 WARN  ratis.RaftTestUtil (JavaUtils.java:attempt(158)) - FAILED "waitForLeader-null-(expectLeader? true)", attempt #1/100: java.lang.IllegalStateException: No leader yet : printing ALL groups
  s3:  RUNNING  FOLLOWER s3@group-B55F010AECEC:t0, leader=null, voted=null, raftlog=s3@group-B55F010AECEC-SegmentedRaftLog:OPENED:c-1,f-1,i0, conf=-1: [s3:0.0.0.0:40896, s4:0.0.0.0:43977, s0:0.0.0.0:38561, s1:0.0.0.0:45613, s2:0.0.0.0:44259], old=null RUNNING
  s4:  RUNNING  FOLLOWER s4@group-B55F010AECEC:t0, leader=null, voted=null, raftlog=s4@group-B55F010AECEC-SegmentedRaftLog:OPENED:c-1,f-1,i0, conf=-1: [s3:0.0.0.0:40896, s4:0.0.0.0:43977, s0:0.0.0.0:38561, s1:0.0.0.0:45613, s2:0.0.0.0:44259], old=null RUNNING
  s0:  RUNNING  FOLLOWER s0@group-B55F010AECEC:t0, leader=null, voted=null, raftlog=s0@group-B55F010AECEC-SegmentedRaftLog:OPENED:c-1,f-1,i0, conf=-1: [s3:0.0.0.0:40896, s4:0.0.0.0:43977, s0:0.0.0.0:38561, s1:0.0.0.0:45613, s2:0.0.0.0:44259], old=null RUNNING
  s1:  RUNNING  FOLLOWER s1@group-B55F010AECEC:t0, leader=null, voted=null, raftlog=s1@group-B55F010AECEC-SegmentedRaftLog:OPENED:c-1,f-1,i0, conf=-1: [s3:0.0.0.0:40896, s4:0.0.0.0:43977, s0:0.0.0.0:38561, s1:0.0.0.0:45613, s2:0.0.0.0:44259], old=null RUNNING
  s2:  RUNNING  FOLLOWER s2@group-B55F010AECEC:t0, leader=null, voted=null, raftlog=s2@group-B55F010AECEC-SegmentedRaftLog:OPENED:c-1,f-1,i0, conf=-1: [s3:0.0.0.0:40896, s4:0.0.0.0:43977, s0:0.0.0.0:38561, s1:0.0.0.0:45613, s2:0.0.0.0:44259], old=null RUNNING, sleep 450ms and then retry.
java.lang.IllegalStateException: No leader yet : printing ALL groups
  s3:  RUNNING  FOLLOWER s3@group-B55F010AECEC:t0, leader=null, voted=null, raftlog=s3@group-B55F010AECEC-SegmentedRaftLog:OPENED:c-1,f-1,i0, conf=-1: [s3:0.0.0.0:40896, s4:0.0.0.0:43977, s0:0.0.0.0:38561, s1:0.0.0.0:45613, s2:0.0.0.0:44259], old=null RUNNING
  s4:  RUNNING  FOLLOWER s4@group-B55F010AECEC:t0, leader=null, voted=null, raftlog=s4@group-B55F010AECEC-SegmentedRaftLog:OPENED:c-1,f-1,i0, conf=-1: [s3:0.0.0.0:40896, s4:0.0.0.0:43977, s0:0.0.0.0:38561, s1:0.0.0.0:45613, s2:0.0.0.0:44259], old=null RUNNING
  s0:  RUNNING  FOLLOWER s0@group-B55F010AECEC:t0, leader=null, voted=null, raftlog=s0@group-B55F010AECEC-SegmentedRaftLog:OPENED:c-1,f-1,i0, conf=-1: [s3:0.0.0.0:40896, s4:0.0.0.0:43977, s0:0.0.0.0:38561, s1:0.0.0.0:45613, s2:0.0.0.0:44259], old=null RUNNING
  s1:  RUNNING  FOLLOWER s1@group-B55F010AECEC:t0, leader=null, voted=null, raftlog=s1@group-B55F010AECEC-SegmentedRaftLog:OPENED:c-1,f-1,i0, conf=-1: [s3:0.0.0.0:40896, s4:0.0.0.0:43977, s0:0.0.0.0:38561, s1:0.0.0.0:45613, s2:0.0.0.0:44259], old=null RUNNING
  s2:  RUNNING  FOLLOWER s2@group-B55F010AECEC:t0, leader=null, voted=null, raftlog=s2@group-B55F010AECEC-SegmentedRaftLog:OPENED:c-1,f-1,i0, conf=-1: [s3:0.0.0.0:40896, s4:0.0.0.0:43977, s0:0.0.0.0:38561, s1:0.0.0.0:45613, s2:0.0.0.0:44259], old=null RUNNING
	at org.apache.ratis.MiniRaftCluster.newIllegalStateExceptionForNoLeaders(MiniRaftCluster.java:506)
	at org.apache.ratis.RaftTestUtil.lambda$waitForLeader$1(RaftTestUtil.java:90)
	at org.apache.ratis.MiniRaftCluster.getLeader(MiniRaftCluster.java:539)
	at org.apache.ratis.MiniRaftCluster.getLeader(MiniRaftCluster.java:532)
	at org.apache.ratis.RaftTestUtil.lambda$waitForLeader$3(RaftTestUtil.java:98)
	at org.apache.ratis.util.JavaUtils.attempt(JavaUtils.java:152)
	at org.apache.ratis.RaftTestUtil.waitForLeader(RaftTestUtil.java:97)
	at org.apache.ratis.RaftTestUtil.waitForLeader(RaftTestUtil.java:77)
	at org.apache.ratis.RaftTestUtil.waitForLeader(RaftTestUtil.java:72)
	at org.apache.ratis.server.impl.LeaderElectionTests.testEnforceLeader(LeaderElectionTests.java:95)
	at org.apache.ratis.netty.TestLeaderElectionWithNetty.testEnforceLeader(TestLeaderElectionWithNetty.java:30)
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.lang.reflect.Method.invoke(Method.java:498)
	at org.junit.runners.model.FrameworkMethod$1.runReflectiveCall(FrameworkMethod.java:50)
	at org.junit.internal.runners.model.ReflectiveCallable.run(ReflectiveCallable.java:12)
	at org.junit.runners.model.FrameworkMethod.invokeExplosively(FrameworkMethod.java:47)
	at org.junit.internal.runners.statements.InvokeMethod.evaluate(InvokeMethod.java:17)
	at org.junit.internal.runners.statements.RunAfters.evaluate(RunAfters.java:27)
	at org.junit.internal.runners.statements.FailOnTimeout$CallableStatement.call(FailOnTimeout.java:298)
	at org.junit.internal.runners.statements.FailOnTimeout$CallableStatement.call(FailOnTimeout.java:292)
	at java.util.concurrent.FutureTask.run(FutureTask.java:266)
	at java.lang.Thread.run(Thread.java:748)
2019-09-24 12:04:55,062 INFO  impl.FollowerState (FollowerState.java:run(108)) - s2@group-B55F010AECEC-FollowerState: change to CANDIDATE, lastRpcTime:169ms, electionTimeout:169ms
2019-09-24 12:04:55,065 INFO  impl.RoleInfo (RoleInfo.java:shutdownFollowerState(121)) - s2: shutdown FollowerState
2019-09-24 12:04:55,065 INFO  impl.RaftServerImpl (RaftServerImpl.java:setRole(170)) - s2@group-B55F010AECEC: changes role from  FOLLOWER to CANDIDATE at term 0 for changeToCandidate
2019-09-24 12:04:55,069 INFO  impl.RoleInfo (RoleInfo.java:updateAndGet(143)) - s2: start LeaderElection
2019-09-24 12:04:55,083 INFO  impl.FollowerState (FollowerState.java:run(108)) - s4@group-B55F010AECEC-FollowerState: change to CANDIDATE, lastRpcTime:210ms, electionTimeout:210ms
2019-09-24 12:04:55,083 INFO  impl.RoleInfo (RoleInfo.java:shutdownFollowerState(121)) - s4: shutdown FollowerState
2019-09-24 12:04:55,084 INFO  impl.RaftServerImpl (RaftServerImpl.java:setRole(170)) - s4@group-B55F010AECEC: changes role from  FOLLOWER to CANDIDATE at term 0 for changeToCandidate
2019-09-24 12:04:55,084 INFO  impl.RoleInfo (RoleInfo.java:updateAndGet(143)) - s4: start LeaderElection
2019-09-24 12:04:55,085 INFO  impl.FollowerState (FollowerState.java:run(108)) - s1@group-B55F010AECEC-FollowerState: change to CANDIDATE, lastRpcTime:198ms, electionTimeout:198ms
2019-09-24 12:04:55,085 INFO  impl.RoleInfo (RoleInfo.java:shutdownFollowerState(121)) - s1: shutdown FollowerState
2019-09-24 12:04:55,086 INFO  impl.RaftServerImpl (RaftServerImpl.java:setRole(170)) - s1@group-B55F010AECEC: changes role from  FOLLOWER to CANDIDATE at term 0 for changeToCandidate
2019-09-24 12:04:55,086 INFO  impl.RoleInfo (RoleInfo.java:updateAndGet(143)) - s1: start LeaderElection
2019-09-24 12:04:55,091 INFO  impl.FollowerState (FollowerState.java:run(108)) - s0@group-B55F010AECEC-FollowerState: change to CANDIDATE, lastRpcTime:211ms, electionTimeout:211ms
2019-09-24 12:04:55,091 INFO  impl.RoleInfo (RoleInfo.java:shutdownFollowerState(121)) - s0: shutdown FollowerState
2019-09-24 12:04:55,092 INFO  impl.RaftServerImpl (RaftServerImpl.java:setRole(170)) - s0@group-B55F010AECEC: changes role from  FOLLOWER to CANDIDATE at term 0 for changeToCandidate
2019-09-24 12:04:55,092 INFO  impl.RoleInfo (RoleInfo.java:updateAndGet(143)) - s0: start LeaderElection
2019-09-24 12:04:55,096 INFO  impl.LeaderElection (LeaderElection.java:askForVotes(178)) - s2@group-B55F010AECEC-LeaderElection1: begin an election at term 1 for -1: [s3:0.0.0.0:40896, s4:0.0.0.0:43977, s0:0.0.0.0:38561, s1:0.0.0.0:45613, s2:0.0.0.0:44259], old=null
2019-09-24 12:04:55,099 INFO  impl.LeaderElection (LeaderElection.java:askForVotes(178)) - s0@group-B55F010AECEC-LeaderElection4: begin an election at term 1 for -1: [s3:0.0.0.0:40896, s4:0.0.0.0:43977, s0:0.0.0.0:38561, s1:0.0.0.0:45613, s2:0.0.0.0:44259], old=null
2019-09-24 12:04:55,099 INFO  impl.LeaderElection (LeaderElection.java:askForVotes(178)) - s1@group-B55F010AECEC-LeaderElection3: begin an election at term 1 for -1: [s3:0.0.0.0:40896, s4:0.0.0.0:43977, s0:0.0.0.0:38561, s1:0.0.0.0:45613, s2:0.0.0.0:44259], old=null
2019-09-24 12:04:55,099 INFO  impl.LeaderElection (LeaderElection.java:askForVotes(178)) - s4@group-B55F010AECEC-LeaderElection2: begin an election at term 1 for -1: [s3:0.0.0.0:40896, s4:0.0.0.0:43977, s0:0.0.0.0:38561, s1:0.0.0.0:45613, s2:0.0.0.0:44259], old=null
2019-09-24 12:04:55,156 INFO  impl.FollowerState (FollowerState.java:run(108)) - s3@group-B55F010AECEC-FollowerState: change to CANDIDATE, lastRpcTime:300ms, electionTimeout:299ms
2019-09-24 12:04:55,157 INFO  impl.RoleInfo (RoleInfo.java:shutdownFollowerState(121)) - s3: shutdown FollowerState
2019-09-24 12:04:55,157 INFO  impl.RaftServerImpl (RaftServerImpl.java:setRole(170)) - s3@group-B55F010AECEC: changes role from  FOLLOWER to CANDIDATE at term 0 for changeToCandidate
2019-09-24 12:04:55,157 INFO  impl.RoleInfo (RoleInfo.java:updateAndGet(143)) - s3: start LeaderElection
2019-09-24 12:04:55,216 INFO  impl.LeaderElection (LeaderElection.java:askForVotes(178)) - s3@group-B55F010AECEC-LeaderElection5: begin an election at term 1 for -1: [s3:0.0.0.0:40896, s4:0.0.0.0:43977, s0:0.0.0.0:38561, s1:0.0.0.0:45613, s2:0.0.0.0:44259], old=null
2019-09-24 12:04:55,350 INFO  logging.LoggingHandler (AbstractInternalLogger.java:log(150)) - [id: 0x9f7e2b0f, L:0.0.0.0/0.0.0.0:40896] READ: [id: 0x57875720, L:/192.168.34.44:40896 - R:/192.168.34.44:56248]
2019-09-24 12:04:55,350 INFO  logging.LoggingHandler (AbstractInternalLogger.java:log(150)) - [id: 0x4de89b0d, L:/0.0.0.0:38561] READ: [id: 0xdcd9f773, L:/192.168.34.44:38561 - R:/192.168.34.44:33686]
2019-09-24 12:04:55,350 INFO  logging.LoggingHandler (AbstractInternalLogger.java:log(150)) - [id: 0xbff02252, L:/0.0.0.0:43977] READ: [id: 0x5ab352a4, L:/192.168.34.44:43977 - R:/192.168.34.44:42242]
2019-09-24 12:04:55,350 INFO  logging.LoggingHandler (AbstractInternalLogger.java:log(150)) - [id: 0x21558c29, L:/0.0.0.0:45613] READ: [id: 0x10ad5f22, L:/192.168.34.44:45613 - R:/192.168.34.44:49498]
2019-09-24 12:04:55,350 INFO  logging.LoggingHandler (AbstractInternalLogger.java:log(150)) - [id: 0x9ab02c3c, L:/0.0.0.0:44259] READ: [id: 0x174bf1f3, L:/192.168.34.44:44259 - R:/192.168.34.44:43020]
2019-09-24 12:04:55,352 INFO  logging.LoggingHandler (AbstractInternalLogger.java:log(150)) - [id: 0x21558c29, L:/0.0.0.0:45613] READ COMPLETE
2019-09-24 12:04:55,351 INFO  logging.LoggingHandler (AbstractInternalLogger.java:log(150)) - [id: 0xbff02252, L:/0.0.0.0:43977] READ COMPLETE
2019-09-24 12:04:55,351 INFO  logging.LoggingHandler (AbstractInternalLogger.java:log(150)) - [id: 0x9f7e2b0f, L:0.0.0.0/0.0.0.0:40896] READ COMPLETE
2019-09-24 12:04:55,351 INFO  logging.LoggingHandler (AbstractInternalLogger.java:log(150)) - [id: 0x4de89b0d, L:/0.0.0.0:38561] READ COMPLETE
2019-09-24 12:04:55,351 INFO  impl.LeaderElection (LeaderElection.java:logAndReturn(56)) - s2@group-B55F010AECEC-LeaderElection1: Election TIMEOUT; received 0 response(s) [] and 0 exception(s); s2@group-B55F010AECEC:t1, leader=null, voted=s2, raftlog=s2@group-B55F010AECEC-SegmentedRaftLog:OPENED:c-1,f-1,i0, conf=-1: [s3:0.0.0.0:40896, s4:0.0.0.0:43977, s0:0.0.0.0:38561, s1:0.0.0.0:45613, s2:0.0.0.0:44259], old=null
2019-09-24 12:04:55,351 INFO  impl.LeaderElection (LeaderElection.java:logAndReturn(56)) - s1@group-B55F010AECEC-LeaderElection3: Election TIMEOUT; received 0 response(s) [] and 0 exception(s); s1@group-B55F010AECEC:t1, leader=null, voted=s1, raftlog=s1@group-B55F010AECEC-SegmentedRaftLog:OPENED:c-1,f-1,i0, conf=-1: [s3:0.0.0.0:40896, s4:0.0.0.0:43977, s0:0.0.0.0:38561, s1:0.0.0.0:45613, s2:0.0.0.0:44259], old=null
2019-09-24 12:04:55,353 INFO  logging.LoggingHandler (AbstractInternalLogger.java:log(150)) - [id: 0x4de89b0d, L:/0.0.0.0:38561] READ: [id: 0x04c519e0, L:/192.168.34.44:38561 - R:/192.168.34.44:33684]
2019-09-24 12:04:55,353 INFO  logging.LoggingHandler (AbstractInternalLogger.java:log(150)) - [id: 0x9f7e2b0f, L:0.0.0.0/0.0.0.0:40896] READ: [id: 0x7066822a, L:/192.168.34.44:40896 - R:/192.168.34.44:56260]
2019-09-24 12:04:55,353 INFO  logging.LoggingHandler (AbstractInternalLogger.java:log(150)) - [id: 0xbff02252, L:/0.0.0.0:43977] READ: [id: 0xe4118d9a, L:/192.168.34.44:43977 - R:/192.168.34.44:42243]
2019-09-24 12:04:55,352 INFO  logging.LoggingHandler (AbstractInternalLogger.java:log(150)) - [id: 0x21558c29, L:/0.0.0.0:45613] READ: [id: 0x8a86b088, L:/192.168.34.44:45613 - R:/192.168.34.44:49502]
2019-09-24 12:04:55,352 INFO  logging.LoggingHandler (AbstractInternalLogger.java:log(150)) - [id: 0x9ab02c3c, L:/0.0.0.0:44259] READ COMPLETE
2019-09-24 12:04:55,355 INFO  logging.LoggingHandler (AbstractInternalLogger.java:log(150)) - [id: 0x21558c29, L:/0.0.0.0:45613] READ COMPLETE
2019-09-24 12:04:55,354 INFO  logging.LoggingHandler (AbstractInternalLogger.java:log(150)) - [id: 0xbff02252, L:/0.0.0.0:43977] READ COMPLETE
2019-09-24 12:04:55,354 INFO  logging.LoggingHandler (AbstractInternalLogger.java:log(150)) - [id: 0x9f7e2b0f, L:0.0.0.0/0.0.0.0:40896] READ COMPLETE
2019-09-24 12:04:55,354 INFO  logging.LoggingHandler (AbstractInternalLogger.java:log(150)) - [id: 0x4de89b0d, L:/0.0.0.0:38561] READ COMPLETE
2019-09-24 12:04:55,356 INFO  logging.LoggingHandler (AbstractInternalLogger.java:log(150)) - [id: 0x9f7e2b0f, L:0.0.0.0/0.0.0.0:40896] READ: [id: 0xb6b4f994, L:/192.168.34.44:40896 - R:/192.168.34.44:56266]
2019-09-24 12:04:55,356 INFO  logging.LoggingHandler (AbstractInternalLogger.java:log(150)) - [id: 0xbff02252, L:/0.0.0.0:43977] READ: [id: 0x2fc2e58f, L:/192.168.34.44:43977 - R:/192.168.34.44:42246]
2019-09-24 12:04:55,355 INFO  logging.LoggingHandler (AbstractInternalLogger.java:log(150)) - [id: 0x21558c29, L:/0.0.0.0:45613] READ: [id: 0x4f8ebf65, L:/192.168.34.44:45613 - R:/192.168.34.44:49500]
2019-09-24 12:04:55,355 INFO  logging.LoggingHandler (AbstractInternalLogger.java:log(150)) - [id: 0x9ab02c3c, L:/0.0.0.0:44259] READ: [id: 0x9cbaf764, L:/192.168.34.44:44259 - R:/192.168.34.44:43022]
2019-09-24 12:04:55,358 INFO  logging.LoggingHandler (AbstractInternalLogger.java:log(150)) - [id: 0x21558c29, L:/0.0.0.0:45613] READ COMPLETE
2019-09-24 12:04:55,357 INFO  logging.LoggingHandler (AbstractInternalLogger.java:log(150)) - [id: 0xbff02252, L:/0.0.0.0:43977] READ COMPLETE
2019-09-24 12:04:55,357 INFO  logging.LoggingHandler (AbstractInternalLogger.java:log(150)) - [id: 0x9f7e2b0f, L:0.0.0.0/0.0.0.0:40896] READ COMPLETE
2019-09-24 12:04:55,357 INFO  logging.LoggingHandler (AbstractInternalLogger.java:log(150)) - [id: 0x4de89b0d, L:/0.0.0.0:38561] READ: [id: 0x88afad4c, L:/192.168.34.44:38561 - R:/192.168.34.44:33690]
2019-09-24 12:04:55,358 INFO  logging.LoggingHandler (AbstractInternalLogger.java:log(150)) - [id: 0xbff02252, L:/0.0.0.0:43977] READ: [id: 0x37d14c84, L:/192.168.34.44:43977 - R:/192.168.34.44:42256]
2019-09-24 12:04:55,358 INFO  logging.LoggingHandler (AbstractInternalLogger.java:log(150)) - [id: 0x21558c29, L:/0.0.0.0:45613] READ: [id: 0x50a96b37, L:/192.168.34.44:45613 - R:/192.168.34.44:49520]
2019-09-24 12:04:55,358 INFO  logging.LoggingHandler (AbstractInternalLogger.java:log(150)) - [id: 0x9ab02c3c, L:/0.0.0.0:44259] READ COMPLETE
2019-09-24 12:04:55,360 INFO  logging.LoggingHandler (AbstractInternalLogger.java:log(150)) - [id: 0x21558c29, L:/0.0.0.0:45613] READ COMPLETE
2019-09-24 12:04:55,359 INFO  logging.LoggingHandler (AbstractInternalLogger.java:log(150)) - [id: 0xbff02252, L:/0.0.0.0:43977] READ COMPLETE
2019-09-24 12:04:55,359 INFO  logging.LoggingHandler (AbstractInternalLogger.java:log(150)) - [id: 0x4de89b0d, L:/0.0.0.0:38561] READ COMPLETE
2019-09-24 12:04:55,359 INFO  logging.LoggingHandler (AbstractInternalLogger.java:log(150)) - [id: 0x9f7e2b0f, L:0.0.0.0/0.0.0.0:40896] READ: [id: 0x8912d2ff, L:/192.168.34.44:40896 - R:/192.168.34.44:56268]
2019-09-24 12:04:55,360 INFO  logging.LoggingHandler (AbstractInternalLogger.java:log(150)) - [id: 0x9ab02c3c, L:/0.0.0.0:44259] READ: [id: 0x7a6f3905, L:/192.168.34.44:44259 - R:/192.168.34.44:43026]
2019-09-24 12:04:55,361 INFO  logging.LoggingHandler (AbstractInternalLogger.java:log(150)) - [id: 0x9f7e2b0f, L:0.0.0.0/0.0.0.0:40896] READ COMPLETE
2019-09-24 12:04:55,361 INFO  logging.LoggingHandler (AbstractInternalLogger.java:log(150)) - [id: 0x4de89b0d, L:/0.0.0.0:38561] READ: [id: 0x25d743c6, L:/192.168.34.44:38561 - R:/192.168.34.44:33712]
2019-09-24 12:04:55,361 INFO  logging.LoggingHandler (AbstractInternalLogger.java:log(150)) - [id: 0x9ab02c3c, L:/0.0.0.0:44259] READ COMPLETE
2019-09-24 12:04:55,362 INFO  logging.LoggingHandler (AbstractInternalLogger.java:log(150)) - [id: 0x4de89b0d, L:/0.0.0.0:38561] READ COMPLETE
2019-09-24 12:04:55,362 INFO  logging.LoggingHandler (AbstractInternalLogger.java:log(150)) - [id: 0x9ab02c3c, L:/0.0.0.0:44259] READ: [id: 0xd59bd285, L:/192.168.34.44:44259 - R:/192.168.34.44:43040]
2019-09-24 12:04:55,362 INFO  logging.LoggingHandler (AbstractInternalLogger.java:log(150)) - [id: 0x9ab02c3c, L:/0.0.0.0:44259] READ COMPLETE
2019-09-24 12:04:55,367 WARN  ratis.RaftTestUtil (JavaUtils.java:attempt(158)) - FAILED "waitForLeader-null-(expectLeader? true)", attempt #2/100: java.lang.IllegalStateException: No leader yet : printing ALL groups
  s3:  RUNNING CANDIDATE s3@group-B55F010AECEC:t1, leader=null, voted=s3, raftlog=s3@group-B55F010AECEC-SegmentedRaftLog:OPENED:c-1,f-1,i0, conf=-1: [s3:0.0.0.0:40896, s4:0.0.0.0:43977, s0:0.0.0.0:38561, s1:0.0.0.0:45613, s2:0.0.0.0:44259], old=null RUNNING
  s4:  RUNNING CANDIDATE s4@group-B55F010AECEC:t1, leader=null, voted=s4, raftlog=s4@group-B55F010AECEC-SegmentedRaftLog:OPENED:c-1,f-1,i0, conf=-1: [s3:0.0.0.0:40896, s4:0.0.0.0:43977, s0:0.0.0.0:38561, s1:0.0.0.0:45613, s2:0.0.0.0:44259], old=null RUNNING
  s0:  RUNNING CANDIDATE s0@group-B55F010AECEC:t1, leader=null, voted=s0, raftlog=s0@group-B55F010AECEC-SegmentedRaftLog:OPENED:c-1,f-1,i0, conf=-1: [s3:0.0.0.0:40896, s4:0.0.0.0:43977, s0:0.0.0.0:38561, s1:0.0.0.0:45613, s2:0.0.0.0:44259], old=null RUNNING
  s1:  RUNNING CANDIDATE s1@group-B55F010AECEC:t2, leader=null, voted=s1, raftlog=s1@group-B55F010AECEC-SegmentedRaftLog:OPENED:c-1,f-1,i0, conf=-1: [s3:0.0.0.0:40896, s4:0.0.0.0:43977, s0:0.0.0.0:38561, s1:0.0.0.0:45613, s2:0.0.0.0:44259], old=null RUNNING
  s2:  RUNNING CANDIDATE s2@group-B55F010AECEC:t2, leader=null, voted=s2, raftlog=s2@group-B55F010AECEC-SegmentedRaftLog:OPENED:c-1,f-1,i0, conf=-1: [s3:0.0.0.0:40896, s4:0.0.0.0:43977, s0:0.0.0.0:38561, s1:0.0.0.0:45613, s2:0.0.0.0:44259], old=null RUNNING, sleep 450ms and then retry.
java.lang.IllegalStateException: No leader yet : printing ALL groups
  s3:  RUNNING CANDIDATE s3@group-B55F010AECEC:t1, leader=null, voted=s3, raftlog=s3@group-B55F010AECEC-SegmentedRaftLog:OPENED:c-1,f-1,i0, conf=-1: [s3:0.0.0.0:40896, s4:0.0.0.0:43977, s0:0.0.0.0:38561, s1:0.0.0.0:45613, s2:0.0.0.0:44259], old=null RUNNING
  s4:  RUNNING CANDIDATE s4@group-B55F010AECEC:t1, leader=null, voted=s4, raftlog=s4@group-B55F010AECEC-SegmentedRaftLog:OPENED:c-1,f-1,i0, conf=-1: [s3:0.0.0.0:40896, s4:0.0.0.0:43977, s0:0.0.0.0:38561, s1:0.0.0.0:45613, s2:0.0.0.0:44259], old=null RUNNING
  s0:  RUNNING CANDIDATE s0@group-B55F010AECEC:t1, leader=null, voted=s0, raftlog=s0@group-B55F010AECEC-SegmentedRaftLog:OPENED:c-1,f-1,i0, conf=-1: [s3:0.0.0.0:40896, s4:0.0.0.0:43977, s0:0.0.0.0:38561, s1:0.0.0.0:45613, s2:0.0.0.0:44259], old=null RUNNING
  s1:  RUNNING CANDIDATE s1@group-B55F010AECEC:t2, leader=null, voted=s1, raftlog=s1@group-B55F010AECEC-SegmentedRaftLog:OPENED:c-1,f-1,i0, conf=-1: [s3:0.0.0.0:40896, s4:0.0.0.0:43977, s0:0.0.0.0:38561, s1:0.0.0.0:45613, s2:0.0.0.0:44259], old=null RUNNING
  s2:  RUNNING CANDIDATE s2@group-B55F010AECEC:t2, leader=null, voted=s2, raftlog=s2@group-B55F010AECEC-SegmentedRaftLog:OPENED:c-1,f-1,i0, conf=-1: [s3:0.0.0.0:40896, s4:0.0.0.0:43977, s0:0.0.0.0:38561, s1:0.0.0.0:45613, s2:0.0.0.0:44259], old=null RUNNING
	at org.apache.ratis.MiniRaftCluster.newIllegalStateExceptionForNoLeaders(MiniRaftCluster.java:506)
	at org.apache.ratis.RaftTestUtil.lambda$waitForLeader$1(RaftTestUtil.java:90)
	at org.apache.ratis.MiniRaftCluster.getLeader(MiniRaftCluster.java:539)
	at org.apache.ratis.MiniRaftCluster.getLeader(MiniRaftCluster.java:532)
	at org.apache.ratis.RaftTestUtil.lambda$waitForLeader$3(RaftTestUtil.java:98)
	at org.apache.ratis.util.JavaUtils.attempt(JavaUtils.java:152)
	at org.apache.ratis.RaftTestUtil.waitForLeader(RaftTestUtil.java:97)
	at org.apache.ratis.RaftTestUtil.waitForLeader(RaftTestUtil.java:77)
	at org.apache.ratis.RaftTestUtil.waitForLeader(RaftTestUtil.java:72)
	at org.apache.ratis.server.impl.LeaderElectionTests.testEnforceLeader(LeaderElectionTests.java:95)
	at org.apache.ratis.netty.TestLeaderElectionWithNetty.testEnforceLeader(TestLeaderElectionWithNetty.java:30)
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.lang.reflect.Method.invoke(Method.java:498)
	at org.junit.runners.model.FrameworkMethod$1.runReflectiveCall(FrameworkMethod.java:50)
	at org.junit.internal.runners.model.ReflectiveCallable.run(ReflectiveCallable.java:12)
	at org.junit.runners.model.FrameworkMethod.invokeExplosively(FrameworkMethod.java:47)
	at org.junit.internal.runners.statements.InvokeMethod.evaluate(InvokeMethod.java:17)
	at org.junit.internal.runners.statements.RunAfters.evaluate(RunAfters.java:27)
	at org.junit.internal.runners.statements.FailOnTimeout$CallableStatement.call(FailOnTimeout.java:298)
	at org.junit.internal.runners.statements.FailOnTimeout$CallableStatement.call(FailOnTimeout.java:292)
	at java.util.concurrent.FutureTask.run(FutureTask.java:266)
	at java.lang.Thread.run(Thread.java:748)
2019-09-24 12:04:55,373 INFO  impl.LeaderElection (LeaderElection.java:askForVotes(178)) - s1@group-B55F010AECEC-LeaderElection3: begin an election at term 2 for -1: [s3:0.0.0.0:40896, s4:0.0.0.0:43977, s0:0.0.0.0:38561, s1:0.0.0.0:45613, s2:0.0.0.0:44259], old=null
2019-09-24 12:04:55,373 INFO  impl.LeaderElection (LeaderElection.java:askForVotes(178)) - s2@group-B55F010AECEC-LeaderElection1: begin an election at term 2 for -1: [s3:0.0.0.0:40896, s4:0.0.0.0:43977, s0:0.0.0.0:38561, s1:0.0.0.0:45613, s2:0.0.0.0:44259], old=null
2019-09-24 12:04:55,398 INFO  impl.LeaderElection (LeaderElection.java:logAndReturn(56)) - s4@group-B55F010AECEC-LeaderElection2: Election TIMEOUT; received 0 response(s) [] and 0 exception(s); s4@group-B55F010AECEC:t1, leader=null, voted=s4, raftlog=s4@group-B55F010AECEC-SegmentedRaftLog:OPENED:c-1,f-1,i0, conf=-1: [s3:0.0.0.0:40896, s4:0.0.0.0:43977, s0:0.0.0.0:38561, s1:0.0.0.0:45613, s2:0.0.0.0:44259], old=null
2019-09-24 12:04:55,402 INFO  impl.LeaderElection (LeaderElection.java:logAndReturn(56)) - s0@group-B55F010AECEC-LeaderElection4: Election TIMEOUT; received 0 response(s) [] and 0 exception(s); s0@group-B55F010AECEC:t1, leader=null, voted=s0, raftlog=s0@group-B55F010AECEC-SegmentedRaftLog:OPENED:c-1,f-1,i0, conf=-1: [s3:0.0.0.0:40896, s4:0.0.0.0:43977, s0:0.0.0.0:38561, s1:0.0.0.0:45613, s2:0.0.0.0:44259], old=null
2019-09-24 12:04:55,410 DEBUG impl.RaftServerImpl (RaftServerImpl.java:requestVote(743)) - s0@group-B55F010AECEC: receive requestVote(s3, group-B55F010AECEC, 1, (t:0, i:0))
2019-09-24 12:04:55,410 DEBUG impl.RaftServerImpl (RaftServerImpl.java:requestVote(743)) - s4@group-B55F010AECEC: receive requestVote(s3, group-B55F010AECEC, 1, (t:0, i:0))
2019-09-24 12:04:55,410 DEBUG impl.RaftServerImpl (RaftServerImpl.java:requestVote(743)) - s1@group-B55F010AECEC: receive requestVote(s3, group-B55F010AECEC, 1, (t:0, i:0))
2019-09-24 12:04:55,410 DEBUG impl.RaftServerImpl (RaftServerImpl.java:requestVote(743)) - s0@group-B55F010AECEC: receive requestVote(s1, group-B55F010AECEC, 1, (t:0, i:0))
2019-09-24 12:04:55,410 DEBUG impl.RaftServerImpl (RaftServerImpl.java:requestVote(743)) - s0@group-B55F010AECEC: receive requestVote(s2, group-B55F010AECEC, 1, (t:0, i:0))
2019-09-24 12:04:55,410 DEBUG impl.RaftServerImpl (RaftServerImpl.java:requestVote(743)) - s1@group-B55F010AECEC: receive requestVote(s4, group-B55F010AECEC, 1, (t:0, i:0))
2019-09-24 12:04:55,410 DEBUG impl.RaftServerImpl (RaftServerImpl.java:requestVote(743)) - s3@group-B55F010AECEC: receive requestVote(s0, group-B55F010AECEC, 1, (t:0, i:0))
2019-09-24 12:04:55,410 DEBUG impl.RaftServerImpl (RaftServerImpl.java:requestVote(743)) - s3@group-B55F010AECEC: receive requestVote(s2, group-B55F010AECEC, 1, (t:0, i:0))
2019-09-24 12:04:55,410 DEBUG impl.RaftServerImpl (RaftServerImpl.java:requestVote(743)) - s2@group-B55F010AECEC: receive requestVote(s1, group-B55F010AECEC, 1, (t:0, i:0))
2019-09-24 12:04:55,410 DEBUG impl.RaftServerImpl (RaftServerImpl.java:requestVote(743)) - s0@group-B55F010AECEC: receive requestVote(s4, group-B55F010AECEC, 1, (t:0, i:0))
2019-09-24 12:04:55,410 DEBUG impl.RaftServerImpl (RaftServerImpl.java:requestVote(743)) - s2@group-B55F010AECEC: receive requestVote(s4, group-B55F010AECEC, 1, (t:0, i:0))
2019-09-24 12:04:55,410 DEBUG impl.RaftServerImpl (RaftServerImpl.java:requestVote(743)) - s3@group-B55F010AECEC: receive requestVote(s4, group-B55F010AECEC, 1, (t:0, i:0))
2019-09-24 12:04:55,410 DEBUG impl.RaftServerImpl (RaftServerImpl.java:requestVote(743)) - s1@group-B55F010AECEC: receive requestVote(s2, group-B55F010AECEC, 1, (t:0, i:0))
2019-09-24 12:04:55,410 DEBUG impl.RaftServerImpl (RaftServerImpl.java:requestVote(743)) - s1@group-B55F010AECEC: receive requestVote(s0, group-B55F010AECEC, 1, (t:0, i:0))
2019-09-24 12:04:55,410 DEBUG impl.RaftServerImpl (RaftServerImpl.java:requestVote(743)) - s4@group-B55F010AECEC: receive requestVote(s0, group-B55F010AECEC, 1, (t:0, i:0))
2019-09-24 12:04:55,410 DEBUG impl.RaftServerImpl (RaftServerImpl.java:requestVote(743)) - s4@group-B55F010AECEC: receive requestVote(s2, group-B55F010AECEC, 1, (t:0, i:0))
2019-09-24 12:04:55,410 DEBUG impl.RaftServerImpl (RaftServerImpl.java:requestVote(743)) - s3@group-B55F010AECEC: receive requestVote(s1, group-B55F010AECEC, 1, (t:0, i:0))
2019-09-24 12:04:55,410 DEBUG impl.RaftServerImpl (RaftServerImpl.java:requestVote(743)) - s2@group-B55F010AECEC: receive requestVote(s0, group-B55F010AECEC, 1, (t:0, i:0))
2019-09-24 12:04:55,410 DEBUG impl.RaftServerImpl (RaftServerImpl.java:requestVote(743)) - s4@group-B55F010AECEC: receive requestVote(s1, group-B55F010AECEC, 1, (t:0, i:0))
2019-09-24 12:04:55,410 DEBUG impl.RaftServerImpl (RaftServerImpl.java:requestVote(743)) - s2@group-B55F010AECEC: receive requestVote(s3, group-B55F010AECEC, 1, (t:0, i:0))
2019-09-24 12:04:55,412 INFO  impl.LeaderElection (LeaderElection.java:askForVotes(178)) - s4@group-B55F010AECEC-LeaderElection2: begin an election at term 2 for -1: [s3:0.0.0.0:40896, s4:0.0.0.0:43977, s0:0.0.0.0:38561, s1:0.0.0.0:45613, s2:0.0.0.0:44259], old=null
2019-09-24 12:04:55,412 INFO  impl.LeaderElection (LeaderElection.java:askForVotes(178)) - s0@group-B55F010AECEC-LeaderElection4: begin an election at term 2 for -1: [s3:0.0.0.0:40896, s4:0.0.0.0:43977, s0:0.0.0.0:38561, s1:0.0.0.0:45613, s2:0.0.0.0:44259], old=null
2019-09-24 12:04:55,420 DEBUG impl.RaftServerImpl (RaftServerImpl.java:requestVote(775)) - s2@group-B55F010AECEC replies to vote request: s1<-s2#0:FAIL-t2. Peer's state: s2@group-B55F010AECEC:t2, leader=null, voted=s2, raftlog=s2@group-B55F010AECEC-SegmentedRaftLog:OPENED:c-1,f-1,i0, conf=-1: [s3:0.0.0.0:40896, s4:0.0.0.0:43977, s0:0.0.0.0:38561, s1:0.0.0.0:45613, s2:0.0.0.0:44259], old=null
2019-09-24 12:04:55,420 DEBUG impl.RaftServerImpl (RaftServerImpl.java:requestVote(775)) - s4@group-B55F010AECEC replies to vote request: s3<-s4#0:FAIL-t2. Peer's state: s4@group-B55F010AECEC:t2, leader=null, voted=s4, raftlog=s4@group-B55F010AECEC-SegmentedRaftLog:OPENED:c-1,f-1,i0, conf=-1: [s3:0.0.0.0:40896, s4:0.0.0.0:43977, s0:0.0.0.0:38561, s1:0.0.0.0:45613, s2:0.0.0.0:44259], old=null
2019-09-24 12:04:55,420 DEBUG impl.RaftServerImpl (RaftServerImpl.java:requestVote(775)) - s0@group-B55F010AECEC replies to vote request: s1<-s0#0:FAIL-t2. Peer's state: s0@group-B55F010AECEC:t2, leader=null, voted=s0, raftlog=s0@group-B55F010AECEC-SegmentedRaftLog:OPENED:c-1,f-1,i0, conf=-1: [s3:0.0.0.0:40896, s4:0.0.0.0:43977, s0:0.0.0.0:38561, s1:0.0.0.0:45613, s2:0.0.0.0:44259], old=null
2019-09-24 12:04:55,420 DEBUG impl.RaftServerImpl (RaftServerImpl.java:requestVote(775)) - s3@group-B55F010AECEC replies to vote request: s0<-s3#0:FAIL-t1. Peer's state: s3@group-B55F010AECEC:t1, leader=null, voted=s3, raftlog=s3@group-B55F010AECEC-SegmentedRaftLog:OPENED:c-1,f-1,i0, conf=-1: [s3:0.0.0.0:40896, s4:0.0.0.0:43977, s0:0.0.0.0:38561, s1:0.0.0.0:45613, s2:0.0.0.0:44259], old=null
2019-09-24 12:04:55,420 DEBUG impl.RaftServerImpl (RaftServerImpl.java:requestVote(775)) - s1@group-B55F010AECEC replies to vote request: s3<-s1#0:FAIL-t2. Peer's state: s1@group-B55F010AECEC:t2, leader=null, voted=s1, raftlog=s1@group-B55F010AECEC-SegmentedRaftLog:OPENED:c-1,f-1,i0, conf=-1: [s3:0.0.0.0:40896, s4:0.0.0.0:43977, s0:0.0.0.0:38561, s1:0.0.0.0:45613, s2:0.0.0.0:44259], old=null
2019-09-24 12:04:55,421 DEBUG impl.RaftServerImpl (RaftServerImpl.java:requestVote(775)) - s3@group-B55F010AECEC replies to vote request: s1<-s3#0:FAIL-t1. Peer's state: s3@group-B55F010AECEC:t1, leader=null, voted=s3, raftlog=s3@group-B55F010AECEC-SegmentedRaftLog:OPENED:c-1,f-1,i0, conf=-1: [s3:0.0.0.0:40896, s4:0.0.0.0:43977, s0:0.0.0.0:38561, s1:0.0.0.0:45613, s2:0.0.0.0:44259], old=null
2019-09-24 12:04:55,421 DEBUG impl.RaftServerImpl (RaftServerImpl.java:requestVote(775)) - s0@group-B55F010AECEC replies to vote request: s3<-s0#0:FAIL-t2. Peer's state: s0@group-B55F010AECEC:t2, leader=null, voted=s0, raftlog=s0@group-B55F010AECEC-SegmentedRaftLog:OPENED:c-1,f-1,i0, conf=-1: [s3:0.0.0.0:40896, s4:0.0.0.0:43977, s0:0.0.0.0:38561, s1:0.0.0.0:45613, s2:0.0.0.0:44259], old=null
2019-09-24 12:04:55,421 DEBUG impl.RaftServerImpl (RaftServerImpl.java:requestVote(775)) - s4@group-B55F010AECEC replies to vote request: s1<-s4#0:FAIL-t2. Peer's state: s4@group-B55F010AECEC:t2, leader=null, voted=s4, raftlog=s4@group-B55F010AECEC-SegmentedRaftLog:OPENED:c-1,f-1,i0, conf=-1: [s3:0.0.0.0:40896, s4:0.0.0.0:43977, s0:0.0.0.0:38561, s1:0.0.0.0:45613, s2:0.0.0.0:44259], old=null
2019-09-24 12:04:55,420 DEBUG impl.RaftServerImpl (RaftServerImpl.java:requestVote(775)) - s2@group-B55F010AECEC replies to vote request: s3<-s2#0:FAIL-t2. Peer's state: s2@group-B55F010AECEC:t2, leader=null, voted=s2, raftlog=s2@group-B55F010AECEC-SegmentedRaftLog:OPENED:c-1,f-1,i0, conf=-1: [s3:0.0.0.0:40896, s4:0.0.0.0:43977, s0:0.0.0.0:38561, s1:0.0.0.0:45613, s2:0.0.0.0:44259], old=null
2019-09-24 12:04:55,423 DEBUG impl.RaftServerImpl (RaftServerImpl.java:requestVote(775)) - s4@group-B55F010AECEC replies to vote request: s2<-s4#0:FAIL-t2. Peer's state: s4@group-B55F010AECEC:t2, leader=null, voted=s4, raftlog=s4@group-B55F010AECEC-SegmentedRaftLog:OPENED:c-1,f-1,i0, conf=-1: [s3:0.0.0.0:40896, s4:0.0.0.0:43977, s0:0.0.0.0:38561, s1:0.0.0.0:45613, s2:0.0.0.0:44259], old=null
2019-09-24 12:04:55,423 DEBUG impl.RaftServerImpl (RaftServerImpl.java:requestVote(775)) - s0@group-B55F010AECEC replies to vote request: s4<-s0#0:FAIL-t2. Peer's state: s0@group-B55F010AECEC:t2, leader=null, voted=s0, raftlog=s0@group-B55F010AECEC-SegmentedRaftLog:OPENED:c-1,f-1,i0, conf=-1: [s3:0.0.0.0:40896, s4:0.0.0.0:43977, s0:0.0.0.0:38561, s1:0.0.0.0:45613, s2:0.0.0.0:44259], old=null
2019-09-24 12:04:55,422 DEBUG impl.RaftServerImpl (RaftServerImpl.java:requestVote(775)) - s3@group-B55F010AECEC replies to vote request: s4<-s3#0:FAIL-t1. Peer's state: s3@group-B55F010AECEC:t1, leader=null, voted=s3, raftlog=s3@group-B55F010AECEC-SegmentedRaftLog:OPENED:c-1,f-1,i0, conf=-1: [s3:0.0.0.0:40896, s4:0.0.0.0:43977, s0:0.0.0.0:38561, s1:0.0.0.0:45613, s2:0.0.0.0:44259], old=null
2019-09-24 12:04:55,422 DEBUG impl.RaftServerImpl (RaftServerImpl.java:requestVote(775)) - s1@group-B55F010AECEC replies to vote request: s0<-s1#0:FAIL-t2. Peer's state: s1@group-B55F010AECEC:t2, leader=null, voted=s1, raftlog=s1@group-B55F010AECEC-SegmentedRaftLog:OPENED:c-1,f-1,i0, conf=-1: [s3:0.0.0.0:40896, s4:0.0.0.0:43977, s0:0.0.0.0:38561, s1:0.0.0.0:45613, s2:0.0.0.0:44259], old=null
2019-09-24 12:04:55,424 DEBUG impl.RaftServerImpl (RaftServerImpl.java:requestVote(775)) - s3@group-B55F010AECEC replies to vote request: s2<-s3#0:FAIL-t1. Peer's state: s3@group-B55F010AECEC:t1, leader=null, voted=s3, raftlog=s3@group-B55F010AECEC-SegmentedRaftLog:OPENED:c-1,f-1,i0, conf=-1: [s3:0.0.0.0:40896, s4:0.0.0.0:43977, s0:0.0.0.0:38561, s1:0.0.0.0:45613, s2:0.0.0.0:44259], old=null
2019-09-24 12:04:55,424 DEBUG impl.RaftServerImpl (RaftServerImpl.java:requestVote(775)) - s0@group-B55F010AECEC replies to vote request: s2<-s0#0:FAIL-t2. Peer's state: s0@group-B55F010AECEC:t2, leader=null, voted=s0, raftlog=s0@group-B55F010AECEC-SegmentedRaftLog:OPENED:c-1,f-1,i0, conf=-1: [s3:0.0.0.0:40896, s4:0.0.0.0:43977, s0:0.0.0.0:38561, s1:0.0.0.0:45613, s2:0.0.0.0:44259], old=null
2019-09-24 12:04:55,424 DEBUG impl.RaftServerImpl (RaftServerImpl.java:requestVote(775)) - s4@group-B55F010AECEC replies to vote request: s0<-s4#0:FAIL-t2. Peer's state: s4@group-B55F010AECEC:t2, leader=null, voted=s4, raftlog=s4@group-B55F010AECEC-SegmentedRaftLog:OPENED:c-1,f-1,i0, conf=-1: [s3:0.0.0.0:40896, s4:0.0.0.0:43977, s0:0.0.0.0:38561, s1:0.0.0.0:45613, s2:0.0.0.0:44259], old=null
2019-09-24 12:04:55,424 DEBUG impl.RaftServerImpl (RaftServerImpl.java:requestVote(775)) - s2@group-B55F010AECEC replies to vote request: s0<-s2#0:FAIL-t2. Peer's state: s2@group-B55F010AECEC:t2, leader=null, voted=s2, raftlog=s2@group-B55F010AECEC-SegmentedRaftLog:OPENED:c-1,f-1,i0, conf=-1: [s3:0.0.0.0:40896, s4:0.0.0.0:43977, s0:0.0.0.0:38561, s1:0.0.0.0:45613, s2:0.0.0.0:44259], old=null
2019-09-24 12:04:55,425 DEBUG impl.RaftServerImpl (RaftServerImpl.java:requestVote(775)) - s1@group-B55F010AECEC replies to vote request: s2<-s1#0:FAIL-t2. Peer's state: s1@group-B55F010AECEC:t2, leader=null, voted=s1, raftlog=s1@group-B55F010AECEC-SegmentedRaftLog:OPENED:c-1,f-1,i0, conf=-1: [s3:0.0.0.0:40896, s4:0.0.0.0:43977, s0:0.0.0.0:38561, s1:0.0.0.0:45613, s2:0.0.0.0:44259], old=null
2019-09-24 12:04:55,426 DEBUG impl.RaftServerImpl (RaftServerImpl.java:requestVote(775)) - s2@group-B55F010AECEC replies to vote request: s4<-s2#0:FAIL-t2. Peer's state: s2@group-B55F010AECEC:t2, leader=null, voted=s2, raftlog=s2@group-B55F010AECEC-SegmentedRaftLog:OPENED:c-1,f-1,i0, conf=-1: [s3:0.0.0.0:40896, s4:0.0.0.0:43977, s0:0.0.0.0:38561, s1:0.0.0.0:45613, s2:0.0.0.0:44259], old=null
2019-09-24 12:04:55,426 DEBUG impl.RaftServerImpl (RaftServerImpl.java:requestVote(775)) - s1@group-B55F010AECEC replies to vote request: s4<-s1#0:FAIL-t2. Peer's state: s1@group-B55F010AECEC:t2, leader=null, voted=s1, raftlog=s1@group-B55F010AECEC-SegmentedRaftLog:OPENED:c-1,f-1,i0, conf=-1: [s3:0.0.0.0:40896, s4:0.0.0.0:43977, s0:0.0.0.0:38561, s1:0.0.0.0:45613, s2:0.0.0.0:44259], old=null
2019-09-24 12:04:55,432 DEBUG impl.RaftServerImpl (RaftServerImpl.java:requestVote(743)) - s0@group-B55F010AECEC: receive requestVote(s2, group-B55F010AECEC, 2, (t:0, i:0))
2019-09-24 12:04:55,432 DEBUG impl.RaftServerImpl (RaftServerImpl.java:requestVote(743)) - s0@group-B55F010AECEC: receive requestVote(s1, group-B55F010AECEC, 2, (t:0, i:0))
2019-09-24 12:04:55,432 DEBUG impl.RaftServerImpl (RaftServerImpl.java:requestVote(743)) - s4@group-B55F010AECEC: receive requestVote(s0, group-B55F010AECEC, 2, (t:0, i:0))
2019-09-24 12:04:55,432 DEBUG impl.RaftServerImpl (RaftServerImpl.java:requestVote(743)) - s4@group-B55F010AECEC: receive requestVote(s2, group-B55F010AECEC, 2, (t:0, i:0))
2019-09-24 12:04:55,432 DEBUG impl.RaftServerImpl (RaftServerImpl.java:requestVote(743)) - s2@group-B55F010AECEC: receive requestVote(s1, group-B55F010AECEC, 2, (t:0, i:0))
2019-09-24 12:04:55,432 DEBUG impl.RaftServerImpl (RaftServerImpl.java:requestVote(743)) - s1@group-B55F010AECEC: receive requestVote(s0, group-B55F010AECEC, 2, (t:0, i:0))
2019-09-24 12:04:55,432 DEBUG impl.RaftServerImpl (RaftServerImpl.java:requestVote(743)) - s2@group-B55F010AECEC: receive requestVote(s0, group-B55F010AECEC, 2, (t:0, i:0))
2019-09-24 12:04:55,432 DEBUG impl.RaftServerImpl (RaftServerImpl.java:requestVote(743)) - s1@group-B55F010AECEC: receive requestVote(s2, group-B55F010AECEC, 2, (t:0, i:0))
2019-09-24 12:04:55,432 DEBUG impl.RaftServerImpl (RaftServerImpl.java:requestVote(743)) - s0@group-B55F010AECEC: receive requestVote(s4, group-B55F010AECEC, 2, (t:0, i:0))
2019-09-24 12:04:55,432 DEBUG impl.RaftServerImpl (RaftServerImpl.java:requestVote(743)) - s3@group-B55F010AECEC: receive requestVote(s4, group-B55F010AECEC, 2, (t:0, i:0))
2019-09-24 12:04:55,434 DEBUG impl.RaftServerImpl (RaftServerImpl.java:requestVote(775)) - s1@group-B55F010AECEC replies to vote request: s0<-s1#0:FAIL-t2. Peer's state: s1@group-B55F010AECEC:t2, leader=null, voted=s1, raftlog=s1@group-B55F010AECEC-SegmentedRaftLog:OPENED:c-1,f-1,i0, conf=-1: [s3:0.0.0.0:40896, s4:0.0.0.0:43977, s0:0.0.0.0:38561, s1:0.0.0.0:45613, s2:0.0.0.0:44259], old=null
2019-09-24 12:04:55,434 INFO  impl.LeaderElection (LeaderElection.java:logAndReturn(56)) - s3@group-B55F010AECEC-LeaderElection5: Election DISCOVERED_A_NEW_TERM; received 1 response(s) [s3<-s0#0:FAIL-t2] and 0 exception(s); s3@group-B55F010AECEC:t1, leader=null, voted=s3, raftlog=s3@group-B55F010AECEC-SegmentedRaftLog:OPENED:c-1,f-1,i0, conf=-1: [s3:0.0.0.0:40896, s4:0.0.0.0:43977, s0:0.0.0.0:38561, s1:0.0.0.0:45613, s2:0.0.0.0:44259], old=null
2019-09-24 12:04:55,434 DEBUG impl.RaftServerImpl (RaftServerImpl.java:requestVote(775)) - s2@group-B55F010AECEC replies to vote request: s1<-s2#0:FAIL-t2. Peer's state: s2@group-B55F010AECEC:t2, leader=null, voted=s2, raftlog=s2@group-B55F010AECEC-SegmentedRaftLog:OPENED:c-1,f-1,i0, conf=-1: [s3:0.0.0.0:40896, s4:0.0.0.0:43977, s0:0.0.0.0:38561, s1:0.0.0.0:45613, s2:0.0.0.0:44259], old=null
2019-09-24 12:04:55,433 DEBUG impl.RaftServerImpl (RaftServerImpl.java:requestVote(775)) - s4@group-B55F010AECEC replies to vote request: s0<-s4#0:FAIL-t2. Peer's state: s4@group-B55F010AECEC:t2, leader=null, voted=s4, raftlog=s4@group-B55F010AECEC-SegmentedRaftLog:OPENED:c-1,f-1,i0, conf=-1: [s3:0.0.0.0:40896, s4:0.0.0.0:43977, s0:0.0.0.0:38561, s1:0.0.0.0:45613, s2:0.0.0.0:44259], old=null
2019-09-24 12:04:55,433 DEBUG impl.RaftServerImpl (RaftServerImpl.java:requestVote(743)) - s1@group-B55F010AECEC: receive requestVote(s4, group-B55F010AECEC, 2, (t:0, i:0))
2019-09-24 12:04:55,432 DEBUG impl.RaftServerImpl (RaftServerImpl.java:requestVote(743)) - s3@group-B55F010AECEC: receive requestVote(s0, group-B55F010AECEC, 2, (t:0, i:0))
2019-09-24 12:04:55,432 DEBUG impl.RaftServerImpl (RaftServerImpl.java:requestVote(743)) - s3@group-B55F010AECEC: receive requestVote(s1, group-B55F010AECEC, 2, (t:0, i:0))
2019-09-24 12:04:55,432 DEBUG impl.RaftServerImpl (RaftServerImpl.java:requestVote(775)) - s0@group-B55F010AECEC replies to vote request: s2<-s0#0:FAIL-t2. Peer's state: s0@group-B55F010AECEC:t2, leader=null, voted=s0, raftlog=s0@group-B55F010AECEC-SegmentedRaftLog:OPENED:c-1,f-1,i0, conf=-1: [s3:0.0.0.0:40896, s4:0.0.0.0:43977, s0:0.0.0.0:38561, s1:0.0.0.0:45613, s2:0.0.0.0:44259], old=null
2019-09-24 12:04:55,432 DEBUG impl.RaftServerImpl (RaftServerImpl.java:requestVote(743)) - s3@group-B55F010AECEC: receive requestVote(s2, group-B55F010AECEC, 2, (t:0, i:0))
2019-09-24 12:04:55,432 DEBUG impl.RaftServerImpl (RaftServerImpl.java:requestVote(743)) - s2@group-B55F010AECEC: receive requestVote(s4, group-B55F010AECEC, 2, (t:0, i:0))
2019-09-24 12:04:55,432 DEBUG impl.RaftServerImpl (RaftServerImpl.java:requestVote(743)) - s4@group-B55F010AECEC: receive requestVote(s1, group-B55F010AECEC, 2, (t:0, i:0))
2019-09-24 12:04:55,437 DEBUG impl.RaftServerImpl (RaftServerImpl.java:requestVote(775)) - s0@group-B55F010AECEC replies to vote request: s4<-s0#0:FAIL-t2. Peer's state: s0@group-B55F010AECEC:t2, leader=null, voted=s0, raftlog=s0@group-B55F010AECEC-SegmentedRaftLog:OPENED:c-1,f-1,i0, conf=-1: [s3:0.0.0.0:40896, s4:0.0.0.0:43977, s0:0.0.0.0:38561, s1:0.0.0.0:45613, s2:0.0.0.0:44259], old=null
2019-09-24 12:04:55,437 INFO  impl.RaftServerImpl (RaftServerImpl.java:setRole(170)) - s3@group-B55F010AECEC: changes role from CANDIDATE to FOLLOWER at term 2 for recognizeCandidate:s4
2019-09-24 12:04:55,438 INFO  impl.RoleInfo (RoleInfo.java:shutdownLeaderElection(134)) - s3: shutdown LeaderElection
2019-09-24 12:04:55,436 DEBUG impl.RaftServerImpl (RaftServerImpl.java:requestVote(775)) - s4@group-B55F010AECEC replies to vote request: s2<-s4#0:FAIL-t2. Peer's state: s4@group-B55F010AECEC:t2, leader=null, voted=s4, raftlog=s4@group-B55F010AECEC-SegmentedRaftLog:OPENED:c-1,f-1,i0, conf=-1: [s3:0.0.0.0:40896, s4:0.0.0.0:43977, s0:0.0.0.0:38561, s1:0.0.0.0:45613, s2:0.0.0.0:44259], old=null
2019-09-24 12:04:55,436 DEBUG impl.RaftServerImpl (RaftServerImpl.java:requestVote(775)) - s2@group-B55F010AECEC replies to vote request: s0<-s2#0:FAIL-t2. Peer's state: s2@group-B55F010AECEC:t2, leader=null, voted=s2, raftlog=s2@group-B55F010AECEC-SegmentedRaftLog:OPENED:c-1,f-1,i0, conf=-1: [s3:0.0.0.0:40896, s4:0.0.0.0:43977, s0:0.0.0.0:38561, s1:0.0.0.0:45613, s2:0.0.0.0:44259], old=null
2019-09-24 12:04:55,435 DEBUG impl.RaftServerImpl (RaftServerImpl.java:requestVote(775)) - s1@group-B55F010AECEC replies to vote request: s2<-s1#0:FAIL-t2. Peer's state: s1@group-B55F010AECEC:t2, leader=null, voted=s1, raftlog=s1@group-B55F010AECEC-SegmentedRaftLog:OPENED:c-1,f-1,i0, conf=-1: [s3:0.0.0.0:40896, s4:0.0.0.0:43977, s0:0.0.0.0:38561, s1:0.0.0.0:45613, s2:0.0.0.0:44259], old=null
2019-09-24 12:04:55,439 DEBUG impl.RaftServerImpl (RaftServerImpl.java:requestVote(775)) - s2@group-B55F010AECEC replies to vote request: s4<-s2#0:FAIL-t2. Peer's state: s2@group-B55F010AECEC:t2, leader=null, voted=s2, raftlog=s2@group-B55F010AECEC-SegmentedRaftLog:OPENED:c-1,f-1,i0, conf=-1: [s3:0.0.0.0:40896, s4:0.0.0.0:43977, s0:0.0.0.0:38561, s1:0.0.0.0:45613, s2:0.0.0.0:44259], old=null
2019-09-24 12:04:55,439 INFO  impl.RoleInfo (RoleInfo.java:updateAndGet(143)) - s3: start FollowerState
2019-09-24 12:04:55,439 DEBUG impl.RaftServerImpl (RaftServerImpl.java:requestVote(775)) - s4@group-B55F010AECEC replies to vote request: s1<-s4#0:FAIL-t2. Peer's state: s4@group-B55F010AECEC:t2, leader=null, voted=s4, raftlog=s4@group-B55F010AECEC-SegmentedRaftLog:OPENED:c-1,f-1,i0, conf=-1: [s3:0.0.0.0:40896, s4:0.0.0.0:43977, s0:0.0.0.0:38561, s1:0.0.0.0:45613, s2:0.0.0.0:44259], old=null
2019-09-24 12:04:55,438 DEBUG impl.RaftServerImpl (RaftServerImpl.java:requestVote(775)) - s0@group-B55F010AECEC replies to vote request: s1<-s0#0:FAIL-t2. Peer's state: s0@group-B55F010AECEC:t2, leader=null, voted=s0, raftlog=s0@group-B55F010AECEC-SegmentedRaftLog:OPENED:c-1,f-1,i0, conf=-1: [s3:0.0.0.0:40896, s4:0.0.0.0:43977, s0:0.0.0.0:38561, s1:0.0.0.0:45613, s2:0.0.0.0:44259], old=null
2019-09-24 12:04:55,440 DEBUG impl.RaftServerImpl (RaftServerImpl.java:requestVote(775)) - s1@group-B55F010AECEC replies to vote request: s4<-s1#0:FAIL-t2. Peer's state: s1@group-B55F010AECEC:t2, leader=null, voted=s1, raftlog=s1@group-B55F010AECEC-SegmentedRaftLog:OPENED:c-1,f-1,i0, conf=-1: [s3:0.0.0.0:40896, s4:0.0.0.0:43977, s0:0.0.0.0:38561, s1:0.0.0.0:45613, s2:0.0.0.0:44259], old=null
2019-09-24 12:04:55,453 DEBUG impl.RaftServerImpl (RaftServerImpl.java:requestVote(775)) - s3@group-B55F010AECEC replies to vote request: s4<-s3#0:FAIL-t2. Peer's state: s3@group-B55F010AECEC:t2, leader=null, voted=null, raftlog=s3@group-B55F010AECEC-SegmentedRaftLog:OPENED:c-1,f-1,i0, conf=-1: [s3:0.0.0.0:40896, s4:0.0.0.0:43977, s0:0.0.0.0:38561, s1:0.0.0.0:45613, s2:0.0.0.0:44259], old=null
2019-09-24 12:04:55,453 INFO  impl.RaftServerImpl (RaftServerImpl.java:setRole(170)) - s3@group-B55F010AECEC: changes role from  FOLLOWER to FOLLOWER at term 2 for recognizeCandidate:s2
2019-09-24 12:04:55,454 INFO  impl.RoleInfo (RoleInfo.java:shutdownFollowerState(121)) - s3: shutdown FollowerState
2019-09-24 12:04:55,454 INFO  impl.RoleInfo (RoleInfo.java:updateAndGet(143)) - s3: start FollowerState
2019-09-24 12:04:55,454 INFO  impl.LeaderElection (LeaderElection.java:logAndReturn(56)) - s4@group-B55F010AECEC-LeaderElection2: Election REJECTED; received 4 response(s) [s4<-s3#0:FAIL-t2, s4<-s0#0:FAIL-t2, s4<-s1#0:FAIL-t2, s4<-s2#0:FAIL-t2] and 0 exception(s); s4@group-B55F010AECEC:t2, leader=null, voted=s4, raftlog=s4@group-B55F010AECEC-SegmentedRaftLog:OPENED:c-1,f-1,i0, conf=-1: [s3:0.0.0.0:40896, s4:0.0.0.0:43977, s0:0.0.0.0:38561, s1:0.0.0.0:45613, s2:0.0.0.0:44259], old=null
2019-09-24 12:04:55,454 INFO  impl.FollowerState (FollowerState.java:run(117)) - s3@group-B55F010AECEC-FollowerState was interrupted: java.lang.InterruptedException: sleep interrupted
2019-09-24 12:04:55,455 INFO  impl.RaftServerImpl (RaftServerImpl.java:setRole(170)) - s4@group-B55F010AECEC: changes role from CANDIDATE to FOLLOWER at term 2 for DISCOVERED_A_NEW_TERM
2019-09-24 12:04:55,455 INFO  impl.RoleInfo (RoleInfo.java:shutdownLeaderElection(134)) - s4: shutdown LeaderElection
2019-09-24 12:04:55,455 INFO  impl.RoleInfo (RoleInfo.java:updateAndGet(143)) - s4: start FollowerState
2019-09-24 12:04:55,472 DEBUG impl.RaftServerImpl (RaftServerImpl.java:requestVote(775)) - s3@group-B55F010AECEC replies to vote request: s2<-s3#0:OK-t2. Peer's state: s3@group-B55F010AECEC:t2, leader=null, voted=s2, raftlog=s3@group-B55F010AECEC-SegmentedRaftLog:OPENED:c-1,f-1,i0, conf=-1: [s3:0.0.0.0:40896, s4:0.0.0.0:43977, s0:0.0.0.0:38561, s1:0.0.0.0:45613, s2:0.0.0.0:44259], old=null
2019-09-24 12:04:55,472 DEBUG impl.RaftServerImpl (RaftServerImpl.java:requestVote(775)) - s3@group-B55F010AECEC replies to vote request: s1<-s3#0:FAIL-t2. Peer's state: s3@group-B55F010AECEC:t2, leader=null, voted=s2, raftlog=s3@group-B55F010AECEC-SegmentedRaftLog:OPENED:c-1,f-1,i0, conf=-1: [s3:0.0.0.0:40896, s4:0.0.0.0:43977, s0:0.0.0.0:38561, s1:0.0.0.0:45613, s2:0.0.0.0:44259], old=null
2019-09-24 12:04:55,473 INFO  impl.LeaderElection (LeaderElection.java:logAndReturn(56)) - s2@group-B55F010AECEC-LeaderElection1: Election REJECTED; received 4 response(s) [s2<-s3#0:OK-t2, s2<-s4#0:FAIL-t2, s2<-s0#0:FAIL-t2, s2<-s1#0:FAIL-t2] and 0 exception(s); s2@group-B55F010AECEC:t2, leader=null, voted=s2, raftlog=s2@group-B55F010AECEC-SegmentedRaftLog:OPENED:c-1,f-1,i0, conf=-1: [s3:0.0.0.0:40896, s4:0.0.0.0:43977, s0:0.0.0.0:38561, s1:0.0.0.0:45613, s2:0.0.0.0:44259], old=null
2019-09-24 12:04:55,473 DEBUG impl.RaftServerImpl (RaftServerImpl.java:requestVote(775)) - s3@group-B55F010AECEC replies to vote request: s0<-s3#0:FAIL-t2. Peer's state: s3@group-B55F010AECEC:t2, leader=null, voted=s2, raftlog=s3@group-B55F010AECEC-SegmentedRaftLog:OPENED:c-1,f-1,i0, conf=-1: [s3:0.0.0.0:40896, s4:0.0.0.0:43977, s0:0.0.0.0:38561, s1:0.0.0.0:45613, s2:0.0.0.0:44259], old=null
2019-09-24 12:04:55,473 INFO  impl.RaftServerImpl (RaftServerImpl.java:setRole(170)) - s2@group-B55F010AECEC: changes role from CANDIDATE to FOLLOWER at term 2 for DISCOVERED_A_NEW_TERM
2019-09-24 12:04:55,474 INFO  impl.RoleInfo (RoleInfo.java:shutdownLeaderElection(134)) - s2: shutdown LeaderElection
2019-09-24 12:04:55,474 INFO  impl.RoleInfo (RoleInfo.java:updateAndGet(143)) - s2: start FollowerState
2019-09-24 12:04:55,474 INFO  impl.LeaderElection (LeaderElection.java:logAndReturn(56)) - s1@group-B55F010AECEC-LeaderElection3: Election REJECTED; received 4 response(s) [s1<-s3#0:FAIL-t2, s1<-s4#0:FAIL-t2, s1<-s0#0:FAIL-t2, s1<-s2#0:FAIL-t2] and 0 exception(s); s1@group-B55F010AECEC:t2, leader=null, voted=s1, raftlog=s1@group-B55F010AECEC-SegmentedRaftLog:OPENED:c-1,f-1,i0, conf=-1: [s3:0.0.0.0:40896, s4:0.0.0.0:43977, s0:0.0.0.0:38561, s1:0.0.0.0:45613, s2:0.0.0.0:44259], old=null
2019-09-24 12:04:55,474 INFO  impl.RaftServerImpl (RaftServerImpl.java:setRole(170)) - s1@group-B55F010AECEC: changes role from CANDIDATE to FOLLOWER at term 2 for DISCOVERED_A_NEW_TERM
2019-09-24 12:04:55,474 INFO  impl.RoleInfo (RoleInfo.java:shutdownLeaderElection(134)) - s1: shutdown LeaderElection
2019-09-24 12:04:55,474 INFO  impl.LeaderElection (LeaderElection.java:logAndReturn(56)) - s0@group-B55F010AECEC-LeaderElection4: Election REJECTED; received 4 response(s) [s0<-s3#0:FAIL-t2, s0<-s4#0:FAIL-t2, s0<-s1#0:FAIL-t2, s0<-s2#0:FAIL-t2] and 0 exception(s); s0@group-B55F010AECEC:t2, leader=null, voted=s0, raftlog=s0@group-B55F010AECEC-SegmentedRaftLog:OPENED:c-1,f-1,i0, conf=-1: [s3:0.0.0.0:40896, s4:0.0.0.0:43977, s0:0.0.0.0:38561, s1:0.0.0.0:45613, s2:0.0.0.0:44259], old=null
2019-09-24 12:04:55,474 INFO  impl.RoleInfo (RoleInfo.java:updateAndGet(143)) - s1: start FollowerState
2019-09-24 12:04:55,475 INFO  impl.RaftServerImpl (RaftServerImpl.java:setRole(170)) - s0@group-B55F010AECEC: changes role from CANDIDATE to FOLLOWER at term 2 for DISCOVERED_A_NEW_TERM
2019-09-24 12:04:55,475 INFO  impl.RoleInfo (RoleInfo.java:shutdownLeaderElection(134)) - s0: shutdown LeaderElection
2019-09-24 12:04:55,475 INFO  impl.RoleInfo (RoleInfo.java:updateAndGet(143)) - s0: start FollowerState
2019-09-24 12:04:55,646 INFO  impl.FollowerState (FollowerState.java:run(108)) - s0@group-B55F010AECEC-FollowerState: change to CANDIDATE, lastRpcTime:170ms, electionTimeout:170ms
2019-09-24 12:04:55,646 INFO  impl.RoleInfo (RoleInfo.java:shutdownFollowerState(121)) - s0: shutdown FollowerState
2019-09-24 12:04:55,646 INFO  impl.RaftServerImpl (RaftServerImpl.java:setRole(170)) - s0@group-B55F010AECEC: changes role from  FOLLOWER to CANDIDATE at term 2 for changeToCandidate
2019-09-24 12:04:55,646 INFO  impl.RoleInfo (RoleInfo.java:updateAndGet(143)) - s0: start LeaderElection
2019-09-24 12:04:55,680 INFO  impl.LeaderElection (LeaderElection.java:askForVotes(178)) - s0@group-B55F010AECEC-LeaderElection6: begin an election at term 3 for -1: [s3:0.0.0.0:40896, s4:0.0.0.0:43977, s0:0.0.0.0:38561, s1:0.0.0.0:45613, s2:0.0.0.0:44259], old=null
2019-09-24 12:04:55,682 DEBUG impl.RaftServerImpl (RaftServerImpl.java:requestVote(743)) - s3@group-B55F010AECEC: receive requestVote(s0, group-B55F010AECEC, 3, (t:0, i:0))
2019-09-24 12:04:55,682 DEBUG impl.RaftServerImpl (RaftServerImpl.java:requestVote(743)) - s4@group-B55F010AECEC: receive requestVote(s0, group-B55F010AECEC, 3, (t:0, i:0))
2019-09-24 12:04:55,682 DEBUG impl.RaftServerImpl (RaftServerImpl.java:requestVote(743)) - s1@group-B55F010AECEC: receive requestVote(s0, group-B55F010AECEC, 3, (t:0, i:0))
2019-09-24 12:04:55,682 DEBUG impl.RaftServerImpl (RaftServerImpl.java:requestVote(743)) - s2@group-B55F010AECEC: receive requestVote(s0, group-B55F010AECEC, 3, (t:0, i:0))
2019-09-24 12:04:55,682 INFO  impl.RaftServerImpl (RaftServerImpl.java:setRole(170)) - s3@group-B55F010AECEC: changes role from  FOLLOWER to FOLLOWER at term 3 for recognizeCandidate:s0
2019-09-24 12:04:55,683 INFO  impl.RaftServerImpl (RaftServerImpl.java:setRole(170)) - s2@group-B55F010AECEC: changes role from  FOLLOWER to FOLLOWER at term 3 for recognizeCandidate:s0
2019-09-24 12:04:55,683 INFO  impl.RaftServerImpl (RaftServerImpl.java:setRole(170)) - s1@group-B55F010AECEC: changes role from  FOLLOWER to FOLLOWER at term 3 for recognizeCandidate:s0
2019-09-24 12:04:55,683 INFO  impl.RaftServerImpl (RaftServerImpl.java:setRole(170)) - s4@group-B55F010AECEC: changes role from  FOLLOWER to FOLLOWER at term 3 for recognizeCandidate:s0
2019-09-24 12:04:55,684 INFO  impl.RoleInfo (RoleInfo.java:shutdownFollowerState(121)) - s1: shutdown FollowerState
2019-09-24 12:04:55,684 INFO  impl.RoleInfo (RoleInfo.java:shutdownFollowerState(121)) - s2: shutdown FollowerState
2019-09-24 12:04:55,684 INFO  impl.RoleInfo (RoleInfo.java:shutdownFollowerState(121)) - s3: shutdown FollowerState
2019-09-24 12:04:55,685 INFO  impl.RoleInfo (RoleInfo.java:updateAndGet(143)) - s2: start FollowerState
2019-09-24 12:04:55,685 INFO  impl.FollowerState (FollowerState.java:run(117)) - s2@group-B55F010AECEC-FollowerState was interrupted: java.lang.InterruptedException: sleep interrupted
2019-09-24 12:04:55,685 INFO  impl.FollowerState (FollowerState.java:run(117)) - s1@group-B55F010AECEC-FollowerState was interrupted: java.lang.InterruptedException: sleep interrupted
2019-09-24 12:04:55,685 INFO  impl.RoleInfo (RoleInfo.java:updateAndGet(143)) - s1: start FollowerState
2019-09-24 12:04:55,685 INFO  impl.RoleInfo (RoleInfo.java:shutdownFollowerState(121)) - s4: shutdown FollowerState
2019-09-24 12:04:55,686 INFO  impl.FollowerState (FollowerState.java:run(117)) - s3@group-B55F010AECEC-FollowerState was interrupted: java.lang.InterruptedException: sleep interrupted
2019-09-24 12:04:55,686 INFO  impl.RoleInfo (RoleInfo.java:updateAndGet(143)) - s3: start FollowerState
2019-09-24 12:04:55,687 INFO  impl.FollowerState (FollowerState.java:run(117)) - s4@group-B55F010AECEC-FollowerState was interrupted: java.lang.InterruptedException: sleep interrupted
2019-09-24 12:04:55,687 INFO  impl.RoleInfo (RoleInfo.java:updateAndGet(143)) - s4: start FollowerState
2019-09-24 12:04:55,702 DEBUG impl.RaftServerImpl (RaftServerImpl.java:requestVote(775)) - s2@group-B55F010AECEC replies to vote request: s0<-s2#0:OK-t3. Peer's state: s2@group-B55F010AECEC:t3, leader=null, voted=s0, raftlog=s2@group-B55F010AECEC-SegmentedRaftLog:OPENED:c-1,f-1,i0, conf=-1: [s3:0.0.0.0:40896, s4:0.0.0.0:43977, s0:0.0.0.0:38561, s1:0.0.0.0:45613, s2:0.0.0.0:44259], old=null
2019-09-24 12:04:55,702 DEBUG impl.RaftServerImpl (RaftServerImpl.java:requestVote(775)) - s4@group-B55F010AECEC replies to vote request: s0<-s4#0:OK-t3. Peer's state: s4@group-B55F010AECEC:t3, leader=null, voted=s0, raftlog=s4@group-B55F010AECEC-SegmentedRaftLog:OPENED:c-1,f-1,i0, conf=-1: [s3:0.0.0.0:40896, s4:0.0.0.0:43977, s0:0.0.0.0:38561, s1:0.0.0.0:45613, s2:0.0.0.0:44259], old=null
2019-09-24 12:04:55,702 DEBUG impl.RaftServerImpl (RaftServerImpl.java:requestVote(775)) - s1@group-B55F010AECEC replies to vote request: s0<-s1#0:OK-t3. Peer's state: s1@group-B55F010AECEC:t3, leader=null, voted=s0, raftlog=s1@group-B55F010AECEC-SegmentedRaftLog:OPENED:c-1,f-1,i0, conf=-1: [s3:0.0.0.0:40896, s4:0.0.0.0:43977, s0:0.0.0.0:38561, s1:0.0.0.0:45613, s2:0.0.0.0:44259], old=null
2019-09-24 12:04:55,702 DEBUG impl.RaftServerImpl (RaftServerImpl.java:requestVote(775)) - s3@group-B55F010AECEC replies to vote request: s0<-s3#0:OK-t3. Peer's state: s3@group-B55F010AECEC:t3, leader=null, voted=s0, raftlog=s3@group-B55F010AECEC-SegmentedRaftLog:OPENED:c-1,f-1,i0, conf=-1: [s3:0.0.0.0:40896, s4:0.0.0.0:43977, s0:0.0.0.0:38561, s1:0.0.0.0:45613, s2:0.0.0.0:44259], old=null
2019-09-24 12:04:55,704 INFO  impl.LeaderElection (LeaderElection.java:logAndReturn(56)) - s0@group-B55F010AECEC-LeaderElection6: Election PASSED; received 2 response(s) [s0<-s4#0:OK-t3, s0<-s2#0:OK-t3] and 0 exception(s); s0@group-B55F010AECEC:t3, leader=null, voted=s0, raftlog=s0@group-B55F010AECEC-SegmentedRaftLog:OPENED:c-1,f-1,i0, conf=-1: [s3:0.0.0.0:40896, s4:0.0.0.0:43977, s0:0.0.0.0:38561, s1:0.0.0.0:45613, s2:0.0.0.0:44259], old=null
2019-09-24 12:04:55,704 INFO  impl.RoleInfo (RoleInfo.java:shutdownLeaderElection(134)) - s0: shutdown LeaderElection
2019-09-24 12:04:55,704 INFO  impl.RaftServerImpl (RaftServerImpl.java:setRole(170)) - s0@group-B55F010AECEC: changes role from CANDIDATE to LEADER at term 3 for changeToLeader
2019-09-24 12:04:55,705 INFO  impl.RaftServerImpl (ServerState.java:setLeader(254)) - s0@group-B55F010AECEC: change Leader from null to s0 at term 3 for becomeLeader, leader elected after 1188ms
2019-09-24 12:04:55,711 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.staging.catchup.gap = 1000 (default)
2019-09-24 12:04:55,712 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.rpc.sleep.time = 25ms (default)
2019-09-24 12:04:55,718 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.write.element-limit = 4096 (default)
2019-09-24 12:04:55,725 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.watch.timeout = 10s (default)
2019-09-24 12:04:55,725 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.watch.timeout.denomination = 1s (default)
2019-09-24 12:04:55,726 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.watch.element-limit = 65536 (default)
2019-09-24 12:04:55,744 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.log.appender.snapshot.chunk.size.max = 16MB (=16777216) (default)
2019-09-24 12:04:55,745 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.log.appender.buffer.byte-limit = 4MB (=4194304) (default)
2019-09-24 12:04:55,745 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.log.appender.buffer.element-limit = 0 (default)
2019-09-24 12:04:55,751 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.log.appender.snapshot.chunk.size.max = 16MB (=16777216) (default)
2019-09-24 12:04:55,752 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.log.appender.buffer.byte-limit = 4MB (=4194304) (default)
2019-09-24 12:04:55,752 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.log.appender.buffer.element-limit = 0 (default)
2019-09-24 12:04:55,752 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.log.appender.snapshot.chunk.size.max = 16MB (=16777216) (default)
2019-09-24 12:04:55,753 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.log.appender.buffer.byte-limit = 4MB (=4194304) (default)
2019-09-24 12:04:55,753 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.log.appender.buffer.element-limit = 0 (default)
2019-09-24 12:04:55,753 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.log.appender.snapshot.chunk.size.max = 16MB (=16777216) (default)
2019-09-24 12:04:55,754 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.log.appender.buffer.byte-limit = 4MB (=4194304) (default)
2019-09-24 12:04:55,754 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.log.appender.buffer.element-limit = 0 (default)
2019-09-24 12:04:55,757 INFO  impl.RoleInfo (RoleInfo.java:updateAndGet(143)) - s0: start LeaderState
2019-09-24 12:04:55,785 INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:startLogSegment(380)) - s0@group-B55F010AECEC-SegmentedRaftLogWorker: Starting segment from index:0
2019-09-24 12:04:55,798 INFO  impl.RaftServerImpl (ServerState.java:setRaftConf(355)) - s0@group-B55F010AECEC: set configuration 0: [s3:0.0.0.0:40896, s4:0.0.0.0:43977, s0:0.0.0.0:38561, s1:0.0.0.0:45613, s2:0.0.0.0:44259], old=null at 0
2019-09-24 12:04:55,819 INFO  ratis.RaftTestUtil (RaftTestUtil.java:waitForLeader(101)) - printing ALL groups
  s3:  RUNNING  FOLLOWER s3@group-B55F010AECEC:t3, leader=null, voted=s0, raftlog=s3@group-B55F010AECEC-SegmentedRaftLog:OPENED:c-1,f-1,i0, conf=-1: [s3:0.0.0.0:40896, s4:0.0.0.0:43977, s0:0.0.0.0:38561, s1:0.0.0.0:45613, s2:0.0.0.0:44259], old=null RUNNING
  s4:  RUNNING  FOLLOWER s4@group-B55F010AECEC:t3, leader=null, voted=s0, raftlog=s4@group-B55F010AECEC-SegmentedRaftLog:OPENED:c-1,f-1,i0, conf=-1: [s3:0.0.0.0:40896, s4:0.0.0.0:43977, s0:0.0.0.0:38561, s1:0.0.0.0:45613, s2:0.0.0.0:44259], old=null RUNNING
  s0:  RUNNING    LEADER s0@group-B55F010AECEC:t3, leader=s0, voted=s0, raftlog=s0@group-B55F010AECEC-SegmentedRaftLog:OPENED:c-1,f-1,i0, conf=0: [s3:0.0.0.0:40896, s4:0.0.0.0:43977, s0:0.0.0.0:38561, s1:0.0.0.0:45613, s2:0.0.0.0:44259], old=null RUNNING
  s1:  RUNNING  FOLLOWER s1@group-B55F010AECEC:t3, leader=null, voted=s0, raftlog=s1@group-B55F010AECEC-SegmentedRaftLog:OPENED:c-1,f-1,i0, conf=-1: [s3:0.0.0.0:40896, s4:0.0.0.0:43977, s0:0.0.0.0:38561, s1:0.0.0.0:45613, s2:0.0.0.0:44259], old=null RUNNING
  s2:  RUNNING  FOLLOWER s2@group-B55F010AECEC:t3, leader=null, voted=s0, raftlog=s2@group-B55F010AECEC-SegmentedRaftLog:OPENED:c-1,f-1,i0, conf=-1: [s3:0.0.0.0:40896, s4:0.0.0.0:43977, s0:0.0.0.0:38561, s1:0.0.0.0:45613, s2:0.0.0.0:44259], old=null RUNNING
2019-09-24 12:04:55,821 INFO  netty.TestLeaderElectionWithNetty (LeaderElectionTests.java:testEnforceLeader(96)) - firstLeader = s0
2019-09-24 12:04:55,821 INFO  netty.TestLeaderElectionWithNetty (LeaderElectionTests.java:testEnforceLeader(101)) - enforce leader to s4
2019-09-24 12:04:55,822 INFO  netty.TestLeaderElectionWithNetty (LeaderElectionTests.java:enforceLeader(107)) - printing ALL groups
  s3:  RUNNING  FOLLOWER s3@group-B55F010AECEC:t3, leader=null, voted=s0, raftlog=s3@group-B55F010AECEC-SegmentedRaftLog:OPENED:c-1,f-1,i0, conf=-1: [s3:0.0.0.0:40896, s4:0.0.0.0:43977, s0:0.0.0.0:38561, s1:0.0.0.0:45613, s2:0.0.0.0:44259], old=null RUNNING
  s4:  RUNNING  FOLLOWER s4@group-B55F010AECEC:t3, leader=null, voted=s0, raftlog=s4@group-B55F010AECEC-SegmentedRaftLog:OPENED:c-1,f-1,i0, conf=-1: [s3:0.0.0.0:40896, s4:0.0.0.0:43977, s0:0.0.0.0:38561, s1:0.0.0.0:45613, s2:0.0.0.0:44259], old=null RUNNING
  s0:  RUNNING    LEADER s0@group-B55F010AECEC:t3, leader=s0, voted=s0, raftlog=s0@group-B55F010AECEC-SegmentedRaftLog:OPENED:c-1,f-1,i0, conf=0: [s3:0.0.0.0:40896, s4:0.0.0.0:43977, s0:0.0.0.0:38561, s1:0.0.0.0:45613, s2:0.0.0.0:44259], old=null RUNNING
  s1:  RUNNING  FOLLOWER s1@group-B55F010AECEC:t3, leader=null, voted=s0, raftlog=s1@group-B55F010AECEC-SegmentedRaftLog:OPENED:c-1,f-1,i0, conf=-1: [s3:0.0.0.0:40896, s4:0.0.0.0:43977, s0:0.0.0.0:38561, s1:0.0.0.0:45613, s2:0.0.0.0:44259], old=null RUNNING
  s2:  RUNNING  FOLLOWER s2@group-B55F010AECEC:t3, leader=null, voted=s0, raftlog=s2@group-B55F010AECEC-SegmentedRaftLog:OPENED:c-1,f-1,i0, conf=-1: [s3:0.0.0.0:40896, s4:0.0.0.0:43977, s0:0.0.0.0:38561, s1:0.0.0.0:45613, s2:0.0.0.0:44259], old=null RUNNING
2019-09-24 12:04:55,823 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.rpc.timeout.max = 300ms (default)
2019-09-24 12:04:55,824 INFO  impl.RaftServerImpl (ServerState.java:setLeader(254)) - s2@group-B55F010AECEC: change Leader from null to s0 at term 3 for appendEntries, leader elected after 1307ms
2019-09-24 12:04:55,824 INFO  impl.RaftServerImpl (ServerState.java:setLeader(254)) - s3@group-B55F010AECEC: change Leader from null to s0 at term 3 for appendEntries, leader elected after 1307ms
2019-09-24 12:04:55,824 INFO  impl.RaftServerImpl (ServerState.java:setLeader(254)) - s4@group-B55F010AECEC: change Leader from null to s0 at term 3 for appendEntries, leader elected after 1307ms
2019-09-24 12:04:55,824 INFO  impl.RaftServerImpl (ServerState.java:setLeader(254)) - s1@group-B55F010AECEC: change Leader from null to s0 at term 3 for appendEntries, leader elected after 1307ms
2019-09-24 12:04:55,958 INFO  util.CodeInjectionForTesting (DelayLocalExecutionInjection.java:execute(64)) - s0 delay 150 ms, args=[serverRequest {
  requestorId: "s0"
  replyId: "s4"
  raftGroupId {
    id: "QPMP\315]K\346\200\n\265_\001\n\354\354"
  }
  slidingWindowEntry {
  }
}
leaderTerm: 3
entries {
  term: 3
  configurationEntry {
    peers {
      id: "s3"
      address: "0.0.0.0:40896"
    }
    peers {
      id: "s4"
      address: "0.0.0.0:43977"
    }
    peers {
      id: "s0"
      address: "0.0.0.0:38561"
    }
    peers {
      id: "s1"
      address: "0.0.0.0:45613"
    }
    peers {
      id: "s2"
      address: "0.0.0.0:44259"
    }
  }
}
leaderCommit: 18446744073709551615
commitInfos {
  server {
    id: "s0"
    address: "0.0.0.0:38561"
  }
  commitIndex: 18446744073709551615
}
commitInfos {
  server {
    id: "s3"
    address: "0.0.0.0:40896"
  }
  commitIndex: 18446744073709551615
}
commitInfos {
  server {
    id: "s4"
    address: "0.0.0.0:43977"
  }
  commitIndex: 18446744073709551615
}
commitInfos {
  server {
    id: "s1"
    address: "0.0.0.0:45613"
  }
  commitIndex: 18446744073709551615
}
commitInfos {
  server {
    id: "s2"
    address: "0.0.0.0:44259"
  }
  commitIndex: 18446744073709551615
}
]
2019-09-24 12:04:55,961 INFO  util.CodeInjectionForTesting (DelayLocalExecutionInjection.java:execute(64)) - s0 delay 150 ms, args=[serverRequest {
  requestorId: "s0"
  replyId: "s2"
  raftGroupId {
    id: "QPMP\315]K\346\200\n\265_\001\n\354\354"
  }
  slidingWindowEntry {
  }
}
leaderTerm: 3
entries {
  term: 3
  configurationEntry {
    peers {
      id: "s3"
      address: "0.0.0.0:40896"
    }
    peers {
      id: "s4"
      address: "0.0.0.0:43977"
    }
    peers {
      id: "s0"
      address: "0.0.0.0:38561"
    }
    peers {
      id: "s1"
      address: "0.0.0.0:45613"
    }
    peers {
      id: "s2"
      address: "0.0.0.0:44259"
    }
  }
}
leaderCommit: 18446744073709551615
commitInfos {
  server {
    id: "s0"
    address: "0.0.0.0:38561"
  }
  commitIndex: 18446744073709551615
}
commitInfos {
  server {
    id: "s3"
    address: "0.0.0.0:40896"
  }
  commitIndex: 18446744073709551615
}
commitInfos {
  server {
    id: "s4"
    address: "0.0.0.0:43977"
  }
  commitIndex: 18446744073709551615
}
commitInfos {
  server {
    id: "s1"
    address: "0.0.0.0:45613"
  }
  commitIndex: 18446744073709551615
}
commitInfos {
  server {
    id: "s2"
    address: "0.0.0.0:44259"
  }
  commitIndex: 18446744073709551615
}
]
2019-09-24 12:04:55,961 INFO  util.CodeInjectionForTesting (DelayLocalExecutionInjection.java:execute(64)) - s0 delay 150 ms, args=[serverRequest {
  requestorId: "s0"
  replyId: "s3"
  raftGroupId {
    id: "QPMP\315]K\346\200\n\265_\001\n\354\354"
  }
  slidingWindowEntry {
  }
}
leaderTerm: 3
entries {
  term: 3
  configurationEntry {
    peers {
      id: "s3"
      address: "0.0.0.0:40896"
    }
    peers {
      id: "s4"
      address: "0.0.0.0:43977"
    }
    peers {
      id: "s0"
      address: "0.0.0.0:38561"
    }
    peers {
      id: "s1"
      address: "0.0.0.0:45613"
    }
    peers {
      id: "s2"
      address: "0.0.0.0:44259"
    }
  }
}
leaderCommit: 18446744073709551615
commitInfos {
  server {
    id: "s0"
    address: "0.0.0.0:38561"
  }
  commitIndex: 18446744073709551615
}
commitInfos {
  server {
    id: "s3"
    address: "0.0.0.0:40896"
  }
  commitIndex: 18446744073709551615
}
commitInfos {
  server {
    id: "s4"
    address: "0.0.0.0:43977"
  }
  commitIndex: 18446744073709551615
}
commitInfos {
  server {
    id: "s1"
    address: "0.0.0.0:45613"
  }
  commitIndex: 18446744073709551615
}
commitInfos {
  server {
    id: "s2"
    address: "0.0.0.0:44259"
  }
  commitIndex: 18446744073709551615
}
]
2019-09-24 12:04:55,961 INFO  util.CodeInjectionForTesting (DelayLocalExecutionInjection.java:execute(64)) - s0 delay 150 ms, args=[serverRequest {
  requestorId: "s0"
  replyId: "s1"
  raftGroupId {
    id: "QPMP\315]K\346\200\n\265_\001\n\354\354"
  }
  slidingWindowEntry {
  }
}
leaderTerm: 3
entries {
  term: 3
  configurationEntry {
    peers {
      id: "s3"
      address: "0.0.0.0:40896"
    }
    peers {
      id: "s4"
      address: "0.0.0.0:43977"
    }
    peers {
      id: "s0"
      address: "0.0.0.0:38561"
    }
    peers {
      id: "s1"
      address: "0.0.0.0:45613"
    }
    peers {
      id: "s2"
      address: "0.0.0.0:44259"
    }
  }
}
leaderCommit: 18446744073709551615
commitInfos {
  server {
    id: "s0"
    address: "0.0.0.0:38561"
  }
  commitIndex: 18446744073709551615
}
commitInfos {
  server {
    id: "s3"
    address: "0.0.0.0:40896"
  }
  commitIndex: 18446744073709551615
}
commitInfos {
  server {
    id: "s4"
    address: "0.0.0.0:43977"
  }
  commitIndex: 18446744073709551615
}
commitInfos {
  server {
    id: "s1"
    address: "0.0.0.0:45613"
  }
  commitIndex: 18446744073709551615
}
commitInfos {
  server {
    id: "s2"
    address: "0.0.0.0:44259"
  }
  commitIndex: 18446744073709551615
}
]
2019-09-24 12:04:56,008 INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:execute(569)) - s0@group-B55F010AECEC-SegmentedRaftLogWorker: created new log segment /workdir/ratis-test/target/test/data/aaa4fccd/MiniRaftClusterWithNetty9708bfc2/s0/51504d50-cd5d-4be6-800a-b55f010aecec/current/log_inprogress_0
2019-09-24 12:04:56,026 INFO  impl.FollowerState (FollowerState.java:run(108)) - s4@group-B55F010AECEC-FollowerState: change to CANDIDATE, lastRpcTime:197ms, electionTimeout:160ms
2019-09-24 12:04:56,026 INFO  impl.RoleInfo (RoleInfo.java:shutdownFollowerState(121)) - s4: shutdown FollowerState
2019-09-24 12:04:56,026 INFO  impl.RaftServerImpl (RaftServerImpl.java:setRole(170)) - s4@group-B55F010AECEC: changes role from  FOLLOWER to CANDIDATE at term 3 for changeToCandidate
2019-09-24 12:04:56,027 INFO  impl.RoleInfo (RoleInfo.java:updateAndGet(143)) - s4: start LeaderElection
2019-09-24 12:04:56,027 INFO  impl.RaftServerImpl (ServerState.java:setLeader(254)) - s4@group-B55F010AECEC: change Leader from s0 to null at term 3 for initElection
2019-09-24 12:04:56,051 INFO  impl.LeaderElection (LeaderElection.java:askForVotes(178)) - s4@group-B55F010AECEC-LeaderElection7: begin an election at term 4 for -1: [s3:0.0.0.0:40896, s4:0.0.0.0:43977, s0:0.0.0.0:38561, s1:0.0.0.0:45613, s2:0.0.0.0:44259], old=null
2019-09-24 12:04:56,053 DEBUG impl.RaftServerImpl (RaftServerImpl.java:requestVote(743)) - s0@group-B55F010AECEC: receive requestVote(s4, group-B55F010AECEC, 4, (t:0, i:0))
2019-09-24 12:04:56,053 DEBUG impl.RaftServerImpl (RaftServerImpl.java:requestVote(743)) - s1@group-B55F010AECEC: receive requestVote(s4, group-B55F010AECEC, 4, (t:0, i:0))
2019-09-24 12:04:56,053 DEBUG impl.RaftServerImpl (RaftServerImpl.java:requestVote(743)) - s3@group-B55F010AECEC: receive requestVote(s4, group-B55F010AECEC, 4, (t:0, i:0))
2019-09-24 12:04:56,054 INFO  impl.RaftServerImpl (ServerState.java:setLeader(254)) - s1@group-B55F010AECEC: change Leader from s0 to null at term 4 for updateCurrentTerm
2019-09-24 12:04:56,053 DEBUG impl.RaftServerImpl (RaftServerImpl.java:requestVote(743)) - s2@group-B55F010AECEC: receive requestVote(s4, group-B55F010AECEC, 4, (t:0, i:0))
2019-09-24 12:04:56,053 INFO  impl.RaftServerImpl (ServerState.java:setLeader(254)) - s0@group-B55F010AECEC: change Leader from s0 to null at term 4 for updateCurrentTerm
2019-09-24 12:04:56,055 INFO  impl.RaftServerImpl (ServerState.java:setLeader(254)) - s2@group-B55F010AECEC: change Leader from s0 to null at term 4 for updateCurrentTerm
2019-09-24 12:04:56,054 INFO  impl.RaftServerImpl (RaftServerImpl.java:setRole(170)) - s1@group-B55F010AECEC: changes role from  FOLLOWER to FOLLOWER at term 4 for recognizeCandidate:s4
2019-09-24 12:04:56,056 INFO  impl.RoleInfo (RoleInfo.java:shutdownFollowerState(121)) - s1: shutdown FollowerState
2019-09-24 12:04:56,054 INFO  impl.RaftServerImpl (ServerState.java:setLeader(254)) - s3@group-B55F010AECEC: change Leader from s0 to null at term 4 for updateCurrentTerm
2019-09-24 12:04:56,056 INFO  impl.FollowerState (FollowerState.java:run(117)) - s1@group-B55F010AECEC-FollowerState was interrupted: java.lang.InterruptedException: sleep interrupted
2019-09-24 12:04:56,056 INFO  impl.RoleInfo (RoleInfo.java:updateAndGet(143)) - s1: start FollowerState
2019-09-24 12:04:56,056 INFO  impl.RaftServerImpl (RaftServerImpl.java:setRole(170)) - s2@group-B55F010AECEC: changes role from  FOLLOWER to FOLLOWER at term 4 for recognizeCandidate:s4
2019-09-24 12:04:56,055 INFO  impl.RaftServerImpl (RaftServerImpl.java:setRole(170)) - s0@group-B55F010AECEC: changes role from    LEADER to FOLLOWER at term 4 for recognizeCandidate:s4
2019-09-24 12:04:56,058 INFO  impl.RoleInfo (RoleInfo.java:shutdownFollowerState(121)) - s2: shutdown FollowerState
2019-09-24 12:04:56,057 INFO  impl.RaftServerImpl (RaftServerImpl.java:setRole(170)) - s3@group-B55F010AECEC: changes role from  FOLLOWER to FOLLOWER at term 4 for recognizeCandidate:s4
2019-09-24 12:04:56,058 INFO  impl.FollowerState (FollowerState.java:run(117)) - s2@group-B55F010AECEC-FollowerState was interrupted: java.lang.InterruptedException: sleep interrupted
2019-09-24 12:04:56,058 INFO  impl.RoleInfo (RoleInfo.java:updateAndGet(143)) - s2: start FollowerState
2019-09-24 12:04:56,058 INFO  impl.RoleInfo (RoleInfo.java:shutdownLeaderState(104)) - s0: shutdown LeaderState
2019-09-24 12:04:56,059 INFO  impl.RoleInfo (RoleInfo.java:shutdownFollowerState(121)) - s3: shutdown FollowerState
2019-09-24 12:04:56,060 INFO  impl.RoleInfo (RoleInfo.java:updateAndGet(143)) - s3: start FollowerState
2019-09-24 12:04:56,060 INFO  impl.FollowerState (FollowerState.java:run(117)) - s3@group-B55F010AECEC-FollowerState was interrupted: java.lang.InterruptedException: sleep interrupted
2019-09-24 12:04:56,062 INFO  util.CodeInjectionForTesting (BlockRequestHandlingInjection.java:execute(76)) - s4: Block request from s0
2019-09-24 12:04:56,063 DEBUG impl.RaftServerImpl (RaftServerImpl.java:logAppendEntries(850)) - s3@group-B55F010AECEC: receive appendEntries(s0, 3, null, -1, false, commits[s0:c-1, s3:c-1, s4:c-1, s1:c-1, s2:c-1], entries: (t:3, i:0), CONFIGURATIONENTRY
2019-09-24 12:04:56,063 INFO  impl.PendingRequests (PendingRequests.java:sendNotLeaderResponses(202)) - s0@group-B55F010AECEC-PendingRequests: sendNotLeaderResponses
2019-09-24 12:04:56,063 DEBUG impl.RaftServerImpl (RaftServerImpl.java:logAppendEntries(850)) - s1@group-B55F010AECEC: receive appendEntries(s0, 3, null, -1, false, commits[s0:c-1, s3:c-1, s4:c-1, s1:c-1, s2:c-1], entries: (t:3, i:0), CONFIGURATIONENTRY
2019-09-24 12:04:56,063 DEBUG impl.RaftServerImpl (RaftServerImpl.java:logAppendEntries(850)) - s2@group-B55F010AECEC: receive appendEntries(s0, 3, null, -1, false, commits[s0:c-1, s3:c-1, s4:c-1, s1:c-1, s2:c-1], entries: (t:3, i:0), CONFIGURATIONENTRY
2019-09-24 12:04:56,065 INFO  impl.RoleInfo (RoleInfo.java:updateAndGet(143)) - s0: start FollowerState
2019-09-24 12:04:56,072 DEBUG impl.RaftServerImpl (RaftServerImpl.java:requestVote(775)) - s3@group-B55F010AECEC replies to vote request: s4<-s3#0:OK-t4. Peer's state: s3@group-B55F010AECEC:t4, leader=null, voted=s4, raftlog=s3@group-B55F010AECEC-SegmentedRaftLog:OPENED:c-1,f-1,i0, conf=-1: [s3:0.0.0.0:40896, s4:0.0.0.0:43977, s0:0.0.0.0:38561, s1:0.0.0.0:45613, s2:0.0.0.0:44259], old=null
2019-09-24 12:04:56,072 DEBUG impl.RaftServerImpl (RaftServerImpl.java:requestVote(775)) - s2@group-B55F010AECEC replies to vote request: s4<-s2#0:OK-t4. Peer's state: s2@group-B55F010AECEC:t4, leader=null, voted=s4, raftlog=s2@group-B55F010AECEC-SegmentedRaftLog:OPENED:c-1,f-1,i0, conf=-1: [s3:0.0.0.0:40896, s4:0.0.0.0:43977, s0:0.0.0.0:38561, s1:0.0.0.0:45613, s2:0.0.0.0:44259], old=null
2019-09-24 12:04:56,073 DEBUG impl.RaftServerImpl (RaftServerImpl.java:appendEntriesAsync(906)) - s3@group-B55F010AECEC: Not recognize s0 (term=3) as leader, state: s3@group-B55F010AECEC:t4, leader=null, voted=s4, raftlog=s3@group-B55F010AECEC-SegmentedRaftLog:OPENED:c-1,f-1,i0, conf=-1: [s3:0.0.0.0:40896, s4:0.0.0.0:43977, s0:0.0.0.0:38561, s1:0.0.0.0:45613, s2:0.0.0.0:44259], old=null reply: s0<-s3#0:FAIL,NOT_LEADER,nextIndex:1,term:4,followerCommit:-1
2019-09-24 12:04:56,072 DEBUG impl.RaftServerImpl (RaftServerImpl.java:requestVote(775)) - s1@group-B55F010AECEC replies to vote request: s4<-s1#0:OK-t4. Peer's state: s1@group-B55F010AECEC:t4, leader=null, voted=s4, raftlog=s1@group-B55F010AECEC-SegmentedRaftLog:OPENED:c-1,f-1,i0, conf=-1: [s3:0.0.0.0:40896, s4:0.0.0.0:43977, s0:0.0.0.0:38561, s1:0.0.0.0:45613, s2:0.0.0.0:44259], old=null
2019-09-24 12:04:56,072 DEBUG impl.RaftServerImpl (RaftServerImpl.java:requestVote(775)) - s0@group-B55F010AECEC replies to vote request: s4<-s0#0:FAIL-t4. Peer's state: s0@group-B55F010AECEC:t4, leader=null, voted=null, raftlog=s0@group-B55F010AECEC-SegmentedRaftLog:OPENED:c0,f0,i0, conf=0: [s3:0.0.0.0:40896, s4:0.0.0.0:43977, s0:0.0.0.0:38561, s1:0.0.0.0:45613, s2:0.0.0.0:44259], old=null
2019-09-24 12:04:56,074 INFO  impl.LeaderElection (LeaderElection.java:logAndReturn(56)) - s4@group-B55F010AECEC-LeaderElection7: Election PASSED; received 2 response(s) [s4<-s3#0:OK-t4, s4<-s2#0:OK-t4] and 0 exception(s); s4@group-B55F010AECEC:t4, leader=null, voted=s4, raftlog=s4@group-B55F010AECEC-SegmentedRaftLog:OPENED:c-1,f-1,i0, conf=-1: [s3:0.0.0.0:40896, s4:0.0.0.0:43977, s0:0.0.0.0:38561, s1:0.0.0.0:45613, s2:0.0.0.0:44259], old=null
2019-09-24 12:04:56,073 DEBUG impl.RaftServerImpl (RaftServerImpl.java:appendEntriesAsync(906)) - s1@group-B55F010AECEC: Not recognize s0 (term=3) as leader, state: s1@group-B55F010AECEC:t4, leader=null, voted=s4, raftlog=s1@group-B55F010AECEC-SegmentedRaftLog:OPENED:c-1,f-1,i0, conf=-1: [s3:0.0.0.0:40896, s4:0.0.0.0:43977, s0:0.0.0.0:38561, s1:0.0.0.0:45613, s2:0.0.0.0:44259], old=null reply: s0<-s1#0:FAIL,NOT_LEADER,nextIndex:1,term:4,followerCommit:-1
2019-09-24 12:04:56,073 DEBUG impl.RaftServerImpl (RaftServerImpl.java:appendEntriesAsync(906)) - s2@group-B55F010AECEC: Not recognize s0 (term=3) as leader, state: s2@group-B55F010AECEC:t4, leader=null, voted=s4, raftlog=s2@group-B55F010AECEC-SegmentedRaftLog:OPENED:c-1,f-1,i0, conf=-1: [s3:0.0.0.0:40896, s4:0.0.0.0:43977, s0:0.0.0.0:38561, s1:0.0.0.0:45613, s2:0.0.0.0:44259], old=null reply: s0<-s2#0:FAIL,NOT_LEADER,nextIndex:1,term:4,followerCommit:-1
2019-09-24 12:04:56,074 INFO  impl.RoleInfo (RoleInfo.java:shutdownLeaderElection(134)) - s4: shutdown LeaderElection
2019-09-24 12:04:56,075 INFO  impl.RaftServerImpl (RaftServerImpl.java:setRole(170)) - s4@group-B55F010AECEC: changes role from CANDIDATE to LEADER at term 4 for changeToLeader
2019-09-24 12:04:56,075 INFO  impl.RaftServerImpl (ServerState.java:setLeader(254)) - s4@group-B55F010AECEC: change Leader from null to s4 at term 4 for becomeLeader, leader elected after 47ms
2019-09-24 12:04:56,075 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.staging.catchup.gap = 1000 (default)
2019-09-24 12:04:56,076 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.rpc.sleep.time = 25ms (default)
2019-09-24 12:04:56,076 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.write.element-limit = 4096 (default)
2019-09-24 12:04:56,076 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.watch.timeout = 10s (default)
2019-09-24 12:04:56,076 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.watch.timeout.denomination = 1s (default)
2019-09-24 12:04:56,077 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.watch.element-limit = 65536 (default)
2019-09-24 12:04:56,080 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.log.appender.snapshot.chunk.size.max = 16MB (=16777216) (default)
2019-09-24 12:04:56,080 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.log.appender.buffer.byte-limit = 4MB (=4194304) (default)
2019-09-24 12:04:56,081 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.log.appender.buffer.element-limit = 0 (default)
2019-09-24 12:04:56,081 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.log.appender.snapshot.chunk.size.max = 16MB (=16777216) (default)
2019-09-24 12:04:56,081 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.log.appender.buffer.byte-limit = 4MB (=4194304) (default)
2019-09-24 12:04:56,082 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.log.appender.buffer.element-limit = 0 (default)
2019-09-24 12:04:56,082 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.log.appender.snapshot.chunk.size.max = 16MB (=16777216) (default)
2019-09-24 12:04:56,082 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.log.appender.buffer.byte-limit = 4MB (=4194304) (default)
2019-09-24 12:04:56,083 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.log.appender.buffer.element-limit = 0 (default)
2019-09-24 12:04:56,083 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.log.appender.snapshot.chunk.size.max = 16MB (=16777216) (default)
2019-09-24 12:04:56,083 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.log.appender.buffer.byte-limit = 4MB (=4194304) (default)
2019-09-24 12:04:56,083 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.log.appender.buffer.element-limit = 0 (default)
2019-09-24 12:04:56,084 INFO  impl.RoleInfo (RoleInfo.java:updateAndGet(143)) - s4: start LeaderState
2019-09-24 12:04:56,084 INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:startLogSegment(380)) - s4@group-B55F010AECEC-SegmentedRaftLogWorker: Starting segment from index:0
2019-09-24 12:04:56,086 INFO  impl.RaftServerImpl (ServerState.java:setRaftConf(355)) - s4@group-B55F010AECEC: set configuration 0: [s3:0.0.0.0:40896, s4:0.0.0.0:43977, s0:0.0.0.0:38561, s1:0.0.0.0:45613, s2:0.0.0.0:44259], old=null at 0
2019-09-24 12:04:56,087 INFO  impl.RaftServerImpl (ServerState.java:setLeader(254)) - s0@group-B55F010AECEC: change Leader from null to s4 at term 4 for appendEntries, leader elected after 33ms
2019-09-24 12:04:56,087 INFO  impl.RaftServerImpl (ServerState.java:setLeader(254)) - s1@group-B55F010AECEC: change Leader from null to s4 at term 4 for appendEntries, leader elected after 33ms
2019-09-24 12:04:56,087 INFO  impl.RaftServerImpl (ServerState.java:setLeader(254)) - s3@group-B55F010AECEC: change Leader from null to s4 at term 4 for appendEntries, leader elected after 32ms
2019-09-24 12:04:56,087 INFO  impl.RaftServerImpl (ServerState.java:setLeader(254)) - s2@group-B55F010AECEC: change Leader from null to s4 at term 4 for appendEntries, leader elected after 32ms
2019-09-24 12:04:56,090 DEBUG impl.RaftServerImpl (RaftServerImpl.java:logAppendEntries(850)) - s1@group-B55F010AECEC: receive appendEntries(s4, 4, null, -1, false, commits[s4:c-1, s3:c-1, s0:c0, s1:c-1, s2:c-1], entries: (t:4, i:0), CONFIGURATIONENTRY
2019-09-24 12:04:56,091 DEBUG impl.RaftServerImpl (RaftServerImpl.java:logAppendEntries(850)) - s3@group-B55F010AECEC: receive appendEntries(s4, 4, null, -1, false, commits[s4:c-1, s3:c-1, s0:c0, s1:c-1, s2:c-1], entries: (t:4, i:0), CONFIGURATIONENTRY
2019-09-24 12:04:56,091 DEBUG impl.RaftServerImpl (RaftServerImpl.java:logAppendEntries(850)) - s2@group-B55F010AECEC: receive appendEntries(s4, 4, null, -1, false, commits[s4:c-1, s3:c-1, s0:c0, s1:c-1, s2:c-1], entries: (t:4, i:0), CONFIGURATIONENTRY
2019-09-24 12:04:56,094 INFO  impl.RaftServerImpl (ServerState.java:setRaftConf(355)) - s1@group-B55F010AECEC: set configuration 0: [s3:0.0.0.0:40896, s4:0.0.0.0:43977, s0:0.0.0.0:38561, s1:0.0.0.0:45613, s2:0.0.0.0:44259], old=null at 0
2019-09-24 12:04:56,094 INFO  impl.RaftServerImpl (ServerState.java:setRaftConf(355)) - s3@group-B55F010AECEC: set configuration 0: [s3:0.0.0.0:40896, s4:0.0.0.0:43977, s0:0.0.0.0:38561, s1:0.0.0.0:45613, s2:0.0.0.0:44259], old=null at 0
2019-09-24 12:04:56,094 INFO  impl.RaftServerImpl (ServerState.java:setRaftConf(355)) - s2@group-B55F010AECEC: set configuration 0: [s3:0.0.0.0:40896, s4:0.0.0.0:43977, s0:0.0.0.0:38561, s1:0.0.0.0:45613, s2:0.0.0.0:44259], old=null at 0
2019-09-24 12:04:56,095 INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:startLogSegment(380)) - s3@group-B55F010AECEC-SegmentedRaftLogWorker: Starting segment from index:0
2019-09-24 12:04:56,094 INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:startLogSegment(380)) - s1@group-B55F010AECEC-SegmentedRaftLogWorker: Starting segment from index:0
2019-09-24 12:04:56,095 INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:startLogSegment(380)) - s2@group-B55F010AECEC-SegmentedRaftLogWorker: Starting segment from index:0
2019-09-24 12:04:56,169 INFO  impl.RaftServerImpl (RaftServerImpl.java:checkInconsistentAppendEntries(999)) - s0@group-B55F010AECEC: Failed appendEntries as previous log entry ((t:4, i:0)) is not found
2019-09-24 12:04:56,169 INFO  impl.RaftServerImpl (RaftServerImpl.java:checkInconsistentAppendEntries(972)) - s0@group-B55F010AECEC: inconsistency entries. Reply:s4<-s0#0:FAIL,INCONSISTENCY,nextIndex:0,term:4,followerCommit:0
2019-09-24 12:04:56,172 INFO  impl.FollowerInfo (FollowerInfo.java:lambda$new$0(51)) - s4@group-B55F010AECEC->s0: nextIndex: updateUnconditionally 1 -> 0
2019-09-24 12:04:56,174 DEBUG impl.RaftServerImpl (RaftServerImpl.java:logAppendEntries(850)) - s0@group-B55F010AECEC: receive appendEntries(s4, 4, null, -1, false, commits[s4:c-1, s3:c-1, s0:c0, s1:c-1, s2:c-1], entries: (t:4, i:0), CONFIGURATIONENTRY
2019-09-24 12:04:56,175 INFO  impl.RaftServerImpl (ServerState.java:setRaftConf(355)) - s0@group-B55F010AECEC: set configuration 0: [s3:0.0.0.0:40896, s4:0.0.0.0:43977, s0:0.0.0.0:38561, s1:0.0.0.0:45613, s2:0.0.0.0:44259], old=null at 0
2019-09-24 12:04:56,178 INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:truncate(396)) - s0@group-B55F010AECEC-SegmentedRaftLogWorker: Truncating segments toTruncate: null
  toDelete: [(0, 0) isOpen? true, length=0, newEndIndex=-1], start index 0
2019-09-24 12:04:56,179 INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:startLogSegment(380)) - s0@group-B55F010AECEC-SegmentedRaftLogWorker: Starting segment from index:0
2019-09-24 12:04:56,183 TRACE util.FileUtils (LogUtils.java:runAndLog(61)) - Successfully ran Files.delete /workdir/ratis-test/target/test/data/aaa4fccd/MiniRaftClusterWithNetty9708bfc2/s0/51504d50-cd5d-4be6-800a-b55f010aecec/current/log_inprogress_0
2019-09-24 12:04:56,183 INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:execute(633)) - s0@group-B55F010AECEC-SegmentedRaftLogWorker: Deleted log file /workdir/ratis-test/target/test/data/aaa4fccd/MiniRaftClusterWithNetty9708bfc2/s0/51504d50-cd5d-4be6-800a-b55f010aecec/current/log_inprogress_0
2019-09-24 12:04:56,184 INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:lambda$new$0(132)) - s0@group-B55F010AECEC-SegmentedRaftLogWorker: flushIndex: setUnconditionally 0 -> -1
2019-09-24 12:04:56,373 INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:execute(569)) - s2@group-B55F010AECEC-SegmentedRaftLogWorker: created new log segment /workdir/ratis-test/target/test/data/aaa4fccd/MiniRaftClusterWithNetty9708bfc2/s2/51504d50-cd5d-4be6-800a-b55f010aecec/current/log_inprogress_0
2019-09-24 12:04:56,373 INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:execute(569)) - s1@group-B55F010AECEC-SegmentedRaftLogWorker: created new log segment /workdir/ratis-test/target/test/data/aaa4fccd/MiniRaftClusterWithNetty9708bfc2/s1/51504d50-cd5d-4be6-800a-b55f010aecec/current/log_inprogress_0
2019-09-24 12:04:56,373 INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:execute(569)) - s0@group-B55F010AECEC-SegmentedRaftLogWorker: created new log segment /workdir/ratis-test/target/test/data/aaa4fccd/MiniRaftClusterWithNetty9708bfc2/s0/51504d50-cd5d-4be6-800a-b55f010aecec/current/log_inprogress_0
2019-09-24 12:04:56,373 INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:execute(569)) - s4@group-B55F010AECEC-SegmentedRaftLogWorker: created new log segment /workdir/ratis-test/target/test/data/aaa4fccd/MiniRaftClusterWithNetty9708bfc2/s4/51504d50-cd5d-4be6-800a-b55f010aecec/current/log_inprogress_0
2019-09-24 12:04:56,373 INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:execute(569)) - s3@group-B55F010AECEC-SegmentedRaftLogWorker: created new log segment /workdir/ratis-test/target/test/data/aaa4fccd/MiniRaftClusterWithNetty9708bfc2/s3/51504d50-cd5d-4be6-800a-b55f010aecec/current/log_inprogress_0
2019-09-24 12:04:56,377 DEBUG impl.RaftServerImpl (RaftServerImpl.java:logAppendEntries(850)) - s2@group-B55F010AECEC: succeeded to handle AppendEntries. Reply: s4<-s2#0:OK,SUCCESS,nextIndex:1,term:4,followerCommit:-1
2019-09-24 12:04:56,377 DEBUG impl.RaftServerImpl (RaftServerImpl.java:logAppendEntries(850)) - s1@group-B55F010AECEC: succeeded to handle AppendEntries. Reply: s4<-s1#0:OK,SUCCESS,nextIndex:1,term:4,followerCommit:-1
2019-09-24 12:04:56,377 DEBUG impl.RaftServerImpl (RaftServerImpl.java:logAppendEntries(850)) - s3@group-B55F010AECEC: succeeded to handle AppendEntries. Reply: s4<-s3#0:OK,SUCCESS,nextIndex:1,term:4,followerCommit:-1
2019-09-24 12:04:56,377 DEBUG impl.RaftServerImpl (RaftServerImpl.java:logAppendEntries(850)) - s0@group-B55F010AECEC: succeeded to handle AppendEntries. Reply: s4<-s0#0:OK,SUCCESS,nextIndex:1,term:4,followerCommit:0
2019-09-24 12:04:56,728 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.rpc.timeout.max = 300ms (default)
2019-09-24 12:04:56,964 INFO  util.CodeInjectionForTesting (BlockRequestHandlingInjection.java:execute(82)) - s4: unBlock request from s0
2019-09-24 12:04:56,965 DEBUG impl.RaftServerImpl (RaftServerImpl.java:logAppendEntries(850)) - s4@group-B55F010AECEC: receive appendEntries(s0, 3, null, -1, false, commits[s0:c-1, s3:c-1, s4:c-1, s1:c-1, s2:c-1], entries: (t:3, i:0), CONFIGURATIONENTRY
2019-09-24 12:04:56,966 DEBUG impl.RaftServerImpl (RaftServerImpl.java:appendEntriesAsync(906)) - s4@group-B55F010AECEC: Not recognize s0 (term=3) as leader, state: s4@group-B55F010AECEC:t4, leader=s4, voted=s4, raftlog=s4@group-B55F010AECEC-SegmentedRaftLog:OPENED:c0,f0,i0, conf=0: [s3:0.0.0.0:40896, s4:0.0.0.0:43977, s0:0.0.0.0:38561, s1:0.0.0.0:45613, s2:0.0.0.0:44259], old=null reply: s0<-s4#0:FAIL,NOT_LEADER,nextIndex:1,term:4,followerCommit:0
2019-09-24 12:04:57,629 INFO  netty.TestLeaderElectionWithNetty (LeaderElectionTests.java:enforceLeader(113)) - printing ALL groups
  s3:  RUNNING  FOLLOWER s3@group-B55F010AECEC:t4, leader=s4, voted=s4, raftlog=s3@group-B55F010AECEC-SegmentedRaftLog:OPENED:c0,f0,i0, conf=0: [s3:0.0.0.0:40896, s4:0.0.0.0:43977, s0:0.0.0.0:38561, s1:0.0.0.0:45613, s2:0.0.0.0:44259], old=null RUNNING
  s4:  RUNNING    LEADER s4@group-B55F010AECEC:t4, leader=s4, voted=s4, raftlog=s4@group-B55F010AECEC-SegmentedRaftLog:OPENED:c0,f0,i0, conf=0: [s3:0.0.0.0:40896, s4:0.0.0.0:43977, s0:0.0.0.0:38561, s1:0.0.0.0:45613, s2:0.0.0.0:44259], old=null RUNNING
  s0:  RUNNING  FOLLOWER s0@group-B55F010AECEC:t4, leader=s4, voted=null, raftlog=s0@group-B55F010AECEC-SegmentedRaftLog:OPENED:c0,f0,i0, conf=0: [s3:0.0.0.0:40896, s4:0.0.0.0:43977, s0:0.0.0.0:38561, s1:0.0.0.0:45613, s2:0.0.0.0:44259], old=null RUNNING
  s1:  RUNNING  FOLLOWER s1@group-B55F010AECEC:t4, leader=s4, voted=s4, raftlog=s1@group-B55F010AECEC-SegmentedRaftLog:OPENED:c0,f0,i0, conf=0: [s3:0.0.0.0:40896, s4:0.0.0.0:43977, s0:0.0.0.0:38561, s1:0.0.0.0:45613, s2:0.0.0.0:44259], old=null RUNNING
  s2:  RUNNING  FOLLOWER s2@group-B55F010AECEC:t4, leader=s4, voted=s4, raftlog=s2@group-B55F010AECEC-SegmentedRaftLog:OPENED:c0,f0,i0, conf=0: [s3:0.0.0.0:40896, s4:0.0.0.0:43977, s0:0.0.0.0:38561, s1:0.0.0.0:45613, s2:0.0.0.0:44259], old=null RUNNING
2019-09-24 12:04:57,630 INFO  ratis.MiniRaftCluster (MiniRaftCluster.java:shutdown(700)) - ************************************************************** 
2019-09-24 12:04:57,630 INFO  ratis.MiniRaftCluster (MiniRaftCluster.java:shutdown(701)) - *** 
2019-09-24 12:04:57,630 INFO  ratis.MiniRaftCluster (MiniRaftCluster.java:shutdown(702)) - ***     Stopping MiniRaftClusterWithNetty
2019-09-24 12:04:57,631 INFO  ratis.MiniRaftCluster (MiniRaftCluster.java:shutdown(703)) - *** 
2019-09-24 12:04:57,631 INFO  ratis.MiniRaftCluster (MiniRaftCluster.java:shutdown(704)) - ************************************************************** 
2019-09-24 12:04:57,631 INFO  ratis.MiniRaftCluster (MiniRaftCluster.java:shutdown(705)) - printing ALL groups
  s3:  RUNNING  FOLLOWER s3@group-B55F010AECEC:t4, leader=s4, voted=s4, raftlog=s3@group-B55F010AECEC-SegmentedRaftLog:OPENED:c0,f0,i0, conf=0: [s3:0.0.0.0:40896, s4:0.0.0.0:43977, s0:0.0.0.0:38561, s1:0.0.0.0:45613, s2:0.0.0.0:44259], old=null RUNNING
  s4:  RUNNING    LEADER s4@group-B55F010AECEC:t4, leader=s4, voted=s4, raftlog=s4@group-B55F010AECEC-SegmentedRaftLog:OPENED:c0,f0,i0, conf=0: [s3:0.0.0.0:40896, s4:0.0.0.0:43977, s0:0.0.0.0:38561, s1:0.0.0.0:45613, s2:0.0.0.0:44259], old=null RUNNING
  s0:  RUNNING  FOLLOWER s0@group-B55F010AECEC:t4, leader=s4, voted=null, raftlog=s0@group-B55F010AECEC-SegmentedRaftLog:OPENED:c0,f0,i0, conf=0: [s3:0.0.0.0:40896, s4:0.0.0.0:43977, s0:0.0.0.0:38561, s1:0.0.0.0:45613, s2:0.0.0.0:44259], old=null RUNNING
  s1:  RUNNING  FOLLOWER s1@group-B55F010AECEC:t4, leader=s4, voted=s4, raftlog=s1@group-B55F010AECEC-SegmentedRaftLog:OPENED:c0,f0,i0, conf=0: [s3:0.0.0.0:40896, s4:0.0.0.0:43977, s0:0.0.0.0:38561, s1:0.0.0.0:45613, s2:0.0.0.0:44259], old=null RUNNING
  s2:  RUNNING  FOLLOWER s2@group-B55F010AECEC:t4, leader=s4, voted=s4, raftlog=s2@group-B55F010AECEC-SegmentedRaftLog:OPENED:c0,f0,i0, conf=0: [s3:0.0.0.0:40896, s4:0.0.0.0:43977, s0:0.0.0.0:38561, s1:0.0.0.0:45613, s2:0.0.0.0:44259], old=null RUNNING
2019-09-24 12:04:57,665 INFO  impl.RaftServerProxy (RaftServerProxy.java:lambda$close$4(314)) - s3: close
2019-09-24 12:04:57,666 INFO  impl.RaftServerProxy (RaftServerProxy.java:lambda$close$4(314)) - s4: close
2019-09-24 12:04:57,665 INFO  impl.RaftServerProxy (RaftServerProxy.java:lambda$close$4(314)) - s2: close
2019-09-24 12:04:57,665 INFO  impl.RaftServerProxy (RaftServerProxy.java:lambda$close$4(314)) - s1: close
2019-09-24 12:04:57,665 INFO  impl.RaftServerProxy (RaftServerProxy.java:lambda$close$4(314)) - s0: close
2019-09-24 12:04:57,668 INFO  impl.RaftServerImpl (RaftServerImpl.java:lambda$shutdown$3(247)) - s4@group-B55F010AECEC: shutdown
2019-09-24 12:04:57,669 INFO  impl.RaftServerImpl (RaftServerImpl.java:lambda$shutdown$3(247)) - s0@group-B55F010AECEC: shutdown
2019-09-24 12:04:57,668 INFO  impl.RaftServerImpl (RaftServerImpl.java:lambda$shutdown$3(247)) - s2@group-B55F010AECEC: shutdown
2019-09-24 12:04:57,668 INFO  impl.RaftServerImpl (RaftServerImpl.java:lambda$shutdown$3(247)) - s3@group-B55F010AECEC: shutdown
2019-09-24 12:04:57,668 INFO  impl.RaftServerImpl (RaftServerImpl.java:lambda$shutdown$3(247)) - s1@group-B55F010AECEC: shutdown
2019-09-24 12:04:57,670 INFO  util.JmxRegister (JmxRegister.java:unregister(73)) - Successfully un-registered JMX Bean with object name Ratis:service=RaftServer,group=group-B55F010AECEC,id=s3
2019-09-24 12:04:57,670 INFO  impl.RoleInfo (RoleInfo.java:shutdownFollowerState(121)) - s3: shutdown FollowerState
2019-09-24 12:04:57,669 INFO  util.JmxRegister (JmxRegister.java:unregister(73)) - Successfully un-registered JMX Bean with object name Ratis:service=RaftServer,group=group-B55F010AECEC,id=s2
2019-09-24 12:04:57,669 INFO  util.JmxRegister (JmxRegister.java:unregister(73)) - Successfully un-registered JMX Bean with object name Ratis:service=RaftServer,group=group-B55F010AECEC,id=s0
2019-09-24 12:04:57,671 INFO  impl.RoleInfo (RoleInfo.java:shutdownFollowerState(121)) - s0: shutdown FollowerState
2019-09-24 12:04:57,669 INFO  util.JmxRegister (JmxRegister.java:unregister(73)) - Successfully un-registered JMX Bean with object name Ratis:service=RaftServer,group=group-B55F010AECEC,id=s4
2019-09-24 12:04:57,672 INFO  impl.FollowerState (FollowerState.java:run(117)) - s0@group-B55F010AECEC-FollowerState was interrupted: java.lang.InterruptedException: sleep interrupted
2019-09-24 12:04:57,672 INFO  impl.StateMachineUpdater (StateMachineUpdater.java:stopAndJoin(136)) - s0@group-B55F010AECEC-StateMachineUpdater: set stopIndex = 0
2019-09-24 12:04:57,671 INFO  impl.RoleInfo (RoleInfo.java:shutdownFollowerState(121)) - s2: shutdown FollowerState
2019-09-24 12:04:57,671 INFO  impl.FollowerState (FollowerState.java:run(117)) - s3@group-B55F010AECEC-FollowerState was interrupted: java.lang.InterruptedException: sleep interrupted
2019-09-24 12:04:57,671 INFO  impl.StateMachineUpdater (StateMachineUpdater.java:stopAndJoin(136)) - s3@group-B55F010AECEC-StateMachineUpdater: set stopIndex = 0
2019-09-24 12:04:57,674 INFO  impl.RaftServerImpl (ServerState.java:close(386)) - s3@group-B55F010AECEC: closes. applyIndex: 0
2019-09-24 12:04:57,670 INFO  util.JmxRegister (JmxRegister.java:unregister(73)) - Successfully un-registered JMX Bean with object name Ratis:service=RaftServer,group=group-B55F010AECEC,id=s1
2019-09-24 12:04:57,673 INFO  impl.FollowerState (FollowerState.java:run(117)) - s2@group-B55F010AECEC-FollowerState was interrupted: java.lang.InterruptedException: sleep interrupted
2019-09-24 12:04:57,673 INFO  impl.StateMachineUpdater (StateMachineUpdater.java:stopAndJoin(136)) - s2@group-B55F010AECEC-StateMachineUpdater: set stopIndex = 0
2019-09-24 12:04:57,675 INFO  impl.RaftServerImpl (ServerState.java:close(386)) - s2@group-B55F010AECEC: closes. applyIndex: 0
2019-09-24 12:04:57,673 INFO  impl.RaftServerImpl (ServerState.java:close(386)) - s0@group-B55F010AECEC: closes. applyIndex: 0
2019-09-24 12:04:57,672 INFO  impl.RoleInfo (RoleInfo.java:shutdownLeaderState(104)) - s4: shutdown LeaderState
2019-09-24 12:04:57,676 INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:run(313)) - s2@group-B55F010AECEC-SegmentedRaftLogWorker was interrupted, exiting. There are 0 tasks remaining in the queue.
2019-09-24 12:04:57,676 INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:run(313)) - s0@group-B55F010AECEC-SegmentedRaftLogWorker was interrupted, exiting. There are 0 tasks remaining in the queue.
2019-09-24 12:04:57,676 INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:run(313)) - s3@group-B55F010AECEC-SegmentedRaftLogWorker was interrupted, exiting. There are 0 tasks remaining in the queue.
2019-09-24 12:04:57,674 INFO  impl.RoleInfo (RoleInfo.java:shutdownFollowerState(121)) - s1: shutdown FollowerState
2019-09-24 12:04:57,676 INFO  impl.LogAppender (LogAppender.java:run(78)) - s4@group-B55F010AECEC->s2-LogAppender-AppenderDaemon was interrupted: java.lang.InterruptedException
2019-09-24 12:04:57,676 INFO  impl.LogAppender (LogAppender.java:run(78)) - s4@group-B55F010AECEC->s0-LogAppender-AppenderDaemon was interrupted: java.lang.InterruptedException
2019-09-24 12:04:57,676 INFO  impl.LogAppender (LogAppender.java:run(78)) - s4@group-B55F010AECEC->s1-LogAppender-AppenderDaemon was interrupted: java.lang.InterruptedException
2019-09-24 12:04:57,676 INFO  impl.PendingRequests (PendingRequests.java:sendNotLeaderResponses(202)) - s4@group-B55F010AECEC-PendingRequests: sendNotLeaderResponses
2019-09-24 12:04:57,676 INFO  impl.LogAppender (LogAppender.java:run(78)) - s4@group-B55F010AECEC->s3-LogAppender-AppenderDaemon was interrupted: java.lang.InterruptedException
2019-09-24 12:04:57,678 INFO  impl.StateMachineUpdater (StateMachineUpdater.java:stopAndJoin(136)) - s4@group-B55F010AECEC-StateMachineUpdater: set stopIndex = 0
2019-09-24 12:04:57,678 INFO  impl.RaftServerImpl (ServerState.java:close(386)) - s4@group-B55F010AECEC: closes. applyIndex: 0
2019-09-24 12:04:57,677 INFO  impl.FollowerState (FollowerState.java:run(117)) - s1@group-B55F010AECEC-FollowerState was interrupted: java.lang.InterruptedException: sleep interrupted
2019-09-24 12:04:57,679 INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:run(313)) - s4@group-B55F010AECEC-SegmentedRaftLogWorker was interrupted, exiting. There are 0 tasks remaining in the queue.
2019-09-24 12:04:57,679 INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:close(228)) - s0@group-B55F010AECEC-SegmentedRaftLogWorker close()
2019-09-24 12:04:57,677 INFO  impl.StateMachineUpdater (StateMachineUpdater.java:stopAndJoin(136)) - s1@group-B55F010AECEC-StateMachineUpdater: set stopIndex = 0
2019-09-24 12:04:57,680 INFO  impl.RaftServerImpl (ServerState.java:close(386)) - s1@group-B55F010AECEC: closes. applyIndex: 0
2019-09-24 12:04:57,679 INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:close(228)) - s3@group-B55F010AECEC-SegmentedRaftLogWorker close()
2019-09-24 12:04:57,678 INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:close(228)) - s2@group-B55F010AECEC-SegmentedRaftLogWorker close()
2019-09-24 12:04:57,681 INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:run(313)) - s1@group-B55F010AECEC-SegmentedRaftLogWorker was interrupted, exiting. There are 0 tasks remaining in the queue.
2019-09-24 12:04:57,681 INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:close(228)) - s4@group-B55F010AECEC-SegmentedRaftLogWorker close()
2019-09-24 12:04:57,684 INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:close(228)) - s1@group-B55F010AECEC-SegmentedRaftLogWorker close()
2019-09-24 12:04:57,686 INFO  logging.LoggingHandler (AbstractInternalLogger.java:log(150)) - [id: 0x4de89b0d, L:/0.0.0.0:38561] UNREGISTERED
2019-09-24 12:04:57,686 INFO  logging.LoggingHandler (AbstractInternalLogger.java:log(150)) - [id: 0xbff02252, L:/0.0.0.0:43977] UNREGISTERED
2019-09-24 12:04:57,686 INFO  logging.LoggingHandler (AbstractInternalLogger.java:log(150)) - [id: 0x21558c29, L:/0.0.0.0:45613] UNREGISTERED
2019-09-24 12:04:57,687 INFO  logging.LoggingHandler (AbstractInternalLogger.java:log(150)) - [id: 0x9f7e2b0f, L:0.0.0.0/0.0.0.0:40896] CLOSE
2019-09-24 12:04:57,686 INFO  logging.LoggingHandler (AbstractInternalLogger.java:log(150)) - [id: 0x9ab02c3c, L:/0.0.0.0:44259] UNREGISTERED
2019-09-24 12:04:57,688 INFO  logging.LoggingHandler (AbstractInternalLogger.java:log(150)) - [id: 0x9f7e2b0f, L:0.0.0.0/0.0.0.0:40896] UNREGISTERED
2019-09-24 12:04:57,695 INFO  ratis.MiniRaftCluster (MiniRaftCluster.java:shutdown(722)) - MiniRaftClusterWithNetty shutdown completed
2019-09-24 12:04:57,698 INFO  util.LogUtils (LogUtils.java:setLogLevel(41)) - Set org.apache.ratis.conf.ConfUtils log level to WARN
2019-09-24 12:04:57,698 INFO  util.LogUtils (LogUtils.java:setLogLevel(41)) - Set org.apache.ratis.util.FileUtils log level to TRACE
2019-09-24 12:04:57,698 INFO  util.LogUtils (LogUtils.java:setLogLevel(41)) - Set org.apache.ratis.server.impl.RaftServerImpl log level to DEBUG
2019-09-24 12:04:57,698 INFO  util.LogUtils (LogUtils.java:setLogLevel(41)) - Set org.apache.ratis.client.RaftClient log level to DEBUG
2019-09-24 12:04:57,700 INFO  netty.TestLeaderElectionWithNetty (LeaderElectionTests.java:testLateServerStart(122)) - Running testLateServerStart
2019-09-24 12:04:57,700 INFO  ratis.MiniRaftCluster (MiniRaftCluster.java:<init>(253)) - new MiniRaftClusterWithNetty with group-9DDC70D1F0F3:[s0:0.0.0.0:37243, s1:0.0.0.0:38994, s2:0.0.0.0:36346]
2019-09-24 12:04:57,701 INFO  ratis.MiniRaftCluster (MiniRaftCluster.java:initServers(265)) - servers = {}
2019-09-24 12:04:57,701 INFO  ratis.MiniRaftCluster (MiniRaftCluster.java:newRaftServer(330)) - newRaftServer: s0, group-9DDC70D1F0F3:[s0:0.0.0.0:37243, s1:0.0.0.0:38994, s2:0.0.0.0:36346], format? true
2019-09-24 12:04:57,701 TRACE util.FileUtils (FileUtils.java:deleteFully(88)) - deleteFully target/test/data/aaa4fccd/MiniRaftClusterWithNetty53617c77/s0
2019-09-24 12:04:57,701 TRACE util.FileUtils (FileUtils.java:deleteFully(104)) - deleteFully: target/test/data/aaa4fccd/MiniRaftClusterWithNetty53617c77/s0 does not exist.
2019-09-24 12:04:57,702 INFO  ratis.MiniRaftCluster (MiniRaftCluster.java:newRaftServer(335)) - Formatted directory target/test/data/aaa4fccd/MiniRaftClusterWithNetty53617c77/s0
2019-09-24 12:04:57,702 INFO  impl.RaftServerProxy (ConfUtils.java:logGet(43)) - raft.rpc.type = NETTY (custom)
2019-09-24 12:04:57,704 INFO  netty.NettyConfigKeys$Server (ConfUtils.java:logGet(43)) - raft.netty.server.port = 37243 (custom)
2019-09-24 12:04:57,706 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.storage.dir = [/workdir/ratis-test/target/test/data/aaa4fccd/MiniRaftClusterWithNetty53617c77/s0] (custom)
2019-09-24 12:04:57,708 INFO  logging.LoggingHandler (AbstractInternalLogger.java:log(150)) - [id: 0x6fe5f35b] REGISTERED
2019-09-24 12:04:57,708 INFO  impl.RaftServerProxy (RaftServerProxy.java:addNew(89)) - s0: addNew group-9DDC70D1F0F3:[s0:0.0.0.0:37243, s1:0.0.0.0:38994, s2:0.0.0.0:36346] returns group-9DDC70D1F0F3:java.util.concurrent.CompletableFuture@2fdbe4a6[Not completed]
2019-09-24 12:04:57,708 INFO  logging.LoggingHandler (AbstractInternalLogger.java:log(150)) - [id: 0x6fe5f35b] BIND: 0.0.0.0/0.0.0.0:37243
2019-09-24 12:04:57,709 INFO  logging.LoggingHandler (AbstractInternalLogger.java:log(150)) - [id: 0x6fe5f35b, L:/0.0.0.0:37243] ACTIVE
2019-09-24 12:04:57,709 INFO  impl.RaftServerImpl (RaftServerImpl.java:<init>(95)) - s0: new RaftServerImpl for group-9DDC70D1F0F3:[s0:0.0.0.0:37243, s1:0.0.0.0:38994, s2:0.0.0.0:36346] with BaseStateMachine:uninitialized
2019-09-24 12:04:57,710 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.rpc.timeout.min = 150ms (default)
2019-09-24 12:04:57,710 INFO  ratis.MiniRaftCluster (MiniRaftCluster.java:newRaftServer(330)) - newRaftServer: s1, group-9DDC70D1F0F3:[s0:0.0.0.0:37243, s1:0.0.0.0:38994, s2:0.0.0.0:36346], format? true
2019-09-24 12:04:57,710 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.rpc.timeout.max = 300ms (default)
2019-09-24 12:04:57,710 TRACE util.FileUtils (FileUtils.java:deleteFully(88)) - deleteFully target/test/data/aaa4fccd/MiniRaftClusterWithNetty53617c77/s1
2019-09-24 12:04:57,710 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.rpcslowness.timeout = 60s (default)
2019-09-24 12:04:57,711 TRACE util.FileUtils (FileUtils.java:deleteFully(104)) - deleteFully: target/test/data/aaa4fccd/MiniRaftClusterWithNetty53617c77/s1 does not exist.
2019-09-24 12:04:57,711 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.sleep.deviation.threshold = 300 (default)
2019-09-24 12:04:57,711 INFO  ratis.MiniRaftCluster (MiniRaftCluster.java:newRaftServer(335)) - Formatted directory target/test/data/aaa4fccd/MiniRaftClusterWithNetty53617c77/s1
2019-09-24 12:04:57,711 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.log.appender.install.snapshot.enabled = true (default)
2019-09-24 12:04:57,711 INFO  impl.RaftServerImpl (ServerState.java:<init>(103)) - s0@group-9DDC70D1F0F3: ConfigurationManager, init=-1: [s0:0.0.0.0:37243, s1:0.0.0.0:38994, s2:0.0.0.0:36346], old=null, confs=<EMPTY_MAP>
2019-09-24 12:04:57,711 INFO  impl.RaftServerProxy (ConfUtils.java:logGet(43)) - raft.rpc.type = NETTY (custom)
2019-09-24 12:04:57,712 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.storage.dir = [/workdir/ratis-test/target/test/data/aaa4fccd/MiniRaftClusterWithNetty53617c77/s0] (custom)
2019-09-24 12:04:57,712 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.log.corruption.policy = EXCEPTION (default)
2019-09-24 12:04:57,712 INFO  storage.RaftStorageDirectory (RaftStorageDirectory.java:analyzeStorage(246)) - The storage directory /workdir/ratis-test/target/test/data/aaa4fccd/MiniRaftClusterWithNetty53617c77/s0/8282875c-54dc-4ebb-a985-9ddc70d1f0f3 does not exist. Creating ...
2019-09-24 12:04:57,713 INFO  netty.NettyConfigKeys$Server (ConfUtils.java:logGet(43)) - raft.netty.server.port = 38994 (custom)
2019-09-24 12:04:57,713 TRACE util.FileUtils (LogUtils.java:runAndLog(61)) - Successfully ran Files.createDirectories /workdir/ratis-test/target/test/data/aaa4fccd/MiniRaftClusterWithNetty53617c77/s0/8282875c-54dc-4ebb-a985-9ddc70d1f0f3
2019-09-24 12:04:57,714 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.storage.dir = [/workdir/ratis-test/target/test/data/aaa4fccd/MiniRaftClusterWithNetty53617c77/s1] (custom)
2019-09-24 12:04:57,716 INFO  impl.RaftServerProxy (RaftServerProxy.java:addNew(89)) - s1: addNew group-9DDC70D1F0F3:[s0:0.0.0.0:37243, s1:0.0.0.0:38994, s2:0.0.0.0:36346] returns group-9DDC70D1F0F3:java.util.concurrent.CompletableFuture@3d484a5[Not completed]
2019-09-24 12:04:57,717 INFO  logging.LoggingHandler (AbstractInternalLogger.java:log(150)) - [id: 0xfe22e7c1] REGISTERED
2019-09-24 12:04:57,717 INFO  logging.LoggingHandler (AbstractInternalLogger.java:log(150)) - [id: 0xfe22e7c1] BIND: 0.0.0.0/0.0.0.0:38994
2019-09-24 12:04:57,718 INFO  impl.RaftServerImpl (RaftServerImpl.java:<init>(95)) - s1: new RaftServerImpl for group-9DDC70D1F0F3:[s0:0.0.0.0:37243, s1:0.0.0.0:38994, s2:0.0.0.0:36346] with BaseStateMachine:uninitialized
2019-09-24 12:04:57,718 INFO  logging.LoggingHandler (AbstractInternalLogger.java:log(150)) - [id: 0xfe22e7c1, L:/0.0.0.0:38994] ACTIVE
2019-09-24 12:04:57,718 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.rpc.timeout.min = 150ms (default)
2019-09-24 12:04:57,718 INFO  ratis.MiniRaftCluster (MiniRaftCluster.java:newRaftServer(330)) - newRaftServer: s2, group-9DDC70D1F0F3:[s0:0.0.0.0:37243, s1:0.0.0.0:38994, s2:0.0.0.0:36346], format? true
2019-09-24 12:04:57,719 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.rpc.timeout.max = 300ms (default)
2019-09-24 12:04:57,719 TRACE util.FileUtils (FileUtils.java:deleteFully(88)) - deleteFully target/test/data/aaa4fccd/MiniRaftClusterWithNetty53617c77/s2
2019-09-24 12:04:57,719 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.rpcslowness.timeout = 60s (default)
2019-09-24 12:04:57,719 TRACE util.FileUtils (FileUtils.java:deleteFully(104)) - deleteFully: target/test/data/aaa4fccd/MiniRaftClusterWithNetty53617c77/s2 does not exist.
2019-09-24 12:04:57,719 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.sleep.deviation.threshold = 300 (default)
2019-09-24 12:04:57,719 INFO  ratis.MiniRaftCluster (MiniRaftCluster.java:newRaftServer(335)) - Formatted directory target/test/data/aaa4fccd/MiniRaftClusterWithNetty53617c77/s2
2019-09-24 12:04:57,720 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.log.appender.install.snapshot.enabled = true (default)
2019-09-24 12:04:57,720 INFO  impl.RaftServerImpl (ServerState.java:<init>(103)) - s1@group-9DDC70D1F0F3: ConfigurationManager, init=-1: [s0:0.0.0.0:37243, s1:0.0.0.0:38994, s2:0.0.0.0:36346], old=null, confs=<EMPTY_MAP>
2019-09-24 12:04:57,720 INFO  impl.RaftServerProxy (ConfUtils.java:logGet(43)) - raft.rpc.type = NETTY (custom)
2019-09-24 12:04:57,720 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.storage.dir = [/workdir/ratis-test/target/test/data/aaa4fccd/MiniRaftClusterWithNetty53617c77/s1] (custom)
2019-09-24 12:04:57,721 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.log.corruption.policy = EXCEPTION (default)
2019-09-24 12:04:57,721 INFO  storage.RaftStorageDirectory (RaftStorageDirectory.java:analyzeStorage(246)) - The storage directory /workdir/ratis-test/target/test/data/aaa4fccd/MiniRaftClusterWithNetty53617c77/s1/8282875c-54dc-4ebb-a985-9ddc70d1f0f3 does not exist. Creating ...
2019-09-24 12:04:57,721 TRACE util.FileUtils (LogUtils.java:runAndLog(61)) - Successfully ran Files.createDirectories /workdir/ratis-test/target/test/data/aaa4fccd/MiniRaftClusterWithNetty53617c77/s1/8282875c-54dc-4ebb-a985-9ddc70d1f0f3
2019-09-24 12:04:57,722 INFO  netty.NettyConfigKeys$Server (ConfUtils.java:logGet(43)) - raft.netty.server.port = 36346 (custom)
2019-09-24 12:04:57,723 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.storage.dir = [/workdir/ratis-test/target/test/data/aaa4fccd/MiniRaftClusterWithNetty53617c77/s2] (custom)
2019-09-24 12:04:57,724 INFO  logging.LoggingHandler (AbstractInternalLogger.java:log(150)) - [id: 0xbdded2ca] REGISTERED
2019-09-24 12:04:57,725 INFO  impl.RaftServerProxy (RaftServerProxy.java:addNew(89)) - s2: addNew group-9DDC70D1F0F3:[s0:0.0.0.0:37243, s1:0.0.0.0:38994, s2:0.0.0.0:36346] returns group-9DDC70D1F0F3:java.util.concurrent.CompletableFuture@3b73ace4[Not completed]
2019-09-24 12:04:57,725 INFO  logging.LoggingHandler (AbstractInternalLogger.java:log(150)) - [id: 0xbdded2ca] BIND: 0.0.0.0/0.0.0.0:36346
2019-09-24 12:04:57,725 INFO  logging.LoggingHandler (AbstractInternalLogger.java:log(150)) - [id: 0xbdded2ca, L:/0.0.0.0:36346] ACTIVE
2019-09-24 12:04:57,726 INFO  impl.RaftServerImpl (RaftServerImpl.java:<init>(95)) - s2: new RaftServerImpl for group-9DDC70D1F0F3:[s0:0.0.0.0:37243, s1:0.0.0.0:38994, s2:0.0.0.0:36346] with BaseStateMachine:uninitialized
2019-09-24 12:04:57,726 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.rpc.timeout.min = 150ms (default)
2019-09-24 12:04:57,727 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.rpc.timeout.max = 300ms (default)
2019-09-24 12:04:57,727 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.rpcslowness.timeout = 60s (default)
2019-09-24 12:04:57,727 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.sleep.deviation.threshold = 300 (default)
2019-09-24 12:04:57,727 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.log.appender.install.snapshot.enabled = true (default)
2019-09-24 12:04:57,727 INFO  impl.RaftServerImpl (ServerState.java:<init>(103)) - s2@group-9DDC70D1F0F3: ConfigurationManager, init=-1: [s0:0.0.0.0:37243, s1:0.0.0.0:38994, s2:0.0.0.0:36346], old=null, confs=<EMPTY_MAP>
2019-09-24 12:04:57,727 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.storage.dir = [/workdir/ratis-test/target/test/data/aaa4fccd/MiniRaftClusterWithNetty53617c77/s2] (custom)
2019-09-24 12:04:57,728 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.log.corruption.policy = EXCEPTION (default)
2019-09-24 12:04:57,728 INFO  storage.RaftStorageDirectory (RaftStorageDirectory.java:analyzeStorage(246)) - The storage directory /workdir/ratis-test/target/test/data/aaa4fccd/MiniRaftClusterWithNetty53617c77/s2/8282875c-54dc-4ebb-a985-9ddc70d1f0f3 does not exist. Creating ...
2019-09-24 12:04:57,729 TRACE util.FileUtils (LogUtils.java:runAndLog(61)) - Successfully ran Files.createDirectories /workdir/ratis-test/target/test/data/aaa4fccd/MiniRaftClusterWithNetty53617c77/s2/8282875c-54dc-4ebb-a985-9ddc70d1f0f3
2019-09-24 12:04:57,740 INFO  storage.RaftStorageDirectory (RaftStorageDirectory.java:tryLock(328)) - Lock on /workdir/ratis-test/target/test/data/aaa4fccd/MiniRaftClusterWithNetty53617c77/s1/8282875c-54dc-4ebb-a985-9ddc70d1f0f3/in_use.lock acquired by nodename 2153@ratis-test-nppbd-817190658
2019-09-24 12:04:57,740 INFO  storage.RaftStorageDirectory (RaftStorageDirectory.java:tryLock(328)) - Lock on /workdir/ratis-test/target/test/data/aaa4fccd/MiniRaftClusterWithNetty53617c77/s0/8282875c-54dc-4ebb-a985-9ddc70d1f0f3/in_use.lock acquired by nodename 2153@ratis-test-nppbd-817190658
2019-09-24 12:04:57,742 TRACE util.FileUtils (LogUtils.java:runAndLog(61)) - Successfully ran Files.createDirectories /workdir/ratis-test/target/test/data/aaa4fccd/MiniRaftClusterWithNetty53617c77/s0/8282875c-54dc-4ebb-a985-9ddc70d1f0f3/current
2019-09-24 12:04:57,742 TRACE util.FileUtils (LogUtils.java:runAndLog(61)) - Successfully ran Files.createDirectories /workdir/ratis-test/target/test/data/aaa4fccd/MiniRaftClusterWithNetty53617c77/s1/8282875c-54dc-4ebb-a985-9ddc70d1f0f3/current
2019-09-24 12:04:57,742 TRACE util.FileUtils (LogUtils.java:runAndLog(61)) - Successfully ran Files.createDirectories /workdir/ratis-test/target/test/data/aaa4fccd/MiniRaftClusterWithNetty53617c77/s0/8282875c-54dc-4ebb-a985-9ddc70d1f0f3/sm
2019-09-24 12:04:57,742 TRACE util.FileUtils (LogUtils.java:runAndLog(61)) - Successfully ran Files.createDirectories /workdir/ratis-test/target/test/data/aaa4fccd/MiniRaftClusterWithNetty53617c77/s1/8282875c-54dc-4ebb-a985-9ddc70d1f0f3/sm
2019-09-24 12:04:57,744 INFO  storage.RaftStorageDirectory (RaftStorageDirectory.java:tryLock(328)) - Lock on /workdir/ratis-test/target/test/data/aaa4fccd/MiniRaftClusterWithNetty53617c77/s2/8282875c-54dc-4ebb-a985-9ddc70d1f0f3/in_use.lock acquired by nodename 2153@ratis-test-nppbd-817190658
2019-09-24 12:04:57,744 TRACE util.FileUtils (LogUtils.java:runAndLog(61)) - Successfully ran Files.createDirectories /workdir/ratis-test/target/test/data/aaa4fccd/MiniRaftClusterWithNetty53617c77/s2/8282875c-54dc-4ebb-a985-9ddc70d1f0f3/current
2019-09-24 12:04:57,744 TRACE util.FileUtils (LogUtils.java:runAndLog(61)) - Successfully ran Files.createDirectories /workdir/ratis-test/target/test/data/aaa4fccd/MiniRaftClusterWithNetty53617c77/s2/8282875c-54dc-4ebb-a985-9ddc70d1f0f3/sm
2019-09-24 12:04:57,769 INFO  storage.RaftStorage (RaftStorage.java:format(84)) - Storage directory /workdir/ratis-test/target/test/data/aaa4fccd/MiniRaftClusterWithNetty53617c77/s2/8282875c-54dc-4ebb-a985-9ddc70d1f0f3 has been successfully formatted.
2019-09-24 12:04:57,769 INFO  storage.RaftStorage (RaftStorage.java:format(84)) - Storage directory /workdir/ratis-test/target/test/data/aaa4fccd/MiniRaftClusterWithNetty53617c77/s1/8282875c-54dc-4ebb-a985-9ddc70d1f0f3 has been successfully formatted.
2019-09-24 12:04:57,769 INFO  storage.RaftStorage (RaftStorage.java:format(84)) - Storage directory /workdir/ratis-test/target/test/data/aaa4fccd/MiniRaftClusterWithNetty53617c77/s0/8282875c-54dc-4ebb-a985-9ddc70d1f0f3 has been successfully formatted.
2019-09-24 12:04:57,769 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.notification.no-leader.timeout = 60s (default)
2019-09-24 12:04:57,769 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.notification.no-leader.timeout = 60s (default)
2019-09-24 12:04:57,770 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.log.use.memory = false (default)
2019-09-24 12:04:57,769 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.notification.no-leader.timeout = 60s (default)
2019-09-24 12:04:57,770 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.log.purge.gap = 1024 (default)
2019-09-24 12:04:57,770 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.log.use.memory = false (default)
2019-09-24 12:04:57,770 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.log.appender.buffer.byte-limit = 4MB (=4194304) (default)
2019-09-24 12:04:57,770 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.log.use.memory = false (default)
2019-09-24 12:04:57,771 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.log.segment.size.max = 8MB (=8388608) (default)
2019-09-24 12:04:57,771 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.log.purge.gap = 1024 (default)
2019-09-24 12:04:57,771 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.log.segment.cache.num.max = 6 (default)
2019-09-24 12:04:57,771 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.log.purge.gap = 1024 (default)
2019-09-24 12:04:57,772 INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:<init>(172)) - new s1@group-9DDC70D1F0F3-SegmentedRaftLogWorker for RaftStorage:Storage Directory /workdir/ratis-test/target/test/data/aaa4fccd/MiniRaftClusterWithNetty53617c77/s1/8282875c-54dc-4ebb-a985-9ddc70d1f0f3
2019-09-24 12:04:57,771 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.log.appender.buffer.byte-limit = 4MB (=4194304) (default)
2019-09-24 12:04:57,772 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.log.queue.byte-limit = 64MB (=67108864) (default)
2019-09-24 12:04:57,772 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.log.appender.buffer.byte-limit = 4MB (=4194304) (default)
2019-09-24 12:04:57,772 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.log.queue.element-limit = 4096 (default)
2019-09-24 12:04:57,772 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.log.segment.size.max = 8MB (=8388608) (default)
2019-09-24 12:04:57,773 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.log.segment.size.max = 8MB (=8388608) (default)
2019-09-24 12:04:57,773 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.log.segment.cache.num.max = 6 (default)
2019-09-24 12:04:57,773 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.log.segment.size.max = 8MB (=8388608) (default)
2019-09-24 12:04:57,773 INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:<init>(172)) - new s2@group-9DDC70D1F0F3-SegmentedRaftLogWorker for RaftStorage:Storage Directory /workdir/ratis-test/target/test/data/aaa4fccd/MiniRaftClusterWithNetty53617c77/s2/8282875c-54dc-4ebb-a985-9ddc70d1f0f3
2019-09-24 12:04:57,773 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.log.segment.cache.num.max = 6 (default)
2019-09-24 12:04:57,774 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.log.queue.byte-limit = 64MB (=67108864) (default)
2019-09-24 12:04:57,774 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.log.preallocated.size = 4MB (=4194304) (default)
2019-09-24 12:04:57,774 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.log.queue.element-limit = 4096 (default)
2019-09-24 12:04:57,774 INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:<init>(172)) - new s0@group-9DDC70D1F0F3-SegmentedRaftLogWorker for RaftStorage:Storage Directory /workdir/ratis-test/target/test/data/aaa4fccd/MiniRaftClusterWithNetty53617c77/s0/8282875c-54dc-4ebb-a985-9ddc70d1f0f3
2019-09-24 12:04:57,775 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.log.segment.size.max = 8MB (=8388608) (default)
2019-09-24 12:04:57,774 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.log.write.buffer.size = 64KB (=65536) (default)
2019-09-24 12:04:57,775 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.log.preallocated.size = 4MB (=4194304) (default)
2019-09-24 12:04:57,775 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.log.queue.byte-limit = 64MB (=67108864) (default)
2019-09-24 12:04:57,775 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.log.write.buffer.size = 64KB (=65536) (default)
2019-09-24 12:04:57,775 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.log.force.sync.num = 128 (default)
2019-09-24 12:04:57,776 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.log.force.sync.num = 128 (default)
2019-09-24 12:04:57,776 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.log.queue.element-limit = 4096 (default)
2019-09-24 12:04:57,776 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.log.statemachine.data.sync = true (default)
2019-09-24 12:04:57,776 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.log.statemachine.data.sync = true (default)
2019-09-24 12:04:57,777 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.log.statemachine.data.sync.timeout = 10s (default)
2019-09-24 12:04:57,777 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.log.segment.size.max = 8MB (=8388608) (default)
2019-09-24 12:04:57,777 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.log.statemachine.data.sync.timeout.retry = -1 (default)
2019-09-24 12:04:57,777 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.log.statemachine.data.sync.timeout = 10s (default)
2019-09-24 12:04:57,778 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.log.statemachine.data.caching.enabled = false (default)
2019-09-24 12:04:57,777 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.log.preallocated.size = 4MB (=4194304) (default)
2019-09-24 12:04:57,778 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.log.statemachine.data.sync.timeout.retry = -1 (default)
2019-09-24 12:04:57,778 INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:lambda$new$0(132)) - s2@group-9DDC70D1F0F3-SegmentedRaftLogWorker: flushIndex: setUnconditionally 0 -> -1
2019-09-24 12:04:57,778 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.log.write.buffer.size = 64KB (=65536) (default)
2019-09-24 12:04:57,779 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.log.statemachine.data.caching.enabled = false (default)
2019-09-24 12:04:57,779 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.log.force.sync.num = 128 (default)
2019-09-24 12:04:57,779 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.snapshot.auto.trigger.enabled = false (default)
2019-09-24 12:04:57,779 INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:lambda$new$0(132)) - s1@group-9DDC70D1F0F3-SegmentedRaftLogWorker: flushIndex: setUnconditionally 0 -> -1
2019-09-24 12:04:57,779 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.log.statemachine.data.sync = true (default)
2019-09-24 12:04:57,780 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.snapshot.retention.file.num = -1 (default)
2019-09-24 12:04:57,780 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.snapshot.auto.trigger.enabled = false (default)
2019-09-24 12:04:57,780 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.log.statemachine.data.sync.timeout = 10s (default)
2019-09-24 12:04:57,780 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.snapshot.retention.file.num = -1 (default)
2019-09-24 12:04:57,780 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.retrycache.expirytime = 60s (default)
2019-09-24 12:04:57,781 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.retrycache.expirytime = 60s (default)
2019-09-24 12:04:57,781 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.log.statemachine.data.sync.timeout.retry = -1 (default)
2019-09-24 12:04:57,781 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.log.statemachine.data.caching.enabled = false (default)
2019-09-24 12:04:57,782 INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:lambda$new$0(132)) - s0@group-9DDC70D1F0F3-SegmentedRaftLogWorker: flushIndex: setUnconditionally 0 -> -1
2019-09-24 12:04:57,783 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.snapshot.auto.trigger.enabled = false (default)
2019-09-24 12:04:57,783 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.snapshot.retention.file.num = -1 (default)
2019-09-24 12:04:57,783 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.retrycache.expirytime = 60s (default)
2019-09-24 12:04:57,790 INFO  impl.RaftServerImpl (RaftServerImpl.java:start(181)) - s0@group-9DDC70D1F0F3: start as a follower, conf=-1: [s0:0.0.0.0:37243, s1:0.0.0.0:38994, s2:0.0.0.0:36346], old=null
2019-09-24 12:04:57,791 INFO  impl.RaftServerImpl (RaftServerImpl.java:setRole(170)) - s0@group-9DDC70D1F0F3: changes role from      null to FOLLOWER at term 0 for startAsFollower
2019-09-24 12:04:57,791 INFO  impl.RoleInfo (RoleInfo.java:updateAndGet(143)) - s0: start FollowerState
2019-09-24 12:04:57,792 INFO  util.JmxRegister (JmxRegister.java:tryRegister(44)) - Successfully registered JMX Bean with object name Ratis:service=RaftServer,group=group-9DDC70D1F0F3,id=s0
2019-09-24 12:04:57,797 INFO  impl.RaftServerProxy (RaftServerProxy.java:lambda$start$3(299)) - s0: start RPC server
2019-09-24 12:04:57,798 INFO  impl.RaftServerImpl (RaftServerImpl.java:start(181)) - s1@group-9DDC70D1F0F3: start as a follower, conf=-1: [s0:0.0.0.0:37243, s1:0.0.0.0:38994, s2:0.0.0.0:36346], old=null
2019-09-24 12:04:57,798 INFO  impl.RaftServerImpl (RaftServerImpl.java:setRole(170)) - s1@group-9DDC70D1F0F3: changes role from      null to FOLLOWER at term 0 for startAsFollower
2019-09-24 12:04:57,799 INFO  impl.RoleInfo (RoleInfo.java:updateAndGet(143)) - s1: start FollowerState
2019-09-24 12:04:57,799 INFO  util.JmxRegister (JmxRegister.java:tryRegister(44)) - Successfully registered JMX Bean with object name Ratis:service=RaftServer,group=group-9DDC70D1F0F3,id=s1
2019-09-24 12:04:57,804 INFO  impl.RaftServerProxy (RaftServerProxy.java:lambda$start$3(299)) - s1: start RPC server
2019-09-24 12:04:57,804 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.rpc.timeout.max = 300ms (default)
2019-09-24 12:04:57,805 INFO  ratis.RaftTestUtil (RaftTestUtil.java:waitForLeader(86)) - printing ALL groups
  s0:  RUNNING  FOLLOWER s0@group-9DDC70D1F0F3:t0, leader=null, voted=null, raftlog=s0@group-9DDC70D1F0F3-SegmentedRaftLog:OPENED:c-1,f-1,i0, conf=-1: [s0:0.0.0.0:37243, s1:0.0.0.0:38994, s2:0.0.0.0:36346], old=null RUNNING
  s1:  RUNNING  FOLLOWER s1@group-9DDC70D1F0F3:t0, leader=null, voted=null, raftlog=s1@group-9DDC70D1F0F3-SegmentedRaftLog:OPENED:c-1,f-1,i0, conf=-1: [s0:0.0.0.0:37243, s1:0.0.0.0:38994, s2:0.0.0.0:36346], old=null RUNNING
  s2:      NEW      null s2@group-9DDC70D1F0F3:t0, leader=null, voted=null, raftlog=s2@group-9DDC70D1F0F3-SegmentedRaftLog:OPENED:c-1,f-1,i0, conf=-1: [s0:0.0.0.0:37243, s1:0.0.0.0:38994, s2:0.0.0.0:36346], old=null NEW
2019-09-24 12:04:57,806 WARN  ratis.RaftTestUtil (JavaUtils.java:attempt(158)) - FAILED "waitForLeader-null-(expectLeader? true)", attempt #1/100: java.lang.IllegalStateException: No leader yet : printing ALL groups
  s0:  RUNNING  FOLLOWER s0@group-9DDC70D1F0F3:t0, leader=null, voted=null, raftlog=s0@group-9DDC70D1F0F3-SegmentedRaftLog:OPENED:c-1,f-1,i0, conf=-1: [s0:0.0.0.0:37243, s1:0.0.0.0:38994, s2:0.0.0.0:36346], old=null RUNNING
  s1:  RUNNING  FOLLOWER s1@group-9DDC70D1F0F3:t0, leader=null, voted=null, raftlog=s1@group-9DDC70D1F0F3-SegmentedRaftLog:OPENED:c-1,f-1,i0, conf=-1: [s0:0.0.0.0:37243, s1:0.0.0.0:38994, s2:0.0.0.0:36346], old=null RUNNING
  s2:      NEW      null s2@group-9DDC70D1F0F3:t0, leader=null, voted=null, raftlog=s2@group-9DDC70D1F0F3-SegmentedRaftLog:OPENED:c-1,f-1,i0, conf=-1: [s0:0.0.0.0:37243, s1:0.0.0.0:38994, s2:0.0.0.0:36346], old=null NEW, sleep 450ms and then retry.
java.lang.IllegalStateException: No leader yet : printing ALL groups
  s0:  RUNNING  FOLLOWER s0@group-9DDC70D1F0F3:t0, leader=null, voted=null, raftlog=s0@group-9DDC70D1F0F3-SegmentedRaftLog:OPENED:c-1,f-1,i0, conf=-1: [s0:0.0.0.0:37243, s1:0.0.0.0:38994, s2:0.0.0.0:36346], old=null RUNNING
  s1:  RUNNING  FOLLOWER s1@group-9DDC70D1F0F3:t0, leader=null, voted=null, raftlog=s1@group-9DDC70D1F0F3-SegmentedRaftLog:OPENED:c-1,f-1,i0, conf=-1: [s0:0.0.0.0:37243, s1:0.0.0.0:38994, s2:0.0.0.0:36346], old=null RUNNING
  s2:      NEW      null s2@group-9DDC70D1F0F3:t0, leader=null, voted=null, raftlog=s2@group-9DDC70D1F0F3-SegmentedRaftLog:OPENED:c-1,f-1,i0, conf=-1: [s0:0.0.0.0:37243, s1:0.0.0.0:38994, s2:0.0.0.0:36346], old=null NEW
	at org.apache.ratis.MiniRaftCluster.newIllegalStateExceptionForNoLeaders(MiniRaftCluster.java:506)
	at org.apache.ratis.RaftTestUtil.lambda$waitForLeader$1(RaftTestUtil.java:90)
	at org.apache.ratis.MiniRaftCluster.getLeader(MiniRaftCluster.java:539)
	at org.apache.ratis.MiniRaftCluster.getLeader(MiniRaftCluster.java:532)
	at org.apache.ratis.RaftTestUtil.lambda$waitForLeader$3(RaftTestUtil.java:98)
	at org.apache.ratis.util.JavaUtils.attempt(JavaUtils.java:152)
	at org.apache.ratis.RaftTestUtil.waitForLeader(RaftTestUtil.java:97)
	at org.apache.ratis.RaftTestUtil.waitForLeader(RaftTestUtil.java:77)
	at org.apache.ratis.RaftTestUtil.waitForLeader(RaftTestUtil.java:72)
	at org.apache.ratis.server.impl.LeaderElectionTests.testLateServerStart(LeaderElectionTests.java:132)
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.lang.reflect.Method.invoke(Method.java:498)
	at org.junit.runners.model.FrameworkMethod$1.runReflectiveCall(FrameworkMethod.java:50)
	at org.junit.internal.runners.model.ReflectiveCallable.run(ReflectiveCallable.java:12)
	at org.junit.runners.model.FrameworkMethod.invokeExplosively(FrameworkMethod.java:47)
	at org.junit.internal.runners.statements.InvokeMethod.evaluate(InvokeMethod.java:17)
	at org.junit.internal.runners.statements.RunAfters.evaluate(RunAfters.java:27)
	at org.junit.internal.runners.statements.FailOnTimeout$CallableStatement.call(FailOnTimeout.java:298)
	at org.junit.internal.runners.statements.FailOnTimeout$CallableStatement.call(FailOnTimeout.java:292)
	at java.util.concurrent.FutureTask.run(FutureTask.java:266)
	at java.lang.Thread.run(Thread.java:748)
2019-09-24 12:04:57,982 INFO  impl.FollowerState (FollowerState.java:run(108)) - s0@group-9DDC70D1F0F3-FollowerState: change to CANDIDATE, lastRpcTime:190ms, electionTimeout:190ms
2019-09-24 12:04:57,983 INFO  impl.RoleInfo (RoleInfo.java:shutdownFollowerState(121)) - s0: shutdown FollowerState
2019-09-24 12:04:57,983 INFO  impl.RaftServerImpl (RaftServerImpl.java:setRole(170)) - s0@group-9DDC70D1F0F3: changes role from  FOLLOWER to CANDIDATE at term 0 for changeToCandidate
2019-09-24 12:04:57,983 INFO  impl.RoleInfo (RoleInfo.java:updateAndGet(143)) - s0: start LeaderElection
2019-09-24 12:04:57,997 INFO  impl.LeaderElection (LeaderElection.java:askForVotes(178)) - s0@group-9DDC70D1F0F3-LeaderElection8: begin an election at term 1 for -1: [s0:0.0.0.0:37243, s1:0.0.0.0:38994, s2:0.0.0.0:36346], old=null
2019-09-24 12:04:58,008 INFO  logging.LoggingHandler (AbstractInternalLogger.java:log(150)) - [id: 0xfe22e7c1, L:/0.0.0.0:38994] READ: [id: 0x88bbfa3f, L:/192.168.34.44:38994 - R:/192.168.34.44:38530]
2019-09-24 12:04:58,008 INFO  logging.LoggingHandler (AbstractInternalLogger.java:log(150)) - [id: 0xbdded2ca, L:/0.0.0.0:36346] READ: [id: 0x08fef11a, L:/192.168.34.44:36346 - R:/192.168.34.44:52394]
2019-09-24 12:04:58,011 INFO  logging.LoggingHandler (AbstractInternalLogger.java:log(150)) - [id: 0xfe22e7c1, L:/0.0.0.0:38994] READ COMPLETE
2019-09-24 12:04:58,012 INFO  logging.LoggingHandler (AbstractInternalLogger.java:log(150)) - [id: 0xbdded2ca, L:/0.0.0.0:36346] READ COMPLETE
2019-09-24 12:04:58,016 DEBUG impl.RaftServerImpl (RaftServerImpl.java:requestVote(743)) - s2@group-9DDC70D1F0F3: receive requestVote(s0, group-9DDC70D1F0F3, 1, (t:0, i:0))
2019-09-24 12:04:58,016 DEBUG impl.RaftServerImpl (RaftServerImpl.java:requestVote(743)) - s1@group-9DDC70D1F0F3: receive requestVote(s0, group-9DDC70D1F0F3, 1, (t:0, i:0))
2019-09-24 12:04:58,017 INFO  impl.RaftServerImpl (RaftServerImpl.java:setRole(170)) - s1@group-9DDC70D1F0F3: changes role from  FOLLOWER to FOLLOWER at term 1 for recognizeCandidate:s0
2019-09-24 12:04:58,017 INFO  impl.RoleInfo (RoleInfo.java:shutdownFollowerState(121)) - s1: shutdown FollowerState
2019-09-24 12:04:58,018 INFO  impl.RoleInfo (RoleInfo.java:updateAndGet(143)) - s1: start FollowerState
2019-09-24 12:04:58,018 INFO  impl.FollowerState (FollowerState.java:run(117)) - s1@group-9DDC70D1F0F3-FollowerState was interrupted: java.lang.InterruptedException: sleep interrupted
2019-09-24 12:04:58,032 DEBUG impl.RaftServerImpl (RaftServerImpl.java:requestVote(775)) - s1@group-9DDC70D1F0F3 replies to vote request: s0<-s1#0:OK-t1. Peer's state: s1@group-9DDC70D1F0F3:t1, leader=null, voted=s0, raftlog=s1@group-9DDC70D1F0F3-SegmentedRaftLog:OPENED:c-1,f-1,i0, conf=-1: [s0:0.0.0.0:37243, s1:0.0.0.0:38994, s2:0.0.0.0:36346], old=null
2019-09-24 12:04:58,034 INFO  impl.LeaderElection (LeaderElection.java:logAndReturn(56)) - s0@group-9DDC70D1F0F3-LeaderElection8: Election PASSED; received 1 response(s) [s0<-s1#0:OK-t1] and 0 exception(s); s0@group-9DDC70D1F0F3:t1, leader=null, voted=s0, raftlog=s0@group-9DDC70D1F0F3-SegmentedRaftLog:OPENED:c-1,f-1,i0, conf=-1: [s0:0.0.0.0:37243, s1:0.0.0.0:38994, s2:0.0.0.0:36346], old=null
2019-09-24 12:04:58,035 INFO  impl.RoleInfo (RoleInfo.java:shutdownLeaderElection(134)) - s0: shutdown LeaderElection
2019-09-24 12:04:58,035 INFO  impl.RaftServerImpl (RaftServerImpl.java:setRole(170)) - s0@group-9DDC70D1F0F3: changes role from CANDIDATE to LEADER at term 1 for changeToLeader
2019-09-24 12:04:58,036 INFO  impl.RaftServerImpl (ServerState.java:setLeader(254)) - s0@group-9DDC70D1F0F3: change Leader from null to s0 at term 1 for becomeLeader, leader elected after 266ms
2019-09-24 12:04:58,036 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.staging.catchup.gap = 1000 (default)
2019-09-24 12:04:58,036 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.rpc.sleep.time = 25ms (default)
2019-09-24 12:04:58,036 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.write.element-limit = 4096 (default)
2019-09-24 12:04:58,036 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.watch.timeout = 10s (default)
2019-09-24 12:04:58,037 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.watch.timeout.denomination = 1s (default)
2019-09-24 12:04:58,037 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.watch.element-limit = 65536 (default)
2019-09-24 12:04:58,040 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.log.appender.snapshot.chunk.size.max = 16MB (=16777216) (default)
2019-09-24 12:04:58,040 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.log.appender.buffer.byte-limit = 4MB (=4194304) (default)
2019-09-24 12:04:58,041 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.log.appender.buffer.element-limit = 0 (default)
2019-09-24 12:04:58,041 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.log.appender.snapshot.chunk.size.max = 16MB (=16777216) (default)
2019-09-24 12:04:58,041 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.log.appender.buffer.byte-limit = 4MB (=4194304) (default)
2019-09-24 12:04:58,041 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.log.appender.buffer.element-limit = 0 (default)
2019-09-24 12:04:58,042 INFO  impl.RoleInfo (RoleInfo.java:updateAndGet(143)) - s0: start LeaderState
2019-09-24 12:04:58,042 INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:startLogSegment(380)) - s0@group-9DDC70D1F0F3-SegmentedRaftLogWorker: Starting segment from index:0
2019-09-24 12:04:58,043 INFO  impl.RaftServerImpl (ServerState.java:setRaftConf(355)) - s0@group-9DDC70D1F0F3: set configuration 0: [s0:0.0.0.0:37243, s1:0.0.0.0:38994, s2:0.0.0.0:36346], old=null at 0
2019-09-24 12:04:58,046 INFO  impl.RaftServerImpl (ServerState.java:setLeader(254)) - s1@group-9DDC70D1F0F3: change Leader from null to s0 at term 1 for appendEntries, leader elected after 276ms
2019-09-24 12:04:58,052 DEBUG impl.RaftServerImpl (RaftServerImpl.java:logAppendEntries(850)) - s1@group-9DDC70D1F0F3: receive appendEntries(s0, 1, null, -1, false, commits[s0:c-1, s1:c-1, s2:c-1], entries: (t:1, i:0), CONFIGURATIONENTRY
2019-09-24 12:04:58,052 INFO  impl.RaftServerImpl (ServerState.java:setRaftConf(355)) - s1@group-9DDC70D1F0F3: set configuration 0: [s0:0.0.0.0:37243, s1:0.0.0.0:38994, s2:0.0.0.0:36346], old=null at 0
2019-09-24 12:04:58,053 INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:startLogSegment(380)) - s1@group-9DDC70D1F0F3-SegmentedRaftLogWorker: Starting segment from index:0
2019-09-24 12:04:58,065 WARN  impl.LogAppender (LogAppender.java:sendAppendEntriesWithRetries(274)) - s0@group-9DDC70D1F0F3->s2-LogAppender: Failed to appendEntries (retry=1): org.apache.ratis.protocol.ServerNotReadyException: s2@group-9DDC70D1F0F3 is not in [STARTING, RUNNING]: current state is NEW
2019-09-24 12:04:58,189 INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:execute(569)) - s0@group-9DDC70D1F0F3-SegmentedRaftLogWorker: created new log segment /workdir/ratis-test/target/test/data/aaa4fccd/MiniRaftClusterWithNetty53617c77/s0/8282875c-54dc-4ebb-a985-9ddc70d1f0f3/current/log_inprogress_0
2019-09-24 12:04:58,189 INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:execute(569)) - s1@group-9DDC70D1F0F3-SegmentedRaftLogWorker: created new log segment /workdir/ratis-test/target/test/data/aaa4fccd/MiniRaftClusterWithNetty53617c77/s1/8282875c-54dc-4ebb-a985-9ddc70d1f0f3/current/log_inprogress_0
2019-09-24 12:04:58,202 DEBUG impl.RaftServerImpl (RaftServerImpl.java:logAppendEntries(850)) - s1@group-9DDC70D1F0F3: succeeded to handle AppendEntries. Reply: s0<-s1#0:OK,SUCCESS,nextIndex:1,term:1,followerCommit:-1
2019-09-24 12:04:58,258 INFO  ratis.RaftTestUtil (RaftTestUtil.java:waitForLeader(101)) - printing ALL groups
  s0:  RUNNING    LEADER s0@group-9DDC70D1F0F3:t1, leader=s0, voted=s0, raftlog=s0@group-9DDC70D1F0F3-SegmentedRaftLog:OPENED:c0,f0,i0, conf=0: [s0:0.0.0.0:37243, s1:0.0.0.0:38994, s2:0.0.0.0:36346], old=null RUNNING
  s1:  RUNNING  FOLLOWER s1@group-9DDC70D1F0F3:t1, leader=s0, voted=s0, raftlog=s1@group-9DDC70D1F0F3-SegmentedRaftLog:OPENED:c-1,f0,i0, conf=0: [s0:0.0.0.0:37243, s1:0.0.0.0:38994, s2:0.0.0.0:36346], old=null RUNNING
  s2:      NEW      null s2@group-9DDC70D1F0F3:t0, leader=null, voted=null, raftlog=s2@group-9DDC70D1F0F3-SegmentedRaftLog:OPENED:c-1,f-1,i0, conf=-1: [s0:0.0.0.0:37243, s1:0.0.0.0:38994, s2:0.0.0.0:36346], old=null NEW
2019-09-24 12:04:58,258 INFO  netty.TestLeaderElectionWithNetty (LeaderElectionTests.java:testLateServerStart(134)) - sleep 3s
2019-09-24 12:04:58,338 WARN  impl.LogAppender (LogAppender.java:sendAppendEntriesWithRetries(274)) - s0@group-9DDC70D1F0F3->s2-LogAppender: Failed to appendEntries (retry=11): org.apache.ratis.protocol.ServerNotReadyException: s2@group-9DDC70D1F0F3 is not in [STARTING, RUNNING]: current state is NEW
2019-09-24 12:04:58,597 WARN  impl.LogAppender (LogAppender.java:sendAppendEntriesWithRetries(274)) - s0@group-9DDC70D1F0F3->s2-LogAppender: Failed to appendEntries (retry=21): org.apache.ratis.protocol.ServerNotReadyException: s2@group-9DDC70D1F0F3 is not in [STARTING, RUNNING]: current state is NEW
2019-09-24 12:04:58,849 WARN  impl.LogAppender (LogAppender.java:sendAppendEntriesWithRetries(274)) - s0@group-9DDC70D1F0F3->s2-LogAppender: Failed to appendEntries (retry=31): org.apache.ratis.protocol.ServerNotReadyException: s2@group-9DDC70D1F0F3 is not in [STARTING, RUNNING]: current state is NEW
2019-09-24 12:04:59,103 WARN  impl.LogAppender (LogAppender.java:sendAppendEntriesWithRetries(274)) - s0@group-9DDC70D1F0F3->s2-LogAppender: Failed to appendEntries (retry=41): org.apache.ratis.protocol.ServerNotReadyException: s2@group-9DDC70D1F0F3 is not in [STARTING, RUNNING]: current state is NEW
2019-09-24 12:04:59,355 WARN  impl.LogAppender (LogAppender.java:sendAppendEntriesWithRetries(274)) - s0@group-9DDC70D1F0F3->s2-LogAppender: Failed to appendEntries (retry=51): org.apache.ratis.protocol.ServerNotReadyException: s2@group-9DDC70D1F0F3 is not in [STARTING, RUNNING]: current state is NEW
2019-09-24 12:04:59,599 WARN  impl.LogAppender (LogAppender.java:sendAppendEntriesWithRetries(274)) - s0@group-9DDC70D1F0F3->s2-LogAppender: Failed to appendEntries (retry=61): org.apache.ratis.protocol.ServerNotReadyException: s2@group-9DDC70D1F0F3 is not in [STARTING, RUNNING]: current state is NEW
2019-09-24 12:04:59,847 WARN  impl.LogAppender (LogAppender.java:sendAppendEntriesWithRetries(274)) - s0@group-9DDC70D1F0F3->s2-LogAppender: Failed to appendEntries (retry=71): org.apache.ratis.protocol.ServerNotReadyException: s2@group-9DDC70D1F0F3 is not in [STARTING, RUNNING]: current state is NEW
2019-09-24 12:05:00,091 WARN  impl.LogAppender (LogAppender.java:sendAppendEntriesWithRetries(274)) - s0@group-9DDC70D1F0F3->s2-LogAppender: Failed to appendEntries (retry=81): org.apache.ratis.protocol.ServerNotReadyException: s2@group-9DDC70D1F0F3 is not in [STARTING, RUNNING]: current state is NEW
2019-09-24 12:05:00,334 WARN  impl.LogAppender (LogAppender.java:sendAppendEntriesWithRetries(274)) - s0@group-9DDC70D1F0F3->s2-LogAppender: Failed to appendEntries (retry=91): org.apache.ratis.protocol.ServerNotReadyException: s2@group-9DDC70D1F0F3 is not in [STARTING, RUNNING]: current state is NEW
2019-09-24 12:05:00,578 WARN  impl.LogAppender (LogAppender.java:sendAppendEntriesWithRetries(274)) - s0@group-9DDC70D1F0F3->s2-LogAppender: Failed to appendEntries (retry=101): org.apache.ratis.protocol.ServerNotReadyException: s2@group-9DDC70D1F0F3 is not in [STARTING, RUNNING]: current state is NEW
2019-09-24 12:05:00,824 WARN  impl.LogAppender (LogAppender.java:sendAppendEntriesWithRetries(274)) - s0@group-9DDC70D1F0F3->s2-LogAppender: Failed to appendEntries (retry=111): org.apache.ratis.protocol.ServerNotReadyException: s2@group-9DDC70D1F0F3 is not in [STARTING, RUNNING]: current state is NEW
2019-09-24 12:05:01,067 WARN  impl.LogAppender (LogAppender.java:sendAppendEntriesWithRetries(274)) - s0@group-9DDC70D1F0F3->s2-LogAppender: Failed to appendEntries (retry=121): org.apache.ratis.protocol.ServerNotReadyException: s2@group-9DDC70D1F0F3 is not in [STARTING, RUNNING]: current state is NEW
2019-09-24 12:05:01,258 INFO  impl.RaftServerImpl (RaftServerImpl.java:start(181)) - s2@group-9DDC70D1F0F3: start as a follower, conf=-1: [s0:0.0.0.0:37243, s1:0.0.0.0:38994, s2:0.0.0.0:36346], old=null
2019-09-24 12:05:01,259 INFO  impl.RaftServerImpl (RaftServerImpl.java:setRole(170)) - s2@group-9DDC70D1F0F3: changes role from      null to FOLLOWER at term 0 for startAsFollower
2019-09-24 12:05:01,259 INFO  impl.RoleInfo (RoleInfo.java:updateAndGet(143)) - s2: start FollowerState
2019-09-24 12:05:01,260 INFO  util.JmxRegister (JmxRegister.java:tryRegister(44)) - Successfully registered JMX Bean with object name Ratis:service=RaftServer,group=group-9DDC70D1F0F3,id=s2
2019-09-24 12:05:01,265 INFO  impl.RaftServerProxy (RaftServerProxy.java:lambda$start$3(299)) - s2: start RPC server
2019-09-24 12:05:01,267 WARN  netty.TestLeaderElectionWithNetty (JavaUtils.java:attempt(158)) - FAILED "getLeaderId", attempt #1/10: java.lang.IllegalStateException: No leader yet, sleep 1s and then retry.
java.lang.IllegalStateException: No leader yet
	at org.apache.ratis.server.impl.LeaderElectionTests.lambda$null$1(LeaderElectionTests.java:142)
	at java.util.Optional.orElseThrow(Optional.java:290)
	at org.apache.ratis.server.impl.LeaderElectionTests.lambda$testLateServerStart$2(LeaderElectionTests.java:142)
	at org.apache.ratis.util.JavaUtils.attempt(JavaUtils.java:152)
	at org.apache.ratis.server.impl.LeaderElectionTests.testLateServerStart(LeaderElectionTests.java:140)
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.lang.reflect.Method.invoke(Method.java:498)
	at org.junit.runners.model.FrameworkMethod$1.runReflectiveCall(FrameworkMethod.java:50)
	at org.junit.internal.runners.model.ReflectiveCallable.run(ReflectiveCallable.java:12)
	at org.junit.runners.model.FrameworkMethod.invokeExplosively(FrameworkMethod.java:47)
	at org.junit.internal.runners.statements.InvokeMethod.evaluate(InvokeMethod.java:17)
	at org.junit.internal.runners.statements.RunAfters.evaluate(RunAfters.java:27)
	at org.junit.internal.runners.statements.FailOnTimeout$CallableStatement.call(FailOnTimeout.java:298)
	at org.junit.internal.runners.statements.FailOnTimeout$CallableStatement.call(FailOnTimeout.java:292)
	at java.util.concurrent.FutureTask.run(FutureTask.java:266)
	at java.lang.Thread.run(Thread.java:748)
2019-09-24 12:05:01,281 DEBUG impl.RaftServerImpl (RaftServerImpl.java:logAppendEntries(850)) - s2@group-9DDC70D1F0F3: receive appendEntries(s0, 1, null, -1, false, commits[s0:c-1, s1:c-1, s2:c-1], entries: (t:1, i:0), CONFIGURATIONENTRY
2019-09-24 12:05:01,295 INFO  impl.RaftServerImpl (ServerState.java:setLeader(254)) - s2@group-9DDC70D1F0F3: change Leader from null to s0 at term 1 for appendEntries, leader elected after 3526ms
2019-09-24 12:05:01,296 INFO  impl.RaftServerImpl (ServerState.java:setRaftConf(355)) - s2@group-9DDC70D1F0F3: set configuration 0: [s0:0.0.0.0:37243, s1:0.0.0.0:38994, s2:0.0.0.0:36346], old=null at 0
2019-09-24 12:05:01,296 INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:startLogSegment(380)) - s2@group-9DDC70D1F0F3-SegmentedRaftLogWorker: Starting segment from index:0
2019-09-24 12:05:01,389 INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:execute(569)) - s2@group-9DDC70D1F0F3-SegmentedRaftLogWorker: created new log segment /workdir/ratis-test/target/test/data/aaa4fccd/MiniRaftClusterWithNetty53617c77/s2/8282875c-54dc-4ebb-a985-9ddc70d1f0f3/current/log_inprogress_0
2019-09-24 12:05:01,401 DEBUG impl.RaftServerImpl (RaftServerImpl.java:logAppendEntries(850)) - s2@group-9DDC70D1F0F3: succeeded to handle AppendEntries. Reply: s0<-s2#0:OK,SUCCESS,nextIndex:1,term:0,followerCommit:-1
2019-09-24 12:05:02,269 INFO  netty.TestLeaderElectionWithNetty (LeaderElectionTests.java:testLateServerStart(144)) - printing ALL groups
  s0:  RUNNING    LEADER s0@group-9DDC70D1F0F3:t1, leader=s0, voted=s0, raftlog=s0@group-9DDC70D1F0F3-SegmentedRaftLog:OPENED:c0,f0,i0, conf=0: [s0:0.0.0.0:37243, s1:0.0.0.0:38994, s2:0.0.0.0:36346], old=null RUNNING
  s1:  RUNNING  FOLLOWER s1@group-9DDC70D1F0F3:t1, leader=s0, voted=s0, raftlog=s1@group-9DDC70D1F0F3-SegmentedRaftLog:OPENED:c0,f0,i0, conf=0: [s0:0.0.0.0:37243, s1:0.0.0.0:38994, s2:0.0.0.0:36346], old=null RUNNING
  s2:  RUNNING  FOLLOWER s2@group-9DDC70D1F0F3:t1, leader=s0, voted=null, raftlog=s2@group-9DDC70D1F0F3-SegmentedRaftLog:OPENED:c0,f0,i0, conf=0: [s0:0.0.0.0:37243, s1:0.0.0.0:38994, s2:0.0.0.0:36346], old=null RUNNING
2019-09-24 12:05:02,269 INFO  util.LogUtils (LogUtils.java:setLogLevel(41)) - Set org.apache.ratis.conf.ConfUtils log level to WARN
2019-09-24 12:05:02,270 INFO  util.LogUtils (LogUtils.java:setLogLevel(41)) - Set org.apache.ratis.util.FileUtils log level to TRACE
2019-09-24 12:05:02,270 INFO  util.LogUtils (LogUtils.java:setLogLevel(41)) - Set org.apache.ratis.server.impl.RaftServerImpl log level to DEBUG
2019-09-24 12:05:02,270 INFO  util.LogUtils (LogUtils.java:setLogLevel(41)) - Set org.apache.ratis.client.RaftClient log level to DEBUG
2019-09-24 12:05:02,271 INFO  netty.TestLeaderElectionWithNetty (LeaderElectionTests.java:testBasicLeaderElection(60)) - Running testBasicLeaderElection
2019-09-24 12:05:02,273 INFO  ratis.MiniRaftCluster (MiniRaftCluster.java:<init>(253)) - new MiniRaftClusterWithNetty with group-E7D5050F4609:[s3:0.0.0.0:40479, s4:0.0.0.0:43695, s0:0.0.0.0:44661, s1:0.0.0.0:36487, s2:0.0.0.0:42023]
2019-09-24 12:05:02,273 INFO  ratis.MiniRaftCluster (MiniRaftCluster.java:start(287)) - .............................................................. 
2019-09-24 12:05:02,273 INFO  ratis.MiniRaftCluster (MiniRaftCluster.java:start(288)) - ... 
2019-09-24 12:05:02,274 INFO  ratis.MiniRaftCluster (MiniRaftCluster.java:start(289)) - ...     Starting MiniRaftClusterWithNetty
2019-09-24 12:05:02,274 INFO  ratis.MiniRaftCluster (MiniRaftCluster.java:start(290)) - ... 
2019-09-24 12:05:02,274 INFO  ratis.MiniRaftCluster (MiniRaftCluster.java:start(291)) - .............................................................. 
2019-09-24 12:05:02,274 INFO  ratis.MiniRaftCluster (MiniRaftCluster.java:initServers(265)) - servers = {}
2019-09-24 12:05:02,274 INFO  ratis.MiniRaftCluster (MiniRaftCluster.java:newRaftServer(330)) - newRaftServer: s3, group-E7D5050F4609:[s3:0.0.0.0:40479, s4:0.0.0.0:43695, s0:0.0.0.0:44661, s1:0.0.0.0:36487, s2:0.0.0.0:42023], format? true
2019-09-24 12:05:02,275 TRACE util.FileUtils (FileUtils.java:deleteFully(88)) - deleteFully target/test/data/aaa4fccd/MiniRaftClusterWithNettyac8e1cad/s3
2019-09-24 12:05:02,275 TRACE util.FileUtils (FileUtils.java:deleteFully(104)) - deleteFully: target/test/data/aaa4fccd/MiniRaftClusterWithNettyac8e1cad/s3 does not exist.
2019-09-24 12:05:02,276 INFO  ratis.MiniRaftCluster (MiniRaftCluster.java:newRaftServer(335)) - Formatted directory target/test/data/aaa4fccd/MiniRaftClusterWithNettyac8e1cad/s3
2019-09-24 12:05:02,276 INFO  impl.RaftServerProxy (ConfUtils.java:logGet(43)) - raft.rpc.type = NETTY (custom)
2019-09-24 12:05:02,279 INFO  netty.NettyConfigKeys$Server (ConfUtils.java:logGet(43)) - raft.netty.server.port = 40479 (custom)
2019-09-24 12:05:02,280 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.storage.dir = [/workdir/ratis-test/target/test/data/aaa4fccd/MiniRaftClusterWithNettyac8e1cad/s3] (custom)
2019-09-24 12:05:02,281 INFO  logging.LoggingHandler (AbstractInternalLogger.java:log(150)) - [id: 0x18e757fc] REGISTERED
2019-09-24 12:05:02,282 INFO  logging.LoggingHandler (AbstractInternalLogger.java:log(150)) - [id: 0x18e757fc] BIND: 0.0.0.0/0.0.0.0:40479
2019-09-24 12:05:02,282 INFO  impl.RaftServerProxy (RaftServerProxy.java:addNew(89)) - s3: addNew group-E7D5050F4609:[s3:0.0.0.0:40479, s4:0.0.0.0:43695, s0:0.0.0.0:44661, s1:0.0.0.0:36487, s2:0.0.0.0:42023] returns group-E7D5050F4609:java.util.concurrent.CompletableFuture@f2b9d8d[Not completed]
2019-09-24 12:05:02,282 INFO  logging.LoggingHandler (AbstractInternalLogger.java:log(150)) - [id: 0x18e757fc, L:/0.0.0.0:40479] ACTIVE
2019-09-24 12:05:02,283 INFO  ratis.MiniRaftCluster (MiniRaftCluster.java:newRaftServer(330)) - newRaftServer: s4, group-E7D5050F4609:[s3:0.0.0.0:40479, s4:0.0.0.0:43695, s0:0.0.0.0:44661, s1:0.0.0.0:36487, s2:0.0.0.0:42023], format? true
2019-09-24 12:05:02,283 INFO  impl.RaftServerImpl (RaftServerImpl.java:<init>(95)) - s3: new RaftServerImpl for group-E7D5050F4609:[s3:0.0.0.0:40479, s4:0.0.0.0:43695, s0:0.0.0.0:44661, s1:0.0.0.0:36487, s2:0.0.0.0:42023] with BaseStateMachine:uninitialized
2019-09-24 12:05:02,284 TRACE util.FileUtils (FileUtils.java:deleteFully(88)) - deleteFully target/test/data/aaa4fccd/MiniRaftClusterWithNettyac8e1cad/s4
2019-09-24 12:05:02,284 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.rpc.timeout.min = 150ms (default)
2019-09-24 12:05:02,285 TRACE util.FileUtils (FileUtils.java:deleteFully(104)) - deleteFully: target/test/data/aaa4fccd/MiniRaftClusterWithNettyac8e1cad/s4 does not exist.
2019-09-24 12:05:02,285 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.rpc.timeout.max = 300ms (default)
2019-09-24 12:05:02,285 INFO  ratis.MiniRaftCluster (MiniRaftCluster.java:newRaftServer(335)) - Formatted directory target/test/data/aaa4fccd/MiniRaftClusterWithNettyac8e1cad/s4
2019-09-24 12:05:02,285 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.rpcslowness.timeout = 60s (default)
2019-09-24 12:05:02,286 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.sleep.deviation.threshold = 300 (default)
2019-09-24 12:05:02,286 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.log.appender.install.snapshot.enabled = true (default)
2019-09-24 12:05:02,286 INFO  impl.RaftServerProxy (ConfUtils.java:logGet(43)) - raft.rpc.type = NETTY (custom)
2019-09-24 12:05:02,286 INFO  impl.RaftServerImpl (ServerState.java:<init>(103)) - s3@group-E7D5050F4609: ConfigurationManager, init=-1: [s3:0.0.0.0:40479, s4:0.0.0.0:43695, s0:0.0.0.0:44661, s1:0.0.0.0:36487, s2:0.0.0.0:42023], old=null, confs=<EMPTY_MAP>
2019-09-24 12:05:02,287 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.storage.dir = [/workdir/ratis-test/target/test/data/aaa4fccd/MiniRaftClusterWithNettyac8e1cad/s3] (custom)
2019-09-24 12:05:02,287 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.log.corruption.policy = EXCEPTION (default)
2019-09-24 12:05:02,287 INFO  storage.RaftStorageDirectory (RaftStorageDirectory.java:analyzeStorage(246)) - The storage directory /workdir/ratis-test/target/test/data/aaa4fccd/MiniRaftClusterWithNettyac8e1cad/s3/36869398-fbcf-49ef-8a37-e7d5050f4609 does not exist. Creating ...
2019-09-24 12:05:02,288 INFO  netty.NettyConfigKeys$Server (ConfUtils.java:logGet(43)) - raft.netty.server.port = 43695 (custom)
2019-09-24 12:05:02,288 TRACE util.FileUtils (LogUtils.java:runAndLog(61)) - Successfully ran Files.createDirectories /workdir/ratis-test/target/test/data/aaa4fccd/MiniRaftClusterWithNettyac8e1cad/s3/36869398-fbcf-49ef-8a37-e7d5050f4609
2019-09-24 12:05:02,289 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.storage.dir = [/workdir/ratis-test/target/test/data/aaa4fccd/MiniRaftClusterWithNettyac8e1cad/s4] (custom)
2019-09-24 12:05:02,290 INFO  logging.LoggingHandler (AbstractInternalLogger.java:log(150)) - [id: 0xb9400468] REGISTERED
2019-09-24 12:05:02,291 INFO  logging.LoggingHandler (AbstractInternalLogger.java:log(150)) - [id: 0xb9400468] BIND: 0.0.0.0/0.0.0.0:43695
2019-09-24 12:05:02,291 INFO  impl.RaftServerProxy (RaftServerProxy.java:addNew(89)) - s4: addNew group-E7D5050F4609:[s3:0.0.0.0:40479, s4:0.0.0.0:43695, s0:0.0.0.0:44661, s1:0.0.0.0:36487, s2:0.0.0.0:42023] returns group-E7D5050F4609:java.util.concurrent.CompletableFuture@3292b36f[Not completed]
2019-09-24 12:05:02,291 INFO  logging.LoggingHandler (AbstractInternalLogger.java:log(150)) - [id: 0xb9400468, L:/0.0.0.0:43695] ACTIVE
2019-09-24 12:05:02,292 INFO  impl.RaftServerImpl (RaftServerImpl.java:<init>(95)) - s4: new RaftServerImpl for group-E7D5050F4609:[s3:0.0.0.0:40479, s4:0.0.0.0:43695, s0:0.0.0.0:44661, s1:0.0.0.0:36487, s2:0.0.0.0:42023] with BaseStateMachine:uninitialized
2019-09-24 12:05:02,292 INFO  ratis.MiniRaftCluster (MiniRaftCluster.java:newRaftServer(330)) - newRaftServer: s0, group-E7D5050F4609:[s3:0.0.0.0:40479, s4:0.0.0.0:43695, s0:0.0.0.0:44661, s1:0.0.0.0:36487, s2:0.0.0.0:42023], format? true
2019-09-24 12:05:02,292 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.rpc.timeout.min = 150ms (default)
2019-09-24 12:05:02,292 TRACE util.FileUtils (FileUtils.java:deleteFully(88)) - deleteFully target/test/data/aaa4fccd/MiniRaftClusterWithNettyac8e1cad/s0
2019-09-24 12:05:02,293 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.rpc.timeout.max = 300ms (default)
2019-09-24 12:05:02,293 TRACE util.FileUtils (FileUtils.java:deleteFully(104)) - deleteFully: target/test/data/aaa4fccd/MiniRaftClusterWithNettyac8e1cad/s0 does not exist.
2019-09-24 12:05:02,293 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.rpcslowness.timeout = 60s (default)
2019-09-24 12:05:02,293 INFO  ratis.MiniRaftCluster (MiniRaftCluster.java:newRaftServer(335)) - Formatted directory target/test/data/aaa4fccd/MiniRaftClusterWithNettyac8e1cad/s0
2019-09-24 12:05:02,294 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.sleep.deviation.threshold = 300 (default)
2019-09-24 12:05:02,294 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.log.appender.install.snapshot.enabled = true (default)
2019-09-24 12:05:02,294 INFO  impl.RaftServerProxy (ConfUtils.java:logGet(43)) - raft.rpc.type = NETTY (custom)
2019-09-24 12:05:02,294 INFO  impl.RaftServerImpl (ServerState.java:<init>(103)) - s4@group-E7D5050F4609: ConfigurationManager, init=-1: [s3:0.0.0.0:40479, s4:0.0.0.0:43695, s0:0.0.0.0:44661, s1:0.0.0.0:36487, s2:0.0.0.0:42023], old=null, confs=<EMPTY_MAP>
2019-09-24 12:05:02,295 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.storage.dir = [/workdir/ratis-test/target/test/data/aaa4fccd/MiniRaftClusterWithNettyac8e1cad/s4] (custom)
2019-09-24 12:05:02,295 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.log.corruption.policy = EXCEPTION (default)
2019-09-24 12:05:02,295 INFO  storage.RaftStorageDirectory (RaftStorageDirectory.java:analyzeStorage(246)) - The storage directory /workdir/ratis-test/target/test/data/aaa4fccd/MiniRaftClusterWithNettyac8e1cad/s4/36869398-fbcf-49ef-8a37-e7d5050f4609 does not exist. Creating ...
2019-09-24 12:05:02,296 TRACE util.FileUtils (LogUtils.java:runAndLog(61)) - Successfully ran Files.createDirectories /workdir/ratis-test/target/test/data/aaa4fccd/MiniRaftClusterWithNettyac8e1cad/s4/36869398-fbcf-49ef-8a37-e7d5050f4609
2019-09-24 12:05:02,296 INFO  netty.NettyConfigKeys$Server (ConfUtils.java:logGet(43)) - raft.netty.server.port = 44661 (custom)
2019-09-24 12:05:02,297 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.storage.dir = [/workdir/ratis-test/target/test/data/aaa4fccd/MiniRaftClusterWithNettyac8e1cad/s0] (custom)
2019-09-24 12:05:02,298 INFO  logging.LoggingHandler (AbstractInternalLogger.java:log(150)) - [id: 0x8faf6523] REGISTERED
2019-09-24 12:05:02,298 INFO  logging.LoggingHandler (AbstractInternalLogger.java:log(150)) - [id: 0x8faf6523] BIND: 0.0.0.0/0.0.0.0:44661
2019-09-24 12:05:02,298 INFO  impl.RaftServerProxy (RaftServerProxy.java:addNew(89)) - s0: addNew group-E7D5050F4609:[s3:0.0.0.0:40479, s4:0.0.0.0:43695, s0:0.0.0.0:44661, s1:0.0.0.0:36487, s2:0.0.0.0:42023] returns group-E7D5050F4609:java.util.concurrent.CompletableFuture@3ee7f955[Not completed]
2019-09-24 12:05:02,299 INFO  logging.LoggingHandler (AbstractInternalLogger.java:log(150)) - [id: 0x8faf6523, L:/0.0.0.0:44661] ACTIVE
2019-09-24 12:05:02,300 INFO  impl.RaftServerImpl (RaftServerImpl.java:<init>(95)) - s0: new RaftServerImpl for group-E7D5050F4609:[s3:0.0.0.0:40479, s4:0.0.0.0:43695, s0:0.0.0.0:44661, s1:0.0.0.0:36487, s2:0.0.0.0:42023] with BaseStateMachine:uninitialized
2019-09-24 12:05:02,300 INFO  ratis.MiniRaftCluster (MiniRaftCluster.java:newRaftServer(330)) - newRaftServer: s1, group-E7D5050F4609:[s3:0.0.0.0:40479, s4:0.0.0.0:43695, s0:0.0.0.0:44661, s1:0.0.0.0:36487, s2:0.0.0.0:42023], format? true
2019-09-24 12:05:02,300 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.rpc.timeout.min = 150ms (default)
2019-09-24 12:05:02,301 TRACE util.FileUtils (FileUtils.java:deleteFully(88)) - deleteFully target/test/data/aaa4fccd/MiniRaftClusterWithNettyac8e1cad/s1
2019-09-24 12:05:02,301 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.rpc.timeout.max = 300ms (default)
2019-09-24 12:05:02,301 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.rpcslowness.timeout = 60s (default)
2019-09-24 12:05:02,301 TRACE util.FileUtils (FileUtils.java:deleteFully(104)) - deleteFully: target/test/data/aaa4fccd/MiniRaftClusterWithNettyac8e1cad/s1 does not exist.
2019-09-24 12:05:02,302 INFO  ratis.MiniRaftCluster (MiniRaftCluster.java:newRaftServer(335)) - Formatted directory target/test/data/aaa4fccd/MiniRaftClusterWithNettyac8e1cad/s1
2019-09-24 12:05:02,302 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.sleep.deviation.threshold = 300 (default)
2019-09-24 12:05:02,302 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.log.appender.install.snapshot.enabled = true (default)
2019-09-24 12:05:02,303 INFO  impl.RaftServerProxy (ConfUtils.java:logGet(43)) - raft.rpc.type = NETTY (custom)
2019-09-24 12:05:02,303 INFO  impl.RaftServerImpl (ServerState.java:<init>(103)) - s0@group-E7D5050F4609: ConfigurationManager, init=-1: [s3:0.0.0.0:40479, s4:0.0.0.0:43695, s0:0.0.0.0:44661, s1:0.0.0.0:36487, s2:0.0.0.0:42023], old=null, confs=<EMPTY_MAP>
2019-09-24 12:05:02,303 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.storage.dir = [/workdir/ratis-test/target/test/data/aaa4fccd/MiniRaftClusterWithNettyac8e1cad/s0] (custom)
2019-09-24 12:05:02,304 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.log.corruption.policy = EXCEPTION (default)
2019-09-24 12:05:02,304 INFO  storage.RaftStorageDirectory (RaftStorageDirectory.java:analyzeStorage(246)) - The storage directory /workdir/ratis-test/target/test/data/aaa4fccd/MiniRaftClusterWithNettyac8e1cad/s0/36869398-fbcf-49ef-8a37-e7d5050f4609 does not exist. Creating ...
2019-09-24 12:05:02,305 TRACE util.FileUtils (LogUtils.java:runAndLog(61)) - Successfully ran Files.createDirectories /workdir/ratis-test/target/test/data/aaa4fccd/MiniRaftClusterWithNettyac8e1cad/s0/36869398-fbcf-49ef-8a37-e7d5050f4609
2019-09-24 12:05:02,306 INFO  netty.NettyConfigKeys$Server (ConfUtils.java:logGet(43)) - raft.netty.server.port = 36487 (custom)
2019-09-24 12:05:02,308 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.storage.dir = [/workdir/ratis-test/target/test/data/aaa4fccd/MiniRaftClusterWithNettyac8e1cad/s1] (custom)
2019-09-24 12:05:02,308 INFO  logging.LoggingHandler (AbstractInternalLogger.java:log(150)) - [id: 0xd721c4fe] REGISTERED
2019-09-24 12:05:02,308 INFO  logging.LoggingHandler (AbstractInternalLogger.java:log(150)) - [id: 0xd721c4fe] BIND: 0.0.0.0/0.0.0.0:36487
2019-09-24 12:05:02,308 INFO  impl.RaftServerProxy (RaftServerProxy.java:addNew(89)) - s1: addNew group-E7D5050F4609:[s3:0.0.0.0:40479, s4:0.0.0.0:43695, s0:0.0.0.0:44661, s1:0.0.0.0:36487, s2:0.0.0.0:42023] returns group-E7D5050F4609:java.util.concurrent.CompletableFuture@576b423e[Not completed]
2019-09-24 12:05:02,309 INFO  logging.LoggingHandler (AbstractInternalLogger.java:log(150)) - [id: 0xd721c4fe, L:/0.0.0.0:36487] ACTIVE
2019-09-24 12:05:02,309 INFO  impl.RaftServerImpl (RaftServerImpl.java:<init>(95)) - s1: new RaftServerImpl for group-E7D5050F4609:[s3:0.0.0.0:40479, s4:0.0.0.0:43695, s0:0.0.0.0:44661, s1:0.0.0.0:36487, s2:0.0.0.0:42023] with BaseStateMachine:uninitialized
2019-09-24 12:05:02,310 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.rpc.timeout.min = 150ms (default)
2019-09-24 12:05:02,310 INFO  ratis.MiniRaftCluster (MiniRaftCluster.java:newRaftServer(330)) - newRaftServer: s2, group-E7D5050F4609:[s3:0.0.0.0:40479, s4:0.0.0.0:43695, s0:0.0.0.0:44661, s1:0.0.0.0:36487, s2:0.0.0.0:42023], format? true
2019-09-24 12:05:02,310 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.rpc.timeout.max = 300ms (default)
2019-09-24 12:05:02,310 TRACE util.FileUtils (FileUtils.java:deleteFully(88)) - deleteFully target/test/data/aaa4fccd/MiniRaftClusterWithNettyac8e1cad/s2
2019-09-24 12:05:02,311 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.rpcslowness.timeout = 60s (default)
2019-09-24 12:05:02,311 TRACE util.FileUtils (FileUtils.java:deleteFully(104)) - deleteFully: target/test/data/aaa4fccd/MiniRaftClusterWithNettyac8e1cad/s2 does not exist.
2019-09-24 12:05:02,311 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.sleep.deviation.threshold = 300 (default)
2019-09-24 12:05:02,311 INFO  ratis.MiniRaftCluster (MiniRaftCluster.java:newRaftServer(335)) - Formatted directory target/test/data/aaa4fccd/MiniRaftClusterWithNettyac8e1cad/s2
2019-09-24 12:05:02,311 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.log.appender.install.snapshot.enabled = true (default)
2019-09-24 12:05:02,312 INFO  impl.RaftServerImpl (ServerState.java:<init>(103)) - s1@group-E7D5050F4609: ConfigurationManager, init=-1: [s3:0.0.0.0:40479, s4:0.0.0.0:43695, s0:0.0.0.0:44661, s1:0.0.0.0:36487, s2:0.0.0.0:42023], old=null, confs=<EMPTY_MAP>
2019-09-24 12:05:02,312 INFO  impl.RaftServerProxy (ConfUtils.java:logGet(43)) - raft.rpc.type = NETTY (custom)
2019-09-24 12:05:02,312 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.storage.dir = [/workdir/ratis-test/target/test/data/aaa4fccd/MiniRaftClusterWithNettyac8e1cad/s1] (custom)
2019-09-24 12:05:02,313 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.log.corruption.policy = EXCEPTION (default)
2019-09-24 12:05:02,313 INFO  storage.RaftStorageDirectory (RaftStorageDirectory.java:analyzeStorage(246)) - The storage directory /workdir/ratis-test/target/test/data/aaa4fccd/MiniRaftClusterWithNettyac8e1cad/s1/36869398-fbcf-49ef-8a37-e7d5050f4609 does not exist. Creating ...
2019-09-24 12:05:02,314 TRACE util.FileUtils (LogUtils.java:runAndLog(61)) - Successfully ran Files.createDirectories /workdir/ratis-test/target/test/data/aaa4fccd/MiniRaftClusterWithNettyac8e1cad/s1/36869398-fbcf-49ef-8a37-e7d5050f4609
2019-09-24 12:05:02,315 INFO  storage.RaftStorageDirectory (RaftStorageDirectory.java:tryLock(328)) - Lock on /workdir/ratis-test/target/test/data/aaa4fccd/MiniRaftClusterWithNettyac8e1cad/s4/36869398-fbcf-49ef-8a37-e7d5050f4609/in_use.lock acquired by nodename 2153@ratis-test-nppbd-817190658
2019-09-24 12:05:02,315 INFO  storage.RaftStorageDirectory (RaftStorageDirectory.java:tryLock(328)) - Lock on /workdir/ratis-test/target/test/data/aaa4fccd/MiniRaftClusterWithNettyac8e1cad/s3/36869398-fbcf-49ef-8a37-e7d5050f4609/in_use.lock acquired by nodename 2153@ratis-test-nppbd-817190658
2019-09-24 12:05:02,316 INFO  netty.NettyConfigKeys$Server (ConfUtils.java:logGet(43)) - raft.netty.server.port = 42023 (custom)
2019-09-24 12:05:02,316 TRACE util.FileUtils (LogUtils.java:runAndLog(61)) - Successfully ran Files.createDirectories /workdir/ratis-test/target/test/data/aaa4fccd/MiniRaftClusterWithNettyac8e1cad/s4/36869398-fbcf-49ef-8a37-e7d5050f4609/current
2019-09-24 12:05:02,316 TRACE util.FileUtils (LogUtils.java:runAndLog(61)) - Successfully ran Files.createDirectories /workdir/ratis-test/target/test/data/aaa4fccd/MiniRaftClusterWithNettyac8e1cad/s3/36869398-fbcf-49ef-8a37-e7d5050f4609/current
2019-09-24 12:05:02,317 TRACE util.FileUtils (LogUtils.java:runAndLog(61)) - Successfully ran Files.createDirectories /workdir/ratis-test/target/test/data/aaa4fccd/MiniRaftClusterWithNettyac8e1cad/s4/36869398-fbcf-49ef-8a37-e7d5050f4609/sm
2019-09-24 12:05:02,317 INFO  storage.RaftStorageDirectory (RaftStorageDirectory.java:tryLock(328)) - Lock on /workdir/ratis-test/target/test/data/aaa4fccd/MiniRaftClusterWithNettyac8e1cad/s0/36869398-fbcf-49ef-8a37-e7d5050f4609/in_use.lock acquired by nodename 2153@ratis-test-nppbd-817190658
2019-09-24 12:05:02,317 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.storage.dir = [/workdir/ratis-test/target/test/data/aaa4fccd/MiniRaftClusterWithNettyac8e1cad/s2] (custom)
2019-09-24 12:05:02,317 INFO  storage.RaftStorageDirectory (RaftStorageDirectory.java:tryLock(328)) - Lock on /workdir/ratis-test/target/test/data/aaa4fccd/MiniRaftClusterWithNettyac8e1cad/s1/36869398-fbcf-49ef-8a37-e7d5050f4609/in_use.lock acquired by nodename 2153@ratis-test-nppbd-817190658
2019-09-24 12:05:02,317 TRACE util.FileUtils (LogUtils.java:runAndLog(61)) - Successfully ran Files.createDirectories /workdir/ratis-test/target/test/data/aaa4fccd/MiniRaftClusterWithNettyac8e1cad/s3/36869398-fbcf-49ef-8a37-e7d5050f4609/sm
2019-09-24 12:05:02,318 TRACE util.FileUtils (LogUtils.java:runAndLog(61)) - Successfully ran Files.createDirectories /workdir/ratis-test/target/test/data/aaa4fccd/MiniRaftClusterWithNettyac8e1cad/s0/36869398-fbcf-49ef-8a37-e7d5050f4609/current
2019-09-24 12:05:02,318 INFO  logging.LoggingHandler (AbstractInternalLogger.java:log(150)) - [id: 0x613b8d3e] REGISTERED
2019-09-24 12:05:02,319 TRACE util.FileUtils (LogUtils.java:runAndLog(61)) - Successfully ran Files.createDirectories /workdir/ratis-test/target/test/data/aaa4fccd/MiniRaftClusterWithNettyac8e1cad/s0/36869398-fbcf-49ef-8a37-e7d5050f4609/sm
2019-09-24 12:05:02,318 TRACE util.FileUtils (LogUtils.java:runAndLog(61)) - Successfully ran Files.createDirectories /workdir/ratis-test/target/test/data/aaa4fccd/MiniRaftClusterWithNettyac8e1cad/s1/36869398-fbcf-49ef-8a37-e7d5050f4609/current
2019-09-24 12:05:02,318 INFO  impl.RaftServerProxy (RaftServerProxy.java:addNew(89)) - s2: addNew group-E7D5050F4609:[s3:0.0.0.0:40479, s4:0.0.0.0:43695, s0:0.0.0.0:44661, s1:0.0.0.0:36487, s2:0.0.0.0:42023] returns group-E7D5050F4609:java.util.concurrent.CompletableFuture@7b0fc681[Not completed]
2019-09-24 12:05:02,320 TRACE util.FileUtils (LogUtils.java:runAndLog(61)) - Successfully ran Files.createDirectories /workdir/ratis-test/target/test/data/aaa4fccd/MiniRaftClusterWithNettyac8e1cad/s1/36869398-fbcf-49ef-8a37-e7d5050f4609/sm
2019-09-24 12:05:02,319 INFO  impl.RaftServerImpl (RaftServerImpl.java:<init>(95)) - s2: new RaftServerImpl for group-E7D5050F4609:[s3:0.0.0.0:40479, s4:0.0.0.0:43695, s0:0.0.0.0:44661, s1:0.0.0.0:36487, s2:0.0.0.0:42023] with BaseStateMachine:uninitialized
2019-09-24 12:05:02,319 INFO  logging.LoggingHandler (AbstractInternalLogger.java:log(150)) - [id: 0x613b8d3e] BIND: 0.0.0.0/0.0.0.0:42023
2019-09-24 12:05:02,321 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.rpc.timeout.min = 150ms (default)
2019-09-24 12:05:02,321 INFO  logging.LoggingHandler (AbstractInternalLogger.java:log(150)) - [id: 0x613b8d3e, L:/0.0.0.0:42023] ACTIVE
2019-09-24 12:05:02,321 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.rpc.timeout.max = 300ms (default)
2019-09-24 12:05:02,321 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.rpcslowness.timeout = 60s (default)
2019-09-24 12:05:02,321 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.sleep.deviation.threshold = 300 (default)
2019-09-24 12:05:02,322 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.log.appender.install.snapshot.enabled = true (default)
2019-09-24 12:05:02,322 INFO  impl.RaftServerImpl (ServerState.java:<init>(103)) - s2@group-E7D5050F4609: ConfigurationManager, init=-1: [s3:0.0.0.0:40479, s4:0.0.0.0:43695, s0:0.0.0.0:44661, s1:0.0.0.0:36487, s2:0.0.0.0:42023], old=null, confs=<EMPTY_MAP>
2019-09-24 12:05:02,322 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.storage.dir = [/workdir/ratis-test/target/test/data/aaa4fccd/MiniRaftClusterWithNettyac8e1cad/s2] (custom)
2019-09-24 12:05:02,322 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.log.corruption.policy = EXCEPTION (default)
2019-09-24 12:05:02,323 INFO  storage.RaftStorageDirectory (RaftStorageDirectory.java:analyzeStorage(246)) - The storage directory /workdir/ratis-test/target/test/data/aaa4fccd/MiniRaftClusterWithNettyac8e1cad/s2/36869398-fbcf-49ef-8a37-e7d5050f4609 does not exist. Creating ...
2019-09-24 12:05:02,323 TRACE util.FileUtils (LogUtils.java:runAndLog(61)) - Successfully ran Files.createDirectories /workdir/ratis-test/target/test/data/aaa4fccd/MiniRaftClusterWithNettyac8e1cad/s2/36869398-fbcf-49ef-8a37-e7d5050f4609
2019-09-24 12:05:02,332 INFO  storage.RaftStorageDirectory (RaftStorageDirectory.java:tryLock(328)) - Lock on /workdir/ratis-test/target/test/data/aaa4fccd/MiniRaftClusterWithNettyac8e1cad/s2/36869398-fbcf-49ef-8a37-e7d5050f4609/in_use.lock acquired by nodename 2153@ratis-test-nppbd-817190658
2019-09-24 12:05:02,332 INFO  storage.RaftStorage (RaftStorage.java:format(84)) - Storage directory /workdir/ratis-test/target/test/data/aaa4fccd/MiniRaftClusterWithNettyac8e1cad/s3/36869398-fbcf-49ef-8a37-e7d5050f4609 has been successfully formatted.
2019-09-24 12:05:02,332 INFO  storage.RaftStorage (RaftStorage.java:format(84)) - Storage directory /workdir/ratis-test/target/test/data/aaa4fccd/MiniRaftClusterWithNettyac8e1cad/s4/36869398-fbcf-49ef-8a37-e7d5050f4609 has been successfully formatted.
2019-09-24 12:05:02,332 INFO  storage.RaftStorage (RaftStorage.java:format(84)) - Storage directory /workdir/ratis-test/target/test/data/aaa4fccd/MiniRaftClusterWithNettyac8e1cad/s1/36869398-fbcf-49ef-8a37-e7d5050f4609 has been successfully formatted.
2019-09-24 12:05:02,332 INFO  storage.RaftStorage (RaftStorage.java:format(84)) - Storage directory /workdir/ratis-test/target/test/data/aaa4fccd/MiniRaftClusterWithNettyac8e1cad/s0/36869398-fbcf-49ef-8a37-e7d5050f4609 has been successfully formatted.
2019-09-24 12:05:02,332 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.notification.no-leader.timeout = 60s (default)
2019-09-24 12:05:02,332 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.notification.no-leader.timeout = 60s (default)
2019-09-24 12:05:02,332 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.notification.no-leader.timeout = 60s (default)
2019-09-24 12:05:02,332 TRACE util.FileUtils (LogUtils.java:runAndLog(61)) - Successfully ran Files.createDirectories /workdir/ratis-test/target/test/data/aaa4fccd/MiniRaftClusterWithNettyac8e1cad/s2/36869398-fbcf-49ef-8a37-e7d5050f4609/current
2019-09-24 12:05:02,333 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.log.use.memory = false (default)
2019-09-24 12:05:02,333 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.log.use.memory = false (default)
2019-09-24 12:05:02,333 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.log.use.memory = false (default)
2019-09-24 12:05:02,333 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.notification.no-leader.timeout = 60s (default)
2019-09-24 12:05:02,334 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.log.purge.gap = 1024 (default)
2019-09-24 12:05:02,334 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.log.purge.gap = 1024 (default)
2019-09-24 12:05:02,334 TRACE util.FileUtils (LogUtils.java:runAndLog(61)) - Successfully ran Files.createDirectories /workdir/ratis-test/target/test/data/aaa4fccd/MiniRaftClusterWithNettyac8e1cad/s2/36869398-fbcf-49ef-8a37-e7d5050f4609/sm
2019-09-24 12:05:02,334 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.log.purge.gap = 1024 (default)
2019-09-24 12:05:02,335 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.log.appender.buffer.byte-limit = 4MB (=4194304) (default)
2019-09-24 12:05:02,334 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.log.appender.buffer.byte-limit = 4MB (=4194304) (default)
2019-09-24 12:05:02,334 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.log.use.memory = false (default)
2019-09-24 12:05:02,335 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.log.segment.size.max = 8MB (=8388608) (default)
2019-09-24 12:05:02,335 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.log.segment.size.max = 8MB (=8388608) (default)
2019-09-24 12:05:02,335 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.log.appender.buffer.byte-limit = 4MB (=4194304) (default)
2019-09-24 12:05:02,336 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.log.segment.cache.num.max = 6 (default)
2019-09-24 12:05:02,336 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.log.segment.cache.num.max = 6 (default)
2019-09-24 12:05:02,336 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.log.purge.gap = 1024 (default)
2019-09-24 12:05:02,337 INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:<init>(172)) - new s1@group-E7D5050F4609-SegmentedRaftLogWorker for RaftStorage:Storage Directory /workdir/ratis-test/target/test/data/aaa4fccd/MiniRaftClusterWithNettyac8e1cad/s1/36869398-fbcf-49ef-8a37-e7d5050f4609
2019-09-24 12:05:02,336 INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:<init>(172)) - new s4@group-E7D5050F4609-SegmentedRaftLogWorker for RaftStorage:Storage Directory /workdir/ratis-test/target/test/data/aaa4fccd/MiniRaftClusterWithNettyac8e1cad/s4/36869398-fbcf-49ef-8a37-e7d5050f4609
2019-09-24 12:05:02,336 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.log.segment.size.max = 8MB (=8388608) (default)
2019-09-24 12:05:02,337 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.log.queue.byte-limit = 64MB (=67108864) (default)
2019-09-24 12:05:02,337 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.log.queue.byte-limit = 64MB (=67108864) (default)
2019-09-24 12:05:02,337 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.log.appender.buffer.byte-limit = 4MB (=4194304) (default)
2019-09-24 12:05:02,338 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.log.queue.element-limit = 4096 (default)
2019-09-24 12:05:02,337 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.log.queue.element-limit = 4096 (default)
2019-09-24 12:05:02,337 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.log.segment.cache.num.max = 6 (default)
2019-09-24 12:05:02,338 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.log.segment.size.max = 8MB (=8388608) (default)
2019-09-24 12:05:02,338 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.log.segment.size.max = 8MB (=8388608) (default)
2019-09-24 12:05:02,338 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.log.segment.size.max = 8MB (=8388608) (default)
2019-09-24 12:05:02,339 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.log.preallocated.size = 4MB (=4194304) (default)
2019-09-24 12:05:02,339 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.log.preallocated.size = 4MB (=4194304) (default)
2019-09-24 12:05:02,339 INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:<init>(172)) - new s3@group-E7D5050F4609-SegmentedRaftLogWorker for RaftStorage:Storage Directory /workdir/ratis-test/target/test/data/aaa4fccd/MiniRaftClusterWithNettyac8e1cad/s3/36869398-fbcf-49ef-8a37-e7d5050f4609
2019-09-24 12:05:02,340 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.log.write.buffer.size = 64KB (=65536) (default)
2019-09-24 12:05:02,339 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.log.write.buffer.size = 64KB (=65536) (default)
2019-09-24 12:05:02,339 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.log.segment.cache.num.max = 6 (default)
2019-09-24 12:05:02,340 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.log.force.sync.num = 128 (default)
2019-09-24 12:05:02,341 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.log.statemachine.data.sync = true (default)
2019-09-24 12:05:02,340 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.log.force.sync.num = 128 (default)
2019-09-24 12:05:02,340 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.log.queue.byte-limit = 64MB (=67108864) (default)
2019-09-24 12:05:02,341 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.log.statemachine.data.sync = true (default)
2019-09-24 12:05:02,341 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.log.statemachine.data.sync.timeout = 10s (default)
2019-09-24 12:05:02,340 INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:<init>(172)) - new s0@group-E7D5050F4609-SegmentedRaftLogWorker for RaftStorage:Storage Directory /workdir/ratis-test/target/test/data/aaa4fccd/MiniRaftClusterWithNettyac8e1cad/s0/36869398-fbcf-49ef-8a37-e7d5050f4609
2019-09-24 12:05:02,342 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.log.statemachine.data.sync.timeout.retry = -1 (default)
2019-09-24 12:05:02,341 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.log.statemachine.data.sync.timeout = 10s (default)
2019-09-24 12:05:02,341 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.log.queue.element-limit = 4096 (default)
2019-09-24 12:05:02,342 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.log.statemachine.data.sync.timeout.retry = -1 (default)
2019-09-24 12:05:02,342 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.log.statemachine.data.caching.enabled = false (default)
2019-09-24 12:05:02,342 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.log.queue.byte-limit = 64MB (=67108864) (default)
2019-09-24 12:05:02,343 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.log.statemachine.data.caching.enabled = false (default)
2019-09-24 12:05:02,342 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.log.segment.size.max = 8MB (=8388608) (default)
2019-09-24 12:05:02,343 INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:lambda$new$0(132)) - s1@group-E7D5050F4609-SegmentedRaftLogWorker: flushIndex: setUnconditionally 0 -> -1
2019-09-24 12:05:02,343 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.log.queue.element-limit = 4096 (default)
2019-09-24 12:05:02,343 INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:lambda$new$0(132)) - s4@group-E7D5050F4609-SegmentedRaftLogWorker: flushIndex: setUnconditionally 0 -> -1
2019-09-24 12:05:02,343 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.log.preallocated.size = 4MB (=4194304) (default)
2019-09-24 12:05:02,344 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.log.segment.size.max = 8MB (=8388608) (default)
2019-09-24 12:05:02,344 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.snapshot.auto.trigger.enabled = false (default)
2019-09-24 12:05:02,344 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.log.preallocated.size = 4MB (=4194304) (default)
2019-09-24 12:05:02,344 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.snapshot.auto.trigger.enabled = false (default)
2019-09-24 12:05:02,344 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.log.write.buffer.size = 64KB (=65536) (default)
2019-09-24 12:05:02,345 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.snapshot.retention.file.num = -1 (default)
2019-09-24 12:05:02,345 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.log.write.buffer.size = 64KB (=65536) (default)
2019-09-24 12:05:02,345 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.snapshot.retention.file.num = -1 (default)
2019-09-24 12:05:02,346 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.log.force.sync.num = 128 (default)
2019-09-24 12:05:02,346 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.retrycache.expirytime = 60s (default)
2019-09-24 12:05:02,345 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.log.force.sync.num = 128 (default)
2019-09-24 12:05:02,346 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.log.statemachine.data.sync = true (default)
2019-09-24 12:05:02,346 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.retrycache.expirytime = 60s (default)
2019-09-24 12:05:02,347 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.log.statemachine.data.sync.timeout = 10s (default)
2019-09-24 12:05:02,346 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.log.statemachine.data.sync = true (default)
2019-09-24 12:05:02,347 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.log.statemachine.data.sync.timeout.retry = -1 (default)
2019-09-24 12:05:02,347 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.log.statemachine.data.sync.timeout = 10s (default)
2019-09-24 12:05:02,348 INFO  storage.RaftStorage (RaftStorage.java:format(84)) - Storage directory /workdir/ratis-test/target/test/data/aaa4fccd/MiniRaftClusterWithNettyac8e1cad/s2/36869398-fbcf-49ef-8a37-e7d5050f4609 has been successfully formatted.
2019-09-24 12:05:02,348 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.log.statemachine.data.caching.enabled = false (default)
2019-09-24 12:05:02,348 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.log.statemachine.data.sync.timeout.retry = -1 (default)
2019-09-24 12:05:02,348 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.notification.no-leader.timeout = 60s (default)
2019-09-24 12:05:02,348 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.log.statemachine.data.caching.enabled = false (default)
2019-09-24 12:05:02,348 INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:lambda$new$0(132)) - s0@group-E7D5050F4609-SegmentedRaftLogWorker: flushIndex: setUnconditionally 0 -> -1
2019-09-24 12:05:02,348 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.log.use.memory = false (default)
2019-09-24 12:05:02,349 INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:lambda$new$0(132)) - s3@group-E7D5050F4609-SegmentedRaftLogWorker: flushIndex: setUnconditionally 0 -> -1
2019-09-24 12:05:02,349 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.log.purge.gap = 1024 (default)
2019-09-24 12:05:02,349 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.snapshot.auto.trigger.enabled = false (default)
2019-09-24 12:05:02,349 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.snapshot.auto.trigger.enabled = false (default)
2019-09-24 12:05:02,349 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.snapshot.retention.file.num = -1 (default)
2019-09-24 12:05:02,349 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.log.appender.buffer.byte-limit = 4MB (=4194304) (default)
2019-09-24 12:05:02,350 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.retrycache.expirytime = 60s (default)
2019-09-24 12:05:02,350 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.snapshot.retention.file.num = -1 (default)
2019-09-24 12:05:02,350 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.log.segment.size.max = 8MB (=8388608) (default)
2019-09-24 12:05:02,350 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.retrycache.expirytime = 60s (default)
2019-09-24 12:05:02,350 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.log.segment.cache.num.max = 6 (default)
2019-09-24 12:05:02,351 INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:<init>(172)) - new s2@group-E7D5050F4609-SegmentedRaftLogWorker for RaftStorage:Storage Directory /workdir/ratis-test/target/test/data/aaa4fccd/MiniRaftClusterWithNettyac8e1cad/s2/36869398-fbcf-49ef-8a37-e7d5050f4609
2019-09-24 12:05:02,351 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.log.queue.byte-limit = 64MB (=67108864) (default)
2019-09-24 12:05:02,352 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.log.queue.element-limit = 4096 (default)
2019-09-24 12:05:02,352 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.log.segment.size.max = 8MB (=8388608) (default)
2019-09-24 12:05:02,352 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.log.preallocated.size = 4MB (=4194304) (default)
2019-09-24 12:05:02,352 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.log.write.buffer.size = 64KB (=65536) (default)
2019-09-24 12:05:02,352 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.log.force.sync.num = 128 (default)
2019-09-24 12:05:02,352 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.log.statemachine.data.sync = true (default)
2019-09-24 12:05:02,353 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.log.statemachine.data.sync.timeout = 10s (default)
2019-09-24 12:05:02,353 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.log.statemachine.data.sync.timeout.retry = -1 (default)
2019-09-24 12:05:02,353 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.log.statemachine.data.caching.enabled = false (default)
2019-09-24 12:05:02,353 INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:lambda$new$0(132)) - s2@group-E7D5050F4609-SegmentedRaftLogWorker: flushIndex: setUnconditionally 0 -> -1
2019-09-24 12:05:02,354 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.snapshot.auto.trigger.enabled = false (default)
2019-09-24 12:05:02,354 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.snapshot.retention.file.num = -1 (default)
2019-09-24 12:05:02,354 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.retrycache.expirytime = 60s (default)
2019-09-24 12:05:02,355 INFO  impl.RaftServerImpl (RaftServerImpl.java:start(181)) - s3@group-E7D5050F4609: start as a follower, conf=-1: [s3:0.0.0.0:40479, s4:0.0.0.0:43695, s0:0.0.0.0:44661, s1:0.0.0.0:36487, s2:0.0.0.0:42023], old=null
2019-09-24 12:05:02,355 INFO  impl.RaftServerImpl (RaftServerImpl.java:setRole(170)) - s3@group-E7D5050F4609: changes role from      null to FOLLOWER at term 0 for startAsFollower
2019-09-24 12:05:02,356 INFO  impl.RoleInfo (RoleInfo.java:updateAndGet(143)) - s3: start FollowerState
2019-09-24 12:05:02,356 INFO  util.JmxRegister (JmxRegister.java:tryRegister(44)) - Successfully registered JMX Bean with object name Ratis:service=RaftServer,group=group-E7D5050F4609,id=s3
2019-09-24 12:05:02,363 INFO  impl.RaftServerProxy (RaftServerProxy.java:lambda$start$3(299)) - s3: start RPC server
2019-09-24 12:05:02,364 INFO  impl.RaftServerImpl (RaftServerImpl.java:start(181)) - s4@group-E7D5050F4609: start as a follower, conf=-1: [s3:0.0.0.0:40479, s4:0.0.0.0:43695, s0:0.0.0.0:44661, s1:0.0.0.0:36487, s2:0.0.0.0:42023], old=null
2019-09-24 12:05:02,364 INFO  impl.RaftServerImpl (RaftServerImpl.java:setRole(170)) - s4@group-E7D5050F4609: changes role from      null to FOLLOWER at term 0 for startAsFollower
2019-09-24 12:05:02,364 INFO  impl.RoleInfo (RoleInfo.java:updateAndGet(143)) - s4: start FollowerState
2019-09-24 12:05:02,365 INFO  util.JmxRegister (JmxRegister.java:tryRegister(44)) - Successfully registered JMX Bean with object name Ratis:service=RaftServer,group=group-E7D5050F4609,id=s4
2019-09-24 12:05:02,370 INFO  impl.RaftServerProxy (RaftServerProxy.java:lambda$start$3(299)) - s4: start RPC server
2019-09-24 12:05:02,371 INFO  impl.RaftServerImpl (RaftServerImpl.java:start(181)) - s0@group-E7D5050F4609: start as a follower, conf=-1: [s3:0.0.0.0:40479, s4:0.0.0.0:43695, s0:0.0.0.0:44661, s1:0.0.0.0:36487, s2:0.0.0.0:42023], old=null
2019-09-24 12:05:02,371 INFO  impl.RaftServerImpl (RaftServerImpl.java:setRole(170)) - s0@group-E7D5050F4609: changes role from      null to FOLLOWER at term 0 for startAsFollower
2019-09-24 12:05:02,371 INFO  impl.RoleInfo (RoleInfo.java:updateAndGet(143)) - s0: start FollowerState
2019-09-24 12:05:02,372 INFO  util.JmxRegister (JmxRegister.java:tryRegister(44)) - Successfully registered JMX Bean with object name Ratis:service=RaftServer,group=group-E7D5050F4609,id=s0
2019-09-24 12:05:02,377 INFO  impl.RaftServerProxy (RaftServerProxy.java:lambda$start$3(299)) - s0: start RPC server
2019-09-24 12:05:02,377 INFO  impl.RaftServerImpl (RaftServerImpl.java:start(181)) - s1@group-E7D5050F4609: start as a follower, conf=-1: [s3:0.0.0.0:40479, s4:0.0.0.0:43695, s0:0.0.0.0:44661, s1:0.0.0.0:36487, s2:0.0.0.0:42023], old=null
2019-09-24 12:05:02,377 INFO  impl.RaftServerImpl (RaftServerImpl.java:setRole(170)) - s1@group-E7D5050F4609: changes role from      null to FOLLOWER at term 0 for startAsFollower
2019-09-24 12:05:02,378 INFO  impl.RoleInfo (RoleInfo.java:updateAndGet(143)) - s1: start FollowerState
2019-09-24 12:05:02,378 INFO  util.JmxRegister (JmxRegister.java:tryRegister(44)) - Successfully registered JMX Bean with object name Ratis:service=RaftServer,group=group-E7D5050F4609,id=s1
2019-09-24 12:05:02,383 INFO  impl.RaftServerProxy (RaftServerProxy.java:lambda$start$3(299)) - s1: start RPC server
2019-09-24 12:05:02,384 INFO  impl.RaftServerImpl (RaftServerImpl.java:start(181)) - s2@group-E7D5050F4609: start as a follower, conf=-1: [s3:0.0.0.0:40479, s4:0.0.0.0:43695, s0:0.0.0.0:44661, s1:0.0.0.0:36487, s2:0.0.0.0:42023], old=null
2019-09-24 12:05:02,384 INFO  impl.RaftServerImpl (RaftServerImpl.java:setRole(170)) - s2@group-E7D5050F4609: changes role from      null to FOLLOWER at term 0 for startAsFollower
2019-09-24 12:05:02,384 INFO  impl.RoleInfo (RoleInfo.java:updateAndGet(143)) - s2: start FollowerState
2019-09-24 12:05:02,385 INFO  util.JmxRegister (JmxRegister.java:tryRegister(44)) - Successfully registered JMX Bean with object name Ratis:service=RaftServer,group=group-E7D5050F4609,id=s2
2019-09-24 12:05:02,390 INFO  impl.RaftServerProxy (RaftServerProxy.java:lambda$start$3(299)) - s2: start RPC server
2019-09-24 12:05:02,390 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.rpc.timeout.max = 300ms (default)
2019-09-24 12:05:02,391 INFO  ratis.RaftTestUtil (RaftTestUtil.java:waitForLeader(86)) - printing ALL groups
  s3:  RUNNING  FOLLOWER s3@group-E7D5050F4609:t0, leader=null, voted=null, raftlog=s3@group-E7D5050F4609-SegmentedRaftLog:OPENED:c-1,f-1,i0, conf=-1: [s3:0.0.0.0:40479, s4:0.0.0.0:43695, s0:0.0.0.0:44661, s1:0.0.0.0:36487, s2:0.0.0.0:42023], old=null RUNNING
  s4:  RUNNING  FOLLOWER s4@group-E7D5050F4609:t0, leader=null, voted=null, raftlog=s4@group-E7D5050F4609-SegmentedRaftLog:OPENED:c-1,f-1,i0, conf=-1: [s3:0.0.0.0:40479, s4:0.0.0.0:43695, s0:0.0.0.0:44661, s1:0.0.0.0:36487, s2:0.0.0.0:42023], old=null RUNNING
  s0:  RUNNING  FOLLOWER s0@group-E7D5050F4609:t0, leader=null, voted=null, raftlog=s0@group-E7D5050F4609-SegmentedRaftLog:OPENED:c-1,f-1,i0, conf=-1: [s3:0.0.0.0:40479, s4:0.0.0.0:43695, s0:0.0.0.0:44661, s1:0.0.0.0:36487, s2:0.0.0.0:42023], old=null RUNNING
  s1:  RUNNING  FOLLOWER s1@group-E7D5050F4609:t0, leader=null, voted=null, raftlog=s1@group-E7D5050F4609-SegmentedRaftLog:OPENED:c-1,f-1,i0, conf=-1: [s3:0.0.0.0:40479, s4:0.0.0.0:43695, s0:0.0.0.0:44661, s1:0.0.0.0:36487, s2:0.0.0.0:42023], old=null RUNNING
  s2:  RUNNING  FOLLOWER s2@group-E7D5050F4609:t0, leader=null, voted=null, raftlog=s2@group-E7D5050F4609-SegmentedRaftLog:OPENED:c-1,f-1,i0, conf=-1: [s3:0.0.0.0:40479, s4:0.0.0.0:43695, s0:0.0.0.0:44661, s1:0.0.0.0:36487, s2:0.0.0.0:42023], old=null RUNNING
2019-09-24 12:05:02,391 WARN  ratis.RaftTestUtil (JavaUtils.java:attempt(158)) - FAILED "waitForLeader-null-(expectLeader? true)", attempt #1/100: java.lang.IllegalStateException: No leader yet : printing ALL groups
  s3:  RUNNING  FOLLOWER s3@group-E7D5050F4609:t0, leader=null, voted=null, raftlog=s3@group-E7D5050F4609-SegmentedRaftLog:OPENED:c-1,f-1,i0, conf=-1: [s3:0.0.0.0:40479, s4:0.0.0.0:43695, s0:0.0.0.0:44661, s1:0.0.0.0:36487, s2:0.0.0.0:42023], old=null RUNNING
  s4:  RUNNING  FOLLOWER s4@group-E7D5050F4609:t0, leader=null, voted=null, raftlog=s4@group-E7D5050F4609-SegmentedRaftLog:OPENED:c-1,f-1,i0, conf=-1: [s3:0.0.0.0:40479, s4:0.0.0.0:43695, s0:0.0.0.0:44661, s1:0.0.0.0:36487, s2:0.0.0.0:42023], old=null RUNNING
  s0:  RUNNING  FOLLOWER s0@group-E7D5050F4609:t0, leader=null, voted=null, raftlog=s0@group-E7D5050F4609-SegmentedRaftLog:OPENED:c-1,f-1,i0, conf=-1: [s3:0.0.0.0:40479, s4:0.0.0.0:43695, s0:0.0.0.0:44661, s1:0.0.0.0:36487, s2:0.0.0.0:42023], old=null RUNNING
  s1:  RUNNING  FOLLOWER s1@group-E7D5050F4609:t0, leader=null, voted=null, raftlog=s1@group-E7D5050F4609-SegmentedRaftLog:OPENED:c-1,f-1,i0, conf=-1: [s3:0.0.0.0:40479, s4:0.0.0.0:43695, s0:0.0.0.0:44661, s1:0.0.0.0:36487, s2:0.0.0.0:42023], old=null RUNNING
  s2:  RUNNING  FOLLOWER s2@group-E7D5050F4609:t0, leader=null, voted=null, raftlog=s2@group-E7D5050F4609-SegmentedRaftLog:OPENED:c-1,f-1,i0, conf=-1: [s3:0.0.0.0:40479, s4:0.0.0.0:43695, s0:0.0.0.0:44661, s1:0.0.0.0:36487, s2:0.0.0.0:42023], old=null RUNNING, sleep 450ms and then retry.
java.lang.IllegalStateException: No leader yet : printing ALL groups
  s3:  RUNNING  FOLLOWER s3@group-E7D5050F4609:t0, leader=null, voted=null, raftlog=s3@group-E7D5050F4609-SegmentedRaftLog:OPENED:c-1,f-1,i0, conf=-1: [s3:0.0.0.0:40479, s4:0.0.0.0:43695, s0:0.0.0.0:44661, s1:0.0.0.0:36487, s2:0.0.0.0:42023], old=null RUNNING
  s4:  RUNNING  FOLLOWER s4@group-E7D5050F4609:t0, leader=null, voted=null, raftlog=s4@group-E7D5050F4609-SegmentedRaftLog:OPENED:c-1,f-1,i0, conf=-1: [s3:0.0.0.0:40479, s4:0.0.0.0:43695, s0:0.0.0.0:44661, s1:0.0.0.0:36487, s2:0.0.0.0:42023], old=null RUNNING
  s0:  RUNNING  FOLLOWER s0@group-E7D5050F4609:t0, leader=null, voted=null, raftlog=s0@group-E7D5050F4609-SegmentedRaftLog:OPENED:c-1,f-1,i0, conf=-1: [s3:0.0.0.0:40479, s4:0.0.0.0:43695, s0:0.0.0.0:44661, s1:0.0.0.0:36487, s2:0.0.0.0:42023], old=null RUNNING
  s1:  RUNNING  FOLLOWER s1@group-E7D5050F4609:t0, leader=null, voted=null, raftlog=s1@group-E7D5050F4609-SegmentedRaftLog:OPENED:c-1,f-1,i0, conf=-1: [s3:0.0.0.0:40479, s4:0.0.0.0:43695, s0:0.0.0.0:44661, s1:0.0.0.0:36487, s2:0.0.0.0:42023], old=null RUNNING
  s2:  RUNNING  FOLLOWER s2@group-E7D5050F4609:t0, leader=null, voted=null, raftlog=s2@group-E7D5050F4609-SegmentedRaftLog:OPENED:c-1,f-1,i0, conf=-1: [s3:0.0.0.0:40479, s4:0.0.0.0:43695, s0:0.0.0.0:44661, s1:0.0.0.0:36487, s2:0.0.0.0:42023], old=null RUNNING
	at org.apache.ratis.MiniRaftCluster.newIllegalStateExceptionForNoLeaders(MiniRaftCluster.java:506)
	at org.apache.ratis.RaftTestUtil.lambda$waitForLeader$1(RaftTestUtil.java:90)
	at org.apache.ratis.MiniRaftCluster.getLeader(MiniRaftCluster.java:539)
	at org.apache.ratis.MiniRaftCluster.getLeader(MiniRaftCluster.java:532)
	at org.apache.ratis.RaftTestUtil.lambda$waitForLeader$3(RaftTestUtil.java:98)
	at org.apache.ratis.util.JavaUtils.attempt(JavaUtils.java:152)
	at org.apache.ratis.RaftTestUtil.waitForLeader(RaftTestUtil.java:97)
	at org.apache.ratis.RaftTestUtil.waitForLeader(RaftTestUtil.java:77)
	at org.apache.ratis.RaftTestUtil.waitForLeader(RaftTestUtil.java:72)
	at org.apache.ratis.RaftTestUtil.waitAndKillLeader(RaftTestUtil.java:114)
	at org.apache.ratis.server.impl.LeaderElectionTests.testBasicLeaderElection(LeaderElectionTests.java:63)
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.lang.reflect.Method.invoke(Method.java:498)
	at org.junit.runners.model.FrameworkMethod$1.runReflectiveCall(FrameworkMethod.java:50)
	at org.junit.internal.runners.model.ReflectiveCallable.run(ReflectiveCallable.java:12)
	at org.junit.runners.model.FrameworkMethod.invokeExplosively(FrameworkMethod.java:47)
	at org.junit.internal.runners.statements.InvokeMethod.evaluate(InvokeMethod.java:17)
	at org.junit.internal.runners.statements.RunAfters.evaluate(RunAfters.java:27)
	at org.junit.internal.runners.statements.FailOnTimeout$CallableStatement.call(FailOnTimeout.java:298)
	at org.junit.internal.runners.statements.FailOnTimeout$CallableStatement.call(FailOnTimeout.java:292)
	at java.util.concurrent.FutureTask.run(FutureTask.java:266)
	at java.lang.Thread.run(Thread.java:748)
2019-09-24 12:05:02,523 INFO  impl.FollowerState (FollowerState.java:run(108)) - s3@group-E7D5050F4609-FollowerState: change to CANDIDATE, lastRpcTime:167ms, electionTimeout:167ms
2019-09-24 12:05:02,525 INFO  impl.RoleInfo (RoleInfo.java:shutdownFollowerState(121)) - s3: shutdown FollowerState
2019-09-24 12:05:02,525 INFO  impl.RaftServerImpl (RaftServerImpl.java:setRole(170)) - s3@group-E7D5050F4609: changes role from  FOLLOWER to CANDIDATE at term 0 for changeToCandidate
2019-09-24 12:05:02,525 INFO  impl.RoleInfo (RoleInfo.java:updateAndGet(143)) - s3: start LeaderElection
2019-09-24 12:05:02,550 INFO  impl.FollowerState (FollowerState.java:run(108)) - s1@group-E7D5050F4609-FollowerState: change to CANDIDATE, lastRpcTime:172ms, electionTimeout:172ms
2019-09-24 12:05:02,551 INFO  impl.RoleInfo (RoleInfo.java:shutdownFollowerState(121)) - s1: shutdown FollowerState
2019-09-24 12:05:02,551 INFO  impl.RaftServerImpl (RaftServerImpl.java:setRole(170)) - s1@group-E7D5050F4609: changes role from  FOLLOWER to CANDIDATE at term 0 for changeToCandidate
2019-09-24 12:05:02,551 INFO  impl.LeaderElection (LeaderElection.java:askForVotes(178)) - s3@group-E7D5050F4609-LeaderElection9: begin an election at term 1 for -1: [s3:0.0.0.0:40479, s4:0.0.0.0:43695, s0:0.0.0.0:44661, s1:0.0.0.0:36487, s2:0.0.0.0:42023], old=null
2019-09-24 12:05:02,552 INFO  impl.RoleInfo (RoleInfo.java:updateAndGet(143)) - s1: start LeaderElection
2019-09-24 12:05:02,559 INFO  logging.LoggingHandler (AbstractInternalLogger.java:log(150)) - [id: 0x8faf6523, L:/0.0.0.0:44661] READ: [id: 0x98c951a7, L:/192.168.34.44:44661 - R:/192.168.34.44:37152]
2019-09-24 12:05:02,559 INFO  logging.LoggingHandler (AbstractInternalLogger.java:log(150)) - [id: 0xd721c4fe, L:/0.0.0.0:36487] READ: [id: 0x732caa25, L:/192.168.34.44:36487 - R:/192.168.34.44:43226]
2019-09-24 12:05:02,560 INFO  logging.LoggingHandler (AbstractInternalLogger.java:log(150)) - [id: 0x8faf6523, L:/0.0.0.0:44661] READ COMPLETE
2019-09-24 12:05:02,560 INFO  logging.LoggingHandler (AbstractInternalLogger.java:log(150)) - [id: 0xb9400468, L:/0.0.0.0:43695] READ: [id: 0x1cf0ef51, L:/192.168.34.44:43695 - R:/192.168.34.44:43892]
2019-09-24 12:05:02,560 INFO  logging.LoggingHandler (AbstractInternalLogger.java:log(150)) - [id: 0x613b8d3e, L:/0.0.0.0:42023] READ: [id: 0x3e889553, L:/192.168.34.44:42023 - R:/192.168.34.44:59410]
2019-09-24 12:05:02,561 INFO  logging.LoggingHandler (AbstractInternalLogger.java:log(150)) - [id: 0xd721c4fe, L:/0.0.0.0:36487] READ COMPLETE
2019-09-24 12:05:02,562 INFO  logging.LoggingHandler (AbstractInternalLogger.java:log(150)) - [id: 0xb9400468, L:/0.0.0.0:43695] READ COMPLETE
2019-09-24 12:05:02,563 INFO  logging.LoggingHandler (AbstractInternalLogger.java:log(150)) - [id: 0x613b8d3e, L:/0.0.0.0:42023] READ COMPLETE
2019-09-24 12:05:02,565 INFO  impl.LeaderElection (LeaderElection.java:askForVotes(178)) - s1@group-E7D5050F4609-LeaderElection10: begin an election at term 1 for -1: [s3:0.0.0.0:40479, s4:0.0.0.0:43695, s0:0.0.0.0:44661, s1:0.0.0.0:36487, s2:0.0.0.0:42023], old=null
2019-09-24 12:05:02,566 DEBUG impl.RaftServerImpl (RaftServerImpl.java:requestVote(743)) - s0@group-E7D5050F4609: receive requestVote(s3, group-E7D5050F4609, 1, (t:0, i:0))
2019-09-24 12:05:02,566 DEBUG impl.RaftServerImpl (RaftServerImpl.java:requestVote(743)) - s4@group-E7D5050F4609: receive requestVote(s3, group-E7D5050F4609, 1, (t:0, i:0))
2019-09-24 12:05:02,566 DEBUG impl.RaftServerImpl (RaftServerImpl.java:requestVote(743)) - s1@group-E7D5050F4609: receive requestVote(s3, group-E7D5050F4609, 1, (t:0, i:0))
2019-09-24 12:05:02,566 DEBUG impl.RaftServerImpl (RaftServerImpl.java:requestVote(743)) - s2@group-E7D5050F4609: receive requestVote(s3, group-E7D5050F4609, 1, (t:0, i:0))
2019-09-24 12:05:02,566 INFO  impl.RaftServerImpl (RaftServerImpl.java:setRole(170)) - s4@group-E7D5050F4609: changes role from  FOLLOWER to FOLLOWER at term 1 for recognizeCandidate:s3
2019-09-24 12:05:02,568 INFO  impl.RoleInfo (RoleInfo.java:shutdownFollowerState(121)) - s4: shutdown FollowerState
2019-09-24 12:05:02,566 INFO  impl.RaftServerImpl (RaftServerImpl.java:setRole(170)) - s0@group-E7D5050F4609: changes role from  FOLLOWER to FOLLOWER at term 1 for recognizeCandidate:s3
2019-09-24 12:05:02,569 INFO  impl.RoleInfo (RoleInfo.java:updateAndGet(143)) - s4: start FollowerState
2019-09-24 12:05:02,568 INFO  impl.FollowerState (FollowerState.java:run(117)) - s4@group-E7D5050F4609-FollowerState was interrupted: java.lang.InterruptedException: sleep interrupted
2019-09-24 12:05:02,567 INFO  impl.RaftServerImpl (RaftServerImpl.java:setRole(170)) - s2@group-E7D5050F4609: changes role from  FOLLOWER to FOLLOWER at term 1 for recognizeCandidate:s3
2019-09-24 12:05:02,573 INFO  impl.RoleInfo (RoleInfo.java:shutdownFollowerState(121)) - s2: shutdown FollowerState
2019-09-24 12:05:02,567 DEBUG impl.RaftServerImpl (RaftServerImpl.java:requestVote(775)) - s1@group-E7D5050F4609 replies to vote request: s3<-s1#0:FAIL-t1. Peer's state: s1@group-E7D5050F4609:t1, leader=null, voted=s1, raftlog=s1@group-E7D5050F4609-SegmentedRaftLog:OPENED:c-1,f-1,i0, conf=-1: [s3:0.0.0.0:40479, s4:0.0.0.0:43695, s0:0.0.0.0:44661, s1:0.0.0.0:36487, s2:0.0.0.0:42023], old=null
2019-09-24 12:05:02,573 INFO  impl.FollowerState (FollowerState.java:run(117)) - s2@group-E7D5050F4609-FollowerState was interrupted: java.lang.InterruptedException: sleep interrupted
2019-09-24 12:05:02,573 INFO  impl.RoleInfo (RoleInfo.java:updateAndGet(143)) - s2: start FollowerState
2019-09-24 12:05:02,573 INFO  logging.LoggingHandler (AbstractInternalLogger.java:log(150)) - [id: 0xb9400468, L:/0.0.0.0:43695] READ: [id: 0xa83fe0df, L:/192.168.34.44:43695 - R:/192.168.34.44:43896]
2019-09-24 12:05:02,573 INFO  logging.LoggingHandler (AbstractInternalLogger.java:log(150)) - [id: 0x8faf6523, L:/0.0.0.0:44661] READ: [id: 0x446ba814, L:/192.168.34.44:44661 - R:/192.168.34.44:37164]
2019-09-24 12:05:02,575 INFO  logging.LoggingHandler (AbstractInternalLogger.java:log(150)) - [id: 0xb9400468, L:/0.0.0.0:43695] READ COMPLETE
2019-09-24 12:05:02,576 INFO  logging.LoggingHandler (AbstractInternalLogger.java:log(150)) - [id: 0x8faf6523, L:/0.0.0.0:44661] READ COMPLETE
2019-09-24 12:05:02,573 INFO  logging.LoggingHandler (AbstractInternalLogger.java:log(150)) - [id: 0x613b8d3e, L:/0.0.0.0:42023] READ: [id: 0xd3b32ff0, L:/192.168.34.44:42023 - R:/192.168.34.44:59420]
2019-09-24 12:05:02,570 INFO  logging.LoggingHandler (AbstractInternalLogger.java:log(150)) - [id: 0x18e757fc, L:/0.0.0.0:40479] READ: [id: 0xd8dab431, L:/192.168.34.44:40479 - R:/192.168.34.44:35174]
2019-09-24 12:05:02,569 INFO  impl.RoleInfo (RoleInfo.java:shutdownFollowerState(121)) - s0: shutdown FollowerState
2019-09-24 12:05:02,578 INFO  logging.LoggingHandler (AbstractInternalLogger.java:log(150)) - [id: 0x18e757fc, L:/0.0.0.0:40479] READ COMPLETE
2019-09-24 12:05:02,579 DEBUG impl.RaftServerImpl (RaftServerImpl.java:requestVote(743)) - s0@group-E7D5050F4609: receive requestVote(s1, group-E7D5050F4609, 1, (t:0, i:0))
2019-09-24 12:05:02,577 DEBUG impl.RaftServerImpl (RaftServerImpl.java:requestVote(743)) - s4@group-E7D5050F4609: receive requestVote(s1, group-E7D5050F4609, 1, (t:0, i:0))
2019-09-24 12:05:02,577 INFO  logging.LoggingHandler (AbstractInternalLogger.java:log(150)) - [id: 0x613b8d3e, L:/0.0.0.0:42023] READ COMPLETE
2019-09-24 12:05:02,581 DEBUG impl.RaftServerImpl (RaftServerImpl.java:requestVote(743)) - s2@group-E7D5050F4609: receive requestVote(s1, group-E7D5050F4609, 1, (t:0, i:0))
2019-09-24 12:05:02,579 INFO  impl.FollowerState (FollowerState.java:run(117)) - s0@group-E7D5050F4609-FollowerState was interrupted: java.lang.InterruptedException: sleep interrupted
2019-09-24 12:05:02,579 INFO  impl.RoleInfo (RoleInfo.java:updateAndGet(143)) - s0: start FollowerState
2019-09-24 12:05:02,581 DEBUG impl.RaftServerImpl (RaftServerImpl.java:requestVote(743)) - s3@group-E7D5050F4609: receive requestVote(s1, group-E7D5050F4609, 1, (t:0, i:0))
2019-09-24 12:05:02,583 DEBUG impl.RaftServerImpl (RaftServerImpl.java:requestVote(775)) - s3@group-E7D5050F4609 replies to vote request: s1<-s3#0:FAIL-t1. Peer's state: s3@group-E7D5050F4609:t1, leader=null, voted=s3, raftlog=s3@group-E7D5050F4609-SegmentedRaftLog:OPENED:c-1,f-1,i0, conf=-1: [s3:0.0.0.0:40479, s4:0.0.0.0:43695, s0:0.0.0.0:44661, s1:0.0.0.0:36487, s2:0.0.0.0:42023], old=null
2019-09-24 12:05:02,596 DEBUG impl.RaftServerImpl (RaftServerImpl.java:requestVote(775)) - s4@group-E7D5050F4609 replies to vote request: s3<-s4#0:OK-t1. Peer's state: s4@group-E7D5050F4609:t1, leader=null, voted=s3, raftlog=s4@group-E7D5050F4609-SegmentedRaftLog:OPENED:c-1,f-1,i0, conf=-1: [s3:0.0.0.0:40479, s4:0.0.0.0:43695, s0:0.0.0.0:44661, s1:0.0.0.0:36487, s2:0.0.0.0:42023], old=null
2019-09-24 12:05:02,596 DEBUG impl.RaftServerImpl (RaftServerImpl.java:requestVote(775)) - s2@group-E7D5050F4609 replies to vote request: s3<-s2#0:OK-t1. Peer's state: s2@group-E7D5050F4609:t1, leader=null, voted=s3, raftlog=s2@group-E7D5050F4609-SegmentedRaftLog:OPENED:c-1,f-1,i0, conf=-1: [s3:0.0.0.0:40479, s4:0.0.0.0:43695, s0:0.0.0.0:44661, s1:0.0.0.0:36487, s2:0.0.0.0:42023], old=null
2019-09-24 12:05:02,596 DEBUG impl.RaftServerImpl (RaftServerImpl.java:requestVote(775)) - s4@group-E7D5050F4609 replies to vote request: s1<-s4#0:FAIL-t1. Peer's state: s4@group-E7D5050F4609:t1, leader=null, voted=s3, raftlog=s4@group-E7D5050F4609-SegmentedRaftLog:OPENED:c-1,f-1,i0, conf=-1: [s3:0.0.0.0:40479, s4:0.0.0.0:43695, s0:0.0.0.0:44661, s1:0.0.0.0:36487, s2:0.0.0.0:42023], old=null
2019-09-24 12:05:02,597 DEBUG impl.RaftServerImpl (RaftServerImpl.java:requestVote(775)) - s2@group-E7D5050F4609 replies to vote request: s1<-s2#0:FAIL-t1. Peer's state: s2@group-E7D5050F4609:t1, leader=null, voted=s3, raftlog=s2@group-E7D5050F4609-SegmentedRaftLog:OPENED:c-1,f-1,i0, conf=-1: [s3:0.0.0.0:40479, s4:0.0.0.0:43695, s0:0.0.0.0:44661, s1:0.0.0.0:36487, s2:0.0.0.0:42023], old=null
2019-09-24 12:05:02,599 INFO  impl.LeaderElection (LeaderElection.java:logAndReturn(56)) - s3@group-E7D5050F4609-LeaderElection9: Election PASSED; received 3 response(s) [s3<-s4#0:OK-t1, s3<-s1#0:FAIL-t1, s3<-s2#0:OK-t1] and 0 exception(s); s3@group-E7D5050F4609:t1, leader=null, voted=s3, raftlog=s3@group-E7D5050F4609-SegmentedRaftLog:OPENED:c-1,f-1,i0, conf=-1: [s3:0.0.0.0:40479, s4:0.0.0.0:43695, s0:0.0.0.0:44661, s1:0.0.0.0:36487, s2:0.0.0.0:42023], old=null
2019-09-24 12:05:02,599 DEBUG impl.RaftServerImpl (RaftServerImpl.java:requestVote(775)) - s0@group-E7D5050F4609 replies to vote request: s3<-s0#0:OK-t1. Peer's state: s0@group-E7D5050F4609:t1, leader=null, voted=s3, raftlog=s0@group-E7D5050F4609-SegmentedRaftLog:OPENED:c-1,f-1,i0, conf=-1: [s3:0.0.0.0:40479, s4:0.0.0.0:43695, s0:0.0.0.0:44661, s1:0.0.0.0:36487, s2:0.0.0.0:42023], old=null
2019-09-24 12:05:02,599 INFO  impl.RoleInfo (RoleInfo.java:shutdownLeaderElection(134)) - s3: shutdown LeaderElection
2019-09-24 12:05:02,601 DEBUG impl.RaftServerImpl (RaftServerImpl.java:requestVote(775)) - s0@group-E7D5050F4609 replies to vote request: s1<-s0#0:FAIL-t1. Peer's state: s0@group-E7D5050F4609:t1, leader=null, voted=s3, raftlog=s0@group-E7D5050F4609-SegmentedRaftLog:OPENED:c-1,f-1,i0, conf=-1: [s3:0.0.0.0:40479, s4:0.0.0.0:43695, s0:0.0.0.0:44661, s1:0.0.0.0:36487, s2:0.0.0.0:42023], old=null
2019-09-24 12:05:02,602 INFO  impl.RaftServerImpl (RaftServerImpl.java:setRole(170)) - s3@group-E7D5050F4609: changes role from CANDIDATE to LEADER at term 1 for changeToLeader
2019-09-24 12:05:02,603 INFO  impl.RaftServerImpl (ServerState.java:setLeader(254)) - s3@group-E7D5050F4609: change Leader from null to s3 at term 1 for becomeLeader, leader elected after 271ms
2019-09-24 12:05:02,604 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.staging.catchup.gap = 1000 (default)
2019-09-24 12:05:02,604 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.rpc.sleep.time = 25ms (default)
2019-09-24 12:05:02,604 INFO  impl.LeaderElection (LeaderElection.java:logAndReturn(56)) - s1@group-E7D5050F4609-LeaderElection10: Election REJECTED; received 4 response(s) [s1<-s3#0:FAIL-t1, s1<-s4#0:FAIL-t1, s1<-s0#0:FAIL-t1, s1<-s2#0:FAIL-t1] and 0 exception(s); s1@group-E7D5050F4609:t1, leader=null, voted=s1, raftlog=s1@group-E7D5050F4609-SegmentedRaftLog:OPENED:c-1,f-1,i0, conf=-1: [s3:0.0.0.0:40479, s4:0.0.0.0:43695, s0:0.0.0.0:44661, s1:0.0.0.0:36487, s2:0.0.0.0:42023], old=null
2019-09-24 12:05:02,604 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.write.element-limit = 4096 (default)
2019-09-24 12:05:02,604 INFO  impl.RaftServerImpl (RaftServerImpl.java:setRole(170)) - s1@group-E7D5050F4609: changes role from CANDIDATE to FOLLOWER at term 1 for DISCOVERED_A_NEW_TERM
2019-09-24 12:05:02,606 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.watch.timeout = 10s (default)
2019-09-24 12:05:02,606 INFO  impl.RoleInfo (RoleInfo.java:shutdownLeaderElection(134)) - s1: shutdown LeaderElection
2019-09-24 12:05:02,607 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.watch.timeout.denomination = 1s (default)
2019-09-24 12:05:02,607 INFO  impl.RoleInfo (RoleInfo.java:updateAndGet(143)) - s1: start FollowerState
2019-09-24 12:05:02,607 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.watch.element-limit = 65536 (default)
2019-09-24 12:05:02,611 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.log.appender.snapshot.chunk.size.max = 16MB (=16777216) (default)
2019-09-24 12:05:02,612 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.log.appender.buffer.byte-limit = 4MB (=4194304) (default)
2019-09-24 12:05:02,612 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.log.appender.buffer.element-limit = 0 (default)
2019-09-24 12:05:02,612 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.log.appender.snapshot.chunk.size.max = 16MB (=16777216) (default)
2019-09-24 12:05:02,612 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.log.appender.buffer.byte-limit = 4MB (=4194304) (default)
2019-09-24 12:05:02,613 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.log.appender.buffer.element-limit = 0 (default)
2019-09-24 12:05:02,613 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.log.appender.snapshot.chunk.size.max = 16MB (=16777216) (default)
2019-09-24 12:05:02,613 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.log.appender.buffer.byte-limit = 4MB (=4194304) (default)
2019-09-24 12:05:02,613 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.log.appender.buffer.element-limit = 0 (default)
2019-09-24 12:05:02,614 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.log.appender.snapshot.chunk.size.max = 16MB (=16777216) (default)
2019-09-24 12:05:02,614 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.log.appender.buffer.byte-limit = 4MB (=4194304) (default)
2019-09-24 12:05:02,614 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.log.appender.buffer.element-limit = 0 (default)
2019-09-24 12:05:02,614 INFO  impl.RoleInfo (RoleInfo.java:updateAndGet(143)) - s3: start LeaderState
2019-09-24 12:05:02,615 INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:startLogSegment(380)) - s3@group-E7D5050F4609-SegmentedRaftLogWorker: Starting segment from index:0
2019-09-24 12:05:02,618 INFO  impl.RaftServerImpl (ServerState.java:setRaftConf(355)) - s3@group-E7D5050F4609: set configuration 0: [s3:0.0.0.0:40479, s4:0.0.0.0:43695, s0:0.0.0.0:44661, s1:0.0.0.0:36487, s2:0.0.0.0:42023], old=null at 0
2019-09-24 12:05:02,619 INFO  impl.RaftServerImpl (ServerState.java:setLeader(254)) - s1@group-E7D5050F4609: change Leader from null to s3 at term 1 for appendEntries, leader elected after 286ms
2019-09-24 12:05:02,619 INFO  impl.RaftServerImpl (ServerState.java:setLeader(254)) - s2@group-E7D5050F4609: change Leader from null to s3 at term 1 for appendEntries, leader elected after 271ms
2019-09-24 12:05:02,619 INFO  impl.RaftServerImpl (ServerState.java:setLeader(254)) - s4@group-E7D5050F4609: change Leader from null to s3 at term 1 for appendEntries, leader elected after 286ms
2019-09-24 12:05:02,619 INFO  impl.RaftServerImpl (ServerState.java:setLeader(254)) - s0@group-E7D5050F4609: change Leader from null to s3 at term 1 for appendEntries, leader elected after 286ms
2019-09-24 12:05:02,621 DEBUG impl.RaftServerImpl (RaftServerImpl.java:logAppendEntries(850)) - s1@group-E7D5050F4609: receive appendEntries(s3, 1, null, -1, false, commits[s3:c-1, s4:c-1, s0:c-1, s1:c-1, s2:c-1], entries: (t:1, i:0), CONFIGURATIONENTRY
2019-09-24 12:05:02,622 DEBUG impl.RaftServerImpl (RaftServerImpl.java:logAppendEntries(850)) - s0@group-E7D5050F4609: receive appendEntries(s3, 1, null, -1, false, commits[s3:c-1, s4:c-1, s0:c-1, s1:c-1, s2:c-1], entries: (t:1, i:0), CONFIGURATIONENTRY
2019-09-24 12:05:02,622 DEBUG impl.RaftServerImpl (RaftServerImpl.java:logAppendEntries(850)) - s4@group-E7D5050F4609: receive appendEntries(s3, 1, null, -1, false, commits[s3:c-1, s4:c-1, s0:c-1, s1:c-1, s2:c-1], entries: (t:1, i:0), CONFIGURATIONENTRY
2019-09-24 12:05:02,622 DEBUG impl.RaftServerImpl (RaftServerImpl.java:logAppendEntries(850)) - s2@group-E7D5050F4609: receive appendEntries(s3, 1, null, -1, false, commits[s3:c-1, s4:c-1, s0:c-1, s1:c-1, s2:c-1], entries: (t:1, i:0), CONFIGURATIONENTRY
2019-09-24 12:05:02,622 INFO  impl.RaftServerImpl (ServerState.java:setRaftConf(355)) - s4@group-E7D5050F4609: set configuration 0: [s3:0.0.0.0:40479, s4:0.0.0.0:43695, s0:0.0.0.0:44661, s1:0.0.0.0:36487, s2:0.0.0.0:42023], old=null at 0
2019-09-24 12:05:02,622 INFO  impl.RaftServerImpl (ServerState.java:setRaftConf(355)) - s0@group-E7D5050F4609: set configuration 0: [s3:0.0.0.0:40479, s4:0.0.0.0:43695, s0:0.0.0.0:44661, s1:0.0.0.0:36487, s2:0.0.0.0:42023], old=null at 0
2019-09-24 12:05:02,622 INFO  impl.RaftServerImpl (ServerState.java:setRaftConf(355)) - s1@group-E7D5050F4609: set configuration 0: [s3:0.0.0.0:40479, s4:0.0.0.0:43695, s0:0.0.0.0:44661, s1:0.0.0.0:36487, s2:0.0.0.0:42023], old=null at 0
2019-09-24 12:05:02,623 INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:startLogSegment(380)) - s0@group-E7D5050F4609-SegmentedRaftLogWorker: Starting segment from index:0
2019-09-24 12:05:02,623 INFO  impl.RaftServerImpl (ServerState.java:setRaftConf(355)) - s2@group-E7D5050F4609: set configuration 0: [s3:0.0.0.0:40479, s4:0.0.0.0:43695, s0:0.0.0.0:44661, s1:0.0.0.0:36487, s2:0.0.0.0:42023], old=null at 0
2019-09-24 12:05:02,623 INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:startLogSegment(380)) - s4@group-E7D5050F4609-SegmentedRaftLogWorker: Starting segment from index:0
2019-09-24 12:05:02,624 INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:startLogSegment(380)) - s2@group-E7D5050F4609-SegmentedRaftLogWorker: Starting segment from index:0
2019-09-24 12:05:02,624 INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:startLogSegment(380)) - s1@group-E7D5050F4609-SegmentedRaftLogWorker: Starting segment from index:0
2019-09-24 12:05:02,843 INFO  ratis.RaftTestUtil (RaftTestUtil.java:waitForLeader(101)) - printing ALL groups
  s3:  RUNNING    LEADER s3@group-E7D5050F4609:t1, leader=s3, voted=s3, raftlog=s3@group-E7D5050F4609-SegmentedRaftLog:OPENED:c-1,f-1,i0, conf=0: [s3:0.0.0.0:40479, s4:0.0.0.0:43695, s0:0.0.0.0:44661, s1:0.0.0.0:36487, s2:0.0.0.0:42023], old=null RUNNING
  s4:  RUNNING  FOLLOWER s4@group-E7D5050F4609:t1, leader=s3, voted=s3, raftlog=s4@group-E7D5050F4609-SegmentedRaftLog:OPENED:c-1,f-1,i0, conf=0: [s3:0.0.0.0:40479, s4:0.0.0.0:43695, s0:0.0.0.0:44661, s1:0.0.0.0:36487, s2:0.0.0.0:42023], old=null RUNNING
  s0:  RUNNING  FOLLOWER s0@group-E7D5050F4609:t1, leader=s3, voted=s3, raftlog=s0@group-E7D5050F4609-SegmentedRaftLog:OPENED:c-1,f-1,i0, conf=0: [s3:0.0.0.0:40479, s4:0.0.0.0:43695, s0:0.0.0.0:44661, s1:0.0.0.0:36487, s2:0.0.0.0:42023], old=null RUNNING
  s1:  RUNNING  FOLLOWER s1@group-E7D5050F4609:t1, leader=s3, voted=s1, raftlog=s1@group-E7D5050F4609-SegmentedRaftLog:OPENED:c-1,f-1,i0, conf=0: [s3:0.0.0.0:40479, s4:0.0.0.0:43695, s0:0.0.0.0:44661, s1:0.0.0.0:36487, s2:0.0.0.0:42023], old=null RUNNING
  s2:  RUNNING  FOLLOWER s2@group-E7D5050F4609:t1, leader=s3, voted=s3, raftlog=s2@group-E7D5050F4609-SegmentedRaftLog:OPENED:c-1,f-1,i0, conf=0: [s3:0.0.0.0:40479, s4:0.0.0.0:43695, s0:0.0.0.0:44661, s1:0.0.0.0:36487, s2:0.0.0.0:42023], old=null RUNNING
2019-09-24 12:05:02,843 INFO  ratis.RaftTestUtil (RaftTestUtil.java:waitAndKillLeader(117)) - killing leader =    LEADER s3@group-E7D5050F4609:t1, leader=s3, voted=s3, raftlog=s3@group-E7D5050F4609-SegmentedRaftLog:OPENED:c-1,f-1,i0, conf=0: [s3:0.0.0.0:40479, s4:0.0.0.0:43695, s0:0.0.0.0:44661, s1:0.0.0.0:36487, s2:0.0.0.0:42023], old=null RUNNING
2019-09-24 12:05:02,844 INFO  ratis.MiniRaftCluster (MiniRaftCluster.java:killServer(458)) - killServer s3
2019-09-24 12:05:02,844 INFO  impl.RaftServerProxy (RaftServerProxy.java:lambda$close$4(314)) - s3: close
2019-09-24 12:05:02,844 INFO  impl.RaftServerImpl (RaftServerImpl.java:lambda$shutdown$3(247)) - s3@group-E7D5050F4609: shutdown
2019-09-24 12:05:02,845 INFO  util.JmxRegister (JmxRegister.java:unregister(73)) - Successfully un-registered JMX Bean with object name Ratis:service=RaftServer,group=group-E7D5050F4609,id=s3
2019-09-24 12:05:02,845 INFO  impl.RoleInfo (RoleInfo.java:shutdownLeaderState(104)) - s3: shutdown LeaderState
2019-09-24 12:05:02,849 INFO  impl.PendingRequests (PendingRequests.java:sendNotLeaderResponses(202)) - s3@group-E7D5050F4609-PendingRequests: sendNotLeaderResponses
2019-09-24 12:05:02,849 INFO  impl.LogAppender (LogAppender.java:run(78)) - s3@group-E7D5050F4609->s4-LogAppender-AppenderDaemon was interrupted: java.io.InterruptedIOException: s3->s4#0 sending from s4:0.0.0.0:43695 is interrupted.
2019-09-24 12:05:02,850 INFO  impl.StateMachineUpdater (StateMachineUpdater.java:stopAndJoin(136)) - s3@group-E7D5050F4609-StateMachineUpdater: set stopIndex = -1
2019-09-24 12:05:02,849 INFO  impl.LogAppender (LogAppender.java:run(78)) - s3@group-E7D5050F4609->s1-LogAppender-AppenderDaemon was interrupted: java.io.InterruptedIOException: s3->s1#0 sending from s1:0.0.0.0:36487 is interrupted.
2019-09-24 12:05:02,849 INFO  impl.LogAppender (LogAppender.java:run(78)) - s3@group-E7D5050F4609->s2-LogAppender-AppenderDaemon was interrupted: java.io.InterruptedIOException: s3->s2#0 sending from s2:0.0.0.0:42023 is interrupted.
2019-09-24 12:05:02,849 INFO  impl.LogAppender (LogAppender.java:run(78)) - s3@group-E7D5050F4609->s0-LogAppender-AppenderDaemon was interrupted: java.io.InterruptedIOException: s3->s0#0 sending from s0:0.0.0.0:44661 is interrupted.
2019-09-24 12:05:02,852 INFO  impl.RaftServerImpl (ServerState.java:close(386)) - s3@group-E7D5050F4609: closes. applyIndex: -1
2019-09-24 12:05:02,888 INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:execute(569)) - s1@group-E7D5050F4609-SegmentedRaftLogWorker: created new log segment /workdir/ratis-test/target/test/data/aaa4fccd/MiniRaftClusterWithNettyac8e1cad/s1/36869398-fbcf-49ef-8a37-e7d5050f4609/current/log_inprogress_0
2019-09-24 12:05:02,888 INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:execute(569)) - s0@group-E7D5050F4609-SegmentedRaftLogWorker: created new log segment /workdir/ratis-test/target/test/data/aaa4fccd/MiniRaftClusterWithNettyac8e1cad/s0/36869398-fbcf-49ef-8a37-e7d5050f4609/current/log_inprogress_0
2019-09-24 12:05:02,888 INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:execute(569)) - s4@group-E7D5050F4609-SegmentedRaftLogWorker: created new log segment /workdir/ratis-test/target/test/data/aaa4fccd/MiniRaftClusterWithNettyac8e1cad/s4/36869398-fbcf-49ef-8a37-e7d5050f4609/current/log_inprogress_0
2019-09-24 12:05:02,888 INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:execute(569)) - s2@group-E7D5050F4609-SegmentedRaftLogWorker: created new log segment /workdir/ratis-test/target/test/data/aaa4fccd/MiniRaftClusterWithNettyac8e1cad/s2/36869398-fbcf-49ef-8a37-e7d5050f4609/current/log_inprogress_0
2019-09-24 12:05:02,889 WARN  segmented.SegmentedRaftLogOutputStream (SegmentedRaftLogOutputStream.java:<init>(77)) - Hit IOException while creating log segment /workdir/ratis-test/target/test/data/aaa4fccd/MiniRaftClusterWithNettyac8e1cad/s3/36869398-fbcf-49ef-8a37-e7d5050f4609/current/log_inprogress_0, delete the partial file.
2019-09-24 12:05:02,889 TRACE util.FileUtils (FileUtils.java:deleteFully(88)) - deleteFully /workdir/ratis-test/target/test/data/aaa4fccd/MiniRaftClusterWithNettyac8e1cad/s3/36869398-fbcf-49ef-8a37-e7d5050f4609/current/log_inprogress_0
2019-09-24 12:05:02,894 TRACE util.FileUtils (LogUtils.java:runAndLog(61)) - Successfully ran Files.delete /workdir/ratis-test/target/test/data/aaa4fccd/MiniRaftClusterWithNettyac8e1cad/s3/36869398-fbcf-49ef-8a37-e7d5050f4609/current/log_inprogress_0
2019-09-24 12:05:02,895 INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:close(228)) - s3@group-E7D5050F4609-SegmentedRaftLogWorker close()
2019-09-24 12:05:02,896 INFO  logging.LoggingHandler (AbstractInternalLogger.java:log(150)) - [id: 0x18e757fc, L:/0.0.0.0:40479] UNREGISTERED
2019-09-24 12:05:02,900 DEBUG impl.RaftServerImpl (RaftServerImpl.java:logAppendEntries(850)) - s1@group-E7D5050F4609: succeeded to handle AppendEntries. Reply: s3<-s1#0:OK,SUCCESS,nextIndex:1,term:1,followerCommit:-1
2019-09-24 12:05:02,901 DEBUG impl.RaftServerImpl (RaftServerImpl.java:logAppendEntries(850)) - s4@group-E7D5050F4609: succeeded to handle AppendEntries. Reply: s3<-s4#0:OK,SUCCESS,nextIndex:1,term:1,followerCommit:-1
2019-09-24 12:05:02,901 DEBUG impl.RaftServerImpl (RaftServerImpl.java:logAppendEntries(850)) - s2@group-E7D5050F4609: succeeded to handle AppendEntries. Reply: s3<-s2#0:OK,SUCCESS,nextIndex:1,term:1,followerCommit:-1
2019-09-24 12:05:02,901 DEBUG impl.RaftServerImpl (RaftServerImpl.java:logAppendEntries(850)) - s0@group-E7D5050F4609: succeeded to handle AppendEntries. Reply: s3<-s0#0:OK,SUCCESS,nextIndex:1,term:1,followerCommit:-1
2019-09-24 12:05:03,242 INFO  impl.FollowerState (FollowerState.java:run(108)) - s0@group-E7D5050F4609-FollowerState: change to CANDIDATE, lastRpcTime:340ms, electionTimeout:229ms
2019-09-24 12:05:03,242 INFO  impl.RoleInfo (RoleInfo.java:shutdownFollowerState(121)) - s0: shutdown FollowerState
2019-09-24 12:05:03,242 INFO  impl.RaftServerImpl (RaftServerImpl.java:setRole(170)) - s0@group-E7D5050F4609: changes role from  FOLLOWER to CANDIDATE at term 1 for changeToCandidate
2019-09-24 12:05:03,243 INFO  impl.RoleInfo (RoleInfo.java:updateAndGet(143)) - s0: start LeaderElection
2019-09-24 12:05:03,244 INFO  impl.RaftServerImpl (ServerState.java:setLeader(254)) - s0@group-E7D5050F4609: change Leader from s3 to null at term 1 for initElection
2019-09-24 12:05:03,248 INFO  impl.FollowerState (FollowerState.java:run(108)) - s4@group-E7D5050F4609-FollowerState: change to CANDIDATE, lastRpcTime:347ms, electionTimeout:272ms
2019-09-24 12:05:03,248 INFO  impl.RoleInfo (RoleInfo.java:shutdownFollowerState(121)) - s4: shutdown FollowerState
2019-09-24 12:05:03,248 INFO  impl.RaftServerImpl (RaftServerImpl.java:setRole(170)) - s4@group-E7D5050F4609: changes role from  FOLLOWER to CANDIDATE at term 1 for changeToCandidate
2019-09-24 12:05:03,248 INFO  impl.RoleInfo (RoleInfo.java:updateAndGet(143)) - s4: start LeaderElection
2019-09-24 12:05:03,249 INFO  impl.RaftServerImpl (ServerState.java:setLeader(254)) - s4@group-E7D5050F4609: change Leader from s3 to null at term 1 for initElection
2019-09-24 12:05:03,258 INFO  impl.LeaderElection (LeaderElection.java:askForVotes(178)) - s0@group-E7D5050F4609-LeaderElection11: begin an election at term 2 for 0: [s3:0.0.0.0:40479, s4:0.0.0.0:43695, s0:0.0.0.0:44661, s1:0.0.0.0:36487, s2:0.0.0.0:42023], old=null
2019-09-24 12:05:03,258 INFO  impl.LeaderElection (LeaderElection.java:askForVotes(178)) - s4@group-E7D5050F4609-LeaderElection12: begin an election at term 2 for 0: [s3:0.0.0.0:40479, s4:0.0.0.0:43695, s0:0.0.0.0:44661, s1:0.0.0.0:36487, s2:0.0.0.0:42023], old=null
2019-09-24 12:05:03,272 INFO  logging.LoggingHandler (AbstractInternalLogger.java:log(150)) - [id: 0xd721c4fe, L:/0.0.0.0:36487] READ: [id: 0x3a596b95, L:/192.168.34.44:36487 - R:/192.168.34.44:43246]
2019-09-24 12:05:03,275 INFO  logging.LoggingHandler (AbstractInternalLogger.java:log(150)) - [id: 0xb9400468, L:/0.0.0.0:43695] READ: [id: 0xae749ee7, L:/192.168.34.44:43695 - R:/192.168.34.44:43910]
2019-09-24 12:05:03,277 INFO  logging.LoggingHandler (AbstractInternalLogger.java:log(150)) - [id: 0xd721c4fe, L:/0.0.0.0:36487] READ COMPLETE
2019-09-24 12:05:03,280 INFO  impl.LeaderElection (LogUtils.java:infoOrTrace(149)) - s0@group-E7D5050F4609-LeaderElection11 got exception when requesting votes: java.util.concurrent.ExecutionException: org.apache.ratis.thirdparty.io.netty.channel.AbstractChannel$AnnotatedConnectException: Connection refused: /0.0.0.0:40479
2019-09-24 12:05:03,279 INFO  impl.LeaderElection (LogUtils.java:infoOrTrace(149)) - s4@group-E7D5050F4609-LeaderElection12 got exception when requesting votes: java.util.concurrent.ExecutionException: org.apache.ratis.thirdparty.io.netty.channel.AbstractChannel$AnnotatedConnectException: Connection refused: /0.0.0.0:40479
2019-09-24 12:05:03,280 INFO  logging.LoggingHandler (AbstractInternalLogger.java:log(150)) - [id: 0xb9400468, L:/0.0.0.0:43695] READ COMPLETE
2019-09-24 12:05:03,282 INFO  logging.LoggingHandler (AbstractInternalLogger.java:log(150)) - [id: 0xd721c4fe, L:/0.0.0.0:36487] READ: [id: 0xef3694de, L:/192.168.34.44:36487 - R:/192.168.34.44:43252]
2019-09-24 12:05:03,282 INFO  logging.LoggingHandler (AbstractInternalLogger.java:log(150)) - [id: 0x613b8d3e, L:/0.0.0.0:42023] READ: [id: 0x409f7ca2, L:/192.168.34.44:42023 - R:/192.168.34.44:59432]
2019-09-24 12:05:03,280 INFO  logging.LoggingHandler (AbstractInternalLogger.java:log(150)) - [id: 0x8faf6523, L:/0.0.0.0:44661] READ: [id: 0xbb8e929a, L:/192.168.34.44:44661 - R:/192.168.34.44:37182]
2019-09-24 12:05:03,284 INFO  logging.LoggingHandler (AbstractInternalLogger.java:log(150)) - [id: 0x613b8d3e, L:/0.0.0.0:42023] READ COMPLETE
2019-09-24 12:05:03,283 DEBUG impl.RaftServerImpl (RaftServerImpl.java:requestVote(743)) - s4@group-E7D5050F4609: receive requestVote(s0, group-E7D5050F4609, 2, (t:1, i:0))
2019-09-24 12:05:03,283 INFO  logging.LoggingHandler (AbstractInternalLogger.java:log(150)) - [id: 0xd721c4fe, L:/0.0.0.0:36487] READ COMPLETE
2019-09-24 12:05:03,287 DEBUG impl.RaftServerImpl (RaftServerImpl.java:requestVote(775)) - s4@group-E7D5050F4609 replies to vote request: s0<-s4#0:FAIL-t2. Peer's state: s4@group-E7D5050F4609:t2, leader=null, voted=s4, raftlog=s4@group-E7D5050F4609-SegmentedRaftLog:OPENED:c-1,f0,i0, conf=0: [s3:0.0.0.0:40479, s4:0.0.0.0:43695, s0:0.0.0.0:44661, s1:0.0.0.0:36487, s2:0.0.0.0:42023], old=null
2019-09-24 12:05:03,287 INFO  logging.LoggingHandler (AbstractInternalLogger.java:log(150)) - [id: 0x613b8d3e, L:/0.0.0.0:42023] READ: [id: 0xf8c9fb88, L:/192.168.34.44:42023 - R:/192.168.34.44:59438]
2019-09-24 12:05:03,287 INFO  logging.LoggingHandler (AbstractInternalLogger.java:log(150)) - [id: 0x8faf6523, L:/0.0.0.0:44661] READ COMPLETE
2019-09-24 12:05:03,286 DEBUG impl.RaftServerImpl (RaftServerImpl.java:requestVote(743)) - s1@group-E7D5050F4609: receive requestVote(s0, group-E7D5050F4609, 2, (t:1, i:0))
2019-09-24 12:05:03,289 DEBUG impl.RaftServerImpl (RaftServerImpl.java:requestVote(743)) - s2@group-E7D5050F4609: receive requestVote(s0, group-E7D5050F4609, 2, (t:1, i:0))
2019-09-24 12:05:03,289 INFO  logging.LoggingHandler (AbstractInternalLogger.java:log(150)) - [id: 0x613b8d3e, L:/0.0.0.0:42023] READ COMPLETE
2019-09-24 12:05:03,289 DEBUG impl.RaftServerImpl (RaftServerImpl.java:requestVote(743)) - s1@group-E7D5050F4609: receive requestVote(s4, group-E7D5050F4609, 2, (t:1, i:0))
2019-09-24 12:05:03,288 DEBUG impl.RaftServerImpl (RaftServerImpl.java:requestVote(743)) - s0@group-E7D5050F4609: receive requestVote(s4, group-E7D5050F4609, 2, (t:1, i:0))
2019-09-24 12:05:03,290 DEBUG impl.RaftServerImpl (RaftServerImpl.java:requestVote(743)) - s2@group-E7D5050F4609: receive requestVote(s4, group-E7D5050F4609, 2, (t:1, i:0))
2019-09-24 12:05:03,290 INFO  impl.RaftServerImpl (ServerState.java:setLeader(254)) - s2@group-E7D5050F4609: change Leader from s3 to null at term 2 for updateCurrentTerm
2019-09-24 12:05:03,289 INFO  impl.RaftServerImpl (ServerState.java:setLeader(254)) - s1@group-E7D5050F4609: change Leader from s3 to null at term 2 for updateCurrentTerm
2019-09-24 12:05:03,291 INFO  impl.RaftServerImpl (RaftServerImpl.java:setRole(170)) - s2@group-E7D5050F4609: changes role from  FOLLOWER to FOLLOWER at term 2 for recognizeCandidate:s0
2019-09-24 12:05:03,292 INFO  impl.RoleInfo (RoleInfo.java:shutdownFollowerState(121)) - s2: shutdown FollowerState
2019-09-24 12:05:03,291 DEBUG impl.RaftServerImpl (RaftServerImpl.java:requestVote(775)) - s0@group-E7D5050F4609 replies to vote request: s4<-s0#0:FAIL-t2. Peer's state: s0@group-E7D5050F4609:t2, leader=null, voted=s0, raftlog=s0@group-E7D5050F4609-SegmentedRaftLog:OPENED:c-1,f0,i0, conf=0: [s3:0.0.0.0:40479, s4:0.0.0.0:43695, s0:0.0.0.0:44661, s1:0.0.0.0:36487, s2:0.0.0.0:42023], old=null
2019-09-24 12:05:03,292 INFO  impl.FollowerState (FollowerState.java:run(117)) - s2@group-E7D5050F4609-FollowerState was interrupted: java.lang.InterruptedException: sleep interrupted
2019-09-24 12:05:03,292 INFO  impl.RoleInfo (RoleInfo.java:updateAndGet(143)) - s2: start FollowerState
2019-09-24 12:05:03,292 INFO  impl.RaftServerImpl (RaftServerImpl.java:setRole(170)) - s1@group-E7D5050F4609: changes role from  FOLLOWER to FOLLOWER at term 2 for recognizeCandidate:s0
2019-09-24 12:05:03,295 INFO  impl.RoleInfo (RoleInfo.java:shutdownFollowerState(121)) - s1: shutdown FollowerState
2019-09-24 12:05:03,295 INFO  impl.RoleInfo (RoleInfo.java:updateAndGet(143)) - s1: start FollowerState
2019-09-24 12:05:03,295 INFO  impl.FollowerState (FollowerState.java:run(117)) - s1@group-E7D5050F4609-FollowerState was interrupted: java.lang.InterruptedException: sleep interrupted
2019-09-24 12:05:03,320 DEBUG impl.RaftServerImpl (RaftServerImpl.java:requestVote(775)) - s2@group-E7D5050F4609 replies to vote request: s0<-s2#0:OK-t2. Peer's state: s2@group-E7D5050F4609:t2, leader=null, voted=s0, raftlog=s2@group-E7D5050F4609-SegmentedRaftLog:OPENED:c-1,f0,i0, conf=0: [s3:0.0.0.0:40479, s4:0.0.0.0:43695, s0:0.0.0.0:44661, s1:0.0.0.0:36487, s2:0.0.0.0:42023], old=null
2019-09-24 12:05:03,320 DEBUG impl.RaftServerImpl (RaftServerImpl.java:requestVote(775)) - s1@group-E7D5050F4609 replies to vote request: s0<-s1#0:OK-t2. Peer's state: s1@group-E7D5050F4609:t2, leader=null, voted=s0, raftlog=s1@group-E7D5050F4609-SegmentedRaftLog:OPENED:c-1,f0,i0, conf=0: [s3:0.0.0.0:40479, s4:0.0.0.0:43695, s0:0.0.0.0:44661, s1:0.0.0.0:36487, s2:0.0.0.0:42023], old=null
2019-09-24 12:05:03,321 DEBUG impl.RaftServerImpl (RaftServerImpl.java:requestVote(775)) - s2@group-E7D5050F4609 replies to vote request: s4<-s2#0:FAIL-t2. Peer's state: s2@group-E7D5050F4609:t2, leader=null, voted=s0, raftlog=s2@group-E7D5050F4609-SegmentedRaftLog:OPENED:c-1,f0,i0, conf=0: [s3:0.0.0.0:40479, s4:0.0.0.0:43695, s0:0.0.0.0:44661, s1:0.0.0.0:36487, s2:0.0.0.0:42023], old=null
2019-09-24 12:05:03,322 DEBUG impl.RaftServerImpl (RaftServerImpl.java:requestVote(775)) - s1@group-E7D5050F4609 replies to vote request: s4<-s1#0:FAIL-t2. Peer's state: s1@group-E7D5050F4609:t2, leader=null, voted=s0, raftlog=s1@group-E7D5050F4609-SegmentedRaftLog:OPENED:c-1,f0,i0, conf=0: [s3:0.0.0.0:40479, s4:0.0.0.0:43695, s0:0.0.0.0:44661, s1:0.0.0.0:36487, s2:0.0.0.0:42023], old=null
2019-09-24 12:05:03,324 INFO  impl.LeaderElection (LeaderElection.java:logAndReturn(56)) - s0@group-E7D5050F4609-LeaderElection11: Election PASSED; received 3 response(s) [s0<-s4#0:FAIL-t2, s0<-s1#0:OK-t2, s0<-s2#0:OK-t2] and 1 exception(s); s0@group-E7D5050F4609:t2, leader=null, voted=s0, raftlog=s0@group-E7D5050F4609-SegmentedRaftLog:OPENED:c-1,f0,i0, conf=0: [s3:0.0.0.0:40479, s4:0.0.0.0:43695, s0:0.0.0.0:44661, s1:0.0.0.0:36487, s2:0.0.0.0:42023], old=null
2019-09-24 12:05:03,325 INFO  impl.LeaderElection (LeaderElection.java:logAndReturn(56)) - s4@group-E7D5050F4609-LeaderElection12: Election REJECTED; received 3 response(s) [s4<-s0#0:FAIL-t2, s4<-s1#0:FAIL-t2, s4<-s2#0:FAIL-t2] and 1 exception(s); s4@group-E7D5050F4609:t2, leader=null, voted=s4, raftlog=s4@group-E7D5050F4609-SegmentedRaftLog:OPENED:c-1,f0,i0, conf=0: [s3:0.0.0.0:40479, s4:0.0.0.0:43695, s0:0.0.0.0:44661, s1:0.0.0.0:36487, s2:0.0.0.0:42023], old=null
2019-09-24 12:05:03,325 INFO  impl.LeaderElection (LogUtils.java:infoOrTrace(149)) -   Exception 0: java.util.concurrent.ExecutionException: org.apache.ratis.thirdparty.io.netty.channel.AbstractChannel$AnnotatedConnectException: Connection refused: /0.0.0.0:40479
2019-09-24 12:05:03,325 INFO  impl.LeaderElection (LogUtils.java:infoOrTrace(149)) -   Exception 0: java.util.concurrent.ExecutionException: org.apache.ratis.thirdparty.io.netty.channel.AbstractChannel$AnnotatedConnectException: Connection refused: /0.0.0.0:40479
2019-09-24 12:05:03,326 INFO  impl.RaftServerImpl (RaftServerImpl.java:setRole(170)) - s4@group-E7D5050F4609: changes role from CANDIDATE to FOLLOWER at term 2 for DISCOVERED_A_NEW_TERM
2019-09-24 12:05:03,328 INFO  impl.RoleInfo (RoleInfo.java:shutdownLeaderElection(134)) - s4: shutdown LeaderElection
2019-09-24 12:05:03,327 INFO  impl.RoleInfo (RoleInfo.java:shutdownLeaderElection(134)) - s0: shutdown LeaderElection
2019-09-24 12:05:03,329 INFO  impl.RoleInfo (RoleInfo.java:updateAndGet(143)) - s4: start FollowerState
2019-09-24 12:05:03,330 INFO  impl.RaftServerImpl (RaftServerImpl.java:setRole(170)) - s0@group-E7D5050F4609: changes role from CANDIDATE to LEADER at term 2 for changeToLeader
2019-09-24 12:05:03,330 INFO  impl.RaftServerImpl (ServerState.java:setLeader(254)) - s0@group-E7D5050F4609: change Leader from null to s0 at term 2 for becomeLeader, leader elected after 86ms
2019-09-24 12:05:03,331 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.staging.catchup.gap = 1000 (default)
2019-09-24 12:05:03,331 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.rpc.sleep.time = 25ms (default)
2019-09-24 12:05:03,331 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.write.element-limit = 4096 (default)
2019-09-24 12:05:03,332 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.watch.timeout = 10s (default)
2019-09-24 12:05:03,332 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.watch.timeout.denomination = 1s (default)
2019-09-24 12:05:03,332 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.watch.element-limit = 65536 (default)
2019-09-24 12:05:03,336 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.log.appender.snapshot.chunk.size.max = 16MB (=16777216) (default)
2019-09-24 12:05:03,336 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.log.appender.buffer.byte-limit = 4MB (=4194304) (default)
2019-09-24 12:05:03,336 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.log.appender.buffer.element-limit = 0 (default)
2019-09-24 12:05:03,337 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.log.appender.snapshot.chunk.size.max = 16MB (=16777216) (default)
2019-09-24 12:05:03,337 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.log.appender.buffer.byte-limit = 4MB (=4194304) (default)
2019-09-24 12:05:03,337 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.log.appender.buffer.element-limit = 0 (default)
2019-09-24 12:05:03,338 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.log.appender.snapshot.chunk.size.max = 16MB (=16777216) (default)
2019-09-24 12:05:03,338 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.log.appender.buffer.byte-limit = 4MB (=4194304) (default)
2019-09-24 12:05:03,338 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.log.appender.buffer.element-limit = 0 (default)
2019-09-24 12:05:03,338 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.log.appender.snapshot.chunk.size.max = 16MB (=16777216) (default)
2019-09-24 12:05:03,339 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.log.appender.buffer.byte-limit = 4MB (=4194304) (default)
2019-09-24 12:05:03,339 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.log.appender.buffer.element-limit = 0 (default)
2019-09-24 12:05:03,339 INFO  impl.RoleInfo (RoleInfo.java:updateAndGet(143)) - s0: start LeaderState
2019-09-24 12:05:03,340 INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:rollLogSegment(385)) - s0@group-E7D5050F4609-SegmentedRaftLogWorker: Rolling segment log-0_0 to index:0
2019-09-24 12:05:03,346 TRACE util.FileUtils (LogUtils.java:runAndLog(61)) - Successfully ran Files.move /workdir/ratis-test/target/test/data/aaa4fccd/MiniRaftClusterWithNettyac8e1cad/s0/36869398-fbcf-49ef-8a37-e7d5050f4609/current/log_inprogress_0 to /workdir/ratis-test/target/test/data/aaa4fccd/MiniRaftClusterWithNettyac8e1cad/s0/36869398-fbcf-49ef-8a37-e7d5050f4609/current/log_0-0
2019-09-24 12:05:03,346 INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:execute(526)) - s0@group-E7D5050F4609-SegmentedRaftLogWorker: Rolled log segment from /workdir/ratis-test/target/test/data/aaa4fccd/MiniRaftClusterWithNettyac8e1cad/s0/36869398-fbcf-49ef-8a37-e7d5050f4609/current/log_inprogress_0 to /workdir/ratis-test/target/test/data/aaa4fccd/MiniRaftClusterWithNettyac8e1cad/s0/36869398-fbcf-49ef-8a37-e7d5050f4609/current/log_0-0
2019-09-24 12:05:03,350 INFO  impl.RaftServerImpl (ServerState.java:setRaftConf(355)) - s0@group-E7D5050F4609: set configuration 1: [s3:0.0.0.0:40479, s4:0.0.0.0:43695, s0:0.0.0.0:44661, s1:0.0.0.0:36487, s2:0.0.0.0:42023], old=null at 1
2019-09-24 12:05:03,353 INFO  impl.RaftServerImpl (ServerState.java:setLeader(254)) - s1@group-E7D5050F4609: change Leader from null to s0 at term 2 for appendEntries, leader elected after 63ms
2019-09-24 12:05:03,354 INFO  impl.RaftServerImpl (ServerState.java:setLeader(254)) - s2@group-E7D5050F4609: change Leader from null to s0 at term 2 for appendEntries, leader elected after 63ms
2019-09-24 12:05:03,354 INFO  impl.RaftServerImpl (ServerState.java:setLeader(254)) - s4@group-E7D5050F4609: change Leader from null to s0 at term 2 for appendEntries, leader elected after 104ms
2019-09-24 12:05:03,355 WARN  impl.LogAppender (LogAppender.java:sendAppendEntriesWithRetries(274)) - s0@group-E7D5050F4609->s3-LogAppender: Failed to appendEntries (retry=1): org.apache.ratis.thirdparty.io.netty.channel.AbstractChannel$AnnotatedConnectException: Connection refused: /0.0.0.0:40479
2019-09-24 12:05:03,360 DEBUG impl.RaftServerImpl (RaftServerImpl.java:logAppendEntries(850)) - s2@group-E7D5050F4609: receive appendEntries(s0, 2, (t:1, i:0), -1, false, commits[s0:c-1, s3:c-1, s4:c-1, s1:c-1, s2:c-1], entries: (t:2, i:1), CONFIGURATIONENTRY
2019-09-24 12:05:03,360 DEBUG impl.RaftServerImpl (RaftServerImpl.java:logAppendEntries(850)) - s1@group-E7D5050F4609: receive appendEntries(s0, 2, (t:1, i:0), -1, false, commits[s0:c-1, s3:c-1, s4:c-1, s1:c-1, s2:c-1], entries: (t:2, i:1), CONFIGURATIONENTRY
2019-09-24 12:05:03,360 DEBUG impl.RaftServerImpl (RaftServerImpl.java:logAppendEntries(850)) - s4@group-E7D5050F4609: receive appendEntries(s0, 2, (t:1, i:0), -1, false, commits[s0:c-1, s3:c-1, s4:c-1, s1:c-1, s2:c-1], entries: (t:2, i:1), CONFIGURATIONENTRY
2019-09-24 12:05:03,360 INFO  impl.RaftServerImpl (ServerState.java:setRaftConf(355)) - s1@group-E7D5050F4609: set configuration 1: [s3:0.0.0.0:40479, s4:0.0.0.0:43695, s0:0.0.0.0:44661, s1:0.0.0.0:36487, s2:0.0.0.0:42023], old=null at 1
2019-09-24 12:05:03,360 INFO  impl.RaftServerImpl (ServerState.java:setRaftConf(355)) - s2@group-E7D5050F4609: set configuration 1: [s3:0.0.0.0:40479, s4:0.0.0.0:43695, s0:0.0.0.0:44661, s1:0.0.0.0:36487, s2:0.0.0.0:42023], old=null at 1
2019-09-24 12:05:03,361 INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:rollLogSegment(385)) - s1@group-E7D5050F4609-SegmentedRaftLogWorker: Rolling segment log-0_0 to index:0
2019-09-24 12:05:03,361 INFO  impl.RaftServerImpl (ServerState.java:setRaftConf(355)) - s4@group-E7D5050F4609: set configuration 1: [s3:0.0.0.0:40479, s4:0.0.0.0:43695, s0:0.0.0.0:44661, s1:0.0.0.0:36487, s2:0.0.0.0:42023], old=null at 1
2019-09-24 12:05:03,361 INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:rollLogSegment(385)) - s2@group-E7D5050F4609-SegmentedRaftLogWorker: Rolling segment log-0_0 to index:0
2019-09-24 12:05:03,362 INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:rollLogSegment(385)) - s4@group-E7D5050F4609-SegmentedRaftLogWorker: Rolling segment log-0_0 to index:0
2019-09-24 12:05:03,364 TRACE util.FileUtils (LogUtils.java:runAndLog(61)) - Successfully ran Files.move /workdir/ratis-test/target/test/data/aaa4fccd/MiniRaftClusterWithNettyac8e1cad/s1/36869398-fbcf-49ef-8a37-e7d5050f4609/current/log_inprogress_0 to /workdir/ratis-test/target/test/data/aaa4fccd/MiniRaftClusterWithNettyac8e1cad/s1/36869398-fbcf-49ef-8a37-e7d5050f4609/current/log_0-0
2019-09-24 12:05:03,364 INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:execute(526)) - s1@group-E7D5050F4609-SegmentedRaftLogWorker: Rolled log segment from /workdir/ratis-test/target/test/data/aaa4fccd/MiniRaftClusterWithNettyac8e1cad/s1/36869398-fbcf-49ef-8a37-e7d5050f4609/current/log_inprogress_0 to /workdir/ratis-test/target/test/data/aaa4fccd/MiniRaftClusterWithNettyac8e1cad/s1/36869398-fbcf-49ef-8a37-e7d5050f4609/current/log_0-0
2019-09-24 12:05:03,365 TRACE util.FileUtils (LogUtils.java:runAndLog(61)) - Successfully ran Files.move /workdir/ratis-test/target/test/data/aaa4fccd/MiniRaftClusterWithNettyac8e1cad/s4/36869398-fbcf-49ef-8a37-e7d5050f4609/current/log_inprogress_0 to /workdir/ratis-test/target/test/data/aaa4fccd/MiniRaftClusterWithNettyac8e1cad/s4/36869398-fbcf-49ef-8a37-e7d5050f4609/current/log_0-0
2019-09-24 12:05:03,365 INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:execute(526)) - s4@group-E7D5050F4609-SegmentedRaftLogWorker: Rolled log segment from /workdir/ratis-test/target/test/data/aaa4fccd/MiniRaftClusterWithNettyac8e1cad/s4/36869398-fbcf-49ef-8a37-e7d5050f4609/current/log_inprogress_0 to /workdir/ratis-test/target/test/data/aaa4fccd/MiniRaftClusterWithNettyac8e1cad/s4/36869398-fbcf-49ef-8a37-e7d5050f4609/current/log_0-0
2019-09-24 12:05:03,365 TRACE util.FileUtils (LogUtils.java:runAndLog(61)) - Successfully ran Files.move /workdir/ratis-test/target/test/data/aaa4fccd/MiniRaftClusterWithNettyac8e1cad/s2/36869398-fbcf-49ef-8a37-e7d5050f4609/current/log_inprogress_0 to /workdir/ratis-test/target/test/data/aaa4fccd/MiniRaftClusterWithNettyac8e1cad/s2/36869398-fbcf-49ef-8a37-e7d5050f4609/current/log_0-0
2019-09-24 12:05:03,365 INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:execute(526)) - s2@group-E7D5050F4609-SegmentedRaftLogWorker: Rolled log segment from /workdir/ratis-test/target/test/data/aaa4fccd/MiniRaftClusterWithNettyac8e1cad/s2/36869398-fbcf-49ef-8a37-e7d5050f4609/current/log_inprogress_0 to /workdir/ratis-test/target/test/data/aaa4fccd/MiniRaftClusterWithNettyac8e1cad/s2/36869398-fbcf-49ef-8a37-e7d5050f4609/current/log_0-0
2019-09-24 12:05:03,568 INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:execute(569)) - s2@group-E7D5050F4609-SegmentedRaftLogWorker: created new log segment /workdir/ratis-test/target/test/data/aaa4fccd/MiniRaftClusterWithNettyac8e1cad/s2/36869398-fbcf-49ef-8a37-e7d5050f4609/current/log_inprogress_1
2019-09-24 12:05:03,568 INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:execute(569)) - s4@group-E7D5050F4609-SegmentedRaftLogWorker: created new log segment /workdir/ratis-test/target/test/data/aaa4fccd/MiniRaftClusterWithNettyac8e1cad/s4/36869398-fbcf-49ef-8a37-e7d5050f4609/current/log_inprogress_1
2019-09-24 12:05:03,568 INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:execute(569)) - s1@group-E7D5050F4609-SegmentedRaftLogWorker: created new log segment /workdir/ratis-test/target/test/data/aaa4fccd/MiniRaftClusterWithNettyac8e1cad/s1/36869398-fbcf-49ef-8a37-e7d5050f4609/current/log_inprogress_1
2019-09-24 12:05:03,568 INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:execute(569)) - s0@group-E7D5050F4609-SegmentedRaftLogWorker: created new log segment /workdir/ratis-test/target/test/data/aaa4fccd/MiniRaftClusterWithNettyac8e1cad/s0/36869398-fbcf-49ef-8a37-e7d5050f4609/current/log_inprogress_1
2019-09-24 12:05:03,580 DEBUG impl.RaftServerImpl (RaftServerImpl.java:logAppendEntries(850)) - s2@group-E7D5050F4609: succeeded to handle AppendEntries. Reply: s0<-s2#0:OK,SUCCESS,nextIndex:2,term:2,followerCommit:-1
2019-09-24 12:05:03,581 DEBUG impl.RaftServerImpl (RaftServerImpl.java:logAppendEntries(850)) - s4@group-E7D5050F4609: succeeded to handle AppendEntries. Reply: s0<-s4#0:OK,SUCCESS,nextIndex:2,term:2,followerCommit:-1
2019-09-24 12:05:03,581 DEBUG impl.RaftServerImpl (RaftServerImpl.java:logAppendEntries(850)) - s1@group-E7D5050F4609: succeeded to handle AppendEntries. Reply: s0<-s1#0:OK,SUCCESS,nextIndex:2,term:2,followerCommit:-1
2019-09-24 12:05:03,587 DEBUG impl.RaftServerImpl (RaftServerImpl.java:logAppendEntries(850)) - s4@group-E7D5050F4609: receive appendEntries(s0, 2, (t:2, i:1), 1, false, commits[s0:c1, s3:c-1, s4:c-1, s1:c-1, s2:c-1], entries: (t:2, i:2), METADATAENTRY(c1)
2019-09-24 12:05:03,587 DEBUG impl.RaftServerImpl (RaftServerImpl.java:logAppendEntries(850)) - s2@group-E7D5050F4609: receive appendEntries(s0, 2, (t:2, i:1), 1, false, commits[s0:c1, s3:c-1, s4:c-1, s1:c-1, s2:c-1], entries: (t:2, i:2), METADATAENTRY(c1)
2019-09-24 12:05:03,587 DEBUG impl.RaftServerImpl (RaftServerImpl.java:logAppendEntries(850)) - s1@group-E7D5050F4609: receive appendEntries(s0, 2, (t:2, i:1), 1, false, commits[s0:c1, s3:c-1, s4:c-1, s1:c-1, s2:c-1], entries: (t:2, i:2), METADATAENTRY(c1)
2019-09-24 12:05:03,592 DEBUG impl.RaftServerImpl (RaftServerImpl.java:logAppendEntries(850)) - s1@group-E7D5050F4609: succeeded to handle AppendEntries. Reply: s0<-s1#0:OK,SUCCESS,nextIndex:3,term:2,followerCommit:1
2019-09-24 12:05:03,593 DEBUG impl.RaftServerImpl (RaftServerImpl.java:logAppendEntries(850)) - s4@group-E7D5050F4609: succeeded to handle AppendEntries. Reply: s0<-s4#0:OK,SUCCESS,nextIndex:3,term:2,followerCommit:1
2019-09-24 12:05:03,593 DEBUG impl.RaftServerImpl (RaftServerImpl.java:logAppendEntries(850)) - s2@group-E7D5050F4609: succeeded to handle AppendEntries. Reply: s0<-s2#0:OK,SUCCESS,nextIndex:3,term:2,followerCommit:1
2019-09-24 12:05:03,594 WARN  impl.LogAppender (LogAppender.java:sendAppendEntriesWithRetries(274)) - s0@group-E7D5050F4609->s3-LogAppender: Failed to appendEntries (retry=11): org.apache.ratis.thirdparty.io.netty.channel.AbstractChannel$AnnotatedConnectException: Connection refused: /0.0.0.0:40479
2019-09-24 12:05:03,835 WARN  impl.LogAppender (LogAppender.java:sendAppendEntriesWithRetries(274)) - s0@group-E7D5050F4609->s3-LogAppender: Failed to appendEntries (retry=21): org.apache.ratis.thirdparty.io.netty.channel.AbstractChannel$AnnotatedConnectException: Connection refused: /0.0.0.0:40479
2019-09-24 12:05:04,074 WARN  impl.LogAppender (LogAppender.java:sendAppendEntriesWithRetries(274)) - s0@group-E7D5050F4609->s3-LogAppender: Failed to appendEntries (retry=31): org.apache.ratis.thirdparty.io.netty.channel.AbstractChannel$AnnotatedConnectException: Connection refused: /0.0.0.0:40479
2019-09-24 12:05:04,313 WARN  impl.LogAppender (LogAppender.java:sendAppendEntriesWithRetries(274)) - s0@group-E7D5050F4609->s3-LogAppender: Failed to appendEntries (retry=41): org.apache.ratis.thirdparty.io.netty.channel.AbstractChannel$AnnotatedConnectException: Connection refused: /0.0.0.0:40479
2019-09-24 12:05:04,551 WARN  impl.LogAppender (LogAppender.java:sendAppendEntriesWithRetries(274)) - s0@group-E7D5050F4609->s3-LogAppender: Failed to appendEntries (retry=51): org.apache.ratis.thirdparty.io.netty.channel.AbstractChannel$AnnotatedConnectException: Connection refused: /0.0.0.0:40479
2019-09-24 12:05:04,789 WARN  impl.LogAppender (LogAppender.java:sendAppendEntriesWithRetries(274)) - s0@group-E7D5050F4609->s3-LogAppender: Failed to appendEntries (retry=61): org.apache.ratis.thirdparty.io.netty.channel.AbstractChannel$AnnotatedConnectException: Connection refused: /0.0.0.0:40479
2019-09-24 12:05:05,029 WARN  impl.LogAppender (LogAppender.java:sendAppendEntriesWithRetries(274)) - s0@group-E7D5050F4609->s3-LogAppender: Failed to appendEntries (retry=71): org.apache.ratis.thirdparty.io.netty.channel.AbstractChannel$AnnotatedConnectException: Connection refused: /0.0.0.0:40479
2019-09-24 12:05:05,266 WARN  impl.LogAppender (LogAppender.java:sendAppendEntriesWithRetries(274)) - s0@group-E7D5050F4609->s3-LogAppender: Failed to appendEntries (retry=81): org.apache.ratis.thirdparty.io.netty.channel.AbstractChannel$AnnotatedConnectException: Connection refused: /0.0.0.0:40479
2019-09-24 12:05:05,505 WARN  impl.LogAppender (LogAppender.java:sendAppendEntriesWithRetries(274)) - s0@group-E7D5050F4609->s3-LogAppender: Failed to appendEntries (retry=91): org.apache.ratis.thirdparty.io.netty.channel.AbstractChannel$AnnotatedConnectException: Connection refused: /0.0.0.0:40479
2019-09-24 12:05:05,742 WARN  impl.LogAppender (LogAppender.java:sendAppendEntriesWithRetries(274)) - s0@group-E7D5050F4609->s3-LogAppender: Failed to appendEntries (retry=101): org.apache.ratis.thirdparty.io.netty.channel.AbstractChannel$AnnotatedConnectException: Connection refused: /0.0.0.0:40479
2019-09-24 12:05:05,980 WARN  impl.LogAppender (LogAppender.java:sendAppendEntriesWithRetries(274)) - s0@group-E7D5050F4609->s3-LogAppender: Failed to appendEntries (retry=111): org.apache.ratis.thirdparty.io.netty.channel.AbstractChannel$AnnotatedConnectException: Connection refused: /0.0.0.0:40479
2019-09-24 12:05:06,217 WARN  impl.LogAppender (LogAppender.java:sendAppendEntriesWithRetries(274)) - s0@group-E7D5050F4609->s3-LogAppender: Failed to appendEntries (retry=121): org.apache.ratis.thirdparty.io.netty.channel.AbstractChannel$AnnotatedConnectException: Connection refused: /0.0.0.0:40479
2019-09-24 12:05:06,454 WARN  impl.LogAppender (LogAppender.java:sendAppendEntriesWithRetries(274)) - s0@group-E7D5050F4609->s3-LogAppender: Failed to appendEntries (retry=131): org.apache.ratis.thirdparty.io.netty.channel.AbstractChannel$AnnotatedConnectException: Connection refused: /0.0.0.0:40479
2019-09-24 12:05:06,690 WARN  impl.LogAppender (LogAppender.java:sendAppendEntriesWithRetries(274)) - s0@group-E7D5050F4609->s3-LogAppender: Failed to appendEntries (retry=141): org.apache.ratis.thirdparty.io.netty.channel.AbstractChannel$AnnotatedConnectException: Connection refused: /0.0.0.0:40479
2019-09-24 12:05:06,926 WARN  impl.LogAppender (LogAppender.java:sendAppendEntriesWithRetries(274)) - s0@group-E7D5050F4609->s3-LogAppender: Failed to appendEntries (retry=151): org.apache.ratis.thirdparty.io.netty.channel.AbstractChannel$AnnotatedConnectException: Connection refused: /0.0.0.0:40479
2019-09-24 12:05:07,162 WARN  impl.LogAppender (LogAppender.java:sendAppendEntriesWithRetries(274)) - s0@group-E7D5050F4609->s3-LogAppender: Failed to appendEntries (retry=161): org.apache.ratis.thirdparty.io.netty.channel.AbstractChannel$AnnotatedConnectException: Connection refused: /0.0.0.0:40479
2019-09-24 12:05:07,398 WARN  impl.LogAppender (LogAppender.java:sendAppendEntriesWithRetries(274)) - s0@group-E7D5050F4609->s3-LogAppender: Failed to appendEntries (retry=171): org.apache.ratis.thirdparty.io.netty.channel.AbstractChannel$AnnotatedConnectException: Connection refused: /0.0.0.0:40479
2019-09-24 12:05:07,635 WARN  impl.LogAppender (LogAppender.java:sendAppendEntriesWithRetries(274)) - s0@group-E7D5050F4609->s3-LogAppender: Failed to appendEntries (retry=181): org.apache.ratis.thirdparty.io.netty.channel.AbstractChannel$AnnotatedConnectException: Connection refused: /0.0.0.0:40479
2019-09-24 12:05:07,872 WARN  impl.LogAppender (LogAppender.java:sendAppendEntriesWithRetries(274)) - s0@group-E7D5050F4609->s3-LogAppender: Failed to appendEntries (retry=191): org.apache.ratis.thirdparty.io.netty.channel.AbstractChannel$AnnotatedConnectException: Connection refused: /0.0.0.0:40479
2019-09-24 12:05:08,109 WARN  impl.LogAppender (LogAppender.java:sendAppendEntriesWithRetries(274)) - s0@group-E7D5050F4609->s3-LogAppender: Failed to appendEntries (retry=201): org.apache.ratis.thirdparty.io.netty.channel.AbstractChannel$AnnotatedConnectException: Connection refused: /0.0.0.0:40479
2019-09-24 12:05:08,346 WARN  impl.LogAppender (LogAppender.java:sendAppendEntriesWithRetries(274)) - s0@group-E7D5050F4609->s3-LogAppender: Failed to appendEntries (retry=211): org.apache.ratis.thirdparty.io.netty.channel.AbstractChannel$AnnotatedConnectException: Connection refused: /0.0.0.0:40479
2019-09-24 12:05:08,583 WARN  impl.LogAppender (LogAppender.java:sendAppendEntriesWithRetries(274)) - s0@group-E7D5050F4609->s3-LogAppender: Failed to appendEntries (retry=221): org.apache.ratis.thirdparty.io.netty.channel.AbstractChannel$AnnotatedConnectException: Connection refused: /0.0.0.0:40479
2019-09-24 12:05:08,820 WARN  impl.LogAppender (LogAppender.java:sendAppendEntriesWithRetries(274)) - s0@group-E7D5050F4609->s3-LogAppender: Failed to appendEntries (retry=231): org.apache.ratis.thirdparty.io.netty.channel.AbstractChannel$AnnotatedConnectException: Connection refused: /0.0.0.0:40479
2019-09-24 12:05:09,057 WARN  impl.LogAppender (LogAppender.java:sendAppendEntriesWithRetries(274)) - s0@group-E7D5050F4609->s3-LogAppender: Failed to appendEntries (retry=241): org.apache.ratis.thirdparty.io.netty.channel.AbstractChannel$AnnotatedConnectException: Connection refused: /0.0.0.0:40479
2019-09-24 12:05:09,294 WARN  impl.LogAppender (LogAppender.java:sendAppendEntriesWithRetries(274)) - s0@group-E7D5050F4609->s3-LogAppender: Failed to appendEntries (retry=251): org.apache.ratis.thirdparty.io.netty.channel.AbstractChannel$AnnotatedConnectException: Connection refused: /0.0.0.0:40479
2019-09-24 12:05:09,530 WARN  impl.LogAppender (LogAppender.java:sendAppendEntriesWithRetries(274)) - s0@group-E7D5050F4609->s3-LogAppender: Failed to appendEntries (retry=261): org.apache.ratis.thirdparty.io.netty.channel.AbstractChannel$AnnotatedConnectException: Connection refused: /0.0.0.0:40479
2019-09-24 12:05:09,766 WARN  impl.LogAppender (LogAppender.java:sendAppendEntriesWithRetries(274)) - s0@group-E7D5050F4609->s3-LogAppender: Failed to appendEntries (retry=271): org.apache.ratis.thirdparty.io.netty.channel.AbstractChannel$AnnotatedConnectException: Connection refused: /0.0.0.0:40479
2019-09-24 12:05:10,004 WARN  impl.LogAppender (LogAppender.java:sendAppendEntriesWithRetries(274)) - s0@group-E7D5050F4609->s3-LogAppender: Failed to appendEntries (retry=281): org.apache.ratis.thirdparty.io.netty.channel.AbstractChannel$AnnotatedConnectException: Connection refused: /0.0.0.0:40479
2019-09-24 12:05:10,241 WARN  impl.LogAppender (LogAppender.java:sendAppendEntriesWithRetries(274)) - s0@group-E7D5050F4609->s3-LogAppender: Failed to appendEntries (retry=291): org.apache.ratis.thirdparty.io.netty.channel.AbstractChannel$AnnotatedConnectException: Connection refused: /0.0.0.0:40479
2019-09-24 12:05:10,482 WARN  impl.LogAppender (LogAppender.java:sendAppendEntriesWithRetries(274)) - s0@group-E7D5050F4609->s3-LogAppender: Failed to appendEntries (retry=301): org.apache.ratis.thirdparty.io.netty.channel.AbstractChannel$AnnotatedConnectException: Connection refused: /0.0.0.0:40479
2019-09-24 12:05:10,717 WARN  impl.LogAppender (LogAppender.java:sendAppendEntriesWithRetries(274)) - s0@group-E7D5050F4609->s3-LogAppender: Failed to appendEntries (retry=311): org.apache.ratis.thirdparty.io.netty.channel.AbstractChannel$AnnotatedConnectException: Connection refused: /0.0.0.0:40479
2019-09-24 12:05:10,954 WARN  impl.LogAppender (LogAppender.java:sendAppendEntriesWithRetries(274)) - s0@group-E7D5050F4609->s3-LogAppender: Failed to appendEntries (retry=321): org.apache.ratis.thirdparty.io.netty.channel.AbstractChannel$AnnotatedConnectException: Connection refused: /0.0.0.0:40479
2019-09-24 12:05:11,190 WARN  impl.LogAppender (LogAppender.java:sendAppendEntriesWithRetries(274)) - s0@group-E7D5050F4609->s3-LogAppender: Failed to appendEntries (retry=331): org.apache.ratis.thirdparty.io.netty.channel.AbstractChannel$AnnotatedConnectException: Connection refused: /0.0.0.0:40479
2019-09-24 12:05:11,427 WARN  impl.LogAppender (LogAppender.java:sendAppendEntriesWithRetries(274)) - s0@group-E7D5050F4609->s3-LogAppender: Failed to appendEntries (retry=341): org.apache.ratis.thirdparty.io.netty.channel.AbstractChannel$AnnotatedConnectException: Connection refused: /0.0.0.0:40479
2019-09-24 12:05:11,663 WARN  impl.LogAppender (LogAppender.java:sendAppendEntriesWithRetries(274)) - s0@group-E7D5050F4609->s3-LogAppender: Failed to appendEntries (retry=351): org.apache.ratis.thirdparty.io.netty.channel.AbstractChannel$AnnotatedConnectException: Connection refused: /0.0.0.0:40479
2019-09-24 12:05:11,899 WARN  impl.LogAppender (LogAppender.java:sendAppendEntriesWithRetries(274)) - s0@group-E7D5050F4609->s3-LogAppender: Failed to appendEntries (retry=361): org.apache.ratis.thirdparty.io.netty.channel.AbstractChannel$AnnotatedConnectException: Connection refused: /0.0.0.0:40479
2019-09-24 12:05:12,137 WARN  impl.LogAppender (LogAppender.java:sendAppendEntriesWithRetries(274)) - s0@group-E7D5050F4609->s3-LogAppender: Failed to appendEntries (retry=371): org.apache.ratis.thirdparty.io.netty.channel.AbstractChannel$AnnotatedConnectException: Connection refused: /0.0.0.0:40479
2019-09-24 12:05:12,373 WARN  impl.LogAppender (LogAppender.java:sendAppendEntriesWithRetries(274)) - s0@group-E7D5050F4609->s3-LogAppender: Failed to appendEntries (retry=381): org.apache.ratis.thirdparty.io.netty.channel.AbstractChannel$AnnotatedConnectException: Connection refused: /0.0.0.0:40479
2019-09-24 12:05:12,394 INFO  ratis.MiniRaftCluster (MiniRaftCluster.java:lambda$null$5(297)) - TIMED-PRINT: printing ALL groups
  s3:  CLOSING    LEADER s3@group-E7D5050F4609:t1, leader=s3, voted=s3, raftlog=s3@group-E7D5050F4609-SegmentedRaftLog:CLOSED:c-1, conf=0: [s3:0.0.0.0:40479, s4:0.0.0.0:43695, s0:0.0.0.0:44661, s1:0.0.0.0:36487, s2:0.0.0.0:42023], old=null CLOSED
  s4:  RUNNING  FOLLOWER s4@group-E7D5050F4609:t2, leader=s0, voted=s4, raftlog=s4@group-E7D5050F4609-SegmentedRaftLog:OPENED:c2,f2,i2, conf=1: [s3:0.0.0.0:40479, s4:0.0.0.0:43695, s0:0.0.0.0:44661, s1:0.0.0.0:36487, s2:0.0.0.0:42023], old=null RUNNING
  s0:  RUNNING    LEADER s0@group-E7D5050F4609:t2, leader=s0, voted=s0, raftlog=s0@group-E7D5050F4609-SegmentedRaftLog:OPENED:c2,f2,i2, conf=1: [s3:0.0.0.0:40479, s4:0.0.0.0:43695, s0:0.0.0.0:44661, s1:0.0.0.0:36487, s2:0.0.0.0:42023], old=null RUNNING
  s1:  RUNNING  FOLLOWER s1@group-E7D5050F4609:t2, leader=s0, voted=s0, raftlog=s1@group-E7D5050F4609-SegmentedRaftLog:OPENED:c2,f2,i2, conf=1: [s3:0.0.0.0:40479, s4:0.0.0.0:43695, s0:0.0.0.0:44661, s1:0.0.0.0:36487, s2:0.0.0.0:42023], old=null RUNNING
  s2:  RUNNING  FOLLOWER s2@group-E7D5050F4609:t2, leader=s0, voted=s0, raftlog=s2@group-E7D5050F4609-SegmentedRaftLog:OPENED:c2,f2,i2, conf=1: [s3:0.0.0.0:40479, s4:0.0.0.0:43695, s0:0.0.0.0:44661, s1:0.0.0.0:36487, s2:0.0.0.0:42023], old=null RUNNING
2019-09-24 12:05:12,609 WARN  impl.LogAppender (LogAppender.java:sendAppendEntriesWithRetries(274)) - s0@group-E7D5050F4609->s3-LogAppender: Failed to appendEntries (retry=391): org.apache.ratis.thirdparty.io.netty.channel.AbstractChannel$AnnotatedConnectException: Connection refused: /0.0.0.0:40479
2019-09-24 12:05:12,845 WARN  impl.LogAppender (LogAppender.java:sendAppendEntriesWithRetries(274)) - s0@group-E7D5050F4609->s3-LogAppender: Failed to appendEntries (retry=401): org.apache.ratis.thirdparty.io.netty.channel.AbstractChannel$AnnotatedConnectException: Connection refused: /0.0.0.0:40479
2019-09-24 12:05:13,079 WARN  impl.LogAppender (LogAppender.java:sendAppendEntriesWithRetries(274)) - s0@group-E7D5050F4609->s3-LogAppender: Failed to appendEntries (retry=411): org.apache.ratis.thirdparty.io.netty.channel.AbstractChannel$AnnotatedConnectException: Connection refused: /0.0.0.0:40479
2019-09-24 12:05:13,314 WARN  impl.LogAppender (LogAppender.java:sendAppendEntriesWithRetries(274)) - s0@group-E7D5050F4609->s3-LogAppender: Failed to appendEntries (retry=421): org.apache.ratis.thirdparty.io.netty.channel.AbstractChannel$AnnotatedConnectException: Connection refused: /0.0.0.0:40479
2019-09-24 12:05:13,549 WARN  impl.LogAppender (LogAppender.java:sendAppendEntriesWithRetries(274)) - s0@group-E7D5050F4609->s3-LogAppender: Failed to appendEntries (retry=431): org.apache.ratis.thirdparty.io.netty.channel.AbstractChannel$AnnotatedConnectException: Connection refused: /0.0.0.0:40479
2019-09-24 12:05:13,784 WARN  impl.LogAppender (LogAppender.java:sendAppendEntriesWithRetries(274)) - s0@group-E7D5050F4609->s3-LogAppender: Failed to appendEntries (retry=441): org.apache.ratis.thirdparty.io.netty.channel.AbstractChannel$AnnotatedConnectException: Connection refused: /0.0.0.0:40479
2019-09-24 12:05:14,023 WARN  impl.LogAppender (LogAppender.java:sendAppendEntriesWithRetries(274)) - s0@group-E7D5050F4609->s3-LogAppender: Failed to appendEntries (retry=451): org.apache.ratis.thirdparty.io.netty.channel.AbstractChannel$AnnotatedConnectException: Connection refused: /0.0.0.0:40479
2019-09-24 12:05:14,259 WARN  impl.LogAppender (LogAppender.java:sendAppendEntriesWithRetries(274)) - s0@group-E7D5050F4609->s3-LogAppender: Failed to appendEntries (retry=461): org.apache.ratis.thirdparty.io.netty.channel.AbstractChannel$AnnotatedConnectException: Connection refused: /0.0.0.0:40479
2019-09-24 12:05:14,494 WARN  impl.LogAppender (LogAppender.java:sendAppendEntriesWithRetries(274)) - s0@group-E7D5050F4609->s3-LogAppender: Failed to appendEntries (retry=471): org.apache.ratis.thirdparty.io.netty.channel.AbstractChannel$AnnotatedConnectException: Connection refused: /0.0.0.0:40479
2019-09-24 12:05:14,730 WARN  impl.LogAppender (LogAppender.java:sendAppendEntriesWithRetries(274)) - s0@group-E7D5050F4609->s3-LogAppender: Failed to appendEntries (retry=481): org.apache.ratis.thirdparty.io.netty.channel.AbstractChannel$AnnotatedConnectException: Connection refused: /0.0.0.0:40479
2019-09-24 12:05:14,965 WARN  impl.LogAppender (LogAppender.java:sendAppendEntriesWithRetries(274)) - s0@group-E7D5050F4609->s3-LogAppender: Failed to appendEntries (retry=491): org.apache.ratis.thirdparty.io.netty.channel.AbstractChannel$AnnotatedConnectException: Connection refused: /0.0.0.0:40479
2019-09-24 12:05:15,200 WARN  impl.LogAppender (LogAppender.java:sendAppendEntriesWithRetries(274)) - s0@group-E7D5050F4609->s3-LogAppender: Failed to appendEntries (retry=501): org.apache.ratis.thirdparty.io.netty.channel.AbstractChannel$AnnotatedConnectException: Connection refused: /0.0.0.0:40479
2019-09-24 12:05:15,435 WARN  impl.LogAppender (LogAppender.java:sendAppendEntriesWithRetries(274)) - s0@group-E7D5050F4609->s3-LogAppender: Failed to appendEntries (retry=511): org.apache.ratis.thirdparty.io.netty.channel.AbstractChannel$AnnotatedConnectException: Connection refused: /0.0.0.0:40479
2019-09-24 12:05:15,670 WARN  impl.LogAppender (LogAppender.java:sendAppendEntriesWithRetries(274)) - s0@group-E7D5050F4609->s3-LogAppender: Failed to appendEntries (retry=521): org.apache.ratis.thirdparty.io.netty.channel.AbstractChannel$AnnotatedConnectException: Connection refused: /0.0.0.0:40479
2019-09-24 12:05:15,906 WARN  impl.LogAppender (LogAppender.java:sendAppendEntriesWithRetries(274)) - s0@group-E7D5050F4609->s3-LogAppender: Failed to appendEntries (retry=531): org.apache.ratis.thirdparty.io.netty.channel.AbstractChannel$AnnotatedConnectException: Connection refused: /0.0.0.0:40479
2019-09-24 12:05:16,142 WARN  impl.LogAppender (LogAppender.java:sendAppendEntriesWithRetries(274)) - s0@group-E7D5050F4609->s3-LogAppender: Failed to appendEntries (retry=541): org.apache.ratis.thirdparty.io.netty.channel.AbstractChannel$AnnotatedConnectException: Connection refused: /0.0.0.0:40479
2019-09-24 12:05:16,376 WARN  impl.LogAppender (LogAppender.java:sendAppendEntriesWithRetries(274)) - s0@group-E7D5050F4609->s3-LogAppender: Failed to appendEntries (retry=551): org.apache.ratis.thirdparty.io.netty.channel.AbstractChannel$AnnotatedConnectException: Connection refused: /0.0.0.0:40479
2019-09-24 12:05:16,610 WARN  impl.LogAppender (LogAppender.java:sendAppendEntriesWithRetries(274)) - s0@group-E7D5050F4609->s3-LogAppender: Failed to appendEntries (retry=561): org.apache.ratis.thirdparty.io.netty.channel.AbstractChannel$AnnotatedConnectException: Connection refused: /0.0.0.0:40479
2019-09-24 12:05:16,844 WARN  impl.LogAppender (LogAppender.java:sendAppendEntriesWithRetries(274)) - s0@group-E7D5050F4609->s3-LogAppender: Failed to appendEntries (retry=571): org.apache.ratis.thirdparty.io.netty.channel.AbstractChannel$AnnotatedConnectException: Connection refused: /0.0.0.0:40479
2019-09-24 12:05:17,078 WARN  impl.LogAppender (LogAppender.java:sendAppendEntriesWithRetries(274)) - s0@group-E7D5050F4609->s3-LogAppender: Failed to appendEntries (retry=581): org.apache.ratis.thirdparty.io.netty.channel.AbstractChannel$AnnotatedConnectException: Connection refused: /0.0.0.0:40479
2019-09-24 12:05:17,313 WARN  impl.LogAppender (LogAppender.java:sendAppendEntriesWithRetries(274)) - s0@group-E7D5050F4609->s3-LogAppender: Failed to appendEntries (retry=591): org.apache.ratis.thirdparty.io.netty.channel.AbstractChannel$AnnotatedConnectException: Connection refused: /0.0.0.0:40479
2019-09-24 12:05:17,547 WARN  impl.LogAppender (LogAppender.java:sendAppendEntriesWithRetries(274)) - s0@group-E7D5050F4609->s3-LogAppender: Failed to appendEntries (retry=601): org.apache.ratis.thirdparty.io.netty.channel.AbstractChannel$AnnotatedConnectException: Connection refused: /0.0.0.0:40479
2019-09-24 12:05:17,782 WARN  impl.LogAppender (LogAppender.java:sendAppendEntriesWithRetries(274)) - s0@group-E7D5050F4609->s3-LogAppender: Failed to appendEntries (retry=611): org.apache.ratis.thirdparty.io.netty.channel.AbstractChannel$AnnotatedConnectException: Connection refused: /0.0.0.0:40479
2019-09-24 12:05:18,016 WARN  impl.LogAppender (LogAppender.java:sendAppendEntriesWithRetries(274)) - s0@group-E7D5050F4609->s3-LogAppender: Failed to appendEntries (retry=621): org.apache.ratis.thirdparty.io.netty.channel.AbstractChannel$AnnotatedConnectException: Connection refused: /0.0.0.0:40479
2019-09-24 12:05:18,251 WARN  impl.LogAppender (LogAppender.java:sendAppendEntriesWithRetries(274)) - s0@group-E7D5050F4609->s3-LogAppender: Failed to appendEntries (retry=631): org.apache.ratis.thirdparty.io.netty.channel.AbstractChannel$AnnotatedConnectException: Connection refused: /0.0.0.0:40479
2019-09-24 12:05:18,485 WARN  impl.LogAppender (LogAppender.java:sendAppendEntriesWithRetries(274)) - s0@group-E7D5050F4609->s3-LogAppender: Failed to appendEntries (retry=641): org.apache.ratis.thirdparty.io.netty.channel.AbstractChannel$AnnotatedConnectException: Connection refused: /0.0.0.0:40479
2019-09-24 12:05:18,719 WARN  impl.LogAppender (LogAppender.java:sendAppendEntriesWithRetries(274)) - s0@group-E7D5050F4609->s3-LogAppender: Failed to appendEntries (retry=651): org.apache.ratis.thirdparty.io.netty.channel.AbstractChannel$AnnotatedConnectException: Connection refused: /0.0.0.0:40479
2019-09-24 12:05:18,953 WARN  impl.LogAppender (LogAppender.java:sendAppendEntriesWithRetries(274)) - s0@group-E7D5050F4609->s3-LogAppender: Failed to appendEntries (retry=661): org.apache.ratis.thirdparty.io.netty.channel.AbstractChannel$AnnotatedConnectException: Connection refused: /0.0.0.0:40479
2019-09-24 12:05:19,187 WARN  impl.LogAppender (LogAppender.java:sendAppendEntriesWithRetries(274)) - s0@group-E7D5050F4609->s3-LogAppender: Failed to appendEntries (retry=671): org.apache.ratis.thirdparty.io.netty.channel.AbstractChannel$AnnotatedConnectException: Connection refused: /0.0.0.0:40479
2019-09-24 12:05:19,420 WARN  impl.LogAppender (LogAppender.java:sendAppendEntriesWithRetries(274)) - s0@group-E7D5050F4609->s3-LogAppender: Failed to appendEntries (retry=681): org.apache.ratis.thirdparty.io.netty.channel.AbstractChannel$AnnotatedConnectException: Connection refused: /0.0.0.0:40479
2019-09-24 12:05:19,654 WARN  impl.LogAppender (LogAppender.java:sendAppendEntriesWithRetries(274)) - s0@group-E7D5050F4609->s3-LogAppender: Failed to appendEntries (retry=691): org.apache.ratis.thirdparty.io.netty.channel.AbstractChannel$AnnotatedConnectException: Connection refused: /0.0.0.0:40479
2019-09-24 12:05:19,888 WARN  impl.LogAppender (LogAppender.java:sendAppendEntriesWithRetries(274)) - s0@group-E7D5050F4609->s3-LogAppender: Failed to appendEntries (retry=701): org.apache.ratis.thirdparty.io.netty.channel.AbstractChannel$AnnotatedConnectException: Connection refused: /0.0.0.0:40479
2019-09-24 12:05:20,122 WARN  impl.LogAppender (LogAppender.java:sendAppendEntriesWithRetries(274)) - s0@group-E7D5050F4609->s3-LogAppender: Failed to appendEntries (retry=711): org.apache.ratis.thirdparty.io.netty.channel.AbstractChannel$AnnotatedConnectException: Connection refused: /0.0.0.0:40479
2019-09-24 12:05:20,355 WARN  impl.LogAppender (LogAppender.java:sendAppendEntriesWithRetries(274)) - s0@group-E7D5050F4609->s3-LogAppender: Failed to appendEntries (retry=721): org.apache.ratis.thirdparty.io.netty.channel.AbstractChannel$AnnotatedConnectException: Connection refused: /0.0.0.0:40479
2019-09-24 12:05:20,589 WARN  impl.LogAppender (LogAppender.java:sendAppendEntriesWithRetries(274)) - s0@group-E7D5050F4609->s3-LogAppender: Failed to appendEntries (retry=731): org.apache.ratis.thirdparty.io.netty.channel.AbstractChannel$AnnotatedConnectException: Connection refused: /0.0.0.0:40479
2019-09-24 12:05:20,823 WARN  impl.LogAppender (LogAppender.java:sendAppendEntriesWithRetries(274)) - s0@group-E7D5050F4609->s3-LogAppender: Failed to appendEntries (retry=741): org.apache.ratis.thirdparty.io.netty.channel.AbstractChannel$AnnotatedConnectException: Connection refused: /0.0.0.0:40479
2019-09-24 12:05:21,057 WARN  impl.LogAppender (LogAppender.java:sendAppendEntriesWithRetries(274)) - s0@group-E7D5050F4609->s3-LogAppender: Failed to appendEntries (retry=751): org.apache.ratis.thirdparty.io.netty.channel.AbstractChannel$AnnotatedConnectException: Connection refused: /0.0.0.0:40479
2019-09-24 12:05:21,294 WARN  impl.LogAppender (LogAppender.java:sendAppendEntriesWithRetries(274)) - s0@group-E7D5050F4609->s3-LogAppender: Failed to appendEntries (retry=761): org.apache.ratis.thirdparty.io.netty.channel.AbstractChannel$AnnotatedConnectException: Connection refused: /0.0.0.0:40479
2019-09-24 12:05:21,528 WARN  impl.LogAppender (LogAppender.java:sendAppendEntriesWithRetries(274)) - s0@group-E7D5050F4609->s3-LogAppender: Failed to appendEntries (retry=771): org.apache.ratis.thirdparty.io.netty.channel.AbstractChannel$AnnotatedConnectException: Connection refused: /0.0.0.0:40479
2019-09-24 12:05:21,817 WARN  impl.LogAppender (LogAppender.java:sendAppendEntriesWithRetries(274)) - s0@group-E7D5050F4609->s3-LogAppender: Failed to appendEntries (retry=781): org.apache.ratis.thirdparty.io.netty.channel.AbstractChannel$AnnotatedConnectException: Connection refused: /0.0.0.0:40479
2019-09-24 12:05:22,052 WARN  impl.LogAppender (LogAppender.java:sendAppendEntriesWithRetries(274)) - s0@group-E7D5050F4609->s3-LogAppender: Failed to appendEntries (retry=791): org.apache.ratis.thirdparty.io.netty.channel.AbstractChannel$AnnotatedConnectException: Connection refused: /0.0.0.0:40479
2019-09-24 12:05:22,286 WARN  impl.LogAppender (LogAppender.java:sendAppendEntriesWithRetries(274)) - s0@group-E7D5050F4609->s3-LogAppender: Failed to appendEntries (retry=801): org.apache.ratis.thirdparty.io.netty.channel.AbstractChannel$AnnotatedConnectException: Connection refused: /0.0.0.0:40479
2019-09-24 12:05:22,391 INFO  ratis.MiniRaftCluster (MiniRaftCluster.java:lambda$null$5(297)) - TIMED-PRINT: printing ALL groups
  s3:  CLOSING    LEADER s3@group-E7D5050F4609:t1, leader=s3, voted=s3, raftlog=s3@group-E7D5050F4609-SegmentedRaftLog:CLOSED:c-1, conf=0: [s3:0.0.0.0:40479, s4:0.0.0.0:43695, s0:0.0.0.0:44661, s1:0.0.0.0:36487, s2:0.0.0.0:42023], old=null CLOSED
  s4:  RUNNING  FOLLOWER s4@group-E7D5050F4609:t2, leader=s0, voted=s4, raftlog=s4@group-E7D5050F4609-SegmentedRaftLog:OPENED:c2,f2,i2, conf=1: [s3:0.0.0.0:40479, s4:0.0.0.0:43695, s0:0.0.0.0:44661, s1:0.0.0.0:36487, s2:0.0.0.0:42023], old=null RUNNING
  s0:  RUNNING    LEADER s0@group-E7D5050F4609:t2, leader=s0, voted=s0, raftlog=s0@group-E7D5050F4609-SegmentedRaftLog:OPENED:c2,f2,i2, conf=1: [s3:0.0.0.0:40479, s4:0.0.0.0:43695, s0:0.0.0.0:44661, s1:0.0.0.0:36487, s2:0.0.0.0:42023], old=null RUNNING
  s1:  RUNNING  FOLLOWER s1@group-E7D5050F4609:t2, leader=s0, voted=s0, raftlog=s1@group-E7D5050F4609-SegmentedRaftLog:OPENED:c2,f2,i2, conf=1: [s3:0.0.0.0:40479, s4:0.0.0.0:43695, s0:0.0.0.0:44661, s1:0.0.0.0:36487, s2:0.0.0.0:42023], old=null RUNNING
  s2:  RUNNING  FOLLOWER s2@group-E7D5050F4609:t2, leader=s0, voted=s0, raftlog=s2@group-E7D5050F4609-SegmentedRaftLog:OPENED:c2,f2,i2, conf=1: [s3:0.0.0.0:40479, s4:0.0.0.0:43695, s0:0.0.0.0:44661, s1:0.0.0.0:36487, s2:0.0.0.0:42023], old=null RUNNING
2019-09-24 12:05:22,520 WARN  impl.LogAppender (LogAppender.java:sendAppendEntriesWithRetries(274)) - s0@group-E7D5050F4609->s3-LogAppender: Failed to appendEntries (retry=811): org.apache.ratis.thirdparty.io.netty.channel.AbstractChannel$AnnotatedConnectException: Connection refused: /0.0.0.0:40479
2019-09-24 12:05:22,754 WARN  impl.LogAppender (LogAppender.java:sendAppendEntriesWithRetries(274)) - s0@group-E7D5050F4609->s3-LogAppender: Failed to appendEntries (retry=821): org.apache.ratis.thirdparty.io.netty.channel.AbstractChannel$AnnotatedConnectException: Connection refused: /0.0.0.0:40479
2019-09-24 12:05:22,987 WARN  impl.LogAppender (LogAppender.java:sendAppendEntriesWithRetries(274)) - s0@group-E7D5050F4609->s3-LogAppender: Failed to appendEntries (retry=831): org.apache.ratis.thirdparty.io.netty.channel.AbstractChannel$AnnotatedConnectException: Connection refused: /0.0.0.0:40479
2019-09-24 12:05:23,221 WARN  impl.LogAppender (LogAppender.java:sendAppendEntriesWithRetries(274)) - s0@group-E7D5050F4609->s3-LogAppender: Failed to appendEntries (retry=841): org.apache.ratis.thirdparty.io.netty.channel.AbstractChannel$AnnotatedConnectException: Connection refused: /0.0.0.0:40479
2019-09-24 12:05:23,455 WARN  impl.LogAppender (LogAppender.java:sendAppendEntriesWithRetries(274)) - s0@group-E7D5050F4609->s3-LogAppender: Failed to appendEntries (retry=851): org.apache.ratis.thirdparty.io.netty.channel.AbstractChannel$AnnotatedConnectException: Connection refused: /0.0.0.0:40479
2019-09-24 12:05:23,688 WARN  impl.LogAppender (LogAppender.java:sendAppendEntriesWithRetries(274)) - s0@group-E7D5050F4609->s3-LogAppender: Failed to appendEntries (retry=861): org.apache.ratis.thirdparty.io.netty.channel.AbstractChannel$AnnotatedConnectException: Connection refused: /0.0.0.0:40479
2019-09-24 12:05:23,923 WARN  impl.LogAppender (LogAppender.java:sendAppendEntriesWithRetries(274)) - s0@group-E7D5050F4609->s3-LogAppender: Failed to appendEntries (retry=871): org.apache.ratis.thirdparty.io.netty.channel.AbstractChannel$AnnotatedConnectException: Connection refused: /0.0.0.0:40479
2019-09-24 12:05:24,157 WARN  impl.LogAppender (LogAppender.java:sendAppendEntriesWithRetries(274)) - s0@group-E7D5050F4609->s3-LogAppender: Failed to appendEntries (retry=881): org.apache.ratis.thirdparty.io.netty.channel.AbstractChannel$AnnotatedConnectException: Connection refused: /0.0.0.0:40479
2019-09-24 12:05:24,391 WARN  impl.LogAppender (LogAppender.java:sendAppendEntriesWithRetries(274)) - s0@group-E7D5050F4609->s3-LogAppender: Failed to appendEntries (retry=891): org.apache.ratis.thirdparty.io.netty.channel.AbstractChannel$AnnotatedConnectException: Connection refused: /0.0.0.0:40479
2019-09-24 12:05:24,625 WARN  impl.LogAppender (LogAppender.java:sendAppendEntriesWithRetries(274)) - s0@group-E7D5050F4609->s3-LogAppender: Failed to appendEntries (retry=901): org.apache.ratis.thirdparty.io.netty.channel.AbstractChannel$AnnotatedConnectException: Connection refused: /0.0.0.0:40479
2019-09-24 12:05:24,859 WARN  impl.LogAppender (LogAppender.java:sendAppendEntriesWithRetries(274)) - s0@group-E7D5050F4609->s3-LogAppender: Failed to appendEntries (retry=911): org.apache.ratis.thirdparty.io.netty.channel.AbstractChannel$AnnotatedConnectException: Connection refused: /0.0.0.0:40479
2019-09-24 12:05:25,093 WARN  impl.LogAppender (LogAppender.java:sendAppendEntriesWithRetries(274)) - s0@group-E7D5050F4609->s3-LogAppender: Failed to appendEntries (retry=921): org.apache.ratis.thirdparty.io.netty.channel.AbstractChannel$AnnotatedConnectException: Connection refused: /0.0.0.0:40479
2019-09-24 12:05:25,327 WARN  impl.LogAppender (LogAppender.java:sendAppendEntriesWithRetries(274)) - s0@group-E7D5050F4609->s3-LogAppender: Failed to appendEntries (retry=931): org.apache.ratis.thirdparty.io.netty.channel.AbstractChannel$AnnotatedConnectException: Connection refused: /0.0.0.0:40479
2019-09-24 12:05:25,560 WARN  impl.LogAppender (LogAppender.java:sendAppendEntriesWithRetries(274)) - s0@group-E7D5050F4609->s3-LogAppender: Failed to appendEntries (retry=941): org.apache.ratis.thirdparty.io.netty.channel.AbstractChannel$AnnotatedConnectException: Connection refused: /0.0.0.0:40479
2019-09-24 12:05:25,794 WARN  impl.LogAppender (LogAppender.java:sendAppendEntriesWithRetries(274)) - s0@group-E7D5050F4609->s3-LogAppender: Failed to appendEntries (retry=951): org.apache.ratis.thirdparty.io.netty.channel.AbstractChannel$AnnotatedConnectException: Connection refused: /0.0.0.0:40479
2019-09-24 12:05:26,028 WARN  impl.LogAppender (LogAppender.java:sendAppendEntriesWithRetries(274)) - s0@group-E7D5050F4609->s3-LogAppender: Failed to appendEntries (retry=961): org.apache.ratis.thirdparty.io.netty.channel.AbstractChannel$AnnotatedConnectException: Connection refused: /0.0.0.0:40479
2019-09-24 12:05:26,262 WARN  impl.LogAppender (LogAppender.java:sendAppendEntriesWithRetries(274)) - s0@group-E7D5050F4609->s3-LogAppender: Failed to appendEntries (retry=971): org.apache.ratis.thirdparty.io.netty.channel.AbstractChannel$AnnotatedConnectException: Connection refused: /0.0.0.0:40479
2019-09-24 12:05:26,496 WARN  impl.LogAppender (LogAppender.java:sendAppendEntriesWithRetries(274)) - s0@group-E7D5050F4609->s3-LogAppender: Failed to appendEntries (retry=981): org.apache.ratis.thirdparty.io.netty.channel.AbstractChannel$AnnotatedConnectException: Connection refused: /0.0.0.0:40479
2019-09-24 12:05:26,729 WARN  impl.LogAppender (LogAppender.java:sendAppendEntriesWithRetries(274)) - s0@group-E7D5050F4609->s3-LogAppender: Failed to appendEntries (retry=991): org.apache.ratis.thirdparty.io.netty.channel.AbstractChannel$AnnotatedConnectException: Connection refused: /0.0.0.0:40479
2019-09-24 12:05:26,963 WARN  impl.LogAppender (LogAppender.java:sendAppendEntriesWithRetries(274)) - s0@group-E7D5050F4609->s3-LogAppender: Failed to appendEntries (retry=1001): org.apache.ratis.thirdparty.io.netty.channel.AbstractChannel$AnnotatedConnectException: Connection refused: /0.0.0.0:40479
2019-09-24 12:05:27,197 WARN  impl.LogAppender (LogAppender.java:sendAppendEntriesWithRetries(274)) - s0@group-E7D5050F4609->s3-LogAppender: Failed to appendEntries (retry=1011): org.apache.ratis.thirdparty.io.netty.channel.AbstractChannel$AnnotatedConnectException: Connection refused: /0.0.0.0:40479
2019-09-24 12:05:27,431 WARN  impl.LogAppender (LogAppender.java:sendAppendEntriesWithRetries(274)) - s0@group-E7D5050F4609->s3-LogAppender: Failed to appendEntries (retry=1021): org.apache.ratis.thirdparty.io.netty.channel.AbstractChannel$AnnotatedConnectException: Connection refused: /0.0.0.0:40479
2019-09-24 12:05:27,665 WARN  impl.LogAppender (LogAppender.java:sendAppendEntriesWithRetries(274)) - s0@group-E7D5050F4609->s3-LogAppender: Failed to appendEntries (retry=1031): org.apache.ratis.thirdparty.io.netty.channel.AbstractChannel$AnnotatedConnectException: Connection refused: /0.0.0.0:40479
2019-09-24 12:05:27,899 WARN  impl.LogAppender (LogAppender.java:sendAppendEntriesWithRetries(274)) - s0@group-E7D5050F4609->s3-LogAppender: Failed to appendEntries (retry=1041): org.apache.ratis.thirdparty.io.netty.channel.AbstractChannel$AnnotatedConnectException: Connection refused: /0.0.0.0:40479
2019-09-24 12:05:28,133 WARN  impl.LogAppender (LogAppender.java:sendAppendEntriesWithRetries(274)) - s0@group-E7D5050F4609->s3-LogAppender: Failed to appendEntries (retry=1051): org.apache.ratis.thirdparty.io.netty.channel.AbstractChannel$AnnotatedConnectException: Connection refused: /0.0.0.0:40479
2019-09-24 12:05:28,366 WARN  impl.LogAppender (LogAppender.java:sendAppendEntriesWithRetries(274)) - s0@group-E7D5050F4609->s3-LogAppender: Failed to appendEntries (retry=1061): org.apache.ratis.thirdparty.io.netty.channel.AbstractChannel$AnnotatedConnectException: Connection refused: /0.0.0.0:40479
2019-09-24 12:05:28,600 WARN  impl.LogAppender (LogAppender.java:sendAppendEntriesWithRetries(274)) - s0@group-E7D5050F4609->s3-LogAppender: Failed to appendEntries (retry=1071): org.apache.ratis.thirdparty.io.netty.channel.AbstractChannel$AnnotatedConnectException: Connection refused: /0.0.0.0:40479
2019-09-24 12:05:28,834 WARN  impl.LogAppender (LogAppender.java:sendAppendEntriesWithRetries(274)) - s0@group-E7D5050F4609->s3-LogAppender: Failed to appendEntries (retry=1081): org.apache.ratis.thirdparty.io.netty.channel.AbstractChannel$AnnotatedConnectException: Connection refused: /0.0.0.0:40479
2019-09-24 12:05:29,067 WARN  impl.LogAppender (LogAppender.java:sendAppendEntriesWithRetries(274)) - s0@group-E7D5050F4609->s3-LogAppender: Failed to appendEntries (retry=1091): org.apache.ratis.thirdparty.io.netty.channel.AbstractChannel$AnnotatedConnectException: Connection refused: /0.0.0.0:40479
2019-09-24 12:05:29,301 WARN  impl.LogAppender (LogAppender.java:sendAppendEntriesWithRetries(274)) - s0@group-E7D5050F4609->s3-LogAppender: Failed to appendEntries (retry=1101): org.apache.ratis.thirdparty.io.netty.channel.AbstractChannel$AnnotatedConnectException: Connection refused: /0.0.0.0:40479
2019-09-24 12:05:29,535 WARN  impl.LogAppender (LogAppender.java:sendAppendEntriesWithRetries(274)) - s0@group-E7D5050F4609->s3-LogAppender: Failed to appendEntries (retry=1111): org.apache.ratis.thirdparty.io.netty.channel.AbstractChannel$AnnotatedConnectException: Connection refused: /0.0.0.0:40479
2019-09-24 12:05:29,768 WARN  impl.LogAppender (LogAppender.java:sendAppendEntriesWithRetries(274)) - s0@group-E7D5050F4609->s3-LogAppender: Failed to appendEntries (retry=1121): org.apache.ratis.thirdparty.io.netty.channel.AbstractChannel$AnnotatedConnectException: Connection refused: /0.0.0.0:40479
2019-09-24 12:05:30,002 WARN  impl.LogAppender (LogAppender.java:sendAppendEntriesWithRetries(274)) - s0@group-E7D5050F4609->s3-LogAppender: Failed to appendEntries (retry=1131): org.apache.ratis.thirdparty.io.netty.channel.AbstractChannel$AnnotatedConnectException: Connection refused: /0.0.0.0:40479
2019-09-24 12:05:30,236 WARN  impl.LogAppender (LogAppender.java:sendAppendEntriesWithRetries(274)) - s0@group-E7D5050F4609->s3-LogAppender: Failed to appendEntries (retry=1141): org.apache.ratis.thirdparty.io.netty.channel.AbstractChannel$AnnotatedConnectException: Connection refused: /0.0.0.0:40479
2019-09-24 12:05:30,470 WARN  impl.LogAppender (LogAppender.java:sendAppendEntriesWithRetries(274)) - s0@group-E7D5050F4609->s3-LogAppender: Failed to appendEntries (retry=1151): org.apache.ratis.thirdparty.io.netty.channel.AbstractChannel$AnnotatedConnectException: Connection refused: /0.0.0.0:40479
2019-09-24 12:05:30,703 WARN  impl.LogAppender (LogAppender.java:sendAppendEntriesWithRetries(274)) - s0@group-E7D5050F4609->s3-LogAppender: Failed to appendEntries (retry=1161): org.apache.ratis.thirdparty.io.netty.channel.AbstractChannel$AnnotatedConnectException: Connection refused: /0.0.0.0:40479
2019-09-24 12:05:30,937 WARN  impl.LogAppender (LogAppender.java:sendAppendEntriesWithRetries(274)) - s0@group-E7D5050F4609->s3-LogAppender: Failed to appendEntries (retry=1171): org.apache.ratis.thirdparty.io.netty.channel.AbstractChannel$AnnotatedConnectException: Connection refused: /0.0.0.0:40479
2019-09-24 12:05:31,170 WARN  impl.LogAppender (LogAppender.java:sendAppendEntriesWithRetries(274)) - s0@group-E7D5050F4609->s3-LogAppender: Failed to appendEntries (retry=1181): org.apache.ratis.thirdparty.io.netty.channel.AbstractChannel$AnnotatedConnectException: Connection refused: /0.0.0.0:40479
2019-09-24 12:05:31,404 WARN  impl.LogAppender (LogAppender.java:sendAppendEntriesWithRetries(274)) - s0@group-E7D5050F4609->s3-LogAppender: Failed to appendEntries (retry=1191): org.apache.ratis.thirdparty.io.netty.channel.AbstractChannel$AnnotatedConnectException: Connection refused: /0.0.0.0:40479
2019-09-24 12:05:31,637 WARN  impl.LogAppender (LogAppender.java:sendAppendEntriesWithRetries(274)) - s0@group-E7D5050F4609->s3-LogAppender: Failed to appendEntries (retry=1201): org.apache.ratis.thirdparty.io.netty.channel.AbstractChannel$AnnotatedConnectException: Connection refused: /0.0.0.0:40479
2019-09-24 12:05:31,871 WARN  impl.LogAppender (LogAppender.java:sendAppendEntriesWithRetries(274)) - s0@group-E7D5050F4609->s3-LogAppender: Failed to appendEntries (retry=1211): org.apache.ratis.thirdparty.io.netty.channel.AbstractChannel$AnnotatedConnectException: Connection refused: /0.0.0.0:40479
2019-09-24 12:05:32,104 WARN  impl.LogAppender (LogAppender.java:sendAppendEntriesWithRetries(274)) - s0@group-E7D5050F4609->s3-LogAppender: Failed to appendEntries (retry=1221): org.apache.ratis.thirdparty.io.netty.channel.AbstractChannel$AnnotatedConnectException: Connection refused: /0.0.0.0:40479
2019-09-24 12:05:32,340 WARN  impl.LogAppender (LogAppender.java:sendAppendEntriesWithRetries(274)) - s0@group-E7D5050F4609->s3-LogAppender: Failed to appendEntries (retry=1231): org.apache.ratis.thirdparty.io.netty.channel.AbstractChannel$AnnotatedConnectException: Connection refused: /0.0.0.0:40479
2019-09-24 12:05:32,392 INFO  ratis.MiniRaftCluster (MiniRaftCluster.java:lambda$null$5(297)) - TIMED-PRINT: printing ALL groups
  s3:  CLOSING    LEADER s3@group-E7D5050F4609:t1, leader=s3, voted=s3, raftlog=s3@group-E7D5050F4609-SegmentedRaftLog:CLOSED:c-1, conf=0: [s3:0.0.0.0:40479, s4:0.0.0.0:43695, s0:0.0.0.0:44661, s1:0.0.0.0:36487, s2:0.0.0.0:42023], old=null CLOSED
  s4:  RUNNING  FOLLOWER s4@group-E7D5050F4609:t2, leader=s0, voted=s4, raftlog=s4@group-E7D5050F4609-SegmentedRaftLog:OPENED:c2,f2,i2, conf=1: [s3:0.0.0.0:40479, s4:0.0.0.0:43695, s0:0.0.0.0:44661, s1:0.0.0.0:36487, s2:0.0.0.0:42023], old=null RUNNING
  s0:  RUNNING    LEADER s0@group-E7D5050F4609:t2, leader=s0, voted=s0, raftlog=s0@group-E7D5050F4609-SegmentedRaftLog:OPENED:c2,f2,i2, conf=1: [s3:0.0.0.0:40479, s4:0.0.0.0:43695, s0:0.0.0.0:44661, s1:0.0.0.0:36487, s2:0.0.0.0:42023], old=null RUNNING
  s1:  RUNNING  FOLLOWER s1@group-E7D5050F4609:t2, leader=s0, voted=s0, raftlog=s1@group-E7D5050F4609-SegmentedRaftLog:OPENED:c2,f2,i2, conf=1: [s3:0.0.0.0:40479, s4:0.0.0.0:43695, s0:0.0.0.0:44661, s1:0.0.0.0:36487, s2:0.0.0.0:42023], old=null RUNNING
  s2:  RUNNING  FOLLOWER s2@group-E7D5050F4609:t2, leader=s0, voted=s0, raftlog=s2@group-E7D5050F4609-SegmentedRaftLog:OPENED:c2,f2,i2, conf=1: [s3:0.0.0.0:40479, s4:0.0.0.0:43695, s0:0.0.0.0:44661, s1:0.0.0.0:36487, s2:0.0.0.0:42023], old=null RUNNING
2019-09-24 12:05:32,575 WARN  impl.LogAppender (LogAppender.java:sendAppendEntriesWithRetries(274)) - s0@group-E7D5050F4609->s3-LogAppender: Failed to appendEntries (retry=1241): org.apache.ratis.thirdparty.io.netty.channel.AbstractChannel$AnnotatedConnectException: Connection refused: /0.0.0.0:40479
2019-09-24 12:05:32,808 WARN  impl.LogAppender (LogAppender.java:sendAppendEntriesWithRetries(274)) - s0@group-E7D5050F4609->s3-LogAppender: Failed to appendEntries (retry=1251): org.apache.ratis.thirdparty.io.netty.channel.AbstractChannel$AnnotatedConnectException: Connection refused: /0.0.0.0:40479
2019-09-24 12:05:33,041 WARN  impl.LogAppender (LogAppender.java:sendAppendEntriesWithRetries(274)) - s0@group-E7D5050F4609->s3-LogAppender: Failed to appendEntries (retry=1261): org.apache.ratis.thirdparty.io.netty.channel.AbstractChannel$AnnotatedConnectException: Connection refused: /0.0.0.0:40479
2019-09-24 12:05:33,275 WARN  impl.LogAppender (LogAppender.java:sendAppendEntriesWithRetries(274)) - s0@group-E7D5050F4609->s3-LogAppender: Failed to appendEntries (retry=1271): org.apache.ratis.thirdparty.io.netty.channel.AbstractChannel$AnnotatedConnectException: Connection refused: /0.0.0.0:40479
2019-09-24 12:05:33,509 WARN  impl.LogAppender (LogAppender.java:sendAppendEntriesWithRetries(274)) - s0@group-E7D5050F4609->s3-LogAppender: Failed to appendEntries (retry=1281): org.apache.ratis.thirdparty.io.netty.channel.AbstractChannel$AnnotatedConnectException: Connection refused: /0.0.0.0:40479
2019-09-24 12:05:33,743 WARN  impl.LogAppender (LogAppender.java:sendAppendEntriesWithRetries(274)) - s0@group-E7D5050F4609->s3-LogAppender: Failed to appendEntries (retry=1291): org.apache.ratis.thirdparty.io.netty.channel.AbstractChannel$AnnotatedConnectException: Connection refused: /0.0.0.0:40479
2019-09-24 12:05:33,977 WARN  impl.LogAppender (LogAppender.java:sendAppendEntriesWithRetries(274)) - s0@group-E7D5050F4609->s3-LogAppender: Failed to appendEntries (retry=1301): org.apache.ratis.thirdparty.io.netty.channel.AbstractChannel$AnnotatedConnectException: Connection refused: /0.0.0.0:40479
2019-09-24 12:05:34,210 WARN  impl.LogAppender (LogAppender.java:sendAppendEntriesWithRetries(274)) - s0@group-E7D5050F4609->s3-LogAppender: Failed to appendEntries (retry=1311): org.apache.ratis.thirdparty.io.netty.channel.AbstractChannel$AnnotatedConnectException: Connection refused: /0.0.0.0:40479
2019-09-24 12:05:34,444 WARN  impl.LogAppender (LogAppender.java:sendAppendEntriesWithRetries(274)) - s0@group-E7D5050F4609->s3-LogAppender: Failed to appendEntries (retry=1321): org.apache.ratis.thirdparty.io.netty.channel.AbstractChannel$AnnotatedConnectException: Connection refused: /0.0.0.0:40479
2019-09-24 12:05:34,678 WARN  impl.LogAppender (LogAppender.java:sendAppendEntriesWithRetries(274)) - s0@group-E7D5050F4609->s3-LogAppender: Failed to appendEntries (retry=1331): org.apache.ratis.thirdparty.io.netty.channel.AbstractChannel$AnnotatedConnectException: Connection refused: /0.0.0.0:40479
2019-09-24 12:05:34,911 WARN  impl.LogAppender (LogAppender.java:sendAppendEntriesWithRetries(274)) - s0@group-E7D5050F4609->s3-LogAppender: Failed to appendEntries (retry=1341): org.apache.ratis.thirdparty.io.netty.channel.AbstractChannel$AnnotatedConnectException: Connection refused: /0.0.0.0:40479
2019-09-24 12:05:35,145 WARN  impl.LogAppender (LogAppender.java:sendAppendEntriesWithRetries(274)) - s0@group-E7D5050F4609->s3-LogAppender: Failed to appendEntries (retry=1351): org.apache.ratis.thirdparty.io.netty.channel.AbstractChannel$AnnotatedConnectException: Connection refused: /0.0.0.0:40479
2019-09-24 12:05:35,378 WARN  impl.LogAppender (LogAppender.java:sendAppendEntriesWithRetries(274)) - s0@group-E7D5050F4609->s3-LogAppender: Failed to appendEntries (retry=1361): org.apache.ratis.thirdparty.io.netty.channel.AbstractChannel$AnnotatedConnectException: Connection refused: /0.0.0.0:40479
2019-09-24 12:05:35,612 WARN  impl.LogAppender (LogAppender.java:sendAppendEntriesWithRetries(274)) - s0@group-E7D5050F4609->s3-LogAppender: Failed to appendEntries (retry=1371): org.apache.ratis.thirdparty.io.netty.channel.AbstractChannel$AnnotatedConnectException: Connection refused: /0.0.0.0:40479
2019-09-24 12:05:35,845 WARN  impl.LogAppender (LogAppender.java:sendAppendEntriesWithRetries(274)) - s0@group-E7D5050F4609->s3-LogAppender: Failed to appendEntries (retry=1381): org.apache.ratis.thirdparty.io.netty.channel.AbstractChannel$AnnotatedConnectException: Connection refused: /0.0.0.0:40479
2019-09-24 12:05:36,079 WARN  impl.LogAppender (LogAppender.java:sendAppendEntriesWithRetries(274)) - s0@group-E7D5050F4609->s3-LogAppender: Failed to appendEntries (retry=1391): org.apache.ratis.thirdparty.io.netty.channel.AbstractChannel$AnnotatedConnectException: Connection refused: /0.0.0.0:40479
2019-09-24 12:05:36,312 WARN  impl.LogAppender (LogAppender.java:sendAppendEntriesWithRetries(274)) - s0@group-E7D5050F4609->s3-LogAppender: Failed to appendEntries (retry=1401): org.apache.ratis.thirdparty.io.netty.channel.AbstractChannel$AnnotatedConnectException: Connection refused: /0.0.0.0:40479
2019-09-24 12:05:36,545 WARN  impl.LogAppender (LogAppender.java:sendAppendEntriesWithRetries(274)) - s0@group-E7D5050F4609->s3-LogAppender: Failed to appendEntries (retry=1411): org.apache.ratis.thirdparty.io.netty.channel.AbstractChannel$AnnotatedConnectException: Connection refused: /0.0.0.0:40479
2019-09-24 12:05:36,780 WARN  impl.LogAppender (LogAppender.java:sendAppendEntriesWithRetries(274)) - s0@group-E7D5050F4609->s3-LogAppender: Failed to appendEntries (retry=1421): org.apache.ratis.thirdparty.io.netty.channel.AbstractChannel$AnnotatedConnectException: Connection refused: /0.0.0.0:40479
2019-09-24 12:05:37,013 WARN  impl.LogAppender (LogAppender.java:sendAppendEntriesWithRetries(274)) - s0@group-E7D5050F4609->s3-LogAppender: Failed to appendEntries (retry=1431): org.apache.ratis.thirdparty.io.netty.channel.AbstractChannel$AnnotatedConnectException: Connection refused: /0.0.0.0:40479
2019-09-24 12:05:37,247 WARN  impl.LogAppender (LogAppender.java:sendAppendEntriesWithRetries(274)) - s0@group-E7D5050F4609->s3-LogAppender: Failed to appendEntries (retry=1441): org.apache.ratis.thirdparty.io.netty.channel.AbstractChannel$AnnotatedConnectException: Connection refused: /0.0.0.0:40479
2019-09-24 12:05:37,481 WARN  impl.LogAppender (LogAppender.java:sendAppendEntriesWithRetries(274)) - s0@group-E7D5050F4609->s3-LogAppender: Failed to appendEntries (retry=1451): org.apache.ratis.thirdparty.io.netty.channel.AbstractChannel$AnnotatedConnectException: Connection refused: /0.0.0.0:40479
2019-09-24 12:05:37,715 WARN  impl.LogAppender (LogAppender.java:sendAppendEntriesWithRetries(274)) - s0@group-E7D5050F4609->s3-LogAppender: Failed to appendEntries (retry=1461): org.apache.ratis.thirdparty.io.netty.channel.AbstractChannel$AnnotatedConnectException: Connection refused: /0.0.0.0:40479
2019-09-24 12:05:37,948 WARN  impl.LogAppender (LogAppender.java:sendAppendEntriesWithRetries(274)) - s0@group-E7D5050F4609->s3-LogAppender: Failed to appendEntries (retry=1471): org.apache.ratis.thirdparty.io.netty.channel.AbstractChannel$AnnotatedConnectException: Connection refused: /0.0.0.0:40479
2019-09-24 12:05:38,181 WARN  impl.LogAppender (LogAppender.java:sendAppendEntriesWithRetries(274)) - s0@group-E7D5050F4609->s3-LogAppender: Failed to appendEntries (retry=1481): org.apache.ratis.thirdparty.io.netty.channel.AbstractChannel$AnnotatedConnectException: Connection refused: /0.0.0.0:40479
2019-09-24 12:05:38,415 WARN  impl.LogAppender (LogAppender.java:sendAppendEntriesWithRetries(274)) - s0@group-E7D5050F4609->s3-LogAppender: Failed to appendEntries (retry=1491): org.apache.ratis.thirdparty.io.netty.channel.AbstractChannel$AnnotatedConnectException: Connection refused: /0.0.0.0:40479
2019-09-24 12:05:38,648 WARN  impl.LogAppender (LogAppender.java:sendAppendEntriesWithRetries(274)) - s0@group-E7D5050F4609->s3-LogAppender: Failed to appendEntries (retry=1501): org.apache.ratis.thirdparty.io.netty.channel.AbstractChannel$AnnotatedConnectException: Connection refused: /0.0.0.0:40479
2019-09-24 12:05:38,882 WARN  impl.LogAppender (LogAppender.java:sendAppendEntriesWithRetries(274)) - s0@group-E7D5050F4609->s3-LogAppender: Failed to appendEntries (retry=1511): org.apache.ratis.thirdparty.io.netty.channel.AbstractChannel$AnnotatedConnectException: Connection refused: /0.0.0.0:40479
2019-09-24 12:05:39,115 WARN  impl.LogAppender (LogAppender.java:sendAppendEntriesWithRetries(274)) - s0@group-E7D5050F4609->s3-LogAppender: Failed to appendEntries (retry=1521): org.apache.ratis.thirdparty.io.netty.channel.AbstractChannel$AnnotatedConnectException: Connection refused: /0.0.0.0:40479
2019-09-24 12:05:39,348 WARN  impl.LogAppender (LogAppender.java:sendAppendEntriesWithRetries(274)) - s0@group-E7D5050F4609->s3-LogAppender: Failed to appendEntries (retry=1531): org.apache.ratis.thirdparty.io.netty.channel.AbstractChannel$AnnotatedConnectException: Connection refused: /0.0.0.0:40479
2019-09-24 12:05:39,582 WARN  impl.LogAppender (LogAppender.java:sendAppendEntriesWithRetries(274)) - s0@group-E7D5050F4609->s3-LogAppender: Failed to appendEntries (retry=1541): org.apache.ratis.thirdparty.io.netty.channel.AbstractChannel$AnnotatedConnectException: Connection refused: /0.0.0.0:40479
2019-09-24 12:05:39,815 WARN  impl.LogAppender (LogAppender.java:sendAppendEntriesWithRetries(274)) - s0@group-E7D5050F4609->s3-LogAppender: Failed to appendEntries (retry=1551): org.apache.ratis.thirdparty.io.netty.channel.AbstractChannel$AnnotatedConnectException: Connection refused: /0.0.0.0:40479
2019-09-24 12:05:40,049 WARN  impl.LogAppender (LogAppender.java:sendAppendEntriesWithRetries(274)) - s0@group-E7D5050F4609->s3-LogAppender: Failed to appendEntries (retry=1561): org.apache.ratis.thirdparty.io.netty.channel.AbstractChannel$AnnotatedConnectException: Connection refused: /0.0.0.0:40479
2019-09-24 12:05:40,282 WARN  impl.LogAppender (LogAppender.java:sendAppendEntriesWithRetries(274)) - s0@group-E7D5050F4609->s3-LogAppender: Failed to appendEntries (retry=1571): org.apache.ratis.thirdparty.io.netty.channel.AbstractChannel$AnnotatedConnectException: Connection refused: /0.0.0.0:40479
2019-09-24 12:05:40,515 WARN  impl.LogAppender (LogAppender.java:sendAppendEntriesWithRetries(274)) - s0@group-E7D5050F4609->s3-LogAppender: Failed to appendEntries (retry=1581): org.apache.ratis.thirdparty.io.netty.channel.AbstractChannel$AnnotatedConnectException: Connection refused: /0.0.0.0:40479
2019-09-24 12:05:40,749 WARN  impl.LogAppender (LogAppender.java:sendAppendEntriesWithRetries(274)) - s0@group-E7D5050F4609->s3-LogAppender: Failed to appendEntries (retry=1591): org.apache.ratis.thirdparty.io.netty.channel.AbstractChannel$AnnotatedConnectException: Connection refused: /0.0.0.0:40479
2019-09-24 12:05:40,982 WARN  impl.LogAppender (LogAppender.java:sendAppendEntriesWithRetries(274)) - s0@group-E7D5050F4609->s3-LogAppender: Failed to appendEntries (retry=1601): org.apache.ratis.thirdparty.io.netty.channel.AbstractChannel$AnnotatedConnectException: Connection refused: /0.0.0.0:40479
2019-09-24 12:05:41,216 WARN  impl.LogAppender (LogAppender.java:sendAppendEntriesWithRetries(274)) - s0@group-E7D5050F4609->s3-LogAppender: Failed to appendEntries (retry=1611): org.apache.ratis.thirdparty.io.netty.channel.AbstractChannel$AnnotatedConnectException: Connection refused: /0.0.0.0:40479
2019-09-24 12:05:41,449 WARN  impl.LogAppender (LogAppender.java:sendAppendEntriesWithRetries(274)) - s0@group-E7D5050F4609->s3-LogAppender: Failed to appendEntries (retry=1621): org.apache.ratis.thirdparty.io.netty.channel.AbstractChannel$AnnotatedConnectException: Connection refused: /0.0.0.0:40479
2019-09-24 12:05:41,683 WARN  impl.LogAppender (LogAppender.java:sendAppendEntriesWithRetries(274)) - s0@group-E7D5050F4609->s3-LogAppender: Failed to appendEntries (retry=1631): org.apache.ratis.thirdparty.io.netty.channel.AbstractChannel$AnnotatedConnectException: Connection refused: /0.0.0.0:40479
2019-09-24 12:05:41,917 WARN  impl.LogAppender (LogAppender.java:sendAppendEntriesWithRetries(274)) - s0@group-E7D5050F4609->s3-LogAppender: Failed to appendEntries (retry=1641): org.apache.ratis.thirdparty.io.netty.channel.AbstractChannel$AnnotatedConnectException: Connection refused: /0.0.0.0:40479
2019-09-24 12:05:42,151 WARN  impl.LogAppender (LogAppender.java:sendAppendEntriesWithRetries(274)) - s0@group-E7D5050F4609->s3-LogAppender: Failed to appendEntries (retry=1651): org.apache.ratis.thirdparty.io.netty.channel.AbstractChannel$AnnotatedConnectException: Connection refused: /0.0.0.0:40479
2019-09-24 12:05:42,385 WARN  impl.LogAppender (LogAppender.java:sendAppendEntriesWithRetries(274)) - s0@group-E7D5050F4609->s3-LogAppender: Failed to appendEntries (retry=1661): org.apache.ratis.thirdparty.io.netty.channel.AbstractChannel$AnnotatedConnectException: Connection refused: /0.0.0.0:40479
2019-09-24 12:05:42,392 INFO  ratis.MiniRaftCluster (MiniRaftCluster.java:lambda$null$5(297)) - TIMED-PRINT: printing ALL groups
  s3:  CLOSING    LEADER s3@group-E7D5050F4609:t1, leader=s3, voted=s3, raftlog=s3@group-E7D5050F4609-SegmentedRaftLog:CLOSED:c-1, conf=0: [s3:0.0.0.0:40479, s4:0.0.0.0:43695, s0:0.0.0.0:44661, s1:0.0.0.0:36487, s2:0.0.0.0:42023], old=null CLOSED
  s4:  RUNNING  FOLLOWER s4@group-E7D5050F4609:t2, leader=s0, voted=s4, raftlog=s4@group-E7D5050F4609-SegmentedRaftLog:OPENED:c2,f2,i2, conf=1: [s3:0.0.0.0:40479, s4:0.0.0.0:43695, s0:0.0.0.0:44661, s1:0.0.0.0:36487, s2:0.0.0.0:42023], old=null RUNNING
  s0:  RUNNING    LEADER s0@group-E7D5050F4609:t2, leader=s0, voted=s0, raftlog=s0@group-E7D5050F4609-SegmentedRaftLog:OPENED:c2,f2,i2, conf=1: [s3:0.0.0.0:40479, s4:0.0.0.0:43695, s0:0.0.0.0:44661, s1:0.0.0.0:36487, s2:0.0.0.0:42023], old=null RUNNING
  s1:  RUNNING  FOLLOWER s1@group-E7D5050F4609:t2, leader=s0, voted=s0, raftlog=s1@group-E7D5050F4609-SegmentedRaftLog:OPENED:c2,f2,i2, conf=1: [s3:0.0.0.0:40479, s4:0.0.0.0:43695, s0:0.0.0.0:44661, s1:0.0.0.0:36487, s2:0.0.0.0:42023], old=null RUNNING
  s2:  RUNNING  FOLLOWER s2@group-E7D5050F4609:t2, leader=s0, voted=s0, raftlog=s2@group-E7D5050F4609-SegmentedRaftLog:OPENED:c2,f2,i2, conf=1: [s3:0.0.0.0:40479, s4:0.0.0.0:43695, s0:0.0.0.0:44661, s1:0.0.0.0:36487, s2:0.0.0.0:42023], old=null RUNNING
2019-09-24 12:05:42,618 WARN  impl.LogAppender (LogAppender.java:sendAppendEntriesWithRetries(274)) - s0@group-E7D5050F4609->s3-LogAppender: Failed to appendEntries (retry=1671): org.apache.ratis.thirdparty.io.netty.channel.AbstractChannel$AnnotatedConnectException: Connection refused: /0.0.0.0:40479
2019-09-24 12:05:42,852 WARN  impl.LogAppender (LogAppender.java:sendAppendEntriesWithRetries(274)) - s0@group-E7D5050F4609->s3-LogAppender: Failed to appendEntries (retry=1681): org.apache.ratis.thirdparty.io.netty.channel.AbstractChannel$AnnotatedConnectException: Connection refused: /0.0.0.0:40479
2019-09-24 12:05:43,085 WARN  impl.LogAppender (LogAppender.java:sendAppendEntriesWithRetries(274)) - s0@group-E7D5050F4609->s3-LogAppender: Failed to appendEntries (retry=1691): org.apache.ratis.thirdparty.io.netty.channel.AbstractChannel$AnnotatedConnectException: Connection refused: /0.0.0.0:40479
2019-09-24 12:05:43,319 WARN  impl.LogAppender (LogAppender.java:sendAppendEntriesWithRetries(274)) - s0@group-E7D5050F4609->s3-LogAppender: Failed to appendEntries (retry=1701): org.apache.ratis.thirdparty.io.netty.channel.AbstractChannel$AnnotatedConnectException: Connection refused: /0.0.0.0:40479
2019-09-24 12:05:43,552 WARN  impl.LogAppender (LogAppender.java:sendAppendEntriesWithRetries(274)) - s0@group-E7D5050F4609->s3-LogAppender: Failed to appendEntries (retry=1711): org.apache.ratis.thirdparty.io.netty.channel.AbstractChannel$AnnotatedConnectException: Connection refused: /0.0.0.0:40479
2019-09-24 12:05:43,786 WARN  impl.LogAppender (LogAppender.java:sendAppendEntriesWithRetries(274)) - s0@group-E7D5050F4609->s3-LogAppender: Failed to appendEntries (retry=1721): org.apache.ratis.thirdparty.io.netty.channel.AbstractChannel$AnnotatedConnectException: Connection refused: /0.0.0.0:40479
2019-09-24 12:05:44,020 WARN  impl.LogAppender (LogAppender.java:sendAppendEntriesWithRetries(274)) - s0@group-E7D5050F4609->s3-LogAppender: Failed to appendEntries (retry=1731): org.apache.ratis.thirdparty.io.netty.channel.AbstractChannel$AnnotatedConnectException: Connection refused: /0.0.0.0:40479
2019-09-24 12:05:44,255 WARN  impl.LogAppender (LogAppender.java:sendAppendEntriesWithRetries(274)) - s0@group-E7D5050F4609->s3-LogAppender: Failed to appendEntries (retry=1741): org.apache.ratis.thirdparty.io.netty.channel.AbstractChannel$AnnotatedConnectException: Connection refused: /0.0.0.0:40479
2019-09-24 12:05:44,488 WARN  impl.LogAppender (LogAppender.java:sendAppendEntriesWithRetries(274)) - s0@group-E7D5050F4609->s3-LogAppender: Failed to appendEntries (retry=1751): org.apache.ratis.thirdparty.io.netty.channel.AbstractChannel$AnnotatedConnectException: Connection refused: /0.0.0.0:40479
2019-09-24 12:05:44,722 WARN  impl.LogAppender (LogAppender.java:sendAppendEntriesWithRetries(274)) - s0@group-E7D5050F4609->s3-LogAppender: Failed to appendEntries (retry=1761): org.apache.ratis.thirdparty.io.netty.channel.AbstractChannel$AnnotatedConnectException: Connection refused: /0.0.0.0:40479
2019-09-24 12:05:44,955 WARN  impl.LogAppender (LogAppender.java:sendAppendEntriesWithRetries(274)) - s0@group-E7D5050F4609->s3-LogAppender: Failed to appendEntries (retry=1771): org.apache.ratis.thirdparty.io.netty.channel.AbstractChannel$AnnotatedConnectException: Connection refused: /0.0.0.0:40479
2019-09-24 12:05:45,188 WARN  impl.LogAppender (LogAppender.java:sendAppendEntriesWithRetries(274)) - s0@group-E7D5050F4609->s3-LogAppender: Failed to appendEntries (retry=1781): org.apache.ratis.thirdparty.io.netty.channel.AbstractChannel$AnnotatedConnectException: Connection refused: /0.0.0.0:40479
2019-09-24 12:05:45,422 WARN  impl.LogAppender (LogAppender.java:sendAppendEntriesWithRetries(274)) - s0@group-E7D5050F4609->s3-LogAppender: Failed to appendEntries (retry=1791): org.apache.ratis.thirdparty.io.netty.channel.AbstractChannel$AnnotatedConnectException: Connection refused: /0.0.0.0:40479
2019-09-24 12:05:45,655 WARN  impl.LogAppender (LogAppender.java:sendAppendEntriesWithRetries(274)) - s0@group-E7D5050F4609->s3-LogAppender: Failed to appendEntries (retry=1801): org.apache.ratis.thirdparty.io.netty.channel.AbstractChannel$AnnotatedConnectException: Connection refused: /0.0.0.0:40479
2019-09-24 12:05:45,888 WARN  impl.LogAppender (LogAppender.java:sendAppendEntriesWithRetries(274)) - s0@group-E7D5050F4609->s3-LogAppender: Failed to appendEntries (retry=1811): org.apache.ratis.thirdparty.io.netty.channel.AbstractChannel$AnnotatedConnectException: Connection refused: /0.0.0.0:40479
2019-09-24 12:05:46,122 WARN  impl.LogAppender (LogAppender.java:sendAppendEntriesWithRetries(274)) - s0@group-E7D5050F4609->s3-LogAppender: Failed to appendEntries (retry=1821): org.apache.ratis.thirdparty.io.netty.channel.AbstractChannel$AnnotatedConnectException: Connection refused: /0.0.0.0:40479
2019-09-24 12:05:46,355 WARN  impl.LogAppender (LogAppender.java:sendAppendEntriesWithRetries(274)) - s0@group-E7D5050F4609->s3-LogAppender: Failed to appendEntries (retry=1831): org.apache.ratis.thirdparty.io.netty.channel.AbstractChannel$AnnotatedConnectException: Connection refused: /0.0.0.0:40479
2019-09-24 12:05:46,588 WARN  impl.LogAppender (LogAppender.java:sendAppendEntriesWithRetries(274)) - s0@group-E7D5050F4609->s3-LogAppender: Failed to appendEntries (retry=1841): org.apache.ratis.thirdparty.io.netty.channel.AbstractChannel$AnnotatedConnectException: Connection refused: /0.0.0.0:40479
2019-09-24 12:05:46,822 WARN  impl.LogAppender (LogAppender.java:sendAppendEntriesWithRetries(274)) - s0@group-E7D5050F4609->s3-LogAppender: Failed to appendEntries (retry=1851): org.apache.ratis.thirdparty.io.netty.channel.AbstractChannel$AnnotatedConnectException: Connection refused: /0.0.0.0:40479
2019-09-24 12:05:47,056 WARN  impl.LogAppender (LogAppender.java:sendAppendEntriesWithRetries(274)) - s0@group-E7D5050F4609->s3-LogAppender: Failed to appendEntries (retry=1861): org.apache.ratis.thirdparty.io.netty.channel.AbstractChannel$AnnotatedConnectException: Connection refused: /0.0.0.0:40479
2019-09-24 12:05:47,289 WARN  impl.LogAppender (LogAppender.java:sendAppendEntriesWithRetries(274)) - s0@group-E7D5050F4609->s3-LogAppender: Failed to appendEntries (retry=1871): org.apache.ratis.thirdparty.io.netty.channel.AbstractChannel$AnnotatedConnectException: Connection refused: /0.0.0.0:40479
2019-09-24 12:05:47,522 WARN  impl.LogAppender (LogAppender.java:sendAppendEntriesWithRetries(274)) - s0@group-E7D5050F4609->s3-LogAppender: Failed to appendEntries (retry=1881): org.apache.ratis.thirdparty.io.netty.channel.AbstractChannel$AnnotatedConnectException: Connection refused: /0.0.0.0:40479
2019-09-24 12:05:47,756 WARN  impl.LogAppender (LogAppender.java:sendAppendEntriesWithRetries(274)) - s0@group-E7D5050F4609->s3-LogAppender: Failed to appendEntries (retry=1891): org.apache.ratis.thirdparty.io.netty.channel.AbstractChannel$AnnotatedConnectException: Connection refused: /0.0.0.0:40479
2019-09-24 12:05:47,989 WARN  impl.LogAppender (LogAppender.java:sendAppendEntriesWithRetries(274)) - s0@group-E7D5050F4609->s3-LogAppender: Failed to appendEntries (retry=1901): org.apache.ratis.thirdparty.io.netty.channel.AbstractChannel$AnnotatedConnectException: Connection refused: /0.0.0.0:40479
2019-09-24 12:05:48,222 WARN  impl.LogAppender (LogAppender.java:sendAppendEntriesWithRetries(274)) - s0@group-E7D5050F4609->s3-LogAppender: Failed to appendEntries (retry=1911): org.apache.ratis.thirdparty.io.netty.channel.AbstractChannel$AnnotatedConnectException: Connection refused: /0.0.0.0:40479
2019-09-24 12:05:48,456 WARN  impl.LogAppender (LogAppender.java:sendAppendEntriesWithRetries(274)) - s0@group-E7D5050F4609->s3-LogAppender: Failed to appendEntries (retry=1921): org.apache.ratis.thirdparty.io.netty.channel.AbstractChannel$AnnotatedConnectException: Connection refused: /0.0.0.0:40479
2019-09-24 12:05:48,689 WARN  impl.LogAppender (LogAppender.java:sendAppendEntriesWithRetries(274)) - s0@group-E7D5050F4609->s3-LogAppender: Failed to appendEntries (retry=1931): org.apache.ratis.thirdparty.io.netty.channel.AbstractChannel$AnnotatedConnectException: Connection refused: /0.0.0.0:40479
2019-09-24 12:05:48,922 WARN  impl.LogAppender (LogAppender.java:sendAppendEntriesWithRetries(274)) - s0@group-E7D5050F4609->s3-LogAppender: Failed to appendEntries (retry=1941): org.apache.ratis.thirdparty.io.netty.channel.AbstractChannel$AnnotatedConnectException: Connection refused: /0.0.0.0:40479
2019-09-24 12:05:49,156 WARN  impl.LogAppender (LogAppender.java:sendAppendEntriesWithRetries(274)) - s0@group-E7D5050F4609->s3-LogAppender: Failed to appendEntries (retry=1951): org.apache.ratis.thirdparty.io.netty.channel.AbstractChannel$AnnotatedConnectException: Connection refused: /0.0.0.0:40479
2019-09-24 12:05:49,389 WARN  impl.LogAppender (LogAppender.java:sendAppendEntriesWithRetries(274)) - s0@group-E7D5050F4609->s3-LogAppender: Failed to appendEntries (retry=1961): org.apache.ratis.thirdparty.io.netty.channel.AbstractChannel$AnnotatedConnectException: Connection refused: /0.0.0.0:40479
2019-09-24 12:05:49,623 WARN  impl.LogAppender (LogAppender.java:sendAppendEntriesWithRetries(274)) - s0@group-E7D5050F4609->s3-LogAppender: Failed to appendEntries (retry=1971): org.apache.ratis.thirdparty.io.netty.channel.AbstractChannel$AnnotatedConnectException: Connection refused: /0.0.0.0:40479
2019-09-24 12:05:49,856 WARN  impl.LogAppender (LogAppender.java:sendAppendEntriesWithRetries(274)) - s0@group-E7D5050F4609->s3-LogAppender: Failed to appendEntries (retry=1981): org.apache.ratis.thirdparty.io.netty.channel.AbstractChannel$AnnotatedConnectException: Connection refused: /0.0.0.0:40479
2019-09-24 12:05:50,090 WARN  impl.LogAppender (LogAppender.java:sendAppendEntriesWithRetries(274)) - s0@group-E7D5050F4609->s3-LogAppender: Failed to appendEntries (retry=1991): org.apache.ratis.thirdparty.io.netty.channel.AbstractChannel$AnnotatedConnectException: Connection refused: /0.0.0.0:40479
2019-09-24 12:05:50,324 WARN  impl.LogAppender (LogAppender.java:sendAppendEntriesWithRetries(274)) - s0@group-E7D5050F4609->s3-LogAppender: Failed to appendEntries (retry=2001): org.apache.ratis.thirdparty.io.netty.channel.AbstractChannel$AnnotatedConnectException: Connection refused: /0.0.0.0:40479
2019-09-24 12:05:50,557 WARN  impl.LogAppender (LogAppender.java:sendAppendEntriesWithRetries(274)) - s0@group-E7D5050F4609->s3-LogAppender: Failed to appendEntries (retry=2011): org.apache.ratis.thirdparty.io.netty.channel.AbstractChannel$AnnotatedConnectException: Connection refused: /0.0.0.0:40479
2019-09-24 12:05:50,790 WARN  impl.LogAppender (LogAppender.java:sendAppendEntriesWithRetries(274)) - s0@group-E7D5050F4609->s3-LogAppender: Failed to appendEntries (retry=2021): org.apache.ratis.thirdparty.io.netty.channel.AbstractChannel$AnnotatedConnectException: Connection refused: /0.0.0.0:40479
2019-09-24 12:05:51,024 WARN  impl.LogAppender (LogAppender.java:sendAppendEntriesWithRetries(274)) - s0@group-E7D5050F4609->s3-LogAppender: Failed to appendEntries (retry=2031): org.apache.ratis.thirdparty.io.netty.channel.AbstractChannel$AnnotatedConnectException: Connection refused: /0.0.0.0:40479
2019-09-24 12:05:51,259 WARN  impl.LogAppender (LogAppender.java:sendAppendEntriesWithRetries(274)) - s0@group-E7D5050F4609->s3-LogAppender: Failed to appendEntries (retry=2041): org.apache.ratis.thirdparty.io.netty.channel.AbstractChannel$AnnotatedConnectException: Connection refused: /0.0.0.0:40479
2019-09-24 12:05:51,492 WARN  impl.LogAppender (LogAppender.java:sendAppendEntriesWithRetries(274)) - s0@group-E7D5050F4609->s3-LogAppender: Failed to appendEntries (retry=2051): org.apache.ratis.thirdparty.io.netty.channel.AbstractChannel$AnnotatedConnectException: Connection refused: /0.0.0.0:40479
2019-09-24 12:05:51,726 WARN  impl.LogAppender (LogAppender.java:sendAppendEntriesWithRetries(274)) - s0@group-E7D5050F4609->s3-LogAppender: Failed to appendEntries (retry=2061): org.apache.ratis.thirdparty.io.netty.channel.AbstractChannel$AnnotatedConnectException: Connection refused: /0.0.0.0:40479
2019-09-24 12:05:51,959 WARN  impl.LogAppender (LogAppender.java:sendAppendEntriesWithRetries(274)) - s0@group-E7D5050F4609->s3-LogAppender: Failed to appendEntries (retry=2071): org.apache.ratis.thirdparty.io.netty.channel.AbstractChannel$AnnotatedConnectException: Connection refused: /0.0.0.0:40479
2019-09-24 12:05:52,192 WARN  impl.LogAppender (LogAppender.java:sendAppendEntriesWithRetries(274)) - s0@group-E7D5050F4609->s3-LogAppender: Failed to appendEntries (retry=2081): org.apache.ratis.thirdparty.io.netty.channel.AbstractChannel$AnnotatedConnectException: Connection refused: /0.0.0.0:40479
2019-09-24 12:05:52,392 INFO  ratis.MiniRaftCluster (MiniRaftCluster.java:lambda$null$5(297)) - TIMED-PRINT: printing ALL groups
  s3:  CLOSING    LEADER s3@group-E7D5050F4609:t1, leader=s3, voted=s3, raftlog=s3@group-E7D5050F4609-SegmentedRaftLog:CLOSED:c-1, conf=0: [s3:0.0.0.0:40479, s4:0.0.0.0:43695, s0:0.0.0.0:44661, s1:0.0.0.0:36487, s2:0.0.0.0:42023], old=null CLOSED
  s4:  RUNNING  FOLLOWER s4@group-E7D5050F4609:t2, leader=s0, voted=s4, raftlog=s4@group-E7D5050F4609-SegmentedRaftLog:OPENED:c2,f2,i2, conf=1: [s3:0.0.0.0:40479, s4:0.0.0.0:43695, s0:0.0.0.0:44661, s1:0.0.0.0:36487, s2:0.0.0.0:42023], old=null RUNNING
  s0:  RUNNING    LEADER s0@group-E7D5050F4609:t2, leader=s0, voted=s0, raftlog=s0@group-E7D5050F4609-SegmentedRaftLog:OPENED:c2,f2,i2, conf=1: [s3:0.0.0.0:40479, s4:0.0.0.0:43695, s0:0.0.0.0:44661, s1:0.0.0.0:36487, s2:0.0.0.0:42023], old=null RUNNING
  s1:  RUNNING  FOLLOWER s1@group-E7D5050F4609:t2, leader=s0, voted=s0, raftlog=s1@group-E7D5050F4609-SegmentedRaftLog:OPENED:c2,f2,i2, conf=1: [s3:0.0.0.0:40479, s4:0.0.0.0:43695, s0:0.0.0.0:44661, s1:0.0.0.0:36487, s2:0.0.0.0:42023], old=null RUNNING
  s2:  RUNNING  FOLLOWER s2@group-E7D5050F4609:t2, leader=s0, voted=s0, raftlog=s2@group-E7D5050F4609-SegmentedRaftLog:OPENED:c2,f2,i2, conf=1: [s3:0.0.0.0:40479, s4:0.0.0.0:43695, s0:0.0.0.0:44661, s1:0.0.0.0:36487, s2:0.0.0.0:42023], old=null RUNNING
2019-09-24 12:05:52,425 WARN  impl.LogAppender (LogAppender.java:sendAppendEntriesWithRetries(274)) - s0@group-E7D5050F4609->s3-LogAppender: Failed to appendEntries (retry=2091): org.apache.ratis.thirdparty.io.netty.channel.AbstractChannel$AnnotatedConnectException: Connection refused: /0.0.0.0:40479
2019-09-24 12:05:52,659 WARN  impl.LogAppender (LogAppender.java:sendAppendEntriesWithRetries(274)) - s0@group-E7D5050F4609->s3-LogAppender: Failed to appendEntries (retry=2101): org.apache.ratis.thirdparty.io.netty.channel.AbstractChannel$AnnotatedConnectException: Connection refused: /0.0.0.0:40479
2019-09-24 12:05:52,892 WARN  impl.LogAppender (LogAppender.java:sendAppendEntriesWithRetries(274)) - s0@group-E7D5050F4609->s3-LogAppender: Failed to appendEntries (retry=2111): org.apache.ratis.thirdparty.io.netty.channel.AbstractChannel$AnnotatedConnectException: Connection refused: /0.0.0.0:40479
2019-09-24 12:05:53,126 WARN  impl.LogAppender (LogAppender.java:sendAppendEntriesWithRetries(274)) - s0@group-E7D5050F4609->s3-LogAppender: Failed to appendEntries (retry=2121): org.apache.ratis.thirdparty.io.netty.channel.AbstractChannel$AnnotatedConnectException: Connection refused: /0.0.0.0:40479
2019-09-24 12:05:53,360 WARN  impl.LogAppender (LogAppender.java:sendAppendEntriesWithRetries(274)) - s0@group-E7D5050F4609->s3-LogAppender: Failed to appendEntries (retry=2131): org.apache.ratis.thirdparty.io.netty.channel.AbstractChannel$AnnotatedConnectException: Connection refused: /0.0.0.0:40479
2019-09-24 12:05:53,593 WARN  impl.LogAppender (LogAppender.java:sendAppendEntriesWithRetries(274)) - s0@group-E7D5050F4609->s3-LogAppender: Failed to appendEntries (retry=2141): org.apache.ratis.thirdparty.io.netty.channel.AbstractChannel$AnnotatedConnectException: Connection refused: /0.0.0.0:40479
2019-09-24 12:05:53,826 WARN  impl.LogAppender (LogAppender.java:sendAppendEntriesWithRetries(274)) - s0@group-E7D5050F4609->s3-LogAppender: Failed to appendEntries (retry=2151): org.apache.ratis.thirdparty.io.netty.channel.AbstractChannel$AnnotatedConnectException: Connection refused: /0.0.0.0:40479
2019-09-24 12:05:54,060 WARN  impl.LogAppender (LogAppender.java:sendAppendEntriesWithRetries(274)) - s0@group-E7D5050F4609->s3-LogAppender: Failed to appendEntries (retry=2161): org.apache.ratis.thirdparty.io.netty.channel.AbstractChannel$AnnotatedConnectException: Connection refused: /0.0.0.0:40479
2019-09-24 12:05:54,294 WARN  impl.LogAppender (LogAppender.java:sendAppendEntriesWithRetries(274)) - s0@group-E7D5050F4609->s3-LogAppender: Failed to appendEntries (retry=2171): org.apache.ratis.thirdparty.io.netty.channel.AbstractChannel$AnnotatedConnectException: Connection refused: /0.0.0.0:40479
2019-09-24 12:05:54,526 WARN  impl.LogAppender (LogAppender.java:sendAppendEntriesWithRetries(274)) - s0@group-E7D5050F4609->s3-LogAppender: Failed to appendEntries (retry=2181): org.apache.ratis.thirdparty.io.netty.channel.AbstractChannel$AnnotatedConnectException: Connection refused: /0.0.0.0:40479
2019-09-24 12:05:54,759 WARN  impl.LogAppender (LogAppender.java:sendAppendEntriesWithRetries(274)) - s0@group-E7D5050F4609->s3-LogAppender: Failed to appendEntries (retry=2191): org.apache.ratis.thirdparty.io.netty.channel.AbstractChannel$AnnotatedConnectException: Connection refused: /0.0.0.0:40479
2019-09-24 12:05:54,993 WARN  impl.LogAppender (LogAppender.java:sendAppendEntriesWithRetries(274)) - s0@group-E7D5050F4609->s3-LogAppender: Failed to appendEntries (retry=2201): org.apache.ratis.thirdparty.io.netty.channel.AbstractChannel$AnnotatedConnectException: Connection refused: /0.0.0.0:40479
2019-09-24 12:05:55,226 WARN  impl.LogAppender (LogAppender.java:sendAppendEntriesWithRetries(274)) - s0@group-E7D5050F4609->s3-LogAppender: Failed to appendEntries (retry=2211): org.apache.ratis.thirdparty.io.netty.channel.AbstractChannel$AnnotatedConnectException: Connection refused: /0.0.0.0:40479
2019-09-24 12:05:55,459 WARN  impl.LogAppender (LogAppender.java:sendAppendEntriesWithRetries(274)) - s0@group-E7D5050F4609->s3-LogAppender: Failed to appendEntries (retry=2221): org.apache.ratis.thirdparty.io.netty.channel.AbstractChannel$AnnotatedConnectException: Connection refused: /0.0.0.0:40479
2019-09-24 12:05:55,693 WARN  impl.LogAppender (LogAppender.java:sendAppendEntriesWithRetries(274)) - s0@group-E7D5050F4609->s3-LogAppender: Failed to appendEntries (retry=2231): org.apache.ratis.thirdparty.io.netty.channel.AbstractChannel$AnnotatedConnectException: Connection refused: /0.0.0.0:40479
2019-09-24 12:05:55,926 WARN  impl.LogAppender (LogAppender.java:sendAppendEntriesWithRetries(274)) - s0@group-E7D5050F4609->s3-LogAppender: Failed to appendEntries (retry=2241): org.apache.ratis.thirdparty.io.netty.channel.AbstractChannel$AnnotatedConnectException: Connection refused: /0.0.0.0:40479
2019-09-24 12:05:56,159 WARN  impl.LogAppender (LogAppender.java:sendAppendEntriesWithRetries(274)) - s0@group-E7D5050F4609->s3-LogAppender: Failed to appendEntries (retry=2251): org.apache.ratis.thirdparty.io.netty.channel.AbstractChannel$AnnotatedConnectException: Connection refused: /0.0.0.0:40479
2019-09-24 12:05:56,393 WARN  impl.LogAppender (LogAppender.java:sendAppendEntriesWithRetries(274)) - s0@group-E7D5050F4609->s3-LogAppender: Failed to appendEntries (retry=2261): org.apache.ratis.thirdparty.io.netty.channel.AbstractChannel$AnnotatedConnectException: Connection refused: /0.0.0.0:40479
2019-09-24 12:05:56,626 WARN  impl.LogAppender (LogAppender.java:sendAppendEntriesWithRetries(274)) - s0@group-E7D5050F4609->s3-LogAppender: Failed to appendEntries (retry=2271): org.apache.ratis.thirdparty.io.netty.channel.AbstractChannel$AnnotatedConnectException: Connection refused: /0.0.0.0:40479
2019-09-24 12:05:56,859 WARN  impl.LogAppender (LogAppender.java:sendAppendEntriesWithRetries(274)) - s0@group-E7D5050F4609->s3-LogAppender: Failed to appendEntries (retry=2281): org.apache.ratis.thirdparty.io.netty.channel.AbstractChannel$AnnotatedConnectException: Connection refused: /0.0.0.0:40479
2019-09-24 12:05:57,092 WARN  impl.LogAppender (LogAppender.java:sendAppendEntriesWithRetries(274)) - s0@group-E7D5050F4609->s3-LogAppender: Failed to appendEntries (retry=2291): org.apache.ratis.thirdparty.io.netty.channel.AbstractChannel$AnnotatedConnectException: Connection refused: /0.0.0.0:40479
2019-09-24 12:05:57,326 WARN  impl.LogAppender (LogAppender.java:sendAppendEntriesWithRetries(274)) - s0@group-E7D5050F4609->s3-LogAppender: Failed to appendEntries (retry=2301): org.apache.ratis.thirdparty.io.netty.channel.AbstractChannel$AnnotatedConnectException: Connection refused: /0.0.0.0:40479
2019-09-24 12:05:57,559 WARN  impl.LogAppender (LogAppender.java:sendAppendEntriesWithRetries(274)) - s0@group-E7D5050F4609->s3-LogAppender: Failed to appendEntries (retry=2311): org.apache.ratis.thirdparty.io.netty.channel.AbstractChannel$AnnotatedConnectException: Connection refused: /0.0.0.0:40479
2019-09-24 12:05:57,792 WARN  impl.LogAppender (LogAppender.java:sendAppendEntriesWithRetries(274)) - s0@group-E7D5050F4609->s3-LogAppender: Failed to appendEntries (retry=2321): org.apache.ratis.thirdparty.io.netty.channel.AbstractChannel$AnnotatedConnectException: Connection refused: /0.0.0.0:40479
2019-09-24 12:05:58,025 WARN  impl.LogAppender (LogAppender.java:sendAppendEntriesWithRetries(274)) - s0@group-E7D5050F4609->s3-LogAppender: Failed to appendEntries (retry=2331): org.apache.ratis.thirdparty.io.netty.channel.AbstractChannel$AnnotatedConnectException: Connection refused: /0.0.0.0:40479
2019-09-24 12:05:58,258 WARN  impl.LogAppender (LogAppender.java:sendAppendEntriesWithRetries(274)) - s0@group-E7D5050F4609->s3-LogAppender: Failed to appendEntries (retry=2341): org.apache.ratis.thirdparty.io.netty.channel.AbstractChannel$AnnotatedConnectException: Connection refused: /0.0.0.0:40479
2019-09-24 12:05:58,491 WARN  impl.LogAppender (LogAppender.java:sendAppendEntriesWithRetries(274)) - s0@group-E7D5050F4609->s3-LogAppender: Failed to appendEntries (retry=2351): org.apache.ratis.thirdparty.io.netty.channel.AbstractChannel$AnnotatedConnectException: Connection refused: /0.0.0.0:40479
2019-09-24 12:05:58,724 WARN  impl.LogAppender (LogAppender.java:sendAppendEntriesWithRetries(274)) - s0@group-E7D5050F4609->s3-LogAppender: Failed to appendEntries (retry=2361): org.apache.ratis.thirdparty.io.netty.channel.AbstractChannel$AnnotatedConnectException: Connection refused: /0.0.0.0:40479
2019-09-24 12:05:58,958 WARN  impl.LogAppender (LogAppender.java:sendAppendEntriesWithRetries(274)) - s0@group-E7D5050F4609->s3-LogAppender: Failed to appendEntries (retry=2371): org.apache.ratis.thirdparty.io.netty.channel.AbstractChannel$AnnotatedConnectException: Connection refused: /0.0.0.0:40479
2019-09-24 12:05:59,192 WARN  impl.LogAppender (LogAppender.java:sendAppendEntriesWithRetries(274)) - s0@group-E7D5050F4609->s3-LogAppender: Failed to appendEntries (retry=2381): org.apache.ratis.thirdparty.io.netty.channel.AbstractChannel$AnnotatedConnectException: Connection refused: /0.0.0.0:40479
2019-09-24 12:05:59,425 WARN  impl.LogAppender (LogAppender.java:sendAppendEntriesWithRetries(274)) - s0@group-E7D5050F4609->s3-LogAppender: Failed to appendEntries (retry=2391): org.apache.ratis.thirdparty.io.netty.channel.AbstractChannel$AnnotatedConnectException: Connection refused: /0.0.0.0:40479
2019-09-24 12:05:59,660 WARN  impl.LogAppender (LogAppender.java:sendAppendEntriesWithRetries(274)) - s0@group-E7D5050F4609->s3-LogAppender: Failed to appendEntries (retry=2401): org.apache.ratis.thirdparty.io.netty.channel.AbstractChannel$AnnotatedConnectException: Connection refused: /0.0.0.0:40479
2019-09-24 12:05:59,893 WARN  impl.LogAppender (LogAppender.java:sendAppendEntriesWithRetries(274)) - s0@group-E7D5050F4609->s3-LogAppender: Failed to appendEntries (retry=2411): org.apache.ratis.thirdparty.io.netty.channel.AbstractChannel$AnnotatedConnectException: Connection refused: /0.0.0.0:40479
2019-09-24 12:06:00,126 WARN  impl.LogAppender (LogAppender.java:sendAppendEntriesWithRetries(274)) - s0@group-E7D5050F4609->s3-LogAppender: Failed to appendEntries (retry=2421): org.apache.ratis.thirdparty.io.netty.channel.AbstractChannel$AnnotatedConnectException: Connection refused: /0.0.0.0:40479
2019-09-24 12:06:00,362 WARN  impl.LogAppender (LogAppender.java:sendAppendEntriesWithRetries(274)) - s0@group-E7D5050F4609->s3-LogAppender: Failed to appendEntries (retry=2431): org.apache.ratis.thirdparty.io.netty.channel.AbstractChannel$AnnotatedConnectException: Connection refused: /0.0.0.0:40479
2019-09-24 12:06:00,595 WARN  impl.LogAppender (LogAppender.java:sendAppendEntriesWithRetries(274)) - s0@group-E7D5050F4609->s3-LogAppender: Failed to appendEntries (retry=2441): org.apache.ratis.thirdparty.io.netty.channel.AbstractChannel$AnnotatedConnectException: Connection refused: /0.0.0.0:40479
2019-09-24 12:06:00,828 WARN  impl.LogAppender (LogAppender.java:sendAppendEntriesWithRetries(274)) - s0@group-E7D5050F4609->s3-LogAppender: Failed to appendEntries (retry=2451): org.apache.ratis.thirdparty.io.netty.channel.AbstractChannel$AnnotatedConnectException: Connection refused: /0.0.0.0:40479
2019-09-24 12:06:01,062 WARN  impl.LogAppender (LogAppender.java:sendAppendEntriesWithRetries(274)) - s0@group-E7D5050F4609->s3-LogAppender: Failed to appendEntries (retry=2461): org.apache.ratis.thirdparty.io.netty.channel.AbstractChannel$AnnotatedConnectException: Connection refused: /0.0.0.0:40479
2019-09-24 12:06:01,296 WARN  impl.LogAppender (LogAppender.java:sendAppendEntriesWithRetries(274)) - s0@group-E7D5050F4609->s3-LogAppender: Failed to appendEntries (retry=2471): org.apache.ratis.thirdparty.io.netty.channel.AbstractChannel$AnnotatedConnectException: Connection refused: /0.0.0.0:40479
2019-09-24 12:06:01,529 WARN  impl.LogAppender (LogAppender.java:sendAppendEntriesWithRetries(274)) - s0@group-E7D5050F4609->s3-LogAppender: Failed to appendEntries (retry=2481): org.apache.ratis.thirdparty.io.netty.channel.AbstractChannel$AnnotatedConnectException: Connection refused: /0.0.0.0:40479
2019-09-24 12:06:01,762 WARN  impl.LogAppender (LogAppender.java:sendAppendEntriesWithRetries(274)) - s0@group-E7D5050F4609->s3-LogAppender: Failed to appendEntries (retry=2491): org.apache.ratis.thirdparty.io.netty.channel.AbstractChannel$AnnotatedConnectException: Connection refused: /0.0.0.0:40479
2019-09-24 12:06:01,995 WARN  impl.LogAppender (LogAppender.java:sendAppendEntriesWithRetries(274)) - s0@group-E7D5050F4609->s3-LogAppender: Failed to appendEntries (retry=2501): org.apache.ratis.thirdparty.io.netty.channel.AbstractChannel$AnnotatedConnectException: Connection refused: /0.0.0.0:40479
2019-09-24 12:06:02,229 WARN  impl.LogAppender (LogAppender.java:sendAppendEntriesWithRetries(274)) - s0@group-E7D5050F4609->s3-LogAppender: Failed to appendEntries (retry=2511): org.apache.ratis.thirdparty.io.netty.channel.AbstractChannel$AnnotatedConnectException: Connection refused: /0.0.0.0:40479
2019-09-24 12:06:02,392 INFO  ratis.MiniRaftCluster (MiniRaftCluster.java:lambda$null$5(297)) - TIMED-PRINT: printing ALL groups
  s3:  CLOSING    LEADER s3@group-E7D5050F4609:t1, leader=s3, voted=s3, raftlog=s3@group-E7D5050F4609-SegmentedRaftLog:CLOSED:c-1, conf=0: [s3:0.0.0.0:40479, s4:0.0.0.0:43695, s0:0.0.0.0:44661, s1:0.0.0.0:36487, s2:0.0.0.0:42023], old=null CLOSED
  s4:  RUNNING  FOLLOWER s4@group-E7D5050F4609:t2, leader=s0, voted=s4, raftlog=s4@group-E7D5050F4609-SegmentedRaftLog:OPENED:c2,f2,i2, conf=1: [s3:0.0.0.0:40479, s4:0.0.0.0:43695, s0:0.0.0.0:44661, s1:0.0.0.0:36487, s2:0.0.0.0:42023], old=null RUNNING
  s0:  RUNNING    LEADER s0@group-E7D5050F4609:t2, leader=s0, voted=s0, raftlog=s0@group-E7D5050F4609-SegmentedRaftLog:OPENED:c2,f2,i2, conf=1: [s3:0.0.0.0:40479, s4:0.0.0.0:43695, s0:0.0.0.0:44661, s1:0.0.0.0:36487, s2:0.0.0.0:42023], old=null RUNNING
  s1:  RUNNING  FOLLOWER s1@group-E7D5050F4609:t2, leader=s0, voted=s0, raftlog=s1@group-E7D5050F4609-SegmentedRaftLog:OPENED:c2,f2,i2, conf=1: [s3:0.0.0.0:40479, s4:0.0.0.0:43695, s0:0.0.0.0:44661, s1:0.0.0.0:36487, s2:0.0.0.0:42023], old=null RUNNING
  s2:  RUNNING  FOLLOWER s2@group-E7D5050F4609:t2, leader=s0, voted=s0, raftlog=s2@group-E7D5050F4609-SegmentedRaftLog:OPENED:c2,f2,i2, conf=1: [s3:0.0.0.0:40479, s4:0.0.0.0:43695, s0:0.0.0.0:44661, s1:0.0.0.0:36487, s2:0.0.0.0:42023], old=null RUNNING
2019-09-24 12:06:02,463 WARN  impl.LogAppender (LogAppender.java:sendAppendEntriesWithRetries(274)) - s0@group-E7D5050F4609->s3-LogAppender: Failed to appendEntries (retry=2521): org.apache.ratis.thirdparty.io.netty.channel.AbstractChannel$AnnotatedConnectException: Connection refused: /0.0.0.0:40479
2019-09-24 12:06:02,696 WARN  impl.LogAppender (LogAppender.java:sendAppendEntriesWithRetries(274)) - s0@group-E7D5050F4609->s3-LogAppender: Failed to appendEntries (retry=2531): org.apache.ratis.thirdparty.io.netty.channel.AbstractChannel$AnnotatedConnectException: Connection refused: /0.0.0.0:40479
2019-09-24 12:06:02,928 WARN  impl.LogAppender (LogAppender.java:sendAppendEntriesWithRetries(274)) - s0@group-E7D5050F4609->s3-LogAppender: Failed to appendEntries (retry=2541): org.apache.ratis.thirdparty.io.netty.channel.AbstractChannel$AnnotatedConnectException: Connection refused: /0.0.0.0:40479
2019-09-24 12:06:03,162 WARN  impl.LogAppender (LogAppender.java:sendAppendEntriesWithRetries(274)) - s0@group-E7D5050F4609->s3-LogAppender: Failed to appendEntries (retry=2551): org.apache.ratis.thirdparty.io.netty.channel.AbstractChannel$AnnotatedConnectException: Connection refused: /0.0.0.0:40479
2019-09-24 12:06:03,395 WARN  impl.LogAppender (LogAppender.java:sendAppendEntriesWithRetries(274)) - s0@group-E7D5050F4609->s3-LogAppender: Failed to appendEntries (retry=2561): org.apache.ratis.thirdparty.io.netty.channel.AbstractChannel$AnnotatedConnectException: Connection refused: /0.0.0.0:40479
2019-09-24 12:06:03,629 WARN  impl.LogAppender (LogAppender.java:sendAppendEntriesWithRetries(274)) - s0@group-E7D5050F4609->s3-LogAppender: Failed to appendEntries (retry=2571): org.apache.ratis.thirdparty.io.netty.channel.AbstractChannel$AnnotatedConnectException: Connection refused: /0.0.0.0:40479
2019-09-24 12:06:03,862 WARN  impl.LogAppender (LogAppender.java:sendAppendEntriesWithRetries(274)) - s0@group-E7D5050F4609->s3-LogAppender: Failed to appendEntries (retry=2581): org.apache.ratis.thirdparty.io.netty.channel.AbstractChannel$AnnotatedConnectException: Connection refused: /0.0.0.0:40479
2019-09-24 12:06:04,095 WARN  impl.LogAppender (LogAppender.java:sendAppendEntriesWithRetries(274)) - s0@group-E7D5050F4609->s3-LogAppender: Failed to appendEntries (retry=2591): org.apache.ratis.thirdparty.io.netty.channel.AbstractChannel$AnnotatedConnectException: Connection refused: /0.0.0.0:40479
2019-09-24 12:06:04,329 WARN  impl.LogAppender (LogAppender.java:sendAppendEntriesWithRetries(274)) - s0@group-E7D5050F4609->s3-LogAppender: Failed to appendEntries (retry=2601): org.apache.ratis.thirdparty.io.netty.channel.AbstractChannel$AnnotatedConnectException: Connection refused: /0.0.0.0:40479
2019-09-24 12:06:04,563 WARN  impl.LogAppender (LogAppender.java:sendAppendEntriesWithRetries(274)) - s0@group-E7D5050F4609->s3-LogAppender: Failed to appendEntries (retry=2611): org.apache.ratis.thirdparty.io.netty.channel.AbstractChannel$AnnotatedConnectException: Connection refused: /0.0.0.0:40479
2019-09-24 12:06:04,796 WARN  impl.LogAppender (LogAppender.java:sendAppendEntriesWithRetries(274)) - s0@group-E7D5050F4609->s3-LogAppender: Failed to appendEntries (retry=2621): org.apache.ratis.thirdparty.io.netty.channel.AbstractChannel$AnnotatedConnectException: Connection refused: /0.0.0.0:40479
2019-09-24 12:06:05,030 WARN  impl.LogAppender (LogAppender.java:sendAppendEntriesWithRetries(274)) - s0@group-E7D5050F4609->s3-LogAppender: Failed to appendEntries (retry=2631): org.apache.ratis.thirdparty.io.netty.channel.AbstractChannel$AnnotatedConnectException: Connection refused: /0.0.0.0:40479
2019-09-24 12:06:05,262 WARN  impl.LogAppender (LogAppender.java:sendAppendEntriesWithRetries(274)) - s0@group-E7D5050F4609->s3-LogAppender: Failed to appendEntries (retry=2641): org.apache.ratis.thirdparty.io.netty.channel.AbstractChannel$AnnotatedConnectException: Connection refused: /0.0.0.0:40479
2019-09-24 12:06:05,494 WARN  impl.LogAppender (LogAppender.java:sendAppendEntriesWithRetries(274)) - s0@group-E7D5050F4609->s3-LogAppender: Failed to appendEntries (retry=2651): org.apache.ratis.thirdparty.io.netty.channel.AbstractChannel$AnnotatedConnectException: Connection refused: /0.0.0.0:40479
2019-09-24 12:06:05,727 WARN  impl.LogAppender (LogAppender.java:sendAppendEntriesWithRetries(274)) - s0@group-E7D5050F4609->s3-LogAppender: Failed to appendEntries (retry=2661): org.apache.ratis.thirdparty.io.netty.channel.AbstractChannel$AnnotatedConnectException: Connection refused: /0.0.0.0:40479
2019-09-24 12:06:05,960 WARN  impl.LogAppender (LogAppender.java:sendAppendEntriesWithRetries(274)) - s0@group-E7D5050F4609->s3-LogAppender: Failed to appendEntries (retry=2671): org.apache.ratis.thirdparty.io.netty.channel.AbstractChannel$AnnotatedConnectException: Connection refused: /0.0.0.0:40479
2019-09-24 12:06:06,193 WARN  impl.LogAppender (LogAppender.java:sendAppendEntriesWithRetries(274)) - s0@group-E7D5050F4609->s3-LogAppender: Failed to appendEntries (retry=2681): org.apache.ratis.thirdparty.io.netty.channel.AbstractChannel$AnnotatedConnectException: Connection refused: /0.0.0.0:40479
2019-09-24 12:06:06,426 WARN  impl.LogAppender (LogAppender.java:sendAppendEntriesWithRetries(274)) - s0@group-E7D5050F4609->s3-LogAppender: Failed to appendEntries (retry=2691): org.apache.ratis.thirdparty.io.netty.channel.AbstractChannel$AnnotatedConnectException: Connection refused: /0.0.0.0:40479
2019-09-24 12:06:06,689 WARN  impl.LogAppender (LogAppender.java:sendAppendEntriesWithRetries(274)) - s0@group-E7D5050F4609->s3-LogAppender: Failed to appendEntries (retry=2701): org.apache.ratis.thirdparty.io.netty.channel.AbstractChannel$AnnotatedConnectException: Connection refused: /0.0.0.0:40479
2019-09-24 12:06:06,922 WARN  impl.LogAppender (LogAppender.java:sendAppendEntriesWithRetries(274)) - s0@group-E7D5050F4609->s3-LogAppender: Failed to appendEntries (retry=2711): org.apache.ratis.thirdparty.io.netty.channel.AbstractChannel$AnnotatedConnectException: Connection refused: /0.0.0.0:40479
2019-09-24 12:06:07,155 WARN  impl.LogAppender (LogAppender.java:sendAppendEntriesWithRetries(274)) - s0@group-E7D5050F4609->s3-LogAppender: Failed to appendEntries (retry=2721): org.apache.ratis.thirdparty.io.netty.channel.AbstractChannel$AnnotatedConnectException: Connection refused: /0.0.0.0:40479
2019-09-24 12:06:07,388 WARN  impl.LogAppender (LogAppender.java:sendAppendEntriesWithRetries(274)) - s0@group-E7D5050F4609->s3-LogAppender: Failed to appendEntries (retry=2731): org.apache.ratis.thirdparty.io.netty.channel.AbstractChannel$AnnotatedConnectException: Connection refused: /0.0.0.0:40479
2019-09-24 12:06:07,622 WARN  impl.LogAppender (LogAppender.java:sendAppendEntriesWithRetries(274)) - s0@group-E7D5050F4609->s3-LogAppender: Failed to appendEntries (retry=2741): org.apache.ratis.thirdparty.io.netty.channel.AbstractChannel$AnnotatedConnectException: Connection refused: /0.0.0.0:40479
2019-09-24 12:06:07,855 WARN  impl.LogAppender (LogAppender.java:sendAppendEntriesWithRetries(274)) - s0@group-E7D5050F4609->s3-LogAppender: Failed to appendEntries (retry=2751): org.apache.ratis.thirdparty.io.netty.channel.AbstractChannel$AnnotatedConnectException: Connection refused: /0.0.0.0:40479
2019-09-24 12:06:08,088 WARN  impl.LogAppender (LogAppender.java:sendAppendEntriesWithRetries(274)) - s0@group-E7D5050F4609->s3-LogAppender: Failed to appendEntries (retry=2761): org.apache.ratis.thirdparty.io.netty.channel.AbstractChannel$AnnotatedConnectException: Connection refused: /0.0.0.0:40479
2019-09-24 12:06:08,321 WARN  impl.LogAppender (LogAppender.java:sendAppendEntriesWithRetries(274)) - s0@group-E7D5050F4609->s3-LogAppender: Failed to appendEntries (retry=2771): org.apache.ratis.thirdparty.io.netty.channel.AbstractChannel$AnnotatedConnectException: Connection refused: /0.0.0.0:40479
2019-09-24 12:06:08,554 WARN  impl.LogAppender (LogAppender.java:sendAppendEntriesWithRetries(274)) - s0@group-E7D5050F4609->s3-LogAppender: Failed to appendEntries (retry=2781): org.apache.ratis.thirdparty.io.netty.channel.AbstractChannel$AnnotatedConnectException: Connection refused: /0.0.0.0:40479
2019-09-24 12:06:08,787 WARN  impl.LogAppender (LogAppender.java:sendAppendEntriesWithRetries(274)) - s0@group-E7D5050F4609->s3-LogAppender: Failed to appendEntries (retry=2791): org.apache.ratis.thirdparty.io.netty.channel.AbstractChannel$AnnotatedConnectException: Connection refused: /0.0.0.0:40479
2019-09-24 12:06:09,020 WARN  impl.LogAppender (LogAppender.java:sendAppendEntriesWithRetries(274)) - s0@group-E7D5050F4609->s3-LogAppender: Failed to appendEntries (retry=2801): org.apache.ratis.thirdparty.io.netty.channel.AbstractChannel$AnnotatedConnectException: Connection refused: /0.0.0.0:40479
2019-09-24 12:06:09,253 WARN  impl.LogAppender (LogAppender.java:sendAppendEntriesWithRetries(274)) - s0@group-E7D5050F4609->s3-LogAppender: Failed to appendEntries (retry=2811): org.apache.ratis.thirdparty.io.netty.channel.AbstractChannel$AnnotatedConnectException: Connection refused: /0.0.0.0:40479
2019-09-24 12:06:09,486 WARN  impl.LogAppender (LogAppender.java:sendAppendEntriesWithRetries(274)) - s0@group-E7D5050F4609->s3-LogAppender: Failed to appendEntries (retry=2821): org.apache.ratis.thirdparty.io.netty.channel.AbstractChannel$AnnotatedConnectException: Connection refused: /0.0.0.0:40479
2019-09-24 12:06:09,719 WARN  impl.LogAppender (LogAppender.java:sendAppendEntriesWithRetries(274)) - s0@group-E7D5050F4609->s3-LogAppender: Failed to appendEntries (retry=2831): org.apache.ratis.thirdparty.io.netty.channel.AbstractChannel$AnnotatedConnectException: Connection refused: /0.0.0.0:40479
2019-09-24 12:06:09,953 WARN  impl.LogAppender (LogAppender.java:sendAppendEntriesWithRetries(274)) - s0@group-E7D5050F4609->s3-LogAppender: Failed to appendEntries (retry=2841): org.apache.ratis.thirdparty.io.netty.channel.AbstractChannel$AnnotatedConnectException: Connection refused: /0.0.0.0:40479
2019-09-24 12:06:10,186 WARN  impl.LogAppender (LogAppender.java:sendAppendEntriesWithRetries(274)) - s0@group-E7D5050F4609->s3-LogAppender: Failed to appendEntries (retry=2851): org.apache.ratis.thirdparty.io.netty.channel.AbstractChannel$AnnotatedConnectException: Connection refused: /0.0.0.0:40479
2019-09-24 12:06:10,419 WARN  impl.LogAppender (LogAppender.java:sendAppendEntriesWithRetries(274)) - s0@group-E7D5050F4609->s3-LogAppender: Failed to appendEntries (retry=2861): org.apache.ratis.thirdparty.io.netty.channel.AbstractChannel$AnnotatedConnectException: Connection refused: /0.0.0.0:40479
2019-09-24 12:06:10,652 WARN  impl.LogAppender (LogAppender.java:sendAppendEntriesWithRetries(274)) - s0@group-E7D5050F4609->s3-LogAppender: Failed to appendEntries (retry=2871): org.apache.ratis.thirdparty.io.netty.channel.AbstractChannel$AnnotatedConnectException: Connection refused: /0.0.0.0:40479
2019-09-24 12:06:10,885 WARN  impl.LogAppender (LogAppender.java:sendAppendEntriesWithRetries(274)) - s0@group-E7D5050F4609->s3-LogAppender: Failed to appendEntries (retry=2881): org.apache.ratis.thirdparty.io.netty.channel.AbstractChannel$AnnotatedConnectException: Connection refused: /0.0.0.0:40479
2019-09-24 12:06:11,119 WARN  impl.LogAppender (LogAppender.java:sendAppendEntriesWithRetries(274)) - s0@group-E7D5050F4609->s3-LogAppender: Failed to appendEntries (retry=2891): org.apache.ratis.thirdparty.io.netty.channel.AbstractChannel$AnnotatedConnectException: Connection refused: /0.0.0.0:40479
2019-09-24 12:06:11,352 WARN  impl.LogAppender (LogAppender.java:sendAppendEntriesWithRetries(274)) - s0@group-E7D5050F4609->s3-LogAppender: Failed to appendEntries (retry=2901): org.apache.ratis.thirdparty.io.netty.channel.AbstractChannel$AnnotatedConnectException: Connection refused: /0.0.0.0:40479
2019-09-24 12:06:11,585 WARN  impl.LogAppender (LogAppender.java:sendAppendEntriesWithRetries(274)) - s0@group-E7D5050F4609->s3-LogAppender: Failed to appendEntries (retry=2911): org.apache.ratis.thirdparty.io.netty.channel.AbstractChannel$AnnotatedConnectException: Connection refused: /0.0.0.0:40479
2019-09-24 12:06:11,818 WARN  impl.LogAppender (LogAppender.java:sendAppendEntriesWithRetries(274)) - s0@group-E7D5050F4609->s3-LogAppender: Failed to appendEntries (retry=2921): org.apache.ratis.thirdparty.io.netty.channel.AbstractChannel$AnnotatedConnectException: Connection refused: /0.0.0.0:40479
2019-09-24 12:06:12,052 WARN  impl.LogAppender (LogAppender.java:sendAppendEntriesWithRetries(274)) - s0@group-E7D5050F4609->s3-LogAppender: Failed to appendEntries (retry=2931): org.apache.ratis.thirdparty.io.netty.channel.AbstractChannel$AnnotatedConnectException: Connection refused: /0.0.0.0:40479
2019-09-24 12:06:12,285 WARN  impl.LogAppender (LogAppender.java:sendAppendEntriesWithRetries(274)) - s0@group-E7D5050F4609->s3-LogAppender: Failed to appendEntries (retry=2941): org.apache.ratis.thirdparty.io.netty.channel.AbstractChannel$AnnotatedConnectException: Connection refused: /0.0.0.0:40479
2019-09-24 12:06:12,392 INFO  ratis.MiniRaftCluster (MiniRaftCluster.java:lambda$null$5(297)) - TIMED-PRINT: printing ALL groups
  s3:  CLOSING    LEADER s3@group-E7D5050F4609:t1, leader=s3, voted=s3, raftlog=s3@group-E7D5050F4609-SegmentedRaftLog:CLOSED:c-1, conf=0: [s3:0.0.0.0:40479, s4:0.0.0.0:43695, s0:0.0.0.0:44661, s1:0.0.0.0:36487, s2:0.0.0.0:42023], old=null CLOSED
  s4:  RUNNING  FOLLOWER s4@group-E7D5050F4609:t2, leader=s0, voted=s4, raftlog=s4@group-E7D5050F4609-SegmentedRaftLog:OPENED:c2,f2,i2, conf=1: [s3:0.0.0.0:40479, s4:0.0.0.0:43695, s0:0.0.0.0:44661, s1:0.0.0.0:36487, s2:0.0.0.0:42023], old=null RUNNING
  s0:  RUNNING    LEADER s0@group-E7D5050F4609:t2, leader=s0, voted=s0, raftlog=s0@group-E7D5050F4609-SegmentedRaftLog:OPENED:c2,f2,i2, conf=1: [s3:0.0.0.0:40479, s4:0.0.0.0:43695, s0:0.0.0.0:44661, s1:0.0.0.0:36487, s2:0.0.0.0:42023], old=null RUNNING
  s1:  RUNNING  FOLLOWER s1@group-E7D5050F4609:t2, leader=s0, voted=s0, raftlog=s1@group-E7D5050F4609-SegmentedRaftLog:OPENED:c2,f2,i2, conf=1: [s3:0.0.0.0:40479, s4:0.0.0.0:43695, s0:0.0.0.0:44661, s1:0.0.0.0:36487, s2:0.0.0.0:42023], old=null RUNNING
  s2:  RUNNING  FOLLOWER s2@group-E7D5050F4609:t2, leader=s0, voted=s0, raftlog=s2@group-E7D5050F4609-SegmentedRaftLog:OPENED:c2,f2,i2, conf=1: [s3:0.0.0.0:40479, s4:0.0.0.0:43695, s0:0.0.0.0:44661, s1:0.0.0.0:36487, s2:0.0.0.0:42023], old=null RUNNING
2019-09-24 12:06:12,519 WARN  impl.LogAppender (LogAppender.java:sendAppendEntriesWithRetries(274)) - s0@group-E7D5050F4609->s3-LogAppender: Failed to appendEntries (retry=2951): org.apache.ratis.thirdparty.io.netty.channel.AbstractChannel$AnnotatedConnectException: Connection refused: /0.0.0.0:40479
2019-09-24 12:06:12,752 WARN  impl.LogAppender (LogAppender.java:sendAppendEntriesWithRetries(274)) - s0@group-E7D5050F4609->s3-LogAppender: Failed to appendEntries (retry=2961): org.apache.ratis.thirdparty.io.netty.channel.AbstractChannel$AnnotatedConnectException: Connection refused: /0.0.0.0:40479
2019-09-24 12:06:12,985 WARN  impl.LogAppender (LogAppender.java:sendAppendEntriesWithRetries(274)) - s0@group-E7D5050F4609->s3-LogAppender: Failed to appendEntries (retry=2971): org.apache.ratis.thirdparty.io.netty.channel.AbstractChannel$AnnotatedConnectException: Connection refused: /0.0.0.0:40479
2019-09-24 12:06:13,218 WARN  impl.LogAppender (LogAppender.java:sendAppendEntriesWithRetries(274)) - s0@group-E7D5050F4609->s3-LogAppender: Failed to appendEntries (retry=2981): org.apache.ratis.thirdparty.io.netty.channel.AbstractChannel$AnnotatedConnectException: Connection refused: /0.0.0.0:40479
2019-09-24 12:06:13,451 WARN  impl.LogAppender (LogAppender.java:sendAppendEntriesWithRetries(274)) - s0@group-E7D5050F4609->s3-LogAppender: Failed to appendEntries (retry=2991): org.apache.ratis.thirdparty.io.netty.channel.AbstractChannel$AnnotatedConnectException: Connection refused: /0.0.0.0:40479
2019-09-24 12:06:13,684 WARN  impl.LogAppender (LogAppender.java:sendAppendEntriesWithRetries(274)) - s0@group-E7D5050F4609->s3-LogAppender: Failed to appendEntries (retry=3001): org.apache.ratis.thirdparty.io.netty.channel.AbstractChannel$AnnotatedConnectException: Connection refused: /0.0.0.0:40479
2019-09-24 12:06:13,918 WARN  impl.LogAppender (LogAppender.java:sendAppendEntriesWithRetries(274)) - s0@group-E7D5050F4609->s3-LogAppender: Failed to appendEntries (retry=3011): org.apache.ratis.thirdparty.io.netty.channel.AbstractChannel$AnnotatedConnectException: Connection refused: /0.0.0.0:40479
2019-09-24 12:06:14,150 WARN  impl.LogAppender (LogAppender.java:sendAppendEntriesWithRetries(274)) - s0@group-E7D5050F4609->s3-LogAppender: Failed to appendEntries (retry=3021): org.apache.ratis.thirdparty.io.netty.channel.AbstractChannel$AnnotatedConnectException: Connection refused: /0.0.0.0:40479
2019-09-24 12:06:14,384 WARN  impl.LogAppender (LogAppender.java:sendAppendEntriesWithRetries(274)) - s0@group-E7D5050F4609->s3-LogAppender: Failed to appendEntries (retry=3031): org.apache.ratis.thirdparty.io.netty.channel.AbstractChannel$AnnotatedConnectException: Connection refused: /0.0.0.0:40479
2019-09-24 12:06:14,616 WARN  impl.LogAppender (LogAppender.java:sendAppendEntriesWithRetries(274)) - s0@group-E7D5050F4609->s3-LogAppender: Failed to appendEntries (retry=3041): org.apache.ratis.thirdparty.io.netty.channel.AbstractChannel$AnnotatedConnectException: Connection refused: /0.0.0.0:40479
2019-09-24 12:06:14,849 WARN  impl.LogAppender (LogAppender.java:sendAppendEntriesWithRetries(274)) - s0@group-E7D5050F4609->s3-LogAppender: Failed to appendEntries (retry=3051): org.apache.ratis.thirdparty.io.netty.channel.AbstractChannel$AnnotatedConnectException: Connection refused: /0.0.0.0:40479
2019-09-24 12:06:15,082 WARN  impl.LogAppender (LogAppender.java:sendAppendEntriesWithRetries(274)) - s0@group-E7D5050F4609->s3-LogAppender: Failed to appendEntries (retry=3061): org.apache.ratis.thirdparty.io.netty.channel.AbstractChannel$AnnotatedConnectException: Connection refused: /0.0.0.0:40479
2019-09-24 12:06:15,315 WARN  impl.LogAppender (LogAppender.java:sendAppendEntriesWithRetries(274)) - s0@group-E7D5050F4609->s3-LogAppender: Failed to appendEntries (retry=3071): org.apache.ratis.thirdparty.io.netty.channel.AbstractChannel$AnnotatedConnectException: Connection refused: /0.0.0.0:40479
2019-09-24 12:06:15,548 WARN  impl.LogAppender (LogAppender.java:sendAppendEntriesWithRetries(274)) - s0@group-E7D5050F4609->s3-LogAppender: Failed to appendEntries (retry=3081): org.apache.ratis.thirdparty.io.netty.channel.AbstractChannel$AnnotatedConnectException: Connection refused: /0.0.0.0:40479
2019-09-24 12:06:15,781 WARN  impl.LogAppender (LogAppender.java:sendAppendEntriesWithRetries(274)) - s0@group-E7D5050F4609->s3-LogAppender: Failed to appendEntries (retry=3091): org.apache.ratis.thirdparty.io.netty.channel.AbstractChannel$AnnotatedConnectException: Connection refused: /0.0.0.0:40479
2019-09-24 12:06:16,014 WARN  impl.LogAppender (LogAppender.java:sendAppendEntriesWithRetries(274)) - s0@group-E7D5050F4609->s3-LogAppender: Failed to appendEntries (retry=3101): org.apache.ratis.thirdparty.io.netty.channel.AbstractChannel$AnnotatedConnectException: Connection refused: /0.0.0.0:40479
2019-09-24 12:06:16,247 WARN  impl.LogAppender (LogAppender.java:sendAppendEntriesWithRetries(274)) - s0@group-E7D5050F4609->s3-LogAppender: Failed to appendEntries (retry=3111): org.apache.ratis.thirdparty.io.netty.channel.AbstractChannel$AnnotatedConnectException: Connection refused: /0.0.0.0:40479
2019-09-24 12:06:16,480 WARN  impl.LogAppender (LogAppender.java:sendAppendEntriesWithRetries(274)) - s0@group-E7D5050F4609->s3-LogAppender: Failed to appendEntries (retry=3121): org.apache.ratis.thirdparty.io.netty.channel.AbstractChannel$AnnotatedConnectException: Connection refused: /0.0.0.0:40479
2019-09-24 12:06:16,713 WARN  impl.LogAppender (LogAppender.java:sendAppendEntriesWithRetries(274)) - s0@group-E7D5050F4609->s3-LogAppender: Failed to appendEntries (retry=3131): org.apache.ratis.thirdparty.io.netty.channel.AbstractChannel$AnnotatedConnectException: Connection refused: /0.0.0.0:40479
2019-09-24 12:06:16,946 WARN  impl.LogAppender (LogAppender.java:sendAppendEntriesWithRetries(274)) - s0@group-E7D5050F4609->s3-LogAppender: Failed to appendEntries (retry=3141): org.apache.ratis.thirdparty.io.netty.channel.AbstractChannel$AnnotatedConnectException: Connection refused: /0.0.0.0:40479
2019-09-24 12:06:17,179 WARN  impl.LogAppender (LogAppender.java:sendAppendEntriesWithRetries(274)) - s0@group-E7D5050F4609->s3-LogAppender: Failed to appendEntries (retry=3151): org.apache.ratis.thirdparty.io.netty.channel.AbstractChannel$AnnotatedConnectException: Connection refused: /0.0.0.0:40479
2019-09-24 12:06:17,413 WARN  impl.LogAppender (LogAppender.java:sendAppendEntriesWithRetries(274)) - s0@group-E7D5050F4609->s3-LogAppender: Failed to appendEntries (retry=3161): org.apache.ratis.thirdparty.io.netty.channel.AbstractChannel$AnnotatedConnectException: Connection refused: /0.0.0.0:40479
2019-09-24 12:06:17,646 WARN  impl.LogAppender (LogAppender.java:sendAppendEntriesWithRetries(274)) - s0@group-E7D5050F4609->s3-LogAppender: Failed to appendEntries (retry=3171): org.apache.ratis.thirdparty.io.netty.channel.AbstractChannel$AnnotatedConnectException: Connection refused: /0.0.0.0:40479
2019-09-24 12:06:17,879 WARN  impl.LogAppender (LogAppender.java:sendAppendEntriesWithRetries(274)) - s0@group-E7D5050F4609->s3-LogAppender: Failed to appendEntries (retry=3181): org.apache.ratis.thirdparty.io.netty.channel.AbstractChannel$AnnotatedConnectException: Connection refused: /0.0.0.0:40479
2019-09-24 12:06:18,112 WARN  impl.LogAppender (LogAppender.java:sendAppendEntriesWithRetries(274)) - s0@group-E7D5050F4609->s3-LogAppender: Failed to appendEntries (retry=3191): org.apache.ratis.thirdparty.io.netty.channel.AbstractChannel$AnnotatedConnectException: Connection refused: /0.0.0.0:40479
2019-09-24 12:06:18,345 WARN  impl.LogAppender (LogAppender.java:sendAppendEntriesWithRetries(274)) - s0@group-E7D5050F4609->s3-LogAppender: Failed to appendEntries (retry=3201): org.apache.ratis.thirdparty.io.netty.channel.AbstractChannel$AnnotatedConnectException: Connection refused: /0.0.0.0:40479
2019-09-24 12:06:18,577 WARN  impl.LogAppender (LogAppender.java:sendAppendEntriesWithRetries(274)) - s0@group-E7D5050F4609->s3-LogAppender: Failed to appendEntries (retry=3211): org.apache.ratis.thirdparty.io.netty.channel.AbstractChannel$AnnotatedConnectException: Connection refused: /0.0.0.0:40479
2019-09-24 12:06:18,810 WARN  impl.LogAppender (LogAppender.java:sendAppendEntriesWithRetries(274)) - s0@group-E7D5050F4609->s3-LogAppender: Failed to appendEntries (retry=3221): org.apache.ratis.thirdparty.io.netty.channel.AbstractChannel$AnnotatedConnectException: Connection refused: /0.0.0.0:40479
2019-09-24 12:06:19,043 WARN  impl.LogAppender (LogAppender.java:sendAppendEntriesWithRetries(274)) - s0@group-E7D5050F4609->s3-LogAppender: Failed to appendEntries (retry=3231): org.apache.ratis.thirdparty.io.netty.channel.AbstractChannel$AnnotatedConnectException: Connection refused: /0.0.0.0:40479
2019-09-24 12:06:19,277 WARN  impl.LogAppender (LogAppender.java:sendAppendEntriesWithRetries(274)) - s0@group-E7D5050F4609->s3-LogAppender: Failed to appendEntries (retry=3241): org.apache.ratis.thirdparty.io.netty.channel.AbstractChannel$AnnotatedConnectException: Connection refused: /0.0.0.0:40479
2019-09-24 12:06:19,510 WARN  impl.LogAppender (LogAppender.java:sendAppendEntriesWithRetries(274)) - s0@group-E7D5050F4609->s3-LogAppender: Failed to appendEntries (retry=3251): org.apache.ratis.thirdparty.io.netty.channel.AbstractChannel$AnnotatedConnectException: Connection refused: /0.0.0.0:40479
2019-09-24 12:06:19,742 WARN  impl.LogAppender (LogAppender.java:sendAppendEntriesWithRetries(274)) - s0@group-E7D5050F4609->s3-LogAppender: Failed to appendEntries (retry=3261): org.apache.ratis.thirdparty.io.netty.channel.AbstractChannel$AnnotatedConnectException: Connection refused: /0.0.0.0:40479
2019-09-24 12:06:19,976 WARN  impl.LogAppender (LogAppender.java:sendAppendEntriesWithRetries(274)) - s0@group-E7D5050F4609->s3-LogAppender: Failed to appendEntries (retry=3271): org.apache.ratis.thirdparty.io.netty.channel.AbstractChannel$AnnotatedConnectException: Connection refused: /0.0.0.0:40479
2019-09-24 12:06:20,209 WARN  impl.LogAppender (LogAppender.java:sendAppendEntriesWithRetries(274)) - s0@group-E7D5050F4609->s3-LogAppender: Failed to appendEntries (retry=3281): org.apache.ratis.thirdparty.io.netty.channel.AbstractChannel$AnnotatedConnectException: Connection refused: /0.0.0.0:40479
2019-09-24 12:06:20,442 WARN  impl.LogAppender (LogAppender.java:sendAppendEntriesWithRetries(274)) - s0@group-E7D5050F4609->s3-LogAppender: Failed to appendEntries (retry=3291): org.apache.ratis.thirdparty.io.netty.channel.AbstractChannel$AnnotatedConnectException: Connection refused: /0.0.0.0:40479
2019-09-24 12:06:20,675 WARN  impl.LogAppender (LogAppender.java:sendAppendEntriesWithRetries(274)) - s0@group-E7D5050F4609->s3-LogAppender: Failed to appendEntries (retry=3301): org.apache.ratis.thirdparty.io.netty.channel.AbstractChannel$AnnotatedConnectException: Connection refused: /0.0.0.0:40479
2019-09-24 12:06:20,907 WARN  impl.LogAppender (LogAppender.java:sendAppendEntriesWithRetries(274)) - s0@group-E7D5050F4609->s3-LogAppender: Failed to appendEntries (retry=3311): org.apache.ratis.thirdparty.io.netty.channel.AbstractChannel$AnnotatedConnectException: Connection refused: /0.0.0.0:40479
2019-09-24 12:06:21,140 WARN  impl.LogAppender (LogAppender.java:sendAppendEntriesWithRetries(274)) - s0@group-E7D5050F4609->s3-LogAppender: Failed to appendEntries (retry=3321): org.apache.ratis.thirdparty.io.netty.channel.AbstractChannel$AnnotatedConnectException: Connection refused: /0.0.0.0:40479
2019-09-24 12:06:21,373 WARN  impl.LogAppender (LogAppender.java:sendAppendEntriesWithRetries(274)) - s0@group-E7D5050F4609->s3-LogAppender: Failed to appendEntries (retry=3331): org.apache.ratis.thirdparty.io.netty.channel.AbstractChannel$AnnotatedConnectException: Connection refused: /0.0.0.0:40479
2019-09-24 12:06:21,606 WARN  impl.LogAppender (LogAppender.java:sendAppendEntriesWithRetries(274)) - s0@group-E7D5050F4609->s3-LogAppender: Failed to appendEntries (retry=3341): org.apache.ratis.thirdparty.io.netty.channel.AbstractChannel$AnnotatedConnectException: Connection refused: /0.0.0.0:40479
2019-09-24 12:06:21,839 WARN  impl.LogAppender (LogAppender.java:sendAppendEntriesWithRetries(274)) - s0@group-E7D5050F4609->s3-LogAppender: Failed to appendEntries (retry=3351): org.apache.ratis.thirdparty.io.netty.channel.AbstractChannel$AnnotatedConnectException: Connection refused: /0.0.0.0:40479
2019-09-24 12:06:22,071 WARN  impl.LogAppender (LogAppender.java:sendAppendEntriesWithRetries(274)) - s0@group-E7D5050F4609->s3-LogAppender: Failed to appendEntries (retry=3361): org.apache.ratis.thirdparty.io.netty.channel.AbstractChannel$AnnotatedConnectException: Connection refused: /0.0.0.0:40479
2019-09-24 12:06:22,304 WARN  impl.LogAppender (LogAppender.java:sendAppendEntriesWithRetries(274)) - s0@group-E7D5050F4609->s3-LogAppender: Failed to appendEntries (retry=3371): org.apache.ratis.thirdparty.io.netty.channel.AbstractChannel$AnnotatedConnectException: Connection refused: /0.0.0.0:40479
2019-09-24 12:06:22,392 INFO  ratis.MiniRaftCluster (MiniRaftCluster.java:lambda$null$5(297)) - TIMED-PRINT: printing ALL groups
  s3:  CLOSING    LEADER s3@group-E7D5050F4609:t1, leader=s3, voted=s3, raftlog=s3@group-E7D5050F4609-SegmentedRaftLog:CLOSED:c-1, conf=0: [s3:0.0.0.0:40479, s4:0.0.0.0:43695, s0:0.0.0.0:44661, s1:0.0.0.0:36487, s2:0.0.0.0:42023], old=null CLOSED
  s4:  RUNNING  FOLLOWER s4@group-E7D5050F4609:t2, leader=s0, voted=s4, raftlog=s4@group-E7D5050F4609-SegmentedRaftLog:OPENED:c2,f2,i2, conf=1: [s3:0.0.0.0:40479, s4:0.0.0.0:43695, s0:0.0.0.0:44661, s1:0.0.0.0:36487, s2:0.0.0.0:42023], old=null RUNNING
  s0:  RUNNING    LEADER s0@group-E7D5050F4609:t2, leader=s0, voted=s0, raftlog=s0@group-E7D5050F4609-SegmentedRaftLog:OPENED:c2,f2,i2, conf=1: [s3:0.0.0.0:40479, s4:0.0.0.0:43695, s0:0.0.0.0:44661, s1:0.0.0.0:36487, s2:0.0.0.0:42023], old=null RUNNING
  s1:  RUNNING  FOLLOWER s1@group-E7D5050F4609:t2, leader=s0, voted=s0, raftlog=s1@group-E7D5050F4609-SegmentedRaftLog:OPENED:c2,f2,i2, conf=1: [s3:0.0.0.0:40479, s4:0.0.0.0:43695, s0:0.0.0.0:44661, s1:0.0.0.0:36487, s2:0.0.0.0:42023], old=null RUNNING
  s2:  RUNNING  FOLLOWER s2@group-E7D5050F4609:t2, leader=s0, voted=s0, raftlog=s2@group-E7D5050F4609-SegmentedRaftLog:OPENED:c2,f2,i2, conf=1: [s3:0.0.0.0:40479, s4:0.0.0.0:43695, s0:0.0.0.0:44661, s1:0.0.0.0:36487, s2:0.0.0.0:42023], old=null RUNNING
2019-09-24 12:06:22,537 WARN  impl.LogAppender (LogAppender.java:sendAppendEntriesWithRetries(274)) - s0@group-E7D5050F4609->s3-LogAppender: Failed to appendEntries (retry=3381): org.apache.ratis.thirdparty.io.netty.channel.AbstractChannel$AnnotatedConnectException: Connection refused: /0.0.0.0:40479
2019-09-24 12:06:22,770 WARN  impl.LogAppender (LogAppender.java:sendAppendEntriesWithRetries(274)) - s0@group-E7D5050F4609->s3-LogAppender: Failed to appendEntries (retry=3391): org.apache.ratis.thirdparty.io.netty.channel.AbstractChannel$AnnotatedConnectException: Connection refused: /0.0.0.0:40479
2019-09-24 12:06:23,003 WARN  impl.LogAppender (LogAppender.java:sendAppendEntriesWithRetries(274)) - s0@group-E7D5050F4609->s3-LogAppender: Failed to appendEntries (retry=3401): org.apache.ratis.thirdparty.io.netty.channel.AbstractChannel$AnnotatedConnectException: Connection refused: /0.0.0.0:40479
2019-09-24 12:06:23,236 WARN  impl.LogAppender (LogAppender.java:sendAppendEntriesWithRetries(274)) - s0@group-E7D5050F4609->s3-LogAppender: Failed to appendEntries (retry=3411): org.apache.ratis.thirdparty.io.netty.channel.AbstractChannel$AnnotatedConnectException: Connection refused: /0.0.0.0:40479
2019-09-24 12:06:23,469 WARN  impl.LogAppender (LogAppender.java:sendAppendEntriesWithRetries(274)) - s0@group-E7D5050F4609->s3-LogAppender: Failed to appendEntries (retry=3421): org.apache.ratis.thirdparty.io.netty.channel.AbstractChannel$AnnotatedConnectException: Connection refused: /0.0.0.0:40479
2019-09-24 12:06:23,702 WARN  impl.LogAppender (LogAppender.java:sendAppendEntriesWithRetries(274)) - s0@group-E7D5050F4609->s3-LogAppender: Failed to appendEntries (retry=3431): org.apache.ratis.thirdparty.io.netty.channel.AbstractChannel$AnnotatedConnectException: Connection refused: /0.0.0.0:40479
2019-09-24 12:06:23,935 WARN  impl.LogAppender (LogAppender.java:sendAppendEntriesWithRetries(274)) - s0@group-E7D5050F4609->s3-LogAppender: Failed to appendEntries (retry=3441): org.apache.ratis.thirdparty.io.netty.channel.AbstractChannel$AnnotatedConnectException: Connection refused: /0.0.0.0:40479
2019-09-24 12:06:24,169 WARN  impl.LogAppender (LogAppender.java:sendAppendEntriesWithRetries(274)) - s0@group-E7D5050F4609->s3-LogAppender: Failed to appendEntries (retry=3451): org.apache.ratis.thirdparty.io.netty.channel.AbstractChannel$AnnotatedConnectException: Connection refused: /0.0.0.0:40479
2019-09-24 12:06:24,402 WARN  impl.LogAppender (LogAppender.java:sendAppendEntriesWithRetries(274)) - s0@group-E7D5050F4609->s3-LogAppender: Failed to appendEntries (retry=3461): org.apache.ratis.thirdparty.io.netty.channel.AbstractChannel$AnnotatedConnectException: Connection refused: /0.0.0.0:40479
2019-09-24 12:06:24,635 WARN  impl.LogAppender (LogAppender.java:sendAppendEntriesWithRetries(274)) - s0@group-E7D5050F4609->s3-LogAppender: Failed to appendEntries (retry=3471): org.apache.ratis.thirdparty.io.netty.channel.AbstractChannel$AnnotatedConnectException: Connection refused: /0.0.0.0:40479
2019-09-24 12:06:24,867 WARN  impl.LogAppender (LogAppender.java:sendAppendEntriesWithRetries(274)) - s0@group-E7D5050F4609->s3-LogAppender: Failed to appendEntries (retry=3481): org.apache.ratis.thirdparty.io.netty.channel.AbstractChannel$AnnotatedConnectException: Connection refused: /0.0.0.0:40479
2019-09-24 12:06:25,099 WARN  impl.LogAppender (LogAppender.java:sendAppendEntriesWithRetries(274)) - s0@group-E7D5050F4609->s3-LogAppender: Failed to appendEntries (retry=3491): org.apache.ratis.thirdparty.io.netty.channel.AbstractChannel$AnnotatedConnectException: Connection refused: /0.0.0.0:40479
2019-09-24 12:06:25,332 WARN  impl.LogAppender (LogAppender.java:sendAppendEntriesWithRetries(274)) - s0@group-E7D5050F4609->s3-LogAppender: Failed to appendEntries (retry=3501): org.apache.ratis.thirdparty.io.netty.channel.AbstractChannel$AnnotatedConnectException: Connection refused: /0.0.0.0:40479
2019-09-24 12:06:25,565 WARN  impl.LogAppender (LogAppender.java:sendAppendEntriesWithRetries(274)) - s0@group-E7D5050F4609->s3-LogAppender: Failed to appendEntries (retry=3511): org.apache.ratis.thirdparty.io.netty.channel.AbstractChannel$AnnotatedConnectException: Connection refused: /0.0.0.0:40479
2019-09-24 12:06:25,798 WARN  impl.LogAppender (LogAppender.java:sendAppendEntriesWithRetries(274)) - s0@group-E7D5050F4609->s3-LogAppender: Failed to appendEntries (retry=3521): org.apache.ratis.thirdparty.io.netty.channel.AbstractChannel$AnnotatedConnectException: Connection refused: /0.0.0.0:40479
2019-09-24 12:06:26,032 WARN  impl.LogAppender (LogAppender.java:sendAppendEntriesWithRetries(274)) - s0@group-E7D5050F4609->s3-LogAppender: Failed to appendEntries (retry=3531): org.apache.ratis.thirdparty.io.netty.channel.AbstractChannel$AnnotatedConnectException: Connection refused: /0.0.0.0:40479
2019-09-24 12:06:26,264 WARN  impl.LogAppender (LogAppender.java:sendAppendEntriesWithRetries(274)) - s0@group-E7D5050F4609->s3-LogAppender: Failed to appendEntries (retry=3541): org.apache.ratis.thirdparty.io.netty.channel.AbstractChannel$AnnotatedConnectException: Connection refused: /0.0.0.0:40479
2019-09-24 12:06:26,497 WARN  impl.LogAppender (LogAppender.java:sendAppendEntriesWithRetries(274)) - s0@group-E7D5050F4609->s3-LogAppender: Failed to appendEntries (retry=3551): org.apache.ratis.thirdparty.io.netty.channel.AbstractChannel$AnnotatedConnectException: Connection refused: /0.0.0.0:40479
2019-09-24 12:06:26,730 WARN  impl.LogAppender (LogAppender.java:sendAppendEntriesWithRetries(274)) - s0@group-E7D5050F4609->s3-LogAppender: Failed to appendEntries (retry=3561): org.apache.ratis.thirdparty.io.netty.channel.AbstractChannel$AnnotatedConnectException: Connection refused: /0.0.0.0:40479
2019-09-24 12:06:26,963 WARN  impl.LogAppender (LogAppender.java:sendAppendEntriesWithRetries(274)) - s0@group-E7D5050F4609->s3-LogAppender: Failed to appendEntries (retry=3571): org.apache.ratis.thirdparty.io.netty.channel.AbstractChannel$AnnotatedConnectException: Connection refused: /0.0.0.0:40479
2019-09-24 12:06:27,196 WARN  impl.LogAppender (LogAppender.java:sendAppendEntriesWithRetries(274)) - s0@group-E7D5050F4609->s3-LogAppender: Failed to appendEntries (retry=3581): org.apache.ratis.thirdparty.io.netty.channel.AbstractChannel$AnnotatedConnectException: Connection refused: /0.0.0.0:40479
2019-09-24 12:06:27,429 WARN  impl.LogAppender (LogAppender.java:sendAppendEntriesWithRetries(274)) - s0@group-E7D5050F4609->s3-LogAppender: Failed to appendEntries (retry=3591): org.apache.ratis.thirdparty.io.netty.channel.AbstractChannel$AnnotatedConnectException: Connection refused: /0.0.0.0:40479
2019-09-24 12:06:27,662 WARN  impl.LogAppender (LogAppender.java:sendAppendEntriesWithRetries(274)) - s0@group-E7D5050F4609->s3-LogAppender: Failed to appendEntries (retry=3601): org.apache.ratis.thirdparty.io.netty.channel.AbstractChannel$AnnotatedConnectException: Connection refused: /0.0.0.0:40479
2019-09-24 12:06:27,894 WARN  impl.LogAppender (LogAppender.java:sendAppendEntriesWithRetries(274)) - s0@group-E7D5050F4609->s3-LogAppender: Failed to appendEntries (retry=3611): org.apache.ratis.thirdparty.io.netty.channel.AbstractChannel$AnnotatedConnectException: Connection refused: /0.0.0.0:40479
2019-09-24 12:06:28,127 WARN  impl.LogAppender (LogAppender.java:sendAppendEntriesWithRetries(274)) - s0@group-E7D5050F4609->s3-LogAppender: Failed to appendEntries (retry=3621): org.apache.ratis.thirdparty.io.netty.channel.AbstractChannel$AnnotatedConnectException: Connection refused: /0.0.0.0:40479
2019-09-24 12:06:28,360 WARN  impl.LogAppender (LogAppender.java:sendAppendEntriesWithRetries(274)) - s0@group-E7D5050F4609->s3-LogAppender: Failed to appendEntries (retry=3631): org.apache.ratis.thirdparty.io.netty.channel.AbstractChannel$AnnotatedConnectException: Connection refused: /0.0.0.0:40479
2019-09-24 12:06:28,592 WARN  impl.LogAppender (LogAppender.java:sendAppendEntriesWithRetries(274)) - s0@group-E7D5050F4609->s3-LogAppender: Failed to appendEntries (retry=3641): org.apache.ratis.thirdparty.io.netty.channel.AbstractChannel$AnnotatedConnectException: Connection refused: /0.0.0.0:40479
2019-09-24 12:06:28,823 WARN  impl.LogAppender (LogAppender.java:sendAppendEntriesWithRetries(274)) - s0@group-E7D5050F4609->s3-LogAppender: Failed to appendEntries (retry=3651): org.apache.ratis.thirdparty.io.netty.channel.AbstractChannel$AnnotatedConnectException: Connection refused: /0.0.0.0:40479
2019-09-24 12:06:29,058 WARN  impl.LogAppender (LogAppender.java:sendAppendEntriesWithRetries(274)) - s0@group-E7D5050F4609->s3-LogAppender: Failed to appendEntries (retry=3661): org.apache.ratis.thirdparty.io.netty.channel.AbstractChannel$AnnotatedConnectException: Connection refused: /0.0.0.0:40479
2019-09-24 12:06:29,291 WARN  impl.LogAppender (LogAppender.java:sendAppendEntriesWithRetries(274)) - s0@group-E7D5050F4609->s3-LogAppender: Failed to appendEntries (retry=3671): org.apache.ratis.thirdparty.io.netty.channel.AbstractChannel$AnnotatedConnectException: Connection refused: /0.0.0.0:40479
2019-09-24 12:06:29,524 WARN  impl.LogAppender (LogAppender.java:sendAppendEntriesWithRetries(274)) - s0@group-E7D5050F4609->s3-LogAppender: Failed to appendEntries (retry=3681): org.apache.ratis.thirdparty.io.netty.channel.AbstractChannel$AnnotatedConnectException: Connection refused: /0.0.0.0:40479
2019-09-24 12:06:29,757 WARN  impl.LogAppender (LogAppender.java:sendAppendEntriesWithRetries(274)) - s0@group-E7D5050F4609->s3-LogAppender: Failed to appendEntries (retry=3691): org.apache.ratis.thirdparty.io.netty.channel.AbstractChannel$AnnotatedConnectException: Connection refused: /0.0.0.0:40479
2019-09-24 12:06:29,990 WARN  impl.LogAppender (LogAppender.java:sendAppendEntriesWithRetries(274)) - s0@group-E7D5050F4609->s3-LogAppender: Failed to appendEntries (retry=3701): org.apache.ratis.thirdparty.io.netty.channel.AbstractChannel$AnnotatedConnectException: Connection refused: /0.0.0.0:40479
2019-09-24 12:06:30,223 WARN  impl.LogAppender (LogAppender.java:sendAppendEntriesWithRetries(274)) - s0@group-E7D5050F4609->s3-LogAppender: Failed to appendEntries (retry=3711): org.apache.ratis.thirdparty.io.netty.channel.AbstractChannel$AnnotatedConnectException: Connection refused: /0.0.0.0:40479
2019-09-24 12:06:30,456 WARN  impl.LogAppender (LogAppender.java:sendAppendEntriesWithRetries(274)) - s0@group-E7D5050F4609->s3-LogAppender: Failed to appendEntries (retry=3721): org.apache.ratis.thirdparty.io.netty.channel.AbstractChannel$AnnotatedConnectException: Connection refused: /0.0.0.0:40479
2019-09-24 12:06:30,689 WARN  impl.LogAppender (LogAppender.java:sendAppendEntriesWithRetries(274)) - s0@group-E7D5050F4609->s3-LogAppender: Failed to appendEntries (retry=3731): org.apache.ratis.thirdparty.io.netty.channel.AbstractChannel$AnnotatedConnectException: Connection refused: /0.0.0.0:40479
2019-09-24 12:06:30,921 WARN  impl.LogAppender (LogAppender.java:sendAppendEntriesWithRetries(274)) - s0@group-E7D5050F4609->s3-LogAppender: Failed to appendEntries (retry=3741): org.apache.ratis.thirdparty.io.netty.channel.AbstractChannel$AnnotatedConnectException: Connection refused: /0.0.0.0:40479
2019-09-24 12:06:31,154 WARN  impl.LogAppender (LogAppender.java:sendAppendEntriesWithRetries(274)) - s0@group-E7D5050F4609->s3-LogAppender: Failed to appendEntries (retry=3751): org.apache.ratis.thirdparty.io.netty.channel.AbstractChannel$AnnotatedConnectException: Connection refused: /0.0.0.0:40479
2019-09-24 12:06:31,386 WARN  impl.LogAppender (LogAppender.java:sendAppendEntriesWithRetries(274)) - s0@group-E7D5050F4609->s3-LogAppender: Failed to appendEntries (retry=3761): org.apache.ratis.thirdparty.io.netty.channel.AbstractChannel$AnnotatedConnectException: Connection refused: /0.0.0.0:40479
2019-09-24 12:06:31,618 WARN  impl.LogAppender (LogAppender.java:sendAppendEntriesWithRetries(274)) - s0@group-E7D5050F4609->s3-LogAppender: Failed to appendEntries (retry=3771): org.apache.ratis.thirdparty.io.netty.channel.AbstractChannel$AnnotatedConnectException: Connection refused: /0.0.0.0:40479
2019-09-24 12:06:31,850 WARN  impl.LogAppender (LogAppender.java:sendAppendEntriesWithRetries(274)) - s0@group-E7D5050F4609->s3-LogAppender: Failed to appendEntries (retry=3781): org.apache.ratis.thirdparty.io.netty.channel.AbstractChannel$AnnotatedConnectException: Connection refused: /0.0.0.0:40479
2019-09-24 12:06:32,083 WARN  impl.LogAppender (LogAppender.java:sendAppendEntriesWithRetries(274)) - s0@group-E7D5050F4609->s3-LogAppender: Failed to appendEntries (retry=3791): org.apache.ratis.thirdparty.io.netty.channel.AbstractChannel$AnnotatedConnectException: Connection refused: /0.0.0.0:40479
2019-09-24 12:06:32,316 WARN  impl.LogAppender (LogAppender.java:sendAppendEntriesWithRetries(274)) - s0@group-E7D5050F4609->s3-LogAppender: Failed to appendEntries (retry=3801): org.apache.ratis.thirdparty.io.netty.channel.AbstractChannel$AnnotatedConnectException: Connection refused: /0.0.0.0:40479
2019-09-24 12:06:32,392 INFO  ratis.MiniRaftCluster (MiniRaftCluster.java:lambda$null$5(297)) - TIMED-PRINT: printing ALL groups
  s3:  CLOSING    LEADER s3@group-E7D5050F4609:t1, leader=s3, voted=s3, raftlog=s3@group-E7D5050F4609-SegmentedRaftLog:CLOSED:c-1, conf=0: [s3:0.0.0.0:40479, s4:0.0.0.0:43695, s0:0.0.0.0:44661, s1:0.0.0.0:36487, s2:0.0.0.0:42023], old=null CLOSED
  s4:  RUNNING  FOLLOWER s4@group-E7D5050F4609:t2, leader=s0, voted=s4, raftlog=s4@group-E7D5050F4609-SegmentedRaftLog:OPENED:c2,f2,i2, conf=1: [s3:0.0.0.0:40479, s4:0.0.0.0:43695, s0:0.0.0.0:44661, s1:0.0.0.0:36487, s2:0.0.0.0:42023], old=null RUNNING
  s0:  RUNNING    LEADER s0@group-E7D5050F4609:t2, leader=s0, voted=s0, raftlog=s0@group-E7D5050F4609-SegmentedRaftLog:OPENED:c2,f2,i2, conf=1: [s3:0.0.0.0:40479, s4:0.0.0.0:43695, s0:0.0.0.0:44661, s1:0.0.0.0:36487, s2:0.0.0.0:42023], old=null RUNNING
  s1:  RUNNING  FOLLOWER s1@group-E7D5050F4609:t2, leader=s0, voted=s0, raftlog=s1@group-E7D5050F4609-SegmentedRaftLog:OPENED:c2,f2,i2, conf=1: [s3:0.0.0.0:40479, s4:0.0.0.0:43695, s0:0.0.0.0:44661, s1:0.0.0.0:36487, s2:0.0.0.0:42023], old=null RUNNING
  s2:  RUNNING  FOLLOWER s2@group-E7D5050F4609:t2, leader=s0, voted=s0, raftlog=s2@group-E7D5050F4609-SegmentedRaftLog:OPENED:c2,f2,i2, conf=1: [s3:0.0.0.0:40479, s4:0.0.0.0:43695, s0:0.0.0.0:44661, s1:0.0.0.0:36487, s2:0.0.0.0:42023], old=null RUNNING
2019-09-24 12:06:32,550 WARN  impl.LogAppender (LogAppender.java:sendAppendEntriesWithRetries(274)) - s0@group-E7D5050F4609->s3-LogAppender: Failed to appendEntries (retry=3811): org.apache.ratis.thirdparty.io.netty.channel.AbstractChannel$AnnotatedConnectException: Connection refused: /0.0.0.0:40479
2019-09-24 12:06:32,783 WARN  impl.LogAppender (LogAppender.java:sendAppendEntriesWithRetries(274)) - s0@group-E7D5050F4609->s3-LogAppender: Failed to appendEntries (retry=3821): org.apache.ratis.thirdparty.io.netty.channel.AbstractChannel$AnnotatedConnectException: Connection refused: /0.0.0.0:40479
2019-09-24 12:06:33,016 WARN  impl.LogAppender (LogAppender.java:sendAppendEntriesWithRetries(274)) - s0@group-E7D5050F4609->s3-LogAppender: Failed to appendEntries (retry=3831): org.apache.ratis.thirdparty.io.netty.channel.AbstractChannel$AnnotatedConnectException: Connection refused: /0.0.0.0:40479
2019-09-24 12:06:33,248 WARN  impl.LogAppender (LogAppender.java:sendAppendEntriesWithRetries(274)) - s0@group-E7D5050F4609->s3-LogAppender: Failed to appendEntries (retry=3841): org.apache.ratis.thirdparty.io.netty.channel.AbstractChannel$AnnotatedConnectException: Connection refused: /0.0.0.0:40479
2019-09-24 12:06:33,481 WARN  impl.LogAppender (LogAppender.java:sendAppendEntriesWithRetries(274)) - s0@group-E7D5050F4609->s3-LogAppender: Failed to appendEntries (retry=3851): org.apache.ratis.thirdparty.io.netty.channel.AbstractChannel$AnnotatedConnectException: Connection refused: /0.0.0.0:40479
2019-09-24 12:06:33,714 WARN  impl.LogAppender (LogAppender.java:sendAppendEntriesWithRetries(274)) - s0@group-E7D5050F4609->s3-LogAppender: Failed to appendEntries (retry=3861): org.apache.ratis.thirdparty.io.netty.channel.AbstractChannel$AnnotatedConnectException: Connection refused: /0.0.0.0:40479
2019-09-24 12:06:33,948 WARN  impl.LogAppender (LogAppender.java:sendAppendEntriesWithRetries(274)) - s0@group-E7D5050F4609->s3-LogAppender: Failed to appendEntries (retry=3871): org.apache.ratis.thirdparty.io.netty.channel.AbstractChannel$AnnotatedConnectException: Connection refused: /0.0.0.0:40479
2019-09-24 12:06:34,181 WARN  impl.LogAppender (LogAppender.java:sendAppendEntriesWithRetries(274)) - s0@group-E7D5050F4609->s3-LogAppender: Failed to appendEntries (retry=3881): org.apache.ratis.thirdparty.io.netty.channel.AbstractChannel$AnnotatedConnectException: Connection refused: /0.0.0.0:40479
2019-09-24 12:06:34,414 WARN  impl.LogAppender (LogAppender.java:sendAppendEntriesWithRetries(274)) - s0@group-E7D5050F4609->s3-LogAppender: Failed to appendEntries (retry=3891): org.apache.ratis.thirdparty.io.netty.channel.AbstractChannel$AnnotatedConnectException: Connection refused: /0.0.0.0:40479
2019-09-24 12:06:34,647 WARN  impl.LogAppender (LogAppender.java:sendAppendEntriesWithRetries(274)) - s0@group-E7D5050F4609->s3-LogAppender: Failed to appendEntries (retry=3901): org.apache.ratis.thirdparty.io.netty.channel.AbstractChannel$AnnotatedConnectException: Connection refused: /0.0.0.0:40479
2019-09-24 12:06:34,880 WARN  impl.LogAppender (LogAppender.java:sendAppendEntriesWithRetries(274)) - s0@group-E7D5050F4609->s3-LogAppender: Failed to appendEntries (retry=3911): org.apache.ratis.thirdparty.io.netty.channel.AbstractChannel$AnnotatedConnectException: Connection refused: /0.0.0.0:40479
2019-09-24 12:06:35,113 WARN  impl.LogAppender (LogAppender.java:sendAppendEntriesWithRetries(274)) - s0@group-E7D5050F4609->s3-LogAppender: Failed to appendEntries (retry=3921): org.apache.ratis.thirdparty.io.netty.channel.AbstractChannel$AnnotatedConnectException: Connection refused: /0.0.0.0:40479
2019-09-24 12:06:35,347 WARN  impl.LogAppender (LogAppender.java:sendAppendEntriesWithRetries(274)) - s0@group-E7D5050F4609->s3-LogAppender: Failed to appendEntries (retry=3931): org.apache.ratis.thirdparty.io.netty.channel.AbstractChannel$AnnotatedConnectException: Connection refused: /0.0.0.0:40479
2019-09-24 12:06:35,580 WARN  impl.LogAppender (LogAppender.java:sendAppendEntriesWithRetries(274)) - s0@group-E7D5050F4609->s3-LogAppender: Failed to appendEntries (retry=3941): org.apache.ratis.thirdparty.io.netty.channel.AbstractChannel$AnnotatedConnectException: Connection refused: /0.0.0.0:40479
2019-09-24 12:06:35,813 WARN  impl.LogAppender (LogAppender.java:sendAppendEntriesWithRetries(274)) - s0@group-E7D5050F4609->s3-LogAppender: Failed to appendEntries (retry=3951): org.apache.ratis.thirdparty.io.netty.channel.AbstractChannel$AnnotatedConnectException: Connection refused: /0.0.0.0:40479
2019-09-24 12:06:36,046 WARN  impl.LogAppender (LogAppender.java:sendAppendEntriesWithRetries(274)) - s0@group-E7D5050F4609->s3-LogAppender: Failed to appendEntries (retry=3961): org.apache.ratis.thirdparty.io.netty.channel.AbstractChannel$AnnotatedConnectException: Connection refused: /0.0.0.0:40479
2019-09-24 12:06:36,279 WARN  impl.LogAppender (LogAppender.java:sendAppendEntriesWithRetries(274)) - s0@group-E7D5050F4609->s3-LogAppender: Failed to appendEntries (retry=3971): org.apache.ratis.thirdparty.io.netty.channel.AbstractChannel$AnnotatedConnectException: Connection refused: /0.0.0.0:40479
2019-09-24 12:06:36,512 WARN  impl.LogAppender (LogAppender.java:sendAppendEntriesWithRetries(274)) - s0@group-E7D5050F4609->s3-LogAppender: Failed to appendEntries (retry=3981): org.apache.ratis.thirdparty.io.netty.channel.AbstractChannel$AnnotatedConnectException: Connection refused: /0.0.0.0:40479
2019-09-24 12:06:36,745 WARN  impl.LogAppender (LogAppender.java:sendAppendEntriesWithRetries(274)) - s0@group-E7D5050F4609->s3-LogAppender: Failed to appendEntries (retry=3991): org.apache.ratis.thirdparty.io.netty.channel.AbstractChannel$AnnotatedConnectException: Connection refused: /0.0.0.0:40479
2019-09-24 12:06:36,979 WARN  impl.LogAppender (LogAppender.java:sendAppendEntriesWithRetries(274)) - s0@group-E7D5050F4609->s3-LogAppender: Failed to appendEntries (retry=4001): org.apache.ratis.thirdparty.io.netty.channel.AbstractChannel$AnnotatedConnectException: Connection refused: /0.0.0.0:40479
2019-09-24 12:06:37,211 WARN  impl.LogAppender (LogAppender.java:sendAppendEntriesWithRetries(274)) - s0@group-E7D5050F4609->s3-LogAppender: Failed to appendEntries (retry=4011): org.apache.ratis.thirdparty.io.netty.channel.AbstractChannel$AnnotatedConnectException: Connection refused: /0.0.0.0:40479
2019-09-24 12:06:37,444 WARN  impl.LogAppender (LogAppender.java:sendAppendEntriesWithRetries(274)) - s0@group-E7D5050F4609->s3-LogAppender: Failed to appendEntries (retry=4021): org.apache.ratis.thirdparty.io.netty.channel.AbstractChannel$AnnotatedConnectException: Connection refused: /0.0.0.0:40479
2019-09-24 12:06:37,678 WARN  impl.LogAppender (LogAppender.java:sendAppendEntriesWithRetries(274)) - s0@group-E7D5050F4609->s3-LogAppender: Failed to appendEntries (retry=4031): org.apache.ratis.thirdparty.io.netty.channel.AbstractChannel$AnnotatedConnectException: Connection refused: /0.0.0.0:40479
2019-09-24 12:06:37,911 WARN  impl.LogAppender (LogAppender.java:sendAppendEntriesWithRetries(274)) - s0@group-E7D5050F4609->s3-LogAppender: Failed to appendEntries (retry=4041): org.apache.ratis.thirdparty.io.netty.channel.AbstractChannel$AnnotatedConnectException: Connection refused: /0.0.0.0:40479
2019-09-24 12:06:38,144 WARN  impl.LogAppender (LogAppender.java:sendAppendEntriesWithRetries(274)) - s0@group-E7D5050F4609->s3-LogAppender: Failed to appendEntries (retry=4051): org.apache.ratis.thirdparty.io.netty.channel.AbstractChannel$AnnotatedConnectException: Connection refused: /0.0.0.0:40479
2019-09-24 12:06:38,377 WARN  impl.LogAppender (LogAppender.java:sendAppendEntriesWithRetries(274)) - s0@group-E7D5050F4609->s3-LogAppender: Failed to appendEntries (retry=4061): org.apache.ratis.thirdparty.io.netty.channel.AbstractChannel$AnnotatedConnectException: Connection refused: /0.0.0.0:40479
2019-09-24 12:06:38,610 WARN  impl.LogAppender (LogAppender.java:sendAppendEntriesWithRetries(274)) - s0@group-E7D5050F4609->s3-LogAppender: Failed to appendEntries (retry=4071): org.apache.ratis.thirdparty.io.netty.channel.AbstractChannel$AnnotatedConnectException: Connection refused: /0.0.0.0:40479
2019-09-24 12:06:38,843 WARN  impl.LogAppender (LogAppender.java:sendAppendEntriesWithRetries(274)) - s0@group-E7D5050F4609->s3-LogAppender: Failed to appendEntries (retry=4081): org.apache.ratis.thirdparty.io.netty.channel.AbstractChannel$AnnotatedConnectException: Connection refused: /0.0.0.0:40479
2019-09-24 12:06:39,075 WARN  impl.LogAppender (LogAppender.java:sendAppendEntriesWithRetries(274)) - s0@group-E7D5050F4609->s3-LogAppender: Failed to appendEntries (retry=4091): org.apache.ratis.thirdparty.io.netty.channel.AbstractChannel$AnnotatedConnectException: Connection refused: /0.0.0.0:40479
2019-09-24 12:06:39,308 WARN  impl.LogAppender (LogAppender.java:sendAppendEntriesWithRetries(274)) - s0@group-E7D5050F4609->s3-LogAppender: Failed to appendEntries (retry=4101): org.apache.ratis.thirdparty.io.netty.channel.AbstractChannel$AnnotatedConnectException: Connection refused: /0.0.0.0:40479
2019-09-24 12:06:39,541 WARN  impl.LogAppender (LogAppender.java:sendAppendEntriesWithRetries(274)) - s0@group-E7D5050F4609->s3-LogAppender: Failed to appendEntries (retry=4111): org.apache.ratis.thirdparty.io.netty.channel.AbstractChannel$AnnotatedConnectException: Connection refused: /0.0.0.0:40479
2019-09-24 12:06:39,774 WARN  impl.LogAppender (LogAppender.java:sendAppendEntriesWithRetries(274)) - s0@group-E7D5050F4609->s3-LogAppender: Failed to appendEntries (retry=4121): org.apache.ratis.thirdparty.io.netty.channel.AbstractChannel$AnnotatedConnectException: Connection refused: /0.0.0.0:40479
2019-09-24 12:06:40,007 WARN  impl.LogAppender (LogAppender.java:sendAppendEntriesWithRetries(274)) - s0@group-E7D5050F4609->s3-LogAppender: Failed to appendEntries (retry=4131): org.apache.ratis.thirdparty.io.netty.channel.AbstractChannel$AnnotatedConnectException: Connection refused: /0.0.0.0:40479
2019-09-24 12:06:40,240 WARN  impl.LogAppender (LogAppender.java:sendAppendEntriesWithRetries(274)) - s0@group-E7D5050F4609->s3-LogAppender: Failed to appendEntries (retry=4141): org.apache.ratis.thirdparty.io.netty.channel.AbstractChannel$AnnotatedConnectException: Connection refused: /0.0.0.0:40479
2019-09-24 12:06:40,474 WARN  impl.LogAppender (LogAppender.java:sendAppendEntriesWithRetries(274)) - s0@group-E7D5050F4609->s3-LogAppender: Failed to appendEntries (retry=4151): org.apache.ratis.thirdparty.io.netty.channel.AbstractChannel$AnnotatedConnectException: Connection refused: /0.0.0.0:40479
2019-09-24 12:06:40,707 WARN  impl.LogAppender (LogAppender.java:sendAppendEntriesWithRetries(274)) - s0@group-E7D5050F4609->s3-LogAppender: Failed to appendEntries (retry=4161): org.apache.ratis.thirdparty.io.netty.channel.AbstractChannel$AnnotatedConnectException: Connection refused: /0.0.0.0:40479
2019-09-24 12:06:40,940 WARN  impl.LogAppender (LogAppender.java:sendAppendEntriesWithRetries(274)) - s0@group-E7D5050F4609->s3-LogAppender: Failed to appendEntries (retry=4171): org.apache.ratis.thirdparty.io.netty.channel.AbstractChannel$AnnotatedConnectException: Connection refused: /0.0.0.0:40479
2019-09-24 12:06:41,173 WARN  impl.LogAppender (LogAppender.java:sendAppendEntriesWithRetries(274)) - s0@group-E7D5050F4609->s3-LogAppender: Failed to appendEntries (retry=4181): org.apache.ratis.thirdparty.io.netty.channel.AbstractChannel$AnnotatedConnectException: Connection refused: /0.0.0.0:40479
2019-09-24 12:06:41,407 WARN  impl.LogAppender (LogAppender.java:sendAppendEntriesWithRetries(274)) - s0@group-E7D5050F4609->s3-LogAppender: Failed to appendEntries (retry=4191): org.apache.ratis.thirdparty.io.netty.channel.AbstractChannel$AnnotatedConnectException: Connection refused: /0.0.0.0:40479
2019-09-24 12:06:41,640 WARN  impl.LogAppender (LogAppender.java:sendAppendEntriesWithRetries(274)) - s0@group-E7D5050F4609->s3-LogAppender: Failed to appendEntries (retry=4201): org.apache.ratis.thirdparty.io.netty.channel.AbstractChannel$AnnotatedConnectException: Connection refused: /0.0.0.0:40479
2019-09-24 12:06:41,873 WARN  impl.LogAppender (LogAppender.java:sendAppendEntriesWithRetries(274)) - s0@group-E7D5050F4609->s3-LogAppender: Failed to appendEntries (retry=4211): org.apache.ratis.thirdparty.io.netty.channel.AbstractChannel$AnnotatedConnectException: Connection refused: /0.0.0.0:40479
2019-09-24 12:06:42,106 WARN  impl.LogAppender (LogAppender.java:sendAppendEntriesWithRetries(274)) - s0@group-E7D5050F4609->s3-LogAppender: Failed to appendEntries (retry=4221): org.apache.ratis.thirdparty.io.netty.channel.AbstractChannel$AnnotatedConnectException: Connection refused: /0.0.0.0:40479

2019-09-24 12:06:42,293 org.junit.runners.model.TestTimedOutException: test timed out after 100 seconds
	at java.lang.Object.wait(Native Method)
	at java.lang.Object.wait(Object.java:502)
	at org.apache.ratis.thirdparty.io.netty.util.concurrent.DefaultPromise.awaitUninterruptibly(DefaultPromise.java:253)
	at org.apache.ratis.thirdparty.io.netty.channel.DefaultChannelPromise.awaitUninterruptibly(DefaultChannelPromise.java:137)
	at org.apache.ratis.thirdparty.io.netty.channel.DefaultChannelPromise.awaitUninterruptibly(DefaultChannelPromise.java:30)
	at org.apache.ratis.thirdparty.io.netty.util.concurrent.DefaultPromise.syncUninterruptibly(DefaultPromise.java:344)
	at org.apache.ratis.thirdparty.io.netty.channel.DefaultChannelPromise.syncUninterruptibly(DefaultChannelPromise.java:125)
	at org.apache.ratis.thirdparty.io.netty.channel.DefaultChannelPromise.syncUninterruptibly(DefaultChannelPromise.java:30)
	at org.apache.ratis.netty.NettyClient.lambda$close$1(NettyClient.java:62)
	at org.apache.ratis.netty.NettyClient$$Lambda$640/1398263809.run(Unknown Source)
	at org.apache.ratis.util.LifeCycle.lambda$checkStateAndClose$2(LifeCycle.java:231)
	at org.apache.ratis.util.LifeCycle$$Lambda$611/371475908.get(Unknown Source)
	at org.apache.ratis.util.LifeCycle.checkStateAndClose(LifeCycle.java:251)
	at org.apache.ratis.util.LifeCycle.checkStateAndClose(LifeCycle.java:229)
	at org.apache.ratis.netty.NettyClient.close(NettyClient.java:61)
	at org.apache.ratis.netty.NettyRpcProxy$Connection.close(NettyRpcProxy.java:145)
	at org.apache.ratis.netty.NettyRpcProxy.close(NettyRpcProxy.java:164)
	at org.apache.ratis.util.PeerProxyMap$PeerAndProxy.lambda$close$1(PeerProxyMap.java:74)
	at org.apache.ratis.util.PeerProxyMap$PeerAndProxy$$Lambda$635/926331056.run(Unknown Source)
	at org.apache.ratis.util.LifeCycle.lambda$checkStateAndClose$2(LifeCycle.java:231)
	at org.apache.ratis.util.LifeCycle$$Lambda$611/371475908.get(Unknown Source)
	at org.apache.ratis.util.LifeCycle.checkStateAndClose(LifeCycle.java:251)
	at org.apache.ratis.util.LifeCycle.checkStateAndClose(LifeCycle.java:229)
	at org.apache.ratis.util.PeerProxyMap$PeerAndProxy.close(PeerProxyMap.java:70)
	at org.apache.ratis.util.PeerProxyMap$$Lambda$631/718103713.accept(Unknown Source)
	at java.util.concurrent.ConcurrentHashMap$ValuesView.forEach(ConcurrentHashMap.java:4707)
	at org.apache.ratis.util.PeerProxyMap.close(PeerProxyMap.java:148)
	at org.apache.ratis.netty.NettyRpcProxy$PeerMap.close(NettyRpcProxy.java:64)
	at org.apache.ratis.server.impl.RaftServerRpcWithProxy.closeImpl(RaftServerRpcWithProxy.java:80)
	at org.apache.ratis.netty.server.NettyRpcService.closeImpl(NettyRpcService.java:145)
	at org.apache.ratis.server.impl.RaftServerRpcWithProxy.lambda$close$2(RaftServerRpcWithProxy.java:76)
	at org.apache.ratis.server.impl.RaftServerRpcWithProxy$$Lambda$630/1711570618.run(Unknown Source)
	at org.apache.ratis.util.LifeCycle.lambda$checkStateAndClose$2(LifeCycle.java:231)
	at org.apache.ratis.util.LifeCycle$$Lambda$611/371475908.get(Unknown Source)
	at org.apache.ratis.util.LifeCycle.checkStateAndClose(LifeCycle.java:251)
	at org.apache.ratis.util.LifeCycle.checkStateAndClose(LifeCycle.java:229)
	at org.apache.ratis.server.impl.RaftServerRpcWithProxy.close(RaftServerRpcWithProxy.java:76)
	at org.apache.ratis.server.impl.RaftServerProxy.lambda$close$4(RaftServerProxy.java:318)
	at org.apache.ratis.server.impl.RaftServerProxy$$Lambda$605/1152095136.run(Unknown Source)
	at org.apache.ratis.util.LifeCycle.lambda$checkStateAndClose$2(LifeCycle.java:231)
	at org.apache.ratis.util.LifeCycle$$Lambda$611/371475908.get(Unknown Source)
	at org.apache.ratis.util.LifeCycle.checkStateAndClose(LifeCycle.java:251)
	at org.apache.ratis.util.LifeCycle.checkStateAndClose(LifeCycle.java:229)
	at org.apache.ratis.server.impl.RaftServerProxy.close(RaftServerProxy.java:313)
	at org.apache.ratis.MiniRaftCluster.killServer(MiniRaftCluster.java:459)
	at org.apache.ratis.RaftTestUtil.waitAndKillLeader(RaftTestUtil.java:118)
	at org.apache.ratis.server.impl.LeaderElectionTests.testBasicLeaderElection(LeaderElectionTests.java:63)
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.lang.reflect.Method.invoke(Method.java:498)
	at org.junit.runners.model.FrameworkMethod$1.runReflectiveCall(FrameworkMethod.java:50)
	at org.junit.internal.runners.model.ReflectiveCallable.run(ReflectiveCallable.java:12)
	at org.junit.runners.model.FrameworkMethod.invokeExplosively(FrameworkMethod.java:47)
	at org.junit.internal.runners.statements.InvokeMethod.evaluate(InvokeMethod.java:17)
	at org.junit.internal.runners.statements.RunAfters.evaluate(RunAfters.java:27)
	at org.junit.internal.runners.statements.FailOnTimeout$CallableStatement.call(FailOnTimeout.java:298)
	at org.junit.internal.runners.statements.FailOnTimeout$CallableStatement.call(FailOnTimeout.java:292)
	at java.util.concurrent.FutureTask.run(FutureTask.java:266)
	at java.lang.Thread.run(Thread.java:748)
2019-09-24 12:06:42,396 INFO  ratis.MiniRaftCluster (MiniRaftCluster.java:lambda$null$5(297)) - TIMED-PRINT: printing ALL groups
  s3:  CLOSING    LEADER s3@group-E7D5050F4609:t1, leader=s3, voted=s3, raftlog=s3@group-E7D5050F4609-SegmentedRaftLog:CLOSED:c-1, conf=0: [s3:0.0.0.0:40479, s4:0.0.0.0:43695, s0:0.0.0.0:44661, s1:0.0.0.0:36487, s2:0.0.0.0:42023], old=null CLOSED
  s4:  RUNNING  FOLLOWER s4@group-E7D5050F4609:t2, leader=s0, voted=s4, raftlog=s4@group-E7D5050F4609-SegmentedRaftLog:OPENED:c2,f2,i2, conf=1: [s3:0.0.0.0:40479, s4:0.0.0.0:43695, s0:0.0.0.0:44661, s1:0.0.0.0:36487, s2:0.0.0.0:42023], old=null RUNNING
  s0:  RUNNING    LEADER s0@group-E7D5050F4609:t2, leader=s0, voted=s0, raftlog=s0@group-E7D5050F4609-SegmentedRaftLog:OPENED:c2,f2,i2, conf=1: [s3:0.0.0.0:40479, s4:0.0.0.0:43695, s0:0.0.0.0:44661, s1:0.0.0.0:36487, s2:0.0.0.0:42023], old=null RUNNING
  s1:  RUNNING  FOLLOWER s1@group-E7D5050F4609:t2, leader=s0, voted=s0, raftlog=s1@group-E7D5050F4609-SegmentedRaftLog:OPENED:c2,f2,i2, conf=1: [s3:0.0.0.0:40479, s4:0.0.0.0:43695, s0:0.0.0.0:44661, s1:0.0.0.0:36487, s2:0.0.0.0:42023], old=null RUNNING
  s2:  RUNNING  FOLLOWER s2@group-E7D5050F4609:t2, leader=s0, voted=s0, raftlog=s2@group-E7D5050F4609-SegmentedRaftLog:OPENED:c2,f2,i2, conf=1: [s3:0.0.0.0:40479, s4:0.0.0.0:43695, s0:0.0.0.0:44661, s1:0.0.0.0:36487, s2:0.0.0.0:42023], old=null RUNNING
2019-09-24 12:06:42,408 WARN  impl.LogAppender (LogAppender.java:sendAppendEntriesWithRetries(274)) - s0@group-E7D5050F4609->s3-LogAppender: Failed to appendEntries (retry=4231): org.apache.ratis.thirdparty.io.netty.channel.AbstractChannel$AnnotatedConnectException: Connection refused: /0.0.0.0:40479
"org.apache.ratis.server.impl.LogAppender$AppenderDaemon$$Lambda$444/993879236@2585260b" Id=518 TIMED_WAITING on org.apache.ratis.server.impl.LogAppender@5cc7c2a6
	at java.lang.Object.wait(Native Method)
	-  waiting on org.apache.ratis.server.impl.LogAppender@5cc7c2a6
	at org.apache.ratis.server.impl.LogAppender.runAppenderImpl(LogAppender.java:473)
	at org.apache.ratis.server.impl.LogAppender$AppenderDaemon.run(LogAppender.java:76)
	at org.apache.ratis.server.impl.LogAppender$AppenderDaemon$$Lambda$444/993879236.run(Unknown Source)
	at java.lang.Thread.run(Thread.java:748)


"org.apache.ratis.server.impl.LogAppender$AppenderDaemon$$Lambda$444/993879236@1752bd03" Id=517 TIMED_WAITING on org.apache.ratis.server.impl.LogAppender@b97c004
	at java.lang.Object.wait(Native Method)
	-  waiting on org.apache.ratis.server.impl.LogAppender@b97c004
	at org.apache.ratis.server.impl.LogAppender.runAppenderImpl(LogAppender.java:473)
	at org.apache.ratis.server.impl.LogAppender$AppenderDaemon.run(LogAppender.java:76)
	at org.apache.ratis.server.impl.LogAppender$AppenderDaemon$$Lambda$444/993879236.run(Unknown Source)
	at java.lang.Thread.run(Thread.java:748)


"org.apache.ratis.server.impl.LogAppender$AppenderDaemon$$Lambda$444/993879236@2ab5281b" Id=516 TIMED_WAITING on org.apache.ratis.server.impl.LogAppender@4590c9c3
	at java.lang.Object.wait(Native Method)
	-  waiting on org.apache.ratis.server.impl.LogAppender@4590c9c3
	at org.apache.ratis.server.impl.LogAppender.runAppenderImpl(LogAppender.java:473)
	at org.apache.ratis.server.impl.LogAppender$AppenderDaemon.run(LogAppender.java:76)
	at org.apache.ratis.server.impl.LogAppender$AppenderDaemon$$Lambda$444/993879236.run(Unknown Source)
	at java.lang.Thread.run(Thread.java:748)


"org.apache.ratis.server.impl.LogAppender$AppenderDaemon$$Lambda$444/993879236@1f943eb7" Id=515 TIMED_WAITING
	at java.lang.Thread.sleep(Native Method)
	at java.lang.Thread.sleep(Thread.java:340)
	at java.util.concurrent.TimeUnit.sleep(TimeUnit.java:386)
	at org.apache.ratis.util.TimeDuration.sleep(TimeDuration.java:215)
	at org.apache.ratis.util.TimeDuration.sleep(TimeDuration.java:207)
	at org.apache.ratis.server.impl.LogAppender.sendAppendEntriesWithRetries(LogAppender.java:279)
	at org.apache.ratis.server.impl.LogAppender.runAppenderImpl(LogAppender.java:463)
	at org.apache.ratis.server.impl.LogAppender$AppenderDaemon.run(LogAppender.java:76)
	...


"Thread-327" Id=513 TIMED_WAITING on java.util.concurrent.locks.AbstractQueuedSynchronizer$ConditionObject@32e6e9c3
	at sun.misc.Unsafe.park(Native Method)
	-  waiting on java.util.concurrent.locks.AbstractQueuedSynchronizer$ConditionObject@32e6e9c3
	at java.util.concurrent.locks.LockSupport.parkNanos(LockSupport.java:215)
	at java.util.concurrent.locks.AbstractQueuedSynchronizer$ConditionObject.awaitNanos(AbstractQueuedSynchronizer.java:2078)
	at java.util.concurrent.ArrayBlockingQueue.poll(ArrayBlockingQueue.java:418)
	at org.apache.ratis.server.impl.LeaderState$EventQueue.poll(LeaderState.java:116)
	at org.apache.ratis.server.impl.LeaderState$EventProcessor.run(LeaderState.java:468)


"metrics-hadoop-metrics2-reporter-36-thread-1" Id=514 TIMED_WAITING on java.util.concurrent.locks.AbstractQueuedSynchronizer$ConditionObject@5056dfcb
	at sun.misc.Unsafe.park(Native Method)
	-  waiting on java.util.concurrent.locks.AbstractQueuedSynchronizer$ConditionObject@5056dfcb
	at java.util.concurrent.locks.LockSupport.parkNanos(LockSupport.java:215)
	at java.util.concurrent.locks.AbstractQueuedSynchronizer$ConditionObject.awaitNanos(AbstractQueuedSynchronizer.java:2078)
	at java.util.concurrent.ScheduledThreadPoolExecutor$DelayedWorkQueue.take(ScheduledThreadPoolExecutor.java:1093)
	at java.util.concurrent.ScheduledThreadPoolExecutor$DelayedWorkQueue.take(ScheduledThreadPoolExecutor.java:809)
	at java.util.concurrent.ThreadPoolExecutor.getTask(ThreadPoolExecutor.java:1074)
	at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1134)
	at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:624)
	...


"Thread-325" Id=511 TIMED_WAITING
	at java.lang.Thread.sleep(Native Method)
	at org.apache.ratis.util.JavaUtils.sleep(JavaUtils.java:247)
	at org.apache.ratis.server.impl.FollowerState.run(FollowerState.java:97)


"Thread-323" Id=509 TIMED_WAITING
	at java.lang.Thread.sleep(Native Method)
	at org.apache.ratis.util.JavaUtils.sleep(JavaUtils.java:247)
	at org.apache.ratis.server.impl.FollowerState.run(FollowerState.java:97)


"Thread-322" Id=508 TIMED_WAITING
	at java.lang.Thread.sleep(Native Method)
	at org.apache.ratis.util.JavaUtils.sleep(JavaUtils.java:247)
	at org.apache.ratis.server.impl.FollowerState.run(FollowerState.java:97)


"nioEventLoopGroup-39-4" Id=507 RUNNABLE (in native)
	at sun.nio.ch.EPollArrayWrapper.epollWait(Native Method)
	at sun.nio.ch.EPollArrayWrapper.poll(EPollArrayWrapper.java:269)
	at sun.nio.ch.EPollSelectorImpl.doSelect(EPollSelectorImpl.java:93)
	at sun.nio.ch.SelectorImpl.lockAndDoSelect(SelectorImpl.java:86)
	-  locked org.apache.ratis.thirdparty.io.netty.channel.nio.SelectedSelectionKeySet@6574b225
	-  locked java.util.Collections$UnmodifiableSet@2669b199
	-  locked sun.nio.ch.EPollSelectorImpl@2344fc66
	at sun.nio.ch.SelectorImpl.select(SelectorImpl.java:97)
	at org.apache.ratis.thirdparty.io.netty.channel.nio.SelectedSelectionKeySetSelector.select(SelectedSelectionKeySetSelector.java:62)
	at org.apache.ratis.thirdparty.io.netty.channel.nio.NioEventLoop.select(NioEventLoop.java:753)
	at org.apache.ratis.thirdparty.io.netty.channel.nio.NioEventLoop.run(NioEventLoop.java:408)
	...


"nioEventLoopGroup-33-3" Id=506 RUNNABLE (in native)
	at sun.nio.ch.EPollArrayWrapper.epollWait(Native Method)
	at sun.nio.ch.EPollArrayWrapper.poll(EPollArrayWrapper.java:269)
	at sun.nio.ch.EPollSelectorImpl.doSelect(EPollSelectorImpl.java:93)
	at sun.nio.ch.SelectorImpl.lockAndDoSelect(SelectorImpl.java:86)
	-  locked org.apache.ratis.thirdparty.io.netty.channel.nio.SelectedSelectionKeySet@458ad742
	-  locked java.util.Collections$UnmodifiableSet@5afa04c
	-  locked sun.nio.ch.EPollSelectorImpl@6ea12c19
	at sun.nio.ch.SelectorImpl.select(SelectorImpl.java:97)
	at org.apache.ratis.thirdparty.io.netty.channel.nio.SelectedSelectionKeySetSelector.select(SelectedSelectionKeySetSelector.java:62)
	at org.apache.ratis.thirdparty.io.netty.channel.nio.NioEventLoop.select(NioEventLoop.java:753)
	at org.apache.ratis.thirdparty.io.netty.channel.nio.NioEventLoop.run(NioEventLoop.java:408)
	...


"nioEventLoopGroup-39-3" Id=505 RUNNABLE (in native)
	at sun.nio.ch.EPollArrayWrapper.epollWait(Native Method)
	at sun.nio.ch.EPollArrayWrapper.poll(EPollArrayWrapper.java:269)
	at sun.nio.ch.EPollSelectorImpl.doSelect(EPollSelectorImpl.java:93)
	at sun.nio.ch.SelectorImpl.lockAndDoSelect(SelectorImpl.java:86)
	-  locked org.apache.ratis.thirdparty.io.netty.channel.nio.SelectedSelectionKeySet@6a024a67
	-  locked java.util.Collections$UnmodifiableSet@7921b0a2
	-  locked sun.nio.ch.EPollSelectorImpl@174d20a
	at sun.nio.ch.SelectorImpl.select(SelectorImpl.java:97)
	at org.apache.ratis.thirdparty.io.netty.channel.nio.SelectedSelectionKeySetSelector.select(SelectedSelectionKeySetSelector.java:62)
	at org.apache.ratis.thirdparty.io.netty.channel.nio.NioEventLoop.select(NioEventLoop.java:753)
	at org.apache.ratis.thirdparty.io.netty.channel.nio.NioEventLoop.run(NioEventLoop.java:408)
	...


"nioEventLoopGroup-36-3" Id=504 RUNNABLE (in native)
	at sun.nio.ch.EPollArrayWrapper.epollWait(Native Method)
	at sun.nio.ch.EPollArrayWrapper.poll(EPollArrayWrapper.java:269)
	at sun.nio.ch.EPollSelectorImpl.doSelect(EPollSelectorImpl.java:93)
	at sun.nio.ch.SelectorImpl.lockAndDoSelect(SelectorImpl.java:86)
	-  locked org.apache.ratis.thirdparty.io.netty.channel.nio.SelectedSelectionKeySet@66d2e7d9
	-  locked java.util.Collections$UnmodifiableSet@1efbd816
	-  locked sun.nio.ch.EPollSelectorImpl@6a2bcfcb
	at sun.nio.ch.SelectorImpl.select(SelectorImpl.java:97)
	at org.apache.ratis.thirdparty.io.netty.channel.nio.SelectedSelectionKeySetSelector.select(SelectedSelectionKeySetSelector.java:62)
	at org.apache.ratis.thirdparty.io.netty.channel.nio.NioEventLoop.select(NioEventLoop.java:753)
	at org.apache.ratis.thirdparty.io.netty.channel.nio.NioEventLoop.run(NioEventLoop.java:408)
	...


"nioEventLoopGroup-30-3" Id=503 RUNNABLE (in native)
	at sun.nio.ch.EPollArrayWrapper.epollWait(Native Method)
	at sun.nio.ch.EPollArrayWrapper.poll(EPollArrayWrapper.java:269)
	at sun.nio.ch.EPollSelectorImpl.doSelect(EPollSelectorImpl.java:93)
	at sun.nio.ch.SelectorImpl.lockAndDoSelect(SelectorImpl.java:86)
	-  locked org.apache.ratis.thirdparty.io.netty.channel.nio.SelectedSelectionKeySet@4de8b406
	-  locked java.util.Collections$UnmodifiableSet@3c756e4d
	-  locked sun.nio.ch.EPollSelectorImpl@7c0e2abd
	at sun.nio.ch.SelectorImpl.select(SelectorImpl.java:97)
	at org.apache.ratis.thirdparty.io.netty.channel.nio.SelectedSelectionKeySetSelector.select(SelectedSelectionKeySetSelector.java:62)
	at org.apache.ratis.thirdparty.io.netty.channel.nio.NioEventLoop.select(NioEventLoop.java:753)
	at org.apache.ratis.thirdparty.io.netty.channel.nio.NioEventLoop.run(NioEventLoop.java:408)
	...


"nioEventLoopGroup-36-2" Id=502 RUNNABLE (in native)
	at sun.nio.ch.EPollArrayWrapper.epollWait(Native Method)
	at sun.nio.ch.EPollArrayWrapper.poll(EPollArrayWrapper.java:269)
	at sun.nio.ch.EPollSelectorImpl.doSelect(EPollSelectorImpl.java:93)
	at sun.nio.ch.SelectorImpl.lockAndDoSelect(SelectorImpl.java:86)
	-  locked org.apache.ratis.thirdparty.io.netty.channel.nio.SelectedSelectionKeySet@48eff760
	-  locked java.util.Collections$UnmodifiableSet@402f32ff
	-  locked sun.nio.ch.EPollSelectorImpl@573f2bb1
	at sun.nio.ch.SelectorImpl.select(SelectorImpl.java:97)
	at org.apache.ratis.thirdparty.io.netty.channel.nio.SelectedSelectionKeySetSelector.select(SelectedSelectionKeySetSelector.java:62)
	at org.apache.ratis.thirdparty.io.netty.channel.nio.NioEventLoop.select(NioEventLoop.java:753)
	at org.apache.ratis.thirdparty.io.netty.channel.nio.NioEventLoop.run(NioEventLoop.java:408)
	...


"nioEventLoopGroup-34-4" Id=501 RUNNABLE (in native)
	at sun.nio.ch.EPollArrayWrapper.epollWait(Native Method)
	at sun.nio.ch.EPollArrayWrapper.poll(EPollArrayWrapper.java:269)
	at sun.nio.ch.EPollSelectorImpl.doSelect(EPollSelectorImpl.java:93)
	at sun.nio.ch.SelectorImpl.lockAndDoSelect(SelectorImpl.java:86)
	-  locked org.apache.ratis.thirdparty.io.netty.channel.nio.SelectedSelectionKeySet@5ae9a829
	-  locked java.util.Collections$UnmodifiableSet@6d8a00e3
	-  locked sun.nio.ch.EPollSelectorImpl@548b7f67
	at sun.nio.ch.SelectorImpl.select(SelectorImpl.java:97)
	at org.apache.ratis.thirdparty.io.netty.channel.nio.SelectedSelectionKeySetSelector.select(SelectedSelectionKeySetSelector.java:62)
	at org.apache.ratis.thirdparty.io.netty.channel.nio.NioEventLoop.select(NioEventLoop.java:753)
	at org.apache.ratis.thirdparty.io.netty.channel.nio.NioEventLoop.run(NioEventLoop.java:408)
	...


"nioEventLoopGroup-31-4" Id=500 RUNNABLE (in native)
	at sun.nio.ch.EPollArrayWrapper.epollWait(Native Method)
	at sun.nio.ch.EPollArrayWrapper.poll(EPollArrayWrapper.java:269)
	at sun.nio.ch.EPollSelectorImpl.doSelect(EPollSelectorImpl.java:93)
	at sun.nio.ch.SelectorImpl.lockAndDoSelect(SelectorImpl.java:86)
	-  locked org.apache.ratis.thirdparty.io.netty.channel.nio.SelectedSelectionKeySet@7ac7a4e4
	-  locked java.util.Collections$UnmodifiableSet@6d78f375
	-  locked sun.nio.ch.EPollSelectorImpl@50c87b21
	at sun.nio.ch.SelectorImpl.select(SelectorImpl.java:97)
	at org.apache.ratis.thirdparty.io.netty.channel.nio.SelectedSelectionKeySetSelector.select(SelectedSelectionKeySetSelector.java:62)
	at org.apache.ratis.thirdparty.io.netty.channel.nio.NioEventLoop.select(NioEventLoop.java:753)
	at org.apache.ratis.thirdparty.io.netty.channel.nio.NioEventLoop.run(NioEventLoop.java:408)
	...


"nioEventLoopGroup-31-3" Id=499 RUNNABLE (in native)
	at sun.nio.ch.EPollArrayWrapper.epollWait(Native Method)
	at sun.nio.ch.EPollArrayWrapper.poll(EPollArrayWrapper.java:269)
	at sun.nio.ch.EPollSelectorImpl.doSelect(EPollSelectorImpl.java:93)
	at sun.nio.ch.SelectorImpl.lockAndDoSelect(SelectorImpl.java:86)
	-  locked org.apache.ratis.thirdparty.io.netty.channel.nio.SelectedSelectionKeySet@5f375618
	-  locked java.util.Collections$UnmodifiableSet@1810399e
	-  locked sun.nio.ch.EPollSelectorImpl@32d992b2
	at sun.nio.ch.SelectorImpl.select(SelectorImpl.java:97)
	at org.apache.ratis.thirdparty.io.netty.channel.nio.SelectedSelectionKeySetSelector.select(SelectedSelectionKeySetSelector.java:62)
	at org.apache.ratis.thirdparty.io.netty.channel.nio.NioEventLoop.select(NioEventLoop.java:753)
	at org.apache.ratis.thirdparty.io.netty.channel.nio.NioEventLoop.run(NioEventLoop.java:408)
	...


"nioEventLoopGroup-31-2" Id=498 RUNNABLE (in native)
	at sun.nio.ch.EPollArrayWrapper.epollWait(Native Method)
	at sun.nio.ch.EPollArrayWrapper.poll(EPollArrayWrapper.java:269)
	at sun.nio.ch.EPollSelectorImpl.doSelect(EPollSelectorImpl.java:93)
	at sun.nio.ch.SelectorImpl.lockAndDoSelect(SelectorImpl.java:86)
	-  locked org.apache.ratis.thirdparty.io.netty.channel.nio.SelectedSelectionKeySet@215be6bb
	-  locked java.util.Collections$UnmodifiableSet@4439f31e
	-  locked sun.nio.ch.EPollSelectorImpl@5dfcfece
	at sun.nio.ch.SelectorImpl.select(SelectorImpl.java:97)
	at org.apache.ratis.thirdparty.io.netty.channel.nio.SelectedSelectionKeySetSelector.select(SelectedSelectionKeySetSelector.java:62)
	at org.apache.ratis.thirdparty.io.netty.channel.nio.NioEventLoop.select(NioEventLoop.java:753)
	at org.apache.ratis.thirdparty.io.netty.channel.nio.NioEventLoop.run(NioEventLoop.java:408)
	...


"nioEventLoopGroup-34-3" Id=497 RUNNABLE (in native)
	at sun.nio.ch.EPollArrayWrapper.epollWait(Native Method)
	at sun.nio.ch.EPollArrayWrapper.poll(EPollArrayWrapper.java:269)
	at sun.nio.ch.EPollSelectorImpl.doSelect(EPollSelectorImpl.java:93)
	at sun.nio.ch.SelectorImpl.lockAndDoSelect(SelectorImpl.java:86)
	-  locked org.apache.ratis.thirdparty.io.netty.channel.nio.SelectedSelectionKeySet@23ceabc1
	-  locked java.util.Collections$UnmodifiableSet@5d5eef3d
	-  locked sun.nio.ch.EPollSelectorImpl@56f4468b
	at sun.nio.ch.SelectorImpl.select(SelectorImpl.java:97)
	at org.apache.ratis.thirdparty.io.netty.channel.nio.SelectedSelectionKeySetSelector.select(SelectedSelectionKeySetSelector.java:62)
	at org.apache.ratis.thirdparty.io.netty.channel.nio.NioEventLoop.select(NioEventLoop.java:753)
	at org.apache.ratis.thirdparty.io.netty.channel.nio.NioEventLoop.run(NioEventLoop.java:408)
	...


"nioEventLoopGroup-34-2" Id=495 RUNNABLE (in native)
	at sun.nio.ch.EPollArrayWrapper.epollWait(Native Method)
	at sun.nio.ch.EPollArrayWrapper.poll(EPollArrayWrapper.java:269)
	at sun.nio.ch.EPollSelectorImpl.doSelect(EPollSelectorImpl.java:93)
	at sun.nio.ch.SelectorImpl.lockAndDoSelect(SelectorImpl.java:86)
	-  locked org.apache.ratis.thirdparty.io.netty.channel.nio.SelectedSelectionKeySet@6cc4c815
	-  locked java.util.Collections$UnmodifiableSet@3a82f6ef
	-  locked sun.nio.ch.EPollSelectorImpl@100fc185
	at sun.nio.ch.SelectorImpl.select(SelectorImpl.java:97)
	at org.apache.ratis.thirdparty.io.netty.channel.nio.SelectedSelectionKeySetSelector.select(SelectedSelectionKeySetSelector.java:62)
	at org.apache.ratis.thirdparty.io.netty.channel.nio.NioEventLoop.select(NioEventLoop.java:753)
	at org.apache.ratis.thirdparty.io.netty.channel.nio.NioEventLoop.run(NioEventLoop.java:408)
	...


"nioEventLoopGroup-31-1" Id=494 RUNNABLE (in native)
	at sun.nio.ch.EPollArrayWrapper.epollWait(Native Method)
	at sun.nio.ch.EPollArrayWrapper.poll(EPollArrayWrapper.java:269)
	at sun.nio.ch.EPollSelectorImpl.doSelect(EPollSelectorImpl.java:93)
	at sun.nio.ch.SelectorImpl.lockAndDoSelect(SelectorImpl.java:86)
	-  locked org.apache.ratis.thirdparty.io.netty.channel.nio.SelectedSelectionKeySet@643b1d11
	-  locked java.util.Collections$UnmodifiableSet@2ef5e5e3
	-  locked sun.nio.ch.EPollSelectorImpl@36d4b5c
	at sun.nio.ch.SelectorImpl.select(SelectorImpl.java:97)
	at org.apache.ratis.thirdparty.io.netty.channel.nio.SelectedSelectionKeySetSelector.select(SelectedSelectionKeySetSelector.java:62)
	at org.apache.ratis.thirdparty.io.netty.channel.nio.NioEventLoop.select(NioEventLoop.java:753)
	at org.apache.ratis.thirdparty.io.netty.channel.nio.NioEventLoop.run(NioEventLoop.java:408)
	...


"nioEventLoopGroup-34-1" Id=493 RUNNABLE (in native)
	at sun.nio.ch.EPollArrayWrapper.epollWait(Native Method)
	at sun.nio.ch.EPollArrayWrapper.poll(EPollArrayWrapper.java:269)
	at sun.nio.ch.EPollSelectorImpl.doSelect(EPollSelectorImpl.java:93)
	at sun.nio.ch.SelectorImpl.lockAndDoSelect(SelectorImpl.java:86)
	-  locked org.apache.ratis.thirdparty.io.netty.channel.nio.SelectedSelectionKeySet@6d00a15d
	-  locked java.util.Collections$UnmodifiableSet@51efea79
	-  locked sun.nio.ch.EPollSelectorImpl@5034c75a
	at sun.nio.ch.SelectorImpl.select(SelectorImpl.java:97)
	at org.apache.ratis.thirdparty.io.netty.channel.nio.SelectedSelectionKeySetSelector.select(SelectedSelectionKeySetSelector.java:62)
	at org.apache.ratis.thirdparty.io.netty.channel.nio.NioEventLoop.select(NioEventLoop.java:753)
	at org.apache.ratis.thirdparty.io.netty.channel.nio.NioEventLoop.run(NioEventLoop.java:408)
	...


"metrics-hadoop-metrics2-reporter-35-thread-1" Id=447 TIMED_WAITING on java.util.concurrent.locks.AbstractQueuedSynchronizer$ConditionObject@396a51ab
	at sun.misc.Unsafe.park(Native Method)
	-  waiting on java.util.concurrent.locks.AbstractQueuedSynchronizer$ConditionObject@396a51ab
	at java.util.concurrent.locks.LockSupport.parkNanos(LockSupport.java:215)
	at java.util.concurrent.locks.AbstractQueuedSynchronizer$ConditionObject.awaitNanos(AbstractQueuedSynchronizer.java:2078)
	at java.util.concurrent.ScheduledThreadPoolExecutor$DelayedWorkQueue.take(ScheduledThreadPoolExecutor.java:1093)
	at java.util.concurrent.ScheduledThreadPoolExecutor$DelayedWorkQueue.take(ScheduledThreadPoolExecutor.java:809)
	at java.util.concurrent.ThreadPoolExecutor.getTask(ThreadPoolExecutor.java:1074)
	at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1134)
	at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:624)
	...


"nioEventLoopGroup-39-2" Id=442 RUNNABLE (in native)
	at sun.nio.ch.EPollArrayWrapper.epollWait(Native Method)
	at sun.nio.ch.EPollArrayWrapper.poll(EPollArrayWrapper.java:269)
	at sun.nio.ch.EPollSelectorImpl.doSelect(EPollSelectorImpl.java:93)
	at sun.nio.ch.SelectorImpl.lockAndDoSelect(SelectorImpl.java:86)
	-  locked org.apache.ratis.thirdparty.io.netty.channel.nio.SelectedSelectionKeySet@51081592
	-  locked java.util.Collections$UnmodifiableSet@7f9a81e8
	-  locked sun.nio.ch.EPollSelectorImpl@9629756
	at sun.nio.ch.SelectorImpl.select(SelectorImpl.java:97)
	at org.apache.ratis.thirdparty.io.netty.channel.nio.SelectedSelectionKeySetSelector.select(SelectedSelectionKeySetSelector.java:62)
	at org.apache.ratis.thirdparty.io.netty.channel.nio.NioEventLoop.select(NioEventLoop.java:753)
	at org.apache.ratis.thirdparty.io.netty.channel.nio.NioEventLoop.run(NioEventLoop.java:408)
	...


"nioEventLoopGroup-33-2" Id=441 RUNNABLE (in native)
	at sun.nio.ch.EPollArrayWrapper.epollWait(Native Method)
	at sun.nio.ch.EPollArrayWrapper.poll(EPollArrayWrapper.java:269)
	at sun.nio.ch.EPollSelectorImpl.doSelect(EPollSelectorImpl.java:93)
	at sun.nio.ch.SelectorImpl.lockAndDoSelect(SelectorImpl.java:86)
	-  locked org.apache.ratis.thirdparty.io.netty.channel.nio.SelectedSelectionKeySet@62ee68d8
	-  locked java.util.Collections$UnmodifiableSet@735b5592
	-  locked sun.nio.ch.EPollSelectorImpl@58651fd0
	at sun.nio.ch.SelectorImpl.select(SelectorImpl.java:97)
	at org.apache.ratis.thirdparty.io.netty.channel.nio.SelectedSelectionKeySetSelector.select(SelectedSelectionKeySetSelector.java:62)
	at org.apache.ratis.thirdparty.io.netty.channel.nio.NioEventLoop.select(NioEventLoop.java:753)
	at org.apache.ratis.thirdparty.io.netty.channel.nio.NioEventLoop.run(NioEventLoop.java:408)
	...


"nioEventLoopGroup-30-2" Id=440 RUNNABLE (in native)
	at sun.nio.ch.EPollArrayWrapper.epollWait(Native Method)
	at sun.nio.ch.EPollArrayWrapper.poll(EPollArrayWrapper.java:269)
	at sun.nio.ch.EPollSelectorImpl.doSelect(EPollSelectorImpl.java:93)
	at sun.nio.ch.SelectorImpl.lockAndDoSelect(SelectorImpl.java:86)
	-  locked org.apache.ratis.thirdparty.io.netty.channel.nio.SelectedSelectionKeySet@4520ebad
	-  locked java.util.Collections$UnmodifiableSet@5419f379
	-  locked sun.nio.ch.EPollSelectorImpl@7dc7cbad
	at sun.nio.ch.SelectorImpl.select(SelectorImpl.java:97)
	at org.apache.ratis.thirdparty.io.netty.channel.nio.SelectedSelectionKeySetSelector.select(SelectedSelectionKeySetSelector.java:62)
	at org.apache.ratis.thirdparty.io.netty.channel.nio.NioEventLoop.select(NioEventLoop.java:753)
	at org.apache.ratis.thirdparty.io.netty.channel.nio.NioEventLoop.run(NioEventLoop.java:408)
	...


"nioEventLoopGroup-37-4" Id=437 RUNNABLE (in native)
	at sun.nio.ch.EPollArrayWrapper.epollWait(Native Method)
	at sun.nio.ch.EPollArrayWrapper.poll(EPollArrayWrapper.java:269)
	at sun.nio.ch.EPollSelectorImpl.doSelect(EPollSelectorImpl.java:93)
	at sun.nio.ch.SelectorImpl.lockAndDoSelect(SelectorImpl.java:86)
	-  locked org.apache.ratis.thirdparty.io.netty.channel.nio.SelectedSelectionKeySet@d2cc05a
	-  locked java.util.Collections$UnmodifiableSet@4f933fd1
	-  locked sun.nio.ch.EPollSelectorImpl@548a9f61
	at sun.nio.ch.SelectorImpl.select(SelectorImpl.java:97)
	at org.apache.ratis.thirdparty.io.netty.channel.nio.SelectedSelectionKeySetSelector.select(SelectedSelectionKeySetSelector.java:62)
	at org.apache.ratis.thirdparty.io.netty.channel.nio.NioEventLoop.select(NioEventLoop.java:753)
	at org.apache.ratis.thirdparty.io.netty.channel.nio.NioEventLoop.run(NioEventLoop.java:408)
	...


"nioEventLoopGroup-37-3" Id=436 RUNNABLE (in native)
	at sun.nio.ch.EPollArrayWrapper.epollWait(Native Method)
	at sun.nio.ch.EPollArrayWrapper.poll(EPollArrayWrapper.java:269)
	at sun.nio.ch.EPollSelectorImpl.doSelect(EPollSelectorImpl.java:93)
	at sun.nio.ch.SelectorImpl.lockAndDoSelect(SelectorImpl.java:86)
	-  locked org.apache.ratis.thirdparty.io.netty.channel.nio.SelectedSelectionKeySet@1753acfe
	-  locked java.util.Collections$UnmodifiableSet@7c16905e
	-  locked sun.nio.ch.EPollSelectorImpl@2a2d45ba
	at sun.nio.ch.SelectorImpl.select(SelectorImpl.java:97)
	at org.apache.ratis.thirdparty.io.netty.channel.nio.SelectedSelectionKeySetSelector.select(SelectedSelectionKeySetSelector.java:62)
	at org.apache.ratis.thirdparty.io.netty.channel.nio.NioEventLoop.select(NioEventLoop.java:753)
	at org.apache.ratis.thirdparty.io.netty.channel.nio.NioEventLoop.run(NioEventLoop.java:408)
	...


"nioEventLoopGroup-37-2" Id=435 RUNNABLE (in native)
	at sun.nio.ch.EPollArrayWrapper.epollWait(Native Method)
	at sun.nio.ch.EPollArrayWrapper.poll(EPollArrayWrapper.java:269)
	at sun.nio.ch.EPollSelectorImpl.doSelect(EPollSelectorImpl.java:93)
	at sun.nio.ch.SelectorImpl.lockAndDoSelect(SelectorImpl.java:86)
	-  locked org.apache.ratis.thirdparty.io.netty.channel.nio.SelectedSelectionKeySet@2a5ca609
	-  locked java.util.Collections$UnmodifiableSet@20e2cbe0
	-  locked sun.nio.ch.EPollSelectorImpl@68be2bc2
	at sun.nio.ch.SelectorImpl.select(SelectorImpl.java:97)
	at org.apache.ratis.thirdparty.io.netty.channel.nio.SelectedSelectionKeySetSelector.select(SelectedSelectionKeySetSelector.java:62)
	at org.apache.ratis.thirdparty.io.netty.channel.nio.NioEventLoop.select(NioEventLoop.java:753)
	at org.apache.ratis.thirdparty.io.netty.channel.nio.NioEventLoop.run(NioEventLoop.java:408)
	...


"nioEventLoopGroup-37-1" Id=434 RUNNABLE (in native)
	at sun.nio.ch.EPollArrayWrapper.epollWait(Native Method)
	at sun.nio.ch.EPollArrayWrapper.poll(EPollArrayWrapper.java:269)
	at sun.nio.ch.EPollSelectorImpl.doSelect(EPollSelectorImpl.java:93)
	at sun.nio.ch.SelectorImpl.lockAndDoSelect(SelectorImpl.java:86)
	-  locked org.apache.ratis.thirdparty.io.netty.channel.nio.SelectedSelectionKeySet@28feb3fa
	-  locked java.util.Collections$UnmodifiableSet@675d3402
	-  locked sun.nio.ch.EPollSelectorImpl@51565ec2
	at sun.nio.ch.SelectorImpl.select(SelectorImpl.java:97)
	at org.apache.ratis.thirdparty.io.netty.channel.nio.SelectedSelectionKeySetSelector.select(SelectedSelectionKeySetSelector.java:62)
	at org.apache.ratis.thirdparty.io.netty.channel.nio.NioEventLoop.select(NioEventLoop.java:753)
	at org.apache.ratis.thirdparty.io.netty.channel.nio.NioEventLoop.run(NioEventLoop.java:408)
	...


"nioEventLoopGroup-39-1" Id=429 RUNNABLE (in native)
	at sun.nio.ch.EPollArrayWrapper.epollWait(Native Method)
	at sun.nio.ch.EPollArrayWrapper.poll(EPollArrayWrapper.java:269)
	at sun.nio.ch.EPollSelectorImpl.doSelect(EPollSelectorImpl.java:93)
	at sun.nio.ch.SelectorImpl.lockAndDoSelect(SelectorImpl.java:86)
	-  locked org.apache.ratis.thirdparty.io.netty.channel.nio.SelectedSelectionKeySet@482f8f11
	-  locked java.util.Collections$UnmodifiableSet@1593948d
	-  locked sun.nio.ch.EPollSelectorImpl@1b604f19
	at sun.nio.ch.SelectorImpl.select(SelectorImpl.java:97)
	at org.apache.ratis.thirdparty.io.netty.channel.nio.SelectedSelectionKeySetSelector.select(SelectedSelectionKeySetSelector.java:62)
	at org.apache.ratis.thirdparty.io.netty.channel.nio.NioEventLoop.select(NioEventLoop.java:753)
	at org.apache.ratis.thirdparty.io.netty.channel.nio.NioEventLoop.run(NioEventLoop.java:408)
	...


"nioEventLoopGroup-30-1" Id=428 RUNNABLE (in native)
	at sun.nio.ch.EPollArrayWrapper.epollWait(Native Method)
	at sun.nio.ch.EPollArrayWrapper.poll(EPollArrayWrapper.java:269)
	at sun.nio.ch.EPollSelectorImpl.doSelect(EPollSelectorImpl.java:93)
	at sun.nio.ch.SelectorImpl.lockAndDoSelect(SelectorImpl.java:86)
	-  locked org.apache.ratis.thirdparty.io.netty.channel.nio.SelectedSelectionKeySet@7823a2f9
	-  locked java.util.Collections$UnmodifiableSet@4cc0edeb
	-  locked sun.nio.ch.EPollSelectorImpl@457e2f02
	at sun.nio.ch.SelectorImpl.select(SelectorImpl.java:97)
	at org.apache.ratis.thirdparty.io.netty.channel.nio.SelectedSelectionKeySetSelector.select(SelectedSelectionKeySetSelector.java:62)
	at org.apache.ratis.thirdparty.io.netty.channel.nio.NioEventLoop.select(NioEventLoop.java:753)
	at org.apache.ratis.thirdparty.io.netty.channel.nio.NioEventLoop.run(NioEventLoop.java:408)
	...


"nioEventLoopGroup-36-1" Id=426 RUNNABLE (in native)
	at sun.nio.ch.EPollArrayWrapper.epollWait(Native Method)
	at sun.nio.ch.EPollArrayWrapper.poll(EPollArrayWrapper.java:269)
	at sun.nio.ch.EPollSelectorImpl.doSelect(EPollSelectorImpl.java:93)
	at sun.nio.ch.SelectorImpl.lockAndDoSelect(SelectorImpl.java:86)
	-  locked org.apache.ratis.thirdparty.io.netty.channel.nio.SelectedSelectionKeySet@5c7fa833
	-  locked java.util.Collections$UnmodifiableSet@39aeed2f
	-  locked sun.nio.ch.EPollSelectorImpl@724af044
	at sun.nio.ch.SelectorImpl.select(SelectorImpl.java:97)
	at org.apache.ratis.thirdparty.io.netty.channel.nio.SelectedSelectionKeySetSelector.select(SelectedSelectionKeySetSelector.java:62)
	at org.apache.ratis.thirdparty.io.netty.channel.nio.NioEventLoop.select(NioEventLoop.java:753)
	at org.apache.ratis.thirdparty.io.netty.channel.nio.NioEventLoop.run(NioEventLoop.java:408)
	...


"nioEventLoopGroup-33-1" Id=425 RUNNABLE (in native)
	at sun.nio.ch.EPollArrayWrapper.epollWait(Native Method)
	at sun.nio.ch.EPollArrayWrapper.poll(EPollArrayWrapper.java:269)
	at sun.nio.ch.EPollSelectorImpl.doSelect(EPollSelectorImpl.java:93)
	at sun.nio.ch.SelectorImpl.lockAndDoSelect(SelectorImpl.java:86)
	-  locked org.apache.ratis.thirdparty.io.netty.channel.nio.SelectedSelectionKeySet@4678c730
	-  locked java.util.Collections$UnmodifiableSet@6767c1fc
	-  locked sun.nio.ch.EPollSelectorImpl@29ee9faa
	at sun.nio.ch.SelectorImpl.select(SelectorImpl.java:97)
	at org.apache.ratis.thirdparty.io.netty.channel.nio.SelectedSelectionKeySetSelector.select(SelectedSelectionKeySetSelector.java:62)
	at org.apache.ratis.thirdparty.io.netty.channel.nio.NioEventLoop.select(NioEventLoop.java:753)
	at org.apache.ratis.thirdparty.io.netty.channel.nio.NioEventLoop.run(NioEventLoop.java:408)
	...


"nioEventLoopGroup-28-4" Id=424 BLOCKED on org.apache.ratis.netty.NettyRpcProxy$Connection@c038203 owned by "Time-limited test" Id=371
	at org.apache.ratis.netty.NettyRpcProxy$Connection.pollReply(NettyRpcProxy.java:140)
	-  blocked on org.apache.ratis.netty.NettyRpcProxy$Connection@c038203
	at org.apache.ratis.netty.NettyRpcProxy$Connection$1.channelRead0(NettyRpcProxy.java:102)
	at org.apache.ratis.netty.NettyRpcProxy$Connection$1.channelRead0(NettyRpcProxy.java:98)
	at org.apache.ratis.thirdparty.io.netty.channel.SimpleChannelInboundHandler.channelRead(SimpleChannelInboundHandler.java:105)
	at org.apache.ratis.thirdparty.io.netty.channel.AbstractChannelHandlerContext.invokeChannelRead(AbstractChannelHandlerContext.java:362)
	at org.apache.ratis.thirdparty.io.netty.channel.AbstractChannelHandlerContext.invokeChannelRead(AbstractChannelHandlerContext.java:348)
	at org.apache.ratis.thirdparty.io.netty.channel.AbstractChannelHandlerContext.fireChannelRead(AbstractChannelHandlerContext.java:340)
	at org.apache.ratis.thirdparty.io.netty.handler.codec.MessageToMessageDecoder.channelRead(MessageToMessageDecoder.java:102)
	...


"nioEventLoopGroup-28-3" Id=423 RUNNABLE (in native)
	at sun.nio.ch.EPollArrayWrapper.epollWait(Native Method)
	at sun.nio.ch.EPollArrayWrapper.poll(EPollArrayWrapper.java:269)
	at sun.nio.ch.EPollSelectorImpl.doSelect(EPollSelectorImpl.java:93)
	at sun.nio.ch.SelectorImpl.lockAndDoSelect(SelectorImpl.java:86)
	-  locked org.apache.ratis.thirdparty.io.netty.channel.nio.SelectedSelectionKeySet@cc285f4
	-  locked java.util.Collections$UnmodifiableSet@55f3ddb1
	-  locked sun.nio.ch.EPollSelectorImpl@8bd1b6a
	at sun.nio.ch.SelectorImpl.select(SelectorImpl.java:97)
	at org.apache.ratis.thirdparty.io.netty.channel.nio.SelectedSelectionKeySetSelector.select(SelectedSelectionKeySetSelector.java:62)
	at org.apache.ratis.thirdparty.io.netty.channel.nio.NioEventLoop.select(NioEventLoop.java:753)
	at org.apache.ratis.thirdparty.io.netty.channel.nio.NioEventLoop.run(NioEventLoop.java:408)
	...


"nioEventLoopGroup-28-2" Id=422 RUNNABLE (in native)
	at sun.nio.ch.EPollArrayWrapper.epollWait(Native Method)
	at sun.nio.ch.EPollArrayWrapper.poll(EPollArrayWrapper.java:269)
	at sun.nio.ch.EPollSelectorImpl.doSelect(EPollSelectorImpl.java:93)
	at sun.nio.ch.SelectorImpl.lockAndDoSelect(SelectorImpl.java:86)
	-  locked org.apache.ratis.thirdparty.io.netty.channel.nio.SelectedSelectionKeySet@18be83e4
	-  locked java.util.Collections$UnmodifiableSet@cb5822
	-  locked sun.nio.ch.EPollSelectorImpl@4b9e13df
	at sun.nio.ch.SelectorImpl.select(SelectorImpl.java:97)
	at org.apache.ratis.thirdparty.io.netty.channel.nio.SelectedSelectionKeySetSelector.select(SelectedSelectionKeySetSelector.java:62)
	at org.apache.ratis.thirdparty.io.netty.channel.nio.NioEventLoop.select(NioEventLoop.java:753)
	at org.apache.ratis.thirdparty.io.netty.channel.nio.NioEventLoop.run(NioEventLoop.java:408)
	...


"nioEventLoopGroup-28-1" Id=421 RUNNABLE (in native)
	at sun.nio.ch.EPollArrayWrapper.epollWait(Native Method)
	at sun.nio.ch.EPollArrayWrapper.poll(EPollArrayWrapper.java:269)
	at sun.nio.ch.EPollSelectorImpl.doSelect(EPollSelectorImpl.java:93)
	at sun.nio.ch.SelectorImpl.lockAndDoSelect(SelectorImpl.java:86)
	-  locked org.apache.ratis.thirdparty.io.netty.channel.nio.SelectedSelectionKeySet@2b98378d
	-  locked java.util.Collections$UnmodifiableSet@475530b9
	-  locked sun.nio.ch.EPollSelectorImpl@1d057a39
	at sun.nio.ch.SelectorImpl.select(SelectorImpl.java:97)
	at org.apache.ratis.thirdparty.io.netty.channel.nio.SelectedSelectionKeySetSelector.select(SelectedSelectionKeySetSelector.java:62)
	at org.apache.ratis.thirdparty.io.netty.channel.nio.NioEventLoop.select(NioEventLoop.java:753)
	at org.apache.ratis.thirdparty.io.netty.channel.nio.NioEventLoop.run(NioEventLoop.java:408)
	...


"Timer-1" Id=410 TIMED_WAITING on java.util.TaskQueue@26be92ad
	at java.lang.Object.wait(Native Method)
	-  waiting on java.util.TaskQueue@26be92ad
	at java.util.TimerThread.mainLoop(Timer.java:552)
	at java.util.TimerThread.run(Timer.java:505)


"s2@group-E7D5050F4609-StateMachineUpdater" Id=397 WAITING on org.apache.ratis.server.impl.StateMachineUpdater@4c70fda8
	at java.lang.Object.wait(Native Method)
	-  waiting on org.apache.ratis.server.impl.StateMachineUpdater@4c70fda8
	at java.lang.Object.wait(Object.java:502)
	at org.apache.ratis.server.impl.StateMachineUpdater.waitForCommit(StateMachineUpdater.java:194)
	at org.apache.ratis.server.impl.StateMachineUpdater.run(StateMachineUpdater.java:159)
	at java.lang.Thread.run(Thread.java:748)


"metrics-hadoop-metrics2-reporter-34-thread-1" Id=408 TIMED_WAITING on java.util.concurrent.locks.AbstractQueuedSynchronizer$ConditionObject@224edc67
	at sun.misc.Unsafe.park(Native Method)
	-  waiting on java.util.concurrent.locks.AbstractQueuedSynchronizer$ConditionObject@224edc67
	at java.util.concurrent.locks.LockSupport.parkNanos(LockSupport.java:215)
	at java.util.concurrent.locks.AbstractQueuedSynchronizer$ConditionObject.awaitNanos(AbstractQueuedSynchronizer.java:2078)
	at java.util.concurrent.ScheduledThreadPoolExecutor$DelayedWorkQueue.take(ScheduledThreadPoolExecutor.java:1093)
	at java.util.concurrent.ScheduledThreadPoolExecutor$DelayedWorkQueue.take(ScheduledThreadPoolExecutor.java:809)
	at java.util.concurrent.ThreadPoolExecutor.getTask(ThreadPoolExecutor.java:1074)
	at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1134)
	at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:624)
	...


"s1@group-E7D5050F4609-StateMachineUpdater" Id=387 WAITING on org.apache.ratis.server.impl.StateMachineUpdater@14acaea5
	at java.lang.Object.wait(Native Method)
	-  waiting on org.apache.ratis.server.impl.StateMachineUpdater@14acaea5
	at java.lang.Object.wait(Object.java:502)
	at org.apache.ratis.server.impl.StateMachineUpdater.waitForCommit(StateMachineUpdater.java:194)
	at org.apache.ratis.server.impl.StateMachineUpdater.run(StateMachineUpdater.java:159)
	at java.lang.Thread.run(Thread.java:748)


"metrics-hadoop-metrics2-reporter-33-thread-1" Id=406 TIMED_WAITING on java.util.concurrent.locks.AbstractQueuedSynchronizer$ConditionObject@46d56d67
	at sun.misc.Unsafe.park(Native Method)
	-  waiting on java.util.concurrent.locks.AbstractQueuedSynchronizer$ConditionObject@46d56d67
	at java.util.concurrent.locks.LockSupport.parkNanos(LockSupport.java:215)
	at java.util.concurrent.locks.AbstractQueuedSynchronizer$ConditionObject.awaitNanos(AbstractQueuedSynchronizer.java:2078)
	at java.util.concurrent.ScheduledThreadPoolExecutor$DelayedWorkQueue.take(ScheduledThreadPoolExecutor.java:1093)
	at java.util.concurrent.ScheduledThreadPoolExecutor$DelayedWorkQueue.take(ScheduledThreadPoolExecutor.java:809)
	at java.util.concurrent.ThreadPoolExecutor.getTask(ThreadPoolExecutor.java:1074)
	at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1134)
	at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:624)
	...


"s0@group-E7D5050F4609-StateMachineUpdater" Id=393 WAITING on org.apache.ratis.server.impl.StateMachineUpdater@d8355a8
	at java.lang.Object.wait(Native Method)
	-  waiting on org.apache.ratis.server.impl.StateMachineUpdater@d8355a8
	at java.lang.Object.wait(Object.java:502)
	at org.apache.ratis.server.impl.StateMachineUpdater.waitForCommit(StateMachineUpdater.java:194)
	at org.apache.ratis.server.impl.StateMachineUpdater.run(StateMachineUpdater.java:159)
	at java.lang.Thread.run(Thread.java:748)


"metrics-hadoop-metrics2-reporter-32-thread-1" Id=404 TIMED_WAITING on java.util.concurrent.locks.AbstractQueuedSynchronizer$ConditionObject@59fa1d9b
	at sun.misc.Unsafe.park(Native Method)
	-  waiting on java.util.concurrent.locks.AbstractQueuedSynchronizer$ConditionObject@59fa1d9b
	at java.util.concurrent.locks.LockSupport.parkNanos(LockSupport.java:215)
	at java.util.concurrent.locks.AbstractQueuedSynchronizer$ConditionObject.awaitNanos(AbstractQueuedSynchronizer.java:2078)
	at java.util.concurrent.ScheduledThreadPoolExecutor$DelayedWorkQueue.take(ScheduledThreadPoolExecutor.java:1093)
	at java.util.concurrent.ScheduledThreadPoolExecutor$DelayedWorkQueue.take(ScheduledThreadPoolExecutor.java:809)
	at java.util.concurrent.ThreadPoolExecutor.getTask(ThreadPoolExecutor.java:1074)
	at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1134)
	at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:624)
	...


"s4@group-E7D5050F4609-StateMachineUpdater" Id=386 WAITING on org.apache.ratis.server.impl.StateMachineUpdater@28d25987
	at java.lang.Object.wait(Native Method)
	-  waiting on org.apache.ratis.server.impl.StateMachineUpdater@28d25987
	at java.lang.Object.wait(Object.java:502)
	at org.apache.ratis.server.impl.StateMachineUpdater.waitForCommit(StateMachineUpdater.java:194)
	at org.apache.ratis.server.impl.StateMachineUpdater.run(StateMachineUpdater.java:159)
	at java.lang.Thread.run(Thread.java:748)


"metrics-hadoop-metrics2-reporter-31-thread-1" Id=402 TIMED_WAITING on java.util.concurrent.locks.AbstractQueuedSynchronizer$ConditionObject@4501b7af
	at sun.misc.Unsafe.park(Native Method)
	-  waiting on java.util.concurrent.locks.AbstractQueuedSynchronizer$ConditionObject@4501b7af
	at java.util.concurrent.locks.LockSupport.parkNanos(LockSupport.java:215)
	at java.util.concurrent.locks.AbstractQueuedSynchronizer$ConditionObject.awaitNanos(AbstractQueuedSynchronizer.java:2078)
	at java.util.concurrent.ScheduledThreadPoolExecutor$DelayedWorkQueue.take(ScheduledThreadPoolExecutor.java:1093)
	at java.util.concurrent.ScheduledThreadPoolExecutor$DelayedWorkQueue.take(ScheduledThreadPoolExecutor.java:809)
	at java.util.concurrent.ThreadPoolExecutor.getTask(ThreadPoolExecutor.java:1074)
	at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1134)
	at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:624)
	...


"metrics-hadoop-metrics2-reporter-30-thread-1" Id=400 TIMED_WAITING on java.util.concurrent.locks.AbstractQueuedSynchronizer$ConditionObject@523884b2
	at sun.misc.Unsafe.park(Native Method)
	-  waiting on java.util.concurrent.locks.AbstractQueuedSynchronizer$ConditionObject@523884b2
	at java.util.concurrent.locks.LockSupport.parkNanos(LockSupport.java:215)
	at java.util.concurrent.locks.AbstractQueuedSynchronizer$ConditionObject.awaitNanos(AbstractQueuedSynchronizer.java:2078)
	at java.util.concurrent.ScheduledThreadPoolExecutor$DelayedWorkQueue.take(ScheduledThreadPoolExecutor.java:1093)
	at java.util.concurrent.ScheduledThreadPoolExecutor$DelayedWorkQueue.take(ScheduledThreadPoolExecutor.java:809)
	at java.util.concurrent.ThreadPoolExecutor.getTask(ThreadPoolExecutor.java:1074)
	at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1134)
	at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:624)
	...


"metrics-hadoop-metrics2-reporter-29-thread-1" Id=398 TIMED_WAITING on java.util.concurrent.locks.AbstractQueuedSynchronizer$ConditionObject@5b275dab
	at sun.misc.Unsafe.park(Native Method)
	-  waiting on java.util.concurrent.locks.AbstractQueuedSynchronizer$ConditionObject@5b275dab
	at java.util.concurrent.locks.LockSupport.parkNanos(LockSupport.java:215)
	at java.util.concurrent.locks.AbstractQueuedSynchronizer$ConditionObject.awaitNanos(AbstractQueuedSynchronizer.java:2078)
	at java.util.concurrent.ScheduledThreadPoolExecutor$DelayedWorkQueue.take(ScheduledThreadPoolExecutor.java:1093)
	at java.util.concurrent.ScheduledThreadPoolExecutor$DelayedWorkQueue.take(ScheduledThreadPoolExecutor.java:809)
	at java.util.concurrent.ThreadPoolExecutor.getTask(ThreadPoolExecutor.java:1074)
	at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1134)
	at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:624)
	...


"s2@group-E7D5050F4609-SegmentedRaftLogWorker" Id=396 TIMED_WAITING on java.util.concurrent.locks.AbstractQueuedSynchronizer$ConditionObject@61832929
	at sun.misc.Unsafe.park(Native Method)
	-  waiting on java.util.concurrent.locks.AbstractQueuedSynchronizer$ConditionObject@61832929
	at java.util.concurrent.locks.LockSupport.parkNanos(LockSupport.java:215)
	at java.util.concurrent.locks.AbstractQueuedSynchronizer$ConditionObject.awaitNanos(AbstractQueuedSynchronizer.java:2078)
	at org.apache.ratis.util.DataBlockingQueue.poll(DataBlockingQueue.java:137)
	at org.apache.ratis.server.raftlog.segmented.SegmentedRaftLogWorker.run(SegmentedRaftLogWorker.java:283)
	at java.lang.Thread.run(Thread.java:748)


"metrics-hadoop-metrics2-reporter-28-thread-1" Id=395 TIMED_WAITING on java.util.concurrent.locks.AbstractQueuedSynchronizer$ConditionObject@29774679
	at sun.misc.Unsafe.park(Native Method)
	-  waiting on java.util.concurrent.locks.AbstractQueuedSynchronizer$ConditionObject@29774679
	at java.util.concurrent.locks.LockSupport.parkNanos(LockSupport.java:215)
	at java.util.concurrent.locks.AbstractQueuedSynchronizer$ConditionObject.awaitNanos(AbstractQueuedSynchronizer.java:2078)
	at java.util.concurrent.ScheduledThreadPoolExecutor$DelayedWorkQueue.take(ScheduledThreadPoolExecutor.java:1093)
	at java.util.concurrent.ScheduledThreadPoolExecutor$DelayedWorkQueue.take(ScheduledThreadPoolExecutor.java:809)
	at java.util.concurrent.ThreadPoolExecutor.getTask(ThreadPoolExecutor.java:1074)
	at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1134)
	at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:624)
	...


"metrics-hadoop-metrics2-reporter-27-thread-1" Id=394 TIMED_WAITING on java.util.concurrent.locks.AbstractQueuedSynchronizer$ConditionObject@3ffc5af1
	at sun.misc.Unsafe.park(Native Method)
	-  waiting on java.util.concurrent.locks.AbstractQueuedSynchronizer$ConditionObject@3ffc5af1
	at java.util.concurrent.locks.LockSupport.parkNanos(LockSupport.java:215)
	at java.util.concurrent.locks.AbstractQueuedSynchronizer$ConditionObject.awaitNanos(AbstractQueuedSynchronizer.java:2078)
	at java.util.concurrent.ScheduledThreadPoolExecutor$DelayedWorkQueue.take(ScheduledThreadPoolExecutor.java:1093)
	at java.util.concurrent.ScheduledThreadPoolExecutor$DelayedWorkQueue.take(ScheduledThreadPoolExecutor.java:809)
	at java.util.concurrent.ThreadPoolExecutor.getTask(ThreadPoolExecutor.java:1074)
	at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1134)
	at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:624)
	...


"s0@group-E7D5050F4609-SegmentedRaftLogWorker" Id=389 TIMED_WAITING on java.util.concurrent.locks.AbstractQueuedSynchronizer$ConditionObject@5e5792a0
	at sun.misc.Unsafe.park(Native Method)
	-  waiting on java.util.concurrent.locks.AbstractQueuedSynchronizer$ConditionObject@5e5792a0
	at java.util.concurrent.locks.LockSupport.parkNanos(LockSupport.java:215)
	at java.util.concurrent.locks.AbstractQueuedSynchronizer$ConditionObject.awaitNanos(AbstractQueuedSynchronizer.java:2078)
	at org.apache.ratis.util.DataBlockingQueue.poll(DataBlockingQueue.java:137)
	at org.apache.ratis.server.raftlog.segmented.SegmentedRaftLogWorker.run(SegmentedRaftLogWorker.java:283)
	at java.lang.Thread.run(Thread.java:748)


"metrics-hadoop-metrics2-reporter-26-thread-1" Id=390 TIMED_WAITING on java.util.concurrent.locks.AbstractQueuedSynchronizer$ConditionObject@26653222
	at sun.misc.Unsafe.park(Native Method)
	-  waiting on java.util.concurrent.locks.AbstractQueuedSynchronizer$ConditionObject@26653222
	at java.util.concurrent.locks.LockSupport.parkNanos(LockSupport.java:215)
	at java.util.concurrent.locks.AbstractQueuedSynchronizer$ConditionObject.awaitNanos(AbstractQueuedSynchronizer.java:2078)
	at java.util.concurrent.ScheduledThreadPoolExecutor$DelayedWorkQueue.take(ScheduledThreadPoolExecutor.java:1093)
	at java.util.concurrent.ScheduledThreadPoolExecutor$DelayedWorkQueue.take(ScheduledThreadPoolExecutor.java:809)
	at java.util.concurrent.ThreadPoolExecutor.getTask(ThreadPoolExecutor.java:1074)
	at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1134)
	at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:624)
	...


"metrics-hadoop-metrics2-reporter-25-thread-1" Id=388 TIMED_WAITING on java.util.concurrent.locks.AbstractQueuedSynchronizer$ConditionObject@3532ec19
	at sun.misc.Unsafe.park(Native Method)
	-  waiting on java.util.concurrent.locks.AbstractQueuedSynchronizer$ConditionObject@3532ec19
	at java.util.concurrent.locks.LockSupport.parkNanos(LockSupport.java:215)
	at java.util.concurrent.locks.AbstractQueuedSynchronizer$ConditionObject.awaitNanos(AbstractQueuedSynchronizer.java:2078)
	at java.util.concurrent.ScheduledThreadPoolExecutor$DelayedWorkQueue.take(ScheduledThreadPoolExecutor.java:1093)
	at java.util.concurrent.ScheduledThreadPoolExecutor$DelayedWorkQueue.take(ScheduledThreadPoolExecutor.java:809)
	at java.util.concurrent.ThreadPoolExecutor.getTask(ThreadPoolExecutor.java:1074)
	at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1134)
	at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:624)
	...


"s4@group-E7D5050F4609-SegmentedRaftLogWorker" Id=385 TIMED_WAITING on java.util.concurrent.locks.AbstractQueuedSynchronizer$ConditionObject@68c4039c
	at sun.misc.Unsafe.park(Native Method)
	-  waiting on java.util.concurrent.locks.AbstractQueuedSynchronizer$ConditionObject@68c4039c
	at java.util.concurrent.locks.LockSupport.parkNanos(LockSupport.java:215)
	at java.util.concurrent.locks.AbstractQueuedSynchronizer$ConditionObject.awaitNanos(AbstractQueuedSynchronizer.java:2078)
	at org.apache.ratis.util.DataBlockingQueue.poll(DataBlockingQueue.java:137)
	at org.apache.ratis.server.raftlog.segmented.SegmentedRaftLogWorker.run(SegmentedRaftLogWorker.java:283)
	at java.lang.Thread.run(Thread.java:748)


"s1@group-E7D5050F4609-SegmentedRaftLogWorker" Id=384 TIMED_WAITING on java.util.concurrent.locks.AbstractQueuedSynchronizer$ConditionObject@ae45eb6
	at sun.misc.Unsafe.park(Native Method)
	-  waiting on java.util.concurrent.locks.AbstractQueuedSynchronizer$ConditionObject@ae45eb6
	at java.util.concurrent.locks.LockSupport.parkNanos(LockSupport.java:215)
	at java.util.concurrent.locks.AbstractQueuedSynchronizer$ConditionObject.awaitNanos(AbstractQueuedSynchronizer.java:2078)
	at org.apache.ratis.util.DataBlockingQueue.poll(DataBlockingQueue.java:137)
	at org.apache.ratis.server.raftlog.segmented.SegmentedRaftLogWorker.run(SegmentedRaftLogWorker.java:283)
	at java.lang.Thread.run(Thread.java:748)


"pool-13-thread-1" Id=382 WAITING on java.util.concurrent.locks.AbstractQueuedSynchronizer$ConditionObject@59f99ea
	at sun.misc.Unsafe.park(Native Method)
	-  waiting on java.util.concurrent.locks.AbstractQueuedSynchronizer$ConditionObject@59f99ea
	at java.util.concurrent.locks.LockSupport.park(LockSupport.java:175)
	at java.util.concurrent.locks.AbstractQueuedSynchronizer$ConditionObject.await(AbstractQueuedSynchronizer.java:2039)
	at java.util.concurrent.LinkedBlockingQueue.take(LinkedBlockingQueue.java:442)
	at java.util.concurrent.ThreadPoolExecutor.getTask(ThreadPoolExecutor.java:1074)
	at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1134)
	at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:624)
	at java.lang.Thread.run(Thread.java:748)


"nioEventLoopGroup-38-1" Id=381 RUNNABLE (in native)
	at sun.nio.ch.EPollArrayWrapper.epollWait(Native Method)
	at sun.nio.ch.EPollArrayWrapper.poll(EPollArrayWrapper.java:269)
	at sun.nio.ch.EPollSelectorImpl.doSelect(EPollSelectorImpl.java:93)
	at sun.nio.ch.SelectorImpl.lockAndDoSelect(SelectorImpl.java:86)
	-  locked org.apache.ratis.thirdparty.io.netty.channel.nio.SelectedSelectionKeySet@27efef64
	-  locked java.util.Collections$UnmodifiableSet@6f7fd0e6
	-  locked sun.nio.ch.EPollSelectorImpl@47c62251
	at sun.nio.ch.SelectorImpl.select(SelectorImpl.java:97)
	at org.apache.ratis.thirdparty.io.netty.channel.nio.SelectedSelectionKeySetSelector.select(SelectedSelectionKeySetSelector.java:62)
	at org.apache.ratis.thirdparty.io.netty.channel.nio.NioEventLoop.select(NioEventLoop.java:753)
	at org.apache.ratis.thirdparty.io.netty.channel.nio.NioEventLoop.run(NioEventLoop.java:408)
	...


"pool-12-thread-1" Id=379 WAITING on java.util.concurrent.locks.AbstractQueuedSynchronizer$ConditionObject@3e6fa38a
	at sun.misc.Unsafe.park(Native Method)
	-  waiting on java.util.concurrent.locks.AbstractQueuedSynchronizer$ConditionObject@3e6fa38a
	at java.util.concurrent.locks.LockSupport.park(LockSupport.java:175)
	at java.util.concurrent.locks.AbstractQueuedSynchronizer$ConditionObject.await(AbstractQueuedSynchronizer.java:2039)
	at java.util.concurrent.LinkedBlockingQueue.take(LinkedBlockingQueue.java:442)
	at java.util.concurrent.ThreadPoolExecutor.getTask(ThreadPoolExecutor.java:1074)
	at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1134)
	at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:624)
	at java.lang.Thread.run(Thread.java:748)


"nioEventLoopGroup-35-1" Id=378 RUNNABLE (in native)
	at sun.nio.ch.EPollArrayWrapper.epollWait(Native Method)
	at sun.nio.ch.EPollArrayWrapper.poll(EPollArrayWrapper.java:269)
	at sun.nio.ch.EPollSelectorImpl.doSelect(EPollSelectorImpl.java:93)
	at sun.nio.ch.SelectorImpl.lockAndDoSelect(SelectorImpl.java:86)
	-  locked org.apache.ratis.thirdparty.io.netty.channel.nio.SelectedSelectionKeySet@66a3ffec
	-  locked java.util.Collections$UnmodifiableSet@77caeb3e
	-  locked sun.nio.ch.EPollSelectorImpl@1e88b3c
	at sun.nio.ch.SelectorImpl.select(SelectorImpl.java:97)
	at org.apache.ratis.thirdparty.io.netty.channel.nio.SelectedSelectionKeySetSelector.select(SelectedSelectionKeySetSelector.java:62)
	at org.apache.ratis.thirdparty.io.netty.channel.nio.NioEventLoop.select(NioEventLoop.java:753)
	at org.apache.ratis.thirdparty.io.netty.channel.nio.NioEventLoop.run(NioEventLoop.java:408)
	...


"pool-11-thread-1" Id=377 WAITING on java.util.concurrent.locks.AbstractQueuedSynchronizer$ConditionObject@42d80b78
	at sun.misc.Unsafe.park(Native Method)
	-  waiting on java.util.concurrent.locks.AbstractQueuedSynchronizer$ConditionObject@42d80b78
	at java.util.concurrent.locks.LockSupport.park(LockSupport.java:175)
	at java.util.concurrent.locks.AbstractQueuedSynchronizer$ConditionObject.await(AbstractQueuedSynchronizer.java:2039)
	at java.util.concurrent.LinkedBlockingQueue.take(LinkedBlockingQueue.java:442)
	at java.util.concurrent.ThreadPoolExecutor.getTask(ThreadPoolExecutor.java:1074)
	at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1134)
	at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:624)
	at java.lang.Thread.run(Thread.java:748)


"nioEventLoopGroup-32-1" Id=376 RUNNABLE (in native)
	at sun.nio.ch.EPollArrayWrapper.epollWait(Native Method)
	at sun.nio.ch.EPollArrayWrapper.poll(EPollArrayWrapper.java:269)
	at sun.nio.ch.EPollSelectorImpl.doSelect(EPollSelectorImpl.java:93)
	at sun.nio.ch.SelectorImpl.lockAndDoSelect(SelectorImpl.java:86)
	-  locked org.apache.ratis.thirdparty.io.netty.channel.nio.SelectedSelectionKeySet@3bfdc050
	-  locked java.util.Collections$UnmodifiableSet@1bce4f0a
	-  locked sun.nio.ch.EPollSelectorImpl@5e3a8624
	at sun.nio.ch.SelectorImpl.select(SelectorImpl.java:97)
	at org.apache.ratis.thirdparty.io.netty.channel.nio.SelectedSelectionKeySetSelector.select(SelectedSelectionKeySetSelector.java:62)
	at org.apache.ratis.thirdparty.io.netty.channel.nio.NioEventLoop.select(NioEventLoop.java:753)
	at org.apache.ratis.thirdparty.io.netty.channel.nio.NioEventLoop.run(NioEventLoop.java:408)
	...


"pool-10-thread-1" Id=375 WAITING on java.util.concurrent.locks.AbstractQueuedSynchronizer$ConditionObject@5c3bd550
	at sun.misc.Unsafe.park(Native Method)
	-  waiting on java.util.concurrent.locks.AbstractQueuedSynchronizer$ConditionObject@5c3bd550
	at java.util.concurrent.locks.LockSupport.park(LockSupport.java:175)
	at java.util.concurrent.locks.AbstractQueuedSynchronizer$ConditionObject.await(AbstractQueuedSynchronizer.java:2039)
	at java.util.concurrent.LinkedBlockingQueue.take(LinkedBlockingQueue.java:442)
	at java.util.concurrent.ThreadPoolExecutor.getTask(ThreadPoolExecutor.java:1074)
	at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1134)
	at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:624)
	at java.lang.Thread.run(Thread.java:748)


"nioEventLoopGroup-29-1" Id=374 RUNNABLE (in native)
	at sun.nio.ch.EPollArrayWrapper.epollWait(Native Method)
	at sun.nio.ch.EPollArrayWrapper.poll(EPollArrayWrapper.java:269)
	at sun.nio.ch.EPollSelectorImpl.doSelect(EPollSelectorImpl.java:93)
	at sun.nio.ch.SelectorImpl.lockAndDoSelect(SelectorImpl.java:86)
	-  locked org.apache.ratis.thirdparty.io.netty.channel.nio.SelectedSelectionKeySet@91161c7
	-  locked java.util.Collections$UnmodifiableSet@604ed9f0
	-  locked sun.nio.ch.EPollSelectorImpl@6a4f787b
	at sun.nio.ch.SelectorImpl.select(SelectorImpl.java:97)
	at org.apache.ratis.thirdparty.io.netty.channel.nio.SelectedSelectionKeySetSelector.select(SelectedSelectionKeySetSelector.java:62)
	at org.apache.ratis.thirdparty.io.netty.channel.nio.NioEventLoop.select(NioEventLoop.java:753)
	at org.apache.ratis.thirdparty.io.netty.channel.nio.NioEventLoop.run(NioEventLoop.java:408)
	...


"Time-limited test" Id=371 WAITING on org.apache.ratis.thirdparty.io.netty.channel.DefaultChannelPromise@6a41eaa2
	at java.lang.Object.wait(Native Method)
	-  waiting on org.apache.ratis.thirdparty.io.netty.channel.DefaultChannelPromise@6a41eaa2
	at java.lang.Object.wait(Object.java:502)
	at org.apache.ratis.thirdparty.io.netty.util.concurrent.DefaultPromise.awaitUninterruptibly(DefaultPromise.java:253)
	at org.apache.ratis.thirdparty.io.netty.channel.DefaultChannelPromise.awaitUninterruptibly(DefaultChannelPromise.java:137)
	at org.apache.ratis.thirdparty.io.netty.channel.DefaultChannelPromise.awaitUninterruptibly(DefaultChannelPromise.java:30)
	at org.apache.ratis.thirdparty.io.netty.util.concurrent.DefaultPromise.syncUninterruptibly(DefaultPromise.java:344)
	at org.apache.ratis.thirdparty.io.netty.channel.DefaultChannelPromise.syncUninterruptibly(DefaultChannelPromise.java:125)
	at org.apache.ratis.thirdparty.io.netty.channel.DefaultChannelPromise.syncUninterruptibly(DefaultChannelPromise.java:30)
	...


"s2@group-9DDC70D1F0F3-StateMachineUpdater" Id=278 WAITING on org.apache.ratis.server.impl.StateMachineUpdater@7cd62f43
	at java.lang.Object.wait(Native Method)
	-  waiting on org.apache.ratis.server.impl.StateMachineUpdater@7cd62f43
	at java.lang.Object.wait(Object.java:502)
	at org.apache.ratis.server.impl.StateMachineUpdater.waitForCommit(StateMachineUpdater.java:194)
	at org.apache.ratis.server.impl.StateMachineUpdater.run(StateMachineUpdater.java:159)
	at java.lang.Thread.run(Thread.java:748)


"metrics-hadoop-metrics2-reporter-24-thread-1" Id=345 TIMED_WAITING on java.util.concurrent.locks.AbstractQueuedSynchronizer$ConditionObject@6d4b1c02
	at sun.misc.Unsafe.park(Native Method)
	-  waiting on java.util.concurrent.locks.AbstractQueuedSynchronizer$ConditionObject@6d4b1c02
	at java.util.concurrent.locks.LockSupport.parkNanos(LockSupport.java:215)
	at java.util.concurrent.locks.AbstractQueuedSynchronizer$ConditionObject.awaitNanos(AbstractQueuedSynchronizer.java:2078)
	at java.util.concurrent.ScheduledThreadPoolExecutor$DelayedWorkQueue.take(ScheduledThreadPoolExecutor.java:1093)
	at java.util.concurrent.ScheduledThreadPoolExecutor$DelayedWorkQueue.take(ScheduledThreadPoolExecutor.java:809)
	at java.util.concurrent.ThreadPoolExecutor.getTask(ThreadPoolExecutor.java:1074)
	at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1134)
	at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:624)
	...


"Thread-222" Id=344 TIMED_WAITING
	at java.lang.Thread.sleep(Native Method)
	at org.apache.ratis.util.JavaUtils.sleep(JavaUtils.java:247)
	at org.apache.ratis.server.impl.FollowerState.run(FollowerState.java:97)


"org.apache.ratis.server.impl.LogAppender$AppenderDaemon$$Lambda$444/993879236@2767c6f3" Id=300 TIMED_WAITING on org.apache.ratis.server.impl.LogAppender@6093dd95
	at java.lang.Object.wait(Native Method)
	-  waiting on org.apache.ratis.server.impl.LogAppender@6093dd95
	at org.apache.ratis.server.impl.LogAppender.runAppenderImpl(LogAppender.java:473)
	at org.apache.ratis.server.impl.LogAppender$AppenderDaemon.run(LogAppender.java:76)
	at org.apache.ratis.server.impl.LogAppender$AppenderDaemon$$Lambda$444/993879236.run(Unknown Source)
	at java.lang.Thread.run(Thread.java:748)


"org.apache.ratis.server.impl.LogAppender$AppenderDaemon$$Lambda$444/993879236@44e7fae1" Id=299 TIMED_WAITING on org.apache.ratis.server.impl.LogAppender@5622fdf
	at java.lang.Object.wait(Native Method)
	-  waiting on org.apache.ratis.server.impl.LogAppender@5622fdf
	at org.apache.ratis.server.impl.LogAppender.runAppenderImpl(LogAppender.java:473)
	at org.apache.ratis.server.impl.LogAppender$AppenderDaemon.run(LogAppender.java:76)
	at org.apache.ratis.server.impl.LogAppender$AppenderDaemon$$Lambda$444/993879236.run(Unknown Source)
	at java.lang.Thread.run(Thread.java:748)


"Thread-178" Id=297 TIMED_WAITING on java.util.concurrent.locks.AbstractQueuedSynchronizer$ConditionObject@4883b407
	at sun.misc.Unsafe.park(Native Method)
	-  waiting on java.util.concurrent.locks.AbstractQueuedSynchronizer$ConditionObject@4883b407
	at java.util.concurrent.locks.LockSupport.parkNanos(LockSupport.java:215)
	at java.util.concurrent.locks.AbstractQueuedSynchronizer$ConditionObject.awaitNanos(AbstractQueuedSynchronizer.java:2078)
	at java.util.concurrent.ArrayBlockingQueue.poll(ArrayBlockingQueue.java:418)
	at org.apache.ratis.server.impl.LeaderState$EventQueue.poll(LeaderState.java:116)
	at org.apache.ratis.server.impl.LeaderState$EventProcessor.run(LeaderState.java:468)


"metrics-hadoop-metrics2-reporter-23-thread-1" Id=298 TIMED_WAITING on java.util.concurrent.locks.AbstractQueuedSynchronizer$ConditionObject@7d9d1a19
	at sun.misc.Unsafe.park(Native Method)
	-  waiting on java.util.concurrent.locks.AbstractQueuedSynchronizer$ConditionObject@7d9d1a19
	at java.util.concurrent.locks.LockSupport.parkNanos(LockSupport.java:215)
	at java.util.concurrent.locks.AbstractQueuedSynchronizer$ConditionObject.awaitNanos(AbstractQueuedSynchronizer.java:2078)
	at java.util.concurrent.ScheduledThreadPoolExecutor$DelayedWorkQueue.take(ScheduledThreadPoolExecutor.java:1093)
	at java.util.concurrent.ScheduledThreadPoolExecutor$DelayedWorkQueue.take(ScheduledThreadPoolExecutor.java:809)
	at java.util.concurrent.ThreadPoolExecutor.getTask(ThreadPoolExecutor.java:1074)
	at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1134)
	at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:624)
	...


"Thread-177" Id=296 TIMED_WAITING
	at java.lang.Thread.sleep(Native Method)
	at org.apache.ratis.util.JavaUtils.sleep(JavaUtils.java:247)
	at org.apache.ratis.server.impl.FollowerState.run(FollowerState.java:97)


"nioEventLoopGroup-24-1" Id=295 RUNNABLE (in native)
	at sun.nio.ch.EPollArrayWrapper.epollWait(Native Method)
	at sun.nio.ch.EPollArrayWrapper.poll(EPollArrayWrapper.java:269)
	at sun.nio.ch.EPollSelectorImpl.doSelect(EPollSelectorImpl.java:93)
	at sun.nio.ch.SelectorImpl.lockAndDoSelect(SelectorImpl.java:86)
	-  locked org.apache.ratis.thirdparty.io.netty.channel.nio.SelectedSelectionKeySet@39c0f4a
	-  locked java.util.Collections$UnmodifiableSet@1794d431
	-  locked sun.nio.ch.EPollSelectorImpl@42e26948
	at sun.nio.ch.SelectorImpl.select(SelectorImpl.java:97)
	at org.apache.ratis.thirdparty.io.netty.channel.nio.SelectedSelectionKeySetSelector.select(SelectedSelectionKeySetSelector.java:62)
	at org.apache.ratis.thirdparty.io.netty.channel.nio.NioEventLoop.select(NioEventLoop.java:753)
	at org.apache.ratis.thirdparty.io.netty.channel.nio.NioEventLoop.run(NioEventLoop.java:408)
	...


"nioEventLoopGroup-21-1" Id=294 RUNNABLE (in native)
	at sun.nio.ch.EPollArrayWrapper.epollWait(Native Method)
	at sun.nio.ch.EPollArrayWrapper.poll(EPollArrayWrapper.java:269)
	at sun.nio.ch.EPollSelectorImpl.doSelect(EPollSelectorImpl.java:93)
	at sun.nio.ch.SelectorImpl.lockAndDoSelect(SelectorImpl.java:86)
	-  locked org.apache.ratis.thirdparty.io.netty.channel.nio.SelectedSelectionKeySet@57baeedf
	-  locked java.util.Collections$UnmodifiableSet@343f4d3d
	-  locked sun.nio.ch.EPollSelectorImpl@53b32d7
	at sun.nio.ch.SelectorImpl.select(SelectorImpl.java:97)
	at org.apache.ratis.thirdparty.io.netty.channel.nio.SelectedSelectionKeySetSelector.select(SelectedSelectionKeySetSelector.java:62)
	at org.apache.ratis.thirdparty.io.netty.channel.nio.NioEventLoop.select(NioEventLoop.java:753)
	at org.apache.ratis.thirdparty.io.netty.channel.nio.NioEventLoop.run(NioEventLoop.java:408)
	...


"nioEventLoopGroup-19-2" Id=293 RUNNABLE (in native)
	at sun.nio.ch.EPollArrayWrapper.epollWait(Native Method)
	at sun.nio.ch.EPollArrayWrapper.poll(EPollArrayWrapper.java:269)
	at sun.nio.ch.EPollSelectorImpl.doSelect(EPollSelectorImpl.java:93)
	at sun.nio.ch.SelectorImpl.lockAndDoSelect(SelectorImpl.java:86)
	-  locked org.apache.ratis.thirdparty.io.netty.channel.nio.SelectedSelectionKeySet@5442a311
	-  locked java.util.Collections$UnmodifiableSet@548e7350
	-  locked sun.nio.ch.EPollSelectorImpl@1a968a59
	at sun.nio.ch.SelectorImpl.select(SelectorImpl.java:97)
	at org.apache.ratis.thirdparty.io.netty.channel.nio.SelectedSelectionKeySetSelector.select(SelectedSelectionKeySetSelector.java:62)
	at org.apache.ratis.thirdparty.io.netty.channel.nio.NioEventLoop.select(NioEventLoop.java:753)
	at org.apache.ratis.thirdparty.io.netty.channel.nio.NioEventLoop.run(NioEventLoop.java:408)
	...


"nioEventLoopGroup-19-1" Id=292 RUNNABLE (in native)
	at sun.nio.ch.EPollArrayWrapper.epollWait(Native Method)
	at sun.nio.ch.EPollArrayWrapper.poll(EPollArrayWrapper.java:269)
	at sun.nio.ch.EPollSelectorImpl.doSelect(EPollSelectorImpl.java:93)
	at sun.nio.ch.SelectorImpl.lockAndDoSelect(SelectorImpl.java:86)
	-  locked org.apache.ratis.thirdparty.io.netty.channel.nio.SelectedSelectionKeySet@4667ae56
	-  locked java.util.Collections$UnmodifiableSet@77cd7a0
	-  locked sun.nio.ch.EPollSelectorImpl@204f30ec
	at sun.nio.ch.SelectorImpl.select(SelectorImpl.java:97)
	at org.apache.ratis.thirdparty.io.netty.channel.nio.SelectedSelectionKeySetSelector.select(SelectedSelectionKeySetSelector.java:62)
	at org.apache.ratis.thirdparty.io.netty.channel.nio.NioEventLoop.select(NioEventLoop.java:753)
	at org.apache.ratis.thirdparty.io.netty.channel.nio.NioEventLoop.run(NioEventLoop.java:408)
	...


"s1@group-9DDC70D1F0F3-StateMachineUpdater" Id=279 WAITING on org.apache.ratis.server.impl.StateMachineUpdater@e25b2fe
	at java.lang.Object.wait(Native Method)
	-  waiting on org.apache.ratis.server.impl.StateMachineUpdater@e25b2fe
	at java.lang.Object.wait(Object.java:502)
	at org.apache.ratis.server.impl.StateMachineUpdater.waitForCommit(StateMachineUpdater.java:194)
	at org.apache.ratis.server.impl.StateMachineUpdater.run(StateMachineUpdater.java:159)
	at java.lang.Thread.run(Thread.java:748)


"metrics-hadoop-metrics2-reporter-22-thread-1" Id=288 TIMED_WAITING on java.util.concurrent.locks.AbstractQueuedSynchronizer$ConditionObject@754ba872
	at sun.misc.Unsafe.park(Native Method)
	-  waiting on java.util.concurrent.locks.AbstractQueuedSynchronizer$ConditionObject@754ba872
	at java.util.concurrent.locks.LockSupport.parkNanos(LockSupport.java:215)
	at java.util.concurrent.locks.AbstractQueuedSynchronizer$ConditionObject.awaitNanos(AbstractQueuedSynchronizer.java:2078)
	at java.util.concurrent.ScheduledThreadPoolExecutor$DelayedWorkQueue.take(ScheduledThreadPoolExecutor.java:1093)
	at java.util.concurrent.ScheduledThreadPoolExecutor$DelayedWorkQueue.take(ScheduledThreadPoolExecutor.java:809)
	at java.util.concurrent.ThreadPoolExecutor.getTask(ThreadPoolExecutor.java:1074)
	at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1134)
	at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:624)
	...


"s0@group-9DDC70D1F0F3-StateMachineUpdater" Id=283 WAITING on org.apache.ratis.server.impl.StateMachineUpdater@146ba0ac
	at java.lang.Object.wait(Native Method)
	-  waiting on org.apache.ratis.server.impl.StateMachineUpdater@146ba0ac
	at java.lang.Object.wait(Object.java:502)
	at org.apache.ratis.server.impl.StateMachineUpdater.waitForCommit(StateMachineUpdater.java:194)
	at org.apache.ratis.server.impl.StateMachineUpdater.run(StateMachineUpdater.java:159)
	at java.lang.Thread.run(Thread.java:748)


"metrics-hadoop-metrics2-reporter-21-thread-1" Id=286 TIMED_WAITING on java.util.concurrent.locks.AbstractQueuedSynchronizer$ConditionObject@4dfa3a9d
	at sun.misc.Unsafe.park(Native Method)
	-  waiting on java.util.concurrent.locks.AbstractQueuedSynchronizer$ConditionObject@4dfa3a9d
	at java.util.concurrent.locks.LockSupport.parkNanos(LockSupport.java:215)
	at java.util.concurrent.locks.AbstractQueuedSynchronizer$ConditionObject.awaitNanos(AbstractQueuedSynchronizer.java:2078)
	at java.util.concurrent.ScheduledThreadPoolExecutor$DelayedWorkQueue.take(ScheduledThreadPoolExecutor.java:1093)
	at java.util.concurrent.ScheduledThreadPoolExecutor$DelayedWorkQueue.take(ScheduledThreadPoolExecutor.java:809)
	at java.util.concurrent.ThreadPoolExecutor.getTask(ThreadPoolExecutor.java:1074)
	at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1134)
	at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:624)
	...


"metrics-hadoop-metrics2-reporter-20-thread-1" Id=284 TIMED_WAITING on java.util.concurrent.locks.AbstractQueuedSynchronizer$ConditionObject@6eebc39e
	at sun.misc.Unsafe.park(Native Method)
	-  waiting on java.util.concurrent.locks.AbstractQueuedSynchronizer$ConditionObject@6eebc39e
	at java.util.concurrent.locks.LockSupport.parkNanos(LockSupport.java:215)
	at java.util.concurrent.locks.AbstractQueuedSynchronizer$ConditionObject.awaitNanos(AbstractQueuedSynchronizer.java:2078)
	at java.util.concurrent.ScheduledThreadPoolExecutor$DelayedWorkQueue.take(ScheduledThreadPoolExecutor.java:1093)
	at java.util.concurrent.ScheduledThreadPoolExecutor$DelayedWorkQueue.take(ScheduledThreadPoolExecutor.java:809)
	at java.util.concurrent.ThreadPoolExecutor.getTask(ThreadPoolExecutor.java:1074)
	at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1134)
	at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:624)
	...


"metrics-hadoop-metrics2-reporter-19-thread-1" Id=282 TIMED_WAITING on java.util.concurrent.locks.AbstractQueuedSynchronizer$ConditionObject@464bee09
	at sun.misc.Unsafe.park(Native Method)
	-  waiting on java.util.concurrent.locks.AbstractQueuedSynchronizer$ConditionObject@464bee09
	at java.util.concurrent.locks.LockSupport.parkNanos(LockSupport.java:215)
	at java.util.concurrent.locks.AbstractQueuedSynchronizer$ConditionObject.awaitNanos(AbstractQueuedSynchronizer.java:2078)
	at java.util.concurrent.ScheduledThreadPoolExecutor$DelayedWorkQueue.take(ScheduledThreadPoolExecutor.java:1093)
	at java.util.concurrent.ScheduledThreadPoolExecutor$DelayedWorkQueue.take(ScheduledThreadPoolExecutor.java:809)
	at java.util.concurrent.ThreadPoolExecutor.getTask(ThreadPoolExecutor.java:1074)
	at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1134)
	at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:624)
	...


"s0@group-9DDC70D1F0F3-SegmentedRaftLogWorker" Id=280 TIMED_WAITING on java.util.concurrent.locks.AbstractQueuedSynchronizer$ConditionObject@f6c48ac
	at sun.misc.Unsafe.park(Native Method)
	-  waiting on java.util.concurrent.locks.AbstractQueuedSynchronizer$ConditionObject@f6c48ac
	at java.util.concurrent.locks.LockSupport.parkNanos(LockSupport.java:215)
	at java.util.concurrent.locks.AbstractQueuedSynchronizer$ConditionObject.awaitNanos(AbstractQueuedSynchronizer.java:2078)
	at org.apache.ratis.util.DataBlockingQueue.poll(DataBlockingQueue.java:137)
	at org.apache.ratis.server.raftlog.segmented.SegmentedRaftLogWorker.run(SegmentedRaftLogWorker.java:283)
	at java.lang.Thread.run(Thread.java:748)


"metrics-hadoop-metrics2-reporter-18-thread-1" Id=281 TIMED_WAITING on java.util.concurrent.locks.AbstractQueuedSynchronizer$ConditionObject@13deb50e
	at sun.misc.Unsafe.park(Native Method)
	-  waiting on java.util.concurrent.locks.AbstractQueuedSynchronizer$ConditionObject@13deb50e
	at java.util.concurrent.locks.LockSupport.parkNanos(LockSupport.java:215)
	at java.util.concurrent.locks.AbstractQueuedSynchronizer$ConditionObject.awaitNanos(AbstractQueuedSynchronizer.java:2078)
	at java.util.concurrent.ScheduledThreadPoolExecutor$DelayedWorkQueue.take(ScheduledThreadPoolExecutor.java:1093)
	at java.util.concurrent.ScheduledThreadPoolExecutor$DelayedWorkQueue.take(ScheduledThreadPoolExecutor.java:809)
	at java.util.concurrent.ThreadPoolExecutor.getTask(ThreadPoolExecutor.java:1074)
	at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1134)
	at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:624)
	...


"s1@group-9DDC70D1F0F3-SegmentedRaftLogWorker" Id=277 TIMED_WAITING on java.util.concurrent.locks.AbstractQueuedSynchronizer$ConditionObject@239963d8
	at sun.misc.Unsafe.park(Native Method)
	-  waiting on java.util.concurrent.locks.AbstractQueuedSynchronizer$ConditionObject@239963d8
	at java.util.concurrent.locks.LockSupport.parkNanos(LockSupport.java:215)
	at java.util.concurrent.locks.AbstractQueuedSynchronizer$ConditionObject.awaitNanos(AbstractQueuedSynchronizer.java:2078)
	at org.apache.ratis.util.DataBlockingQueue.poll(DataBlockingQueue.java:137)
	at org.apache.ratis.server.raftlog.segmented.SegmentedRaftLogWorker.run(SegmentedRaftLogWorker.java:283)
	at java.lang.Thread.run(Thread.java:748)


"s2@group-9DDC70D1F0F3-SegmentedRaftLogWorker" Id=276 TIMED_WAITING on java.util.concurrent.locks.AbstractQueuedSynchronizer$ConditionObject@3abbfa04
	at sun.misc.Unsafe.park(Native Method)
	-  waiting on java.util.concurrent.locks.AbstractQueuedSynchronizer$ConditionObject@3abbfa04
	at java.util.concurrent.locks.LockSupport.parkNanos(LockSupport.java:215)
	at java.util.concurrent.locks.AbstractQueuedSynchronizer$ConditionObject.awaitNanos(AbstractQueuedSynchronizer.java:2078)
	at org.apache.ratis.util.DataBlockingQueue.poll(DataBlockingQueue.java:137)
	at org.apache.ratis.server.raftlog.segmented.SegmentedRaftLogWorker.run(SegmentedRaftLogWorker.java:283)
	at java.lang.Thread.run(Thread.java:748)


"pool-8-thread-1" Id=275 WAITING on java.util.concurrent.locks.AbstractQueuedSynchronizer$ConditionObject@57fffcd7
	at sun.misc.Unsafe.park(Native Method)
	-  waiting on java.util.concurrent.locks.AbstractQueuedSynchronizer$ConditionObject@57fffcd7
	at java.util.concurrent.locks.LockSupport.park(LockSupport.java:175)
	at java.util.concurrent.locks.AbstractQueuedSynchronizer$ConditionObject.await(AbstractQueuedSynchronizer.java:2039)
	at java.util.concurrent.LinkedBlockingQueue.take(LinkedBlockingQueue.java:442)
	at java.util.concurrent.ThreadPoolExecutor.getTask(ThreadPoolExecutor.java:1074)
	at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1134)
	at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:624)
	at java.lang.Thread.run(Thread.java:748)


"nioEventLoopGroup-23-1" Id=274 RUNNABLE (in native)
	at sun.nio.ch.EPollArrayWrapper.epollWait(Native Method)
	at sun.nio.ch.EPollArrayWrapper.poll(EPollArrayWrapper.java:269)
	at sun.nio.ch.EPollSelectorImpl.doSelect(EPollSelectorImpl.java:93)
	at sun.nio.ch.SelectorImpl.lockAndDoSelect(SelectorImpl.java:86)
	-  locked org.apache.ratis.thirdparty.io.netty.channel.nio.SelectedSelectionKeySet@31ef45e3
	-  locked java.util.Collections$UnmodifiableSet@598067a5
	-  locked sun.nio.ch.EPollSelectorImpl@3c0ecd4b
	at sun.nio.ch.SelectorImpl.select(SelectorImpl.java:97)
	at org.apache.ratis.thirdparty.io.netty.channel.nio.SelectedSelectionKeySetSelector.select(SelectedSelectionKeySetSelector.java:62)
	at org.apache.ratis.thirdparty.io.netty.channel.nio.NioEventLoop.select(NioEventLoop.java:753)
	at org.apache.ratis.thirdparty.io.netty.channel.nio.NioEventLoop.run(NioEventLoop.java:408)
	...


"pool-7-thread-1" Id=273 WAITING on java.util.concurrent.locks.AbstractQueuedSynchronizer$ConditionObject@14bf9759
	at sun.misc.Unsafe.park(Native Method)
	-  waiting on java.util.concurrent.locks.AbstractQueuedSynchronizer$ConditionObject@14bf9759
	at java.util.concurrent.locks.LockSupport.park(LockSupport.java:175)
	at java.util.concurrent.locks.AbstractQueuedSynchronizer$ConditionObject.await(AbstractQueuedSynchronizer.java:2039)
	at java.util.concurrent.LinkedBlockingQueue.take(LinkedBlockingQueue.java:442)
	at java.util.concurrent.ThreadPoolExecutor.getTask(ThreadPoolExecutor.java:1074)
	at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1134)
	at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:624)
	at java.lang.Thread.run(Thread.java:748)


"nioEventLoopGroup-20-1" Id=272 RUNNABLE (in native)
	at sun.nio.ch.EPollArrayWrapper.epollWait(Native Method)
	at sun.nio.ch.EPollArrayWrapper.poll(EPollArrayWrapper.java:269)
	at sun.nio.ch.EPollSelectorImpl.doSelect(EPollSelectorImpl.java:93)
	at sun.nio.ch.SelectorImpl.lockAndDoSelect(SelectorImpl.java:86)
	-  locked org.apache.ratis.thirdparty.io.netty.channel.nio.SelectedSelectionKeySet@5f341870
	-  locked java.util.Collections$UnmodifiableSet@553f17c
	-  locked sun.nio.ch.EPollSelectorImpl@4f7d0008
	at sun.nio.ch.SelectorImpl.select(SelectorImpl.java:97)
	at org.apache.ratis.thirdparty.io.netty.channel.nio.SelectedSelectionKeySetSelector.select(SelectedSelectionKeySetSelector.java:62)
	at org.apache.ratis.thirdparty.io.netty.channel.nio.NioEventLoop.select(NioEventLoop.java:753)
	at org.apache.ratis.thirdparty.io.netty.channel.nio.NioEventLoop.run(NioEventLoop.java:408)
	...


"pool-6-thread-1" Id=271 WAITING on java.util.concurrent.locks.AbstractQueuedSynchronizer$ConditionObject@271053e1
	at sun.misc.Unsafe.park(Native Method)
	-  waiting on java.util.concurrent.locks.AbstractQueuedSynchronizer$ConditionObject@271053e1
	at java.util.concurrent.locks.LockSupport.park(LockSupport.java:175)
	at java.util.concurrent.locks.AbstractQueuedSynchronizer$ConditionObject.await(AbstractQueuedSynchronizer.java:2039)
	at java.util.concurrent.LinkedBlockingQueue.take(LinkedBlockingQueue.java:442)
	at java.util.concurrent.ThreadPoolExecutor.getTask(ThreadPoolExecutor.java:1074)
	at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1134)
	at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:624)
	at java.lang.Thread.run(Thread.java:748)


"nioEventLoopGroup-17-1" Id=270 RUNNABLE (in native)
	at sun.nio.ch.EPollArrayWrapper.epollWait(Native Method)
	at sun.nio.ch.EPollArrayWrapper.poll(EPollArrayWrapper.java:269)
	at sun.nio.ch.EPollSelectorImpl.doSelect(EPollSelectorImpl.java:93)
	at sun.nio.ch.SelectorImpl.lockAndDoSelect(SelectorImpl.java:86)
	-  locked org.apache.ratis.thirdparty.io.netty.channel.nio.SelectedSelectionKeySet@589838eb
	-  locked java.util.Collections$UnmodifiableSet@42dafa95
	-  locked sun.nio.ch.EPollSelectorImpl@6500df86
	at sun.nio.ch.SelectorImpl.select(SelectorImpl.java:97)
	at org.apache.ratis.thirdparty.io.netty.channel.nio.SelectedSelectionKeySetSelector.select(SelectedSelectionKeySetSelector.java:62)
	at org.apache.ratis.thirdparty.io.netty.channel.nio.NioEventLoop.select(NioEventLoop.java:753)
	at org.apache.ratis.thirdparty.io.netty.channel.nio.NioEventLoop.run(NioEventLoop.java:408)
	...


"metrics-hadoop-metrics2-reporter-17-thread-1" Id=172 TIMED_WAITING on java.util.concurrent.locks.AbstractQueuedSynchronizer$ConditionObject@402a079c
	at sun.misc.Unsafe.park(Native Method)
	-  waiting on java.util.concurrent.locks.AbstractQueuedSynchronizer$ConditionObject@402a079c
	at java.util.concurrent.locks.LockSupport.parkNanos(LockSupport.java:215)
	at java.util.concurrent.locks.AbstractQueuedSynchronizer$ConditionObject.awaitNanos(AbstractQueuedSynchronizer.java:2078)
	at java.util.concurrent.ScheduledThreadPoolExecutor$DelayedWorkQueue.take(ScheduledThreadPoolExecutor.java:1093)
	at java.util.concurrent.ScheduledThreadPoolExecutor$DelayedWorkQueue.take(ScheduledThreadPoolExecutor.java:809)
	at java.util.concurrent.ThreadPoolExecutor.getTask(ThreadPoolExecutor.java:1074)
	at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1134)
	at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:624)
	...


"metrics-hadoop-metrics2-reporter-16-thread-1" Id=153 TIMED_WAITING on java.util.concurrent.locks.AbstractQueuedSynchronizer$ConditionObject@59ec2012
	at sun.misc.Unsafe.park(Native Method)
	-  waiting on java.util.concurrent.locks.AbstractQueuedSynchronizer$ConditionObject@59ec2012
	at java.util.concurrent.locks.LockSupport.parkNanos(LockSupport.java:215)
	at java.util.concurrent.locks.AbstractQueuedSynchronizer$ConditionObject.awaitNanos(AbstractQueuedSynchronizer.java:2078)
	at java.util.concurrent.ScheduledThreadPoolExecutor$DelayedWorkQueue.take(ScheduledThreadPoolExecutor.java:1093)
	at java.util.concurrent.ScheduledThreadPoolExecutor$DelayedWorkQueue.take(ScheduledThreadPoolExecutor.java:809)
	at java.util.concurrent.ThreadPoolExecutor.getTask(ThreadPoolExecutor.java:1074)
	at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1134)
	at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:624)
	...


"metrics-hadoop-metrics2-reporter-15-thread-1" Id=54 TIMED_WAITING on java.util.concurrent.locks.AbstractQueuedSynchronizer$ConditionObject@4cf777e8
	at sun.misc.Unsafe.park(Native Method)
	-  waiting on java.util.concurrent.locks.AbstractQueuedSynchronizer$ConditionObject@4cf777e8
	at java.util.concurrent.locks.LockSupport.parkNanos(LockSupport.java:215)
	at java.util.concurrent.locks.AbstractQueuedSynchronizer$ConditionObject.awaitNanos(AbstractQueuedSynchronizer.java:2078)
	at java.util.concurrent.ScheduledThreadPoolExecutor$DelayedWorkQueue.take(ScheduledThreadPoolExecutor.java:1093)
	at java.util.concurrent.ScheduledThreadPoolExecutor$DelayedWorkQueue.take(ScheduledThreadPoolExecutor.java:809)
	at java.util.concurrent.ThreadPoolExecutor.getTask(ThreadPoolExecutor.java:1074)
	at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1134)
	at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:624)
	...


"metrics-hadoop-metrics2-reporter-14-thread-1" Id=52 TIMED_WAITING on java.util.concurrent.locks.AbstractQueuedSynchronizer$ConditionObject@2f686d1f
	at sun.misc.Unsafe.park(Native Method)
	-  waiting on java.util.concurrent.locks.AbstractQueuedSynchronizer$ConditionObject@2f686d1f
	at java.util.concurrent.locks.LockSupport.parkNanos(LockSupport.java:215)
	at java.util.concurrent.locks.AbstractQueuedSynchronizer$ConditionObject.awaitNanos(AbstractQueuedSynchronizer.java:2078)
	at java.util.concurrent.ScheduledThreadPoolExecutor$DelayedWorkQueue.take(ScheduledThreadPoolExecutor.java:1093)
	at java.util.concurrent.ScheduledThreadPoolExecutor$DelayedWorkQueue.take(ScheduledThreadPoolExecutor.java:809)
	at java.util.concurrent.ThreadPoolExecutor.getTask(ThreadPoolExecutor.java:1074)
	at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1134)
	at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:624)
	...


"metrics-hadoop-metrics2-reporter-13-thread-1" Id=50 TIMED_WAITING on java.util.concurrent.locks.AbstractQueuedSynchronizer$ConditionObject@3fee9989
	at sun.misc.Unsafe.park(Native Method)
	-  waiting on java.util.concurrent.locks.AbstractQueuedSynchronizer$ConditionObject@3fee9989
	at java.util.concurrent.locks.LockSupport.parkNanos(LockSupport.java:215)
	at java.util.concurrent.locks.AbstractQueuedSynchronizer$ConditionObject.awaitNanos(AbstractQueuedSynchronizer.java:2078)
	at java.util.concurrent.ScheduledThreadPoolExecutor$DelayedWorkQueue.take(ScheduledThreadPoolExecutor.java:1093)
	at java.util.concurrent.ScheduledThreadPoolExecutor$DelayedWorkQueue.take(ScheduledThreadPoolExecutor.java:809)
	at java.util.concurrent.ThreadPoolExecutor.getTask(ThreadPoolExecutor.java:1074)
	at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1134)
	at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:624)
	...


"metrics-hadoop-metrics2-reporter-12-thread-1" Id=48 TIMED_WAITING on java.util.concurrent.locks.AbstractQueuedSynchronizer$ConditionObject@73ad2d6
	at sun.misc.Unsafe.park(Native Method)
	-  waiting on java.util.concurrent.locks.AbstractQueuedSynchronizer$ConditionObject@73ad2d6
	at java.util.concurrent.locks.LockSupport.parkNanos(LockSupport.java:215)
	at java.util.concurrent.locks.AbstractQueuedSynchronizer$ConditionObject.awaitNanos(AbstractQueuedSynchronizer.java:2078)
	at java.util.concurrent.ScheduledThreadPoolExecutor$DelayedWorkQueue.take(ScheduledThreadPoolExecutor.java:1093)
	at java.util.concurrent.ScheduledThreadPoolExecutor$DelayedWorkQueue.take(ScheduledThreadPoolExecutor.java:809)
	at java.util.concurrent.ThreadPoolExecutor.getTask(ThreadPoolExecutor.java:1074)
	at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1134)
	at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:624)
	...


"metrics-hadoop-metrics2-reporter-11-thread-1" Id=46 TIMED_WAITING on java.util.concurrent.locks.AbstractQueuedSynchronizer$ConditionObject@7085bdee
	at sun.misc.Unsafe.park(Native Method)
	-  waiting on java.util.concurrent.locks.AbstractQueuedSynchronizer$ConditionObject@7085bdee
	at java.util.concurrent.locks.LockSupport.parkNanos(LockSupport.java:215)
	at java.util.concurrent.locks.AbstractQueuedSynchronizer$ConditionObject.awaitNanos(AbstractQueuedSynchronizer.java:2078)
	at java.util.concurrent.ScheduledThreadPoolExecutor$DelayedWorkQueue.take(ScheduledThreadPoolExecutor.java:1093)
	at java.util.concurrent.ScheduledThreadPoolExecutor$DelayedWorkQueue.take(ScheduledThreadPoolExecutor.java:809)
	at java.util.concurrent.ThreadPoolExecutor.getTask(ThreadPoolExecutor.java:1074)
	at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1134)
	at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:624)
	...


"metrics-hadoop-metrics2-reporter-9-thread-1" Id=44 TIMED_WAITING on java.util.concurrent.locks.AbstractQueuedSynchronizer$ConditionObject@1ce92674
	at sun.misc.Unsafe.park(Native Method)
	-  waiting on java.util.concurrent.locks.AbstractQueuedSynchronizer$ConditionObject@1ce92674
	at java.util.concurrent.locks.LockSupport.parkNanos(LockSupport.java:215)
	at java.util.concurrent.locks.AbstractQueuedSynchronizer$ConditionObject.awaitNanos(AbstractQueuedSynchronizer.java:2078)
	at java.util.concurrent.ScheduledThreadPoolExecutor$DelayedWorkQueue.take(ScheduledThreadPoolExecutor.java:1093)
	at java.util.concurrent.ScheduledThreadPoolExecutor$DelayedWorkQueue.take(ScheduledThreadPoolExecutor.java:809)
	at java.util.concurrent.ThreadPoolExecutor.getTask(ThreadPoolExecutor.java:1074)
	at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1134)
	at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:624)
	...


"metrics-hadoop-metrics2-reporter-10-thread-1" Id=43 TIMED_WAITING on java.util.concurrent.locks.AbstractQueuedSynchronizer$ConditionObject@5700d6b1
	at sun.misc.Unsafe.park(Native Method)
	-  waiting on java.util.concurrent.locks.AbstractQueuedSynchronizer$ConditionObject@5700d6b1
	at java.util.concurrent.locks.LockSupport.parkNanos(LockSupport.java:215)
	at java.util.concurrent.locks.AbstractQueuedSynchronizer$ConditionObject.awaitNanos(AbstractQueuedSynchronizer.java:2078)
	at java.util.concurrent.ScheduledThreadPoolExecutor$DelayedWorkQueue.take(ScheduledThreadPoolExecutor.java:1093)
	at java.util.concurrent.ScheduledThreadPoolExecutor$DelayedWorkQueue.take(ScheduledThreadPoolExecutor.java:809)
	at java.util.concurrent.ThreadPoolExecutor.getTask(ThreadPoolExecutor.java:1074)
	at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1134)
	at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:624)
	...


"metrics-hadoop-metrics2-reporter-7-thread-1" Id=42 TIMED_WAITING on java.util.concurrent.locks.AbstractQueuedSynchronizer$ConditionObject@6fd02e5
	at sun.misc.Unsafe.park(Native Method)
	-  waiting on java.util.concurrent.locks.AbstractQueuedSynchronizer$ConditionObject@6fd02e5
	at java.util.concurrent.locks.LockSupport.parkNanos(LockSupport.java:215)
	at java.util.concurrent.locks.AbstractQueuedSynchronizer$ConditionObject.awaitNanos(AbstractQueuedSynchronizer.java:2078)
	at java.util.concurrent.ScheduledThreadPoolExecutor$DelayedWorkQueue.take(ScheduledThreadPoolExecutor.java:1093)
	at java.util.concurrent.ScheduledThreadPoolExecutor$DelayedWorkQueue.take(ScheduledThreadPoolExecutor.java:809)
	at java.util.concurrent.ThreadPoolExecutor.getTask(ThreadPoolExecutor.java:1074)
	at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1134)
	at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:624)
	...


"metrics-hadoop-metrics2-reporter-6-thread-1" Id=41 TIMED_WAITING on java.util.concurrent.locks.AbstractQueuedSynchronizer$ConditionObject@5bcab519
	at sun.misc.Unsafe.park(Native Method)
	-  waiting on java.util.concurrent.locks.AbstractQueuedSynchronizer$ConditionObject@5bcab519
	at java.util.concurrent.locks.LockSupport.parkNanos(LockSupport.java:215)
	at java.util.concurrent.locks.AbstractQueuedSynchronizer$ConditionObject.awaitNanos(AbstractQueuedSynchronizer.java:2078)
	at java.util.concurrent.ScheduledThreadPoolExecutor$DelayedWorkQueue.take(ScheduledThreadPoolExecutor.java:1093)
	at java.util.concurrent.ScheduledThreadPoolExecutor$DelayedWorkQueue.take(ScheduledThreadPoolExecutor.java:809)
	at java.util.concurrent.ThreadPoolExecutor.getTask(ThreadPoolExecutor.java:1074)
	at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1134)
	at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:624)
	...


"metrics-hadoop-metrics2-reporter-8-thread-1" Id=40 TIMED_WAITING on java.util.concurrent.locks.AbstractQueuedSynchronizer$ConditionObject@e45f292
	at sun.misc.Unsafe.park(Native Method)
	-  waiting on java.util.concurrent.locks.AbstractQueuedSynchronizer$ConditionObject@e45f292
	at java.util.concurrent.locks.LockSupport.parkNanos(LockSupport.java:215)
	at java.util.concurrent.locks.AbstractQueuedSynchronizer$ConditionObject.awaitNanos(AbstractQueuedSynchronizer.java:2078)
	at java.util.concurrent.ScheduledThreadPoolExecutor$DelayedWorkQueue.take(ScheduledThreadPoolExecutor.java:1093)
	at java.util.concurrent.ScheduledThreadPoolExecutor$DelayedWorkQueue.take(ScheduledThreadPoolExecutor.java:809)
	at java.util.concurrent.ThreadPoolExecutor.getTask(ThreadPoolExecutor.java:1074)
	at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1134)
	at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:624)
	...


"metrics-hadoop-metrics2-reporter-3-thread-1" Id=29 TIMED_WAITING on java.util.concurrent.locks.AbstractQueuedSynchronizer$ConditionObject@5f2108b5
	at sun.misc.Unsafe.park(Native Method)
	-  waiting on java.util.concurrent.locks.AbstractQueuedSynchronizer$ConditionObject@5f2108b5
	at java.util.concurrent.locks.LockSupport.parkNanos(LockSupport.java:215)
	at java.util.concurrent.locks.AbstractQueuedSynchronizer$ConditionObject.awaitNanos(AbstractQueuedSynchronizer.java:2078)
	at java.util.concurrent.ScheduledThreadPoolExecutor$DelayedWorkQueue.take(ScheduledThreadPoolExecutor.java:1093)
	at java.util.concurrent.ScheduledThreadPoolExecutor$DelayedWorkQueue.take(ScheduledThreadPoolExecutor.java:809)
	at java.util.concurrent.ThreadPoolExecutor.getTask(ThreadPoolExecutor.java:1074)
	at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1134)
	at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:624)
	...


"metrics-hadoop-metrics2-reporter-5-thread-1" Id=28 TIMED_WAITING on java.util.concurrent.locks.AbstractQueuedSynchronizer$ConditionObject@31a5c39e
	at sun.misc.Unsafe.park(Native Method)
	-  waiting on java.util.concurrent.locks.AbstractQueuedSynchronizer$ConditionObject@31a5c39e
	at java.util.concurrent.locks.LockSupport.parkNanos(LockSupport.java:215)
	at java.util.concurrent.locks.AbstractQueuedSynchronizer$ConditionObject.awaitNanos(AbstractQueuedSynchronizer.java:2078)
	at java.util.concurrent.ScheduledThreadPoolExecutor$DelayedWorkQueue.take(ScheduledThreadPoolExecutor.java:1093)
	at java.util.concurrent.ScheduledThreadPoolExecutor$DelayedWorkQueue.take(ScheduledThreadPoolExecutor.java:809)
	at java.util.concurrent.ThreadPoolExecutor.getTask(ThreadPoolExecutor.java:1074)
	at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1134)
	at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:624)
	...


"metrics-hadoop-metrics2-reporter-2-thread-1" Id=27 TIMED_WAITING on java.util.concurrent.locks.AbstractQueuedSynchronizer$ConditionObject@3f49dace
	at sun.misc.Unsafe.park(Native Method)
	-  waiting on java.util.concurrent.locks.AbstractQueuedSynchronizer$ConditionObject@3f49dace
	at java.util.concurrent.locks.LockSupport.parkNanos(LockSupport.java:215)
	at java.util.concurrent.locks.AbstractQueuedSynchronizer$ConditionObject.awaitNanos(AbstractQueuedSynchronizer.java:2078)
	at java.util.concurrent.ScheduledThreadPoolExecutor$DelayedWorkQueue.take(ScheduledThreadPoolExecutor.java:1093)
	at java.util.concurrent.ScheduledThreadPoolExecutor$DelayedWorkQueue.take(ScheduledThreadPoolExecutor.java:809)
	at java.util.concurrent.ThreadPoolExecutor.getTask(ThreadPoolExecutor.java:1074)
	at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1134)
	at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:624)
	...


"metrics-hadoop-metrics2-reporter-4-thread-1" Id=26 TIMED_WAITING on java.util.concurrent.locks.AbstractQueuedSynchronizer$ConditionObject@1e397ed7
	at sun.misc.Unsafe.park(Native Method)
	-  waiting on java.util.concurrent.locks.AbstractQueuedSynchronizer$ConditionObject@1e397ed7
	at java.util.concurrent.locks.LockSupport.parkNanos(LockSupport.java:215)
	at java.util.concurrent.locks.AbstractQueuedSynchronizer$ConditionObject.awaitNanos(AbstractQueuedSynchronizer.java:2078)
	at java.util.concurrent.ScheduledThreadPoolExecutor$DelayedWorkQueue.take(ScheduledThreadPoolExecutor.java:1093)
	at java.util.concurrent.ScheduledThreadPoolExecutor$DelayedWorkQueue.take(ScheduledThreadPoolExecutor.java:809)
	at java.util.concurrent.ThreadPoolExecutor.getTask(ThreadPoolExecutor.java:1074)
	at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1134)
	at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:624)
	...


"metrics-hadoop-metrics2-reporter-1-thread-1" Id=25 TIMED_WAITING on java.util.concurrent.locks.AbstractQueuedSynchronizer$ConditionObject@490ab905
	at sun.misc.Unsafe.park(Native Method)
	-  waiting on java.util.concurrent.locks.AbstractQueuedSynchronizer$ConditionObject@490ab905
	at java.util.concurrent.locks.LockSupport.parkNanos(LockSupport.java:215)
	at java.util.concurrent.locks.AbstractQueuedSynchronizer$ConditionObject.awaitNanos(AbstractQueuedSynchronizer.java:2078)
	at java.util.concurrent.ScheduledThreadPoolExecutor$DelayedWorkQueue.take(ScheduledThreadPoolExecutor.java:1093)
	at java.util.concurrent.ScheduledThreadPoolExecutor$DelayedWorkQueue.take(ScheduledThreadPoolExecutor.java:809)
	at java.util.concurrent.ThreadPoolExecutor.getTask(ThreadPoolExecutor.java:1074)
	at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1134)
	at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:624)
	...


"Timer for 'ratis' metrics system" Id=24 TIMED_WAITING on java.util.TaskQueue@56ac3a89
	at java.lang.Object.wait(Native Method)
	-  waiting on java.util.TaskQueue@56ac3a89
	at java.util.TimerThread.mainLoop(Timer.java:552)
	at java.util.TimerThread.run(Timer.java:505)


"process reaper" Id=10 TIMED_WAITING on java.util.concurrent.SynchronousQueue$TransferStack@27c20538
	at sun.misc.Unsafe.park(Native Method)
	-  waiting on java.util.concurrent.SynchronousQueue$TransferStack@27c20538
	at java.util.concurrent.locks.LockSupport.parkNanos(LockSupport.java:215)
	at java.util.concurrent.SynchronousQueue$TransferStack.awaitFulfill(SynchronousQueue.java:460)
	at java.util.concurrent.SynchronousQueue$TransferStack.transfer(SynchronousQueue.java:362)
	at java.util.concurrent.SynchronousQueue.poll(SynchronousQueue.java:941)
	at java.util.concurrent.ThreadPoolExecutor.getTask(ThreadPoolExecutor.java:1073)
	at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1134)
	at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:624)
	...


"surefire-forkedjvm-ping-30s" Id=9 TIMED_WAITING on java.util.concurrent.locks.AbstractQueuedSynchronizer$ConditionObject@72d818d1
	at sun.misc.Unsafe.park(Native Method)
	-  waiting on java.util.concurrent.locks.AbstractQueuedSynchronizer$ConditionObject@72d818d1
	at java.util.concurrent.locks.LockSupport.parkNanos(LockSupport.java:215)
	at java.util.concurrent.locks.AbstractQueuedSynchronizer$ConditionObject.awaitNanos(AbstractQueuedSynchronizer.java:2078)
	at java.util.concurrent.ScheduledThreadPoolExecutor$DelayedWorkQueue.take(ScheduledThreadPoolExecutor.java:1093)
	at java.util.concurrent.ScheduledThreadPoolExecutor$DelayedWorkQueue.take(ScheduledThreadPoolExecutor.java:809)
	at java.util.concurrent.ThreadPoolExecutor.getTask(ThreadPoolExecutor.java:1074)
	at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1134)
	at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:624)
	...


"surefire-forkedjvm-command-thread" Id=8 RUNNABLE (in native)
	at java.io.FileInputStream.readBytes(Native Method)
	at java.io.FileInputStream.read(FileInputStream.java:255)
	at java.io.BufferedInputStream.fill(BufferedInputStream.java:246)
	at java.io.BufferedInputStream.read(BufferedInputStream.java:265)
	-  locked java.io.BufferedInputStream@6e06451e
	at java.io.DataInputStream.readInt(DataInputStream.java:387)
	at org.apache.maven.surefire.booter.MasterProcessCommand.decode(MasterProcessCommand.java:115)
	at org.apache.maven.surefire.booter.CommandReader$CommandRunnable.run(CommandReader.java:390)
	at java.lang.Thread.run(Thread.java:748)


"Signal Dispatcher" Id=4 RUNNABLE


"Finalizer" Id=3 WAITING on java.lang.ref.ReferenceQueue$Lock@59494225
	at java.lang.Object.wait(Native Method)
	-  waiting on java.lang.ref.ReferenceQueue$Lock@59494225
	at java.lang.ref.ReferenceQueue.remove(ReferenceQueue.java:144)
	at java.lang.ref.ReferenceQueue.remove(ReferenceQueue.java:165)
	at java.lang.ref.Finalizer$FinalizerThread.run(Finalizer.java:216)


"Reference Handler" Id=2 WAITING on java.lang.ref.Reference$Lock@6e1567f1
	at java.lang.Object.wait(Native Method)
	-  waiting on java.lang.ref.Reference$Lock@6e1567f1
	at java.lang.Object.wait(Object.java:502)
	at java.lang.ref.Reference.tryHandlePending(Reference.java:191)
	at java.lang.ref.Reference$ReferenceHandler.run(Reference.java:153)


"main" Id=1 RUNNABLE
	at sun.management.ThreadImpl.dumpThreads0(Native Method)
	at sun.management.ThreadImpl.dumpAllThreads(ThreadImpl.java:454)
	at org.apache.ratis.util.JavaUtils.dumpAllThreads(JavaUtils.java:214)
	at org.apache.ratis.JUnitRunListener.testFailure(JUnitRunListener.java:65)
	at org.junit.runner.notification.SynchronizedRunListener.testFailure(SynchronizedRunListener.java:63)
	-  locked org.apache.maven.surefire.common.junit4.Notifier@5cb9f472
	at org.junit.runner.notification.RunNotifier$4.notifyListener(RunNotifier.java:142)
	at org.junit.runner.notification.RunNotifier$SafeNotifier.run(RunNotifier.java:72)
	at org.junit.runner.notification.RunNotifier.fireTestFailures(RunNotifier.java:138)
	...


2019-09-24 12:06:42,424 INFO  util.LogUtils (LogUtils.java:setLogLevel(41)) - Set org.apache.ratis.conf.ConfUtils log level to WARN
2019-09-24 12:06:42,425 INFO  util.LogUtils (LogUtils.java:setLogLevel(41)) - Set org.apache.ratis.util.FileUtils log level to TRACE
2019-09-24 12:06:42,425 INFO  util.LogUtils (LogUtils.java:setLogLevel(41)) - Set org.apache.ratis.server.impl.RaftServerImpl log level to DEBUG
2019-09-24 12:06:42,426 INFO  util.LogUtils (LogUtils.java:setLogLevel(41)) - Set org.apache.ratis.client.RaftClient log level to DEBUG
2019-09-24 12:06:42,428 INFO  util.LogUtils (LogUtils.java:setLogLevel(41)) - Set org.apache.ratis.server.raftlog.segmented.SegmentedRaftLogWorker log level to TRACE
2019-09-24 12:06:42,428 INFO  netty.TestLeaderElectionWithNetty (LeaderElectionTests.java:testChangeLeader(75)) - Running testChangeLeader
2019-09-24 12:06:42,429 INFO  ratis.MiniRaftCluster (MiniRaftCluster.java:<init>(253)) - new MiniRaftClusterWithNetty with group-04E6F89F5A1C:[s0:0.0.0.0:34119, s1:0.0.0.0:44382, s2:0.0.0.0:42516]
2019-09-24 12:06:42,430 INFO  ratis.MiniRaftCluster (MiniRaftCluster.java:start(287)) - .............................................................. 
2019-09-24 12:06:42,430 INFO  ratis.MiniRaftCluster (MiniRaftCluster.java:start(288)) - ... 
2019-09-24 12:06:42,430 INFO  ratis.MiniRaftCluster (MiniRaftCluster.java:start(289)) - ...     Starting MiniRaftClusterWithNetty
2019-09-24 12:06:42,430 INFO  ratis.MiniRaftCluster (MiniRaftCluster.java:start(290)) - ... 
2019-09-24 12:06:42,430 INFO  ratis.MiniRaftCluster (MiniRaftCluster.java:start(291)) - .............................................................. 
2019-09-24 12:06:42,430 INFO  ratis.MiniRaftCluster (MiniRaftCluster.java:initServers(265)) - servers = {}
2019-09-24 12:06:42,431 INFO  ratis.MiniRaftCluster (MiniRaftCluster.java:newRaftServer(330)) - newRaftServer: s0, group-04E6F89F5A1C:[s0:0.0.0.0:34119, s1:0.0.0.0:44382, s2:0.0.0.0:42516], format? true
2019-09-24 12:06:42,431 TRACE util.FileUtils (FileUtils.java:deleteFully(88)) - deleteFully target/test/data/aaa4fccd/MiniRaftClusterWithNetty55a7148e/s0
2019-09-24 12:06:42,432 TRACE util.FileUtils (FileUtils.java:deleteFully(104)) - deleteFully: target/test/data/aaa4fccd/MiniRaftClusterWithNetty55a7148e/s0 does not exist.
2019-09-24 12:06:42,432 INFO  ratis.MiniRaftCluster (MiniRaftCluster.java:newRaftServer(335)) - Formatted directory target/test/data/aaa4fccd/MiniRaftClusterWithNetty55a7148e/s0
2019-09-24 12:06:42,433 INFO  impl.RaftServerProxy (ConfUtils.java:logGet(43)) - raft.rpc.type = NETTY (custom)
2019-09-24 12:06:42,435 INFO  netty.NettyConfigKeys$Server (ConfUtils.java:logGet(43)) - raft.netty.server.port = 34119 (custom)
2019-09-24 12:06:42,438 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.storage.dir = [/workdir/ratis-test/target/test/data/aaa4fccd/MiniRaftClusterWithNetty55a7148e/s0] (custom)
2019-09-24 12:06:42,438 INFO  logging.LoggingHandler (AbstractInternalLogger.java:log(150)) - [id: 0x6f0b30f3] REGISTERED
2019-09-24 12:06:42,438 INFO  impl.RaftServerProxy (RaftServerProxy.java:addNew(89)) - s0: addNew group-04E6F89F5A1C:[s0:0.0.0.0:34119, s1:0.0.0.0:44382, s2:0.0.0.0:42516] returns group-04E6F89F5A1C:java.util.concurrent.CompletableFuture@668dd504[Not completed]
2019-09-24 12:06:42,439 INFO  logging.LoggingHandler (AbstractInternalLogger.java:log(150)) - [id: 0x6f0b30f3] BIND: 0.0.0.0/0.0.0.0:34119
2019-09-24 12:06:42,440 INFO  logging.LoggingHandler (AbstractInternalLogger.java:log(150)) - [id: 0x6f0b30f3, L:/0.0.0.0:34119] ACTIVE
2019-09-24 12:06:42,440 INFO  impl.RaftServerImpl (RaftServerImpl.java:<init>(95)) - s0: new RaftServerImpl for group-04E6F89F5A1C:[s0:0.0.0.0:34119, s1:0.0.0.0:44382, s2:0.0.0.0:42516] with BaseStateMachine:uninitialized
2019-09-24 12:06:42,441 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.rpc.timeout.min = 150ms (default)
2019-09-24 12:06:42,441 INFO  ratis.MiniRaftCluster (MiniRaftCluster.java:newRaftServer(330)) - newRaftServer: s1, group-04E6F89F5A1C:[s0:0.0.0.0:34119, s1:0.0.0.0:44382, s2:0.0.0.0:42516], format? true
2019-09-24 12:06:42,441 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.rpc.timeout.max = 300ms (default)
2019-09-24 12:06:42,441 TRACE util.FileUtils (FileUtils.java:deleteFully(88)) - deleteFully target/test/data/aaa4fccd/MiniRaftClusterWithNetty55a7148e/s1
2019-09-24 12:06:42,441 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.rpcslowness.timeout = 60s (default)
2019-09-24 12:06:42,442 TRACE util.FileUtils (FileUtils.java:deleteFully(104)) - deleteFully: target/test/data/aaa4fccd/MiniRaftClusterWithNetty55a7148e/s1 does not exist.
2019-09-24 12:06:42,442 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.sleep.deviation.threshold = 300 (default)
2019-09-24 12:06:42,442 INFO  ratis.MiniRaftCluster (MiniRaftCluster.java:newRaftServer(335)) - Formatted directory target/test/data/aaa4fccd/MiniRaftClusterWithNetty55a7148e/s1
2019-09-24 12:06:42,442 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.log.appender.install.snapshot.enabled = true (default)
2019-09-24 12:06:42,443 INFO  impl.RaftServerProxy (ConfUtils.java:logGet(43)) - raft.rpc.type = NETTY (custom)
2019-09-24 12:06:42,443 INFO  impl.RaftServerImpl (ServerState.java:<init>(103)) - s0@group-04E6F89F5A1C: ConfigurationManager, init=-1: [s0:0.0.0.0:34119, s1:0.0.0.0:44382, s2:0.0.0.0:42516], old=null, confs=<EMPTY_MAP>
2019-09-24 12:06:42,444 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.storage.dir = [/workdir/ratis-test/target/test/data/aaa4fccd/MiniRaftClusterWithNetty55a7148e/s0] (custom)
2019-09-24 12:06:42,444 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.log.corruption.policy = EXCEPTION (default)
2019-09-24 12:06:42,445 INFO  storage.RaftStorageDirectory (RaftStorageDirectory.java:analyzeStorage(246)) - The storage directory /workdir/ratis-test/target/test/data/aaa4fccd/MiniRaftClusterWithNetty55a7148e/s0/611a84d9-4fe5-4f71-a301-04e6f89f5a1c does not exist. Creating ...
2019-09-24 12:06:42,445 INFO  netty.NettyConfigKeys$Server (ConfUtils.java:logGet(43)) - raft.netty.server.port = 44382 (custom)
2019-09-24 12:06:42,446 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.storage.dir = [/workdir/ratis-test/target/test/data/aaa4fccd/MiniRaftClusterWithNetty55a7148e/s1] (custom)
2019-09-24 12:06:42,446 INFO  logging.LoggingHandler (AbstractInternalLogger.java:log(150)) - [id: 0x4dd9b93d] REGISTERED
2019-09-24 12:06:42,446 TRACE util.FileUtils (LogUtils.java:runAndLog(61)) - Successfully ran Files.createDirectories /workdir/ratis-test/target/test/data/aaa4fccd/MiniRaftClusterWithNetty55a7148e/s0/611a84d9-4fe5-4f71-a301-04e6f89f5a1c
2019-09-24 12:06:42,446 INFO  logging.LoggingHandler (AbstractInternalLogger.java:log(150)) - [id: 0x4dd9b93d] BIND: 0.0.0.0/0.0.0.0:44382
2019-09-24 12:06:42,446 INFO  impl.RaftServerProxy (RaftServerProxy.java:addNew(89)) - s1: addNew group-04E6F89F5A1C:[s0:0.0.0.0:34119, s1:0.0.0.0:44382, s2:0.0.0.0:42516] returns group-04E6F89F5A1C:java.util.concurrent.CompletableFuture@73d299bf[Not completed]
2019-09-24 12:06:42,447 INFO  logging.LoggingHandler (AbstractInternalLogger.java:log(150)) - [id: 0x4dd9b93d, L:/0.0.0.0:44382] ACTIVE
2019-09-24 12:06:42,448 INFO  impl.RaftServerImpl (RaftServerImpl.java:<init>(95)) - s1: new RaftServerImpl for group-04E6F89F5A1C:[s0:0.0.0.0:34119, s1:0.0.0.0:44382, s2:0.0.0.0:42516] with BaseStateMachine:uninitialized
2019-09-24 12:06:42,448 INFO  ratis.MiniRaftCluster (MiniRaftCluster.java:newRaftServer(330)) - newRaftServer: s2, group-04E6F89F5A1C:[s0:0.0.0.0:34119, s1:0.0.0.0:44382, s2:0.0.0.0:42516], format? true
2019-09-24 12:06:42,448 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.rpc.timeout.min = 150ms (default)
2019-09-24 12:06:42,449 TRACE util.FileUtils (FileUtils.java:deleteFully(88)) - deleteFully target/test/data/aaa4fccd/MiniRaftClusterWithNetty55a7148e/s2
2019-09-24 12:06:42,449 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.rpc.timeout.max = 300ms (default)
2019-09-24 12:06:42,449 TRACE util.FileUtils (FileUtils.java:deleteFully(104)) - deleteFully: target/test/data/aaa4fccd/MiniRaftClusterWithNetty55a7148e/s2 does not exist.
2019-09-24 12:06:42,449 INFO  ratis.MiniRaftCluster (MiniRaftCluster.java:newRaftServer(335)) - Formatted directory target/test/data/aaa4fccd/MiniRaftClusterWithNetty55a7148e/s2
2019-09-24 12:06:42,449 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.rpcslowness.timeout = 60s (default)
2019-09-24 12:06:42,450 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.sleep.deviation.threshold = 300 (default)
2019-09-24 12:06:42,450 INFO  impl.RaftServerProxy (ConfUtils.java:logGet(43)) - raft.rpc.type = NETTY (custom)
2019-09-24 12:06:42,450 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.log.appender.install.snapshot.enabled = true (default)
2019-09-24 12:06:42,450 INFO  impl.RaftServerImpl (ServerState.java:<init>(103)) - s1@group-04E6F89F5A1C: ConfigurationManager, init=-1: [s0:0.0.0.0:34119, s1:0.0.0.0:44382, s2:0.0.0.0:42516], old=null, confs=<EMPTY_MAP>
2019-09-24 12:06:42,451 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.storage.dir = [/workdir/ratis-test/target/test/data/aaa4fccd/MiniRaftClusterWithNetty55a7148e/s1] (custom)
2019-09-24 12:06:42,451 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.log.corruption.policy = EXCEPTION (default)
2019-09-24 12:06:42,451 INFO  storage.RaftStorageDirectory (RaftStorageDirectory.java:analyzeStorage(246)) - The storage directory /workdir/ratis-test/target/test/data/aaa4fccd/MiniRaftClusterWithNetty55a7148e/s1/611a84d9-4fe5-4f71-a301-04e6f89f5a1c does not exist. Creating ...
2019-09-24 12:06:42,452 TRACE util.FileUtils (LogUtils.java:runAndLog(61)) - Successfully ran Files.createDirectories /workdir/ratis-test/target/test/data/aaa4fccd/MiniRaftClusterWithNetty55a7148e/s1/611a84d9-4fe5-4f71-a301-04e6f89f5a1c
2019-09-24 12:06:42,452 INFO  netty.NettyConfigKeys$Server (ConfUtils.java:logGet(43)) - raft.netty.server.port = 42516 (custom)
2019-09-24 12:06:42,454 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.storage.dir = [/workdir/ratis-test/target/test/data/aaa4fccd/MiniRaftClusterWithNetty55a7148e/s2] (custom)
2019-09-24 12:06:42,454 INFO  logging.LoggingHandler (AbstractInternalLogger.java:log(150)) - [id: 0xcc45674f] REGISTERED
2019-09-24 12:06:42,454 INFO  logging.LoggingHandler (AbstractInternalLogger.java:log(150)) - [id: 0xcc45674f] BIND: 0.0.0.0/0.0.0.0:42516
2019-09-24 12:06:42,454 INFO  impl.RaftServerProxy (RaftServerProxy.java:addNew(89)) - s2: addNew group-04E6F89F5A1C:[s0:0.0.0.0:34119, s1:0.0.0.0:44382, s2:0.0.0.0:42516] returns group-04E6F89F5A1C:java.util.concurrent.CompletableFuture@475767ef[Not completed]
2019-09-24 12:06:42,454 INFO  logging.LoggingHandler (AbstractInternalLogger.java:log(150)) - [id: 0xcc45674f, L:/0.0.0.0:42516] ACTIVE
2019-09-24 12:06:42,462 INFO  storage.RaftStorageDirectory (RaftStorageDirectory.java:tryLock(328)) - Lock on /workdir/ratis-test/target/test/data/aaa4fccd/MiniRaftClusterWithNetty55a7148e/s0/611a84d9-4fe5-4f71-a301-04e6f89f5a1c/in_use.lock acquired by nodename 2153@ratis-test-nppbd-817190658
2019-09-24 12:06:42,462 INFO  storage.RaftStorageDirectory (RaftStorageDirectory.java:tryLock(328)) - Lock on /workdir/ratis-test/target/test/data/aaa4fccd/MiniRaftClusterWithNetty55a7148e/s1/611a84d9-4fe5-4f71-a301-04e6f89f5a1c/in_use.lock acquired by nodename 2153@ratis-test-nppbd-817190658
2019-09-24 12:06:42,463 TRACE util.FileUtils (LogUtils.java:runAndLog(61)) - Successfully ran Files.createDirectories /workdir/ratis-test/target/test/data/aaa4fccd/MiniRaftClusterWithNetty55a7148e/s0/611a84d9-4fe5-4f71-a301-04e6f89f5a1c/current
2019-09-24 12:06:42,463 TRACE util.FileUtils (LogUtils.java:runAndLog(61)) - Successfully ran Files.createDirectories /workdir/ratis-test/target/test/data/aaa4fccd/MiniRaftClusterWithNetty55a7148e/s1/611a84d9-4fe5-4f71-a301-04e6f89f5a1c/current
2019-09-24 12:06:42,463 TRACE util.FileUtils (LogUtils.java:runAndLog(61)) - Successfully ran Files.createDirectories /workdir/ratis-test/target/test/data/aaa4fccd/MiniRaftClusterWithNetty55a7148e/s0/611a84d9-4fe5-4f71-a301-04e6f89f5a1c/sm
2019-09-24 12:06:42,463 TRACE util.FileUtils (LogUtils.java:runAndLog(61)) - Successfully ran Files.createDirectories /workdir/ratis-test/target/test/data/aaa4fccd/MiniRaftClusterWithNetty55a7148e/s1/611a84d9-4fe5-4f71-a301-04e6f89f5a1c/sm
2019-09-24 12:06:42,466 INFO  impl.RaftServerImpl (RaftServerImpl.java:<init>(95)) - s2: new RaftServerImpl for group-04E6F89F5A1C:[s0:0.0.0.0:34119, s1:0.0.0.0:44382, s2:0.0.0.0:42516] with BaseStateMachine:uninitialized
2019-09-24 12:06:42,467 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.rpc.timeout.min = 150ms (default)
2019-09-24 12:06:42,467 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.rpc.timeout.max = 300ms (default)
2019-09-24 12:06:42,467 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.rpcslowness.timeout = 60s (default)
2019-09-24 12:06:42,467 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.sleep.deviation.threshold = 300 (default)
2019-09-24 12:06:42,467 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.log.appender.install.snapshot.enabled = true (default)
2019-09-24 12:06:42,467 INFO  impl.RaftServerImpl (ServerState.java:<init>(103)) - s2@group-04E6F89F5A1C: ConfigurationManager, init=-1: [s0:0.0.0.0:34119, s1:0.0.0.0:44382, s2:0.0.0.0:42516], old=null, confs=<EMPTY_MAP>
2019-09-24 12:06:42,468 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.storage.dir = [/workdir/ratis-test/target/test/data/aaa4fccd/MiniRaftClusterWithNetty55a7148e/s2] (custom)
2019-09-24 12:06:42,468 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.log.corruption.policy = EXCEPTION (default)
2019-09-24 12:06:42,468 INFO  storage.RaftStorageDirectory (RaftStorageDirectory.java:analyzeStorage(246)) - The storage directory /workdir/ratis-test/target/test/data/aaa4fccd/MiniRaftClusterWithNetty55a7148e/s2/611a84d9-4fe5-4f71-a301-04e6f89f5a1c does not exist. Creating ...
2019-09-24 12:06:42,471 TRACE util.FileUtils (LogUtils.java:runAndLog(61)) - Successfully ran Files.createDirectories /workdir/ratis-test/target/test/data/aaa4fccd/MiniRaftClusterWithNetty55a7148e/s2/611a84d9-4fe5-4f71-a301-04e6f89f5a1c
2019-09-24 12:06:42,472 INFO  storage.RaftStorage (RaftStorage.java:format(84)) - Storage directory /workdir/ratis-test/target/test/data/aaa4fccd/MiniRaftClusterWithNetty55a7148e/s1/611a84d9-4fe5-4f71-a301-04e6f89f5a1c has been successfully formatted.
2019-09-24 12:06:42,472 INFO  storage.RaftStorage (RaftStorage.java:format(84)) - Storage directory /workdir/ratis-test/target/test/data/aaa4fccd/MiniRaftClusterWithNetty55a7148e/s0/611a84d9-4fe5-4f71-a301-04e6f89f5a1c has been successfully formatted.
2019-09-24 12:06:42,472 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.notification.no-leader.timeout = 60s (default)
2019-09-24 12:06:42,473 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.notification.no-leader.timeout = 60s (default)
2019-09-24 12:06:42,473 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.log.use.memory = false (default)
2019-09-24 12:06:42,473 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.log.use.memory = false (default)
2019-09-24 12:06:42,473 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.log.purge.gap = 1024 (default)
2019-09-24 12:06:42,473 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.log.purge.gap = 1024 (default)
2019-09-24 12:06:42,473 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.log.appender.buffer.byte-limit = 4MB (=4194304) (default)
2019-09-24 12:06:42,473 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.log.appender.buffer.byte-limit = 4MB (=4194304) (default)
2019-09-24 12:06:42,474 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.log.segment.size.max = 8MB (=8388608) (default)
2019-09-24 12:06:42,474 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.log.segment.size.max = 8MB (=8388608) (default)
2019-09-24 12:06:42,474 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.log.segment.cache.num.max = 6 (default)
2019-09-24 12:06:42,474 INFO  storage.RaftStorageDirectory (RaftStorageDirectory.java:tryLock(328)) - Lock on /workdir/ratis-test/target/test/data/aaa4fccd/MiniRaftClusterWithNetty55a7148e/s2/611a84d9-4fe5-4f71-a301-04e6f89f5a1c/in_use.lock acquired by nodename 2153@ratis-test-nppbd-817190658
2019-09-24 12:06:42,474 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.log.segment.cache.num.max = 6 (default)
2019-09-24 12:06:42,474 INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:<init>(172)) - new s1@group-04E6F89F5A1C-SegmentedRaftLogWorker for RaftStorage:Storage Directory /workdir/ratis-test/target/test/data/aaa4fccd/MiniRaftClusterWithNetty55a7148e/s1/611a84d9-4fe5-4f71-a301-04e6f89f5a1c
2019-09-24 12:06:42,474 TRACE util.FileUtils (LogUtils.java:runAndLog(61)) - Successfully ran Files.createDirectories /workdir/ratis-test/target/test/data/aaa4fccd/MiniRaftClusterWithNetty55a7148e/s2/611a84d9-4fe5-4f71-a301-04e6f89f5a1c/current
2019-09-24 12:06:42,474 INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:<init>(172)) - new s0@group-04E6F89F5A1C-SegmentedRaftLogWorker for RaftStorage:Storage Directory /workdir/ratis-test/target/test/data/aaa4fccd/MiniRaftClusterWithNetty55a7148e/s0/611a84d9-4fe5-4f71-a301-04e6f89f5a1c
2019-09-24 12:06:42,475 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.log.queue.byte-limit = 64MB (=67108864) (default)
2019-09-24 12:06:42,475 TRACE util.FileUtils (LogUtils.java:runAndLog(61)) - Successfully ran Files.createDirectories /workdir/ratis-test/target/test/data/aaa4fccd/MiniRaftClusterWithNetty55a7148e/s2/611a84d9-4fe5-4f71-a301-04e6f89f5a1c/sm
2019-09-24 12:06:42,475 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.log.queue.element-limit = 4096 (default)
2019-09-24 12:06:42,475 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.log.queue.byte-limit = 64MB (=67108864) (default)
2019-09-24 12:06:42,475 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.log.segment.size.max = 8MB (=8388608) (default)
2019-09-24 12:06:42,476 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.log.queue.element-limit = 4096 (default)
2019-09-24 12:06:42,476 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.log.preallocated.size = 4MB (=4194304) (default)
2019-09-24 12:06:42,476 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.log.segment.size.max = 8MB (=8388608) (default)
2019-09-24 12:06:42,476 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.log.write.buffer.size = 64KB (=65536) (default)
2019-09-24 12:06:42,476 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.log.preallocated.size = 4MB (=4194304) (default)
2019-09-24 12:06:42,476 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.log.force.sync.num = 128 (default)
2019-09-24 12:06:42,476 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.log.write.buffer.size = 64KB (=65536) (default)
2019-09-24 12:06:42,476 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.log.statemachine.data.sync = true (default)
2019-09-24 12:06:42,477 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.log.force.sync.num = 128 (default)
2019-09-24 12:06:42,477 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.log.statemachine.data.sync.timeout = 10s (default)
2019-09-24 12:06:42,477 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.log.statemachine.data.sync = true (default)
2019-09-24 12:06:42,477 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.log.statemachine.data.sync.timeout.retry = -1 (default)
2019-09-24 12:06:42,477 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.log.statemachine.data.sync.timeout = 10s (default)
2019-09-24 12:06:42,477 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.log.statemachine.data.caching.enabled = false (default)
2019-09-24 12:06:42,477 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.log.statemachine.data.sync.timeout.retry = -1 (default)
2019-09-24 12:06:42,478 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.log.statemachine.data.caching.enabled = false (default)
2019-09-24 12:06:42,478 TRACE segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:start(209)) - s1@group-04E6F89F5A1C-SegmentedRaftLogWorker start(latestIndex=-1, openSegmentFile=null)
2019-09-24 12:06:42,478 INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:lambda$new$0(132)) - s1@group-04E6F89F5A1C-SegmentedRaftLogWorker: flushIndex: setUnconditionally 0 -> -1
2019-09-24 12:06:42,478 TRACE segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:start(209)) - s0@group-04E6F89F5A1C-SegmentedRaftLogWorker start(latestIndex=-1, openSegmentFile=null)
2019-09-24 12:06:42,478 INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:lambda$new$0(132)) - s0@group-04E6F89F5A1C-SegmentedRaftLogWorker: flushIndex: setUnconditionally 0 -> -1
2019-09-24 12:06:42,478 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.snapshot.auto.trigger.enabled = false (default)
2019-09-24 12:06:42,479 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.snapshot.retention.file.num = -1 (default)
2019-09-24 12:06:42,479 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.snapshot.auto.trigger.enabled = false (default)
2019-09-24 12:06:42,479 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.retrycache.expirytime = 60s (default)
2019-09-24 12:06:42,479 INFO  storage.RaftStorage (RaftStorage.java:format(84)) - Storage directory /workdir/ratis-test/target/test/data/aaa4fccd/MiniRaftClusterWithNetty55a7148e/s2/611a84d9-4fe5-4f71-a301-04e6f89f5a1c has been successfully formatted.
2019-09-24 12:06:42,479 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.snapshot.retention.file.num = -1 (default)
2019-09-24 12:06:42,479 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.notification.no-leader.timeout = 60s (default)
2019-09-24 12:06:42,479 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.retrycache.expirytime = 60s (default)
2019-09-24 12:06:42,480 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.log.use.memory = false (default)
2019-09-24 12:06:42,480 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.log.purge.gap = 1024 (default)
2019-09-24 12:06:42,480 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.log.appender.buffer.byte-limit = 4MB (=4194304) (default)
2019-09-24 12:06:42,480 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.log.segment.size.max = 8MB (=8388608) (default)
2019-09-24 12:06:42,481 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.log.segment.cache.num.max = 6 (default)
2019-09-24 12:06:42,481 INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:<init>(172)) - new s2@group-04E6F89F5A1C-SegmentedRaftLogWorker for RaftStorage:Storage Directory /workdir/ratis-test/target/test/data/aaa4fccd/MiniRaftClusterWithNetty55a7148e/s2/611a84d9-4fe5-4f71-a301-04e6f89f5a1c
2019-09-24 12:06:42,481 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.log.queue.byte-limit = 64MB (=67108864) (default)
2019-09-24 12:06:42,481 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.log.queue.element-limit = 4096 (default)
2019-09-24 12:06:42,482 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.log.segment.size.max = 8MB (=8388608) (default)
2019-09-24 12:06:42,482 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.log.preallocated.size = 4MB (=4194304) (default)
2019-09-24 12:06:42,482 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.log.write.buffer.size = 64KB (=65536) (default)
2019-09-24 12:06:42,482 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.log.force.sync.num = 128 (default)
2019-09-24 12:06:42,482 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.log.statemachine.data.sync = true (default)
2019-09-24 12:06:42,483 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.log.statemachine.data.sync.timeout = 10s (default)
2019-09-24 12:06:42,483 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.log.statemachine.data.sync.timeout.retry = -1 (default)
2019-09-24 12:06:42,483 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.log.statemachine.data.caching.enabled = false (default)
2019-09-24 12:06:42,483 TRACE segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:start(209)) - s2@group-04E6F89F5A1C-SegmentedRaftLogWorker start(latestIndex=-1, openSegmentFile=null)
2019-09-24 12:06:42,484 INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:lambda$new$0(132)) - s2@group-04E6F89F5A1C-SegmentedRaftLogWorker: flushIndex: setUnconditionally 0 -> -1
2019-09-24 12:06:42,484 INFO  impl.RaftServerImpl (RaftServerImpl.java:start(181)) - s0@group-04E6F89F5A1C: start as a follower, conf=-1: [s0:0.0.0.0:34119, s1:0.0.0.0:44382, s2:0.0.0.0:42516], old=null
2019-09-24 12:06:42,484 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.snapshot.auto.trigger.enabled = false (default)
2019-09-24 12:06:42,485 INFO  impl.RaftServerImpl (RaftServerImpl.java:setRole(170)) - s0@group-04E6F89F5A1C: changes role from      null to FOLLOWER at term 0 for startAsFollower
2019-09-24 12:06:42,485 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.snapshot.retention.file.num = -1 (default)
2019-09-24 12:06:42,485 INFO  impl.RoleInfo (RoleInfo.java:updateAndGet(143)) - s0: start FollowerState
2019-09-24 12:06:42,485 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.retrycache.expirytime = 60s (default)
2019-09-24 12:06:42,486 INFO  util.JmxRegister (JmxRegister.java:tryRegister(44)) - Successfully registered JMX Bean with object name Ratis:service=RaftServer,group=group-04E6F89F5A1C,id=s0
2019-09-24 12:06:42,491 INFO  impl.RaftServerProxy (RaftServerProxy.java:lambda$start$3(299)) - s0: start RPC server
2019-09-24 12:06:42,492 INFO  impl.RaftServerImpl (RaftServerImpl.java:start(181)) - s1@group-04E6F89F5A1C: start as a follower, conf=-1: [s0:0.0.0.0:34119, s1:0.0.0.0:44382, s2:0.0.0.0:42516], old=null
2019-09-24 12:06:42,493 INFO  impl.RaftServerImpl (RaftServerImpl.java:setRole(170)) - s1@group-04E6F89F5A1C: changes role from      null to FOLLOWER at term 0 for startAsFollower
2019-09-24 12:06:42,493 INFO  impl.RoleInfo (RoleInfo.java:updateAndGet(143)) - s1: start FollowerState
2019-09-24 12:06:42,493 INFO  util.JmxRegister (JmxRegister.java:tryRegister(44)) - Successfully registered JMX Bean with object name Ratis:service=RaftServer,group=group-04E6F89F5A1C,id=s1
2019-09-24 12:06:42,497 INFO  impl.RaftServerProxy (RaftServerProxy.java:lambda$start$3(299)) - s1: start RPC server
2019-09-24 12:06:42,498 INFO  impl.RaftServerImpl (RaftServerImpl.java:start(181)) - s2@group-04E6F89F5A1C: start as a follower, conf=-1: [s0:0.0.0.0:34119, s1:0.0.0.0:44382, s2:0.0.0.0:42516], old=null
2019-09-24 12:06:42,498 INFO  impl.RaftServerImpl (RaftServerImpl.java:setRole(170)) - s2@group-04E6F89F5A1C: changes role from      null to FOLLOWER at term 0 for startAsFollower
2019-09-24 12:06:42,499 INFO  impl.RoleInfo (RoleInfo.java:updateAndGet(143)) - s2: start FollowerState
2019-09-24 12:06:42,499 INFO  util.JmxRegister (JmxRegister.java:tryRegister(44)) - Successfully registered JMX Bean with object name Ratis:service=RaftServer,group=group-04E6F89F5A1C,id=s2
2019-09-24 12:06:42,503 INFO  impl.RaftServerProxy (RaftServerProxy.java:lambda$start$3(299)) - s2: start RPC server
2019-09-24 12:06:42,503 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.rpc.timeout.max = 300ms (default)
2019-09-24 12:06:42,503 INFO  ratis.RaftTestUtil (RaftTestUtil.java:waitForLeader(86)) - printing ALL groups
  s0:  RUNNING  FOLLOWER s0@group-04E6F89F5A1C:t0, leader=null, voted=null, raftlog=s0@group-04E6F89F5A1C-SegmentedRaftLog:OPENED:c-1,f-1,i0, conf=-1: [s0:0.0.0.0:34119, s1:0.0.0.0:44382, s2:0.0.0.0:42516], old=null RUNNING
  s1:  RUNNING  FOLLOWER s1@group-04E6F89F5A1C:t0, leader=null, voted=null, raftlog=s1@group-04E6F89F5A1C-SegmentedRaftLog:OPENED:c-1,f-1,i0, conf=-1: [s0:0.0.0.0:34119, s1:0.0.0.0:44382, s2:0.0.0.0:42516], old=null RUNNING
  s2:  RUNNING  FOLLOWER s2@group-04E6F89F5A1C:t0, leader=null, voted=null, raftlog=s2@group-04E6F89F5A1C-SegmentedRaftLog:OPENED:c-1,f-1,i0, conf=-1: [s0:0.0.0.0:34119, s1:0.0.0.0:44382, s2:0.0.0.0:42516], old=null RUNNING
2019-09-24 12:06:42,504 WARN  ratis.RaftTestUtil (JavaUtils.java:attempt(158)) - FAILED "waitForLeader-null-(expectLeader? true)", attempt #1/100: java.lang.IllegalStateException: No leader yet : printing ALL groups
  s0:  RUNNING  FOLLOWER s0@group-04E6F89F5A1C:t0, leader=null, voted=null, raftlog=s0@group-04E6F89F5A1C-SegmentedRaftLog:OPENED:c-1,f-1,i0, conf=-1: [s0:0.0.0.0:34119, s1:0.0.0.0:44382, s2:0.0.0.0:42516], old=null RUNNING
  s1:  RUNNING  FOLLOWER s1@group-04E6F89F5A1C:t0, leader=null, voted=null, raftlog=s1@group-04E6F89F5A1C-SegmentedRaftLog:OPENED:c-1,f-1,i0, conf=-1: [s0:0.0.0.0:34119, s1:0.0.0.0:44382, s2:0.0.0.0:42516], old=null RUNNING
  s2:  RUNNING  FOLLOWER s2@group-04E6F89F5A1C:t0, leader=null, voted=null, raftlog=s2@group-04E6F89F5A1C-SegmentedRaftLog:OPENED:c-1,f-1,i0, conf=-1: [s0:0.0.0.0:34119, s1:0.0.0.0:44382, s2:0.0.0.0:42516], old=null RUNNING, sleep 450ms and then retry.
java.lang.IllegalStateException: No leader yet : printing ALL groups
  s0:  RUNNING  FOLLOWER s0@group-04E6F89F5A1C:t0, leader=null, voted=null, raftlog=s0@group-04E6F89F5A1C-SegmentedRaftLog:OPENED:c-1,f-1,i0, conf=-1: [s0:0.0.0.0:34119, s1:0.0.0.0:44382, s2:0.0.0.0:42516], old=null RUNNING
  s1:  RUNNING  FOLLOWER s1@group-04E6F89F5A1C:t0, leader=null, voted=null, raftlog=s1@group-04E6F89F5A1C-SegmentedRaftLog:OPENED:c-1,f-1,i0, conf=-1: [s0:0.0.0.0:34119, s1:0.0.0.0:44382, s2:0.0.0.0:42516], old=null RUNNING
  s2:  RUNNING  FOLLOWER s2@group-04E6F89F5A1C:t0, leader=null, voted=null, raftlog=s2@group-04E6F89F5A1C-SegmentedRaftLog:OPENED:c-1,f-1,i0, conf=-1: [s0:0.0.0.0:34119, s1:0.0.0.0:44382, s2:0.0.0.0:42516], old=null RUNNING
	at org.apache.ratis.MiniRaftCluster.newIllegalStateExceptionForNoLeaders(MiniRaftCluster.java:506)
	at org.apache.ratis.RaftTestUtil.lambda$waitForLeader$1(RaftTestUtil.java:90)
	at org.apache.ratis.MiniRaftCluster.getLeader(MiniRaftCluster.java:539)
	at org.apache.ratis.MiniRaftCluster.getLeader(MiniRaftCluster.java:532)
	at org.apache.ratis.RaftTestUtil.lambda$waitForLeader$3(RaftTestUtil.java:98)
	at org.apache.ratis.util.JavaUtils.attempt(JavaUtils.java:152)
	at org.apache.ratis.RaftTestUtil.waitForLeader(RaftTestUtil.java:97)
	at org.apache.ratis.RaftTestUtil.waitForLeader(RaftTestUtil.java:77)
	at org.apache.ratis.RaftTestUtil.waitForLeader(RaftTestUtil.java:72)
	at org.apache.ratis.server.impl.LeaderElectionTests.testChangeLeader(LeaderElectionTests.java:79)
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.lang.reflect.Method.invoke(Method.java:498)
	at org.junit.runners.model.FrameworkMethod$1.runReflectiveCall(FrameworkMethod.java:50)
	at org.junit.internal.runners.model.ReflectiveCallable.run(ReflectiveCallable.java:12)
	at org.junit.runners.model.FrameworkMethod.invokeExplosively(FrameworkMethod.java:47)
	at org.junit.internal.runners.statements.InvokeMethod.evaluate(InvokeMethod.java:17)
	at org.junit.internal.runners.statements.RunAfters.evaluate(RunAfters.java:27)
	at org.junit.internal.runners.statements.FailOnTimeout$CallableStatement.call(FailOnTimeout.java:298)
	at org.junit.internal.runners.statements.FailOnTimeout$CallableStatement.call(FailOnTimeout.java:292)
	at java.util.concurrent.FutureTask.run(FutureTask.java:266)
	at java.lang.Thread.run(Thread.java:748)
2019-09-24 12:06:42,651 WARN  impl.LogAppender (LogAppender.java:sendAppendEntriesWithRetries(274)) - s0@group-E7D5050F4609->s3-LogAppender: Failed to appendEntries (retry=4241): org.apache.ratis.thirdparty.io.netty.channel.AbstractChannel$AnnotatedConnectException: Connection refused: /0.0.0.0:40479
2019-09-24 12:06:42,656 INFO  impl.FollowerState (FollowerState.java:run(108)) - s1@group-04E6F89F5A1C-FollowerState: change to CANDIDATE, lastRpcTime:163ms, electionTimeout:163ms
2019-09-24 12:06:42,657 INFO  impl.RoleInfo (RoleInfo.java:shutdownFollowerState(121)) - s1: shutdown FollowerState
2019-09-24 12:06:42,657 INFO  impl.RaftServerImpl (RaftServerImpl.java:setRole(170)) - s1@group-04E6F89F5A1C: changes role from  FOLLOWER to CANDIDATE at term 0 for changeToCandidate
2019-09-24 12:06:42,658 INFO  impl.RoleInfo (RoleInfo.java:updateAndGet(143)) - s1: start LeaderElection
2019-09-24 12:06:42,685 INFO  impl.LeaderElection (LeaderElection.java:askForVotes(178)) - s1@group-04E6F89F5A1C-LeaderElection13: begin an election at term 1 for -1: [s0:0.0.0.0:34119, s1:0.0.0.0:44382, s2:0.0.0.0:42516], old=null
2019-09-24 12:06:42,689 INFO  logging.LoggingHandler (AbstractInternalLogger.java:log(150)) - [id: 0x6f0b30f3, L:/0.0.0.0:34119] READ: [id: 0xc240a727, L:/192.168.34.44:34119 - R:/192.168.34.44:51010]
2019-09-24 12:06:42,689 INFO  logging.LoggingHandler (AbstractInternalLogger.java:log(150)) - [id: 0xcc45674f, L:/0.0.0.0:42516] READ: [id: 0xdfd2af2c, L:/192.168.34.44:42516 - R:/192.168.34.44:36284]
2019-09-24 12:06:42,690 INFO  logging.LoggingHandler (AbstractInternalLogger.java:log(150)) - [id: 0x6f0b30f3, L:/0.0.0.0:34119] READ COMPLETE
2019-09-24 12:06:42,690 INFO  logging.LoggingHandler (AbstractInternalLogger.java:log(150)) - [id: 0xcc45674f, L:/0.0.0.0:42516] READ COMPLETE
2019-09-24 12:06:42,692 DEBUG impl.RaftServerImpl (RaftServerImpl.java:requestVote(743)) - s0@group-04E6F89F5A1C: receive requestVote(s1, group-04E6F89F5A1C, 1, (t:0, i:0))
2019-09-24 12:06:42,692 DEBUG impl.RaftServerImpl (RaftServerImpl.java:requestVote(743)) - s2@group-04E6F89F5A1C: receive requestVote(s1, group-04E6F89F5A1C, 1, (t:0, i:0))
2019-09-24 12:06:42,693 INFO  impl.RaftServerImpl (RaftServerImpl.java:setRole(170)) - s0@group-04E6F89F5A1C: changes role from  FOLLOWER to FOLLOWER at term 1 for recognizeCandidate:s1
2019-09-24 12:06:42,694 INFO  impl.RaftServerImpl (RaftServerImpl.java:setRole(170)) - s2@group-04E6F89F5A1C: changes role from  FOLLOWER to FOLLOWER at term 1 for recognizeCandidate:s1
2019-09-24 12:06:42,694 INFO  impl.RoleInfo (RoleInfo.java:shutdownFollowerState(121)) - s0: shutdown FollowerState
2019-09-24 12:06:42,694 INFO  impl.RoleInfo (RoleInfo.java:shutdownFollowerState(121)) - s2: shutdown FollowerState
2019-09-24 12:06:42,695 INFO  impl.FollowerState (FollowerState.java:run(117)) - s0@group-04E6F89F5A1C-FollowerState was interrupted: java.lang.InterruptedException: sleep interrupted
2019-09-24 12:06:42,695 INFO  impl.RoleInfo (RoleInfo.java:updateAndGet(143)) - s0: start FollowerState
2019-09-24 12:06:42,695 INFO  impl.FollowerState (FollowerState.java:run(117)) - s2@group-04E6F89F5A1C-FollowerState was interrupted: java.lang.InterruptedException: sleep interrupted
2019-09-24 12:06:42,695 INFO  impl.RoleInfo (RoleInfo.java:updateAndGet(143)) - s2: start FollowerState
2019-09-24 12:06:42,711 DEBUG impl.RaftServerImpl (RaftServerImpl.java:requestVote(775)) - s0@group-04E6F89F5A1C replies to vote request: s1<-s0#0:OK-t1. Peer's state: s0@group-04E6F89F5A1C:t1, leader=null, voted=s1, raftlog=s0@group-04E6F89F5A1C-SegmentedRaftLog:OPENED:c-1,f-1,i0, conf=-1: [s0:0.0.0.0:34119, s1:0.0.0.0:44382, s2:0.0.0.0:42516], old=null
2019-09-24 12:06:42,711 DEBUG impl.RaftServerImpl (RaftServerImpl.java:requestVote(775)) - s2@group-04E6F89F5A1C replies to vote request: s1<-s2#0:OK-t1. Peer's state: s2@group-04E6F89F5A1C:t1, leader=null, voted=s1, raftlog=s2@group-04E6F89F5A1C-SegmentedRaftLog:OPENED:c-1,f-1,i0, conf=-1: [s0:0.0.0.0:34119, s1:0.0.0.0:44382, s2:0.0.0.0:42516], old=null
2019-09-24 12:06:42,713 INFO  impl.LeaderElection (LeaderElection.java:logAndReturn(56)) - s1@group-04E6F89F5A1C-LeaderElection13: Election PASSED; received 1 response(s) [s1<-s2#0:OK-t1] and 0 exception(s); s1@group-04E6F89F5A1C:t1, leader=null, voted=s1, raftlog=s1@group-04E6F89F5A1C-SegmentedRaftLog:OPENED:c-1,f-1,i0, conf=-1: [s0:0.0.0.0:34119, s1:0.0.0.0:44382, s2:0.0.0.0:42516], old=null
2019-09-24 12:06:42,713 INFO  impl.RoleInfo (RoleInfo.java:shutdownLeaderElection(134)) - s1: shutdown LeaderElection
2019-09-24 12:06:42,713 INFO  impl.RaftServerImpl (RaftServerImpl.java:setRole(170)) - s1@group-04E6F89F5A1C: changes role from CANDIDATE to LEADER at term 1 for changeToLeader
2019-09-24 12:06:42,714 INFO  impl.RaftServerImpl (ServerState.java:setLeader(254)) - s1@group-04E6F89F5A1C: change Leader from null to s1 at term 1 for becomeLeader, leader elected after 241ms
2019-09-24 12:06:42,715 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.staging.catchup.gap = 1000 (default)
2019-09-24 12:06:42,715 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.rpc.sleep.time = 25ms (default)
2019-09-24 12:06:42,715 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.write.element-limit = 4096 (default)
2019-09-24 12:06:42,715 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.watch.timeout = 10s (default)
2019-09-24 12:06:42,716 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.watch.timeout.denomination = 1s (default)
2019-09-24 12:06:42,716 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.watch.element-limit = 65536 (default)
2019-09-24 12:06:42,719 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.log.appender.snapshot.chunk.size.max = 16MB (=16777216) (default)
2019-09-24 12:06:42,720 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.log.appender.buffer.byte-limit = 4MB (=4194304) (default)
2019-09-24 12:06:42,720 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.log.appender.buffer.element-limit = 0 (default)
2019-09-24 12:06:42,720 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.log.appender.snapshot.chunk.size.max = 16MB (=16777216) (default)
2019-09-24 12:06:42,720 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.log.appender.buffer.byte-limit = 4MB (=4194304) (default)
2019-09-24 12:06:42,721 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.log.appender.buffer.element-limit = 0 (default)
2019-09-24 12:06:42,721 INFO  impl.RoleInfo (RoleInfo.java:updateAndGet(143)) - s1: start LeaderState
2019-09-24 12:06:42,722 INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:startLogSegment(380)) - s1@group-04E6F89F5A1C-SegmentedRaftLogWorker: Starting segment from index:0
2019-09-24 12:06:42,722 DEBUG segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:addIOTask(251)) - s1@group-04E6F89F5A1C-SegmentedRaftLogWorker adds IO task StartLogSegment:0
2019-09-24 12:06:42,722 DEBUG segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:addIOTask(251)) - s1@group-04E6F89F5A1C-SegmentedRaftLogWorker adds IO task WriteLog:0: (t:1, i:0), CONFIGURATIONENTRY
2019-09-24 12:06:42,724 INFO  impl.RaftServerImpl (ServerState.java:setRaftConf(355)) - s1@group-04E6F89F5A1C: set configuration 0: [s0:0.0.0.0:34119, s1:0.0.0.0:44382, s2:0.0.0.0:42516], old=null at 0
2019-09-24 12:06:42,728 INFO  impl.RaftServerImpl (ServerState.java:setLeader(254)) - s0@group-04E6F89F5A1C: change Leader from null to s1 at term 1 for appendEntries, leader elected after 255ms
2019-09-24 12:06:42,728 INFO  impl.RaftServerImpl (ServerState.java:setLeader(254)) - s2@group-04E6F89F5A1C: change Leader from null to s1 at term 1 for appendEntries, leader elected after 248ms
2019-09-24 12:06:42,733 DEBUG impl.RaftServerImpl (RaftServerImpl.java:logAppendEntries(850)) - s0@group-04E6F89F5A1C: receive appendEntries(s1, 1, null, -1, false, commits[s1:c-1, s0:c-1, s2:c-1], entries: (t:1, i:0), CONFIGURATIONENTRY
2019-09-24 12:06:42,733 DEBUG impl.RaftServerImpl (RaftServerImpl.java:logAppendEntries(850)) - s2@group-04E6F89F5A1C: receive appendEntries(s1, 1, null, -1, false, commits[s1:c-1, s0:c-1, s2:c-1], entries: (t:1, i:0), CONFIGURATIONENTRY
2019-09-24 12:06:42,733 INFO  impl.RaftServerImpl (ServerState.java:setRaftConf(355)) - s0@group-04E6F89F5A1C: set configuration 0: [s0:0.0.0.0:34119, s1:0.0.0.0:44382, s2:0.0.0.0:42516], old=null at 0
2019-09-24 12:06:42,733 INFO  impl.RaftServerImpl (ServerState.java:setRaftConf(355)) - s2@group-04E6F89F5A1C: set configuration 0: [s0:0.0.0.0:34119, s1:0.0.0.0:44382, s2:0.0.0.0:42516], old=null at 0
2019-09-24 12:06:42,734 INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:startLogSegment(380)) - s0@group-04E6F89F5A1C-SegmentedRaftLogWorker: Starting segment from index:0
2019-09-24 12:06:42,734 INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:startLogSegment(380)) - s2@group-04E6F89F5A1C-SegmentedRaftLogWorker: Starting segment from index:0
2019-09-24 12:06:42,734 DEBUG segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:addIOTask(251)) - s0@group-04E6F89F5A1C-SegmentedRaftLogWorker adds IO task StartLogSegment:0
2019-09-24 12:06:42,734 DEBUG segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:addIOTask(251)) - s2@group-04E6F89F5A1C-SegmentedRaftLogWorker adds IO task StartLogSegment:0
2019-09-24 12:06:42,735 DEBUG segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:addIOTask(251)) - s0@group-04E6F89F5A1C-SegmentedRaftLogWorker adds IO task WriteLog:0: (t:1, i:0), CONFIGURATIONENTRY
2019-09-24 12:06:42,735 DEBUG segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:addIOTask(251)) - s2@group-04E6F89F5A1C-SegmentedRaftLogWorker adds IO task WriteLog:0: (t:1, i:0), CONFIGURATIONENTRY
2019-09-24 12:06:42,886 WARN  impl.LogAppender (LogAppender.java:sendAppendEntriesWithRetries(274)) - s0@group-E7D5050F4609->s3-LogAppender: Failed to appendEntries (retry=4251): org.apache.ratis.thirdparty.io.netty.channel.AbstractChannel$AnnotatedConnectException: Connection refused: /0.0.0.0:40479
2019-09-24 12:06:42,907 INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:execute(569)) - s0@group-04E6F89F5A1C-SegmentedRaftLogWorker: created new log segment /workdir/ratis-test/target/test/data/aaa4fccd/MiniRaftClusterWithNetty55a7148e/s0/611a84d9-4fe5-4f71-a301-04e6f89f5a1c/current/log_inprogress_0
2019-09-24 12:06:42,907 INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:execute(569)) - s2@group-04E6F89F5A1C-SegmentedRaftLogWorker: created new log segment /workdir/ratis-test/target/test/data/aaa4fccd/MiniRaftClusterWithNetty55a7148e/s2/611a84d9-4fe5-4f71-a301-04e6f89f5a1c/current/log_inprogress_0
2019-09-24 12:06:42,908 DEBUG segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:flushWrites(340)) - s0@group-04E6F89F5A1C-SegmentedRaftLogWorker: flush SegmentedRaftLogOutputStream(/workdir/ratis-test/target/test/data/aaa4fccd/MiniRaftClusterWithNetty55a7148e/s0/611a84d9-4fe5-4f71-a301-04e6f89f5a1c/current/log_inprogress_0)
2019-09-24 12:06:42,907 INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:execute(569)) - s1@group-04E6F89F5A1C-SegmentedRaftLogWorker: created new log segment /workdir/ratis-test/target/test/data/aaa4fccd/MiniRaftClusterWithNetty55a7148e/s1/611a84d9-4fe5-4f71-a301-04e6f89f5a1c/current/log_inprogress_0
2019-09-24 12:06:42,908 DEBUG segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:flushWrites(340)) - s2@group-04E6F89F5A1C-SegmentedRaftLogWorker: flush SegmentedRaftLogOutputStream(/workdir/ratis-test/target/test/data/aaa4fccd/MiniRaftClusterWithNetty55a7148e/s2/611a84d9-4fe5-4f71-a301-04e6f89f5a1c/current/log_inprogress_0)
2019-09-24 12:06:42,908 DEBUG segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:flushWrites(340)) - s1@group-04E6F89F5A1C-SegmentedRaftLogWorker: flush SegmentedRaftLogOutputStream(/workdir/ratis-test/target/test/data/aaa4fccd/MiniRaftClusterWithNetty55a7148e/s1/611a84d9-4fe5-4f71-a301-04e6f89f5a1c/current/log_inprogress_0)
2019-09-24 12:06:42,919 TRACE segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:lambda$new$1(133)) - s0@group-04E6F89F5A1C-SegmentedRaftLogWorker: flushIndex: updateIncreasingly -1 -> 0
2019-09-24 12:06:42,919 TRACE segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:lambda$new$1(133)) - s1@group-04E6F89F5A1C-SegmentedRaftLogWorker: flushIndex: updateIncreasingly -1 -> 0
2019-09-24 12:06:42,919 TRACE segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:lambda$new$1(133)) - s2@group-04E6F89F5A1C-SegmentedRaftLogWorker: flushIndex: updateIncreasingly -1 -> 0
2019-09-24 12:06:42,920 DEBUG impl.RaftServerImpl (RaftServerImpl.java:logAppendEntries(850)) - s0@group-04E6F89F5A1C: succeeded to handle AppendEntries. Reply: s1<-s0#0:OK,SUCCESS,nextIndex:1,term:1,followerCommit:-1
2019-09-24 12:06:42,920 DEBUG impl.RaftServerImpl (RaftServerImpl.java:logAppendEntries(850)) - s2@group-04E6F89F5A1C: succeeded to handle AppendEntries. Reply: s1<-s2#0:OK,SUCCESS,nextIndex:1,term:1,followerCommit:-1
2019-09-24 12:06:42,955 INFO  ratis.RaftTestUtil (RaftTestUtil.java:waitForLeader(101)) - printing ALL groups
  s0:  RUNNING  FOLLOWER s0@group-04E6F89F5A1C:t1, leader=s1, voted=s1, raftlog=s0@group-04E6F89F5A1C-SegmentedRaftLog:OPENED:c-1,f0,i0, conf=0: [s0:0.0.0.0:34119, s1:0.0.0.0:44382, s2:0.0.0.0:42516], old=null RUNNING
  s1:  RUNNING    LEADER s1@group-04E6F89F5A1C:t1, leader=s1, voted=s1, raftlog=s1@group-04E6F89F5A1C-SegmentedRaftLog:OPENED:c0,f0,i0, conf=0: [s0:0.0.0.0:34119, s1:0.0.0.0:44382, s2:0.0.0.0:42516], old=null RUNNING
  s2:  RUNNING  FOLLOWER s2@group-04E6F89F5A1C:t1, leader=s1, voted=s1, raftlog=s2@group-04E6F89F5A1C-SegmentedRaftLog:OPENED:c-1,f0,i0, conf=0: [s0:0.0.0.0:34119, s1:0.0.0.0:44382, s2:0.0.0.0:42516], old=null RUNNING
2019-09-24 12:06:42,957 INFO  util.CodeInjectionForTesting (BlockRequestHandlingInjection.java:blockRequestor(48)) - Block requestor s1
2019-09-24 12:06:42,958 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.rpc.timeout.max = 300ms (default)
2019-09-24 12:06:42,958 INFO  ratis.RaftTestUtil (RaftTestUtil.java:waitForLeader(86)) - printing ALL groups
  s0:  RUNNING  FOLLOWER s0@group-04E6F89F5A1C:t1, leader=s1, voted=s1, raftlog=s0@group-04E6F89F5A1C-SegmentedRaftLog:OPENED:c-1,f0,i0, conf=0: [s0:0.0.0.0:34119, s1:0.0.0.0:44382, s2:0.0.0.0:42516], old=null RUNNING
  s1:  RUNNING    LEADER s1@group-04E6F89F5A1C:t1, leader=s1, voted=s1, raftlog=s1@group-04E6F89F5A1C-SegmentedRaftLog:OPENED:c0,f0,i0, conf=0: [s0:0.0.0.0:34119, s1:0.0.0.0:44382, s2:0.0.0.0:42516], old=null RUNNING
  s2:  RUNNING  FOLLOWER s2@group-04E6F89F5A1C:t1, leader=s1, voted=s1, raftlog=s2@group-04E6F89F5A1C-SegmentedRaftLog:OPENED:c-1,f0,i0, conf=0: [s0:0.0.0.0:34119, s1:0.0.0.0:44382, s2:0.0.0.0:42516], old=null RUNNING
2019-09-24 12:06:42,959 INFO  ratis.RaftTestUtil (RaftTestUtil.java:waitForLeader(101)) - printing ALL groups
  s0:  RUNNING  FOLLOWER s0@group-04E6F89F5A1C:t1, leader=s1, voted=s1, raftlog=s0@group-04E6F89F5A1C-SegmentedRaftLog:OPENED:c-1,f0,i0, conf=0: [s0:0.0.0.0:34119, s1:0.0.0.0:44382, s2:0.0.0.0:42516], old=null RUNNING
  s1:  RUNNING    LEADER s1@group-04E6F89F5A1C:t1, leader=s1, voted=s1, raftlog=s1@group-04E6F89F5A1C-SegmentedRaftLog:OPENED:c0,f0,i0, conf=0: [s0:0.0.0.0:34119, s1:0.0.0.0:44382, s2:0.0.0.0:42516], old=null RUNNING
  s2:  RUNNING  FOLLOWER s2@group-04E6F89F5A1C:t1, leader=s1, voted=s1, raftlog=s2@group-04E6F89F5A1C-SegmentedRaftLog:OPENED:c-1,f0,i0, conf=0: [s0:0.0.0.0:34119, s1:0.0.0.0:44382, s2:0.0.0.0:42516], old=null RUNNING
2019-09-24 12:06:42,959 WARN  ratis.RaftTestUtil (JavaUtils.java:attempt(158)) - FAILED "testChangeLeader-changeLeader", attempt #1/20: java.lang.IllegalStateException: Failed to change leader: newLeader == oldLeader == s1, sleep 100ms and then retry.
java.lang.IllegalStateException: Failed to change leader: newLeader == oldLeader == s1
	at org.apache.ratis.RaftTestUtil.lambda$changeLeader$7(RaftTestUtil.java:365)
	at org.apache.ratis.util.JavaUtils.attempt(JavaUtils.java:152)
	at org.apache.ratis.RaftTestUtil.changeLeader(RaftTestUtil.java:362)
	at org.apache.ratis.server.impl.LeaderElectionTests.testChangeLeader(LeaderElectionTests.java:81)
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.lang.reflect.Method.invoke(Method.java:498)
	at org.junit.runners.model.FrameworkMethod$1.runReflectiveCall(FrameworkMethod.java:50)
	at org.junit.internal.runners.model.ReflectiveCallable.run(ReflectiveCallable.java:12)
	at org.junit.runners.model.FrameworkMethod.invokeExplosively(FrameworkMethod.java:47)
	at org.junit.internal.runners.statements.InvokeMethod.evaluate(InvokeMethod.java:17)
	at org.junit.internal.runners.statements.RunAfters.evaluate(RunAfters.java:27)
	at org.junit.internal.runners.statements.FailOnTimeout$CallableStatement.call(FailOnTimeout.java:298)
	at org.junit.internal.runners.statements.FailOnTimeout$CallableStatement.call(FailOnTimeout.java:292)
	at java.util.concurrent.FutureTask.run(FutureTask.java:266)
	at java.lang.Thread.run(Thread.java:748)
2019-09-24 12:06:42,996 INFO  util.CodeInjectionForTesting (BlockRequestHandlingInjection.java:execute(76)) - s0: Block request from s1
2019-09-24 12:06:42,998 INFO  util.CodeInjectionForTesting (BlockRequestHandlingInjection.java:execute(76)) - s2: Block request from s1
2019-09-24 12:06:43,060 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.rpc.timeout.max = 300ms (default)
2019-09-24 12:06:43,061 INFO  ratis.RaftTestUtil (RaftTestUtil.java:waitForLeader(86)) - printing ALL groups
  s0:  RUNNING  FOLLOWER s0@group-04E6F89F5A1C:t1, leader=s1, voted=s1, raftlog=s0@group-04E6F89F5A1C-SegmentedRaftLog:OPENED:c-1,f0,i0, conf=0: [s0:0.0.0.0:34119, s1:0.0.0.0:44382, s2:0.0.0.0:42516], old=null RUNNING
  s1:  RUNNING    LEADER s1@group-04E6F89F5A1C:t1, leader=s1, voted=s1, raftlog=s1@group-04E6F89F5A1C-SegmentedRaftLog:OPENED:c0,f0,i0, conf=0: [s0:0.0.0.0:34119, s1:0.0.0.0:44382, s2:0.0.0.0:42516], old=null RUNNING
  s2:  RUNNING  FOLLOWER s2@group-04E6F89F5A1C:t1, leader=s1, voted=s1, raftlog=s2@group-04E6F89F5A1C-SegmentedRaftLog:OPENED:c-1,f0,i0, conf=0: [s0:0.0.0.0:34119, s1:0.0.0.0:44382, s2:0.0.0.0:42516], old=null RUNNING
2019-09-24 12:06:43,061 INFO  ratis.RaftTestUtil (RaftTestUtil.java:waitForLeader(101)) - printing ALL groups
  s0:  RUNNING  FOLLOWER s0@group-04E6F89F5A1C:t1, leader=s1, voted=s1, raftlog=s0@group-04E6F89F5A1C-SegmentedRaftLog:OPENED:c-1,f0,i0, conf=0: [s0:0.0.0.0:34119, s1:0.0.0.0:44382, s2:0.0.0.0:42516], old=null RUNNING
  s1:  RUNNING    LEADER s1@group-04E6F89F5A1C:t1, leader=s1, voted=s1, raftlog=s1@group-04E6F89F5A1C-SegmentedRaftLog:OPENED:c0,f0,i0, conf=0: [s0:0.0.0.0:34119, s1:0.0.0.0:44382, s2:0.0.0.0:42516], old=null RUNNING
  s2:  RUNNING  FOLLOWER s2@group-04E6F89F5A1C:t1, leader=s1, voted=s1, raftlog=s2@group-04E6F89F5A1C-SegmentedRaftLog:OPENED:c-1,f0,i0, conf=0: [s0:0.0.0.0:34119, s1:0.0.0.0:44382, s2:0.0.0.0:42516], old=null RUNNING
2019-09-24 12:06:43,061 WARN  ratis.RaftTestUtil (JavaUtils.java:attempt(158)) - FAILED "testChangeLeader-changeLeader", attempt #2/20: java.lang.IllegalStateException: Failed to change leader: newLeader == oldLeader == s1, sleep 100ms and then retry.
java.lang.IllegalStateException: Failed to change leader: newLeader == oldLeader == s1
	at org.apache.ratis.RaftTestUtil.lambda$changeLeader$7(RaftTestUtil.java:365)
	at org.apache.ratis.util.JavaUtils.attempt(JavaUtils.java:152)
	at org.apache.ratis.RaftTestUtil.changeLeader(RaftTestUtil.java:362)
	at org.apache.ratis.server.impl.LeaderElectionTests.testChangeLeader(LeaderElectionTests.java:81)
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.lang.reflect.Method.invoke(Method.java:498)
	at org.junit.runners.model.FrameworkMethod$1.runReflectiveCall(FrameworkMethod.java:50)
	at org.junit.internal.runners.model.ReflectiveCallable.run(ReflectiveCallable.java:12)
	at org.junit.runners.model.FrameworkMethod.invokeExplosively(FrameworkMethod.java:47)
	at org.junit.internal.runners.statements.InvokeMethod.evaluate(InvokeMethod.java:17)
	at org.junit.internal.runners.statements.RunAfters.evaluate(RunAfters.java:27)
	at org.junit.internal.runners.statements.FailOnTimeout$CallableStatement.call(FailOnTimeout.java:298)
	at org.junit.internal.runners.statements.FailOnTimeout$CallableStatement.call(FailOnTimeout.java:292)
	at java.util.concurrent.FutureTask.run(FutureTask.java:266)
	at java.lang.Thread.run(Thread.java:748)
2019-09-24 12:06:43,119 WARN  impl.LogAppender (LogAppender.java:sendAppendEntriesWithRetries(274)) - s0@group-E7D5050F4609->s3-LogAppender: Failed to appendEntries (retry=4261): org.apache.ratis.thirdparty.io.netty.channel.AbstractChannel$AnnotatedConnectException: Connection refused: /0.0.0.0:40479
2019-09-24 12:06:43,130 INFO  impl.FollowerState (FollowerState.java:run(108)) - s2@group-04E6F89F5A1C-FollowerState: change to CANDIDATE, lastRpcTime:209ms, electionTimeout:190ms
2019-09-24 12:06:43,130 INFO  impl.RoleInfo (RoleInfo.java:shutdownFollowerState(121)) - s2: shutdown FollowerState
2019-09-24 12:06:43,130 INFO  impl.RaftServerImpl (RaftServerImpl.java:setRole(170)) - s2@group-04E6F89F5A1C: changes role from  FOLLOWER to CANDIDATE at term 1 for changeToCandidate
2019-09-24 12:06:43,131 INFO  impl.RoleInfo (RoleInfo.java:updateAndGet(143)) - s2: start LeaderElection
2019-09-24 12:06:43,132 INFO  impl.RaftServerImpl (ServerState.java:setLeader(254)) - s2@group-04E6F89F5A1C: change Leader from s1 to null at term 1 for initElection
2019-09-24 12:06:43,157 INFO  impl.LeaderElection (LeaderElection.java:askForVotes(178)) - s2@group-04E6F89F5A1C-LeaderElection14: begin an election at term 2 for 0: [s0:0.0.0.0:34119, s1:0.0.0.0:44382, s2:0.0.0.0:42516], old=null
2019-09-24 12:06:43,161 INFO  logging.LoggingHandler (AbstractInternalLogger.java:log(150)) - [id: 0x6f0b30f3, L:/0.0.0.0:34119] READ: [id: 0x37686315, L:/192.168.34.44:34119 - R:/192.168.34.44:51050]
2019-09-24 12:06:43,161 INFO  logging.LoggingHandler (AbstractInternalLogger.java:log(150)) - [id: 0x4dd9b93d, L:/0.0.0.0:44382] READ: [id: 0xa2d96ee2, L:/192.168.34.44:44382 - R:/192.168.34.44:47308]
2019-09-24 12:06:43,161 INFO  logging.LoggingHandler (AbstractInternalLogger.java:log(150)) - [id: 0x6f0b30f3, L:/0.0.0.0:34119] READ COMPLETE
2019-09-24 12:06:43,161 INFO  logging.LoggingHandler (AbstractInternalLogger.java:log(150)) - [id: 0x4dd9b93d, L:/0.0.0.0:44382] READ COMPLETE
2019-09-24 12:06:43,162 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.rpc.timeout.max = 300ms (default)
2019-09-24 12:06:43,163 INFO  ratis.RaftTestUtil (RaftTestUtil.java:waitForLeader(86)) - printing ALL groups
  s0:  RUNNING  FOLLOWER s0@group-04E6F89F5A1C:t1, leader=s1, voted=s1, raftlog=s0@group-04E6F89F5A1C-SegmentedRaftLog:OPENED:c-1,f0,i0, conf=0: [s0:0.0.0.0:34119, s1:0.0.0.0:44382, s2:0.0.0.0:42516], old=null RUNNING
  s1:  RUNNING    LEADER s1@group-04E6F89F5A1C:t1, leader=s1, voted=s1, raftlog=s1@group-04E6F89F5A1C-SegmentedRaftLog:OPENED:c0,f0,i0, conf=0: [s0:0.0.0.0:34119, s1:0.0.0.0:44382, s2:0.0.0.0:42516], old=null RUNNING
  s2:  RUNNING CANDIDATE s2@group-04E6F89F5A1C:t2, leader=null, voted=s2, raftlog=s2@group-04E6F89F5A1C-SegmentedRaftLog:OPENED:c-1,f0,i0, conf=0: [s0:0.0.0.0:34119, s1:0.0.0.0:44382, s2:0.0.0.0:42516], old=null RUNNING
2019-09-24 12:06:43,163 DEBUG impl.RaftServerImpl (RaftServerImpl.java:requestVote(743)) - s1@group-04E6F89F5A1C: receive requestVote(s2, group-04E6F89F5A1C, 2, (t:1, i:0))
2019-09-24 12:06:43,163 INFO  ratis.RaftTestUtil (RaftTestUtil.java:waitForLeader(101)) - printing ALL groups
  s0:  RUNNING  FOLLOWER s0@group-04E6F89F5A1C:t1, leader=s1, voted=s1, raftlog=s0@group-04E6F89F5A1C-SegmentedRaftLog:OPENED:c-1,f0,i0, conf=0: [s0:0.0.0.0:34119, s1:0.0.0.0:44382, s2:0.0.0.0:42516], old=null RUNNING
  s1:  RUNNING    LEADER s1@group-04E6F89F5A1C:t1, leader=s1, voted=s1, raftlog=s1@group-04E6F89F5A1C-SegmentedRaftLog:OPENED:c0,f0,i0, conf=0: [s0:0.0.0.0:34119, s1:0.0.0.0:44382, s2:0.0.0.0:42516], old=null RUNNING
  s2:  RUNNING CANDIDATE s2@group-04E6F89F5A1C:t2, leader=null, voted=s2, raftlog=s2@group-04E6F89F5A1C-SegmentedRaftLog:OPENED:c-1,f0,i0, conf=0: [s0:0.0.0.0:34119, s1:0.0.0.0:44382, s2:0.0.0.0:42516], old=null RUNNING
2019-09-24 12:06:43,163 DEBUG impl.RaftServerImpl (RaftServerImpl.java:requestVote(743)) - s0@group-04E6F89F5A1C: receive requestVote(s2, group-04E6F89F5A1C, 2, (t:1, i:0))
2019-09-24 12:06:43,164 WARN  ratis.RaftTestUtil (JavaUtils.java:attempt(158)) - FAILED "testChangeLeader-changeLeader", attempt #3/20: java.lang.IllegalStateException: Failed to change leader: newLeader == oldLeader == s1, sleep 100ms and then retry.
java.lang.IllegalStateException: Failed to change leader: newLeader == oldLeader == s1
	at org.apache.ratis.RaftTestUtil.lambda$changeLeader$7(RaftTestUtil.java:365)
	at org.apache.ratis.util.JavaUtils.attempt(JavaUtils.java:152)
	at org.apache.ratis.RaftTestUtil.changeLeader(RaftTestUtil.java:362)
	at org.apache.ratis.server.impl.LeaderElectionTests.testChangeLeader(LeaderElectionTests.java:81)
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.lang.reflect.Method.invoke(Method.java:498)
	at org.junit.runners.model.FrameworkMethod$1.runReflectiveCall(FrameworkMethod.java:50)
	at org.junit.internal.runners.model.ReflectiveCallable.run(ReflectiveCallable.java:12)
	at org.junit.runners.model.FrameworkMethod.invokeExplosively(FrameworkMethod.java:47)
	at org.junit.internal.runners.statements.InvokeMethod.evaluate(InvokeMethod.java:17)
	at org.junit.internal.runners.statements.RunAfters.evaluate(RunAfters.java:27)
	at org.junit.internal.runners.statements.FailOnTimeout$CallableStatement.call(FailOnTimeout.java:298)
	at org.junit.internal.runners.statements.FailOnTimeout$CallableStatement.call(FailOnTimeout.java:292)
	at java.util.concurrent.FutureTask.run(FutureTask.java:266)
	at java.lang.Thread.run(Thread.java:748)
2019-09-24 12:06:43,163 INFO  impl.RaftServerImpl (ServerState.java:setLeader(254)) - s1@group-04E6F89F5A1C: change Leader from s1 to null at term 2 for updateCurrentTerm
2019-09-24 12:06:43,165 INFO  impl.RaftServerImpl (ServerState.java:setLeader(254)) - s0@group-04E6F89F5A1C: change Leader from s1 to null at term 2 for updateCurrentTerm
2019-09-24 12:06:43,166 INFO  impl.RaftServerImpl (RaftServerImpl.java:setRole(170)) - s1@group-04E6F89F5A1C: changes role from    LEADER to FOLLOWER at term 2 for recognizeCandidate:s2
2019-09-24 12:06:43,167 INFO  impl.RaftServerImpl (RaftServerImpl.java:setRole(170)) - s0@group-04E6F89F5A1C: changes role from  FOLLOWER to FOLLOWER at term 2 for recognizeCandidate:s2
2019-09-24 12:06:43,167 INFO  impl.RoleInfo (RoleInfo.java:shutdownLeaderState(104)) - s1: shutdown LeaderState
2019-09-24 12:06:43,167 INFO  impl.RoleInfo (RoleInfo.java:shutdownFollowerState(121)) - s0: shutdown FollowerState
2019-09-24 12:06:43,169 INFO  impl.RoleInfo (RoleInfo.java:updateAndGet(143)) - s0: start FollowerState
2019-09-24 12:06:43,169 INFO  impl.PendingRequests (PendingRequests.java:sendNotLeaderResponses(202)) - s1@group-04E6F89F5A1C-PendingRequests: sendNotLeaderResponses
2019-09-24 12:06:43,170 INFO  impl.LogAppender (LogAppender.java:run(78)) - s1@group-04E6F89F5A1C->s2-LogAppender-AppenderDaemon was interrupted: java.io.InterruptedIOException: s1->s2#0 sending from s2:0.0.0.0:42516 is interrupted.
2019-09-24 12:06:43,170 INFO  impl.LogAppender (LogAppender.java:run(78)) - s1@group-04E6F89F5A1C->s0-LogAppender-AppenderDaemon was interrupted: java.io.InterruptedIOException: s1->s0#0 sending from s0:0.0.0.0:34119 is interrupted.
2019-09-24 12:06:43,169 INFO  impl.FollowerState (FollowerState.java:run(117)) - s0@group-04E6F89F5A1C-FollowerState was interrupted: java.lang.InterruptedException: sleep interrupted
2019-09-24 12:06:43,170 INFO  impl.RoleInfo (RoleInfo.java:updateAndGet(143)) - s1: start FollowerState
2019-09-24 12:06:43,186 DEBUG impl.RaftServerImpl (RaftServerImpl.java:requestVote(775)) - s0@group-04E6F89F5A1C replies to vote request: s2<-s0#0:OK-t2. Peer's state: s0@group-04E6F89F5A1C:t2, leader=null, voted=s2, raftlog=s0@group-04E6F89F5A1C-SegmentedRaftLog:OPENED:c-1,f0,i0, conf=0: [s0:0.0.0.0:34119, s1:0.0.0.0:44382, s2:0.0.0.0:42516], old=null
2019-09-24 12:06:43,186 DEBUG impl.RaftServerImpl (RaftServerImpl.java:requestVote(775)) - s1@group-04E6F89F5A1C replies to vote request: s2<-s1#0:FAIL-t2. Peer's state: s1@group-04E6F89F5A1C:t2, leader=null, voted=null, raftlog=s1@group-04E6F89F5A1C-SegmentedRaftLog:OPENED:c0,f0,i0, conf=0: [s0:0.0.0.0:34119, s1:0.0.0.0:44382, s2:0.0.0.0:42516], old=null
2019-09-24 12:06:43,189 INFO  impl.LeaderElection (LeaderElection.java:logAndReturn(56)) - s2@group-04E6F89F5A1C-LeaderElection14: Election PASSED; received 1 response(s) [s2<-s0#0:OK-t2] and 0 exception(s); s2@group-04E6F89F5A1C:t2, leader=null, voted=s2, raftlog=s2@group-04E6F89F5A1C-SegmentedRaftLog:OPENED:c-1,f0,i0, conf=0: [s0:0.0.0.0:34119, s1:0.0.0.0:44382, s2:0.0.0.0:42516], old=null
2019-09-24 12:06:43,189 INFO  impl.RoleInfo (RoleInfo.java:shutdownLeaderElection(134)) - s2: shutdown LeaderElection
2019-09-24 12:06:43,190 INFO  impl.RaftServerImpl (RaftServerImpl.java:setRole(170)) - s2@group-04E6F89F5A1C: changes role from CANDIDATE to LEADER at term 2 for changeToLeader
2019-09-24 12:06:43,190 INFO  impl.RaftServerImpl (ServerState.java:setLeader(254)) - s2@group-04E6F89F5A1C: change Leader from null to s2 at term 2 for becomeLeader, leader elected after 58ms
2019-09-24 12:06:43,190 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.staging.catchup.gap = 1000 (default)
2019-09-24 12:06:43,190 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.rpc.sleep.time = 25ms (default)
2019-09-24 12:06:43,191 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.write.element-limit = 4096 (default)
2019-09-24 12:06:43,191 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.watch.timeout = 10s (default)
2019-09-24 12:06:43,191 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.watch.timeout.denomination = 1s (default)
2019-09-24 12:06:43,191 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.watch.element-limit = 65536 (default)
2019-09-24 12:06:43,194 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.log.appender.snapshot.chunk.size.max = 16MB (=16777216) (default)
2019-09-24 12:06:43,194 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.log.appender.buffer.byte-limit = 4MB (=4194304) (default)
2019-09-24 12:06:43,195 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.log.appender.buffer.element-limit = 0 (default)
2019-09-24 12:06:43,195 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.log.appender.snapshot.chunk.size.max = 16MB (=16777216) (default)
2019-09-24 12:06:43,195 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.log.appender.buffer.byte-limit = 4MB (=4194304) (default)
2019-09-24 12:06:43,196 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.log.appender.buffer.element-limit = 0 (default)
2019-09-24 12:06:43,196 INFO  impl.RoleInfo (RoleInfo.java:updateAndGet(143)) - s2: start LeaderState
2019-09-24 12:06:43,197 INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:rollLogSegment(385)) - s2@group-04E6F89F5A1C-SegmentedRaftLogWorker: Rolling segment log-0_0 to index:0
2019-09-24 12:06:43,197 DEBUG segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:addIOTask(251)) - s2@group-04E6F89F5A1C-SegmentedRaftLogWorker adds IO task FinalizeLogSegment:0: startIndex=0 endIndex=0
2019-09-24 12:06:43,197 DEBUG segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:addIOTask(251)) - s2@group-04E6F89F5A1C-SegmentedRaftLogWorker adds IO task StartLogSegment:1
2019-09-24 12:06:43,198 DEBUG segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:addIOTask(251)) - s2@group-04E6F89F5A1C-SegmentedRaftLogWorker adds IO task WriteLog:1: (t:2, i:1), CONFIGURATIONENTRY
2019-09-24 12:06:43,201 INFO  impl.RaftServerImpl (ServerState.java:setRaftConf(355)) - s2@group-04E6F89F5A1C: set configuration 1: [s0:0.0.0.0:34119, s1:0.0.0.0:44382, s2:0.0.0.0:42516], old=null at 1
2019-09-24 12:06:43,204 TRACE util.FileUtils (LogUtils.java:runAndLog(61)) - Successfully ran Files.move /workdir/ratis-test/target/test/data/aaa4fccd/MiniRaftClusterWithNetty55a7148e/s2/611a84d9-4fe5-4f71-a301-04e6f89f5a1c/current/log_inprogress_0 to /workdir/ratis-test/target/test/data/aaa4fccd/MiniRaftClusterWithNetty55a7148e/s2/611a84d9-4fe5-4f71-a301-04e6f89f5a1c/current/log_0-0
2019-09-24 12:06:43,204 INFO  impl.RaftServerImpl (ServerState.java:setLeader(254)) - s1@group-04E6F89F5A1C: change Leader from null to s2 at term 2 for appendEntries, leader elected after 40ms
2019-09-24 12:06:43,204 INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:execute(526)) - s2@group-04E6F89F5A1C-SegmentedRaftLogWorker: Rolled log segment from /workdir/ratis-test/target/test/data/aaa4fccd/MiniRaftClusterWithNetty55a7148e/s2/611a84d9-4fe5-4f71-a301-04e6f89f5a1c/current/log_inprogress_0 to /workdir/ratis-test/target/test/data/aaa4fccd/MiniRaftClusterWithNetty55a7148e/s2/611a84d9-4fe5-4f71-a301-04e6f89f5a1c/current/log_0-0
2019-09-24 12:06:43,204 INFO  impl.RaftServerImpl (ServerState.java:setLeader(254)) - s0@group-04E6F89F5A1C: change Leader from null to s2 at term 2 for appendEntries, leader elected after 39ms
2019-09-24 12:06:43,205 TRACE segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:lambda$new$1(133)) - s2@group-04E6F89F5A1C-SegmentedRaftLogWorker: flushIndex: updateIncreasingly 0 -> 0
2019-09-24 12:06:43,208 DEBUG impl.RaftServerImpl (RaftServerImpl.java:logAppendEntries(850)) - s1@group-04E6F89F5A1C: receive appendEntries(s2, 2, (t:1, i:0), -1, false, commits[s2:c-1, s0:c-1, s1:c0], entries: (t:2, i:1), CONFIGURATIONENTRY
2019-09-24 12:06:43,208 DEBUG impl.RaftServerImpl (RaftServerImpl.java:logAppendEntries(850)) - s0@group-04E6F89F5A1C: receive appendEntries(s2, 2, (t:1, i:0), -1, false, commits[s2:c-1, s0:c-1, s1:c0], entries: (t:2, i:1), CONFIGURATIONENTRY
2019-09-24 12:06:43,210 INFO  impl.RaftServerImpl (ServerState.java:setRaftConf(355)) - s1@group-04E6F89F5A1C: set configuration 1: [s0:0.0.0.0:34119, s1:0.0.0.0:44382, s2:0.0.0.0:42516], old=null at 1
2019-09-24 12:06:43,213 INFO  impl.RaftServerImpl (ServerState.java:setRaftConf(355)) - s0@group-04E6F89F5A1C: set configuration 1: [s0:0.0.0.0:34119, s1:0.0.0.0:44382, s2:0.0.0.0:42516], old=null at 1
2019-09-24 12:06:43,214 INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:rollLogSegment(385)) - s1@group-04E6F89F5A1C-SegmentedRaftLogWorker: Rolling segment log-0_0 to index:0
2019-09-24 12:06:43,214 INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:rollLogSegment(385)) - s0@group-04E6F89F5A1C-SegmentedRaftLogWorker: Rolling segment log-0_0 to index:0
2019-09-24 12:06:43,214 DEBUG segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:addIOTask(251)) - s1@group-04E6F89F5A1C-SegmentedRaftLogWorker adds IO task FinalizeLogSegment:0: startIndex=0 endIndex=0
2019-09-24 12:06:43,214 DEBUG segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:addIOTask(251)) - s0@group-04E6F89F5A1C-SegmentedRaftLogWorker adds IO task FinalizeLogSegment:0: startIndex=0 endIndex=0
2019-09-24 12:06:43,215 DEBUG segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:addIOTask(251)) - s1@group-04E6F89F5A1C-SegmentedRaftLogWorker adds IO task StartLogSegment:1
2019-09-24 12:06:43,215 DEBUG segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:addIOTask(251)) - s0@group-04E6F89F5A1C-SegmentedRaftLogWorker adds IO task StartLogSegment:1
2019-09-24 12:06:43,215 DEBUG segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:addIOTask(251)) - s1@group-04E6F89F5A1C-SegmentedRaftLogWorker adds IO task WriteLog:1: (t:2, i:1), CONFIGURATIONENTRY
2019-09-24 12:06:43,216 DEBUG segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:addIOTask(251)) - s0@group-04E6F89F5A1C-SegmentedRaftLogWorker adds IO task WriteLog:1: (t:2, i:1), CONFIGURATIONENTRY
2019-09-24 12:06:43,217 TRACE util.FileUtils (LogUtils.java:runAndLog(61)) - Successfully ran Files.move /workdir/ratis-test/target/test/data/aaa4fccd/MiniRaftClusterWithNetty55a7148e/s1/611a84d9-4fe5-4f71-a301-04e6f89f5a1c/current/log_inprogress_0 to /workdir/ratis-test/target/test/data/aaa4fccd/MiniRaftClusterWithNetty55a7148e/s1/611a84d9-4fe5-4f71-a301-04e6f89f5a1c/current/log_0-0
2019-09-24 12:06:43,218 INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:execute(526)) - s1@group-04E6F89F5A1C-SegmentedRaftLogWorker: Rolled log segment from /workdir/ratis-test/target/test/data/aaa4fccd/MiniRaftClusterWithNetty55a7148e/s1/611a84d9-4fe5-4f71-a301-04e6f89f5a1c/current/log_inprogress_0 to /workdir/ratis-test/target/test/data/aaa4fccd/MiniRaftClusterWithNetty55a7148e/s1/611a84d9-4fe5-4f71-a301-04e6f89f5a1c/current/log_0-0
2019-09-24 12:06:43,218 TRACE util.FileUtils (LogUtils.java:runAndLog(61)) - Successfully ran Files.move /workdir/ratis-test/target/test/data/aaa4fccd/MiniRaftClusterWithNetty55a7148e/s0/611a84d9-4fe5-4f71-a301-04e6f89f5a1c/current/log_inprogress_0 to /workdir/ratis-test/target/test/data/aaa4fccd/MiniRaftClusterWithNetty55a7148e/s0/611a84d9-4fe5-4f71-a301-04e6f89f5a1c/current/log_0-0
2019-09-24 12:06:43,218 TRACE segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:lambda$new$1(133)) - s1@group-04E6F89F5A1C-SegmentedRaftLogWorker: flushIndex: updateIncreasingly 0 -> 0
2019-09-24 12:06:43,218 INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:execute(526)) - s0@group-04E6F89F5A1C-SegmentedRaftLogWorker: Rolled log segment from /workdir/ratis-test/target/test/data/aaa4fccd/MiniRaftClusterWithNetty55a7148e/s0/611a84d9-4fe5-4f71-a301-04e6f89f5a1c/current/log_inprogress_0 to /workdir/ratis-test/target/test/data/aaa4fccd/MiniRaftClusterWithNetty55a7148e/s0/611a84d9-4fe5-4f71-a301-04e6f89f5a1c/current/log_0-0
2019-09-24 12:06:43,218 TRACE segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:lambda$new$1(133)) - s0@group-04E6F89F5A1C-SegmentedRaftLogWorker: flushIndex: updateIncreasingly 0 -> 0
2019-09-24 12:06:43,266 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.rpc.timeout.max = 300ms (default)
2019-09-24 12:06:43,267 INFO  ratis.RaftTestUtil (RaftTestUtil.java:waitForLeader(86)) - printing ALL groups
  s0:  RUNNING  FOLLOWER s0@group-04E6F89F5A1C:t2, leader=s2, voted=s2, raftlog=s0@group-04E6F89F5A1C-SegmentedRaftLog:OPENED:c-1,f0,i1, conf=1: [s0:0.0.0.0:34119, s1:0.0.0.0:44382, s2:0.0.0.0:42516], old=null RUNNING
  s1:  RUNNING  FOLLOWER s1@group-04E6F89F5A1C:t2, leader=s2, voted=null, raftlog=s1@group-04E6F89F5A1C-SegmentedRaftLog:OPENED:c0,f0,i1, conf=1: [s0:0.0.0.0:34119, s1:0.0.0.0:44382, s2:0.0.0.0:42516], old=null RUNNING
  s2:  RUNNING    LEADER s2@group-04E6F89F5A1C:t2, leader=s2, voted=s2, raftlog=s2@group-04E6F89F5A1C-SegmentedRaftLog:OPENED:c-1,f0,i1, conf=1: [s0:0.0.0.0:34119, s1:0.0.0.0:44382, s2:0.0.0.0:42516], old=null RUNNING
2019-09-24 12:06:43,267 INFO  ratis.RaftTestUtil (RaftTestUtil.java:waitForLeader(101)) - printing ALL groups
  s0:  RUNNING  FOLLOWER s0@group-04E6F89F5A1C:t2, leader=s2, voted=s2, raftlog=s0@group-04E6F89F5A1C-SegmentedRaftLog:OPENED:c-1,f0,i1, conf=1: [s0:0.0.0.0:34119, s1:0.0.0.0:44382, s2:0.0.0.0:42516], old=null RUNNING
  s1:  RUNNING  FOLLOWER s1@group-04E6F89F5A1C:t2, leader=s2, voted=null, raftlog=s1@group-04E6F89F5A1C-SegmentedRaftLog:OPENED:c0,f0,i1, conf=1: [s0:0.0.0.0:34119, s1:0.0.0.0:44382, s2:0.0.0.0:42516], old=null RUNNING
  s2:  RUNNING    LEADER s2@group-04E6F89F5A1C:t2, leader=s2, voted=s2, raftlog=s2@group-04E6F89F5A1C-SegmentedRaftLog:OPENED:c-1,f0,i1, conf=1: [s0:0.0.0.0:34119, s1:0.0.0.0:44382, s2:0.0.0.0:42516], old=null RUNNING
2019-09-24 12:06:43,268 INFO  ratis.RaftTestUtil (RaftTestUtil.java:lambda$changeLeader$7(367)) - Changed leader from s1 to s2
2019-09-24 12:06:43,268 INFO  util.CodeInjectionForTesting (BlockRequestHandlingInjection.java:unblockRequestor(53)) - UnBlock requestor s1
2019-09-24 12:06:43,268 INFO  util.CodeInjectionForTesting (BlockRequestHandlingInjection.java:blockRequestor(48)) - Block requestor s2
2019-09-24 12:06:43,268 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.rpc.timeout.max = 300ms (default)
2019-09-24 12:06:43,269 INFO  ratis.RaftTestUtil (RaftTestUtil.java:waitForLeader(86)) - printing ALL groups
  s0:  RUNNING  FOLLOWER s0@group-04E6F89F5A1C:t2, leader=s2, voted=s2, raftlog=s0@group-04E6F89F5A1C-SegmentedRaftLog:OPENED:c-1,f0,i1, conf=1: [s0:0.0.0.0:34119, s1:0.0.0.0:44382, s2:0.0.0.0:42516], old=null RUNNING
  s1:  RUNNING  FOLLOWER s1@group-04E6F89F5A1C:t2, leader=s2, voted=null, raftlog=s1@group-04E6F89F5A1C-SegmentedRaftLog:OPENED:c0,f0,i1, conf=1: [s0:0.0.0.0:34119, s1:0.0.0.0:44382, s2:0.0.0.0:42516], old=null RUNNING
  s2:  RUNNING    LEADER s2@group-04E6F89F5A1C:t2, leader=s2, voted=s2, raftlog=s2@group-04E6F89F5A1C-SegmentedRaftLog:OPENED:c-1,f0,i1, conf=1: [s0:0.0.0.0:34119, s1:0.0.0.0:44382, s2:0.0.0.0:42516], old=null RUNNING
2019-09-24 12:06:43,269 INFO  ratis.RaftTestUtil (RaftTestUtil.java:waitForLeader(101)) - printing ALL groups
  s0:  RUNNING  FOLLOWER s0@group-04E6F89F5A1C:t2, leader=s2, voted=s2, raftlog=s0@group-04E6F89F5A1C-SegmentedRaftLog:OPENED:c-1,f0,i1, conf=1: [s0:0.0.0.0:34119, s1:0.0.0.0:44382, s2:0.0.0.0:42516], old=null RUNNING
  s1:  RUNNING  FOLLOWER s1@group-04E6F89F5A1C:t2, leader=s2, voted=null, raftlog=s1@group-04E6F89F5A1C-SegmentedRaftLog:OPENED:c0,f0,i1, conf=1: [s0:0.0.0.0:34119, s1:0.0.0.0:44382, s2:0.0.0.0:42516], old=null RUNNING
  s2:  RUNNING    LEADER s2@group-04E6F89F5A1C:t2, leader=s2, voted=s2, raftlog=s2@group-04E6F89F5A1C-SegmentedRaftLog:OPENED:c-1,f0,i1, conf=1: [s0:0.0.0.0:34119, s1:0.0.0.0:44382, s2:0.0.0.0:42516], old=null RUNNING
2019-09-24 12:06:43,269 WARN  ratis.RaftTestUtil (JavaUtils.java:attempt(158)) - FAILED "testChangeLeader-changeLeader", attempt #1/20: java.lang.IllegalStateException: Failed to change leader: newLeader == oldLeader == s2, sleep 100ms and then retry.
java.lang.IllegalStateException: Failed to change leader: newLeader == oldLeader == s2
	at org.apache.ratis.RaftTestUtil.lambda$changeLeader$7(RaftTestUtil.java:365)
	at org.apache.ratis.util.JavaUtils.attempt(JavaUtils.java:152)
	at org.apache.ratis.RaftTestUtil.changeLeader(RaftTestUtil.java:362)
	at org.apache.ratis.server.impl.LeaderElectionTests.testChangeLeader(LeaderElectionTests.java:81)
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.lang.reflect.Method.invoke(Method.java:498)
	at org.junit.runners.model.FrameworkMethod$1.runReflectiveCall(FrameworkMethod.java:50)
	at org.junit.internal.runners.model.ReflectiveCallable.run(ReflectiveCallable.java:12)
	at org.junit.runners.model.FrameworkMethod.invokeExplosively(FrameworkMethod.java:47)
	at org.junit.internal.runners.statements.InvokeMethod.evaluate(InvokeMethod.java:17)
	at org.junit.internal.runners.statements.RunAfters.evaluate(RunAfters.java:27)
	at org.junit.internal.runners.statements.FailOnTimeout$CallableStatement.call(FailOnTimeout.java:298)
	at org.junit.internal.runners.statements.FailOnTimeout$CallableStatement.call(FailOnTimeout.java:292)
	at java.util.concurrent.FutureTask.run(FutureTask.java:266)
	at java.lang.Thread.run(Thread.java:748)
2019-09-24 12:06:43,298 INFO  util.CodeInjectionForTesting (BlockRequestHandlingInjection.java:execute(82)) - s0: unBlock request from s1
2019-09-24 12:06:43,299 DEBUG impl.RaftServerImpl (RaftServerImpl.java:appendEntriesAsync(906)) - s0@group-04E6F89F5A1C: Not recognize s1 (term=1) as leader, state: s0@group-04E6F89F5A1C:t2, leader=s2, voted=s2, raftlog=s0@group-04E6F89F5A1C-SegmentedRaftLog:OPENED:c-1,f0,i1, conf=1: [s0:0.0.0.0:34119, s1:0.0.0.0:44382, s2:0.0.0.0:42516], old=null reply: s1<-s0#0:FAIL,NOT_LEADER,nextIndex:2,term:2,followerCommit:-1
2019-09-24 12:06:43,299 INFO  util.CodeInjectionForTesting (BlockRequestHandlingInjection.java:execute(82)) - s2: unBlock request from s1
2019-09-24 12:06:43,300 DEBUG impl.RaftServerImpl (RaftServerImpl.java:appendEntriesAsync(906)) - s2@group-04E6F89F5A1C: Not recognize s1 (term=1) as leader, state: s2@group-04E6F89F5A1C:t2, leader=s2, voted=s2, raftlog=s2@group-04E6F89F5A1C-SegmentedRaftLog:OPENED:c-1,f0,i1, conf=1: [s0:0.0.0.0:34119, s1:0.0.0.0:44382, s2:0.0.0.0:42516], old=null reply: s1<-s2#0:FAIL,NOT_LEADER,nextIndex:2,term:2,followerCommit:-1
2019-09-24 12:06:43,360 WARN  impl.LogAppender (LogAppender.java:sendAppendEntriesWithRetries(274)) - s0@group-E7D5050F4609->s3-LogAppender: Failed to appendEntries (retry=4271): org.apache.ratis.thirdparty.io.netty.channel.AbstractChannel$AnnotatedConnectException: Connection refused: /0.0.0.0:40479
2019-09-24 12:06:43,370 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.rpc.timeout.max = 300ms (default)
2019-09-24 12:06:43,371 INFO  ratis.RaftTestUtil (RaftTestUtil.java:waitForLeader(86)) - printing ALL groups
  s0:  RUNNING  FOLLOWER s0@group-04E6F89F5A1C:t2, leader=s2, voted=s2, raftlog=s0@group-04E6F89F5A1C-SegmentedRaftLog:OPENED:c-1,f0,i1, conf=1: [s0:0.0.0.0:34119, s1:0.0.0.0:44382, s2:0.0.0.0:42516], old=null RUNNING
  s1:  RUNNING  FOLLOWER s1@group-04E6F89F5A1C:t2, leader=s2, voted=null, raftlog=s1@group-04E6F89F5A1C-SegmentedRaftLog:OPENED:c0,f0,i1, conf=1: [s0:0.0.0.0:34119, s1:0.0.0.0:44382, s2:0.0.0.0:42516], old=null RUNNING
  s2:  RUNNING    LEADER s2@group-04E6F89F5A1C:t2, leader=s2, voted=s2, raftlog=s2@group-04E6F89F5A1C-SegmentedRaftLog:OPENED:c-1,f0,i1, conf=1: [s0:0.0.0.0:34119, s1:0.0.0.0:44382, s2:0.0.0.0:42516], old=null RUNNING
2019-09-24 12:06:43,371 INFO  ratis.RaftTestUtil (RaftTestUtil.java:waitForLeader(101)) - printing ALL groups
  s0:  RUNNING  FOLLOWER s0@group-04E6F89F5A1C:t2, leader=s2, voted=s2, raftlog=s0@group-04E6F89F5A1C-SegmentedRaftLog:OPENED:c-1,f0,i1, conf=1: [s0:0.0.0.0:34119, s1:0.0.0.0:44382, s2:0.0.0.0:42516], old=null RUNNING
  s1:  RUNNING  FOLLOWER s1@group-04E6F89F5A1C:t2, leader=s2, voted=null, raftlog=s1@group-04E6F89F5A1C-SegmentedRaftLog:OPENED:c0,f0,i1, conf=1: [s0:0.0.0.0:34119, s1:0.0.0.0:44382, s2:0.0.0.0:42516], old=null RUNNING
  s2:  RUNNING    LEADER s2@group-04E6F89F5A1C:t2, leader=s2, voted=s2, raftlog=s2@group-04E6F89F5A1C-SegmentedRaftLog:OPENED:c-1,f0,i1, conf=1: [s0:0.0.0.0:34119, s1:0.0.0.0:44382, s2:0.0.0.0:42516], old=null RUNNING
2019-09-24 12:06:43,372 WARN  ratis.RaftTestUtil (JavaUtils.java:attempt(158)) - FAILED "testChangeLeader-changeLeader", attempt #2/20: java.lang.IllegalStateException: Failed to change leader: newLeader == oldLeader == s2, sleep 100ms and then retry.
java.lang.IllegalStateException: Failed to change leader: newLeader == oldLeader == s2
	at org.apache.ratis.RaftTestUtil.lambda$changeLeader$7(RaftTestUtil.java:365)
	at org.apache.ratis.util.JavaUtils.attempt(JavaUtils.java:152)
	at org.apache.ratis.RaftTestUtil.changeLeader(RaftTestUtil.java:362)
	at org.apache.ratis.server.impl.LeaderElectionTests.testChangeLeader(LeaderElectionTests.java:81)
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.lang.reflect.Method.invoke(Method.java:498)
	at org.junit.runners.model.FrameworkMethod$1.runReflectiveCall(FrameworkMethod.java:50)
	at org.junit.internal.runners.model.ReflectiveCallable.run(ReflectiveCallable.java:12)
	at org.junit.runners.model.FrameworkMethod.invokeExplosively(FrameworkMethod.java:47)
	at org.junit.internal.runners.statements.InvokeMethod.evaluate(InvokeMethod.java:17)
	at org.junit.internal.runners.statements.RunAfters.evaluate(RunAfters.java:27)
	at org.junit.internal.runners.statements.FailOnTimeout$CallableStatement.call(FailOnTimeout.java:298)
	at org.junit.internal.runners.statements.FailOnTimeout$CallableStatement.call(FailOnTimeout.java:292)
	at java.util.concurrent.FutureTask.run(FutureTask.java:266)
	at java.lang.Thread.run(Thread.java:748)
2019-09-24 12:06:43,398 INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:execute(569)) - s1@group-04E6F89F5A1C-SegmentedRaftLogWorker: created new log segment /workdir/ratis-test/target/test/data/aaa4fccd/MiniRaftClusterWithNetty55a7148e/s1/611a84d9-4fe5-4f71-a301-04e6f89f5a1c/current/log_inprogress_1
2019-09-24 12:06:43,398 INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:execute(569)) - s2@group-04E6F89F5A1C-SegmentedRaftLogWorker: created new log segment /workdir/ratis-test/target/test/data/aaa4fccd/MiniRaftClusterWithNetty55a7148e/s2/611a84d9-4fe5-4f71-a301-04e6f89f5a1c/current/log_inprogress_1
2019-09-24 12:06:43,399 DEBUG segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:flushWrites(340)) - s1@group-04E6F89F5A1C-SegmentedRaftLogWorker: flush SegmentedRaftLogOutputStream(/workdir/ratis-test/target/test/data/aaa4fccd/MiniRaftClusterWithNetty55a7148e/s1/611a84d9-4fe5-4f71-a301-04e6f89f5a1c/current/log_inprogress_1)
2019-09-24 12:06:43,399 DEBUG segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:flushWrites(340)) - s2@group-04E6F89F5A1C-SegmentedRaftLogWorker: flush SegmentedRaftLogOutputStream(/workdir/ratis-test/target/test/data/aaa4fccd/MiniRaftClusterWithNetty55a7148e/s2/611a84d9-4fe5-4f71-a301-04e6f89f5a1c/current/log_inprogress_1)
2019-09-24 12:06:43,398 INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:execute(569)) - s0@group-04E6F89F5A1C-SegmentedRaftLogWorker: created new log segment /workdir/ratis-test/target/test/data/aaa4fccd/MiniRaftClusterWithNetty55a7148e/s0/611a84d9-4fe5-4f71-a301-04e6f89f5a1c/current/log_inprogress_1
2019-09-24 12:06:43,400 DEBUG segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:flushWrites(340)) - s0@group-04E6F89F5A1C-SegmentedRaftLogWorker: flush SegmentedRaftLogOutputStream(/workdir/ratis-test/target/test/data/aaa4fccd/MiniRaftClusterWithNetty55a7148e/s0/611a84d9-4fe5-4f71-a301-04e6f89f5a1c/current/log_inprogress_1)
2019-09-24 12:06:43,415 TRACE segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:lambda$new$1(133)) - s1@group-04E6F89F5A1C-SegmentedRaftLogWorker: flushIndex: updateIncreasingly 0 -> 1
2019-09-24 12:06:43,416 TRACE segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:lambda$new$1(133)) - s2@group-04E6F89F5A1C-SegmentedRaftLogWorker: flushIndex: updateIncreasingly 0 -> 1
2019-09-24 12:06:43,416 DEBUG impl.RaftServerImpl (RaftServerImpl.java:logAppendEntries(850)) - s1@group-04E6F89F5A1C: succeeded to handle AppendEntries. Reply: s2<-s1#0:OK,SUCCESS,nextIndex:2,term:2,followerCommit:0
2019-09-24 12:06:43,416 TRACE segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:lambda$new$1(133)) - s0@group-04E6F89F5A1C-SegmentedRaftLogWorker: flushIndex: updateIncreasingly 0 -> 1
2019-09-24 12:06:43,417 DEBUG segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:addIOTask(251)) - s2@group-04E6F89F5A1C-SegmentedRaftLogWorker adds IO task WriteLog:2: (t:2, i:2), METADATAENTRY(c1)
2019-09-24 12:06:43,417 DEBUG impl.RaftServerImpl (RaftServerImpl.java:logAppendEntries(850)) - s0@group-04E6F89F5A1C: succeeded to handle AppendEntries. Reply: s2<-s0#0:OK,SUCCESS,nextIndex:2,term:2,followerCommit:-1
2019-09-24 12:06:43,417 DEBUG segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:flushWrites(340)) - s2@group-04E6F89F5A1C-SegmentedRaftLogWorker: flush SegmentedRaftLogOutputStream(/workdir/ratis-test/target/test/data/aaa4fccd/MiniRaftClusterWithNetty55a7148e/s2/611a84d9-4fe5-4f71-a301-04e6f89f5a1c/current/log_inprogress_1)
2019-09-24 12:06:43,418 INFO  util.CodeInjectionForTesting (BlockRequestHandlingInjection.java:execute(76)) - s1: Block request from s2
2019-09-24 12:06:43,418 INFO  util.CodeInjectionForTesting (BlockRequestHandlingInjection.java:execute(76)) - s0: Block request from s2
2019-09-24 12:06:43,428 TRACE segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:lambda$new$1(133)) - s2@group-04E6F89F5A1C-SegmentedRaftLogWorker: flushIndex: updateIncreasingly 1 -> 2
2019-09-24 12:06:43,472 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.rpc.timeout.max = 300ms (default)
2019-09-24 12:06:43,473 INFO  ratis.RaftTestUtil (RaftTestUtil.java:waitForLeader(86)) - printing ALL groups
  s0:  RUNNING  FOLLOWER s0@group-04E6F89F5A1C:t2, leader=s2, voted=s2, raftlog=s0@group-04E6F89F5A1C-SegmentedRaftLog:OPENED:c-1,f1,i1, conf=1: [s0:0.0.0.0:34119, s1:0.0.0.0:44382, s2:0.0.0.0:42516], old=null RUNNING
  s1:  RUNNING  FOLLOWER s1@group-04E6F89F5A1C:t2, leader=s2, voted=null, raftlog=s1@group-04E6F89F5A1C-SegmentedRaftLog:OPENED:c0,f1,i1, conf=1: [s0:0.0.0.0:34119, s1:0.0.0.0:44382, s2:0.0.0.0:42516], old=null RUNNING
  s2:  RUNNING    LEADER s2@group-04E6F89F5A1C:t2, leader=s2, voted=s2, raftlog=s2@group-04E6F89F5A1C-SegmentedRaftLog:OPENED:c1,f2,i2, conf=1: [s0:0.0.0.0:34119, s1:0.0.0.0:44382, s2:0.0.0.0:42516], old=null RUNNING
2019-09-24 12:06:43,473 INFO  ratis.RaftTestUtil (RaftTestUtil.java:waitForLeader(101)) - printing ALL groups
  s0:  RUNNING  FOLLOWER s0@group-04E6F89F5A1C:t2, leader=s2, voted=s2, raftlog=s0@group-04E6F89F5A1C-SegmentedRaftLog:OPENED:c-1,f1,i1, conf=1: [s0:0.0.0.0:34119, s1:0.0.0.0:44382, s2:0.0.0.0:42516], old=null RUNNING
  s1:  RUNNING  FOLLOWER s1@group-04E6F89F5A1C:t2, leader=s2, voted=null, raftlog=s1@group-04E6F89F5A1C-SegmentedRaftLog:OPENED:c0,f1,i1, conf=1: [s0:0.0.0.0:34119, s1:0.0.0.0:44382, s2:0.0.0.0:42516], old=null RUNNING
  s2:  RUNNING    LEADER s2@group-04E6F89F5A1C:t2, leader=s2, voted=s2, raftlog=s2@group-04E6F89F5A1C-SegmentedRaftLog:OPENED:c1,f2,i2, conf=1: [s0:0.0.0.0:34119, s1:0.0.0.0:44382, s2:0.0.0.0:42516], old=null RUNNING
2019-09-24 12:06:43,474 WARN  ratis.RaftTestUtil (JavaUtils.java:attempt(158)) - FAILED "testChangeLeader-changeLeader", attempt #3/20: java.lang.IllegalStateException: Failed to change leader: newLeader == oldLeader == s2, sleep 100ms and then retry.
java.lang.IllegalStateException: Failed to change leader: newLeader == oldLeader == s2
	at org.apache.ratis.RaftTestUtil.lambda$changeLeader$7(RaftTestUtil.java:365)
	at org.apache.ratis.util.JavaUtils.attempt(JavaUtils.java:152)
	at org.apache.ratis.RaftTestUtil.changeLeader(RaftTestUtil.java:362)
	at org.apache.ratis.server.impl.LeaderElectionTests.testChangeLeader(LeaderElectionTests.java:81)
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.lang.reflect.Method.invoke(Method.java:498)
	at org.junit.runners.model.FrameworkMethod$1.runReflectiveCall(FrameworkMethod.java:50)
	at org.junit.internal.runners.model.ReflectiveCallable.run(ReflectiveCallable.java:12)
	at org.junit.runners.model.FrameworkMethod.invokeExplosively(FrameworkMethod.java:47)
	at org.junit.internal.runners.statements.InvokeMethod.evaluate(InvokeMethod.java:17)
	at org.junit.internal.runners.statements.RunAfters.evaluate(RunAfters.java:27)
	at org.junit.internal.runners.statements.FailOnTimeout$CallableStatement.call(FailOnTimeout.java:298)
	at org.junit.internal.runners.statements.FailOnTimeout$CallableStatement.call(FailOnTimeout.java:292)
	at java.util.concurrent.FutureTask.run(FutureTask.java:266)
	at java.lang.Thread.run(Thread.java:748)
2019-09-24 12:06:43,574 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.rpc.timeout.max = 300ms (default)
2019-09-24 12:06:43,575 INFO  ratis.RaftTestUtil (RaftTestUtil.java:waitForLeader(86)) - printing ALL groups
  s0:  RUNNING  FOLLOWER s0@group-04E6F89F5A1C:t2, leader=s2, voted=s2, raftlog=s0@group-04E6F89F5A1C-SegmentedRaftLog:OPENED:c-1,f1,i1, conf=1: [s0:0.0.0.0:34119, s1:0.0.0.0:44382, s2:0.0.0.0:42516], old=null RUNNING
  s1:  RUNNING  FOLLOWER s1@group-04E6F89F5A1C:t2, leader=s2, voted=null, raftlog=s1@group-04E6F89F5A1C-SegmentedRaftLog:OPENED:c0,f1,i1, conf=1: [s0:0.0.0.0:34119, s1:0.0.0.0:44382, s2:0.0.0.0:42516], old=null RUNNING
  s2:  RUNNING    LEADER s2@group-04E6F89F5A1C:t2, leader=s2, voted=s2, raftlog=s2@group-04E6F89F5A1C-SegmentedRaftLog:OPENED:c1,f2,i2, conf=1: [s0:0.0.0.0:34119, s1:0.0.0.0:44382, s2:0.0.0.0:42516], old=null RUNNING
2019-09-24 12:06:43,576 INFO  ratis.RaftTestUtil (RaftTestUtil.java:waitForLeader(101)) - printing ALL groups
  s0:  RUNNING  FOLLOWER s0@group-04E6F89F5A1C:t2, leader=s2, voted=s2, raftlog=s0@group-04E6F89F5A1C-SegmentedRaftLog:OPENED:c-1,f1,i1, conf=1: [s0:0.0.0.0:34119, s1:0.0.0.0:44382, s2:0.0.0.0:42516], old=null RUNNING
  s1:  RUNNING  FOLLOWER s1@group-04E6F89F5A1C:t2, leader=s2, voted=null, raftlog=s1@group-04E6F89F5A1C-SegmentedRaftLog:OPENED:c0,f1,i1, conf=1: [s0:0.0.0.0:34119, s1:0.0.0.0:44382, s2:0.0.0.0:42516], old=null RUNNING
  s2:  RUNNING    LEADER s2@group-04E6F89F5A1C:t2, leader=s2, voted=s2, raftlog=s2@group-04E6F89F5A1C-SegmentedRaftLog:OPENED:c1,f2,i2, conf=1: [s0:0.0.0.0:34119, s1:0.0.0.0:44382, s2:0.0.0.0:42516], old=null RUNNING
2019-09-24 12:06:43,576 WARN  ratis.RaftTestUtil (JavaUtils.java:attempt(158)) - FAILED "testChangeLeader-changeLeader", attempt #4/20: java.lang.IllegalStateException: Failed to change leader: newLeader == oldLeader == s2, sleep 100ms and then retry.
java.lang.IllegalStateException: Failed to change leader: newLeader == oldLeader == s2
	at org.apache.ratis.RaftTestUtil.lambda$changeLeader$7(RaftTestUtil.java:365)
	at org.apache.ratis.util.JavaUtils.attempt(JavaUtils.java:152)
	at org.apache.ratis.RaftTestUtil.changeLeader(RaftTestUtil.java:362)
	at org.apache.ratis.server.impl.LeaderElectionTests.testChangeLeader(LeaderElectionTests.java:81)
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.lang.reflect.Method.invoke(Method.java:498)
	at org.junit.runners.model.FrameworkMethod$1.runReflectiveCall(FrameworkMethod.java:50)
	at org.junit.internal.runners.model.ReflectiveCallable.run(ReflectiveCallable.java:12)
	at org.junit.runners.model.FrameworkMethod.invokeExplosively(FrameworkMethod.java:47)
	at org.junit.internal.runners.statements.InvokeMethod.evaluate(InvokeMethod.java:17)
	at org.junit.internal.runners.statements.RunAfters.evaluate(RunAfters.java:27)
	at org.junit.internal.runners.statements.FailOnTimeout$CallableStatement.call(FailOnTimeout.java:298)
	at org.junit.internal.runners.statements.FailOnTimeout$CallableStatement.call(FailOnTimeout.java:292)
	at java.util.concurrent.FutureTask.run(FutureTask.java:266)
	at java.lang.Thread.run(Thread.java:748)
2019-09-24 12:06:43,594 WARN  impl.LogAppender (LogAppender.java:sendAppendEntriesWithRetries(274)) - s0@group-E7D5050F4609->s3-LogAppender: Failed to appendEntries (retry=4281): org.apache.ratis.thirdparty.io.netty.channel.AbstractChannel$AnnotatedConnectException: Connection refused: /0.0.0.0:40479
2019-09-24 12:06:43,677 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.rpc.timeout.max = 300ms (default)
2019-09-24 12:06:43,678 INFO  ratis.RaftTestUtil (RaftTestUtil.java:waitForLeader(86)) - printing ALL groups
  s0:  RUNNING  FOLLOWER s0@group-04E6F89F5A1C:t2, leader=s2, voted=s2, raftlog=s0@group-04E6F89F5A1C-SegmentedRaftLog:OPENED:c-1,f1,i1, conf=1: [s0:0.0.0.0:34119, s1:0.0.0.0:44382, s2:0.0.0.0:42516], old=null RUNNING
  s1:  RUNNING  FOLLOWER s1@group-04E6F89F5A1C:t2, leader=s2, voted=null, raftlog=s1@group-04E6F89F5A1C-SegmentedRaftLog:OPENED:c0,f1,i1, conf=1: [s0:0.0.0.0:34119, s1:0.0.0.0:44382, s2:0.0.0.0:42516], old=null RUNNING
  s2:  RUNNING    LEADER s2@group-04E6F89F5A1C:t2, leader=s2, voted=s2, raftlog=s2@group-04E6F89F5A1C-SegmentedRaftLog:OPENED:c1,f2,i2, conf=1: [s0:0.0.0.0:34119, s1:0.0.0.0:44382, s2:0.0.0.0:42516], old=null RUNNING
2019-09-24 12:06:43,678 INFO  ratis.RaftTestUtil (RaftTestUtil.java:waitForLeader(101)) - printing ALL groups
  s0:  RUNNING  FOLLOWER s0@group-04E6F89F5A1C:t2, leader=s2, voted=s2, raftlog=s0@group-04E6F89F5A1C-SegmentedRaftLog:OPENED:c-1,f1,i1, conf=1: [s0:0.0.0.0:34119, s1:0.0.0.0:44382, s2:0.0.0.0:42516], old=null RUNNING
  s1:  RUNNING  FOLLOWER s1@group-04E6F89F5A1C:t2, leader=s2, voted=null, raftlog=s1@group-04E6F89F5A1C-SegmentedRaftLog:OPENED:c0,f1,i1, conf=1: [s0:0.0.0.0:34119, s1:0.0.0.0:44382, s2:0.0.0.0:42516], old=null RUNNING
  s2:  RUNNING    LEADER s2@group-04E6F89F5A1C:t2, leader=s2, voted=s2, raftlog=s2@group-04E6F89F5A1C-SegmentedRaftLog:OPENED:c1,f2,i2, conf=1: [s0:0.0.0.0:34119, s1:0.0.0.0:44382, s2:0.0.0.0:42516], old=null RUNNING
2019-09-24 12:06:43,679 WARN  ratis.RaftTestUtil (JavaUtils.java:attempt(158)) - FAILED "testChangeLeader-changeLeader", attempt #5/20: java.lang.IllegalStateException: Failed to change leader: newLeader == oldLeader == s2, sleep 100ms and then retry.
java.lang.IllegalStateException: Failed to change leader: newLeader == oldLeader == s2
	at org.apache.ratis.RaftTestUtil.lambda$changeLeader$7(RaftTestUtil.java:365)
	at org.apache.ratis.util.JavaUtils.attempt(JavaUtils.java:152)
	at org.apache.ratis.RaftTestUtil.changeLeader(RaftTestUtil.java:362)
	at org.apache.ratis.server.impl.LeaderElectionTests.testChangeLeader(LeaderElectionTests.java:81)
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.lang.reflect.Method.invoke(Method.java:498)
	at org.junit.runners.model.FrameworkMethod$1.runReflectiveCall(FrameworkMethod.java:50)
	at org.junit.internal.runners.model.ReflectiveCallable.run(ReflectiveCallable.java:12)
	at org.junit.runners.model.FrameworkMethod.invokeExplosively(FrameworkMethod.java:47)
	at org.junit.internal.runners.statements.InvokeMethod.evaluate(InvokeMethod.java:17)
	at org.junit.internal.runners.statements.RunAfters.evaluate(RunAfters.java:27)
	at org.junit.internal.runners.statements.FailOnTimeout$CallableStatement.call(FailOnTimeout.java:298)
	at org.junit.internal.runners.statements.FailOnTimeout$CallableStatement.call(FailOnTimeout.java:292)
	at java.util.concurrent.FutureTask.run(FutureTask.java:266)
	at java.lang.Thread.run(Thread.java:748)
2019-09-24 12:06:43,779 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.rpc.timeout.max = 300ms (default)
2019-09-24 12:06:43,780 INFO  ratis.RaftTestUtil (RaftTestUtil.java:waitForLeader(86)) - printing ALL groups
  s0:  RUNNING  FOLLOWER s0@group-04E6F89F5A1C:t2, leader=s2, voted=s2, raftlog=s0@group-04E6F89F5A1C-SegmentedRaftLog:OPENED:c-1,f1,i1, conf=1: [s0:0.0.0.0:34119, s1:0.0.0.0:44382, s2:0.0.0.0:42516], old=null RUNNING
  s1:  RUNNING  FOLLOWER s1@group-04E6F89F5A1C:t2, leader=s2, voted=null, raftlog=s1@group-04E6F89F5A1C-SegmentedRaftLog:OPENED:c0,f1,i1, conf=1: [s0:0.0.0.0:34119, s1:0.0.0.0:44382, s2:0.0.0.0:42516], old=null RUNNING
  s2:  RUNNING    LEADER s2@group-04E6F89F5A1C:t2, leader=s2, voted=s2, raftlog=s2@group-04E6F89F5A1C-SegmentedRaftLog:OPENED:c1,f2,i2, conf=1: [s0:0.0.0.0:34119, s1:0.0.0.0:44382, s2:0.0.0.0:42516], old=null RUNNING
2019-09-24 12:06:43,781 INFO  ratis.RaftTestUtil (RaftTestUtil.java:waitForLeader(101)) - printing ALL groups
  s0:  RUNNING  FOLLOWER s0@group-04E6F89F5A1C:t2, leader=s2, voted=s2, raftlog=s0@group-04E6F89F5A1C-SegmentedRaftLog:OPENED:c-1,f1,i1, conf=1: [s0:0.0.0.0:34119, s1:0.0.0.0:44382, s2:0.0.0.0:42516], old=null RUNNING
  s1:  RUNNING  FOLLOWER s1@group-04E6F89F5A1C:t2, leader=s2, voted=null, raftlog=s1@group-04E6F89F5A1C-SegmentedRaftLog:OPENED:c0,f1,i1, conf=1: [s0:0.0.0.0:34119, s1:0.0.0.0:44382, s2:0.0.0.0:42516], old=null RUNNING
  s2:  RUNNING    LEADER s2@group-04E6F89F5A1C:t2, leader=s2, voted=s2, raftlog=s2@group-04E6F89F5A1C-SegmentedRaftLog:OPENED:c1,f2,i2, conf=1: [s0:0.0.0.0:34119, s1:0.0.0.0:44382, s2:0.0.0.0:42516], old=null RUNNING
2019-09-24 12:06:43,781 WARN  ratis.RaftTestUtil (JavaUtils.java:attempt(158)) - FAILED "testChangeLeader-changeLeader", attempt #6/20: java.lang.IllegalStateException: Failed to change leader: newLeader == oldLeader == s2, sleep 100ms and then retry.
java.lang.IllegalStateException: Failed to change leader: newLeader == oldLeader == s2
	at org.apache.ratis.RaftTestUtil.lambda$changeLeader$7(RaftTestUtil.java:365)
	at org.apache.ratis.util.JavaUtils.attempt(JavaUtils.java:152)
	at org.apache.ratis.RaftTestUtil.changeLeader(RaftTestUtil.java:362)
	at org.apache.ratis.server.impl.LeaderElectionTests.testChangeLeader(LeaderElectionTests.java:81)
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.lang.reflect.Method.invoke(Method.java:498)
	at org.junit.runners.model.FrameworkMethod$1.runReflectiveCall(FrameworkMethod.java:50)
	at org.junit.internal.runners.model.ReflectiveCallable.run(ReflectiveCallable.java:12)
	at org.junit.runners.model.FrameworkMethod.invokeExplosively(FrameworkMethod.java:47)
	at org.junit.internal.runners.statements.InvokeMethod.evaluate(InvokeMethod.java:17)
	at org.junit.internal.runners.statements.RunAfters.evaluate(RunAfters.java:27)
	at org.junit.internal.runners.statements.FailOnTimeout$CallableStatement.call(FailOnTimeout.java:298)
	at org.junit.internal.runners.statements.FailOnTimeout$CallableStatement.call(FailOnTimeout.java:292)
	at java.util.concurrent.FutureTask.run(FutureTask.java:266)
	at java.lang.Thread.run(Thread.java:748)
2019-09-24 12:06:43,827 INFO  impl.FollowerState (FollowerState.java:run(108)) - s0@group-04E6F89F5A1C-FollowerState: change to CANDIDATE, lastRpcTime:410ms, electionTimeout:271ms
2019-09-24 12:06:43,829 INFO  impl.RoleInfo (RoleInfo.java:shutdownFollowerState(121)) - s0: shutdown FollowerState
2019-09-24 12:06:43,829 INFO  impl.RaftServerImpl (RaftServerImpl.java:setRole(170)) - s0@group-04E6F89F5A1C: changes role from  FOLLOWER to CANDIDATE at term 2 for changeToCandidate
2019-09-24 12:06:43,829 INFO  impl.RoleInfo (RoleInfo.java:updateAndGet(143)) - s0: start LeaderElection
2019-09-24 12:06:43,829 WARN  impl.LogAppender (LogAppender.java:sendAppendEntriesWithRetries(274)) - s0@group-E7D5050F4609->s3-LogAppender: Failed to appendEntries (retry=4291): org.apache.ratis.thirdparty.io.netty.channel.AbstractChannel$AnnotatedConnectException: Connection refused: /0.0.0.0:40479
2019-09-24 12:06:43,830 INFO  impl.RaftServerImpl (ServerState.java:setLeader(254)) - s0@group-04E6F89F5A1C: change Leader from s2 to null at term 2 for initElection
2019-09-24 12:06:43,856 INFO  impl.LeaderElection (LeaderElection.java:askForVotes(178)) - s0@group-04E6F89F5A1C-LeaderElection15: begin an election at term 3 for 1: [s0:0.0.0.0:34119, s1:0.0.0.0:44382, s2:0.0.0.0:42516], old=null
2019-09-24 12:06:43,859 INFO  logging.LoggingHandler (AbstractInternalLogger.java:log(150)) - [id: 0x4dd9b93d, L:/0.0.0.0:44382] READ: [id: 0x5db05d93, L:/192.168.34.44:44382 - R:/192.168.34.44:47366]
2019-09-24 12:06:43,859 INFO  logging.LoggingHandler (AbstractInternalLogger.java:log(150)) - [id: 0xcc45674f, L:/0.0.0.0:42516] READ: [id: 0xd9d59aa7, L:/192.168.34.44:42516 - R:/192.168.34.44:36384]
2019-09-24 12:06:43,860 INFO  logging.LoggingHandler (AbstractInternalLogger.java:log(150)) - [id: 0x4dd9b93d, L:/0.0.0.0:44382] READ COMPLETE
2019-09-24 12:06:43,860 INFO  logging.LoggingHandler (AbstractInternalLogger.java:log(150)) - [id: 0xcc45674f, L:/0.0.0.0:42516] READ COMPLETE
2019-09-24 12:06:43,861 DEBUG impl.RaftServerImpl (RaftServerImpl.java:requestVote(743)) - s1@group-04E6F89F5A1C: receive requestVote(s0, group-04E6F89F5A1C, 3, (t:2, i:1))
2019-09-24 12:06:43,861 DEBUG impl.RaftServerImpl (RaftServerImpl.java:requestVote(743)) - s2@group-04E6F89F5A1C: receive requestVote(s0, group-04E6F89F5A1C, 3, (t:2, i:1))
2019-09-24 12:06:43,861 INFO  impl.RaftServerImpl (ServerState.java:setLeader(254)) - s1@group-04E6F89F5A1C: change Leader from s2 to null at term 3 for updateCurrentTerm
2019-09-24 12:06:43,862 INFO  impl.RaftServerImpl (ServerState.java:setLeader(254)) - s2@group-04E6F89F5A1C: change Leader from s2 to null at term 3 for updateCurrentTerm
2019-09-24 12:06:43,862 INFO  impl.RaftServerImpl (RaftServerImpl.java:setRole(170)) - s1@group-04E6F89F5A1C: changes role from  FOLLOWER to FOLLOWER at term 3 for recognizeCandidate:s0
2019-09-24 12:06:43,862 INFO  impl.RaftServerImpl (RaftServerImpl.java:setRole(170)) - s2@group-04E6F89F5A1C: changes role from    LEADER to FOLLOWER at term 3 for recognizeCandidate:s0
2019-09-24 12:06:43,862 INFO  impl.RoleInfo (RoleInfo.java:shutdownFollowerState(121)) - s1: shutdown FollowerState
2019-09-24 12:06:43,863 INFO  impl.RoleInfo (RoleInfo.java:shutdownLeaderState(104)) - s2: shutdown LeaderState
2019-09-24 12:06:43,863 INFO  impl.FollowerState (FollowerState.java:run(117)) - s1@group-04E6F89F5A1C-FollowerState was interrupted: java.lang.InterruptedException: sleep interrupted
2019-09-24 12:06:43,863 INFO  impl.RoleInfo (RoleInfo.java:updateAndGet(143)) - s1: start FollowerState
2019-09-24 12:06:43,865 INFO  impl.LogAppender (LogAppender.java:run(78)) - s2@group-04E6F89F5A1C->s0-LogAppender-AppenderDaemon was interrupted: java.io.InterruptedIOException: s2->s0#0 sending from s0:0.0.0.0:34119 is interrupted.
2019-09-24 12:06:43,865 INFO  impl.LogAppender (LogAppender.java:run(78)) - s2@group-04E6F89F5A1C->s1-LogAppender-AppenderDaemon was interrupted: java.io.InterruptedIOException: s2->s1#0 sending from s1:0.0.0.0:44382 is interrupted.
2019-09-24 12:06:43,865 INFO  impl.PendingRequests (PendingRequests.java:sendNotLeaderResponses(202)) - s2@group-04E6F89F5A1C-PendingRequests: sendNotLeaderResponses
2019-09-24 12:06:43,868 INFO  impl.RoleInfo (RoleInfo.java:updateAndGet(143)) - s2: start FollowerState
2019-09-24 12:06:43,882 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.rpc.timeout.max = 300ms (default)
2019-09-24 12:06:43,882 DEBUG impl.RaftServerImpl (RaftServerImpl.java:requestVote(775)) - s1@group-04E6F89F5A1C replies to vote request: s0<-s1#0:OK-t3. Peer's state: s1@group-04E6F89F5A1C:t3, leader=null, voted=s0, raftlog=s1@group-04E6F89F5A1C-SegmentedRaftLog:OPENED:c0,f1,i1, conf=1: [s0:0.0.0.0:34119, s1:0.0.0.0:44382, s2:0.0.0.0:42516], old=null
2019-09-24 12:06:43,882 INFO  ratis.RaftTestUtil (RaftTestUtil.java:waitForLeader(86)) - printing ALL groups
  s0:  RUNNING CANDIDATE s0@group-04E6F89F5A1C:t3, leader=null, voted=s0, raftlog=s0@group-04E6F89F5A1C-SegmentedRaftLog:OPENED:c-1,f1,i1, conf=1: [s0:0.0.0.0:34119, s1:0.0.0.0:44382, s2:0.0.0.0:42516], old=null RUNNING
  s1:  RUNNING  FOLLOWER s1@group-04E6F89F5A1C:t3, leader=null, voted=s0, raftlog=s1@group-04E6F89F5A1C-SegmentedRaftLog:OPENED:c0,f1,i1, conf=1: [s0:0.0.0.0:34119, s1:0.0.0.0:44382, s2:0.0.0.0:42516], old=null RUNNING
  s2:  RUNNING  FOLLOWER s2@group-04E6F89F5A1C:t3, leader=null, voted=null, raftlog=s2@group-04E6F89F5A1C-SegmentedRaftLog:OPENED:c1,f2,i2, conf=1: [s0:0.0.0.0:34119, s1:0.0.0.0:44382, s2:0.0.0.0:42516], old=null RUNNING
2019-09-24 12:06:43,882 DEBUG impl.RaftServerImpl (RaftServerImpl.java:requestVote(775)) - s2@group-04E6F89F5A1C replies to vote request: s0<-s2#0:FAIL-t3. Peer's state: s2@group-04E6F89F5A1C:t3, leader=null, voted=null, raftlog=s2@group-04E6F89F5A1C-SegmentedRaftLog:OPENED:c1,f2,i2, conf=1: [s0:0.0.0.0:34119, s1:0.0.0.0:44382, s2:0.0.0.0:42516], old=null
2019-09-24 12:06:43,883 INFO  impl.LeaderElection (LeaderElection.java:logAndReturn(56)) - s0@group-04E6F89F5A1C-LeaderElection15: Election PASSED; received 1 response(s) [s0<-s1#0:OK-t3] and 0 exception(s); s0@group-04E6F89F5A1C:t3, leader=null, voted=s0, raftlog=s0@group-04E6F89F5A1C-SegmentedRaftLog:OPENED:c-1,f1,i1, conf=1: [s0:0.0.0.0:34119, s1:0.0.0.0:44382, s2:0.0.0.0:42516], old=null
2019-09-24 12:06:43,883 WARN  ratis.RaftTestUtil (JavaUtils.java:attempt(158)) - FAILED "waitForLeader-null-(expectLeader? true)", attempt #1/100: java.lang.IllegalStateException: No leader yet : printing ALL groups
  s0:  RUNNING CANDIDATE s0@group-04E6F89F5A1C:t3, leader=null, voted=s0, raftlog=s0@group-04E6F89F5A1C-SegmentedRaftLog:OPENED:c-1,f1,i1, conf=1: [s0:0.0.0.0:34119, s1:0.0.0.0:44382, s2:0.0.0.0:42516], old=null RUNNING
  s1:  RUNNING  FOLLOWER s1@group-04E6F89F5A1C:t3, leader=null, voted=s0, raftlog=s1@group-04E6F89F5A1C-SegmentedRaftLog:OPENED:c0,f1,i1, conf=1: [s0:0.0.0.0:34119, s1:0.0.0.0:44382, s2:0.0.0.0:42516], old=null RUNNING
  s2:  RUNNING  FOLLOWER s2@group-04E6F89F5A1C:t3, leader=null, voted=null, raftlog=s2@group-04E6F89F5A1C-SegmentedRaftLog:OPENED:c1,f2,i2, conf=1: [s0:0.0.0.0:34119, s1:0.0.0.0:44382, s2:0.0.0.0:42516], old=null RUNNING, sleep 450ms and then retry.
java.lang.IllegalStateException: No leader yet : printing ALL groups
  s0:  RUNNING CANDIDATE s0@group-04E6F89F5A1C:t3, leader=null, voted=s0, raftlog=s0@group-04E6F89F5A1C-SegmentedRaftLog:OPENED:c-1,f1,i1, conf=1: [s0:0.0.0.0:34119, s1:0.0.0.0:44382, s2:0.0.0.0:42516], old=null RUNNING
  s1:  RUNNING  FOLLOWER s1@group-04E6F89F5A1C:t3, leader=null, voted=s0, raftlog=s1@group-04E6F89F5A1C-SegmentedRaftLog:OPENED:c0,f1,i1, conf=1: [s0:0.0.0.0:34119, s1:0.0.0.0:44382, s2:0.0.0.0:42516], old=null RUNNING
  s2:  RUNNING  FOLLOWER s2@group-04E6F89F5A1C:t3, leader=null, voted=null, raftlog=s2@group-04E6F89F5A1C-SegmentedRaftLog:OPENED:c1,f2,i2, conf=1: [s0:0.0.0.0:34119, s1:0.0.0.0:44382, s2:0.0.0.0:42516], old=null RUNNING
	at org.apache.ratis.MiniRaftCluster.newIllegalStateExceptionForNoLeaders(MiniRaftCluster.java:506)
	at org.apache.ratis.RaftTestUtil.lambda$waitForLeader$1(RaftTestUtil.java:90)
	at org.apache.ratis.MiniRaftCluster.getLeader(MiniRaftCluster.java:539)
	at org.apache.ratis.MiniRaftCluster.getLeader(MiniRaftCluster.java:532)
	at org.apache.ratis.RaftTestUtil.lambda$waitForLeader$3(RaftTestUtil.java:98)
	at org.apache.ratis.util.JavaUtils.attempt(JavaUtils.java:152)
	at org.apache.ratis.RaftTestUtil.waitForLeader(RaftTestUtil.java:97)
	at org.apache.ratis.RaftTestUtil.waitForLeader(RaftTestUtil.java:77)
	at org.apache.ratis.RaftTestUtil.waitForLeader(RaftTestUtil.java:72)
	at org.apache.ratis.RaftTestUtil.lambda$changeLeader$7(RaftTestUtil.java:363)
	at org.apache.ratis.util.JavaUtils.attempt(JavaUtils.java:152)
	at org.apache.ratis.RaftTestUtil.changeLeader(RaftTestUtil.java:362)
	at org.apache.ratis.server.impl.LeaderElectionTests.testChangeLeader(LeaderElectionTests.java:81)
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.lang.reflect.Method.invoke(Method.java:498)
	at org.junit.runners.model.FrameworkMethod$1.runReflectiveCall(FrameworkMethod.java:50)
	at org.junit.internal.runners.model.ReflectiveCallable.run(ReflectiveCallable.java:12)
	at org.junit.runners.model.FrameworkMethod.invokeExplosively(FrameworkMethod.java:47)
	at org.junit.internal.runners.statements.InvokeMethod.evaluate(InvokeMethod.java:17)
	at org.junit.internal.runners.statements.RunAfters.evaluate(RunAfters.java:27)
	at org.junit.internal.runners.statements.FailOnTimeout$CallableStatement.call(FailOnTimeout.java:298)
	at org.junit.internal.runners.statements.FailOnTimeout$CallableStatement.call(FailOnTimeout.java:292)
	at java.util.concurrent.FutureTask.run(FutureTask.java:266)
	at java.lang.Thread.run(Thread.java:748)
2019-09-24 12:06:43,885 INFO  impl.RoleInfo (RoleInfo.java:shutdownLeaderElection(134)) - s0: shutdown LeaderElection
2019-09-24 12:06:43,887 INFO  impl.RaftServerImpl (RaftServerImpl.java:setRole(170)) - s0@group-04E6F89F5A1C: changes role from CANDIDATE to LEADER at term 3 for changeToLeader
2019-09-24 12:06:43,887 INFO  impl.RaftServerImpl (ServerState.java:setLeader(254)) - s0@group-04E6F89F5A1C: change Leader from null to s0 at term 3 for becomeLeader, leader elected after 57ms
2019-09-24 12:06:43,887 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.staging.catchup.gap = 1000 (default)
2019-09-24 12:06:43,887 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.rpc.sleep.time = 25ms (default)
2019-09-24 12:06:43,887 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.write.element-limit = 4096 (default)
2019-09-24 12:06:43,887 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.watch.timeout = 10s (default)
2019-09-24 12:06:43,888 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.watch.timeout.denomination = 1s (default)
2019-09-24 12:06:43,888 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.watch.element-limit = 65536 (default)
2019-09-24 12:06:43,891 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.log.appender.snapshot.chunk.size.max = 16MB (=16777216) (default)
2019-09-24 12:06:43,891 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.log.appender.buffer.byte-limit = 4MB (=4194304) (default)
2019-09-24 12:06:43,891 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.log.appender.buffer.element-limit = 0 (default)
2019-09-24 12:06:43,891 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.log.appender.snapshot.chunk.size.max = 16MB (=16777216) (default)
2019-09-24 12:06:43,892 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.log.appender.buffer.byte-limit = 4MB (=4194304) (default)
2019-09-24 12:06:43,892 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.log.appender.buffer.element-limit = 0 (default)
2019-09-24 12:06:43,892 INFO  impl.RoleInfo (RoleInfo.java:updateAndGet(143)) - s0: start LeaderState
2019-09-24 12:06:43,893 INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:rollLogSegment(385)) - s0@group-04E6F89F5A1C-SegmentedRaftLogWorker: Rolling segment log-1_1 to index:1
2019-09-24 12:06:43,893 DEBUG segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:addIOTask(251)) - s0@group-04E6F89F5A1C-SegmentedRaftLogWorker adds IO task FinalizeLogSegment:1: startIndex=1 endIndex=1
2019-09-24 12:06:43,893 DEBUG segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:addIOTask(251)) - s0@group-04E6F89F5A1C-SegmentedRaftLogWorker adds IO task StartLogSegment:2
2019-09-24 12:06:43,893 DEBUG segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:addIOTask(251)) - s0@group-04E6F89F5A1C-SegmentedRaftLogWorker adds IO task WriteLog:2: (t:3, i:2), CONFIGURATIONENTRY
2019-09-24 12:06:43,895 INFO  impl.RaftServerImpl (ServerState.java:setRaftConf(355)) - s0@group-04E6F89F5A1C: set configuration 2: [s0:0.0.0.0:34119, s1:0.0.0.0:44382, s2:0.0.0.0:42516], old=null at 2
2019-09-24 12:06:43,896 INFO  impl.RaftServerImpl (ServerState.java:setLeader(254)) - s1@group-04E6F89F5A1C: change Leader from null to s0 at term 3 for appendEntries, leader elected after 34ms
2019-09-24 12:06:43,896 INFO  impl.RaftServerImpl (ServerState.java:setLeader(254)) - s2@group-04E6F89F5A1C: change Leader from null to s0 at term 3 for appendEntries, leader elected after 34ms
2019-09-24 12:06:43,897 TRACE util.FileUtils (LogUtils.java:runAndLog(61)) - Successfully ran Files.move /workdir/ratis-test/target/test/data/aaa4fccd/MiniRaftClusterWithNetty55a7148e/s0/611a84d9-4fe5-4f71-a301-04e6f89f5a1c/current/log_inprogress_1 to /workdir/ratis-test/target/test/data/aaa4fccd/MiniRaftClusterWithNetty55a7148e/s0/611a84d9-4fe5-4f71-a301-04e6f89f5a1c/current/log_1-1
2019-09-24 12:06:43,897 INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:execute(526)) - s0@group-04E6F89F5A1C-SegmentedRaftLogWorker: Rolled log segment from /workdir/ratis-test/target/test/data/aaa4fccd/MiniRaftClusterWithNetty55a7148e/s0/611a84d9-4fe5-4f71-a301-04e6f89f5a1c/current/log_inprogress_1 to /workdir/ratis-test/target/test/data/aaa4fccd/MiniRaftClusterWithNetty55a7148e/s0/611a84d9-4fe5-4f71-a301-04e6f89f5a1c/current/log_1-1
2019-09-24 12:06:43,897 TRACE segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:lambda$new$1(133)) - s0@group-04E6F89F5A1C-SegmentedRaftLogWorker: flushIndex: updateIncreasingly 1 -> 1
2019-09-24 12:06:43,898 DEBUG impl.RaftServerImpl (RaftServerImpl.java:logAppendEntries(850)) - s1@group-04E6F89F5A1C: receive appendEntries(s0, 3, (t:2, i:1), -1, false, commits[s0:c-1, s1:c0, s2:c-1], entries: (t:3, i:2), CONFIGURATIONENTRY
2019-09-24 12:06:43,898 INFO  impl.RaftServerImpl (ServerState.java:setRaftConf(355)) - s1@group-04E6F89F5A1C: set configuration 2: [s0:0.0.0.0:34119, s1:0.0.0.0:44382, s2:0.0.0.0:42516], old=null at 2
2019-09-24 12:06:43,898 INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:rollLogSegment(385)) - s1@group-04E6F89F5A1C-SegmentedRaftLogWorker: Rolling segment log-1_1 to index:1
2019-09-24 12:06:43,899 DEBUG segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:addIOTask(251)) - s1@group-04E6F89F5A1C-SegmentedRaftLogWorker adds IO task FinalizeLogSegment:1: startIndex=1 endIndex=1
2019-09-24 12:06:43,899 DEBUG segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:addIOTask(251)) - s1@group-04E6F89F5A1C-SegmentedRaftLogWorker adds IO task StartLogSegment:2
2019-09-24 12:06:43,899 DEBUG segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:addIOTask(251)) - s1@group-04E6F89F5A1C-SegmentedRaftLogWorker adds IO task WriteLog:2: (t:3, i:2), CONFIGURATIONENTRY
2019-09-24 12:06:43,901 TRACE util.FileUtils (LogUtils.java:runAndLog(61)) - Successfully ran Files.move /workdir/ratis-test/target/test/data/aaa4fccd/MiniRaftClusterWithNetty55a7148e/s1/611a84d9-4fe5-4f71-a301-04e6f89f5a1c/current/log_inprogress_1 to /workdir/ratis-test/target/test/data/aaa4fccd/MiniRaftClusterWithNetty55a7148e/s1/611a84d9-4fe5-4f71-a301-04e6f89f5a1c/current/log_1-1
2019-09-24 12:06:43,901 INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:execute(526)) - s1@group-04E6F89F5A1C-SegmentedRaftLogWorker: Rolled log segment from /workdir/ratis-test/target/test/data/aaa4fccd/MiniRaftClusterWithNetty55a7148e/s1/611a84d9-4fe5-4f71-a301-04e6f89f5a1c/current/log_inprogress_1 to /workdir/ratis-test/target/test/data/aaa4fccd/MiniRaftClusterWithNetty55a7148e/s1/611a84d9-4fe5-4f71-a301-04e6f89f5a1c/current/log_1-1
2019-09-24 12:06:43,901 TRACE segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:lambda$new$1(133)) - s1@group-04E6F89F5A1C-SegmentedRaftLogWorker: flushIndex: updateIncreasingly 1 -> 1
2019-09-24 12:06:43,973 INFO  impl.RaftServerImpl (RaftServerImpl.java:checkInconsistentAppendEntries(999)) - s2@group-04E6F89F5A1C: Failed appendEntries as previous log entry ((t:3, i:2)) is not found
2019-09-24 12:06:43,974 INFO  impl.RaftServerImpl (RaftServerImpl.java:checkInconsistentAppendEntries(972)) - s2@group-04E6F89F5A1C: inconsistency entries. Reply:s0<-s2#0:FAIL,INCONSISTENCY,nextIndex:2,term:3,followerCommit:1
2019-09-24 12:06:43,974 INFO  impl.FollowerInfo (FollowerInfo.java:lambda$new$0(51)) - s0@group-04E6F89F5A1C->s2: nextIndex: updateUnconditionally 3 -> 2
2019-09-24 12:06:43,975 DEBUG impl.RaftServerImpl (RaftServerImpl.java:logAppendEntries(850)) - s2@group-04E6F89F5A1C: receive appendEntries(s0, 3, (t:2, i:1), -1, false, commits[s0:c-1, s1:c0, s2:c1], entries: (t:3, i:2), CONFIGURATIONENTRY
2019-09-24 12:06:43,975 INFO  impl.RaftServerImpl (ServerState.java:setRaftConf(355)) - s2@group-04E6F89F5A1C: set configuration 2: [s0:0.0.0.0:34119, s1:0.0.0.0:44382, s2:0.0.0.0:42516], old=null at 2
2019-09-24 12:06:43,976 INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:truncate(396)) - s2@group-04E6F89F5A1C-SegmentedRaftLogWorker: Truncating segments toTruncate: (1, 2) isOpen? true, length=82, newEndIndex=1
  toDelete: [], start index 2
2019-09-24 12:06:43,976 DEBUG segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:addIOTask(251)) - s2@group-04E6F89F5A1C-SegmentedRaftLogWorker adds IO task TruncateLog:1: toTruncate: (1, 2) isOpen? true, length=82, newEndIndex=1
  toDelete: []
2019-09-24 12:06:43,977 INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:startLogSegment(380)) - s2@group-04E6F89F5A1C-SegmentedRaftLogWorker: Starting segment from index:2
2019-09-24 12:06:43,977 DEBUG segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:addIOTask(251)) - s2@group-04E6F89F5A1C-SegmentedRaftLogWorker adds IO task StartLogSegment:2
2019-09-24 12:06:43,977 DEBUG segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:addIOTask(251)) - s2@group-04E6F89F5A1C-SegmentedRaftLogWorker adds IO task WriteLog:2: (t:3, i:2), CONFIGURATIONENTRY
2019-09-24 12:06:43,992 TRACE util.FileUtils (LogUtils.java:runAndLog(61)) - Successfully ran FileOutputStream.getChannel().truncate /workdir/ratis-test/target/test/data/aaa4fccd/MiniRaftClusterWithNetty55a7148e/s2/611a84d9-4fe5-4f71-a301-04e6f89f5a1c/current/log_inprogress_1 length: 95 -> 82
2019-09-24 12:06:43,993 TRACE util.FileUtils (LogUtils.java:runAndLog(61)) - Successfully ran Files.move /workdir/ratis-test/target/test/data/aaa4fccd/MiniRaftClusterWithNetty55a7148e/s2/611a84d9-4fe5-4f71-a301-04e6f89f5a1c/current/log_inprogress_1 to /workdir/ratis-test/target/test/data/aaa4fccd/MiniRaftClusterWithNetty55a7148e/s2/611a84d9-4fe5-4f71-a301-04e6f89f5a1c/current/log_1-1
2019-09-24 12:06:43,993 INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:execute(614)) - s2@group-04E6F89F5A1C-SegmentedRaftLogWorker: Truncated log file /workdir/ratis-test/target/test/data/aaa4fccd/MiniRaftClusterWithNetty55a7148e/s2/611a84d9-4fe5-4f71-a301-04e6f89f5a1c/current/log_inprogress_1 to length 82 and moved it to /workdir/ratis-test/target/test/data/aaa4fccd/MiniRaftClusterWithNetty55a7148e/s2/611a84d9-4fe5-4f71-a301-04e6f89f5a1c/current/log_1-1
2019-09-24 12:06:43,993 INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:lambda$new$0(132)) - s2@group-04E6F89F5A1C-SegmentedRaftLogWorker: flushIndex: setUnconditionally 2 -> 1
2019-09-24 12:06:44,029 INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:execute(569)) - s1@group-04E6F89F5A1C-SegmentedRaftLogWorker: created new log segment /workdir/ratis-test/target/test/data/aaa4fccd/MiniRaftClusterWithNetty55a7148e/s1/611a84d9-4fe5-4f71-a301-04e6f89f5a1c/current/log_inprogress_2
2019-09-24 12:06:44,029 INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:execute(569)) - s0@group-04E6F89F5A1C-SegmentedRaftLogWorker: created new log segment /workdir/ratis-test/target/test/data/aaa4fccd/MiniRaftClusterWithNetty55a7148e/s0/611a84d9-4fe5-4f71-a301-04e6f89f5a1c/current/log_inprogress_2
2019-09-24 12:06:44,029 DEBUG segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:flushWrites(340)) - s1@group-04E6F89F5A1C-SegmentedRaftLogWorker: flush SegmentedRaftLogOutputStream(/workdir/ratis-test/target/test/data/aaa4fccd/MiniRaftClusterWithNetty55a7148e/s1/611a84d9-4fe5-4f71-a301-04e6f89f5a1c/current/log_inprogress_2)
2019-09-24 12:06:44,030 DEBUG segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:flushWrites(340)) - s0@group-04E6F89F5A1C-SegmentedRaftLogWorker: flush SegmentedRaftLogOutputStream(/workdir/ratis-test/target/test/data/aaa4fccd/MiniRaftClusterWithNetty55a7148e/s0/611a84d9-4fe5-4f71-a301-04e6f89f5a1c/current/log_inprogress_2)
2019-09-24 12:06:44,063 WARN  impl.LogAppender (LogAppender.java:sendAppendEntriesWithRetries(274)) - s0@group-E7D5050F4609->s3-LogAppender: Failed to appendEntries (retry=4301): org.apache.ratis.thirdparty.io.netty.channel.AbstractChannel$AnnotatedConnectException: Connection refused: /0.0.0.0:40479
2019-09-24 12:06:44,078 TRACE segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:lambda$new$1(133)) - s1@group-04E6F89F5A1C-SegmentedRaftLogWorker: flushIndex: updateIncreasingly 1 -> 2
2019-09-24 12:06:44,078 DEBUG impl.RaftServerImpl (RaftServerImpl.java:logAppendEntries(850)) - s1@group-04E6F89F5A1C: succeeded to handle AppendEntries. Reply: s0<-s1#0:OK,SUCCESS,nextIndex:3,term:3,followerCommit:0
2019-09-24 12:06:44,080 TRACE segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:lambda$new$1(133)) - s0@group-04E6F89F5A1C-SegmentedRaftLogWorker: flushIndex: updateIncreasingly 1 -> 2
2019-09-24 12:06:44,080 DEBUG segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:addIOTask(251)) - s0@group-04E6F89F5A1C-SegmentedRaftLogWorker adds IO task WriteLog:3: (t:3, i:3), METADATAENTRY(c2)
2019-09-24 12:06:44,080 DEBUG segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:flushWrites(340)) - s0@group-04E6F89F5A1C-SegmentedRaftLogWorker: flush SegmentedRaftLogOutputStream(/workdir/ratis-test/target/test/data/aaa4fccd/MiniRaftClusterWithNetty55a7148e/s0/611a84d9-4fe5-4f71-a301-04e6f89f5a1c/current/log_inprogress_2)
2019-09-24 12:06:44,081 DEBUG impl.RaftServerImpl (RaftServerImpl.java:logAppendEntries(850)) - s1@group-04E6F89F5A1C: receive appendEntries(s0, 3, (t:3, i:2), 2, false, commits[s0:c2, s1:c0, s2:c1], entries: (t:3, i:3), METADATAENTRY(c2)
2019-09-24 12:06:44,082 DEBUG segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:addIOTask(251)) - s1@group-04E6F89F5A1C-SegmentedRaftLogWorker adds IO task WriteLog:3: (t:3, i:3), METADATAENTRY(c2)
2019-09-24 12:06:44,082 DEBUG segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:flushWrites(340)) - s1@group-04E6F89F5A1C-SegmentedRaftLogWorker: flush SegmentedRaftLogOutputStream(/workdir/ratis-test/target/test/data/aaa4fccd/MiniRaftClusterWithNetty55a7148e/s1/611a84d9-4fe5-4f71-a301-04e6f89f5a1c/current/log_inprogress_2)
2019-09-24 12:06:44,090 INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:execute(569)) - s2@group-04E6F89F5A1C-SegmentedRaftLogWorker: created new log segment /workdir/ratis-test/target/test/data/aaa4fccd/MiniRaftClusterWithNetty55a7148e/s2/611a84d9-4fe5-4f71-a301-04e6f89f5a1c/current/log_inprogress_2
2019-09-24 12:06:44,090 DEBUG segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:flushWrites(340)) - s2@group-04E6F89F5A1C-SegmentedRaftLogWorker: flush SegmentedRaftLogOutputStream(/workdir/ratis-test/target/test/data/aaa4fccd/MiniRaftClusterWithNetty55a7148e/s2/611a84d9-4fe5-4f71-a301-04e6f89f5a1c/current/log_inprogress_2)
2019-09-24 12:06:44,091 TRACE segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:lambda$new$1(133)) - s0@group-04E6F89F5A1C-SegmentedRaftLogWorker: flushIndex: updateIncreasingly 2 -> 3
2019-09-24 12:06:44,091 TRACE segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:lambda$new$1(133)) - s1@group-04E6F89F5A1C-SegmentedRaftLogWorker: flushIndex: updateIncreasingly 2 -> 3
2019-09-24 12:06:44,092 TRACE segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:lambda$new$1(133)) - s2@group-04E6F89F5A1C-SegmentedRaftLogWorker: flushIndex: updateIncreasingly 1 -> 2
2019-09-24 12:06:44,092 DEBUG impl.RaftServerImpl (RaftServerImpl.java:logAppendEntries(850)) - s1@group-04E6F89F5A1C: succeeded to handle AppendEntries. Reply: s0<-s1#0:OK,SUCCESS,nextIndex:4,term:3,followerCommit:2
2019-09-24 12:06:44,092 DEBUG impl.RaftServerImpl (RaftServerImpl.java:logAppendEntries(850)) - s2@group-04E6F89F5A1C: succeeded to handle AppendEntries. Reply: s0<-s2#0:OK,SUCCESS,nextIndex:3,term:3,followerCommit:1
2019-09-24 12:06:44,094 DEBUG impl.RaftServerImpl (RaftServerImpl.java:logAppendEntries(850)) - s2@group-04E6F89F5A1C: receive appendEntries(s0, 3, (t:3, i:2), 3, false, commits[s0:c3, s1:c2, s2:c1], entries: (t:3, i:3), METADATAENTRY(c2)
2019-09-24 12:06:44,095 DEBUG segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:addIOTask(251)) - s2@group-04E6F89F5A1C-SegmentedRaftLogWorker adds IO task WriteLog:3: (t:3, i:3), METADATAENTRY(c2)
2019-09-24 12:06:44,095 DEBUG segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:flushWrites(340)) - s2@group-04E6F89F5A1C-SegmentedRaftLogWorker: flush SegmentedRaftLogOutputStream(/workdir/ratis-test/target/test/data/aaa4fccd/MiniRaftClusterWithNetty55a7148e/s2/611a84d9-4fe5-4f71-a301-04e6f89f5a1c/current/log_inprogress_2)
2019-09-24 12:06:44,106 TRACE segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:lambda$new$1(133)) - s2@group-04E6F89F5A1C-SegmentedRaftLogWorker: flushIndex: updateIncreasingly 2 -> 3
2019-09-24 12:06:44,107 DEBUG impl.RaftServerImpl (RaftServerImpl.java:logAppendEntries(850)) - s2@group-04E6F89F5A1C: succeeded to handle AppendEntries. Reply: s0<-s2#0:OK,SUCCESS,nextIndex:4,term:3,followerCommit:3
2019-09-24 12:06:44,297 WARN  impl.LogAppender (LogAppender.java:sendAppendEntriesWithRetries(274)) - s0@group-E7D5050F4609->s3-LogAppender: Failed to appendEntries (retry=4311): org.apache.ratis.thirdparty.io.netty.channel.AbstractChannel$AnnotatedConnectException: Connection refused: /0.0.0.0:40479
2019-09-24 12:06:44,337 INFO  ratis.RaftTestUtil (RaftTestUtil.java:waitForLeader(101)) - printing ALL groups
  s0:  RUNNING    LEADER s0@group-04E6F89F5A1C:t3, leader=s0, voted=s0, raftlog=s0@group-04E6F89F5A1C-SegmentedRaftLog:OPENED:c3,f3,i3, conf=2: [s0:0.0.0.0:34119, s1:0.0.0.0:44382, s2:0.0.0.0:42516], old=null RUNNING
  s1:  RUNNING  FOLLOWER s1@group-04E6F89F5A1C:t3, leader=s0, voted=s0, raftlog=s1@group-04E6F89F5A1C-SegmentedRaftLog:OPENED:c3,f3,i3, conf=2: [s0:0.0.0.0:34119, s1:0.0.0.0:44382, s2:0.0.0.0:42516], old=null RUNNING
  s2:  RUNNING  FOLLOWER s2@group-04E6F89F5A1C:t3, leader=s0, voted=null, raftlog=s2@group-04E6F89F5A1C-SegmentedRaftLog:OPENED:c3,f3,i3, conf=2: [s0:0.0.0.0:34119, s1:0.0.0.0:44382, s2:0.0.0.0:42516], old=null RUNNING
2019-09-24 12:06:44,337 INFO  ratis.RaftTestUtil (RaftTestUtil.java:lambda$changeLeader$7(367)) - Changed leader from s2 to s0
2019-09-24 12:06:44,337 INFO  util.CodeInjectionForTesting (BlockRequestHandlingInjection.java:unblockRequestor(53)) - UnBlock requestor s2
2019-09-24 12:06:44,338 INFO  util.CodeInjectionForTesting (BlockRequestHandlingInjection.java:blockRequestor(48)) - Block requestor s0
2019-09-24 12:06:44,338 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.rpc.timeout.max = 300ms (default)
2019-09-24 12:06:44,338 INFO  ratis.RaftTestUtil (RaftTestUtil.java:waitForLeader(86)) - printing ALL groups
  s0:  RUNNING    LEADER s0@group-04E6F89F5A1C:t3, leader=s0, voted=s0, raftlog=s0@group-04E6F89F5A1C-SegmentedRaftLog:OPENED:c3,f3,i3, conf=2: [s0:0.0.0.0:34119, s1:0.0.0.0:44382, s2:0.0.0.0:42516], old=null RUNNING
  s1:  RUNNING  FOLLOWER s1@group-04E6F89F5A1C:t3, leader=s0, voted=s0, raftlog=s1@group-04E6F89F5A1C-SegmentedRaftLog:OPENED:c3,f3,i3, conf=2: [s0:0.0.0.0:34119, s1:0.0.0.0:44382, s2:0.0.0.0:42516], old=null RUNNING
  s2:  RUNNING  FOLLOWER s2@group-04E6F89F5A1C:t3, leader=s0, voted=null, raftlog=s2@group-04E6F89F5A1C-SegmentedRaftLog:OPENED:c3,f3,i3, conf=2: [s0:0.0.0.0:34119, s1:0.0.0.0:44382, s2:0.0.0.0:42516], old=null RUNNING
2019-09-24 12:06:44,339 INFO  ratis.RaftTestUtil (RaftTestUtil.java:waitForLeader(101)) - printing ALL groups
  s0:  RUNNING    LEADER s0@group-04E6F89F5A1C:t3, leader=s0, voted=s0, raftlog=s0@group-04E6F89F5A1C-SegmentedRaftLog:OPENED:c3,f3,i3, conf=2: [s0:0.0.0.0:34119, s1:0.0.0.0:44382, s2:0.0.0.0:42516], old=null RUNNING
  s1:  RUNNING  FOLLOWER s1@group-04E6F89F5A1C:t3, leader=s0, voted=s0, raftlog=s1@group-04E6F89F5A1C-SegmentedRaftLog:OPENED:c3,f3,i3, conf=2: [s0:0.0.0.0:34119, s1:0.0.0.0:44382, s2:0.0.0.0:42516], old=null RUNNING
  s2:  RUNNING  FOLLOWER s2@group-04E6F89F5A1C:t3, leader=s0, voted=null, raftlog=s2@group-04E6F89F5A1C-SegmentedRaftLog:OPENED:c3,f3,i3, conf=2: [s0:0.0.0.0:34119, s1:0.0.0.0:44382, s2:0.0.0.0:42516], old=null RUNNING
2019-09-24 12:06:44,339 WARN  ratis.RaftTestUtil (JavaUtils.java:attempt(158)) - FAILED "testChangeLeader-changeLeader", attempt #1/20: java.lang.IllegalStateException: Failed to change leader: newLeader == oldLeader == s0, sleep 100ms and then retry.
java.lang.IllegalStateException: Failed to change leader: newLeader == oldLeader == s0
	at org.apache.ratis.RaftTestUtil.lambda$changeLeader$7(RaftTestUtil.java:365)
	at org.apache.ratis.util.JavaUtils.attempt(JavaUtils.java:152)
	at org.apache.ratis.RaftTestUtil.changeLeader(RaftTestUtil.java:362)
	at org.apache.ratis.server.impl.LeaderElectionTests.testChangeLeader(LeaderElectionTests.java:81)
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.lang.reflect.Method.invoke(Method.java:498)
	at org.junit.runners.model.FrameworkMethod$1.runReflectiveCall(FrameworkMethod.java:50)
	at org.junit.internal.runners.model.ReflectiveCallable.run(ReflectiveCallable.java:12)
	at org.junit.runners.model.FrameworkMethod.invokeExplosively(FrameworkMethod.java:47)
	at org.junit.internal.runners.statements.InvokeMethod.evaluate(InvokeMethod.java:17)
	at org.junit.internal.runners.statements.RunAfters.evaluate(RunAfters.java:27)
	at org.junit.internal.runners.statements.FailOnTimeout$CallableStatement.call(FailOnTimeout.java:298)
	at org.junit.internal.runners.statements.FailOnTimeout$CallableStatement.call(FailOnTimeout.java:292)
	at java.util.concurrent.FutureTask.run(FutureTask.java:266)
	at java.lang.Thread.run(Thread.java:748)
2019-09-24 12:06:44,348 INFO  util.CodeInjectionForTesting (BlockRequestHandlingInjection.java:execute(76)) - s4: Block request from s0
2019-09-24 12:06:44,368 INFO  util.CodeInjectionForTesting (BlockRequestHandlingInjection.java:execute(76)) - s1: Block request from s0
2019-09-24 12:06:44,368 INFO  util.CodeInjectionForTesting (BlockRequestHandlingInjection.java:execute(76)) - s1: Block request from s0
2019-09-24 12:06:44,369 INFO  util.CodeInjectionForTesting (BlockRequestHandlingInjection.java:execute(76)) - s2: Block request from s0
2019-09-24 12:06:44,369 INFO  util.CodeInjectionForTesting (BlockRequestHandlingInjection.java:execute(76)) - s2: Block request from s0
2019-09-24 12:06:44,396 INFO  util.CodeInjectionForTesting (BlockRequestHandlingInjection.java:execute(76)) - s1: Block request from s0
2019-09-24 12:06:44,412 INFO  util.CodeInjectionForTesting (BlockRequestHandlingInjection.java:execute(76)) - s2: Block request from s0
2019-09-24 12:06:44,440 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.rpc.timeout.max = 300ms (default)
2019-09-24 12:06:44,440 INFO  ratis.RaftTestUtil (RaftTestUtil.java:waitForLeader(86)) - printing ALL groups
  s0:  RUNNING    LEADER s0@group-04E6F89F5A1C:t3, leader=s0, voted=s0, raftlog=s0@group-04E6F89F5A1C-SegmentedRaftLog:OPENED:c3,f3,i3, conf=2: [s0:0.0.0.0:34119, s1:0.0.0.0:44382, s2:0.0.0.0:42516], old=null RUNNING
  s1:  RUNNING  FOLLOWER s1@group-04E6F89F5A1C:t3, leader=s0, voted=s0, raftlog=s1@group-04E6F89F5A1C-SegmentedRaftLog:OPENED:c3,f3,i3, conf=2: [s0:0.0.0.0:34119, s1:0.0.0.0:44382, s2:0.0.0.0:42516], old=null RUNNING
  s2:  RUNNING  FOLLOWER s2@group-04E6F89F5A1C:t3, leader=s0, voted=null, raftlog=s2@group-04E6F89F5A1C-SegmentedRaftLog:OPENED:c3,f3,i3, conf=2: [s0:0.0.0.0:34119, s1:0.0.0.0:44382, s2:0.0.0.0:42516], old=null RUNNING
2019-09-24 12:06:44,441 INFO  ratis.RaftTestUtil (RaftTestUtil.java:waitForLeader(101)) - printing ALL groups
  s0:  RUNNING    LEADER s0@group-04E6F89F5A1C:t3, leader=s0, voted=s0, raftlog=s0@group-04E6F89F5A1C-SegmentedRaftLog:OPENED:c3,f3,i3, conf=2: [s0:0.0.0.0:34119, s1:0.0.0.0:44382, s2:0.0.0.0:42516], old=null RUNNING
  s1:  RUNNING  FOLLOWER s1@group-04E6F89F5A1C:t3, leader=s0, voted=s0, raftlog=s1@group-04E6F89F5A1C-SegmentedRaftLog:OPENED:c3,f3,i3, conf=2: [s0:0.0.0.0:34119, s1:0.0.0.0:44382, s2:0.0.0.0:42516], old=null RUNNING
  s2:  RUNNING  FOLLOWER s2@group-04E6F89F5A1C:t3, leader=s0, voted=null, raftlog=s2@group-04E6F89F5A1C-SegmentedRaftLog:OPENED:c3,f3,i3, conf=2: [s0:0.0.0.0:34119, s1:0.0.0.0:44382, s2:0.0.0.0:42516], old=null RUNNING
2019-09-24 12:06:44,441 WARN  ratis.RaftTestUtil (JavaUtils.java:attempt(158)) - FAILED "testChangeLeader-changeLeader", attempt #2/20: java.lang.IllegalStateException: Failed to change leader: newLeader == oldLeader == s0, sleep 100ms and then retry.
java.lang.IllegalStateException: Failed to change leader: newLeader == oldLeader == s0
	at org.apache.ratis.RaftTestUtil.lambda$changeLeader$7(RaftTestUtil.java:365)
	at org.apache.ratis.util.JavaUtils.attempt(JavaUtils.java:152)
	at org.apache.ratis.RaftTestUtil.changeLeader(RaftTestUtil.java:362)
	at org.apache.ratis.server.impl.LeaderElectionTests.testChangeLeader(LeaderElectionTests.java:81)
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.lang.reflect.Method.invoke(Method.java:498)
	at org.junit.runners.model.FrameworkMethod$1.runReflectiveCall(FrameworkMethod.java:50)
	at org.junit.internal.runners.model.ReflectiveCallable.run(ReflectiveCallable.java:12)
	at org.junit.runners.model.FrameworkMethod.invokeExplosively(FrameworkMethod.java:47)
	at org.junit.internal.runners.statements.InvokeMethod.evaluate(InvokeMethod.java:17)
	at org.junit.internal.runners.statements.RunAfters.evaluate(RunAfters.java:27)
	at org.junit.internal.runners.statements.FailOnTimeout$CallableStatement.call(FailOnTimeout.java:298)
	at org.junit.internal.runners.statements.FailOnTimeout$CallableStatement.call(FailOnTimeout.java:292)
	at java.util.concurrent.FutureTask.run(FutureTask.java:266)
	at java.lang.Thread.run(Thread.java:748)
2019-09-24 12:06:44,525 INFO  impl.FollowerState (FollowerState.java:run(108)) - s1@group-04E6F89F5A1C-FollowerState: change to CANDIDATE, lastRpcTime:205ms, electionTimeout:180ms
2019-09-24 12:06:44,526 INFO  impl.RoleInfo (RoleInfo.java:shutdownFollowerState(121)) - s1: shutdown FollowerState
2019-09-24 12:06:44,526 INFO  impl.RaftServerImpl (RaftServerImpl.java:setRole(170)) - s1@group-04E6F89F5A1C: changes role from  FOLLOWER to CANDIDATE at term 3 for changeToCandidate
2019-09-24 12:06:44,527 INFO  impl.RoleInfo (RoleInfo.java:updateAndGet(143)) - s1: start LeaderElection
2019-09-24 12:06:44,528 INFO  impl.RaftServerImpl (ServerState.java:setLeader(254)) - s1@group-04E6F89F5A1C: change Leader from s0 to null at term 3 for initElection
2019-09-24 12:06:44,531 WARN  impl.LogAppender (LogAppender.java:sendAppendEntriesWithRetries(274)) - s0@group-E7D5050F4609->s3-LogAppender: Failed to appendEntries (retry=4321): org.apache.ratis.thirdparty.io.netty.channel.AbstractChannel$AnnotatedConnectException: Connection refused: /0.0.0.0:40479
2019-09-24 12:06:44,542 INFO  impl.LeaderElection (LeaderElection.java:askForVotes(178)) - s1@group-04E6F89F5A1C-LeaderElection16: begin an election at term 4 for 2: [s0:0.0.0.0:34119, s1:0.0.0.0:44382, s2:0.0.0.0:42516], old=null
2019-09-24 12:06:44,542 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.rpc.timeout.max = 300ms (default)
2019-09-24 12:06:44,543 INFO  ratis.RaftTestUtil (RaftTestUtil.java:waitForLeader(86)) - printing ALL groups
  s0:  RUNNING    LEADER s0@group-04E6F89F5A1C:t3, leader=s0, voted=s0, raftlog=s0@group-04E6F89F5A1C-SegmentedRaftLog:OPENED:c3,f3,i3, conf=2: [s0:0.0.0.0:34119, s1:0.0.0.0:44382, s2:0.0.0.0:42516], old=null RUNNING
  s1:  RUNNING CANDIDATE s1@group-04E6F89F5A1C:t4, leader=null, voted=s1, raftlog=s1@group-04E6F89F5A1C-SegmentedRaftLog:OPENED:c3,f3,i3, conf=2: [s0:0.0.0.0:34119, s1:0.0.0.0:44382, s2:0.0.0.0:42516], old=null RUNNING
  s2:  RUNNING  FOLLOWER s2@group-04E6F89F5A1C:t3, leader=s0, voted=null, raftlog=s2@group-04E6F89F5A1C-SegmentedRaftLog:OPENED:c3,f3,i3, conf=2: [s0:0.0.0.0:34119, s1:0.0.0.0:44382, s2:0.0.0.0:42516], old=null RUNNING
2019-09-24 12:06:44,543 DEBUG impl.RaftServerImpl (RaftServerImpl.java:requestVote(743)) - s0@group-04E6F89F5A1C: receive requestVote(s1, group-04E6F89F5A1C, 4, (t:3, i:3))
2019-09-24 12:06:44,543 DEBUG impl.RaftServerImpl (RaftServerImpl.java:requestVote(743)) - s2@group-04E6F89F5A1C: receive requestVote(s1, group-04E6F89F5A1C, 4, (t:3, i:3))
2019-09-24 12:06:44,545 INFO  impl.RaftServerImpl (ServerState.java:setLeader(254)) - s2@group-04E6F89F5A1C: change Leader from s0 to null at term 4 for updateCurrentTerm
2019-09-24 12:06:44,543 INFO  ratis.RaftTestUtil (RaftTestUtil.java:waitForLeader(101)) - printing ALL groups
  s0:  RUNNING    LEADER s0@group-04E6F89F5A1C:t3, leader=s0, voted=s0, raftlog=s0@group-04E6F89F5A1C-SegmentedRaftLog:OPENED:c3,f3,i3, conf=2: [s0:0.0.0.0:34119, s1:0.0.0.0:44382, s2:0.0.0.0:42516], old=null RUNNING
  s1:  RUNNING CANDIDATE s1@group-04E6F89F5A1C:t4, leader=null, voted=s1, raftlog=s1@group-04E6F89F5A1C-SegmentedRaftLog:OPENED:c3,f3,i3, conf=2: [s0:0.0.0.0:34119, s1:0.0.0.0:44382, s2:0.0.0.0:42516], old=null RUNNING
  s2:  RUNNING  FOLLOWER s2@group-04E6F89F5A1C:t3, leader=s0, voted=null, raftlog=s2@group-04E6F89F5A1C-SegmentedRaftLog:OPENED:c3,f3,i3, conf=2: [s0:0.0.0.0:34119, s1:0.0.0.0:44382, s2:0.0.0.0:42516], old=null RUNNING
2019-09-24 12:06:44,545 INFO  impl.RaftServerImpl (RaftServerImpl.java:setRole(170)) - s2@group-04E6F89F5A1C: changes role from  FOLLOWER to FOLLOWER at term 4 for recognizeCandidate:s1
2019-09-24 12:06:44,543 INFO  impl.RaftServerImpl (ServerState.java:setLeader(254)) - s0@group-04E6F89F5A1C: change Leader from s0 to null at term 4 for updateCurrentTerm
2019-09-24 12:06:44,546 INFO  impl.RaftServerImpl (RaftServerImpl.java:setRole(170)) - s0@group-04E6F89F5A1C: changes role from    LEADER to FOLLOWER at term 4 for recognizeCandidate:s1
2019-09-24 12:06:44,546 INFO  impl.RoleInfo (RoleInfo.java:shutdownFollowerState(121)) - s2: shutdown FollowerState
2019-09-24 12:06:44,545 WARN  ratis.RaftTestUtil (JavaUtils.java:attempt(158)) - FAILED "testChangeLeader-changeLeader", attempt #3/20: java.lang.IllegalStateException: Failed to change leader: newLeader == oldLeader == s0, sleep 100ms and then retry.
java.lang.IllegalStateException: Failed to change leader: newLeader == oldLeader == s0
	at org.apache.ratis.RaftTestUtil.lambda$changeLeader$7(RaftTestUtil.java:365)
	at org.apache.ratis.util.JavaUtils.attempt(JavaUtils.java:152)
	at org.apache.ratis.RaftTestUtil.changeLeader(RaftTestUtil.java:362)
	at org.apache.ratis.server.impl.LeaderElectionTests.testChangeLeader(LeaderElectionTests.java:81)
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.lang.reflect.Method.invoke(Method.java:498)
	at org.junit.runners.model.FrameworkMethod$1.runReflectiveCall(FrameworkMethod.java:50)
	at org.junit.internal.runners.model.ReflectiveCallable.run(ReflectiveCallable.java:12)
	at org.junit.runners.model.FrameworkMethod.invokeExplosively(FrameworkMethod.java:47)
	at org.junit.internal.runners.statements.InvokeMethod.evaluate(InvokeMethod.java:17)
	at org.junit.internal.runners.statements.RunAfters.evaluate(RunAfters.java:27)
	at org.junit.internal.runners.statements.FailOnTimeout$CallableStatement.call(FailOnTimeout.java:298)
	at org.junit.internal.runners.statements.FailOnTimeout$CallableStatement.call(FailOnTimeout.java:292)
	at java.util.concurrent.FutureTask.run(FutureTask.java:266)
	at java.lang.Thread.run(Thread.java:748)
2019-09-24 12:06:44,547 INFO  impl.FollowerState (FollowerState.java:run(117)) - s2@group-04E6F89F5A1C-FollowerState was interrupted: java.lang.InterruptedException: sleep interrupted
2019-09-24 12:06:44,547 INFO  impl.RoleInfo (RoleInfo.java:updateAndGet(143)) - s2: start FollowerState
2019-09-24 12:06:44,547 INFO  impl.RoleInfo (RoleInfo.java:shutdownLeaderState(104)) - s0: shutdown LeaderState
2019-09-24 12:06:44,553 INFO  impl.LogAppender (LogAppender.java:run(78)) - s0@group-04E6F89F5A1C->s2-LogAppender-AppenderDaemon was interrupted: java.io.InterruptedIOException: s0->s2#0 sending from s2:0.0.0.0:42516 is interrupted.
2019-09-24 12:06:44,553 INFO  impl.LogAppender (LogAppender.java:run(78)) - s0@group-04E6F89F5A1C->s1-LogAppender-AppenderDaemon was interrupted: java.io.InterruptedIOException: s0->s1#0 sending from s1:0.0.0.0:44382 is interrupted.
2019-09-24 12:06:44,553 INFO  impl.PendingRequests (PendingRequests.java:sendNotLeaderResponses(202)) - s0@group-04E6F89F5A1C-PendingRequests: sendNotLeaderResponses
2019-09-24 12:06:44,556 INFO  impl.RoleInfo (RoleInfo.java:updateAndGet(143)) - s0: start FollowerState
2019-09-24 12:06:44,567 INFO  impl.FollowerState (FollowerState.java:run(108)) - s1@group-9DDC70D1F0F3-FollowerState: change to CANDIDATE, lastRpcTime:275ms, electionTimeout:170ms
2019-09-24 12:06:44,568 INFO  impl.RoleInfo (RoleInfo.java:shutdownFollowerState(121)) - s1: shutdown FollowerState
2019-09-24 12:06:44,568 INFO  impl.RaftServerImpl (RaftServerImpl.java:setRole(170)) - s1@group-9DDC70D1F0F3: changes role from  FOLLOWER to CANDIDATE at term 1 for changeToCandidate
2019-09-24 12:06:44,568 INFO  impl.RoleInfo (RoleInfo.java:updateAndGet(143)) - s1: start LeaderElection
2019-09-24 12:06:44,569 DEBUG impl.RaftServerImpl (RaftServerImpl.java:requestVote(775)) - s2@group-04E6F89F5A1C replies to vote request: s1<-s2#0:OK-t4. Peer's state: s2@group-04E6F89F5A1C:t4, leader=null, voted=s1, raftlog=s2@group-04E6F89F5A1C-SegmentedRaftLog:OPENED:c3,f3,i3, conf=2: [s0:0.0.0.0:34119, s1:0.0.0.0:44382, s2:0.0.0.0:42516], old=null
2019-09-24 12:06:44,569 INFO  impl.RaftServerImpl (ServerState.java:setLeader(254)) - s1@group-9DDC70D1F0F3: change Leader from s0 to null at term 1 for initElection
2019-09-24 12:06:44,569 DEBUG impl.RaftServerImpl (RaftServerImpl.java:requestVote(775)) - s0@group-04E6F89F5A1C replies to vote request: s1<-s0#0:FAIL-t4. Peer's state: s0@group-04E6F89F5A1C:t4, leader=null, voted=null, raftlog=s0@group-04E6F89F5A1C-SegmentedRaftLog:OPENED:c3,f3,i3, conf=2: [s0:0.0.0.0:34119, s1:0.0.0.0:44382, s2:0.0.0.0:42516], old=null
2019-09-24 12:06:44,570 INFO  impl.LeaderElection (LeaderElection.java:logAndReturn(56)) - s1@group-04E6F89F5A1C-LeaderElection16: Election PASSED; received 1 response(s) [s1<-s2#0:OK-t4] and 0 exception(s); s1@group-04E6F89F5A1C:t4, leader=null, voted=s1, raftlog=s1@group-04E6F89F5A1C-SegmentedRaftLog:OPENED:c3,f3,i3, conf=2: [s0:0.0.0.0:34119, s1:0.0.0.0:44382, s2:0.0.0.0:42516], old=null
2019-09-24 12:06:44,570 INFO  impl.RoleInfo (RoleInfo.java:shutdownLeaderElection(134)) - s1: shutdown LeaderElection
2019-09-24 12:06:44,571 INFO  impl.FollowerState (FollowerState.java:run(108)) - s2@group-9DDC70D1F0F3-FollowerState: change to CANDIDATE, lastRpcTime:277ms, electionTimeout:259ms
2019-09-24 12:06:44,574 INFO  impl.RaftServerImpl (RaftServerImpl.java:setRole(170)) - s1@group-04E6F89F5A1C: changes role from CANDIDATE to LEADER at term 4 for changeToLeader
2019-09-24 12:06:44,574 INFO  impl.RoleInfo (RoleInfo.java:shutdownFollowerState(121)) - s2: shutdown FollowerState
2019-09-24 12:06:44,574 INFO  impl.RaftServerImpl (ServerState.java:setLeader(254)) - s1@group-04E6F89F5A1C: change Leader from null to s1 at term 4 for becomeLeader, leader elected after 46ms
2019-09-24 12:06:44,575 INFO  impl.RaftServerImpl (RaftServerImpl.java:setRole(170)) - s2@group-9DDC70D1F0F3: changes role from  FOLLOWER to CANDIDATE at term 1 for changeToCandidate
2019-09-24 12:06:44,575 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.staging.catchup.gap = 1000 (default)
2019-09-24 12:06:44,575 INFO  impl.RoleInfo (RoleInfo.java:updateAndGet(143)) - s2: start LeaderElection
2019-09-24 12:06:44,575 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.rpc.sleep.time = 25ms (default)
2019-09-24 12:06:44,577 INFO  impl.RaftServerImpl (ServerState.java:setLeader(254)) - s2@group-9DDC70D1F0F3: change Leader from s0 to null at term 1 for initElection
2019-09-24 12:06:44,578 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.write.element-limit = 4096 (default)
2019-09-24 12:06:44,578 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.watch.timeout = 10s (default)
2019-09-24 12:06:44,579 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.watch.timeout.denomination = 1s (default)
2019-09-24 12:06:44,579 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.watch.element-limit = 65536 (default)
2019-09-24 12:06:44,580 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.log.appender.snapshot.chunk.size.max = 16MB (=16777216) (default)
2019-09-24 12:06:44,580 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.log.appender.buffer.byte-limit = 4MB (=4194304) (default)
2019-09-24 12:06:44,580 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.log.appender.buffer.element-limit = 0 (default)
2019-09-24 12:06:44,580 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.log.appender.snapshot.chunk.size.max = 16MB (=16777216) (default)
2019-09-24 12:06:44,581 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.log.appender.buffer.byte-limit = 4MB (=4194304) (default)
2019-09-24 12:06:44,581 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.log.appender.buffer.element-limit = 0 (default)
2019-09-24 12:06:44,582 INFO  impl.RoleInfo (RoleInfo.java:updateAndGet(143)) - s1: start LeaderState
2019-09-24 12:06:44,582 INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:rollLogSegment(385)) - s1@group-04E6F89F5A1C-SegmentedRaftLogWorker: Rolling segment log-2_3 to index:3
2019-09-24 12:06:44,582 DEBUG segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:addIOTask(251)) - s1@group-04E6F89F5A1C-SegmentedRaftLogWorker adds IO task FinalizeLogSegment:3: startIndex=2 endIndex=3
2019-09-24 12:06:44,583 DEBUG segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:addIOTask(251)) - s1@group-04E6F89F5A1C-SegmentedRaftLogWorker adds IO task StartLogSegment:4
2019-09-24 12:06:44,583 DEBUG segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:addIOTask(251)) - s1@group-04E6F89F5A1C-SegmentedRaftLogWorker adds IO task WriteLog:4: (t:4, i:4), CONFIGURATIONENTRY
2019-09-24 12:06:44,584 INFO  impl.RaftServerImpl (ServerState.java:setRaftConf(355)) - s1@group-04E6F89F5A1C: set configuration 4: [s0:0.0.0.0:34119, s1:0.0.0.0:44382, s2:0.0.0.0:42516], old=null at 4
2019-09-24 12:06:44,585 INFO  impl.RaftServerImpl (ServerState.java:setLeader(254)) - s0@group-04E6F89F5A1C: change Leader from null to s1 at term 4 for appendEntries, leader elected after 41ms
2019-09-24 12:06:44,585 INFO  impl.RaftServerImpl (ServerState.java:setLeader(254)) - s2@group-04E6F89F5A1C: change Leader from null to s1 at term 4 for appendEntries, leader elected after 40ms
2019-09-24 12:06:44,587 TRACE util.FileUtils (LogUtils.java:runAndLog(61)) - Successfully ran Files.move /workdir/ratis-test/target/test/data/aaa4fccd/MiniRaftClusterWithNetty55a7148e/s1/611a84d9-4fe5-4f71-a301-04e6f89f5a1c/current/log_inprogress_2 to /workdir/ratis-test/target/test/data/aaa4fccd/MiniRaftClusterWithNetty55a7148e/s1/611a84d9-4fe5-4f71-a301-04e6f89f5a1c/current/log_2-3
2019-09-24 12:06:44,587 INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:execute(526)) - s1@group-04E6F89F5A1C-SegmentedRaftLogWorker: Rolled log segment from /workdir/ratis-test/target/test/data/aaa4fccd/MiniRaftClusterWithNetty55a7148e/s1/611a84d9-4fe5-4f71-a301-04e6f89f5a1c/current/log_inprogress_2 to /workdir/ratis-test/target/test/data/aaa4fccd/MiniRaftClusterWithNetty55a7148e/s1/611a84d9-4fe5-4f71-a301-04e6f89f5a1c/current/log_2-3
2019-09-24 12:06:44,587 DEBUG impl.RaftServerImpl (RaftServerImpl.java:logAppendEntries(850)) - s0@group-04E6F89F5A1C: receive appendEntries(s1, 4, (t:3, i:3), 3, false, commits[s1:c3, s0:c3, s2:c3], entries: (t:4, i:4), CONFIGURATIONENTRY
2019-09-24 12:06:44,587 DEBUG impl.RaftServerImpl (RaftServerImpl.java:logAppendEntries(850)) - s2@group-04E6F89F5A1C: receive appendEntries(s1, 4, (t:3, i:3), 3, false, commits[s1:c3, s0:c3, s2:c3], entries: (t:4, i:4), CONFIGURATIONENTRY
2019-09-24 12:06:44,587 TRACE segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:lambda$new$1(133)) - s1@group-04E6F89F5A1C-SegmentedRaftLogWorker: flushIndex: updateIncreasingly 3 -> 3
2019-09-24 12:06:44,587 INFO  impl.RaftServerImpl (ServerState.java:setRaftConf(355)) - s0@group-04E6F89F5A1C: set configuration 4: [s0:0.0.0.0:34119, s1:0.0.0.0:44382, s2:0.0.0.0:42516], old=null at 4
2019-09-24 12:06:44,588 INFO  impl.RaftServerImpl (ServerState.java:setRaftConf(355)) - s2@group-04E6F89F5A1C: set configuration 4: [s0:0.0.0.0:34119, s1:0.0.0.0:44382, s2:0.0.0.0:42516], old=null at 4
2019-09-24 12:06:44,588 INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:rollLogSegment(385)) - s0@group-04E6F89F5A1C-SegmentedRaftLogWorker: Rolling segment log-2_3 to index:3
2019-09-24 12:06:44,589 INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:rollLogSegment(385)) - s2@group-04E6F89F5A1C-SegmentedRaftLogWorker: Rolling segment log-2_3 to index:3
2019-09-24 12:06:44,589 DEBUG segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:addIOTask(251)) - s0@group-04E6F89F5A1C-SegmentedRaftLogWorker adds IO task FinalizeLogSegment:3: startIndex=2 endIndex=3
2019-09-24 12:06:44,589 DEBUG segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:addIOTask(251)) - s2@group-04E6F89F5A1C-SegmentedRaftLogWorker adds IO task FinalizeLogSegment:3: startIndex=2 endIndex=3
2019-09-24 12:06:44,589 DEBUG segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:addIOTask(251)) - s0@group-04E6F89F5A1C-SegmentedRaftLogWorker adds IO task StartLogSegment:4
2019-09-24 12:06:44,590 DEBUG segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:addIOTask(251)) - s2@group-04E6F89F5A1C-SegmentedRaftLogWorker adds IO task StartLogSegment:4
2019-09-24 12:06:44,590 DEBUG segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:addIOTask(251)) - s0@group-04E6F89F5A1C-SegmentedRaftLogWorker adds IO task WriteLog:4: (t:4, i:4), CONFIGURATIONENTRY
2019-09-24 12:06:44,591 DEBUG segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:addIOTask(251)) - s2@group-04E6F89F5A1C-SegmentedRaftLogWorker adds IO task WriteLog:4: (t:4, i:4), CONFIGURATIONENTRY
2019-09-24 12:06:44,592 TRACE util.FileUtils (LogUtils.java:runAndLog(61)) - Successfully ran Files.move /workdir/ratis-test/target/test/data/aaa4fccd/MiniRaftClusterWithNetty55a7148e/s0/611a84d9-4fe5-4f71-a301-04e6f89f5a1c/current/log_inprogress_2 to /workdir/ratis-test/target/test/data/aaa4fccd/MiniRaftClusterWithNetty55a7148e/s0/611a84d9-4fe5-4f71-a301-04e6f89f5a1c/current/log_2-3
2019-09-24 12:06:44,592 TRACE util.FileUtils (LogUtils.java:runAndLog(61)) - Successfully ran Files.move /workdir/ratis-test/target/test/data/aaa4fccd/MiniRaftClusterWithNetty55a7148e/s2/611a84d9-4fe5-4f71-a301-04e6f89f5a1c/current/log_inprogress_2 to /workdir/ratis-test/target/test/data/aaa4fccd/MiniRaftClusterWithNetty55a7148e/s2/611a84d9-4fe5-4f71-a301-04e6f89f5a1c/current/log_2-3
2019-09-24 12:06:44,592 INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:execute(526)) - s0@group-04E6F89F5A1C-SegmentedRaftLogWorker: Rolled log segment from /workdir/ratis-test/target/test/data/aaa4fccd/MiniRaftClusterWithNetty55a7148e/s0/611a84d9-4fe5-4f71-a301-04e6f89f5a1c/current/log_inprogress_2 to /workdir/ratis-test/target/test/data/aaa4fccd/MiniRaftClusterWithNetty55a7148e/s0/611a84d9-4fe5-4f71-a301-04e6f89f5a1c/current/log_2-3
2019-09-24 12:06:44,592 INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:execute(526)) - s2@group-04E6F89F5A1C-SegmentedRaftLogWorker: Rolled log segment from /workdir/ratis-test/target/test/data/aaa4fccd/MiniRaftClusterWithNetty55a7148e/s2/611a84d9-4fe5-4f71-a301-04e6f89f5a1c/current/log_inprogress_2 to /workdir/ratis-test/target/test/data/aaa4fccd/MiniRaftClusterWithNetty55a7148e/s2/611a84d9-4fe5-4f71-a301-04e6f89f5a1c/current/log_2-3
2019-09-24 12:06:44,592 TRACE segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:lambda$new$1(133)) - s0@group-04E6F89F5A1C-SegmentedRaftLogWorker: flushIndex: updateIncreasingly 3 -> 3
2019-09-24 12:06:44,592 TRACE segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:lambda$new$1(133)) - s2@group-04E6F89F5A1C-SegmentedRaftLogWorker: flushIndex: updateIncreasingly 3 -> 3
2019-09-24 12:06:44,608 INFO  impl.LeaderElection (LeaderElection.java:askForVotes(178)) - s2@group-9DDC70D1F0F3-LeaderElection18: begin an election at term 2 for 0: [s0:0.0.0.0:37243, s1:0.0.0.0:38994, s2:0.0.0.0:36346], old=null
2019-09-24 12:06:44,608 INFO  impl.LeaderElection (LeaderElection.java:askForVotes(178)) - s1@group-9DDC70D1F0F3-LeaderElection17: begin an election at term 2 for 0: [s0:0.0.0.0:37243, s1:0.0.0.0:38994, s2:0.0.0.0:36346], old=null
2019-09-24 12:06:44,611 INFO  logging.LoggingHandler (AbstractInternalLogger.java:log(150)) - [id: 0x6fe5f35b, L:/0.0.0.0:37243] READ: [id: 0xc137ba51, L:/192.168.34.44:37243 - R:/192.168.34.44:56712]
2019-09-24 12:06:44,611 INFO  logging.LoggingHandler (AbstractInternalLogger.java:log(150)) - [id: 0xfe22e7c1, L:/0.0.0.0:38994] READ: [id: 0x0a7f79bc, L:/192.168.34.44:38994 - R:/192.168.34.44:46838]
2019-09-24 12:06:44,611 INFO  logging.LoggingHandler (AbstractInternalLogger.java:log(150)) - [id: 0xbdded2ca, L:/0.0.0.0:36346] READ: [id: 0xe596f182, L:/192.168.34.44:36346 - R:/192.168.34.44:60702]
2019-09-24 12:06:44,611 INFO  logging.LoggingHandler (AbstractInternalLogger.java:log(150)) - [id: 0x6fe5f35b, L:/0.0.0.0:37243] READ COMPLETE
2019-09-24 12:06:44,612 INFO  logging.LoggingHandler (AbstractInternalLogger.java:log(150)) - [id: 0xfe22e7c1, L:/0.0.0.0:38994] READ COMPLETE
2019-09-24 12:06:44,612 INFO  logging.LoggingHandler (AbstractInternalLogger.java:log(150)) - [id: 0xbdded2ca, L:/0.0.0.0:36346] READ COMPLETE
2019-09-24 12:06:44,612 INFO  logging.LoggingHandler (AbstractInternalLogger.java:log(150)) - [id: 0x6fe5f35b, L:/0.0.0.0:37243] READ: [id: 0x155dfe89, L:/192.168.34.44:37243 - R:/192.168.34.44:56714]
2019-09-24 12:06:44,613 INFO  logging.LoggingHandler (AbstractInternalLogger.java:log(150)) - [id: 0x6fe5f35b, L:/0.0.0.0:37243] READ COMPLETE
2019-09-24 12:06:44,613 DEBUG impl.RaftServerImpl (RaftServerImpl.java:requestVote(743)) - s1@group-9DDC70D1F0F3: receive requestVote(s2, group-9DDC70D1F0F3, 2, (t:1, i:0))
2019-09-24 12:06:44,613 DEBUG impl.RaftServerImpl (RaftServerImpl.java:requestVote(743)) - s0@group-9DDC70D1F0F3: receive requestVote(s1, group-9DDC70D1F0F3, 2, (t:1, i:0))
2019-09-24 12:06:44,614 DEBUG impl.RaftServerImpl (RaftServerImpl.java:requestVote(743)) - s0@group-9DDC70D1F0F3: receive requestVote(s2, group-9DDC70D1F0F3, 2, (t:1, i:0))
2019-09-24 12:06:44,614 DEBUG impl.RaftServerImpl (RaftServerImpl.java:requestVote(743)) - s2@group-9DDC70D1F0F3: receive requestVote(s1, group-9DDC70D1F0F3, 2, (t:1, i:0))
2019-09-24 12:06:44,614 DEBUG impl.RaftServerImpl (RaftServerImpl.java:requestVote(775)) - s1@group-9DDC70D1F0F3 replies to vote request: s2<-s1#0:FAIL-t2. Peer's state: s1@group-9DDC70D1F0F3:t2, leader=null, voted=s1, raftlog=s1@group-9DDC70D1F0F3-SegmentedRaftLog:OPENED:c0,f0,i0, conf=0: [s0:0.0.0.0:37243, s1:0.0.0.0:38994, s2:0.0.0.0:36346], old=null
2019-09-24 12:06:44,614 DEBUG impl.RaftServerImpl (RaftServerImpl.java:requestVote(775)) - s2@group-9DDC70D1F0F3 replies to vote request: s1<-s2#0:FAIL-t2. Peer's state: s2@group-9DDC70D1F0F3:t2, leader=null, voted=s2, raftlog=s2@group-9DDC70D1F0F3-SegmentedRaftLog:OPENED:c0,f0,i0, conf=0: [s0:0.0.0.0:37243, s1:0.0.0.0:38994, s2:0.0.0.0:36346], old=null
2019-09-24 12:06:44,614 INFO  impl.RaftServerImpl (ServerState.java:setLeader(254)) - s0@group-9DDC70D1F0F3: change Leader from s0 to null at term 2 for updateCurrentTerm
2019-09-24 12:06:44,618 INFO  impl.RaftServerImpl (RaftServerImpl.java:setRole(170)) - s0@group-9DDC70D1F0F3: changes role from    LEADER to FOLLOWER at term 2 for recognizeCandidate:s1
2019-09-24 12:06:44,618 INFO  impl.RoleInfo (RoleInfo.java:shutdownLeaderState(104)) - s0: shutdown LeaderState
2019-09-24 12:06:44,619 INFO  util.CodeInjectionForTesting (BlockRequestHandlingInjection.java:execute(82)) - s1: unBlock request from s2
2019-09-24 12:06:44,619 INFO  util.CodeInjectionForTesting (BlockRequestHandlingInjection.java:execute(82)) - s0: unBlock request from s2
2019-09-24 12:06:44,620 DEBUG impl.RaftServerImpl (RaftServerImpl.java:logAppendEntries(850)) - s1@group-04E6F89F5A1C: receive appendEntries(s2, 2, (t:2, i:1), 1, false, commits[s2:c1, s0:c-1, s1:c0], entries: (t:2, i:2), METADATAENTRY(c1)
2019-09-24 12:06:44,620 INFO  impl.PendingRequests (PendingRequests.java:sendNotLeaderResponses(202)) - s0@group-9DDC70D1F0F3-PendingRequests: sendNotLeaderResponses
2019-09-24 12:06:44,620 INFO  impl.LogAppender (LogAppender.java:run(78)) - s0@group-9DDC70D1F0F3->s1-LogAppender-AppenderDaemon was interrupted: java.io.InterruptedIOException: s0->s1#0 sending from s1:0.0.0.0:38994 is interrupted.
2019-09-24 12:06:44,621 INFO  impl.RoleInfo (RoleInfo.java:updateAndGet(143)) - s0: start FollowerState
2019-09-24 12:06:44,620 INFO  impl.LogAppender (LogAppender.java:run(78)) - s0@group-9DDC70D1F0F3->s2-LogAppender-AppenderDaemon was interrupted: java.io.InterruptedIOException: s0->s2#0 sending from s2:0.0.0.0:36346 is interrupted.
2019-09-24 12:06:44,620 DEBUG impl.RaftServerImpl (RaftServerImpl.java:appendEntriesAsync(906)) - s1@group-04E6F89F5A1C: Not recognize s2 (term=2) as leader, state: s1@group-04E6F89F5A1C:t4, leader=s1, voted=s1, raftlog=s1@group-04E6F89F5A1C-SegmentedRaftLog:OPENED:c3,f3,i4, conf=4: [s0:0.0.0.0:34119, s1:0.0.0.0:44382, s2:0.0.0.0:42516], old=null reply: s2<-s1#0:FAIL,NOT_LEADER,nextIndex:5,term:4,followerCommit:3
2019-09-24 12:06:44,620 DEBUG impl.RaftServerImpl (RaftServerImpl.java:logAppendEntries(850)) - s0@group-04E6F89F5A1C: receive appendEntries(s2, 2, (t:2, i:1), 1, false, commits[s2:c1, s0:c-1, s1:c0], entries: (t:2, i:2), METADATAENTRY(c1)
2019-09-24 12:06:44,622 DEBUG impl.RaftServerImpl (RaftServerImpl.java:appendEntriesAsync(906)) - s0@group-04E6F89F5A1C: Not recognize s2 (term=2) as leader, state: s0@group-04E6F89F5A1C:t4, leader=s1, voted=null, raftlog=s0@group-04E6F89F5A1C-SegmentedRaftLog:OPENED:c3,f3,i4, conf=4: [s0:0.0.0.0:34119, s1:0.0.0.0:44382, s2:0.0.0.0:42516], old=null reply: s2<-s0#0:FAIL,NOT_LEADER,nextIndex:5,term:4,followerCommit:3
2019-09-24 12:06:44,648 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.rpc.timeout.max = 300ms (default)
2019-09-24 12:06:44,649 INFO  ratis.RaftTestUtil (RaftTestUtil.java:waitForLeader(86)) - printing ALL groups
  s0:  RUNNING  FOLLOWER s0@group-04E6F89F5A1C:t4, leader=s1, voted=null, raftlog=s0@group-04E6F89F5A1C-SegmentedRaftLog:OPENED:c3,f3,i4, conf=4: [s0:0.0.0.0:34119, s1:0.0.0.0:44382, s2:0.0.0.0:42516], old=null RUNNING
  s1:  RUNNING    LEADER s1@group-04E6F89F5A1C:t4, leader=s1, voted=s1, raftlog=s1@group-04E6F89F5A1C-SegmentedRaftLog:OPENED:c3,f3,i4, conf=4: [s0:0.0.0.0:34119, s1:0.0.0.0:44382, s2:0.0.0.0:42516], old=null RUNNING
  s2:  RUNNING  FOLLOWER s2@group-04E6F89F5A1C:t4, leader=s1, voted=s1, raftlog=s2@group-04E6F89F5A1C-SegmentedRaftLog:OPENED:c3,f3,i4, conf=4: [s0:0.0.0.0:34119, s1:0.0.0.0:44382, s2:0.0.0.0:42516], old=null RUNNING
2019-09-24 12:06:44,649 INFO  ratis.RaftTestUtil (RaftTestUtil.java:waitForLeader(101)) - printing ALL groups
  s0:  RUNNING  FOLLOWER s0@group-04E6F89F5A1C:t4, leader=s1, voted=null, raftlog=s0@group-04E6F89F5A1C-SegmentedRaftLog:OPENED:c3,f3,i4, conf=4: [s0:0.0.0.0:34119, s1:0.0.0.0:44382, s2:0.0.0.0:42516], old=null RUNNING
  s1:  RUNNING    LEADER s1@group-04E6F89F5A1C:t4, leader=s1, voted=s1, raftlog=s1@group-04E6F89F5A1C-SegmentedRaftLog:OPENED:c3,f3,i4, conf=4: [s0:0.0.0.0:34119, s1:0.0.0.0:44382, s2:0.0.0.0:42516], old=null RUNNING
  s2:  RUNNING  FOLLOWER s2@group-04E6F89F5A1C:t4, leader=s1, voted=s1, raftlog=s2@group-04E6F89F5A1C-SegmentedRaftLog:OPENED:c3,f3,i4, conf=4: [s0:0.0.0.0:34119, s1:0.0.0.0:44382, s2:0.0.0.0:42516], old=null RUNNING
2019-09-24 12:06:44,649 INFO  ratis.RaftTestUtil (RaftTestUtil.java:lambda$changeLeader$7(367)) - Changed leader from s0 to s1
2019-09-24 12:06:44,649 INFO  util.CodeInjectionForTesting (BlockRequestHandlingInjection.java:unblockRequestor(53)) - UnBlock requestor s0
2019-09-24 12:06:44,650 INFO  util.CodeInjectionForTesting (BlockRequestHandlingInjection.java:blockRequestor(48)) - Block requestor s1
2019-09-24 12:06:44,650 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.rpc.timeout.max = 300ms (default)
2019-09-24 12:06:44,650 INFO  ratis.RaftTestUtil (RaftTestUtil.java:waitForLeader(86)) - printing ALL groups
  s0:  RUNNING  FOLLOWER s0@group-04E6F89F5A1C:t4, leader=s1, voted=null, raftlog=s0@group-04E6F89F5A1C-SegmentedRaftLog:OPENED:c3,f3,i4, conf=4: [s0:0.0.0.0:34119, s1:0.0.0.0:44382, s2:0.0.0.0:42516], old=null RUNNING
  s1:  RUNNING    LEADER s1@group-04E6F89F5A1C:t4, leader=s1, voted=s1, raftlog=s1@group-04E6F89F5A1C-SegmentedRaftLog:OPENED:c3,f3,i4, conf=4: [s0:0.0.0.0:34119, s1:0.0.0.0:44382, s2:0.0.0.0:42516], old=null RUNNING
  s2:  RUNNING  FOLLOWER s2@group-04E6F89F5A1C:t4, leader=s1, voted=s1, raftlog=s2@group-04E6F89F5A1C-SegmentedRaftLog:OPENED:c3,f3,i4, conf=4: [s0:0.0.0.0:34119, s1:0.0.0.0:44382, s2:0.0.0.0:42516], old=null RUNNING
2019-09-24 12:06:44,651 INFO  ratis.RaftTestUtil (RaftTestUtil.java:waitForLeader(101)) - printing ALL groups
  s0:  RUNNING  FOLLOWER s0@group-04E6F89F5A1C:t4, leader=s1, voted=null, raftlog=s0@group-04E6F89F5A1C-SegmentedRaftLog:OPENED:c3,f3,i4, conf=4: [s0:0.0.0.0:34119, s1:0.0.0.0:44382, s2:0.0.0.0:42516], old=null RUNNING
  s1:  RUNNING    LEADER s1@group-04E6F89F5A1C:t4, leader=s1, voted=s1, raftlog=s1@group-04E6F89F5A1C-SegmentedRaftLog:OPENED:c3,f3,i4, conf=4: [s0:0.0.0.0:34119, s1:0.0.0.0:44382, s2:0.0.0.0:42516], old=null RUNNING
  s2:  RUNNING  FOLLOWER s2@group-04E6F89F5A1C:t4, leader=s1, voted=s1, raftlog=s2@group-04E6F89F5A1C-SegmentedRaftLog:OPENED:c3,f3,i4, conf=4: [s0:0.0.0.0:34119, s1:0.0.0.0:44382, s2:0.0.0.0:42516], old=null RUNNING
2019-09-24 12:06:44,651 WARN  ratis.RaftTestUtil (JavaUtils.java:attempt(158)) - FAILED "testChangeLeader-changeLeader", attempt #1/20: java.lang.IllegalStateException: Failed to change leader: newLeader == oldLeader == s1, sleep 100ms and then retry.
java.lang.IllegalStateException: Failed to change leader: newLeader == oldLeader == s1
	at org.apache.ratis.RaftTestUtil.lambda$changeLeader$7(RaftTestUtil.java:365)
	at org.apache.ratis.util.JavaUtils.attempt(JavaUtils.java:152)
	at org.apache.ratis.RaftTestUtil.changeLeader(RaftTestUtil.java:362)
	at org.apache.ratis.server.impl.LeaderElectionTests.testChangeLeader(LeaderElectionTests.java:81)
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.lang.reflect.Method.invoke(Method.java:498)
	at org.junit.runners.model.FrameworkMethod$1.runReflectiveCall(FrameworkMethod.java:50)
	at org.junit.internal.runners.model.ReflectiveCallable.run(ReflectiveCallable.java:12)
	at org.junit.runners.model.FrameworkMethod.invokeExplosively(FrameworkMethod.java:47)
	at org.junit.internal.runners.statements.InvokeMethod.evaluate(InvokeMethod.java:17)
	at org.junit.internal.runners.statements.RunAfters.evaluate(RunAfters.java:27)
	at org.junit.internal.runners.statements.FailOnTimeout$CallableStatement.call(FailOnTimeout.java:298)
	at org.junit.internal.runners.statements.FailOnTimeout$CallableStatement.call(FailOnTimeout.java:292)
	at java.util.concurrent.FutureTask.run(FutureTask.java:266)
	at java.lang.Thread.run(Thread.java:748)
2019-09-24 12:06:44,668 INFO  util.CodeInjectionForTesting (BlockRequestHandlingInjection.java:execute(82)) - s1: unBlock request from s0
2019-09-24 12:06:44,669 INFO  util.CodeInjectionForTesting (BlockRequestHandlingInjection.java:execute(82)) - s2: unBlock request from s0
2019-09-24 12:06:44,669 INFO  util.CodeInjectionForTesting (BlockRequestHandlingInjection.java:execute(82)) - s1: unBlock request from s0
2019-09-24 12:06:44,669 INFO  util.CodeInjectionForTesting (BlockRequestHandlingInjection.java:execute(82)) - s2: unBlock request from s0
2019-09-24 12:06:44,669 DEBUG impl.RaftServerImpl (RaftServerImpl.java:appendEntriesAsync(906)) - s1@group-9DDC70D1F0F3: Not recognize s0 (term=1) as leader, state: s1@group-9DDC70D1F0F3:t2, leader=null, voted=s1, raftlog=s1@group-9DDC70D1F0F3-SegmentedRaftLog:OPENED:c0,f0,i0, conf=0: [s0:0.0.0.0:37243, s1:0.0.0.0:38994, s2:0.0.0.0:36346], old=null reply: s0<-s1#0:FAIL,NOT_LEADER,nextIndex:1,term:2,followerCommit:0
2019-09-24 12:06:44,671 DEBUG impl.RaftServerImpl (RaftServerImpl.java:appendEntriesAsync(906)) - s2@group-9DDC70D1F0F3: Not recognize s0 (term=1) as leader, state: s2@group-9DDC70D1F0F3:t2, leader=null, voted=s2, raftlog=s2@group-9DDC70D1F0F3-SegmentedRaftLog:OPENED:c0,f0,i0, conf=0: [s0:0.0.0.0:37243, s1:0.0.0.0:38994, s2:0.0.0.0:36346], old=null reply: s0<-s2#0:FAIL,NOT_LEADER,nextIndex:1,term:2,followerCommit:0
2019-09-24 12:06:44,695 INFO  impl.FollowerState (FollowerState.java:run(108)) - s4@group-E7D5050F4609-FollowerState: change to CANDIDATE, lastRpcTime:422ms, electionTimeout:276ms
2019-09-24 12:06:44,695 INFO  impl.RoleInfo (RoleInfo.java:shutdownFollowerState(121)) - s4: shutdown FollowerState
2019-09-24 12:06:44,695 INFO  impl.RaftServerImpl (RaftServerImpl.java:setRole(170)) - s4@group-E7D5050F4609: changes role from  FOLLOWER to CANDIDATE at term 2 for changeToCandidate
2019-09-24 12:06:44,695 INFO  impl.RoleInfo (RoleInfo.java:updateAndGet(143)) - s4: start LeaderElection
2019-09-24 12:06:44,696 INFO  impl.RaftServerImpl (ServerState.java:setLeader(254)) - s4@group-E7D5050F4609: change Leader from s0 to null at term 2 for initElection
2019-09-24 12:06:44,696 INFO  util.CodeInjectionForTesting (BlockRequestHandlingInjection.java:execute(82)) - s1: unBlock request from s0
2019-09-24 12:06:44,697 DEBUG impl.RaftServerImpl (RaftServerImpl.java:appendEntriesAsync(906)) - s1@group-04E6F89F5A1C: Not recognize s0 (term=3) as leader, state: s1@group-04E6F89F5A1C:t4, leader=s1, voted=s1, raftlog=s1@group-04E6F89F5A1C-SegmentedRaftLog:OPENED:c3,f3,i4, conf=4: [s0:0.0.0.0:34119, s1:0.0.0.0:44382, s2:0.0.0.0:42516], old=null reply: s0<-s1#0:FAIL,NOT_LEADER,nextIndex:5,term:4,followerCommit:3
2019-09-24 12:06:44,712 INFO  util.CodeInjectionForTesting (BlockRequestHandlingInjection.java:execute(82)) - s2: unBlock request from s0
2019-09-24 12:06:44,713 DEBUG impl.RaftServerImpl (RaftServerImpl.java:appendEntriesAsync(906)) - s2@group-04E6F89F5A1C: Not recognize s0 (term=3) as leader, state: s2@group-04E6F89F5A1C:t4, leader=s1, voted=s1, raftlog=s2@group-04E6F89F5A1C-SegmentedRaftLog:OPENED:c3,f3,i4, conf=4: [s0:0.0.0.0:34119, s1:0.0.0.0:44382, s2:0.0.0.0:42516], old=null reply: s0<-s2#0:FAIL,NOT_LEADER,nextIndex:5,term:4,followerCommit:3
2019-09-24 12:06:44,752 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.rpc.timeout.max = 300ms (default)
2019-09-24 12:06:44,752 INFO  ratis.RaftTestUtil (RaftTestUtil.java:waitForLeader(86)) - printing ALL groups
  s0:  RUNNING  FOLLOWER s0@group-04E6F89F5A1C:t4, leader=s1, voted=null, raftlog=s0@group-04E6F89F5A1C-SegmentedRaftLog:OPENED:c3,f3,i4, conf=4: [s0:0.0.0.0:34119, s1:0.0.0.0:44382, s2:0.0.0.0:42516], old=null RUNNING
  s1:  RUNNING    LEADER s1@group-04E6F89F5A1C:t4, leader=s1, voted=s1, raftlog=s1@group-04E6F89F5A1C-SegmentedRaftLog:OPENED:c3,f3,i4, conf=4: [s0:0.0.0.0:34119, s1:0.0.0.0:44382, s2:0.0.0.0:42516], old=null RUNNING
  s2:  RUNNING  FOLLOWER s2@group-04E6F89F5A1C:t4, leader=s1, voted=s1, raftlog=s2@group-04E6F89F5A1C-SegmentedRaftLog:OPENED:c3,f3,i4, conf=4: [s0:0.0.0.0:34119, s1:0.0.0.0:44382, s2:0.0.0.0:42516], old=null RUNNING
2019-09-24 12:06:44,753 INFO  ratis.RaftTestUtil (RaftTestUtil.java:waitForLeader(101)) - printing ALL groups
  s0:  RUNNING  FOLLOWER s0@group-04E6F89F5A1C:t4, leader=s1, voted=null, raftlog=s0@group-04E6F89F5A1C-SegmentedRaftLog:OPENED:c3,f3,i4, conf=4: [s0:0.0.0.0:34119, s1:0.0.0.0:44382, s2:0.0.0.0:42516], old=null RUNNING
  s1:  RUNNING    LEADER s1@group-04E6F89F5A1C:t4, leader=s1, voted=s1, raftlog=s1@group-04E6F89F5A1C-SegmentedRaftLog:OPENED:c3,f3,i4, conf=4: [s0:0.0.0.0:34119, s1:0.0.0.0:44382, s2:0.0.0.0:42516], old=null RUNNING
  s2:  RUNNING  FOLLOWER s2@group-04E6F89F5A1C:t4, leader=s1, voted=s1, raftlog=s2@group-04E6F89F5A1C-SegmentedRaftLog:OPENED:c3,f3,i4, conf=4: [s0:0.0.0.0:34119, s1:0.0.0.0:44382, s2:0.0.0.0:42516], old=null RUNNING
2019-09-24 12:06:44,753 WARN  ratis.RaftTestUtil (JavaUtils.java:attempt(158)) - FAILED "testChangeLeader-changeLeader", attempt #2/20: java.lang.IllegalStateException: Failed to change leader: newLeader == oldLeader == s1, sleep 100ms and then retry.
java.lang.IllegalStateException: Failed to change leader: newLeader == oldLeader == s1
	at org.apache.ratis.RaftTestUtil.lambda$changeLeader$7(RaftTestUtil.java:365)
	at org.apache.ratis.util.JavaUtils.attempt(JavaUtils.java:152)
	at org.apache.ratis.RaftTestUtil.changeLeader(RaftTestUtil.java:362)
	at org.apache.ratis.server.impl.LeaderElectionTests.testChangeLeader(LeaderElectionTests.java:81)
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.lang.reflect.Method.invoke(Method.java:498)
	at org.junit.runners.model.FrameworkMethod$1.runReflectiveCall(FrameworkMethod.java:50)
	at org.junit.internal.runners.model.ReflectiveCallable.run(ReflectiveCallable.java:12)
	at org.junit.runners.model.FrameworkMethod.invokeExplosively(FrameworkMethod.java:47)
	at org.junit.internal.runners.statements.InvokeMethod.evaluate(InvokeMethod.java:17)
	at org.junit.internal.runners.statements.RunAfters.evaluate(RunAfters.java:27)
	at org.junit.internal.runners.statements.FailOnTimeout$CallableStatement.call(FailOnTimeout.java:298)
	at org.junit.internal.runners.statements.FailOnTimeout$CallableStatement.call(FailOnTimeout.java:292)
	at java.util.concurrent.FutureTask.run(FutureTask.java:266)
	at java.lang.Thread.run(Thread.java:748)
2019-09-24 12:06:44,765 WARN  impl.LogAppender (LogAppender.java:sendAppendEntriesWithRetries(274)) - s0@group-E7D5050F4609->s3-LogAppender: Failed to appendEntries (retry=4331): org.apache.ratis.thirdparty.io.netty.channel.AbstractChannel$AnnotatedConnectException: Connection refused: /0.0.0.0:40479
2019-09-24 12:06:44,790 INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:execute(569)) - s0@group-04E6F89F5A1C-SegmentedRaftLogWorker: created new log segment /workdir/ratis-test/target/test/data/aaa4fccd/MiniRaftClusterWithNetty55a7148e/s0/611a84d9-4fe5-4f71-a301-04e6f89f5a1c/current/log_inprogress_4
2019-09-24 12:06:44,790 INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:execute(569)) - s1@group-04E6F89F5A1C-SegmentedRaftLogWorker: created new log segment /workdir/ratis-test/target/test/data/aaa4fccd/MiniRaftClusterWithNetty55a7148e/s1/611a84d9-4fe5-4f71-a301-04e6f89f5a1c/current/log_inprogress_4
2019-09-24 12:06:44,791 DEBUG segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:flushWrites(340)) - s0@group-04E6F89F5A1C-SegmentedRaftLogWorker: flush SegmentedRaftLogOutputStream(/workdir/ratis-test/target/test/data/aaa4fccd/MiniRaftClusterWithNetty55a7148e/s0/611a84d9-4fe5-4f71-a301-04e6f89f5a1c/current/log_inprogress_4)
2019-09-24 12:06:44,790 INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:execute(569)) - s2@group-04E6F89F5A1C-SegmentedRaftLogWorker: created new log segment /workdir/ratis-test/target/test/data/aaa4fccd/MiniRaftClusterWithNetty55a7148e/s2/611a84d9-4fe5-4f71-a301-04e6f89f5a1c/current/log_inprogress_4
2019-09-24 12:06:44,791 DEBUG segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:flushWrites(340)) - s1@group-04E6F89F5A1C-SegmentedRaftLogWorker: flush SegmentedRaftLogOutputStream(/workdir/ratis-test/target/test/data/aaa4fccd/MiniRaftClusterWithNetty55a7148e/s1/611a84d9-4fe5-4f71-a301-04e6f89f5a1c/current/log_inprogress_4)
2019-09-24 12:06:44,791 DEBUG segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:flushWrites(340)) - s2@group-04E6F89F5A1C-SegmentedRaftLogWorker: flush SegmentedRaftLogOutputStream(/workdir/ratis-test/target/test/data/aaa4fccd/MiniRaftClusterWithNetty55a7148e/s2/611a84d9-4fe5-4f71-a301-04e6f89f5a1c/current/log_inprogress_4)
2019-09-24 12:06:44,793 DEBUG impl.RaftServerImpl (RaftServerImpl.java:requestVote(775)) - s0@group-9DDC70D1F0F3 replies to vote request: s1<-s0#0:FAIL-t2. Peer's state: s0@group-9DDC70D1F0F3:t2, leader=null, voted=null, raftlog=s0@group-9DDC70D1F0F3-SegmentedRaftLog:OPENED:c0,f0,i0, conf=0: [s0:0.0.0.0:37243, s1:0.0.0.0:38994, s2:0.0.0.0:36346], old=null
2019-09-24 12:06:44,793 INFO  impl.FollowerState (FollowerState.java:run(108)) - s0@group-9DDC70D1F0F3-FollowerState: change to CANDIDATE, lastRpcTime:172ms, electionTimeout:157ms
2019-09-24 12:06:44,793 INFO  impl.RoleInfo (RoleInfo.java:shutdownFollowerState(121)) - s0: shutdown FollowerState
2019-09-24 12:06:44,794 INFO  impl.RaftServerImpl (RaftServerImpl.java:setRole(170)) - s0@group-9DDC70D1F0F3: changes role from  FOLLOWER to CANDIDATE at term 2 for changeToCandidate
2019-09-24 12:06:44,794 INFO  impl.LeaderElection (LeaderElection.java:logAndReturn(56)) - s1@group-9DDC70D1F0F3-LeaderElection17: Election REJECTED; received 2 response(s) [s1<-s0#0:FAIL-t2, s1<-s2#0:FAIL-t2] and 0 exception(s); s1@group-9DDC70D1F0F3:t2, leader=null, voted=s1, raftlog=s1@group-9DDC70D1F0F3-SegmentedRaftLog:OPENED:c0,f0,i0, conf=0: [s0:0.0.0.0:37243, s1:0.0.0.0:38994, s2:0.0.0.0:36346], old=null
2019-09-24 12:06:44,795 INFO  impl.LeaderElection (LeaderElection.java:askForVotes(178)) - s4@group-E7D5050F4609-LeaderElection19: begin an election at term 3 for 1: [s3:0.0.0.0:40479, s4:0.0.0.0:43695, s0:0.0.0.0:44661, s1:0.0.0.0:36487, s2:0.0.0.0:42023], old=null
2019-09-24 12:06:44,794 INFO  impl.RoleInfo (RoleInfo.java:updateAndGet(143)) - s0: start LeaderElection
2019-09-24 12:06:44,795 INFO  impl.RaftServerImpl (RaftServerImpl.java:setRole(170)) - s1@group-9DDC70D1F0F3: changes role from CANDIDATE to FOLLOWER at term 2 for DISCOVERED_A_NEW_TERM
2019-09-24 12:06:44,796 INFO  impl.RoleInfo (RoleInfo.java:shutdownLeaderElection(134)) - s1: shutdown LeaderElection
2019-09-24 12:06:44,797 INFO  impl.RaftServerImpl (RaftServerImpl.java:setRole(170)) - s0@group-9DDC70D1F0F3: changes role from CANDIDATE to FOLLOWER at term 2 for recognizeCandidate:s2
2019-09-24 12:06:44,797 INFO  impl.RoleInfo (RoleInfo.java:updateAndGet(143)) - s1: start FollowerState
2019-09-24 12:06:44,798 INFO  impl.RoleInfo (RoleInfo.java:shutdownLeaderElection(134)) - s0: shutdown LeaderElection
2019-09-24 12:06:44,798 INFO  impl.RoleInfo (RoleInfo.java:updateAndGet(143)) - s0: start FollowerState
2019-09-24 12:06:44,799 INFO  impl.LeaderElection (LogUtils.java:infoOrTrace(149)) - s4@group-E7D5050F4609-LeaderElection19 got exception when requesting votes: java.util.concurrent.ExecutionException: org.apache.ratis.thirdparty.io.netty.channel.AbstractChannel$AnnotatedConnectException: Connection refused: /0.0.0.0:40479
2019-09-24 12:06:44,799 DEBUG impl.RaftServerImpl (RaftServerImpl.java:requestVote(743)) - s2@group-E7D5050F4609: receive requestVote(s4, group-E7D5050F4609, 3, (t:2, i:2))
2019-09-24 12:06:44,799 INFO  impl.RaftServerImpl (ServerState.java:setLeader(254)) - s2@group-E7D5050F4609: change Leader from s0 to null at term 3 for updateCurrentTerm
2019-09-24 12:06:44,799 INFO  impl.RaftServerImpl (RaftServerImpl.java:setRole(170)) - s2@group-E7D5050F4609: changes role from  FOLLOWER to FOLLOWER at term 3 for recognizeCandidate:s4
2019-09-24 12:06:44,799 DEBUG impl.RaftServerImpl (RaftServerImpl.java:requestVote(743)) - s0@group-E7D5050F4609: receive requestVote(s4, group-E7D5050F4609, 3, (t:2, i:2))
2019-09-24 12:06:44,800 INFO  impl.RoleInfo (RoleInfo.java:shutdownFollowerState(121)) - s2: shutdown FollowerState
2019-09-24 12:06:44,799 DEBUG impl.RaftServerImpl (RaftServerImpl.java:requestVote(775)) - s0@group-9DDC70D1F0F3 replies to vote request: s2<-s0#0:FAIL-t2. Peer's state: s0@group-9DDC70D1F0F3:t2, leader=null, voted=null, raftlog=s0@group-9DDC70D1F0F3-SegmentedRaftLog:OPENED:c0,f0,i0, conf=0: [s0:0.0.0.0:37243, s1:0.0.0.0:38994, s2:0.0.0.0:36346], old=null
2019-09-24 12:06:44,799 DEBUG impl.RaftServerImpl (RaftServerImpl.java:requestVote(743)) - s1@group-E7D5050F4609: receive requestVote(s4, group-E7D5050F4609, 3, (t:2, i:2))
2019-09-24 12:06:44,800 INFO  impl.FollowerState (FollowerState.java:run(117)) - s2@group-E7D5050F4609-FollowerState was interrupted: java.lang.InterruptedException: sleep interrupted
2019-09-24 12:06:44,800 INFO  impl.RoleInfo (RoleInfo.java:updateAndGet(143)) - s2: start FollowerState
2019-09-24 12:06:44,802 TRACE segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:lambda$new$1(133)) - s0@group-04E6F89F5A1C-SegmentedRaftLogWorker: flushIndex: updateIncreasingly 3 -> 4
2019-09-24 12:06:44,800 INFO  impl.RaftServerImpl (ServerState.java:setLeader(254)) - s0@group-E7D5050F4609: change Leader from s0 to null at term 3 for updateCurrentTerm
2019-09-24 12:06:44,802 INFO  impl.LeaderElection (LeaderElection.java:logAndReturn(56)) - s2@group-9DDC70D1F0F3-LeaderElection18: Election REJECTED; received 2 response(s) [s2<-s0#0:FAIL-t2, s2<-s1#0:FAIL-t2] and 0 exception(s); s2@group-9DDC70D1F0F3:t2, leader=null, voted=s2, raftlog=s2@group-9DDC70D1F0F3-SegmentedRaftLog:OPENED:c0,f0,i0, conf=0: [s0:0.0.0.0:37243, s1:0.0.0.0:38994, s2:0.0.0.0:36346], old=null
2019-09-24 12:06:44,802 INFO  impl.RaftServerImpl (ServerState.java:setLeader(254)) - s1@group-E7D5050F4609: change Leader from s0 to null at term 3 for updateCurrentTerm
2019-09-24 12:06:44,805 INFO  impl.RaftServerImpl (RaftServerImpl.java:setRole(170)) - s1@group-E7D5050F4609: changes role from  FOLLOWER to FOLLOWER at term 3 for recognizeCandidate:s4
2019-09-24 12:06:44,805 INFO  impl.RoleInfo (RoleInfo.java:shutdownFollowerState(121)) - s1: shutdown FollowerState
2019-09-24 12:06:44,803 INFO  impl.RaftServerImpl (RaftServerImpl.java:setRole(170)) - s2@group-9DDC70D1F0F3: changes role from CANDIDATE to FOLLOWER at term 2 for DISCOVERED_A_NEW_TERM
2019-09-24 12:06:44,806 INFO  impl.FollowerState (FollowerState.java:run(117)) - s1@group-E7D5050F4609-FollowerState was interrupted: java.lang.InterruptedException: sleep interrupted
2019-09-24 12:06:44,803 DEBUG impl.RaftServerImpl (RaftServerImpl.java:logAppendEntries(850)) - s0@group-04E6F89F5A1C: succeeded to handle AppendEntries. Reply: s1<-s0#0:OK,SUCCESS,nextIndex:5,term:4,followerCommit:3
2019-09-24 12:06:44,803 TRACE segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:lambda$new$1(133)) - s1@group-04E6F89F5A1C-SegmentedRaftLogWorker: flushIndex: updateIncreasingly 3 -> 4
2019-09-24 12:06:44,803 INFO  impl.RaftServerImpl (RaftServerImpl.java:setRole(170)) - s0@group-E7D5050F4609: changes role from    LEADER to FOLLOWER at term 3 for recognizeCandidate:s4
2019-09-24 12:06:44,806 INFO  impl.RoleInfo (RoleInfo.java:shutdownLeaderState(104)) - s0: shutdown LeaderState
2019-09-24 12:06:44,803 TRACE segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:lambda$new$1(133)) - s2@group-04E6F89F5A1C-SegmentedRaftLogWorker: flushIndex: updateIncreasingly 3 -> 4
2019-09-24 12:06:44,806 INFO  impl.RoleInfo (RoleInfo.java:shutdownLeaderElection(134)) - s2: shutdown LeaderElection
2019-09-24 12:06:44,810 INFO  impl.LogAppender (LogAppender.java:run(78)) - s0@group-E7D5050F4609->s1-LogAppender-AppenderDaemon was interrupted: java.lang.InterruptedException
2019-09-24 12:06:44,805 INFO  impl.RoleInfo (RoleInfo.java:updateAndGet(143)) - s1: start FollowerState
2019-09-24 12:06:44,811 INFO  impl.PendingRequests (PendingRequests.java:sendNotLeaderResponses(202)) - s0@group-E7D5050F4609-PendingRequests: sendNotLeaderResponses
2019-09-24 12:06:44,811 DEBUG impl.RaftServerImpl (RaftServerImpl.java:logAppendEntries(850)) - s2@group-04E6F89F5A1C: succeeded to handle AppendEntries. Reply: s1<-s2#0:OK,SUCCESS,nextIndex:5,term:4,followerCommit:3
2019-09-24 12:06:44,811 INFO  impl.LogAppender (LogAppender.java:run(78)) - s0@group-E7D5050F4609->s2-LogAppender-AppenderDaemon was interrupted: java.lang.InterruptedException
2019-09-24 12:06:44,810 INFO  impl.LogAppender (LogAppender.java:run(78)) - s0@group-E7D5050F4609->s4-LogAppender-AppenderDaemon was interrupted: java.io.InterruptedIOException: s0->s4#0 sending from s4:0.0.0.0:43695 is interrupted.
2019-09-24 12:06:44,810 INFO  impl.RoleInfo (RoleInfo.java:updateAndGet(143)) - s2: start FollowerState
2019-09-24 12:06:44,810 INFO  impl.LogAppender (LogAppender.java:run(78)) - s0@group-E7D5050F4609->s3-LogAppender-AppenderDaemon was interrupted: java.lang.InterruptedException: sleep interrupted
2019-09-24 12:06:44,810 DEBUG segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:addIOTask(251)) - s1@group-04E6F89F5A1C-SegmentedRaftLogWorker adds IO task WriteLog:5: (t:4, i:5), METADATAENTRY(c4)
2019-09-24 12:06:44,813 INFO  impl.RoleInfo (RoleInfo.java:updateAndGet(143)) - s0: start FollowerState
2019-09-24 12:06:44,815 DEBUG segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:flushWrites(340)) - s1@group-04E6F89F5A1C-SegmentedRaftLogWorker: flush SegmentedRaftLogOutputStream(/workdir/ratis-test/target/test/data/aaa4fccd/MiniRaftClusterWithNetty55a7148e/s1/611a84d9-4fe5-4f71-a301-04e6f89f5a1c/current/log_inprogress_4)
2019-09-24 12:06:44,816 INFO  util.CodeInjectionForTesting (BlockRequestHandlingInjection.java:execute(76)) - s2: Block request from s1
2019-09-24 12:06:44,816 INFO  util.CodeInjectionForTesting (BlockRequestHandlingInjection.java:execute(76)) - s0: Block request from s1
2019-09-24 12:06:44,818 INFO  impl.LeaderElection (LeaderElection.java:askForVotes(178)) - s0@group-9DDC70D1F0F3-LeaderElection20: begin an election at term 3 for 0: [s0:0.0.0.0:37243, s1:0.0.0.0:38994, s2:0.0.0.0:36346], old=null
2019-09-24 12:06:44,818 DEBUG impl.RaftServerImpl (RaftServerImpl.java:requestVote(775)) - s1@group-E7D5050F4609 replies to vote request: s4<-s1#0:OK-t3. Peer's state: s1@group-E7D5050F4609:t3, leader=null, voted=s4, raftlog=s1@group-E7D5050F4609-SegmentedRaftLog:OPENED:c2,f2,i2, conf=1: [s3:0.0.0.0:40479, s4:0.0.0.0:43695, s0:0.0.0.0:44661, s1:0.0.0.0:36487, s2:0.0.0.0:42023], old=null
2019-09-24 12:06:44,818 DEBUG impl.RaftServerImpl (RaftServerImpl.java:requestVote(775)) - s2@group-E7D5050F4609 replies to vote request: s4<-s2#0:OK-t3. Peer's state: s2@group-E7D5050F4609:t3, leader=null, voted=s4, raftlog=s2@group-E7D5050F4609-SegmentedRaftLog:OPENED:c2,f2,i2, conf=1: [s3:0.0.0.0:40479, s4:0.0.0.0:43695, s0:0.0.0.0:44661, s1:0.0.0.0:36487, s2:0.0.0.0:42023], old=null
2019-09-24 12:06:44,819 INFO  impl.LeaderElection (LeaderElection.java:logAndReturn(56)) - s0@group-9DDC70D1F0F3-LeaderElection20: Election REJECTED; received 0 response(s) [] and 0 exception(s); s0@group-9DDC70D1F0F3:t3, leader=null, voted=s0, raftlog=s0@group-9DDC70D1F0F3-SegmentedRaftLog:OPENED:c0,f0,i0, conf=0: [s0:0.0.0.0:37243, s1:0.0.0.0:38994, s2:0.0.0.0:36346], old=null
2019-09-24 12:06:44,820 INFO  impl.LeaderElection (LeaderElection.java:logAndReturn(56)) - s4@group-E7D5050F4609-LeaderElection19: Election PASSED; received 2 response(s) [s4<-s1#0:OK-t3, s4<-s2#0:OK-t3] and 1 exception(s); s4@group-E7D5050F4609:t3, leader=null, voted=s4, raftlog=s4@group-E7D5050F4609-SegmentedRaftLog:OPENED:c2,f2,i2, conf=1: [s3:0.0.0.0:40479, s4:0.0.0.0:43695, s0:0.0.0.0:44661, s1:0.0.0.0:36487, s2:0.0.0.0:42023], old=null
2019-09-24 12:06:44,820 DEBUG impl.RaftServerImpl (RaftServerImpl.java:requestVote(743)) - s1@group-9DDC70D1F0F3: receive requestVote(s0, group-9DDC70D1F0F3, 3, (t:1, i:0))
2019-09-24 12:06:44,821 DEBUG impl.RaftServerImpl (RaftServerImpl.java:requestVote(743)) - s2@group-9DDC70D1F0F3: receive requestVote(s0, group-9DDC70D1F0F3, 3, (t:1, i:0))
2019-09-24 12:06:44,820 INFO  impl.LeaderElection (LogUtils.java:infoOrTrace(149)) -   Exception 0: java.util.concurrent.ExecutionException: org.apache.ratis.thirdparty.io.netty.channel.AbstractChannel$AnnotatedConnectException: Connection refused: /0.0.0.0:40479
2019-09-24 12:06:44,821 INFO  impl.RaftServerImpl (RaftServerImpl.java:setRole(170)) - s2@group-9DDC70D1F0F3: changes role from  FOLLOWER to FOLLOWER at term 3 for recognizeCandidate:s0
2019-09-24 12:06:44,824 INFO  impl.RoleInfo (RoleInfo.java:shutdownFollowerState(121)) - s2: shutdown FollowerState
2019-09-24 12:06:44,821 INFO  impl.RaftServerImpl (RaftServerImpl.java:setRole(170)) - s1@group-9DDC70D1F0F3: changes role from  FOLLOWER to FOLLOWER at term 3 for recognizeCandidate:s0
2019-09-24 12:06:44,824 INFO  impl.FollowerState (FollowerState.java:run(117)) - s2@group-9DDC70D1F0F3-FollowerState was interrupted: java.lang.InterruptedException: sleep interrupted
2019-09-24 12:06:44,824 INFO  impl.RoleInfo (RoleInfo.java:updateAndGet(143)) - s2: start FollowerState
2019-09-24 12:06:44,824 DEBUG impl.RaftServerImpl (RaftServerImpl.java:requestVote(775)) - s0@group-E7D5050F4609 replies to vote request: s4<-s0#0:FAIL-t3. Peer's state: s0@group-E7D5050F4609:t3, leader=null, voted=null, raftlog=s0@group-E7D5050F4609-SegmentedRaftLog:OPENED:c2,f2,i2, conf=1: [s3:0.0.0.0:40479, s4:0.0.0.0:43695, s0:0.0.0.0:44661, s1:0.0.0.0:36487, s2:0.0.0.0:42023], old=null
2019-09-24 12:06:44,821 INFO  impl.RoleInfo (RoleInfo.java:shutdownLeaderElection(134)) - s4: shutdown LeaderElection
2019-09-24 12:06:44,824 INFO  impl.RoleInfo (RoleInfo.java:shutdownFollowerState(121)) - s1: shutdown FollowerState
2019-09-24 12:06:44,826 INFO  impl.RaftServerImpl (RaftServerImpl.java:setRole(170)) - s4@group-E7D5050F4609: changes role from CANDIDATE to LEADER at term 3 for changeToLeader
2019-09-24 12:06:44,827 INFO  impl.FollowerState (FollowerState.java:run(117)) - s1@group-9DDC70D1F0F3-FollowerState was interrupted: java.lang.InterruptedException: sleep interrupted
2019-09-24 12:06:44,827 INFO  impl.RoleInfo (RoleInfo.java:updateAndGet(143)) - s1: start FollowerState
2019-09-24 12:06:44,828 TRACE segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:lambda$new$1(133)) - s1@group-04E6F89F5A1C-SegmentedRaftLogWorker: flushIndex: updateIncreasingly 4 -> 5
2019-09-24 12:06:44,827 INFO  impl.RaftServerImpl (ServerState.java:setLeader(254)) - s4@group-E7D5050F4609: change Leader from null to s4 at term 3 for becomeLeader, leader elected after 131ms
2019-09-24 12:06:44,829 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.staging.catchup.gap = 1000 (default)
2019-09-24 12:06:44,829 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.rpc.sleep.time = 25ms (default)
2019-09-24 12:06:44,829 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.write.element-limit = 4096 (default)
2019-09-24 12:06:44,829 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.watch.timeout = 10s (default)
2019-09-24 12:06:44,830 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.watch.timeout.denomination = 1s (default)
2019-09-24 12:06:44,830 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.watch.element-limit = 65536 (default)
2019-09-24 12:06:44,834 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.log.appender.snapshot.chunk.size.max = 16MB (=16777216) (default)
2019-09-24 12:06:44,834 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.log.appender.buffer.byte-limit = 4MB (=4194304) (default)
2019-09-24 12:06:44,834 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.log.appender.buffer.element-limit = 0 (default)
2019-09-24 12:06:44,835 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.log.appender.snapshot.chunk.size.max = 16MB (=16777216) (default)
2019-09-24 12:06:44,835 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.log.appender.buffer.byte-limit = 4MB (=4194304) (default)
2019-09-24 12:06:44,835 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.log.appender.buffer.element-limit = 0 (default)
2019-09-24 12:06:44,835 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.log.appender.snapshot.chunk.size.max = 16MB (=16777216) (default)
2019-09-24 12:06:44,836 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.log.appender.buffer.byte-limit = 4MB (=4194304) (default)
2019-09-24 12:06:44,836 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.log.appender.buffer.element-limit = 0 (default)
2019-09-24 12:06:44,836 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.log.appender.snapshot.chunk.size.max = 16MB (=16777216) (default)
2019-09-24 12:06:44,836 DEBUG impl.RaftServerImpl (RaftServerImpl.java:requestVote(775)) - s1@group-9DDC70D1F0F3 replies to vote request: s0<-s1#0:OK-t3. Peer's state: s1@group-9DDC70D1F0F3:t3, leader=null, voted=s0, raftlog=s1@group-9DDC70D1F0F3-SegmentedRaftLog:OPENED:c0,f0,i0, conf=0: [s0:0.0.0.0:37243, s1:0.0.0.0:38994, s2:0.0.0.0:36346], old=null
2019-09-24 12:06:44,836 DEBUG impl.RaftServerImpl (RaftServerImpl.java:requestVote(775)) - s2@group-9DDC70D1F0F3 replies to vote request: s0<-s2#0:OK-t3. Peer's state: s2@group-9DDC70D1F0F3:t3, leader=null, voted=s0, raftlog=s2@group-9DDC70D1F0F3-SegmentedRaftLog:OPENED:c0,f0,i0, conf=0: [s0:0.0.0.0:37243, s1:0.0.0.0:38994, s2:0.0.0.0:36346], old=null
2019-09-24 12:06:44,836 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.log.appender.buffer.byte-limit = 4MB (=4194304) (default)
2019-09-24 12:06:44,838 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.log.appender.buffer.element-limit = 0 (default)
2019-09-24 12:06:44,839 INFO  impl.RoleInfo (RoleInfo.java:updateAndGet(143)) - s4: start LeaderState
2019-09-24 12:06:44,839 INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:rollLogSegment(385)) - s4@group-E7D5050F4609-SegmentedRaftLogWorker: Rolling segment log-1_2 to index:2
2019-09-24 12:06:44,840 DEBUG segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:addIOTask(251)) - s4@group-E7D5050F4609-SegmentedRaftLogWorker adds IO task FinalizeLogSegment:2: startIndex=1 endIndex=2
2019-09-24 12:06:44,840 DEBUG segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:addIOTask(251)) - s4@group-E7D5050F4609-SegmentedRaftLogWorker adds IO task StartLogSegment:3
2019-09-24 12:06:44,840 DEBUG segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:addIOTask(251)) - s4@group-E7D5050F4609-SegmentedRaftLogWorker adds IO task WriteLog:3: (t:3, i:3), CONFIGURATIONENTRY
2019-09-24 12:06:44,845 INFO  impl.RaftServerImpl (ServerState.java:setRaftConf(355)) - s4@group-E7D5050F4609: set configuration 3: [s3:0.0.0.0:40479, s4:0.0.0.0:43695, s0:0.0.0.0:44661, s1:0.0.0.0:36487, s2:0.0.0.0:42023], old=null at 3
2019-09-24 12:06:44,846 TRACE util.FileUtils (LogUtils.java:runAndLog(61)) - Successfully ran Files.move /workdir/ratis-test/target/test/data/aaa4fccd/MiniRaftClusterWithNettyac8e1cad/s4/36869398-fbcf-49ef-8a37-e7d5050f4609/current/log_inprogress_1 to /workdir/ratis-test/target/test/data/aaa4fccd/MiniRaftClusterWithNettyac8e1cad/s4/36869398-fbcf-49ef-8a37-e7d5050f4609/current/log_1-2
2019-09-24 12:06:44,846 INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:execute(526)) - s4@group-E7D5050F4609-SegmentedRaftLogWorker: Rolled log segment from /workdir/ratis-test/target/test/data/aaa4fccd/MiniRaftClusterWithNettyac8e1cad/s4/36869398-fbcf-49ef-8a37-e7d5050f4609/current/log_inprogress_1 to /workdir/ratis-test/target/test/data/aaa4fccd/MiniRaftClusterWithNettyac8e1cad/s4/36869398-fbcf-49ef-8a37-e7d5050f4609/current/log_1-2
2019-09-24 12:06:44,847 TRACE segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:lambda$new$1(133)) - s4@group-E7D5050F4609-SegmentedRaftLogWorker: flushIndex: updateIncreasingly 2 -> 2
2019-09-24 12:06:44,847 INFO  impl.RaftServerImpl (ServerState.java:setLeader(254)) - s2@group-E7D5050F4609: change Leader from null to s4 at term 3 for appendEntries, leader elected after 47ms
2019-09-24 12:06:44,847 INFO  impl.RaftServerImpl (ServerState.java:setLeader(254)) - s1@group-E7D5050F4609: change Leader from null to s4 at term 3 for appendEntries, leader elected after 45ms
2019-09-24 12:06:44,847 INFO  impl.RaftServerImpl (ServerState.java:setLeader(254)) - s0@group-E7D5050F4609: change Leader from null to s4 at term 3 for appendEntries, leader elected after 46ms
2019-09-24 12:06:44,856 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.rpc.timeout.max = 300ms (default)
2019-09-24 12:06:44,852 WARN  impl.LogAppender (LogAppender.java:sendAppendEntriesWithRetries(274)) - s4@group-E7D5050F4609->s3-LogAppender: Failed to appendEntries (retry=1): org.apache.ratis.thirdparty.io.netty.channel.AbstractChannel$AnnotatedConnectException: Connection refused: /0.0.0.0:40479
2019-09-24 12:06:44,857 DEBUG impl.RaftServerImpl (RaftServerImpl.java:logAppendEntries(850)) - s2@group-E7D5050F4609: receive appendEntries(s4, 3, (t:2, i:2), 2, false, commits[s4:c2, s3:c-1, s0:c2, s1:c2, s2:c2], entries: (t:3, i:3), CONFIGURATIONENTRY
2019-09-24 12:06:44,857 DEBUG impl.RaftServerImpl (RaftServerImpl.java:logAppendEntries(850)) - s1@group-E7D5050F4609: receive appendEntries(s4, 3, (t:2, i:2), 2, false, commits[s4:c2, s3:c-1, s0:c2, s1:c2, s2:c2], entries: (t:3, i:3), CONFIGURATIONENTRY
2019-09-24 12:06:44,857 INFO  ratis.RaftTestUtil (RaftTestUtil.java:waitForLeader(86)) - printing ALL groups
  s0:  RUNNING  FOLLOWER s0@group-04E6F89F5A1C:t4, leader=s1, voted=null, raftlog=s0@group-04E6F89F5A1C-SegmentedRaftLog:OPENED:c3,f4,i4, conf=4: [s0:0.0.0.0:34119, s1:0.0.0.0:44382, s2:0.0.0.0:42516], old=null RUNNING
  s1:  RUNNING    LEADER s1@group-04E6F89F5A1C:t4, leader=s1, voted=s1, raftlog=s1@group-04E6F89F5A1C-SegmentedRaftLog:OPENED:c4,f5,i5, conf=4: [s0:0.0.0.0:34119, s1:0.0.0.0:44382, s2:0.0.0.0:42516], old=null RUNNING
  s2:  RUNNING  FOLLOWER s2@group-04E6F89F5A1C:t4, leader=s1, voted=s1, raftlog=s2@group-04E6F89F5A1C-SegmentedRaftLog:OPENED:c3,f4,i4, conf=4: [s0:0.0.0.0:34119, s1:0.0.0.0:44382, s2:0.0.0.0:42516], old=null RUNNING
2019-09-24 12:06:44,858 INFO  impl.RaftServerImpl (ServerState.java:setRaftConf(355)) - s1@group-E7D5050F4609: set configuration 3: [s3:0.0.0.0:40479, s4:0.0.0.0:43695, s0:0.0.0.0:44661, s1:0.0.0.0:36487, s2:0.0.0.0:42023], old=null at 3
2019-09-24 12:06:44,858 INFO  impl.RaftServerImpl (ServerState.java:setRaftConf(355)) - s2@group-E7D5050F4609: set configuration 3: [s3:0.0.0.0:40479, s4:0.0.0.0:43695, s0:0.0.0.0:44661, s1:0.0.0.0:36487, s2:0.0.0.0:42023], old=null at 3
2019-09-24 12:06:44,857 DEBUG impl.RaftServerImpl (RaftServerImpl.java:logAppendEntries(850)) - s0@group-E7D5050F4609: receive appendEntries(s4, 3, (t:2, i:2), 2, false, commits[s4:c2, s3:c-1, s0:c2, s1:c2, s2:c2], entries: (t:3, i:3), CONFIGURATIONENTRY
2019-09-24 12:06:44,859 INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:rollLogSegment(385)) - s2@group-E7D5050F4609-SegmentedRaftLogWorker: Rolling segment log-1_2 to index:2
2019-09-24 12:06:44,859 INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:rollLogSegment(385)) - s1@group-E7D5050F4609-SegmentedRaftLogWorker: Rolling segment log-1_2 to index:2
2019-09-24 12:06:44,860 DEBUG segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:addIOTask(251)) - s1@group-E7D5050F4609-SegmentedRaftLogWorker adds IO task FinalizeLogSegment:2: startIndex=1 endIndex=2
2019-09-24 12:06:44,861 DEBUG segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:addIOTask(251)) - s1@group-E7D5050F4609-SegmentedRaftLogWorker adds IO task StartLogSegment:3
2019-09-24 12:06:44,859 INFO  ratis.RaftTestUtil (RaftTestUtil.java:waitForLeader(101)) - printing ALL groups
  s0:  RUNNING  FOLLOWER s0@group-04E6F89F5A1C:t4, leader=s1, voted=null, raftlog=s0@group-04E6F89F5A1C-SegmentedRaftLog:OPENED:c3,f4,i4, conf=4: [s0:0.0.0.0:34119, s1:0.0.0.0:44382, s2:0.0.0.0:42516], old=null RUNNING
  s1:  RUNNING    LEADER s1@group-04E6F89F5A1C:t4, leader=s1, voted=s1, raftlog=s1@group-04E6F89F5A1C-SegmentedRaftLog:OPENED:c4,f5,i5, conf=4: [s0:0.0.0.0:34119, s1:0.0.0.0:44382, s2:0.0.0.0:42516], old=null RUNNING
  s2:  RUNNING  FOLLOWER s2@group-04E6F89F5A1C:t4, leader=s1, voted=s1, raftlog=s2@group-04E6F89F5A1C-SegmentedRaftLog:OPENED:c3,f4,i4, conf=4: [s0:0.0.0.0:34119, s1:0.0.0.0:44382, s2:0.0.0.0:42516], old=null RUNNING
2019-09-24 12:06:44,861 DEBUG segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:addIOTask(251)) - s1@group-E7D5050F4609-SegmentedRaftLogWorker adds IO task WriteLog:3: (t:3, i:3), CONFIGURATIONENTRY
2019-09-24 12:06:44,860 DEBUG segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:addIOTask(251)) - s2@group-E7D5050F4609-SegmentedRaftLogWorker adds IO task FinalizeLogSegment:2: startIndex=1 endIndex=2
2019-09-24 12:06:44,860 INFO  impl.RaftServerImpl (ServerState.java:setRaftConf(355)) - s0@group-E7D5050F4609: set configuration 3: [s3:0.0.0.0:40479, s4:0.0.0.0:43695, s0:0.0.0.0:44661, s1:0.0.0.0:36487, s2:0.0.0.0:42023], old=null at 3
2019-09-24 12:06:44,863 TRACE util.FileUtils (LogUtils.java:runAndLog(61)) - Successfully ran Files.move /workdir/ratis-test/target/test/data/aaa4fccd/MiniRaftClusterWithNettyac8e1cad/s1/36869398-fbcf-49ef-8a37-e7d5050f4609/current/log_inprogress_1 to /workdir/ratis-test/target/test/data/aaa4fccd/MiniRaftClusterWithNettyac8e1cad/s1/36869398-fbcf-49ef-8a37-e7d5050f4609/current/log_1-2
2019-09-24 12:06:44,863 INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:rollLogSegment(385)) - s0@group-E7D5050F4609-SegmentedRaftLogWorker: Rolling segment log-1_2 to index:2
2019-09-24 12:06:44,863 INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:execute(526)) - s1@group-E7D5050F4609-SegmentedRaftLogWorker: Rolled log segment from /workdir/ratis-test/target/test/data/aaa4fccd/MiniRaftClusterWithNettyac8e1cad/s1/36869398-fbcf-49ef-8a37-e7d5050f4609/current/log_inprogress_1 to /workdir/ratis-test/target/test/data/aaa4fccd/MiniRaftClusterWithNettyac8e1cad/s1/36869398-fbcf-49ef-8a37-e7d5050f4609/current/log_1-2
2019-09-24 12:06:44,863 DEBUG segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:addIOTask(251)) - s2@group-E7D5050F4609-SegmentedRaftLogWorker adds IO task StartLogSegment:3
2019-09-24 12:06:44,861 WARN  ratis.RaftTestUtil (JavaUtils.java:attempt(158)) - FAILED "testChangeLeader-changeLeader", attempt #3/20: java.lang.IllegalStateException: Failed to change leader: newLeader == oldLeader == s1, sleep 100ms and then retry.
java.lang.IllegalStateException: Failed to change leader: newLeader == oldLeader == s1
	at org.apache.ratis.RaftTestUtil.lambda$changeLeader$7(RaftTestUtil.java:365)
	at org.apache.ratis.util.JavaUtils.attempt(JavaUtils.java:152)
	at org.apache.ratis.RaftTestUtil.changeLeader(RaftTestUtil.java:362)
	at org.apache.ratis.server.impl.LeaderElectionTests.testChangeLeader(LeaderElectionTests.java:81)
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.lang.reflect.Method.invoke(Method.java:498)
	at org.junit.runners.model.FrameworkMethod$1.runReflectiveCall(FrameworkMethod.java:50)
	at org.junit.internal.runners.model.ReflectiveCallable.run(ReflectiveCallable.java:12)
	at org.junit.runners.model.FrameworkMethod.invokeExplosively(FrameworkMethod.java:47)
	at org.junit.internal.runners.statements.InvokeMethod.evaluate(InvokeMethod.java:17)
	at org.junit.internal.runners.statements.RunAfters.evaluate(RunAfters.java:27)
	at org.junit.internal.runners.statements.FailOnTimeout$CallableStatement.call(FailOnTimeout.java:298)
	at org.junit.internal.runners.statements.FailOnTimeout$CallableStatement.call(FailOnTimeout.java:292)
	at java.util.concurrent.FutureTask.run(FutureTask.java:266)
	at java.lang.Thread.run(Thread.java:748)
2019-09-24 12:06:44,864 DEBUG segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:addIOTask(251)) - s2@group-E7D5050F4609-SegmentedRaftLogWorker adds IO task WriteLog:3: (t:3, i:3), CONFIGURATIONENTRY
2019-09-24 12:06:44,864 TRACE segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:lambda$new$1(133)) - s1@group-E7D5050F4609-SegmentedRaftLogWorker: flushIndex: updateIncreasingly 2 -> 2
2019-09-24 12:06:44,864 DEBUG segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:addIOTask(251)) - s0@group-E7D5050F4609-SegmentedRaftLogWorker adds IO task FinalizeLogSegment:2: startIndex=1 endIndex=2
2019-09-24 12:06:44,867 TRACE util.FileUtils (LogUtils.java:runAndLog(61)) - Successfully ran Files.move /workdir/ratis-test/target/test/data/aaa4fccd/MiniRaftClusterWithNettyac8e1cad/s2/36869398-fbcf-49ef-8a37-e7d5050f4609/current/log_inprogress_1 to /workdir/ratis-test/target/test/data/aaa4fccd/MiniRaftClusterWithNettyac8e1cad/s2/36869398-fbcf-49ef-8a37-e7d5050f4609/current/log_1-2
2019-09-24 12:06:44,868 DEBUG segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:addIOTask(251)) - s0@group-E7D5050F4609-SegmentedRaftLogWorker adds IO task StartLogSegment:3
2019-09-24 12:06:44,868 INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:execute(526)) - s2@group-E7D5050F4609-SegmentedRaftLogWorker: Rolled log segment from /workdir/ratis-test/target/test/data/aaa4fccd/MiniRaftClusterWithNettyac8e1cad/s2/36869398-fbcf-49ef-8a37-e7d5050f4609/current/log_inprogress_1 to /workdir/ratis-test/target/test/data/aaa4fccd/MiniRaftClusterWithNettyac8e1cad/s2/36869398-fbcf-49ef-8a37-e7d5050f4609/current/log_1-2
2019-09-24 12:06:44,869 DEBUG segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:addIOTask(251)) - s0@group-E7D5050F4609-SegmentedRaftLogWorker adds IO task WriteLog:3: (t:3, i:3), CONFIGURATIONENTRY
2019-09-24 12:06:44,869 TRACE segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:lambda$new$1(133)) - s2@group-E7D5050F4609-SegmentedRaftLogWorker: flushIndex: updateIncreasingly 2 -> 2
2019-09-24 12:06:44,870 TRACE util.FileUtils (LogUtils.java:runAndLog(61)) - Successfully ran Files.move /workdir/ratis-test/target/test/data/aaa4fccd/MiniRaftClusterWithNettyac8e1cad/s0/36869398-fbcf-49ef-8a37-e7d5050f4609/current/log_inprogress_1 to /workdir/ratis-test/target/test/data/aaa4fccd/MiniRaftClusterWithNettyac8e1cad/s0/36869398-fbcf-49ef-8a37-e7d5050f4609/current/log_1-2
2019-09-24 12:06:44,870 INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:execute(526)) - s0@group-E7D5050F4609-SegmentedRaftLogWorker: Rolled log segment from /workdir/ratis-test/target/test/data/aaa4fccd/MiniRaftClusterWithNettyac8e1cad/s0/36869398-fbcf-49ef-8a37-e7d5050f4609/current/log_inprogress_1 to /workdir/ratis-test/target/test/data/aaa4fccd/MiniRaftClusterWithNettyac8e1cad/s0/36869398-fbcf-49ef-8a37-e7d5050f4609/current/log_1-2
2019-09-24 12:06:44,871 TRACE segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:lambda$new$1(133)) - s0@group-E7D5050F4609-SegmentedRaftLogWorker: flushIndex: updateIncreasingly 2 -> 2
2019-09-24 12:06:44,949 INFO  util.CodeInjectionForTesting (BlockRequestHandlingInjection.java:execute(82)) - s4: unBlock request from s0
2019-09-24 12:06:44,950 DEBUG impl.RaftServerImpl (RaftServerImpl.java:appendEntriesAsync(906)) - s4@group-E7D5050F4609: Not recognize s0 (term=2) as leader, state: s4@group-E7D5050F4609:t3, leader=s4, voted=s4, raftlog=s4@group-E7D5050F4609-SegmentedRaftLog:OPENED:c2,f2,i3, conf=3: [s3:0.0.0.0:40479, s4:0.0.0.0:43695, s0:0.0.0.0:44661, s1:0.0.0.0:36487, s2:0.0.0.0:42023], old=null reply: s0<-s4#0:FAIL,NOT_LEADER,nextIndex:4,term:3,followerCommit:2
2019-09-24 12:06:44,967 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.rpc.timeout.max = 300ms (default)
2019-09-24 12:06:44,968 INFO  ratis.RaftTestUtil (RaftTestUtil.java:waitForLeader(86)) - printing ALL groups
  s0:  RUNNING  FOLLOWER s0@group-04E6F89F5A1C:t4, leader=s1, voted=null, raftlog=s0@group-04E6F89F5A1C-SegmentedRaftLog:OPENED:c3,f4,i4, conf=4: [s0:0.0.0.0:34119, s1:0.0.0.0:44382, s2:0.0.0.0:42516], old=null RUNNING
  s1:  RUNNING    LEADER s1@group-04E6F89F5A1C:t4, leader=s1, voted=s1, raftlog=s1@group-04E6F89F5A1C-SegmentedRaftLog:OPENED:c4,f5,i5, conf=4: [s0:0.0.0.0:34119, s1:0.0.0.0:44382, s2:0.0.0.0:42516], old=null RUNNING
  s2:  RUNNING  FOLLOWER s2@group-04E6F89F5A1C:t4, leader=s1, voted=s1, raftlog=s2@group-04E6F89F5A1C-SegmentedRaftLog:OPENED:c3,f4,i4, conf=4: [s0:0.0.0.0:34119, s1:0.0.0.0:44382, s2:0.0.0.0:42516], old=null RUNNING
2019-09-24 12:06:44,968 INFO  ratis.RaftTestUtil (RaftTestUtil.java:waitForLeader(101)) - printing ALL groups
  s0:  RUNNING  FOLLOWER s0@group-04E6F89F5A1C:t4, leader=s1, voted=null, raftlog=s0@group-04E6F89F5A1C-SegmentedRaftLog:OPENED:c3,f4,i4, conf=4: [s0:0.0.0.0:34119, s1:0.0.0.0:44382, s2:0.0.0.0:42516], old=null RUNNING
  s1:  RUNNING    LEADER s1@group-04E6F89F5A1C:t4, leader=s1, voted=s1, raftlog=s1@group-04E6F89F5A1C-SegmentedRaftLog:OPENED:c4,f5,i5, conf=4: [s0:0.0.0.0:34119, s1:0.0.0.0:44382, s2:0.0.0.0:42516], old=null RUNNING
  s2:  RUNNING  FOLLOWER s2@group-04E6F89F5A1C:t4, leader=s1, voted=s1, raftlog=s2@group-04E6F89F5A1C-SegmentedRaftLog:OPENED:c3,f4,i4, conf=4: [s0:0.0.0.0:34119, s1:0.0.0.0:44382, s2:0.0.0.0:42516], old=null RUNNING
2019-09-24 12:06:44,969 WARN  ratis.RaftTestUtil (JavaUtils.java:attempt(158)) - FAILED "testChangeLeader-changeLeader", attempt #4/20: java.lang.IllegalStateException: Failed to change leader: newLeader == oldLeader == s1, sleep 100ms and then retry.
java.lang.IllegalStateException: Failed to change leader: newLeader == oldLeader == s1
	at org.apache.ratis.RaftTestUtil.lambda$changeLeader$7(RaftTestUtil.java:365)
	at org.apache.ratis.util.JavaUtils.attempt(JavaUtils.java:152)
	at org.apache.ratis.RaftTestUtil.changeLeader(RaftTestUtil.java:362)
	at org.apache.ratis.server.impl.LeaderElectionTests.testChangeLeader(LeaderElectionTests.java:81)
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.lang.reflect.Method.invoke(Method.java:498)
	at org.junit.runners.model.FrameworkMethod$1.runReflectiveCall(FrameworkMethod.java:50)
	at org.junit.internal.runners.model.ReflectiveCallable.run(ReflectiveCallable.java:12)
	at org.junit.runners.model.FrameworkMethod.invokeExplosively(FrameworkMethod.java:47)
	at org.junit.internal.runners.statements.InvokeMethod.evaluate(InvokeMethod.java:17)
	at org.junit.internal.runners.statements.RunAfters.evaluate(RunAfters.java:27)
	at org.junit.internal.runners.statements.FailOnTimeout$CallableStatement.call(FailOnTimeout.java:298)
	at org.junit.internal.runners.statements.FailOnTimeout$CallableStatement.call(FailOnTimeout.java:292)
	at java.util.concurrent.FutureTask.run(FutureTask.java:266)
	at java.lang.Thread.run(Thread.java:748)
2019-09-24 12:06:44,992 INFO  impl.FollowerState (FollowerState.java:run(108)) - s0@group-9DDC70D1F0F3-FollowerState: change to CANDIDATE, lastRpcTime:193ms, electionTimeout:193ms
2019-09-24 12:06:44,993 INFO  impl.RoleInfo (RoleInfo.java:shutdownFollowerState(121)) - s0: shutdown FollowerState
2019-09-24 12:06:44,993 INFO  impl.RaftServerImpl (RaftServerImpl.java:setRole(170)) - s0@group-9DDC70D1F0F3: changes role from  FOLLOWER to CANDIDATE at term 3 for changeToCandidate
2019-09-24 12:06:44,994 INFO  impl.RoleInfo (RoleInfo.java:updateAndGet(143)) - s0: start LeaderElection
2019-09-24 12:06:45,069 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.rpc.timeout.max = 300ms (default)
2019-09-24 12:06:45,070 INFO  ratis.RaftTestUtil (RaftTestUtil.java:waitForLeader(86)) - printing ALL groups
  s0:  RUNNING  FOLLOWER s0@group-04E6F89F5A1C:t4, leader=s1, voted=null, raftlog=s0@group-04E6F89F5A1C-SegmentedRaftLog:OPENED:c3,f4,i4, conf=4: [s0:0.0.0.0:34119, s1:0.0.0.0:44382, s2:0.0.0.0:42516], old=null RUNNING
  s1:  RUNNING    LEADER s1@group-04E6F89F5A1C:t4, leader=s1, voted=s1, raftlog=s1@group-04E6F89F5A1C-SegmentedRaftLog:OPENED:c4,f5,i5, conf=4: [s0:0.0.0.0:34119, s1:0.0.0.0:44382, s2:0.0.0.0:42516], old=null RUNNING
  s2:  RUNNING  FOLLOWER s2@group-04E6F89F5A1C:t4, leader=s1, voted=s1, raftlog=s2@group-04E6F89F5A1C-SegmentedRaftLog:OPENED:c3,f4,i4, conf=4: [s0:0.0.0.0:34119, s1:0.0.0.0:44382, s2:0.0.0.0:42516], old=null RUNNING
2019-09-24 12:06:45,071 INFO  ratis.RaftTestUtil (RaftTestUtil.java:waitForLeader(101)) - printing ALL groups
  s0:  RUNNING  FOLLOWER s0@group-04E6F89F5A1C:t4, leader=s1, voted=null, raftlog=s0@group-04E6F89F5A1C-SegmentedRaftLog:OPENED:c3,f4,i4, conf=4: [s0:0.0.0.0:34119, s1:0.0.0.0:44382, s2:0.0.0.0:42516], old=null RUNNING
  s1:  RUNNING    LEADER s1@group-04E6F89F5A1C:t4, leader=s1, voted=s1, raftlog=s1@group-04E6F89F5A1C-SegmentedRaftLog:OPENED:c4,f5,i5, conf=4: [s0:0.0.0.0:34119, s1:0.0.0.0:44382, s2:0.0.0.0:42516], old=null RUNNING
  s2:  RUNNING  FOLLOWER s2@group-04E6F89F5A1C:t4, leader=s1, voted=s1, raftlog=s2@group-04E6F89F5A1C-SegmentedRaftLog:OPENED:c3,f4,i4, conf=4: [s0:0.0.0.0:34119, s1:0.0.0.0:44382, s2:0.0.0.0:42516], old=null RUNNING
2019-09-24 12:06:45,071 WARN  ratis.RaftTestUtil (JavaUtils.java:attempt(158)) - FAILED "testChangeLeader-changeLeader", attempt #5/20: java.lang.IllegalStateException: Failed to change leader: newLeader == oldLeader == s1, sleep 100ms and then retry.
java.lang.IllegalStateException: Failed to change leader: newLeader == oldLeader == s1
	at org.apache.ratis.RaftTestUtil.lambda$changeLeader$7(RaftTestUtil.java:365)
	at org.apache.ratis.util.JavaUtils.attempt(JavaUtils.java:152)
	at org.apache.ratis.RaftTestUtil.changeLeader(RaftTestUtil.java:362)
	at org.apache.ratis.server.impl.LeaderElectionTests.testChangeLeader(LeaderElectionTests.java:81)
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.lang.reflect.Method.invoke(Method.java:498)
	at org.junit.runners.model.FrameworkMethod$1.runReflectiveCall(FrameworkMethod.java:50)
	at org.junit.internal.runners.model.ReflectiveCallable.run(ReflectiveCallable.java:12)
	at org.junit.runners.model.FrameworkMethod.invokeExplosively(FrameworkMethod.java:47)
	at org.junit.internal.runners.statements.InvokeMethod.evaluate(InvokeMethod.java:17)
	at org.junit.internal.runners.statements.RunAfters.evaluate(RunAfters.java:27)
	at org.junit.internal.runners.statements.FailOnTimeout$CallableStatement.call(FailOnTimeout.java:298)
	at org.junit.internal.runners.statements.FailOnTimeout$CallableStatement.call(FailOnTimeout.java:292)
	at java.util.concurrent.FutureTask.run(FutureTask.java:266)
	at java.lang.Thread.run(Thread.java:748)
2019-09-24 12:06:45,072 INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:execute(569)) - s0@group-E7D5050F4609-SegmentedRaftLogWorker: created new log segment /workdir/ratis-test/target/test/data/aaa4fccd/MiniRaftClusterWithNettyac8e1cad/s0/36869398-fbcf-49ef-8a37-e7d5050f4609/current/log_inprogress_3
2019-09-24 12:06:45,072 INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:execute(569)) - s2@group-E7D5050F4609-SegmentedRaftLogWorker: created new log segment /workdir/ratis-test/target/test/data/aaa4fccd/MiniRaftClusterWithNettyac8e1cad/s2/36869398-fbcf-49ef-8a37-e7d5050f4609/current/log_inprogress_3
2019-09-24 12:06:45,075 DEBUG segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:flushWrites(340)) - s0@group-E7D5050F4609-SegmentedRaftLogWorker: flush SegmentedRaftLogOutputStream(/workdir/ratis-test/target/test/data/aaa4fccd/MiniRaftClusterWithNettyac8e1cad/s0/36869398-fbcf-49ef-8a37-e7d5050f4609/current/log_inprogress_3)
2019-09-24 12:06:45,075 INFO  impl.LeaderElection (LeaderElection.java:askForVotes(178)) - s0@group-9DDC70D1F0F3-LeaderElection21: begin an election at term 4 for 0: [s0:0.0.0.0:37243, s1:0.0.0.0:38994, s2:0.0.0.0:36346], old=null
2019-09-24 12:06:45,072 INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:execute(569)) - s4@group-E7D5050F4609-SegmentedRaftLogWorker: created new log segment /workdir/ratis-test/target/test/data/aaa4fccd/MiniRaftClusterWithNettyac8e1cad/s4/36869398-fbcf-49ef-8a37-e7d5050f4609/current/log_inprogress_3
2019-09-24 12:06:45,072 INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:execute(569)) - s1@group-E7D5050F4609-SegmentedRaftLogWorker: created new log segment /workdir/ratis-test/target/test/data/aaa4fccd/MiniRaftClusterWithNettyac8e1cad/s1/36869398-fbcf-49ef-8a37-e7d5050f4609/current/log_inprogress_3
2019-09-24 12:06:45,076 DEBUG segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:flushWrites(340)) - s4@group-E7D5050F4609-SegmentedRaftLogWorker: flush SegmentedRaftLogOutputStream(/workdir/ratis-test/target/test/data/aaa4fccd/MiniRaftClusterWithNettyac8e1cad/s4/36869398-fbcf-49ef-8a37-e7d5050f4609/current/log_inprogress_3)
2019-09-24 12:06:45,076 DEBUG segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:flushWrites(340)) - s2@group-E7D5050F4609-SegmentedRaftLogWorker: flush SegmentedRaftLogOutputStream(/workdir/ratis-test/target/test/data/aaa4fccd/MiniRaftClusterWithNettyac8e1cad/s2/36869398-fbcf-49ef-8a37-e7d5050f4609/current/log_inprogress_3)
2019-09-24 12:06:45,076 DEBUG segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:flushWrites(340)) - s1@group-E7D5050F4609-SegmentedRaftLogWorker: flush SegmentedRaftLogOutputStream(/workdir/ratis-test/target/test/data/aaa4fccd/MiniRaftClusterWithNettyac8e1cad/s1/36869398-fbcf-49ef-8a37-e7d5050f4609/current/log_inprogress_3)
2019-09-24 12:06:45,077 DEBUG impl.RaftServerImpl (RaftServerImpl.java:requestVote(743)) - s1@group-9DDC70D1F0F3: receive requestVote(s0, group-9DDC70D1F0F3, 4, (t:1, i:0))
2019-09-24 12:06:45,077 DEBUG impl.RaftServerImpl (RaftServerImpl.java:requestVote(743)) - s2@group-9DDC70D1F0F3: receive requestVote(s0, group-9DDC70D1F0F3, 4, (t:1, i:0))
2019-09-24 12:06:45,077 INFO  impl.RaftServerImpl (RaftServerImpl.java:setRole(170)) - s1@group-9DDC70D1F0F3: changes role from  FOLLOWER to FOLLOWER at term 4 for recognizeCandidate:s0
2019-09-24 12:06:45,078 INFO  impl.RaftServerImpl (RaftServerImpl.java:setRole(170)) - s2@group-9DDC70D1F0F3: changes role from  FOLLOWER to FOLLOWER at term 4 for recognizeCandidate:s0
2019-09-24 12:06:45,078 INFO  impl.RoleInfo (RoleInfo.java:shutdownFollowerState(121)) - s2: shutdown FollowerState
2019-09-24 12:06:45,078 INFO  impl.RoleInfo (RoleInfo.java:shutdownFollowerState(121)) - s1: shutdown FollowerState
2019-09-24 12:06:45,079 INFO  impl.FollowerState (FollowerState.java:run(117)) - s2@group-9DDC70D1F0F3-FollowerState was interrupted: java.lang.InterruptedException: sleep interrupted
2019-09-24 12:06:45,079 INFO  impl.RoleInfo (RoleInfo.java:updateAndGet(143)) - s2: start FollowerState
2019-09-24 12:06:45,079 INFO  impl.FollowerState (FollowerState.java:run(117)) - s1@group-9DDC70D1F0F3-FollowerState was interrupted: java.lang.InterruptedException: sleep interrupted
2019-09-24 12:06:45,079 INFO  impl.RoleInfo (RoleInfo.java:updateAndGet(143)) - s1: start FollowerState
2019-09-24 12:06:45,091 WARN  impl.LogAppender (LogAppender.java:sendAppendEntriesWithRetries(274)) - s4@group-E7D5050F4609->s3-LogAppender: Failed to appendEntries (retry=11): org.apache.ratis.thirdparty.io.netty.channel.AbstractChannel$AnnotatedConnectException: Connection refused: /0.0.0.0:40479
2019-09-24 12:06:45,096 TRACE segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:lambda$new$1(133)) - s0@group-E7D5050F4609-SegmentedRaftLogWorker: flushIndex: updateIncreasingly 2 -> 3
2019-09-24 12:06:45,096 TRACE segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:lambda$new$1(133)) - s1@group-E7D5050F4609-SegmentedRaftLogWorker: flushIndex: updateIncreasingly 2 -> 3
2019-09-24 12:06:45,097 TRACE segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:lambda$new$1(133)) - s2@group-E7D5050F4609-SegmentedRaftLogWorker: flushIndex: updateIncreasingly 2 -> 3
2019-09-24 12:06:45,097 TRACE segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:lambda$new$1(133)) - s4@group-E7D5050F4609-SegmentedRaftLogWorker: flushIndex: updateIncreasingly 2 -> 3
2019-09-24 12:06:45,097 DEBUG impl.RaftServerImpl (RaftServerImpl.java:logAppendEntries(850)) - s1@group-E7D5050F4609: succeeded to handle AppendEntries. Reply: s4<-s1#0:OK,SUCCESS,nextIndex:4,term:3,followerCommit:2
2019-09-24 12:06:45,097 DEBUG impl.RaftServerImpl (RaftServerImpl.java:logAppendEntries(850)) - s0@group-E7D5050F4609: succeeded to handle AppendEntries. Reply: s4<-s0#0:OK,SUCCESS,nextIndex:4,term:3,followerCommit:2
2019-09-24 12:06:45,097 DEBUG impl.RaftServerImpl (RaftServerImpl.java:logAppendEntries(850)) - s2@group-E7D5050F4609: succeeded to handle AppendEntries. Reply: s4<-s2#0:OK,SUCCESS,nextIndex:4,term:3,followerCommit:2
2019-09-24 12:06:45,099 DEBUG segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:addIOTask(251)) - s4@group-E7D5050F4609-SegmentedRaftLogWorker adds IO task WriteLog:4: (t:3, i:4), METADATAENTRY(c3)
2019-09-24 12:06:45,099 DEBUG segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:flushWrites(340)) - s4@group-E7D5050F4609-SegmentedRaftLogWorker: flush SegmentedRaftLogOutputStream(/workdir/ratis-test/target/test/data/aaa4fccd/MiniRaftClusterWithNettyac8e1cad/s4/36869398-fbcf-49ef-8a37-e7d5050f4609/current/log_inprogress_3)
2019-09-24 12:06:45,100 DEBUG impl.RaftServerImpl (RaftServerImpl.java:logAppendEntries(850)) - s1@group-E7D5050F4609: receive appendEntries(s4, 3, (t:3, i:3), 3, false, commits[s4:c3, s3:c-1, s0:c2, s1:c2, s2:c2], entries: (t:3, i:4), METADATAENTRY(c3)
2019-09-24 12:06:45,100 DEBUG impl.RaftServerImpl (RaftServerImpl.java:logAppendEntries(850)) - s2@group-E7D5050F4609: receive appendEntries(s4, 3, (t:3, i:3), 3, false, commits[s4:c3, s3:c-1, s0:c2, s1:c2, s2:c2], entries: (t:3, i:4), METADATAENTRY(c3)
2019-09-24 12:06:45,100 DEBUG impl.RaftServerImpl (RaftServerImpl.java:logAppendEntries(850)) - s0@group-E7D5050F4609: receive appendEntries(s4, 3, (t:3, i:3), 3, false, commits[s4:c3, s3:c-1, s0:c2, s1:c2, s2:c2], entries: (t:3, i:4), METADATAENTRY(c3)
2019-09-24 12:06:45,101 DEBUG segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:addIOTask(251)) - s2@group-E7D5050F4609-SegmentedRaftLogWorker adds IO task WriteLog:4: (t:3, i:4), METADATAENTRY(c3)
2019-09-24 12:06:45,101 DEBUG segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:addIOTask(251)) - s1@group-E7D5050F4609-SegmentedRaftLogWorker adds IO task WriteLog:4: (t:3, i:4), METADATAENTRY(c3)
2019-09-24 12:06:45,102 DEBUG segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:flushWrites(340)) - s2@group-E7D5050F4609-SegmentedRaftLogWorker: flush SegmentedRaftLogOutputStream(/workdir/ratis-test/target/test/data/aaa4fccd/MiniRaftClusterWithNettyac8e1cad/s2/36869398-fbcf-49ef-8a37-e7d5050f4609/current/log_inprogress_3)
2019-09-24 12:06:45,101 DEBUG segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:addIOTask(251)) - s0@group-E7D5050F4609-SegmentedRaftLogWorker adds IO task WriteLog:4: (t:3, i:4), METADATAENTRY(c3)
2019-09-24 12:06:45,102 DEBUG segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:flushWrites(340)) - s1@group-E7D5050F4609-SegmentedRaftLogWorker: flush SegmentedRaftLogOutputStream(/workdir/ratis-test/target/test/data/aaa4fccd/MiniRaftClusterWithNettyac8e1cad/s1/36869398-fbcf-49ef-8a37-e7d5050f4609/current/log_inprogress_3)
2019-09-24 12:06:45,103 DEBUG segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:flushWrites(340)) - s0@group-E7D5050F4609-SegmentedRaftLogWorker: flush SegmentedRaftLogOutputStream(/workdir/ratis-test/target/test/data/aaa4fccd/MiniRaftClusterWithNettyac8e1cad/s0/36869398-fbcf-49ef-8a37-e7d5050f4609/current/log_inprogress_3)
2019-09-24 12:06:45,107 DEBUG impl.RaftServerImpl (RaftServerImpl.java:requestVote(775)) - s2@group-9DDC70D1F0F3 replies to vote request: s0<-s2#0:OK-t4. Peer's state: s2@group-9DDC70D1F0F3:t4, leader=null, voted=s0, raftlog=s2@group-9DDC70D1F0F3-SegmentedRaftLog:OPENED:c0,f0,i0, conf=0: [s0:0.0.0.0:37243, s1:0.0.0.0:38994, s2:0.0.0.0:36346], old=null
2019-09-24 12:06:45,107 DEBUG impl.RaftServerImpl (RaftServerImpl.java:requestVote(775)) - s1@group-9DDC70D1F0F3 replies to vote request: s0<-s1#0:OK-t4. Peer's state: s1@group-9DDC70D1F0F3:t4, leader=null, voted=s0, raftlog=s1@group-9DDC70D1F0F3-SegmentedRaftLog:OPENED:c0,f0,i0, conf=0: [s0:0.0.0.0:37243, s1:0.0.0.0:38994, s2:0.0.0.0:36346], old=null
2019-09-24 12:06:45,108 INFO  impl.LeaderElection (LeaderElection.java:logAndReturn(56)) - s0@group-9DDC70D1F0F3-LeaderElection21: Election PASSED; received 1 response(s) [s0<-s2#0:OK-t4] and 0 exception(s); s0@group-9DDC70D1F0F3:t4, leader=null, voted=s0, raftlog=s0@group-9DDC70D1F0F3-SegmentedRaftLog:OPENED:c0,f0,i0, conf=0: [s0:0.0.0.0:37243, s1:0.0.0.0:38994, s2:0.0.0.0:36346], old=null
2019-09-24 12:06:45,108 INFO  impl.RoleInfo (RoleInfo.java:shutdownLeaderElection(134)) - s0: shutdown LeaderElection
2019-09-24 12:06:45,109 INFO  impl.RaftServerImpl (RaftServerImpl.java:setRole(170)) - s0@group-9DDC70D1F0F3: changes role from CANDIDATE to LEADER at term 4 for changeToLeader
2019-09-24 12:06:45,109 INFO  impl.RaftServerImpl (ServerState.java:setLeader(254)) - s0@group-9DDC70D1F0F3: change Leader from null to s0 at term 4 for becomeLeader, leader elected after 495ms
2019-09-24 12:06:45,109 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.staging.catchup.gap = 1000 (default)
2019-09-24 12:06:45,109 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.rpc.sleep.time = 25ms (default)
2019-09-24 12:06:45,110 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.write.element-limit = 4096 (default)
2019-09-24 12:06:45,110 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.watch.timeout = 10s (default)
2019-09-24 12:06:45,110 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.watch.timeout.denomination = 1s (default)
2019-09-24 12:06:45,110 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.watch.element-limit = 65536 (default)
2019-09-24 12:06:45,110 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.log.appender.snapshot.chunk.size.max = 16MB (=16777216) (default)
2019-09-24 12:06:45,111 TRACE segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:lambda$new$1(133)) - s4@group-E7D5050F4609-SegmentedRaftLogWorker: flushIndex: updateIncreasingly 3 -> 4
2019-09-24 12:06:45,111 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.log.appender.buffer.byte-limit = 4MB (=4194304) (default)
2019-09-24 12:06:45,111 TRACE segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:lambda$new$1(133)) - s0@group-E7D5050F4609-SegmentedRaftLogWorker: flushIndex: updateIncreasingly 3 -> 4
2019-09-24 12:06:45,111 TRACE segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:lambda$new$1(133)) - s2@group-E7D5050F4609-SegmentedRaftLogWorker: flushIndex: updateIncreasingly 3 -> 4
2019-09-24 12:06:45,111 TRACE segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:lambda$new$1(133)) - s1@group-E7D5050F4609-SegmentedRaftLogWorker: flushIndex: updateIncreasingly 3 -> 4
2019-09-24 12:06:45,111 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.log.appender.buffer.element-limit = 0 (default)
2019-09-24 12:06:45,112 DEBUG impl.RaftServerImpl (RaftServerImpl.java:logAppendEntries(850)) - s2@group-E7D5050F4609: succeeded to handle AppendEntries. Reply: s4<-s2#0:OK,SUCCESS,nextIndex:5,term:3,followerCommit:3
2019-09-24 12:06:45,112 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.log.appender.snapshot.chunk.size.max = 16MB (=16777216) (default)
2019-09-24 12:06:45,112 DEBUG impl.RaftServerImpl (RaftServerImpl.java:logAppendEntries(850)) - s0@group-E7D5050F4609: succeeded to handle AppendEntries. Reply: s4<-s0#0:OK,SUCCESS,nextIndex:5,term:3,followerCommit:3
2019-09-24 12:06:45,113 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.log.appender.buffer.byte-limit = 4MB (=4194304) (default)
2019-09-24 12:06:45,112 DEBUG impl.RaftServerImpl (RaftServerImpl.java:logAppendEntries(850)) - s1@group-E7D5050F4609: succeeded to handle AppendEntries. Reply: s4<-s1#0:OK,SUCCESS,nextIndex:5,term:3,followerCommit:3
2019-09-24 12:06:45,113 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.log.appender.buffer.element-limit = 0 (default)
2019-09-24 12:06:45,115 INFO  impl.RoleInfo (RoleInfo.java:updateAndGet(143)) - s0: start LeaderState
2019-09-24 12:06:45,115 INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:rollLogSegment(385)) - s0@group-9DDC70D1F0F3-SegmentedRaftLogWorker: Rolling segment log-0_0 to index:0
2019-09-24 12:06:45,115 DEBUG segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:addIOTask(251)) - s0@group-9DDC70D1F0F3-SegmentedRaftLogWorker adds IO task FinalizeLogSegment:0: startIndex=0 endIndex=0
2019-09-24 12:06:45,115 DEBUG segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:addIOTask(251)) - s0@group-9DDC70D1F0F3-SegmentedRaftLogWorker adds IO task StartLogSegment:1
2019-09-24 12:06:45,116 DEBUG segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:addIOTask(251)) - s0@group-9DDC70D1F0F3-SegmentedRaftLogWorker adds IO task WriteLog:1: (t:4, i:1), CONFIGURATIONENTRY
2019-09-24 12:06:45,116 INFO  impl.RaftServerImpl (ServerState.java:setRaftConf(355)) - s0@group-9DDC70D1F0F3: set configuration 1: [s0:0.0.0.0:37243, s1:0.0.0.0:38994, s2:0.0.0.0:36346], old=null at 1
2019-09-24 12:06:45,118 INFO  impl.RaftServerImpl (ServerState.java:setLeader(254)) - s1@group-9DDC70D1F0F3: change Leader from null to s0 at term 4 for appendEntries, leader elected after 547ms
2019-09-24 12:06:45,118 INFO  impl.RaftServerImpl (ServerState.java:setLeader(254)) - s2@group-9DDC70D1F0F3: change Leader from null to s0 at term 4 for appendEntries, leader elected after 540ms
2019-09-24 12:06:45,118 TRACE util.FileUtils (LogUtils.java:runAndLog(61)) - Successfully ran Files.move /workdir/ratis-test/target/test/data/aaa4fccd/MiniRaftClusterWithNetty53617c77/s0/8282875c-54dc-4ebb-a985-9ddc70d1f0f3/current/log_inprogress_0 to /workdir/ratis-test/target/test/data/aaa4fccd/MiniRaftClusterWithNetty53617c77/s0/8282875c-54dc-4ebb-a985-9ddc70d1f0f3/current/log_0-0
2019-09-24 12:06:45,118 INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:execute(526)) - s0@group-9DDC70D1F0F3-SegmentedRaftLogWorker: Rolled log segment from /workdir/ratis-test/target/test/data/aaa4fccd/MiniRaftClusterWithNetty53617c77/s0/8282875c-54dc-4ebb-a985-9ddc70d1f0f3/current/log_inprogress_0 to /workdir/ratis-test/target/test/data/aaa4fccd/MiniRaftClusterWithNetty53617c77/s0/8282875c-54dc-4ebb-a985-9ddc70d1f0f3/current/log_0-0
2019-09-24 12:06:45,118 TRACE segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:lambda$new$1(133)) - s0@group-9DDC70D1F0F3-SegmentedRaftLogWorker: flushIndex: updateIncreasingly 0 -> 0
2019-09-24 12:06:45,120 DEBUG impl.RaftServerImpl (RaftServerImpl.java:logAppendEntries(850)) - s2@group-9DDC70D1F0F3: receive appendEntries(s0, 4, (t:1, i:0), 0, false, commits[s0:c0, s1:c0, s2:c0], entries: (t:4, i:1), CONFIGURATIONENTRY
2019-09-24 12:06:45,120 DEBUG impl.RaftServerImpl (RaftServerImpl.java:logAppendEntries(850)) - s1@group-9DDC70D1F0F3: receive appendEntries(s0, 4, (t:1, i:0), 0, false, commits[s0:c0, s1:c0, s2:c0], entries: (t:4, i:1), CONFIGURATIONENTRY
2019-09-24 12:06:45,120 INFO  impl.RaftServerImpl (ServerState.java:setRaftConf(355)) - s2@group-9DDC70D1F0F3: set configuration 1: [s0:0.0.0.0:37243, s1:0.0.0.0:38994, s2:0.0.0.0:36346], old=null at 1
2019-09-24 12:06:45,120 INFO  impl.RaftServerImpl (ServerState.java:setRaftConf(355)) - s1@group-9DDC70D1F0F3: set configuration 1: [s0:0.0.0.0:37243, s1:0.0.0.0:38994, s2:0.0.0.0:36346], old=null at 1
2019-09-24 12:06:45,121 INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:rollLogSegment(385)) - s2@group-9DDC70D1F0F3-SegmentedRaftLogWorker: Rolling segment log-0_0 to index:0
2019-09-24 12:06:45,121 INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:rollLogSegment(385)) - s1@group-9DDC70D1F0F3-SegmentedRaftLogWorker: Rolling segment log-0_0 to index:0
2019-09-24 12:06:45,121 DEBUG segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:addIOTask(251)) - s2@group-9DDC70D1F0F3-SegmentedRaftLogWorker adds IO task FinalizeLogSegment:0: startIndex=0 endIndex=0
2019-09-24 12:06:45,122 DEBUG segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:addIOTask(251)) - s1@group-9DDC70D1F0F3-SegmentedRaftLogWorker adds IO task FinalizeLogSegment:0: startIndex=0 endIndex=0
2019-09-24 12:06:45,122 INFO  impl.FollowerState (FollowerState.java:run(108)) - s0@group-04E6F89F5A1C-FollowerState: change to CANDIDATE, lastRpcTime:319ms, electionTimeout:156ms
2019-09-24 12:06:45,122 DEBUG segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:addIOTask(251)) - s2@group-9DDC70D1F0F3-SegmentedRaftLogWorker adds IO task StartLogSegment:1
2019-09-24 12:06:45,122 INFO  impl.RoleInfo (RoleInfo.java:shutdownFollowerState(121)) - s0: shutdown FollowerState
2019-09-24 12:06:45,122 DEBUG segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:addIOTask(251)) - s1@group-9DDC70D1F0F3-SegmentedRaftLogWorker adds IO task StartLogSegment:1
2019-09-24 12:06:45,123 INFO  impl.RaftServerImpl (RaftServerImpl.java:setRole(170)) - s0@group-04E6F89F5A1C: changes role from  FOLLOWER to CANDIDATE at term 4 for changeToCandidate
2019-09-24 12:06:45,123 DEBUG segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:addIOTask(251)) - s2@group-9DDC70D1F0F3-SegmentedRaftLogWorker adds IO task WriteLog:1: (t:4, i:1), CONFIGURATIONENTRY
2019-09-24 12:06:45,123 INFO  impl.RoleInfo (RoleInfo.java:updateAndGet(143)) - s0: start LeaderElection
2019-09-24 12:06:45,123 DEBUG segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:addIOTask(251)) - s1@group-9DDC70D1F0F3-SegmentedRaftLogWorker adds IO task WriteLog:1: (t:4, i:1), CONFIGURATIONENTRY
2019-09-24 12:06:45,125 INFO  impl.RaftServerImpl (ServerState.java:setLeader(254)) - s0@group-04E6F89F5A1C: change Leader from s1 to null at term 4 for initElection
2019-09-24 12:06:45,125 TRACE util.FileUtils (LogUtils.java:runAndLog(61)) - Successfully ran Files.move /workdir/ratis-test/target/test/data/aaa4fccd/MiniRaftClusterWithNetty53617c77/s2/8282875c-54dc-4ebb-a985-9ddc70d1f0f3/current/log_inprogress_0 to /workdir/ratis-test/target/test/data/aaa4fccd/MiniRaftClusterWithNetty53617c77/s2/8282875c-54dc-4ebb-a985-9ddc70d1f0f3/current/log_0-0
2019-09-24 12:06:45,125 TRACE util.FileUtils (LogUtils.java:runAndLog(61)) - Successfully ran Files.move /workdir/ratis-test/target/test/data/aaa4fccd/MiniRaftClusterWithNetty53617c77/s1/8282875c-54dc-4ebb-a985-9ddc70d1f0f3/current/log_inprogress_0 to /workdir/ratis-test/target/test/data/aaa4fccd/MiniRaftClusterWithNetty53617c77/s1/8282875c-54dc-4ebb-a985-9ddc70d1f0f3/current/log_0-0
2019-09-24 12:06:45,126 INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:execute(526)) - s2@group-9DDC70D1F0F3-SegmentedRaftLogWorker: Rolled log segment from /workdir/ratis-test/target/test/data/aaa4fccd/MiniRaftClusterWithNetty53617c77/s2/8282875c-54dc-4ebb-a985-9ddc70d1f0f3/current/log_inprogress_0 to /workdir/ratis-test/target/test/data/aaa4fccd/MiniRaftClusterWithNetty53617c77/s2/8282875c-54dc-4ebb-a985-9ddc70d1f0f3/current/log_0-0
2019-09-24 12:06:45,126 INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:execute(526)) - s1@group-9DDC70D1F0F3-SegmentedRaftLogWorker: Rolled log segment from /workdir/ratis-test/target/test/data/aaa4fccd/MiniRaftClusterWithNetty53617c77/s1/8282875c-54dc-4ebb-a985-9ddc70d1f0f3/current/log_inprogress_0 to /workdir/ratis-test/target/test/data/aaa4fccd/MiniRaftClusterWithNetty53617c77/s1/8282875c-54dc-4ebb-a985-9ddc70d1f0f3/current/log_0-0
2019-09-24 12:06:45,126 TRACE segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:lambda$new$1(133)) - s2@group-9DDC70D1F0F3-SegmentedRaftLogWorker: flushIndex: updateIncreasingly 0 -> 0
2019-09-24 12:06:45,126 TRACE segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:lambda$new$1(133)) - s1@group-9DDC70D1F0F3-SegmentedRaftLogWorker: flushIndex: updateIncreasingly 0 -> 0
2019-09-24 12:06:45,171 INFO  impl.FollowerState (FollowerState.java:run(108)) - s2@group-04E6F89F5A1C-FollowerState: change to CANDIDATE, lastRpcTime:360ms, electionTimeout:240ms
2019-09-24 12:06:45,171 INFO  impl.RoleInfo (RoleInfo.java:shutdownFollowerState(121)) - s2: shutdown FollowerState
2019-09-24 12:06:45,171 INFO  impl.RaftServerImpl (RaftServerImpl.java:setRole(170)) - s2@group-04E6F89F5A1C: changes role from  FOLLOWER to CANDIDATE at term 4 for changeToCandidate
2019-09-24 12:06:45,171 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.rpc.timeout.max = 300ms (default)
2019-09-24 12:06:45,171 INFO  impl.RoleInfo (RoleInfo.java:updateAndGet(143)) - s2: start LeaderElection
2019-09-24 12:06:45,172 INFO  ratis.RaftTestUtil (RaftTestUtil.java:waitForLeader(86)) - printing ALL groups
  s0:  RUNNING CANDIDATE s0@group-04E6F89F5A1C:t5, leader=null, voted=s0, raftlog=s0@group-04E6F89F5A1C-SegmentedRaftLog:OPENED:c3,f4,i4, conf=4: [s0:0.0.0.0:34119, s1:0.0.0.0:44382, s2:0.0.0.0:42516], old=null RUNNING
  s1:  RUNNING    LEADER s1@group-04E6F89F5A1C:t4, leader=s1, voted=s1, raftlog=s1@group-04E6F89F5A1C-SegmentedRaftLog:OPENED:c4,f5,i5, conf=4: [s0:0.0.0.0:34119, s1:0.0.0.0:44382, s2:0.0.0.0:42516], old=null RUNNING
  s2:  RUNNING CANDIDATE s2@group-04E6F89F5A1C:t4, leader=s1, voted=s1, raftlog=s2@group-04E6F89F5A1C-SegmentedRaftLog:OPENED:c3,f4,i4, conf=4: [s0:0.0.0.0:34119, s1:0.0.0.0:44382, s2:0.0.0.0:42516], old=null RUNNING
2019-09-24 12:06:45,173 INFO  impl.RaftServerImpl (ServerState.java:setLeader(254)) - s2@group-04E6F89F5A1C: change Leader from s1 to null at term 4 for initElection
2019-09-24 12:06:45,173 INFO  ratis.RaftTestUtil (RaftTestUtil.java:waitForLeader(101)) - printing ALL groups
  s0:  RUNNING CANDIDATE s0@group-04E6F89F5A1C:t5, leader=null, voted=s0, raftlog=s0@group-04E6F89F5A1C-SegmentedRaftLog:OPENED:c3,f4,i4, conf=4: [s0:0.0.0.0:34119, s1:0.0.0.0:44382, s2:0.0.0.0:42516], old=null RUNNING
  s1:  RUNNING    LEADER s1@group-04E6F89F5A1C:t4, leader=s1, voted=s1, raftlog=s1@group-04E6F89F5A1C-SegmentedRaftLog:OPENED:c4,f5,i5, conf=4: [s0:0.0.0.0:34119, s1:0.0.0.0:44382, s2:0.0.0.0:42516], old=null RUNNING
  s2:  RUNNING CANDIDATE s2@group-04E6F89F5A1C:t5, leader=null, voted=s2, raftlog=s2@group-04E6F89F5A1C-SegmentedRaftLog:OPENED:c3,f4,i4, conf=4: [s0:0.0.0.0:34119, s1:0.0.0.0:44382, s2:0.0.0.0:42516], old=null RUNNING
2019-09-24 12:06:45,174 WARN  ratis.RaftTestUtil (JavaUtils.java:attempt(158)) - FAILED "testChangeLeader-changeLeader", attempt #6/20: java.lang.IllegalStateException: Failed to change leader: newLeader == oldLeader == s1, sleep 100ms and then retry.
java.lang.IllegalStateException: Failed to change leader: newLeader == oldLeader == s1
	at org.apache.ratis.RaftTestUtil.lambda$changeLeader$7(RaftTestUtil.java:365)
	at org.apache.ratis.util.JavaUtils.attempt(JavaUtils.java:152)
	at org.apache.ratis.RaftTestUtil.changeLeader(RaftTestUtil.java:362)
	at org.apache.ratis.server.impl.LeaderElectionTests.testChangeLeader(LeaderElectionTests.java:81)
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.lang.reflect.Method.invoke(Method.java:498)
	at org.junit.runners.model.FrameworkMethod$1.runReflectiveCall(FrameworkMethod.java:50)
	at org.junit.internal.runners.model.ReflectiveCallable.run(ReflectiveCallable.java:12)
	at org.junit.runners.model.FrameworkMethod.invokeExplosively(FrameworkMethod.java:47)
	at org.junit.internal.runners.statements.InvokeMethod.evaluate(InvokeMethod.java:17)
	at org.junit.internal.runners.statements.RunAfters.evaluate(RunAfters.java:27)
	at org.junit.internal.runners.statements.FailOnTimeout$CallableStatement.call(FailOnTimeout.java:298)
	at org.junit.internal.runners.statements.FailOnTimeout$CallableStatement.call(FailOnTimeout.java:292)
	at java.util.concurrent.FutureTask.run(FutureTask.java:266)
	at java.lang.Thread.run(Thread.java:748)
2019-09-24 12:06:45,274 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.rpc.timeout.max = 300ms (default)
2019-09-24 12:06:45,275 INFO  ratis.RaftTestUtil (RaftTestUtil.java:waitForLeader(86)) - printing ALL groups
  s0:  RUNNING CANDIDATE s0@group-04E6F89F5A1C:t5, leader=null, voted=s0, raftlog=s0@group-04E6F89F5A1C-SegmentedRaftLog:OPENED:c3,f4,i4, conf=4: [s0:0.0.0.0:34119, s1:0.0.0.0:44382, s2:0.0.0.0:42516], old=null RUNNING
  s1:  RUNNING    LEADER s1@group-04E6F89F5A1C:t4, leader=s1, voted=s1, raftlog=s1@group-04E6F89F5A1C-SegmentedRaftLog:OPENED:c4,f5,i5, conf=4: [s0:0.0.0.0:34119, s1:0.0.0.0:44382, s2:0.0.0.0:42516], old=null RUNNING
  s2:  RUNNING CANDIDATE s2@group-04E6F89F5A1C:t5, leader=null, voted=s2, raftlog=s2@group-04E6F89F5A1C-SegmentedRaftLog:OPENED:c3,f4,i4, conf=4: [s0:0.0.0.0:34119, s1:0.0.0.0:44382, s2:0.0.0.0:42516], old=null RUNNING
2019-09-24 12:06:45,276 INFO  ratis.RaftTestUtil (RaftTestUtil.java:waitForLeader(101)) - printing ALL groups
  s0:  RUNNING CANDIDATE s0@group-04E6F89F5A1C:t5, leader=null, voted=s0, raftlog=s0@group-04E6F89F5A1C-SegmentedRaftLog:OPENED:c3,f4,i4, conf=4: [s0:0.0.0.0:34119, s1:0.0.0.0:44382, s2:0.0.0.0:42516], old=null RUNNING
  s1:  RUNNING    LEADER s1@group-04E6F89F5A1C:t4, leader=s1, voted=s1, raftlog=s1@group-04E6F89F5A1C-SegmentedRaftLog:OPENED:c4,f5,i5, conf=4: [s0:0.0.0.0:34119, s1:0.0.0.0:44382, s2:0.0.0.0:42516], old=null RUNNING
  s2:  RUNNING CANDIDATE s2@group-04E6F89F5A1C:t5, leader=null, voted=s2, raftlog=s2@group-04E6F89F5A1C-SegmentedRaftLog:OPENED:c3,f4,i4, conf=4: [s0:0.0.0.0:34119, s1:0.0.0.0:44382, s2:0.0.0.0:42516], old=null RUNNING
2019-09-24 12:06:45,276 WARN  ratis.RaftTestUtil (JavaUtils.java:attempt(158)) - FAILED "testChangeLeader-changeLeader", attempt #7/20: java.lang.IllegalStateException: Failed to change leader: newLeader == oldLeader == s1, sleep 100ms and then retry.
java.lang.IllegalStateException: Failed to change leader: newLeader == oldLeader == s1
	at org.apache.ratis.RaftTestUtil.lambda$changeLeader$7(RaftTestUtil.java:365)
	at org.apache.ratis.util.JavaUtils.attempt(JavaUtils.java:152)
	at org.apache.ratis.RaftTestUtil.changeLeader(RaftTestUtil.java:362)
	at org.apache.ratis.server.impl.LeaderElectionTests.testChangeLeader(LeaderElectionTests.java:81)
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.lang.reflect.Method.invoke(Method.java:498)
	at org.junit.runners.model.FrameworkMethod$1.runReflectiveCall(FrameworkMethod.java:50)
	at org.junit.internal.runners.model.ReflectiveCallable.run(ReflectiveCallable.java:12)
	at org.junit.runners.model.FrameworkMethod.invokeExplosively(FrameworkMethod.java:47)
	at org.junit.internal.runners.statements.InvokeMethod.evaluate(InvokeMethod.java:17)
	at org.junit.internal.runners.statements.RunAfters.evaluate(RunAfters.java:27)
	at org.junit.internal.runners.statements.FailOnTimeout$CallableStatement.call(FailOnTimeout.java:298)
	at org.junit.internal.runners.statements.FailOnTimeout$CallableStatement.call(FailOnTimeout.java:292)
	at java.util.concurrent.FutureTask.run(FutureTask.java:266)
	at java.lang.Thread.run(Thread.java:748)
2019-09-24 12:06:45,296 INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:execute(569)) - s2@group-9DDC70D1F0F3-SegmentedRaftLogWorker: created new log segment /workdir/ratis-test/target/test/data/aaa4fccd/MiniRaftClusterWithNetty53617c77/s2/8282875c-54dc-4ebb-a985-9ddc70d1f0f3/current/log_inprogress_1
2019-09-24 12:06:45,297 INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:execute(569)) - s0@group-9DDC70D1F0F3-SegmentedRaftLogWorker: created new log segment /workdir/ratis-test/target/test/data/aaa4fccd/MiniRaftClusterWithNetty53617c77/s0/8282875c-54dc-4ebb-a985-9ddc70d1f0f3/current/log_inprogress_1
2019-09-24 12:06:45,296 INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:execute(569)) - s1@group-9DDC70D1F0F3-SegmentedRaftLogWorker: created new log segment /workdir/ratis-test/target/test/data/aaa4fccd/MiniRaftClusterWithNetty53617c77/s1/8282875c-54dc-4ebb-a985-9ddc70d1f0f3/current/log_inprogress_1
2019-09-24 12:06:45,297 DEBUG segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:flushWrites(340)) - s0@group-9DDC70D1F0F3-SegmentedRaftLogWorker: flush SegmentedRaftLogOutputStream(/workdir/ratis-test/target/test/data/aaa4fccd/MiniRaftClusterWithNetty53617c77/s0/8282875c-54dc-4ebb-a985-9ddc70d1f0f3/current/log_inprogress_1)
2019-09-24 12:06:45,297 DEBUG segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:flushWrites(340)) - s2@group-9DDC70D1F0F3-SegmentedRaftLogWorker: flush SegmentedRaftLogOutputStream(/workdir/ratis-test/target/test/data/aaa4fccd/MiniRaftClusterWithNetty53617c77/s2/8282875c-54dc-4ebb-a985-9ddc70d1f0f3/current/log_inprogress_1)
2019-09-24 12:06:45,297 DEBUG segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:flushWrites(340)) - s1@group-9DDC70D1F0F3-SegmentedRaftLogWorker: flush SegmentedRaftLogOutputStream(/workdir/ratis-test/target/test/data/aaa4fccd/MiniRaftClusterWithNetty53617c77/s1/8282875c-54dc-4ebb-a985-9ddc70d1f0f3/current/log_inprogress_1)
2019-09-24 12:06:45,299 INFO  impl.LeaderElection (LeaderElection.java:askForVotes(178)) - s0@group-04E6F89F5A1C-LeaderElection22: begin an election at term 5 for 4: [s0:0.0.0.0:34119, s1:0.0.0.0:44382, s2:0.0.0.0:42516], old=null
2019-09-24 12:06:45,300 DEBUG impl.RaftServerImpl (RaftServerImpl.java:requestVote(743)) - s1@group-04E6F89F5A1C: receive requestVote(s0, group-04E6F89F5A1C, 5, (t:4, i:4))
2019-09-24 12:06:45,300 DEBUG impl.RaftServerImpl (RaftServerImpl.java:requestVote(743)) - s2@group-04E6F89F5A1C: receive requestVote(s0, group-04E6F89F5A1C, 5, (t:4, i:4))
2019-09-24 12:06:45,301 INFO  impl.RaftServerImpl (ServerState.java:setLeader(254)) - s1@group-04E6F89F5A1C: change Leader from s1 to null at term 5 for updateCurrentTerm
2019-09-24 12:06:45,301 INFO  impl.RaftServerImpl (RaftServerImpl.java:setRole(170)) - s1@group-04E6F89F5A1C: changes role from    LEADER to FOLLOWER at term 5 for recognizeCandidate:s0
2019-09-24 12:06:45,301 INFO  impl.RoleInfo (RoleInfo.java:shutdownLeaderState(104)) - s1: shutdown LeaderState
2019-09-24 12:06:45,303 TRACE segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:lambda$new$1(133)) - s1@group-9DDC70D1F0F3-SegmentedRaftLogWorker: flushIndex: updateIncreasingly 0 -> 1
2019-09-24 12:06:45,303 INFO  impl.LogAppender (LogAppender.java:run(78)) - s1@group-04E6F89F5A1C->s0-LogAppender-AppenderDaemon was interrupted: java.io.InterruptedIOException: s1->s0#0 sending from s0:0.0.0.0:34119 is interrupted.
2019-09-24 12:06:45,303 INFO  impl.PendingRequests (PendingRequests.java:sendNotLeaderResponses(202)) - s1@group-04E6F89F5A1C-PendingRequests: sendNotLeaderResponses
2019-09-24 12:06:45,303 TRACE segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:lambda$new$1(133)) - s0@group-9DDC70D1F0F3-SegmentedRaftLogWorker: flushIndex: updateIncreasingly 0 -> 1
2019-09-24 12:06:45,303 INFO  impl.LogAppender (LogAppender.java:run(78)) - s1@group-04E6F89F5A1C->s2-LogAppender-AppenderDaemon was interrupted: java.io.InterruptedIOException: s1->s2#0 sending from s2:0.0.0.0:42516 is interrupted.
2019-09-24 12:06:45,303 TRACE segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:lambda$new$1(133)) - s2@group-9DDC70D1F0F3-SegmentedRaftLogWorker: flushIndex: updateIncreasingly 0 -> 1
2019-09-24 12:06:45,307 INFO  impl.RoleInfo (RoleInfo.java:updateAndGet(143)) - s1: start FollowerState
2019-09-24 12:06:45,308 DEBUG impl.RaftServerImpl (RaftServerImpl.java:logAppendEntries(850)) - s2@group-9DDC70D1F0F3: succeeded to handle AppendEntries. Reply: s0<-s2#0:OK,SUCCESS,nextIndex:2,term:4,followerCommit:0
2019-09-24 12:06:45,305 DEBUG impl.RaftServerImpl (RaftServerImpl.java:logAppendEntries(850)) - s1@group-9DDC70D1F0F3: succeeded to handle AppendEntries. Reply: s0<-s1#0:OK,SUCCESS,nextIndex:2,term:4,followerCommit:0
2019-09-24 12:06:45,309 DEBUG segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:addIOTask(251)) - s0@group-9DDC70D1F0F3-SegmentedRaftLogWorker adds IO task WriteLog:2: (t:4, i:2), METADATAENTRY(c1)
2019-09-24 12:06:45,312 DEBUG segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:flushWrites(340)) - s0@group-9DDC70D1F0F3-SegmentedRaftLogWorker: flush SegmentedRaftLogOutputStream(/workdir/ratis-test/target/test/data/aaa4fccd/MiniRaftClusterWithNetty53617c77/s0/8282875c-54dc-4ebb-a985-9ddc70d1f0f3/current/log_inprogress_1)
2019-09-24 12:06:45,312 DEBUG impl.RaftServerImpl (RaftServerImpl.java:requestVote(775)) - s1@group-04E6F89F5A1C replies to vote request: s0<-s1#0:FAIL-t5. Peer's state: s1@group-04E6F89F5A1C:t5, leader=null, voted=null, raftlog=s1@group-04E6F89F5A1C-SegmentedRaftLog:OPENED:c4,f5,i5, conf=4: [s0:0.0.0.0:34119, s1:0.0.0.0:44382, s2:0.0.0.0:42516], old=null
2019-09-24 12:06:45,312 DEBUG impl.RaftServerImpl (RaftServerImpl.java:requestVote(775)) - s2@group-04E6F89F5A1C replies to vote request: s0<-s2#0:FAIL-t5. Peer's state: s2@group-04E6F89F5A1C:t5, leader=null, voted=s2, raftlog=s2@group-04E6F89F5A1C-SegmentedRaftLog:OPENED:c3,f4,i4, conf=4: [s0:0.0.0.0:34119, s1:0.0.0.0:44382, s2:0.0.0.0:42516], old=null
2019-09-24 12:06:45,312 INFO  impl.LeaderElection (LeaderElection.java:askForVotes(178)) - s2@group-04E6F89F5A1C-LeaderElection23: begin an election at term 5 for 4: [s0:0.0.0.0:34119, s1:0.0.0.0:44382, s2:0.0.0.0:42516], old=null
2019-09-24 12:06:45,313 DEBUG impl.RaftServerImpl (RaftServerImpl.java:logAppendEntries(850)) - s2@group-9DDC70D1F0F3: receive appendEntries(s0, 4, (t:4, i:1), 1, false, commits[s0:c1, s1:c0, s2:c0], entries: (t:4, i:2), METADATAENTRY(c1)
2019-09-24 12:06:45,313 DEBUG impl.RaftServerImpl (RaftServerImpl.java:logAppendEntries(850)) - s1@group-9DDC70D1F0F3: receive appendEntries(s0, 4, (t:4, i:1), 1, false, commits[s0:c1, s1:c0, s2:c0], entries: (t:4, i:2), METADATAENTRY(c1)
2019-09-24 12:06:45,313 DEBUG segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:addIOTask(251)) - s2@group-9DDC70D1F0F3-SegmentedRaftLogWorker adds IO task WriteLog:2: (t:4, i:2), METADATAENTRY(c1)
2019-09-24 12:06:45,313 INFO  impl.LeaderElection (LeaderElection.java:logAndReturn(56)) - s0@group-04E6F89F5A1C-LeaderElection22: Election REJECTED; received 2 response(s) [s0<-s1#0:FAIL-t5, s0<-s2#0:FAIL-t5] and 0 exception(s); s0@group-04E6F89F5A1C:t5, leader=null, voted=s0, raftlog=s0@group-04E6F89F5A1C-SegmentedRaftLog:OPENED:c3,f4,i4, conf=4: [s0:0.0.0.0:34119, s1:0.0.0.0:44382, s2:0.0.0.0:42516], old=null
2019-09-24 12:06:45,314 DEBUG impl.RaftServerImpl (RaftServerImpl.java:requestVote(743)) - s1@group-04E6F89F5A1C: receive requestVote(s2, group-04E6F89F5A1C, 5, (t:4, i:4))
2019-09-24 12:06:45,314 DEBUG impl.RaftServerImpl (RaftServerImpl.java:requestVote(743)) - s0@group-04E6F89F5A1C: receive requestVote(s2, group-04E6F89F5A1C, 5, (t:4, i:4))
2019-09-24 12:06:45,314 DEBUG segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:addIOTask(251)) - s1@group-9DDC70D1F0F3-SegmentedRaftLogWorker adds IO task WriteLog:2: (t:4, i:2), METADATAENTRY(c1)
2019-09-24 12:06:45,317 INFO  impl.RaftServerImpl (RaftServerImpl.java:setRole(170)) - s1@group-04E6F89F5A1C: changes role from  FOLLOWER to FOLLOWER at term 5 for recognizeCandidate:s2
2019-09-24 12:06:45,314 INFO  impl.RaftServerImpl (RaftServerImpl.java:setRole(170)) - s0@group-04E6F89F5A1C: changes role from CANDIDATE to FOLLOWER at term 5 for DISCOVERED_A_NEW_TERM
2019-09-24 12:06:45,318 INFO  impl.RoleInfo (RoleInfo.java:shutdownLeaderElection(134)) - s0: shutdown LeaderElection
2019-09-24 12:06:45,314 DEBUG segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:flushWrites(340)) - s2@group-9DDC70D1F0F3-SegmentedRaftLogWorker: flush SegmentedRaftLogOutputStream(/workdir/ratis-test/target/test/data/aaa4fccd/MiniRaftClusterWithNetty53617c77/s2/8282875c-54dc-4ebb-a985-9ddc70d1f0f3/current/log_inprogress_1)
2019-09-24 12:06:45,318 INFO  impl.RoleInfo (RoleInfo.java:updateAndGet(143)) - s0: start FollowerState
2019-09-24 12:06:45,318 INFO  impl.RoleInfo (RoleInfo.java:shutdownFollowerState(121)) - s1: shutdown FollowerState
2019-09-24 12:06:45,317 DEBUG segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:flushWrites(340)) - s1@group-9DDC70D1F0F3-SegmentedRaftLogWorker: flush SegmentedRaftLogOutputStream(/workdir/ratis-test/target/test/data/aaa4fccd/MiniRaftClusterWithNetty53617c77/s1/8282875c-54dc-4ebb-a985-9ddc70d1f0f3/current/log_inprogress_1)
2019-09-24 12:06:45,319 INFO  impl.FollowerState (FollowerState.java:run(117)) - s1@group-04E6F89F5A1C-FollowerState was interrupted: java.lang.InterruptedException: sleep interrupted
2019-09-24 12:06:45,319 INFO  impl.RoleInfo (RoleInfo.java:updateAndGet(143)) - s1: start FollowerState
2019-09-24 12:06:45,319 DEBUG impl.RaftServerImpl (RaftServerImpl.java:requestVote(775)) - s0@group-04E6F89F5A1C replies to vote request: s2<-s0#0:FAIL-t5. Peer's state: s0@group-04E6F89F5A1C:t5, leader=null, voted=s0, raftlog=s0@group-04E6F89F5A1C-SegmentedRaftLog:OPENED:c3,f4,i4, conf=4: [s0:0.0.0.0:34119, s1:0.0.0.0:44382, s2:0.0.0.0:42516], old=null
2019-09-24 12:06:45,320 DEBUG impl.RaftServerImpl (RaftServerImpl.java:requestVote(775)) - s1@group-04E6F89F5A1C replies to vote request: s2<-s1#0:FAIL-t5. Peer's state: s1@group-04E6F89F5A1C:t5, leader=null, voted=null, raftlog=s1@group-04E6F89F5A1C-SegmentedRaftLog:OPENED:c4,f5,i5, conf=4: [s0:0.0.0.0:34119, s1:0.0.0.0:44382, s2:0.0.0.0:42516], old=null
2019-09-24 12:06:45,321 INFO  impl.LeaderElection (LeaderElection.java:logAndReturn(56)) - s2@group-04E6F89F5A1C-LeaderElection23: Election REJECTED; received 2 response(s) [s2<-s0#0:FAIL-t5, s2<-s1#0:FAIL-t5] and 0 exception(s); s2@group-04E6F89F5A1C:t5, leader=null, voted=s2, raftlog=s2@group-04E6F89F5A1C-SegmentedRaftLog:OPENED:c3,f4,i4, conf=4: [s0:0.0.0.0:34119, s1:0.0.0.0:44382, s2:0.0.0.0:42516], old=null
2019-09-24 12:06:45,321 INFO  impl.RaftServerImpl (RaftServerImpl.java:setRole(170)) - s2@group-04E6F89F5A1C: changes role from CANDIDATE to FOLLOWER at term 5 for DISCOVERED_A_NEW_TERM
2019-09-24 12:06:45,321 INFO  impl.RoleInfo (RoleInfo.java:shutdownLeaderElection(134)) - s2: shutdown LeaderElection
2019-09-24 12:06:45,322 INFO  impl.RoleInfo (RoleInfo.java:updateAndGet(143)) - s2: start FollowerState
2019-09-24 12:06:45,323 TRACE segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:lambda$new$1(133)) - s0@group-9DDC70D1F0F3-SegmentedRaftLogWorker: flushIndex: updateIncreasingly 1 -> 2
2019-09-24 12:06:45,323 TRACE segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:lambda$new$1(133)) - s2@group-9DDC70D1F0F3-SegmentedRaftLogWorker: flushIndex: updateIncreasingly 1 -> 2
2019-09-24 12:06:45,324 WARN  impl.LogAppender (LogAppender.java:sendAppendEntriesWithRetries(274)) - s4@group-E7D5050F4609->s3-LogAppender: Failed to appendEntries (retry=21): org.apache.ratis.thirdparty.io.netty.channel.AbstractChannel$AnnotatedConnectException: Connection refused: /0.0.0.0:40479
2019-09-24 12:06:45,324 TRACE segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:lambda$new$1(133)) - s1@group-9DDC70D1F0F3-SegmentedRaftLogWorker: flushIndex: updateIncreasingly 1 -> 2
2019-09-24 12:06:45,324 DEBUG impl.RaftServerImpl (RaftServerImpl.java:logAppendEntries(850)) - s2@group-9DDC70D1F0F3: succeeded to handle AppendEntries. Reply: s0<-s2#0:OK,SUCCESS,nextIndex:3,term:4,followerCommit:1
2019-09-24 12:06:45,325 DEBUG impl.RaftServerImpl (RaftServerImpl.java:logAppendEntries(850)) - s1@group-9DDC70D1F0F3: succeeded to handle AppendEntries. Reply: s0<-s1#0:OK,SUCCESS,nextIndex:3,term:4,followerCommit:1
2019-09-24 12:06:45,377 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.rpc.timeout.max = 300ms (default)
2019-09-24 12:06:45,377 INFO  ratis.RaftTestUtil (RaftTestUtil.java:waitForLeader(86)) - printing ALL groups
  s0:  RUNNING  FOLLOWER s0@group-04E6F89F5A1C:t5, leader=null, voted=s0, raftlog=s0@group-04E6F89F5A1C-SegmentedRaftLog:OPENED:c3,f4,i4, conf=4: [s0:0.0.0.0:34119, s1:0.0.0.0:44382, s2:0.0.0.0:42516], old=null RUNNING
  s1:  RUNNING  FOLLOWER s1@group-04E6F89F5A1C:t5, leader=null, voted=null, raftlog=s1@group-04E6F89F5A1C-SegmentedRaftLog:OPENED:c4,f5,i5, conf=4: [s0:0.0.0.0:34119, s1:0.0.0.0:44382, s2:0.0.0.0:42516], old=null RUNNING
  s2:  RUNNING  FOLLOWER s2@group-04E6F89F5A1C:t5, leader=null, voted=s2, raftlog=s2@group-04E6F89F5A1C-SegmentedRaftLog:OPENED:c3,f4,i4, conf=4: [s0:0.0.0.0:34119, s1:0.0.0.0:44382, s2:0.0.0.0:42516], old=null RUNNING
2019-09-24 12:06:45,378 WARN  ratis.RaftTestUtil (JavaUtils.java:attempt(158)) - FAILED "waitForLeader-null-(expectLeader? true)", attempt #1/100: java.lang.IllegalStateException: No leader yet : printing ALL groups
  s0:  RUNNING  FOLLOWER s0@group-04E6F89F5A1C:t5, leader=null, voted=s0, raftlog=s0@group-04E6F89F5A1C-SegmentedRaftLog:OPENED:c3,f4,i4, conf=4: [s0:0.0.0.0:34119, s1:0.0.0.0:44382, s2:0.0.0.0:42516], old=null RUNNING
  s1:  RUNNING  FOLLOWER s1@group-04E6F89F5A1C:t5, leader=null, voted=null, raftlog=s1@group-04E6F89F5A1C-SegmentedRaftLog:OPENED:c4,f5,i5, conf=4: [s0:0.0.0.0:34119, s1:0.0.0.0:44382, s2:0.0.0.0:42516], old=null RUNNING
  s2:  RUNNING  FOLLOWER s2@group-04E6F89F5A1C:t5, leader=null, voted=s2, raftlog=s2@group-04E6F89F5A1C-SegmentedRaftLog:OPENED:c3,f4,i4, conf=4: [s0:0.0.0.0:34119, s1:0.0.0.0:44382, s2:0.0.0.0:42516], old=null RUNNING, sleep 450ms and then retry.
java.lang.IllegalStateException: No leader yet : printing ALL groups
  s0:  RUNNING  FOLLOWER s0@group-04E6F89F5A1C:t5, leader=null, voted=s0, raftlog=s0@group-04E6F89F5A1C-SegmentedRaftLog:OPENED:c3,f4,i4, conf=4: [s0:0.0.0.0:34119, s1:0.0.0.0:44382, s2:0.0.0.0:42516], old=null RUNNING
  s1:  RUNNING  FOLLOWER s1@group-04E6F89F5A1C:t5, leader=null, voted=null, raftlog=s1@group-04E6F89F5A1C-SegmentedRaftLog:OPENED:c4,f5,i5, conf=4: [s0:0.0.0.0:34119, s1:0.0.0.0:44382, s2:0.0.0.0:42516], old=null RUNNING
  s2:  RUNNING  FOLLOWER s2@group-04E6F89F5A1C:t5, leader=null, voted=s2, raftlog=s2@group-04E6F89F5A1C-SegmentedRaftLog:OPENED:c3,f4,i4, conf=4: [s0:0.0.0.0:34119, s1:0.0.0.0:44382, s2:0.0.0.0:42516], old=null RUNNING
	at org.apache.ratis.MiniRaftCluster.newIllegalStateExceptionForNoLeaders(MiniRaftCluster.java:506)
	at org.apache.ratis.RaftTestUtil.lambda$waitForLeader$1(RaftTestUtil.java:90)
	at org.apache.ratis.MiniRaftCluster.getLeader(MiniRaftCluster.java:539)
	at org.apache.ratis.MiniRaftCluster.getLeader(MiniRaftCluster.java:532)
	at org.apache.ratis.RaftTestUtil.lambda$waitForLeader$3(RaftTestUtil.java:98)
	at org.apache.ratis.util.JavaUtils.attempt(JavaUtils.java:152)
	at org.apache.ratis.RaftTestUtil.waitForLeader(RaftTestUtil.java:97)
	at org.apache.ratis.RaftTestUtil.waitForLeader(RaftTestUtil.java:77)
	at org.apache.ratis.RaftTestUtil.waitForLeader(RaftTestUtil.java:72)
	at org.apache.ratis.RaftTestUtil.lambda$changeLeader$7(RaftTestUtil.java:363)
	at org.apache.ratis.util.JavaUtils.attempt(JavaUtils.java:152)
	at org.apache.ratis.RaftTestUtil.changeLeader(RaftTestUtil.java:362)
	at org.apache.ratis.server.impl.LeaderElectionTests.testChangeLeader(LeaderElectionTests.java:81)
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.lang.reflect.Method.invoke(Method.java:498)
	at org.junit.runners.model.FrameworkMethod$1.runReflectiveCall(FrameworkMethod.java:50)
	at org.junit.internal.runners.model.ReflectiveCallable.run(ReflectiveCallable.java:12)
	at org.junit.runners.model.FrameworkMethod.invokeExplosively(FrameworkMethod.java:47)
	at org.junit.internal.runners.statements.InvokeMethod.evaluate(InvokeMethod.java:17)
	at org.junit.internal.runners.statements.RunAfters.evaluate(RunAfters.java:27)
	at org.junit.internal.runners.statements.FailOnTimeout$CallableStatement.call(FailOnTimeout.java:298)
	at org.junit.internal.runners.statements.FailOnTimeout$CallableStatement.call(FailOnTimeout.java:292)
	at java.util.concurrent.FutureTask.run(FutureTask.java:266)
	at java.lang.Thread.run(Thread.java:748)
2019-09-24 12:06:45,484 INFO  impl.FollowerState (FollowerState.java:run(108)) - s0@group-04E6F89F5A1C-FollowerState: change to CANDIDATE, lastRpcTime:165ms, electionTimeout:165ms
2019-09-24 12:06:45,484 INFO  impl.RoleInfo (RoleInfo.java:shutdownFollowerState(121)) - s0: shutdown FollowerState
2019-09-24 12:06:45,484 INFO  impl.RaftServerImpl (RaftServerImpl.java:setRole(170)) - s0@group-04E6F89F5A1C: changes role from  FOLLOWER to CANDIDATE at term 5 for changeToCandidate
2019-09-24 12:06:45,484 INFO  impl.RoleInfo (RoleInfo.java:updateAndGet(143)) - s0: start LeaderElection
2019-09-24 12:06:45,500 INFO  impl.LeaderElection (LeaderElection.java:askForVotes(178)) - s0@group-04E6F89F5A1C-LeaderElection24: begin an election at term 6 for 4: [s0:0.0.0.0:34119, s1:0.0.0.0:44382, s2:0.0.0.0:42516], old=null
2019-09-24 12:06:45,501 DEBUG impl.RaftServerImpl (RaftServerImpl.java:requestVote(743)) - s1@group-04E6F89F5A1C: receive requestVote(s0, group-04E6F89F5A1C, 6, (t:4, i:4))
2019-09-24 12:06:45,501 DEBUG impl.RaftServerImpl (RaftServerImpl.java:requestVote(743)) - s2@group-04E6F89F5A1C: receive requestVote(s0, group-04E6F89F5A1C, 6, (t:4, i:4))
2019-09-24 12:06:45,502 INFO  impl.RaftServerImpl (RaftServerImpl.java:setRole(170)) - s1@group-04E6F89F5A1C: changes role from  FOLLOWER to FOLLOWER at term 6 for recognizeCandidate:s0
2019-09-24 12:06:45,502 INFO  impl.RaftServerImpl (RaftServerImpl.java:setRole(170)) - s2@group-04E6F89F5A1C: changes role from  FOLLOWER to FOLLOWER at term 6 for recognizeCandidate:s0
2019-09-24 12:06:45,502 INFO  impl.RoleInfo (RoleInfo.java:shutdownFollowerState(121)) - s1: shutdown FollowerState
2019-09-24 12:06:45,502 INFO  impl.RoleInfo (RoleInfo.java:shutdownFollowerState(121)) - s2: shutdown FollowerState
2019-09-24 12:06:45,503 INFO  impl.FollowerState (FollowerState.java:run(117)) - s1@group-04E6F89F5A1C-FollowerState was interrupted: java.lang.InterruptedException: sleep interrupted
2019-09-24 12:06:45,503 INFO  impl.FollowerState (FollowerState.java:run(117)) - s2@group-04E6F89F5A1C-FollowerState was interrupted: java.lang.InterruptedException: sleep interrupted
2019-09-24 12:06:45,503 INFO  impl.RoleInfo (RoleInfo.java:updateAndGet(143)) - s1: start FollowerState
2019-09-24 12:06:45,503 INFO  impl.RoleInfo (RoleInfo.java:updateAndGet(143)) - s2: start FollowerState
2019-09-24 12:06:45,520 DEBUG impl.RaftServerImpl (RaftServerImpl.java:requestVote(775)) - s1@group-04E6F89F5A1C replies to vote request: s0<-s1#0:FAIL-t6. Peer's state: s1@group-04E6F89F5A1C:t6, leader=null, voted=null, raftlog=s1@group-04E6F89F5A1C-SegmentedRaftLog:OPENED:c4,f5,i5, conf=4: [s0:0.0.0.0:34119, s1:0.0.0.0:44382, s2:0.0.0.0:42516], old=null
2019-09-24 12:06:45,520 DEBUG impl.RaftServerImpl (RaftServerImpl.java:requestVote(775)) - s2@group-04E6F89F5A1C replies to vote request: s0<-s2#0:OK-t6. Peer's state: s2@group-04E6F89F5A1C:t6, leader=null, voted=s0, raftlog=s2@group-04E6F89F5A1C-SegmentedRaftLog:OPENED:c3,f4,i4, conf=4: [s0:0.0.0.0:34119, s1:0.0.0.0:44382, s2:0.0.0.0:42516], old=null
2019-09-24 12:06:45,521 INFO  impl.LeaderElection (LeaderElection.java:logAndReturn(56)) - s0@group-04E6F89F5A1C-LeaderElection24: Election PASSED; received 2 response(s) [s0<-s1#0:FAIL-t6, s0<-s2#0:OK-t6] and 0 exception(s); s0@group-04E6F89F5A1C:t6, leader=null, voted=s0, raftlog=s0@group-04E6F89F5A1C-SegmentedRaftLog:OPENED:c3,f4,i4, conf=4: [s0:0.0.0.0:34119, s1:0.0.0.0:44382, s2:0.0.0.0:42516], old=null
2019-09-24 12:06:45,521 INFO  impl.RoleInfo (RoleInfo.java:shutdownLeaderElection(134)) - s0: shutdown LeaderElection
2019-09-24 12:06:45,521 INFO  impl.RaftServerImpl (RaftServerImpl.java:setRole(170)) - s0@group-04E6F89F5A1C: changes role from CANDIDATE to LEADER at term 6 for changeToLeader
2019-09-24 12:06:45,521 INFO  impl.RaftServerImpl (ServerState.java:setLeader(254)) - s0@group-04E6F89F5A1C: change Leader from null to s0 at term 6 for becomeLeader, leader elected after 396ms
2019-09-24 12:06:45,521 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.staging.catchup.gap = 1000 (default)
2019-09-24 12:06:45,522 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.rpc.sleep.time = 25ms (default)
2019-09-24 12:06:45,522 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.write.element-limit = 4096 (default)
2019-09-24 12:06:45,522 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.watch.timeout = 10s (default)
2019-09-24 12:06:45,522 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.watch.timeout.denomination = 1s (default)
2019-09-24 12:06:45,523 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.watch.element-limit = 65536 (default)
2019-09-24 12:06:45,523 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.log.appender.snapshot.chunk.size.max = 16MB (=16777216) (default)
2019-09-24 12:06:45,523 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.log.appender.buffer.byte-limit = 4MB (=4194304) (default)
2019-09-24 12:06:45,524 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.log.appender.buffer.element-limit = 0 (default)
2019-09-24 12:06:45,524 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.log.appender.snapshot.chunk.size.max = 16MB (=16777216) (default)
2019-09-24 12:06:45,524 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.log.appender.buffer.byte-limit = 4MB (=4194304) (default)
2019-09-24 12:06:45,524 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.log.appender.buffer.element-limit = 0 (default)
2019-09-24 12:06:45,525 INFO  impl.RoleInfo (RoleInfo.java:updateAndGet(143)) - s0: start LeaderState
2019-09-24 12:06:45,525 INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:rollLogSegment(385)) - s0@group-04E6F89F5A1C-SegmentedRaftLogWorker: Rolling segment log-4_4 to index:4
2019-09-24 12:06:45,525 DEBUG segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:addIOTask(251)) - s0@group-04E6F89F5A1C-SegmentedRaftLogWorker adds IO task FinalizeLogSegment:4: startIndex=4 endIndex=4
2019-09-24 12:06:45,526 DEBUG segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:addIOTask(251)) - s0@group-04E6F89F5A1C-SegmentedRaftLogWorker adds IO task StartLogSegment:5
2019-09-24 12:06:45,526 DEBUG segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:addIOTask(251)) - s0@group-04E6F89F5A1C-SegmentedRaftLogWorker adds IO task WriteLog:5: (t:6, i:5), CONFIGURATIONENTRY
2019-09-24 12:06:45,527 INFO  impl.RaftServerImpl (ServerState.java:setRaftConf(355)) - s0@group-04E6F89F5A1C: set configuration 5: [s0:0.0.0.0:34119, s1:0.0.0.0:44382, s2:0.0.0.0:42516], old=null at 5
2019-09-24 12:06:45,527 INFO  impl.RaftServerImpl (ServerState.java:setLeader(254)) - s1@group-04E6F89F5A1C: change Leader from null to s0 at term 6 for appendEntries, leader elected after 226ms
2019-09-24 12:06:45,528 INFO  impl.RaftServerImpl (ServerState.java:setLeader(254)) - s2@group-04E6F89F5A1C: change Leader from null to s0 at term 6 for appendEntries, leader elected after 354ms
2019-09-24 12:06:45,528 TRACE util.FileUtils (LogUtils.java:runAndLog(61)) - Successfully ran Files.move /workdir/ratis-test/target/test/data/aaa4fccd/MiniRaftClusterWithNetty55a7148e/s0/611a84d9-4fe5-4f71-a301-04e6f89f5a1c/current/log_inprogress_4 to /workdir/ratis-test/target/test/data/aaa4fccd/MiniRaftClusterWithNetty55a7148e/s0/611a84d9-4fe5-4f71-a301-04e6f89f5a1c/current/log_4-4
2019-09-24 12:06:45,528 INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:execute(526)) - s0@group-04E6F89F5A1C-SegmentedRaftLogWorker: Rolled log segment from /workdir/ratis-test/target/test/data/aaa4fccd/MiniRaftClusterWithNetty55a7148e/s0/611a84d9-4fe5-4f71-a301-04e6f89f5a1c/current/log_inprogress_4 to /workdir/ratis-test/target/test/data/aaa4fccd/MiniRaftClusterWithNetty55a7148e/s0/611a84d9-4fe5-4f71-a301-04e6f89f5a1c/current/log_4-4
2019-09-24 12:06:45,528 TRACE segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:lambda$new$1(133)) - s0@group-04E6F89F5A1C-SegmentedRaftLogWorker: flushIndex: updateIncreasingly 4 -> 4
2019-09-24 12:06:45,529 DEBUG impl.RaftServerImpl (RaftServerImpl.java:logAppendEntries(850)) - s2@group-04E6F89F5A1C: receive appendEntries(s0, 6, (t:4, i:4), 3, false, commits[s0:c3, s1:c4, s2:c3], entries: (t:6, i:5), CONFIGURATIONENTRY
2019-09-24 12:06:45,530 INFO  impl.RaftServerImpl (ServerState.java:setRaftConf(355)) - s2@group-04E6F89F5A1C: set configuration 5: [s0:0.0.0.0:34119, s1:0.0.0.0:44382, s2:0.0.0.0:42516], old=null at 5
2019-09-24 12:06:45,530 INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:rollLogSegment(385)) - s2@group-04E6F89F5A1C-SegmentedRaftLogWorker: Rolling segment log-4_4 to index:4
2019-09-24 12:06:45,531 DEBUG segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:addIOTask(251)) - s2@group-04E6F89F5A1C-SegmentedRaftLogWorker adds IO task FinalizeLogSegment:4: startIndex=4 endIndex=4
2019-09-24 12:06:45,531 DEBUG segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:addIOTask(251)) - s2@group-04E6F89F5A1C-SegmentedRaftLogWorker adds IO task StartLogSegment:5
2019-09-24 12:06:45,531 DEBUG segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:addIOTask(251)) - s2@group-04E6F89F5A1C-SegmentedRaftLogWorker adds IO task WriteLog:5: (t:6, i:5), CONFIGURATIONENTRY
2019-09-24 12:06:45,533 TRACE util.FileUtils (LogUtils.java:runAndLog(61)) - Successfully ran Files.move /workdir/ratis-test/target/test/data/aaa4fccd/MiniRaftClusterWithNetty55a7148e/s2/611a84d9-4fe5-4f71-a301-04e6f89f5a1c/current/log_inprogress_4 to /workdir/ratis-test/target/test/data/aaa4fccd/MiniRaftClusterWithNetty55a7148e/s2/611a84d9-4fe5-4f71-a301-04e6f89f5a1c/current/log_4-4
2019-09-24 12:06:45,533 INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:execute(526)) - s2@group-04E6F89F5A1C-SegmentedRaftLogWorker: Rolled log segment from /workdir/ratis-test/target/test/data/aaa4fccd/MiniRaftClusterWithNetty55a7148e/s2/611a84d9-4fe5-4f71-a301-04e6f89f5a1c/current/log_inprogress_4 to /workdir/ratis-test/target/test/data/aaa4fccd/MiniRaftClusterWithNetty55a7148e/s2/611a84d9-4fe5-4f71-a301-04e6f89f5a1c/current/log_4-4
2019-09-24 12:06:45,533 TRACE segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:lambda$new$1(133)) - s2@group-04E6F89F5A1C-SegmentedRaftLogWorker: flushIndex: updateIncreasingly 4 -> 4
2019-09-24 12:06:45,557 WARN  impl.LogAppender (LogAppender.java:sendAppendEntriesWithRetries(274)) - s4@group-E7D5050F4609->s3-LogAppender: Failed to appendEntries (retry=31): org.apache.ratis.thirdparty.io.netty.channel.AbstractChannel$AnnotatedConnectException: Connection refused: /0.0.0.0:40479
2019-09-24 12:06:45,604 INFO  impl.RaftServerImpl (RaftServerImpl.java:checkInconsistentAppendEntries(999)) - s1@group-04E6F89F5A1C: Failed appendEntries as previous log entry ((t:6, i:5)) is not found
2019-09-24 12:06:45,604 INFO  impl.RaftServerImpl (RaftServerImpl.java:checkInconsistentAppendEntries(972)) - s1@group-04E6F89F5A1C: inconsistency entries. Reply:s0<-s1#0:FAIL,INCONSISTENCY,nextIndex:5,term:6,followerCommit:4
2019-09-24 12:06:45,605 INFO  impl.FollowerInfo (FollowerInfo.java:lambda$new$0(51)) - s0@group-04E6F89F5A1C->s1: nextIndex: updateUnconditionally 6 -> 5
2019-09-24 12:06:45,606 DEBUG impl.RaftServerImpl (RaftServerImpl.java:logAppendEntries(850)) - s1@group-04E6F89F5A1C: receive appendEntries(s0, 6, (t:4, i:4), 3, false, commits[s0:c3, s1:c4, s2:c3], entries: (t:6, i:5), CONFIGURATIONENTRY
2019-09-24 12:06:45,606 INFO  impl.RaftServerImpl (ServerState.java:setRaftConf(355)) - s1@group-04E6F89F5A1C: set configuration 5: [s0:0.0.0.0:34119, s1:0.0.0.0:44382, s2:0.0.0.0:42516], old=null at 5
2019-09-24 12:06:45,607 INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:truncate(396)) - s1@group-04E6F89F5A1C-SegmentedRaftLogWorker: Truncating segments toTruncate: (4, 5) isOpen? true, length=82, newEndIndex=4
  toDelete: [], start index 5
2019-09-24 12:06:45,607 DEBUG segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:addIOTask(251)) - s1@group-04E6F89F5A1C-SegmentedRaftLogWorker adds IO task TruncateLog:4: toTruncate: (4, 5) isOpen? true, length=82, newEndIndex=4
  toDelete: []
2019-09-24 12:06:45,608 INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:startLogSegment(380)) - s1@group-04E6F89F5A1C-SegmentedRaftLogWorker: Starting segment from index:5
2019-09-24 12:06:45,608 DEBUG segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:addIOTask(251)) - s1@group-04E6F89F5A1C-SegmentedRaftLogWorker adds IO task StartLogSegment:5
2019-09-24 12:06:45,608 DEBUG segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:addIOTask(251)) - s1@group-04E6F89F5A1C-SegmentedRaftLogWorker adds IO task WriteLog:5: (t:6, i:5), CONFIGURATIONENTRY
2019-09-24 12:06:45,612 TRACE util.FileUtils (LogUtils.java:runAndLog(61)) - Successfully ran FileOutputStream.getChannel().truncate /workdir/ratis-test/target/test/data/aaa4fccd/MiniRaftClusterWithNetty55a7148e/s1/611a84d9-4fe5-4f71-a301-04e6f89f5a1c/current/log_inprogress_4 length: 95 -> 82
2019-09-24 12:06:45,612 TRACE util.FileUtils (LogUtils.java:runAndLog(61)) - Successfully ran Files.move /workdir/ratis-test/target/test/data/aaa4fccd/MiniRaftClusterWithNetty55a7148e/s1/611a84d9-4fe5-4f71-a301-04e6f89f5a1c/current/log_inprogress_4 to /workdir/ratis-test/target/test/data/aaa4fccd/MiniRaftClusterWithNetty55a7148e/s1/611a84d9-4fe5-4f71-a301-04e6f89f5a1c/current/log_4-4
2019-09-24 12:06:45,612 INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:execute(614)) - s1@group-04E6F89F5A1C-SegmentedRaftLogWorker: Truncated log file /workdir/ratis-test/target/test/data/aaa4fccd/MiniRaftClusterWithNetty55a7148e/s1/611a84d9-4fe5-4f71-a301-04e6f89f5a1c/current/log_inprogress_4 to length 82 and moved it to /workdir/ratis-test/target/test/data/aaa4fccd/MiniRaftClusterWithNetty55a7148e/s1/611a84d9-4fe5-4f71-a301-04e6f89f5a1c/current/log_4-4
2019-09-24 12:06:45,612 INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:lambda$new$0(132)) - s1@group-04E6F89F5A1C-SegmentedRaftLogWorker: flushIndex: setUnconditionally 5 -> 4
2019-09-24 12:06:45,669 INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:execute(569)) - s2@group-04E6F89F5A1C-SegmentedRaftLogWorker: created new log segment /workdir/ratis-test/target/test/data/aaa4fccd/MiniRaftClusterWithNetty55a7148e/s2/611a84d9-4fe5-4f71-a301-04e6f89f5a1c/current/log_inprogress_5
2019-09-24 12:06:45,669 INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:execute(569)) - s0@group-04E6F89F5A1C-SegmentedRaftLogWorker: created new log segment /workdir/ratis-test/target/test/data/aaa4fccd/MiniRaftClusterWithNetty55a7148e/s0/611a84d9-4fe5-4f71-a301-04e6f89f5a1c/current/log_inprogress_5
2019-09-24 12:06:45,669 DEBUG segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:flushWrites(340)) - s2@group-04E6F89F5A1C-SegmentedRaftLogWorker: flush SegmentedRaftLogOutputStream(/workdir/ratis-test/target/test/data/aaa4fccd/MiniRaftClusterWithNetty55a7148e/s2/611a84d9-4fe5-4f71-a301-04e6f89f5a1c/current/log_inprogress_5)
2019-09-24 12:06:45,669 DEBUG segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:flushWrites(340)) - s0@group-04E6F89F5A1C-SegmentedRaftLogWorker: flush SegmentedRaftLogOutputStream(/workdir/ratis-test/target/test/data/aaa4fccd/MiniRaftClusterWithNetty55a7148e/s0/611a84d9-4fe5-4f71-a301-04e6f89f5a1c/current/log_inprogress_5)
2019-09-24 12:06:45,701 TRACE segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:lambda$new$1(133)) - s2@group-04E6F89F5A1C-SegmentedRaftLogWorker: flushIndex: updateIncreasingly 4 -> 5
2019-09-24 12:06:45,702 TRACE segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:lambda$new$1(133)) - s0@group-04E6F89F5A1C-SegmentedRaftLogWorker: flushIndex: updateIncreasingly 4 -> 5
2019-09-24 12:06:45,702 DEBUG impl.RaftServerImpl (RaftServerImpl.java:logAppendEntries(850)) - s2@group-04E6F89F5A1C: succeeded to handle AppendEntries. Reply: s0<-s2#0:OK,SUCCESS,nextIndex:6,term:6,followerCommit:3
2019-09-24 12:06:45,704 DEBUG segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:addIOTask(251)) - s0@group-04E6F89F5A1C-SegmentedRaftLogWorker adds IO task WriteLog:6: (t:6, i:6), METADATAENTRY(c5)
2019-09-24 12:06:45,704 DEBUG segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:flushWrites(340)) - s0@group-04E6F89F5A1C-SegmentedRaftLogWorker: flush SegmentedRaftLogOutputStream(/workdir/ratis-test/target/test/data/aaa4fccd/MiniRaftClusterWithNetty55a7148e/s0/611a84d9-4fe5-4f71-a301-04e6f89f5a1c/current/log_inprogress_5)
2019-09-24 12:06:45,706 DEBUG impl.RaftServerImpl (RaftServerImpl.java:logAppendEntries(850)) - s2@group-04E6F89F5A1C: receive appendEntries(s0, 6, (t:6, i:5), 5, false, commits[s0:c5, s1:c4, s2:c3], entries: (t:6, i:6), METADATAENTRY(c5)
2019-09-24 12:06:45,706 DEBUG segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:addIOTask(251)) - s2@group-04E6F89F5A1C-SegmentedRaftLogWorker adds IO task WriteLog:6: (t:6, i:6), METADATAENTRY(c5)
2019-09-24 12:06:45,707 DEBUG segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:flushWrites(340)) - s2@group-04E6F89F5A1C-SegmentedRaftLogWorker: flush SegmentedRaftLogOutputStream(/workdir/ratis-test/target/test/data/aaa4fccd/MiniRaftClusterWithNetty55a7148e/s2/611a84d9-4fe5-4f71-a301-04e6f89f5a1c/current/log_inprogress_5)
2019-09-24 12:06:45,713 INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:execute(569)) - s1@group-04E6F89F5A1C-SegmentedRaftLogWorker: created new log segment /workdir/ratis-test/target/test/data/aaa4fccd/MiniRaftClusterWithNetty55a7148e/s1/611a84d9-4fe5-4f71-a301-04e6f89f5a1c/current/log_inprogress_5
2019-09-24 12:06:45,713 DEBUG segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:flushWrites(340)) - s1@group-04E6F89F5A1C-SegmentedRaftLogWorker: flush SegmentedRaftLogOutputStream(/workdir/ratis-test/target/test/data/aaa4fccd/MiniRaftClusterWithNetty55a7148e/s1/611a84d9-4fe5-4f71-a301-04e6f89f5a1c/current/log_inprogress_5)
2019-09-24 12:06:45,714 TRACE segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:lambda$new$1(133)) - s0@group-04E6F89F5A1C-SegmentedRaftLogWorker: flushIndex: updateIncreasingly 5 -> 6
2019-09-24 12:06:45,715 TRACE segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:lambda$new$1(133)) - s1@group-04E6F89F5A1C-SegmentedRaftLogWorker: flushIndex: updateIncreasingly 4 -> 5
2019-09-24 12:06:45,715 TRACE segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:lambda$new$1(133)) - s2@group-04E6F89F5A1C-SegmentedRaftLogWorker: flushIndex: updateIncreasingly 5 -> 6
2019-09-24 12:06:45,715 DEBUG impl.RaftServerImpl (RaftServerImpl.java:logAppendEntries(850)) - s1@group-04E6F89F5A1C: succeeded to handle AppendEntries. Reply: s0<-s1#0:OK,SUCCESS,nextIndex:6,term:6,followerCommit:4
2019-09-24 12:06:45,715 DEBUG impl.RaftServerImpl (RaftServerImpl.java:logAppendEntries(850)) - s2@group-04E6F89F5A1C: succeeded to handle AppendEntries. Reply: s0<-s2#0:OK,SUCCESS,nextIndex:7,term:6,followerCommit:5
2019-09-24 12:06:45,716 DEBUG impl.RaftServerImpl (RaftServerImpl.java:logAppendEntries(850)) - s1@group-04E6F89F5A1C: receive appendEntries(s0, 6, (t:6, i:5), 5, false, commits[s0:c5, s1:c4, s2:c5], entries: (t:6, i:6), METADATAENTRY(c5)
2019-09-24 12:06:45,717 DEBUG segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:addIOTask(251)) - s1@group-04E6F89F5A1C-SegmentedRaftLogWorker adds IO task WriteLog:6: (t:6, i:6), METADATAENTRY(c5)
2019-09-24 12:06:45,717 DEBUG segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:flushWrites(340)) - s1@group-04E6F89F5A1C-SegmentedRaftLogWorker: flush SegmentedRaftLogOutputStream(/workdir/ratis-test/target/test/data/aaa4fccd/MiniRaftClusterWithNetty55a7148e/s1/611a84d9-4fe5-4f71-a301-04e6f89f5a1c/current/log_inprogress_5)
2019-09-24 12:06:45,721 TRACE segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:lambda$new$1(133)) - s1@group-04E6F89F5A1C-SegmentedRaftLogWorker: flushIndex: updateIncreasingly 5 -> 6
2019-09-24 12:06:45,722 DEBUG impl.RaftServerImpl (RaftServerImpl.java:logAppendEntries(850)) - s1@group-04E6F89F5A1C: succeeded to handle AppendEntries. Reply: s0<-s1#0:OK,SUCCESS,nextIndex:7,term:6,followerCommit:5
2019-09-24 12:06:45,790 WARN  impl.LogAppender (LogAppender.java:sendAppendEntriesWithRetries(274)) - s4@group-E7D5050F4609->s3-LogAppender: Failed to appendEntries (retry=41): org.apache.ratis.thirdparty.io.netty.channel.AbstractChannel$AnnotatedConnectException: Connection refused: /0.0.0.0:40479
2019-09-24 12:06:45,829 INFO  ratis.RaftTestUtil (RaftTestUtil.java:waitForLeader(101)) - printing ALL groups
  s0:  RUNNING    LEADER s0@group-04E6F89F5A1C:t6, leader=s0, voted=s0, raftlog=s0@group-04E6F89F5A1C-SegmentedRaftLog:OPENED:c6,f6,i6, conf=5: [s0:0.0.0.0:34119, s1:0.0.0.0:44382, s2:0.0.0.0:42516], old=null RUNNING
  s1:  RUNNING  FOLLOWER s1@group-04E6F89F5A1C:t6, leader=s0, voted=null, raftlog=s1@group-04E6F89F5A1C-SegmentedRaftLog:OPENED:c6,f6,i6, conf=5: [s0:0.0.0.0:34119, s1:0.0.0.0:44382, s2:0.0.0.0:42516], old=null RUNNING
  s2:  RUNNING  FOLLOWER s2@group-04E6F89F5A1C:t6, leader=s0, voted=s0, raftlog=s2@group-04E6F89F5A1C-SegmentedRaftLog:OPENED:c6,f6,i6, conf=5: [s0:0.0.0.0:34119, s1:0.0.0.0:44382, s2:0.0.0.0:42516], old=null RUNNING
2019-09-24 12:06:45,830 INFO  ratis.RaftTestUtil (RaftTestUtil.java:lambda$changeLeader$7(367)) - Changed leader from s1 to s0
2019-09-24 12:06:45,830 INFO  util.CodeInjectionForTesting (BlockRequestHandlingInjection.java:unblockRequestor(53)) - UnBlock requestor s1
2019-09-24 12:06:45,830 INFO  util.CodeInjectionForTesting (BlockRequestHandlingInjection.java:blockRequestor(48)) - Block requestor s0
2019-09-24 12:06:45,830 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.rpc.timeout.max = 300ms (default)
2019-09-24 12:06:45,831 INFO  ratis.RaftTestUtil (RaftTestUtil.java:waitForLeader(86)) - printing ALL groups
  s0:  RUNNING    LEADER s0@group-04E6F89F5A1C:t6, leader=s0, voted=s0, raftlog=s0@group-04E6F89F5A1C-SegmentedRaftLog:OPENED:c6,f6,i6, conf=5: [s0:0.0.0.0:34119, s1:0.0.0.0:44382, s2:0.0.0.0:42516], old=null RUNNING
  s1:  RUNNING  FOLLOWER s1@group-04E6F89F5A1C:t6, leader=s0, voted=null, raftlog=s1@group-04E6F89F5A1C-SegmentedRaftLog:OPENED:c6,f6,i6, conf=5: [s0:0.0.0.0:34119, s1:0.0.0.0:44382, s2:0.0.0.0:42516], old=null RUNNING
  s2:  RUNNING  FOLLOWER s2@group-04E6F89F5A1C:t6, leader=s0, voted=s0, raftlog=s2@group-04E6F89F5A1C-SegmentedRaftLog:OPENED:c6,f6,i6, conf=5: [s0:0.0.0.0:34119, s1:0.0.0.0:44382, s2:0.0.0.0:42516], old=null RUNNING
2019-09-24 12:06:45,831 INFO  ratis.RaftTestUtil (RaftTestUtil.java:waitForLeader(101)) - printing ALL groups
  s0:  RUNNING    LEADER s0@group-04E6F89F5A1C:t6, leader=s0, voted=s0, raftlog=s0@group-04E6F89F5A1C-SegmentedRaftLog:OPENED:c6,f6,i6, conf=5: [s0:0.0.0.0:34119, s1:0.0.0.0:44382, s2:0.0.0.0:42516], old=null RUNNING
  s1:  RUNNING  FOLLOWER s1@group-04E6F89F5A1C:t6, leader=s0, voted=null, raftlog=s1@group-04E6F89F5A1C-SegmentedRaftLog:OPENED:c6,f6,i6, conf=5: [s0:0.0.0.0:34119, s1:0.0.0.0:44382, s2:0.0.0.0:42516], old=null RUNNING
  s2:  RUNNING  FOLLOWER s2@group-04E6F89F5A1C:t6, leader=s0, voted=s0, raftlog=s2@group-04E6F89F5A1C-SegmentedRaftLog:OPENED:c6,f6,i6, conf=5: [s0:0.0.0.0:34119, s1:0.0.0.0:44382, s2:0.0.0.0:42516], old=null RUNNING
2019-09-24 12:06:45,831 WARN  ratis.RaftTestUtil (JavaUtils.java:attempt(158)) - FAILED "testChangeLeader-changeLeader", attempt #1/20: java.lang.IllegalStateException: Failed to change leader: newLeader == oldLeader == s0, sleep 100ms and then retry.
java.lang.IllegalStateException: Failed to change leader: newLeader == oldLeader == s0
	at org.apache.ratis.RaftTestUtil.lambda$changeLeader$7(RaftTestUtil.java:365)
	at org.apache.ratis.util.JavaUtils.attempt(JavaUtils.java:152)
	at org.apache.ratis.RaftTestUtil.changeLeader(RaftTestUtil.java:362)
	at org.apache.ratis.server.impl.LeaderElectionTests.testChangeLeader(LeaderElectionTests.java:81)
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.lang.reflect.Method.invoke(Method.java:498)
	at org.junit.runners.model.FrameworkMethod$1.runReflectiveCall(FrameworkMethod.java:50)
	at org.junit.internal.runners.model.ReflectiveCallable.run(ReflectiveCallable.java:12)
	at org.junit.runners.model.FrameworkMethod.invokeExplosively(FrameworkMethod.java:47)
	at org.junit.internal.runners.statements.InvokeMethod.evaluate(InvokeMethod.java:17)
	at org.junit.internal.runners.statements.RunAfters.evaluate(RunAfters.java:27)
	at org.junit.internal.runners.statements.FailOnTimeout$CallableStatement.call(FailOnTimeout.java:298)
	at org.junit.internal.runners.statements.FailOnTimeout$CallableStatement.call(FailOnTimeout.java:292)
	at java.util.concurrent.FutureTask.run(FutureTask.java:266)
	at java.lang.Thread.run(Thread.java:748)
2019-09-24 12:06:45,858 INFO  util.CodeInjectionForTesting (BlockRequestHandlingInjection.java:execute(76)) - s1: Block request from s0
2019-09-24 12:06:45,858 INFO  util.CodeInjectionForTesting (BlockRequestHandlingInjection.java:execute(76)) - s2: Block request from s0
2019-09-24 12:06:45,868 INFO  util.CodeInjectionForTesting (BlockRequestHandlingInjection.java:execute(76)) - s2: Block request from s0
2019-09-24 12:06:45,875 INFO  util.CodeInjectionForTesting (BlockRequestHandlingInjection.java:execute(76)) - s1: Block request from s0
2019-09-24 12:06:45,932 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.rpc.timeout.max = 300ms (default)
2019-09-24 12:06:45,932 INFO  ratis.RaftTestUtil (RaftTestUtil.java:waitForLeader(86)) - printing ALL groups
  s0:  RUNNING    LEADER s0@group-04E6F89F5A1C:t6, leader=s0, voted=s0, raftlog=s0@group-04E6F89F5A1C-SegmentedRaftLog:OPENED:c6,f6,i6, conf=5: [s0:0.0.0.0:34119, s1:0.0.0.0:44382, s2:0.0.0.0:42516], old=null RUNNING
  s1:  RUNNING  FOLLOWER s1@group-04E6F89F5A1C:t6, leader=s0, voted=null, raftlog=s1@group-04E6F89F5A1C-SegmentedRaftLog:OPENED:c6,f6,i6, conf=5: [s0:0.0.0.0:34119, s1:0.0.0.0:44382, s2:0.0.0.0:42516], old=null RUNNING
  s2:  RUNNING  FOLLOWER s2@group-04E6F89F5A1C:t6, leader=s0, voted=s0, raftlog=s2@group-04E6F89F5A1C-SegmentedRaftLog:OPENED:c6,f6,i6, conf=5: [s0:0.0.0.0:34119, s1:0.0.0.0:44382, s2:0.0.0.0:42516], old=null RUNNING
2019-09-24 12:06:45,933 INFO  ratis.RaftTestUtil (RaftTestUtil.java:waitForLeader(101)) - printing ALL groups
  s0:  RUNNING    LEADER s0@group-04E6F89F5A1C:t6, leader=s0, voted=s0, raftlog=s0@group-04E6F89F5A1C-SegmentedRaftLog:OPENED:c6,f6,i6, conf=5: [s0:0.0.0.0:34119, s1:0.0.0.0:44382, s2:0.0.0.0:42516], old=null RUNNING
  s1:  RUNNING  FOLLOWER s1@group-04E6F89F5A1C:t6, leader=s0, voted=null, raftlog=s1@group-04E6F89F5A1C-SegmentedRaftLog:OPENED:c6,f6,i6, conf=5: [s0:0.0.0.0:34119, s1:0.0.0.0:44382, s2:0.0.0.0:42516], old=null RUNNING
  s2:  RUNNING  FOLLOWER s2@group-04E6F89F5A1C:t6, leader=s0, voted=s0, raftlog=s2@group-04E6F89F5A1C-SegmentedRaftLog:OPENED:c6,f6,i6, conf=5: [s0:0.0.0.0:34119, s1:0.0.0.0:44382, s2:0.0.0.0:42516], old=null RUNNING
2019-09-24 12:06:45,933 WARN  ratis.RaftTestUtil (JavaUtils.java:attempt(158)) - FAILED "testChangeLeader-changeLeader", attempt #2/20: java.lang.IllegalStateException: Failed to change leader: newLeader == oldLeader == s0, sleep 100ms and then retry.
java.lang.IllegalStateException: Failed to change leader: newLeader == oldLeader == s0
	at org.apache.ratis.RaftTestUtil.lambda$changeLeader$7(RaftTestUtil.java:365)
	at org.apache.ratis.util.JavaUtils.attempt(JavaUtils.java:152)
	at org.apache.ratis.RaftTestUtil.changeLeader(RaftTestUtil.java:362)
	at org.apache.ratis.server.impl.LeaderElectionTests.testChangeLeader(LeaderElectionTests.java:81)
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.lang.reflect.Method.invoke(Method.java:498)
	at org.junit.runners.model.FrameworkMethod$1.runReflectiveCall(FrameworkMethod.java:50)
	at org.junit.internal.runners.model.ReflectiveCallable.run(ReflectiveCallable.java:12)
	at org.junit.runners.model.FrameworkMethod.invokeExplosively(FrameworkMethod.java:47)
	at org.junit.internal.runners.statements.InvokeMethod.evaluate(InvokeMethod.java:17)
	at org.junit.internal.runners.statements.RunAfters.evaluate(RunAfters.java:27)
	at org.junit.internal.runners.statements.FailOnTimeout$CallableStatement.call(FailOnTimeout.java:298)
	at org.junit.internal.runners.statements.FailOnTimeout$CallableStatement.call(FailOnTimeout.java:292)
	at java.util.concurrent.FutureTask.run(FutureTask.java:266)
	at java.lang.Thread.run(Thread.java:748)
2019-09-24 12:06:46,016 INFO  util.CodeInjectionForTesting (BlockRequestHandlingInjection.java:execute(82)) - s2: unBlock request from s1
2019-09-24 12:06:46,017 INFO  util.CodeInjectionForTesting (BlockRequestHandlingInjection.java:execute(82)) - s0: unBlock request from s1
2019-09-24 12:06:46,017 DEBUG impl.RaftServerImpl (RaftServerImpl.java:logAppendEntries(850)) - s2@group-04E6F89F5A1C: receive appendEntries(s1, 4, (t:4, i:4), 4, false, commits[s1:c4, s0:c3, s2:c3], entries: (t:4, i:5), METADATAENTRY(c4)
2019-09-24 12:06:46,017 DEBUG impl.RaftServerImpl (RaftServerImpl.java:logAppendEntries(850)) - s0@group-04E6F89F5A1C: receive appendEntries(s1, 4, (t:4, i:4), 4, false, commits[s1:c4, s0:c3, s2:c3], entries: (t:4, i:5), METADATAENTRY(c4)
2019-09-24 12:06:46,017 DEBUG impl.RaftServerImpl (RaftServerImpl.java:appendEntriesAsync(906)) - s2@group-04E6F89F5A1C: Not recognize s1 (term=4) as leader, state: s2@group-04E6F89F5A1C:t6, leader=s0, voted=s0, raftlog=s2@group-04E6F89F5A1C-SegmentedRaftLog:OPENED:c6,f6,i6, conf=5: [s0:0.0.0.0:34119, s1:0.0.0.0:44382, s2:0.0.0.0:42516], old=null reply: s1<-s2#0:FAIL,NOT_LEADER,nextIndex:7,term:6,followerCommit:6
2019-09-24 12:06:46,018 DEBUG impl.RaftServerImpl (RaftServerImpl.java:appendEntriesAsync(906)) - s0@group-04E6F89F5A1C: Not recognize s1 (term=4) as leader, state: s0@group-04E6F89F5A1C:t6, leader=s0, voted=s0, raftlog=s0@group-04E6F89F5A1C-SegmentedRaftLog:OPENED:c6,f6,i6, conf=5: [s0:0.0.0.0:34119, s1:0.0.0.0:44382, s2:0.0.0.0:42516], old=null reply: s1<-s0#0:FAIL,NOT_LEADER,nextIndex:7,term:6,followerCommit:6
2019-09-24 12:06:46,023 WARN  impl.LogAppender (LogAppender.java:sendAppendEntriesWithRetries(274)) - s4@group-E7D5050F4609->s3-LogAppender: Failed to appendEntries (retry=51): org.apache.ratis.thirdparty.io.netty.channel.AbstractChannel$AnnotatedConnectException: Connection refused: /0.0.0.0:40479
2019-09-24 12:06:46,035 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.rpc.timeout.max = 300ms (default)
2019-09-24 12:06:46,035 INFO  ratis.RaftTestUtil (RaftTestUtil.java:waitForLeader(86)) - printing ALL groups
  s0:  RUNNING    LEADER s0@group-04E6F89F5A1C:t6, leader=s0, voted=s0, raftlog=s0@group-04E6F89F5A1C-SegmentedRaftLog:OPENED:c6,f6,i6, conf=5: [s0:0.0.0.0:34119, s1:0.0.0.0:44382, s2:0.0.0.0:42516], old=null RUNNING
  s1:  RUNNING  FOLLOWER s1@group-04E6F89F5A1C:t6, leader=s0, voted=null, raftlog=s1@group-04E6F89F5A1C-SegmentedRaftLog:OPENED:c6,f6,i6, conf=5: [s0:0.0.0.0:34119, s1:0.0.0.0:44382, s2:0.0.0.0:42516], old=null RUNNING
  s2:  RUNNING  FOLLOWER s2@group-04E6F89F5A1C:t6, leader=s0, voted=s0, raftlog=s2@group-04E6F89F5A1C-SegmentedRaftLog:OPENED:c6,f6,i6, conf=5: [s0:0.0.0.0:34119, s1:0.0.0.0:44382, s2:0.0.0.0:42516], old=null RUNNING
2019-09-24 12:06:46,036 INFO  ratis.RaftTestUtil (RaftTestUtil.java:waitForLeader(101)) - printing ALL groups
  s0:  RUNNING    LEADER s0@group-04E6F89F5A1C:t6, leader=s0, voted=s0, raftlog=s0@group-04E6F89F5A1C-SegmentedRaftLog:OPENED:c6,f6,i6, conf=5: [s0:0.0.0.0:34119, s1:0.0.0.0:44382, s2:0.0.0.0:42516], old=null RUNNING
  s1:  RUNNING  FOLLOWER s1@group-04E6F89F5A1C:t6, leader=s0, voted=null, raftlog=s1@group-04E6F89F5A1C-SegmentedRaftLog:OPENED:c6,f6,i6, conf=5: [s0:0.0.0.0:34119, s1:0.0.0.0:44382, s2:0.0.0.0:42516], old=null RUNNING
  s2:  RUNNING  FOLLOWER s2@group-04E6F89F5A1C:t6, leader=s0, voted=s0, raftlog=s2@group-04E6F89F5A1C-SegmentedRaftLog:OPENED:c6,f6,i6, conf=5: [s0:0.0.0.0:34119, s1:0.0.0.0:44382, s2:0.0.0.0:42516], old=null RUNNING
2019-09-24 12:06:46,036 WARN  ratis.RaftTestUtil (JavaUtils.java:attempt(158)) - FAILED "testChangeLeader-changeLeader", attempt #3/20: java.lang.IllegalStateException: Failed to change leader: newLeader == oldLeader == s0, sleep 100ms and then retry.
java.lang.IllegalStateException: Failed to change leader: newLeader == oldLeader == s0
	at org.apache.ratis.RaftTestUtil.lambda$changeLeader$7(RaftTestUtil.java:365)
	at org.apache.ratis.util.JavaUtils.attempt(JavaUtils.java:152)
	at org.apache.ratis.RaftTestUtil.changeLeader(RaftTestUtil.java:362)
	at org.apache.ratis.server.impl.LeaderElectionTests.testChangeLeader(LeaderElectionTests.java:81)
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.lang.reflect.Method.invoke(Method.java:498)
	at org.junit.runners.model.FrameworkMethod$1.runReflectiveCall(FrameworkMethod.java:50)
	at org.junit.internal.runners.model.ReflectiveCallable.run(ReflectiveCallable.java:12)
	at org.junit.runners.model.FrameworkMethod.invokeExplosively(FrameworkMethod.java:47)
	at org.junit.internal.runners.statements.InvokeMethod.evaluate(InvokeMethod.java:17)
	at org.junit.internal.runners.statements.RunAfters.evaluate(RunAfters.java:27)
	at org.junit.internal.runners.statements.FailOnTimeout$CallableStatement.call(FailOnTimeout.java:298)
	at org.junit.internal.runners.statements.FailOnTimeout$CallableStatement.call(FailOnTimeout.java:292)
	at java.util.concurrent.FutureTask.run(FutureTask.java:266)
	at java.lang.Thread.run(Thread.java:748)
2019-09-24 12:06:46,117 INFO  impl.FollowerState (FollowerState.java:run(108)) - s1@group-9DDC70D1F0F3-FollowerState: change to CANDIDATE, lastRpcTime:335ms, electionTimeout:241ms
2019-09-24 12:06:46,117 INFO  impl.RoleInfo (RoleInfo.java:shutdownFollowerState(121)) - s1: shutdown FollowerState
2019-09-24 12:06:46,118 INFO  impl.RaftServerImpl (RaftServerImpl.java:setRole(170)) - s1@group-9DDC70D1F0F3: changes role from  FOLLOWER to CANDIDATE at term 4 for changeToCandidate
2019-09-24 12:06:46,118 INFO  impl.RoleInfo (RoleInfo.java:updateAndGet(143)) - s1: start LeaderElection
2019-09-24 12:06:46,119 INFO  impl.RaftServerImpl (ServerState.java:setLeader(254)) - s1@group-9DDC70D1F0F3: change Leader from s0 to null at term 4 for initElection
2019-09-24 12:06:46,128 INFO  impl.FollowerState (FollowerState.java:run(108)) - s2@group-9DDC70D1F0F3-FollowerState: change to CANDIDATE, lastRpcTime:346ms, electionTimeout:204ms
2019-09-24 12:06:46,128 INFO  impl.RoleInfo (RoleInfo.java:shutdownFollowerState(121)) - s2: shutdown FollowerState
2019-09-24 12:06:46,128 INFO  impl.RaftServerImpl (RaftServerImpl.java:setRole(170)) - s2@group-9DDC70D1F0F3: changes role from  FOLLOWER to CANDIDATE at term 4 for changeToCandidate
2019-09-24 12:06:46,128 INFO  impl.RoleInfo (RoleInfo.java:updateAndGet(143)) - s2: start LeaderElection
2019-09-24 12:06:46,129 INFO  impl.RaftServerImpl (ServerState.java:setLeader(254)) - s2@group-9DDC70D1F0F3: change Leader from s0 to null at term 4 for initElection
2019-09-24 12:06:46,130 INFO  impl.FollowerState (FollowerState.java:run(108)) - s1@group-04E6F89F5A1C-FollowerState: change to CANDIDATE, lastRpcTime:330ms, electionTimeout:178ms
2019-09-24 12:06:46,130 INFO  impl.RoleInfo (RoleInfo.java:shutdownFollowerState(121)) - s1: shutdown FollowerState
2019-09-24 12:06:46,130 INFO  impl.RaftServerImpl (RaftServerImpl.java:setRole(170)) - s1@group-04E6F89F5A1C: changes role from  FOLLOWER to CANDIDATE at term 6 for changeToCandidate
2019-09-24 12:06:46,130 INFO  impl.RoleInfo (RoleInfo.java:updateAndGet(143)) - s1: start LeaderElection
2019-09-24 12:06:46,131 INFO  impl.RaftServerImpl (ServerState.java:setLeader(254)) - s1@group-04E6F89F5A1C: change Leader from s0 to null at term 6 for initElection
2019-09-24 12:06:46,136 INFO  impl.LeaderElection (LeaderElection.java:askForVotes(178)) - s2@group-9DDC70D1F0F3-LeaderElection26: begin an election at term 5 for 1: [s0:0.0.0.0:37243, s1:0.0.0.0:38994, s2:0.0.0.0:36346], old=null
2019-09-24 12:06:46,136 INFO  impl.LeaderElection (LeaderElection.java:askForVotes(178)) - s1@group-9DDC70D1F0F3-LeaderElection25: begin an election at term 5 for 1: [s0:0.0.0.0:37243, s1:0.0.0.0:38994, s2:0.0.0.0:36346], old=null
2019-09-24 12:06:46,136 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.rpc.timeout.max = 300ms (default)
2019-09-24 12:06:46,137 INFO  ratis.RaftTestUtil (RaftTestUtil.java:waitForLeader(86)) - printing ALL groups
  s0:  RUNNING    LEADER s0@group-04E6F89F5A1C:t6, leader=s0, voted=s0, raftlog=s0@group-04E6F89F5A1C-SegmentedRaftLog:OPENED:c6,f6,i6, conf=5: [s0:0.0.0.0:34119, s1:0.0.0.0:44382, s2:0.0.0.0:42516], old=null RUNNING
  s1:  RUNNING CANDIDATE s1@group-04E6F89F5A1C:t7, leader=null, voted=s1, raftlog=s1@group-04E6F89F5A1C-SegmentedRaftLog:OPENED:c6,f6,i6, conf=5: [s0:0.0.0.0:34119, s1:0.0.0.0:44382, s2:0.0.0.0:42516], old=null RUNNING
  s2:  RUNNING  FOLLOWER s2@group-04E6F89F5A1C:t6, leader=s0, voted=s0, raftlog=s2@group-04E6F89F5A1C-SegmentedRaftLog:OPENED:c6,f6,i6, conf=5: [s0:0.0.0.0:34119, s1:0.0.0.0:44382, s2:0.0.0.0:42516], old=null RUNNING
2019-09-24 12:06:46,137 DEBUG impl.RaftServerImpl (RaftServerImpl.java:requestVote(743)) - s0@group-9DDC70D1F0F3: receive requestVote(s2, group-9DDC70D1F0F3, 5, (t:4, i:2))
2019-09-24 12:06:46,138 DEBUG impl.RaftServerImpl (RaftServerImpl.java:requestVote(743)) - s0@group-9DDC70D1F0F3: receive requestVote(s1, group-9DDC70D1F0F3, 5, (t:4, i:2))
2019-09-24 12:06:46,138 INFO  ratis.RaftTestUtil (RaftTestUtil.java:waitForLeader(101)) - printing ALL groups
  s0:  RUNNING    LEADER s0@group-04E6F89F5A1C:t6, leader=s0, voted=s0, raftlog=s0@group-04E6F89F5A1C-SegmentedRaftLog:OPENED:c6,f6,i6, conf=5: [s0:0.0.0.0:34119, s1:0.0.0.0:44382, s2:0.0.0.0:42516], old=null RUNNING
  s1:  RUNNING CANDIDATE s1@group-04E6F89F5A1C:t7, leader=null, voted=s1, raftlog=s1@group-04E6F89F5A1C-SegmentedRaftLog:OPENED:c6,f6,i6, conf=5: [s0:0.0.0.0:34119, s1:0.0.0.0:44382, s2:0.0.0.0:42516], old=null RUNNING
  s2:  RUNNING  FOLLOWER s2@group-04E6F89F5A1C:t6, leader=s0, voted=s0, raftlog=s2@group-04E6F89F5A1C-SegmentedRaftLog:OPENED:c6,f6,i6, conf=5: [s0:0.0.0.0:34119, s1:0.0.0.0:44382, s2:0.0.0.0:42516], old=null RUNNING
2019-09-24 12:06:46,138 DEBUG impl.RaftServerImpl (RaftServerImpl.java:requestVote(743)) - s2@group-9DDC70D1F0F3: receive requestVote(s1, group-9DDC70D1F0F3, 5, (t:4, i:2))
2019-09-24 12:06:46,138 DEBUG impl.RaftServerImpl (RaftServerImpl.java:requestVote(743)) - s1@group-9DDC70D1F0F3: receive requestVote(s2, group-9DDC70D1F0F3, 5, (t:4, i:2))
2019-09-24 12:06:46,138 INFO  impl.RaftServerImpl (ServerState.java:setLeader(254)) - s0@group-9DDC70D1F0F3: change Leader from s0 to null at term 5 for updateCurrentTerm
2019-09-24 12:06:46,139 DEBUG impl.RaftServerImpl (RaftServerImpl.java:requestVote(775)) - s1@group-9DDC70D1F0F3 replies to vote request: s2<-s1#0:FAIL-t5. Peer's state: s1@group-9DDC70D1F0F3:t5, leader=null, voted=s1, raftlog=s1@group-9DDC70D1F0F3-SegmentedRaftLog:OPENED:c2,f2,i2, conf=1: [s0:0.0.0.0:37243, s1:0.0.0.0:38994, s2:0.0.0.0:36346], old=null
2019-09-24 12:06:46,139 DEBUG impl.RaftServerImpl (RaftServerImpl.java:requestVote(775)) - s2@group-9DDC70D1F0F3 replies to vote request: s1<-s2#0:FAIL-t5. Peer's state: s2@group-9DDC70D1F0F3:t5, leader=null, voted=s2, raftlog=s2@group-9DDC70D1F0F3-SegmentedRaftLog:OPENED:c2,f2,i2, conf=1: [s0:0.0.0.0:37243, s1:0.0.0.0:38994, s2:0.0.0.0:36346], old=null
2019-09-24 12:06:46,138 WARN  ratis.RaftTestUtil (JavaUtils.java:attempt(158)) - FAILED "testChangeLeader-changeLeader", attempt #4/20: java.lang.IllegalStateException: Failed to change leader: newLeader == oldLeader == s0, sleep 100ms and then retry.
java.lang.IllegalStateException: Failed to change leader: newLeader == oldLeader == s0
	at org.apache.ratis.RaftTestUtil.lambda$changeLeader$7(RaftTestUtil.java:365)
	at org.apache.ratis.util.JavaUtils.attempt(JavaUtils.java:152)
	at org.apache.ratis.RaftTestUtil.changeLeader(RaftTestUtil.java:362)
	at org.apache.ratis.server.impl.LeaderElectionTests.testChangeLeader(LeaderElectionTests.java:81)
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.lang.reflect.Method.invoke(Method.java:498)
	at org.junit.runners.model.FrameworkMethod$1.runReflectiveCall(FrameworkMethod.java:50)
	at org.junit.internal.runners.model.ReflectiveCallable.run(ReflectiveCallable.java:12)
	at org.junit.runners.model.FrameworkMethod.invokeExplosively(FrameworkMethod.java:47)
	at org.junit.internal.runners.statements.InvokeMethod.evaluate(InvokeMethod.java:17)
	at org.junit.internal.runners.statements.RunAfters.evaluate(RunAfters.java:27)
	at org.junit.internal.runners.statements.FailOnTimeout$CallableStatement.call(FailOnTimeout.java:298)
	at org.junit.internal.runners.statements.FailOnTimeout$CallableStatement.call(FailOnTimeout.java:292)
	at java.util.concurrent.FutureTask.run(FutureTask.java:266)
	at java.lang.Thread.run(Thread.java:748)
2019-09-24 12:06:46,139 INFO  impl.RaftServerImpl (RaftServerImpl.java:setRole(170)) - s0@group-9DDC70D1F0F3: changes role from    LEADER to FOLLOWER at term 5 for recognizeCandidate:s2
2019-09-24 12:06:46,141 INFO  impl.RoleInfo (RoleInfo.java:shutdownLeaderState(104)) - s0: shutdown LeaderState
2019-09-24 12:06:46,144 INFO  impl.LogAppender (LogAppender.java:run(78)) - s0@group-9DDC70D1F0F3->s1-LogAppender-AppenderDaemon was interrupted: java.io.InterruptedIOException: s0->s1#0 sending from s1:0.0.0.0:38994 is interrupted.
2019-09-24 12:06:46,144 INFO  impl.LogAppender (LogAppender.java:run(78)) - s0@group-9DDC70D1F0F3->s2-LogAppender-AppenderDaemon was interrupted: java.io.InterruptedIOException: s0->s2#0 sending from s2:0.0.0.0:36346 is interrupted.
2019-09-24 12:06:46,144 INFO  impl.PendingRequests (PendingRequests.java:sendNotLeaderResponses(202)) - s0@group-9DDC70D1F0F3-PendingRequests: sendNotLeaderResponses
2019-09-24 12:06:46,148 INFO  impl.RoleInfo (RoleInfo.java:updateAndGet(143)) - s0: start FollowerState
2019-09-24 12:06:46,149 INFO  impl.LeaderElection (LeaderElection.java:askForVotes(178)) - s1@group-04E6F89F5A1C-LeaderElection27: begin an election at term 7 for 5: [s0:0.0.0.0:34119, s1:0.0.0.0:44382, s2:0.0.0.0:42516], old=null
2019-09-24 12:06:46,150 DEBUG impl.RaftServerImpl (RaftServerImpl.java:requestVote(743)) - s0@group-04E6F89F5A1C: receive requestVote(s1, group-04E6F89F5A1C, 7, (t:6, i:6))
2019-09-24 12:06:46,150 DEBUG impl.RaftServerImpl (RaftServerImpl.java:requestVote(743)) - s2@group-04E6F89F5A1C: receive requestVote(s1, group-04E6F89F5A1C, 7, (t:6, i:6))
2019-09-24 12:06:46,150 INFO  impl.RaftServerImpl (ServerState.java:setLeader(254)) - s0@group-04E6F89F5A1C: change Leader from s0 to null at term 7 for updateCurrentTerm
2019-09-24 12:06:46,150 INFO  impl.RaftServerImpl (ServerState.java:setLeader(254)) - s2@group-04E6F89F5A1C: change Leader from s0 to null at term 7 for updateCurrentTerm
2019-09-24 12:06:46,151 INFO  impl.RaftServerImpl (RaftServerImpl.java:setRole(170)) - s0@group-04E6F89F5A1C: changes role from    LEADER to FOLLOWER at term 7 for recognizeCandidate:s1
2019-09-24 12:06:46,151 INFO  impl.RaftServerImpl (RaftServerImpl.java:setRole(170)) - s2@group-04E6F89F5A1C: changes role from  FOLLOWER to FOLLOWER at term 7 for recognizeCandidate:s1
2019-09-24 12:06:46,151 INFO  impl.RoleInfo (RoleInfo.java:shutdownLeaderState(104)) - s0: shutdown LeaderState
2019-09-24 12:06:46,152 INFO  impl.RoleInfo (RoleInfo.java:shutdownFollowerState(121)) - s2: shutdown FollowerState
2019-09-24 12:06:46,152 INFO  impl.LogAppender (LogAppender.java:run(78)) - s0@group-04E6F89F5A1C->s2-LogAppender-AppenderDaemon was interrupted: java.io.InterruptedIOException: s0->s2#0 sending from s2:0.0.0.0:42516 is interrupted.
2019-09-24 12:06:46,152 INFO  impl.PendingRequests (PendingRequests.java:sendNotLeaderResponses(202)) - s0@group-04E6F89F5A1C-PendingRequests: sendNotLeaderResponses
2019-09-24 12:06:46,152 INFO  impl.LogAppender (LogAppender.java:run(78)) - s0@group-04E6F89F5A1C->s1-LogAppender-AppenderDaemon was interrupted: java.io.InterruptedIOException: s0->s1#0 sending from s1:0.0.0.0:44382 is interrupted.
2019-09-24 12:06:46,153 INFO  impl.RoleInfo (RoleInfo.java:updateAndGet(143)) - s0: start FollowerState
2019-09-24 12:06:46,152 INFO  impl.FollowerState (FollowerState.java:run(117)) - s2@group-04E6F89F5A1C-FollowerState was interrupted: java.lang.InterruptedException: sleep interrupted
2019-09-24 12:06:46,152 INFO  impl.RoleInfo (RoleInfo.java:updateAndGet(143)) - s2: start FollowerState
2019-09-24 12:06:46,162 DEBUG impl.RaftServerImpl (RaftServerImpl.java:requestVote(775)) - s0@group-04E6F89F5A1C replies to vote request: s1<-s0#0:FAIL-t7. Peer's state: s0@group-04E6F89F5A1C:t7, leader=null, voted=null, raftlog=s0@group-04E6F89F5A1C-SegmentedRaftLog:OPENED:c6,f6,i6, conf=5: [s0:0.0.0.0:34119, s1:0.0.0.0:44382, s2:0.0.0.0:42516], old=null
2019-09-24 12:06:46,162 DEBUG impl.RaftServerImpl (RaftServerImpl.java:requestVote(775)) - s2@group-04E6F89F5A1C replies to vote request: s1<-s2#0:OK-t7. Peer's state: s2@group-04E6F89F5A1C:t7, leader=null, voted=s1, raftlog=s2@group-04E6F89F5A1C-SegmentedRaftLog:OPENED:c6,f6,i6, conf=5: [s0:0.0.0.0:34119, s1:0.0.0.0:44382, s2:0.0.0.0:42516], old=null
2019-09-24 12:06:46,162 DEBUG impl.RaftServerImpl (RaftServerImpl.java:requestVote(775)) - s0@group-9DDC70D1F0F3 replies to vote request: s2<-s0#0:FAIL-t5. Peer's state: s0@group-9DDC70D1F0F3:t5, leader=null, voted=null, raftlog=s0@group-9DDC70D1F0F3-SegmentedRaftLog:OPENED:c2,f2,i2, conf=1: [s0:0.0.0.0:37243, s1:0.0.0.0:38994, s2:0.0.0.0:36346], old=null
2019-09-24 12:06:46,163 INFO  impl.LeaderElection (LeaderElection.java:logAndReturn(56)) - s1@group-04E6F89F5A1C-LeaderElection27: Election PASSED; received 2 response(s) [s1<-s0#0:FAIL-t7, s1<-s2#0:OK-t7] and 0 exception(s); s1@group-04E6F89F5A1C:t7, leader=null, voted=s1, raftlog=s1@group-04E6F89F5A1C-SegmentedRaftLog:OPENED:c6,f6,i6, conf=5: [s0:0.0.0.0:34119, s1:0.0.0.0:44382, s2:0.0.0.0:42516], old=null
2019-09-24 12:06:46,163 INFO  impl.RaftServerImpl (RaftServerImpl.java:setRole(170)) - s0@group-9DDC70D1F0F3: changes role from  FOLLOWER to FOLLOWER at term 5 for recognizeCandidate:s1
2019-09-24 12:06:46,163 INFO  impl.LeaderElection (LeaderElection.java:logAndReturn(56)) - s2@group-9DDC70D1F0F3-LeaderElection26: Election REJECTED; received 2 response(s) [s2<-s0#0:FAIL-t5, s2<-s1#0:FAIL-t5] and 0 exception(s); s2@group-9DDC70D1F0F3:t5, leader=null, voted=s2, raftlog=s2@group-9DDC70D1F0F3-SegmentedRaftLog:OPENED:c2,f2,i2, conf=1: [s0:0.0.0.0:37243, s1:0.0.0.0:38994, s2:0.0.0.0:36346], old=null
2019-09-24 12:06:46,163 INFO  impl.RoleInfo (RoleInfo.java:shutdownLeaderElection(134)) - s1: shutdown LeaderElection
2019-09-24 12:06:46,164 INFO  impl.RaftServerImpl (RaftServerImpl.java:setRole(170)) - s2@group-9DDC70D1F0F3: changes role from CANDIDATE to FOLLOWER at term 5 for DISCOVERED_A_NEW_TERM
2019-09-24 12:06:46,163 INFO  impl.RoleInfo (RoleInfo.java:shutdownFollowerState(121)) - s0: shutdown FollowerState
2019-09-24 12:06:46,164 INFO  impl.RoleInfo (RoleInfo.java:shutdownLeaderElection(134)) - s2: shutdown LeaderElection
2019-09-24 12:06:46,164 INFO  impl.RaftServerImpl (RaftServerImpl.java:setRole(170)) - s1@group-04E6F89F5A1C: changes role from CANDIDATE to LEADER at term 7 for changeToLeader
2019-09-24 12:06:46,164 INFO  impl.RoleInfo (RoleInfo.java:updateAndGet(143)) - s2: start FollowerState
2019-09-24 12:06:46,164 INFO  impl.RoleInfo (RoleInfo.java:updateAndGet(143)) - s0: start FollowerState
2019-09-24 12:06:46,164 INFO  impl.FollowerState (FollowerState.java:run(117)) - s0@group-9DDC70D1F0F3-FollowerState was interrupted: java.lang.InterruptedException: sleep interrupted
2019-09-24 12:06:46,165 INFO  impl.RaftServerImpl (ServerState.java:setLeader(254)) - s1@group-04E6F89F5A1C: change Leader from null to s1 at term 7 for becomeLeader, leader elected after 33ms
2019-09-24 12:06:46,166 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.staging.catchup.gap = 1000 (default)
2019-09-24 12:06:46,166 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.rpc.sleep.time = 25ms (default)
2019-09-24 12:06:46,167 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.write.element-limit = 4096 (default)
2019-09-24 12:06:46,167 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.watch.timeout = 10s (default)
2019-09-24 12:06:46,167 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.watch.timeout.denomination = 1s (default)
2019-09-24 12:06:46,167 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.watch.element-limit = 65536 (default)
2019-09-24 12:06:46,168 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.log.appender.snapshot.chunk.size.max = 16MB (=16777216) (default)
2019-09-24 12:06:46,168 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.log.appender.buffer.byte-limit = 4MB (=4194304) (default)
2019-09-24 12:06:46,168 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.log.appender.buffer.element-limit = 0 (default)
2019-09-24 12:06:46,168 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.log.appender.snapshot.chunk.size.max = 16MB (=16777216) (default)
2019-09-24 12:06:46,169 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.log.appender.buffer.byte-limit = 4MB (=4194304) (default)
2019-09-24 12:06:46,169 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.log.appender.buffer.element-limit = 0 (default)
2019-09-24 12:06:46,169 INFO  impl.RoleInfo (RoleInfo.java:updateAndGet(143)) - s1: start LeaderState
2019-09-24 12:06:46,169 INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:rollLogSegment(385)) - s1@group-04E6F89F5A1C-SegmentedRaftLogWorker: Rolling segment log-5_6 to index:6
2019-09-24 12:06:46,170 DEBUG segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:addIOTask(251)) - s1@group-04E6F89F5A1C-SegmentedRaftLogWorker adds IO task FinalizeLogSegment:6: startIndex=5 endIndex=6
2019-09-24 12:06:46,170 DEBUG segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:addIOTask(251)) - s1@group-04E6F89F5A1C-SegmentedRaftLogWorker adds IO task StartLogSegment:7
2019-09-24 12:06:46,170 DEBUG segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:addIOTask(251)) - s1@group-04E6F89F5A1C-SegmentedRaftLogWorker adds IO task WriteLog:7: (t:7, i:7), CONFIGURATIONENTRY
2019-09-24 12:06:46,171 INFO  impl.RaftServerImpl (ServerState.java:setRaftConf(355)) - s1@group-04E6F89F5A1C: set configuration 7: [s0:0.0.0.0:34119, s1:0.0.0.0:44382, s2:0.0.0.0:42516], old=null at 7
2019-09-24 12:06:46,171 INFO  impl.RaftServerImpl (ServerState.java:setLeader(254)) - s0@group-04E6F89F5A1C: change Leader from null to s1 at term 7 for appendEntries, leader elected after 21ms
2019-09-24 12:06:46,171 INFO  impl.RaftServerImpl (ServerState.java:setLeader(254)) - s2@group-04E6F89F5A1C: change Leader from null to s1 at term 7 for appendEntries, leader elected after 21ms
2019-09-24 12:06:46,172 TRACE util.FileUtils (LogUtils.java:runAndLog(61)) - Successfully ran Files.move /workdir/ratis-test/target/test/data/aaa4fccd/MiniRaftClusterWithNetty55a7148e/s1/611a84d9-4fe5-4f71-a301-04e6f89f5a1c/current/log_inprogress_5 to /workdir/ratis-test/target/test/data/aaa4fccd/MiniRaftClusterWithNetty55a7148e/s1/611a84d9-4fe5-4f71-a301-04e6f89f5a1c/current/log_5-6
2019-09-24 12:06:46,172 INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:execute(526)) - s1@group-04E6F89F5A1C-SegmentedRaftLogWorker: Rolled log segment from /workdir/ratis-test/target/test/data/aaa4fccd/MiniRaftClusterWithNetty55a7148e/s1/611a84d9-4fe5-4f71-a301-04e6f89f5a1c/current/log_inprogress_5 to /workdir/ratis-test/target/test/data/aaa4fccd/MiniRaftClusterWithNetty55a7148e/s1/611a84d9-4fe5-4f71-a301-04e6f89f5a1c/current/log_5-6
2019-09-24 12:06:46,173 TRACE segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:lambda$new$1(133)) - s1@group-04E6F89F5A1C-SegmentedRaftLogWorker: flushIndex: updateIncreasingly 6 -> 6
2019-09-24 12:06:46,173 DEBUG impl.RaftServerImpl (RaftServerImpl.java:logAppendEntries(850)) - s0@group-04E6F89F5A1C: receive appendEntries(s1, 7, (t:6, i:6), 6, false, commits[s1:c6, s0:c6, s2:c6], entries: (t:7, i:7), CONFIGURATIONENTRY
2019-09-24 12:06:46,173 DEBUG impl.RaftServerImpl (RaftServerImpl.java:logAppendEntries(850)) - s2@group-04E6F89F5A1C: receive appendEntries(s1, 7, (t:6, i:6), 6, false, commits[s1:c6, s0:c6, s2:c6], entries: (t:7, i:7), CONFIGURATIONENTRY
2019-09-24 12:06:46,173 INFO  impl.RaftServerImpl (ServerState.java:setRaftConf(355)) - s0@group-04E6F89F5A1C: set configuration 7: [s0:0.0.0.0:34119, s1:0.0.0.0:44382, s2:0.0.0.0:42516], old=null at 7
2019-09-24 12:06:46,174 INFO  impl.RaftServerImpl (ServerState.java:setRaftConf(355)) - s2@group-04E6F89F5A1C: set configuration 7: [s0:0.0.0.0:34119, s1:0.0.0.0:44382, s2:0.0.0.0:42516], old=null at 7
2019-09-24 12:06:46,174 INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:rollLogSegment(385)) - s0@group-04E6F89F5A1C-SegmentedRaftLogWorker: Rolling segment log-5_6 to index:6
2019-09-24 12:06:46,174 INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:rollLogSegment(385)) - s2@group-04E6F89F5A1C-SegmentedRaftLogWorker: Rolling segment log-5_6 to index:6
2019-09-24 12:06:46,175 DEBUG segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:addIOTask(251)) - s0@group-04E6F89F5A1C-SegmentedRaftLogWorker adds IO task FinalizeLogSegment:6: startIndex=5 endIndex=6
2019-09-24 12:06:46,175 DEBUG segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:addIOTask(251)) - s2@group-04E6F89F5A1C-SegmentedRaftLogWorker adds IO task FinalizeLogSegment:6: startIndex=5 endIndex=6
2019-09-24 12:06:46,175 DEBUG segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:addIOTask(251)) - s0@group-04E6F89F5A1C-SegmentedRaftLogWorker adds IO task StartLogSegment:7
2019-09-24 12:06:46,176 DEBUG segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:addIOTask(251)) - s2@group-04E6F89F5A1C-SegmentedRaftLogWorker adds IO task StartLogSegment:7
2019-09-24 12:06:46,176 DEBUG segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:addIOTask(251)) - s0@group-04E6F89F5A1C-SegmentedRaftLogWorker adds IO task WriteLog:7: (t:7, i:7), CONFIGURATIONENTRY
2019-09-24 12:06:46,176 DEBUG segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:addIOTask(251)) - s2@group-04E6F89F5A1C-SegmentedRaftLogWorker adds IO task WriteLog:7: (t:7, i:7), CONFIGURATIONENTRY
2019-09-24 12:06:46,180 TRACE util.FileUtils (LogUtils.java:runAndLog(61)) - Successfully ran Files.move /workdir/ratis-test/target/test/data/aaa4fccd/MiniRaftClusterWithNetty55a7148e/s0/611a84d9-4fe5-4f71-a301-04e6f89f5a1c/current/log_inprogress_5 to /workdir/ratis-test/target/test/data/aaa4fccd/MiniRaftClusterWithNetty55a7148e/s0/611a84d9-4fe5-4f71-a301-04e6f89f5a1c/current/log_5-6
2019-09-24 12:06:46,180 INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:execute(526)) - s0@group-04E6F89F5A1C-SegmentedRaftLogWorker: Rolled log segment from /workdir/ratis-test/target/test/data/aaa4fccd/MiniRaftClusterWithNetty55a7148e/s0/611a84d9-4fe5-4f71-a301-04e6f89f5a1c/current/log_inprogress_5 to /workdir/ratis-test/target/test/data/aaa4fccd/MiniRaftClusterWithNetty55a7148e/s0/611a84d9-4fe5-4f71-a301-04e6f89f5a1c/current/log_5-6
2019-09-24 12:06:46,180 TRACE util.FileUtils (LogUtils.java:runAndLog(61)) - Successfully ran Files.move /workdir/ratis-test/target/test/data/aaa4fccd/MiniRaftClusterWithNetty55a7148e/s2/611a84d9-4fe5-4f71-a301-04e6f89f5a1c/current/log_inprogress_5 to /workdir/ratis-test/target/test/data/aaa4fccd/MiniRaftClusterWithNetty55a7148e/s2/611a84d9-4fe5-4f71-a301-04e6f89f5a1c/current/log_5-6
2019-09-24 12:06:46,180 TRACE segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:lambda$new$1(133)) - s0@group-04E6F89F5A1C-SegmentedRaftLogWorker: flushIndex: updateIncreasingly 6 -> 6
2019-09-24 12:06:46,180 INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:execute(526)) - s2@group-04E6F89F5A1C-SegmentedRaftLogWorker: Rolled log segment from /workdir/ratis-test/target/test/data/aaa4fccd/MiniRaftClusterWithNetty55a7148e/s2/611a84d9-4fe5-4f71-a301-04e6f89f5a1c/current/log_inprogress_5 to /workdir/ratis-test/target/test/data/aaa4fccd/MiniRaftClusterWithNetty55a7148e/s2/611a84d9-4fe5-4f71-a301-04e6f89f5a1c/current/log_5-6
2019-09-24 12:06:46,180 TRACE segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:lambda$new$1(133)) - s2@group-04E6F89F5A1C-SegmentedRaftLogWorker: flushIndex: updateIncreasingly 6 -> 6
2019-09-24 12:06:46,196 DEBUG impl.RaftServerImpl (RaftServerImpl.java:requestVote(775)) - s0@group-9DDC70D1F0F3 replies to vote request: s1<-s0#0:OK-t5. Peer's state: s0@group-9DDC70D1F0F3:t5, leader=null, voted=s1, raftlog=s0@group-9DDC70D1F0F3-SegmentedRaftLog:OPENED:c2,f2,i2, conf=1: [s0:0.0.0.0:37243, s1:0.0.0.0:38994, s2:0.0.0.0:36346], old=null
2019-09-24 12:06:46,197 INFO  impl.LeaderElection (LeaderElection.java:logAndReturn(56)) - s1@group-9DDC70D1F0F3-LeaderElection25: Election PASSED; received 2 response(s) [s1<-s0#0:OK-t5, s1<-s2#0:FAIL-t5] and 0 exception(s); s1@group-9DDC70D1F0F3:t5, leader=null, voted=s1, raftlog=s1@group-9DDC70D1F0F3-SegmentedRaftLog:OPENED:c2,f2,i2, conf=1: [s0:0.0.0.0:37243, s1:0.0.0.0:38994, s2:0.0.0.0:36346], old=null
2019-09-24 12:06:46,197 INFO  impl.RoleInfo (RoleInfo.java:shutdownLeaderElection(134)) - s1: shutdown LeaderElection
2019-09-24 12:06:46,198 INFO  impl.RaftServerImpl (RaftServerImpl.java:setRole(170)) - s1@group-9DDC70D1F0F3: changes role from CANDIDATE to LEADER at term 5 for changeToLeader
2019-09-24 12:06:46,198 INFO  impl.RaftServerImpl (ServerState.java:setLeader(254)) - s1@group-9DDC70D1F0F3: change Leader from null to s1 at term 5 for becomeLeader, leader elected after 78ms
2019-09-24 12:06:46,198 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.staging.catchup.gap = 1000 (default)
2019-09-24 12:06:46,198 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.rpc.sleep.time = 25ms (default)
2019-09-24 12:06:46,198 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.write.element-limit = 4096 (default)
2019-09-24 12:06:46,199 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.watch.timeout = 10s (default)
2019-09-24 12:06:46,199 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.watch.timeout.denomination = 1s (default)
2019-09-24 12:06:46,199 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.watch.element-limit = 65536 (default)
2019-09-24 12:06:46,202 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.log.appender.snapshot.chunk.size.max = 16MB (=16777216) (default)
2019-09-24 12:06:46,203 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.log.appender.buffer.byte-limit = 4MB (=4194304) (default)
2019-09-24 12:06:46,203 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.log.appender.buffer.element-limit = 0 (default)
2019-09-24 12:06:46,203 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.log.appender.snapshot.chunk.size.max = 16MB (=16777216) (default)
2019-09-24 12:06:46,203 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.log.appender.buffer.byte-limit = 4MB (=4194304) (default)
2019-09-24 12:06:46,204 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.log.appender.buffer.element-limit = 0 (default)
2019-09-24 12:06:46,204 INFO  impl.RoleInfo (RoleInfo.java:updateAndGet(143)) - s1: start LeaderState
2019-09-24 12:06:46,204 INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:rollLogSegment(385)) - s1@group-9DDC70D1F0F3-SegmentedRaftLogWorker: Rolling segment log-1_2 to index:2
2019-09-24 12:06:46,205 DEBUG segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:addIOTask(251)) - s1@group-9DDC70D1F0F3-SegmentedRaftLogWorker adds IO task FinalizeLogSegment:2: startIndex=1 endIndex=2
2019-09-24 12:06:46,205 DEBUG segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:addIOTask(251)) - s1@group-9DDC70D1F0F3-SegmentedRaftLogWorker adds IO task StartLogSegment:3
2019-09-24 12:06:46,205 DEBUG segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:addIOTask(251)) - s1@group-9DDC70D1F0F3-SegmentedRaftLogWorker adds IO task WriteLog:3: (t:5, i:3), CONFIGURATIONENTRY
2019-09-24 12:06:46,206 INFO  impl.RaftServerImpl (ServerState.java:setRaftConf(355)) - s1@group-9DDC70D1F0F3: set configuration 3: [s0:0.0.0.0:37243, s1:0.0.0.0:38994, s2:0.0.0.0:36346], old=null at 3
2019-09-24 12:06:46,206 INFO  impl.RaftServerImpl (ServerState.java:setLeader(254)) - s0@group-9DDC70D1F0F3: change Leader from null to s1 at term 5 for appendEntries, leader elected after 68ms
2019-09-24 12:06:46,206 INFO  impl.RaftServerImpl (ServerState.java:setLeader(254)) - s2@group-9DDC70D1F0F3: change Leader from null to s1 at term 5 for appendEntries, leader elected after 76ms
2019-09-24 12:06:46,207 TRACE util.FileUtils (LogUtils.java:runAndLog(61)) - Successfully ran Files.move /workdir/ratis-test/target/test/data/aaa4fccd/MiniRaftClusterWithNetty53617c77/s1/8282875c-54dc-4ebb-a985-9ddc70d1f0f3/current/log_inprogress_1 to /workdir/ratis-test/target/test/data/aaa4fccd/MiniRaftClusterWithNetty53617c77/s1/8282875c-54dc-4ebb-a985-9ddc70d1f0f3/current/log_1-2
2019-09-24 12:06:46,207 INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:execute(526)) - s1@group-9DDC70D1F0F3-SegmentedRaftLogWorker: Rolled log segment from /workdir/ratis-test/target/test/data/aaa4fccd/MiniRaftClusterWithNetty53617c77/s1/8282875c-54dc-4ebb-a985-9ddc70d1f0f3/current/log_inprogress_1 to /workdir/ratis-test/target/test/data/aaa4fccd/MiniRaftClusterWithNetty53617c77/s1/8282875c-54dc-4ebb-a985-9ddc70d1f0f3/current/log_1-2
2019-09-24 12:06:46,208 TRACE segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:lambda$new$1(133)) - s1@group-9DDC70D1F0F3-SegmentedRaftLogWorker: flushIndex: updateIncreasingly 2 -> 2
2019-09-24 12:06:46,208 DEBUG impl.RaftServerImpl (RaftServerImpl.java:logAppendEntries(850)) - s0@group-9DDC70D1F0F3: receive appendEntries(s1, 5, (t:4, i:2), 2, false, commits[s1:c2, s0:c2, s2:c2], entries: (t:5, i:3), CONFIGURATIONENTRY
2019-09-24 12:06:46,208 DEBUG impl.RaftServerImpl (RaftServerImpl.java:logAppendEntries(850)) - s2@group-9DDC70D1F0F3: receive appendEntries(s1, 5, (t:4, i:2), 2, false, commits[s1:c2, s0:c2, s2:c2], entries: (t:5, i:3), CONFIGURATIONENTRY
2019-09-24 12:06:46,208 INFO  impl.RaftServerImpl (ServerState.java:setRaftConf(355)) - s0@group-9DDC70D1F0F3: set configuration 3: [s0:0.0.0.0:37243, s1:0.0.0.0:38994, s2:0.0.0.0:36346], old=null at 3
2019-09-24 12:06:46,209 INFO  impl.RaftServerImpl (ServerState.java:setRaftConf(355)) - s2@group-9DDC70D1F0F3: set configuration 3: [s0:0.0.0.0:37243, s1:0.0.0.0:38994, s2:0.0.0.0:36346], old=null at 3
2019-09-24 12:06:46,209 INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:rollLogSegment(385)) - s0@group-9DDC70D1F0F3-SegmentedRaftLogWorker: Rolling segment log-1_2 to index:2
2019-09-24 12:06:46,209 INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:rollLogSegment(385)) - s2@group-9DDC70D1F0F3-SegmentedRaftLogWorker: Rolling segment log-1_2 to index:2
2019-09-24 12:06:46,209 DEBUG segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:addIOTask(251)) - s0@group-9DDC70D1F0F3-SegmentedRaftLogWorker adds IO task FinalizeLogSegment:2: startIndex=1 endIndex=2
2019-09-24 12:06:46,210 DEBUG segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:addIOTask(251)) - s2@group-9DDC70D1F0F3-SegmentedRaftLogWorker adds IO task FinalizeLogSegment:2: startIndex=1 endIndex=2
2019-09-24 12:06:46,210 DEBUG segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:addIOTask(251)) - s0@group-9DDC70D1F0F3-SegmentedRaftLogWorker adds IO task StartLogSegment:3
2019-09-24 12:06:46,210 DEBUG segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:addIOTask(251)) - s2@group-9DDC70D1F0F3-SegmentedRaftLogWorker adds IO task StartLogSegment:3
2019-09-24 12:06:46,211 DEBUG segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:addIOTask(251)) - s0@group-9DDC70D1F0F3-SegmentedRaftLogWorker adds IO task WriteLog:3: (t:5, i:3), CONFIGURATIONENTRY
2019-09-24 12:06:46,211 DEBUG segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:addIOTask(251)) - s2@group-9DDC70D1F0F3-SegmentedRaftLogWorker adds IO task WriteLog:3: (t:5, i:3), CONFIGURATIONENTRY
2019-09-24 12:06:46,212 TRACE util.FileUtils (LogUtils.java:runAndLog(61)) - Successfully ran Files.move /workdir/ratis-test/target/test/data/aaa4fccd/MiniRaftClusterWithNetty53617c77/s0/8282875c-54dc-4ebb-a985-9ddc70d1f0f3/current/log_inprogress_1 to /workdir/ratis-test/target/test/data/aaa4fccd/MiniRaftClusterWithNetty53617c77/s0/8282875c-54dc-4ebb-a985-9ddc70d1f0f3/current/log_1-2
2019-09-24 12:06:46,212 TRACE util.FileUtils (LogUtils.java:runAndLog(61)) - Successfully ran Files.move /workdir/ratis-test/target/test/data/aaa4fccd/MiniRaftClusterWithNetty53617c77/s2/8282875c-54dc-4ebb-a985-9ddc70d1f0f3/current/log_inprogress_1 to /workdir/ratis-test/target/test/data/aaa4fccd/MiniRaftClusterWithNetty53617c77/s2/8282875c-54dc-4ebb-a985-9ddc70d1f0f3/current/log_1-2
2019-09-24 12:06:46,212 INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:execute(526)) - s0@group-9DDC70D1F0F3-SegmentedRaftLogWorker: Rolled log segment from /workdir/ratis-test/target/test/data/aaa4fccd/MiniRaftClusterWithNetty53617c77/s0/8282875c-54dc-4ebb-a985-9ddc70d1f0f3/current/log_inprogress_1 to /workdir/ratis-test/target/test/data/aaa4fccd/MiniRaftClusterWithNetty53617c77/s0/8282875c-54dc-4ebb-a985-9ddc70d1f0f3/current/log_1-2
2019-09-24 12:06:46,212 INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:execute(526)) - s2@group-9DDC70D1F0F3-SegmentedRaftLogWorker: Rolled log segment from /workdir/ratis-test/target/test/data/aaa4fccd/MiniRaftClusterWithNetty53617c77/s2/8282875c-54dc-4ebb-a985-9ddc70d1f0f3/current/log_inprogress_1 to /workdir/ratis-test/target/test/data/aaa4fccd/MiniRaftClusterWithNetty53617c77/s2/8282875c-54dc-4ebb-a985-9ddc70d1f0f3/current/log_1-2
2019-09-24 12:06:46,213 TRACE segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:lambda$new$1(133)) - s2@group-9DDC70D1F0F3-SegmentedRaftLogWorker: flushIndex: updateIncreasingly 2 -> 2
2019-09-24 12:06:46,213 TRACE segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:lambda$new$1(133)) - s0@group-9DDC70D1F0F3-SegmentedRaftLogWorker: flushIndex: updateIncreasingly 2 -> 2
2019-09-24 12:06:46,240 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.rpc.timeout.max = 300ms (default)
2019-09-24 12:06:46,241 INFO  ratis.RaftTestUtil (RaftTestUtil.java:waitForLeader(86)) - printing ALL groups
  s0:  RUNNING  FOLLOWER s0@group-04E6F89F5A1C:t7, leader=s1, voted=null, raftlog=s0@group-04E6F89F5A1C-SegmentedRaftLog:OPENED:c6,f6,i7, conf=7: [s0:0.0.0.0:34119, s1:0.0.0.0:44382, s2:0.0.0.0:42516], old=null RUNNING
  s1:  RUNNING    LEADER s1@group-04E6F89F5A1C:t7, leader=s1, voted=s1, raftlog=s1@group-04E6F89F5A1C-SegmentedRaftLog:OPENED:c6,f6,i7, conf=7: [s0:0.0.0.0:34119, s1:0.0.0.0:44382, s2:0.0.0.0:42516], old=null RUNNING
  s2:  RUNNING  FOLLOWER s2@group-04E6F89F5A1C:t7, leader=s1, voted=s1, raftlog=s2@group-04E6F89F5A1C-SegmentedRaftLog:OPENED:c6,f6,i7, conf=7: [s0:0.0.0.0:34119, s1:0.0.0.0:44382, s2:0.0.0.0:42516], old=null RUNNING
2019-09-24 12:06:46,241 INFO  ratis.RaftTestUtil (RaftTestUtil.java:waitForLeader(101)) - printing ALL groups
  s0:  RUNNING  FOLLOWER s0@group-04E6F89F5A1C:t7, leader=s1, voted=null, raftlog=s0@group-04E6F89F5A1C-SegmentedRaftLog:OPENED:c6,f6,i7, conf=7: [s0:0.0.0.0:34119, s1:0.0.0.0:44382, s2:0.0.0.0:42516], old=null RUNNING
  s1:  RUNNING    LEADER s1@group-04E6F89F5A1C:t7, leader=s1, voted=s1, raftlog=s1@group-04E6F89F5A1C-SegmentedRaftLog:OPENED:c6,f6,i7, conf=7: [s0:0.0.0.0:34119, s1:0.0.0.0:44382, s2:0.0.0.0:42516], old=null RUNNING
  s2:  RUNNING  FOLLOWER s2@group-04E6F89F5A1C:t7, leader=s1, voted=s1, raftlog=s2@group-04E6F89F5A1C-SegmentedRaftLog:OPENED:c6,f6,i7, conf=7: [s0:0.0.0.0:34119, s1:0.0.0.0:44382, s2:0.0.0.0:42516], old=null RUNNING
2019-09-24 12:06:46,242 INFO  ratis.RaftTestUtil (RaftTestUtil.java:lambda$changeLeader$7(367)) - Changed leader from s0 to s1
2019-09-24 12:06:46,242 INFO  util.CodeInjectionForTesting (BlockRequestHandlingInjection.java:unblockRequestor(53)) - UnBlock requestor s0
2019-09-24 12:06:46,242 INFO  util.CodeInjectionForTesting (BlockRequestHandlingInjection.java:blockRequestor(48)) - Block requestor s1
2019-09-24 12:06:46,242 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.rpc.timeout.max = 300ms (default)
2019-09-24 12:06:46,243 INFO  ratis.RaftTestUtil (RaftTestUtil.java:waitForLeader(86)) - printing ALL groups
  s0:  RUNNING  FOLLOWER s0@group-04E6F89F5A1C:t7, leader=s1, voted=null, raftlog=s0@group-04E6F89F5A1C-SegmentedRaftLog:OPENED:c6,f6,i7, conf=7: [s0:0.0.0.0:34119, s1:0.0.0.0:44382, s2:0.0.0.0:42516], old=null RUNNING
  s1:  RUNNING    LEADER s1@group-04E6F89F5A1C:t7, leader=s1, voted=s1, raftlog=s1@group-04E6F89F5A1C-SegmentedRaftLog:OPENED:c6,f6,i7, conf=7: [s0:0.0.0.0:34119, s1:0.0.0.0:44382, s2:0.0.0.0:42516], old=null RUNNING
  s2:  RUNNING  FOLLOWER s2@group-04E6F89F5A1C:t7, leader=s1, voted=s1, raftlog=s2@group-04E6F89F5A1C-SegmentedRaftLog:OPENED:c6,f6,i7, conf=7: [s0:0.0.0.0:34119, s1:0.0.0.0:44382, s2:0.0.0.0:42516], old=null RUNNING
2019-09-24 12:06:46,243 INFO  ratis.RaftTestUtil (RaftTestUtil.java:waitForLeader(101)) - printing ALL groups
  s0:  RUNNING  FOLLOWER s0@group-04E6F89F5A1C:t7, leader=s1, voted=null, raftlog=s0@group-04E6F89F5A1C-SegmentedRaftLog:OPENED:c6,f6,i7, conf=7: [s0:0.0.0.0:34119, s1:0.0.0.0:44382, s2:0.0.0.0:42516], old=null RUNNING
  s1:  RUNNING    LEADER s1@group-04E6F89F5A1C:t7, leader=s1, voted=s1, raftlog=s1@group-04E6F89F5A1C-SegmentedRaftLog:OPENED:c6,f6,i7, conf=7: [s0:0.0.0.0:34119, s1:0.0.0.0:44382, s2:0.0.0.0:42516], old=null RUNNING
  s2:  RUNNING  FOLLOWER s2@group-04E6F89F5A1C:t7, leader=s1, voted=s1, raftlog=s2@group-04E6F89F5A1C-SegmentedRaftLog:OPENED:c6,f6,i7, conf=7: [s0:0.0.0.0:34119, s1:0.0.0.0:44382, s2:0.0.0.0:42516], old=null RUNNING
2019-09-24 12:06:46,243 WARN  ratis.RaftTestUtil (JavaUtils.java:attempt(158)) - FAILED "testChangeLeader-changeLeader", attempt #1/20: java.lang.IllegalStateException: Failed to change leader: newLeader == oldLeader == s1, sleep 100ms and then retry.
java.lang.IllegalStateException: Failed to change leader: newLeader == oldLeader == s1
	at org.apache.ratis.RaftTestUtil.lambda$changeLeader$7(RaftTestUtil.java:365)
	at org.apache.ratis.util.JavaUtils.attempt(JavaUtils.java:152)
	at org.apache.ratis.RaftTestUtil.changeLeader(RaftTestUtil.java:362)
	at org.apache.ratis.server.impl.LeaderElectionTests.testChangeLeader(LeaderElectionTests.java:81)
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.lang.reflect.Method.invoke(Method.java:498)
	at org.junit.runners.model.FrameworkMethod$1.runReflectiveCall(FrameworkMethod.java:50)
	at org.junit.internal.runners.model.ReflectiveCallable.run(ReflectiveCallable.java:12)
	at org.junit.runners.model.FrameworkMethod.invokeExplosively(FrameworkMethod.java:47)
	at org.junit.internal.runners.statements.InvokeMethod.evaluate(InvokeMethod.java:17)
	at org.junit.internal.runners.statements.RunAfters.evaluate(RunAfters.java:27)
	at org.junit.internal.runners.statements.FailOnTimeout$CallableStatement.call(FailOnTimeout.java:298)
	at org.junit.internal.runners.statements.FailOnTimeout$CallableStatement.call(FailOnTimeout.java:292)
	at java.util.concurrent.FutureTask.run(FutureTask.java:266)
	at java.lang.Thread.run(Thread.java:748)
2019-09-24 12:06:46,256 WARN  impl.LogAppender (LogAppender.java:sendAppendEntriesWithRetries(274)) - s4@group-E7D5050F4609->s3-LogAppender: Failed to appendEntries (retry=61): org.apache.ratis.thirdparty.io.netty.channel.AbstractChannel$AnnotatedConnectException: Connection refused: /0.0.0.0:40479
2019-09-24 12:06:46,344 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.rpc.timeout.max = 300ms (default)
2019-09-24 12:06:46,344 INFO  ratis.RaftTestUtil (RaftTestUtil.java:waitForLeader(86)) - printing ALL groups
  s0:  RUNNING  FOLLOWER s0@group-04E6F89F5A1C:t7, leader=s1, voted=null, raftlog=s0@group-04E6F89F5A1C-SegmentedRaftLog:OPENED:c6,f6,i7, conf=7: [s0:0.0.0.0:34119, s1:0.0.0.0:44382, s2:0.0.0.0:42516], old=null RUNNING
  s1:  RUNNING    LEADER s1@group-04E6F89F5A1C:t7, leader=s1, voted=s1, raftlog=s1@group-04E6F89F5A1C-SegmentedRaftLog:OPENED:c6,f6,i7, conf=7: [s0:0.0.0.0:34119, s1:0.0.0.0:44382, s2:0.0.0.0:42516], old=null RUNNING
  s2:  RUNNING  FOLLOWER s2@group-04E6F89F5A1C:t7, leader=s1, voted=s1, raftlog=s2@group-04E6F89F5A1C-SegmentedRaftLog:OPENED:c6,f6,i7, conf=7: [s0:0.0.0.0:34119, s1:0.0.0.0:44382, s2:0.0.0.0:42516], old=null RUNNING
2019-09-24 12:06:46,345 INFO  ratis.RaftTestUtil (RaftTestUtil.java:waitForLeader(101)) - printing ALL groups
  s0:  RUNNING  FOLLOWER s0@group-04E6F89F5A1C:t7, leader=s1, voted=null, raftlog=s0@group-04E6F89F5A1C-SegmentedRaftLog:OPENED:c6,f6,i7, conf=7: [s0:0.0.0.0:34119, s1:0.0.0.0:44382, s2:0.0.0.0:42516], old=null RUNNING
  s1:  RUNNING    LEADER s1@group-04E6F89F5A1C:t7, leader=s1, voted=s1, raftlog=s1@group-04E6F89F5A1C-SegmentedRaftLog:OPENED:c6,f6,i7, conf=7: [s0:0.0.0.0:34119, s1:0.0.0.0:44382, s2:0.0.0.0:42516], old=null RUNNING
  s2:  RUNNING  FOLLOWER s2@group-04E6F89F5A1C:t7, leader=s1, voted=s1, raftlog=s2@group-04E6F89F5A1C-SegmentedRaftLog:OPENED:c6,f6,i7, conf=7: [s0:0.0.0.0:34119, s1:0.0.0.0:44382, s2:0.0.0.0:42516], old=null RUNNING
2019-09-24 12:06:46,345 WARN  ratis.RaftTestUtil (JavaUtils.java:attempt(158)) - FAILED "testChangeLeader-changeLeader", attempt #2/20: java.lang.IllegalStateException: Failed to change leader: newLeader == oldLeader == s1, sleep 100ms and then retry.
java.lang.IllegalStateException: Failed to change leader: newLeader == oldLeader == s1
	at org.apache.ratis.RaftTestUtil.lambda$changeLeader$7(RaftTestUtil.java:365)
	at org.apache.ratis.util.JavaUtils.attempt(JavaUtils.java:152)
	at org.apache.ratis.RaftTestUtil.changeLeader(RaftTestUtil.java:362)
	at org.apache.ratis.server.impl.LeaderElectionTests.testChangeLeader(LeaderElectionTests.java:81)
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.lang.reflect.Method.invoke(Method.java:498)
	at org.junit.runners.model.FrameworkMethod$1.runReflectiveCall(FrameworkMethod.java:50)
	at org.junit.internal.runners.model.ReflectiveCallable.run(ReflectiveCallable.java:12)
	at org.junit.runners.model.FrameworkMethod.invokeExplosively(FrameworkMethod.java:47)
	at org.junit.internal.runners.statements.InvokeMethod.evaluate(InvokeMethod.java:17)
	at org.junit.internal.runners.statements.RunAfters.evaluate(RunAfters.java:27)
	at org.junit.internal.runners.statements.FailOnTimeout$CallableStatement.call(FailOnTimeout.java:298)
	at org.junit.internal.runners.statements.FailOnTimeout$CallableStatement.call(FailOnTimeout.java:292)
	at java.util.concurrent.FutureTask.run(FutureTask.java:266)
	at java.lang.Thread.run(Thread.java:748)
2019-09-24 12:06:46,446 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.rpc.timeout.max = 300ms (default)
2019-09-24 12:06:46,446 INFO  ratis.RaftTestUtil (RaftTestUtil.java:waitForLeader(86)) - printing ALL groups
  s0:  RUNNING  FOLLOWER s0@group-04E6F89F5A1C:t7, leader=s1, voted=null, raftlog=s0@group-04E6F89F5A1C-SegmentedRaftLog:OPENED:c6,f6,i7, conf=7: [s0:0.0.0.0:34119, s1:0.0.0.0:44382, s2:0.0.0.0:42516], old=null RUNNING
  s1:  RUNNING    LEADER s1@group-04E6F89F5A1C:t7, leader=s1, voted=s1, raftlog=s1@group-04E6F89F5A1C-SegmentedRaftLog:OPENED:c6,f6,i7, conf=7: [s0:0.0.0.0:34119, s1:0.0.0.0:44382, s2:0.0.0.0:42516], old=null RUNNING
  s2:  RUNNING  FOLLOWER s2@group-04E6F89F5A1C:t7, leader=s1, voted=s1, raftlog=s2@group-04E6F89F5A1C-SegmentedRaftLog:OPENED:c6,f6,i7, conf=7: [s0:0.0.0.0:34119, s1:0.0.0.0:44382, s2:0.0.0.0:42516], old=null RUNNING
2019-09-24 12:06:46,447 INFO  ratis.RaftTestUtil (RaftTestUtil.java:waitForLeader(101)) - printing ALL groups
  s0:  RUNNING  FOLLOWER s0@group-04E6F89F5A1C:t7, leader=s1, voted=null, raftlog=s0@group-04E6F89F5A1C-SegmentedRaftLog:OPENED:c6,f6,i7, conf=7: [s0:0.0.0.0:34119, s1:0.0.0.0:44382, s2:0.0.0.0:42516], old=null RUNNING
  s1:  RUNNING    LEADER s1@group-04E6F89F5A1C:t7, leader=s1, voted=s1, raftlog=s1@group-04E6F89F5A1C-SegmentedRaftLog:OPENED:c6,f6,i7, conf=7: [s0:0.0.0.0:34119, s1:0.0.0.0:44382, s2:0.0.0.0:42516], old=null RUNNING
  s2:  RUNNING  FOLLOWER s2@group-04E6F89F5A1C:t7, leader=s1, voted=s1, raftlog=s2@group-04E6F89F5A1C-SegmentedRaftLog:OPENED:c6,f6,i7, conf=7: [s0:0.0.0.0:34119, s1:0.0.0.0:44382, s2:0.0.0.0:42516], old=null RUNNING
2019-09-24 12:06:46,447 WARN  ratis.RaftTestUtil (JavaUtils.java:attempt(158)) - FAILED "testChangeLeader-changeLeader", attempt #3/20: java.lang.IllegalStateException: Failed to change leader: newLeader == oldLeader == s1, sleep 100ms and then retry.
java.lang.IllegalStateException: Failed to change leader: newLeader == oldLeader == s1
	at org.apache.ratis.RaftTestUtil.lambda$changeLeader$7(RaftTestUtil.java:365)
	at org.apache.ratis.util.JavaUtils.attempt(JavaUtils.java:152)
	at org.apache.ratis.RaftTestUtil.changeLeader(RaftTestUtil.java:362)
	at org.apache.ratis.server.impl.LeaderElectionTests.testChangeLeader(LeaderElectionTests.java:81)
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.lang.reflect.Method.invoke(Method.java:498)
	at org.junit.runners.model.FrameworkMethod$1.runReflectiveCall(FrameworkMethod.java:50)
	at org.junit.internal.runners.model.ReflectiveCallable.run(ReflectiveCallable.java:12)
	at org.junit.runners.model.FrameworkMethod.invokeExplosively(FrameworkMethod.java:47)
	at org.junit.internal.runners.statements.InvokeMethod.evaluate(InvokeMethod.java:17)
	at org.junit.internal.runners.statements.RunAfters.evaluate(RunAfters.java:27)
	at org.junit.internal.runners.statements.FailOnTimeout$CallableStatement.call(FailOnTimeout.java:298)
	at org.junit.internal.runners.statements.FailOnTimeout$CallableStatement.call(FailOnTimeout.java:292)
	at java.util.concurrent.FutureTask.run(FutureTask.java:266)
	at java.lang.Thread.run(Thread.java:748)
2019-09-24 12:06:46,458 INFO  util.CodeInjectionForTesting (BlockRequestHandlingInjection.java:execute(82)) - s1: unBlock request from s0
2019-09-24 12:06:46,458 INFO  util.CodeInjectionForTesting (BlockRequestHandlingInjection.java:execute(82)) - s2: unBlock request from s0
2019-09-24 12:06:46,459 DEBUG impl.RaftServerImpl (RaftServerImpl.java:appendEntriesAsync(906)) - s1@group-9DDC70D1F0F3: Not recognize s0 (term=4) as leader, state: s1@group-9DDC70D1F0F3:t5, leader=s1, voted=s1, raftlog=s1@group-9DDC70D1F0F3-SegmentedRaftLog:OPENED:c2,f2,i3, conf=3: [s0:0.0.0.0:37243, s1:0.0.0.0:38994, s2:0.0.0.0:36346], old=null reply: s0<-s1#0:FAIL,NOT_LEADER,nextIndex:4,term:5,followerCommit:2
2019-09-24 12:06:46,459 DEBUG impl.RaftServerImpl (RaftServerImpl.java:appendEntriesAsync(906)) - s2@group-9DDC70D1F0F3: Not recognize s0 (term=4) as leader, state: s2@group-9DDC70D1F0F3:t5, leader=s1, voted=s2, raftlog=s2@group-9DDC70D1F0F3-SegmentedRaftLog:OPENED:c2,f2,i3, conf=3: [s0:0.0.0.0:37243, s1:0.0.0.0:38994, s2:0.0.0.0:36346], old=null reply: s0<-s2#0:FAIL,NOT_LEADER,nextIndex:4,term:5,followerCommit:2
2019-09-24 12:06:46,468 INFO  util.CodeInjectionForTesting (BlockRequestHandlingInjection.java:execute(82)) - s2: unBlock request from s0
2019-09-24 12:06:46,469 DEBUG impl.RaftServerImpl (RaftServerImpl.java:appendEntriesAsync(906)) - s2@group-04E6F89F5A1C: Not recognize s0 (term=6) as leader, state: s2@group-04E6F89F5A1C:t7, leader=s1, voted=s1, raftlog=s2@group-04E6F89F5A1C-SegmentedRaftLog:OPENED:c6,f6,i7, conf=7: [s0:0.0.0.0:34119, s1:0.0.0.0:44382, s2:0.0.0.0:42516], old=null reply: s0<-s2#0:FAIL,NOT_LEADER,nextIndex:8,term:7,followerCommit:6
2019-09-24 12:06:46,476 INFO  util.CodeInjectionForTesting (BlockRequestHandlingInjection.java:execute(82)) - s1: unBlock request from s0
2019-09-24 12:06:46,476 DEBUG impl.RaftServerImpl (RaftServerImpl.java:appendEntriesAsync(906)) - s1@group-04E6F89F5A1C: Not recognize s0 (term=6) as leader, state: s1@group-04E6F89F5A1C:t7, leader=s1, voted=s1, raftlog=s1@group-04E6F89F5A1C-SegmentedRaftLog:OPENED:c6,f6,i7, conf=7: [s0:0.0.0.0:34119, s1:0.0.0.0:44382, s2:0.0.0.0:42516], old=null reply: s0<-s1#0:FAIL,NOT_LEADER,nextIndex:8,term:7,followerCommit:6
2019-09-24 12:06:46,489 WARN  impl.LogAppender (LogAppender.java:sendAppendEntriesWithRetries(274)) - s4@group-E7D5050F4609->s3-LogAppender: Failed to appendEntries (retry=71): org.apache.ratis.thirdparty.io.netty.channel.AbstractChannel$AnnotatedConnectException: Connection refused: /0.0.0.0:40479
2019-09-24 12:06:46,503 INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:execute(569)) - s2@group-04E6F89F5A1C-SegmentedRaftLogWorker: created new log segment /workdir/ratis-test/target/test/data/aaa4fccd/MiniRaftClusterWithNetty55a7148e/s2/611a84d9-4fe5-4f71-a301-04e6f89f5a1c/current/log_inprogress_7
2019-09-24 12:06:46,503 INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:execute(569)) - s1@group-04E6F89F5A1C-SegmentedRaftLogWorker: created new log segment /workdir/ratis-test/target/test/data/aaa4fccd/MiniRaftClusterWithNetty55a7148e/s1/611a84d9-4fe5-4f71-a301-04e6f89f5a1c/current/log_inprogress_7
2019-09-24 12:06:46,503 INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:execute(569)) - s0@group-04E6F89F5A1C-SegmentedRaftLogWorker: created new log segment /workdir/ratis-test/target/test/data/aaa4fccd/MiniRaftClusterWithNetty55a7148e/s0/611a84d9-4fe5-4f71-a301-04e6f89f5a1c/current/log_inprogress_7
2019-09-24 12:06:46,504 INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:execute(569)) - s1@group-9DDC70D1F0F3-SegmentedRaftLogWorker: created new log segment /workdir/ratis-test/target/test/data/aaa4fccd/MiniRaftClusterWithNetty53617c77/s1/8282875c-54dc-4ebb-a985-9ddc70d1f0f3/current/log_inprogress_3
2019-09-24 12:06:46,504 DEBUG segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:flushWrites(340)) - s0@group-04E6F89F5A1C-SegmentedRaftLogWorker: flush SegmentedRaftLogOutputStream(/workdir/ratis-test/target/test/data/aaa4fccd/MiniRaftClusterWithNetty55a7148e/s0/611a84d9-4fe5-4f71-a301-04e6f89f5a1c/current/log_inprogress_7)
2019-09-24 12:06:46,504 DEBUG segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:flushWrites(340)) - s1@group-04E6F89F5A1C-SegmentedRaftLogWorker: flush SegmentedRaftLogOutputStream(/workdir/ratis-test/target/test/data/aaa4fccd/MiniRaftClusterWithNetty55a7148e/s1/611a84d9-4fe5-4f71-a301-04e6f89f5a1c/current/log_inprogress_7)
2019-09-24 12:06:46,504 DEBUG segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:flushWrites(340)) - s2@group-04E6F89F5A1C-SegmentedRaftLogWorker: flush SegmentedRaftLogOutputStream(/workdir/ratis-test/target/test/data/aaa4fccd/MiniRaftClusterWithNetty55a7148e/s2/611a84d9-4fe5-4f71-a301-04e6f89f5a1c/current/log_inprogress_7)
2019-09-24 12:06:46,504 DEBUG segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:flushWrites(340)) - s1@group-9DDC70D1F0F3-SegmentedRaftLogWorker: flush SegmentedRaftLogOutputStream(/workdir/ratis-test/target/test/data/aaa4fccd/MiniRaftClusterWithNetty53617c77/s1/8282875c-54dc-4ebb-a985-9ddc70d1f0f3/current/log_inprogress_3)
2019-09-24 12:06:46,513 TRACE segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:lambda$new$1(133)) - s0@group-04E6F89F5A1C-SegmentedRaftLogWorker: flushIndex: updateIncreasingly 6 -> 7
2019-09-24 12:06:46,513 DEBUG impl.RaftServerImpl (RaftServerImpl.java:logAppendEntries(850)) - s0@group-04E6F89F5A1C: succeeded to handle AppendEntries. Reply: s1<-s0#0:OK,SUCCESS,nextIndex:8,term:7,followerCommit:6
2019-09-24 12:06:46,514 TRACE segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:lambda$new$1(133)) - s1@group-9DDC70D1F0F3-SegmentedRaftLogWorker: flushIndex: updateIncreasingly 2 -> 3
2019-09-24 12:06:46,514 TRACE segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:lambda$new$1(133)) - s2@group-04E6F89F5A1C-SegmentedRaftLogWorker: flushIndex: updateIncreasingly 6 -> 7
2019-09-24 12:06:46,514 TRACE segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:lambda$new$1(133)) - s1@group-04E6F89F5A1C-SegmentedRaftLogWorker: flushIndex: updateIncreasingly 6 -> 7
2019-09-24 12:06:46,515 DEBUG segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:addIOTask(251)) - s1@group-04E6F89F5A1C-SegmentedRaftLogWorker adds IO task WriteLog:8: (t:7, i:8), METADATAENTRY(c7)
2019-09-24 12:06:46,515 DEBUG impl.RaftServerImpl (RaftServerImpl.java:logAppendEntries(850)) - s2@group-04E6F89F5A1C: succeeded to handle AppendEntries. Reply: s1<-s2#0:OK,SUCCESS,nextIndex:8,term:7,followerCommit:6
2019-09-24 12:06:46,515 DEBUG segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:flushWrites(340)) - s1@group-04E6F89F5A1C-SegmentedRaftLogWorker: flush SegmentedRaftLogOutputStream(/workdir/ratis-test/target/test/data/aaa4fccd/MiniRaftClusterWithNetty55a7148e/s1/611a84d9-4fe5-4f71-a301-04e6f89f5a1c/current/log_inprogress_7)
2019-09-24 12:06:46,516 INFO  util.CodeInjectionForTesting (BlockRequestHandlingInjection.java:execute(76)) - s0: Block request from s1
2019-09-24 12:06:46,516 INFO  util.CodeInjectionForTesting (BlockRequestHandlingInjection.java:execute(76)) - s2: Block request from s1
2019-09-24 12:06:46,518 INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:execute(569)) - s2@group-9DDC70D1F0F3-SegmentedRaftLogWorker: created new log segment /workdir/ratis-test/target/test/data/aaa4fccd/MiniRaftClusterWithNetty53617c77/s2/8282875c-54dc-4ebb-a985-9ddc70d1f0f3/current/log_inprogress_3
2019-09-24 12:06:46,518 INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:execute(569)) - s0@group-9DDC70D1F0F3-SegmentedRaftLogWorker: created new log segment /workdir/ratis-test/target/test/data/aaa4fccd/MiniRaftClusterWithNetty53617c77/s0/8282875c-54dc-4ebb-a985-9ddc70d1f0f3/current/log_inprogress_3
2019-09-24 12:06:46,518 DEBUG segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:flushWrites(340)) - s2@group-9DDC70D1F0F3-SegmentedRaftLogWorker: flush SegmentedRaftLogOutputStream(/workdir/ratis-test/target/test/data/aaa4fccd/MiniRaftClusterWithNetty53617c77/s2/8282875c-54dc-4ebb-a985-9ddc70d1f0f3/current/log_inprogress_3)
2019-09-24 12:06:46,518 DEBUG segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:flushWrites(340)) - s0@group-9DDC70D1F0F3-SegmentedRaftLogWorker: flush SegmentedRaftLogOutputStream(/workdir/ratis-test/target/test/data/aaa4fccd/MiniRaftClusterWithNetty53617c77/s0/8282875c-54dc-4ebb-a985-9ddc70d1f0f3/current/log_inprogress_3)
2019-09-24 12:06:46,529 TRACE segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:lambda$new$1(133)) - s1@group-04E6F89F5A1C-SegmentedRaftLogWorker: flushIndex: updateIncreasingly 7 -> 8
2019-09-24 12:06:46,529 TRACE segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:lambda$new$1(133)) - s2@group-9DDC70D1F0F3-SegmentedRaftLogWorker: flushIndex: updateIncreasingly 2 -> 3
2019-09-24 12:06:46,529 TRACE segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:lambda$new$1(133)) - s0@group-9DDC70D1F0F3-SegmentedRaftLogWorker: flushIndex: updateIncreasingly 2 -> 3
2019-09-24 12:06:46,530 DEBUG impl.RaftServerImpl (RaftServerImpl.java:logAppendEntries(850)) - s2@group-9DDC70D1F0F3: succeeded to handle AppendEntries. Reply: s1<-s2#0:OK,SUCCESS,nextIndex:4,term:5,followerCommit:2
2019-09-24 12:06:46,530 DEBUG impl.RaftServerImpl (RaftServerImpl.java:logAppendEntries(850)) - s0@group-9DDC70D1F0F3: succeeded to handle AppendEntries. Reply: s1<-s0#0:OK,SUCCESS,nextIndex:4,term:5,followerCommit:2
2019-09-24 12:06:46,532 DEBUG segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:addIOTask(251)) - s1@group-9DDC70D1F0F3-SegmentedRaftLogWorker adds IO task WriteLog:4: (t:5, i:4), METADATAENTRY(c3)
2019-09-24 12:06:46,532 DEBUG segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:flushWrites(340)) - s1@group-9DDC70D1F0F3-SegmentedRaftLogWorker: flush SegmentedRaftLogOutputStream(/workdir/ratis-test/target/test/data/aaa4fccd/MiniRaftClusterWithNetty53617c77/s1/8282875c-54dc-4ebb-a985-9ddc70d1f0f3/current/log_inprogress_3)
2019-09-24 12:06:46,532 INFO  util.CodeInjectionForTesting (BlockRequestHandlingInjection.java:execute(76)) - s2: Block request from s1
2019-09-24 12:06:46,532 INFO  util.CodeInjectionForTesting (BlockRequestHandlingInjection.java:execute(76)) - s0: Block request from s1
2019-09-24 12:06:46,543 TRACE segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:lambda$new$1(133)) - s1@group-9DDC70D1F0F3-SegmentedRaftLogWorker: flushIndex: updateIncreasingly 3 -> 4
2019-09-24 12:06:46,547 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.rpc.timeout.max = 300ms (default)
2019-09-24 12:06:46,548 INFO  ratis.RaftTestUtil (RaftTestUtil.java:waitForLeader(86)) - printing ALL groups
  s0:  RUNNING  FOLLOWER s0@group-04E6F89F5A1C:t7, leader=s1, voted=null, raftlog=s0@group-04E6F89F5A1C-SegmentedRaftLog:OPENED:c6,f7,i7, conf=7: [s0:0.0.0.0:34119, s1:0.0.0.0:44382, s2:0.0.0.0:42516], old=null RUNNING
  s1:  RUNNING    LEADER s1@group-04E6F89F5A1C:t7, leader=s1, voted=s1, raftlog=s1@group-04E6F89F5A1C-SegmentedRaftLog:OPENED:c7,f8,i8, conf=7: [s0:0.0.0.0:34119, s1:0.0.0.0:44382, s2:0.0.0.0:42516], old=null RUNNING
  s2:  RUNNING  FOLLOWER s2@group-04E6F89F5A1C:t7, leader=s1, voted=s1, raftlog=s2@group-04E6F89F5A1C-SegmentedRaftLog:OPENED:c6,f7,i7, conf=7: [s0:0.0.0.0:34119, s1:0.0.0.0:44382, s2:0.0.0.0:42516], old=null RUNNING
2019-09-24 12:06:46,548 INFO  ratis.RaftTestUtil (RaftTestUtil.java:waitForLeader(101)) - printing ALL groups
  s0:  RUNNING  FOLLOWER s0@group-04E6F89F5A1C:t7, leader=s1, voted=null, raftlog=s0@group-04E6F89F5A1C-SegmentedRaftLog:OPENED:c6,f7,i7, conf=7: [s0:0.0.0.0:34119, s1:0.0.0.0:44382, s2:0.0.0.0:42516], old=null RUNNING
  s1:  RUNNING    LEADER s1@group-04E6F89F5A1C:t7, leader=s1, voted=s1, raftlog=s1@group-04E6F89F5A1C-SegmentedRaftLog:OPENED:c7,f8,i8, conf=7: [s0:0.0.0.0:34119, s1:0.0.0.0:44382, s2:0.0.0.0:42516], old=null RUNNING
  s2:  RUNNING  FOLLOWER s2@group-04E6F89F5A1C:t7, leader=s1, voted=s1, raftlog=s2@group-04E6F89F5A1C-SegmentedRaftLog:OPENED:c6,f7,i7, conf=7: [s0:0.0.0.0:34119, s1:0.0.0.0:44382, s2:0.0.0.0:42516], old=null RUNNING
2019-09-24 12:06:46,548 WARN  ratis.RaftTestUtil (JavaUtils.java:attempt(158)) - FAILED "testChangeLeader-changeLeader", attempt #4/20: java.lang.IllegalStateException: Failed to change leader: newLeader == oldLeader == s1, sleep 100ms and then retry.
java.lang.IllegalStateException: Failed to change leader: newLeader == oldLeader == s1
	at org.apache.ratis.RaftTestUtil.lambda$changeLeader$7(RaftTestUtil.java:365)
	at org.apache.ratis.util.JavaUtils.attempt(JavaUtils.java:152)
	at org.apache.ratis.RaftTestUtil.changeLeader(RaftTestUtil.java:362)
	at org.apache.ratis.server.impl.LeaderElectionTests.testChangeLeader(LeaderElectionTests.java:81)
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.lang.reflect.Method.invoke(Method.java:498)
	at org.junit.runners.model.FrameworkMethod$1.runReflectiveCall(FrameworkMethod.java:50)
	at org.junit.internal.runners.model.ReflectiveCallable.run(ReflectiveCallable.java:12)
	at org.junit.runners.model.FrameworkMethod.invokeExplosively(FrameworkMethod.java:47)
	at org.junit.internal.runners.statements.InvokeMethod.evaluate(InvokeMethod.java:17)
	at org.junit.internal.runners.statements.RunAfters.evaluate(RunAfters.java:27)
	at org.junit.internal.runners.statements.FailOnTimeout$CallableStatement.call(FailOnTimeout.java:298)
	at org.junit.internal.runners.statements.FailOnTimeout$CallableStatement.call(FailOnTimeout.java:292)
	at java.util.concurrent.FutureTask.run(FutureTask.java:266)
	at java.lang.Thread.run(Thread.java:748)
2019-09-24 12:06:46,649 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.rpc.timeout.max = 300ms (default)
2019-09-24 12:06:46,649 INFO  ratis.RaftTestUtil (RaftTestUtil.java:waitForLeader(86)) - printing ALL groups
  s0:  RUNNING  FOLLOWER s0@group-04E6F89F5A1C:t7, leader=s1, voted=null, raftlog=s0@group-04E6F89F5A1C-SegmentedRaftLog:OPENED:c6,f7,i7, conf=7: [s0:0.0.0.0:34119, s1:0.0.0.0:44382, s2:0.0.0.0:42516], old=null RUNNING
  s1:  RUNNING    LEADER s1@group-04E6F89F5A1C:t7, leader=s1, voted=s1, raftlog=s1@group-04E6F89F5A1C-SegmentedRaftLog:OPENED:c7,f8,i8, conf=7: [s0:0.0.0.0:34119, s1:0.0.0.0:44382, s2:0.0.0.0:42516], old=null RUNNING
  s2:  RUNNING  FOLLOWER s2@group-04E6F89F5A1C:t7, leader=s1, voted=s1, raftlog=s2@group-04E6F89F5A1C-SegmentedRaftLog:OPENED:c6,f7,i7, conf=7: [s0:0.0.0.0:34119, s1:0.0.0.0:44382, s2:0.0.0.0:42516], old=null RUNNING
2019-09-24 12:06:46,650 INFO  ratis.RaftTestUtil (RaftTestUtil.java:waitForLeader(101)) - printing ALL groups
  s0:  RUNNING  FOLLOWER s0@group-04E6F89F5A1C:t7, leader=s1, voted=null, raftlog=s0@group-04E6F89F5A1C-SegmentedRaftLog:OPENED:c6,f7,i7, conf=7: [s0:0.0.0.0:34119, s1:0.0.0.0:44382, s2:0.0.0.0:42516], old=null RUNNING
  s1:  RUNNING    LEADER s1@group-04E6F89F5A1C:t7, leader=s1, voted=s1, raftlog=s1@group-04E6F89F5A1C-SegmentedRaftLog:OPENED:c7,f8,i8, conf=7: [s0:0.0.0.0:34119, s1:0.0.0.0:44382, s2:0.0.0.0:42516], old=null RUNNING
  s2:  RUNNING  FOLLOWER s2@group-04E6F89F5A1C:t7, leader=s1, voted=s1, raftlog=s2@group-04E6F89F5A1C-SegmentedRaftLog:OPENED:c6,f7,i7, conf=7: [s0:0.0.0.0:34119, s1:0.0.0.0:44382, s2:0.0.0.0:42516], old=null RUNNING
2019-09-24 12:06:46,650 WARN  ratis.RaftTestUtil (JavaUtils.java:attempt(158)) - FAILED "testChangeLeader-changeLeader", attempt #5/20: java.lang.IllegalStateException: Failed to change leader: newLeader == oldLeader == s1, sleep 100ms and then retry.
java.lang.IllegalStateException: Failed to change leader: newLeader == oldLeader == s1
	at org.apache.ratis.RaftTestUtil.lambda$changeLeader$7(RaftTestUtil.java:365)
	at org.apache.ratis.util.JavaUtils.attempt(JavaUtils.java:152)
	at org.apache.ratis.RaftTestUtil.changeLeader(RaftTestUtil.java:362)
	at org.apache.ratis.server.impl.LeaderElectionTests.testChangeLeader(LeaderElectionTests.java:81)
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.lang.reflect.Method.invoke(Method.java:498)
	at org.junit.runners.model.FrameworkMethod$1.runReflectiveCall(FrameworkMethod.java:50)
	at org.junit.internal.runners.model.ReflectiveCallable.run(ReflectiveCallable.java:12)
	at org.junit.runners.model.FrameworkMethod.invokeExplosively(FrameworkMethod.java:47)
	at org.junit.internal.runners.statements.InvokeMethod.evaluate(InvokeMethod.java:17)
	at org.junit.internal.runners.statements.RunAfters.evaluate(RunAfters.java:27)
	at org.junit.internal.runners.statements.FailOnTimeout$CallableStatement.call(FailOnTimeout.java:298)
	at org.junit.internal.runners.statements.FailOnTimeout$CallableStatement.call(FailOnTimeout.java:292)
	at java.util.concurrent.FutureTask.run(FutureTask.java:266)
	at java.lang.Thread.run(Thread.java:748)
2019-09-24 12:06:46,722 WARN  impl.LogAppender (LogAppender.java:sendAppendEntriesWithRetries(274)) - s4@group-E7D5050F4609->s3-LogAppender: Failed to appendEntries (retry=81): org.apache.ratis.thirdparty.io.netty.channel.AbstractChannel$AnnotatedConnectException: Connection refused: /0.0.0.0:40479
2019-09-24 12:06:46,751 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.rpc.timeout.max = 300ms (default)
2019-09-24 12:06:46,751 INFO  ratis.RaftTestUtil (RaftTestUtil.java:waitForLeader(86)) - printing ALL groups
  s0:  RUNNING  FOLLOWER s0@group-04E6F89F5A1C:t7, leader=s1, voted=null, raftlog=s0@group-04E6F89F5A1C-SegmentedRaftLog:OPENED:c6,f7,i7, conf=7: [s0:0.0.0.0:34119, s1:0.0.0.0:44382, s2:0.0.0.0:42516], old=null RUNNING
  s1:  RUNNING    LEADER s1@group-04E6F89F5A1C:t7, leader=s1, voted=s1, raftlog=s1@group-04E6F89F5A1C-SegmentedRaftLog:OPENED:c7,f8,i8, conf=7: [s0:0.0.0.0:34119, s1:0.0.0.0:44382, s2:0.0.0.0:42516], old=null RUNNING
  s2:  RUNNING  FOLLOWER s2@group-04E6F89F5A1C:t7, leader=s1, voted=s1, raftlog=s2@group-04E6F89F5A1C-SegmentedRaftLog:OPENED:c6,f7,i7, conf=7: [s0:0.0.0.0:34119, s1:0.0.0.0:44382, s2:0.0.0.0:42516], old=null RUNNING
2019-09-24 12:06:46,752 INFO  ratis.RaftTestUtil (RaftTestUtil.java:waitForLeader(101)) - printing ALL groups
  s0:  RUNNING  FOLLOWER s0@group-04E6F89F5A1C:t7, leader=s1, voted=null, raftlog=s0@group-04E6F89F5A1C-SegmentedRaftLog:OPENED:c6,f7,i7, conf=7: [s0:0.0.0.0:34119, s1:0.0.0.0:44382, s2:0.0.0.0:42516], old=null RUNNING
  s1:  RUNNING    LEADER s1@group-04E6F89F5A1C:t7, leader=s1, voted=s1, raftlog=s1@group-04E6F89F5A1C-SegmentedRaftLog:OPENED:c7,f8,i8, conf=7: [s0:0.0.0.0:34119, s1:0.0.0.0:44382, s2:0.0.0.0:42516], old=null RUNNING
  s2:  RUNNING  FOLLOWER s2@group-04E6F89F5A1C:t7, leader=s1, voted=s1, raftlog=s2@group-04E6F89F5A1C-SegmentedRaftLog:OPENED:c6,f7,i7, conf=7: [s0:0.0.0.0:34119, s1:0.0.0.0:44382, s2:0.0.0.0:42516], old=null RUNNING
2019-09-24 12:06:46,752 WARN  ratis.RaftTestUtil (JavaUtils.java:attempt(158)) - FAILED "testChangeLeader-changeLeader", attempt #6/20: java.lang.IllegalStateException: Failed to change leader: newLeader == oldLeader == s1, sleep 100ms and then retry.
java.lang.IllegalStateException: Failed to change leader: newLeader == oldLeader == s1
	at org.apache.ratis.RaftTestUtil.lambda$changeLeader$7(RaftTestUtil.java:365)
	at org.apache.ratis.util.JavaUtils.attempt(JavaUtils.java:152)
	at org.apache.ratis.RaftTestUtil.changeLeader(RaftTestUtil.java:362)
	at org.apache.ratis.server.impl.LeaderElectionTests.testChangeLeader(LeaderElectionTests.java:81)
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.lang.reflect.Method.invoke(Method.java:498)
	at org.junit.runners.model.FrameworkMethod$1.runReflectiveCall(FrameworkMethod.java:50)
	at org.junit.internal.runners.model.ReflectiveCallable.run(ReflectiveCallable.java:12)
	at org.junit.runners.model.FrameworkMethod.invokeExplosively(FrameworkMethod.java:47)
	at org.junit.internal.runners.statements.InvokeMethod.evaluate(InvokeMethod.java:17)
	at org.junit.internal.runners.statements.RunAfters.evaluate(RunAfters.java:27)
	at org.junit.internal.runners.statements.FailOnTimeout$CallableStatement.call(FailOnTimeout.java:298)
	at org.junit.internal.runners.statements.FailOnTimeout$CallableStatement.call(FailOnTimeout.java:292)
	at java.util.concurrent.FutureTask.run(FutureTask.java:266)
	at java.lang.Thread.run(Thread.java:748)
2019-09-24 12:06:46,778 INFO  impl.FollowerState (FollowerState.java:run(108)) - s2@group-9DDC70D1F0F3-FollowerState: change to CANDIDATE, lastRpcTime:248ms, electionTimeout:205ms
2019-09-24 12:06:46,779 INFO  impl.RoleInfo (RoleInfo.java:shutdownFollowerState(121)) - s2: shutdown FollowerState
2019-09-24 12:06:46,779 INFO  impl.RaftServerImpl (RaftServerImpl.java:setRole(170)) - s2@group-9DDC70D1F0F3: changes role from  FOLLOWER to CANDIDATE at term 5 for changeToCandidate
2019-09-24 12:06:46,779 INFO  impl.RoleInfo (RoleInfo.java:updateAndGet(143)) - s2: start LeaderElection
2019-09-24 12:06:46,780 INFO  impl.RaftServerImpl (ServerState.java:setLeader(254)) - s2@group-9DDC70D1F0F3: change Leader from s1 to null at term 5 for initElection
2019-09-24 12:06:46,794 INFO  impl.LeaderElection (LeaderElection.java:askForVotes(178)) - s2@group-9DDC70D1F0F3-LeaderElection28: begin an election at term 6 for 3: [s0:0.0.0.0:37243, s1:0.0.0.0:38994, s2:0.0.0.0:36346], old=null
2019-09-24 12:06:46,795 DEBUG impl.RaftServerImpl (RaftServerImpl.java:requestVote(743)) - s0@group-9DDC70D1F0F3: receive requestVote(s2, group-9DDC70D1F0F3, 6, (t:5, i:3))
2019-09-24 12:06:46,795 DEBUG impl.RaftServerImpl (RaftServerImpl.java:requestVote(743)) - s1@group-9DDC70D1F0F3: receive requestVote(s2, group-9DDC70D1F0F3, 6, (t:5, i:3))
2019-09-24 12:06:46,795 INFO  impl.RaftServerImpl (ServerState.java:setLeader(254)) - s0@group-9DDC70D1F0F3: change Leader from s1 to null at term 6 for updateCurrentTerm
2019-09-24 12:06:46,796 INFO  impl.RaftServerImpl (ServerState.java:setLeader(254)) - s1@group-9DDC70D1F0F3: change Leader from s1 to null at term 6 for updateCurrentTerm
2019-09-24 12:06:46,796 INFO  impl.RaftServerImpl (RaftServerImpl.java:setRole(170)) - s0@group-9DDC70D1F0F3: changes role from  FOLLOWER to FOLLOWER at term 6 for recognizeCandidate:s2
2019-09-24 12:06:46,796 INFO  impl.RaftServerImpl (RaftServerImpl.java:setRole(170)) - s1@group-9DDC70D1F0F3: changes role from    LEADER to FOLLOWER at term 6 for recognizeCandidate:s2
2019-09-24 12:06:46,797 INFO  impl.RoleInfo (RoleInfo.java:shutdownFollowerState(121)) - s0: shutdown FollowerState
2019-09-24 12:06:46,797 INFO  impl.RoleInfo (RoleInfo.java:shutdownLeaderState(104)) - s1: shutdown LeaderState
2019-09-24 12:06:46,797 INFO  impl.FollowerState (FollowerState.java:run(117)) - s0@group-9DDC70D1F0F3-FollowerState was interrupted: java.lang.InterruptedException: sleep interrupted
2019-09-24 12:06:46,797 INFO  impl.RoleInfo (RoleInfo.java:updateAndGet(143)) - s0: start FollowerState
2019-09-24 12:06:46,800 INFO  impl.LogAppender (LogAppender.java:run(78)) - s1@group-9DDC70D1F0F3->s0-LogAppender-AppenderDaemon was interrupted: java.io.InterruptedIOException: s1->s0#0 sending from s0:0.0.0.0:37243 is interrupted.
2019-09-24 12:06:46,800 INFO  impl.LogAppender (LogAppender.java:run(78)) - s1@group-9DDC70D1F0F3->s2-LogAppender-AppenderDaemon was interrupted: java.io.InterruptedIOException: s1->s2#0 sending from s2:0.0.0.0:36346 is interrupted.
2019-09-24 12:06:46,800 INFO  impl.PendingRequests (PendingRequests.java:sendNotLeaderResponses(202)) - s1@group-9DDC70D1F0F3-PendingRequests: sendNotLeaderResponses
2019-09-24 12:06:46,803 INFO  impl.RoleInfo (RoleInfo.java:updateAndGet(143)) - s1: start FollowerState
2019-09-24 12:06:46,815 DEBUG impl.RaftServerImpl (RaftServerImpl.java:requestVote(775)) - s0@group-9DDC70D1F0F3 replies to vote request: s2<-s0#0:OK-t6. Peer's state: s0@group-9DDC70D1F0F3:t6, leader=null, voted=s2, raftlog=s0@group-9DDC70D1F0F3-SegmentedRaftLog:OPENED:c2,f3,i3, conf=3: [s0:0.0.0.0:37243, s1:0.0.0.0:38994, s2:0.0.0.0:36346], old=null
2019-09-24 12:06:46,815 DEBUG impl.RaftServerImpl (RaftServerImpl.java:requestVote(775)) - s1@group-9DDC70D1F0F3 replies to vote request: s2<-s1#0:FAIL-t6. Peer's state: s1@group-9DDC70D1F0F3:t6, leader=null, voted=null, raftlog=s1@group-9DDC70D1F0F3-SegmentedRaftLog:OPENED:c3,f4,i4, conf=3: [s0:0.0.0.0:37243, s1:0.0.0.0:38994, s2:0.0.0.0:36346], old=null
2019-09-24 12:06:46,815 INFO  impl.LeaderElection (LeaderElection.java:logAndReturn(56)) - s2@group-9DDC70D1F0F3-LeaderElection28: Election PASSED; received 1 response(s) [s2<-s0#0:OK-t6] and 0 exception(s); s2@group-9DDC70D1F0F3:t6, leader=null, voted=s2, raftlog=s2@group-9DDC70D1F0F3-SegmentedRaftLog:OPENED:c2,f3,i3, conf=3: [s0:0.0.0.0:37243, s1:0.0.0.0:38994, s2:0.0.0.0:36346], old=null
2019-09-24 12:06:46,816 INFO  impl.RoleInfo (RoleInfo.java:shutdownLeaderElection(134)) - s2: shutdown LeaderElection
2019-09-24 12:06:46,816 INFO  impl.RaftServerImpl (RaftServerImpl.java:setRole(170)) - s2@group-9DDC70D1F0F3: changes role from CANDIDATE to LEADER at term 6 for changeToLeader
2019-09-24 12:06:46,816 INFO  impl.RaftServerImpl (ServerState.java:setLeader(254)) - s2@group-9DDC70D1F0F3: change Leader from null to s2 at term 6 for becomeLeader, leader elected after 35ms
2019-09-24 12:06:46,816 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.staging.catchup.gap = 1000 (default)
2019-09-24 12:06:46,816 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.rpc.sleep.time = 25ms (default)
2019-09-24 12:06:46,816 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.write.element-limit = 4096 (default)
2019-09-24 12:06:46,817 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.watch.timeout = 10s (default)
2019-09-24 12:06:46,817 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.watch.timeout.denomination = 1s (default)
2019-09-24 12:06:46,817 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.watch.element-limit = 65536 (default)
2019-09-24 12:06:46,820 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.log.appender.snapshot.chunk.size.max = 16MB (=16777216) (default)
2019-09-24 12:06:46,820 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.log.appender.buffer.byte-limit = 4MB (=4194304) (default)
2019-09-24 12:06:46,821 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.log.appender.buffer.element-limit = 0 (default)
2019-09-24 12:06:46,821 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.log.appender.snapshot.chunk.size.max = 16MB (=16777216) (default)
2019-09-24 12:06:46,821 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.log.appender.buffer.byte-limit = 4MB (=4194304) (default)
2019-09-24 12:06:46,822 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.log.appender.buffer.element-limit = 0 (default)
2019-09-24 12:06:46,822 INFO  impl.RoleInfo (RoleInfo.java:updateAndGet(143)) - s2: start LeaderState
2019-09-24 12:06:46,822 INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:rollLogSegment(385)) - s2@group-9DDC70D1F0F3-SegmentedRaftLogWorker: Rolling segment log-3_3 to index:3
2019-09-24 12:06:46,823 DEBUG segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:addIOTask(251)) - s2@group-9DDC70D1F0F3-SegmentedRaftLogWorker adds IO task FinalizeLogSegment:3: startIndex=3 endIndex=3
2019-09-24 12:06:46,823 DEBUG segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:addIOTask(251)) - s2@group-9DDC70D1F0F3-SegmentedRaftLogWorker adds IO task StartLogSegment:4
2019-09-24 12:06:46,823 DEBUG segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:addIOTask(251)) - s2@group-9DDC70D1F0F3-SegmentedRaftLogWorker adds IO task WriteLog:4: (t:6, i:4), CONFIGURATIONENTRY
2019-09-24 12:06:46,824 INFO  impl.RaftServerImpl (ServerState.java:setRaftConf(355)) - s2@group-9DDC70D1F0F3: set configuration 4: [s0:0.0.0.0:37243, s1:0.0.0.0:38994, s2:0.0.0.0:36346], old=null at 4
2019-09-24 12:06:46,824 INFO  impl.RaftServerImpl (ServerState.java:setLeader(254)) - s0@group-9DDC70D1F0F3: change Leader from null to s2 at term 6 for appendEntries, leader elected after 28ms
2019-09-24 12:06:46,824 INFO  impl.RaftServerImpl (ServerState.java:setLeader(254)) - s1@group-9DDC70D1F0F3: change Leader from null to s2 at term 6 for appendEntries, leader elected after 28ms
2019-09-24 12:06:46,825 TRACE util.FileUtils (LogUtils.java:runAndLog(61)) - Successfully ran Files.move /workdir/ratis-test/target/test/data/aaa4fccd/MiniRaftClusterWithNetty53617c77/s2/8282875c-54dc-4ebb-a985-9ddc70d1f0f3/current/log_inprogress_3 to /workdir/ratis-test/target/test/data/aaa4fccd/MiniRaftClusterWithNetty53617c77/s2/8282875c-54dc-4ebb-a985-9ddc70d1f0f3/current/log_3-3
2019-09-24 12:06:46,825 INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:execute(526)) - s2@group-9DDC70D1F0F3-SegmentedRaftLogWorker: Rolled log segment from /workdir/ratis-test/target/test/data/aaa4fccd/MiniRaftClusterWithNetty53617c77/s2/8282875c-54dc-4ebb-a985-9ddc70d1f0f3/current/log_inprogress_3 to /workdir/ratis-test/target/test/data/aaa4fccd/MiniRaftClusterWithNetty53617c77/s2/8282875c-54dc-4ebb-a985-9ddc70d1f0f3/current/log_3-3
2019-09-24 12:06:46,825 TRACE segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:lambda$new$1(133)) - s2@group-9DDC70D1F0F3-SegmentedRaftLogWorker: flushIndex: updateIncreasingly 3 -> 3
2019-09-24 12:06:46,827 DEBUG impl.RaftServerImpl (RaftServerImpl.java:logAppendEntries(850)) - s0@group-9DDC70D1F0F3: receive appendEntries(s2, 6, (t:5, i:3), 2, false, commits[s2:c2, s0:c2, s1:c2], entries: (t:6, i:4), CONFIGURATIONENTRY
2019-09-24 12:06:46,827 INFO  impl.RaftServerImpl (ServerState.java:setRaftConf(355)) - s0@group-9DDC70D1F0F3: set configuration 4: [s0:0.0.0.0:37243, s1:0.0.0.0:38994, s2:0.0.0.0:36346], old=null at 4
2019-09-24 12:06:46,828 INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:rollLogSegment(385)) - s0@group-9DDC70D1F0F3-SegmentedRaftLogWorker: Rolling segment log-3_3 to index:3
2019-09-24 12:06:46,828 DEBUG segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:addIOTask(251)) - s0@group-9DDC70D1F0F3-SegmentedRaftLogWorker adds IO task FinalizeLogSegment:3: startIndex=3 endIndex=3
2019-09-24 12:06:46,828 DEBUG segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:addIOTask(251)) - s0@group-9DDC70D1F0F3-SegmentedRaftLogWorker adds IO task StartLogSegment:4
2019-09-24 12:06:46,829 DEBUG segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:addIOTask(251)) - s0@group-9DDC70D1F0F3-SegmentedRaftLogWorker adds IO task WriteLog:4: (t:6, i:4), CONFIGURATIONENTRY
2019-09-24 12:06:46,831 TRACE util.FileUtils (LogUtils.java:runAndLog(61)) - Successfully ran Files.move /workdir/ratis-test/target/test/data/aaa4fccd/MiniRaftClusterWithNetty53617c77/s0/8282875c-54dc-4ebb-a985-9ddc70d1f0f3/current/log_inprogress_3 to /workdir/ratis-test/target/test/data/aaa4fccd/MiniRaftClusterWithNetty53617c77/s0/8282875c-54dc-4ebb-a985-9ddc70d1f0f3/current/log_3-3
2019-09-24 12:06:46,831 INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:execute(526)) - s0@group-9DDC70D1F0F3-SegmentedRaftLogWorker: Rolled log segment from /workdir/ratis-test/target/test/data/aaa4fccd/MiniRaftClusterWithNetty53617c77/s0/8282875c-54dc-4ebb-a985-9ddc70d1f0f3/current/log_inprogress_3 to /workdir/ratis-test/target/test/data/aaa4fccd/MiniRaftClusterWithNetty53617c77/s0/8282875c-54dc-4ebb-a985-9ddc70d1f0f3/current/log_3-3
2019-09-24 12:06:46,831 TRACE segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:lambda$new$1(133)) - s0@group-9DDC70D1F0F3-SegmentedRaftLogWorker: flushIndex: updateIncreasingly 3 -> 3
2019-09-24 12:06:46,849 INFO  impl.FollowerState (FollowerState.java:run(108)) - s0@group-04E6F89F5A1C-FollowerState: change to CANDIDATE, lastRpcTime:335ms, electionTimeout:234ms
2019-09-24 12:06:46,849 INFO  impl.RoleInfo (RoleInfo.java:shutdownFollowerState(121)) - s0: shutdown FollowerState
2019-09-24 12:06:46,849 INFO  impl.RaftServerImpl (RaftServerImpl.java:setRole(170)) - s0@group-04E6F89F5A1C: changes role from  FOLLOWER to CANDIDATE at term 7 for changeToCandidate
2019-09-24 12:06:46,849 INFO  impl.RoleInfo (RoleInfo.java:updateAndGet(143)) - s0: start LeaderElection
2019-09-24 12:06:46,855 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.rpc.timeout.max = 300ms (default)
2019-09-24 12:06:46,855 INFO  impl.RaftServerImpl (ServerState.java:setLeader(254)) - s0@group-04E6F89F5A1C: change Leader from s1 to null at term 7 for initElection
2019-09-24 12:06:46,856 INFO  ratis.RaftTestUtil (RaftTestUtil.java:waitForLeader(86)) - printing ALL groups
  s0:  RUNNING CANDIDATE s0@group-04E6F89F5A1C:t7, leader=s1, voted=s0, raftlog=s0@group-04E6F89F5A1C-SegmentedRaftLog:OPENED:c6,f7,i7, conf=7: [s0:0.0.0.0:34119, s1:0.0.0.0:44382, s2:0.0.0.0:42516], old=null RUNNING
  s1:  RUNNING    LEADER s1@group-04E6F89F5A1C:t7, leader=s1, voted=s1, raftlog=s1@group-04E6F89F5A1C-SegmentedRaftLog:OPENED:c7,f8,i8, conf=7: [s0:0.0.0.0:34119, s1:0.0.0.0:44382, s2:0.0.0.0:42516], old=null RUNNING
  s2:  RUNNING  FOLLOWER s2@group-04E6F89F5A1C:t7, leader=s1, voted=s1, raftlog=s2@group-04E6F89F5A1C-SegmentedRaftLog:OPENED:c6,f7,i7, conf=7: [s0:0.0.0.0:34119, s1:0.0.0.0:44382, s2:0.0.0.0:42516], old=null RUNNING
2019-09-24 12:06:46,856 INFO  ratis.RaftTestUtil (RaftTestUtil.java:waitForLeader(101)) - printing ALL groups
  s0:  RUNNING CANDIDATE s0@group-04E6F89F5A1C:t8, leader=null, voted=s0, raftlog=s0@group-04E6F89F5A1C-SegmentedRaftLog:OPENED:c6,f7,i7, conf=7: [s0:0.0.0.0:34119, s1:0.0.0.0:44382, s2:0.0.0.0:42516], old=null RUNNING
  s1:  RUNNING    LEADER s1@group-04E6F89F5A1C:t7, leader=s1, voted=s1, raftlog=s1@group-04E6F89F5A1C-SegmentedRaftLog:OPENED:c7,f8,i8, conf=7: [s0:0.0.0.0:34119, s1:0.0.0.0:44382, s2:0.0.0.0:42516], old=null RUNNING
  s2:  RUNNING  FOLLOWER s2@group-04E6F89F5A1C:t7, leader=s1, voted=s1, raftlog=s2@group-04E6F89F5A1C-SegmentedRaftLog:OPENED:c6,f7,i7, conf=7: [s0:0.0.0.0:34119, s1:0.0.0.0:44382, s2:0.0.0.0:42516], old=null RUNNING
2019-09-24 12:06:46,856 WARN  ratis.RaftTestUtil (JavaUtils.java:attempt(158)) - FAILED "testChangeLeader-changeLeader", attempt #7/20: java.lang.IllegalStateException: Failed to change leader: newLeader == oldLeader == s1, sleep 100ms and then retry.
java.lang.IllegalStateException: Failed to change leader: newLeader == oldLeader == s1
	at org.apache.ratis.RaftTestUtil.lambda$changeLeader$7(RaftTestUtil.java:365)
	at org.apache.ratis.util.JavaUtils.attempt(JavaUtils.java:152)
	at org.apache.ratis.RaftTestUtil.changeLeader(RaftTestUtil.java:362)
	at org.apache.ratis.server.impl.LeaderElectionTests.testChangeLeader(LeaderElectionTests.java:81)
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.lang.reflect.Method.invoke(Method.java:498)
	at org.junit.runners.model.FrameworkMethod$1.runReflectiveCall(FrameworkMethod.java:50)
	at org.junit.internal.runners.model.ReflectiveCallable.run(ReflectiveCallable.java:12)
	at org.junit.runners.model.FrameworkMethod.invokeExplosively(FrameworkMethod.java:47)
	at org.junit.internal.runners.statements.InvokeMethod.evaluate(InvokeMethod.java:17)
	at org.junit.internal.runners.statements.RunAfters.evaluate(RunAfters.java:27)
	at org.junit.internal.runners.statements.FailOnTimeout$CallableStatement.call(FailOnTimeout.java:298)
	at org.junit.internal.runners.statements.FailOnTimeout$CallableStatement.call(FailOnTimeout.java:292)
	at java.util.concurrent.FutureTask.run(FutureTask.java:266)
	at java.lang.Thread.run(Thread.java:748)
2019-09-24 12:06:46,902 INFO  impl.RaftServerImpl (RaftServerImpl.java:checkInconsistentAppendEntries(999)) - s1@group-9DDC70D1F0F3: Failed appendEntries as previous log entry ((t:6, i:4)) is not found
2019-09-24 12:06:46,902 INFO  impl.RaftServerImpl (RaftServerImpl.java:checkInconsistentAppendEntries(972)) - s1@group-9DDC70D1F0F3: inconsistency entries. Reply:s2<-s1#0:FAIL,INCONSISTENCY,nextIndex:4,term:6,followerCommit:3
2019-09-24 12:06:46,903 INFO  impl.FollowerInfo (FollowerInfo.java:lambda$new$0(51)) - s2@group-9DDC70D1F0F3->s1: nextIndex: updateUnconditionally 5 -> 4
2019-09-24 12:06:46,904 DEBUG impl.RaftServerImpl (RaftServerImpl.java:logAppendEntries(850)) - s1@group-9DDC70D1F0F3: receive appendEntries(s2, 6, (t:5, i:3), 2, false, commits[s2:c2, s0:c2, s1:c3], entries: (t:6, i:4), CONFIGURATIONENTRY
2019-09-24 12:06:46,904 INFO  impl.RaftServerImpl (ServerState.java:setRaftConf(355)) - s1@group-9DDC70D1F0F3: set configuration 4: [s0:0.0.0.0:37243, s1:0.0.0.0:38994, s2:0.0.0.0:36346], old=null at 4
2019-09-24 12:06:46,905 INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:truncate(396)) - s1@group-9DDC70D1F0F3-SegmentedRaftLogWorker: Truncating segments toTruncate: (3, 4) isOpen? true, length=82, newEndIndex=3
  toDelete: [], start index 4
2019-09-24 12:06:46,905 DEBUG segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:addIOTask(251)) - s1@group-9DDC70D1F0F3-SegmentedRaftLogWorker adds IO task TruncateLog:3: toTruncate: (3, 4) isOpen? true, length=82, newEndIndex=3
  toDelete: []
2019-09-24 12:06:46,906 INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:startLogSegment(380)) - s1@group-9DDC70D1F0F3-SegmentedRaftLogWorker: Starting segment from index:4
2019-09-24 12:06:46,906 DEBUG segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:addIOTask(251)) - s1@group-9DDC70D1F0F3-SegmentedRaftLogWorker adds IO task StartLogSegment:4
2019-09-24 12:06:46,906 DEBUG segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:addIOTask(251)) - s1@group-9DDC70D1F0F3-SegmentedRaftLogWorker adds IO task WriteLog:4: (t:6, i:4), CONFIGURATIONENTRY
2019-09-24 12:06:46,907 TRACE util.FileUtils (LogUtils.java:runAndLog(61)) - Successfully ran FileOutputStream.getChannel().truncate /workdir/ratis-test/target/test/data/aaa4fccd/MiniRaftClusterWithNetty53617c77/s1/8282875c-54dc-4ebb-a985-9ddc70d1f0f3/current/log_inprogress_3 length: 95 -> 82
2019-09-24 12:06:46,908 TRACE util.FileUtils (LogUtils.java:runAndLog(61)) - Successfully ran Files.move /workdir/ratis-test/target/test/data/aaa4fccd/MiniRaftClusterWithNetty53617c77/s1/8282875c-54dc-4ebb-a985-9ddc70d1f0f3/current/log_inprogress_3 to /workdir/ratis-test/target/test/data/aaa4fccd/MiniRaftClusterWithNetty53617c77/s1/8282875c-54dc-4ebb-a985-9ddc70d1f0f3/current/log_3-3
2019-09-24 12:06:46,908 INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:execute(614)) - s1@group-9DDC70D1F0F3-SegmentedRaftLogWorker: Truncated log file /workdir/ratis-test/target/test/data/aaa4fccd/MiniRaftClusterWithNetty53617c77/s1/8282875c-54dc-4ebb-a985-9ddc70d1f0f3/current/log_inprogress_3 to length 82 and moved it to /workdir/ratis-test/target/test/data/aaa4fccd/MiniRaftClusterWithNetty53617c77/s1/8282875c-54dc-4ebb-a985-9ddc70d1f0f3/current/log_3-3
2019-09-24 12:06:46,908 INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:lambda$new$0(132)) - s1@group-9DDC70D1F0F3-SegmentedRaftLogWorker: flushIndex: setUnconditionally 4 -> 3
2019-09-24 12:06:46,912 INFO  impl.FollowerState (FollowerState.java:run(108)) - s2@group-04E6F89F5A1C-FollowerState: change to CANDIDATE, lastRpcTime:397ms, electionTimeout:293ms
2019-09-24 12:06:46,912 INFO  impl.RoleInfo (RoleInfo.java:shutdownFollowerState(121)) - s2: shutdown FollowerState
2019-09-24 12:06:46,912 INFO  impl.RaftServerImpl (RaftServerImpl.java:setRole(170)) - s2@group-04E6F89F5A1C: changes role from  FOLLOWER to CANDIDATE at term 7 for changeToCandidate
2019-09-24 12:06:46,913 INFO  impl.RoleInfo (RoleInfo.java:updateAndGet(143)) - s2: start LeaderElection
2019-09-24 12:06:46,913 INFO  impl.RaftServerImpl (ServerState.java:setLeader(254)) - s2@group-04E6F89F5A1C: change Leader from s1 to null at term 7 for initElection
2019-09-24 12:06:46,941 INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:execute(569)) - s2@group-9DDC70D1F0F3-SegmentedRaftLogWorker: created new log segment /workdir/ratis-test/target/test/data/aaa4fccd/MiniRaftClusterWithNetty53617c77/s2/8282875c-54dc-4ebb-a985-9ddc70d1f0f3/current/log_inprogress_4
2019-09-24 12:06:46,941 INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:execute(569)) - s0@group-9DDC70D1F0F3-SegmentedRaftLogWorker: created new log segment /workdir/ratis-test/target/test/data/aaa4fccd/MiniRaftClusterWithNetty53617c77/s0/8282875c-54dc-4ebb-a985-9ddc70d1f0f3/current/log_inprogress_4
2019-09-24 12:06:46,942 DEBUG segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:flushWrites(340)) - s2@group-9DDC70D1F0F3-SegmentedRaftLogWorker: flush SegmentedRaftLogOutputStream(/workdir/ratis-test/target/test/data/aaa4fccd/MiniRaftClusterWithNetty53617c77/s2/8282875c-54dc-4ebb-a985-9ddc70d1f0f3/current/log_inprogress_4)
2019-09-24 12:06:46,942 DEBUG segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:flushWrites(340)) - s0@group-9DDC70D1F0F3-SegmentedRaftLogWorker: flush SegmentedRaftLogOutputStream(/workdir/ratis-test/target/test/data/aaa4fccd/MiniRaftClusterWithNetty53617c77/s0/8282875c-54dc-4ebb-a985-9ddc70d1f0f3/current/log_inprogress_4)
2019-09-24 12:06:46,942 INFO  impl.LeaderElection (LeaderElection.java:askForVotes(178)) - s0@group-04E6F89F5A1C-LeaderElection29: begin an election at term 8 for 7: [s0:0.0.0.0:34119, s1:0.0.0.0:44382, s2:0.0.0.0:42516], old=null
2019-09-24 12:06:46,943 DEBUG impl.RaftServerImpl (RaftServerImpl.java:requestVote(743)) - s1@group-04E6F89F5A1C: receive requestVote(s0, group-04E6F89F5A1C, 8, (t:7, i:7))
2019-09-24 12:06:46,943 DEBUG impl.RaftServerImpl (RaftServerImpl.java:requestVote(743)) - s2@group-04E6F89F5A1C: receive requestVote(s0, group-04E6F89F5A1C, 8, (t:7, i:7))
2019-09-24 12:06:46,943 INFO  impl.RaftServerImpl (ServerState.java:setLeader(254)) - s1@group-04E6F89F5A1C: change Leader from s1 to null at term 8 for updateCurrentTerm
2019-09-24 12:06:46,944 INFO  impl.RaftServerImpl (RaftServerImpl.java:setRole(170)) - s1@group-04E6F89F5A1C: changes role from    LEADER to FOLLOWER at term 8 for recognizeCandidate:s0
2019-09-24 12:06:46,944 INFO  impl.RoleInfo (RoleInfo.java:shutdownLeaderState(104)) - s1: shutdown LeaderState
2019-09-24 12:06:46,946 INFO  impl.LogAppender (LogAppender.java:run(78)) - s1@group-04E6F89F5A1C->s0-LogAppender-AppenderDaemon was interrupted: java.io.InterruptedIOException: s1->s0#0 sending from s0:0.0.0.0:34119 is interrupted.
2019-09-24 12:06:46,946 INFO  impl.LogAppender (LogAppender.java:run(78)) - s1@group-04E6F89F5A1C->s2-LogAppender-AppenderDaemon was interrupted: java.io.InterruptedIOException: s1->s2#0 sending from s2:0.0.0.0:42516 is interrupted.
2019-09-24 12:06:46,946 INFO  impl.PendingRequests (PendingRequests.java:sendNotLeaderResponses(202)) - s1@group-04E6F89F5A1C-PendingRequests: sendNotLeaderResponses
2019-09-24 12:06:46,949 INFO  impl.RoleInfo (RoleInfo.java:updateAndGet(143)) - s1: start FollowerState
2019-09-24 12:06:46,957 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.rpc.timeout.max = 300ms (default)
2019-09-24 12:06:46,957 INFO  ratis.RaftTestUtil (RaftTestUtil.java:waitForLeader(86)) - printing ALL groups
  s0:  RUNNING CANDIDATE s0@group-04E6F89F5A1C:t8, leader=null, voted=s0, raftlog=s0@group-04E6F89F5A1C-SegmentedRaftLog:OPENED:c6,f7,i7, conf=7: [s0:0.0.0.0:34119, s1:0.0.0.0:44382, s2:0.0.0.0:42516], old=null RUNNING
  s1:  RUNNING  FOLLOWER s1@group-04E6F89F5A1C:t8, leader=null, voted=null, raftlog=s1@group-04E6F89F5A1C-SegmentedRaftLog:OPENED:c7,f8,i8, conf=7: [s0:0.0.0.0:34119, s1:0.0.0.0:44382, s2:0.0.0.0:42516], old=null RUNNING
  s2:  RUNNING CANDIDATE s2@group-04E6F89F5A1C:t8, leader=null, voted=s2, raftlog=s2@group-04E6F89F5A1C-SegmentedRaftLog:OPENED:c6,f7,i7, conf=7: [s0:0.0.0.0:34119, s1:0.0.0.0:44382, s2:0.0.0.0:42516], old=null RUNNING
2019-09-24 12:06:46,958 WARN  ratis.RaftTestUtil (JavaUtils.java:attempt(158)) - FAILED "waitForLeader-null-(expectLeader? true)", attempt #1/100: java.lang.IllegalStateException: No leader yet : printing ALL groups
  s0:  RUNNING CANDIDATE s0@group-04E6F89F5A1C:t8, leader=null, voted=s0, raftlog=s0@group-04E6F89F5A1C-SegmentedRaftLog:OPENED:c6,f7,i7, conf=7: [s0:0.0.0.0:34119, s1:0.0.0.0:44382, s2:0.0.0.0:42516], old=null RUNNING
  s1:  RUNNING  FOLLOWER s1@group-04E6F89F5A1C:t8, leader=null, voted=null, raftlog=s1@group-04E6F89F5A1C-SegmentedRaftLog:OPENED:c7,f8,i8, conf=7: [s0:0.0.0.0:34119, s1:0.0.0.0:44382, s2:0.0.0.0:42516], old=null RUNNING
  s2:  RUNNING CANDIDATE s2@group-04E6F89F5A1C:t8, leader=null, voted=s2, raftlog=s2@group-04E6F89F5A1C-SegmentedRaftLog:OPENED:c6,f7,i7, conf=7: [s0:0.0.0.0:34119, s1:0.0.0.0:44382, s2:0.0.0.0:42516], old=null RUNNING, sleep 450ms and then retry.
java.lang.IllegalStateException: No leader yet : printing ALL groups
  s0:  RUNNING CANDIDATE s0@group-04E6F89F5A1C:t8, leader=null, voted=s0, raftlog=s0@group-04E6F89F5A1C-SegmentedRaftLog:OPENED:c6,f7,i7, conf=7: [s0:0.0.0.0:34119, s1:0.0.0.0:44382, s2:0.0.0.0:42516], old=null RUNNING
  s1:  RUNNING  FOLLOWER s1@group-04E6F89F5A1C:t8, leader=null, voted=null, raftlog=s1@group-04E6F89F5A1C-SegmentedRaftLog:OPENED:c7,f8,i8, conf=7: [s0:0.0.0.0:34119, s1:0.0.0.0:44382, s2:0.0.0.0:42516], old=null RUNNING
  s2:  RUNNING CANDIDATE s2@group-04E6F89F5A1C:t8, leader=null, voted=s2, raftlog=s2@group-04E6F89F5A1C-SegmentedRaftLog:OPENED:c6,f7,i7, conf=7: [s0:0.0.0.0:34119, s1:0.0.0.0:44382, s2:0.0.0.0:42516], old=null RUNNING
	at org.apache.ratis.MiniRaftCluster.newIllegalStateExceptionForNoLeaders(MiniRaftCluster.java:506)
	at org.apache.ratis.RaftTestUtil.lambda$waitForLeader$1(RaftTestUtil.java:90)
	at org.apache.ratis.MiniRaftCluster.getLeader(MiniRaftCluster.java:539)
	at org.apache.ratis.MiniRaftCluster.getLeader(MiniRaftCluster.java:532)
	at org.apache.ratis.RaftTestUtil.lambda$waitForLeader$3(RaftTestUtil.java:98)
	at org.apache.ratis.util.JavaUtils.attempt(JavaUtils.java:152)
	at org.apache.ratis.RaftTestUtil.waitForLeader(RaftTestUtil.java:97)
	at org.apache.ratis.RaftTestUtil.waitForLeader(RaftTestUtil.java:77)
	at org.apache.ratis.RaftTestUtil.waitForLeader(RaftTestUtil.java:72)
	at org.apache.ratis.RaftTestUtil.lambda$changeLeader$7(RaftTestUtil.java:363)
	at org.apache.ratis.util.JavaUtils.attempt(JavaUtils.java:152)
	at org.apache.ratis.RaftTestUtil.changeLeader(RaftTestUtil.java:362)
	at org.apache.ratis.server.impl.LeaderElectionTests.testChangeLeader(LeaderElectionTests.java:81)
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.lang.reflect.Method.invoke(Method.java:498)
	at org.junit.runners.model.FrameworkMethod$1.runReflectiveCall(FrameworkMethod.java:50)
	at org.junit.internal.runners.model.ReflectiveCallable.run(ReflectiveCallable.java:12)
	at org.junit.runners.model.FrameworkMethod.invokeExplosively(FrameworkMethod.java:47)
	at org.junit.internal.runners.statements.InvokeMethod.evaluate(InvokeMethod.java:17)
	at org.junit.internal.runners.statements.RunAfters.evaluate(RunAfters.java:27)
	at org.junit.internal.runners.statements.FailOnTimeout$CallableStatement.call(FailOnTimeout.java:298)
	at org.junit.internal.runners.statements.FailOnTimeout$CallableStatement.call(FailOnTimeout.java:292)
	at java.util.concurrent.FutureTask.run(FutureTask.java:266)
	at java.lang.Thread.run(Thread.java:748)
2019-09-24 12:06:46,960 WARN  impl.LogAppender (LogAppender.java:sendAppendEntriesWithRetries(274)) - s4@group-E7D5050F4609->s3-LogAppender: Failed to appendEntries (retry=91): org.apache.ratis.thirdparty.io.netty.channel.AbstractChannel$AnnotatedConnectException: Connection refused: /0.0.0.0:40479
2019-09-24 12:06:46,983 TRACE segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:lambda$new$1(133)) - s2@group-9DDC70D1F0F3-SegmentedRaftLogWorker: flushIndex: updateIncreasingly 3 -> 4
2019-09-24 12:06:46,983 TRACE segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:lambda$new$1(133)) - s0@group-9DDC70D1F0F3-SegmentedRaftLogWorker: flushIndex: updateIncreasingly 3 -> 4
2019-09-24 12:06:46,983 DEBUG segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:addIOTask(251)) - s2@group-9DDC70D1F0F3-SegmentedRaftLogWorker adds IO task WriteLog:5: (t:6, i:5), METADATAENTRY(c4)
2019-09-24 12:06:46,983 DEBUG impl.RaftServerImpl (RaftServerImpl.java:logAppendEntries(850)) - s0@group-9DDC70D1F0F3: succeeded to handle AppendEntries. Reply: s2<-s0#0:OK,SUCCESS,nextIndex:5,term:6,followerCommit:2
2019-09-24 12:06:46,984 DEBUG segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:flushWrites(340)) - s2@group-9DDC70D1F0F3-SegmentedRaftLogWorker: flush SegmentedRaftLogOutputStream(/workdir/ratis-test/target/test/data/aaa4fccd/MiniRaftClusterWithNetty53617c77/s2/8282875c-54dc-4ebb-a985-9ddc70d1f0f3/current/log_inprogress_4)
2019-09-24 12:06:46,985 DEBUG impl.RaftServerImpl (RaftServerImpl.java:logAppendEntries(850)) - s0@group-9DDC70D1F0F3: receive appendEntries(s2, 6, (t:6, i:4), 4, false, commits[s2:c4, s0:c2, s1:c3], entries: (t:6, i:5), METADATAENTRY(c4)
2019-09-24 12:06:46,986 DEBUG segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:addIOTask(251)) - s0@group-9DDC70D1F0F3-SegmentedRaftLogWorker adds IO task WriteLog:5: (t:6, i:5), METADATAENTRY(c4)
2019-09-24 12:06:46,986 DEBUG segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:flushWrites(340)) - s0@group-9DDC70D1F0F3-SegmentedRaftLogWorker: flush SegmentedRaftLogOutputStream(/workdir/ratis-test/target/test/data/aaa4fccd/MiniRaftClusterWithNetty53617c77/s0/8282875c-54dc-4ebb-a985-9ddc70d1f0f3/current/log_inprogress_4)
2019-09-24 12:06:46,993 INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:execute(569)) - s1@group-9DDC70D1F0F3-SegmentedRaftLogWorker: created new log segment /workdir/ratis-test/target/test/data/aaa4fccd/MiniRaftClusterWithNetty53617c77/s1/8282875c-54dc-4ebb-a985-9ddc70d1f0f3/current/log_inprogress_4
2019-09-24 12:06:46,993 DEBUG segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:flushWrites(340)) - s1@group-9DDC70D1F0F3-SegmentedRaftLogWorker: flush SegmentedRaftLogOutputStream(/workdir/ratis-test/target/test/data/aaa4fccd/MiniRaftClusterWithNetty53617c77/s1/8282875c-54dc-4ebb-a985-9ddc70d1f0f3/current/log_inprogress_4)
2019-09-24 12:06:46,994 INFO  impl.LeaderElection (LeaderElection.java:askForVotes(178)) - s2@group-04E6F89F5A1C-LeaderElection30: begin an election at term 8 for 7: [s0:0.0.0.0:34119, s1:0.0.0.0:44382, s2:0.0.0.0:42516], old=null
2019-09-24 12:06:46,994 DEBUG impl.RaftServerImpl (RaftServerImpl.java:requestVote(775)) - s2@group-04E6F89F5A1C replies to vote request: s0<-s2#0:FAIL-t8. Peer's state: s2@group-04E6F89F5A1C:t8, leader=null, voted=s2, raftlog=s2@group-04E6F89F5A1C-SegmentedRaftLog:OPENED:c6,f7,i7, conf=7: [s0:0.0.0.0:34119, s1:0.0.0.0:44382, s2:0.0.0.0:42516], old=null
2019-09-24 12:06:46,995 DEBUG impl.RaftServerImpl (RaftServerImpl.java:requestVote(775)) - s1@group-04E6F89F5A1C replies to vote request: s0<-s1#0:FAIL-t8. Peer's state: s1@group-04E6F89F5A1C:t8, leader=null, voted=null, raftlog=s1@group-04E6F89F5A1C-SegmentedRaftLog:OPENED:c7,f8,i8, conf=7: [s0:0.0.0.0:34119, s1:0.0.0.0:44382, s2:0.0.0.0:42516], old=null
2019-09-24 12:06:46,995 TRACE segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:lambda$new$1(133)) - s2@group-9DDC70D1F0F3-SegmentedRaftLogWorker: flushIndex: updateIncreasingly 4 -> 5
2019-09-24 12:06:46,996 DEBUG impl.RaftServerImpl (RaftServerImpl.java:requestVote(743)) - s0@group-04E6F89F5A1C: receive requestVote(s2, group-04E6F89F5A1C, 8, (t:7, i:7))
2019-09-24 12:06:46,996 INFO  impl.LeaderElection (LeaderElection.java:logAndReturn(56)) - s0@group-04E6F89F5A1C-LeaderElection29: Election REJECTED; received 2 response(s) [s0<-s1#0:FAIL-t8, s0<-s2#0:FAIL-t8] and 0 exception(s); s0@group-04E6F89F5A1C:t8, leader=null, voted=s0, raftlog=s0@group-04E6F89F5A1C-SegmentedRaftLog:OPENED:c6,f7,i7, conf=7: [s0:0.0.0.0:34119, s1:0.0.0.0:44382, s2:0.0.0.0:42516], old=null
2019-09-24 12:06:46,996 DEBUG impl.RaftServerImpl (RaftServerImpl.java:requestVote(775)) - s0@group-04E6F89F5A1C replies to vote request: s2<-s0#0:FAIL-t8. Peer's state: s0@group-04E6F89F5A1C:t8, leader=null, voted=s0, raftlog=s0@group-04E6F89F5A1C-SegmentedRaftLog:OPENED:c6,f7,i7, conf=7: [s0:0.0.0.0:34119, s1:0.0.0.0:44382, s2:0.0.0.0:42516], old=null
2019-09-24 12:06:46,996 TRACE segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:lambda$new$1(133)) - s1@group-9DDC70D1F0F3-SegmentedRaftLogWorker: flushIndex: updateIncreasingly 3 -> 4
2019-09-24 12:06:46,996 TRACE segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:lambda$new$1(133)) - s0@group-9DDC70D1F0F3-SegmentedRaftLogWorker: flushIndex: updateIncreasingly 4 -> 5
2019-09-24 12:06:46,996 DEBUG impl.RaftServerImpl (RaftServerImpl.java:requestVote(743)) - s1@group-04E6F89F5A1C: receive requestVote(s2, group-04E6F89F5A1C, 8, (t:7, i:7))
2019-09-24 12:06:46,997 DEBUG impl.RaftServerImpl (RaftServerImpl.java:logAppendEntries(850)) - s1@group-9DDC70D1F0F3: succeeded to handle AppendEntries. Reply: s2<-s1#0:OK,SUCCESS,nextIndex:5,term:6,followerCommit:3
2019-09-24 12:06:46,997 INFO  impl.RaftServerImpl (RaftServerImpl.java:setRole(170)) - s0@group-04E6F89F5A1C: changes role from CANDIDATE to FOLLOWER at term 8 for DISCOVERED_A_NEW_TERM
2019-09-24 12:06:46,998 INFO  impl.RoleInfo (RoleInfo.java:shutdownLeaderElection(134)) - s0: shutdown LeaderElection
2019-09-24 12:06:46,997 DEBUG impl.RaftServerImpl (RaftServerImpl.java:logAppendEntries(850)) - s0@group-9DDC70D1F0F3: succeeded to handle AppendEntries. Reply: s2<-s0#0:OK,SUCCESS,nextIndex:6,term:6,followerCommit:4
2019-09-24 12:06:46,997 INFO  impl.RaftServerImpl (RaftServerImpl.java:setRole(170)) - s1@group-04E6F89F5A1C: changes role from  FOLLOWER to FOLLOWER at term 8 for recognizeCandidate:s2
2019-09-24 12:06:46,998 DEBUG impl.RaftServerImpl (RaftServerImpl.java:logAppendEntries(850)) - s1@group-9DDC70D1F0F3: receive appendEntries(s2, 6, (t:6, i:4), 4, false, commits[s2:c4, s0:c2, s1:c3], entries: (t:6, i:5), METADATAENTRY(c4)
2019-09-24 12:06:46,998 INFO  impl.RoleInfo (RoleInfo.java:updateAndGet(143)) - s0: start FollowerState
2019-09-24 12:06:46,999 DEBUG segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:addIOTask(251)) - s1@group-9DDC70D1F0F3-SegmentedRaftLogWorker adds IO task WriteLog:5: (t:6, i:5), METADATAENTRY(c4)
2019-09-24 12:06:46,998 INFO  impl.RoleInfo (RoleInfo.java:shutdownFollowerState(121)) - s1: shutdown FollowerState
2019-09-24 12:06:47,000 DEBUG segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:flushWrites(340)) - s1@group-9DDC70D1F0F3-SegmentedRaftLogWorker: flush SegmentedRaftLogOutputStream(/workdir/ratis-test/target/test/data/aaa4fccd/MiniRaftClusterWithNetty53617c77/s1/8282875c-54dc-4ebb-a985-9ddc70d1f0f3/current/log_inprogress_4)
2019-09-24 12:06:47,000 INFO  impl.FollowerState (FollowerState.java:run(117)) - s1@group-04E6F89F5A1C-FollowerState was interrupted: java.lang.InterruptedException: sleep interrupted
2019-09-24 12:06:47,000 INFO  impl.RoleInfo (RoleInfo.java:updateAndGet(143)) - s1: start FollowerState
2019-09-24 12:06:47,001 DEBUG impl.RaftServerImpl (RaftServerImpl.java:requestVote(775)) - s1@group-04E6F89F5A1C replies to vote request: s2<-s1#0:FAIL-t8. Peer's state: s1@group-04E6F89F5A1C:t8, leader=null, voted=null, raftlog=s1@group-04E6F89F5A1C-SegmentedRaftLog:OPENED:c7,f8,i8, conf=7: [s0:0.0.0.0:34119, s1:0.0.0.0:44382, s2:0.0.0.0:42516], old=null
2019-09-24 12:06:47,001 INFO  impl.LeaderElection (LeaderElection.java:logAndReturn(56)) - s2@group-04E6F89F5A1C-LeaderElection30: Election REJECTED; received 2 response(s) [s2<-s0#0:FAIL-t8, s2<-s1#0:FAIL-t8] and 0 exception(s); s2@group-04E6F89F5A1C:t8, leader=null, voted=s2, raftlog=s2@group-04E6F89F5A1C-SegmentedRaftLog:OPENED:c6,f7,i7, conf=7: [s0:0.0.0.0:34119, s1:0.0.0.0:44382, s2:0.0.0.0:42516], old=null
2019-09-24 12:06:47,002 INFO  impl.RaftServerImpl (RaftServerImpl.java:setRole(170)) - s2@group-04E6F89F5A1C: changes role from CANDIDATE to FOLLOWER at term 8 for DISCOVERED_A_NEW_TERM
2019-09-24 12:06:47,002 INFO  impl.RoleInfo (RoleInfo.java:shutdownLeaderElection(134)) - s2: shutdown LeaderElection
2019-09-24 12:06:47,002 INFO  impl.RoleInfo (RoleInfo.java:updateAndGet(143)) - s2: start FollowerState
2019-09-24 12:06:47,011 TRACE segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:lambda$new$1(133)) - s1@group-9DDC70D1F0F3-SegmentedRaftLogWorker: flushIndex: updateIncreasingly 4 -> 5
2019-09-24 12:06:47,012 DEBUG impl.RaftServerImpl (RaftServerImpl.java:logAppendEntries(850)) - s1@group-9DDC70D1F0F3: succeeded to handle AppendEntries. Reply: s2<-s1#0:OK,SUCCESS,nextIndex:6,term:6,followerCommit:4
2019-09-24 12:06:47,162 INFO  impl.FollowerState (FollowerState.java:run(108)) - s1@group-04E6F89F5A1C-FollowerState: change to CANDIDATE, lastRpcTime:162ms, electionTimeout:161ms
2019-09-24 12:06:47,162 INFO  impl.RoleInfo (RoleInfo.java:shutdownFollowerState(121)) - s1: shutdown FollowerState
2019-09-24 12:06:47,162 INFO  impl.RaftServerImpl (RaftServerImpl.java:setRole(170)) - s1@group-04E6F89F5A1C: changes role from  FOLLOWER to CANDIDATE at term 8 for changeToCandidate
2019-09-24 12:06:47,163 INFO  impl.RoleInfo (RoleInfo.java:updateAndGet(143)) - s1: start LeaderElection
2019-09-24 12:06:47,177 INFO  impl.LeaderElection (LeaderElection.java:askForVotes(178)) - s1@group-04E6F89F5A1C-LeaderElection31: begin an election at term 9 for 7: [s0:0.0.0.0:34119, s1:0.0.0.0:44382, s2:0.0.0.0:42516], old=null
2019-09-24 12:06:47,192 WARN  impl.LogAppender (LogAppender.java:sendAppendEntriesWithRetries(274)) - s4@group-E7D5050F4609->s3-LogAppender: Failed to appendEntries (retry=101): org.apache.ratis.thirdparty.io.netty.channel.AbstractChannel$AnnotatedConnectException: Connection refused: /0.0.0.0:40479
2019-09-24 12:06:47,286 INFO  impl.FollowerState (FollowerState.java:run(108)) - s2@group-04E6F89F5A1C-FollowerState: change to CANDIDATE, lastRpcTime:284ms, electionTimeout:284ms
2019-09-24 12:06:47,287 INFO  impl.RoleInfo (RoleInfo.java:shutdownFollowerState(121)) - s2: shutdown FollowerState
2019-09-24 12:06:47,287 INFO  impl.RaftServerImpl (RaftServerImpl.java:setRole(170)) - s2@group-04E6F89F5A1C: changes role from  FOLLOWER to CANDIDATE at term 8 for changeToCandidate
2019-09-24 12:06:47,287 INFO  impl.RoleInfo (RoleInfo.java:updateAndGet(143)) - s2: start LeaderElection
2019-09-24 12:06:47,294 INFO  impl.FollowerState (FollowerState.java:run(108)) - s0@group-04E6F89F5A1C-FollowerState: change to CANDIDATE, lastRpcTime:295ms, electionTimeout:294ms
2019-09-24 12:06:47,294 INFO  impl.RoleInfo (RoleInfo.java:shutdownFollowerState(121)) - s0: shutdown FollowerState
2019-09-24 12:06:47,294 INFO  impl.RaftServerImpl (RaftServerImpl.java:setRole(170)) - s0@group-04E6F89F5A1C: changes role from  FOLLOWER to CANDIDATE at term 8 for changeToCandidate
2019-09-24 12:06:47,294 INFO  impl.RoleInfo (RoleInfo.java:updateAndGet(143)) - s0: start LeaderElection
2019-09-24 12:06:47,314 INFO  impl.LeaderElection (LeaderElection.java:askForVotes(178)) - s0@group-04E6F89F5A1C-LeaderElection33: begin an election at term 9 for 7: [s0:0.0.0.0:34119, s1:0.0.0.0:44382, s2:0.0.0.0:42516], old=null
2019-09-24 12:06:47,315 INFO  impl.LeaderElection (LeaderElection.java:askForVotes(178)) - s2@group-04E6F89F5A1C-LeaderElection32: begin an election at term 9 for 7: [s0:0.0.0.0:34119, s1:0.0.0.0:44382, s2:0.0.0.0:42516], old=null
2019-09-24 12:06:47,316 DEBUG impl.RaftServerImpl (RaftServerImpl.java:requestVote(743)) - s1@group-04E6F89F5A1C: receive requestVote(s0, group-04E6F89F5A1C, 9, (t:7, i:7))
2019-09-24 12:06:47,316 DEBUG impl.RaftServerImpl (RaftServerImpl.java:requestVote(743)) - s0@group-04E6F89F5A1C: receive requestVote(s2, group-04E6F89F5A1C, 9, (t:7, i:7))
2019-09-24 12:06:47,316 DEBUG impl.RaftServerImpl (RaftServerImpl.java:requestVote(743)) - s1@group-04E6F89F5A1C: receive requestVote(s2, group-04E6F89F5A1C, 9, (t:7, i:7))
2019-09-24 12:06:47,316 DEBUG impl.RaftServerImpl (RaftServerImpl.java:requestVote(743)) - s2@group-04E6F89F5A1C: receive requestVote(s0, group-04E6F89F5A1C, 9, (t:7, i:7))
2019-09-24 12:06:47,316 DEBUG impl.RaftServerImpl (RaftServerImpl.java:requestVote(775)) - s1@group-04E6F89F5A1C replies to vote request: s0<-s1#0:FAIL-t9. Peer's state: s1@group-04E6F89F5A1C:t9, leader=null, voted=s1, raftlog=s1@group-04E6F89F5A1C-SegmentedRaftLog:OPENED:c7,f8,i8, conf=7: [s0:0.0.0.0:34119, s1:0.0.0.0:44382, s2:0.0.0.0:42516], old=null
2019-09-24 12:06:47,317 DEBUG impl.RaftServerImpl (RaftServerImpl.java:requestVote(775)) - s2@group-04E6F89F5A1C replies to vote request: s0<-s2#0:FAIL-t9. Peer's state: s2@group-04E6F89F5A1C:t9, leader=null, voted=s2, raftlog=s2@group-04E6F89F5A1C-SegmentedRaftLog:OPENED:c6,f7,i7, conf=7: [s0:0.0.0.0:34119, s1:0.0.0.0:44382, s2:0.0.0.0:42516], old=null
2019-09-24 12:06:47,316 DEBUG impl.RaftServerImpl (RaftServerImpl.java:requestVote(775)) - s0@group-04E6F89F5A1C replies to vote request: s2<-s0#0:FAIL-t9. Peer's state: s0@group-04E6F89F5A1C:t9, leader=null, voted=s0, raftlog=s0@group-04E6F89F5A1C-SegmentedRaftLog:OPENED:c6,f7,i7, conf=7: [s0:0.0.0.0:34119, s1:0.0.0.0:44382, s2:0.0.0.0:42516], old=null
2019-09-24 12:06:47,317 DEBUG impl.RaftServerImpl (RaftServerImpl.java:requestVote(775)) - s1@group-04E6F89F5A1C replies to vote request: s2<-s1#0:FAIL-t9. Peer's state: s1@group-04E6F89F5A1C:t9, leader=null, voted=s1, raftlog=s1@group-04E6F89F5A1C-SegmentedRaftLog:OPENED:c7,f8,i8, conf=7: [s0:0.0.0.0:34119, s1:0.0.0.0:44382, s2:0.0.0.0:42516], old=null
2019-09-24 12:06:47,318 INFO  impl.LeaderElection (LeaderElection.java:logAndReturn(56)) - s0@group-04E6F89F5A1C-LeaderElection33: Election REJECTED; received 2 response(s) [s0<-s1#0:FAIL-t9, s0<-s2#0:FAIL-t9] and 0 exception(s); s0@group-04E6F89F5A1C:t9, leader=null, voted=s0, raftlog=s0@group-04E6F89F5A1C-SegmentedRaftLog:OPENED:c6,f7,i7, conf=7: [s0:0.0.0.0:34119, s1:0.0.0.0:44382, s2:0.0.0.0:42516], old=null
2019-09-24 12:06:47,319 INFO  impl.LeaderElection (LeaderElection.java:logAndReturn(56)) - s2@group-04E6F89F5A1C-LeaderElection32: Election REJECTED; received 2 response(s) [s2<-s0#0:FAIL-t9, s2<-s1#0:FAIL-t9] and 0 exception(s); s2@group-04E6F89F5A1C:t9, leader=null, voted=s2, raftlog=s2@group-04E6F89F5A1C-SegmentedRaftLog:OPENED:c6,f7,i7, conf=7: [s0:0.0.0.0:34119, s1:0.0.0.0:44382, s2:0.0.0.0:42516], old=null
2019-09-24 12:06:47,319 INFO  impl.RaftServerImpl (RaftServerImpl.java:setRole(170)) - s2@group-04E6F89F5A1C: changes role from CANDIDATE to FOLLOWER at term 9 for DISCOVERED_A_NEW_TERM
2019-09-24 12:06:47,320 INFO  impl.RaftServerImpl (RaftServerImpl.java:setRole(170)) - s0@group-04E6F89F5A1C: changes role from CANDIDATE to FOLLOWER at term 9 for DISCOVERED_A_NEW_TERM
2019-09-24 12:06:47,320 INFO  impl.RoleInfo (RoleInfo.java:shutdownLeaderElection(134)) - s2: shutdown LeaderElection
2019-09-24 12:06:47,320 INFO  impl.RoleInfo (RoleInfo.java:shutdownLeaderElection(134)) - s0: shutdown LeaderElection
2019-09-24 12:06:47,320 INFO  impl.RoleInfo (RoleInfo.java:updateAndGet(143)) - s2: start FollowerState
2019-09-24 12:06:47,320 INFO  impl.RoleInfo (RoleInfo.java:updateAndGet(143)) - s0: start FollowerState
2019-09-24 12:06:47,347 INFO  impl.LeaderElection (LeaderElection.java:logAndReturn(56)) - s1@group-04E6F89F5A1C-LeaderElection31: Election TIMEOUT; received 0 response(s) [] and 0 exception(s); s1@group-04E6F89F5A1C:t9, leader=null, voted=s1, raftlog=s1@group-04E6F89F5A1C-SegmentedRaftLog:OPENED:c7,f8,i8, conf=7: [s0:0.0.0.0:34119, s1:0.0.0.0:44382, s2:0.0.0.0:42516], old=null
2019-09-24 12:06:47,360 INFO  impl.LeaderElection (LeaderElection.java:askForVotes(178)) - s1@group-04E6F89F5A1C-LeaderElection31: begin an election at term 10 for 7: [s0:0.0.0.0:34119, s1:0.0.0.0:44382, s2:0.0.0.0:42516], old=null
2019-09-24 12:06:47,409 WARN  ratis.RaftTestUtil (JavaUtils.java:attempt(158)) - FAILED "waitForLeader-null-(expectLeader? true)", attempt #2/100: java.lang.IllegalStateException: No leader yet : printing ALL groups
  s0:  RUNNING  FOLLOWER s0@group-04E6F89F5A1C:t9, leader=null, voted=s0, raftlog=s0@group-04E6F89F5A1C-SegmentedRaftLog:OPENED:c6,f7,i7, conf=7: [s0:0.0.0.0:34119, s1:0.0.0.0:44382, s2:0.0.0.0:42516], old=null RUNNING
  s1:  RUNNING CANDIDATE s1@group-04E6F89F5A1C:t10, leader=null, voted=s1, raftlog=s1@group-04E6F89F5A1C-SegmentedRaftLog:OPENED:c7,f8,i8, conf=7: [s0:0.0.0.0:34119, s1:0.0.0.0:44382, s2:0.0.0.0:42516], old=null RUNNING
  s2:  RUNNING  FOLLOWER s2@group-04E6F89F5A1C:t9, leader=null, voted=s2, raftlog=s2@group-04E6F89F5A1C-SegmentedRaftLog:OPENED:c6,f7,i7, conf=7: [s0:0.0.0.0:34119, s1:0.0.0.0:44382, s2:0.0.0.0:42516], old=null RUNNING, sleep 450ms and then retry.
java.lang.IllegalStateException: No leader yet : printing ALL groups
  s0:  RUNNING  FOLLOWER s0@group-04E6F89F5A1C:t9, leader=null, voted=s0, raftlog=s0@group-04E6F89F5A1C-SegmentedRaftLog:OPENED:c6,f7,i7, conf=7: [s0:0.0.0.0:34119, s1:0.0.0.0:44382, s2:0.0.0.0:42516], old=null RUNNING
  s1:  RUNNING CANDIDATE s1@group-04E6F89F5A1C:t10, leader=null, voted=s1, raftlog=s1@group-04E6F89F5A1C-SegmentedRaftLog:OPENED:c7,f8,i8, conf=7: [s0:0.0.0.0:34119, s1:0.0.0.0:44382, s2:0.0.0.0:42516], old=null RUNNING
  s2:  RUNNING  FOLLOWER s2@group-04E6F89F5A1C:t9, leader=null, voted=s2, raftlog=s2@group-04E6F89F5A1C-SegmentedRaftLog:OPENED:c6,f7,i7, conf=7: [s0:0.0.0.0:34119, s1:0.0.0.0:44382, s2:0.0.0.0:42516], old=null RUNNING
	at org.apache.ratis.MiniRaftCluster.newIllegalStateExceptionForNoLeaders(MiniRaftCluster.java:506)
	at org.apache.ratis.RaftTestUtil.lambda$waitForLeader$1(RaftTestUtil.java:90)
	at org.apache.ratis.MiniRaftCluster.getLeader(MiniRaftCluster.java:539)
	at org.apache.ratis.MiniRaftCluster.getLeader(MiniRaftCluster.java:532)
	at org.apache.ratis.RaftTestUtil.lambda$waitForLeader$3(RaftTestUtil.java:98)
	at org.apache.ratis.util.JavaUtils.attempt(JavaUtils.java:152)
	at org.apache.ratis.RaftTestUtil.waitForLeader(RaftTestUtil.java:97)
	at org.apache.ratis.RaftTestUtil.waitForLeader(RaftTestUtil.java:77)
	at org.apache.ratis.RaftTestUtil.waitForLeader(RaftTestUtil.java:72)
	at org.apache.ratis.RaftTestUtil.lambda$changeLeader$7(RaftTestUtil.java:363)
	at org.apache.ratis.util.JavaUtils.attempt(JavaUtils.java:152)
	at org.apache.ratis.RaftTestUtil.changeLeader(RaftTestUtil.java:362)
	at org.apache.ratis.server.impl.LeaderElectionTests.testChangeLeader(LeaderElectionTests.java:81)
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.lang.reflect.Method.invoke(Method.java:498)
	at org.junit.runners.model.FrameworkMethod$1.runReflectiveCall(FrameworkMethod.java:50)
	at org.junit.internal.runners.model.ReflectiveCallable.run(ReflectiveCallable.java:12)
	at org.junit.runners.model.FrameworkMethod.invokeExplosively(FrameworkMethod.java:47)
	at org.junit.internal.runners.statements.InvokeMethod.evaluate(InvokeMethod.java:17)
	at org.junit.internal.runners.statements.RunAfters.evaluate(RunAfters.java:27)
	at org.junit.internal.runners.statements.FailOnTimeout$CallableStatement.call(FailOnTimeout.java:298)
	at org.junit.internal.runners.statements.FailOnTimeout$CallableStatement.call(FailOnTimeout.java:292)
	at java.util.concurrent.FutureTask.run(FutureTask.java:266)
	at java.lang.Thread.run(Thread.java:748)
2019-09-24 12:06:47,425 WARN  impl.LogAppender (LogAppender.java:sendAppendEntriesWithRetries(274)) - s4@group-E7D5050F4609->s3-LogAppender: Failed to appendEntries (retry=111): org.apache.ratis.thirdparty.io.netty.channel.AbstractChannel$AnnotatedConnectException: Connection refused: /0.0.0.0:40479
2019-09-24 12:06:47,537 INFO  impl.FollowerState (FollowerState.java:run(108)) - s2@group-04E6F89F5A1C-FollowerState: change to CANDIDATE, lastRpcTime:216ms, electionTimeout:216ms
2019-09-24 12:06:47,537 INFO  impl.RoleInfo (RoleInfo.java:shutdownFollowerState(121)) - s2: shutdown FollowerState
2019-09-24 12:06:47,537 INFO  impl.RaftServerImpl (RaftServerImpl.java:setRole(170)) - s2@group-04E6F89F5A1C: changes role from  FOLLOWER to CANDIDATE at term 9 for changeToCandidate
2019-09-24 12:06:47,537 INFO  impl.RoleInfo (RoleInfo.java:updateAndGet(143)) - s2: start LeaderElection
2019-09-24 12:06:47,554 INFO  impl.LeaderElection (LeaderElection.java:askForVotes(178)) - s2@group-04E6F89F5A1C-LeaderElection34: begin an election at term 10 for 7: [s0:0.0.0.0:34119, s1:0.0.0.0:44382, s2:0.0.0.0:42516], old=null
2019-09-24 12:06:47,555 DEBUG impl.RaftServerImpl (RaftServerImpl.java:requestVote(743)) - s0@group-04E6F89F5A1C: receive requestVote(s2, group-04E6F89F5A1C, 10, (t:7, i:7))
2019-09-24 12:06:47,555 DEBUG impl.RaftServerImpl (RaftServerImpl.java:requestVote(743)) - s1@group-04E6F89F5A1C: receive requestVote(s2, group-04E6F89F5A1C, 10, (t:7, i:7))
2019-09-24 12:06:47,556 INFO  impl.RaftServerImpl (RaftServerImpl.java:setRole(170)) - s0@group-04E6F89F5A1C: changes role from  FOLLOWER to FOLLOWER at term 10 for recognizeCandidate:s2
2019-09-24 12:06:47,556 DEBUG impl.RaftServerImpl (RaftServerImpl.java:requestVote(775)) - s1@group-04E6F89F5A1C replies to vote request: s2<-s1#0:FAIL-t10. Peer's state: s1@group-04E6F89F5A1C:t10, leader=null, voted=s1, raftlog=s1@group-04E6F89F5A1C-SegmentedRaftLog:OPENED:c7,f8,i8, conf=7: [s0:0.0.0.0:34119, s1:0.0.0.0:44382, s2:0.0.0.0:42516], old=null
2019-09-24 12:06:47,556 INFO  impl.RoleInfo (RoleInfo.java:shutdownFollowerState(121)) - s0: shutdown FollowerState
2019-09-24 12:06:47,557 INFO  impl.RoleInfo (RoleInfo.java:updateAndGet(143)) - s0: start FollowerState
2019-09-24 12:06:47,557 INFO  impl.FollowerState (FollowerState.java:run(117)) - s0@group-04E6F89F5A1C-FollowerState was interrupted: java.lang.InterruptedException: sleep interrupted
2019-09-24 12:06:47,581 DEBUG impl.RaftServerImpl (RaftServerImpl.java:requestVote(775)) - s0@group-04E6F89F5A1C replies to vote request: s2<-s0#0:OK-t10. Peer's state: s0@group-04E6F89F5A1C:t10, leader=null, voted=s2, raftlog=s0@group-04E6F89F5A1C-SegmentedRaftLog:OPENED:c6,f7,i7, conf=7: [s0:0.0.0.0:34119, s1:0.0.0.0:44382, s2:0.0.0.0:42516], old=null
2019-09-24 12:06:47,582 INFO  impl.LeaderElection (LeaderElection.java:logAndReturn(56)) - s2@group-04E6F89F5A1C-LeaderElection34: Election PASSED; received 2 response(s) [s2<-s0#0:OK-t10, s2<-s1#0:FAIL-t10] and 0 exception(s); s2@group-04E6F89F5A1C:t10, leader=null, voted=s2, raftlog=s2@group-04E6F89F5A1C-SegmentedRaftLog:OPENED:c6,f7,i7, conf=7: [s0:0.0.0.0:34119, s1:0.0.0.0:44382, s2:0.0.0.0:42516], old=null
2019-09-24 12:06:47,582 INFO  impl.RoleInfo (RoleInfo.java:shutdownLeaderElection(134)) - s2: shutdown LeaderElection
2019-09-24 12:06:47,583 INFO  impl.RaftServerImpl (RaftServerImpl.java:setRole(170)) - s2@group-04E6F89F5A1C: changes role from CANDIDATE to LEADER at term 10 for changeToLeader
2019-09-24 12:06:47,583 INFO  impl.RaftServerImpl (ServerState.java:setLeader(254)) - s2@group-04E6F89F5A1C: change Leader from null to s2 at term 10 for becomeLeader, leader elected after 669ms
2019-09-24 12:06:47,583 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.staging.catchup.gap = 1000 (default)
2019-09-24 12:06:47,583 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.rpc.sleep.time = 25ms (default)
2019-09-24 12:06:47,583 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.write.element-limit = 4096 (default)
2019-09-24 12:06:47,584 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.watch.timeout = 10s (default)
2019-09-24 12:06:47,584 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.watch.timeout.denomination = 1s (default)
2019-09-24 12:06:47,584 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.watch.element-limit = 65536 (default)
2019-09-24 12:06:47,584 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.log.appender.snapshot.chunk.size.max = 16MB (=16777216) (default)
2019-09-24 12:06:47,584 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.log.appender.buffer.byte-limit = 4MB (=4194304) (default)
2019-09-24 12:06:47,585 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.log.appender.buffer.element-limit = 0 (default)
2019-09-24 12:06:47,585 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.log.appender.snapshot.chunk.size.max = 16MB (=16777216) (default)
2019-09-24 12:06:47,585 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.log.appender.buffer.byte-limit = 4MB (=4194304) (default)
2019-09-24 12:06:47,585 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.log.appender.buffer.element-limit = 0 (default)
2019-09-24 12:06:47,586 INFO  impl.RoleInfo (RoleInfo.java:updateAndGet(143)) - s2: start LeaderState
2019-09-24 12:06:47,586 INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:rollLogSegment(385)) - s2@group-04E6F89F5A1C-SegmentedRaftLogWorker: Rolling segment log-7_7 to index:7
2019-09-24 12:06:47,586 DEBUG segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:addIOTask(251)) - s2@group-04E6F89F5A1C-SegmentedRaftLogWorker adds IO task FinalizeLogSegment:7: startIndex=7 endIndex=7
2019-09-24 12:06:47,586 DEBUG segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:addIOTask(251)) - s2@group-04E6F89F5A1C-SegmentedRaftLogWorker adds IO task StartLogSegment:8
2019-09-24 12:06:47,587 DEBUG segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:addIOTask(251)) - s2@group-04E6F89F5A1C-SegmentedRaftLogWorker adds IO task WriteLog:8: (t:10, i:8), CONFIGURATIONENTRY
2019-09-24 12:06:47,588 INFO  impl.RaftServerImpl (ServerState.java:setRaftConf(355)) - s2@group-04E6F89F5A1C: set configuration 8: [s0:0.0.0.0:34119, s1:0.0.0.0:44382, s2:0.0.0.0:42516], old=null at 8
2019-09-24 12:06:47,588 INFO  impl.RaftServerImpl (ServerState.java:setLeader(254)) - s0@group-04E6F89F5A1C: change Leader from null to s2 at term 10 for appendEntries, leader elected after 732ms
2019-09-24 12:06:47,588 INFO  impl.RaftServerImpl (RaftServerImpl.java:setRole(170)) - s1@group-04E6F89F5A1C: changes role from CANDIDATE to FOLLOWER at term 10 for appendEntries
2019-09-24 12:06:47,588 INFO  impl.RoleInfo (RoleInfo.java:shutdownLeaderElection(134)) - s1: shutdown LeaderElection
2019-09-24 12:06:47,589 INFO  impl.LeaderElection (LeaderElection.java:logAndReturn(56)) - s1@group-04E6F89F5A1C-LeaderElection31: Election REJECTED; received 0 response(s) [] and 0 exception(s); s1@group-04E6F89F5A1C:t10, leader=null, voted=s1, raftlog=s1@group-04E6F89F5A1C-SegmentedRaftLog:OPENED:c7,f8,i8, conf=7: [s0:0.0.0.0:34119, s1:0.0.0.0:44382, s2:0.0.0.0:42516], old=null
2019-09-24 12:06:47,589 INFO  impl.RoleInfo (RoleInfo.java:updateAndGet(143)) - s1: start FollowerState
2019-09-24 12:06:47,589 TRACE util.FileUtils (LogUtils.java:runAndLog(61)) - Successfully ran Files.move /workdir/ratis-test/target/test/data/aaa4fccd/MiniRaftClusterWithNetty55a7148e/s2/611a84d9-4fe5-4f71-a301-04e6f89f5a1c/current/log_inprogress_7 to /workdir/ratis-test/target/test/data/aaa4fccd/MiniRaftClusterWithNetty55a7148e/s2/611a84d9-4fe5-4f71-a301-04e6f89f5a1c/current/log_7-7
2019-09-24 12:06:47,589 INFO  impl.RaftServerImpl (ServerState.java:setLeader(254)) - s1@group-04E6F89F5A1C: change Leader from null to s2 at term 10 for appendEntries, leader elected after 645ms
2019-09-24 12:06:47,589 DEBUG impl.RaftServerImpl (RaftServerImpl.java:logAppendEntries(850)) - s0@group-04E6F89F5A1C: receive appendEntries(s2, 10, (t:7, i:7), 6, false, commits[s2:c6, s0:c6, s1:c6], entries: (t:10, i:8), CONFIGURATIONENTRY
2019-09-24 12:06:47,589 INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:execute(526)) - s2@group-04E6F89F5A1C-SegmentedRaftLogWorker: Rolled log segment from /workdir/ratis-test/target/test/data/aaa4fccd/MiniRaftClusterWithNetty55a7148e/s2/611a84d9-4fe5-4f71-a301-04e6f89f5a1c/current/log_inprogress_7 to /workdir/ratis-test/target/test/data/aaa4fccd/MiniRaftClusterWithNetty55a7148e/s2/611a84d9-4fe5-4f71-a301-04e6f89f5a1c/current/log_7-7
2019-09-24 12:06:47,590 INFO  impl.RaftServerImpl (ServerState.java:setRaftConf(355)) - s0@group-04E6F89F5A1C: set configuration 8: [s0:0.0.0.0:34119, s1:0.0.0.0:44382, s2:0.0.0.0:42516], old=null at 8
2019-09-24 12:06:47,590 TRACE segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:lambda$new$1(133)) - s2@group-04E6F89F5A1C-SegmentedRaftLogWorker: flushIndex: updateIncreasingly 7 -> 7
2019-09-24 12:06:47,592 INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:rollLogSegment(385)) - s0@group-04E6F89F5A1C-SegmentedRaftLogWorker: Rolling segment log-7_7 to index:7
2019-09-24 12:06:47,592 DEBUG segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:addIOTask(251)) - s0@group-04E6F89F5A1C-SegmentedRaftLogWorker adds IO task FinalizeLogSegment:7: startIndex=7 endIndex=7
2019-09-24 12:06:47,593 DEBUG segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:addIOTask(251)) - s0@group-04E6F89F5A1C-SegmentedRaftLogWorker adds IO task StartLogSegment:8
2019-09-24 12:06:47,593 DEBUG segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:addIOTask(251)) - s0@group-04E6F89F5A1C-SegmentedRaftLogWorker adds IO task WriteLog:8: (t:10, i:8), CONFIGURATIONENTRY
2019-09-24 12:06:47,595 TRACE util.FileUtils (LogUtils.java:runAndLog(61)) - Successfully ran Files.move /workdir/ratis-test/target/test/data/aaa4fccd/MiniRaftClusterWithNetty55a7148e/s0/611a84d9-4fe5-4f71-a301-04e6f89f5a1c/current/log_inprogress_7 to /workdir/ratis-test/target/test/data/aaa4fccd/MiniRaftClusterWithNetty55a7148e/s0/611a84d9-4fe5-4f71-a301-04e6f89f5a1c/current/log_7-7
2019-09-24 12:06:47,595 INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:execute(526)) - s0@group-04E6F89F5A1C-SegmentedRaftLogWorker: Rolled log segment from /workdir/ratis-test/target/test/data/aaa4fccd/MiniRaftClusterWithNetty55a7148e/s0/611a84d9-4fe5-4f71-a301-04e6f89f5a1c/current/log_inprogress_7 to /workdir/ratis-test/target/test/data/aaa4fccd/MiniRaftClusterWithNetty55a7148e/s0/611a84d9-4fe5-4f71-a301-04e6f89f5a1c/current/log_7-7
2019-09-24 12:06:47,595 TRACE segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:lambda$new$1(133)) - s0@group-04E6F89F5A1C-SegmentedRaftLogWorker: flushIndex: updateIncreasingly 7 -> 7
2019-09-24 12:06:47,659 WARN  impl.LogAppender (LogAppender.java:sendAppendEntriesWithRetries(274)) - s4@group-E7D5050F4609->s3-LogAppender: Failed to appendEntries (retry=121): org.apache.ratis.thirdparty.io.netty.channel.AbstractChannel$AnnotatedConnectException: Connection refused: /0.0.0.0:40479
2019-09-24 12:06:47,667 INFO  impl.RaftServerImpl (RaftServerImpl.java:checkInconsistentAppendEntries(999)) - s1@group-04E6F89F5A1C: Failed appendEntries as previous log entry ((t:10, i:8)) is not found
2019-09-24 12:06:47,667 INFO  impl.RaftServerImpl (RaftServerImpl.java:checkInconsistentAppendEntries(972)) - s1@group-04E6F89F5A1C: inconsistency entries. Reply:s2<-s1#0:FAIL,INCONSISTENCY,nextIndex:8,term:10,followerCommit:7
2019-09-24 12:06:47,668 INFO  impl.FollowerInfo (FollowerInfo.java:lambda$new$0(51)) - s2@group-04E6F89F5A1C->s1: nextIndex: updateUnconditionally 9 -> 8
2019-09-24 12:06:47,668 DEBUG impl.RaftServerImpl (RaftServerImpl.java:logAppendEntries(850)) - s1@group-04E6F89F5A1C: receive appendEntries(s2, 10, (t:7, i:7), 6, false, commits[s2:c6, s0:c6, s1:c7], entries: (t:10, i:8), CONFIGURATIONENTRY
2019-09-24 12:06:47,669 INFO  impl.RaftServerImpl (ServerState.java:setRaftConf(355)) - s1@group-04E6F89F5A1C: set configuration 8: [s0:0.0.0.0:34119, s1:0.0.0.0:44382, s2:0.0.0.0:42516], old=null at 8
2019-09-24 12:06:47,669 INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:truncate(396)) - s1@group-04E6F89F5A1C-SegmentedRaftLogWorker: Truncating segments toTruncate: (7, 8) isOpen? true, length=82, newEndIndex=7
  toDelete: [], start index 8
2019-09-24 12:06:47,670 DEBUG segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:addIOTask(251)) - s1@group-04E6F89F5A1C-SegmentedRaftLogWorker adds IO task TruncateLog:7: toTruncate: (7, 8) isOpen? true, length=82, newEndIndex=7
  toDelete: []
2019-09-24 12:06:47,670 INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:startLogSegment(380)) - s1@group-04E6F89F5A1C-SegmentedRaftLogWorker: Starting segment from index:8
2019-09-24 12:06:47,670 DEBUG segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:addIOTask(251)) - s1@group-04E6F89F5A1C-SegmentedRaftLogWorker adds IO task StartLogSegment:8
2019-09-24 12:06:47,671 DEBUG segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:addIOTask(251)) - s1@group-04E6F89F5A1C-SegmentedRaftLogWorker adds IO task WriteLog:8: (t:10, i:8), CONFIGURATIONENTRY
2019-09-24 12:06:47,672 TRACE util.FileUtils (LogUtils.java:runAndLog(61)) - Successfully ran FileOutputStream.getChannel().truncate /workdir/ratis-test/target/test/data/aaa4fccd/MiniRaftClusterWithNetty55a7148e/s1/611a84d9-4fe5-4f71-a301-04e6f89f5a1c/current/log_inprogress_7 length: 95 -> 82
2019-09-24 12:06:47,673 TRACE util.FileUtils (LogUtils.java:runAndLog(61)) - Successfully ran Files.move /workdir/ratis-test/target/test/data/aaa4fccd/MiniRaftClusterWithNetty55a7148e/s1/611a84d9-4fe5-4f71-a301-04e6f89f5a1c/current/log_inprogress_7 to /workdir/ratis-test/target/test/data/aaa4fccd/MiniRaftClusterWithNetty55a7148e/s1/611a84d9-4fe5-4f71-a301-04e6f89f5a1c/current/log_7-7
2019-09-24 12:06:47,673 INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:execute(614)) - s1@group-04E6F89F5A1C-SegmentedRaftLogWorker: Truncated log file /workdir/ratis-test/target/test/data/aaa4fccd/MiniRaftClusterWithNetty55a7148e/s1/611a84d9-4fe5-4f71-a301-04e6f89f5a1c/current/log_inprogress_7 to length 82 and moved it to /workdir/ratis-test/target/test/data/aaa4fccd/MiniRaftClusterWithNetty55a7148e/s1/611a84d9-4fe5-4f71-a301-04e6f89f5a1c/current/log_7-7
2019-09-24 12:06:47,673 INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:lambda$new$0(132)) - s1@group-04E6F89F5A1C-SegmentedRaftLogWorker: flushIndex: setUnconditionally 8 -> 7
2019-09-24 12:06:47,783 INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:execute(569)) - s0@group-04E6F89F5A1C-SegmentedRaftLogWorker: created new log segment /workdir/ratis-test/target/test/data/aaa4fccd/MiniRaftClusterWithNetty55a7148e/s0/611a84d9-4fe5-4f71-a301-04e6f89f5a1c/current/log_inprogress_8
2019-09-24 12:06:47,783 INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:execute(569)) - s1@group-04E6F89F5A1C-SegmentedRaftLogWorker: created new log segment /workdir/ratis-test/target/test/data/aaa4fccd/MiniRaftClusterWithNetty55a7148e/s1/611a84d9-4fe5-4f71-a301-04e6f89f5a1c/current/log_inprogress_8
2019-09-24 12:06:47,783 INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:execute(569)) - s2@group-04E6F89F5A1C-SegmentedRaftLogWorker: created new log segment /workdir/ratis-test/target/test/data/aaa4fccd/MiniRaftClusterWithNetty55a7148e/s2/611a84d9-4fe5-4f71-a301-04e6f89f5a1c/current/log_inprogress_8
2019-09-24 12:06:47,784 DEBUG segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:flushWrites(340)) - s1@group-04E6F89F5A1C-SegmentedRaftLogWorker: flush SegmentedRaftLogOutputStream(/workdir/ratis-test/target/test/data/aaa4fccd/MiniRaftClusterWithNetty55a7148e/s1/611a84d9-4fe5-4f71-a301-04e6f89f5a1c/current/log_inprogress_8)
2019-09-24 12:06:47,784 DEBUG segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:flushWrites(340)) - s0@group-04E6F89F5A1C-SegmentedRaftLogWorker: flush SegmentedRaftLogOutputStream(/workdir/ratis-test/target/test/data/aaa4fccd/MiniRaftClusterWithNetty55a7148e/s0/611a84d9-4fe5-4f71-a301-04e6f89f5a1c/current/log_inprogress_8)
2019-09-24 12:06:47,784 DEBUG segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:flushWrites(340)) - s2@group-04E6F89F5A1C-SegmentedRaftLogWorker: flush SegmentedRaftLogOutputStream(/workdir/ratis-test/target/test/data/aaa4fccd/MiniRaftClusterWithNetty55a7148e/s2/611a84d9-4fe5-4f71-a301-04e6f89f5a1c/current/log_inprogress_8)
2019-09-24 12:06:47,795 TRACE segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:lambda$new$1(133)) - s1@group-04E6F89F5A1C-SegmentedRaftLogWorker: flushIndex: updateIncreasingly 7 -> 8
2019-09-24 12:06:47,796 TRACE segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:lambda$new$1(133)) - s0@group-04E6F89F5A1C-SegmentedRaftLogWorker: flushIndex: updateIncreasingly 7 -> 8
2019-09-24 12:06:47,796 DEBUG impl.RaftServerImpl (RaftServerImpl.java:logAppendEntries(850)) - s1@group-04E6F89F5A1C: succeeded to handle AppendEntries. Reply: s2<-s1#0:OK,SUCCESS,nextIndex:9,term:10,followerCommit:7
2019-09-24 12:06:47,796 TRACE segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:lambda$new$1(133)) - s2@group-04E6F89F5A1C-SegmentedRaftLogWorker: flushIndex: updateIncreasingly 7 -> 8
2019-09-24 12:06:47,797 DEBUG impl.RaftServerImpl (RaftServerImpl.java:logAppendEntries(850)) - s0@group-04E6F89F5A1C: succeeded to handle AppendEntries. Reply: s2<-s0#0:OK,SUCCESS,nextIndex:9,term:10,followerCommit:6
2019-09-24 12:06:47,797 DEBUG segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:addIOTask(251)) - s2@group-04E6F89F5A1C-SegmentedRaftLogWorker adds IO task WriteLog:9: (t:10, i:9), METADATAENTRY(c8)
2019-09-24 12:06:47,797 DEBUG segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:flushWrites(340)) - s2@group-04E6F89F5A1C-SegmentedRaftLogWorker: flush SegmentedRaftLogOutputStream(/workdir/ratis-test/target/test/data/aaa4fccd/MiniRaftClusterWithNetty55a7148e/s2/611a84d9-4fe5-4f71-a301-04e6f89f5a1c/current/log_inprogress_8)
2019-09-24 12:06:47,799 DEBUG impl.RaftServerImpl (RaftServerImpl.java:logAppendEntries(850)) - s0@group-04E6F89F5A1C: receive appendEntries(s2, 10, (t:10, i:8), 8, false, commits[s2:c8, s0:c6, s1:c7], entries: (t:10, i:9), METADATAENTRY(c8)
2019-09-24 12:06:47,799 DEBUG impl.RaftServerImpl (RaftServerImpl.java:logAppendEntries(850)) - s1@group-04E6F89F5A1C: receive appendEntries(s2, 10, (t:10, i:8), 8, false, commits[s2:c8, s0:c6, s1:c7], entries: (t:10, i:9), METADATAENTRY(c8)
2019-09-24 12:06:47,800 DEBUG segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:addIOTask(251)) - s0@group-04E6F89F5A1C-SegmentedRaftLogWorker adds IO task WriteLog:9: (t:10, i:9), METADATAENTRY(c8)
2019-09-24 12:06:47,800 DEBUG segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:addIOTask(251)) - s1@group-04E6F89F5A1C-SegmentedRaftLogWorker adds IO task WriteLog:9: (t:10, i:9), METADATAENTRY(c8)
2019-09-24 12:06:47,800 DEBUG segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:flushWrites(340)) - s0@group-04E6F89F5A1C-SegmentedRaftLogWorker: flush SegmentedRaftLogOutputStream(/workdir/ratis-test/target/test/data/aaa4fccd/MiniRaftClusterWithNetty55a7148e/s0/611a84d9-4fe5-4f71-a301-04e6f89f5a1c/current/log_inprogress_8)
2019-09-24 12:06:47,801 DEBUG segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:flushWrites(340)) - s1@group-04E6F89F5A1C-SegmentedRaftLogWorker: flush SegmentedRaftLogOutputStream(/workdir/ratis-test/target/test/data/aaa4fccd/MiniRaftClusterWithNetty55a7148e/s1/611a84d9-4fe5-4f71-a301-04e6f89f5a1c/current/log_inprogress_8)
2019-09-24 12:06:47,810 TRACE segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:lambda$new$1(133)) - s2@group-04E6F89F5A1C-SegmentedRaftLogWorker: flushIndex: updateIncreasingly 8 -> 9
2019-09-24 12:06:47,810 TRACE segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:lambda$new$1(133)) - s0@group-04E6F89F5A1C-SegmentedRaftLogWorker: flushIndex: updateIncreasingly 8 -> 9
2019-09-24 12:06:47,810 TRACE segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:lambda$new$1(133)) - s1@group-04E6F89F5A1C-SegmentedRaftLogWorker: flushIndex: updateIncreasingly 8 -> 9
2019-09-24 12:06:47,811 DEBUG impl.RaftServerImpl (RaftServerImpl.java:logAppendEntries(850)) - s0@group-04E6F89F5A1C: succeeded to handle AppendEntries. Reply: s2<-s0#0:OK,SUCCESS,nextIndex:10,term:10,followerCommit:8
2019-09-24 12:06:47,811 DEBUG impl.RaftServerImpl (RaftServerImpl.java:logAppendEntries(850)) - s1@group-04E6F89F5A1C: succeeded to handle AppendEntries. Reply: s2<-s1#0:OK,SUCCESS,nextIndex:10,term:10,followerCommit:8
2019-09-24 12:06:47,909 INFO  ratis.RaftTestUtil (RaftTestUtil.java:waitForLeader(101)) - printing ALL groups
  s0:  RUNNING  FOLLOWER s0@group-04E6F89F5A1C:t10, leader=s2, voted=s2, raftlog=s0@group-04E6F89F5A1C-SegmentedRaftLog:OPENED:c8,f9,i9, conf=8: [s0:0.0.0.0:34119, s1:0.0.0.0:44382, s2:0.0.0.0:42516], old=null RUNNING
  s1:  RUNNING  FOLLOWER s1@group-04E6F89F5A1C:t10, leader=s2, voted=s1, raftlog=s1@group-04E6F89F5A1C-SegmentedRaftLog:OPENED:c8,f9,i9, conf=8: [s0:0.0.0.0:34119, s1:0.0.0.0:44382, s2:0.0.0.0:42516], old=null RUNNING
  s2:  RUNNING    LEADER s2@group-04E6F89F5A1C:t10, leader=s2, voted=s2, raftlog=s2@group-04E6F89F5A1C-SegmentedRaftLog:OPENED:c9,f9,i9, conf=8: [s0:0.0.0.0:34119, s1:0.0.0.0:44382, s2:0.0.0.0:42516], old=null RUNNING
2019-09-24 12:06:47,909 INFO  ratis.RaftTestUtil (RaftTestUtil.java:lambda$changeLeader$7(367)) - Changed leader from s1 to s2
2019-09-24 12:06:47,909 INFO  util.CodeInjectionForTesting (BlockRequestHandlingInjection.java:unblockRequestor(53)) - UnBlock requestor s1
2019-09-24 12:06:47,913 INFO  util.CodeInjectionForTesting (BlockRequestHandlingInjection.java:blockRequestor(48)) - Block requestor s2
2019-09-24 12:06:47,913 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.rpc.timeout.max = 300ms (default)
2019-09-24 12:06:47,914 INFO  ratis.RaftTestUtil (RaftTestUtil.java:waitForLeader(86)) - printing ALL groups
  s0:  RUNNING  FOLLOWER s0@group-04E6F89F5A1C:t10, leader=s2, voted=s2, raftlog=s0@group-04E6F89F5A1C-SegmentedRaftLog:OPENED:c9,f9,i9, conf=8: [s0:0.0.0.0:34119, s1:0.0.0.0:44382, s2:0.0.0.0:42516], old=null RUNNING
  s1:  RUNNING  FOLLOWER s1@group-04E6F89F5A1C:t10, leader=s2, voted=s1, raftlog=s1@group-04E6F89F5A1C-SegmentedRaftLog:OPENED:c9,f9,i9, conf=8: [s0:0.0.0.0:34119, s1:0.0.0.0:44382, s2:0.0.0.0:42516], old=null RUNNING
  s2:  RUNNING    LEADER s2@group-04E6F89F5A1C:t10, leader=s2, voted=s2, raftlog=s2@group-04E6F89F5A1C-SegmentedRaftLog:OPENED:c9,f9,i9, conf=8: [s0:0.0.0.0:34119, s1:0.0.0.0:44382, s2:0.0.0.0:42516], old=null RUNNING
2019-09-24 12:06:47,914 INFO  ratis.RaftTestUtil (RaftTestUtil.java:waitForLeader(101)) - printing ALL groups
  s0:  RUNNING  FOLLOWER s0@group-04E6F89F5A1C:t10, leader=s2, voted=s2, raftlog=s0@group-04E6F89F5A1C-SegmentedRaftLog:OPENED:c9,f9,i9, conf=8: [s0:0.0.0.0:34119, s1:0.0.0.0:44382, s2:0.0.0.0:42516], old=null RUNNING
  s1:  RUNNING  FOLLOWER s1@group-04E6F89F5A1C:t10, leader=s2, voted=s1, raftlog=s1@group-04E6F89F5A1C-SegmentedRaftLog:OPENED:c9,f9,i9, conf=8: [s0:0.0.0.0:34119, s1:0.0.0.0:44382, s2:0.0.0.0:42516], old=null RUNNING
  s2:  RUNNING    LEADER s2@group-04E6F89F5A1C:t10, leader=s2, voted=s2, raftlog=s2@group-04E6F89F5A1C-SegmentedRaftLog:OPENED:c9,f9,i9, conf=8: [s0:0.0.0.0:34119, s1:0.0.0.0:44382, s2:0.0.0.0:42516], old=null RUNNING
2019-09-24 12:06:47,914 WARN  ratis.RaftTestUtil (JavaUtils.java:attempt(158)) - FAILED "testChangeLeader-changeLeader", attempt #1/20: java.lang.IllegalStateException: Failed to change leader: newLeader == oldLeader == s2, sleep 100ms and then retry.
java.lang.IllegalStateException: Failed to change leader: newLeader == oldLeader == s2
	at org.apache.ratis.RaftTestUtil.lambda$changeLeader$7(RaftTestUtil.java:365)
	at org.apache.ratis.util.JavaUtils.attempt(JavaUtils.java:152)
	at org.apache.ratis.RaftTestUtil.changeLeader(RaftTestUtil.java:362)
	at org.apache.ratis.server.impl.LeaderElectionTests.testChangeLeader(LeaderElectionTests.java:81)
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.lang.reflect.Method.invoke(Method.java:498)
	at org.junit.runners.model.FrameworkMethod$1.runReflectiveCall(FrameworkMethod.java:50)
	at org.junit.internal.runners.model.ReflectiveCallable.run(ReflectiveCallable.java:12)
	at org.junit.runners.model.FrameworkMethod.invokeExplosively(FrameworkMethod.java:47)
	at org.junit.internal.runners.statements.InvokeMethod.evaluate(InvokeMethod.java:17)
	at org.junit.internal.runners.statements.RunAfters.evaluate(RunAfters.java:27)
	at org.junit.internal.runners.statements.FailOnTimeout$CallableStatement.call(FailOnTimeout.java:298)
	at org.junit.internal.runners.statements.FailOnTimeout$CallableStatement.call(FailOnTimeout.java:292)
	at java.util.concurrent.FutureTask.run(FutureTask.java:266)
	at java.lang.Thread.run(Thread.java:748)
2019-09-24 12:06:47,923 INFO  util.CodeInjectionForTesting (BlockRequestHandlingInjection.java:execute(76)) - s1: Block request from s2
2019-09-24 12:06:47,940 WARN  impl.LogAppender (LogAppender.java:sendAppendEntriesWithRetries(274)) - s4@group-E7D5050F4609->s3-LogAppender: Failed to appendEntries (retry=131): org.apache.ratis.thirdparty.io.netty.channel.AbstractChannel$AnnotatedConnectException: Connection refused: /0.0.0.0:40479
2019-09-24 12:06:47,989 INFO  util.CodeInjectionForTesting (BlockRequestHandlingInjection.java:execute(76)) - s1: Block request from s2
2019-09-24 12:06:47,989 INFO  util.CodeInjectionForTesting (BlockRequestHandlingInjection.java:execute(76)) - s0: Block request from s2
2019-09-24 12:06:47,989 INFO  util.CodeInjectionForTesting (BlockRequestHandlingInjection.java:execute(76)) - s0: Block request from s2
2019-09-24 12:06:48,015 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.rpc.timeout.max = 300ms (default)
2019-09-24 12:06:48,016 INFO  ratis.RaftTestUtil (RaftTestUtil.java:waitForLeader(86)) - printing ALL groups
  s0:  RUNNING  FOLLOWER s0@group-04E6F89F5A1C:t10, leader=s2, voted=s2, raftlog=s0@group-04E6F89F5A1C-SegmentedRaftLog:OPENED:c9,f9,i9, conf=8: [s0:0.0.0.0:34119, s1:0.0.0.0:44382, s2:0.0.0.0:42516], old=null RUNNING
  s1:  RUNNING  FOLLOWER s1@group-04E6F89F5A1C:t10, leader=s2, voted=s1, raftlog=s1@group-04E6F89F5A1C-SegmentedRaftLog:OPENED:c9,f9,i9, conf=8: [s0:0.0.0.0:34119, s1:0.0.0.0:44382, s2:0.0.0.0:42516], old=null RUNNING
  s2:  RUNNING    LEADER s2@group-04E6F89F5A1C:t10, leader=s2, voted=s2, raftlog=s2@group-04E6F89F5A1C-SegmentedRaftLog:OPENED:c9,f9,i9, conf=8: [s0:0.0.0.0:34119, s1:0.0.0.0:44382, s2:0.0.0.0:42516], old=null RUNNING
2019-09-24 12:06:48,016 INFO  ratis.RaftTestUtil (RaftTestUtil.java:waitForLeader(101)) - printing ALL groups
  s0:  RUNNING  FOLLOWER s0@group-04E6F89F5A1C:t10, leader=s2, voted=s2, raftlog=s0@group-04E6F89F5A1C-SegmentedRaftLog:OPENED:c9,f9,i9, conf=8: [s0:0.0.0.0:34119, s1:0.0.0.0:44382, s2:0.0.0.0:42516], old=null RUNNING
  s1:  RUNNING  FOLLOWER s1@group-04E6F89F5A1C:t10, leader=s2, voted=s1, raftlog=s1@group-04E6F89F5A1C-SegmentedRaftLog:OPENED:c9,f9,i9, conf=8: [s0:0.0.0.0:34119, s1:0.0.0.0:44382, s2:0.0.0.0:42516], old=null RUNNING
  s2:  RUNNING    LEADER s2@group-04E6F89F5A1C:t10, leader=s2, voted=s2, raftlog=s2@group-04E6F89F5A1C-SegmentedRaftLog:OPENED:c9,f9,i9, conf=8: [s0:0.0.0.0:34119, s1:0.0.0.0:44382, s2:0.0.0.0:42516], old=null RUNNING
2019-09-24 12:06:48,016 WARN  ratis.RaftTestUtil (JavaUtils.java:attempt(158)) - FAILED "testChangeLeader-changeLeader", attempt #2/20: java.lang.IllegalStateException: Failed to change leader: newLeader == oldLeader == s2, sleep 100ms and then retry.
java.lang.IllegalStateException: Failed to change leader: newLeader == oldLeader == s2
	at org.apache.ratis.RaftTestUtil.lambda$changeLeader$7(RaftTestUtil.java:365)
	at org.apache.ratis.util.JavaUtils.attempt(JavaUtils.java:152)
	at org.apache.ratis.RaftTestUtil.changeLeader(RaftTestUtil.java:362)
	at org.apache.ratis.server.impl.LeaderElectionTests.testChangeLeader(LeaderElectionTests.java:81)
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.lang.reflect.Method.invoke(Method.java:498)
	at org.junit.runners.model.FrameworkMethod$1.runReflectiveCall(FrameworkMethod.java:50)
	at org.junit.internal.runners.model.ReflectiveCallable.run(ReflectiveCallable.java:12)
	at org.junit.runners.model.FrameworkMethod.invokeExplosively(FrameworkMethod.java:47)
	at org.junit.internal.runners.statements.InvokeMethod.evaluate(InvokeMethod.java:17)
	at org.junit.internal.runners.statements.RunAfters.evaluate(RunAfters.java:27)
	at org.junit.internal.runners.statements.FailOnTimeout$CallableStatement.call(FailOnTimeout.java:298)
	at org.junit.internal.runners.statements.FailOnTimeout$CallableStatement.call(FailOnTimeout.java:292)
	at java.util.concurrent.FutureTask.run(FutureTask.java:266)
	at java.lang.Thread.run(Thread.java:748)
2019-09-24 12:06:48,019 INFO  util.CodeInjectionForTesting (BlockRequestHandlingInjection.java:execute(82)) - s0: unBlock request from s1
2019-09-24 12:06:48,019 INFO  util.CodeInjectionForTesting (BlockRequestHandlingInjection.java:execute(82)) - s2: unBlock request from s1
2019-09-24 12:06:48,020 DEBUG impl.RaftServerImpl (RaftServerImpl.java:logAppendEntries(850)) - s0@group-04E6F89F5A1C: receive appendEntries(s1, 7, (t:7, i:7), 7, false, commits[s1:c7, s0:c6, s2:c6], entries: (t:7, i:8), METADATAENTRY(c7)
2019-09-24 12:06:48,020 DEBUG impl.RaftServerImpl (RaftServerImpl.java:logAppendEntries(850)) - s2@group-04E6F89F5A1C: receive appendEntries(s1, 7, (t:7, i:7), 7, false, commits[s1:c7, s0:c6, s2:c6], entries: (t:7, i:8), METADATAENTRY(c7)
2019-09-24 12:06:48,020 DEBUG impl.RaftServerImpl (RaftServerImpl.java:appendEntriesAsync(906)) - s0@group-04E6F89F5A1C: Not recognize s1 (term=7) as leader, state: s0@group-04E6F89F5A1C:t10, leader=s2, voted=s2, raftlog=s0@group-04E6F89F5A1C-SegmentedRaftLog:OPENED:c9,f9,i9, conf=8: [s0:0.0.0.0:34119, s1:0.0.0.0:44382, s2:0.0.0.0:42516], old=null reply: s1<-s0#0:FAIL,NOT_LEADER,nextIndex:10,term:10,followerCommit:9
2019-09-24 12:06:48,021 DEBUG impl.RaftServerImpl (RaftServerImpl.java:appendEntriesAsync(906)) - s2@group-04E6F89F5A1C: Not recognize s1 (term=7) as leader, state: s2@group-04E6F89F5A1C:t10, leader=s2, voted=s2, raftlog=s2@group-04E6F89F5A1C-SegmentedRaftLog:OPENED:c9,f9,i9, conf=8: [s0:0.0.0.0:34119, s1:0.0.0.0:44382, s2:0.0.0.0:42516], old=null reply: s1<-s2#0:FAIL,NOT_LEADER,nextIndex:10,term:10,followerCommit:9
2019-09-24 12:06:48,021 DEBUG impl.RaftServerImpl (RaftServerImpl.java:requestVote(743)) - s0@group-04E6F89F5A1C: receive requestVote(s1, group-04E6F89F5A1C, 9, (t:7, i:8))
2019-09-24 12:06:48,022 DEBUG impl.RaftServerImpl (RaftServerImpl.java:requestVote(743)) - s2@group-04E6F89F5A1C: receive requestVote(s1, group-04E6F89F5A1C, 9, (t:7, i:8))
2019-09-24 12:06:48,022 INFO  impl.RaftServerImpl (RaftServerImpl.java:requestVote(754)) - s2@group-04E6F89F5A1C-   LEADER: Withhold vote from candidate s1 with term 9. State: leader=s2, term=10, lastRpcElapsed=null
2019-09-24 12:06:48,022 DEBUG impl.RaftServerImpl (RaftServerImpl.java:requestVote(775)) - s2@group-04E6F89F5A1C replies to vote request: s1<-s2#0:FAIL-t10. Peer's state: s2@group-04E6F89F5A1C:t10, leader=s2, voted=s2, raftlog=s2@group-04E6F89F5A1C-SegmentedRaftLog:OPENED:c9,f9,i9, conf=8: [s0:0.0.0.0:34119, s1:0.0.0.0:44382, s2:0.0.0.0:42516], old=null
2019-09-24 12:06:48,023 INFO  impl.RaftServerImpl (RaftServerImpl.java:requestVote(754)) - s0@group-04E6F89F5A1C- FOLLOWER: Withhold vote from candidate s1 with term 9. State: leader=s2, term=10, lastRpcElapsed=109ms
2019-09-24 12:06:48,023 DEBUG impl.RaftServerImpl (RaftServerImpl.java:requestVote(743)) - s2@group-04E6F89F5A1C: receive requestVote(s1, group-04E6F89F5A1C, 10, (t:7, i:8))
2019-09-24 12:06:48,023 DEBUG impl.RaftServerImpl (RaftServerImpl.java:requestVote(775)) - s0@group-04E6F89F5A1C replies to vote request: s1<-s0#0:FAIL-t10. Peer's state: s0@group-04E6F89F5A1C:t10, leader=s2, voted=s2, raftlog=s0@group-04E6F89F5A1C-SegmentedRaftLog:OPENED:c9,f9,i9, conf=8: [s0:0.0.0.0:34119, s1:0.0.0.0:44382, s2:0.0.0.0:42516], old=null
2019-09-24 12:06:48,023 INFO  impl.RaftServerImpl (RaftServerImpl.java:requestVote(754)) - s2@group-04E6F89F5A1C-   LEADER: Withhold vote from candidate s1 with term 10. State: leader=s2, term=10, lastRpcElapsed=null
2019-09-24 12:06:48,024 DEBUG impl.RaftServerImpl (RaftServerImpl.java:requestVote(743)) - s0@group-04E6F89F5A1C: receive requestVote(s1, group-04E6F89F5A1C, 10, (t:7, i:8))
2019-09-24 12:06:48,024 DEBUG impl.RaftServerImpl (RaftServerImpl.java:requestVote(775)) - s2@group-04E6F89F5A1C replies to vote request: s1<-s2#0:FAIL-t10. Peer's state: s2@group-04E6F89F5A1C:t10, leader=s2, voted=s2, raftlog=s2@group-04E6F89F5A1C-SegmentedRaftLog:OPENED:c9,f9,i9, conf=8: [s0:0.0.0.0:34119, s1:0.0.0.0:44382, s2:0.0.0.0:42516], old=null
2019-09-24 12:06:48,024 INFO  impl.RaftServerImpl (RaftServerImpl.java:requestVote(754)) - s0@group-04E6F89F5A1C- FOLLOWER: Withhold vote from candidate s1 with term 10. State: leader=s2, term=10, lastRpcElapsed=111ms
2019-09-24 12:06:48,025 DEBUG impl.RaftServerImpl (RaftServerImpl.java:requestVote(775)) - s0@group-04E6F89F5A1C replies to vote request: s1<-s0#0:FAIL-t10. Peer's state: s0@group-04E6F89F5A1C:t10, leader=s2, voted=s2, raftlog=s0@group-04E6F89F5A1C-SegmentedRaftLog:OPENED:c9,f9,i9, conf=8: [s0:0.0.0.0:34119, s1:0.0.0.0:44382, s2:0.0.0.0:42516], old=null
2019-09-24 12:06:48,033 INFO  util.CodeInjectionForTesting (BlockRequestHandlingInjection.java:execute(82)) - s2: unBlock request from s1
2019-09-24 12:06:48,034 INFO  util.CodeInjectionForTesting (BlockRequestHandlingInjection.java:execute(82)) - s0: unBlock request from s1
2019-09-24 12:06:48,034 DEBUG impl.RaftServerImpl (RaftServerImpl.java:logAppendEntries(850)) - s2@group-9DDC70D1F0F3: receive appendEntries(s1, 5, (t:5, i:3), 3, false, commits[s1:c3, s0:c2, s2:c2], entries: (t:5, i:4), METADATAENTRY(c3)
2019-09-24 12:06:48,034 DEBUG impl.RaftServerImpl (RaftServerImpl.java:logAppendEntries(850)) - s0@group-9DDC70D1F0F3: receive appendEntries(s1, 5, (t:5, i:3), 3, false, commits[s1:c3, s0:c2, s2:c2], entries: (t:5, i:4), METADATAENTRY(c3)
2019-09-24 12:06:48,034 DEBUG impl.RaftServerImpl (RaftServerImpl.java:appendEntriesAsync(906)) - s2@group-9DDC70D1F0F3: Not recognize s1 (term=5) as leader, state: s2@group-9DDC70D1F0F3:t6, leader=s2, voted=s2, raftlog=s2@group-9DDC70D1F0F3-SegmentedRaftLog:OPENED:c5,f5,i5, conf=4: [s0:0.0.0.0:37243, s1:0.0.0.0:38994, s2:0.0.0.0:36346], old=null reply: s1<-s2#0:FAIL,NOT_LEADER,nextIndex:6,term:6,followerCommit:5
2019-09-24 12:06:48,035 DEBUG impl.RaftServerImpl (RaftServerImpl.java:appendEntriesAsync(906)) - s0@group-9DDC70D1F0F3: Not recognize s1 (term=5) as leader, state: s0@group-9DDC70D1F0F3:t6, leader=s2, voted=s2, raftlog=s0@group-9DDC70D1F0F3-SegmentedRaftLog:OPENED:c5,f5,i5, conf=4: [s0:0.0.0.0:37243, s1:0.0.0.0:38994, s2:0.0.0.0:36346], old=null reply: s1<-s0#0:FAIL,NOT_LEADER,nextIndex:6,term:6,followerCommit:5
2019-09-24 12:06:48,119 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.rpc.timeout.max = 300ms (default)
2019-09-24 12:06:48,120 INFO  ratis.RaftTestUtil (RaftTestUtil.java:waitForLeader(86)) - printing ALL groups
  s0:  RUNNING  FOLLOWER s0@group-04E6F89F5A1C:t10, leader=s2, voted=s2, raftlog=s0@group-04E6F89F5A1C-SegmentedRaftLog:OPENED:c9,f9,i9, conf=8: [s0:0.0.0.0:34119, s1:0.0.0.0:44382, s2:0.0.0.0:42516], old=null RUNNING
  s1:  RUNNING  FOLLOWER s1@group-04E6F89F5A1C:t10, leader=s2, voted=s1, raftlog=s1@group-04E6F89F5A1C-SegmentedRaftLog:OPENED:c9,f9,i9, conf=8: [s0:0.0.0.0:34119, s1:0.0.0.0:44382, s2:0.0.0.0:42516], old=null RUNNING
  s2:  RUNNING    LEADER s2@group-04E6F89F5A1C:t10, leader=s2, voted=s2, raftlog=s2@group-04E6F89F5A1C-SegmentedRaftLog:OPENED:c9,f9,i9, conf=8: [s0:0.0.0.0:34119, s1:0.0.0.0:44382, s2:0.0.0.0:42516], old=null RUNNING
2019-09-24 12:06:48,120 INFO  ratis.RaftTestUtil (RaftTestUtil.java:waitForLeader(101)) - printing ALL groups
  s0:  RUNNING  FOLLOWER s0@group-04E6F89F5A1C:t10, leader=s2, voted=s2, raftlog=s0@group-04E6F89F5A1C-SegmentedRaftLog:OPENED:c9,f9,i9, conf=8: [s0:0.0.0.0:34119, s1:0.0.0.0:44382, s2:0.0.0.0:42516], old=null RUNNING
  s1:  RUNNING  FOLLOWER s1@group-04E6F89F5A1C:t10, leader=s2, voted=s1, raftlog=s1@group-04E6F89F5A1C-SegmentedRaftLog:OPENED:c9,f9,i9, conf=8: [s0:0.0.0.0:34119, s1:0.0.0.0:44382, s2:0.0.0.0:42516], old=null RUNNING
  s2:  RUNNING    LEADER s2@group-04E6F89F5A1C:t10, leader=s2, voted=s2, raftlog=s2@group-04E6F89F5A1C-SegmentedRaftLog:OPENED:c9,f9,i9, conf=8: [s0:0.0.0.0:34119, s1:0.0.0.0:44382, s2:0.0.0.0:42516], old=null RUNNING
2019-09-24 12:06:48,121 WARN  ratis.RaftTestUtil (JavaUtils.java:attempt(158)) - FAILED "testChangeLeader-changeLeader", attempt #3/20: java.lang.IllegalStateException: Failed to change leader: newLeader == oldLeader == s2, sleep 100ms and then retry.
java.lang.IllegalStateException: Failed to change leader: newLeader == oldLeader == s2
	at org.apache.ratis.RaftTestUtil.lambda$changeLeader$7(RaftTestUtil.java:365)
	at org.apache.ratis.util.JavaUtils.attempt(JavaUtils.java:152)
	at org.apache.ratis.RaftTestUtil.changeLeader(RaftTestUtil.java:362)
	at org.apache.ratis.server.impl.LeaderElectionTests.testChangeLeader(LeaderElectionTests.java:81)
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.lang.reflect.Method.invoke(Method.java:498)
	at org.junit.runners.model.FrameworkMethod$1.runReflectiveCall(FrameworkMethod.java:50)
	at org.junit.internal.runners.model.ReflectiveCallable.run(ReflectiveCallable.java:12)
	at org.junit.runners.model.FrameworkMethod.invokeExplosively(FrameworkMethod.java:47)
	at org.junit.internal.runners.statements.InvokeMethod.evaluate(InvokeMethod.java:17)
	at org.junit.internal.runners.statements.RunAfters.evaluate(RunAfters.java:27)
	at org.junit.internal.runners.statements.FailOnTimeout$CallableStatement.call(FailOnTimeout.java:298)
	at org.junit.internal.runners.statements.FailOnTimeout$CallableStatement.call(FailOnTimeout.java:292)
	at java.util.concurrent.FutureTask.run(FutureTask.java:266)
	at java.lang.Thread.run(Thread.java:748)
2019-09-24 12:06:48,175 WARN  impl.LogAppender (LogAppender.java:sendAppendEntriesWithRetries(274)) - s4@group-E7D5050F4609->s3-LogAppender: Failed to appendEntries (retry=141): org.apache.ratis.thirdparty.io.netty.channel.AbstractChannel$AnnotatedConnectException: Connection refused: /0.0.0.0:40479
2019-09-24 12:06:48,198 INFO  impl.FollowerState (FollowerState.java:run(108)) - s0@group-9DDC70D1F0F3-FollowerState: change to CANDIDATE, lastRpcTime:284ms, electionTimeout:276ms
2019-09-24 12:06:48,198 INFO  impl.RoleInfo (RoleInfo.java:shutdownFollowerState(121)) - s0: shutdown FollowerState
2019-09-24 12:06:48,198 INFO  impl.RaftServerImpl (RaftServerImpl.java:setRole(170)) - s0@group-9DDC70D1F0F3: changes role from  FOLLOWER to CANDIDATE at term 6 for changeToCandidate
2019-09-24 12:06:48,198 INFO  impl.RoleInfo (RoleInfo.java:updateAndGet(143)) - s0: start LeaderElection
2019-09-24 12:06:48,199 INFO  impl.RaftServerImpl (ServerState.java:setLeader(254)) - s0@group-9DDC70D1F0F3: change Leader from s2 to null at term 6 for initElection
2019-09-24 12:06:48,213 INFO  impl.LeaderElection (LeaderElection.java:askForVotes(178)) - s0@group-9DDC70D1F0F3-LeaderElection35: begin an election at term 7 for 4: [s0:0.0.0.0:37243, s1:0.0.0.0:38994, s2:0.0.0.0:36346], old=null
2019-09-24 12:06:48,214 DEBUG impl.RaftServerImpl (RaftServerImpl.java:requestVote(743)) - s1@group-9DDC70D1F0F3: receive requestVote(s0, group-9DDC70D1F0F3, 7, (t:6, i:5))
2019-09-24 12:06:48,214 DEBUG impl.RaftServerImpl (RaftServerImpl.java:requestVote(743)) - s2@group-9DDC70D1F0F3: receive requestVote(s0, group-9DDC70D1F0F3, 7, (t:6, i:5))
2019-09-24 12:06:48,214 INFO  impl.RaftServerImpl (ServerState.java:setLeader(254)) - s1@group-9DDC70D1F0F3: change Leader from s2 to null at term 7 for updateCurrentTerm
2019-09-24 12:06:48,215 INFO  impl.RaftServerImpl (ServerState.java:setLeader(254)) - s2@group-9DDC70D1F0F3: change Leader from s2 to null at term 7 for updateCurrentTerm
2019-09-24 12:06:48,215 INFO  impl.RaftServerImpl (RaftServerImpl.java:setRole(170)) - s1@group-9DDC70D1F0F3: changes role from  FOLLOWER to FOLLOWER at term 7 for recognizeCandidate:s0
2019-09-24 12:06:48,215 INFO  impl.RaftServerImpl (RaftServerImpl.java:setRole(170)) - s2@group-9DDC70D1F0F3: changes role from    LEADER to FOLLOWER at term 7 for recognizeCandidate:s0
2019-09-24 12:06:48,215 INFO  impl.RoleInfo (RoleInfo.java:shutdownFollowerState(121)) - s1: shutdown FollowerState
2019-09-24 12:06:48,216 INFO  impl.RoleInfo (RoleInfo.java:shutdownLeaderState(104)) - s2: shutdown LeaderState
2019-09-24 12:06:48,216 INFO  impl.FollowerState (FollowerState.java:run(117)) - s1@group-9DDC70D1F0F3-FollowerState was interrupted: java.lang.InterruptedException: sleep interrupted
2019-09-24 12:06:48,216 INFO  impl.RoleInfo (RoleInfo.java:updateAndGet(143)) - s1: start FollowerState
2019-09-24 12:06:48,218 INFO  impl.LogAppender (LogAppender.java:run(78)) - s2@group-9DDC70D1F0F3->s0-LogAppender-AppenderDaemon was interrupted: java.io.InterruptedIOException: s2->s0#0 sending from s0:0.0.0.0:37243 is interrupted.
2019-09-24 12:06:48,218 INFO  impl.PendingRequests (PendingRequests.java:sendNotLeaderResponses(202)) - s2@group-9DDC70D1F0F3-PendingRequests: sendNotLeaderResponses
2019-09-24 12:06:48,218 INFO  impl.LogAppender (LogAppender.java:run(78)) - s2@group-9DDC70D1F0F3->s1-LogAppender-AppenderDaemon was interrupted: java.io.InterruptedIOException: s2->s1#0 sending from s1:0.0.0.0:38994 is interrupted.
2019-09-24 12:06:48,220 INFO  impl.RoleInfo (RoleInfo.java:updateAndGet(143)) - s2: start FollowerState
2019-09-24 12:06:48,221 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.rpc.timeout.max = 300ms (default)
2019-09-24 12:06:48,222 INFO  ratis.RaftTestUtil (RaftTestUtil.java:waitForLeader(86)) - printing ALL groups
  s0:  RUNNING  FOLLOWER s0@group-04E6F89F5A1C:t10, leader=s2, voted=s2, raftlog=s0@group-04E6F89F5A1C-SegmentedRaftLog:OPENED:c9,f9,i9, conf=8: [s0:0.0.0.0:34119, s1:0.0.0.0:44382, s2:0.0.0.0:42516], old=null RUNNING
  s1:  RUNNING  FOLLOWER s1@group-04E6F89F5A1C:t10, leader=s2, voted=s1, raftlog=s1@group-04E6F89F5A1C-SegmentedRaftLog:OPENED:c9,f9,i9, conf=8: [s0:0.0.0.0:34119, s1:0.0.0.0:44382, s2:0.0.0.0:42516], old=null RUNNING
  s2:  RUNNING    LEADER s2@group-04E6F89F5A1C:t10, leader=s2, voted=s2, raftlog=s2@group-04E6F89F5A1C-SegmentedRaftLog:OPENED:c9,f9,i9, conf=8: [s0:0.0.0.0:34119, s1:0.0.0.0:44382, s2:0.0.0.0:42516], old=null RUNNING
2019-09-24 12:06:48,222 INFO  ratis.RaftTestUtil (RaftTestUtil.java:waitForLeader(101)) - printing ALL groups
  s0:  RUNNING  FOLLOWER s0@group-04E6F89F5A1C:t10, leader=s2, voted=s2, raftlog=s0@group-04E6F89F5A1C-SegmentedRaftLog:OPENED:c9,f9,i9, conf=8: [s0:0.0.0.0:34119, s1:0.0.0.0:44382, s2:0.0.0.0:42516], old=null RUNNING
  s1:  RUNNING  FOLLOWER s1@group-04E6F89F5A1C:t10, leader=s2, voted=s1, raftlog=s1@group-04E6F89F5A1C-SegmentedRaftLog:OPENED:c9,f9,i9, conf=8: [s0:0.0.0.0:34119, s1:0.0.0.0:44382, s2:0.0.0.0:42516], old=null RUNNING
  s2:  RUNNING    LEADER s2@group-04E6F89F5A1C:t10, leader=s2, voted=s2, raftlog=s2@group-04E6F89F5A1C-SegmentedRaftLog:OPENED:c9,f9,i9, conf=8: [s0:0.0.0.0:34119, s1:0.0.0.0:44382, s2:0.0.0.0:42516], old=null RUNNING
2019-09-24 12:06:48,222 WARN  ratis.RaftTestUtil (JavaUtils.java:attempt(158)) - FAILED "testChangeLeader-changeLeader", attempt #4/20: java.lang.IllegalStateException: Failed to change leader: newLeader == oldLeader == s2, sleep 100ms and then retry.
java.lang.IllegalStateException: Failed to change leader: newLeader == oldLeader == s2
	at org.apache.ratis.RaftTestUtil.lambda$changeLeader$7(RaftTestUtil.java:365)
	at org.apache.ratis.util.JavaUtils.attempt(JavaUtils.java:152)
	at org.apache.ratis.RaftTestUtil.changeLeader(RaftTestUtil.java:362)
	at org.apache.ratis.server.impl.LeaderElectionTests.testChangeLeader(LeaderElectionTests.java:81)
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.lang.reflect.Method.invoke(Method.java:498)
	at org.junit.runners.model.FrameworkMethod$1.runReflectiveCall(FrameworkMethod.java:50)
	at org.junit.internal.runners.model.ReflectiveCallable.run(ReflectiveCallable.java:12)
	at org.junit.runners.model.FrameworkMethod.invokeExplosively(FrameworkMethod.java:47)
	at org.junit.internal.runners.statements.InvokeMethod.evaluate(InvokeMethod.java:17)
	at org.junit.internal.runners.statements.RunAfters.evaluate(RunAfters.java:27)
	at org.junit.internal.runners.statements.FailOnTimeout$CallableStatement.call(FailOnTimeout.java:298)
	at org.junit.internal.runners.statements.FailOnTimeout$CallableStatement.call(FailOnTimeout.java:292)
	at java.util.concurrent.FutureTask.run(FutureTask.java:266)
	at java.lang.Thread.run(Thread.java:748)
2019-09-24 12:06:48,234 DEBUG impl.RaftServerImpl (RaftServerImpl.java:requestVote(775)) - s2@group-9DDC70D1F0F3 replies to vote request: s0<-s2#0:FAIL-t7. Peer's state: s2@group-9DDC70D1F0F3:t7, leader=null, voted=null, raftlog=s2@group-9DDC70D1F0F3-SegmentedRaftLog:OPENED:c5,f5,i5, conf=4: [s0:0.0.0.0:37243, s1:0.0.0.0:38994, s2:0.0.0.0:36346], old=null
2019-09-24 12:06:48,234 DEBUG impl.RaftServerImpl (RaftServerImpl.java:requestVote(775)) - s1@group-9DDC70D1F0F3 replies to vote request: s0<-s1#0:OK-t7. Peer's state: s1@group-9DDC70D1F0F3:t7, leader=null, voted=s0, raftlog=s1@group-9DDC70D1F0F3-SegmentedRaftLog:OPENED:c5,f5,i5, conf=4: [s0:0.0.0.0:37243, s1:0.0.0.0:38994, s2:0.0.0.0:36346], old=null
2019-09-24 12:06:48,235 INFO  impl.LeaderElection (LeaderElection.java:logAndReturn(56)) - s0@group-9DDC70D1F0F3-LeaderElection35: Election PASSED; received 2 response(s) [s0<-s1#0:OK-t7, s0<-s2#0:FAIL-t7] and 0 exception(s); s0@group-9DDC70D1F0F3:t7, leader=null, voted=s0, raftlog=s0@group-9DDC70D1F0F3-SegmentedRaftLog:OPENED:c5,f5,i5, conf=4: [s0:0.0.0.0:37243, s1:0.0.0.0:38994, s2:0.0.0.0:36346], old=null
2019-09-24 12:06:48,235 INFO  impl.RoleInfo (RoleInfo.java:shutdownLeaderElection(134)) - s0: shutdown LeaderElection
2019-09-24 12:06:48,235 INFO  impl.RaftServerImpl (RaftServerImpl.java:setRole(170)) - s0@group-9DDC70D1F0F3: changes role from CANDIDATE to LEADER at term 7 for changeToLeader
2019-09-24 12:06:48,235 INFO  impl.RaftServerImpl (ServerState.java:setLeader(254)) - s0@group-9DDC70D1F0F3: change Leader from null to s0 at term 7 for becomeLeader, leader elected after 36ms
2019-09-24 12:06:48,236 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.staging.catchup.gap = 1000 (default)
2019-09-24 12:06:48,236 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.rpc.sleep.time = 25ms (default)
2019-09-24 12:06:48,236 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.write.element-limit = 4096 (default)
2019-09-24 12:06:48,236 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.watch.timeout = 10s (default)
2019-09-24 12:06:48,236 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.watch.timeout.denomination = 1s (default)
2019-09-24 12:06:48,237 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.watch.element-limit = 65536 (default)
2019-09-24 12:06:48,237 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.log.appender.snapshot.chunk.size.max = 16MB (=16777216) (default)
2019-09-24 12:06:48,237 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.log.appender.buffer.byte-limit = 4MB (=4194304) (default)
2019-09-24 12:06:48,237 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.log.appender.buffer.element-limit = 0 (default)
2019-09-24 12:06:48,238 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.log.appender.snapshot.chunk.size.max = 16MB (=16777216) (default)
2019-09-24 12:06:48,238 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.log.appender.buffer.byte-limit = 4MB (=4194304) (default)
2019-09-24 12:06:48,238 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.log.appender.buffer.element-limit = 0 (default)
2019-09-24 12:06:48,238 INFO  impl.RoleInfo (RoleInfo.java:updateAndGet(143)) - s0: start LeaderState
2019-09-24 12:06:48,239 INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:rollLogSegment(385)) - s0@group-9DDC70D1F0F3-SegmentedRaftLogWorker: Rolling segment log-4_5 to index:5
2019-09-24 12:06:48,239 DEBUG segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:addIOTask(251)) - s0@group-9DDC70D1F0F3-SegmentedRaftLogWorker adds IO task FinalizeLogSegment:5: startIndex=4 endIndex=5
2019-09-24 12:06:48,239 DEBUG segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:addIOTask(251)) - s0@group-9DDC70D1F0F3-SegmentedRaftLogWorker adds IO task StartLogSegment:6
2019-09-24 12:06:48,240 DEBUG segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:addIOTask(251)) - s0@group-9DDC70D1F0F3-SegmentedRaftLogWorker adds IO task WriteLog:6: (t:7, i:6), CONFIGURATIONENTRY
2019-09-24 12:06:48,240 INFO  impl.RaftServerImpl (ServerState.java:setRaftConf(355)) - s0@group-9DDC70D1F0F3: set configuration 6: [s0:0.0.0.0:37243, s1:0.0.0.0:38994, s2:0.0.0.0:36346], old=null at 6
2019-09-24 12:06:48,241 INFO  impl.RaftServerImpl (ServerState.java:setLeader(254)) - s1@group-9DDC70D1F0F3: change Leader from null to s0 at term 7 for appendEntries, leader elected after 26ms
2019-09-24 12:06:48,241 INFO  impl.FollowerState (FollowerState.java:run(108)) - s1@group-04E6F89F5A1C-FollowerState: change to CANDIDATE, lastRpcTime:328ms, electionTimeout:183ms
2019-09-24 12:06:48,241 INFO  impl.RaftServerImpl (ServerState.java:setLeader(254)) - s2@group-9DDC70D1F0F3: change Leader from null to s0 at term 7 for appendEntries, leader elected after 26ms
2019-09-24 12:06:48,241 INFO  impl.RoleInfo (RoleInfo.java:shutdownFollowerState(121)) - s1: shutdown FollowerState
2019-09-24 12:06:48,242 INFO  impl.RaftServerImpl (RaftServerImpl.java:setRole(170)) - s1@group-04E6F89F5A1C: changes role from  FOLLOWER to CANDIDATE at term 10 for changeToCandidate
2019-09-24 12:06:48,242 TRACE util.FileUtils (LogUtils.java:runAndLog(61)) - Successfully ran Files.move /workdir/ratis-test/target/test/data/aaa4fccd/MiniRaftClusterWithNetty53617c77/s0/8282875c-54dc-4ebb-a985-9ddc70d1f0f3/current/log_inprogress_4 to /workdir/ratis-test/target/test/data/aaa4fccd/MiniRaftClusterWithNetty53617c77/s0/8282875c-54dc-4ebb-a985-9ddc70d1f0f3/current/log_4-5
2019-09-24 12:06:48,242 INFO  impl.RoleInfo (RoleInfo.java:updateAndGet(143)) - s1: start LeaderElection
2019-09-24 12:06:48,242 INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:execute(526)) - s0@group-9DDC70D1F0F3-SegmentedRaftLogWorker: Rolled log segment from /workdir/ratis-test/target/test/data/aaa4fccd/MiniRaftClusterWithNetty53617c77/s0/8282875c-54dc-4ebb-a985-9ddc70d1f0f3/current/log_inprogress_4 to /workdir/ratis-test/target/test/data/aaa4fccd/MiniRaftClusterWithNetty53617c77/s0/8282875c-54dc-4ebb-a985-9ddc70d1f0f3/current/log_4-5
2019-09-24 12:06:48,242 TRACE segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:lambda$new$1(133)) - s0@group-9DDC70D1F0F3-SegmentedRaftLogWorker: flushIndex: updateIncreasingly 5 -> 5
2019-09-24 12:06:48,242 INFO  impl.RaftServerImpl (ServerState.java:setLeader(254)) - s1@group-04E6F89F5A1C: change Leader from s2 to null at term 10 for initElection
2019-09-24 12:06:48,242 DEBUG impl.RaftServerImpl (RaftServerImpl.java:logAppendEntries(850)) - s1@group-9DDC70D1F0F3: receive appendEntries(s0, 7, (t:6, i:5), 5, false, commits[s0:c5, s1:c5, s2:c5], entries: (t:7, i:6), CONFIGURATIONENTRY
2019-09-24 12:06:48,243 DEBUG impl.RaftServerImpl (RaftServerImpl.java:logAppendEntries(850)) - s2@group-9DDC70D1F0F3: receive appendEntries(s0, 7, (t:6, i:5), 5, false, commits[s0:c5, s1:c5, s2:c5], entries: (t:7, i:6), CONFIGURATIONENTRY
2019-09-24 12:06:48,243 INFO  impl.RaftServerImpl (ServerState.java:setRaftConf(355)) - s1@group-9DDC70D1F0F3: set configuration 6: [s0:0.0.0.0:37243, s1:0.0.0.0:38994, s2:0.0.0.0:36346], old=null at 6
2019-09-24 12:06:48,243 INFO  impl.RaftServerImpl (ServerState.java:setRaftConf(355)) - s2@group-9DDC70D1F0F3: set configuration 6: [s0:0.0.0.0:37243, s1:0.0.0.0:38994, s2:0.0.0.0:36346], old=null at 6
2019-09-24 12:06:48,244 INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:rollLogSegment(385)) - s1@group-9DDC70D1F0F3-SegmentedRaftLogWorker: Rolling segment log-4_5 to index:5
2019-09-24 12:06:48,244 INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:rollLogSegment(385)) - s2@group-9DDC70D1F0F3-SegmentedRaftLogWorker: Rolling segment log-4_5 to index:5
2019-09-24 12:06:48,244 DEBUG segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:addIOTask(251)) - s1@group-9DDC70D1F0F3-SegmentedRaftLogWorker adds IO task FinalizeLogSegment:5: startIndex=4 endIndex=5
2019-09-24 12:06:48,244 DEBUG segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:addIOTask(251)) - s2@group-9DDC70D1F0F3-SegmentedRaftLogWorker adds IO task FinalizeLogSegment:5: startIndex=4 endIndex=5
2019-09-24 12:06:48,245 DEBUG segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:addIOTask(251)) - s1@group-9DDC70D1F0F3-SegmentedRaftLogWorker adds IO task StartLogSegment:6
2019-09-24 12:06:48,245 DEBUG segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:addIOTask(251)) - s2@group-9DDC70D1F0F3-SegmentedRaftLogWorker adds IO task StartLogSegment:6
2019-09-24 12:06:48,245 DEBUG segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:addIOTask(251)) - s1@group-9DDC70D1F0F3-SegmentedRaftLogWorker adds IO task WriteLog:6: (t:7, i:6), CONFIGURATIONENTRY
2019-09-24 12:06:48,246 DEBUG segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:addIOTask(251)) - s2@group-9DDC70D1F0F3-SegmentedRaftLogWorker adds IO task WriteLog:6: (t:7, i:6), CONFIGURATIONENTRY
2019-09-24 12:06:48,247 TRACE util.FileUtils (LogUtils.java:runAndLog(61)) - Successfully ran Files.move /workdir/ratis-test/target/test/data/aaa4fccd/MiniRaftClusterWithNetty53617c77/s1/8282875c-54dc-4ebb-a985-9ddc70d1f0f3/current/log_inprogress_4 to /workdir/ratis-test/target/test/data/aaa4fccd/MiniRaftClusterWithNetty53617c77/s1/8282875c-54dc-4ebb-a985-9ddc70d1f0f3/current/log_4-5
2019-09-24 12:06:48,247 TRACE util.FileUtils (LogUtils.java:runAndLog(61)) - Successfully ran Files.move /workdir/ratis-test/target/test/data/aaa4fccd/MiniRaftClusterWithNetty53617c77/s2/8282875c-54dc-4ebb-a985-9ddc70d1f0f3/current/log_inprogress_4 to /workdir/ratis-test/target/test/data/aaa4fccd/MiniRaftClusterWithNetty53617c77/s2/8282875c-54dc-4ebb-a985-9ddc70d1f0f3/current/log_4-5
2019-09-24 12:06:48,247 INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:execute(526)) - s1@group-9DDC70D1F0F3-SegmentedRaftLogWorker: Rolled log segment from /workdir/ratis-test/target/test/data/aaa4fccd/MiniRaftClusterWithNetty53617c77/s1/8282875c-54dc-4ebb-a985-9ddc70d1f0f3/current/log_inprogress_4 to /workdir/ratis-test/target/test/data/aaa4fccd/MiniRaftClusterWithNetty53617c77/s1/8282875c-54dc-4ebb-a985-9ddc70d1f0f3/current/log_4-5
2019-09-24 12:06:48,247 INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:execute(526)) - s2@group-9DDC70D1F0F3-SegmentedRaftLogWorker: Rolled log segment from /workdir/ratis-test/target/test/data/aaa4fccd/MiniRaftClusterWithNetty53617c77/s2/8282875c-54dc-4ebb-a985-9ddc70d1f0f3/current/log_inprogress_4 to /workdir/ratis-test/target/test/data/aaa4fccd/MiniRaftClusterWithNetty53617c77/s2/8282875c-54dc-4ebb-a985-9ddc70d1f0f3/current/log_4-5
2019-09-24 12:06:48,248 TRACE segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:lambda$new$1(133)) - s1@group-9DDC70D1F0F3-SegmentedRaftLogWorker: flushIndex: updateIncreasingly 5 -> 5
2019-09-24 12:06:48,248 TRACE segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:lambda$new$1(133)) - s2@group-9DDC70D1F0F3-SegmentedRaftLogWorker: flushIndex: updateIncreasingly 5 -> 5
2019-09-24 12:06:48,249 INFO  impl.FollowerState (FollowerState.java:run(108)) - s0@group-04E6F89F5A1C-FollowerState: change to CANDIDATE, lastRpcTime:335ms, electionTimeout:230ms
2019-09-24 12:06:48,249 INFO  impl.RoleInfo (RoleInfo.java:shutdownFollowerState(121)) - s0: shutdown FollowerState
2019-09-24 12:06:48,249 INFO  impl.RaftServerImpl (RaftServerImpl.java:setRole(170)) - s0@group-04E6F89F5A1C: changes role from  FOLLOWER to CANDIDATE at term 10 for changeToCandidate
2019-09-24 12:06:48,249 INFO  impl.RoleInfo (RoleInfo.java:updateAndGet(143)) - s0: start LeaderElection
2019-09-24 12:06:48,250 INFO  impl.RaftServerImpl (ServerState.java:setLeader(254)) - s0@group-04E6F89F5A1C: change Leader from s2 to null at term 10 for initElection
2019-09-24 12:06:48,323 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.rpc.timeout.max = 300ms (default)
2019-09-24 12:06:48,323 INFO  ratis.RaftTestUtil (RaftTestUtil.java:waitForLeader(86)) - printing ALL groups
  s0:  RUNNING CANDIDATE s0@group-04E6F89F5A1C:t11, leader=null, voted=s0, raftlog=s0@group-04E6F89F5A1C-SegmentedRaftLog:OPENED:c9,f9,i9, conf=8: [s0:0.0.0.0:34119, s1:0.0.0.0:44382, s2:0.0.0.0:42516], old=null RUNNING
  s1:  RUNNING CANDIDATE s1@group-04E6F89F5A1C:t11, leader=null, voted=s1, raftlog=s1@group-04E6F89F5A1C-SegmentedRaftLog:OPENED:c9,f9,i9, conf=8: [s0:0.0.0.0:34119, s1:0.0.0.0:44382, s2:0.0.0.0:42516], old=null RUNNING
  s2:  RUNNING    LEADER s2@group-04E6F89F5A1C:t10, leader=s2, voted=s2, raftlog=s2@group-04E6F89F5A1C-SegmentedRaftLog:OPENED:c9,f9,i9, conf=8: [s0:0.0.0.0:34119, s1:0.0.0.0:44382, s2:0.0.0.0:42516], old=null RUNNING
2019-09-24 12:06:48,324 INFO  ratis.RaftTestUtil (RaftTestUtil.java:waitForLeader(101)) - printing ALL groups
  s0:  RUNNING CANDIDATE s0@group-04E6F89F5A1C:t11, leader=null, voted=s0, raftlog=s0@group-04E6F89F5A1C-SegmentedRaftLog:OPENED:c9,f9,i9, conf=8: [s0:0.0.0.0:34119, s1:0.0.0.0:44382, s2:0.0.0.0:42516], old=null RUNNING
  s1:  RUNNING CANDIDATE s1@group-04E6F89F5A1C:t11, leader=null, voted=s1, raftlog=s1@group-04E6F89F5A1C-SegmentedRaftLog:OPENED:c9,f9,i9, conf=8: [s0:0.0.0.0:34119, s1:0.0.0.0:44382, s2:0.0.0.0:42516], old=null RUNNING
  s2:  RUNNING    LEADER s2@group-04E6F89F5A1C:t10, leader=s2, voted=s2, raftlog=s2@group-04E6F89F5A1C-SegmentedRaftLog:OPENED:c9,f9,i9, conf=8: [s0:0.0.0.0:34119, s1:0.0.0.0:44382, s2:0.0.0.0:42516], old=null RUNNING
2019-09-24 12:06:48,324 WARN  ratis.RaftTestUtil (JavaUtils.java:attempt(158)) - FAILED "testChangeLeader-changeLeader", attempt #5/20: java.lang.IllegalStateException: Failed to change leader: newLeader == oldLeader == s2, sleep 100ms and then retry.
java.lang.IllegalStateException: Failed to change leader: newLeader == oldLeader == s2
	at org.apache.ratis.RaftTestUtil.lambda$changeLeader$7(RaftTestUtil.java:365)
	at org.apache.ratis.util.JavaUtils.attempt(JavaUtils.java:152)
	at org.apache.ratis.RaftTestUtil.changeLeader(RaftTestUtil.java:362)
	at org.apache.ratis.server.impl.LeaderElectionTests.testChangeLeader(LeaderElectionTests.java:81)
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.lang.reflect.Method.invoke(Method.java:498)
	at org.junit.runners.model.FrameworkMethod$1.runReflectiveCall(FrameworkMethod.java:50)
	at org.junit.internal.runners.model.ReflectiveCallable.run(ReflectiveCallable.java:12)
	at org.junit.runners.model.FrameworkMethod.invokeExplosively(FrameworkMethod.java:47)
	at org.junit.internal.runners.statements.InvokeMethod.evaluate(InvokeMethod.java:17)
	at org.junit.internal.runners.statements.RunAfters.evaluate(RunAfters.java:27)
	at org.junit.internal.runners.statements.FailOnTimeout$CallableStatement.call(FailOnTimeout.java:298)
	at org.junit.internal.runners.statements.FailOnTimeout$CallableStatement.call(FailOnTimeout.java:292)
	at java.util.concurrent.FutureTask.run(FutureTask.java:266)
	at java.lang.Thread.run(Thread.java:748)
2019-09-24 12:06:48,327 INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:execute(569)) - s0@group-9DDC70D1F0F3-SegmentedRaftLogWorker: created new log segment /workdir/ratis-test/target/test/data/aaa4fccd/MiniRaftClusterWithNetty53617c77/s0/8282875c-54dc-4ebb-a985-9ddc70d1f0f3/current/log_inprogress_6
2019-09-24 12:06:48,327 INFO  impl.LeaderElection (LeaderElection.java:askForVotes(178)) - s1@group-04E6F89F5A1C-LeaderElection36: begin an election at term 11 for 8: [s0:0.0.0.0:34119, s1:0.0.0.0:44382, s2:0.0.0.0:42516], old=null
2019-09-24 12:06:48,327 INFO  impl.LeaderElection (LeaderElection.java:askForVotes(178)) - s0@group-04E6F89F5A1C-LeaderElection37: begin an election at term 11 for 8: [s0:0.0.0.0:34119, s1:0.0.0.0:44382, s2:0.0.0.0:42516], old=null
2019-09-24 12:06:48,327 DEBUG segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:flushWrites(340)) - s0@group-9DDC70D1F0F3-SegmentedRaftLogWorker: flush SegmentedRaftLogOutputStream(/workdir/ratis-test/target/test/data/aaa4fccd/MiniRaftClusterWithNetty53617c77/s0/8282875c-54dc-4ebb-a985-9ddc70d1f0f3/current/log_inprogress_6)
2019-09-24 12:06:48,328 DEBUG impl.RaftServerImpl (RaftServerImpl.java:requestVote(743)) - s0@group-04E6F89F5A1C: receive requestVote(s1, group-04E6F89F5A1C, 11, (t:10, i:9))
2019-09-24 12:06:48,329 DEBUG impl.RaftServerImpl (RaftServerImpl.java:requestVote(743)) - s1@group-04E6F89F5A1C: receive requestVote(s0, group-04E6F89F5A1C, 11, (t:10, i:9))
2019-09-24 12:06:48,329 DEBUG impl.RaftServerImpl (RaftServerImpl.java:requestVote(775)) - s0@group-04E6F89F5A1C replies to vote request: s1<-s0#0:FAIL-t11. Peer's state: s0@group-04E6F89F5A1C:t11, leader=null, voted=s0, raftlog=s0@group-04E6F89F5A1C-SegmentedRaftLog:OPENED:c9,f9,i9, conf=8: [s0:0.0.0.0:34119, s1:0.0.0.0:44382, s2:0.0.0.0:42516], old=null
2019-09-24 12:06:48,329 DEBUG impl.RaftServerImpl (RaftServerImpl.java:requestVote(743)) - s2@group-04E6F89F5A1C: receive requestVote(s0, group-04E6F89F5A1C, 11, (t:10, i:9))
2019-09-24 12:06:48,330 INFO  impl.RaftServerImpl (ServerState.java:setLeader(254)) - s2@group-04E6F89F5A1C: change Leader from s2 to null at term 11 for updateCurrentTerm
2019-09-24 12:06:48,329 DEBUG impl.RaftServerImpl (RaftServerImpl.java:requestVote(743)) - s2@group-04E6F89F5A1C: receive requestVote(s1, group-04E6F89F5A1C, 11, (t:10, i:9))
2019-09-24 12:06:48,330 INFO  impl.RaftServerImpl (RaftServerImpl.java:setRole(170)) - s2@group-04E6F89F5A1C: changes role from    LEADER to FOLLOWER at term 11 for recognizeCandidate:s0
2019-09-24 12:06:48,329 DEBUG impl.RaftServerImpl (RaftServerImpl.java:requestVote(775)) - s1@group-04E6F89F5A1C replies to vote request: s0<-s1#0:FAIL-t11. Peer's state: s1@group-04E6F89F5A1C:t11, leader=null, voted=s1, raftlog=s1@group-04E6F89F5A1C-SegmentedRaftLog:OPENED:c9,f9,i9, conf=8: [s0:0.0.0.0:34119, s1:0.0.0.0:44382, s2:0.0.0.0:42516], old=null
2019-09-24 12:06:48,331 INFO  impl.RoleInfo (RoleInfo.java:shutdownLeaderState(104)) - s2: shutdown LeaderState
2019-09-24 12:06:48,333 INFO  impl.LogAppender (LogAppender.java:run(78)) - s2@group-04E6F89F5A1C->s0-LogAppender-AppenderDaemon was interrupted: java.io.InterruptedIOException: s2->s0#0 sending from s0:0.0.0.0:34119 is interrupted.
2019-09-24 12:06:48,333 INFO  impl.LogAppender (LogAppender.java:run(78)) - s2@group-04E6F89F5A1C->s1-LogAppender-AppenderDaemon was interrupted: java.io.InterruptedIOException: s2->s1#0 sending from s1:0.0.0.0:44382 is interrupted.
2019-09-24 12:06:48,333 INFO  impl.PendingRequests (PendingRequests.java:sendNotLeaderResponses(202)) - s2@group-04E6F89F5A1C-PendingRequests: sendNotLeaderResponses
2019-09-24 12:06:48,334 INFO  impl.RoleInfo (RoleInfo.java:updateAndGet(143)) - s2: start FollowerState
2019-09-24 12:06:48,408 WARN  impl.LogAppender (LogAppender.java:sendAppendEntriesWithRetries(274)) - s4@group-E7D5050F4609->s3-LogAppender: Failed to appendEntries (retry=151): org.apache.ratis.thirdparty.io.netty.channel.AbstractChannel$AnnotatedConnectException: Connection refused: /0.0.0.0:40479
2019-09-24 12:06:48,424 INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:execute(569)) - s2@group-9DDC70D1F0F3-SegmentedRaftLogWorker: created new log segment /workdir/ratis-test/target/test/data/aaa4fccd/MiniRaftClusterWithNetty53617c77/s2/8282875c-54dc-4ebb-a985-9ddc70d1f0f3/current/log_inprogress_6
2019-09-24 12:06:48,424 INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:execute(569)) - s1@group-9DDC70D1F0F3-SegmentedRaftLogWorker: created new log segment /workdir/ratis-test/target/test/data/aaa4fccd/MiniRaftClusterWithNetty53617c77/s1/8282875c-54dc-4ebb-a985-9ddc70d1f0f3/current/log_inprogress_6
2019-09-24 12:06:48,424 DEBUG segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:flushWrites(340)) - s2@group-9DDC70D1F0F3-SegmentedRaftLogWorker: flush SegmentedRaftLogOutputStream(/workdir/ratis-test/target/test/data/aaa4fccd/MiniRaftClusterWithNetty53617c77/s2/8282875c-54dc-4ebb-a985-9ddc70d1f0f3/current/log_inprogress_6)
2019-09-24 12:06:48,424 TRACE segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:lambda$new$1(133)) - s0@group-9DDC70D1F0F3-SegmentedRaftLogWorker: flushIndex: updateIncreasingly 5 -> 6
2019-09-24 12:06:48,424 DEBUG segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:flushWrites(340)) - s1@group-9DDC70D1F0F3-SegmentedRaftLogWorker: flush SegmentedRaftLogOutputStream(/workdir/ratis-test/target/test/data/aaa4fccd/MiniRaftClusterWithNetty53617c77/s1/8282875c-54dc-4ebb-a985-9ddc70d1f0f3/current/log_inprogress_6)
2019-09-24 12:06:48,424 DEBUG impl.RaftServerImpl (RaftServerImpl.java:requestVote(775)) - s2@group-04E6F89F5A1C replies to vote request: s0<-s2#0:FAIL-t11. Peer's state: s2@group-04E6F89F5A1C:t11, leader=null, voted=null, raftlog=s2@group-04E6F89F5A1C-SegmentedRaftLog:OPENED:c9,f9,i9, conf=8: [s0:0.0.0.0:34119, s1:0.0.0.0:44382, s2:0.0.0.0:42516], old=null
2019-09-24 12:06:48,425 TRACE segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:lambda$new$1(133)) - s2@group-9DDC70D1F0F3-SegmentedRaftLogWorker: flushIndex: updateIncreasingly 5 -> 6
2019-09-24 12:06:48,424 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.rpc.timeout.max = 300ms (default)
2019-09-24 12:06:48,426 INFO  impl.LeaderElection (LeaderElection.java:logAndReturn(56)) - s0@group-04E6F89F5A1C-LeaderElection37: Election REJECTED; received 2 response(s) [s0<-s1#0:FAIL-t11, s0<-s2#0:FAIL-t11] and 0 exception(s); s0@group-04E6F89F5A1C:t11, leader=null, voted=s0, raftlog=s0@group-04E6F89F5A1C-SegmentedRaftLog:OPENED:c9,f9,i9, conf=8: [s0:0.0.0.0:34119, s1:0.0.0.0:44382, s2:0.0.0.0:42516], old=null
2019-09-24 12:06:48,426 TRACE segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:lambda$new$1(133)) - s1@group-9DDC70D1F0F3-SegmentedRaftLogWorker: flushIndex: updateIncreasingly 5 -> 6
2019-09-24 12:06:48,426 INFO  impl.RaftServerImpl (RaftServerImpl.java:setRole(170)) - s2@group-04E6F89F5A1C: changes role from  FOLLOWER to FOLLOWER at term 11 for recognizeCandidate:s1
2019-09-24 12:06:48,427 INFO  impl.RoleInfo (RoleInfo.java:shutdownFollowerState(121)) - s2: shutdown FollowerState
2019-09-24 12:06:48,426 INFO  impl.RaftServerImpl (RaftServerImpl.java:setRole(170)) - s0@group-04E6F89F5A1C: changes role from CANDIDATE to FOLLOWER at term 11 for DISCOVERED_A_NEW_TERM
2019-09-24 12:06:48,426 INFO  ratis.RaftTestUtil (RaftTestUtil.java:waitForLeader(86)) - printing ALL groups
  s0:  RUNNING CANDIDATE s0@group-04E6F89F5A1C:t11, leader=null, voted=s0, raftlog=s0@group-04E6F89F5A1C-SegmentedRaftLog:OPENED:c9,f9,i9, conf=8: [s0:0.0.0.0:34119, s1:0.0.0.0:44382, s2:0.0.0.0:42516], old=null RUNNING
  s1:  RUNNING CANDIDATE s1@group-04E6F89F5A1C:t11, leader=null, voted=s1, raftlog=s1@group-04E6F89F5A1C-SegmentedRaftLog:OPENED:c9,f9,i9, conf=8: [s0:0.0.0.0:34119, s1:0.0.0.0:44382, s2:0.0.0.0:42516], old=null RUNNING
  s2:  RUNNING  FOLLOWER s2@group-04E6F89F5A1C:t11, leader=null, voted=null, raftlog=s2@group-04E6F89F5A1C-SegmentedRaftLog:OPENED:c9,f9,i9, conf=8: [s0:0.0.0.0:34119, s1:0.0.0.0:44382, s2:0.0.0.0:42516], old=null RUNNING
2019-09-24 12:06:48,426 DEBUG impl.RaftServerImpl (RaftServerImpl.java:logAppendEntries(850)) - s2@group-9DDC70D1F0F3: succeeded to handle AppendEntries. Reply: s0<-s2#0:OK,SUCCESS,nextIndex:7,term:7,followerCommit:5
2019-09-24 12:06:48,427 INFO  impl.RoleInfo (RoleInfo.java:shutdownLeaderElection(134)) - s0: shutdown LeaderElection
2019-09-24 12:06:48,427 INFO  impl.FollowerState (FollowerState.java:run(117)) - s2@group-04E6F89F5A1C-FollowerState was interrupted: java.lang.InterruptedException: sleep interrupted
2019-09-24 12:06:48,427 INFO  impl.RoleInfo (RoleInfo.java:updateAndGet(143)) - s2: start FollowerState
2019-09-24 12:06:48,427 DEBUG impl.RaftServerImpl (RaftServerImpl.java:logAppendEntries(850)) - s1@group-9DDC70D1F0F3: succeeded to handle AppendEntries. Reply: s0<-s1#0:OK,SUCCESS,nextIndex:7,term:7,followerCommit:5
2019-09-24 12:06:48,430 DEBUG segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:addIOTask(251)) - s0@group-9DDC70D1F0F3-SegmentedRaftLogWorker adds IO task WriteLog:7: (t:7, i:7), METADATAENTRY(c6)
2019-09-24 12:06:48,428 INFO  impl.RoleInfo (RoleInfo.java:updateAndGet(143)) - s0: start FollowerState
2019-09-24 12:06:48,430 DEBUG segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:flushWrites(340)) - s0@group-9DDC70D1F0F3-SegmentedRaftLogWorker: flush SegmentedRaftLogOutputStream(/workdir/ratis-test/target/test/data/aaa4fccd/MiniRaftClusterWithNetty53617c77/s0/8282875c-54dc-4ebb-a985-9ddc70d1f0f3/current/log_inprogress_6)
2019-09-24 12:06:48,428 WARN  ratis.RaftTestUtil (JavaUtils.java:attempt(158)) - FAILED "waitForLeader-null-(expectLeader? true)", attempt #1/100: java.lang.IllegalStateException: No leader yet : printing ALL groups
  s0:  RUNNING  FOLLOWER s0@group-04E6F89F5A1C:t11, leader=null, voted=s0, raftlog=s0@group-04E6F89F5A1C-SegmentedRaftLog:OPENED:c9,f9,i9, conf=8: [s0:0.0.0.0:34119, s1:0.0.0.0:44382, s2:0.0.0.0:42516], old=null RUNNING
  s1:  RUNNING CANDIDATE s1@group-04E6F89F5A1C:t11, leader=null, voted=s1, raftlog=s1@group-04E6F89F5A1C-SegmentedRaftLog:OPENED:c9,f9,i9, conf=8: [s0:0.0.0.0:34119, s1:0.0.0.0:44382, s2:0.0.0.0:42516], old=null RUNNING
  s2:  RUNNING  FOLLOWER s2@group-04E6F89F5A1C:t11, leader=null, voted=null, raftlog=s2@group-04E6F89F5A1C-SegmentedRaftLog:OPENED:c9,f9,i9, conf=8: [s0:0.0.0.0:34119, s1:0.0.0.0:44382, s2:0.0.0.0:42516], old=null RUNNING, sleep 450ms and then retry.
java.lang.IllegalStateException: No leader yet : printing ALL groups
  s0:  RUNNING  FOLLOWER s0@group-04E6F89F5A1C:t11, leader=null, voted=s0, raftlog=s0@group-04E6F89F5A1C-SegmentedRaftLog:OPENED:c9,f9,i9, conf=8: [s0:0.0.0.0:34119, s1:0.0.0.0:44382, s2:0.0.0.0:42516], old=null RUNNING
  s1:  RUNNING CANDIDATE s1@group-04E6F89F5A1C:t11, leader=null, voted=s1, raftlog=s1@group-04E6F89F5A1C-SegmentedRaftLog:OPENED:c9,f9,i9, conf=8: [s0:0.0.0.0:34119, s1:0.0.0.0:44382, s2:0.0.0.0:42516], old=null RUNNING
  s2:  RUNNING  FOLLOWER s2@group-04E6F89F5A1C:t11, leader=null, voted=null, raftlog=s2@group-04E6F89F5A1C-SegmentedRaftLog:OPENED:c9,f9,i9, conf=8: [s0:0.0.0.0:34119, s1:0.0.0.0:44382, s2:0.0.0.0:42516], old=null RUNNING
	at org.apache.ratis.MiniRaftCluster.newIllegalStateExceptionForNoLeaders(MiniRaftCluster.java:506)
	at org.apache.ratis.RaftTestUtil.lambda$waitForLeader$1(RaftTestUtil.java:90)
	at org.apache.ratis.MiniRaftCluster.getLeader(MiniRaftCluster.java:539)
	at org.apache.ratis.MiniRaftCluster.getLeader(MiniRaftCluster.java:532)
	at org.apache.ratis.RaftTestUtil.lambda$waitForLeader$3(RaftTestUtil.java:98)
	at org.apache.ratis.util.JavaUtils.attempt(JavaUtils.java:152)
	at org.apache.ratis.RaftTestUtil.waitForLeader(RaftTestUtil.java:97)
	at org.apache.ratis.RaftTestUtil.waitForLeader(RaftTestUtil.java:77)
	at org.apache.ratis.RaftTestUtil.waitForLeader(RaftTestUtil.java:72)
	at org.apache.ratis.RaftTestUtil.lambda$changeLeader$7(RaftTestUtil.java:363)
	at org.apache.ratis.util.JavaUtils.attempt(JavaUtils.java:152)
	at org.apache.ratis.RaftTestUtil.changeLeader(RaftTestUtil.java:362)
	at org.apache.ratis.server.impl.LeaderElectionTests.testChangeLeader(LeaderElectionTests.java:81)
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.lang.reflect.Method.invoke(Method.java:498)
	at org.junit.runners.model.FrameworkMethod$1.runReflectiveCall(FrameworkMethod.java:50)
	at org.junit.internal.runners.model.ReflectiveCallable.run(ReflectiveCallable.java:12)
	at org.junit.runners.model.FrameworkMethod.invokeExplosively(FrameworkMethod.java:47)
	at org.junit.internal.runners.statements.InvokeMethod.evaluate(InvokeMethod.java:17)
	at org.junit.internal.runners.statements.RunAfters.evaluate(RunAfters.java:27)
	at org.junit.internal.runners.statements.FailOnTimeout$CallableStatement.call(FailOnTimeout.java:298)
	at org.junit.internal.runners.statements.FailOnTimeout$CallableStatement.call(FailOnTimeout.java:292)
	at java.util.concurrent.FutureTask.run(FutureTask.java:266)
	at java.lang.Thread.run(Thread.java:748)
2019-09-24 12:06:48,431 DEBUG impl.RaftServerImpl (RaftServerImpl.java:logAppendEntries(850)) - s2@group-9DDC70D1F0F3: receive appendEntries(s0, 7, (t:7, i:6), 6, false, commits[s0:c6, s1:c5, s2:c5], entries: (t:7, i:7), METADATAENTRY(c6)
2019-09-24 12:06:48,431 DEBUG impl.RaftServerImpl (RaftServerImpl.java:logAppendEntries(850)) - s1@group-9DDC70D1F0F3: receive appendEntries(s0, 7, (t:7, i:6), 6, false, commits[s0:c6, s1:c5, s2:c5], entries: (t:7, i:7), METADATAENTRY(c6)
2019-09-24 12:06:48,432 DEBUG segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:addIOTask(251)) - s2@group-9DDC70D1F0F3-SegmentedRaftLogWorker adds IO task WriteLog:7: (t:7, i:7), METADATAENTRY(c6)
2019-09-24 12:06:48,432 DEBUG segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:addIOTask(251)) - s1@group-9DDC70D1F0F3-SegmentedRaftLogWorker adds IO task WriteLog:7: (t:7, i:7), METADATAENTRY(c6)
2019-09-24 12:06:48,432 DEBUG segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:flushWrites(340)) - s2@group-9DDC70D1F0F3-SegmentedRaftLogWorker: flush SegmentedRaftLogOutputStream(/workdir/ratis-test/target/test/data/aaa4fccd/MiniRaftClusterWithNetty53617c77/s2/8282875c-54dc-4ebb-a985-9ddc70d1f0f3/current/log_inprogress_6)
2019-09-24 12:06:48,433 DEBUG segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:flushWrites(340)) - s1@group-9DDC70D1F0F3-SegmentedRaftLogWorker: flush SegmentedRaftLogOutputStream(/workdir/ratis-test/target/test/data/aaa4fccd/MiniRaftClusterWithNetty53617c77/s1/8282875c-54dc-4ebb-a985-9ddc70d1f0f3/current/log_inprogress_6)
2019-09-24 12:06:48,445 TRACE segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:lambda$new$1(133)) - s0@group-9DDC70D1F0F3-SegmentedRaftLogWorker: flushIndex: updateIncreasingly 6 -> 7
2019-09-24 12:06:48,445 DEBUG impl.RaftServerImpl (RaftServerImpl.java:requestVote(775)) - s2@group-04E6F89F5A1C replies to vote request: s1<-s2#0:OK-t11. Peer's state: s2@group-04E6F89F5A1C:t11, leader=null, voted=s1, raftlog=s2@group-04E6F89F5A1C-SegmentedRaftLog:OPENED:c9,f9,i9, conf=8: [s0:0.0.0.0:34119, s1:0.0.0.0:44382, s2:0.0.0.0:42516], old=null
2019-09-24 12:06:48,445 TRACE segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:lambda$new$1(133)) - s2@group-9DDC70D1F0F3-SegmentedRaftLogWorker: flushIndex: updateIncreasingly 6 -> 7
2019-09-24 12:06:48,445 TRACE segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:lambda$new$1(133)) - s1@group-9DDC70D1F0F3-SegmentedRaftLogWorker: flushIndex: updateIncreasingly 6 -> 7
2019-09-24 12:06:48,446 INFO  impl.LeaderElection (LeaderElection.java:logAndReturn(56)) - s1@group-04E6F89F5A1C-LeaderElection36: Election PASSED; received 2 response(s) [s1<-s0#0:FAIL-t11, s1<-s2#0:OK-t11] and 0 exception(s); s1@group-04E6F89F5A1C:t11, leader=null, voted=s1, raftlog=s1@group-04E6F89F5A1C-SegmentedRaftLog:OPENED:c9,f9,i9, conf=8: [s0:0.0.0.0:34119, s1:0.0.0.0:44382, s2:0.0.0.0:42516], old=null
2019-09-24 12:06:48,446 DEBUG impl.RaftServerImpl (RaftServerImpl.java:logAppendEntries(850)) - s2@group-9DDC70D1F0F3: succeeded to handle AppendEntries. Reply: s0<-s2#0:OK,SUCCESS,nextIndex:8,term:7,followerCommit:6
2019-09-24 12:06:48,446 DEBUG impl.RaftServerImpl (RaftServerImpl.java:logAppendEntries(850)) - s1@group-9DDC70D1F0F3: succeeded to handle AppendEntries. Reply: s0<-s1#0:OK,SUCCESS,nextIndex:8,term:7,followerCommit:6
2019-09-24 12:06:48,446 INFO  impl.RoleInfo (RoleInfo.java:shutdownLeaderElection(134)) - s1: shutdown LeaderElection
2019-09-24 12:06:48,448 INFO  impl.RaftServerImpl (RaftServerImpl.java:setRole(170)) - s1@group-04E6F89F5A1C: changes role from CANDIDATE to LEADER at term 11 for changeToLeader
2019-09-24 12:06:48,448 INFO  impl.RaftServerImpl (ServerState.java:setLeader(254)) - s1@group-04E6F89F5A1C: change Leader from null to s1 at term 11 for becomeLeader, leader elected after 205ms
2019-09-24 12:06:48,448 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.staging.catchup.gap = 1000 (default)
2019-09-24 12:06:48,449 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.rpc.sleep.time = 25ms (default)
2019-09-24 12:06:48,449 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.write.element-limit = 4096 (default)
2019-09-24 12:06:48,449 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.watch.timeout = 10s (default)
2019-09-24 12:06:48,449 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.watch.timeout.denomination = 1s (default)
2019-09-24 12:06:48,449 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.watch.element-limit = 65536 (default)
2019-09-24 12:06:48,450 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.log.appender.snapshot.chunk.size.max = 16MB (=16777216) (default)
2019-09-24 12:06:48,450 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.log.appender.buffer.byte-limit = 4MB (=4194304) (default)
2019-09-24 12:06:48,450 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.log.appender.buffer.element-limit = 0 (default)
2019-09-24 12:06:48,450 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.log.appender.snapshot.chunk.size.max = 16MB (=16777216) (default)
2019-09-24 12:06:48,451 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.log.appender.buffer.byte-limit = 4MB (=4194304) (default)
2019-09-24 12:06:48,451 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.log.appender.buffer.element-limit = 0 (default)
2019-09-24 12:06:48,451 INFO  impl.RoleInfo (RoleInfo.java:updateAndGet(143)) - s1: start LeaderState
2019-09-24 12:06:48,452 INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:rollLogSegment(385)) - s1@group-04E6F89F5A1C-SegmentedRaftLogWorker: Rolling segment log-8_9 to index:9
2019-09-24 12:06:48,452 DEBUG segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:addIOTask(251)) - s1@group-04E6F89F5A1C-SegmentedRaftLogWorker adds IO task FinalizeLogSegment:9: startIndex=8 endIndex=9
2019-09-24 12:06:48,452 DEBUG segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:addIOTask(251)) - s1@group-04E6F89F5A1C-SegmentedRaftLogWorker adds IO task StartLogSegment:10
2019-09-24 12:06:48,454 TRACE util.FileUtils (LogUtils.java:runAndLog(61)) - Successfully ran Files.move /workdir/ratis-test/target/test/data/aaa4fccd/MiniRaftClusterWithNetty55a7148e/s1/611a84d9-4fe5-4f71-a301-04e6f89f5a1c/current/log_inprogress_8 to /workdir/ratis-test/target/test/data/aaa4fccd/MiniRaftClusterWithNetty55a7148e/s1/611a84d9-4fe5-4f71-a301-04e6f89f5a1c/current/log_8-9
2019-09-24 12:06:48,454 INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:execute(526)) - s1@group-04E6F89F5A1C-SegmentedRaftLogWorker: Rolled log segment from /workdir/ratis-test/target/test/data/aaa4fccd/MiniRaftClusterWithNetty55a7148e/s1/611a84d9-4fe5-4f71-a301-04e6f89f5a1c/current/log_inprogress_8 to /workdir/ratis-test/target/test/data/aaa4fccd/MiniRaftClusterWithNetty55a7148e/s1/611a84d9-4fe5-4f71-a301-04e6f89f5a1c/current/log_8-9
2019-09-24 12:06:48,455 TRACE segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:lambda$new$1(133)) - s1@group-04E6F89F5A1C-SegmentedRaftLogWorker: flushIndex: updateIncreasingly 9 -> 9
2019-09-24 12:06:48,456 DEBUG segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:addIOTask(251)) - s1@group-04E6F89F5A1C-SegmentedRaftLogWorker adds IO task WriteLog:10: (t:11, i:10), CONFIGURATIONENTRY
2019-09-24 12:06:48,457 INFO  impl.RaftServerImpl (ServerState.java:setRaftConf(355)) - s1@group-04E6F89F5A1C: set configuration 10: [s0:0.0.0.0:34119, s1:0.0.0.0:44382, s2:0.0.0.0:42516], old=null at 10
2019-09-24 12:06:48,457 INFO  impl.RaftServerImpl (ServerState.java:setLeader(254)) - s0@group-04E6F89F5A1C: change Leader from null to s1 at term 11 for appendEntries, leader elected after 206ms
2019-09-24 12:06:48,457 INFO  impl.RaftServerImpl (ServerState.java:setLeader(254)) - s2@group-04E6F89F5A1C: change Leader from null to s1 at term 11 for appendEntries, leader elected after 127ms
2019-09-24 12:06:48,459 DEBUG impl.RaftServerImpl (RaftServerImpl.java:logAppendEntries(850)) - s0@group-04E6F89F5A1C: receive appendEntries(s1, 11, (t:10, i:9), 9, false, commits[s1:c9, s0:c9, s2:c9], entries: (t:11, i:10), CONFIGURATIONENTRY
2019-09-24 12:06:48,459 DEBUG impl.RaftServerImpl (RaftServerImpl.java:logAppendEntries(850)) - s2@group-04E6F89F5A1C: receive appendEntries(s1, 11, (t:10, i:9), 9, false, commits[s1:c9, s0:c9, s2:c9], entries: (t:11, i:10), CONFIGURATIONENTRY
2019-09-24 12:06:48,459 INFO  impl.RaftServerImpl (ServerState.java:setRaftConf(355)) - s0@group-04E6F89F5A1C: set configuration 10: [s0:0.0.0.0:34119, s1:0.0.0.0:44382, s2:0.0.0.0:42516], old=null at 10
2019-09-24 12:06:48,459 INFO  impl.RaftServerImpl (ServerState.java:setRaftConf(355)) - s2@group-04E6F89F5A1C: set configuration 10: [s0:0.0.0.0:34119, s1:0.0.0.0:44382, s2:0.0.0.0:42516], old=null at 10
2019-09-24 12:06:48,460 INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:rollLogSegment(385)) - s0@group-04E6F89F5A1C-SegmentedRaftLogWorker: Rolling segment log-8_9 to index:9
2019-09-24 12:06:48,460 INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:rollLogSegment(385)) - s2@group-04E6F89F5A1C-SegmentedRaftLogWorker: Rolling segment log-8_9 to index:9
2019-09-24 12:06:48,460 DEBUG segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:addIOTask(251)) - s0@group-04E6F89F5A1C-SegmentedRaftLogWorker adds IO task FinalizeLogSegment:9: startIndex=8 endIndex=9
2019-09-24 12:06:48,460 DEBUG segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:addIOTask(251)) - s2@group-04E6F89F5A1C-SegmentedRaftLogWorker adds IO task FinalizeLogSegment:9: startIndex=8 endIndex=9
2019-09-24 12:06:48,461 DEBUG segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:addIOTask(251)) - s0@group-04E6F89F5A1C-SegmentedRaftLogWorker adds IO task StartLogSegment:10
2019-09-24 12:06:48,461 DEBUG segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:addIOTask(251)) - s2@group-04E6F89F5A1C-SegmentedRaftLogWorker adds IO task StartLogSegment:10
2019-09-24 12:06:48,462 DEBUG segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:addIOTask(251)) - s0@group-04E6F89F5A1C-SegmentedRaftLogWorker adds IO task WriteLog:10: (t:11, i:10), CONFIGURATIONENTRY
2019-09-24 12:06:48,462 DEBUG segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:addIOTask(251)) - s2@group-04E6F89F5A1C-SegmentedRaftLogWorker adds IO task WriteLog:10: (t:11, i:10), CONFIGURATIONENTRY
2019-09-24 12:06:48,463 TRACE util.FileUtils (LogUtils.java:runAndLog(61)) - Successfully ran Files.move /workdir/ratis-test/target/test/data/aaa4fccd/MiniRaftClusterWithNetty55a7148e/s0/611a84d9-4fe5-4f71-a301-04e6f89f5a1c/current/log_inprogress_8 to /workdir/ratis-test/target/test/data/aaa4fccd/MiniRaftClusterWithNetty55a7148e/s0/611a84d9-4fe5-4f71-a301-04e6f89f5a1c/current/log_8-9
2019-09-24 12:06:48,463 INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:execute(526)) - s0@group-04E6F89F5A1C-SegmentedRaftLogWorker: Rolled log segment from /workdir/ratis-test/target/test/data/aaa4fccd/MiniRaftClusterWithNetty55a7148e/s0/611a84d9-4fe5-4f71-a301-04e6f89f5a1c/current/log_inprogress_8 to /workdir/ratis-test/target/test/data/aaa4fccd/MiniRaftClusterWithNetty55a7148e/s0/611a84d9-4fe5-4f71-a301-04e6f89f5a1c/current/log_8-9
2019-09-24 12:06:48,463 TRACE segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:lambda$new$1(133)) - s0@group-04E6F89F5A1C-SegmentedRaftLogWorker: flushIndex: updateIncreasingly 9 -> 9
2019-09-24 12:06:48,464 TRACE util.FileUtils (LogUtils.java:runAndLog(61)) - Successfully ran Files.move /workdir/ratis-test/target/test/data/aaa4fccd/MiniRaftClusterWithNetty55a7148e/s2/611a84d9-4fe5-4f71-a301-04e6f89f5a1c/current/log_inprogress_8 to /workdir/ratis-test/target/test/data/aaa4fccd/MiniRaftClusterWithNetty55a7148e/s2/611a84d9-4fe5-4f71-a301-04e6f89f5a1c/current/log_8-9
2019-09-24 12:06:48,464 INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:execute(526)) - s2@group-04E6F89F5A1C-SegmentedRaftLogWorker: Rolled log segment from /workdir/ratis-test/target/test/data/aaa4fccd/MiniRaftClusterWithNetty55a7148e/s2/611a84d9-4fe5-4f71-a301-04e6f89f5a1c/current/log_inprogress_8 to /workdir/ratis-test/target/test/data/aaa4fccd/MiniRaftClusterWithNetty55a7148e/s2/611a84d9-4fe5-4f71-a301-04e6f89f5a1c/current/log_8-9
2019-09-24 12:06:48,464 TRACE segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:lambda$new$1(133)) - s2@group-04E6F89F5A1C-SegmentedRaftLogWorker: flushIndex: updateIncreasingly 9 -> 9
2019-09-24 12:06:48,641 WARN  impl.LogAppender (LogAppender.java:sendAppendEntriesWithRetries(274)) - s4@group-E7D5050F4609->s3-LogAppender: Failed to appendEntries (retry=161): org.apache.ratis.thirdparty.io.netty.channel.AbstractChannel$AnnotatedConnectException: Connection refused: /0.0.0.0:40479
2019-09-24 12:06:48,684 INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:execute(569)) - s1@group-04E6F89F5A1C-SegmentedRaftLogWorker: created new log segment /workdir/ratis-test/target/test/data/aaa4fccd/MiniRaftClusterWithNetty55a7148e/s1/611a84d9-4fe5-4f71-a301-04e6f89f5a1c/current/log_inprogress_10
2019-09-24 12:06:48,684 INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:execute(569)) - s0@group-04E6F89F5A1C-SegmentedRaftLogWorker: created new log segment /workdir/ratis-test/target/test/data/aaa4fccd/MiniRaftClusterWithNetty55a7148e/s0/611a84d9-4fe5-4f71-a301-04e6f89f5a1c/current/log_inprogress_10
2019-09-24 12:06:48,684 DEBUG segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:flushWrites(340)) - s1@group-04E6F89F5A1C-SegmentedRaftLogWorker: flush SegmentedRaftLogOutputStream(/workdir/ratis-test/target/test/data/aaa4fccd/MiniRaftClusterWithNetty55a7148e/s1/611a84d9-4fe5-4f71-a301-04e6f89f5a1c/current/log_inprogress_10)
2019-09-24 12:06:48,684 INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:execute(569)) - s2@group-04E6F89F5A1C-SegmentedRaftLogWorker: created new log segment /workdir/ratis-test/target/test/data/aaa4fccd/MiniRaftClusterWithNetty55a7148e/s2/611a84d9-4fe5-4f71-a301-04e6f89f5a1c/current/log_inprogress_10
2019-09-24 12:06:48,684 DEBUG segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:flushWrites(340)) - s0@group-04E6F89F5A1C-SegmentedRaftLogWorker: flush SegmentedRaftLogOutputStream(/workdir/ratis-test/target/test/data/aaa4fccd/MiniRaftClusterWithNetty55a7148e/s0/611a84d9-4fe5-4f71-a301-04e6f89f5a1c/current/log_inprogress_10)
2019-09-24 12:06:48,684 DEBUG segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:flushWrites(340)) - s2@group-04E6F89F5A1C-SegmentedRaftLogWorker: flush SegmentedRaftLogOutputStream(/workdir/ratis-test/target/test/data/aaa4fccd/MiniRaftClusterWithNetty55a7148e/s2/611a84d9-4fe5-4f71-a301-04e6f89f5a1c/current/log_inprogress_10)
2019-09-24 12:06:48,700 TRACE segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:lambda$new$1(133)) - s1@group-04E6F89F5A1C-SegmentedRaftLogWorker: flushIndex: updateIncreasingly 9 -> 10
2019-09-24 12:06:48,701 TRACE segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:lambda$new$1(133)) - s0@group-04E6F89F5A1C-SegmentedRaftLogWorker: flushIndex: updateIncreasingly 9 -> 10
2019-09-24 12:06:48,701 TRACE segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:lambda$new$1(133)) - s2@group-04E6F89F5A1C-SegmentedRaftLogWorker: flushIndex: updateIncreasingly 9 -> 10
2019-09-24 12:06:48,701 DEBUG impl.RaftServerImpl (RaftServerImpl.java:logAppendEntries(850)) - s0@group-04E6F89F5A1C: succeeded to handle AppendEntries. Reply: s1<-s0#0:OK,SUCCESS,nextIndex:11,term:11,followerCommit:9
2019-09-24 12:06:48,702 DEBUG impl.RaftServerImpl (RaftServerImpl.java:logAppendEntries(850)) - s2@group-04E6F89F5A1C: succeeded to handle AppendEntries. Reply: s1<-s2#0:OK,SUCCESS,nextIndex:11,term:11,followerCommit:9
2019-09-24 12:06:48,705 DEBUG segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:addIOTask(251)) - s1@group-04E6F89F5A1C-SegmentedRaftLogWorker adds IO task WriteLog:11: (t:11, i:11), METADATAENTRY(c10)
2019-09-24 12:06:48,705 DEBUG segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:flushWrites(340)) - s1@group-04E6F89F5A1C-SegmentedRaftLogWorker: flush SegmentedRaftLogOutputStream(/workdir/ratis-test/target/test/data/aaa4fccd/MiniRaftClusterWithNetty55a7148e/s1/611a84d9-4fe5-4f71-a301-04e6f89f5a1c/current/log_inprogress_10)
2019-09-24 12:06:48,706 DEBUG impl.RaftServerImpl (RaftServerImpl.java:logAppendEntries(850)) - s0@group-04E6F89F5A1C: receive appendEntries(s1, 11, (t:11, i:10), 10, false, commits[s1:c10, s0:c9, s2:c9], entries: (t:11, i:11), METADATAENTRY(c10)
2019-09-24 12:06:48,706 DEBUG impl.RaftServerImpl (RaftServerImpl.java:logAppendEntries(850)) - s2@group-04E6F89F5A1C: receive appendEntries(s1, 11, (t:11, i:10), 10, false, commits[s1:c10, s0:c9, s2:c9], entries: (t:11, i:11), METADATAENTRY(c10)
2019-09-24 12:06:48,706 DEBUG segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:addIOTask(251)) - s0@group-04E6F89F5A1C-SegmentedRaftLogWorker adds IO task WriteLog:11: (t:11, i:11), METADATAENTRY(c10)
2019-09-24 12:06:48,707 DEBUG segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:addIOTask(251)) - s2@group-04E6F89F5A1C-SegmentedRaftLogWorker adds IO task WriteLog:11: (t:11, i:11), METADATAENTRY(c10)
2019-09-24 12:06:48,707 DEBUG segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:flushWrites(340)) - s0@group-04E6F89F5A1C-SegmentedRaftLogWorker: flush SegmentedRaftLogOutputStream(/workdir/ratis-test/target/test/data/aaa4fccd/MiniRaftClusterWithNetty55a7148e/s0/611a84d9-4fe5-4f71-a301-04e6f89f5a1c/current/log_inprogress_10)
2019-09-24 12:06:48,708 DEBUG segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:flushWrites(340)) - s2@group-04E6F89F5A1C-SegmentedRaftLogWorker: flush SegmentedRaftLogOutputStream(/workdir/ratis-test/target/test/data/aaa4fccd/MiniRaftClusterWithNetty55a7148e/s2/611a84d9-4fe5-4f71-a301-04e6f89f5a1c/current/log_inprogress_10)
2019-09-24 12:06:48,716 TRACE segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:lambda$new$1(133)) - s1@group-04E6F89F5A1C-SegmentedRaftLogWorker: flushIndex: updateIncreasingly 10 -> 11
2019-09-24 12:06:48,717 TRACE segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:lambda$new$1(133)) - s0@group-04E6F89F5A1C-SegmentedRaftLogWorker: flushIndex: updateIncreasingly 10 -> 11
2019-09-24 12:06:48,717 TRACE segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:lambda$new$1(133)) - s2@group-04E6F89F5A1C-SegmentedRaftLogWorker: flushIndex: updateIncreasingly 10 -> 11
2019-09-24 12:06:48,717 DEBUG impl.RaftServerImpl (RaftServerImpl.java:logAppendEntries(850)) - s0@group-04E6F89F5A1C: succeeded to handle AppendEntries. Reply: s1<-s0#0:OK,SUCCESS,nextIndex:12,term:11,followerCommit:10
2019-09-24 12:06:48,718 DEBUG impl.RaftServerImpl (RaftServerImpl.java:logAppendEntries(850)) - s2@group-04E6F89F5A1C: succeeded to handle AppendEntries. Reply: s1<-s2#0:OK,SUCCESS,nextIndex:12,term:11,followerCommit:10
2019-09-24 12:06:48,874 WARN  impl.LogAppender (LogAppender.java:sendAppendEntriesWithRetries(274)) - s4@group-E7D5050F4609->s3-LogAppender: Failed to appendEntries (retry=171): org.apache.ratis.thirdparty.io.netty.channel.AbstractChannel$AnnotatedConnectException: Connection refused: /0.0.0.0:40479
2019-09-24 12:06:48,882 INFO  ratis.RaftTestUtil (RaftTestUtil.java:waitForLeader(101)) - printing ALL groups
  s0:  RUNNING  FOLLOWER s0@group-04E6F89F5A1C:t11, leader=s1, voted=s0, raftlog=s0@group-04E6F89F5A1C-SegmentedRaftLog:OPENED:c11,f11,i11, conf=10: [s0:0.0.0.0:34119, s1:0.0.0.0:44382, s2:0.0.0.0:42516], old=null RUNNING
  s1:  RUNNING    LEADER s1@group-04E6F89F5A1C:t11, leader=s1, voted=s1, raftlog=s1@group-04E6F89F5A1C-SegmentedRaftLog:OPENED:c11,f11,i11, conf=10: [s0:0.0.0.0:34119, s1:0.0.0.0:44382, s2:0.0.0.0:42516], old=null RUNNING
  s2:  RUNNING  FOLLOWER s2@group-04E6F89F5A1C:t11, leader=s1, voted=s1, raftlog=s2@group-04E6F89F5A1C-SegmentedRaftLog:OPENED:c11,f11,i11, conf=10: [s0:0.0.0.0:34119, s1:0.0.0.0:44382, s2:0.0.0.0:42516], old=null RUNNING
2019-09-24 12:06:48,882 INFO  ratis.RaftTestUtil (RaftTestUtil.java:lambda$changeLeader$7(367)) - Changed leader from s2 to s1
2019-09-24 12:06:48,882 INFO  util.CodeInjectionForTesting (BlockRequestHandlingInjection.java:unblockRequestor(53)) - UnBlock requestor s2
2019-09-24 12:06:48,883 INFO  util.CodeInjectionForTesting (BlockRequestHandlingInjection.java:blockRequestor(48)) - Block requestor s1
2019-09-24 12:06:48,883 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.rpc.timeout.max = 300ms (default)
2019-09-24 12:06:48,883 INFO  ratis.RaftTestUtil (RaftTestUtil.java:waitForLeader(86)) - printing ALL groups
  s0:  RUNNING  FOLLOWER s0@group-04E6F89F5A1C:t11, leader=s1, voted=s0, raftlog=s0@group-04E6F89F5A1C-SegmentedRaftLog:OPENED:c11,f11,i11, conf=10: [s0:0.0.0.0:34119, s1:0.0.0.0:44382, s2:0.0.0.0:42516], old=null RUNNING
  s1:  RUNNING    LEADER s1@group-04E6F89F5A1C:t11, leader=s1, voted=s1, raftlog=s1@group-04E6F89F5A1C-SegmentedRaftLog:OPENED:c11,f11,i11, conf=10: [s0:0.0.0.0:34119, s1:0.0.0.0:44382, s2:0.0.0.0:42516], old=null RUNNING
  s2:  RUNNING  FOLLOWER s2@group-04E6F89F5A1C:t11, leader=s1, voted=s1, raftlog=s2@group-04E6F89F5A1C-SegmentedRaftLog:OPENED:c11,f11,i11, conf=10: [s0:0.0.0.0:34119, s1:0.0.0.0:44382, s2:0.0.0.0:42516], old=null RUNNING
2019-09-24 12:06:48,884 INFO  ratis.RaftTestUtil (RaftTestUtil.java:waitForLeader(101)) - printing ALL groups
  s0:  RUNNING  FOLLOWER s0@group-04E6F89F5A1C:t11, leader=s1, voted=s0, raftlog=s0@group-04E6F89F5A1C-SegmentedRaftLog:OPENED:c11,f11,i11, conf=10: [s0:0.0.0.0:34119, s1:0.0.0.0:44382, s2:0.0.0.0:42516], old=null RUNNING
  s1:  RUNNING    LEADER s1@group-04E6F89F5A1C:t11, leader=s1, voted=s1, raftlog=s1@group-04E6F89F5A1C-SegmentedRaftLog:OPENED:c11,f11,i11, conf=10: [s0:0.0.0.0:34119, s1:0.0.0.0:44382, s2:0.0.0.0:42516], old=null RUNNING
  s2:  RUNNING  FOLLOWER s2@group-04E6F89F5A1C:t11, leader=s1, voted=s1, raftlog=s2@group-04E6F89F5A1C-SegmentedRaftLog:OPENED:c11,f11,i11, conf=10: [s0:0.0.0.0:34119, s1:0.0.0.0:44382, s2:0.0.0.0:42516], old=null RUNNING
2019-09-24 12:06:48,884 WARN  ratis.RaftTestUtil (JavaUtils.java:attempt(158)) - FAILED "testChangeLeader-changeLeader", attempt #1/20: java.lang.IllegalStateException: Failed to change leader: newLeader == oldLeader == s1, sleep 100ms and then retry.
java.lang.IllegalStateException: Failed to change leader: newLeader == oldLeader == s1
	at org.apache.ratis.RaftTestUtil.lambda$changeLeader$7(RaftTestUtil.java:365)
	at org.apache.ratis.util.JavaUtils.attempt(JavaUtils.java:152)
	at org.apache.ratis.RaftTestUtil.changeLeader(RaftTestUtil.java:362)
	at org.apache.ratis.server.impl.LeaderElectionTests.testChangeLeader(LeaderElectionTests.java:81)
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.lang.reflect.Method.invoke(Method.java:498)
	at org.junit.runners.model.FrameworkMethod$1.runReflectiveCall(FrameworkMethod.java:50)
	at org.junit.internal.runners.model.ReflectiveCallable.run(ReflectiveCallable.java:12)
	at org.junit.runners.model.FrameworkMethod.invokeExplosively(FrameworkMethod.java:47)
	at org.junit.internal.runners.statements.InvokeMethod.evaluate(InvokeMethod.java:17)
	at org.junit.internal.runners.statements.RunAfters.evaluate(RunAfters.java:27)
	at org.junit.internal.runners.statements.FailOnTimeout$CallableStatement.call(FailOnTimeout.java:298)
	at org.junit.internal.runners.statements.FailOnTimeout$CallableStatement.call(FailOnTimeout.java:292)
	at java.util.concurrent.FutureTask.run(FutureTask.java:266)
	at java.lang.Thread.run(Thread.java:748)
2019-09-24 12:06:48,889 INFO  util.CodeInjectionForTesting (BlockRequestHandlingInjection.java:execute(82)) - s1: unBlock request from s2
2019-09-24 12:06:48,890 DEBUG impl.RaftServerImpl (RaftServerImpl.java:appendEntriesAsync(906)) - s1@group-04E6F89F5A1C: Not recognize s2 (term=10) as leader, state: s1@group-04E6F89F5A1C:t11, leader=s1, voted=s1, raftlog=s1@group-04E6F89F5A1C-SegmentedRaftLog:OPENED:c11,f11,i11, conf=10: [s0:0.0.0.0:34119, s1:0.0.0.0:44382, s2:0.0.0.0:42516], old=null reply: s2<-s1#0:FAIL,NOT_LEADER,nextIndex:12,term:11,followerCommit:11
2019-09-24 12:06:48,890 INFO  util.CodeInjectionForTesting (BlockRequestHandlingInjection.java:execute(82)) - s0: unBlock request from s2
2019-09-24 12:06:48,890 INFO  util.CodeInjectionForTesting (BlockRequestHandlingInjection.java:execute(82)) - s0: unBlock request from s2
2019-09-24 12:06:48,890 DEBUG impl.RaftServerImpl (RaftServerImpl.java:appendEntriesAsync(906)) - s0@group-9DDC70D1F0F3: Not recognize s2 (term=6) as leader, state: s0@group-9DDC70D1F0F3:t7, leader=s0, voted=s0, raftlog=s0@group-9DDC70D1F0F3-SegmentedRaftLog:OPENED:c7,f7,i7, conf=6: [s0:0.0.0.0:37243, s1:0.0.0.0:38994, s2:0.0.0.0:36346], old=null reply: s2<-s0#0:FAIL,NOT_LEADER,nextIndex:8,term:7,followerCommit:7
2019-09-24 12:06:48,891 DEBUG impl.RaftServerImpl (RaftServerImpl.java:appendEntriesAsync(906)) - s0@group-04E6F89F5A1C: Not recognize s2 (term=10) as leader, state: s0@group-04E6F89F5A1C:t11, leader=s1, voted=s0, raftlog=s0@group-04E6F89F5A1C-SegmentedRaftLog:OPENED:c11,f11,i11, conf=10: [s0:0.0.0.0:34119, s1:0.0.0.0:44382, s2:0.0.0.0:42516], old=null reply: s2<-s0#0:FAIL,NOT_LEADER,nextIndex:12,term:11,followerCommit:11
2019-09-24 12:06:48,946 INFO  util.CodeInjectionForTesting (BlockRequestHandlingInjection.java:execute(76)) - s2: Block request from s1
2019-09-24 12:06:48,946 INFO  util.CodeInjectionForTesting (BlockRequestHandlingInjection.java:execute(76)) - s0: Block request from s1
2019-09-24 12:06:48,984 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.rpc.timeout.max = 300ms (default)
2019-09-24 12:06:48,985 INFO  ratis.RaftTestUtil (RaftTestUtil.java:waitForLeader(86)) - printing ALL groups
  s0:  RUNNING  FOLLOWER s0@group-04E6F89F5A1C:t11, leader=s1, voted=s0, raftlog=s0@group-04E6F89F5A1C-SegmentedRaftLog:OPENED:c11,f11,i11, conf=10: [s0:0.0.0.0:34119, s1:0.0.0.0:44382, s2:0.0.0.0:42516], old=null RUNNING
  s1:  RUNNING    LEADER s1@group-04E6F89F5A1C:t11, leader=s1, voted=s1, raftlog=s1@group-04E6F89F5A1C-SegmentedRaftLog:OPENED:c11,f11,i11, conf=10: [s0:0.0.0.0:34119, s1:0.0.0.0:44382, s2:0.0.0.0:42516], old=null RUNNING
  s2:  RUNNING  FOLLOWER s2@group-04E6F89F5A1C:t11, leader=s1, voted=s1, raftlog=s2@group-04E6F89F5A1C-SegmentedRaftLog:OPENED:c11,f11,i11, conf=10: [s0:0.0.0.0:34119, s1:0.0.0.0:44382, s2:0.0.0.0:42516], old=null RUNNING
2019-09-24 12:06:48,985 INFO  ratis.RaftTestUtil (RaftTestUtil.java:waitForLeader(101)) - printing ALL groups
  s0:  RUNNING  FOLLOWER s0@group-04E6F89F5A1C:t11, leader=s1, voted=s0, raftlog=s0@group-04E6F89F5A1C-SegmentedRaftLog:OPENED:c11,f11,i11, conf=10: [s0:0.0.0.0:34119, s1:0.0.0.0:44382, s2:0.0.0.0:42516], old=null RUNNING
  s1:  RUNNING    LEADER s1@group-04E6F89F5A1C:t11, leader=s1, voted=s1, raftlog=s1@group-04E6F89F5A1C-SegmentedRaftLog:OPENED:c11,f11,i11, conf=10: [s0:0.0.0.0:34119, s1:0.0.0.0:44382, s2:0.0.0.0:42516], old=null RUNNING
  s2:  RUNNING  FOLLOWER s2@group-04E6F89F5A1C:t11, leader=s1, voted=s1, raftlog=s2@group-04E6F89F5A1C-SegmentedRaftLog:OPENED:c11,f11,i11, conf=10: [s0:0.0.0.0:34119, s1:0.0.0.0:44382, s2:0.0.0.0:42516], old=null RUNNING
2019-09-24 12:06:48,986 WARN  ratis.RaftTestUtil (JavaUtils.java:attempt(158)) - FAILED "testChangeLeader-changeLeader", attempt #2/20: java.lang.IllegalStateException: Failed to change leader: newLeader == oldLeader == s1, sleep 100ms and then retry.
java.lang.IllegalStateException: Failed to change leader: newLeader == oldLeader == s1
	at org.apache.ratis.RaftTestUtil.lambda$changeLeader$7(RaftTestUtil.java:365)
	at org.apache.ratis.util.JavaUtils.attempt(JavaUtils.java:152)
	at org.apache.ratis.RaftTestUtil.changeLeader(RaftTestUtil.java:362)
	at org.apache.ratis.server.impl.LeaderElectionTests.testChangeLeader(LeaderElectionTests.java:81)
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.lang.reflect.Method.invoke(Method.java:498)
	at org.junit.runners.model.FrameworkMethod$1.runReflectiveCall(FrameworkMethod.java:50)
	at org.junit.internal.runners.model.ReflectiveCallable.run(ReflectiveCallable.java:12)
	at org.junit.runners.model.FrameworkMethod.invokeExplosively(FrameworkMethod.java:47)
	at org.junit.internal.runners.statements.InvokeMethod.evaluate(InvokeMethod.java:17)
	at org.junit.internal.runners.statements.RunAfters.evaluate(RunAfters.java:27)
	at org.junit.internal.runners.statements.FailOnTimeout$CallableStatement.call(FailOnTimeout.java:298)
	at org.junit.internal.runners.statements.FailOnTimeout$CallableStatement.call(FailOnTimeout.java:292)
	at java.util.concurrent.FutureTask.run(FutureTask.java:266)
	at java.lang.Thread.run(Thread.java:748)
2019-09-24 12:06:49,087 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.rpc.timeout.max = 300ms (default)
2019-09-24 12:06:49,088 INFO  ratis.RaftTestUtil (RaftTestUtil.java:waitForLeader(86)) - printing ALL groups
  s0:  RUNNING  FOLLOWER s0@group-04E6F89F5A1C:t11, leader=s1, voted=s0, raftlog=s0@group-04E6F89F5A1C-SegmentedRaftLog:OPENED:c11,f11,i11, conf=10: [s0:0.0.0.0:34119, s1:0.0.0.0:44382, s2:0.0.0.0:42516], old=null RUNNING
  s1:  RUNNING    LEADER s1@group-04E6F89F5A1C:t11, leader=s1, voted=s1, raftlog=s1@group-04E6F89F5A1C-SegmentedRaftLog:OPENED:c11,f11,i11, conf=10: [s0:0.0.0.0:34119, s1:0.0.0.0:44382, s2:0.0.0.0:42516], old=null RUNNING
  s2:  RUNNING  FOLLOWER s2@group-04E6F89F5A1C:t11, leader=s1, voted=s1, raftlog=s2@group-04E6F89F5A1C-SegmentedRaftLog:OPENED:c11,f11,i11, conf=10: [s0:0.0.0.0:34119, s1:0.0.0.0:44382, s2:0.0.0.0:42516], old=null RUNNING
2019-09-24 12:06:49,089 INFO  ratis.RaftTestUtil (RaftTestUtil.java:waitForLeader(101)) - printing ALL groups
  s0:  RUNNING  FOLLOWER s0@group-04E6F89F5A1C:t11, leader=s1, voted=s0, raftlog=s0@group-04E6F89F5A1C-SegmentedRaftLog:OPENED:c11,f11,i11, conf=10: [s0:0.0.0.0:34119, s1:0.0.0.0:44382, s2:0.0.0.0:42516], old=null RUNNING
  s1:  RUNNING    LEADER s1@group-04E6F89F5A1C:t11, leader=s1, voted=s1, raftlog=s1@group-04E6F89F5A1C-SegmentedRaftLog:OPENED:c11,f11,i11, conf=10: [s0:0.0.0.0:34119, s1:0.0.0.0:44382, s2:0.0.0.0:42516], old=null RUNNING
  s2:  RUNNING  FOLLOWER s2@group-04E6F89F5A1C:t11, leader=s1, voted=s1, raftlog=s2@group-04E6F89F5A1C-SegmentedRaftLog:OPENED:c11,f11,i11, conf=10: [s0:0.0.0.0:34119, s1:0.0.0.0:44382, s2:0.0.0.0:42516], old=null RUNNING
2019-09-24 12:06:49,089 WARN  ratis.RaftTestUtil (JavaUtils.java:attempt(158)) - FAILED "testChangeLeader-changeLeader", attempt #3/20: java.lang.IllegalStateException: Failed to change leader: newLeader == oldLeader == s1, sleep 100ms and then retry.
java.lang.IllegalStateException: Failed to change leader: newLeader == oldLeader == s1
	at org.apache.ratis.RaftTestUtil.lambda$changeLeader$7(RaftTestUtil.java:365)
	at org.apache.ratis.util.JavaUtils.attempt(JavaUtils.java:152)
	at org.apache.ratis.RaftTestUtil.changeLeader(RaftTestUtil.java:362)
	at org.apache.ratis.server.impl.LeaderElectionTests.testChangeLeader(LeaderElectionTests.java:81)
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.lang.reflect.Method.invoke(Method.java:498)
	at org.junit.runners.model.FrameworkMethod$1.runReflectiveCall(FrameworkMethod.java:50)
	at org.junit.internal.runners.model.ReflectiveCallable.run(ReflectiveCallable.java:12)
	at org.junit.runners.model.FrameworkMethod.invokeExplosively(FrameworkMethod.java:47)
	at org.junit.internal.runners.statements.InvokeMethod.evaluate(InvokeMethod.java:17)
	at org.junit.internal.runners.statements.RunAfters.evaluate(RunAfters.java:27)
	at org.junit.internal.runners.statements.FailOnTimeout$CallableStatement.call(FailOnTimeout.java:298)
	at org.junit.internal.runners.statements.FailOnTimeout$CallableStatement.call(FailOnTimeout.java:292)
	at java.util.concurrent.FutureTask.run(FutureTask.java:266)
	at java.lang.Thread.run(Thread.java:748)
2019-09-24 12:06:49,108 WARN  impl.LogAppender (LogAppender.java:sendAppendEntriesWithRetries(274)) - s4@group-E7D5050F4609->s3-LogAppender: Failed to appendEntries (retry=181): org.apache.ratis.thirdparty.io.netty.channel.AbstractChannel$AnnotatedConnectException: Connection refused: /0.0.0.0:40479
2019-09-24 12:06:49,124 INFO  util.CodeInjectionForTesting (BlockRequestHandlingInjection.java:execute(82)) - s1: unBlock request from s2
2019-09-24 12:06:49,125 DEBUG impl.RaftServerImpl (RaftServerImpl.java:appendEntriesAsync(906)) - s1@group-9DDC70D1F0F3: Not recognize s2 (term=6) as leader, state: s1@group-9DDC70D1F0F3:t7, leader=s0, voted=s0, raftlog=s1@group-9DDC70D1F0F3-SegmentedRaftLog:OPENED:c7,f7,i7, conf=6: [s0:0.0.0.0:37243, s1:0.0.0.0:38994, s2:0.0.0.0:36346], old=null reply: s2<-s1#0:FAIL,NOT_LEADER,nextIndex:8,term:7,followerCommit:7
2019-09-24 12:06:49,149 INFO  impl.FollowerState (FollowerState.java:run(108)) - s2@group-04E6F89F5A1C-FollowerState: change to CANDIDATE, lastRpcTime:278ms, electionTimeout:152ms
2019-09-24 12:06:49,149 INFO  impl.RoleInfo (RoleInfo.java:shutdownFollowerState(121)) - s2: shutdown FollowerState
2019-09-24 12:06:49,149 INFO  impl.RaftServerImpl (RaftServerImpl.java:setRole(170)) - s2@group-04E6F89F5A1C: changes role from  FOLLOWER to CANDIDATE at term 11 for changeToCandidate
2019-09-24 12:06:49,150 INFO  impl.RoleInfo (RoleInfo.java:updateAndGet(143)) - s2: start LeaderElection
2019-09-24 12:06:49,150 INFO  impl.RaftServerImpl (ServerState.java:setLeader(254)) - s2@group-04E6F89F5A1C: change Leader from s1 to null at term 11 for initElection
2019-09-24 12:06:49,164 INFO  impl.LeaderElection (LeaderElection.java:askForVotes(178)) - s2@group-04E6F89F5A1C-LeaderElection38: begin an election at term 12 for 10: [s0:0.0.0.0:34119, s1:0.0.0.0:44382, s2:0.0.0.0:42516], old=null
2019-09-24 12:06:49,166 DEBUG impl.RaftServerImpl (RaftServerImpl.java:requestVote(743)) - s1@group-04E6F89F5A1C: receive requestVote(s2, group-04E6F89F5A1C, 12, (t:11, i:11))
2019-09-24 12:06:49,166 DEBUG impl.RaftServerImpl (RaftServerImpl.java:requestVote(743)) - s0@group-04E6F89F5A1C: receive requestVote(s2, group-04E6F89F5A1C, 12, (t:11, i:11))
2019-09-24 12:06:49,166 INFO  impl.RaftServerImpl (ServerState.java:setLeader(254)) - s1@group-04E6F89F5A1C: change Leader from s1 to null at term 12 for updateCurrentTerm
2019-09-24 12:06:49,167 INFO  impl.RaftServerImpl (ServerState.java:setLeader(254)) - s0@group-04E6F89F5A1C: change Leader from s1 to null at term 12 for updateCurrentTerm
2019-09-24 12:06:49,167 INFO  impl.RaftServerImpl (RaftServerImpl.java:setRole(170)) - s1@group-04E6F89F5A1C: changes role from    LEADER to FOLLOWER at term 12 for recognizeCandidate:s2
2019-09-24 12:06:49,167 INFO  impl.RaftServerImpl (RaftServerImpl.java:setRole(170)) - s0@group-04E6F89F5A1C: changes role from  FOLLOWER to FOLLOWER at term 12 for recognizeCandidate:s2
2019-09-24 12:06:49,167 INFO  impl.RoleInfo (RoleInfo.java:shutdownLeaderState(104)) - s1: shutdown LeaderState
2019-09-24 12:06:49,168 INFO  impl.RoleInfo (RoleInfo.java:shutdownFollowerState(121)) - s0: shutdown FollowerState
2019-09-24 12:06:49,170 INFO  impl.RoleInfo (RoleInfo.java:updateAndGet(143)) - s0: start FollowerState
2019-09-24 12:06:49,170 INFO  impl.PendingRequests (PendingRequests.java:sendNotLeaderResponses(202)) - s1@group-04E6F89F5A1C-PendingRequests: sendNotLeaderResponses
2019-09-24 12:06:49,170 INFO  impl.FollowerState (FollowerState.java:run(117)) - s0@group-04E6F89F5A1C-FollowerState was interrupted: java.lang.InterruptedException: sleep interrupted
2019-09-24 12:06:49,170 INFO  impl.LogAppender (LogAppender.java:run(78)) - s1@group-04E6F89F5A1C->s2-LogAppender-AppenderDaemon was interrupted: java.io.InterruptedIOException: s1->s2#0 sending from s2:0.0.0.0:42516 is interrupted.
2019-09-24 12:06:49,170 INFO  impl.LogAppender (LogAppender.java:run(78)) - s1@group-04E6F89F5A1C->s0-LogAppender-AppenderDaemon was interrupted: java.io.InterruptedIOException: s1->s0#0 sending from s0:0.0.0.0:34119 is interrupted.
2019-09-24 12:06:49,171 INFO  impl.RoleInfo (RoleInfo.java:updateAndGet(143)) - s1: start FollowerState
2019-09-24 12:06:49,190 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.rpc.timeout.max = 300ms (default)
2019-09-24 12:06:49,190 INFO  ratis.RaftTestUtil (RaftTestUtil.java:waitForLeader(86)) - printing ALL groups
  s0:  RUNNING  FOLLOWER s0@group-04E6F89F5A1C:t12, leader=null, voted=s2, raftlog=s0@group-04E6F89F5A1C-SegmentedRaftLog:OPENED:c11,f11,i11, conf=10: [s0:0.0.0.0:34119, s1:0.0.0.0:44382, s2:0.0.0.0:42516], old=null RUNNING
  s1:  RUNNING  FOLLOWER s1@group-04E6F89F5A1C:t12, leader=null, voted=null, raftlog=s1@group-04E6F89F5A1C-SegmentedRaftLog:OPENED:c11,f11,i11, conf=10: [s0:0.0.0.0:34119, s1:0.0.0.0:44382, s2:0.0.0.0:42516], old=null RUNNING
  s2:  RUNNING CANDIDATE s2@group-04E6F89F5A1C:t12, leader=null, voted=s2, raftlog=s2@group-04E6F89F5A1C-SegmentedRaftLog:OPENED:c11,f11,i11, conf=10: [s0:0.0.0.0:34119, s1:0.0.0.0:44382, s2:0.0.0.0:42516], old=null RUNNING
2019-09-24 12:06:49,191 WARN  ratis.RaftTestUtil (JavaUtils.java:attempt(158)) - FAILED "waitForLeader-null-(expectLeader? true)", attempt #1/100: java.lang.IllegalStateException: No leader yet : printing ALL groups
  s0:  RUNNING  FOLLOWER s0@group-04E6F89F5A1C:t12, leader=null, voted=s2, raftlog=s0@group-04E6F89F5A1C-SegmentedRaftLog:OPENED:c11,f11,i11, conf=10: [s0:0.0.0.0:34119, s1:0.0.0.0:44382, s2:0.0.0.0:42516], old=null RUNNING
  s1:  RUNNING  FOLLOWER s1@group-04E6F89F5A1C:t12, leader=null, voted=null, raftlog=s1@group-04E6F89F5A1C-SegmentedRaftLog:OPENED:c11,f11,i11, conf=10: [s0:0.0.0.0:34119, s1:0.0.0.0:44382, s2:0.0.0.0:42516], old=null RUNNING
  s2:  RUNNING CANDIDATE s2@group-04E6F89F5A1C:t12, leader=null, voted=s2, raftlog=s2@group-04E6F89F5A1C-SegmentedRaftLog:OPENED:c11,f11,i11, conf=10: [s0:0.0.0.0:34119, s1:0.0.0.0:44382, s2:0.0.0.0:42516], old=null RUNNING, sleep 450ms and then retry.
java.lang.IllegalStateException: No leader yet : printing ALL groups
  s0:  RUNNING  FOLLOWER s0@group-04E6F89F5A1C:t12, leader=null, voted=s2, raftlog=s0@group-04E6F89F5A1C-SegmentedRaftLog:OPENED:c11,f11,i11, conf=10: [s0:0.0.0.0:34119, s1:0.0.0.0:44382, s2:0.0.0.0:42516], old=null RUNNING
  s1:  RUNNING  FOLLOWER s1@group-04E6F89F5A1C:t12, leader=null, voted=null, raftlog=s1@group-04E6F89F5A1C-SegmentedRaftLog:OPENED:c11,f11,i11, conf=10: [s0:0.0.0.0:34119, s1:0.0.0.0:44382, s2:0.0.0.0:42516], old=null RUNNING
  s2:  RUNNING CANDIDATE s2@group-04E6F89F5A1C:t12, leader=null, voted=s2, raftlog=s2@group-04E6F89F5A1C-SegmentedRaftLog:OPENED:c11,f11,i11, conf=10: [s0:0.0.0.0:34119, s1:0.0.0.0:44382, s2:0.0.0.0:42516], old=null RUNNING
	at org.apache.ratis.MiniRaftCluster.newIllegalStateExceptionForNoLeaders(MiniRaftCluster.java:506)
	at org.apache.ratis.RaftTestUtil.lambda$waitForLeader$1(RaftTestUtil.java:90)
	at org.apache.ratis.MiniRaftCluster.getLeader(MiniRaftCluster.java:539)
	at org.apache.ratis.MiniRaftCluster.getLeader(MiniRaftCluster.java:532)
	at org.apache.ratis.RaftTestUtil.lambda$waitForLeader$3(RaftTestUtil.java:98)
	at org.apache.ratis.util.JavaUtils.attempt(JavaUtils.java:152)
	at org.apache.ratis.RaftTestUtil.waitForLeader(RaftTestUtil.java:97)
	at org.apache.ratis.RaftTestUtil.waitForLeader(RaftTestUtil.java:77)
	at org.apache.ratis.RaftTestUtil.waitForLeader(RaftTestUtil.java:72)
	at org.apache.ratis.RaftTestUtil.lambda$changeLeader$7(RaftTestUtil.java:363)
	at org.apache.ratis.util.JavaUtils.attempt(JavaUtils.java:152)
	at org.apache.ratis.RaftTestUtil.changeLeader(RaftTestUtil.java:362)
	at org.apache.ratis.server.impl.LeaderElectionTests.testChangeLeader(LeaderElectionTests.java:81)
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.lang.reflect.Method.invoke(Method.java:498)
	at org.junit.runners.model.FrameworkMethod$1.runReflectiveCall(FrameworkMethod.java:50)
	at org.junit.internal.runners.model.ReflectiveCallable.run(ReflectiveCallable.java:12)
	at org.junit.runners.model.FrameworkMethod.invokeExplosively(FrameworkMethod.java:47)
	at org.junit.internal.runners.statements.InvokeMethod.evaluate(InvokeMethod.java:17)
	at org.junit.internal.runners.statements.RunAfters.evaluate(RunAfters.java:27)
	at org.junit.internal.runners.statements.FailOnTimeout$CallableStatement.call(FailOnTimeout.java:298)
	at org.junit.internal.runners.statements.FailOnTimeout$CallableStatement.call(FailOnTimeout.java:292)
	at java.util.concurrent.FutureTask.run(FutureTask.java:266)
	at java.lang.Thread.run(Thread.java:748)
2019-09-24 12:06:49,198 DEBUG impl.RaftServerImpl (RaftServerImpl.java:requestVote(775)) - s1@group-04E6F89F5A1C replies to vote request: s2<-s1#0:FAIL-t12. Peer's state: s1@group-04E6F89F5A1C:t12, leader=null, voted=null, raftlog=s1@group-04E6F89F5A1C-SegmentedRaftLog:OPENED:c11,f11,i11, conf=10: [s0:0.0.0.0:34119, s1:0.0.0.0:44382, s2:0.0.0.0:42516], old=null
2019-09-24 12:06:49,198 DEBUG impl.RaftServerImpl (RaftServerImpl.java:requestVote(775)) - s0@group-04E6F89F5A1C replies to vote request: s2<-s0#0:OK-t12. Peer's state: s0@group-04E6F89F5A1C:t12, leader=null, voted=s2, raftlog=s0@group-04E6F89F5A1C-SegmentedRaftLog:OPENED:c11,f11,i11, conf=10: [s0:0.0.0.0:34119, s1:0.0.0.0:44382, s2:0.0.0.0:42516], old=null
2019-09-24 12:06:49,199 INFO  impl.LeaderElection (LeaderElection.java:logAndReturn(56)) - s2@group-04E6F89F5A1C-LeaderElection38: Election PASSED; received 2 response(s) [s2<-s0#0:OK-t12, s2<-s1#0:FAIL-t12] and 0 exception(s); s2@group-04E6F89F5A1C:t12, leader=null, voted=s2, raftlog=s2@group-04E6F89F5A1C-SegmentedRaftLog:OPENED:c11,f11,i11, conf=10: [s0:0.0.0.0:34119, s1:0.0.0.0:44382, s2:0.0.0.0:42516], old=null
2019-09-24 12:06:49,199 INFO  impl.RoleInfo (RoleInfo.java:shutdownLeaderElection(134)) - s2: shutdown LeaderElection
2019-09-24 12:06:49,199 INFO  impl.RaftServerImpl (RaftServerImpl.java:setRole(170)) - s2@group-04E6F89F5A1C: changes role from CANDIDATE to LEADER at term 12 for changeToLeader
2019-09-24 12:06:49,200 INFO  impl.RaftServerImpl (ServerState.java:setLeader(254)) - s2@group-04E6F89F5A1C: change Leader from null to s2 at term 12 for becomeLeader, leader elected after 49ms
2019-09-24 12:06:49,200 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.staging.catchup.gap = 1000 (default)
2019-09-24 12:06:49,200 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.rpc.sleep.time = 25ms (default)
2019-09-24 12:06:49,200 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.write.element-limit = 4096 (default)
2019-09-24 12:06:49,201 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.watch.timeout = 10s (default)
2019-09-24 12:06:49,201 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.watch.timeout.denomination = 1s (default)
2019-09-24 12:06:49,201 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.watch.element-limit = 65536 (default)
2019-09-24 12:06:49,202 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.log.appender.snapshot.chunk.size.max = 16MB (=16777216) (default)
2019-09-24 12:06:49,202 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.log.appender.buffer.byte-limit = 4MB (=4194304) (default)
2019-09-24 12:06:49,202 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.log.appender.buffer.element-limit = 0 (default)
2019-09-24 12:06:49,203 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.log.appender.snapshot.chunk.size.max = 16MB (=16777216) (default)
2019-09-24 12:06:49,203 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.log.appender.buffer.byte-limit = 4MB (=4194304) (default)
2019-09-24 12:06:49,203 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.log.appender.buffer.element-limit = 0 (default)
2019-09-24 12:06:49,203 INFO  impl.RoleInfo (RoleInfo.java:updateAndGet(143)) - s2: start LeaderState
2019-09-24 12:06:49,204 INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:rollLogSegment(385)) - s2@group-04E6F89F5A1C-SegmentedRaftLogWorker: Rolling segment log-10_11 to index:11
2019-09-24 12:06:49,204 DEBUG segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:addIOTask(251)) - s2@group-04E6F89F5A1C-SegmentedRaftLogWorker adds IO task FinalizeLogSegment:11: startIndex=10 endIndex=11
2019-09-24 12:06:49,204 DEBUG segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:addIOTask(251)) - s2@group-04E6F89F5A1C-SegmentedRaftLogWorker adds IO task StartLogSegment:12
2019-09-24 12:06:49,205 DEBUG segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:addIOTask(251)) - s2@group-04E6F89F5A1C-SegmentedRaftLogWorker adds IO task WriteLog:12: (t:12, i:12), CONFIGURATIONENTRY
2019-09-24 12:06:49,206 INFO  impl.RaftServerImpl (ServerState.java:setRaftConf(355)) - s2@group-04E6F89F5A1C: set configuration 12: [s0:0.0.0.0:34119, s1:0.0.0.0:44382, s2:0.0.0.0:42516], old=null at 12
2019-09-24 12:06:49,206 INFO  impl.RaftServerImpl (ServerState.java:setLeader(254)) - s1@group-04E6F89F5A1C: change Leader from null to s2 at term 12 for appendEntries, leader elected after 39ms
2019-09-24 12:06:49,206 INFO  impl.RaftServerImpl (ServerState.java:setLeader(254)) - s0@group-04E6F89F5A1C: change Leader from null to s2 at term 12 for appendEntries, leader elected after 39ms
2019-09-24 12:06:49,207 TRACE util.FileUtils (LogUtils.java:runAndLog(61)) - Successfully ran Files.move /workdir/ratis-test/target/test/data/aaa4fccd/MiniRaftClusterWithNetty55a7148e/s2/611a84d9-4fe5-4f71-a301-04e6f89f5a1c/current/log_inprogress_10 to /workdir/ratis-test/target/test/data/aaa4fccd/MiniRaftClusterWithNetty55a7148e/s2/611a84d9-4fe5-4f71-a301-04e6f89f5a1c/current/log_10-11
2019-09-24 12:06:49,207 INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:execute(526)) - s2@group-04E6F89F5A1C-SegmentedRaftLogWorker: Rolled log segment from /workdir/ratis-test/target/test/data/aaa4fccd/MiniRaftClusterWithNetty55a7148e/s2/611a84d9-4fe5-4f71-a301-04e6f89f5a1c/current/log_inprogress_10 to /workdir/ratis-test/target/test/data/aaa4fccd/MiniRaftClusterWithNetty55a7148e/s2/611a84d9-4fe5-4f71-a301-04e6f89f5a1c/current/log_10-11
2019-09-24 12:06:49,208 TRACE segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:lambda$new$1(133)) - s2@group-04E6F89F5A1C-SegmentedRaftLogWorker: flushIndex: updateIncreasingly 11 -> 11
2019-09-24 12:06:49,208 DEBUG impl.RaftServerImpl (RaftServerImpl.java:logAppendEntries(850)) - s1@group-04E6F89F5A1C: receive appendEntries(s2, 12, (t:11, i:11), 11, false, commits[s2:c11, s0:c11, s1:c11], entries: (t:12, i:12), CONFIGURATIONENTRY
2019-09-24 12:06:49,208 DEBUG impl.RaftServerImpl (RaftServerImpl.java:logAppendEntries(850)) - s0@group-04E6F89F5A1C: receive appendEntries(s2, 12, (t:11, i:11), 11, false, commits[s2:c11, s0:c11, s1:c11], entries: (t:12, i:12), CONFIGURATIONENTRY
2019-09-24 12:06:49,209 INFO  impl.RaftServerImpl (ServerState.java:setRaftConf(355)) - s1@group-04E6F89F5A1C: set configuration 12: [s0:0.0.0.0:34119, s1:0.0.0.0:44382, s2:0.0.0.0:42516], old=null at 12
2019-09-24 12:06:49,209 INFO  impl.RaftServerImpl (ServerState.java:setRaftConf(355)) - s0@group-04E6F89F5A1C: set configuration 12: [s0:0.0.0.0:34119, s1:0.0.0.0:44382, s2:0.0.0.0:42516], old=null at 12
2019-09-24 12:06:49,209 INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:rollLogSegment(385)) - s1@group-04E6F89F5A1C-SegmentedRaftLogWorker: Rolling segment log-10_11 to index:11
2019-09-24 12:06:49,209 INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:rollLogSegment(385)) - s0@group-04E6F89F5A1C-SegmentedRaftLogWorker: Rolling segment log-10_11 to index:11
2019-09-24 12:06:49,210 DEBUG segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:addIOTask(251)) - s1@group-04E6F89F5A1C-SegmentedRaftLogWorker adds IO task FinalizeLogSegment:11: startIndex=10 endIndex=11
2019-09-24 12:06:49,210 DEBUG segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:addIOTask(251)) - s0@group-04E6F89F5A1C-SegmentedRaftLogWorker adds IO task FinalizeLogSegment:11: startIndex=10 endIndex=11
2019-09-24 12:06:49,210 DEBUG segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:addIOTask(251)) - s1@group-04E6F89F5A1C-SegmentedRaftLogWorker adds IO task StartLogSegment:12
2019-09-24 12:06:49,210 DEBUG segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:addIOTask(251)) - s0@group-04E6F89F5A1C-SegmentedRaftLogWorker adds IO task StartLogSegment:12
2019-09-24 12:06:49,211 DEBUG segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:addIOTask(251)) - s1@group-04E6F89F5A1C-SegmentedRaftLogWorker adds IO task WriteLog:12: (t:12, i:12), CONFIGURATIONENTRY
2019-09-24 12:06:49,211 DEBUG segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:addIOTask(251)) - s0@group-04E6F89F5A1C-SegmentedRaftLogWorker adds IO task WriteLog:12: (t:12, i:12), CONFIGURATIONENTRY
2019-09-24 12:06:49,213 TRACE util.FileUtils (LogUtils.java:runAndLog(61)) - Successfully ran Files.move /workdir/ratis-test/target/test/data/aaa4fccd/MiniRaftClusterWithNetty55a7148e/s0/611a84d9-4fe5-4f71-a301-04e6f89f5a1c/current/log_inprogress_10 to /workdir/ratis-test/target/test/data/aaa4fccd/MiniRaftClusterWithNetty55a7148e/s0/611a84d9-4fe5-4f71-a301-04e6f89f5a1c/current/log_10-11
2019-09-24 12:06:49,213 TRACE util.FileUtils (LogUtils.java:runAndLog(61)) - Successfully ran Files.move /workdir/ratis-test/target/test/data/aaa4fccd/MiniRaftClusterWithNetty55a7148e/s1/611a84d9-4fe5-4f71-a301-04e6f89f5a1c/current/log_inprogress_10 to /workdir/ratis-test/target/test/data/aaa4fccd/MiniRaftClusterWithNetty55a7148e/s1/611a84d9-4fe5-4f71-a301-04e6f89f5a1c/current/log_10-11
2019-09-24 12:06:49,213 INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:execute(526)) - s0@group-04E6F89F5A1C-SegmentedRaftLogWorker: Rolled log segment from /workdir/ratis-test/target/test/data/aaa4fccd/MiniRaftClusterWithNetty55a7148e/s0/611a84d9-4fe5-4f71-a301-04e6f89f5a1c/current/log_inprogress_10 to /workdir/ratis-test/target/test/data/aaa4fccd/MiniRaftClusterWithNetty55a7148e/s0/611a84d9-4fe5-4f71-a301-04e6f89f5a1c/current/log_10-11
2019-09-24 12:06:49,213 INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:execute(526)) - s1@group-04E6F89F5A1C-SegmentedRaftLogWorker: Rolled log segment from /workdir/ratis-test/target/test/data/aaa4fccd/MiniRaftClusterWithNetty55a7148e/s1/611a84d9-4fe5-4f71-a301-04e6f89f5a1c/current/log_inprogress_10 to /workdir/ratis-test/target/test/data/aaa4fccd/MiniRaftClusterWithNetty55a7148e/s1/611a84d9-4fe5-4f71-a301-04e6f89f5a1c/current/log_10-11
2019-09-24 12:06:49,213 TRACE segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:lambda$new$1(133)) - s0@group-04E6F89F5A1C-SegmentedRaftLogWorker: flushIndex: updateIncreasingly 11 -> 11
2019-09-24 12:06:49,213 TRACE segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:lambda$new$1(133)) - s1@group-04E6F89F5A1C-SegmentedRaftLogWorker: flushIndex: updateIncreasingly 11 -> 11
2019-09-24 12:06:49,342 WARN  impl.LogAppender (LogAppender.java:sendAppendEntriesWithRetries(274)) - s4@group-E7D5050F4609->s3-LogAppender: Failed to appendEntries (retry=191): org.apache.ratis.thirdparty.io.netty.channel.AbstractChannel$AnnotatedConnectException: Connection refused: /0.0.0.0:40479
2019-09-24 12:06:49,386 INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:execute(569)) - s2@group-04E6F89F5A1C-SegmentedRaftLogWorker: created new log segment /workdir/ratis-test/target/test/data/aaa4fccd/MiniRaftClusterWithNetty55a7148e/s2/611a84d9-4fe5-4f71-a301-04e6f89f5a1c/current/log_inprogress_12
2019-09-24 12:06:49,386 INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:execute(569)) - s1@group-04E6F89F5A1C-SegmentedRaftLogWorker: created new log segment /workdir/ratis-test/target/test/data/aaa4fccd/MiniRaftClusterWithNetty55a7148e/s1/611a84d9-4fe5-4f71-a301-04e6f89f5a1c/current/log_inprogress_12
2019-09-24 12:06:49,386 DEBUG segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:flushWrites(340)) - s2@group-04E6F89F5A1C-SegmentedRaftLogWorker: flush SegmentedRaftLogOutputStream(/workdir/ratis-test/target/test/data/aaa4fccd/MiniRaftClusterWithNetty55a7148e/s2/611a84d9-4fe5-4f71-a301-04e6f89f5a1c/current/log_inprogress_12)
2019-09-24 12:06:49,386 INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:execute(569)) - s0@group-04E6F89F5A1C-SegmentedRaftLogWorker: created new log segment /workdir/ratis-test/target/test/data/aaa4fccd/MiniRaftClusterWithNetty55a7148e/s0/611a84d9-4fe5-4f71-a301-04e6f89f5a1c/current/log_inprogress_12
2019-09-24 12:06:49,386 DEBUG segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:flushWrites(340)) - s1@group-04E6F89F5A1C-SegmentedRaftLogWorker: flush SegmentedRaftLogOutputStream(/workdir/ratis-test/target/test/data/aaa4fccd/MiniRaftClusterWithNetty55a7148e/s1/611a84d9-4fe5-4f71-a301-04e6f89f5a1c/current/log_inprogress_12)
2019-09-24 12:06:49,387 DEBUG segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:flushWrites(340)) - s0@group-04E6F89F5A1C-SegmentedRaftLogWorker: flush SegmentedRaftLogOutputStream(/workdir/ratis-test/target/test/data/aaa4fccd/MiniRaftClusterWithNetty55a7148e/s0/611a84d9-4fe5-4f71-a301-04e6f89f5a1c/current/log_inprogress_12)
2019-09-24 12:06:49,395 TRACE segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:lambda$new$1(133)) - s2@group-04E6F89F5A1C-SegmentedRaftLogWorker: flushIndex: updateIncreasingly 11 -> 12
2019-09-24 12:06:49,396 TRACE segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:lambda$new$1(133)) - s1@group-04E6F89F5A1C-SegmentedRaftLogWorker: flushIndex: updateIncreasingly 11 -> 12
2019-09-24 12:06:49,396 TRACE segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:lambda$new$1(133)) - s0@group-04E6F89F5A1C-SegmentedRaftLogWorker: flushIndex: updateIncreasingly 11 -> 12
2019-09-24 12:06:49,396 DEBUG impl.RaftServerImpl (RaftServerImpl.java:logAppendEntries(850)) - s1@group-04E6F89F5A1C: succeeded to handle AppendEntries. Reply: s2<-s1#0:OK,SUCCESS,nextIndex:13,term:12,followerCommit:11
2019-09-24 12:06:49,396 DEBUG impl.RaftServerImpl (RaftServerImpl.java:logAppendEntries(850)) - s0@group-04E6F89F5A1C: succeeded to handle AppendEntries. Reply: s2<-s0#0:OK,SUCCESS,nextIndex:13,term:12,followerCommit:11
2019-09-24 12:06:49,397 DEBUG segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:addIOTask(251)) - s2@group-04E6F89F5A1C-SegmentedRaftLogWorker adds IO task WriteLog:13: (t:12, i:13), METADATAENTRY(c12)
2019-09-24 12:06:49,398 DEBUG segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:flushWrites(340)) - s2@group-04E6F89F5A1C-SegmentedRaftLogWorker: flush SegmentedRaftLogOutputStream(/workdir/ratis-test/target/test/data/aaa4fccd/MiniRaftClusterWithNetty55a7148e/s2/611a84d9-4fe5-4f71-a301-04e6f89f5a1c/current/log_inprogress_12)
2019-09-24 12:06:49,398 DEBUG impl.RaftServerImpl (RaftServerImpl.java:logAppendEntries(850)) - s0@group-04E6F89F5A1C: receive appendEntries(s2, 12, (t:12, i:12), 12, false, commits[s2:c12, s0:c11, s1:c11], entries: (t:12, i:13), METADATAENTRY(c12)
2019-09-24 12:06:49,398 DEBUG impl.RaftServerImpl (RaftServerImpl.java:logAppendEntries(850)) - s1@group-04E6F89F5A1C: receive appendEntries(s2, 12, (t:12, i:12), 12, false, commits[s2:c12, s0:c11, s1:c11], entries: (t:12, i:13), METADATAENTRY(c12)
2019-09-24 12:06:49,399 DEBUG segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:addIOTask(251)) - s0@group-04E6F89F5A1C-SegmentedRaftLogWorker adds IO task WriteLog:13: (t:12, i:13), METADATAENTRY(c12)
2019-09-24 12:06:49,399 DEBUG segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:addIOTask(251)) - s1@group-04E6F89F5A1C-SegmentedRaftLogWorker adds IO task WriteLog:13: (t:12, i:13), METADATAENTRY(c12)
2019-09-24 12:06:49,399 DEBUG segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:flushWrites(340)) - s0@group-04E6F89F5A1C-SegmentedRaftLogWorker: flush SegmentedRaftLogOutputStream(/workdir/ratis-test/target/test/data/aaa4fccd/MiniRaftClusterWithNetty55a7148e/s0/611a84d9-4fe5-4f71-a301-04e6f89f5a1c/current/log_inprogress_12)
2019-09-24 12:06:49,400 DEBUG segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:flushWrites(340)) - s1@group-04E6F89F5A1C-SegmentedRaftLogWorker: flush SegmentedRaftLogOutputStream(/workdir/ratis-test/target/test/data/aaa4fccd/MiniRaftClusterWithNetty55a7148e/s1/611a84d9-4fe5-4f71-a301-04e6f89f5a1c/current/log_inprogress_12)
2019-09-24 12:06:49,405 TRACE segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:lambda$new$1(133)) - s2@group-04E6F89F5A1C-SegmentedRaftLogWorker: flushIndex: updateIncreasingly 12 -> 13
2019-09-24 12:06:49,405 TRACE segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:lambda$new$1(133)) - s1@group-04E6F89F5A1C-SegmentedRaftLogWorker: flushIndex: updateIncreasingly 12 -> 13
2019-09-24 12:06:49,405 TRACE segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:lambda$new$1(133)) - s0@group-04E6F89F5A1C-SegmentedRaftLogWorker: flushIndex: updateIncreasingly 12 -> 13
2019-09-24 12:06:49,406 DEBUG impl.RaftServerImpl (RaftServerImpl.java:logAppendEntries(850)) - s1@group-04E6F89F5A1C: succeeded to handle AppendEntries. Reply: s2<-s1#0:OK,SUCCESS,nextIndex:14,term:12,followerCommit:12
2019-09-24 12:06:49,406 DEBUG impl.RaftServerImpl (RaftServerImpl.java:logAppendEntries(850)) - s0@group-04E6F89F5A1C: succeeded to handle AppendEntries. Reply: s2<-s0#0:OK,SUCCESS,nextIndex:14,term:12,followerCommit:12
2019-09-24 12:06:49,575 WARN  impl.LogAppender (LogAppender.java:sendAppendEntriesWithRetries(274)) - s4@group-E7D5050F4609->s3-LogAppender: Failed to appendEntries (retry=201): org.apache.ratis.thirdparty.io.netty.channel.AbstractChannel$AnnotatedConnectException: Connection refused: /0.0.0.0:40479
2019-09-24 12:06:49,642 INFO  ratis.RaftTestUtil (RaftTestUtil.java:waitForLeader(101)) - printing ALL groups
  s0:  RUNNING  FOLLOWER s0@group-04E6F89F5A1C:t12, leader=s2, voted=s2, raftlog=s0@group-04E6F89F5A1C-SegmentedRaftLog:OPENED:c13,f13,i13, conf=12: [s0:0.0.0.0:34119, s1:0.0.0.0:44382, s2:0.0.0.0:42516], old=null RUNNING
  s1:  RUNNING  FOLLOWER s1@group-04E6F89F5A1C:t12, leader=s2, voted=null, raftlog=s1@group-04E6F89F5A1C-SegmentedRaftLog:OPENED:c13,f13,i13, conf=12: [s0:0.0.0.0:34119, s1:0.0.0.0:44382, s2:0.0.0.0:42516], old=null RUNNING
  s2:  RUNNING    LEADER s2@group-04E6F89F5A1C:t12, leader=s2, voted=s2, raftlog=s2@group-04E6F89F5A1C-SegmentedRaftLog:OPENED:c13,f13,i13, conf=12: [s0:0.0.0.0:34119, s1:0.0.0.0:44382, s2:0.0.0.0:42516], old=null RUNNING
2019-09-24 12:06:49,642 INFO  ratis.RaftTestUtil (RaftTestUtil.java:lambda$changeLeader$7(367)) - Changed leader from s1 to s2
2019-09-24 12:06:49,642 INFO  util.CodeInjectionForTesting (BlockRequestHandlingInjection.java:unblockRequestor(53)) - UnBlock requestor s1
2019-09-24 12:06:49,642 INFO  util.CodeInjectionForTesting (BlockRequestHandlingInjection.java:blockRequestor(48)) - Block requestor s2
2019-09-24 12:06:49,643 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.rpc.timeout.max = 300ms (default)
2019-09-24 12:06:49,643 INFO  ratis.RaftTestUtil (RaftTestUtil.java:waitForLeader(86)) - printing ALL groups
  s0:  RUNNING  FOLLOWER s0@group-04E6F89F5A1C:t12, leader=s2, voted=s2, raftlog=s0@group-04E6F89F5A1C-SegmentedRaftLog:OPENED:c13,f13,i13, conf=12: [s0:0.0.0.0:34119, s1:0.0.0.0:44382, s2:0.0.0.0:42516], old=null RUNNING
  s1:  RUNNING  FOLLOWER s1@group-04E6F89F5A1C:t12, leader=s2, voted=null, raftlog=s1@group-04E6F89F5A1C-SegmentedRaftLog:OPENED:c13,f13,i13, conf=12: [s0:0.0.0.0:34119, s1:0.0.0.0:44382, s2:0.0.0.0:42516], old=null RUNNING
  s2:  RUNNING    LEADER s2@group-04E6F89F5A1C:t12, leader=s2, voted=s2, raftlog=s2@group-04E6F89F5A1C-SegmentedRaftLog:OPENED:c13,f13,i13, conf=12: [s0:0.0.0.0:34119, s1:0.0.0.0:44382, s2:0.0.0.0:42516], old=null RUNNING
2019-09-24 12:06:49,644 INFO  ratis.RaftTestUtil (RaftTestUtil.java:waitForLeader(101)) - printing ALL groups
  s0:  RUNNING  FOLLOWER s0@group-04E6F89F5A1C:t12, leader=s2, voted=s2, raftlog=s0@group-04E6F89F5A1C-SegmentedRaftLog:OPENED:c13,f13,i13, conf=12: [s0:0.0.0.0:34119, s1:0.0.0.0:44382, s2:0.0.0.0:42516], old=null RUNNING
  s1:  RUNNING  FOLLOWER s1@group-04E6F89F5A1C:t12, leader=s2, voted=null, raftlog=s1@group-04E6F89F5A1C-SegmentedRaftLog:OPENED:c13,f13,i13, conf=12: [s0:0.0.0.0:34119, s1:0.0.0.0:44382, s2:0.0.0.0:42516], old=null RUNNING
  s2:  RUNNING    LEADER s2@group-04E6F89F5A1C:t12, leader=s2, voted=s2, raftlog=s2@group-04E6F89F5A1C-SegmentedRaftLog:OPENED:c13,f13,i13, conf=12: [s0:0.0.0.0:34119, s1:0.0.0.0:44382, s2:0.0.0.0:42516], old=null RUNNING
2019-09-24 12:06:49,644 WARN  ratis.RaftTestUtil (JavaUtils.java:attempt(158)) - FAILED "testChangeLeader-changeLeader", attempt #1/20: java.lang.IllegalStateException: Failed to change leader: newLeader == oldLeader == s2, sleep 100ms and then retry.
java.lang.IllegalStateException: Failed to change leader: newLeader == oldLeader == s2
	at org.apache.ratis.RaftTestUtil.lambda$changeLeader$7(RaftTestUtil.java:365)
	at org.apache.ratis.util.JavaUtils.attempt(JavaUtils.java:152)
	at org.apache.ratis.RaftTestUtil.changeLeader(RaftTestUtil.java:362)
	at org.apache.ratis.server.impl.LeaderElectionTests.testChangeLeader(LeaderElectionTests.java:81)
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.lang.reflect.Method.invoke(Method.java:498)
	at org.junit.runners.model.FrameworkMethod$1.runReflectiveCall(FrameworkMethod.java:50)
	at org.junit.internal.runners.model.ReflectiveCallable.run(ReflectiveCallable.java:12)
	at org.junit.runners.model.FrameworkMethod.invokeExplosively(FrameworkMethod.java:47)
	at org.junit.internal.runners.statements.InvokeMethod.evaluate(InvokeMethod.java:17)
	at org.junit.internal.runners.statements.RunAfters.evaluate(RunAfters.java:27)
	at org.junit.internal.runners.statements.FailOnTimeout$CallableStatement.call(FailOnTimeout.java:298)
	at org.junit.internal.runners.statements.FailOnTimeout$CallableStatement.call(FailOnTimeout.java:292)
	at java.util.concurrent.FutureTask.run(FutureTask.java:266)
	at java.lang.Thread.run(Thread.java:748)
2019-09-24 12:06:49,710 INFO  util.CodeInjectionForTesting (BlockRequestHandlingInjection.java:execute(76)) - s1: Block request from s2
2019-09-24 12:06:49,711 INFO  util.CodeInjectionForTesting (BlockRequestHandlingInjection.java:execute(76)) - s0: Block request from s2
2019-09-24 12:06:49,744 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.rpc.timeout.max = 300ms (default)
2019-09-24 12:06:49,745 INFO  ratis.RaftTestUtil (RaftTestUtil.java:waitForLeader(86)) - printing ALL groups
  s0:  RUNNING  FOLLOWER s0@group-04E6F89F5A1C:t12, leader=s2, voted=s2, raftlog=s0@group-04E6F89F5A1C-SegmentedRaftLog:OPENED:c13,f13,i13, conf=12: [s0:0.0.0.0:34119, s1:0.0.0.0:44382, s2:0.0.0.0:42516], old=null RUNNING
  s1:  RUNNING  FOLLOWER s1@group-04E6F89F5A1C:t12, leader=s2, voted=null, raftlog=s1@group-04E6F89F5A1C-SegmentedRaftLog:OPENED:c13,f13,i13, conf=12: [s0:0.0.0.0:34119, s1:0.0.0.0:44382, s2:0.0.0.0:42516], old=null RUNNING
  s2:  RUNNING    LEADER s2@group-04E6F89F5A1C:t12, leader=s2, voted=s2, raftlog=s2@group-04E6F89F5A1C-SegmentedRaftLog:OPENED:c13,f13,i13, conf=12: [s0:0.0.0.0:34119, s1:0.0.0.0:44382, s2:0.0.0.0:42516], old=null RUNNING
2019-09-24 12:06:49,745 INFO  ratis.RaftTestUtil (RaftTestUtil.java:waitForLeader(101)) - printing ALL groups
  s0:  RUNNING  FOLLOWER s0@group-04E6F89F5A1C:t12, leader=s2, voted=s2, raftlog=s0@group-04E6F89F5A1C-SegmentedRaftLog:OPENED:c13,f13,i13, conf=12: [s0:0.0.0.0:34119, s1:0.0.0.0:44382, s2:0.0.0.0:42516], old=null RUNNING
  s1:  RUNNING  FOLLOWER s1@group-04E6F89F5A1C:t12, leader=s2, voted=null, raftlog=s1@group-04E6F89F5A1C-SegmentedRaftLog:OPENED:c13,f13,i13, conf=12: [s0:0.0.0.0:34119, s1:0.0.0.0:44382, s2:0.0.0.0:42516], old=null RUNNING
  s2:  RUNNING    LEADER s2@group-04E6F89F5A1C:t12, leader=s2, voted=s2, raftlog=s2@group-04E6F89F5A1C-SegmentedRaftLog:OPENED:c13,f13,i13, conf=12: [s0:0.0.0.0:34119, s1:0.0.0.0:44382, s2:0.0.0.0:42516], old=null RUNNING
2019-09-24 12:06:49,746 WARN  ratis.RaftTestUtil (JavaUtils.java:attempt(158)) - FAILED "testChangeLeader-changeLeader", attempt #2/20: java.lang.IllegalStateException: Failed to change leader: newLeader == oldLeader == s2, sleep 100ms and then retry.
java.lang.IllegalStateException: Failed to change leader: newLeader == oldLeader == s2
	at org.apache.ratis.RaftTestUtil.lambda$changeLeader$7(RaftTestUtil.java:365)
	at org.apache.ratis.util.JavaUtils.attempt(JavaUtils.java:152)
	at org.apache.ratis.RaftTestUtil.changeLeader(RaftTestUtil.java:362)
	at org.apache.ratis.server.impl.LeaderElectionTests.testChangeLeader(LeaderElectionTests.java:81)
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.lang.reflect.Method.invoke(Method.java:498)
	at org.junit.runners.model.FrameworkMethod$1.runReflectiveCall(FrameworkMethod.java:50)
	at org.junit.internal.runners.model.ReflectiveCallable.run(ReflectiveCallable.java:12)
	at org.junit.runners.model.FrameworkMethod.invokeExplosively(FrameworkMethod.java:47)
	at org.junit.internal.runners.statements.InvokeMethod.evaluate(InvokeMethod.java:17)
	at org.junit.internal.runners.statements.RunAfters.evaluate(RunAfters.java:27)
	at org.junit.internal.runners.statements.FailOnTimeout$CallableStatement.call(FailOnTimeout.java:298)
	at org.junit.internal.runners.statements.FailOnTimeout$CallableStatement.call(FailOnTimeout.java:292)
	at java.util.concurrent.FutureTask.run(FutureTask.java:266)
	at java.lang.Thread.run(Thread.java:748)
2019-09-24 12:06:49,808 WARN  impl.LogAppender (LogAppender.java:sendAppendEntriesWithRetries(274)) - s4@group-E7D5050F4609->s3-LogAppender: Failed to appendEntries (retry=211): org.apache.ratis.thirdparty.io.netty.channel.AbstractChannel$AnnotatedConnectException: Connection refused: /0.0.0.0:40479
2019-09-24 12:06:49,846 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.rpc.timeout.max = 300ms (default)
2019-09-24 12:06:49,846 INFO  util.CodeInjectionForTesting (BlockRequestHandlingInjection.java:execute(82)) - s2: unBlock request from s1
2019-09-24 12:06:49,847 INFO  ratis.RaftTestUtil (RaftTestUtil.java:waitForLeader(86)) - printing ALL groups
  s0:  RUNNING  FOLLOWER s0@group-04E6F89F5A1C:t12, leader=s2, voted=s2, raftlog=s0@group-04E6F89F5A1C-SegmentedRaftLog:OPENED:c13,f13,i13, conf=12: [s0:0.0.0.0:34119, s1:0.0.0.0:44382, s2:0.0.0.0:42516], old=null RUNNING
  s1:  RUNNING  FOLLOWER s1@group-04E6F89F5A1C:t12, leader=s2, voted=null, raftlog=s1@group-04E6F89F5A1C-SegmentedRaftLog:OPENED:c13,f13,i13, conf=12: [s0:0.0.0.0:34119, s1:0.0.0.0:44382, s2:0.0.0.0:42516], old=null RUNNING
  s2:  RUNNING    LEADER s2@group-04E6F89F5A1C:t12, leader=s2, voted=s2, raftlog=s2@group-04E6F89F5A1C-SegmentedRaftLog:OPENED:c13,f13,i13, conf=12: [s0:0.0.0.0:34119, s1:0.0.0.0:44382, s2:0.0.0.0:42516], old=null RUNNING
2019-09-24 12:06:49,847 INFO  util.CodeInjectionForTesting (BlockRequestHandlingInjection.java:execute(82)) - s0: unBlock request from s1
2019-09-24 12:06:49,847 INFO  ratis.RaftTestUtil (RaftTestUtil.java:waitForLeader(101)) - printing ALL groups
  s0:  RUNNING  FOLLOWER s0@group-04E6F89F5A1C:t12, leader=s2, voted=s2, raftlog=s0@group-04E6F89F5A1C-SegmentedRaftLog:OPENED:c13,f13,i13, conf=12: [s0:0.0.0.0:34119, s1:0.0.0.0:44382, s2:0.0.0.0:42516], old=null RUNNING
  s1:  RUNNING  FOLLOWER s1@group-04E6F89F5A1C:t12, leader=s2, voted=null, raftlog=s1@group-04E6F89F5A1C-SegmentedRaftLog:OPENED:c13,f13,i13, conf=12: [s0:0.0.0.0:34119, s1:0.0.0.0:44382, s2:0.0.0.0:42516], old=null RUNNING
  s2:  RUNNING    LEADER s2@group-04E6F89F5A1C:t12, leader=s2, voted=s2, raftlog=s2@group-04E6F89F5A1C-SegmentedRaftLog:OPENED:c13,f13,i13, conf=12: [s0:0.0.0.0:34119, s1:0.0.0.0:44382, s2:0.0.0.0:42516], old=null RUNNING
2019-09-24 12:06:49,847 DEBUG impl.RaftServerImpl (RaftServerImpl.java:appendEntriesAsync(906)) - s2@group-04E6F89F5A1C: Not recognize s1 (term=11) as leader, state: s2@group-04E6F89F5A1C:t12, leader=s2, voted=s2, raftlog=s2@group-04E6F89F5A1C-SegmentedRaftLog:OPENED:c13,f13,i13, conf=12: [s0:0.0.0.0:34119, s1:0.0.0.0:44382, s2:0.0.0.0:42516], old=null reply: s1<-s2#0:FAIL,NOT_LEADER,nextIndex:14,term:12,followerCommit:13
2019-09-24 12:06:49,848 WARN  ratis.RaftTestUtil (JavaUtils.java:attempt(158)) - FAILED "testChangeLeader-changeLeader", attempt #3/20: java.lang.IllegalStateException: Failed to change leader: newLeader == oldLeader == s2, sleep 100ms and then retry.
java.lang.IllegalStateException: Failed to change leader: newLeader == oldLeader == s2
	at org.apache.ratis.RaftTestUtil.lambda$changeLeader$7(RaftTestUtil.java:365)
	at org.apache.ratis.util.JavaUtils.attempt(JavaUtils.java:152)
	at org.apache.ratis.RaftTestUtil.changeLeader(RaftTestUtil.java:362)
	at org.apache.ratis.server.impl.LeaderElectionTests.testChangeLeader(LeaderElectionTests.java:81)
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.lang.reflect.Method.invoke(Method.java:498)
	at org.junit.runners.model.FrameworkMethod$1.runReflectiveCall(FrameworkMethod.java:50)
	at org.junit.internal.runners.model.ReflectiveCallable.run(ReflectiveCallable.java:12)
	at org.junit.runners.model.FrameworkMethod.invokeExplosively(FrameworkMethod.java:47)
	at org.junit.internal.runners.statements.InvokeMethod.evaluate(InvokeMethod.java:17)
	at org.junit.internal.runners.statements.RunAfters.evaluate(RunAfters.java:27)
	at org.junit.internal.runners.statements.FailOnTimeout$CallableStatement.call(FailOnTimeout.java:298)
	at org.junit.internal.runners.statements.FailOnTimeout$CallableStatement.call(FailOnTimeout.java:292)
	at java.util.concurrent.FutureTask.run(FutureTask.java:266)
	at java.lang.Thread.run(Thread.java:748)
2019-09-24 12:06:49,848 DEBUG impl.RaftServerImpl (RaftServerImpl.java:appendEntriesAsync(906)) - s0@group-04E6F89F5A1C: Not recognize s1 (term=11) as leader, state: s0@group-04E6F89F5A1C:t12, leader=s2, voted=s2, raftlog=s0@group-04E6F89F5A1C-SegmentedRaftLog:OPENED:c13,f13,i13, conf=12: [s0:0.0.0.0:34119, s1:0.0.0.0:44382, s2:0.0.0.0:42516], old=null reply: s1<-s0#0:FAIL,NOT_LEADER,nextIndex:14,term:12,followerCommit:13
2019-09-24 12:06:49,908 INFO  impl.FollowerState (FollowerState.java:run(108)) - s0@group-04E6F89F5A1C-FollowerState: change to CANDIDATE, lastRpcTime:273ms, electionTimeout:192ms
2019-09-24 12:06:49,908 INFO  impl.RoleInfo (RoleInfo.java:shutdownFollowerState(121)) - s0: shutdown FollowerState
2019-09-24 12:06:49,909 INFO  impl.RaftServerImpl (RaftServerImpl.java:setRole(170)) - s0@group-04E6F89F5A1C: changes role from  FOLLOWER to CANDIDATE at term 12 for changeToCandidate
2019-09-24 12:06:49,909 INFO  impl.RoleInfo (RoleInfo.java:updateAndGet(143)) - s0: start LeaderElection
2019-09-24 12:06:49,909 INFO  impl.RaftServerImpl (ServerState.java:setLeader(254)) - s0@group-04E6F89F5A1C: change Leader from s2 to null at term 12 for initElection
2019-09-24 12:06:49,923 INFO  impl.LeaderElection (LeaderElection.java:askForVotes(178)) - s0@group-04E6F89F5A1C-LeaderElection39: begin an election at term 13 for 12: [s0:0.0.0.0:34119, s1:0.0.0.0:44382, s2:0.0.0.0:42516], old=null
2019-09-24 12:06:49,924 DEBUG impl.RaftServerImpl (RaftServerImpl.java:requestVote(743)) - s1@group-04E6F89F5A1C: receive requestVote(s0, group-04E6F89F5A1C, 13, (t:12, i:13))
2019-09-24 12:06:49,925 DEBUG impl.RaftServerImpl (RaftServerImpl.java:requestVote(743)) - s2@group-04E6F89F5A1C: receive requestVote(s0, group-04E6F89F5A1C, 13, (t:12, i:13))
2019-09-24 12:06:49,925 INFO  impl.RaftServerImpl (ServerState.java:setLeader(254)) - s2@group-04E6F89F5A1C: change Leader from s2 to null at term 13 for updateCurrentTerm
2019-09-24 12:06:49,925 INFO  impl.RaftServerImpl (ServerState.java:setLeader(254)) - s1@group-04E6F89F5A1C: change Leader from s2 to null at term 13 for updateCurrentTerm
2019-09-24 12:06:49,925 INFO  impl.RaftServerImpl (RaftServerImpl.java:setRole(170)) - s2@group-04E6F89F5A1C: changes role from    LEADER to FOLLOWER at term 13 for recognizeCandidate:s0
2019-09-24 12:06:49,926 INFO  impl.RaftServerImpl (RaftServerImpl.java:setRole(170)) - s1@group-04E6F89F5A1C: changes role from  FOLLOWER to FOLLOWER at term 13 for recognizeCandidate:s0
2019-09-24 12:06:49,926 INFO  impl.RoleInfo (RoleInfo.java:shutdownLeaderState(104)) - s2: shutdown LeaderState
2019-09-24 12:06:49,926 INFO  impl.RoleInfo (RoleInfo.java:shutdownFollowerState(121)) - s1: shutdown FollowerState
2019-09-24 12:06:49,929 INFO  impl.LogAppender (LogAppender.java:run(78)) - s2@group-04E6F89F5A1C->s1-LogAppender-AppenderDaemon was interrupted: java.io.InterruptedIOException: s2->s1#0 sending from s1:0.0.0.0:44382 is interrupted.
2019-09-24 12:06:49,929 INFO  impl.FollowerState (FollowerState.java:run(117)) - s1@group-04E6F89F5A1C-FollowerState was interrupted: java.lang.InterruptedException: sleep interrupted
2019-09-24 12:06:49,928 INFO  impl.LogAppender (LogAppender.java:run(78)) - s2@group-04E6F89F5A1C->s0-LogAppender-AppenderDaemon was interrupted: java.io.InterruptedIOException: s2->s0#0 sending from s0:0.0.0.0:34119 is interrupted.
2019-09-24 12:06:49,929 INFO  impl.RoleInfo (RoleInfo.java:updateAndGet(143)) - s1: start FollowerState
2019-09-24 12:06:49,929 INFO  impl.PendingRequests (PendingRequests.java:sendNotLeaderResponses(202)) - s2@group-04E6F89F5A1C-PendingRequests: sendNotLeaderResponses
2019-09-24 12:06:49,930 INFO  impl.RoleInfo (RoleInfo.java:updateAndGet(143)) - s2: start FollowerState
2019-09-24 12:06:49,949 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.rpc.timeout.max = 300ms (default)
2019-09-24 12:06:49,949 INFO  ratis.RaftTestUtil (RaftTestUtil.java:waitForLeader(86)) - printing ALL groups
  s0:  RUNNING CANDIDATE s0@group-04E6F89F5A1C:t13, leader=null, voted=s0, raftlog=s0@group-04E6F89F5A1C-SegmentedRaftLog:OPENED:c13,f13,i13, conf=12: [s0:0.0.0.0:34119, s1:0.0.0.0:44382, s2:0.0.0.0:42516], old=null RUNNING
  s1:  RUNNING  FOLLOWER s1@group-04E6F89F5A1C:t13, leader=null, voted=s0, raftlog=s1@group-04E6F89F5A1C-SegmentedRaftLog:OPENED:c13,f13,i13, conf=12: [s0:0.0.0.0:34119, s1:0.0.0.0:44382, s2:0.0.0.0:42516], old=null RUNNING
  s2:  RUNNING  FOLLOWER s2@group-04E6F89F5A1C:t13, leader=null, voted=null, raftlog=s2@group-04E6F89F5A1C-SegmentedRaftLog:OPENED:c13,f13,i13, conf=12: [s0:0.0.0.0:34119, s1:0.0.0.0:44382, s2:0.0.0.0:42516], old=null RUNNING
2019-09-24 12:06:49,950 WARN  ratis.RaftTestUtil (JavaUtils.java:attempt(158)) - FAILED "waitForLeader-null-(expectLeader? true)", attempt #1/100: java.lang.IllegalStateException: No leader yet : printing ALL groups
  s0:  RUNNING CANDIDATE s0@group-04E6F89F5A1C:t13, leader=null, voted=s0, raftlog=s0@group-04E6F89F5A1C-SegmentedRaftLog:OPENED:c13,f13,i13, conf=12: [s0:0.0.0.0:34119, s1:0.0.0.0:44382, s2:0.0.0.0:42516], old=null RUNNING
  s1:  RUNNING  FOLLOWER s1@group-04E6F89F5A1C:t13, leader=null, voted=s0, raftlog=s1@group-04E6F89F5A1C-SegmentedRaftLog:OPENED:c13,f13,i13, conf=12: [s0:0.0.0.0:34119, s1:0.0.0.0:44382, s2:0.0.0.0:42516], old=null RUNNING
  s2:  RUNNING  FOLLOWER s2@group-04E6F89F5A1C:t13, leader=null, voted=null, raftlog=s2@group-04E6F89F5A1C-SegmentedRaftLog:OPENED:c13,f13,i13, conf=12: [s0:0.0.0.0:34119, s1:0.0.0.0:44382, s2:0.0.0.0:42516], old=null RUNNING, sleep 450ms and then retry.
java.lang.IllegalStateException: No leader yet : printing ALL groups
  s0:  RUNNING CANDIDATE s0@group-04E6F89F5A1C:t13, leader=null, voted=s0, raftlog=s0@group-04E6F89F5A1C-SegmentedRaftLog:OPENED:c13,f13,i13, conf=12: [s0:0.0.0.0:34119, s1:0.0.0.0:44382, s2:0.0.0.0:42516], old=null RUNNING
  s1:  RUNNING  FOLLOWER s1@group-04E6F89F5A1C:t13, leader=null, voted=s0, raftlog=s1@group-04E6F89F5A1C-SegmentedRaftLog:OPENED:c13,f13,i13, conf=12: [s0:0.0.0.0:34119, s1:0.0.0.0:44382, s2:0.0.0.0:42516], old=null RUNNING
  s2:  RUNNING  FOLLOWER s2@group-04E6F89F5A1C:t13, leader=null, voted=null, raftlog=s2@group-04E6F89F5A1C-SegmentedRaftLog:OPENED:c13,f13,i13, conf=12: [s0:0.0.0.0:34119, s1:0.0.0.0:44382, s2:0.0.0.0:42516], old=null RUNNING
	at org.apache.ratis.MiniRaftCluster.newIllegalStateExceptionForNoLeaders(MiniRaftCluster.java:506)
	at org.apache.ratis.RaftTestUtil.lambda$waitForLeader$1(RaftTestUtil.java:90)
	at org.apache.ratis.MiniRaftCluster.getLeader(MiniRaftCluster.java:539)
	at org.apache.ratis.MiniRaftCluster.getLeader(MiniRaftCluster.java:532)
	at org.apache.ratis.RaftTestUtil.lambda$waitForLeader$3(RaftTestUtil.java:98)
	at org.apache.ratis.util.JavaUtils.attempt(JavaUtils.java:152)
	at org.apache.ratis.RaftTestUtil.waitForLeader(RaftTestUtil.java:97)
	at org.apache.ratis.RaftTestUtil.waitForLeader(RaftTestUtil.java:77)
	at org.apache.ratis.RaftTestUtil.waitForLeader(RaftTestUtil.java:72)
	at org.apache.ratis.RaftTestUtil.lambda$changeLeader$7(RaftTestUtil.java:363)
	at org.apache.ratis.util.JavaUtils.attempt(JavaUtils.java:152)
	at org.apache.ratis.RaftTestUtil.changeLeader(RaftTestUtil.java:362)
	at org.apache.ratis.server.impl.LeaderElectionTests.testChangeLeader(LeaderElectionTests.java:81)
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.lang.reflect.Method.invoke(Method.java:498)
	at org.junit.runners.model.FrameworkMethod$1.runReflectiveCall(FrameworkMethod.java:50)
	at org.junit.internal.runners.model.ReflectiveCallable.run(ReflectiveCallable.java:12)
	at org.junit.runners.model.FrameworkMethod.invokeExplosively(FrameworkMethod.java:47)
	at org.junit.internal.runners.statements.InvokeMethod.evaluate(InvokeMethod.java:17)
	at org.junit.internal.runners.statements.RunAfters.evaluate(RunAfters.java:27)
	at org.junit.internal.runners.statements.FailOnTimeout$CallableStatement.call(FailOnTimeout.java:298)
	at org.junit.internal.runners.statements.FailOnTimeout$CallableStatement.call(FailOnTimeout.java:292)
	at java.util.concurrent.FutureTask.run(FutureTask.java:266)
	at java.lang.Thread.run(Thread.java:748)
2019-09-24 12:06:49,955 DEBUG impl.RaftServerImpl (RaftServerImpl.java:requestVote(775)) - s1@group-04E6F89F5A1C replies to vote request: s0<-s1#0:OK-t13. Peer's state: s1@group-04E6F89F5A1C:t13, leader=null, voted=s0, raftlog=s1@group-04E6F89F5A1C-SegmentedRaftLog:OPENED:c13,f13,i13, conf=12: [s0:0.0.0.0:34119, s1:0.0.0.0:44382, s2:0.0.0.0:42516], old=null
2019-09-24 12:06:49,955 DEBUG impl.RaftServerImpl (RaftServerImpl.java:requestVote(775)) - s2@group-04E6F89F5A1C replies to vote request: s0<-s2#0:FAIL-t13. Peer's state: s2@group-04E6F89F5A1C:t13, leader=null, voted=null, raftlog=s2@group-04E6F89F5A1C-SegmentedRaftLog:OPENED:c13,f13,i13, conf=12: [s0:0.0.0.0:34119, s1:0.0.0.0:44382, s2:0.0.0.0:42516], old=null
2019-09-24 12:06:49,956 INFO  impl.LeaderElection (LeaderElection.java:logAndReturn(56)) - s0@group-04E6F89F5A1C-LeaderElection39: Election PASSED; received 1 response(s) [s0<-s1#0:OK-t13] and 0 exception(s); s0@group-04E6F89F5A1C:t13, leader=null, voted=s0, raftlog=s0@group-04E6F89F5A1C-SegmentedRaftLog:OPENED:c13,f13,i13, conf=12: [s0:0.0.0.0:34119, s1:0.0.0.0:44382, s2:0.0.0.0:42516], old=null
2019-09-24 12:06:49,956 INFO  impl.RoleInfo (RoleInfo.java:shutdownLeaderElection(134)) - s0: shutdown LeaderElection
2019-09-24 12:06:49,957 INFO  impl.RaftServerImpl (RaftServerImpl.java:setRole(170)) - s0@group-04E6F89F5A1C: changes role from CANDIDATE to LEADER at term 13 for changeToLeader
2019-09-24 12:06:49,957 INFO  impl.RaftServerImpl (ServerState.java:setLeader(254)) - s0@group-04E6F89F5A1C: change Leader from null to s0 at term 13 for becomeLeader, leader elected after 47ms
2019-09-24 12:06:49,957 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.staging.catchup.gap = 1000 (default)
2019-09-24 12:06:49,957 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.rpc.sleep.time = 25ms (default)
2019-09-24 12:06:49,957 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.write.element-limit = 4096 (default)
2019-09-24 12:06:49,958 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.watch.timeout = 10s (default)
2019-09-24 12:06:49,958 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.watch.timeout.denomination = 1s (default)
2019-09-24 12:06:49,958 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.watch.element-limit = 65536 (default)
2019-09-24 12:06:49,959 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.log.appender.snapshot.chunk.size.max = 16MB (=16777216) (default)
2019-09-24 12:06:49,959 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.log.appender.buffer.byte-limit = 4MB (=4194304) (default)
2019-09-24 12:06:49,959 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.log.appender.buffer.element-limit = 0 (default)
2019-09-24 12:06:49,960 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.log.appender.snapshot.chunk.size.max = 16MB (=16777216) (default)
2019-09-24 12:06:49,960 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.log.appender.buffer.byte-limit = 4MB (=4194304) (default)
2019-09-24 12:06:49,960 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.log.appender.buffer.element-limit = 0 (default)
2019-09-24 12:06:49,960 INFO  impl.RoleInfo (RoleInfo.java:updateAndGet(143)) - s0: start LeaderState
2019-09-24 12:06:49,961 INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:rollLogSegment(385)) - s0@group-04E6F89F5A1C-SegmentedRaftLogWorker: Rolling segment log-12_13 to index:13
2019-09-24 12:06:49,961 DEBUG segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:addIOTask(251)) - s0@group-04E6F89F5A1C-SegmentedRaftLogWorker adds IO task FinalizeLogSegment:13: startIndex=12 endIndex=13
2019-09-24 12:06:49,961 DEBUG segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:addIOTask(251)) - s0@group-04E6F89F5A1C-SegmentedRaftLogWorker adds IO task StartLogSegment:14
2019-09-24 12:06:49,962 DEBUG segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:addIOTask(251)) - s0@group-04E6F89F5A1C-SegmentedRaftLogWorker adds IO task WriteLog:14: (t:13, i:14), CONFIGURATIONENTRY
2019-09-24 12:06:49,962 INFO  impl.RaftServerImpl (ServerState.java:setRaftConf(355)) - s0@group-04E6F89F5A1C: set configuration 14: [s0:0.0.0.0:34119, s1:0.0.0.0:44382, s2:0.0.0.0:42516], old=null at 14
2019-09-24 12:06:49,963 INFO  impl.RaftServerImpl (ServerState.java:setLeader(254)) - s1@group-04E6F89F5A1C: change Leader from null to s0 at term 13 for appendEntries, leader elected after 38ms
2019-09-24 12:06:49,963 INFO  impl.RaftServerImpl (ServerState.java:setLeader(254)) - s2@group-04E6F89F5A1C: change Leader from null to s0 at term 13 for appendEntries, leader elected after 37ms
2019-09-24 12:06:49,963 TRACE util.FileUtils (LogUtils.java:runAndLog(61)) - Successfully ran Files.move /workdir/ratis-test/target/test/data/aaa4fccd/MiniRaftClusterWithNetty55a7148e/s0/611a84d9-4fe5-4f71-a301-04e6f89f5a1c/current/log_inprogress_12 to /workdir/ratis-test/target/test/data/aaa4fccd/MiniRaftClusterWithNetty55a7148e/s0/611a84d9-4fe5-4f71-a301-04e6f89f5a1c/current/log_12-13
2019-09-24 12:06:49,964 INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:execute(526)) - s0@group-04E6F89F5A1C-SegmentedRaftLogWorker: Rolled log segment from /workdir/ratis-test/target/test/data/aaa4fccd/MiniRaftClusterWithNetty55a7148e/s0/611a84d9-4fe5-4f71-a301-04e6f89f5a1c/current/log_inprogress_12 to /workdir/ratis-test/target/test/data/aaa4fccd/MiniRaftClusterWithNetty55a7148e/s0/611a84d9-4fe5-4f71-a301-04e6f89f5a1c/current/log_12-13
2019-09-24 12:06:49,964 TRACE segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:lambda$new$1(133)) - s0@group-04E6F89F5A1C-SegmentedRaftLogWorker: flushIndex: updateIncreasingly 13 -> 13
2019-09-24 12:06:49,964 DEBUG impl.RaftServerImpl (RaftServerImpl.java:logAppendEntries(850)) - s1@group-04E6F89F5A1C: receive appendEntries(s0, 13, (t:12, i:13), 13, false, commits[s0:c13, s1:c13, s2:c13], entries: (t:13, i:14), CONFIGURATIONENTRY
2019-09-24 12:06:49,964 DEBUG impl.RaftServerImpl (RaftServerImpl.java:logAppendEntries(850)) - s2@group-04E6F89F5A1C: receive appendEntries(s0, 13, (t:12, i:13), 13, false, commits[s0:c13, s1:c13, s2:c13], entries: (t:13, i:14), CONFIGURATIONENTRY
2019-09-24 12:06:49,965 INFO  impl.RaftServerImpl (ServerState.java:setRaftConf(355)) - s1@group-04E6F89F5A1C: set configuration 14: [s0:0.0.0.0:34119, s1:0.0.0.0:44382, s2:0.0.0.0:42516], old=null at 14
2019-09-24 12:06:49,965 INFO  impl.RaftServerImpl (ServerState.java:setRaftConf(355)) - s2@group-04E6F89F5A1C: set configuration 14: [s0:0.0.0.0:34119, s1:0.0.0.0:44382, s2:0.0.0.0:42516], old=null at 14
2019-09-24 12:06:49,965 INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:rollLogSegment(385)) - s1@group-04E6F89F5A1C-SegmentedRaftLogWorker: Rolling segment log-12_13 to index:13
2019-09-24 12:06:49,966 INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:rollLogSegment(385)) - s2@group-04E6F89F5A1C-SegmentedRaftLogWorker: Rolling segment log-12_13 to index:13
2019-09-24 12:06:49,966 DEBUG segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:addIOTask(251)) - s1@group-04E6F89F5A1C-SegmentedRaftLogWorker adds IO task FinalizeLogSegment:13: startIndex=12 endIndex=13
2019-09-24 12:06:49,966 DEBUG segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:addIOTask(251)) - s2@group-04E6F89F5A1C-SegmentedRaftLogWorker adds IO task FinalizeLogSegment:13: startIndex=12 endIndex=13
2019-09-24 12:06:49,967 DEBUG segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:addIOTask(251)) - s1@group-04E6F89F5A1C-SegmentedRaftLogWorker adds IO task StartLogSegment:14
2019-09-24 12:06:49,967 DEBUG segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:addIOTask(251)) - s2@group-04E6F89F5A1C-SegmentedRaftLogWorker adds IO task StartLogSegment:14
2019-09-24 12:06:49,967 DEBUG segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:addIOTask(251)) - s1@group-04E6F89F5A1C-SegmentedRaftLogWorker adds IO task WriteLog:14: (t:13, i:14), CONFIGURATIONENTRY
2019-09-24 12:06:49,968 DEBUG segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:addIOTask(251)) - s2@group-04E6F89F5A1C-SegmentedRaftLogWorker adds IO task WriteLog:14: (t:13, i:14), CONFIGURATIONENTRY
2019-09-24 12:06:49,969 TRACE util.FileUtils (LogUtils.java:runAndLog(61)) - Successfully ran Files.move /workdir/ratis-test/target/test/data/aaa4fccd/MiniRaftClusterWithNetty55a7148e/s1/611a84d9-4fe5-4f71-a301-04e6f89f5a1c/current/log_inprogress_12 to /workdir/ratis-test/target/test/data/aaa4fccd/MiniRaftClusterWithNetty55a7148e/s1/611a84d9-4fe5-4f71-a301-04e6f89f5a1c/current/log_12-13
2019-09-24 12:06:49,969 INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:execute(526)) - s1@group-04E6F89F5A1C-SegmentedRaftLogWorker: Rolled log segment from /workdir/ratis-test/target/test/data/aaa4fccd/MiniRaftClusterWithNetty55a7148e/s1/611a84d9-4fe5-4f71-a301-04e6f89f5a1c/current/log_inprogress_12 to /workdir/ratis-test/target/test/data/aaa4fccd/MiniRaftClusterWithNetty55a7148e/s1/611a84d9-4fe5-4f71-a301-04e6f89f5a1c/current/log_12-13
2019-09-24 12:06:49,969 TRACE segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:lambda$new$1(133)) - s1@group-04E6F89F5A1C-SegmentedRaftLogWorker: flushIndex: updateIncreasingly 13 -> 13
2019-09-24 12:06:49,970 TRACE util.FileUtils (LogUtils.java:runAndLog(61)) - Successfully ran Files.move /workdir/ratis-test/target/test/data/aaa4fccd/MiniRaftClusterWithNetty55a7148e/s2/611a84d9-4fe5-4f71-a301-04e6f89f5a1c/current/log_inprogress_12 to /workdir/ratis-test/target/test/data/aaa4fccd/MiniRaftClusterWithNetty55a7148e/s2/611a84d9-4fe5-4f71-a301-04e6f89f5a1c/current/log_12-13
2019-09-24 12:06:49,970 INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:execute(526)) - s2@group-04E6F89F5A1C-SegmentedRaftLogWorker: Rolled log segment from /workdir/ratis-test/target/test/data/aaa4fccd/MiniRaftClusterWithNetty55a7148e/s2/611a84d9-4fe5-4f71-a301-04e6f89f5a1c/current/log_inprogress_12 to /workdir/ratis-test/target/test/data/aaa4fccd/MiniRaftClusterWithNetty55a7148e/s2/611a84d9-4fe5-4f71-a301-04e6f89f5a1c/current/log_12-13
2019-09-24 12:06:49,970 TRACE segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:lambda$new$1(133)) - s2@group-04E6F89F5A1C-SegmentedRaftLogWorker: flushIndex: updateIncreasingly 13 -> 13
2019-09-24 12:06:50,041 WARN  impl.LogAppender (LogAppender.java:sendAppendEntriesWithRetries(274)) - s4@group-E7D5050F4609->s3-LogAppender: Failed to appendEntries (retry=221): org.apache.ratis.thirdparty.io.netty.channel.AbstractChannel$AnnotatedConnectException: Connection refused: /0.0.0.0:40479
2019-09-24 12:06:50,181 INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:execute(569)) - s2@group-04E6F89F5A1C-SegmentedRaftLogWorker: created new log segment /workdir/ratis-test/target/test/data/aaa4fccd/MiniRaftClusterWithNetty55a7148e/s2/611a84d9-4fe5-4f71-a301-04e6f89f5a1c/current/log_inprogress_14
2019-09-24 12:06:50,181 INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:execute(569)) - s1@group-04E6F89F5A1C-SegmentedRaftLogWorker: created new log segment /workdir/ratis-test/target/test/data/aaa4fccd/MiniRaftClusterWithNetty55a7148e/s1/611a84d9-4fe5-4f71-a301-04e6f89f5a1c/current/log_inprogress_14
2019-09-24 12:06:50,181 DEBUG segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:flushWrites(340)) - s2@group-04E6F89F5A1C-SegmentedRaftLogWorker: flush SegmentedRaftLogOutputStream(/workdir/ratis-test/target/test/data/aaa4fccd/MiniRaftClusterWithNetty55a7148e/s2/611a84d9-4fe5-4f71-a301-04e6f89f5a1c/current/log_inprogress_14)
2019-09-24 12:06:50,181 INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:execute(569)) - s0@group-04E6F89F5A1C-SegmentedRaftLogWorker: created new log segment /workdir/ratis-test/target/test/data/aaa4fccd/MiniRaftClusterWithNetty55a7148e/s0/611a84d9-4fe5-4f71-a301-04e6f89f5a1c/current/log_inprogress_14
2019-09-24 12:06:50,181 DEBUG segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:flushWrites(340)) - s1@group-04E6F89F5A1C-SegmentedRaftLogWorker: flush SegmentedRaftLogOutputStream(/workdir/ratis-test/target/test/data/aaa4fccd/MiniRaftClusterWithNetty55a7148e/s1/611a84d9-4fe5-4f71-a301-04e6f89f5a1c/current/log_inprogress_14)
2019-09-24 12:06:50,182 DEBUG segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:flushWrites(340)) - s0@group-04E6F89F5A1C-SegmentedRaftLogWorker: flush SegmentedRaftLogOutputStream(/workdir/ratis-test/target/test/data/aaa4fccd/MiniRaftClusterWithNetty55a7148e/s0/611a84d9-4fe5-4f71-a301-04e6f89f5a1c/current/log_inprogress_14)
2019-09-24 12:06:50,192 TRACE segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:lambda$new$1(133)) - s2@group-04E6F89F5A1C-SegmentedRaftLogWorker: flushIndex: updateIncreasingly 13 -> 14
2019-09-24 12:06:50,193 TRACE segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:lambda$new$1(133)) - s0@group-04E6F89F5A1C-SegmentedRaftLogWorker: flushIndex: updateIncreasingly 13 -> 14
2019-09-24 12:06:50,193 TRACE segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:lambda$new$1(133)) - s1@group-04E6F89F5A1C-SegmentedRaftLogWorker: flushIndex: updateIncreasingly 13 -> 14
2019-09-24 12:06:50,193 DEBUG impl.RaftServerImpl (RaftServerImpl.java:logAppendEntries(850)) - s2@group-04E6F89F5A1C: succeeded to handle AppendEntries. Reply: s0<-s2#0:OK,SUCCESS,nextIndex:15,term:13,followerCommit:13
2019-09-24 12:06:50,194 DEBUG impl.RaftServerImpl (RaftServerImpl.java:logAppendEntries(850)) - s1@group-04E6F89F5A1C: succeeded to handle AppendEntries. Reply: s0<-s1#0:OK,SUCCESS,nextIndex:15,term:13,followerCommit:13
2019-09-24 12:06:50,194 DEBUG segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:addIOTask(251)) - s0@group-04E6F89F5A1C-SegmentedRaftLogWorker adds IO task WriteLog:15: (t:13, i:15), METADATAENTRY(c14)
2019-09-24 12:06:50,194 DEBUG segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:flushWrites(340)) - s0@group-04E6F89F5A1C-SegmentedRaftLogWorker: flush SegmentedRaftLogOutputStream(/workdir/ratis-test/target/test/data/aaa4fccd/MiniRaftClusterWithNetty55a7148e/s0/611a84d9-4fe5-4f71-a301-04e6f89f5a1c/current/log_inprogress_14)
2019-09-24 12:06:50,195 DEBUG impl.RaftServerImpl (RaftServerImpl.java:logAppendEntries(850)) - s1@group-04E6F89F5A1C: receive appendEntries(s0, 13, (t:13, i:14), 14, false, commits[s0:c14, s1:c13, s2:c13], entries: (t:13, i:15), METADATAENTRY(c14)
2019-09-24 12:06:50,195 DEBUG impl.RaftServerImpl (RaftServerImpl.java:logAppendEntries(850)) - s2@group-04E6F89F5A1C: receive appendEntries(s0, 13, (t:13, i:14), 14, false, commits[s0:c14, s1:c13, s2:c13], entries: (t:13, i:15), METADATAENTRY(c14)
2019-09-24 12:06:50,195 DEBUG segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:addIOTask(251)) - s1@group-04E6F89F5A1C-SegmentedRaftLogWorker adds IO task WriteLog:15: (t:13, i:15), METADATAENTRY(c14)
2019-09-24 12:06:50,196 DEBUG segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:addIOTask(251)) - s2@group-04E6F89F5A1C-SegmentedRaftLogWorker adds IO task WriteLog:15: (t:13, i:15), METADATAENTRY(c14)
2019-09-24 12:06:50,196 DEBUG segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:flushWrites(340)) - s1@group-04E6F89F5A1C-SegmentedRaftLogWorker: flush SegmentedRaftLogOutputStream(/workdir/ratis-test/target/test/data/aaa4fccd/MiniRaftClusterWithNetty55a7148e/s1/611a84d9-4fe5-4f71-a301-04e6f89f5a1c/current/log_inprogress_14)
2019-09-24 12:06:50,196 DEBUG segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:flushWrites(340)) - s2@group-04E6F89F5A1C-SegmentedRaftLogWorker: flush SegmentedRaftLogOutputStream(/workdir/ratis-test/target/test/data/aaa4fccd/MiniRaftClusterWithNetty55a7148e/s2/611a84d9-4fe5-4f71-a301-04e6f89f5a1c/current/log_inprogress_14)
2019-09-24 12:06:50,205 TRACE segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:lambda$new$1(133)) - s0@group-04E6F89F5A1C-SegmentedRaftLogWorker: flushIndex: updateIncreasingly 14 -> 15
2019-09-24 12:06:50,206 TRACE segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:lambda$new$1(133)) - s1@group-04E6F89F5A1C-SegmentedRaftLogWorker: flushIndex: updateIncreasingly 14 -> 15
2019-09-24 12:06:50,206 TRACE segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:lambda$new$1(133)) - s2@group-04E6F89F5A1C-SegmentedRaftLogWorker: flushIndex: updateIncreasingly 14 -> 15
2019-09-24 12:06:50,206 DEBUG impl.RaftServerImpl (RaftServerImpl.java:logAppendEntries(850)) - s1@group-04E6F89F5A1C: succeeded to handle AppendEntries. Reply: s0<-s1#0:OK,SUCCESS,nextIndex:16,term:13,followerCommit:14
2019-09-24 12:06:50,207 DEBUG impl.RaftServerImpl (RaftServerImpl.java:logAppendEntries(850)) - s2@group-04E6F89F5A1C: succeeded to handle AppendEntries. Reply: s0<-s2#0:OK,SUCCESS,nextIndex:16,term:13,followerCommit:14
2019-09-24 12:06:50,275 WARN  impl.LogAppender (LogAppender.java:sendAppendEntriesWithRetries(274)) - s4@group-E7D5050F4609->s3-LogAppender: Failed to appendEntries (retry=231): org.apache.ratis.thirdparty.io.netty.channel.AbstractChannel$AnnotatedConnectException: Connection refused: /0.0.0.0:40479
2019-09-24 12:06:50,401 INFO  ratis.RaftTestUtil (RaftTestUtil.java:waitForLeader(101)) - printing ALL groups
  s0:  RUNNING    LEADER s0@group-04E6F89F5A1C:t13, leader=s0, voted=s0, raftlog=s0@group-04E6F89F5A1C-SegmentedRaftLog:OPENED:c15,f15,i15, conf=14: [s0:0.0.0.0:34119, s1:0.0.0.0:44382, s2:0.0.0.0:42516], old=null RUNNING
  s1:  RUNNING  FOLLOWER s1@group-04E6F89F5A1C:t13, leader=s0, voted=s0, raftlog=s1@group-04E6F89F5A1C-SegmentedRaftLog:OPENED:c15,f15,i15, conf=14: [s0:0.0.0.0:34119, s1:0.0.0.0:44382, s2:0.0.0.0:42516], old=null RUNNING
  s2:  RUNNING  FOLLOWER s2@group-04E6F89F5A1C:t13, leader=s0, voted=null, raftlog=s2@group-04E6F89F5A1C-SegmentedRaftLog:OPENED:c15,f15,i15, conf=14: [s0:0.0.0.0:34119, s1:0.0.0.0:44382, s2:0.0.0.0:42516], old=null RUNNING
2019-09-24 12:06:50,401 INFO  ratis.RaftTestUtil (RaftTestUtil.java:lambda$changeLeader$7(367)) - Changed leader from s2 to s0
2019-09-24 12:06:50,401 INFO  util.CodeInjectionForTesting (BlockRequestHandlingInjection.java:unblockRequestor(53)) - UnBlock requestor s2
2019-09-24 12:06:50,401 INFO  util.CodeInjectionForTesting (BlockRequestHandlingInjection.java:blockRequestor(48)) - Block requestor s0
2019-09-24 12:06:50,402 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.rpc.timeout.max = 300ms (default)
2019-09-24 12:06:50,402 INFO  ratis.RaftTestUtil (RaftTestUtil.java:waitForLeader(86)) - printing ALL groups
  s0:  RUNNING    LEADER s0@group-04E6F89F5A1C:t13, leader=s0, voted=s0, raftlog=s0@group-04E6F89F5A1C-SegmentedRaftLog:OPENED:c15,f15,i15, conf=14: [s0:0.0.0.0:34119, s1:0.0.0.0:44382, s2:0.0.0.0:42516], old=null RUNNING
  s1:  RUNNING  FOLLOWER s1@group-04E6F89F5A1C:t13, leader=s0, voted=s0, raftlog=s1@group-04E6F89F5A1C-SegmentedRaftLog:OPENED:c15,f15,i15, conf=14: [s0:0.0.0.0:34119, s1:0.0.0.0:44382, s2:0.0.0.0:42516], old=null RUNNING
  s2:  RUNNING  FOLLOWER s2@group-04E6F89F5A1C:t13, leader=s0, voted=null, raftlog=s2@group-04E6F89F5A1C-SegmentedRaftLog:OPENED:c15,f15,i15, conf=14: [s0:0.0.0.0:34119, s1:0.0.0.0:44382, s2:0.0.0.0:42516], old=null RUNNING
2019-09-24 12:06:50,403 INFO  ratis.RaftTestUtil (RaftTestUtil.java:waitForLeader(101)) - printing ALL groups
  s0:  RUNNING    LEADER s0@group-04E6F89F5A1C:t13, leader=s0, voted=s0, raftlog=s0@group-04E6F89F5A1C-SegmentedRaftLog:OPENED:c15,f15,i15, conf=14: [s0:0.0.0.0:34119, s1:0.0.0.0:44382, s2:0.0.0.0:42516], old=null RUNNING
  s1:  RUNNING  FOLLOWER s1@group-04E6F89F5A1C:t13, leader=s0, voted=s0, raftlog=s1@group-04E6F89F5A1C-SegmentedRaftLog:OPENED:c15,f15,i15, conf=14: [s0:0.0.0.0:34119, s1:0.0.0.0:44382, s2:0.0.0.0:42516], old=null RUNNING
  s2:  RUNNING  FOLLOWER s2@group-04E6F89F5A1C:t13, leader=s0, voted=null, raftlog=s2@group-04E6F89F5A1C-SegmentedRaftLog:OPENED:c15,f15,i15, conf=14: [s0:0.0.0.0:34119, s1:0.0.0.0:44382, s2:0.0.0.0:42516], old=null RUNNING
2019-09-24 12:06:50,403 WARN  ratis.RaftTestUtil (JavaUtils.java:attempt(158)) - FAILED "testChangeLeader-changeLeader", attempt #1/20: java.lang.IllegalStateException: Failed to change leader: newLeader == oldLeader == s0, sleep 100ms and then retry.
java.lang.IllegalStateException: Failed to change leader: newLeader == oldLeader == s0
	at org.apache.ratis.RaftTestUtil.lambda$changeLeader$7(RaftTestUtil.java:365)
	at org.apache.ratis.util.JavaUtils.attempt(JavaUtils.java:152)
	at org.apache.ratis.RaftTestUtil.changeLeader(RaftTestUtil.java:362)
	at org.apache.ratis.server.impl.LeaderElectionTests.testChangeLeader(LeaderElectionTests.java:81)
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.lang.reflect.Method.invoke(Method.java:498)
	at org.junit.runners.model.FrameworkMethod$1.runReflectiveCall(FrameworkMethod.java:50)
	at org.junit.internal.runners.model.ReflectiveCallable.run(ReflectiveCallable.java:12)
	at org.junit.runners.model.FrameworkMethod.invokeExplosively(FrameworkMethod.java:47)
	at org.junit.internal.runners.statements.InvokeMethod.evaluate(InvokeMethod.java:17)
	at org.junit.internal.runners.statements.RunAfters.evaluate(RunAfters.java:27)
	at org.junit.internal.runners.statements.FailOnTimeout$CallableStatement.call(FailOnTimeout.java:298)
	at org.junit.internal.runners.statements.FailOnTimeout$CallableStatement.call(FailOnTimeout.java:292)
	at java.util.concurrent.FutureTask.run(FutureTask.java:266)
	at java.lang.Thread.run(Thread.java:748)
2019-09-24 12:06:50,423 INFO  util.CodeInjectionForTesting (BlockRequestHandlingInjection.java:execute(76)) - s2: Block request from s0
2019-09-24 12:06:50,423 INFO  util.CodeInjectionForTesting (BlockRequestHandlingInjection.java:execute(76)) - s1: Block request from s0
2019-09-24 12:06:50,435 INFO  util.CodeInjectionForTesting (BlockRequestHandlingInjection.java:execute(76)) - s1: Block request from s0
2019-09-24 12:06:50,435 INFO  util.CodeInjectionForTesting (BlockRequestHandlingInjection.java:execute(76)) - s2: Block request from s0
2019-09-24 12:06:50,503 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.rpc.timeout.max = 300ms (default)
2019-09-24 12:06:50,504 INFO  ratis.RaftTestUtil (RaftTestUtil.java:waitForLeader(86)) - printing ALL groups
  s0:  RUNNING    LEADER s0@group-04E6F89F5A1C:t13, leader=s0, voted=s0, raftlog=s0@group-04E6F89F5A1C-SegmentedRaftLog:OPENED:c15,f15,i15, conf=14: [s0:0.0.0.0:34119, s1:0.0.0.0:44382, s2:0.0.0.0:42516], old=null RUNNING
  s1:  RUNNING  FOLLOWER s1@group-04E6F89F5A1C:t13, leader=s0, voted=s0, raftlog=s1@group-04E6F89F5A1C-SegmentedRaftLog:OPENED:c15,f15,i15, conf=14: [s0:0.0.0.0:34119, s1:0.0.0.0:44382, s2:0.0.0.0:42516], old=null RUNNING
  s2:  RUNNING  FOLLOWER s2@group-04E6F89F5A1C:t13, leader=s0, voted=null, raftlog=s2@group-04E6F89F5A1C-SegmentedRaftLog:OPENED:c15,f15,i15, conf=14: [s0:0.0.0.0:34119, s1:0.0.0.0:44382, s2:0.0.0.0:42516], old=null RUNNING
2019-09-24 12:06:50,504 INFO  ratis.RaftTestUtil (RaftTestUtil.java:waitForLeader(101)) - printing ALL groups
  s0:  RUNNING    LEADER s0@group-04E6F89F5A1C:t13, leader=s0, voted=s0, raftlog=s0@group-04E6F89F5A1C-SegmentedRaftLog:OPENED:c15,f15,i15, conf=14: [s0:0.0.0.0:34119, s1:0.0.0.0:44382, s2:0.0.0.0:42516], old=null RUNNING
  s1:  RUNNING  FOLLOWER s1@group-04E6F89F5A1C:t13, leader=s0, voted=s0, raftlog=s1@group-04E6F89F5A1C-SegmentedRaftLog:OPENED:c15,f15,i15, conf=14: [s0:0.0.0.0:34119, s1:0.0.0.0:44382, s2:0.0.0.0:42516], old=null RUNNING
  s2:  RUNNING  FOLLOWER s2@group-04E6F89F5A1C:t13, leader=s0, voted=null, raftlog=s2@group-04E6F89F5A1C-SegmentedRaftLog:OPENED:c15,f15,i15, conf=14: [s0:0.0.0.0:34119, s1:0.0.0.0:44382, s2:0.0.0.0:42516], old=null RUNNING
2019-09-24 12:06:50,505 WARN  ratis.RaftTestUtil (JavaUtils.java:attempt(158)) - FAILED "testChangeLeader-changeLeader", attempt #2/20: java.lang.IllegalStateException: Failed to change leader: newLeader == oldLeader == s0, sleep 100ms and then retry.
java.lang.IllegalStateException: Failed to change leader: newLeader == oldLeader == s0
	at org.apache.ratis.RaftTestUtil.lambda$changeLeader$7(RaftTestUtil.java:365)
	at org.apache.ratis.util.JavaUtils.attempt(JavaUtils.java:152)
	at org.apache.ratis.RaftTestUtil.changeLeader(RaftTestUtil.java:362)
	at org.apache.ratis.server.impl.LeaderElectionTests.testChangeLeader(LeaderElectionTests.java:81)
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.lang.reflect.Method.invoke(Method.java:498)
	at org.junit.runners.model.FrameworkMethod$1.runReflectiveCall(FrameworkMethod.java:50)
	at org.junit.internal.runners.model.ReflectiveCallable.run(ReflectiveCallable.java:12)
	at org.junit.runners.model.FrameworkMethod.invokeExplosively(FrameworkMethod.java:47)
	at org.junit.internal.runners.statements.InvokeMethod.evaluate(InvokeMethod.java:17)
	at org.junit.internal.runners.statements.RunAfters.evaluate(RunAfters.java:27)
	at org.junit.internal.runners.statements.FailOnTimeout$CallableStatement.call(FailOnTimeout.java:298)
	at org.junit.internal.runners.statements.FailOnTimeout$CallableStatement.call(FailOnTimeout.java:292)
	at java.util.concurrent.FutureTask.run(FutureTask.java:266)
	at java.lang.Thread.run(Thread.java:748)
2019-09-24 12:06:50,508 WARN  impl.LogAppender (LogAppender.java:sendAppendEntriesWithRetries(274)) - s4@group-E7D5050F4609->s3-LogAppender: Failed to appendEntries (retry=241): org.apache.ratis.thirdparty.io.netty.channel.AbstractChannel$AnnotatedConnectException: Connection refused: /0.0.0.0:40479
2019-09-24 12:06:50,574 INFO  impl.FollowerState (FollowerState.java:run(108)) - s2@group-04E6F89F5A1C-FollowerState: change to CANDIDATE, lastRpcTime:214ms, electionTimeout:197ms
2019-09-24 12:06:50,574 INFO  impl.RoleInfo (RoleInfo.java:shutdownFollowerState(121)) - s2: shutdown FollowerState
2019-09-24 12:06:50,574 INFO  impl.RaftServerImpl (RaftServerImpl.java:setRole(170)) - s2@group-04E6F89F5A1C: changes role from  FOLLOWER to CANDIDATE at term 13 for changeToCandidate
2019-09-24 12:06:50,574 INFO  impl.RoleInfo (RoleInfo.java:updateAndGet(143)) - s2: start LeaderElection
2019-09-24 12:06:50,575 INFO  impl.RaftServerImpl (ServerState.java:setLeader(254)) - s2@group-04E6F89F5A1C: change Leader from s0 to null at term 13 for initElection
2019-09-24 12:06:50,588 INFO  impl.LeaderElection (LeaderElection.java:askForVotes(178)) - s2@group-04E6F89F5A1C-LeaderElection40: begin an election at term 14 for 14: [s0:0.0.0.0:34119, s1:0.0.0.0:44382, s2:0.0.0.0:42516], old=null
2019-09-24 12:06:50,593 INFO  impl.FollowerState (FollowerState.java:run(108)) - s1@group-04E6F89F5A1C-FollowerState: change to CANDIDATE, lastRpcTime:233ms, electionTimeout:168ms
2019-09-24 12:06:50,593 INFO  impl.RoleInfo (RoleInfo.java:shutdownFollowerState(121)) - s1: shutdown FollowerState
2019-09-24 12:06:50,593 INFO  impl.RaftServerImpl (RaftServerImpl.java:setRole(170)) - s1@group-04E6F89F5A1C: changes role from  FOLLOWER to CANDIDATE at term 13 for changeToCandidate
2019-09-24 12:06:50,594 INFO  impl.RoleInfo (RoleInfo.java:updateAndGet(143)) - s1: start LeaderElection
2019-09-24 12:06:50,594 INFO  impl.RaftServerImpl (ServerState.java:setLeader(254)) - s1@group-04E6F89F5A1C: change Leader from s0 to null at term 13 for initElection
2019-09-24 12:06:50,605 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.rpc.timeout.max = 300ms (default)
2019-09-24 12:06:50,606 INFO  ratis.RaftTestUtil (RaftTestUtil.java:waitForLeader(86)) - printing ALL groups
  s0:  RUNNING    LEADER s0@group-04E6F89F5A1C:t13, leader=s0, voted=s0, raftlog=s0@group-04E6F89F5A1C-SegmentedRaftLog:OPENED:c15,f15,i15, conf=14: [s0:0.0.0.0:34119, s1:0.0.0.0:44382, s2:0.0.0.0:42516], old=null RUNNING
  s1:  RUNNING CANDIDATE s1@group-04E6F89F5A1C:t14, leader=null, voted=s1, raftlog=s1@group-04E6F89F5A1C-SegmentedRaftLog:OPENED:c15,f15,i15, conf=14: [s0:0.0.0.0:34119, s1:0.0.0.0:44382, s2:0.0.0.0:42516], old=null RUNNING
  s2:  RUNNING CANDIDATE s2@group-04E6F89F5A1C:t14, leader=null, voted=s2, raftlog=s2@group-04E6F89F5A1C-SegmentedRaftLog:OPENED:c15,f15,i15, conf=14: [s0:0.0.0.0:34119, s1:0.0.0.0:44382, s2:0.0.0.0:42516], old=null RUNNING
2019-09-24 12:06:50,606 INFO  ratis.RaftTestUtil (RaftTestUtil.java:waitForLeader(101)) - printing ALL groups
  s0:  RUNNING    LEADER s0@group-04E6F89F5A1C:t13, leader=s0, voted=s0, raftlog=s0@group-04E6F89F5A1C-SegmentedRaftLog:OPENED:c15,f15,i15, conf=14: [s0:0.0.0.0:34119, s1:0.0.0.0:44382, s2:0.0.0.0:42516], old=null RUNNING
  s1:  RUNNING CANDIDATE s1@group-04E6F89F5A1C:t14, leader=null, voted=s1, raftlog=s1@group-04E6F89F5A1C-SegmentedRaftLog:OPENED:c15,f15,i15, conf=14: [s0:0.0.0.0:34119, s1:0.0.0.0:44382, s2:0.0.0.0:42516], old=null RUNNING
  s2:  RUNNING CANDIDATE s2@group-04E6F89F5A1C:t14, leader=null, voted=s2, raftlog=s2@group-04E6F89F5A1C-SegmentedRaftLog:OPENED:c15,f15,i15, conf=14: [s0:0.0.0.0:34119, s1:0.0.0.0:44382, s2:0.0.0.0:42516], old=null RUNNING
2019-09-24 12:06:50,606 WARN  ratis.RaftTestUtil (JavaUtils.java:attempt(158)) - FAILED "testChangeLeader-changeLeader", attempt #3/20: java.lang.IllegalStateException: Failed to change leader: newLeader == oldLeader == s0, sleep 100ms and then retry.
java.lang.IllegalStateException: Failed to change leader: newLeader == oldLeader == s0
	at org.apache.ratis.RaftTestUtil.lambda$changeLeader$7(RaftTestUtil.java:365)
	at org.apache.ratis.util.JavaUtils.attempt(JavaUtils.java:152)
	at org.apache.ratis.RaftTestUtil.changeLeader(RaftTestUtil.java:362)
	at org.apache.ratis.server.impl.LeaderElectionTests.testChangeLeader(LeaderElectionTests.java:81)
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.lang.reflect.Method.invoke(Method.java:498)
	at org.junit.runners.model.FrameworkMethod$1.runReflectiveCall(FrameworkMethod.java:50)
	at org.junit.internal.runners.model.ReflectiveCallable.run(ReflectiveCallable.java:12)
	at org.junit.runners.model.FrameworkMethod.invokeExplosively(FrameworkMethod.java:47)
	at org.junit.internal.runners.statements.InvokeMethod.evaluate(InvokeMethod.java:17)
	at org.junit.internal.runners.statements.RunAfters.evaluate(RunAfters.java:27)
	at org.junit.internal.runners.statements.FailOnTimeout$CallableStatement.call(FailOnTimeout.java:298)
	at org.junit.internal.runners.statements.FailOnTimeout$CallableStatement.call(FailOnTimeout.java:292)
	at java.util.concurrent.FutureTask.run(FutureTask.java:266)
	at java.lang.Thread.run(Thread.java:748)
2019-09-24 12:06:50,609 INFO  impl.LeaderElection (LeaderElection.java:askForVotes(178)) - s1@group-04E6F89F5A1C-LeaderElection41: begin an election at term 14 for 14: [s0:0.0.0.0:34119, s1:0.0.0.0:44382, s2:0.0.0.0:42516], old=null
2019-09-24 12:06:50,610 DEBUG impl.RaftServerImpl (RaftServerImpl.java:requestVote(743)) - s0@group-04E6F89F5A1C: receive requestVote(s1, group-04E6F89F5A1C, 14, (t:13, i:15))
2019-09-24 12:06:50,610 DEBUG impl.RaftServerImpl (RaftServerImpl.java:requestVote(743)) - s2@group-04E6F89F5A1C: receive requestVote(s1, group-04E6F89F5A1C, 14, (t:13, i:15))
2019-09-24 12:06:50,610 INFO  impl.RaftServerImpl (ServerState.java:setLeader(254)) - s0@group-04E6F89F5A1C: change Leader from s0 to null at term 14 for updateCurrentTerm
2019-09-24 12:06:50,611 INFO  util.CodeInjectionForTesting (BlockRequestHandlingInjection.java:execute(82)) - s1: unBlock request from s2
2019-09-24 12:06:50,611 DEBUG impl.RaftServerImpl (RaftServerImpl.java:requestVote(775)) - s2@group-04E6F89F5A1C replies to vote request: s1<-s2#0:FAIL-t14. Peer's state: s2@group-04E6F89F5A1C:t14, leader=null, voted=s2, raftlog=s2@group-04E6F89F5A1C-SegmentedRaftLog:OPENED:c15,f15,i15, conf=14: [s0:0.0.0.0:34119, s1:0.0.0.0:44382, s2:0.0.0.0:42516], old=null
2019-09-24 12:06:50,611 DEBUG impl.RaftServerImpl (RaftServerImpl.java:appendEntriesAsync(906)) - s1@group-04E6F89F5A1C: Not recognize s2 (term=12) as leader, state: s1@group-04E6F89F5A1C:t14, leader=null, voted=s1, raftlog=s1@group-04E6F89F5A1C-SegmentedRaftLog:OPENED:c15,f15,i15, conf=14: [s0:0.0.0.0:34119, s1:0.0.0.0:44382, s2:0.0.0.0:42516], old=null reply: s2<-s1#0:FAIL,NOT_LEADER,nextIndex:16,term:14,followerCommit:15
2019-09-24 12:06:50,611 INFO  util.CodeInjectionForTesting (BlockRequestHandlingInjection.java:execute(82)) - s0: unBlock request from s2
2019-09-24 12:06:50,611 INFO  impl.RaftServerImpl (RaftServerImpl.java:setRole(170)) - s0@group-04E6F89F5A1C: changes role from    LEADER to FOLLOWER at term 14 for recognizeCandidate:s1
2019-09-24 12:06:50,612 DEBUG impl.RaftServerImpl (RaftServerImpl.java:requestVote(743)) - s1@group-04E6F89F5A1C: receive requestVote(s2, group-04E6F89F5A1C, 14, (t:13, i:15))
2019-09-24 12:06:50,613 INFO  impl.RoleInfo (RoleInfo.java:shutdownLeaderState(104)) - s0: shutdown LeaderState
2019-09-24 12:06:50,613 DEBUG impl.RaftServerImpl (RaftServerImpl.java:requestVote(775)) - s1@group-04E6F89F5A1C replies to vote request: s2<-s1#0:FAIL-t14. Peer's state: s1@group-04E6F89F5A1C:t14, leader=null, voted=s1, raftlog=s1@group-04E6F89F5A1C-SegmentedRaftLog:OPENED:c15,f15,i15, conf=14: [s0:0.0.0.0:34119, s1:0.0.0.0:44382, s2:0.0.0.0:42516], old=null
2019-09-24 12:06:50,615 INFO  impl.LogAppender (LogAppender.java:run(78)) - s0@group-04E6F89F5A1C->s1-LogAppender-AppenderDaemon was interrupted: java.io.InterruptedIOException: s0->s1#0 sending from s1:0.0.0.0:44382 is interrupted.
2019-09-24 12:06:50,615 INFO  impl.PendingRequests (PendingRequests.java:sendNotLeaderResponses(202)) - s0@group-04E6F89F5A1C-PendingRequests: sendNotLeaderResponses
2019-09-24 12:06:50,615 INFO  impl.LogAppender (LogAppender.java:run(78)) - s0@group-04E6F89F5A1C->s2-LogAppender-AppenderDaemon was interrupted: java.io.InterruptedIOException: s0->s2#0 sending from s2:0.0.0.0:42516 is interrupted.
2019-09-24 12:06:50,616 INFO  impl.RoleInfo (RoleInfo.java:updateAndGet(143)) - s0: start FollowerState
2019-09-24 12:06:50,631 DEBUG impl.RaftServerImpl (RaftServerImpl.java:requestVote(775)) - s0@group-04E6F89F5A1C replies to vote request: s1<-s0#0:FAIL-t14. Peer's state: s0@group-04E6F89F5A1C:t14, leader=null, voted=null, raftlog=s0@group-04E6F89F5A1C-SegmentedRaftLog:OPENED:c15,f15,i15, conf=14: [s0:0.0.0.0:34119, s1:0.0.0.0:44382, s2:0.0.0.0:42516], old=null
2019-09-24 12:06:50,632 DEBUG impl.RaftServerImpl (RaftServerImpl.java:appendEntriesAsync(906)) - s0@group-04E6F89F5A1C: Not recognize s2 (term=12) as leader, state: s0@group-04E6F89F5A1C:t14, leader=null, voted=null, raftlog=s0@group-04E6F89F5A1C-SegmentedRaftLog:OPENED:c15,f15,i15, conf=14: [s0:0.0.0.0:34119, s1:0.0.0.0:44382, s2:0.0.0.0:42516], old=null reply: s2<-s0#0:FAIL,NOT_LEADER,nextIndex:16,term:14,followerCommit:15
2019-09-24 12:06:50,632 INFO  impl.LeaderElection (LeaderElection.java:logAndReturn(56)) - s1@group-04E6F89F5A1C-LeaderElection41: Election REJECTED; received 2 response(s) [s1<-s0#0:FAIL-t14, s1<-s2#0:FAIL-t14] and 0 exception(s); s1@group-04E6F89F5A1C:t14, leader=null, voted=s1, raftlog=s1@group-04E6F89F5A1C-SegmentedRaftLog:OPENED:c15,f15,i15, conf=14: [s0:0.0.0.0:34119, s1:0.0.0.0:44382, s2:0.0.0.0:42516], old=null
2019-09-24 12:06:50,632 DEBUG impl.RaftServerImpl (RaftServerImpl.java:requestVote(743)) - s0@group-04E6F89F5A1C: receive requestVote(s2, group-04E6F89F5A1C, 14, (t:13, i:15))
2019-09-24 12:06:50,632 INFO  impl.RaftServerImpl (RaftServerImpl.java:setRole(170)) - s1@group-04E6F89F5A1C: changes role from CANDIDATE to FOLLOWER at term 14 for DISCOVERED_A_NEW_TERM
2019-09-24 12:06:50,633 INFO  impl.RaftServerImpl (RaftServerImpl.java:setRole(170)) - s0@group-04E6F89F5A1C: changes role from  FOLLOWER to FOLLOWER at term 14 for recognizeCandidate:s2
2019-09-24 12:06:50,633 INFO  impl.RoleInfo (RoleInfo.java:shutdownLeaderElection(134)) - s1: shutdown LeaderElection
2019-09-24 12:06:50,633 INFO  impl.RoleInfo (RoleInfo.java:shutdownFollowerState(121)) - s0: shutdown FollowerState
2019-09-24 12:06:50,633 INFO  impl.RoleInfo (RoleInfo.java:updateAndGet(143)) - s1: start FollowerState
2019-09-24 12:06:50,634 INFO  impl.RoleInfo (RoleInfo.java:updateAndGet(143)) - s0: start FollowerState
2019-09-24 12:06:50,634 INFO  impl.FollowerState (FollowerState.java:run(117)) - s0@group-04E6F89F5A1C-FollowerState was interrupted: java.lang.InterruptedException: sleep interrupted
2019-09-24 12:06:50,640 INFO  impl.FollowerState (FollowerState.java:run(108)) - s1@group-9DDC70D1F0F3-FollowerState: change to CANDIDATE, lastRpcTime:292ms, electionTimeout:263ms
2019-09-24 12:06:50,640 INFO  impl.RoleInfo (RoleInfo.java:shutdownFollowerState(121)) - s1: shutdown FollowerState
2019-09-24 12:06:50,640 INFO  impl.RaftServerImpl (RaftServerImpl.java:setRole(170)) - s1@group-9DDC70D1F0F3: changes role from  FOLLOWER to CANDIDATE at term 7 for changeToCandidate
2019-09-24 12:06:50,640 INFO  impl.RoleInfo (RoleInfo.java:updateAndGet(143)) - s1: start LeaderElection
2019-09-24 12:06:50,641 INFO  impl.RaftServerImpl (ServerState.java:setLeader(254)) - s1@group-9DDC70D1F0F3: change Leader from s0 to null at term 7 for initElection
2019-09-24 12:06:50,660 INFO  impl.LeaderElection (LeaderElection.java:askForVotes(178)) - s1@group-9DDC70D1F0F3-LeaderElection42: begin an election at term 8 for 6: [s0:0.0.0.0:37243, s1:0.0.0.0:38994, s2:0.0.0.0:36346], old=null
2019-09-24 12:06:50,660 DEBUG impl.RaftServerImpl (RaftServerImpl.java:requestVote(775)) - s0@group-04E6F89F5A1C replies to vote request: s2<-s0#0:OK-t14. Peer's state: s0@group-04E6F89F5A1C:t14, leader=null, voted=s2, raftlog=s0@group-04E6F89F5A1C-SegmentedRaftLog:OPENED:c15,f15,i15, conf=14: [s0:0.0.0.0:34119, s1:0.0.0.0:44382, s2:0.0.0.0:42516], old=null
2019-09-24 12:06:50,660 INFO  impl.LeaderElection (LeaderElection.java:logAndReturn(56)) - s2@group-04E6F89F5A1C-LeaderElection40: Election PASSED; received 2 response(s) [s2<-s0#0:OK-t14, s2<-s1#0:FAIL-t14] and 0 exception(s); s2@group-04E6F89F5A1C:t14, leader=null, voted=s2, raftlog=s2@group-04E6F89F5A1C-SegmentedRaftLog:OPENED:c15,f15,i15, conf=14: [s0:0.0.0.0:34119, s1:0.0.0.0:44382, s2:0.0.0.0:42516], old=null
2019-09-24 12:06:50,661 INFO  impl.RoleInfo (RoleInfo.java:shutdownLeaderElection(134)) - s2: shutdown LeaderElection
2019-09-24 12:06:50,661 DEBUG impl.RaftServerImpl (RaftServerImpl.java:requestVote(743)) - s0@group-9DDC70D1F0F3: receive requestVote(s1, group-9DDC70D1F0F3, 8, (t:7, i:7))
2019-09-24 12:06:50,661 DEBUG impl.RaftServerImpl (RaftServerImpl.java:requestVote(743)) - s2@group-9DDC70D1F0F3: receive requestVote(s1, group-9DDC70D1F0F3, 8, (t:7, i:7))
2019-09-24 12:06:50,661 INFO  impl.RaftServerImpl (RaftServerImpl.java:setRole(170)) - s2@group-04E6F89F5A1C: changes role from CANDIDATE to LEADER at term 14 for changeToLeader
2019-09-24 12:06:50,662 INFO  impl.RaftServerImpl (ServerState.java:setLeader(254)) - s2@group-9DDC70D1F0F3: change Leader from s0 to null at term 8 for updateCurrentTerm
2019-09-24 12:06:50,662 INFO  impl.RaftServerImpl (RaftServerImpl.java:setRole(170)) - s2@group-9DDC70D1F0F3: changes role from  FOLLOWER to FOLLOWER at term 8 for recognizeCandidate:s1
2019-09-24 12:06:50,662 INFO  impl.RoleInfo (RoleInfo.java:shutdownFollowerState(121)) - s2: shutdown FollowerState
2019-09-24 12:06:50,661 INFO  impl.RaftServerImpl (ServerState.java:setLeader(254)) - s0@group-9DDC70D1F0F3: change Leader from s0 to null at term 8 for updateCurrentTerm
2019-09-24 12:06:50,663 INFO  impl.FollowerState (FollowerState.java:run(117)) - s2@group-9DDC70D1F0F3-FollowerState was interrupted: java.lang.InterruptedException: sleep interrupted
2019-09-24 12:06:50,663 INFO  impl.RoleInfo (RoleInfo.java:updateAndGet(143)) - s2: start FollowerState
2019-09-24 12:06:50,662 INFO  impl.RaftServerImpl (ServerState.java:setLeader(254)) - s2@group-04E6F89F5A1C: change Leader from null to s2 at term 14 for becomeLeader, leader elected after 86ms
2019-09-24 12:06:50,663 INFO  impl.RaftServerImpl (RaftServerImpl.java:setRole(170)) - s0@group-9DDC70D1F0F3: changes role from    LEADER to FOLLOWER at term 8 for recognizeCandidate:s1
2019-09-24 12:06:50,664 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.staging.catchup.gap = 1000 (default)
2019-09-24 12:06:50,664 INFO  impl.RoleInfo (RoleInfo.java:shutdownLeaderState(104)) - s0: shutdown LeaderState
2019-09-24 12:06:50,664 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.rpc.sleep.time = 25ms (default)
2019-09-24 12:06:50,666 INFO  impl.LogAppender (LogAppender.java:run(78)) - s0@group-9DDC70D1F0F3->s2-LogAppender-AppenderDaemon was interrupted: java.io.InterruptedIOException: s0->s2#0 sending from s2:0.0.0.0:36346 is interrupted.
2019-09-24 12:06:50,666 INFO  impl.LogAppender (LogAppender.java:run(78)) - s0@group-9DDC70D1F0F3->s1-LogAppender-AppenderDaemon was interrupted: java.io.InterruptedIOException: s0->s1#0 sending from s1:0.0.0.0:38994 is interrupted.
2019-09-24 12:06:50,667 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.write.element-limit = 4096 (default)
2019-09-24 12:06:50,666 INFO  impl.PendingRequests (PendingRequests.java:sendNotLeaderResponses(202)) - s0@group-9DDC70D1F0F3-PendingRequests: sendNotLeaderResponses
2019-09-24 12:06:50,667 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.watch.timeout = 10s (default)
2019-09-24 12:06:50,667 INFO  impl.RoleInfo (RoleInfo.java:updateAndGet(143)) - s0: start FollowerState
2019-09-24 12:06:50,667 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.watch.timeout.denomination = 1s (default)
2019-09-24 12:06:50,668 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.watch.element-limit = 65536 (default)
2019-09-24 12:06:50,668 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.log.appender.snapshot.chunk.size.max = 16MB (=16777216) (default)
2019-09-24 12:06:50,669 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.log.appender.buffer.byte-limit = 4MB (=4194304) (default)
2019-09-24 12:06:50,669 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.log.appender.buffer.element-limit = 0 (default)
2019-09-24 12:06:50,669 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.log.appender.snapshot.chunk.size.max = 16MB (=16777216) (default)
2019-09-24 12:06:50,669 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.log.appender.buffer.byte-limit = 4MB (=4194304) (default)
2019-09-24 12:06:50,669 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.log.appender.buffer.element-limit = 0 (default)
2019-09-24 12:06:50,670 INFO  impl.RoleInfo (RoleInfo.java:updateAndGet(143)) - s2: start LeaderState
2019-09-24 12:06:50,670 INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:rollLogSegment(385)) - s2@group-04E6F89F5A1C-SegmentedRaftLogWorker: Rolling segment log-14_15 to index:15
2019-09-24 12:06:50,670 DEBUG segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:addIOTask(251)) - s2@group-04E6F89F5A1C-SegmentedRaftLogWorker adds IO task FinalizeLogSegment:15: startIndex=14 endIndex=15
2019-09-24 12:06:50,670 DEBUG segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:addIOTask(251)) - s2@group-04E6F89F5A1C-SegmentedRaftLogWorker adds IO task StartLogSegment:16
2019-09-24 12:06:50,671 DEBUG segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:addIOTask(251)) - s2@group-04E6F89F5A1C-SegmentedRaftLogWorker adds IO task WriteLog:16: (t:14, i:16), CONFIGURATIONENTRY
2019-09-24 12:06:50,671 INFO  impl.RaftServerImpl (ServerState.java:setRaftConf(355)) - s2@group-04E6F89F5A1C: set configuration 16: [s0:0.0.0.0:34119, s1:0.0.0.0:44382, s2:0.0.0.0:42516], old=null at 16
2019-09-24 12:06:50,672 INFO  impl.RaftServerImpl (ServerState.java:setLeader(254)) - s0@group-04E6F89F5A1C: change Leader from null to s2 at term 14 for appendEntries, leader elected after 61ms
2019-09-24 12:06:50,672 INFO  impl.RaftServerImpl (ServerState.java:setLeader(254)) - s1@group-04E6F89F5A1C: change Leader from null to s2 at term 14 for appendEntries, leader elected after 77ms
2019-09-24 12:06:50,673 TRACE util.FileUtils (LogUtils.java:runAndLog(61)) - Successfully ran Files.move /workdir/ratis-test/target/test/data/aaa4fccd/MiniRaftClusterWithNetty55a7148e/s2/611a84d9-4fe5-4f71-a301-04e6f89f5a1c/current/log_inprogress_14 to /workdir/ratis-test/target/test/data/aaa4fccd/MiniRaftClusterWithNetty55a7148e/s2/611a84d9-4fe5-4f71-a301-04e6f89f5a1c/current/log_14-15
2019-09-24 12:06:50,673 INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:execute(526)) - s2@group-04E6F89F5A1C-SegmentedRaftLogWorker: Rolled log segment from /workdir/ratis-test/target/test/data/aaa4fccd/MiniRaftClusterWithNetty55a7148e/s2/611a84d9-4fe5-4f71-a301-04e6f89f5a1c/current/log_inprogress_14 to /workdir/ratis-test/target/test/data/aaa4fccd/MiniRaftClusterWithNetty55a7148e/s2/611a84d9-4fe5-4f71-a301-04e6f89f5a1c/current/log_14-15
2019-09-24 12:06:50,673 TRACE segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:lambda$new$1(133)) - s2@group-04E6F89F5A1C-SegmentedRaftLogWorker: flushIndex: updateIncreasingly 15 -> 15
2019-09-24 12:06:50,673 DEBUG impl.RaftServerImpl (RaftServerImpl.java:logAppendEntries(850)) - s0@group-04E6F89F5A1C: receive appendEntries(s2, 14, (t:13, i:15), 15, false, commits[s2:c15, s0:c15, s1:c15], entries: (t:14, i:16), CONFIGURATIONENTRY
2019-09-24 12:06:50,673 DEBUG impl.RaftServerImpl (RaftServerImpl.java:logAppendEntries(850)) - s1@group-04E6F89F5A1C: receive appendEntries(s2, 14, (t:13, i:15), 15, false, commits[s2:c15, s0:c15, s1:c15], entries: (t:14, i:16), CONFIGURATIONENTRY
2019-09-24 12:06:50,674 INFO  impl.RaftServerImpl (ServerState.java:setRaftConf(355)) - s0@group-04E6F89F5A1C: set configuration 16: [s0:0.0.0.0:34119, s1:0.0.0.0:44382, s2:0.0.0.0:42516], old=null at 16
2019-09-24 12:06:50,674 INFO  impl.RaftServerImpl (ServerState.java:setRaftConf(355)) - s1@group-04E6F89F5A1C: set configuration 16: [s0:0.0.0.0:34119, s1:0.0.0.0:44382, s2:0.0.0.0:42516], old=null at 16
2019-09-24 12:06:50,674 INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:rollLogSegment(385)) - s0@group-04E6F89F5A1C-SegmentedRaftLogWorker: Rolling segment log-14_15 to index:15
2019-09-24 12:06:50,674 INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:rollLogSegment(385)) - s1@group-04E6F89F5A1C-SegmentedRaftLogWorker: Rolling segment log-14_15 to index:15
2019-09-24 12:06:50,675 DEBUG segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:addIOTask(251)) - s0@group-04E6F89F5A1C-SegmentedRaftLogWorker adds IO task FinalizeLogSegment:15: startIndex=14 endIndex=15
2019-09-24 12:06:50,675 DEBUG segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:addIOTask(251)) - s1@group-04E6F89F5A1C-SegmentedRaftLogWorker adds IO task FinalizeLogSegment:15: startIndex=14 endIndex=15
2019-09-24 12:06:50,675 DEBUG segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:addIOTask(251)) - s0@group-04E6F89F5A1C-SegmentedRaftLogWorker adds IO task StartLogSegment:16
2019-09-24 12:06:50,676 DEBUG segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:addIOTask(251)) - s1@group-04E6F89F5A1C-SegmentedRaftLogWorker adds IO task StartLogSegment:16
2019-09-24 12:06:50,676 DEBUG segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:addIOTask(251)) - s0@group-04E6F89F5A1C-SegmentedRaftLogWorker adds IO task WriteLog:16: (t:14, i:16), CONFIGURATIONENTRY
2019-09-24 12:06:50,676 DEBUG segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:addIOTask(251)) - s1@group-04E6F89F5A1C-SegmentedRaftLogWorker adds IO task WriteLog:16: (t:14, i:16), CONFIGURATIONENTRY
2019-09-24 12:06:50,681 TRACE util.FileUtils (LogUtils.java:runAndLog(61)) - Successfully ran Files.move /workdir/ratis-test/target/test/data/aaa4fccd/MiniRaftClusterWithNetty55a7148e/s0/611a84d9-4fe5-4f71-a301-04e6f89f5a1c/current/log_inprogress_14 to /workdir/ratis-test/target/test/data/aaa4fccd/MiniRaftClusterWithNetty55a7148e/s0/611a84d9-4fe5-4f71-a301-04e6f89f5a1c/current/log_14-15
2019-09-24 12:06:50,681 TRACE util.FileUtils (LogUtils.java:runAndLog(61)) - Successfully ran Files.move /workdir/ratis-test/target/test/data/aaa4fccd/MiniRaftClusterWithNetty55a7148e/s1/611a84d9-4fe5-4f71-a301-04e6f89f5a1c/current/log_inprogress_14 to /workdir/ratis-test/target/test/data/aaa4fccd/MiniRaftClusterWithNetty55a7148e/s1/611a84d9-4fe5-4f71-a301-04e6f89f5a1c/current/log_14-15
2019-09-24 12:06:50,681 INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:execute(526)) - s0@group-04E6F89F5A1C-SegmentedRaftLogWorker: Rolled log segment from /workdir/ratis-test/target/test/data/aaa4fccd/MiniRaftClusterWithNetty55a7148e/s0/611a84d9-4fe5-4f71-a301-04e6f89f5a1c/current/log_inprogress_14 to /workdir/ratis-test/target/test/data/aaa4fccd/MiniRaftClusterWithNetty55a7148e/s0/611a84d9-4fe5-4f71-a301-04e6f89f5a1c/current/log_14-15
2019-09-24 12:06:50,681 INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:execute(526)) - s1@group-04E6F89F5A1C-SegmentedRaftLogWorker: Rolled log segment from /workdir/ratis-test/target/test/data/aaa4fccd/MiniRaftClusterWithNetty55a7148e/s1/611a84d9-4fe5-4f71-a301-04e6f89f5a1c/current/log_inprogress_14 to /workdir/ratis-test/target/test/data/aaa4fccd/MiniRaftClusterWithNetty55a7148e/s1/611a84d9-4fe5-4f71-a301-04e6f89f5a1c/current/log_14-15
2019-09-24 12:06:50,681 TRACE segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:lambda$new$1(133)) - s0@group-04E6F89F5A1C-SegmentedRaftLogWorker: flushIndex: updateIncreasingly 15 -> 15
2019-09-24 12:06:50,681 TRACE segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:lambda$new$1(133)) - s1@group-04E6F89F5A1C-SegmentedRaftLogWorker: flushIndex: updateIncreasingly 15 -> 15
2019-09-24 12:06:50,697 DEBUG impl.RaftServerImpl (RaftServerImpl.java:requestVote(775)) - s0@group-9DDC70D1F0F3 replies to vote request: s1<-s0#0:FAIL-t8. Peer's state: s0@group-9DDC70D1F0F3:t8, leader=null, voted=null, raftlog=s0@group-9DDC70D1F0F3-SegmentedRaftLog:OPENED:c7,f7,i7, conf=6: [s0:0.0.0.0:37243, s1:0.0.0.0:38994, s2:0.0.0.0:36346], old=null
2019-09-24 12:06:50,697 DEBUG impl.RaftServerImpl (RaftServerImpl.java:requestVote(775)) - s2@group-9DDC70D1F0F3 replies to vote request: s1<-s2#0:OK-t8. Peer's state: s2@group-9DDC70D1F0F3:t8, leader=null, voted=s1, raftlog=s2@group-9DDC70D1F0F3-SegmentedRaftLog:OPENED:c7,f7,i7, conf=6: [s0:0.0.0.0:37243, s1:0.0.0.0:38994, s2:0.0.0.0:36346], old=null
2019-09-24 12:06:50,698 INFO  impl.LeaderElection (LeaderElection.java:logAndReturn(56)) - s1@group-9DDC70D1F0F3-LeaderElection42: Election PASSED; received 2 response(s) [s1<-s0#0:FAIL-t8, s1<-s2#0:OK-t8] and 0 exception(s); s1@group-9DDC70D1F0F3:t8, leader=null, voted=s1, raftlog=s1@group-9DDC70D1F0F3-SegmentedRaftLog:OPENED:c7,f7,i7, conf=6: [s0:0.0.0.0:37243, s1:0.0.0.0:38994, s2:0.0.0.0:36346], old=null
2019-09-24 12:06:50,698 INFO  impl.RoleInfo (RoleInfo.java:shutdownLeaderElection(134)) - s1: shutdown LeaderElection
2019-09-24 12:06:50,699 INFO  impl.RaftServerImpl (RaftServerImpl.java:setRole(170)) - s1@group-9DDC70D1F0F3: changes role from CANDIDATE to LEADER at term 8 for changeToLeader
2019-09-24 12:06:50,699 INFO  impl.RaftServerImpl (ServerState.java:setLeader(254)) - s1@group-9DDC70D1F0F3: change Leader from null to s1 at term 8 for becomeLeader, leader elected after 57ms
2019-09-24 12:06:50,699 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.staging.catchup.gap = 1000 (default)
2019-09-24 12:06:50,699 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.rpc.sleep.time = 25ms (default)
2019-09-24 12:06:50,699 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.write.element-limit = 4096 (default)
2019-09-24 12:06:50,699 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.watch.timeout = 10s (default)
2019-09-24 12:06:50,700 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.watch.timeout.denomination = 1s (default)
2019-09-24 12:06:50,700 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.watch.element-limit = 65536 (default)
2019-09-24 12:06:50,700 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.log.appender.snapshot.chunk.size.max = 16MB (=16777216) (default)
2019-09-24 12:06:50,700 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.log.appender.buffer.byte-limit = 4MB (=4194304) (default)
2019-09-24 12:06:50,701 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.log.appender.buffer.element-limit = 0 (default)
2019-09-24 12:06:50,701 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.log.appender.snapshot.chunk.size.max = 16MB (=16777216) (default)
2019-09-24 12:06:50,701 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.log.appender.buffer.byte-limit = 4MB (=4194304) (default)
2019-09-24 12:06:50,701 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.log.appender.buffer.element-limit = 0 (default)
2019-09-24 12:06:50,702 INFO  impl.RoleInfo (RoleInfo.java:updateAndGet(143)) - s1: start LeaderState
2019-09-24 12:06:50,702 INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:rollLogSegment(385)) - s1@group-9DDC70D1F0F3-SegmentedRaftLogWorker: Rolling segment log-6_7 to index:7
2019-09-24 12:06:50,702 DEBUG segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:addIOTask(251)) - s1@group-9DDC70D1F0F3-SegmentedRaftLogWorker adds IO task FinalizeLogSegment:7: startIndex=6 endIndex=7
2019-09-24 12:06:50,702 DEBUG segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:addIOTask(251)) - s1@group-9DDC70D1F0F3-SegmentedRaftLogWorker adds IO task StartLogSegment:8
2019-09-24 12:06:50,703 DEBUG segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:addIOTask(251)) - s1@group-9DDC70D1F0F3-SegmentedRaftLogWorker adds IO task WriteLog:8: (t:8, i:8), CONFIGURATIONENTRY
2019-09-24 12:06:50,703 INFO  impl.RaftServerImpl (ServerState.java:setRaftConf(355)) - s1@group-9DDC70D1F0F3: set configuration 8: [s0:0.0.0.0:37243, s1:0.0.0.0:38994, s2:0.0.0.0:36346], old=null at 8
2019-09-24 12:06:50,704 INFO  impl.RaftServerImpl (ServerState.java:setLeader(254)) - s0@group-9DDC70D1F0F3: change Leader from null to s1 at term 8 for appendEntries, leader elected after 42ms
2019-09-24 12:06:50,704 INFO  impl.RaftServerImpl (ServerState.java:setLeader(254)) - s2@group-9DDC70D1F0F3: change Leader from null to s1 at term 8 for appendEntries, leader elected after 42ms
2019-09-24 12:06:50,705 TRACE util.FileUtils (LogUtils.java:runAndLog(61)) - Successfully ran Files.move /workdir/ratis-test/target/test/data/aaa4fccd/MiniRaftClusterWithNetty53617c77/s1/8282875c-54dc-4ebb-a985-9ddc70d1f0f3/current/log_inprogress_6 to /workdir/ratis-test/target/test/data/aaa4fccd/MiniRaftClusterWithNetty53617c77/s1/8282875c-54dc-4ebb-a985-9ddc70d1f0f3/current/log_6-7
2019-09-24 12:06:50,705 INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:execute(526)) - s1@group-9DDC70D1F0F3-SegmentedRaftLogWorker: Rolled log segment from /workdir/ratis-test/target/test/data/aaa4fccd/MiniRaftClusterWithNetty53617c77/s1/8282875c-54dc-4ebb-a985-9ddc70d1f0f3/current/log_inprogress_6 to /workdir/ratis-test/target/test/data/aaa4fccd/MiniRaftClusterWithNetty53617c77/s1/8282875c-54dc-4ebb-a985-9ddc70d1f0f3/current/log_6-7
2019-09-24 12:06:50,705 TRACE segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:lambda$new$1(133)) - s1@group-9DDC70D1F0F3-SegmentedRaftLogWorker: flushIndex: updateIncreasingly 7 -> 7
2019-09-24 12:06:50,705 DEBUG impl.RaftServerImpl (RaftServerImpl.java:logAppendEntries(850)) - s0@group-9DDC70D1F0F3: receive appendEntries(s1, 8, (t:7, i:7), 7, false, commits[s1:c7, s0:c7, s2:c7], entries: (t:8, i:8), CONFIGURATIONENTRY
2019-09-24 12:06:50,705 DEBUG impl.RaftServerImpl (RaftServerImpl.java:logAppendEntries(850)) - s2@group-9DDC70D1F0F3: receive appendEntries(s1, 8, (t:7, i:7), 7, false, commits[s1:c7, s0:c7, s2:c7], entries: (t:8, i:8), CONFIGURATIONENTRY
2019-09-24 12:06:50,706 INFO  impl.RaftServerImpl (ServerState.java:setRaftConf(355)) - s0@group-9DDC70D1F0F3: set configuration 8: [s0:0.0.0.0:37243, s1:0.0.0.0:38994, s2:0.0.0.0:36346], old=null at 8
2019-09-24 12:06:50,706 INFO  impl.RaftServerImpl (ServerState.java:setRaftConf(355)) - s2@group-9DDC70D1F0F3: set configuration 8: [s0:0.0.0.0:37243, s1:0.0.0.0:38994, s2:0.0.0.0:36346], old=null at 8
2019-09-24 12:06:50,706 INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:rollLogSegment(385)) - s0@group-9DDC70D1F0F3-SegmentedRaftLogWorker: Rolling segment log-6_7 to index:7
2019-09-24 12:06:50,707 INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:rollLogSegment(385)) - s2@group-9DDC70D1F0F3-SegmentedRaftLogWorker: Rolling segment log-6_7 to index:7
2019-09-24 12:06:50,707 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.rpc.timeout.max = 300ms (default)
2019-09-24 12:06:50,707 DEBUG segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:addIOTask(251)) - s0@group-9DDC70D1F0F3-SegmentedRaftLogWorker adds IO task FinalizeLogSegment:7: startIndex=6 endIndex=7
2019-09-24 12:06:50,708 INFO  ratis.RaftTestUtil (RaftTestUtil.java:waitForLeader(86)) - printing ALL groups
  s0:  RUNNING  FOLLOWER s0@group-04E6F89F5A1C:t14, leader=s2, voted=s2, raftlog=s0@group-04E6F89F5A1C-SegmentedRaftLog:OPENED:c15,f15,i16, conf=16: [s0:0.0.0.0:34119, s1:0.0.0.0:44382, s2:0.0.0.0:42516], old=null RUNNING
  s1:  RUNNING  FOLLOWER s1@group-04E6F89F5A1C:t14, leader=s2, voted=s1, raftlog=s1@group-04E6F89F5A1C-SegmentedRaftLog:OPENED:c15,f15,i16, conf=16: [s0:0.0.0.0:34119, s1:0.0.0.0:44382, s2:0.0.0.0:42516], old=null RUNNING
  s2:  RUNNING    LEADER s2@group-04E6F89F5A1C:t14, leader=s2, voted=s2, raftlog=s2@group-04E6F89F5A1C-SegmentedRaftLog:OPENED:c15,f15,i16, conf=16: [s0:0.0.0.0:34119, s1:0.0.0.0:44382, s2:0.0.0.0:42516], old=null RUNNING
2019-09-24 12:06:50,707 DEBUG segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:addIOTask(251)) - s2@group-9DDC70D1F0F3-SegmentedRaftLogWorker adds IO task FinalizeLogSegment:7: startIndex=6 endIndex=7
2019-09-24 12:06:50,708 INFO  ratis.RaftTestUtil (RaftTestUtil.java:waitForLeader(101)) - printing ALL groups
  s0:  RUNNING  FOLLOWER s0@group-04E6F89F5A1C:t14, leader=s2, voted=s2, raftlog=s0@group-04E6F89F5A1C-SegmentedRaftLog:OPENED:c15,f15,i16, conf=16: [s0:0.0.0.0:34119, s1:0.0.0.0:44382, s2:0.0.0.0:42516], old=null RUNNING
  s1:  RUNNING  FOLLOWER s1@group-04E6F89F5A1C:t14, leader=s2, voted=s1, raftlog=s1@group-04E6F89F5A1C-SegmentedRaftLog:OPENED:c15,f15,i16, conf=16: [s0:0.0.0.0:34119, s1:0.0.0.0:44382, s2:0.0.0.0:42516], old=null RUNNING
  s2:  RUNNING    LEADER s2@group-04E6F89F5A1C:t14, leader=s2, voted=s2, raftlog=s2@group-04E6F89F5A1C-SegmentedRaftLog:OPENED:c15,f15,i16, conf=16: [s0:0.0.0.0:34119, s1:0.0.0.0:44382, s2:0.0.0.0:42516], old=null RUNNING
2019-09-24 12:06:50,708 DEBUG segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:addIOTask(251)) - s2@group-9DDC70D1F0F3-SegmentedRaftLogWorker adds IO task StartLogSegment:8
2019-09-24 12:06:50,708 DEBUG segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:addIOTask(251)) - s0@group-9DDC70D1F0F3-SegmentedRaftLogWorker adds IO task StartLogSegment:8
2019-09-24 12:06:50,709 DEBUG segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:addIOTask(251)) - s2@group-9DDC70D1F0F3-SegmentedRaftLogWorker adds IO task WriteLog:8: (t:8, i:8), CONFIGURATIONENTRY
2019-09-24 12:06:50,709 INFO  ratis.RaftTestUtil (RaftTestUtil.java:lambda$changeLeader$7(367)) - Changed leader from s0 to s2
2019-09-24 12:06:50,709 DEBUG segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:addIOTask(251)) - s0@group-9DDC70D1F0F3-SegmentedRaftLogWorker adds IO task WriteLog:8: (t:8, i:8), CONFIGURATIONENTRY
2019-09-24 12:06:50,710 INFO  util.CodeInjectionForTesting (BlockRequestHandlingInjection.java:unblockRequestor(53)) - UnBlock requestor s0
2019-09-24 12:06:50,710 INFO  util.LogUtils (LogUtils.java:setLogLevel(41)) - Set org.apache.ratis.server.raftlog.segmented.SegmentedRaftLogWorker log level to INFO
2019-09-24 12:06:50,710 TRACE util.FileUtils (LogUtils.java:runAndLog(61)) - Successfully ran Files.move /workdir/ratis-test/target/test/data/aaa4fccd/MiniRaftClusterWithNetty53617c77/s0/8282875c-54dc-4ebb-a985-9ddc70d1f0f3/current/log_inprogress_6 to /workdir/ratis-test/target/test/data/aaa4fccd/MiniRaftClusterWithNetty53617c77/s0/8282875c-54dc-4ebb-a985-9ddc70d1f0f3/current/log_6-7
2019-09-24 12:06:50,711 INFO  ratis.MiniRaftCluster (MiniRaftCluster.java:shutdown(700)) - ************************************************************** 
2019-09-24 12:06:50,711 INFO  ratis.MiniRaftCluster (MiniRaftCluster.java:shutdown(701)) - *** 
2019-09-24 12:06:50,711 INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:execute(526)) - s0@group-9DDC70D1F0F3-SegmentedRaftLogWorker: Rolled log segment from /workdir/ratis-test/target/test/data/aaa4fccd/MiniRaftClusterWithNetty53617c77/s0/8282875c-54dc-4ebb-a985-9ddc70d1f0f3/current/log_inprogress_6 to /workdir/ratis-test/target/test/data/aaa4fccd/MiniRaftClusterWithNetty53617c77/s0/8282875c-54dc-4ebb-a985-9ddc70d1f0f3/current/log_6-7
2019-09-24 12:06:50,711 TRACE util.FileUtils (LogUtils.java:runAndLog(61)) - Successfully ran Files.move /workdir/ratis-test/target/test/data/aaa4fccd/MiniRaftClusterWithNetty53617c77/s2/8282875c-54dc-4ebb-a985-9ddc70d1f0f3/current/log_inprogress_6 to /workdir/ratis-test/target/test/data/aaa4fccd/MiniRaftClusterWithNetty53617c77/s2/8282875c-54dc-4ebb-a985-9ddc70d1f0f3/current/log_6-7
2019-09-24 12:06:50,711 INFO  ratis.MiniRaftCluster (MiniRaftCluster.java:shutdown(702)) - ***     Stopping MiniRaftClusterWithNetty
2019-09-24 12:06:50,711 INFO  ratis.MiniRaftCluster (MiniRaftCluster.java:shutdown(703)) - *** 
2019-09-24 12:06:50,712 INFO  ratis.MiniRaftCluster (MiniRaftCluster.java:shutdown(704)) - ************************************************************** 
2019-09-24 12:06:50,711 INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:execute(526)) - s2@group-9DDC70D1F0F3-SegmentedRaftLogWorker: Rolled log segment from /workdir/ratis-test/target/test/data/aaa4fccd/MiniRaftClusterWithNetty53617c77/s2/8282875c-54dc-4ebb-a985-9ddc70d1f0f3/current/log_inprogress_6 to /workdir/ratis-test/target/test/data/aaa4fccd/MiniRaftClusterWithNetty53617c77/s2/8282875c-54dc-4ebb-a985-9ddc70d1f0f3/current/log_6-7
2019-09-24 12:06:50,712 INFO  ratis.MiniRaftCluster (MiniRaftCluster.java:shutdown(705)) - printing ALL groups
  s0:  RUNNING  FOLLOWER s0@group-04E6F89F5A1C:t14, leader=s2, voted=s2, raftlog=s0@group-04E6F89F5A1C-SegmentedRaftLog:OPENED:c15,f15,i16, conf=16: [s0:0.0.0.0:34119, s1:0.0.0.0:44382, s2:0.0.0.0:42516], old=null RUNNING
  s1:  RUNNING  FOLLOWER s1@group-04E6F89F5A1C:t14, leader=s2, voted=s1, raftlog=s1@group-04E6F89F5A1C-SegmentedRaftLog:OPENED:c15,f15,i16, conf=16: [s0:0.0.0.0:34119, s1:0.0.0.0:44382, s2:0.0.0.0:42516], old=null RUNNING
  s2:  RUNNING    LEADER s2@group-04E6F89F5A1C:t14, leader=s2, voted=s2, raftlog=s2@group-04E6F89F5A1C-SegmentedRaftLog:OPENED:c15,f15,i16, conf=16: [s0:0.0.0.0:34119, s1:0.0.0.0:44382, s2:0.0.0.0:42516], old=null RUNNING
2019-09-24 12:06:50,713 INFO  impl.RaftServerProxy (RaftServerProxy.java:lambda$close$4(314)) - s0: close
2019-09-24 12:06:50,713 INFO  impl.RaftServerProxy (RaftServerProxy.java:lambda$close$4(314)) - s1: close
2019-09-24 12:06:50,715 INFO  impl.RaftServerImpl (RaftServerImpl.java:lambda$shutdown$3(247)) - s0@group-04E6F89F5A1C: shutdown
2019-09-24 12:06:50,713 INFO  impl.RaftServerProxy (RaftServerProxy.java:lambda$close$4(314)) - s2: close
2019-09-24 12:06:50,716 INFO  impl.RaftServerImpl (RaftServerImpl.java:lambda$shutdown$3(247)) - s1@group-04E6F89F5A1C: shutdown
2019-09-24 12:06:50,717 INFO  impl.RaftServerImpl (RaftServerImpl.java:lambda$shutdown$3(247)) - s2@group-04E6F89F5A1C: shutdown
2019-09-24 12:06:50,717 INFO  util.JmxRegister (JmxRegister.java:unregister(73)) - Successfully un-registered JMX Bean with object name Ratis:service=RaftServer,group=group-04E6F89F5A1C,id=s0
2019-09-24 12:06:50,718 INFO  util.JmxRegister (JmxRegister.java:unregister(73)) - Successfully un-registered JMX Bean with object name Ratis:service=RaftServer,group=group-04E6F89F5A1C,id=s2
2019-09-24 12:06:50,719 INFO  impl.RoleInfo (RoleInfo.java:shutdownLeaderState(104)) - s2: shutdown LeaderState
2019-09-24 12:06:50,718 INFO  util.JmxRegister (JmxRegister.java:unregister(73)) - Successfully un-registered JMX Bean with object name Ratis:service=RaftServer,group=group-04E6F89F5A1C,id=s1
2019-09-24 12:06:50,721 INFO  impl.LogAppender (LogAppender.java:run(78)) - s2@group-04E6F89F5A1C->s0-LogAppender-AppenderDaemon was interrupted: java.io.InterruptedIOException: s2->s0#0 sending from s0:0.0.0.0:34119 is interrupted.
2019-09-24 12:06:50,721 INFO  impl.LogAppender (LogAppender.java:run(78)) - s2@group-04E6F89F5A1C->s1-LogAppender-AppenderDaemon was interrupted: java.io.InterruptedIOException: s2->s1#0 sending from s1:0.0.0.0:44382 is interrupted.
2019-09-24 12:06:50,721 INFO  impl.PendingRequests (PendingRequests.java:sendNotLeaderResponses(202)) - s2@group-04E6F89F5A1C-PendingRequests: sendNotLeaderResponses
2019-09-24 12:06:50,718 INFO  impl.RoleInfo (RoleInfo.java:shutdownFollowerState(121)) - s0: shutdown FollowerState
2019-09-24 12:06:50,722 INFO  impl.StateMachineUpdater (StateMachineUpdater.java:stopAndJoin(136)) - s2@group-04E6F89F5A1C-StateMachineUpdater: set stopIndex = 15
2019-09-24 12:06:50,721 INFO  impl.RoleInfo (RoleInfo.java:shutdownFollowerState(121)) - s1: shutdown FollowerState
2019-09-24 12:06:50,722 INFO  impl.RaftServerImpl (ServerState.java:close(386)) - s2@group-04E6F89F5A1C: closes. applyIndex: 15
2019-09-24 12:06:50,722 INFO  impl.FollowerState (FollowerState.java:run(117)) - s0@group-04E6F89F5A1C-FollowerState was interrupted: java.lang.InterruptedException: sleep interrupted
2019-09-24 12:06:50,722 INFO  impl.StateMachineUpdater (StateMachineUpdater.java:stopAndJoin(136)) - s0@group-04E6F89F5A1C-StateMachineUpdater: set stopIndex = 15
2019-09-24 12:06:50,724 INFO  util.CodeInjectionForTesting (BlockRequestHandlingInjection.java:execute(82)) - s1: unBlock request from s0
2019-09-24 12:06:50,723 INFO  util.CodeInjectionForTesting (BlockRequestHandlingInjection.java:execute(82)) - s2: unBlock request from s0
2019-09-24 12:06:50,723 INFO  impl.FollowerState (FollowerState.java:run(117)) - s1@group-04E6F89F5A1C-FollowerState was interrupted: java.lang.InterruptedException: sleep interrupted
2019-09-24 12:06:50,723 INFO  impl.StateMachineUpdater (StateMachineUpdater.java:stopAndJoin(136)) - s1@group-04E6F89F5A1C-StateMachineUpdater: set stopIndex = 15
2019-09-24 12:06:50,725 DEBUG impl.RaftServerImpl (RaftServerImpl.java:appendEntriesAsync(906)) - s2@group-9DDC70D1F0F3: Not recognize s0 (term=7) as leader, state: s2@group-9DDC70D1F0F3:t8, leader=s1, voted=s1, raftlog=s2@group-9DDC70D1F0F3-SegmentedRaftLog:OPENED:c7,f7,i8, conf=8: [s0:0.0.0.0:37243, s1:0.0.0.0:38994, s2:0.0.0.0:36346], old=null reply: s0<-s2#0:FAIL,NOT_LEADER,nextIndex:9,term:8,followerCommit:7
2019-09-24 12:06:50,725 DEBUG impl.RaftServerImpl (RaftServerImpl.java:appendEntriesAsync(906)) - s1@group-9DDC70D1F0F3: Not recognize s0 (term=7) as leader, state: s1@group-9DDC70D1F0F3:t8, leader=s1, voted=s1, raftlog=s1@group-9DDC70D1F0F3-SegmentedRaftLog:OPENED:c7,f7,i8, conf=8: [s0:0.0.0.0:37243, s1:0.0.0.0:38994, s2:0.0.0.0:36346], old=null reply: s0<-s1#0:FAIL,NOT_LEADER,nextIndex:9,term:8,followerCommit:7
2019-09-24 12:06:50,724 INFO  impl.RaftServerImpl (ServerState.java:close(386)) - s0@group-04E6F89F5A1C: closes. applyIndex: 15
2019-09-24 12:06:50,725 INFO  impl.RaftServerImpl (ServerState.java:close(386)) - s1@group-04E6F89F5A1C: closes. applyIndex: 15
2019-09-24 12:06:50,735 INFO  util.CodeInjectionForTesting (BlockRequestHandlingInjection.java:execute(82)) - s1: unBlock request from s0
2019-09-24 12:06:50,736 INFO  util.CodeInjectionForTesting (BlockRequestHandlingInjection.java:execute(82)) - s2: unBlock request from s0
2019-09-24 12:06:50,742 WARN  impl.LogAppender (LogAppender.java:sendAppendEntriesWithRetries(274)) - s4@group-E7D5050F4609->s3-LogAppender: Failed to appendEntries (retry=251): org.apache.ratis.thirdparty.io.netty.channel.AbstractChannel$AnnotatedConnectException: Connection refused: /0.0.0.0:40479
2019-09-24 12:06:50,821 WARN  nio.NioEventLoop (NioEventLoop.java:select(786)) - Selector.select() returned prematurely {} times in a row; rebuilding Selector {}.
2019-09-24 12:06:50,822 INFO  nio.NioEventLoop (NioEventLoop.java:rebuildSelector0(396)) - Migrated 1 channel(s) to the new Selector.
2019-09-24 12:06:50,975 WARN  impl.LogAppender (LogAppender.java:sendAppendEntriesWithRetries(274)) - s4@group-E7D5050F4609->s3-LogAppender: Failed to appendEntries (retry=261): org.apache.ratis.thirdparty.io.netty.channel.AbstractChannel$AnnotatedConnectException: Connection refused: /0.0.0.0:40479
2019-09-24 12:06:51,003 INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:execute(569)) - s1@group-9DDC70D1F0F3-SegmentedRaftLogWorker: created new log segment /workdir/ratis-test/target/test/data/aaa4fccd/MiniRaftClusterWithNetty53617c77/s1/8282875c-54dc-4ebb-a985-9ddc70d1f0f3/current/log_inprogress_8
2019-09-24 12:06:51,003 WARN  segmented.SegmentedRaftLogOutputStream (SegmentedRaftLogOutputStream.java:<init>(77)) - Hit IOException while creating log segment /workdir/ratis-test/target/test/data/aaa4fccd/MiniRaftClusterWithNetty55a7148e/s2/611a84d9-4fe5-4f71-a301-04e6f89f5a1c/current/log_inprogress_16, delete the partial file.
2019-09-24 12:06:51,003 WARN  segmented.SegmentedRaftLogOutputStream (SegmentedRaftLogOutputStream.java:<init>(77)) - Hit IOException while creating log segment /workdir/ratis-test/target/test/data/aaa4fccd/MiniRaftClusterWithNetty55a7148e/s1/611a84d9-4fe5-4f71-a301-04e6f89f5a1c/current/log_inprogress_16, delete the partial file.
2019-09-24 12:06:51,003 WARN  segmented.SegmentedRaftLogOutputStream (SegmentedRaftLogOutputStream.java:<init>(77)) - Hit IOException while creating log segment /workdir/ratis-test/target/test/data/aaa4fccd/MiniRaftClusterWithNetty55a7148e/s0/611a84d9-4fe5-4f71-a301-04e6f89f5a1c/current/log_inprogress_16, delete the partial file.
2019-09-24 12:06:51,004 TRACE util.FileUtils (FileUtils.java:deleteFully(88)) - deleteFully /workdir/ratis-test/target/test/data/aaa4fccd/MiniRaftClusterWithNetty55a7148e/s0/611a84d9-4fe5-4f71-a301-04e6f89f5a1c/current/log_inprogress_16
2019-09-24 12:06:51,003 INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:execute(569)) - s2@group-9DDC70D1F0F3-SegmentedRaftLogWorker: created new log segment /workdir/ratis-test/target/test/data/aaa4fccd/MiniRaftClusterWithNetty53617c77/s2/8282875c-54dc-4ebb-a985-9ddc70d1f0f3/current/log_inprogress_8
2019-09-24 12:06:51,003 INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:execute(569)) - s0@group-9DDC70D1F0F3-SegmentedRaftLogWorker: created new log segment /workdir/ratis-test/target/test/data/aaa4fccd/MiniRaftClusterWithNetty53617c77/s0/8282875c-54dc-4ebb-a985-9ddc70d1f0f3/current/log_inprogress_8
2019-09-24 12:06:51,004 TRACE util.FileUtils (FileUtils.java:deleteFully(88)) - deleteFully /workdir/ratis-test/target/test/data/aaa4fccd/MiniRaftClusterWithNetty55a7148e/s1/611a84d9-4fe5-4f71-a301-04e6f89f5a1c/current/log_inprogress_16
2019-09-24 12:06:51,004 TRACE util.FileUtils (FileUtils.java:deleteFully(88)) - deleteFully /workdir/ratis-test/target/test/data/aaa4fccd/MiniRaftClusterWithNetty55a7148e/s2/611a84d9-4fe5-4f71-a301-04e6f89f5a1c/current/log_inprogress_16
2019-09-24 12:06:51,006 TRACE util.FileUtils (LogUtils.java:runAndLog(61)) - Successfully ran Files.delete /workdir/ratis-test/target/test/data/aaa4fccd/MiniRaftClusterWithNetty55a7148e/s0/611a84d9-4fe5-4f71-a301-04e6f89f5a1c/current/log_inprogress_16
2019-09-24 12:06:51,007 INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:close(228)) - s0@group-04E6F89F5A1C-SegmentedRaftLogWorker close()
2019-09-24 12:06:51,007 TRACE util.FileUtils (LogUtils.java:runAndLog(61)) - Successfully ran Files.delete /workdir/ratis-test/target/test/data/aaa4fccd/MiniRaftClusterWithNetty55a7148e/s1/611a84d9-4fe5-4f71-a301-04e6f89f5a1c/current/log_inprogress_16
2019-09-24 12:06:51,008 TRACE util.FileUtils (LogUtils.java:runAndLog(61)) - Successfully ran Files.delete /workdir/ratis-test/target/test/data/aaa4fccd/MiniRaftClusterWithNetty55a7148e/s2/611a84d9-4fe5-4f71-a301-04e6f89f5a1c/current/log_inprogress_16
2019-09-24 12:06:51,009 INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:close(228)) - s1@group-04E6F89F5A1C-SegmentedRaftLogWorker close()
2019-09-24 12:06:51,009 INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:close(228)) - s2@group-04E6F89F5A1C-SegmentedRaftLogWorker close()
2019-09-24 12:06:51,012 INFO  logging.LoggingHandler (AbstractInternalLogger.java:log(150)) - [id: 0x6f0b30f3, L:/0.0.0.0:34119] UNREGISTERED
2019-09-24 12:06:51,012 INFO  logging.LoggingHandler (AbstractInternalLogger.java:log(150)) - [id: 0x4dd9b93d, L:/0.0.0.0:44382] UNREGISTERED
2019-09-24 12:06:51,017 INFO  logging.LoggingHandler (AbstractInternalLogger.java:log(150)) - [id: 0xcc45674f, L:/0.0.0.0:42516] UNREGISTERED
2019-09-24 12:06:51,018 DEBUG impl.RaftServerImpl (RaftServerImpl.java:logAppendEntries(850)) - s2@group-9DDC70D1F0F3: succeeded to handle AppendEntries. Reply: s1<-s2#0:OK,SUCCESS,nextIndex:9,term:8,followerCommit:7
2019-09-24 12:06:51,021 DEBUG impl.RaftServerImpl (RaftServerImpl.java:logAppendEntries(850)) - s0@group-9DDC70D1F0F3: succeeded to handle AppendEntries. Reply: s1<-s0#0:OK,SUCCESS,nextIndex:9,term:8,followerCommit:7
2019-09-24 12:06:51,024 DEBUG impl.RaftServerImpl (RaftServerImpl.java:logAppendEntries(850)) - s2@group-9DDC70D1F0F3: receive appendEntries(s1, 8, (t:8, i:8), 8, false, commits[s1:c8, s0:c7, s2:c7], entries: (t:8, i:9), METADATAENTRY(c8)
2019-09-24 12:06:51,025 DEBUG impl.RaftServerImpl (RaftServerImpl.java:logAppendEntries(850)) - s0@group-9DDC70D1F0F3: receive appendEntries(s1, 8, (t:8, i:8), 8, false, commits[s1:c8, s0:c7, s2:c7], entries: (t:8, i:9), METADATAENTRY(c8)
2019-09-24 12:06:51,027 INFO  ratis.MiniRaftCluster (MiniRaftCluster.java:shutdown(722)) - MiniRaftClusterWithNetty shutdown completed
2019-09-24 12:06:51,029 INFO  util.LogUtils (LogUtils.java:setLogLevel(41)) - Set org.apache.ratis.conf.ConfUtils log level to WARN
2019-09-24 12:06:51,029 INFO  util.LogUtils (LogUtils.java:setLogLevel(41)) - Set org.apache.ratis.util.FileUtils log level to TRACE
2019-09-24 12:06:51,030 INFO  util.LogUtils (LogUtils.java:setLogLevel(41)) - Set org.apache.ratis.server.impl.RaftServerImpl log level to DEBUG
2019-09-24 12:06:51,030 INFO  util.LogUtils (LogUtils.java:setLogLevel(41)) - Set org.apache.ratis.client.RaftClient log level to DEBUG
2019-09-24 12:06:51,031 INFO  netty.TestLeaderElectionWithNetty (LeaderElectionTests.java:testLeaderElectionMetrics(150)) - Running testLeaderElectionMetrics
2019-09-24 12:06:51,032 INFO  ratis.MiniRaftCluster (MiniRaftCluster.java:<init>(253)) - new MiniRaftClusterWithNetty with group-83CA3F3FAF3B:[s0:0.0.0.0:44494, s1:0.0.0.0:36427, s2:0.0.0.0:38950]
2019-09-24 12:06:51,032 INFO  ratis.MiniRaftCluster (MiniRaftCluster.java:start(287)) - .............................................................. 
2019-09-24 12:06:51,032 INFO  ratis.MiniRaftCluster (MiniRaftCluster.java:start(288)) - ... 
2019-09-24 12:06:51,032 INFO  ratis.MiniRaftCluster (MiniRaftCluster.java:start(289)) - ...     Starting MiniRaftClusterWithNetty
2019-09-24 12:06:51,032 INFO  ratis.MiniRaftCluster (MiniRaftCluster.java:start(290)) - ... 
2019-09-24 12:06:51,033 INFO  ratis.MiniRaftCluster (MiniRaftCluster.java:start(291)) - .............................................................. 
2019-09-24 12:06:51,033 INFO  ratis.MiniRaftCluster (MiniRaftCluster.java:initServers(265)) - servers = {}
2019-09-24 12:06:51,033 INFO  ratis.MiniRaftCluster (MiniRaftCluster.java:newRaftServer(330)) - newRaftServer: s0, group-83CA3F3FAF3B:[s0:0.0.0.0:44494, s1:0.0.0.0:36427, s2:0.0.0.0:38950], format? true
2019-09-24 12:06:51,033 TRACE util.FileUtils (FileUtils.java:deleteFully(88)) - deleteFully target/test/data/aaa4fccd/MiniRaftClusterWithNetty4fe3ec5c/s0
2019-09-24 12:06:51,034 TRACE util.FileUtils (FileUtils.java:deleteFully(104)) - deleteFully: target/test/data/aaa4fccd/MiniRaftClusterWithNetty4fe3ec5c/s0 does not exist.
2019-09-24 12:06:51,034 INFO  ratis.MiniRaftCluster (MiniRaftCluster.java:newRaftServer(335)) - Formatted directory target/test/data/aaa4fccd/MiniRaftClusterWithNetty4fe3ec5c/s0
2019-09-24 12:06:51,034 INFO  impl.RaftServerProxy (ConfUtils.java:logGet(43)) - raft.rpc.type = NETTY (custom)
2019-09-24 12:06:51,038 DEBUG impl.RaftServerImpl (RaftServerImpl.java:logAppendEntries(850)) - s2@group-9DDC70D1F0F3: succeeded to handle AppendEntries. Reply: s1<-s2#0:OK,SUCCESS,nextIndex:10,term:8,followerCommit:8
2019-09-24 12:06:51,038 INFO  netty.NettyConfigKeys$Server (ConfUtils.java:logGet(43)) - raft.netty.server.port = 44494 (custom)
2019-09-24 12:06:51,038 DEBUG impl.RaftServerImpl (RaftServerImpl.java:logAppendEntries(850)) - s0@group-9DDC70D1F0F3: succeeded to handle AppendEntries. Reply: s1<-s0#0:OK,SUCCESS,nextIndex:10,term:8,followerCommit:8
2019-09-24 12:06:51,040 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.storage.dir = [/workdir/ratis-test/target/test/data/aaa4fccd/MiniRaftClusterWithNetty4fe3ec5c/s0] (custom)
2019-09-24 12:06:51,040 INFO  logging.LoggingHandler (AbstractInternalLogger.java:log(150)) - [id: 0x07a4b440] REGISTERED
2019-09-24 12:06:51,040 INFO  logging.LoggingHandler (AbstractInternalLogger.java:log(150)) - [id: 0x07a4b440] BIND: 0.0.0.0/0.0.0.0:44494
2019-09-24 12:06:51,041 INFO  impl.RaftServerProxy (RaftServerProxy.java:addNew(89)) - s0: addNew group-83CA3F3FAF3B:[s0:0.0.0.0:44494, s1:0.0.0.0:36427, s2:0.0.0.0:38950] returns group-83CA3F3FAF3B:java.util.concurrent.CompletableFuture@23d61c5e[Not completed]
2019-09-24 12:06:51,041 INFO  logging.LoggingHandler (AbstractInternalLogger.java:log(150)) - [id: 0x07a4b440, L:/0.0.0.0:44494] ACTIVE
2019-09-24 12:06:51,042 INFO  impl.RaftServerImpl (RaftServerImpl.java:<init>(95)) - s0: new RaftServerImpl for group-83CA3F3FAF3B:[s0:0.0.0.0:44494, s1:0.0.0.0:36427, s2:0.0.0.0:38950] with BaseStateMachine:uninitialized
2019-09-24 12:06:51,043 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.rpc.timeout.min = 150ms (default)
2019-09-24 12:06:51,043 INFO  ratis.MiniRaftCluster (MiniRaftCluster.java:newRaftServer(330)) - newRaftServer: s1, group-83CA3F3FAF3B:[s0:0.0.0.0:44494, s1:0.0.0.0:36427, s2:0.0.0.0:38950], format? true
2019-09-24 12:06:51,043 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.rpc.timeout.max = 300ms (default)
2019-09-24 12:06:51,043 TRACE util.FileUtils (FileUtils.java:deleteFully(88)) - deleteFully target/test/data/aaa4fccd/MiniRaftClusterWithNetty4fe3ec5c/s1
2019-09-24 12:06:51,043 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.rpcslowness.timeout = 60s (default)
2019-09-24 12:06:51,044 TRACE util.FileUtils (FileUtils.java:deleteFully(104)) - deleteFully: target/test/data/aaa4fccd/MiniRaftClusterWithNetty4fe3ec5c/s1 does not exist.
2019-09-24 12:06:51,044 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.sleep.deviation.threshold = 300 (default)
2019-09-24 12:06:51,044 INFO  ratis.MiniRaftCluster (MiniRaftCluster.java:newRaftServer(335)) - Formatted directory target/test/data/aaa4fccd/MiniRaftClusterWithNetty4fe3ec5c/s1
2019-09-24 12:06:51,044 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.log.appender.install.snapshot.enabled = true (default)
2019-09-24 12:06:51,045 INFO  impl.RaftServerProxy (ConfUtils.java:logGet(43)) - raft.rpc.type = NETTY (custom)
2019-09-24 12:06:51,045 INFO  impl.RaftServerImpl (ServerState.java:<init>(103)) - s0@group-83CA3F3FAF3B: ConfigurationManager, init=-1: [s0:0.0.0.0:44494, s1:0.0.0.0:36427, s2:0.0.0.0:38950], old=null, confs=<EMPTY_MAP>
2019-09-24 12:06:51,045 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.storage.dir = [/workdir/ratis-test/target/test/data/aaa4fccd/MiniRaftClusterWithNetty4fe3ec5c/s0] (custom)
2019-09-24 12:06:51,046 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.log.corruption.policy = EXCEPTION (default)
2019-09-24 12:06:51,046 INFO  storage.RaftStorageDirectory (RaftStorageDirectory.java:analyzeStorage(246)) - The storage directory /workdir/ratis-test/target/test/data/aaa4fccd/MiniRaftClusterWithNetty4fe3ec5c/s0/3eb8604b-6c64-4004-9008-83ca3f3faf3b does not exist. Creating ...
2019-09-24 12:06:51,047 TRACE util.FileUtils (LogUtils.java:runAndLog(61)) - Successfully ran Files.createDirectories /workdir/ratis-test/target/test/data/aaa4fccd/MiniRaftClusterWithNetty4fe3ec5c/s0/3eb8604b-6c64-4004-9008-83ca3f3faf3b
2019-09-24 12:06:51,048 INFO  netty.NettyConfigKeys$Server (ConfUtils.java:logGet(43)) - raft.netty.server.port = 36427 (custom)
2019-09-24 12:06:51,049 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.storage.dir = [/workdir/ratis-test/target/test/data/aaa4fccd/MiniRaftClusterWithNetty4fe3ec5c/s1] (custom)
2019-09-24 12:06:51,049 INFO  logging.LoggingHandler (AbstractInternalLogger.java:log(150)) - [id: 0xc94577eb] REGISTERED
2019-09-24 12:06:51,049 INFO  logging.LoggingHandler (AbstractInternalLogger.java:log(150)) - [id: 0xc94577eb] BIND: 0.0.0.0/0.0.0.0:36427
2019-09-24 12:06:51,050 INFO  impl.RaftServerProxy (RaftServerProxy.java:addNew(89)) - s1: addNew group-83CA3F3FAF3B:[s0:0.0.0.0:44494, s1:0.0.0.0:36427, s2:0.0.0.0:38950] returns group-83CA3F3FAF3B:java.util.concurrent.CompletableFuture@669cd390[Not completed]
2019-09-24 12:06:51,050 INFO  logging.LoggingHandler (AbstractInternalLogger.java:log(150)) - [id: 0xc94577eb, L:/0.0.0.0:36427] ACTIVE
2019-09-24 12:06:51,051 INFO  ratis.MiniRaftCluster (MiniRaftCluster.java:newRaftServer(330)) - newRaftServer: s2, group-83CA3F3FAF3B:[s0:0.0.0.0:44494, s1:0.0.0.0:36427, s2:0.0.0.0:38950], format? true
2019-09-24 12:06:51,051 INFO  impl.RaftServerImpl (RaftServerImpl.java:<init>(95)) - s1: new RaftServerImpl for group-83CA3F3FAF3B:[s0:0.0.0.0:44494, s1:0.0.0.0:36427, s2:0.0.0.0:38950] with BaseStateMachine:uninitialized
2019-09-24 12:06:51,051 TRACE util.FileUtils (FileUtils.java:deleteFully(88)) - deleteFully target/test/data/aaa4fccd/MiniRaftClusterWithNetty4fe3ec5c/s2
2019-09-24 12:06:51,052 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.rpc.timeout.min = 150ms (default)
2019-09-24 12:06:51,052 TRACE util.FileUtils (FileUtils.java:deleteFully(104)) - deleteFully: target/test/data/aaa4fccd/MiniRaftClusterWithNetty4fe3ec5c/s2 does not exist.
2019-09-24 12:06:51,053 INFO  ratis.MiniRaftCluster (MiniRaftCluster.java:newRaftServer(335)) - Formatted directory target/test/data/aaa4fccd/MiniRaftClusterWithNetty4fe3ec5c/s2
2019-09-24 12:06:51,052 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.rpc.timeout.max = 300ms (default)
2019-09-24 12:06:51,053 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.rpcslowness.timeout = 60s (default)
2019-09-24 12:06:51,053 INFO  impl.RaftServerProxy (ConfUtils.java:logGet(43)) - raft.rpc.type = NETTY (custom)
2019-09-24 12:06:51,053 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.sleep.deviation.threshold = 300 (default)
2019-09-24 12:06:51,054 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.log.appender.install.snapshot.enabled = true (default)
2019-09-24 12:06:51,054 INFO  impl.RaftServerImpl (ServerState.java:<init>(103)) - s1@group-83CA3F3FAF3B: ConfigurationManager, init=-1: [s0:0.0.0.0:44494, s1:0.0.0.0:36427, s2:0.0.0.0:38950], old=null, confs=<EMPTY_MAP>
2019-09-24 12:06:51,054 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.storage.dir = [/workdir/ratis-test/target/test/data/aaa4fccd/MiniRaftClusterWithNetty4fe3ec5c/s1] (custom)
2019-09-24 12:06:51,055 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.log.corruption.policy = EXCEPTION (default)
2019-09-24 12:06:51,055 INFO  storage.RaftStorageDirectory (RaftStorageDirectory.java:analyzeStorage(246)) - The storage directory /workdir/ratis-test/target/test/data/aaa4fccd/MiniRaftClusterWithNetty4fe3ec5c/s1/3eb8604b-6c64-4004-9008-83ca3f3faf3b does not exist. Creating ...
2019-09-24 12:06:51,055 INFO  netty.NettyConfigKeys$Server (ConfUtils.java:logGet(43)) - raft.netty.server.port = 38950 (custom)
2019-09-24 12:06:51,056 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.storage.dir = [/workdir/ratis-test/target/test/data/aaa4fccd/MiniRaftClusterWithNetty4fe3ec5c/s2] (custom)
2019-09-24 12:06:51,056 INFO  logging.LoggingHandler (AbstractInternalLogger.java:log(150)) - [id: 0x0b8fafbc] REGISTERED
2019-09-24 12:06:51,057 INFO  logging.LoggingHandler (AbstractInternalLogger.java:log(150)) - [id: 0x0b8fafbc] BIND: 0.0.0.0/0.0.0.0:38950
2019-09-24 12:06:51,057 INFO  impl.RaftServerProxy (RaftServerProxy.java:addNew(89)) - s2: addNew group-83CA3F3FAF3B:[s0:0.0.0.0:44494, s1:0.0.0.0:36427, s2:0.0.0.0:38950] returns group-83CA3F3FAF3B:java.util.concurrent.CompletableFuture@12f3a6d4[Not completed]
2019-09-24 12:06:51,057 INFO  logging.LoggingHandler (AbstractInternalLogger.java:log(150)) - [id: 0x0b8fafbc, L:/0.0.0.0:38950] ACTIVE
2019-09-24 12:06:51,058 INFO  impl.RaftServerImpl (RaftServerImpl.java:<init>(95)) - s2: new RaftServerImpl for group-83CA3F3FAF3B:[s0:0.0.0.0:44494, s1:0.0.0.0:36427, s2:0.0.0.0:38950] with BaseStateMachine:uninitialized
2019-09-24 12:06:51,059 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.rpc.timeout.min = 150ms (default)
2019-09-24 12:06:51,059 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.rpc.timeout.max = 300ms (default)
2019-09-24 12:06:51,059 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.rpcslowness.timeout = 60s (default)
2019-09-24 12:06:51,060 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.sleep.deviation.threshold = 300 (default)
2019-09-24 12:06:51,060 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.log.appender.install.snapshot.enabled = true (default)
2019-09-24 12:06:51,060 INFO  impl.RaftServerImpl (ServerState.java:<init>(103)) - s2@group-83CA3F3FAF3B: ConfigurationManager, init=-1: [s0:0.0.0.0:44494, s1:0.0.0.0:36427, s2:0.0.0.0:38950], old=null, confs=<EMPTY_MAP>
2019-09-24 12:06:51,061 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.storage.dir = [/workdir/ratis-test/target/test/data/aaa4fccd/MiniRaftClusterWithNetty4fe3ec5c/s2] (custom)
2019-09-24 12:06:51,061 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.log.corruption.policy = EXCEPTION (default)
2019-09-24 12:06:51,061 INFO  storage.RaftStorageDirectory (RaftStorageDirectory.java:analyzeStorage(246)) - The storage directory /workdir/ratis-test/target/test/data/aaa4fccd/MiniRaftClusterWithNetty4fe3ec5c/s2/3eb8604b-6c64-4004-9008-83ca3f3faf3b does not exist. Creating ...
2019-09-24 12:06:51,063 INFO  storage.RaftStorageDirectory (RaftStorageDirectory.java:tryLock(328)) - Lock on /workdir/ratis-test/target/test/data/aaa4fccd/MiniRaftClusterWithNetty4fe3ec5c/s0/3eb8604b-6c64-4004-9008-83ca3f3faf3b/in_use.lock acquired by nodename 2153@ratis-test-nppbd-817190658
2019-09-24 12:06:51,078 TRACE util.FileUtils (LogUtils.java:runAndLog(61)) - Successfully ran Files.createDirectories /workdir/ratis-test/target/test/data/aaa4fccd/MiniRaftClusterWithNetty4fe3ec5c/s1/3eb8604b-6c64-4004-9008-83ca3f3faf3b
2019-09-24 12:06:51,078 TRACE util.FileUtils (LogUtils.java:runAndLog(61)) - Successfully ran Files.createDirectories /workdir/ratis-test/target/test/data/aaa4fccd/MiniRaftClusterWithNetty4fe3ec5c/s0/3eb8604b-6c64-4004-9008-83ca3f3faf3b/current
2019-09-24 12:06:51,078 TRACE util.FileUtils (LogUtils.java:runAndLog(61)) - Successfully ran Files.createDirectories /workdir/ratis-test/target/test/data/aaa4fccd/MiniRaftClusterWithNetty4fe3ec5c/s0/3eb8604b-6c64-4004-9008-83ca3f3faf3b/sm
2019-09-24 12:06:51,086 TRACE util.FileUtils (LogUtils.java:runAndLog(61)) - Successfully ran Files.createDirectories /workdir/ratis-test/target/test/data/aaa4fccd/MiniRaftClusterWithNetty4fe3ec5c/s2/3eb8604b-6c64-4004-9008-83ca3f3faf3b
2019-09-24 12:06:51,119 INFO  storage.RaftStorageDirectory (RaftStorageDirectory.java:tryLock(328)) - Lock on /workdir/ratis-test/target/test/data/aaa4fccd/MiniRaftClusterWithNetty4fe3ec5c/s2/3eb8604b-6c64-4004-9008-83ca3f3faf3b/in_use.lock acquired by nodename 2153@ratis-test-nppbd-817190658
2019-09-24 12:06:51,119 INFO  storage.RaftStorage (RaftStorage.java:format(84)) - Storage directory /workdir/ratis-test/target/test/data/aaa4fccd/MiniRaftClusterWithNetty4fe3ec5c/s0/3eb8604b-6c64-4004-9008-83ca3f3faf3b has been successfully formatted.
2019-09-24 12:06:51,120 TRACE util.FileUtils (LogUtils.java:runAndLog(61)) - Successfully ran Files.createDirectories /workdir/ratis-test/target/test/data/aaa4fccd/MiniRaftClusterWithNetty4fe3ec5c/s2/3eb8604b-6c64-4004-9008-83ca3f3faf3b/current
2019-09-24 12:06:51,119 INFO  storage.RaftStorageDirectory (RaftStorageDirectory.java:tryLock(328)) - Lock on /workdir/ratis-test/target/test/data/aaa4fccd/MiniRaftClusterWithNetty4fe3ec5c/s1/3eb8604b-6c64-4004-9008-83ca3f3faf3b/in_use.lock acquired by nodename 2153@ratis-test-nppbd-817190658
2019-09-24 12:06:51,120 TRACE util.FileUtils (LogUtils.java:runAndLog(61)) - Successfully ran Files.createDirectories /workdir/ratis-test/target/test/data/aaa4fccd/MiniRaftClusterWithNetty4fe3ec5c/s2/3eb8604b-6c64-4004-9008-83ca3f3faf3b/sm
2019-09-24 12:06:51,120 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.notification.no-leader.timeout = 60s (default)
2019-09-24 12:06:51,120 TRACE util.FileUtils (LogUtils.java:runAndLog(61)) - Successfully ran Files.createDirectories /workdir/ratis-test/target/test/data/aaa4fccd/MiniRaftClusterWithNetty4fe3ec5c/s1/3eb8604b-6c64-4004-9008-83ca3f3faf3b/current
2019-09-24 12:06:51,120 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.log.use.memory = false (default)
2019-09-24 12:06:51,121 TRACE util.FileUtils (LogUtils.java:runAndLog(61)) - Successfully ran Files.createDirectories /workdir/ratis-test/target/test/data/aaa4fccd/MiniRaftClusterWithNetty4fe3ec5c/s1/3eb8604b-6c64-4004-9008-83ca3f3faf3b/sm
2019-09-24 12:06:51,121 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.log.purge.gap = 1024 (default)
2019-09-24 12:06:51,121 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.log.appender.buffer.byte-limit = 4MB (=4194304) (default)
2019-09-24 12:06:51,121 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.log.segment.size.max = 8MB (=8388608) (default)
2019-09-24 12:06:51,122 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.log.segment.cache.num.max = 6 (default)
2019-09-24 12:06:51,122 INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:<init>(172)) - new s0@group-83CA3F3FAF3B-SegmentedRaftLogWorker for RaftStorage:Storage Directory /workdir/ratis-test/target/test/data/aaa4fccd/MiniRaftClusterWithNetty4fe3ec5c/s0/3eb8604b-6c64-4004-9008-83ca3f3faf3b
2019-09-24 12:06:51,122 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.log.queue.byte-limit = 64MB (=67108864) (default)
2019-09-24 12:06:51,122 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.log.queue.element-limit = 4096 (default)
2019-09-24 12:06:51,122 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.log.segment.size.max = 8MB (=8388608) (default)
2019-09-24 12:06:51,122 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.log.preallocated.size = 4MB (=4194304) (default)
2019-09-24 12:06:51,123 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.log.write.buffer.size = 64KB (=65536) (default)
2019-09-24 12:06:51,123 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.log.force.sync.num = 128 (default)
2019-09-24 12:06:51,123 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.log.statemachine.data.sync = true (default)
2019-09-24 12:06:51,123 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.log.statemachine.data.sync.timeout = 10s (default)
2019-09-24 12:06:51,123 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.log.statemachine.data.sync.timeout.retry = -1 (default)
2019-09-24 12:06:51,123 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.log.statemachine.data.caching.enabled = false (default)
2019-09-24 12:06:51,124 INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:lambda$new$0(132)) - s0@group-83CA3F3FAF3B-SegmentedRaftLogWorker: flushIndex: setUnconditionally 0 -> -1
2019-09-24 12:06:51,124 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.snapshot.auto.trigger.enabled = false (default)
2019-09-24 12:06:51,125 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.snapshot.retention.file.num = -1 (default)
2019-09-24 12:06:51,125 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.retrycache.expirytime = 60s (default)
2019-09-24 12:06:51,131 INFO  impl.RaftServerImpl (RaftServerImpl.java:start(181)) - s0@group-83CA3F3FAF3B: start as a follower, conf=-1: [s0:0.0.0.0:44494, s1:0.0.0.0:36427, s2:0.0.0.0:38950], old=null
2019-09-24 12:06:51,131 INFO  impl.RaftServerImpl (RaftServerImpl.java:setRole(170)) - s0@group-83CA3F3FAF3B: changes role from      null to FOLLOWER at term 0 for startAsFollower
2019-09-24 12:06:51,131 INFO  impl.RoleInfo (RoleInfo.java:updateAndGet(143)) - s0: start FollowerState
2019-09-24 12:06:51,132 INFO  util.JmxRegister (JmxRegister.java:tryRegister(44)) - Successfully registered JMX Bean with object name Ratis:service=RaftServer,group=group-83CA3F3FAF3B,id=s0
2019-09-24 12:06:51,135 INFO  impl.RaftServerProxy (RaftServerProxy.java:lambda$start$3(299)) - s0: start RPC server
2019-09-24 12:06:51,150 INFO  storage.RaftStorage (RaftStorage.java:format(84)) - Storage directory /workdir/ratis-test/target/test/data/aaa4fccd/MiniRaftClusterWithNetty4fe3ec5c/s1/3eb8604b-6c64-4004-9008-83ca3f3faf3b has been successfully formatted.
2019-09-24 12:06:51,150 INFO  storage.RaftStorage (RaftStorage.java:format(84)) - Storage directory /workdir/ratis-test/target/test/data/aaa4fccd/MiniRaftClusterWithNetty4fe3ec5c/s2/3eb8604b-6c64-4004-9008-83ca3f3faf3b has been successfully formatted.
2019-09-24 12:06:51,150 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.notification.no-leader.timeout = 60s (default)
2019-09-24 12:06:51,150 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.notification.no-leader.timeout = 60s (default)
2019-09-24 12:06:51,150 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.log.use.memory = false (default)
2019-09-24 12:06:51,151 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.log.use.memory = false (default)
2019-09-24 12:06:51,151 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.log.purge.gap = 1024 (default)
2019-09-24 12:06:51,151 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.log.purge.gap = 1024 (default)
2019-09-24 12:06:51,151 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.log.appender.buffer.byte-limit = 4MB (=4194304) (default)
2019-09-24 12:06:51,151 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.log.appender.buffer.byte-limit = 4MB (=4194304) (default)
2019-09-24 12:06:51,151 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.log.segment.size.max = 8MB (=8388608) (default)
2019-09-24 12:06:51,152 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.log.segment.size.max = 8MB (=8388608) (default)
2019-09-24 12:06:51,152 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.log.segment.cache.num.max = 6 (default)
2019-09-24 12:06:51,152 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.log.segment.cache.num.max = 6 (default)
2019-09-24 12:06:51,152 INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:<init>(172)) - new s1@group-83CA3F3FAF3B-SegmentedRaftLogWorker for RaftStorage:Storage Directory /workdir/ratis-test/target/test/data/aaa4fccd/MiniRaftClusterWithNetty4fe3ec5c/s1/3eb8604b-6c64-4004-9008-83ca3f3faf3b
2019-09-24 12:06:51,152 INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:<init>(172)) - new s2@group-83CA3F3FAF3B-SegmentedRaftLogWorker for RaftStorage:Storage Directory /workdir/ratis-test/target/test/data/aaa4fccd/MiniRaftClusterWithNetty4fe3ec5c/s2/3eb8604b-6c64-4004-9008-83ca3f3faf3b
2019-09-24 12:06:51,152 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.log.queue.byte-limit = 64MB (=67108864) (default)
2019-09-24 12:06:51,153 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.log.queue.byte-limit = 64MB (=67108864) (default)
2019-09-24 12:06:51,153 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.log.queue.element-limit = 4096 (default)
2019-09-24 12:06:51,153 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.log.queue.element-limit = 4096 (default)
2019-09-24 12:06:51,153 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.log.segment.size.max = 8MB (=8388608) (default)
2019-09-24 12:06:51,153 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.log.segment.size.max = 8MB (=8388608) (default)
2019-09-24 12:06:51,153 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.log.preallocated.size = 4MB (=4194304) (default)
2019-09-24 12:06:51,154 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.log.preallocated.size = 4MB (=4194304) (default)
2019-09-24 12:06:51,154 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.log.write.buffer.size = 64KB (=65536) (default)
2019-09-24 12:06:51,154 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.log.write.buffer.size = 64KB (=65536) (default)
2019-09-24 12:06:51,154 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.log.force.sync.num = 128 (default)
2019-09-24 12:06:51,154 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.log.force.sync.num = 128 (default)
2019-09-24 12:06:51,154 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.log.statemachine.data.sync = true (default)
2019-09-24 12:06:51,155 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.log.statemachine.data.sync = true (default)
2019-09-24 12:06:51,155 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.log.statemachine.data.sync.timeout = 10s (default)
2019-09-24 12:06:51,155 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.log.statemachine.data.sync.timeout = 10s (default)
2019-09-24 12:06:51,155 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.log.statemachine.data.sync.timeout.retry = -1 (default)
2019-09-24 12:06:51,155 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.log.statemachine.data.sync.timeout.retry = -1 (default)
2019-09-24 12:06:51,155 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.log.statemachine.data.caching.enabled = false (default)
2019-09-24 12:06:51,156 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.log.statemachine.data.caching.enabled = false (default)
2019-09-24 12:06:51,156 INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:lambda$new$0(132)) - s1@group-83CA3F3FAF3B-SegmentedRaftLogWorker: flushIndex: setUnconditionally 0 -> -1
2019-09-24 12:06:51,156 INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:lambda$new$0(132)) - s2@group-83CA3F3FAF3B-SegmentedRaftLogWorker: flushIndex: setUnconditionally 0 -> -1
2019-09-24 12:06:51,157 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.snapshot.auto.trigger.enabled = false (default)
2019-09-24 12:06:51,157 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.snapshot.retention.file.num = -1 (default)
2019-09-24 12:06:51,157 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.snapshot.auto.trigger.enabled = false (default)
2019-09-24 12:06:51,157 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.retrycache.expirytime = 60s (default)
2019-09-24 12:06:51,157 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.snapshot.retention.file.num = -1 (default)
2019-09-24 12:06:51,157 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.retrycache.expirytime = 60s (default)
2019-09-24 12:06:51,163 INFO  impl.RaftServerImpl (RaftServerImpl.java:start(181)) - s1@group-83CA3F3FAF3B: start as a follower, conf=-1: [s0:0.0.0.0:44494, s1:0.0.0.0:36427, s2:0.0.0.0:38950], old=null
2019-09-24 12:06:51,163 INFO  impl.RaftServerImpl (RaftServerImpl.java:setRole(170)) - s1@group-83CA3F3FAF3B: changes role from      null to FOLLOWER at term 0 for startAsFollower
2019-09-24 12:06:51,163 INFO  impl.RoleInfo (RoleInfo.java:updateAndGet(143)) - s1: start FollowerState
2019-09-24 12:06:51,164 INFO  util.JmxRegister (JmxRegister.java:tryRegister(44)) - Successfully registered JMX Bean with object name Ratis:service=RaftServer,group=group-83CA3F3FAF3B,id=s1
2019-09-24 12:06:51,168 INFO  impl.RaftServerProxy (RaftServerProxy.java:lambda$start$3(299)) - s1: start RPC server
2019-09-24 12:06:51,169 INFO  impl.RaftServerImpl (RaftServerImpl.java:start(181)) - s2@group-83CA3F3FAF3B: start as a follower, conf=-1: [s0:0.0.0.0:44494, s1:0.0.0.0:36427, s2:0.0.0.0:38950], old=null
2019-09-24 12:06:51,169 INFO  impl.RaftServerImpl (RaftServerImpl.java:setRole(170)) - s2@group-83CA3F3FAF3B: changes role from      null to FOLLOWER at term 0 for startAsFollower
2019-09-24 12:06:51,169 INFO  impl.RoleInfo (RoleInfo.java:updateAndGet(143)) - s2: start FollowerState
2019-09-24 12:06:51,170 INFO  util.JmxRegister (JmxRegister.java:tryRegister(44)) - Successfully registered JMX Bean with object name Ratis:service=RaftServer,group=group-83CA3F3FAF3B,id=s2
2019-09-24 12:06:51,173 INFO  impl.RaftServerProxy (RaftServerProxy.java:lambda$start$3(299)) - s2: start RPC server
2019-09-24 12:06:51,174 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.rpc.timeout.max = 300ms (default)
2019-09-24 12:06:51,174 INFO  ratis.RaftTestUtil (RaftTestUtil.java:waitForLeader(86)) - printing ALL groups
  s0:  RUNNING  FOLLOWER s0@group-83CA3F3FAF3B:t0, leader=null, voted=null, raftlog=s0@group-83CA3F3FAF3B-SegmentedRaftLog:OPENED:c-1,f-1,i0, conf=-1: [s0:0.0.0.0:44494, s1:0.0.0.0:36427, s2:0.0.0.0:38950], old=null RUNNING
  s1:  RUNNING  FOLLOWER s1@group-83CA3F3FAF3B:t0, leader=null, voted=null, raftlog=s1@group-83CA3F3FAF3B-SegmentedRaftLog:OPENED:c-1,f-1,i0, conf=-1: [s0:0.0.0.0:44494, s1:0.0.0.0:36427, s2:0.0.0.0:38950], old=null RUNNING
  s2:  RUNNING  FOLLOWER s2@group-83CA3F3FAF3B:t0, leader=null, voted=null, raftlog=s2@group-83CA3F3FAF3B-SegmentedRaftLog:OPENED:c-1,f-1,i0, conf=-1: [s0:0.0.0.0:44494, s1:0.0.0.0:36427, s2:0.0.0.0:38950], old=null RUNNING
2019-09-24 12:06:51,175 WARN  ratis.RaftTestUtil (JavaUtils.java:attempt(158)) - FAILED "waitForLeader-null-(expectLeader? true)", attempt #1/100: java.lang.IllegalStateException: No leader yet : printing ALL groups
  s0:  RUNNING  FOLLOWER s0@group-83CA3F3FAF3B:t0, leader=null, voted=null, raftlog=s0@group-83CA3F3FAF3B-SegmentedRaftLog:OPENED:c-1,f-1,i0, conf=-1: [s0:0.0.0.0:44494, s1:0.0.0.0:36427, s2:0.0.0.0:38950], old=null RUNNING
  s1:  RUNNING  FOLLOWER s1@group-83CA3F3FAF3B:t0, leader=null, voted=null, raftlog=s1@group-83CA3F3FAF3B-SegmentedRaftLog:OPENED:c-1,f-1,i0, conf=-1: [s0:0.0.0.0:44494, s1:0.0.0.0:36427, s2:0.0.0.0:38950], old=null RUNNING
  s2:  RUNNING  FOLLOWER s2@group-83CA3F3FAF3B:t0, leader=null, voted=null, raftlog=s2@group-83CA3F3FAF3B-SegmentedRaftLog:OPENED:c-1,f-1,i0, conf=-1: [s0:0.0.0.0:44494, s1:0.0.0.0:36427, s2:0.0.0.0:38950], old=null RUNNING, sleep 450ms and then retry.
java.lang.IllegalStateException: No leader yet : printing ALL groups
  s0:  RUNNING  FOLLOWER s0@group-83CA3F3FAF3B:t0, leader=null, voted=null, raftlog=s0@group-83CA3F3FAF3B-SegmentedRaftLog:OPENED:c-1,f-1,i0, conf=-1: [s0:0.0.0.0:44494, s1:0.0.0.0:36427, s2:0.0.0.0:38950], old=null RUNNING
  s1:  RUNNING  FOLLOWER s1@group-83CA3F3FAF3B:t0, leader=null, voted=null, raftlog=s1@group-83CA3F3FAF3B-SegmentedRaftLog:OPENED:c-1,f-1,i0, conf=-1: [s0:0.0.0.0:44494, s1:0.0.0.0:36427, s2:0.0.0.0:38950], old=null RUNNING
  s2:  RUNNING  FOLLOWER s2@group-83CA3F3FAF3B:t0, leader=null, voted=null, raftlog=s2@group-83CA3F3FAF3B-SegmentedRaftLog:OPENED:c-1,f-1,i0, conf=-1: [s0:0.0.0.0:44494, s1:0.0.0.0:36427, s2:0.0.0.0:38950], old=null RUNNING
	at org.apache.ratis.MiniRaftCluster.newIllegalStateExceptionForNoLeaders(MiniRaftCluster.java:506)
	at org.apache.ratis.RaftTestUtil.lambda$waitForLeader$1(RaftTestUtil.java:90)
	at org.apache.ratis.MiniRaftCluster.getLeader(MiniRaftCluster.java:539)
	at org.apache.ratis.MiniRaftCluster.getLeader(MiniRaftCluster.java:532)
	at org.apache.ratis.RaftTestUtil.lambda$waitForLeader$3(RaftTestUtil.java:98)
	at org.apache.ratis.util.JavaUtils.attempt(JavaUtils.java:152)
	at org.apache.ratis.RaftTestUtil.waitForLeader(RaftTestUtil.java:97)
	at org.apache.ratis.RaftTestUtil.waitForLeader(RaftTestUtil.java:77)
	at org.apache.ratis.RaftTestUtil.waitForLeader(RaftTestUtil.java:72)
	at org.apache.ratis.server.impl.LeaderElectionTests.testLeaderElectionMetrics(LeaderElectionTests.java:154)
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.lang.reflect.Method.invoke(Method.java:498)
	at org.junit.runners.model.FrameworkMethod$1.runReflectiveCall(FrameworkMethod.java:50)
	at org.junit.internal.runners.model.ReflectiveCallable.run(ReflectiveCallable.java:12)
	at org.junit.runners.model.FrameworkMethod.invokeExplosively(FrameworkMethod.java:47)
	at org.junit.internal.runners.statements.InvokeMethod.evaluate(InvokeMethod.java:17)
	at org.junit.internal.runners.statements.RunAfters.evaluate(RunAfters.java:27)
	at org.junit.internal.runners.statements.FailOnTimeout$CallableStatement.call(FailOnTimeout.java:298)
	at org.junit.internal.runners.statements.FailOnTimeout$CallableStatement.call(FailOnTimeout.java:292)
	at java.util.concurrent.FutureTask.run(FutureTask.java:266)
	at java.lang.Thread.run(Thread.java:748)
2019-09-24 12:06:51,209 WARN  impl.LogAppender (LogAppender.java:sendAppendEntriesWithRetries(274)) - s4@group-E7D5050F4609->s3-LogAppender: Failed to appendEntries (retry=271): org.apache.ratis.thirdparty.io.netty.channel.AbstractChannel$AnnotatedConnectException: Connection refused: /0.0.0.0:40479
2019-09-24 12:06:51,327 INFO  impl.FollowerState (FollowerState.java:run(108)) - s1@group-83CA3F3FAF3B-FollowerState: change to CANDIDATE, lastRpcTime:163ms, electionTimeout:163ms
2019-09-24 12:06:51,327 INFO  impl.RoleInfo (RoleInfo.java:shutdownFollowerState(121)) - s1: shutdown FollowerState
2019-09-24 12:06:51,328 INFO  impl.RaftServerImpl (RaftServerImpl.java:setRole(170)) - s1@group-83CA3F3FAF3B: changes role from  FOLLOWER to CANDIDATE at term 0 for changeToCandidate
2019-09-24 12:06:51,328 INFO  impl.RoleInfo (RoleInfo.java:updateAndGet(143)) - s1: start LeaderElection
2019-09-24 12:06:51,355 INFO  impl.LeaderElection (LeaderElection.java:askForVotes(178)) - s1@group-83CA3F3FAF3B-LeaderElection43: begin an election at term 1 for -1: [s0:0.0.0.0:44494, s1:0.0.0.0:36427, s2:0.0.0.0:38950], old=null
2019-09-24 12:06:51,358 INFO  logging.LoggingHandler (AbstractInternalLogger.java:log(150)) - [id: 0x07a4b440, L:/0.0.0.0:44494] READ: [id: 0x67356eca, L:/192.168.34.44:44494 - R:/192.168.34.44:42174]
2019-09-24 12:06:51,359 INFO  logging.LoggingHandler (AbstractInternalLogger.java:log(150)) - [id: 0x0b8fafbc, L:/0.0.0.0:38950] READ: [id: 0x1c98459d, L:/192.168.34.44:38950 - R:/192.168.34.44:59860]
2019-09-24 12:06:51,359 INFO  logging.LoggingHandler (AbstractInternalLogger.java:log(150)) - [id: 0x07a4b440, L:/0.0.0.0:44494] READ COMPLETE
2019-09-24 12:06:51,359 INFO  logging.LoggingHandler (AbstractInternalLogger.java:log(150)) - [id: 0x0b8fafbc, L:/0.0.0.0:38950] READ COMPLETE
2019-09-24 12:06:51,360 INFO  impl.FollowerState (FollowerState.java:run(108)) - s0@group-83CA3F3FAF3B-FollowerState: change to CANDIDATE, lastRpcTime:228ms, electionTimeout:228ms
2019-09-24 12:06:51,360 DEBUG impl.RaftServerImpl (RaftServerImpl.java:requestVote(743)) - s0@group-83CA3F3FAF3B: receive requestVote(s1, group-83CA3F3FAF3B, 1, (t:0, i:0))
2019-09-24 12:06:51,360 DEBUG impl.RaftServerImpl (RaftServerImpl.java:requestVote(743)) - s2@group-83CA3F3FAF3B: receive requestVote(s1, group-83CA3F3FAF3B, 1, (t:0, i:0))
2019-09-24 12:06:51,360 INFO  impl.RoleInfo (RoleInfo.java:shutdownFollowerState(121)) - s0: shutdown FollowerState
2019-09-24 12:06:51,362 INFO  impl.RaftServerImpl (RaftServerImpl.java:setRole(170)) - s2@group-83CA3F3FAF3B: changes role from  FOLLOWER to FOLLOWER at term 1 for recognizeCandidate:s1
2019-09-24 12:06:51,362 INFO  impl.RaftServerImpl (RaftServerImpl.java:setRole(170)) - s0@group-83CA3F3FAF3B: changes role from  FOLLOWER to CANDIDATE at term 0 for changeToCandidate
2019-09-24 12:06:51,362 INFO  impl.RoleInfo (RoleInfo.java:shutdownFollowerState(121)) - s2: shutdown FollowerState
2019-09-24 12:06:51,362 INFO  impl.RoleInfo (RoleInfo.java:updateAndGet(143)) - s0: start LeaderElection
2019-09-24 12:06:51,363 INFO  impl.FollowerState (FollowerState.java:run(117)) - s2@group-83CA3F3FAF3B-FollowerState was interrupted: java.lang.InterruptedException: sleep interrupted
2019-09-24 12:06:51,363 INFO  impl.RoleInfo (RoleInfo.java:updateAndGet(143)) - s2: start FollowerState
2019-09-24 12:06:51,363 INFO  impl.RaftServerImpl (RaftServerImpl.java:setRole(170)) - s0@group-83CA3F3FAF3B: changes role from CANDIDATE to FOLLOWER at term 1 for recognizeCandidate:s1
2019-09-24 12:06:51,364 INFO  impl.RoleInfo (RoleInfo.java:shutdownLeaderElection(134)) - s0: shutdown LeaderElection
2019-09-24 12:06:51,364 INFO  impl.RoleInfo (RoleInfo.java:updateAndGet(143)) - s0: start FollowerState
2019-09-24 12:06:51,386 DEBUG impl.RaftServerImpl (RaftServerImpl.java:requestVote(775)) - s2@group-83CA3F3FAF3B replies to vote request: s1<-s2#0:OK-t1. Peer's state: s2@group-83CA3F3FAF3B:t1, leader=null, voted=s1, raftlog=s2@group-83CA3F3FAF3B-SegmentedRaftLog:OPENED:c-1,f-1,i0, conf=-1: [s0:0.0.0.0:44494, s1:0.0.0.0:36427, s2:0.0.0.0:38950], old=null
2019-09-24 12:06:51,386 DEBUG impl.RaftServerImpl (RaftServerImpl.java:requestVote(775)) - s0@group-83CA3F3FAF3B replies to vote request: s1<-s0#0:FAIL-t1. Peer's state: s0@group-83CA3F3FAF3B:t1, leader=null, voted=null, raftlog=s0@group-83CA3F3FAF3B-SegmentedRaftLog:OPENED:c-1,f-1,i0, conf=-1: [s0:0.0.0.0:44494, s1:0.0.0.0:36427, s2:0.0.0.0:38950], old=null
2019-09-24 12:06:51,388 INFO  impl.LeaderElection (LeaderElection.java:logAndReturn(56)) - s1@group-83CA3F3FAF3B-LeaderElection43: Election PASSED; received 1 response(s) [s1<-s2#0:OK-t1] and 0 exception(s); s1@group-83CA3F3FAF3B:t1, leader=null, voted=s1, raftlog=s1@group-83CA3F3FAF3B-SegmentedRaftLog:OPENED:c-1,f-1,i0, conf=-1: [s0:0.0.0.0:44494, s1:0.0.0.0:36427, s2:0.0.0.0:38950], old=null
2019-09-24 12:06:51,389 INFO  impl.RoleInfo (RoleInfo.java:shutdownLeaderElection(134)) - s1: shutdown LeaderElection
2019-09-24 12:06:51,389 INFO  impl.RaftServerImpl (RaftServerImpl.java:setRole(170)) - s1@group-83CA3F3FAF3B: changes role from CANDIDATE to LEADER at term 1 for changeToLeader
2019-09-24 12:06:51,389 INFO  impl.RaftServerImpl (ServerState.java:setLeader(254)) - s1@group-83CA3F3FAF3B: change Leader from null to s1 at term 1 for becomeLeader, leader elected after 238ms
2019-09-24 12:06:51,389 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.staging.catchup.gap = 1000 (default)
2019-09-24 12:06:51,389 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.rpc.sleep.time = 25ms (default)
2019-09-24 12:06:51,389 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.write.element-limit = 4096 (default)
2019-09-24 12:06:51,390 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.watch.timeout = 10s (default)
2019-09-24 12:06:51,390 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.watch.timeout.denomination = 1s (default)
2019-09-24 12:06:51,390 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.watch.element-limit = 65536 (default)
2019-09-24 12:06:51,393 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.log.appender.snapshot.chunk.size.max = 16MB (=16777216) (default)
2019-09-24 12:06:51,393 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.log.appender.buffer.byte-limit = 4MB (=4194304) (default)
2019-09-24 12:06:51,393 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.log.appender.buffer.element-limit = 0 (default)
2019-09-24 12:06:51,393 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.log.appender.snapshot.chunk.size.max = 16MB (=16777216) (default)
2019-09-24 12:06:51,394 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.log.appender.buffer.byte-limit = 4MB (=4194304) (default)
2019-09-24 12:06:51,394 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.log.appender.buffer.element-limit = 0 (default)
2019-09-24 12:06:51,394 INFO  impl.RoleInfo (RoleInfo.java:updateAndGet(143)) - s1: start LeaderState
2019-09-24 12:06:51,394 INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:startLogSegment(380)) - s1@group-83CA3F3FAF3B-SegmentedRaftLogWorker: Starting segment from index:0
2019-09-24 12:06:51,395 INFO  impl.RaftServerImpl (ServerState.java:setRaftConf(355)) - s1@group-83CA3F3FAF3B: set configuration 0: [s0:0.0.0.0:44494, s1:0.0.0.0:36427, s2:0.0.0.0:38950], old=null at 0
2019-09-24 12:06:51,396 INFO  impl.RaftServerImpl (ServerState.java:setLeader(254)) - s2@group-83CA3F3FAF3B: change Leader from null to s1 at term 1 for appendEntries, leader elected after 245ms
2019-09-24 12:06:51,399 DEBUG impl.RaftServerImpl (RaftServerImpl.java:logAppendEntries(850)) - s2@group-83CA3F3FAF3B: receive appendEntries(s1, 1, null, -1, false, commits[s1:c-1, s0:c-1, s2:c-1], entries: (t:1, i:0), CONFIGURATIONENTRY
2019-09-24 12:06:51,399 INFO  impl.RaftServerImpl (ServerState.java:setRaftConf(355)) - s2@group-83CA3F3FAF3B: set configuration 0: [s0:0.0.0.0:44494, s1:0.0.0.0:36427, s2:0.0.0.0:38950], old=null at 0
2019-09-24 12:06:51,399 INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:startLogSegment(380)) - s2@group-83CA3F3FAF3B-SegmentedRaftLogWorker: Starting segment from index:0
2019-09-24 12:06:51,402 INFO  impl.LeaderElection (LeaderElection.java:askForVotes(178)) - s0@group-83CA3F3FAF3B-LeaderElection44: begin an election at term 2 for -1: [s0:0.0.0.0:44494, s1:0.0.0.0:36427, s2:0.0.0.0:38950], old=null
2019-09-24 12:06:51,402 DEBUG impl.RaftServerImpl (RaftServerImpl.java:appendEntriesAsync(906)) - s0@group-83CA3F3FAF3B: Not recognize s1 (term=1) as leader, state: s0@group-83CA3F3FAF3B:t2, leader=null, voted=s0, raftlog=s0@group-83CA3F3FAF3B-SegmentedRaftLog:OPENED:c-1,f-1,i0, conf=-1: [s0:0.0.0.0:44494, s1:0.0.0.0:36427, s2:0.0.0.0:38950], old=null reply: s1<-s0#0:FAIL,NOT_LEADER,nextIndex:1,term:2,followerCommit:-1
2019-09-24 12:06:51,403 INFO  impl.LeaderElection (LeaderElection.java:logAndReturn(56)) - s0@group-83CA3F3FAF3B-LeaderElection44: Election REJECTED; received 0 response(s) [] and 0 exception(s); s0@group-83CA3F3FAF3B:t2, leader=null, voted=s0, raftlog=s0@group-83CA3F3FAF3B-SegmentedRaftLog:OPENED:c-1,f-1,i0, conf=-1: [s0:0.0.0.0:44494, s1:0.0.0.0:36427, s2:0.0.0.0:38950], old=null
2019-09-24 12:06:51,407 INFO  logging.LoggingHandler (AbstractInternalLogger.java:log(150)) - [id: 0xc94577eb, L:/0.0.0.0:36427] READ: [id: 0xca17ea5b, L:/192.168.34.44:36427 - R:/192.168.34.44:48912]
2019-09-24 12:06:51,407 INFO  logging.LoggingHandler (AbstractInternalLogger.java:log(150)) - [id: 0x0b8fafbc, L:/0.0.0.0:38950] READ: [id: 0xe010950f, L:/192.168.34.44:38950 - R:/192.168.34.44:59868]
2019-09-24 12:06:51,407 INFO  impl.RaftServerImpl (ServerState.java:setLeader(254)) - s1@group-83CA3F3FAF3B: change Leader from s1 to null at term 2 for updateCurrentTerm
2019-09-24 12:06:51,407 INFO  logging.LoggingHandler (AbstractInternalLogger.java:log(150)) - [id: 0xc94577eb, L:/0.0.0.0:36427] READ COMPLETE
2019-09-24 12:06:51,407 INFO  logging.LoggingHandler (AbstractInternalLogger.java:log(150)) - [id: 0x0b8fafbc, L:/0.0.0.0:38950] READ COMPLETE
2019-09-24 12:06:51,407 INFO  impl.RaftServerImpl (RaftServerImpl.java:setRole(170)) - s1@group-83CA3F3FAF3B: changes role from    LEADER to FOLLOWER at term 2 for stepDown
2019-09-24 12:06:51,408 INFO  impl.RoleInfo (RoleInfo.java:shutdownLeaderState(104)) - s1: shutdown LeaderState
2019-09-24 12:06:51,407 DEBUG impl.RaftServerImpl (RaftServerImpl.java:logAppendEntries(850)) - s0@group-83CA3F3FAF3B: receive appendEntries(s1, 1, null, -1, false, commits[s1:c-1, s0:c-1, s2:c-1], entries: (t:1, i:0), CONFIGURATIONENTRY
2019-09-24 12:06:51,414 DEBUG impl.RaftServerImpl (RaftServerImpl.java:requestVote(743)) - s1@group-83CA3F3FAF3B: receive requestVote(s0, group-83CA3F3FAF3B, 2, (t:0, i:0))
2019-09-24 12:06:51,414 INFO  impl.LogAppender (LogAppender.java:run(78)) - s1@group-83CA3F3FAF3B->s2-LogAppender-AppenderDaemon was interrupted: java.io.InterruptedIOException: s1->s2#0 sending from s2:0.0.0.0:38950 is interrupted.
2019-09-24 12:06:51,414 INFO  impl.PendingRequests (PendingRequests.java:sendNotLeaderResponses(202)) - s1@group-83CA3F3FAF3B-PendingRequests: sendNotLeaderResponses
2019-09-24 12:06:51,414 INFO  impl.LogAppender (LogAppender.java:run(78)) - s1@group-83CA3F3FAF3B->s0-LogAppender-AppenderDaemon was interrupted: java.io.InterruptedIOException: s1->s0#0 sending from s0:0.0.0.0:44494 is interrupted.
2019-09-24 12:06:51,415 INFO  impl.RoleInfo (RoleInfo.java:updateAndGet(143)) - s1: start FollowerState
2019-09-24 12:06:51,414 DEBUG impl.RaftServerImpl (RaftServerImpl.java:requestVote(743)) - s2@group-83CA3F3FAF3B: receive requestVote(s0, group-83CA3F3FAF3B, 2, (t:0, i:0))
2019-09-24 12:06:51,414 DEBUG impl.RaftServerImpl (RaftServerImpl.java:appendEntriesAsync(906)) - s0@group-83CA3F3FAF3B: Not recognize s1 (term=1) as leader, state: s0@group-83CA3F3FAF3B:t2, leader=null, voted=s0, raftlog=s0@group-83CA3F3FAF3B-SegmentedRaftLog:OPENED:c-1,f-1,i0, conf=-1: [s0:0.0.0.0:44494, s1:0.0.0.0:36427, s2:0.0.0.0:38950], old=null reply: s1<-s0#0:FAIL,NOT_LEADER,nextIndex:1,term:2,followerCommit:-1
2019-09-24 12:06:51,416 INFO  impl.RaftServerImpl (ServerState.java:setLeader(254)) - s2@group-83CA3F3FAF3B: change Leader from s1 to null at term 2 for updateCurrentTerm
2019-09-24 12:06:51,416 INFO  impl.RaftServerImpl (RaftServerImpl.java:setRole(170)) - s2@group-83CA3F3FAF3B: changes role from  FOLLOWER to FOLLOWER at term 2 for recognizeCandidate:s0
2019-09-24 12:06:51,416 INFO  impl.RoleInfo (RoleInfo.java:shutdownFollowerState(121)) - s2: shutdown FollowerState
2019-09-24 12:06:51,417 INFO  impl.RoleInfo (RoleInfo.java:updateAndGet(143)) - s2: start FollowerState
2019-09-24 12:06:51,417 INFO  impl.FollowerState (FollowerState.java:run(117)) - s2@group-83CA3F3FAF3B-FollowerState was interrupted: java.lang.InterruptedException: sleep interrupted
2019-09-24 12:06:51,442 WARN  impl.LogAppender (LogAppender.java:sendAppendEntriesWithRetries(274)) - s4@group-E7D5050F4609->s3-LogAppender: Failed to appendEntries (retry=281): org.apache.ratis.thirdparty.io.netty.channel.AbstractChannel$AnnotatedConnectException: Connection refused: /0.0.0.0:40479
2019-09-24 12:06:51,558 INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:execute(569)) - s2@group-83CA3F3FAF3B-SegmentedRaftLogWorker: created new log segment /workdir/ratis-test/target/test/data/aaa4fccd/MiniRaftClusterWithNetty4fe3ec5c/s2/3eb8604b-6c64-4004-9008-83ca3f3faf3b/current/log_inprogress_0
2019-09-24 12:06:51,558 INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:execute(569)) - s1@group-83CA3F3FAF3B-SegmentedRaftLogWorker: created new log segment /workdir/ratis-test/target/test/data/aaa4fccd/MiniRaftClusterWithNetty4fe3ec5c/s1/3eb8604b-6c64-4004-9008-83ca3f3faf3b/current/log_inprogress_0
2019-09-24 12:06:51,559 INFO  impl.RaftServerImpl (RaftServerImpl.java:setRole(170)) - s1@group-83CA3F3FAF3B: changes role from  FOLLOWER to FOLLOWER at term 2 for recognizeCandidate:s0
2019-09-24 12:06:51,560 INFO  impl.RoleInfo (RoleInfo.java:shutdownFollowerState(121)) - s1: shutdown FollowerState
2019-09-24 12:06:51,559 DEBUG impl.RaftServerImpl (RaftServerImpl.java:requestVote(775)) - s2@group-83CA3F3FAF3B replies to vote request: s0<-s2#0:FAIL-t2. Peer's state: s2@group-83CA3F3FAF3B:t2, leader=null, voted=null, raftlog=s2@group-83CA3F3FAF3B-SegmentedRaftLog:OPENED:c-1,f-1,i0, conf=0: [s0:0.0.0.0:44494, s1:0.0.0.0:36427, s2:0.0.0.0:38950], old=null
2019-09-24 12:06:51,560 INFO  impl.FollowerState (FollowerState.java:run(117)) - s1@group-83CA3F3FAF3B-FollowerState was interrupted: java.lang.InterruptedException: sleep interrupted
2019-09-24 12:06:51,560 INFO  impl.RoleInfo (RoleInfo.java:updateAndGet(143)) - s1: start FollowerState
2019-09-24 12:06:51,562 DEBUG impl.RaftServerImpl (RaftServerImpl.java:requestVote(775)) - s1@group-83CA3F3FAF3B replies to vote request: s0<-s1#0:FAIL-t2. Peer's state: s1@group-83CA3F3FAF3B:t2, leader=null, voted=null, raftlog=s1@group-83CA3F3FAF3B-SegmentedRaftLog:OPENED:c-1,f-1,i0, conf=0: [s0:0.0.0.0:44494, s1:0.0.0.0:36427, s2:0.0.0.0:38950], old=null
2019-09-24 12:06:51,571 DEBUG impl.RaftServerImpl (RaftServerImpl.java:logAppendEntries(850)) - s2@group-83CA3F3FAF3B: succeeded to handle AppendEntries. Reply: s1<-s2#0:OK,SUCCESS,nextIndex:1,term:1,followerCommit:-1
2019-09-24 12:06:51,590 INFO  impl.FollowerState (FollowerState.java:run(108)) - s0@group-83CA3F3FAF3B-FollowerState: change to CANDIDATE, lastRpcTime:225ms, electionTimeout:225ms
2019-09-24 12:06:51,590 INFO  impl.RoleInfo (RoleInfo.java:shutdownFollowerState(121)) - s0: shutdown FollowerState
2019-09-24 12:06:51,590 INFO  impl.RaftServerImpl (RaftServerImpl.java:setRole(170)) - s0@group-83CA3F3FAF3B: changes role from  FOLLOWER to CANDIDATE at term 2 for changeToCandidate
2019-09-24 12:06:51,590 INFO  impl.RoleInfo (RoleInfo.java:updateAndGet(143)) - s0: start LeaderElection
2019-09-24 12:06:51,604 INFO  impl.LeaderElection (LeaderElection.java:askForVotes(178)) - s0@group-83CA3F3FAF3B-LeaderElection45: begin an election at term 3 for -1: [s0:0.0.0.0:44494, s1:0.0.0.0:36427, s2:0.0.0.0:38950], old=null
2019-09-24 12:06:51,605 DEBUG impl.RaftServerImpl (RaftServerImpl.java:requestVote(743)) - s1@group-83CA3F3FAF3B: receive requestVote(s0, group-83CA3F3FAF3B, 3, (t:0, i:0))
2019-09-24 12:06:51,605 DEBUG impl.RaftServerImpl (RaftServerImpl.java:requestVote(743)) - s2@group-83CA3F3FAF3B: receive requestVote(s0, group-83CA3F3FAF3B, 3, (t:0, i:0))
2019-09-24 12:06:51,606 INFO  impl.RaftServerImpl (RaftServerImpl.java:setRole(170)) - s1@group-83CA3F3FAF3B: changes role from  FOLLOWER to FOLLOWER at term 3 for recognizeCandidate:s0
2019-09-24 12:06:51,606 INFO  impl.RaftServerImpl (RaftServerImpl.java:setRole(170)) - s2@group-83CA3F3FAF3B: changes role from  FOLLOWER to FOLLOWER at term 3 for recognizeCandidate:s0
2019-09-24 12:06:51,606 INFO  impl.RoleInfo (RoleInfo.java:shutdownFollowerState(121)) - s1: shutdown FollowerState
2019-09-24 12:06:51,607 INFO  impl.RoleInfo (RoleInfo.java:shutdownFollowerState(121)) - s2: shutdown FollowerState
2019-09-24 12:06:51,607 INFO  impl.FollowerState (FollowerState.java:run(117)) - s1@group-83CA3F3FAF3B-FollowerState was interrupted: java.lang.InterruptedException: sleep interrupted
2019-09-24 12:06:51,607 INFO  impl.RoleInfo (RoleInfo.java:updateAndGet(143)) - s1: start FollowerState
2019-09-24 12:06:51,607 INFO  impl.FollowerState (FollowerState.java:run(117)) - s2@group-83CA3F3FAF3B-FollowerState was interrupted: java.lang.InterruptedException: sleep interrupted
2019-09-24 12:06:51,607 INFO  impl.RoleInfo (RoleInfo.java:updateAndGet(143)) - s2: start FollowerState
2019-09-24 12:06:51,626 WARN  ratis.RaftTestUtil (JavaUtils.java:attempt(158)) - FAILED "waitForLeader-null-(expectLeader? true)", attempt #2/100: java.lang.IllegalStateException: No leader yet : printing ALL groups
  s0:  RUNNING CANDIDATE s0@group-83CA3F3FAF3B:t3, leader=null, voted=s0, raftlog=s0@group-83CA3F3FAF3B-SegmentedRaftLog:OPENED:c-1,f-1,i0, conf=-1: [s0:0.0.0.0:44494, s1:0.0.0.0:36427, s2:0.0.0.0:38950], old=null RUNNING
  s1:  RUNNING  FOLLOWER s1@group-83CA3F3FAF3B:t3, leader=null, voted=null, raftlog=s1@group-83CA3F3FAF3B-SegmentedRaftLog:OPENED:c-1,f0,i0, conf=0: [s0:0.0.0.0:44494, s1:0.0.0.0:36427, s2:0.0.0.0:38950], old=null RUNNING
  s2:  RUNNING  FOLLOWER s2@group-83CA3F3FAF3B:t3, leader=null, voted=null, raftlog=s2@group-83CA3F3FAF3B-SegmentedRaftLog:OPENED:c-1,f0,i0, conf=0: [s0:0.0.0.0:44494, s1:0.0.0.0:36427, s2:0.0.0.0:38950], old=null RUNNING, sleep 450ms and then retry.
java.lang.IllegalStateException: No leader yet : printing ALL groups
  s0:  RUNNING CANDIDATE s0@group-83CA3F3FAF3B:t3, leader=null, voted=s0, raftlog=s0@group-83CA3F3FAF3B-SegmentedRaftLog:OPENED:c-1,f-1,i0, conf=-1: [s0:0.0.0.0:44494, s1:0.0.0.0:36427, s2:0.0.0.0:38950], old=null RUNNING
  s1:  RUNNING  FOLLOWER s1@group-83CA3F3FAF3B:t3, leader=null, voted=null, raftlog=s1@group-83CA3F3FAF3B-SegmentedRaftLog:OPENED:c-1,f0,i0, conf=0: [s0:0.0.0.0:44494, s1:0.0.0.0:36427, s2:0.0.0.0:38950], old=null RUNNING
  s2:  RUNNING  FOLLOWER s2@group-83CA3F3FAF3B:t3, leader=null, voted=null, raftlog=s2@group-83CA3F3FAF3B-SegmentedRaftLog:OPENED:c-1,f0,i0, conf=0: [s0:0.0.0.0:44494, s1:0.0.0.0:36427, s2:0.0.0.0:38950], old=null RUNNING
	at org.apache.ratis.MiniRaftCluster.newIllegalStateExceptionForNoLeaders(MiniRaftCluster.java:506)
	at org.apache.ratis.RaftTestUtil.lambda$waitForLeader$1(RaftTestUtil.java:90)
	at org.apache.ratis.MiniRaftCluster.getLeader(MiniRaftCluster.java:539)
	at org.apache.ratis.MiniRaftCluster.getLeader(MiniRaftCluster.java:532)
	at org.apache.ratis.RaftTestUtil.lambda$waitForLeader$3(RaftTestUtil.java:98)
	at org.apache.ratis.util.JavaUtils.attempt(JavaUtils.java:152)
	at org.apache.ratis.RaftTestUtil.waitForLeader(RaftTestUtil.java:97)
	at org.apache.ratis.RaftTestUtil.waitForLeader(RaftTestUtil.java:77)
	at org.apache.ratis.RaftTestUtil.waitForLeader(RaftTestUtil.java:72)
	at org.apache.ratis.server.impl.LeaderElectionTests.testLeaderElectionMetrics(LeaderElectionTests.java:154)
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.lang.reflect.Method.invoke(Method.java:498)
	at org.junit.runners.model.FrameworkMethod$1.runReflectiveCall(FrameworkMethod.java:50)
	at org.junit.internal.runners.model.ReflectiveCallable.run(ReflectiveCallable.java:12)
	at org.junit.runners.model.FrameworkMethod.invokeExplosively(FrameworkMethod.java:47)
	at org.junit.internal.runners.statements.InvokeMethod.evaluate(InvokeMethod.java:17)
	at org.junit.internal.runners.statements.RunAfters.evaluate(RunAfters.java:27)
	at org.junit.internal.runners.statements.FailOnTimeout$CallableStatement.call(FailOnTimeout.java:298)
	at org.junit.internal.runners.statements.FailOnTimeout$CallableStatement.call(FailOnTimeout.java:292)
	at java.util.concurrent.FutureTask.run(FutureTask.java:266)
	at java.lang.Thread.run(Thread.java:748)
2019-09-24 12:06:51,633 DEBUG impl.RaftServerImpl (RaftServerImpl.java:requestVote(775)) - s1@group-83CA3F3FAF3B replies to vote request: s0<-s1#0:FAIL-t3. Peer's state: s1@group-83CA3F3FAF3B:t3, leader=null, voted=null, raftlog=s1@group-83CA3F3FAF3B-SegmentedRaftLog:OPENED:c-1,f0,i0, conf=0: [s0:0.0.0.0:44494, s1:0.0.0.0:36427, s2:0.0.0.0:38950], old=null
2019-09-24 12:06:51,633 DEBUG impl.RaftServerImpl (RaftServerImpl.java:requestVote(775)) - s2@group-83CA3F3FAF3B replies to vote request: s0<-s2#0:FAIL-t3. Peer's state: s2@group-83CA3F3FAF3B:t3, leader=null, voted=null, raftlog=s2@group-83CA3F3FAF3B-SegmentedRaftLog:OPENED:c-1,f0,i0, conf=0: [s0:0.0.0.0:44494, s1:0.0.0.0:36427, s2:0.0.0.0:38950], old=null
2019-09-24 12:06:51,635 INFO  impl.LeaderElection (LeaderElection.java:logAndReturn(56)) - s0@group-83CA3F3FAF3B-LeaderElection45: Election REJECTED; received 2 response(s) [s0<-s1#0:FAIL-t3, s0<-s2#0:FAIL-t3] and 0 exception(s); s0@group-83CA3F3FAF3B:t3, leader=null, voted=s0, raftlog=s0@group-83CA3F3FAF3B-SegmentedRaftLog:OPENED:c-1,f-1,i0, conf=-1: [s0:0.0.0.0:44494, s1:0.0.0.0:36427, s2:0.0.0.0:38950], old=null
2019-09-24 12:06:51,635 INFO  impl.RaftServerImpl (RaftServerImpl.java:setRole(170)) - s0@group-83CA3F3FAF3B: changes role from CANDIDATE to FOLLOWER at term 3 for DISCOVERED_A_NEW_TERM
2019-09-24 12:06:51,635 INFO  impl.RoleInfo (RoleInfo.java:shutdownLeaderElection(134)) - s0: shutdown LeaderElection
2019-09-24 12:06:51,635 INFO  impl.RoleInfo (RoleInfo.java:updateAndGet(143)) - s0: start FollowerState
2019-09-24 12:06:51,675 WARN  impl.LogAppender (LogAppender.java:sendAppendEntriesWithRetries(274)) - s4@group-E7D5050F4609->s3-LogAppender: Failed to appendEntries (retry=291): org.apache.ratis.thirdparty.io.netty.channel.AbstractChannel$AnnotatedConnectException: Connection refused: /0.0.0.0:40479
2019-09-24 12:06:51,761 INFO  impl.FollowerState (FollowerState.java:run(108)) - s2@group-83CA3F3FAF3B-FollowerState: change to CANDIDATE, lastRpcTime:153ms, electionTimeout:152ms
2019-09-24 12:06:51,761 INFO  impl.RoleInfo (RoleInfo.java:shutdownFollowerState(121)) - s2: shutdown FollowerState
2019-09-24 12:06:51,761 INFO  impl.RaftServerImpl (RaftServerImpl.java:setRole(170)) - s2@group-83CA3F3FAF3B: changes role from  FOLLOWER to CANDIDATE at term 3 for changeToCandidate
2019-09-24 12:06:51,761 INFO  impl.RoleInfo (RoleInfo.java:updateAndGet(143)) - s2: start LeaderElection
2019-09-24 12:06:51,775 INFO  impl.LeaderElection (LeaderElection.java:askForVotes(178)) - s2@group-83CA3F3FAF3B-LeaderElection46: begin an election at term 4 for 0: [s0:0.0.0.0:44494, s1:0.0.0.0:36427, s2:0.0.0.0:38950], old=null
2019-09-24 12:06:51,779 INFO  logging.LoggingHandler (AbstractInternalLogger.java:log(150)) - [id: 0x07a4b440, L:/0.0.0.0:44494] READ: [id: 0x4b3b493c, L:/192.168.34.44:44494 - R:/192.168.34.44:42216]
2019-09-24 12:06:51,780 INFO  logging.LoggingHandler (AbstractInternalLogger.java:log(150)) - [id: 0xc94577eb, L:/0.0.0.0:36427] READ: [id: 0x3256f30b, L:/192.168.34.44:36427 - R:/192.168.34.44:48950]
2019-09-24 12:06:51,780 INFO  logging.LoggingHandler (AbstractInternalLogger.java:log(150)) - [id: 0x07a4b440, L:/0.0.0.0:44494] READ COMPLETE
2019-09-24 12:06:51,780 INFO  logging.LoggingHandler (AbstractInternalLogger.java:log(150)) - [id: 0xc94577eb, L:/0.0.0.0:36427] READ COMPLETE
2019-09-24 12:06:51,781 DEBUG impl.RaftServerImpl (RaftServerImpl.java:requestVote(743)) - s0@group-83CA3F3FAF3B: receive requestVote(s2, group-83CA3F3FAF3B, 4, (t:1, i:0))
2019-09-24 12:06:51,782 DEBUG impl.RaftServerImpl (RaftServerImpl.java:requestVote(743)) - s1@group-83CA3F3FAF3B: receive requestVote(s2, group-83CA3F3FAF3B, 4, (t:1, i:0))
2019-09-24 12:06:51,782 INFO  impl.RaftServerImpl (RaftServerImpl.java:setRole(170)) - s0@group-83CA3F3FAF3B: changes role from  FOLLOWER to FOLLOWER at term 4 for recognizeCandidate:s2
2019-09-24 12:06:51,782 INFO  impl.RaftServerImpl (RaftServerImpl.java:setRole(170)) - s1@group-83CA3F3FAF3B: changes role from  FOLLOWER to FOLLOWER at term 4 for recognizeCandidate:s2
2019-09-24 12:06:51,782 INFO  impl.RoleInfo (RoleInfo.java:shutdownFollowerState(121)) - s0: shutdown FollowerState
2019-09-24 12:06:51,782 INFO  impl.RoleInfo (RoleInfo.java:shutdownFollowerState(121)) - s1: shutdown FollowerState
2019-09-24 12:06:51,783 INFO  impl.RoleInfo (RoleInfo.java:updateAndGet(143)) - s1: start FollowerState
2019-09-24 12:06:51,783 INFO  impl.FollowerState (FollowerState.java:run(117)) - s0@group-83CA3F3FAF3B-FollowerState was interrupted: java.lang.InterruptedException: sleep interrupted
2019-09-24 12:06:51,783 INFO  impl.RoleInfo (RoleInfo.java:updateAndGet(143)) - s0: start FollowerState
2019-09-24 12:06:51,783 INFO  impl.FollowerState (FollowerState.java:run(117)) - s1@group-83CA3F3FAF3B-FollowerState was interrupted: java.lang.InterruptedException: sleep interrupted
2019-09-24 12:06:51,809 DEBUG impl.RaftServerImpl (RaftServerImpl.java:requestVote(775)) - s1@group-83CA3F3FAF3B replies to vote request: s2<-s1#0:OK-t4. Peer's state: s1@group-83CA3F3FAF3B:t4, leader=null, voted=s2, raftlog=s1@group-83CA3F3FAF3B-SegmentedRaftLog:OPENED:c-1,f0,i0, conf=0: [s0:0.0.0.0:44494, s1:0.0.0.0:36427, s2:0.0.0.0:38950], old=null
2019-09-24 12:06:51,809 DEBUG impl.RaftServerImpl (RaftServerImpl.java:requestVote(775)) - s0@group-83CA3F3FAF3B replies to vote request: s2<-s0#0:OK-t4. Peer's state: s0@group-83CA3F3FAF3B:t4, leader=null, voted=s2, raftlog=s0@group-83CA3F3FAF3B-SegmentedRaftLog:OPENED:c-1,f-1,i0, conf=-1: [s0:0.0.0.0:44494, s1:0.0.0.0:36427, s2:0.0.0.0:38950], old=null
2019-09-24 12:06:51,812 INFO  impl.LeaderElection (LeaderElection.java:logAndReturn(56)) - s2@group-83CA3F3FAF3B-LeaderElection46: Election PASSED; received 1 response(s) [s2<-s1#0:OK-t4] and 0 exception(s); s2@group-83CA3F3FAF3B:t4, leader=null, voted=s2, raftlog=s2@group-83CA3F3FAF3B-SegmentedRaftLog:OPENED:c-1,f0,i0, conf=0: [s0:0.0.0.0:44494, s1:0.0.0.0:36427, s2:0.0.0.0:38950], old=null
2019-09-24 12:06:51,812 INFO  impl.RoleInfo (RoleInfo.java:shutdownLeaderElection(134)) - s2: shutdown LeaderElection
2019-09-24 12:06:51,812 INFO  impl.RaftServerImpl (RaftServerImpl.java:setRole(170)) - s2@group-83CA3F3FAF3B: changes role from CANDIDATE to LEADER at term 4 for changeToLeader
2019-09-24 12:06:51,813 INFO  impl.RaftServerImpl (ServerState.java:setLeader(254)) - s2@group-83CA3F3FAF3B: change Leader from null to s2 at term 4 for becomeLeader, leader elected after 397ms
2019-09-24 12:06:51,813 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.staging.catchup.gap = 1000 (default)
2019-09-24 12:06:51,813 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.rpc.sleep.time = 25ms (default)
2019-09-24 12:06:51,813 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.write.element-limit = 4096 (default)
2019-09-24 12:06:51,813 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.watch.timeout = 10s (default)
2019-09-24 12:06:51,814 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.watch.timeout.denomination = 1s (default)
2019-09-24 12:06:51,814 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.watch.element-limit = 65536 (default)
2019-09-24 12:06:51,817 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.log.appender.snapshot.chunk.size.max = 16MB (=16777216) (default)
2019-09-24 12:06:51,817 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.log.appender.buffer.byte-limit = 4MB (=4194304) (default)
2019-09-24 12:06:51,817 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.log.appender.buffer.element-limit = 0 (default)
2019-09-24 12:06:51,818 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.log.appender.snapshot.chunk.size.max = 16MB (=16777216) (default)
2019-09-24 12:06:51,818 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.log.appender.buffer.byte-limit = 4MB (=4194304) (default)
2019-09-24 12:06:51,818 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.log.appender.buffer.element-limit = 0 (default)
2019-09-24 12:06:51,819 INFO  impl.RoleInfo (RoleInfo.java:updateAndGet(143)) - s2: start LeaderState
2019-09-24 12:06:51,819 INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:rollLogSegment(385)) - s2@group-83CA3F3FAF3B-SegmentedRaftLogWorker: Rolling segment log-0_0 to index:0
2019-09-24 12:06:51,820 INFO  impl.RaftServerImpl (ServerState.java:setRaftConf(355)) - s2@group-83CA3F3FAF3B: set configuration 1: [s0:0.0.0.0:44494, s1:0.0.0.0:36427, s2:0.0.0.0:38950], old=null at 1
2019-09-24 12:06:51,821 INFO  impl.RaftServerImpl (ServerState.java:setLeader(254)) - s0@group-83CA3F3FAF3B: change Leader from null to s2 at term 4 for appendEntries, leader elected after 701ms
2019-09-24 12:06:51,822 TRACE util.FileUtils (LogUtils.java:runAndLog(61)) - Successfully ran Files.move /workdir/ratis-test/target/test/data/aaa4fccd/MiniRaftClusterWithNetty4fe3ec5c/s2/3eb8604b-6c64-4004-9008-83ca3f3faf3b/current/log_inprogress_0 to /workdir/ratis-test/target/test/data/aaa4fccd/MiniRaftClusterWithNetty4fe3ec5c/s2/3eb8604b-6c64-4004-9008-83ca3f3faf3b/current/log_0-0
2019-09-24 12:06:51,822 INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:execute(526)) - s2@group-83CA3F3FAF3B-SegmentedRaftLogWorker: Rolled log segment from /workdir/ratis-test/target/test/data/aaa4fccd/MiniRaftClusterWithNetty4fe3ec5c/s2/3eb8604b-6c64-4004-9008-83ca3f3faf3b/current/log_inprogress_0 to /workdir/ratis-test/target/test/data/aaa4fccd/MiniRaftClusterWithNetty4fe3ec5c/s2/3eb8604b-6c64-4004-9008-83ca3f3faf3b/current/log_0-0
2019-09-24 12:06:51,822 INFO  impl.RaftServerImpl (RaftServerImpl.java:checkInconsistentAppendEntries(999)) - s0@group-83CA3F3FAF3B: Failed appendEntries as previous log entry ((t:1, i:0)) is not found
2019-09-24 12:06:51,821 INFO  impl.RaftServerImpl (ServerState.java:setLeader(254)) - s1@group-83CA3F3FAF3B: change Leader from null to s2 at term 4 for appendEntries, leader elected after 414ms
2019-09-24 12:06:51,822 INFO  impl.RaftServerImpl (RaftServerImpl.java:checkInconsistentAppendEntries(972)) - s0@group-83CA3F3FAF3B: inconsistency entries. Reply:s2<-s0#0:FAIL,INCONSISTENCY,nextIndex:0,term:4,followerCommit:-1
2019-09-24 12:06:51,823 INFO  impl.FollowerInfo (FollowerInfo.java:lambda$new$0(51)) - s2@group-83CA3F3FAF3B->s0: nextIndex: updateUnconditionally 1 -> 0
2019-09-24 12:06:51,824 DEBUG impl.RaftServerImpl (RaftServerImpl.java:logAppendEntries(850)) - s1@group-83CA3F3FAF3B: receive appendEntries(s2, 4, (t:1, i:0), -1, false, commits[s2:c-1, s0:c-1, s1:c-1], entries: (t:4, i:1), CONFIGURATIONENTRY
2019-09-24 12:06:51,824 INFO  impl.RaftServerImpl (ServerState.java:setRaftConf(355)) - s1@group-83CA3F3FAF3B: set configuration 1: [s0:0.0.0.0:44494, s1:0.0.0.0:36427, s2:0.0.0.0:38950], old=null at 1
2019-09-24 12:06:51,825 INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:rollLogSegment(385)) - s1@group-83CA3F3FAF3B-SegmentedRaftLogWorker: Rolling segment log-0_0 to index:0
2019-09-24 12:06:51,825 DEBUG impl.RaftServerImpl (RaftServerImpl.java:logAppendEntries(850)) - s0@group-83CA3F3FAF3B: receive appendEntries(s2, 4, null, -1, false, commits[s2:c-1, s0:c-1, s1:c-1], entries: [(t:1, i:0), CONFIGURATIONENTRY, (t:4, i:1), CONFIGURATIONENTRY]
2019-09-24 12:06:51,826 INFO  impl.RaftServerImpl (ServerState.java:setRaftConf(355)) - s0@group-83CA3F3FAF3B: set configuration 0: [s0:0.0.0.0:44494, s1:0.0.0.0:36427, s2:0.0.0.0:38950], old=null at 0
2019-09-24 12:06:51,826 INFO  impl.RaftServerImpl (ServerState.java:setRaftConf(355)) - s0@group-83CA3F3FAF3B: set configuration 1: [s0:0.0.0.0:44494, s1:0.0.0.0:36427, s2:0.0.0.0:38950], old=null at 1
2019-09-24 12:06:51,826 INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:startLogSegment(380)) - s0@group-83CA3F3FAF3B-SegmentedRaftLogWorker: Starting segment from index:0
2019-09-24 12:06:51,827 INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:rollLogSegment(385)) - s0@group-83CA3F3FAF3B-SegmentedRaftLogWorker: Rolling segment log-0_0 to index:0
2019-09-24 12:06:51,827 TRACE util.FileUtils (LogUtils.java:runAndLog(61)) - Successfully ran Files.move /workdir/ratis-test/target/test/data/aaa4fccd/MiniRaftClusterWithNetty4fe3ec5c/s1/3eb8604b-6c64-4004-9008-83ca3f3faf3b/current/log_inprogress_0 to /workdir/ratis-test/target/test/data/aaa4fccd/MiniRaftClusterWithNetty4fe3ec5c/s1/3eb8604b-6c64-4004-9008-83ca3f3faf3b/current/log_0-0
2019-09-24 12:06:51,828 INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:execute(526)) - s1@group-83CA3F3FAF3B-SegmentedRaftLogWorker: Rolled log segment from /workdir/ratis-test/target/test/data/aaa4fccd/MiniRaftClusterWithNetty4fe3ec5c/s1/3eb8604b-6c64-4004-9008-83ca3f3faf3b/current/log_inprogress_0 to /workdir/ratis-test/target/test/data/aaa4fccd/MiniRaftClusterWithNetty4fe3ec5c/s1/3eb8604b-6c64-4004-9008-83ca3f3faf3b/current/log_0-0
2019-09-24 12:06:51,908 WARN  impl.LogAppender (LogAppender.java:sendAppendEntriesWithRetries(274)) - s4@group-E7D5050F4609->s3-LogAppender: Failed to appendEntries (retry=301): org.apache.ratis.thirdparty.io.netty.channel.AbstractChannel$AnnotatedConnectException: Connection refused: /0.0.0.0:40479
2019-09-24 12:06:52,077 INFO  ratis.RaftTestUtil (RaftTestUtil.java:waitForLeader(101)) - printing ALL groups
  s0:  RUNNING  FOLLOWER s0@group-83CA3F3FAF3B:t4, leader=s2, voted=s2, raftlog=s0@group-83CA3F3FAF3B-SegmentedRaftLog:OPENED:c-1,f-1,i1, conf=1: [s0:0.0.0.0:44494, s1:0.0.0.0:36427, s2:0.0.0.0:38950], old=null RUNNING
  s1:  RUNNING  FOLLOWER s1@group-83CA3F3FAF3B:t4, leader=s2, voted=s2, raftlog=s1@group-83CA3F3FAF3B-SegmentedRaftLog:OPENED:c-1,f0,i1, conf=1: [s0:0.0.0.0:44494, s1:0.0.0.0:36427, s2:0.0.0.0:38950], old=null RUNNING
  s2:  RUNNING    LEADER s2@group-83CA3F3FAF3B:t4, leader=s2, voted=s2, raftlog=s2@group-83CA3F3FAF3B-SegmentedRaftLog:OPENED:c-1,f0,i1, conf=1: [s0:0.0.0.0:44494, s1:0.0.0.0:36427, s2:0.0.0.0:38950], old=null RUNNING
