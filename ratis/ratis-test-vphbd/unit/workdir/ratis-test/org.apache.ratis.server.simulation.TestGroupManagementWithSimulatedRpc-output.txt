2019-09-24 17:08:16,236 INFO  util.LogUtils (LogUtils.java:setLogLevel(41)) - Set org.apache.ratis.conf.ConfUtils log level to WARN
2019-09-24 17:08:16,240 INFO  util.LogUtils (LogUtils.java:setLogLevel(41)) - Set org.apache.ratis.util.FileUtils log level to TRACE
2019-09-24 17:08:16,249 INFO  util.LogUtils (LogUtils.java:setLogLevel(41)) - Set org.apache.ratis.server.impl.RaftServerProxy log level to DEBUG
2019-09-24 17:08:16,256 INFO  util.LogUtils (LogUtils.java:setLogLevel(41)) - Set org.apache.ratis.server.impl.RaftServerImpl log level to DEBUG
2019-09-24 17:08:16,257 INFO  util.LogUtils (LogUtils.java:setLogLevel(41)) - Set org.apache.ratis.client.RaftClient log level to DEBUG
2019-09-24 17:08:16,290 INFO  simulation.MiniRaftClusterWithSimulatedRpc (ConfUtils.java:logGet(43)) - org.apache.ratis.server.simulation.SimulatedRequestReply.simulateLatencyMs = 0 (custom)
2019-09-24 17:08:16,331 INFO  ratis.MiniRaftCluster (MiniRaftCluster.java:<init>(253)) - new MiniRaftClusterWithSimulatedRpc with group-561C2F8AD2DC:[]
2019-09-24 17:08:16,335 INFO  impl.GroupManagementBaseTest (GroupManagementBaseTest.java:testSingleGroupRestart(69)) - Start testMultiGroupprinting ALL groups
2019-09-24 17:08:16,353 INFO  ratis.MiniRaftCluster (MiniRaftCluster.java:newRaftServer(330)) - newRaftServer: s0, null, format? true
2019-09-24 17:08:16,356 TRACE util.FileUtils (FileUtils.java:deleteFully(88)) - deleteFully target/test/data/312143de/MiniRaftClusterWithSimulatedRpc89895be2/s0
2019-09-24 17:08:16,364 TRACE util.FileUtils (FileUtils.java:deleteFully(104)) - deleteFully: target/test/data/312143de/MiniRaftClusterWithSimulatedRpc89895be2/s0 does not exist.
2019-09-24 17:08:16,364 INFO  ratis.MiniRaftCluster (MiniRaftCluster.java:newRaftServer(335)) - Formatted directory target/test/data/312143de/MiniRaftClusterWithSimulatedRpc89895be2/s0
2019-09-24 17:08:16,371 DEBUG impl.RaftServerProxy (ServerImplUtils.java:newRaftServer(39)) - newRaftServer: s0, null
2019-09-24 17:08:16,375 INFO  impl.RaftServerProxy (ConfUtils.java:logGet(43)) - raft.rpc.type = org.apache.ratis.server.simulation.SimulatedRpc (custom)
2019-09-24 17:08:16,398 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.storage.dir = [/workdir/ratis-test/target/test/data/312143de/MiniRaftClusterWithSimulatedRpc89895be2/s0] (custom)
2019-09-24 17:08:16,409 INFO  ratis.MiniRaftCluster (MiniRaftCluster.java:newRaftServer(330)) - newRaftServer: s1, null, format? true
2019-09-24 17:08:16,410 TRACE util.FileUtils (FileUtils.java:deleteFully(88)) - deleteFully target/test/data/312143de/MiniRaftClusterWithSimulatedRpc89895be2/s1
2019-09-24 17:08:16,411 TRACE util.FileUtils (FileUtils.java:deleteFully(104)) - deleteFully: target/test/data/312143de/MiniRaftClusterWithSimulatedRpc89895be2/s1 does not exist.
2019-09-24 17:08:16,411 INFO  ratis.MiniRaftCluster (MiniRaftCluster.java:newRaftServer(335)) - Formatted directory target/test/data/312143de/MiniRaftClusterWithSimulatedRpc89895be2/s1
2019-09-24 17:08:16,411 DEBUG impl.RaftServerProxy (ServerImplUtils.java:newRaftServer(39)) - newRaftServer: s1, null
2019-09-24 17:08:16,411 INFO  impl.RaftServerProxy (ConfUtils.java:logGet(43)) - raft.rpc.type = org.apache.ratis.server.simulation.SimulatedRpc (custom)
2019-09-24 17:08:16,412 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.storage.dir = [/workdir/ratis-test/target/test/data/312143de/MiniRaftClusterWithSimulatedRpc89895be2/s1] (custom)
2019-09-24 17:08:16,412 INFO  ratis.MiniRaftCluster (MiniRaftCluster.java:newRaftServer(330)) - newRaftServer: s2, null, format? true
2019-09-24 17:08:16,412 TRACE util.FileUtils (FileUtils.java:deleteFully(88)) - deleteFully target/test/data/312143de/MiniRaftClusterWithSimulatedRpc89895be2/s2
2019-09-24 17:08:16,412 TRACE util.FileUtils (FileUtils.java:deleteFully(104)) - deleteFully: target/test/data/312143de/MiniRaftClusterWithSimulatedRpc89895be2/s2 does not exist.
2019-09-24 17:08:16,413 INFO  ratis.MiniRaftCluster (MiniRaftCluster.java:newRaftServer(335)) - Formatted directory target/test/data/312143de/MiniRaftClusterWithSimulatedRpc89895be2/s2
2019-09-24 17:08:16,413 DEBUG impl.RaftServerProxy (ServerImplUtils.java:newRaftServer(39)) - newRaftServer: s2, null
2019-09-24 17:08:16,413 INFO  impl.RaftServerProxy (ConfUtils.java:logGet(43)) - raft.rpc.type = org.apache.ratis.server.simulation.SimulatedRpc (custom)
2019-09-24 17:08:16,414 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.storage.dir = [/workdir/ratis-test/target/test/data/312143de/MiniRaftClusterWithSimulatedRpc89895be2/s2] (custom)
2019-09-24 17:08:16,414 INFO  impl.GroupManagementBaseTest (GroupManagementBaseTest.java:testSingleGroupRestart(75)) - putNewServer: printing ALL groups
  s0:      NEW <EMPTY>
  s1:      NEW <EMPTY>
  s2:      NEW <EMPTY>
2019-09-24 17:08:16,414 INFO  ratis.MiniRaftCluster (MiniRaftCluster.java:start(287)) - .............................................................. 
2019-09-24 17:08:16,414 INFO  ratis.MiniRaftCluster (MiniRaftCluster.java:start(288)) - ... 
2019-09-24 17:08:16,415 INFO  ratis.MiniRaftCluster (MiniRaftCluster.java:start(289)) - ...     Starting MiniRaftClusterWithSimulatedRpc
2019-09-24 17:08:16,415 INFO  ratis.MiniRaftCluster (MiniRaftCluster.java:start(290)) - ... 
2019-09-24 17:08:16,415 INFO  ratis.MiniRaftCluster (MiniRaftCluster.java:start(291)) - .............................................................. 
2019-09-24 17:08:16,415 INFO  ratis.MiniRaftCluster (MiniRaftCluster.java:initServers(265)) - servers = {s0=s0:      NEW <EMPTY>, s1=s1:      NEW <EMPTY>, s2=s2:      NEW <EMPTY>}
2019-09-24 17:08:16,416 INFO  impl.RaftServerProxy (RaftServerProxy.java:lambda$start$3(299)) - s0: start RPC server
2019-09-24 17:08:16,418 INFO  impl.RaftServerProxy (RaftServerProxy.java:lambda$start$3(299)) - s1: start RPC server
2019-09-24 17:08:16,419 INFO  impl.RaftServerProxy (RaftServerProxy.java:lambda$start$3(299)) - s2: start RPC server
2019-09-24 17:08:17,423 INFO  impl.GroupManagementBaseTest (GroupManagementBaseTest.java:testSingleGroupRestart(81)) - start: printing ALL groups
  s0:  RUNNING <EMPTY>
  s1:  RUNNING <EMPTY>
  s2:  RUNNING <EMPTY>
2019-09-24 17:08:17,433 INFO  impl.GroupManagementBaseTest (GroupManagementBaseTest.java:testSingleGroupRestart(86)) - add new group: group-A0E7B1E4D424:[s0:null, s1:null, s2:null]
2019-09-24 17:08:17,440 DEBUG client.RaftClient (ConfUtils.java:logGet(43)) - raft.rpc.type = org.apache.ratis.server.simulation.SimulatedRpc (custom)
2019-09-24 17:08:17,479 DEBUG client.RaftClient (RaftClientImpl.java:sendRequest(275)) - client-8A166F7F45C8: send GroupManagementRequest:client-8A166F7F45C8->s0@group-A0E7B1E4D424, cid=0, seq=0, RW, null, Add:group-A0E7B1E4D424:[s0:null, s1:null, s2:null]
2019-09-24 17:08:17,485 INFO  impl.RaftServerProxy (RaftServerProxy.java:addNew(89)) - s0: addNew group-A0E7B1E4D424:[s0:null, s1:null, s2:null] returns group-A0E7B1E4D424:java.util.concurrent.CompletableFuture@7670e996[Not completed]
2019-09-24 17:08:17,488 INFO  impl.RaftServerImpl (RaftServerImpl.java:<init>(95)) - s0: new RaftServerImpl for group-A0E7B1E4D424:[s0:null, s1:null, s2:null] with BaseStateMachine:uninitialized
2019-09-24 17:08:17,497 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.rpc.timeout.min = 150ms (default)
2019-09-24 17:08:17,498 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.rpc.timeout.max = 300ms (default)
2019-09-24 17:08:17,499 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.rpcslowness.timeout = 60s (default)
2019-09-24 17:08:17,500 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.sleep.deviation.threshold = 300 (default)
2019-09-24 17:08:17,504 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.log.appender.install.snapshot.enabled = true (default)
2019-09-24 17:08:17,514 INFO  impl.RaftServerImpl (ServerState.java:<init>(103)) - s0@group-A0E7B1E4D424: ConfigurationManager, init=-1: [s0:null, s1:null, s2:null], old=null, confs=<EMPTY_MAP>
2019-09-24 17:08:17,514 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.storage.dir = [/workdir/ratis-test/target/test/data/312143de/MiniRaftClusterWithSimulatedRpc89895be2/s0] (custom)
2019-09-24 17:08:17,527 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.log.corruption.policy = EXCEPTION (default)
2019-09-24 17:08:17,529 INFO  storage.RaftStorageDirectory (RaftStorageDirectory.java:analyzeStorage(246)) - The storage directory /workdir/ratis-test/target/test/data/312143de/MiniRaftClusterWithSimulatedRpc89895be2/s0/0934f5f5-362f-4beb-a8b5-a0e7b1e4d424 does not exist. Creating ...
2019-09-24 17:08:17,532 TRACE util.FileUtils (LogUtils.java:runAndLog(61)) - Successfully ran Files.createDirectories /workdir/ratis-test/target/test/data/312143de/MiniRaftClusterWithSimulatedRpc89895be2/s0/0934f5f5-362f-4beb-a8b5-a0e7b1e4d424
2019-09-24 17:08:17,580 INFO  storage.RaftStorageDirectory (RaftStorageDirectory.java:tryLock(328)) - Lock on /workdir/ratis-test/target/test/data/312143de/MiniRaftClusterWithSimulatedRpc89895be2/s0/0934f5f5-362f-4beb-a8b5-a0e7b1e4d424/in_use.lock acquired by nodename 9360@ratis-test-vphbd-3564017154
2019-09-24 17:08:17,581 TRACE util.FileUtils (LogUtils.java:runAndLog(61)) - Successfully ran Files.createDirectories /workdir/ratis-test/target/test/data/312143de/MiniRaftClusterWithSimulatedRpc89895be2/s0/0934f5f5-362f-4beb-a8b5-a0e7b1e4d424/current
2019-09-24 17:08:17,581 TRACE util.FileUtils (LogUtils.java:runAndLog(61)) - Successfully ran Files.createDirectories /workdir/ratis-test/target/test/data/312143de/MiniRaftClusterWithSimulatedRpc89895be2/s0/0934f5f5-362f-4beb-a8b5-a0e7b1e4d424/sm
2019-09-24 17:08:17,618 INFO  storage.RaftStorage (RaftStorage.java:format(84)) - Storage directory /workdir/ratis-test/target/test/data/312143de/MiniRaftClusterWithSimulatedRpc89895be2/s0/0934f5f5-362f-4beb-a8b5-a0e7b1e4d424 has been successfully formatted.
2019-09-24 17:08:17,620 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.notification.no-leader.timeout = 60s (default)
2019-09-24 17:08:17,624 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.log.use.memory = false (default)
2019-09-24 17:08:17,636 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.log.purge.gap = 1024 (default)
2019-09-24 17:08:17,638 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.log.appender.buffer.byte-limit = 4MB (=4194304) (default)
2019-09-24 17:08:17,644 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.log.segment.size.max = 8MB (=8388608) (default)
2019-09-24 17:08:17,651 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.log.segment.cache.num.max = 6 (default)
2019-09-24 17:08:17,659 INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:<init>(172)) - new s0@group-A0E7B1E4D424-SegmentedRaftLogWorker for RaftStorage:Storage Directory /workdir/ratis-test/target/test/data/312143de/MiniRaftClusterWithSimulatedRpc89895be2/s0/0934f5f5-362f-4beb-a8b5-a0e7b1e4d424
2019-09-24 17:08:17,752 WARN  impl.MetricsConfig (MetricsConfig.java:loadFirst(124)) - Cannot locate configuration: tried hadoop-metrics2-ratis.properties,hadoop-metrics2.properties
2019-09-24 17:08:17,852 INFO  impl.MetricsSystemImpl (MetricsSystemImpl.java:startTimer(376)) - Scheduled snapshot period at 10 second(s).
2019-09-24 17:08:17,852 INFO  impl.MetricsSystemImpl (MetricsSystemImpl.java:start(191)) - ratis metrics system started
2019-09-24 17:08:17,858 INFO  metrics.MetricRegistries (MetricRegistriesLoader.java:load(64)) - Loaded MetricRegistries class org.apache.ratis.metrics.impl.MetricRegistriesImpl
2019-09-24 17:08:17,894 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.log.queue.byte-limit = 64MB (=67108864) (default)
2019-09-24 17:08:17,894 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.log.queue.element-limit = 4096 (default)
2019-09-24 17:08:17,897 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.log.segment.size.max = 8MB (=8388608) (default)
2019-09-24 17:08:17,898 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.log.preallocated.size = 4MB (=4194304) (default)
2019-09-24 17:08:17,898 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.log.write.buffer.size = 64KB (=65536) (default)
2019-09-24 17:08:17,899 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.log.force.sync.num = 128 (default)
2019-09-24 17:08:17,900 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.log.statemachine.data.sync = true (default)
2019-09-24 17:08:17,901 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.log.statemachine.data.sync.timeout = 10s (default)
2019-09-24 17:08:17,901 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.log.statemachine.data.sync.timeout.retry = -1 (default)
2019-09-24 17:08:17,913 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.log.statemachine.data.caching.enabled = false (default)
2019-09-24 17:08:17,919 INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:lambda$new$0(132)) - s0@group-A0E7B1E4D424-SegmentedRaftLogWorker: flushIndex: setUnconditionally 0 -> -1
2019-09-24 17:08:17,923 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.snapshot.auto.trigger.enabled = false (default)
2019-09-24 17:08:17,924 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.snapshot.retention.file.num = -1 (default)
2019-09-24 17:08:17,925 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.retrycache.expirytime = 60s (default)
2019-09-24 17:08:17,951 DEBUG impl.RaftServerProxy (RaftServerProxy.java:lambda$groupAddAsync$10(380)) - s0: newImpl =      null s0@group-A0E7B1E4D424:t0, leader=null, voted=null, raftlog=s0@group-A0E7B1E4D424-SegmentedRaftLog:OPENED:c-1,f-1,i0, conf=-1: [s0:null, s1:null, s2:null], old=null NEW
2019-09-24 17:08:17,951 INFO  impl.RaftServerImpl (RaftServerImpl.java:start(181)) - s0@group-A0E7B1E4D424: start as a follower, conf=-1: [s0:null, s1:null, s2:null], old=null
2019-09-24 17:08:17,953 INFO  impl.RaftServerImpl (RaftServerImpl.java:setRole(170)) - s0@group-A0E7B1E4D424: changes role from      null to FOLLOWER at term 0 for startAsFollower
2019-09-24 17:08:17,954 INFO  impl.RoleInfo (RoleInfo.java:updateAndGet(143)) - s0: start FollowerState
2019-09-24 17:08:17,956 INFO  util.JmxRegister (JmxRegister.java:tryRegister(44)) - Successfully registered JMX Bean with object name Ratis:service=RaftServer,group=group-A0E7B1E4D424,id=s0
2019-09-24 17:08:17,979 DEBUG client.RaftClient (RaftClientImpl.java:sendRequest(285)) - client-8A166F7F45C8: receive RaftClientReply:client-8A166F7F45C8->s0@group-A0E7B1E4D424, cid=0, SUCCESS, logIndex=0, commits[s0:c-1]
2019-09-24 17:08:17,980 DEBUG client.RaftClient (RaftClientImpl.java:sendRequest(275)) - client-8A166F7F45C8: send GroupManagementRequest:client-8A166F7F45C8->s1@group-A0E7B1E4D424, cid=1, seq=0, RW, null, Add:group-A0E7B1E4D424:[s0:null, s1:null, s2:null]
2019-09-24 17:08:17,981 INFO  impl.RaftServerProxy (RaftServerProxy.java:addNew(89)) - s1: addNew group-A0E7B1E4D424:[s0:null, s1:null, s2:null] returns group-A0E7B1E4D424:java.util.concurrent.CompletableFuture@55e2da85[Not completed]
2019-09-24 17:08:17,981 INFO  impl.RaftServerImpl (RaftServerImpl.java:<init>(95)) - s1: new RaftServerImpl for group-A0E7B1E4D424:[s0:null, s1:null, s2:null] with BaseStateMachine:uninitialized
2019-09-24 17:08:17,981 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.rpc.timeout.min = 150ms (default)
2019-09-24 17:08:17,982 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.rpc.timeout.max = 300ms (default)
2019-09-24 17:08:17,982 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.rpcslowness.timeout = 60s (default)
2019-09-24 17:08:17,982 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.sleep.deviation.threshold = 300 (default)
2019-09-24 17:08:17,983 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.log.appender.install.snapshot.enabled = true (default)
2019-09-24 17:08:17,983 INFO  impl.RaftServerImpl (ServerState.java:<init>(103)) - s1@group-A0E7B1E4D424: ConfigurationManager, init=-1: [s0:null, s1:null, s2:null], old=null, confs=<EMPTY_MAP>
2019-09-24 17:08:17,984 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.storage.dir = [/workdir/ratis-test/target/test/data/312143de/MiniRaftClusterWithSimulatedRpc89895be2/s1] (custom)
2019-09-24 17:08:17,984 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.log.corruption.policy = EXCEPTION (default)
2019-09-24 17:08:17,985 INFO  storage.RaftStorageDirectory (RaftStorageDirectory.java:analyzeStorage(246)) - The storage directory /workdir/ratis-test/target/test/data/312143de/MiniRaftClusterWithSimulatedRpc89895be2/s1/0934f5f5-362f-4beb-a8b5-a0e7b1e4d424 does not exist. Creating ...
2019-09-24 17:08:17,986 TRACE util.FileUtils (LogUtils.java:runAndLog(61)) - Successfully ran Files.createDirectories /workdir/ratis-test/target/test/data/312143de/MiniRaftClusterWithSimulatedRpc89895be2/s1/0934f5f5-362f-4beb-a8b5-a0e7b1e4d424
2019-09-24 17:08:18,016 INFO  storage.RaftStorageDirectory (RaftStorageDirectory.java:tryLock(328)) - Lock on /workdir/ratis-test/target/test/data/312143de/MiniRaftClusterWithSimulatedRpc89895be2/s1/0934f5f5-362f-4beb-a8b5-a0e7b1e4d424/in_use.lock acquired by nodename 9360@ratis-test-vphbd-3564017154
2019-09-24 17:08:18,017 TRACE util.FileUtils (LogUtils.java:runAndLog(61)) - Successfully ran Files.createDirectories /workdir/ratis-test/target/test/data/312143de/MiniRaftClusterWithSimulatedRpc89895be2/s1/0934f5f5-362f-4beb-a8b5-a0e7b1e4d424/current
2019-09-24 17:08:18,017 TRACE util.FileUtils (LogUtils.java:runAndLog(61)) - Successfully ran Files.createDirectories /workdir/ratis-test/target/test/data/312143de/MiniRaftClusterWithSimulatedRpc89895be2/s1/0934f5f5-362f-4beb-a8b5-a0e7b1e4d424/sm
2019-09-24 17:08:18,042 INFO  storage.RaftStorage (RaftStorage.java:format(84)) - Storage directory /workdir/ratis-test/target/test/data/312143de/MiniRaftClusterWithSimulatedRpc89895be2/s1/0934f5f5-362f-4beb-a8b5-a0e7b1e4d424 has been successfully formatted.
2019-09-24 17:08:18,042 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.notification.no-leader.timeout = 60s (default)
2019-09-24 17:08:18,043 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.log.use.memory = false (default)
2019-09-24 17:08:18,043 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.log.purge.gap = 1024 (default)
2019-09-24 17:08:18,043 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.log.appender.buffer.byte-limit = 4MB (=4194304) (default)
2019-09-24 17:08:18,044 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.log.segment.size.max = 8MB (=8388608) (default)
2019-09-24 17:08:18,044 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.log.segment.cache.num.max = 6 (default)
2019-09-24 17:08:18,044 INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:<init>(172)) - new s1@group-A0E7B1E4D424-SegmentedRaftLogWorker for RaftStorage:Storage Directory /workdir/ratis-test/target/test/data/312143de/MiniRaftClusterWithSimulatedRpc89895be2/s1/0934f5f5-362f-4beb-a8b5-a0e7b1e4d424
2019-09-24 17:08:18,053 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.log.queue.byte-limit = 64MB (=67108864) (default)
2019-09-24 17:08:18,053 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.log.queue.element-limit = 4096 (default)
2019-09-24 17:08:18,053 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.log.segment.size.max = 8MB (=8388608) (default)
2019-09-24 17:08:18,054 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.log.preallocated.size = 4MB (=4194304) (default)
2019-09-24 17:08:18,054 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.log.write.buffer.size = 64KB (=65536) (default)
2019-09-24 17:08:18,055 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.log.force.sync.num = 128 (default)
2019-09-24 17:08:18,055 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.log.statemachine.data.sync = true (default)
2019-09-24 17:08:18,055 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.log.statemachine.data.sync.timeout = 10s (default)
2019-09-24 17:08:18,056 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.log.statemachine.data.sync.timeout.retry = -1 (default)
2019-09-24 17:08:18,056 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.log.statemachine.data.caching.enabled = false (default)
2019-09-24 17:08:18,057 INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:lambda$new$0(132)) - s1@group-A0E7B1E4D424-SegmentedRaftLogWorker: flushIndex: setUnconditionally 0 -> -1
2019-09-24 17:08:18,057 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.snapshot.auto.trigger.enabled = false (default)
2019-09-24 17:08:18,058 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.snapshot.retention.file.num = -1 (default)
2019-09-24 17:08:18,058 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.retrycache.expirytime = 60s (default)
2019-09-24 17:08:18,065 DEBUG impl.RaftServerProxy (RaftServerProxy.java:lambda$groupAddAsync$10(380)) - s1: newImpl =      null s1@group-A0E7B1E4D424:t0, leader=null, voted=null, raftlog=s1@group-A0E7B1E4D424-SegmentedRaftLog:OPENED:c-1,f-1,i0, conf=-1: [s0:null, s1:null, s2:null], old=null NEW
2019-09-24 17:08:18,065 INFO  impl.RaftServerImpl (RaftServerImpl.java:start(181)) - s1@group-A0E7B1E4D424: start as a follower, conf=-1: [s0:null, s1:null, s2:null], old=null
2019-09-24 17:08:18,066 INFO  impl.RaftServerImpl (RaftServerImpl.java:setRole(170)) - s1@group-A0E7B1E4D424: changes role from      null to FOLLOWER at term 0 for startAsFollower
2019-09-24 17:08:18,066 INFO  impl.RoleInfo (RoleInfo.java:updateAndGet(143)) - s1: start FollowerState
2019-09-24 17:08:18,067 INFO  util.JmxRegister (JmxRegister.java:tryRegister(44)) - Successfully registered JMX Bean with object name Ratis:service=RaftServer,group=group-A0E7B1E4D424,id=s1
2019-09-24 17:08:18,074 DEBUG client.RaftClient (RaftClientImpl.java:sendRequest(285)) - client-8A166F7F45C8: receive RaftClientReply:client-8A166F7F45C8->s1@group-A0E7B1E4D424, cid=1, SUCCESS, logIndex=0, commits[s1:c-1]
2019-09-24 17:08:18,075 DEBUG client.RaftClient (RaftClientImpl.java:sendRequest(275)) - client-8A166F7F45C8: send GroupManagementRequest:client-8A166F7F45C8->s2@group-A0E7B1E4D424, cid=2, seq=0, RW, null, Add:group-A0E7B1E4D424:[s0:null, s1:null, s2:null]
2019-09-24 17:08:18,075 INFO  impl.RaftServerProxy (RaftServerProxy.java:addNew(89)) - s2: addNew group-A0E7B1E4D424:[s0:null, s1:null, s2:null] returns group-A0E7B1E4D424:java.util.concurrent.CompletableFuture@2d80fa7b[Not completed]
2019-09-24 17:08:18,075 INFO  impl.RaftServerImpl (RaftServerImpl.java:<init>(95)) - s2: new RaftServerImpl for group-A0E7B1E4D424:[s0:null, s1:null, s2:null] with BaseStateMachine:uninitialized
2019-09-24 17:08:18,076 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.rpc.timeout.min = 150ms (default)
2019-09-24 17:08:18,076 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.rpc.timeout.max = 300ms (default)
2019-09-24 17:08:18,076 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.rpcslowness.timeout = 60s (default)
2019-09-24 17:08:18,077 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.sleep.deviation.threshold = 300 (default)
2019-09-24 17:08:18,077 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.log.appender.install.snapshot.enabled = true (default)
2019-09-24 17:08:18,077 INFO  impl.RaftServerImpl (ServerState.java:<init>(103)) - s2@group-A0E7B1E4D424: ConfigurationManager, init=-1: [s0:null, s1:null, s2:null], old=null, confs=<EMPTY_MAP>
2019-09-24 17:08:18,078 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.storage.dir = [/workdir/ratis-test/target/test/data/312143de/MiniRaftClusterWithSimulatedRpc89895be2/s2] (custom)
2019-09-24 17:08:18,078 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.log.corruption.policy = EXCEPTION (default)
2019-09-24 17:08:18,078 INFO  storage.RaftStorageDirectory (RaftStorageDirectory.java:analyzeStorage(246)) - The storage directory /workdir/ratis-test/target/test/data/312143de/MiniRaftClusterWithSimulatedRpc89895be2/s2/0934f5f5-362f-4beb-a8b5-a0e7b1e4d424 does not exist. Creating ...
2019-09-24 17:08:18,079 TRACE util.FileUtils (LogUtils.java:runAndLog(61)) - Successfully ran Files.createDirectories /workdir/ratis-test/target/test/data/312143de/MiniRaftClusterWithSimulatedRpc89895be2/s2/0934f5f5-362f-4beb-a8b5-a0e7b1e4d424
2019-09-24 17:08:18,092 INFO  storage.RaftStorageDirectory (RaftStorageDirectory.java:tryLock(328)) - Lock on /workdir/ratis-test/target/test/data/312143de/MiniRaftClusterWithSimulatedRpc89895be2/s2/0934f5f5-362f-4beb-a8b5-a0e7b1e4d424/in_use.lock acquired by nodename 9360@ratis-test-vphbd-3564017154
2019-09-24 17:08:18,093 TRACE util.FileUtils (LogUtils.java:runAndLog(61)) - Successfully ran Files.createDirectories /workdir/ratis-test/target/test/data/312143de/MiniRaftClusterWithSimulatedRpc89895be2/s2/0934f5f5-362f-4beb-a8b5-a0e7b1e4d424/current
2019-09-24 17:08:18,093 TRACE util.FileUtils (LogUtils.java:runAndLog(61)) - Successfully ran Files.createDirectories /workdir/ratis-test/target/test/data/312143de/MiniRaftClusterWithSimulatedRpc89895be2/s2/0934f5f5-362f-4beb-a8b5-a0e7b1e4d424/sm
2019-09-24 17:08:18,106 INFO  storage.RaftStorage (RaftStorage.java:format(84)) - Storage directory /workdir/ratis-test/target/test/data/312143de/MiniRaftClusterWithSimulatedRpc89895be2/s2/0934f5f5-362f-4beb-a8b5-a0e7b1e4d424 has been successfully formatted.
2019-09-24 17:08:18,106 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.notification.no-leader.timeout = 60s (default)
2019-09-24 17:08:18,107 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.log.use.memory = false (default)
2019-09-24 17:08:18,107 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.log.purge.gap = 1024 (default)
2019-09-24 17:08:18,107 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.log.appender.buffer.byte-limit = 4MB (=4194304) (default)
2019-09-24 17:08:18,107 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.log.segment.size.max = 8MB (=8388608) (default)
2019-09-24 17:08:18,108 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.log.segment.cache.num.max = 6 (default)
2019-09-24 17:08:18,108 INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:<init>(172)) - new s2@group-A0E7B1E4D424-SegmentedRaftLogWorker for RaftStorage:Storage Directory /workdir/ratis-test/target/test/data/312143de/MiniRaftClusterWithSimulatedRpc89895be2/s2/0934f5f5-362f-4beb-a8b5-a0e7b1e4d424
2019-09-24 17:08:18,113 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.log.queue.byte-limit = 64MB (=67108864) (default)
2019-09-24 17:08:18,113 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.log.queue.element-limit = 4096 (default)
2019-09-24 17:08:18,114 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.log.segment.size.max = 8MB (=8388608) (default)
2019-09-24 17:08:18,114 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.log.preallocated.size = 4MB (=4194304) (default)
2019-09-24 17:08:18,114 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.log.write.buffer.size = 64KB (=65536) (default)
2019-09-24 17:08:18,114 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.log.force.sync.num = 128 (default)
2019-09-24 17:08:18,115 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.log.statemachine.data.sync = true (default)
2019-09-24 17:08:18,115 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.log.statemachine.data.sync.timeout = 10s (default)
2019-09-24 17:08:18,115 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.log.statemachine.data.sync.timeout.retry = -1 (default)
2019-09-24 17:08:18,115 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.log.statemachine.data.caching.enabled = false (default)
2019-09-24 17:08:18,116 INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:lambda$new$0(132)) - s2@group-A0E7B1E4D424-SegmentedRaftLogWorker: flushIndex: setUnconditionally 0 -> -1
2019-09-24 17:08:18,116 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.snapshot.auto.trigger.enabled = false (default)
2019-09-24 17:08:18,117 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.snapshot.retention.file.num = -1 (default)
2019-09-24 17:08:18,117 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.retrycache.expirytime = 60s (default)
2019-09-24 17:08:18,123 DEBUG impl.RaftServerProxy (RaftServerProxy.java:lambda$groupAddAsync$10(380)) - s2: newImpl =      null s2@group-A0E7B1E4D424:t0, leader=null, voted=null, raftlog=s2@group-A0E7B1E4D424-SegmentedRaftLog:OPENED:c-1,f-1,i0, conf=-1: [s0:null, s1:null, s2:null], old=null NEW
2019-09-24 17:08:18,123 INFO  impl.RaftServerImpl (RaftServerImpl.java:start(181)) - s2@group-A0E7B1E4D424: start as a follower, conf=-1: [s0:null, s1:null, s2:null], old=null
2019-09-24 17:08:18,123 INFO  impl.RaftServerImpl (RaftServerImpl.java:setRole(170)) - s2@group-A0E7B1E4D424: changes role from      null to FOLLOWER at term 0 for startAsFollower
2019-09-24 17:08:18,124 INFO  impl.RoleInfo (RoleInfo.java:updateAndGet(143)) - s2: start FollowerState
2019-09-24 17:08:18,124 INFO  util.JmxRegister (JmxRegister.java:tryRegister(44)) - Successfully registered JMX Bean with object name Ratis:service=RaftServer,group=group-A0E7B1E4D424,id=s2
2019-09-24 17:08:18,130 DEBUG client.RaftClient (RaftClientImpl.java:sendRequest(285)) - client-8A166F7F45C8: receive RaftClientReply:client-8A166F7F45C8->s2@group-A0E7B1E4D424, cid=2, SUCCESS, logIndex=0, commits[s2:c-1]
2019-09-24 17:08:18,130 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.rpc.timeout.max = 300ms (default)
2019-09-24 17:08:18,133 INFO  ratis.RaftTestUtil (RaftTestUtil.java:waitForLeader(86)) - printing ALL groups
  s0:  RUNNING  FOLLOWER s0@group-A0E7B1E4D424:t0, leader=null, voted=null, raftlog=s0@group-A0E7B1E4D424-SegmentedRaftLog:OPENED:c-1,f-1,i0, conf=-1: [s0:null, s1:null, s2:null], old=null RUNNING
  s1:  RUNNING  FOLLOWER s1@group-A0E7B1E4D424:t0, leader=null, voted=null, raftlog=s1@group-A0E7B1E4D424-SegmentedRaftLog:OPENED:c-1,f-1,i0, conf=-1: [s0:null, s1:null, s2:null], old=null RUNNING
  s2:  RUNNING  FOLLOWER s2@group-A0E7B1E4D424:t0, leader=null, voted=null, raftlog=s2@group-A0E7B1E4D424-SegmentedRaftLog:OPENED:c-1,f-1,i0, conf=-1: [s0:null, s1:null, s2:null], old=null RUNNING
2019-09-24 17:08:18,139 WARN  ratis.RaftTestUtil (JavaUtils.java:attempt(158)) - FAILED "waitForLeader-null-(expectLeader? true)", attempt #1/100: java.lang.IllegalStateException: No leader yet : printing ALL groups
  s0:  RUNNING  FOLLOWER s0@group-A0E7B1E4D424:t0, leader=null, voted=null, raftlog=s0@group-A0E7B1E4D424-SegmentedRaftLog:OPENED:c-1,f-1,i0, conf=-1: [s0:null, s1:null, s2:null], old=null RUNNING
  s1:  RUNNING  FOLLOWER s1@group-A0E7B1E4D424:t0, leader=null, voted=null, raftlog=s1@group-A0E7B1E4D424-SegmentedRaftLog:OPENED:c-1,f-1,i0, conf=-1: [s0:null, s1:null, s2:null], old=null RUNNING
  s2:  RUNNING  FOLLOWER s2@group-A0E7B1E4D424:t0, leader=null, voted=null, raftlog=s2@group-A0E7B1E4D424-SegmentedRaftLog:OPENED:c-1,f-1,i0, conf=-1: [s0:null, s1:null, s2:null], old=null RUNNING, sleep 450ms and then retry.
java.lang.IllegalStateException: No leader yet : printing ALL groups
  s0:  RUNNING  FOLLOWER s0@group-A0E7B1E4D424:t0, leader=null, voted=null, raftlog=s0@group-A0E7B1E4D424-SegmentedRaftLog:OPENED:c-1,f-1,i0, conf=-1: [s0:null, s1:null, s2:null], old=null RUNNING
  s1:  RUNNING  FOLLOWER s1@group-A0E7B1E4D424:t0, leader=null, voted=null, raftlog=s1@group-A0E7B1E4D424-SegmentedRaftLog:OPENED:c-1,f-1,i0, conf=-1: [s0:null, s1:null, s2:null], old=null RUNNING
  s2:  RUNNING  FOLLOWER s2@group-A0E7B1E4D424:t0, leader=null, voted=null, raftlog=s2@group-A0E7B1E4D424-SegmentedRaftLog:OPENED:c-1,f-1,i0, conf=-1: [s0:null, s1:null, s2:null], old=null RUNNING
	at org.apache.ratis.MiniRaftCluster.newIllegalStateExceptionForNoLeaders(MiniRaftCluster.java:506)
	at org.apache.ratis.RaftTestUtil.lambda$waitForLeader$1(RaftTestUtil.java:90)
	at org.apache.ratis.MiniRaftCluster.getLeader(MiniRaftCluster.java:539)
	at org.apache.ratis.MiniRaftCluster.getLeader(MiniRaftCluster.java:532)
	at org.apache.ratis.RaftTestUtil.lambda$waitForLeader$3(RaftTestUtil.java:98)
	at org.apache.ratis.util.JavaUtils.attempt(JavaUtils.java:152)
	at org.apache.ratis.RaftTestUtil.waitForLeader(RaftTestUtil.java:97)
	at org.apache.ratis.RaftTestUtil.waitForLeader(RaftTestUtil.java:77)
	at org.apache.ratis.RaftTestUtil.waitForLeader(RaftTestUtil.java:72)
	at org.apache.ratis.server.impl.GroupManagementBaseTest.testSingleGroupRestart(GroupManagementBaseTest.java:91)
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.lang.reflect.Method.invoke(Method.java:498)
	at org.junit.runners.model.FrameworkMethod$1.runReflectiveCall(FrameworkMethod.java:50)
	at org.junit.internal.runners.model.ReflectiveCallable.run(ReflectiveCallable.java:12)
	at org.junit.runners.model.FrameworkMethod.invokeExplosively(FrameworkMethod.java:47)
	at org.junit.internal.runners.statements.InvokeMethod.evaluate(InvokeMethod.java:17)
	at org.junit.internal.runners.statements.RunAfters.evaluate(RunAfters.java:27)
	at org.junit.internal.runners.statements.FailOnTimeout$CallableStatement.call(FailOnTimeout.java:298)
	at org.junit.internal.runners.statements.FailOnTimeout$CallableStatement.call(FailOnTimeout.java:292)
	at java.util.concurrent.FutureTask.run(FutureTask.java:266)
	at java.lang.Thread.run(Thread.java:748)
2019-09-24 17:08:18,233 INFO  impl.FollowerState (FollowerState.java:run(108)) - s0@group-A0E7B1E4D424-FollowerState: change to CANDIDATE, lastRpcTime:279ms, electionTimeout:278ms
2019-09-24 17:08:18,235 INFO  impl.RoleInfo (RoleInfo.java:shutdownFollowerState(121)) - s0: shutdown FollowerState
2019-09-24 17:08:18,235 INFO  impl.RaftServerImpl (RaftServerImpl.java:setRole(170)) - s0@group-A0E7B1E4D424: changes role from  FOLLOWER to CANDIDATE at term 0 for changeToCandidate
2019-09-24 17:08:18,240 INFO  impl.RoleInfo (RoleInfo.java:updateAndGet(143)) - s0: start LeaderElection
2019-09-24 17:08:18,246 INFO  impl.FollowerState (FollowerState.java:run(108)) - s1@group-A0E7B1E4D424-FollowerState: change to CANDIDATE, lastRpcTime:179ms, electionTimeout:179ms
2019-09-24 17:08:18,246 INFO  impl.RoleInfo (RoleInfo.java:shutdownFollowerState(121)) - s1: shutdown FollowerState
2019-09-24 17:08:18,246 INFO  impl.RaftServerImpl (RaftServerImpl.java:setRole(170)) - s1@group-A0E7B1E4D424: changes role from  FOLLOWER to CANDIDATE at term 0 for changeToCandidate
2019-09-24 17:08:18,247 INFO  impl.RoleInfo (RoleInfo.java:updateAndGet(143)) - s1: start LeaderElection
2019-09-24 17:08:18,259 INFO  impl.LeaderElection (LeaderElection.java:askForVotes(178)) - s0@group-A0E7B1E4D424-LeaderElection1: begin an election at term 1 for -1: [s0:null, s1:null, s2:null], old=null
2019-09-24 17:08:18,297 DEBUG impl.RaftServerImpl (RaftServerImpl.java:requestVote(743)) - s1@group-A0E7B1E4D424: receive requestVote(s0, group-A0E7B1E4D424, 1, (t:0, i:0))
2019-09-24 17:08:18,297 DEBUG impl.RaftServerImpl (RaftServerImpl.java:requestVote(743)) - s2@group-A0E7B1E4D424: receive requestVote(s0, group-A0E7B1E4D424, 1, (t:0, i:0))
2019-09-24 17:08:18,298 INFO  impl.LeaderElection (LeaderElection.java:askForVotes(178)) - s1@group-A0E7B1E4D424-LeaderElection2: begin an election at term 1 for -1: [s0:null, s1:null, s2:null], old=null
2019-09-24 17:08:18,300 INFO  impl.RaftServerImpl (RaftServerImpl.java:setRole(170)) - s2@group-A0E7B1E4D424: changes role from  FOLLOWER to FOLLOWER at term 1 for recognizeCandidate:s0
2019-09-24 17:08:18,300 INFO  impl.RoleInfo (RoleInfo.java:shutdownFollowerState(121)) - s2: shutdown FollowerState
2019-09-24 17:08:18,300 INFO  impl.RoleInfo (RoleInfo.java:updateAndGet(143)) - s2: start FollowerState
2019-09-24 17:08:18,300 INFO  impl.FollowerState (FollowerState.java:run(117)) - s2@group-A0E7B1E4D424-FollowerState was interrupted: java.lang.InterruptedException: sleep interrupted
2019-09-24 17:08:18,309 DEBUG impl.RaftServerImpl (RaftServerImpl.java:requestVote(775)) - s1@group-A0E7B1E4D424 replies to vote request: s0<-s1#0:FAIL-t1. Peer's state: s1@group-A0E7B1E4D424:t1, leader=null, voted=s1, raftlog=s1@group-A0E7B1E4D424-SegmentedRaftLog:OPENED:c-1,f-1,i0, conf=-1: [s0:null, s1:null, s2:null], old=null
2019-09-24 17:08:18,310 DEBUG impl.RaftServerImpl (RaftServerImpl.java:requestVote(743)) - s0@group-A0E7B1E4D424: receive requestVote(s1, group-A0E7B1E4D424, 1, (t:0, i:0))
2019-09-24 17:08:18,310 DEBUG impl.RaftServerImpl (RaftServerImpl.java:requestVote(743)) - s2@group-A0E7B1E4D424: receive requestVote(s1, group-A0E7B1E4D424, 1, (t:0, i:0))
2019-09-24 17:08:18,310 DEBUG impl.RaftServerImpl (RaftServerImpl.java:requestVote(775)) - s0@group-A0E7B1E4D424 replies to vote request: s1<-s0#0:FAIL-t1. Peer's state: s0@group-A0E7B1E4D424:t1, leader=null, voted=s0, raftlog=s0@group-A0E7B1E4D424-SegmentedRaftLog:OPENED:c-1,f-1,i0, conf=-1: [s0:null, s1:null, s2:null], old=null
2019-09-24 17:08:18,317 DEBUG impl.RaftServerImpl (RaftServerImpl.java:requestVote(775)) - s2@group-A0E7B1E4D424 replies to vote request: s0<-s2#0:OK-t1. Peer's state: s2@group-A0E7B1E4D424:t1, leader=null, voted=s0, raftlog=s2@group-A0E7B1E4D424-SegmentedRaftLog:OPENED:c-1,f-1,i0, conf=-1: [s0:null, s1:null, s2:null], old=null
2019-09-24 17:08:18,318 DEBUG impl.RaftServerImpl (RaftServerImpl.java:requestVote(775)) - s2@group-A0E7B1E4D424 replies to vote request: s1<-s2#0:FAIL-t1. Peer's state: s2@group-A0E7B1E4D424:t1, leader=null, voted=s0, raftlog=s2@group-A0E7B1E4D424-SegmentedRaftLog:OPENED:c-1,f-1,i0, conf=-1: [s0:null, s1:null, s2:null], old=null
2019-09-24 17:08:18,319 INFO  impl.LeaderElection (LeaderElection.java:logAndReturn(56)) - s0@group-A0E7B1E4D424-LeaderElection1: Election PASSED; received 2 response(s) [s0<-s1#0:FAIL-t1, s0<-s2#0:OK-t1] and 0 exception(s); s0@group-A0E7B1E4D424:t1, leader=null, voted=s0, raftlog=s0@group-A0E7B1E4D424-SegmentedRaftLog:OPENED:c-1,f-1,i0, conf=-1: [s0:null, s1:null, s2:null], old=null
2019-09-24 17:08:18,319 INFO  impl.LeaderElection (LeaderElection.java:logAndReturn(56)) - s1@group-A0E7B1E4D424-LeaderElection2: Election REJECTED; received 2 response(s) [s1<-s0#0:FAIL-t1, s1<-s2#0:FAIL-t1] and 0 exception(s); s1@group-A0E7B1E4D424:t1, leader=null, voted=s1, raftlog=s1@group-A0E7B1E4D424-SegmentedRaftLog:OPENED:c-1,f-1,i0, conf=-1: [s0:null, s1:null, s2:null], old=null
2019-09-24 17:08:18,321 INFO  impl.RoleInfo (RoleInfo.java:shutdownLeaderElection(134)) - s0: shutdown LeaderElection
2019-09-24 17:08:18,321 INFO  impl.RaftServerImpl (RaftServerImpl.java:setRole(170)) - s1@group-A0E7B1E4D424: changes role from CANDIDATE to FOLLOWER at term 1 for DISCOVERED_A_NEW_TERM
2019-09-24 17:08:18,321 INFO  impl.RoleInfo (RoleInfo.java:shutdownLeaderElection(134)) - s1: shutdown LeaderElection
2019-09-24 17:08:18,322 INFO  impl.RaftServerImpl (RaftServerImpl.java:setRole(170)) - s0@group-A0E7B1E4D424: changes role from CANDIDATE to LEADER at term 1 for changeToLeader
2019-09-24 17:08:18,322 INFO  impl.RaftServerImpl (ServerState.java:setLeader(254)) - s0@group-A0E7B1E4D424: change Leader from null to s0 at term 1 for becomeLeader, leader elected after 702ms
2019-09-24 17:08:18,322 INFO  impl.RoleInfo (RoleInfo.java:updateAndGet(143)) - s1: start FollowerState
2019-09-24 17:08:18,328 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.staging.catchup.gap = 1000 (default)
2019-09-24 17:08:18,329 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.rpc.sleep.time = 25ms (default)
2019-09-24 17:08:18,335 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.write.element-limit = 4096 (default)
2019-09-24 17:08:18,340 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.watch.timeout = 10s (default)
2019-09-24 17:08:18,340 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.watch.timeout.denomination = 1s (default)
2019-09-24 17:08:18,341 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.watch.element-limit = 65536 (default)
2019-09-24 17:08:18,359 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.log.appender.snapshot.chunk.size.max = 16MB (=16777216) (default)
2019-09-24 17:08:18,359 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.log.appender.buffer.byte-limit = 4MB (=4194304) (default)
2019-09-24 17:08:18,360 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.log.appender.buffer.element-limit = 0 (default)
2019-09-24 17:08:18,365 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.log.appender.snapshot.chunk.size.max = 16MB (=16777216) (default)
2019-09-24 17:08:18,365 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.log.appender.buffer.byte-limit = 4MB (=4194304) (default)
2019-09-24 17:08:18,365 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.log.appender.buffer.element-limit = 0 (default)
2019-09-24 17:08:18,369 INFO  impl.RoleInfo (RoleInfo.java:updateAndGet(143)) - s0: start LeaderState
2019-09-24 17:08:18,387 INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:startLogSegment(380)) - s0@group-A0E7B1E4D424-SegmentedRaftLogWorker: Starting segment from index:0
2019-09-24 17:08:18,406 INFO  impl.RaftServerImpl (ServerState.java:setRaftConf(355)) - s0@group-A0E7B1E4D424: set configuration 0: [s0:, s1:, s2:], old=null at 0
2019-09-24 17:08:18,423 INFO  impl.RaftServerImpl (ServerState.java:setLeader(254)) - s1@group-A0E7B1E4D424: change Leader from null to s0 at term 1 for appendEntries, leader elected after 381ms
2019-09-24 17:08:18,423 INFO  impl.RaftServerImpl (ServerState.java:setLeader(254)) - s2@group-A0E7B1E4D424: change Leader from null to s0 at term 1 for appendEntries, leader elected after 316ms
2019-09-24 17:08:18,474 DEBUG impl.RaftServerImpl (RaftServerImpl.java:logAppendEntries(850)) - s1@group-A0E7B1E4D424: receive appendEntries(s0, 1, null, -1, false, commits[s0:c-1, s1:c-1, s2:c-1], entries: (t:1, i:0), CONFIGURATIONENTRY
2019-09-24 17:08:18,474 DEBUG impl.RaftServerImpl (RaftServerImpl.java:logAppendEntries(850)) - s2@group-A0E7B1E4D424: receive appendEntries(s0, 1, null, -1, false, commits[s0:c-1, s1:c-1, s2:c-1], entries: (t:1, i:0), CONFIGURATIONENTRY
2019-09-24 17:08:18,478 INFO  impl.RaftServerImpl (ServerState.java:setRaftConf(355)) - s1@group-A0E7B1E4D424: set configuration 0: [s0:, s1:, s2:], old=null at 0
2019-09-24 17:08:18,478 INFO  impl.RaftServerImpl (ServerState.java:setRaftConf(355)) - s2@group-A0E7B1E4D424: set configuration 0: [s0:, s1:, s2:], old=null at 0
2019-09-24 17:08:18,478 INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:startLogSegment(380)) - s1@group-A0E7B1E4D424-SegmentedRaftLogWorker: Starting segment from index:0
2019-09-24 17:08:18,479 INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:startLogSegment(380)) - s2@group-A0E7B1E4D424-SegmentedRaftLogWorker: Starting segment from index:0
2019-09-24 17:08:18,595 INFO  ratis.RaftTestUtil (RaftTestUtil.java:waitForLeader(101)) - printing ALL groups
  s0:  RUNNING    LEADER s0@group-A0E7B1E4D424:t1, leader=s0, voted=s0, raftlog=s0@group-A0E7B1E4D424-SegmentedRaftLog:OPENED:c-1,f-1,i0, conf=0: [s0:, s1:, s2:], old=null RUNNING
  s1:  RUNNING  FOLLOWER s1@group-A0E7B1E4D424:t1, leader=s0, voted=s1, raftlog=s1@group-A0E7B1E4D424-SegmentedRaftLog:OPENED:c-1,f-1,i0, conf=0: [s0:, s1:, s2:], old=null RUNNING
  s2:  RUNNING  FOLLOWER s2@group-A0E7B1E4D424:t1, leader=s0, voted=s0, raftlog=s2@group-A0E7B1E4D424-SegmentedRaftLog:OPENED:c-1,f-1,i0, conf=0: [s0:, s1:, s2:], old=null RUNNING
2019-09-24 17:08:18,767 INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:execute(569)) - s2@group-A0E7B1E4D424-SegmentedRaftLogWorker: created new log segment /workdir/ratis-test/target/test/data/312143de/MiniRaftClusterWithSimulatedRpc89895be2/s2/0934f5f5-362f-4beb-a8b5-a0e7b1e4d424/current/log_inprogress_0
2019-09-24 17:08:18,767 INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:execute(569)) - s1@group-A0E7B1E4D424-SegmentedRaftLogWorker: created new log segment /workdir/ratis-test/target/test/data/312143de/MiniRaftClusterWithSimulatedRpc89895be2/s1/0934f5f5-362f-4beb-a8b5-a0e7b1e4d424/current/log_inprogress_0
2019-09-24 17:08:18,767 INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:execute(569)) - s0@group-A0E7B1E4D424-SegmentedRaftLogWorker: created new log segment /workdir/ratis-test/target/test/data/312143de/MiniRaftClusterWithSimulatedRpc89895be2/s0/0934f5f5-362f-4beb-a8b5-a0e7b1e4d424/current/log_inprogress_0
2019-09-24 17:08:18,791 DEBUG impl.RaftServerImpl (RaftServerImpl.java:logAppendEntries(850)) - s2@group-A0E7B1E4D424: succeeded to handle AppendEntries. Reply: s0<-s2#0:OK,SUCCESS,nextIndex:1,term:1,followerCommit:-1
2019-09-24 17:08:18,791 DEBUG impl.RaftServerImpl (RaftServerImpl.java:logAppendEntries(850)) - s1@group-A0E7B1E4D424: succeeded to handle AppendEntries. Reply: s0<-s1#0:OK,SUCCESS,nextIndex:1,term:1,followerCommit:-1
2019-09-24 17:08:19,596 INFO  impl.GroupManagementBaseTest (GroupManagementBaseTest.java:testSingleGroupRestart(95)) - restart servers
2019-09-24 17:08:19,597 INFO  ratis.MiniRaftCluster (MiniRaftCluster.java:killServer(458)) - killServer s0
2019-09-24 17:08:19,599 INFO  impl.RaftServerProxy (RaftServerProxy.java:lambda$close$4(314)) - s0: close
2019-09-24 17:08:19,601 INFO  impl.RaftServerImpl (RaftServerImpl.java:lambda$shutdown$3(247)) - s0@group-A0E7B1E4D424: shutdown
2019-09-24 17:08:19,602 INFO  util.JmxRegister (JmxRegister.java:unregister(73)) - Successfully un-registered JMX Bean with object name Ratis:service=RaftServer,group=group-A0E7B1E4D424,id=s0
2019-09-24 17:08:19,602 INFO  impl.RoleInfo (RoleInfo.java:shutdownLeaderState(104)) - s0: shutdown LeaderState
2019-09-24 17:08:19,603 INFO  impl.LogAppender (LogAppender.java:run(78)) - s0@group-A0E7B1E4D424->s1-LogAppender-AppenderDaemon was interrupted: java.lang.InterruptedException
2019-09-24 17:08:19,604 INFO  impl.PendingRequests (PendingRequests.java:sendNotLeaderResponses(202)) - s0@group-A0E7B1E4D424-PendingRequests: sendNotLeaderResponses
2019-09-24 17:08:19,603 INFO  impl.LogAppender (LogAppender.java:run(78)) - s0@group-A0E7B1E4D424->s2-LogAppender-AppenderDaemon was interrupted: java.lang.InterruptedException
2019-09-24 17:08:19,606 INFO  impl.StateMachineUpdater (StateMachineUpdater.java:stopAndJoin(136)) - s0@group-A0E7B1E4D424-StateMachineUpdater: set stopIndex = 0
2019-09-24 17:08:19,607 INFO  impl.RaftServerImpl (ServerState.java:close(386)) - s0@group-A0E7B1E4D424: closes. applyIndex: 0
2019-09-24 17:08:19,609 INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:run(313)) - s0@group-A0E7B1E4D424-SegmentedRaftLogWorker was interrupted, exiting. There are 0 tasks remaining in the queue.
2019-09-24 17:08:19,612 INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:close(228)) - s0@group-A0E7B1E4D424-SegmentedRaftLogWorker close()
2019-09-24 17:08:19,614 INFO  simulation.RequestHandler (RequestHandler.java:run(126)) - s0.clientHandler0 is interrupted by java.io.InterruptedIOException: 
2019-09-24 17:08:19,614 INFO  simulation.RequestHandler (RequestHandler.java:run(126)) - s0.clientHandler2 is interrupted by java.io.InterruptedIOException: 
2019-09-24 17:08:19,614 INFO  simulation.RequestHandler (RequestHandler.java:run(126)) - s0.clientHandler1 is interrupted by java.io.InterruptedIOException: 
2019-09-24 17:08:19,615 INFO  simulation.RequestHandler (RequestHandler.java:run(126)) - s0.serverHandler0 is interrupted by java.io.InterruptedIOException: 
2019-09-24 17:08:19,615 INFO  simulation.RequestHandler (RequestHandler.java:run(126)) - s0.serverHandler2 is interrupted by java.io.InterruptedIOException: 
2019-09-24 17:08:19,615 INFO  simulation.RequestHandler (RequestHandler.java:run(126)) - s0.serverHandler1 is interrupted by java.io.InterruptedIOException: 
2019-09-24 17:08:19,616 INFO  ratis.MiniRaftCluster (MiniRaftCluster.java:newRaftServer(330)) - newRaftServer: s0, null, format? false
2019-09-24 17:08:19,616 DEBUG impl.RaftServerProxy (ServerImplUtils.java:newRaftServer(39)) - newRaftServer: s0, null
2019-09-24 17:08:19,617 INFO  impl.RaftServerProxy (ConfUtils.java:logGet(43)) - raft.rpc.type = org.apache.ratis.server.simulation.SimulatedRpc (custom)
2019-09-24 17:08:19,618 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.storage.dir = [/workdir/ratis-test/target/test/data/312143de/MiniRaftClusterWithSimulatedRpc89895be2/s0] (custom)
2019-09-24 17:08:19,618 INFO  impl.RaftServerProxy (RaftServerProxy.java:lambda$null$0(191)) - s0: found a subdirectory /workdir/ratis-test/target/test/data/312143de/MiniRaftClusterWithSimulatedRpc89895be2/s0/0934f5f5-362f-4beb-a8b5-a0e7b1e4d424
2019-09-24 17:08:19,620 INFO  impl.RaftServerProxy (RaftServerProxy.java:addNew(89)) - s0: addNew group-A0E7B1E4D424:[] returns group-A0E7B1E4D424:java.util.concurrent.CompletableFuture@1eb2f7d1[Not completed]
2019-09-24 17:08:19,620 INFO  impl.RaftServerImpl (RaftServerImpl.java:<init>(95)) - s0: new RaftServerImpl for group-A0E7B1E4D424:[] with BaseStateMachine:uninitialized
2019-09-24 17:08:19,621 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.rpc.timeout.min = 150ms (default)
2019-09-24 17:08:19,621 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.rpc.timeout.max = 300ms (default)
2019-09-24 17:08:19,621 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.rpcslowness.timeout = 60s (default)
2019-09-24 17:08:19,622 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.sleep.deviation.threshold = 300 (default)
2019-09-24 17:08:19,622 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.log.appender.install.snapshot.enabled = true (default)
2019-09-24 17:08:19,622 INFO  impl.RaftServerImpl (ServerState.java:<init>(103)) - s0@group-A0E7B1E4D424: ConfigurationManager, init=-1: [], old=null, confs=<EMPTY_MAP>
2019-09-24 17:08:19,623 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.storage.dir = [/workdir/ratis-test/target/test/data/312143de/MiniRaftClusterWithSimulatedRpc89895be2/s0] (custom)
2019-09-24 17:08:19,623 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.log.corruption.policy = EXCEPTION (default)
2019-09-24 17:08:19,644 INFO  storage.RaftStorageDirectory (RaftStorageDirectory.java:tryLock(328)) - Lock on /workdir/ratis-test/target/test/data/312143de/MiniRaftClusterWithSimulatedRpc89895be2/s0/0934f5f5-362f-4beb-a8b5-a0e7b1e4d424/in_use.lock acquired by nodename 9360@ratis-test-vphbd-3564017154
2019-09-24 17:08:19,646 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.notification.no-leader.timeout = 60s (default)
2019-09-24 17:08:19,646 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.log.use.memory = false (default)
2019-09-24 17:08:19,647 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.log.purge.gap = 1024 (default)
2019-09-24 17:08:19,647 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.log.appender.buffer.byte-limit = 4MB (=4194304) (default)
2019-09-24 17:08:19,647 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.log.segment.size.max = 8MB (=8388608) (default)
2019-09-24 17:08:19,647 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.log.segment.cache.num.max = 6 (default)
2019-09-24 17:08:19,648 INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:<init>(172)) - new s0@group-A0E7B1E4D424-SegmentedRaftLogWorker for RaftStorage:Storage Directory /workdir/ratis-test/target/test/data/312143de/MiniRaftClusterWithSimulatedRpc89895be2/s0/0934f5f5-362f-4beb-a8b5-a0e7b1e4d424
2019-09-24 17:08:19,648 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.log.queue.byte-limit = 64MB (=67108864) (default)
2019-09-24 17:08:19,648 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.log.queue.element-limit = 4096 (default)
2019-09-24 17:08:19,649 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.log.segment.size.max = 8MB (=8388608) (default)
2019-09-24 17:08:19,649 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.log.preallocated.size = 4MB (=4194304) (default)
2019-09-24 17:08:19,649 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.log.write.buffer.size = 64KB (=65536) (default)
2019-09-24 17:08:19,650 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.log.force.sync.num = 128 (default)
2019-09-24 17:08:19,650 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.log.statemachine.data.sync = true (default)
2019-09-24 17:08:19,650 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.log.statemachine.data.sync.timeout = 10s (default)
2019-09-24 17:08:19,651 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.log.statemachine.data.sync.timeout.retry = -1 (default)
2019-09-24 17:08:19,651 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.log.statemachine.data.caching.enabled = false (default)
2019-09-24 17:08:19,663 INFO  impl.RaftServerImpl (ServerState.java:setRaftConf(355)) - s0@group-A0E7B1E4D424: set configuration 0: [s0:, s1:, s2:], old=null at 0
2019-09-24 17:08:19,664 INFO  segmented.LogSegment (LogSegment.java:loadSegment(136)) - Successfully read 1 entries from segment file /workdir/ratis-test/target/test/data/312143de/MiniRaftClusterWithSimulatedRpc89895be2/s0/0934f5f5-362f-4beb-a8b5-a0e7b1e4d424/current/log_inprogress_0
2019-09-24 17:08:19,664 INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:lambda$new$0(132)) - s0@group-A0E7B1E4D424-SegmentedRaftLogWorker: flushIndex: setUnconditionally 0 -> 0
2019-09-24 17:08:19,665 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.snapshot.auto.trigger.enabled = false (default)
2019-09-24 17:08:19,665 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.snapshot.retention.file.num = -1 (default)
2019-09-24 17:08:19,666 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.retrycache.expirytime = 60s (default)
2019-09-24 17:08:19,666 INFO  impl.RaftServerImpl (RaftServerImpl.java:start(181)) - s0@group-A0E7B1E4D424: start as a follower, conf=0: [s0:, s1:, s2:], old=null
2019-09-24 17:08:19,667 INFO  impl.RaftServerImpl (RaftServerImpl.java:setRole(170)) - s0@group-A0E7B1E4D424: changes role from      null to FOLLOWER at term 1 for startAsFollower
2019-09-24 17:08:19,667 INFO  impl.RoleInfo (RoleInfo.java:updateAndGet(143)) - s0: start FollowerState
2019-09-24 17:08:19,668 INFO  util.JmxRegister (JmxRegister.java:tryRegister(44)) - Successfully registered JMX Bean with object name Ratis:service=RaftServer,group=group-A0E7B1E4D424,id=s0
2019-09-24 17:08:19,669 INFO  impl.RaftServerProxy (RaftServerProxy.java:lambda$start$3(299)) - s0: start RPC server
2019-09-24 17:08:19,670 INFO  ratis.MiniRaftCluster (MiniRaftCluster.java:killServer(458)) - killServer s1
2019-09-24 17:08:19,670 INFO  impl.RaftServerProxy (RaftServerProxy.java:lambda$close$4(314)) - s1: close
2019-09-24 17:08:19,670 INFO  impl.RaftServerImpl (RaftServerImpl.java:lambda$shutdown$3(247)) - s1@group-A0E7B1E4D424: shutdown
2019-09-24 17:08:19,671 INFO  util.JmxRegister (JmxRegister.java:unregister(73)) - Successfully un-registered JMX Bean with object name Ratis:service=RaftServer,group=group-A0E7B1E4D424,id=s1
2019-09-24 17:08:19,671 INFO  impl.RoleInfo (RoleInfo.java:shutdownFollowerState(121)) - s1: shutdown FollowerState
2019-09-24 17:08:19,672 INFO  impl.StateMachineUpdater (StateMachineUpdater.java:stopAndJoin(136)) - s1@group-A0E7B1E4D424-StateMachineUpdater: set stopIndex = 0
2019-09-24 17:08:19,672 INFO  impl.FollowerState (FollowerState.java:run(117)) - s1@group-A0E7B1E4D424-FollowerState was interrupted: java.lang.InterruptedException: sleep interrupted
2019-09-24 17:08:19,672 INFO  impl.RaftServerImpl (ServerState.java:close(386)) - s1@group-A0E7B1E4D424: closes. applyIndex: 0
2019-09-24 17:08:19,673 INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:run(313)) - s1@group-A0E7B1E4D424-SegmentedRaftLogWorker was interrupted, exiting. There are 0 tasks remaining in the queue.
2019-09-24 17:08:19,675 INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:close(228)) - s1@group-A0E7B1E4D424-SegmentedRaftLogWorker close()
2019-09-24 17:08:19,676 INFO  simulation.RequestHandler (RequestHandler.java:run(126)) - s1.clientHandler0 is interrupted by java.io.InterruptedIOException: 
2019-09-24 17:08:19,676 INFO  simulation.RequestHandler (RequestHandler.java:run(126)) - s1.clientHandler2 is interrupted by java.io.InterruptedIOException: 
2019-09-24 17:08:19,676 INFO  simulation.RequestHandler (RequestHandler.java:run(126)) - s1.clientHandler1 is interrupted by java.io.InterruptedIOException: 
2019-09-24 17:08:19,676 INFO  simulation.RequestHandler (RequestHandler.java:run(126)) - s1.serverHandler1 is interrupted by java.io.InterruptedIOException: 
2019-09-24 17:08:19,677 INFO  simulation.RequestHandler (RequestHandler.java:run(126)) - s1.serverHandler2 is interrupted by java.io.InterruptedIOException: 
2019-09-24 17:08:19,676 INFO  simulation.RequestHandler (RequestHandler.java:run(126)) - s1.serverHandler0 is interrupted by java.io.InterruptedIOException: 
2019-09-24 17:08:19,678 INFO  ratis.MiniRaftCluster (MiniRaftCluster.java:newRaftServer(330)) - newRaftServer: s1, null, format? false
2019-09-24 17:08:19,678 DEBUG impl.RaftServerProxy (ServerImplUtils.java:newRaftServer(39)) - newRaftServer: s1, null
2019-09-24 17:08:19,678 INFO  impl.RaftServerProxy (ConfUtils.java:logGet(43)) - raft.rpc.type = org.apache.ratis.server.simulation.SimulatedRpc (custom)
2019-09-24 17:08:19,679 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.storage.dir = [/workdir/ratis-test/target/test/data/312143de/MiniRaftClusterWithSimulatedRpc89895be2/s1] (custom)
2019-09-24 17:08:19,680 INFO  impl.RaftServerProxy (RaftServerProxy.java:lambda$null$0(191)) - s1: found a subdirectory /workdir/ratis-test/target/test/data/312143de/MiniRaftClusterWithSimulatedRpc89895be2/s1/0934f5f5-362f-4beb-a8b5-a0e7b1e4d424
2019-09-24 17:08:19,680 INFO  impl.RaftServerProxy (RaftServerProxy.java:addNew(89)) - s1: addNew group-A0E7B1E4D424:[] returns group-A0E7B1E4D424:java.util.concurrent.CompletableFuture@62aafda3[Not completed]
2019-09-24 17:08:19,680 INFO  impl.RaftServerImpl (RaftServerImpl.java:<init>(95)) - s1: new RaftServerImpl for group-A0E7B1E4D424:[] with BaseStateMachine:uninitialized
2019-09-24 17:08:19,681 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.rpc.timeout.min = 150ms (default)
2019-09-24 17:08:19,681 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.rpc.timeout.max = 300ms (default)
2019-09-24 17:08:19,681 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.rpcslowness.timeout = 60s (default)
2019-09-24 17:08:19,682 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.sleep.deviation.threshold = 300 (default)
2019-09-24 17:08:19,682 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.log.appender.install.snapshot.enabled = true (default)
2019-09-24 17:08:19,682 INFO  impl.RaftServerImpl (ServerState.java:<init>(103)) - s1@group-A0E7B1E4D424: ConfigurationManager, init=-1: [], old=null, confs=<EMPTY_MAP>
2019-09-24 17:08:19,682 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.storage.dir = [/workdir/ratis-test/target/test/data/312143de/MiniRaftClusterWithSimulatedRpc89895be2/s1] (custom)
2019-09-24 17:08:19,683 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.log.corruption.policy = EXCEPTION (default)
2019-09-24 17:08:19,720 INFO  storage.RaftStorageDirectory (RaftStorageDirectory.java:tryLock(328)) - Lock on /workdir/ratis-test/target/test/data/312143de/MiniRaftClusterWithSimulatedRpc89895be2/s1/0934f5f5-362f-4beb-a8b5-a0e7b1e4d424/in_use.lock acquired by nodename 9360@ratis-test-vphbd-3564017154
2019-09-24 17:08:19,721 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.notification.no-leader.timeout = 60s (default)
2019-09-24 17:08:19,721 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.log.use.memory = false (default)
2019-09-24 17:08:19,722 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.log.purge.gap = 1024 (default)
2019-09-24 17:08:19,722 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.log.appender.buffer.byte-limit = 4MB (=4194304) (default)
2019-09-24 17:08:19,722 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.log.segment.size.max = 8MB (=8388608) (default)
2019-09-24 17:08:19,722 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.log.segment.cache.num.max = 6 (default)
2019-09-24 17:08:19,723 INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:<init>(172)) - new s1@group-A0E7B1E4D424-SegmentedRaftLogWorker for RaftStorage:Storage Directory /workdir/ratis-test/target/test/data/312143de/MiniRaftClusterWithSimulatedRpc89895be2/s1/0934f5f5-362f-4beb-a8b5-a0e7b1e4d424
2019-09-24 17:08:19,723 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.log.queue.byte-limit = 64MB (=67108864) (default)
2019-09-24 17:08:19,723 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.log.queue.element-limit = 4096 (default)
2019-09-24 17:08:19,724 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.log.segment.size.max = 8MB (=8388608) (default)
2019-09-24 17:08:19,724 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.log.preallocated.size = 4MB (=4194304) (default)
2019-09-24 17:08:19,724 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.log.write.buffer.size = 64KB (=65536) (default)
2019-09-24 17:08:19,724 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.log.force.sync.num = 128 (default)
2019-09-24 17:08:19,725 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.log.statemachine.data.sync = true (default)
2019-09-24 17:08:19,725 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.log.statemachine.data.sync.timeout = 10s (default)
2019-09-24 17:08:19,725 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.log.statemachine.data.sync.timeout.retry = -1 (default)
2019-09-24 17:08:19,725 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.log.statemachine.data.caching.enabled = false (default)
2019-09-24 17:08:19,727 INFO  impl.RaftServerImpl (ServerState.java:setRaftConf(355)) - s1@group-A0E7B1E4D424: set configuration 0: [s0:, s1:, s2:], old=null at 0
2019-09-24 17:08:19,727 INFO  segmented.LogSegment (LogSegment.java:loadSegment(136)) - Successfully read 1 entries from segment file /workdir/ratis-test/target/test/data/312143de/MiniRaftClusterWithSimulatedRpc89895be2/s1/0934f5f5-362f-4beb-a8b5-a0e7b1e4d424/current/log_inprogress_0
2019-09-24 17:08:19,727 INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:lambda$new$0(132)) - s1@group-A0E7B1E4D424-SegmentedRaftLogWorker: flushIndex: setUnconditionally 0 -> 0
2019-09-24 17:08:19,728 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.snapshot.auto.trigger.enabled = false (default)
2019-09-24 17:08:19,728 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.snapshot.retention.file.num = -1 (default)
2019-09-24 17:08:19,728 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.retrycache.expirytime = 60s (default)
2019-09-24 17:08:19,729 INFO  impl.RaftServerImpl (RaftServerImpl.java:start(181)) - s1@group-A0E7B1E4D424: start as a follower, conf=0: [s0:, s1:, s2:], old=null
2019-09-24 17:08:19,729 INFO  impl.RaftServerImpl (RaftServerImpl.java:setRole(170)) - s1@group-A0E7B1E4D424: changes role from      null to FOLLOWER at term 1 for startAsFollower
2019-09-24 17:08:19,730 INFO  impl.RoleInfo (RoleInfo.java:updateAndGet(143)) - s1: start FollowerState
2019-09-24 17:08:19,730 INFO  util.JmxRegister (JmxRegister.java:tryRegister(44)) - Successfully registered JMX Bean with object name Ratis:service=RaftServer,group=group-A0E7B1E4D424,id=s1
2019-09-24 17:08:19,731 INFO  impl.RaftServerProxy (RaftServerProxy.java:lambda$start$3(299)) - s1: start RPC server
2019-09-24 17:08:19,732 INFO  ratis.MiniRaftCluster (MiniRaftCluster.java:killServer(458)) - killServer s2
2019-09-24 17:08:19,733 INFO  impl.RaftServerProxy (RaftServerProxy.java:lambda$close$4(314)) - s2: close
2019-09-24 17:08:19,733 INFO  impl.RaftServerImpl (RaftServerImpl.java:lambda$shutdown$3(247)) - s2@group-A0E7B1E4D424: shutdown
2019-09-24 17:08:19,733 INFO  util.JmxRegister (JmxRegister.java:unregister(73)) - Successfully un-registered JMX Bean with object name Ratis:service=RaftServer,group=group-A0E7B1E4D424,id=s2
2019-09-24 17:08:19,734 INFO  impl.RoleInfo (RoleInfo.java:shutdownFollowerState(121)) - s2: shutdown FollowerState
2019-09-24 17:08:19,734 INFO  impl.StateMachineUpdater (StateMachineUpdater.java:stopAndJoin(136)) - s2@group-A0E7B1E4D424-StateMachineUpdater: set stopIndex = 0
2019-09-24 17:08:19,734 INFO  impl.FollowerState (FollowerState.java:run(117)) - s2@group-A0E7B1E4D424-FollowerState was interrupted: java.lang.InterruptedException: sleep interrupted
2019-09-24 17:08:19,734 INFO  impl.RaftServerImpl (ServerState.java:close(386)) - s2@group-A0E7B1E4D424: closes. applyIndex: 0
2019-09-24 17:08:19,735 INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:run(313)) - s2@group-A0E7B1E4D424-SegmentedRaftLogWorker was interrupted, exiting. There are 0 tasks remaining in the queue.
2019-09-24 17:08:19,737 INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:close(228)) - s2@group-A0E7B1E4D424-SegmentedRaftLogWorker close()
2019-09-24 17:08:19,738 INFO  simulation.RequestHandler (RequestHandler.java:run(126)) - s2.clientHandler1 is interrupted by java.io.InterruptedIOException: 
2019-09-24 17:08:19,738 INFO  simulation.RequestHandler (RequestHandler.java:run(126)) - s2.clientHandler0 is interrupted by java.io.InterruptedIOException: 
2019-09-24 17:08:19,738 INFO  simulation.RequestHandler (RequestHandler.java:run(126)) - s2.clientHandler2 is interrupted by java.io.InterruptedIOException: 
2019-09-24 17:08:19,739 INFO  simulation.RequestHandler (RequestHandler.java:run(126)) - s2.serverHandler0 is interrupted by java.io.InterruptedIOException: 
2019-09-24 17:08:19,739 INFO  simulation.RequestHandler (RequestHandler.java:run(126)) - s2.serverHandler2 is interrupted by java.io.InterruptedIOException: 
2019-09-24 17:08:19,739 INFO  simulation.RequestHandler (RequestHandler.java:run(126)) - s2.serverHandler1 is interrupted by java.io.InterruptedIOException: 
2019-09-24 17:08:19,740 INFO  ratis.MiniRaftCluster (MiniRaftCluster.java:newRaftServer(330)) - newRaftServer: s2, null, format? false
2019-09-24 17:08:19,740 DEBUG impl.RaftServerProxy (ServerImplUtils.java:newRaftServer(39)) - newRaftServer: s2, null
2019-09-24 17:08:19,740 INFO  impl.RaftServerProxy (ConfUtils.java:logGet(43)) - raft.rpc.type = org.apache.ratis.server.simulation.SimulatedRpc (custom)
2019-09-24 17:08:19,741 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.storage.dir = [/workdir/ratis-test/target/test/data/312143de/MiniRaftClusterWithSimulatedRpc89895be2/s2] (custom)
2019-09-24 17:08:19,742 INFO  impl.RaftServerProxy (RaftServerProxy.java:lambda$null$0(191)) - s2: found a subdirectory /workdir/ratis-test/target/test/data/312143de/MiniRaftClusterWithSimulatedRpc89895be2/s2/0934f5f5-362f-4beb-a8b5-a0e7b1e4d424
2019-09-24 17:08:19,743 INFO  impl.RaftServerProxy (RaftServerProxy.java:addNew(89)) - s2: addNew group-A0E7B1E4D424:[] returns group-A0E7B1E4D424:java.util.concurrent.CompletableFuture@4110052c[Not completed]
2019-09-24 17:08:19,743 INFO  impl.RaftServerImpl (RaftServerImpl.java:<init>(95)) - s2: new RaftServerImpl for group-A0E7B1E4D424:[] with BaseStateMachine:uninitialized
2019-09-24 17:08:19,743 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.rpc.timeout.min = 150ms (default)
2019-09-24 17:08:19,743 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.rpc.timeout.max = 300ms (default)
2019-09-24 17:08:19,744 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.rpcslowness.timeout = 60s (default)
2019-09-24 17:08:19,744 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.sleep.deviation.threshold = 300 (default)
2019-09-24 17:08:19,744 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.log.appender.install.snapshot.enabled = true (default)
2019-09-24 17:08:19,744 INFO  impl.RaftServerImpl (ServerState.java:<init>(103)) - s2@group-A0E7B1E4D424: ConfigurationManager, init=-1: [], old=null, confs=<EMPTY_MAP>
2019-09-24 17:08:19,745 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.storage.dir = [/workdir/ratis-test/target/test/data/312143de/MiniRaftClusterWithSimulatedRpc89895be2/s2] (custom)
2019-09-24 17:08:19,745 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.log.corruption.policy = EXCEPTION (default)
2019-09-24 17:08:19,771 INFO  storage.RaftStorageDirectory (RaftStorageDirectory.java:tryLock(328)) - Lock on /workdir/ratis-test/target/test/data/312143de/MiniRaftClusterWithSimulatedRpc89895be2/s2/0934f5f5-362f-4beb-a8b5-a0e7b1e4d424/in_use.lock acquired by nodename 9360@ratis-test-vphbd-3564017154
2019-09-24 17:08:19,772 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.notification.no-leader.timeout = 60s (default)
2019-09-24 17:08:19,772 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.log.use.memory = false (default)
2019-09-24 17:08:19,772 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.log.purge.gap = 1024 (default)
2019-09-24 17:08:19,772 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.log.appender.buffer.byte-limit = 4MB (=4194304) (default)
2019-09-24 17:08:19,773 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.log.segment.size.max = 8MB (=8388608) (default)
2019-09-24 17:08:19,773 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.log.segment.cache.num.max = 6 (default)
2019-09-24 17:08:19,773 INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:<init>(172)) - new s2@group-A0E7B1E4D424-SegmentedRaftLogWorker for RaftStorage:Storage Directory /workdir/ratis-test/target/test/data/312143de/MiniRaftClusterWithSimulatedRpc89895be2/s2/0934f5f5-362f-4beb-a8b5-a0e7b1e4d424
2019-09-24 17:08:19,773 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.log.queue.byte-limit = 64MB (=67108864) (default)
2019-09-24 17:08:19,773 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.log.queue.element-limit = 4096 (default)
2019-09-24 17:08:19,774 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.log.segment.size.max = 8MB (=8388608) (default)
2019-09-24 17:08:19,774 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.log.preallocated.size = 4MB (=4194304) (default)
2019-09-24 17:08:19,774 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.log.write.buffer.size = 64KB (=65536) (default)
2019-09-24 17:08:19,774 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.log.force.sync.num = 128 (default)
2019-09-24 17:08:19,774 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.log.statemachine.data.sync = true (default)
2019-09-24 17:08:19,774 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.log.statemachine.data.sync.timeout = 10s (default)
2019-09-24 17:08:19,775 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.log.statemachine.data.sync.timeout.retry = -1 (default)
2019-09-24 17:08:19,775 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.log.statemachine.data.caching.enabled = false (default)
2019-09-24 17:08:19,776 INFO  impl.RaftServerImpl (ServerState.java:setRaftConf(355)) - s2@group-A0E7B1E4D424: set configuration 0: [s0:, s1:, s2:], old=null at 0
2019-09-24 17:08:19,776 INFO  segmented.LogSegment (LogSegment.java:loadSegment(136)) - Successfully read 1 entries from segment file /workdir/ratis-test/target/test/data/312143de/MiniRaftClusterWithSimulatedRpc89895be2/s2/0934f5f5-362f-4beb-a8b5-a0e7b1e4d424/current/log_inprogress_0
2019-09-24 17:08:19,776 INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:lambda$new$0(132)) - s2@group-A0E7B1E4D424-SegmentedRaftLogWorker: flushIndex: setUnconditionally 0 -> 0
2019-09-24 17:08:19,777 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.snapshot.auto.trigger.enabled = false (default)
2019-09-24 17:08:19,777 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.snapshot.retention.file.num = -1 (default)
2019-09-24 17:08:19,778 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.retrycache.expirytime = 60s (default)
2019-09-24 17:08:19,778 INFO  impl.RaftServerImpl (RaftServerImpl.java:start(181)) - s2@group-A0E7B1E4D424: start as a follower, conf=0: [s0:, s1:, s2:], old=null
2019-09-24 17:08:19,778 INFO  impl.RaftServerImpl (RaftServerImpl.java:setRole(170)) - s2@group-A0E7B1E4D424: changes role from      null to FOLLOWER at term 1 for startAsFollower
2019-09-24 17:08:19,779 INFO  impl.RoleInfo (RoleInfo.java:updateAndGet(143)) - s2: start FollowerState
2019-09-24 17:08:19,779 INFO  util.JmxRegister (JmxRegister.java:tryRegister(44)) - Successfully registered JMX Bean with object name Ratis:service=RaftServer,group=group-A0E7B1E4D424,id=s2
2019-09-24 17:08:19,780 INFO  impl.RaftServerProxy (RaftServerProxy.java:lambda$start$3(299)) - s2: start RPC server
2019-09-24 17:08:19,781 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.rpc.timeout.max = 300ms (default)
2019-09-24 17:08:19,781 INFO  ratis.RaftTestUtil (RaftTestUtil.java:waitForLeader(86)) - printing ALL groups
  s0:  RUNNING  FOLLOWER s0@group-A0E7B1E4D424:t1, leader=null, voted=s0, raftlog=s0@group-A0E7B1E4D424-SegmentedRaftLog:OPENED:c-1,f0,i0, conf=0: [s0:, s1:, s2:], old=null RUNNING
  s1:  RUNNING  FOLLOWER s1@group-A0E7B1E4D424:t1, leader=null, voted=s1, raftlog=s1@group-A0E7B1E4D424-SegmentedRaftLog:OPENED:c-1,f0,i0, conf=0: [s0:, s1:, s2:], old=null RUNNING
  s2:  RUNNING  FOLLOWER s2@group-A0E7B1E4D424:t1, leader=null, voted=s0, raftlog=s2@group-A0E7B1E4D424-SegmentedRaftLog:OPENED:c-1,f0,i0, conf=0: [s0:, s1:, s2:], old=null RUNNING
2019-09-24 17:08:19,782 WARN  ratis.RaftTestUtil (JavaUtils.java:attempt(158)) - FAILED "waitForLeader-null-(expectLeader? true)", attempt #1/100: java.lang.IllegalStateException: No leader yet : printing ALL groups
  s0:  RUNNING  FOLLOWER s0@group-A0E7B1E4D424:t1, leader=null, voted=s0, raftlog=s0@group-A0E7B1E4D424-SegmentedRaftLog:OPENED:c-1,f0,i0, conf=0: [s0:, s1:, s2:], old=null RUNNING
  s1:  RUNNING  FOLLOWER s1@group-A0E7B1E4D424:t1, leader=null, voted=s1, raftlog=s1@group-A0E7B1E4D424-SegmentedRaftLog:OPENED:c-1,f0,i0, conf=0: [s0:, s1:, s2:], old=null RUNNING
  s2:  RUNNING  FOLLOWER s2@group-A0E7B1E4D424:t1, leader=null, voted=s0, raftlog=s2@group-A0E7B1E4D424-SegmentedRaftLog:OPENED:c-1,f0,i0, conf=0: [s0:, s1:, s2:], old=null RUNNING, sleep 450ms and then retry.
java.lang.IllegalStateException: No leader yet : printing ALL groups
  s0:  RUNNING  FOLLOWER s0@group-A0E7B1E4D424:t1, leader=null, voted=s0, raftlog=s0@group-A0E7B1E4D424-SegmentedRaftLog:OPENED:c-1,f0,i0, conf=0: [s0:, s1:, s2:], old=null RUNNING
  s1:  RUNNING  FOLLOWER s1@group-A0E7B1E4D424:t1, leader=null, voted=s1, raftlog=s1@group-A0E7B1E4D424-SegmentedRaftLog:OPENED:c-1,f0,i0, conf=0: [s0:, s1:, s2:], old=null RUNNING
  s2:  RUNNING  FOLLOWER s2@group-A0E7B1E4D424:t1, leader=null, voted=s0, raftlog=s2@group-A0E7B1E4D424-SegmentedRaftLog:OPENED:c-1,f0,i0, conf=0: [s0:, s1:, s2:], old=null RUNNING
	at org.apache.ratis.MiniRaftCluster.newIllegalStateExceptionForNoLeaders(MiniRaftCluster.java:506)
	at org.apache.ratis.RaftTestUtil.lambda$waitForLeader$1(RaftTestUtil.java:90)
	at org.apache.ratis.MiniRaftCluster.getLeader(MiniRaftCluster.java:539)
	at org.apache.ratis.MiniRaftCluster.getLeader(MiniRaftCluster.java:532)
	at org.apache.ratis.RaftTestUtil.lambda$waitForLeader$3(RaftTestUtil.java:98)
	at org.apache.ratis.util.JavaUtils.attempt(JavaUtils.java:152)
	at org.apache.ratis.RaftTestUtil.waitForLeader(RaftTestUtil.java:97)
	at org.apache.ratis.RaftTestUtil.waitForLeader(RaftTestUtil.java:77)
	at org.apache.ratis.RaftTestUtil.waitForLeader(RaftTestUtil.java:72)
	at org.apache.ratis.server.impl.GroupManagementBaseTest.testSingleGroupRestart(GroupManagementBaseTest.java:101)
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.lang.reflect.Method.invoke(Method.java:498)
	at org.junit.runners.model.FrameworkMethod$1.runReflectiveCall(FrameworkMethod.java:50)
	at org.junit.internal.runners.model.ReflectiveCallable.run(ReflectiveCallable.java:12)
	at org.junit.runners.model.FrameworkMethod.invokeExplosively(FrameworkMethod.java:47)
	at org.junit.internal.runners.statements.InvokeMethod.evaluate(InvokeMethod.java:17)
	at org.junit.internal.runners.statements.RunAfters.evaluate(RunAfters.java:27)
	at org.junit.internal.runners.statements.FailOnTimeout$CallableStatement.call(FailOnTimeout.java:298)
	at org.junit.internal.runners.statements.FailOnTimeout$CallableStatement.call(FailOnTimeout.java:292)
	at java.util.concurrent.FutureTask.run(FutureTask.java:266)
	at java.lang.Thread.run(Thread.java:748)
2019-09-24 17:08:19,859 INFO  impl.FollowerState (FollowerState.java:run(108)) - s0@group-A0E7B1E4D424-FollowerState: change to CANDIDATE, lastRpcTime:191ms, electionTimeout:191ms
2019-09-24 17:08:19,859 INFO  impl.RoleInfo (RoleInfo.java:shutdownFollowerState(121)) - s0: shutdown FollowerState
2019-09-24 17:08:19,859 INFO  impl.RaftServerImpl (RaftServerImpl.java:setRole(170)) - s0@group-A0E7B1E4D424: changes role from  FOLLOWER to CANDIDATE at term 1 for changeToCandidate
2019-09-24 17:08:19,860 INFO  impl.RoleInfo (RoleInfo.java:updateAndGet(143)) - s0: start LeaderElection
2019-09-24 17:08:19,883 INFO  impl.LeaderElection (LeaderElection.java:askForVotes(178)) - s0@group-A0E7B1E4D424-LeaderElection3: begin an election at term 2 for 0: [s0:, s1:, s2:], old=null
2019-09-24 17:08:19,885 DEBUG impl.RaftServerImpl (RaftServerImpl.java:requestVote(743)) - s1@group-A0E7B1E4D424: receive requestVote(s0, group-A0E7B1E4D424, 2, (t:1, i:0))
2019-09-24 17:08:19,885 DEBUG impl.RaftServerImpl (RaftServerImpl.java:requestVote(743)) - s2@group-A0E7B1E4D424: receive requestVote(s0, group-A0E7B1E4D424, 2, (t:1, i:0))
2019-09-24 17:08:19,885 INFO  impl.RaftServerImpl (RaftServerImpl.java:setRole(170)) - s1@group-A0E7B1E4D424: changes role from  FOLLOWER to FOLLOWER at term 2 for recognizeCandidate:s0
2019-09-24 17:08:19,885 INFO  impl.RaftServerImpl (RaftServerImpl.java:setRole(170)) - s2@group-A0E7B1E4D424: changes role from  FOLLOWER to FOLLOWER at term 2 for recognizeCandidate:s0
2019-09-24 17:08:19,885 INFO  impl.RoleInfo (RoleInfo.java:shutdownFollowerState(121)) - s1: shutdown FollowerState
2019-09-24 17:08:19,885 INFO  impl.RoleInfo (RoleInfo.java:shutdownFollowerState(121)) - s2: shutdown FollowerState
2019-09-24 17:08:19,886 INFO  impl.RoleInfo (RoleInfo.java:updateAndGet(143)) - s1: start FollowerState
2019-09-24 17:08:19,886 INFO  impl.RoleInfo (RoleInfo.java:updateAndGet(143)) - s2: start FollowerState
2019-09-24 17:08:19,886 INFO  impl.FollowerState (FollowerState.java:run(117)) - s1@group-A0E7B1E4D424-FollowerState was interrupted: java.lang.InterruptedException: sleep interrupted
2019-09-24 17:08:19,886 INFO  impl.FollowerState (FollowerState.java:run(117)) - s2@group-A0E7B1E4D424-FollowerState was interrupted: java.lang.InterruptedException: sleep interrupted
2019-09-24 17:08:19,950 DEBUG impl.RaftServerImpl (RaftServerImpl.java:requestVote(775)) - s2@group-A0E7B1E4D424 replies to vote request: s0<-s2#0:OK-t2. Peer's state: s2@group-A0E7B1E4D424:t2, leader=null, voted=s0, raftlog=s2@group-A0E7B1E4D424-SegmentedRaftLog:OPENED:c-1,f0,i0, conf=0: [s0:, s1:, s2:], old=null
2019-09-24 17:08:19,950 DEBUG impl.RaftServerImpl (RaftServerImpl.java:requestVote(775)) - s1@group-A0E7B1E4D424 replies to vote request: s0<-s1#0:OK-t2. Peer's state: s1@group-A0E7B1E4D424:t2, leader=null, voted=s0, raftlog=s1@group-A0E7B1E4D424-SegmentedRaftLog:OPENED:c-1,f0,i0, conf=0: [s0:, s1:, s2:], old=null
2019-09-24 17:08:19,950 INFO  impl.LeaderElection (LeaderElection.java:logAndReturn(56)) - s0@group-A0E7B1E4D424-LeaderElection3: Election PASSED; received 1 response(s) [s0<-s2#0:OK-t2] and 0 exception(s); s0@group-A0E7B1E4D424:t2, leader=null, voted=s0, raftlog=s0@group-A0E7B1E4D424-SegmentedRaftLog:OPENED:c-1,f0,i0, conf=0: [s0:, s1:, s2:], old=null
2019-09-24 17:08:19,951 INFO  impl.RoleInfo (RoleInfo.java:shutdownLeaderElection(134)) - s0: shutdown LeaderElection
2019-09-24 17:08:19,951 INFO  impl.RaftServerImpl (RaftServerImpl.java:setRole(170)) - s0@group-A0E7B1E4D424: changes role from CANDIDATE to LEADER at term 2 for changeToLeader
2019-09-24 17:08:19,951 INFO  impl.RaftServerImpl (ServerState.java:setLeader(254)) - s0@group-A0E7B1E4D424: change Leader from null to s0 at term 2 for becomeLeader, leader elected after 305ms
2019-09-24 17:08:19,951 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.staging.catchup.gap = 1000 (default)
2019-09-24 17:08:19,952 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.rpc.sleep.time = 25ms (default)
2019-09-24 17:08:19,952 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.write.element-limit = 4096 (default)
2019-09-24 17:08:19,952 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.watch.timeout = 10s (default)
2019-09-24 17:08:19,953 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.watch.timeout.denomination = 1s (default)
2019-09-24 17:08:19,953 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.watch.element-limit = 65536 (default)
2019-09-24 17:08:19,953 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.log.appender.snapshot.chunk.size.max = 16MB (=16777216) (default)
2019-09-24 17:08:19,954 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.log.appender.buffer.byte-limit = 4MB (=4194304) (default)
2019-09-24 17:08:19,954 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.log.appender.buffer.element-limit = 0 (default)
2019-09-24 17:08:19,954 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.log.appender.snapshot.chunk.size.max = 16MB (=16777216) (default)
2019-09-24 17:08:19,955 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.log.appender.buffer.byte-limit = 4MB (=4194304) (default)
2019-09-24 17:08:19,955 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.log.appender.buffer.element-limit = 0 (default)
2019-09-24 17:08:19,955 INFO  impl.RoleInfo (RoleInfo.java:updateAndGet(143)) - s0: start LeaderState
2019-09-24 17:08:19,956 INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:rollLogSegment(385)) - s0@group-A0E7B1E4D424-SegmentedRaftLogWorker: Rolling segment log-0_0 to index:0
2019-09-24 17:08:19,961 TRACE util.FileUtils (LogUtils.java:runAndLog(61)) - Successfully ran Files.move /workdir/ratis-test/target/test/data/312143de/MiniRaftClusterWithSimulatedRpc89895be2/s0/0934f5f5-362f-4beb-a8b5-a0e7b1e4d424/current/log_inprogress_0 to /workdir/ratis-test/target/test/data/312143de/MiniRaftClusterWithSimulatedRpc89895be2/s0/0934f5f5-362f-4beb-a8b5-a0e7b1e4d424/current/log_0-0
2019-09-24 17:08:19,961 INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:execute(526)) - s0@group-A0E7B1E4D424-SegmentedRaftLogWorker: Rolled log segment from /workdir/ratis-test/target/test/data/312143de/MiniRaftClusterWithSimulatedRpc89895be2/s0/0934f5f5-362f-4beb-a8b5-a0e7b1e4d424/current/log_inprogress_0 to /workdir/ratis-test/target/test/data/312143de/MiniRaftClusterWithSimulatedRpc89895be2/s0/0934f5f5-362f-4beb-a8b5-a0e7b1e4d424/current/log_0-0
2019-09-24 17:08:19,963 INFO  impl.RaftServerImpl (ServerState.java:setRaftConf(355)) - s0@group-A0E7B1E4D424: set configuration 1: [s0:, s1:, s2:], old=null at 1
2019-09-24 17:08:19,963 INFO  impl.RaftServerImpl (ServerState.java:setLeader(254)) - s1@group-A0E7B1E4D424: change Leader from null to s0 at term 2 for appendEntries, leader elected after 242ms
2019-09-24 17:08:19,963 INFO  impl.RaftServerImpl (ServerState.java:setLeader(254)) - s2@group-A0E7B1E4D424: change Leader from null to s0 at term 2 for appendEntries, leader elected after 191ms
2019-09-24 17:08:19,969 DEBUG impl.RaftServerImpl (RaftServerImpl.java:logAppendEntries(850)) - s1@group-A0E7B1E4D424: receive appendEntries(s0, 2, (t:1, i:0), -1, false, commits[s0:c-1, s1:c-1, s2:c-1], entries: (t:2, i:1), CONFIGURATIONENTRY
2019-09-24 17:08:19,970 DEBUG impl.RaftServerImpl (RaftServerImpl.java:logAppendEntries(850)) - s2@group-A0E7B1E4D424: receive appendEntries(s0, 2, (t:1, i:0), -1, false, commits[s0:c-1, s1:c-1, s2:c-1], entries: (t:2, i:1), CONFIGURATIONENTRY
2019-09-24 17:08:19,970 INFO  impl.RaftServerImpl (ServerState.java:setRaftConf(355)) - s1@group-A0E7B1E4D424: set configuration 1: [s0:, s1:, s2:], old=null at 1
2019-09-24 17:08:19,970 INFO  impl.RaftServerImpl (ServerState.java:setRaftConf(355)) - s2@group-A0E7B1E4D424: set configuration 1: [s0:, s1:, s2:], old=null at 1
2019-09-24 17:08:19,970 INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:rollLogSegment(385)) - s1@group-A0E7B1E4D424-SegmentedRaftLogWorker: Rolling segment log-0_0 to index:0
2019-09-24 17:08:19,971 INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:rollLogSegment(385)) - s2@group-A0E7B1E4D424-SegmentedRaftLogWorker: Rolling segment log-0_0 to index:0
2019-09-24 17:08:19,971 TRACE util.FileUtils (LogUtils.java:runAndLog(61)) - Successfully ran Files.move /workdir/ratis-test/target/test/data/312143de/MiniRaftClusterWithSimulatedRpc89895be2/s1/0934f5f5-362f-4beb-a8b5-a0e7b1e4d424/current/log_inprogress_0 to /workdir/ratis-test/target/test/data/312143de/MiniRaftClusterWithSimulatedRpc89895be2/s1/0934f5f5-362f-4beb-a8b5-a0e7b1e4d424/current/log_0-0
2019-09-24 17:08:19,971 TRACE util.FileUtils (LogUtils.java:runAndLog(61)) - Successfully ran Files.move /workdir/ratis-test/target/test/data/312143de/MiniRaftClusterWithSimulatedRpc89895be2/s2/0934f5f5-362f-4beb-a8b5-a0e7b1e4d424/current/log_inprogress_0 to /workdir/ratis-test/target/test/data/312143de/MiniRaftClusterWithSimulatedRpc89895be2/s2/0934f5f5-362f-4beb-a8b5-a0e7b1e4d424/current/log_0-0
2019-09-24 17:08:19,971 INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:execute(526)) - s1@group-A0E7B1E4D424-SegmentedRaftLogWorker: Rolled log segment from /workdir/ratis-test/target/test/data/312143de/MiniRaftClusterWithSimulatedRpc89895be2/s1/0934f5f5-362f-4beb-a8b5-a0e7b1e4d424/current/log_inprogress_0 to /workdir/ratis-test/target/test/data/312143de/MiniRaftClusterWithSimulatedRpc89895be2/s1/0934f5f5-362f-4beb-a8b5-a0e7b1e4d424/current/log_0-0
2019-09-24 17:08:19,972 INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:execute(526)) - s2@group-A0E7B1E4D424-SegmentedRaftLogWorker: Rolled log segment from /workdir/ratis-test/target/test/data/312143de/MiniRaftClusterWithSimulatedRpc89895be2/s2/0934f5f5-362f-4beb-a8b5-a0e7b1e4d424/current/log_inprogress_0 to /workdir/ratis-test/target/test/data/312143de/MiniRaftClusterWithSimulatedRpc89895be2/s2/0934f5f5-362f-4beb-a8b5-a0e7b1e4d424/current/log_0-0
2019-09-24 17:08:20,140 INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:execute(569)) - s2@group-A0E7B1E4D424-SegmentedRaftLogWorker: created new log segment /workdir/ratis-test/target/test/data/312143de/MiniRaftClusterWithSimulatedRpc89895be2/s2/0934f5f5-362f-4beb-a8b5-a0e7b1e4d424/current/log_inprogress_1
2019-09-24 17:08:20,140 INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:execute(569)) - s1@group-A0E7B1E4D424-SegmentedRaftLogWorker: created new log segment /workdir/ratis-test/target/test/data/312143de/MiniRaftClusterWithSimulatedRpc89895be2/s1/0934f5f5-362f-4beb-a8b5-a0e7b1e4d424/current/log_inprogress_1
2019-09-24 17:08:20,140 INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:execute(569)) - s0@group-A0E7B1E4D424-SegmentedRaftLogWorker: created new log segment /workdir/ratis-test/target/test/data/312143de/MiniRaftClusterWithSimulatedRpc89895be2/s0/0934f5f5-362f-4beb-a8b5-a0e7b1e4d424/current/log_inprogress_1
2019-09-24 17:08:20,164 DEBUG impl.RaftServerImpl (RaftServerImpl.java:logAppendEntries(850)) - s2@group-A0E7B1E4D424: succeeded to handle AppendEntries. Reply: s0<-s2#0:OK,SUCCESS,nextIndex:2,term:2,followerCommit:-1
2019-09-24 17:08:20,164 DEBUG impl.RaftServerImpl (RaftServerImpl.java:logAppendEntries(850)) - s1@group-A0E7B1E4D424: succeeded to handle AppendEntries. Reply: s0<-s1#0:OK,SUCCESS,nextIndex:2,term:2,followerCommit:-1
2019-09-24 17:08:20,172 DEBUG impl.RaftServerImpl (RaftServerImpl.java:logAppendEntries(850)) - s2@group-A0E7B1E4D424: receive appendEntries(s0, 2, (t:2, i:1), 1, false, commits[s0:c1, s1:c-1, s2:c-1], entries: (t:2, i:2), METADATAENTRY(c1)
2019-09-24 17:08:20,172 DEBUG impl.RaftServerImpl (RaftServerImpl.java:logAppendEntries(850)) - s1@group-A0E7B1E4D424: receive appendEntries(s0, 2, (t:2, i:1), 1, false, commits[s0:c1, s1:c-1, s2:c-1], entries: (t:2, i:2), METADATAENTRY(c1)
2019-09-24 17:08:20,181 DEBUG impl.RaftServerImpl (RaftServerImpl.java:logAppendEntries(850)) - s2@group-A0E7B1E4D424: succeeded to handle AppendEntries. Reply: s0<-s2#0:OK,SUCCESS,nextIndex:3,term:2,followerCommit:1
2019-09-24 17:08:20,181 DEBUG impl.RaftServerImpl (RaftServerImpl.java:logAppendEntries(850)) - s1@group-A0E7B1E4D424: succeeded to handle AppendEntries. Reply: s0<-s1#0:OK,SUCCESS,nextIndex:3,term:2,followerCommit:1
2019-09-24 17:08:20,234 INFO  ratis.RaftTestUtil (RaftTestUtil.java:waitForLeader(101)) - printing ALL groups
  s0:  RUNNING    LEADER s0@group-A0E7B1E4D424:t2, leader=s0, voted=s0, raftlog=s0@group-A0E7B1E4D424-SegmentedRaftLog:OPENED:c2,f2,i2, conf=1: [s0:, s1:, s2:], old=null RUNNING
  s1:  RUNNING  FOLLOWER s1@group-A0E7B1E4D424:t2, leader=s0, voted=s0, raftlog=s1@group-A0E7B1E4D424-SegmentedRaftLog:OPENED:c1,f2,i2, conf=1: [s0:, s1:, s2:], old=null RUNNING
  s2:  RUNNING  FOLLOWER s2@group-A0E7B1E4D424:t2, leader=s0, voted=s0, raftlog=s2@group-A0E7B1E4D424-SegmentedRaftLog:OPENED:c1,f2,i2, conf=1: [s0:, s1:, s2:], old=null RUNNING
2019-09-24 17:08:20,234 INFO  ratis.MiniRaftCluster (MiniRaftCluster.java:shutdown(700)) - ************************************************************** 
2019-09-24 17:08:20,234 INFO  ratis.MiniRaftCluster (MiniRaftCluster.java:shutdown(701)) - *** 
2019-09-24 17:08:20,235 INFO  ratis.MiniRaftCluster (MiniRaftCluster.java:shutdown(702)) - ***     Stopping MiniRaftClusterWithSimulatedRpc
2019-09-24 17:08:20,235 INFO  ratis.MiniRaftCluster (MiniRaftCluster.java:shutdown(703)) - *** 
2019-09-24 17:08:20,235 INFO  ratis.MiniRaftCluster (MiniRaftCluster.java:shutdown(704)) - ************************************************************** 
2019-09-24 17:08:20,235 INFO  ratis.MiniRaftCluster (MiniRaftCluster.java:shutdown(705)) - printing ALL groups
  s0:  RUNNING    LEADER s0@group-A0E7B1E4D424:t2, leader=s0, voted=s0, raftlog=s0@group-A0E7B1E4D424-SegmentedRaftLog:OPENED:c2,f2,i2, conf=1: [s0:, s1:, s2:], old=null RUNNING
  s1:  RUNNING  FOLLOWER s1@group-A0E7B1E4D424:t2, leader=s0, voted=s0, raftlog=s1@group-A0E7B1E4D424-SegmentedRaftLog:OPENED:c1,f2,i2, conf=1: [s0:, s1:, s2:], old=null RUNNING
  s2:  RUNNING  FOLLOWER s2@group-A0E7B1E4D424:t2, leader=s0, voted=s0, raftlog=s2@group-A0E7B1E4D424-SegmentedRaftLog:OPENED:c1,f2,i2, conf=1: [s0:, s1:, s2:], old=null RUNNING
2019-09-24 17:08:20,238 INFO  impl.RaftServerProxy (RaftServerProxy.java:lambda$close$4(314)) - s0: close
2019-09-24 17:08:20,238 INFO  impl.RaftServerProxy (RaftServerProxy.java:lambda$close$4(314)) - s1: close
2019-09-24 17:08:20,239 INFO  impl.RaftServerImpl (RaftServerImpl.java:lambda$shutdown$3(247)) - s0@group-A0E7B1E4D424: shutdown
2019-09-24 17:08:20,239 INFO  impl.RaftServerProxy (RaftServerProxy.java:lambda$close$4(314)) - s2: close
2019-09-24 17:08:20,239 INFO  util.JmxRegister (JmxRegister.java:unregister(73)) - Successfully un-registered JMX Bean with object name Ratis:service=RaftServer,group=group-A0E7B1E4D424,id=s0
2019-09-24 17:08:20,239 INFO  impl.RaftServerImpl (RaftServerImpl.java:lambda$shutdown$3(247)) - s1@group-A0E7B1E4D424: shutdown
2019-09-24 17:08:20,240 INFO  impl.RoleInfo (RoleInfo.java:shutdownLeaderState(104)) - s0: shutdown LeaderState
2019-09-24 17:08:20,240 INFO  impl.RaftServerImpl (RaftServerImpl.java:lambda$shutdown$3(247)) - s2@group-A0E7B1E4D424: shutdown
2019-09-24 17:08:20,241 INFO  impl.PendingRequests (PendingRequests.java:sendNotLeaderResponses(202)) - s0@group-A0E7B1E4D424-PendingRequests: sendNotLeaderResponses
2019-09-24 17:08:20,241 INFO  impl.LogAppender (LogAppender.java:run(78)) - s0@group-A0E7B1E4D424->s2-LogAppender-AppenderDaemon was interrupted: java.lang.InterruptedException
2019-09-24 17:08:20,241 INFO  impl.LogAppender (LogAppender.java:run(78)) - s0@group-A0E7B1E4D424->s1-LogAppender-AppenderDaemon was interrupted: java.lang.InterruptedException
2019-09-24 17:08:20,240 INFO  util.JmxRegister (JmxRegister.java:unregister(73)) - Successfully un-registered JMX Bean with object name Ratis:service=RaftServer,group=group-A0E7B1E4D424,id=s1
2019-09-24 17:08:20,242 INFO  impl.StateMachineUpdater (StateMachineUpdater.java:stopAndJoin(136)) - s0@group-A0E7B1E4D424-StateMachineUpdater: set stopIndex = 2
2019-09-24 17:08:20,244 INFO  impl.RaftServerImpl (ServerState.java:close(386)) - s0@group-A0E7B1E4D424: closes. applyIndex: 2
2019-09-24 17:08:20,241 INFO  util.JmxRegister (JmxRegister.java:unregister(73)) - Successfully un-registered JMX Bean with object name Ratis:service=RaftServer,group=group-A0E7B1E4D424,id=s2
2019-09-24 17:08:20,244 INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:run(313)) - s0@group-A0E7B1E4D424-SegmentedRaftLogWorker was interrupted, exiting. There are 0 tasks remaining in the queue.
2019-09-24 17:08:20,243 INFO  impl.RoleInfo (RoleInfo.java:shutdownFollowerState(121)) - s1: shutdown FollowerState
2019-09-24 17:08:20,244 INFO  impl.RoleInfo (RoleInfo.java:shutdownFollowerState(121)) - s2: shutdown FollowerState
2019-09-24 17:08:20,245 INFO  impl.FollowerState (FollowerState.java:run(117)) - s1@group-A0E7B1E4D424-FollowerState was interrupted: java.lang.InterruptedException: sleep interrupted
2019-09-24 17:08:20,245 INFO  impl.StateMachineUpdater (StateMachineUpdater.java:stopAndJoin(136)) - s1@group-A0E7B1E4D424-StateMachineUpdater: set stopIndex = 1
2019-09-24 17:08:20,245 INFO  impl.FollowerState (FollowerState.java:run(117)) - s2@group-A0E7B1E4D424-FollowerState was interrupted: java.lang.InterruptedException: sleep interrupted
2019-09-24 17:08:20,245 INFO  impl.StateMachineUpdater (StateMachineUpdater.java:stopAndJoin(136)) - s2@group-A0E7B1E4D424-StateMachineUpdater: set stopIndex = 1
2019-09-24 17:08:20,246 INFO  impl.RaftServerImpl (ServerState.java:close(386)) - s1@group-A0E7B1E4D424: closes. applyIndex: 1
2019-09-24 17:08:20,247 INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:close(228)) - s0@group-A0E7B1E4D424-SegmentedRaftLogWorker close()
2019-09-24 17:08:20,247 INFO  impl.RaftServerImpl (ServerState.java:close(386)) - s2@group-A0E7B1E4D424: closes. applyIndex: 1
2019-09-24 17:08:20,248 INFO  simulation.RequestHandler (RequestHandler.java:run(126)) - s0.clientHandler1 is interrupted by java.io.InterruptedIOException: 
2019-09-24 17:08:20,248 INFO  simulation.RequestHandler (RequestHandler.java:run(126)) - s0.clientHandler0 is interrupted by java.io.InterruptedIOException: 
2019-09-24 17:08:20,247 INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:run(313)) - s1@group-A0E7B1E4D424-SegmentedRaftLogWorker was interrupted, exiting. There are 0 tasks remaining in the queue.
2019-09-24 17:08:20,248 INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:run(313)) - s2@group-A0E7B1E4D424-SegmentedRaftLogWorker was interrupted, exiting. There are 0 tasks remaining in the queue.
2019-09-24 17:08:20,248 INFO  simulation.RequestHandler (RequestHandler.java:run(126)) - s0.clientHandler2 is interrupted by java.io.InterruptedIOException: 
2019-09-24 17:08:20,250 INFO  simulation.RequestHandler (RequestHandler.java:run(126)) - s0.serverHandler0 is interrupted by java.io.InterruptedIOException: 
2019-09-24 17:08:20,250 INFO  simulation.RequestHandler (RequestHandler.java:run(126)) - s0.serverHandler1 is interrupted by java.io.InterruptedIOException: 
2019-09-24 17:08:20,250 INFO  simulation.RequestHandler (RequestHandler.java:run(126)) - s0.serverHandler2 is interrupted by java.io.InterruptedIOException: 
2019-09-24 17:08:20,251 INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:close(228)) - s1@group-A0E7B1E4D424-SegmentedRaftLogWorker close()
2019-09-24 17:08:20,252 INFO  simulation.RequestHandler (RequestHandler.java:run(126)) - s1.clientHandler1 is interrupted by java.io.InterruptedIOException: 
2019-09-24 17:08:20,252 INFO  simulation.RequestHandler (RequestHandler.java:run(126)) - s1.clientHandler0 is interrupted by java.io.InterruptedIOException: 
2019-09-24 17:08:20,252 INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:close(228)) - s2@group-A0E7B1E4D424-SegmentedRaftLogWorker close()
2019-09-24 17:08:20,252 INFO  simulation.RequestHandler (RequestHandler.java:run(126)) - s1.clientHandler2 is interrupted by java.io.InterruptedIOException: 
2019-09-24 17:08:20,253 INFO  simulation.RequestHandler (RequestHandler.java:run(126)) - s2.clientHandler1 is interrupted by java.io.InterruptedIOException: 
2019-09-24 17:08:20,253 INFO  simulation.RequestHandler (RequestHandler.java:run(126)) - s2.clientHandler0 is interrupted by java.io.InterruptedIOException: 
2019-09-24 17:08:20,253 INFO  simulation.RequestHandler (RequestHandler.java:run(126)) - s1.serverHandler2 is interrupted by java.io.InterruptedIOException: 
2019-09-24 17:08:20,253 INFO  simulation.RequestHandler (RequestHandler.java:run(126)) - s1.serverHandler1 is interrupted by java.io.InterruptedIOException: 
2019-09-24 17:08:20,253 INFO  simulation.RequestHandler (RequestHandler.java:run(126)) - s2.clientHandler2 is interrupted by java.io.InterruptedIOException: 
2019-09-24 17:08:20,253 INFO  simulation.RequestHandler (RequestHandler.java:run(126)) - s1.serverHandler0 is interrupted by java.io.InterruptedIOException: 
2019-09-24 17:08:20,253 INFO  simulation.RequestHandler (RequestHandler.java:run(126)) - s2.serverHandler1 is interrupted by java.io.InterruptedIOException: 
2019-09-24 17:08:20,253 INFO  simulation.RequestHandler (RequestHandler.java:run(126)) - s2.serverHandler0 is interrupted by java.io.InterruptedIOException: 
2019-09-24 17:08:20,254 INFO  simulation.RequestHandler (RequestHandler.java:run(126)) - s2.serverHandler2 is interrupted by java.io.InterruptedIOException: 
2019-09-24 17:08:20,255 INFO  ratis.MiniRaftCluster (MiniRaftCluster.java:shutdown(722)) - MiniRaftClusterWithSimulatedRpc shutdown completed
2019-09-24 17:08:20,258 INFO  util.LogUtils (LogUtils.java:setLogLevel(41)) - Set org.apache.ratis.conf.ConfUtils log level to WARN
2019-09-24 17:08:20,258 INFO  util.LogUtils (LogUtils.java:setLogLevel(41)) - Set org.apache.ratis.util.FileUtils log level to TRACE
2019-09-24 17:08:20,258 INFO  util.LogUtils (LogUtils.java:setLogLevel(41)) - Set org.apache.ratis.server.impl.RaftServerProxy log level to DEBUG
2019-09-24 17:08:20,259 INFO  util.LogUtils (LogUtils.java:setLogLevel(41)) - Set org.apache.ratis.server.impl.RaftServerImpl log level to DEBUG
2019-09-24 17:08:20,259 INFO  util.LogUtils (LogUtils.java:setLogLevel(41)) - Set org.apache.ratis.client.RaftClient log level to DEBUG
| null | init | 20 |
2019-09-24 17:08:20,260 INFO  simulation.MiniRaftClusterWithSimulatedRpc (ConfUtils.java:logGet(43)) - org.apache.ratis.server.simulation.SimulatedRequestReply.simulateLatencyMs = 0 (custom)
2019-09-24 17:08:20,261 INFO  ratis.MiniRaftCluster (MiniRaftCluster.java:<init>(253)) - new MiniRaftClusterWithSimulatedRpc with group-E1C4ACACBF57:[]
2019-09-24 17:08:20,261 INFO  impl.GroupManagementBaseTest (GroupManagementBaseTest.java:runMultiGroupTest(140)) - 

runMultiGroupTest with MiniRaftClusterWithSimulatedRpc[3, 4, 5]chosen=0: printing ALL groups
2019-09-24 17:08:20,262 INFO  impl.GroupManagementBaseTest (GroupManagementBaseTest.java:runMultiGroupTest(147)) - ids: [s0, s1, s2, s3, s4]
2019-09-24 17:08:20,263 INFO  ratis.MiniRaftCluster (MiniRaftCluster.java:newRaftServer(330)) - newRaftServer: s0, group-E1C4ACACBF57:[], format? true
2019-09-24 17:08:20,263 TRACE util.FileUtils (FileUtils.java:deleteFully(88)) - deleteFully target/test/data/312143de/MiniRaftClusterWithSimulatedRpc2356e7fa/s0
2019-09-24 17:08:20,264 TRACE util.FileUtils (FileUtils.java:deleteFully(104)) - deleteFully: target/test/data/312143de/MiniRaftClusterWithSimulatedRpc2356e7fa/s0 does not exist.
2019-09-24 17:08:20,264 INFO  ratis.MiniRaftCluster (MiniRaftCluster.java:newRaftServer(335)) - Formatted directory target/test/data/312143de/MiniRaftClusterWithSimulatedRpc2356e7fa/s0
2019-09-24 17:08:20,264 DEBUG impl.RaftServerProxy (ServerImplUtils.java:newRaftServer(39)) - newRaftServer: s0, group-E1C4ACACBF57:[]
2019-09-24 17:08:20,265 INFO  impl.RaftServerProxy (ConfUtils.java:logGet(43)) - raft.rpc.type = org.apache.ratis.server.simulation.SimulatedRpc (custom)
2019-09-24 17:08:20,266 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.storage.dir = [/workdir/ratis-test/target/test/data/312143de/MiniRaftClusterWithSimulatedRpc2356e7fa/s0] (custom)
2019-09-24 17:08:20,266 INFO  impl.RaftServerProxy (RaftServerProxy.java:addNew(89)) - s0: addNew group-E1C4ACACBF57:[] returns group-E1C4ACACBF57:java.util.concurrent.CompletableFuture@3eab8245[Not completed]
2019-09-24 17:08:20,266 INFO  impl.RaftServerImpl (RaftServerImpl.java:<init>(95)) - s0: new RaftServerImpl for group-E1C4ACACBF57:[] with BaseStateMachine:uninitialized
2019-09-24 17:08:20,266 INFO  ratis.MiniRaftCluster (MiniRaftCluster.java:newRaftServer(330)) - newRaftServer: s1, group-E1C4ACACBF57:[], format? true
2019-09-24 17:08:20,267 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.rpc.timeout.min = 150ms (default)
2019-09-24 17:08:20,267 TRACE util.FileUtils (FileUtils.java:deleteFully(88)) - deleteFully target/test/data/312143de/MiniRaftClusterWithSimulatedRpc2356e7fa/s1
2019-09-24 17:08:20,267 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.rpc.timeout.max = 300ms (default)
2019-09-24 17:08:20,268 TRACE util.FileUtils (FileUtils.java:deleteFully(104)) - deleteFully: target/test/data/312143de/MiniRaftClusterWithSimulatedRpc2356e7fa/s1 does not exist.
2019-09-24 17:08:20,268 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.rpcslowness.timeout = 60s (default)
2019-09-24 17:08:20,268 INFO  ratis.MiniRaftCluster (MiniRaftCluster.java:newRaftServer(335)) - Formatted directory target/test/data/312143de/MiniRaftClusterWithSimulatedRpc2356e7fa/s1
2019-09-24 17:08:20,268 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.sleep.deviation.threshold = 300 (default)
2019-09-24 17:08:20,268 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.log.appender.install.snapshot.enabled = true (default)
2019-09-24 17:08:20,268 DEBUG impl.RaftServerProxy (ServerImplUtils.java:newRaftServer(39)) - newRaftServer: s1, group-E1C4ACACBF57:[]
2019-09-24 17:08:20,269 INFO  impl.RaftServerImpl (ServerState.java:<init>(103)) - s0@group-E1C4ACACBF57: ConfigurationManager, init=-1: [], old=null, confs=<EMPTY_MAP>
2019-09-24 17:08:20,269 INFO  impl.RaftServerProxy (ConfUtils.java:logGet(43)) - raft.rpc.type = org.apache.ratis.server.simulation.SimulatedRpc (custom)
2019-09-24 17:08:20,269 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.storage.dir = [/workdir/ratis-test/target/test/data/312143de/MiniRaftClusterWithSimulatedRpc2356e7fa/s0] (custom)
2019-09-24 17:08:20,269 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.log.corruption.policy = EXCEPTION (default)
2019-09-24 17:08:20,270 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.storage.dir = [/workdir/ratis-test/target/test/data/312143de/MiniRaftClusterWithSimulatedRpc2356e7fa/s1] (custom)
2019-09-24 17:08:20,270 INFO  storage.RaftStorageDirectory (RaftStorageDirectory.java:analyzeStorage(246)) - The storage directory /workdir/ratis-test/target/test/data/312143de/MiniRaftClusterWithSimulatedRpc2356e7fa/s0/5e7d545c-a639-49fb-96d6-e1c4acacbf57 does not exist. Creating ...
2019-09-24 17:08:20,270 INFO  impl.RaftServerProxy (RaftServerProxy.java:addNew(89)) - s1: addNew group-E1C4ACACBF57:[] returns group-E1C4ACACBF57:java.util.concurrent.CompletableFuture@71125986[Not completed]
2019-09-24 17:08:20,270 INFO  impl.RaftServerImpl (RaftServerImpl.java:<init>(95)) - s1: new RaftServerImpl for group-E1C4ACACBF57:[] with BaseStateMachine:uninitialized
2019-09-24 17:08:20,270 INFO  ratis.MiniRaftCluster (MiniRaftCluster.java:newRaftServer(330)) - newRaftServer: s2, group-E1C4ACACBF57:[], format? true
2019-09-24 17:08:20,271 TRACE util.FileUtils (FileUtils.java:deleteFully(88)) - deleteFully target/test/data/312143de/MiniRaftClusterWithSimulatedRpc2356e7fa/s2
2019-09-24 17:08:20,271 TRACE util.FileUtils (LogUtils.java:runAndLog(61)) - Successfully ran Files.createDirectories /workdir/ratis-test/target/test/data/312143de/MiniRaftClusterWithSimulatedRpc2356e7fa/s0/5e7d545c-a639-49fb-96d6-e1c4acacbf57
2019-09-24 17:08:20,271 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.rpc.timeout.min = 150ms (default)
2019-09-24 17:08:20,271 TRACE util.FileUtils (FileUtils.java:deleteFully(104)) - deleteFully: target/test/data/312143de/MiniRaftClusterWithSimulatedRpc2356e7fa/s2 does not exist.
2019-09-24 17:08:20,272 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.rpc.timeout.max = 300ms (default)
2019-09-24 17:08:20,272 INFO  ratis.MiniRaftCluster (MiniRaftCluster.java:newRaftServer(335)) - Formatted directory target/test/data/312143de/MiniRaftClusterWithSimulatedRpc2356e7fa/s2
2019-09-24 17:08:20,272 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.rpcslowness.timeout = 60s (default)
2019-09-24 17:08:20,272 DEBUG impl.RaftServerProxy (ServerImplUtils.java:newRaftServer(39)) - newRaftServer: s2, group-E1C4ACACBF57:[]
2019-09-24 17:08:20,272 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.sleep.deviation.threshold = 300 (default)
2019-09-24 17:08:20,273 INFO  impl.RaftServerProxy (ConfUtils.java:logGet(43)) - raft.rpc.type = org.apache.ratis.server.simulation.SimulatedRpc (custom)
2019-09-24 17:08:20,273 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.log.appender.install.snapshot.enabled = true (default)
2019-09-24 17:08:20,273 INFO  impl.RaftServerImpl (ServerState.java:<init>(103)) - s1@group-E1C4ACACBF57: ConfigurationManager, init=-1: [], old=null, confs=<EMPTY_MAP>
2019-09-24 17:08:20,273 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.storage.dir = [/workdir/ratis-test/target/test/data/312143de/MiniRaftClusterWithSimulatedRpc2356e7fa/s2] (custom)
2019-09-24 17:08:20,273 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.storage.dir = [/workdir/ratis-test/target/test/data/312143de/MiniRaftClusterWithSimulatedRpc2356e7fa/s1] (custom)
2019-09-24 17:08:20,274 INFO  impl.RaftServerProxy (RaftServerProxy.java:addNew(89)) - s2: addNew group-E1C4ACACBF57:[] returns group-E1C4ACACBF57:java.util.concurrent.CompletableFuture@6b0fe898[Not completed]
2019-09-24 17:08:20,274 INFO  impl.RaftServerImpl (RaftServerImpl.java:<init>(95)) - s2: new RaftServerImpl for group-E1C4ACACBF57:[] with BaseStateMachine:uninitialized
2019-09-24 17:08:20,274 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.log.corruption.policy = EXCEPTION (default)
2019-09-24 17:08:20,275 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.rpc.timeout.min = 150ms (default)
2019-09-24 17:08:20,274 INFO  ratis.MiniRaftCluster (MiniRaftCluster.java:newRaftServer(330)) - newRaftServer: s3, group-E1C4ACACBF57:[], format? true
2019-09-24 17:08:20,275 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.rpc.timeout.max = 300ms (default)
2019-09-24 17:08:20,275 INFO  storage.RaftStorageDirectory (RaftStorageDirectory.java:analyzeStorage(246)) - The storage directory /workdir/ratis-test/target/test/data/312143de/MiniRaftClusterWithSimulatedRpc2356e7fa/s1/5e7d545c-a639-49fb-96d6-e1c4acacbf57 does not exist. Creating ...
2019-09-24 17:08:20,275 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.rpcslowness.timeout = 60s (default)
2019-09-24 17:08:20,275 TRACE util.FileUtils (FileUtils.java:deleteFully(88)) - deleteFully target/test/data/312143de/MiniRaftClusterWithSimulatedRpc2356e7fa/s3
2019-09-24 17:08:20,275 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.sleep.deviation.threshold = 300 (default)
2019-09-24 17:08:20,276 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.log.appender.install.snapshot.enabled = true (default)
2019-09-24 17:08:20,276 TRACE util.FileUtils (FileUtils.java:deleteFully(104)) - deleteFully: target/test/data/312143de/MiniRaftClusterWithSimulatedRpc2356e7fa/s3 does not exist.
2019-09-24 17:08:20,276 TRACE util.FileUtils (LogUtils.java:runAndLog(61)) - Successfully ran Files.createDirectories /workdir/ratis-test/target/test/data/312143de/MiniRaftClusterWithSimulatedRpc2356e7fa/s1/5e7d545c-a639-49fb-96d6-e1c4acacbf57
2019-09-24 17:08:20,276 INFO  ratis.MiniRaftCluster (MiniRaftCluster.java:newRaftServer(335)) - Formatted directory target/test/data/312143de/MiniRaftClusterWithSimulatedRpc2356e7fa/s3
2019-09-24 17:08:20,276 INFO  impl.RaftServerImpl (ServerState.java:<init>(103)) - s2@group-E1C4ACACBF57: ConfigurationManager, init=-1: [], old=null, confs=<EMPTY_MAP>
2019-09-24 17:08:20,277 DEBUG impl.RaftServerProxy (ServerImplUtils.java:newRaftServer(39)) - newRaftServer: s3, group-E1C4ACACBF57:[]
2019-09-24 17:08:20,277 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.storage.dir = [/workdir/ratis-test/target/test/data/312143de/MiniRaftClusterWithSimulatedRpc2356e7fa/s2] (custom)
2019-09-24 17:08:20,277 INFO  impl.RaftServerProxy (ConfUtils.java:logGet(43)) - raft.rpc.type = org.apache.ratis.server.simulation.SimulatedRpc (custom)
2019-09-24 17:08:20,277 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.log.corruption.policy = EXCEPTION (default)
2019-09-24 17:08:20,278 INFO  storage.RaftStorageDirectory (RaftStorageDirectory.java:analyzeStorage(246)) - The storage directory /workdir/ratis-test/target/test/data/312143de/MiniRaftClusterWithSimulatedRpc2356e7fa/s2/5e7d545c-a639-49fb-96d6-e1c4acacbf57 does not exist. Creating ...
2019-09-24 17:08:20,278 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.storage.dir = [/workdir/ratis-test/target/test/data/312143de/MiniRaftClusterWithSimulatedRpc2356e7fa/s3] (custom)
2019-09-24 17:08:20,278 TRACE util.FileUtils (LogUtils.java:runAndLog(61)) - Successfully ran Files.createDirectories /workdir/ratis-test/target/test/data/312143de/MiniRaftClusterWithSimulatedRpc2356e7fa/s2/5e7d545c-a639-49fb-96d6-e1c4acacbf57
2019-09-24 17:08:20,278 INFO  impl.RaftServerProxy (RaftServerProxy.java:addNew(89)) - s3: addNew group-E1C4ACACBF57:[] returns group-E1C4ACACBF57:java.util.concurrent.CompletableFuture@701334b2[Not completed]
2019-09-24 17:08:20,278 INFO  impl.RaftServerImpl (RaftServerImpl.java:<init>(95)) - s3: new RaftServerImpl for group-E1C4ACACBF57:[] with BaseStateMachine:uninitialized
2019-09-24 17:08:20,279 INFO  ratis.MiniRaftCluster (MiniRaftCluster.java:newRaftServer(330)) - newRaftServer: s4, group-E1C4ACACBF57:[], format? true
2019-09-24 17:08:20,279 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.rpc.timeout.min = 150ms (default)
2019-09-24 17:08:20,279 TRACE util.FileUtils (FileUtils.java:deleteFully(88)) - deleteFully target/test/data/312143de/MiniRaftClusterWithSimulatedRpc2356e7fa/s4
2019-09-24 17:08:20,279 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.rpc.timeout.max = 300ms (default)
2019-09-24 17:08:20,280 TRACE util.FileUtils (FileUtils.java:deleteFully(104)) - deleteFully: target/test/data/312143de/MiniRaftClusterWithSimulatedRpc2356e7fa/s4 does not exist.
2019-09-24 17:08:20,280 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.rpcslowness.timeout = 60s (default)
2019-09-24 17:08:20,280 INFO  ratis.MiniRaftCluster (MiniRaftCluster.java:newRaftServer(335)) - Formatted directory target/test/data/312143de/MiniRaftClusterWithSimulatedRpc2356e7fa/s4
2019-09-24 17:08:20,280 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.sleep.deviation.threshold = 300 (default)
2019-09-24 17:08:20,280 DEBUG impl.RaftServerProxy (ServerImplUtils.java:newRaftServer(39)) - newRaftServer: s4, group-E1C4ACACBF57:[]
2019-09-24 17:08:20,280 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.log.appender.install.snapshot.enabled = true (default)
2019-09-24 17:08:20,281 INFO  impl.RaftServerProxy (ConfUtils.java:logGet(43)) - raft.rpc.type = org.apache.ratis.server.simulation.SimulatedRpc (custom)
2019-09-24 17:08:20,281 INFO  impl.RaftServerImpl (ServerState.java:<init>(103)) - s3@group-E1C4ACACBF57: ConfigurationManager, init=-1: [], old=null, confs=<EMPTY_MAP>
2019-09-24 17:08:20,281 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.storage.dir = [/workdir/ratis-test/target/test/data/312143de/MiniRaftClusterWithSimulatedRpc2356e7fa/s3] (custom)
2019-09-24 17:08:20,281 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.storage.dir = [/workdir/ratis-test/target/test/data/312143de/MiniRaftClusterWithSimulatedRpc2356e7fa/s4] (custom)
2019-09-24 17:08:20,281 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.log.corruption.policy = EXCEPTION (default)
2019-09-24 17:08:20,282 INFO  storage.RaftStorageDirectory (RaftStorageDirectory.java:analyzeStorage(246)) - The storage directory /workdir/ratis-test/target/test/data/312143de/MiniRaftClusterWithSimulatedRpc2356e7fa/s3/5e7d545c-a639-49fb-96d6-e1c4acacbf57 does not exist. Creating ...
2019-09-24 17:08:20,282 INFO  impl.RaftServerProxy (RaftServerProxy.java:addNew(89)) - s4: addNew group-E1C4ACACBF57:[] returns group-E1C4ACACBF57:java.util.concurrent.CompletableFuture@2e86a4f8[Not completed]
2019-09-24 17:08:20,282 INFO  impl.RaftServerImpl (RaftServerImpl.java:<init>(95)) - s4: new RaftServerImpl for group-E1C4ACACBF57:[] with BaseStateMachine:uninitialized
2019-09-24 17:08:20,282 INFO  impl.GroupManagementBaseTest (GroupManagementBaseTest.java:runMultiGroupTest(149)) - putNewServer: printing ALL groups
  s3:      NEW group-E1C4ACACBF57:java.util.concurrent.CompletableFuture@701334b2[Not completed]
  s4:      NEW group-E1C4ACACBF57:java.util.concurrent.CompletableFuture@2e86a4f8[Not completed]
  s0:      NEW group-E1C4ACACBF57:java.util.concurrent.CompletableFuture@3eab8245[Not completed]
  s1:      NEW group-E1C4ACACBF57:java.util.concurrent.CompletableFuture@71125986[Not completed]
  s2:      NEW group-E1C4ACACBF57:java.util.concurrent.CompletableFuture@6b0fe898[Not completed]
2019-09-24 17:08:20,283 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.rpc.timeout.min = 150ms (default)
2019-09-24 17:08:20,283 TRACE util.FileUtils (LogUtils.java:runAndLog(61)) - Successfully ran Files.createDirectories /workdir/ratis-test/target/test/data/312143de/MiniRaftClusterWithSimulatedRpc2356e7fa/s3/5e7d545c-a639-49fb-96d6-e1c4acacbf57
2019-09-24 17:08:20,283 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.rpc.timeout.max = 300ms (default)
2019-09-24 17:08:20,284 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.rpcslowness.timeout = 60s (default)
2019-09-24 17:08:20,284 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.sleep.deviation.threshold = 300 (default)
2019-09-24 17:08:20,284 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.log.appender.install.snapshot.enabled = true (default)
2019-09-24 17:08:20,284 INFO  impl.RaftServerImpl (ServerState.java:<init>(103)) - s4@group-E1C4ACACBF57: ConfigurationManager, init=-1: [], old=null, confs=<EMPTY_MAP>
2019-09-24 17:08:20,284 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.storage.dir = [/workdir/ratis-test/target/test/data/312143de/MiniRaftClusterWithSimulatedRpc2356e7fa/s4] (custom)
2019-09-24 17:08:20,285 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.log.corruption.policy = EXCEPTION (default)
2019-09-24 17:08:20,285 INFO  storage.RaftStorageDirectory (RaftStorageDirectory.java:analyzeStorage(246)) - The storage directory /workdir/ratis-test/target/test/data/312143de/MiniRaftClusterWithSimulatedRpc2356e7fa/s4/5e7d545c-a639-49fb-96d6-e1c4acacbf57 does not exist. Creating ...
2019-09-24 17:08:20,286 TRACE util.FileUtils (LogUtils.java:runAndLog(61)) - Successfully ran Files.createDirectories /workdir/ratis-test/target/test/data/312143de/MiniRaftClusterWithSimulatedRpc2356e7fa/s4/5e7d545c-a639-49fb-96d6-e1c4acacbf57
2019-09-24 17:08:20,306 INFO  storage.RaftStorageDirectory (RaftStorageDirectory.java:tryLock(328)) - Lock on /workdir/ratis-test/target/test/data/312143de/MiniRaftClusterWithSimulatedRpc2356e7fa/s4/5e7d545c-a639-49fb-96d6-e1c4acacbf57/in_use.lock acquired by nodename 9360@ratis-test-vphbd-3564017154
2019-09-24 17:08:20,306 INFO  storage.RaftStorageDirectory (RaftStorageDirectory.java:tryLock(328)) - Lock on /workdir/ratis-test/target/test/data/312143de/MiniRaftClusterWithSimulatedRpc2356e7fa/s2/5e7d545c-a639-49fb-96d6-e1c4acacbf57/in_use.lock acquired by nodename 9360@ratis-test-vphbd-3564017154
2019-09-24 17:08:20,306 INFO  storage.RaftStorageDirectory (RaftStorageDirectory.java:tryLock(328)) - Lock on /workdir/ratis-test/target/test/data/312143de/MiniRaftClusterWithSimulatedRpc2356e7fa/s0/5e7d545c-a639-49fb-96d6-e1c4acacbf57/in_use.lock acquired by nodename 9360@ratis-test-vphbd-3564017154
2019-09-24 17:08:20,306 INFO  storage.RaftStorageDirectory (RaftStorageDirectory.java:tryLock(328)) - Lock on /workdir/ratis-test/target/test/data/312143de/MiniRaftClusterWithSimulatedRpc2356e7fa/s3/5e7d545c-a639-49fb-96d6-e1c4acacbf57/in_use.lock acquired by nodename 9360@ratis-test-vphbd-3564017154
2019-09-24 17:08:20,306 INFO  storage.RaftStorageDirectory (RaftStorageDirectory.java:tryLock(328)) - Lock on /workdir/ratis-test/target/test/data/312143de/MiniRaftClusterWithSimulatedRpc2356e7fa/s1/5e7d545c-a639-49fb-96d6-e1c4acacbf57/in_use.lock acquired by nodename 9360@ratis-test-vphbd-3564017154
2019-09-24 17:08:20,307 TRACE util.FileUtils (LogUtils.java:runAndLog(61)) - Successfully ran Files.createDirectories /workdir/ratis-test/target/test/data/312143de/MiniRaftClusterWithSimulatedRpc2356e7fa/s0/5e7d545c-a639-49fb-96d6-e1c4acacbf57/current
2019-09-24 17:08:20,306 TRACE util.FileUtils (LogUtils.java:runAndLog(61)) - Successfully ran Files.createDirectories /workdir/ratis-test/target/test/data/312143de/MiniRaftClusterWithSimulatedRpc2356e7fa/s2/5e7d545c-a639-49fb-96d6-e1c4acacbf57/current
2019-09-24 17:08:20,306 TRACE util.FileUtils (LogUtils.java:runAndLog(61)) - Successfully ran Files.createDirectories /workdir/ratis-test/target/test/data/312143de/MiniRaftClusterWithSimulatedRpc2356e7fa/s4/5e7d545c-a639-49fb-96d6-e1c4acacbf57/current
2019-09-24 17:08:20,307 TRACE util.FileUtils (LogUtils.java:runAndLog(61)) - Successfully ran Files.createDirectories /workdir/ratis-test/target/test/data/312143de/MiniRaftClusterWithSimulatedRpc2356e7fa/s2/5e7d545c-a639-49fb-96d6-e1c4acacbf57/sm
2019-09-24 17:08:20,308 TRACE util.FileUtils (LogUtils.java:runAndLog(61)) - Successfully ran Files.createDirectories /workdir/ratis-test/target/test/data/312143de/MiniRaftClusterWithSimulatedRpc2356e7fa/s4/5e7d545c-a639-49fb-96d6-e1c4acacbf57/sm
2019-09-24 17:08:20,307 TRACE util.FileUtils (LogUtils.java:runAndLog(61)) - Successfully ran Files.createDirectories /workdir/ratis-test/target/test/data/312143de/MiniRaftClusterWithSimulatedRpc2356e7fa/s0/5e7d545c-a639-49fb-96d6-e1c4acacbf57/sm
2019-09-24 17:08:20,307 TRACE util.FileUtils (LogUtils.java:runAndLog(61)) - Successfully ran Files.createDirectories /workdir/ratis-test/target/test/data/312143de/MiniRaftClusterWithSimulatedRpc2356e7fa/s1/5e7d545c-a639-49fb-96d6-e1c4acacbf57/current
2019-09-24 17:08:20,307 TRACE util.FileUtils (LogUtils.java:runAndLog(61)) - Successfully ran Files.createDirectories /workdir/ratis-test/target/test/data/312143de/MiniRaftClusterWithSimulatedRpc2356e7fa/s3/5e7d545c-a639-49fb-96d6-e1c4acacbf57/current
2019-09-24 17:08:20,308 TRACE util.FileUtils (LogUtils.java:runAndLog(61)) - Successfully ran Files.createDirectories /workdir/ratis-test/target/test/data/312143de/MiniRaftClusterWithSimulatedRpc2356e7fa/s1/5e7d545c-a639-49fb-96d6-e1c4acacbf57/sm
2019-09-24 17:08:20,309 TRACE util.FileUtils (LogUtils.java:runAndLog(61)) - Successfully ran Files.createDirectories /workdir/ratis-test/target/test/data/312143de/MiniRaftClusterWithSimulatedRpc2356e7fa/s3/5e7d545c-a639-49fb-96d6-e1c4acacbf57/sm
2019-09-24 17:08:20,335 INFO  storage.RaftStorage (RaftStorage.java:format(84)) - Storage directory /workdir/ratis-test/target/test/data/312143de/MiniRaftClusterWithSimulatedRpc2356e7fa/s0/5e7d545c-a639-49fb-96d6-e1c4acacbf57 has been successfully formatted.
2019-09-24 17:08:20,335 INFO  storage.RaftStorage (RaftStorage.java:format(84)) - Storage directory /workdir/ratis-test/target/test/data/312143de/MiniRaftClusterWithSimulatedRpc2356e7fa/s3/5e7d545c-a639-49fb-96d6-e1c4acacbf57 has been successfully formatted.
2019-09-24 17:08:20,336 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.notification.no-leader.timeout = 60s (default)
2019-09-24 17:08:20,335 INFO  storage.RaftStorage (RaftStorage.java:format(84)) - Storage directory /workdir/ratis-test/target/test/data/312143de/MiniRaftClusterWithSimulatedRpc2356e7fa/s1/5e7d545c-a639-49fb-96d6-e1c4acacbf57 has been successfully formatted.
2019-09-24 17:08:20,335 INFO  storage.RaftStorage (RaftStorage.java:format(84)) - Storage directory /workdir/ratis-test/target/test/data/312143de/MiniRaftClusterWithSimulatedRpc2356e7fa/s4/5e7d545c-a639-49fb-96d6-e1c4acacbf57 has been successfully formatted.
2019-09-24 17:08:20,335 INFO  storage.RaftStorage (RaftStorage.java:format(84)) - Storage directory /workdir/ratis-test/target/test/data/312143de/MiniRaftClusterWithSimulatedRpc2356e7fa/s2/5e7d545c-a639-49fb-96d6-e1c4acacbf57 has been successfully formatted.
2019-09-24 17:08:20,337 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.notification.no-leader.timeout = 60s (default)
2019-09-24 17:08:20,336 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.notification.no-leader.timeout = 60s (default)
2019-09-24 17:08:20,336 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.log.use.memory = false (default)
2019-09-24 17:08:20,336 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.notification.no-leader.timeout = 60s (default)
2019-09-24 17:08:20,337 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.log.purge.gap = 1024 (default)
2019-09-24 17:08:20,337 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.log.use.memory = false (default)
2019-09-24 17:08:20,337 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.log.use.memory = false (default)
2019-09-24 17:08:20,337 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.notification.no-leader.timeout = 60s (default)
2019-09-24 17:08:20,338 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.log.purge.gap = 1024 (default)
2019-09-24 17:08:20,338 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.log.purge.gap = 1024 (default)
2019-09-24 17:08:20,338 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.log.appender.buffer.byte-limit = 4MB (=4194304) (default)
2019-09-24 17:08:20,338 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.log.use.memory = false (default)
2019-09-24 17:08:20,339 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.log.segment.size.max = 8MB (=8388608) (default)
2019-09-24 17:08:20,339 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.log.appender.buffer.byte-limit = 4MB (=4194304) (default)
2019-09-24 17:08:20,339 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.log.appender.buffer.byte-limit = 4MB (=4194304) (default)
2019-09-24 17:08:20,339 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.log.use.memory = false (default)
2019-09-24 17:08:20,340 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.log.segment.size.max = 8MB (=8388608) (default)
2019-09-24 17:08:20,340 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.log.segment.size.max = 8MB (=8388608) (default)
2019-09-24 17:08:20,340 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.log.segment.cache.num.max = 6 (default)
2019-09-24 17:08:20,340 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.log.purge.gap = 1024 (default)
2019-09-24 17:08:20,341 INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:<init>(172)) - new s0@group-E1C4ACACBF57-SegmentedRaftLogWorker for RaftStorage:Storage Directory /workdir/ratis-test/target/test/data/312143de/MiniRaftClusterWithSimulatedRpc2356e7fa/s0/5e7d545c-a639-49fb-96d6-e1c4acacbf57
2019-09-24 17:08:20,341 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.log.segment.cache.num.max = 6 (default)
2019-09-24 17:08:20,341 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.log.segment.cache.num.max = 6 (default)
2019-09-24 17:08:20,341 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.log.purge.gap = 1024 (default)
2019-09-24 17:08:20,342 INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:<init>(172)) - new s4@group-E1C4ACACBF57-SegmentedRaftLogWorker for RaftStorage:Storage Directory /workdir/ratis-test/target/test/data/312143de/MiniRaftClusterWithSimulatedRpc2356e7fa/s4/5e7d545c-a639-49fb-96d6-e1c4acacbf57
2019-09-24 17:08:20,342 INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:<init>(172)) - new s1@group-E1C4ACACBF57-SegmentedRaftLogWorker for RaftStorage:Storage Directory /workdir/ratis-test/target/test/data/312143de/MiniRaftClusterWithSimulatedRpc2356e7fa/s1/5e7d545c-a639-49fb-96d6-e1c4acacbf57
2019-09-24 17:08:20,342 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.log.queue.byte-limit = 64MB (=67108864) (default)
2019-09-24 17:08:20,342 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.log.appender.buffer.byte-limit = 4MB (=4194304) (default)
2019-09-24 17:08:20,343 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.log.queue.element-limit = 4096 (default)
2019-09-24 17:08:20,343 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.log.queue.byte-limit = 64MB (=67108864) (default)
2019-09-24 17:08:20,343 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.log.appender.buffer.byte-limit = 4MB (=4194304) (default)
2019-09-24 17:08:20,344 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.log.queue.element-limit = 4096 (default)
2019-09-24 17:08:20,344 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.log.segment.size.max = 8MB (=8388608) (default)
2019-09-24 17:08:20,344 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.log.segment.size.max = 8MB (=8388608) (default)
2019-09-24 17:08:20,345 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.log.preallocated.size = 4MB (=4194304) (default)
2019-09-24 17:08:20,345 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.log.segment.size.max = 8MB (=8388608) (default)
2019-09-24 17:08:20,344 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.log.segment.size.max = 8MB (=8388608) (default)
2019-09-24 17:08:20,346 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.log.preallocated.size = 4MB (=4194304) (default)
2019-09-24 17:08:20,345 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.log.write.buffer.size = 64KB (=65536) (default)
2019-09-24 17:08:20,345 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.log.segment.cache.num.max = 6 (default)
2019-09-24 17:08:20,346 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.log.force.sync.num = 128 (default)
2019-09-24 17:08:20,346 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.log.write.buffer.size = 64KB (=65536) (default)
2019-09-24 17:08:20,346 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.log.segment.cache.num.max = 6 (default)
2019-09-24 17:08:20,347 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.log.force.sync.num = 128 (default)
2019-09-24 17:08:20,347 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.log.statemachine.data.sync = true (default)
2019-09-24 17:08:20,347 INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:<init>(172)) - new s3@group-E1C4ACACBF57-SegmentedRaftLogWorker for RaftStorage:Storage Directory /workdir/ratis-test/target/test/data/312143de/MiniRaftClusterWithSimulatedRpc2356e7fa/s3/5e7d545c-a639-49fb-96d6-e1c4acacbf57
2019-09-24 17:08:20,348 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.log.statemachine.data.sync.timeout = 10s (default)
2019-09-24 17:08:20,348 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.log.statemachine.data.sync = true (default)
2019-09-24 17:08:20,347 INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:<init>(172)) - new s2@group-E1C4ACACBF57-SegmentedRaftLogWorker for RaftStorage:Storage Directory /workdir/ratis-test/target/test/data/312143de/MiniRaftClusterWithSimulatedRpc2356e7fa/s2/5e7d545c-a639-49fb-96d6-e1c4acacbf57
2019-09-24 17:08:20,349 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.log.statemachine.data.sync.timeout = 10s (default)
2019-09-24 17:08:20,348 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.log.statemachine.data.sync.timeout.retry = -1 (default)
2019-09-24 17:08:20,348 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.log.queue.byte-limit = 64MB (=67108864) (default)
2019-09-24 17:08:20,349 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.log.statemachine.data.caching.enabled = false (default)
2019-09-24 17:08:20,349 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.log.statemachine.data.sync.timeout.retry = -1 (default)
2019-09-24 17:08:20,349 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.log.queue.byte-limit = 64MB (=67108864) (default)
2019-09-24 17:08:20,350 INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:lambda$new$0(132)) - s0@group-E1C4ACACBF57-SegmentedRaftLogWorker: flushIndex: setUnconditionally 0 -> -1
2019-09-24 17:08:20,350 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.log.statemachine.data.caching.enabled = false (default)
2019-09-24 17:08:20,350 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.log.queue.element-limit = 4096 (default)
2019-09-24 17:08:20,351 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.snapshot.auto.trigger.enabled = false (default)
2019-09-24 17:08:20,350 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.log.queue.element-limit = 4096 (default)
2019-09-24 17:08:20,351 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.log.segment.size.max = 8MB (=8388608) (default)
2019-09-24 17:08:20,351 INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:lambda$new$0(132)) - s1@group-E1C4ACACBF57-SegmentedRaftLogWorker: flushIndex: setUnconditionally 0 -> -1
2019-09-24 17:08:20,351 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.snapshot.retention.file.num = -1 (default)
2019-09-24 17:08:20,352 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.log.preallocated.size = 4MB (=4194304) (default)
2019-09-24 17:08:20,352 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.log.segment.size.max = 8MB (=8388608) (default)
2019-09-24 17:08:20,352 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.log.write.buffer.size = 64KB (=65536) (default)
2019-09-24 17:08:20,352 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.retrycache.expirytime = 60s (default)
2019-09-24 17:08:20,352 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.snapshot.auto.trigger.enabled = false (default)
2019-09-24 17:08:20,353 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.log.force.sync.num = 128 (default)
2019-09-24 17:08:20,353 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.log.preallocated.size = 4MB (=4194304) (default)
2019-09-24 17:08:20,353 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.log.statemachine.data.sync = true (default)
2019-09-24 17:08:20,353 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.snapshot.retention.file.num = -1 (default)
2019-09-24 17:08:20,354 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.log.statemachine.data.sync.timeout = 10s (default)
2019-09-24 17:08:20,354 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.log.write.buffer.size = 64KB (=65536) (default)
2019-09-24 17:08:20,354 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.log.statemachine.data.sync.timeout.retry = -1 (default)
2019-09-24 17:08:20,354 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.retrycache.expirytime = 60s (default)
2019-09-24 17:08:20,355 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.log.force.sync.num = 128 (default)
2019-09-24 17:08:20,355 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.log.statemachine.data.caching.enabled = false (default)
2019-09-24 17:08:20,356 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.log.queue.byte-limit = 64MB (=67108864) (default)
2019-09-24 17:08:20,355 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.log.statemachine.data.sync = true (default)
2019-09-24 17:08:20,356 INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:lambda$new$0(132)) - s4@group-E1C4ACACBF57-SegmentedRaftLogWorker: flushIndex: setUnconditionally 0 -> -1
2019-09-24 17:08:20,356 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.log.queue.element-limit = 4096 (default)
2019-09-24 17:08:20,356 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.log.statemachine.data.sync.timeout = 10s (default)
2019-09-24 17:08:20,357 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.snapshot.auto.trigger.enabled = false (default)
2019-09-24 17:08:20,357 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.log.statemachine.data.sync.timeout.retry = -1 (default)
2019-09-24 17:08:20,357 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.log.segment.size.max = 8MB (=8388608) (default)
2019-09-24 17:08:20,358 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.log.statemachine.data.caching.enabled = false (default)
2019-09-24 17:08:20,357 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.snapshot.retention.file.num = -1 (default)
2019-09-24 17:08:20,358 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.log.preallocated.size = 4MB (=4194304) (default)
2019-09-24 17:08:20,358 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.retrycache.expirytime = 60s (default)
2019-09-24 17:08:20,358 INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:lambda$new$0(132)) - s2@group-E1C4ACACBF57-SegmentedRaftLogWorker: flushIndex: setUnconditionally 0 -> -1
2019-09-24 17:08:20,359 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.log.write.buffer.size = 64KB (=65536) (default)
2019-09-24 17:08:20,359 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.log.force.sync.num = 128 (default)
2019-09-24 17:08:20,359 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.snapshot.auto.trigger.enabled = false (default)
2019-09-24 17:08:20,360 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.log.statemachine.data.sync = true (default)
2019-09-24 17:08:20,360 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.snapshot.retention.file.num = -1 (default)
2019-09-24 17:08:20,360 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.log.statemachine.data.sync.timeout = 10s (default)
2019-09-24 17:08:20,360 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.retrycache.expirytime = 60s (default)
2019-09-24 17:08:20,361 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.log.statemachine.data.sync.timeout.retry = -1 (default)
2019-09-24 17:08:20,361 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.log.statemachine.data.caching.enabled = false (default)
2019-09-24 17:08:20,362 INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:lambda$new$0(132)) - s3@group-E1C4ACACBF57-SegmentedRaftLogWorker: flushIndex: setUnconditionally 0 -> -1
2019-09-24 17:08:20,362 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.snapshot.auto.trigger.enabled = false (default)
2019-09-24 17:08:20,363 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.snapshot.retention.file.num = -1 (default)
2019-09-24 17:08:20,363 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.retrycache.expirytime = 60s (default)
2019-09-24 17:08:21,283 INFO  ratis.MiniRaftCluster (MiniRaftCluster.java:start(287)) - .............................................................. 
2019-09-24 17:08:21,284 INFO  ratis.MiniRaftCluster (MiniRaftCluster.java:start(288)) - ... 
2019-09-24 17:08:21,284 INFO  ratis.MiniRaftCluster (MiniRaftCluster.java:start(289)) - ...     Starting MiniRaftClusterWithSimulatedRpc
2019-09-24 17:08:21,284 INFO  ratis.MiniRaftCluster (MiniRaftCluster.java:start(290)) - ... 
2019-09-24 17:08:21,284 INFO  ratis.MiniRaftCluster (MiniRaftCluster.java:start(291)) - .............................................................. 
2019-09-24 17:08:21,286 INFO  ratis.MiniRaftCluster (MiniRaftCluster.java:initServers(265)) - servers = {s3=s3:      NEW      null s3@group-E1C4ACACBF57:t0, leader=null, voted=null, raftlog=s3@group-E1C4ACACBF57-SegmentedRaftLog:OPENED:c-1,f-1,i0, conf=-1: [], old=null NEW, s4=s4:      NEW      null s4@group-E1C4ACACBF57:t0, leader=null, voted=null, raftlog=s4@group-E1C4ACACBF57-SegmentedRaftLog:OPENED:c-1,f-1,i0, conf=-1: [], old=null NEW, s0=s0:      NEW      null s0@group-E1C4ACACBF57:t0, leader=null, voted=null, raftlog=s0@group-E1C4ACACBF57-SegmentedRaftLog:OPENED:c-1,f-1,i0, conf=-1: [], old=null NEW, s1=s1:      NEW      null s1@group-E1C4ACACBF57:t0, leader=null, voted=null, raftlog=s1@group-E1C4ACACBF57-SegmentedRaftLog:OPENED:c-1,f-1,i0, conf=-1: [], old=null NEW, s2=s2:      NEW      null s2@group-E1C4ACACBF57:t0, leader=null, voted=null, raftlog=s2@group-E1C4ACACBF57-SegmentedRaftLog:OPENED:c-1,f-1,i0, conf=-1: [], old=null NEW}
2019-09-24 17:08:21,287 INFO  impl.RaftServerImpl (RaftServerImpl.java:start(184)) - s3@group-E1C4ACACBF57: start with initializing state, conf=-1: [], old=null
2019-09-24 17:08:21,287 INFO  impl.RaftServerImpl (RaftServerImpl.java:setRole(170)) - s3@group-E1C4ACACBF57: changes role from      null to FOLLOWER at term 0 for startInitializing
2019-09-24 17:08:21,288 INFO  util.JmxRegister (JmxRegister.java:tryRegister(44)) - Successfully registered JMX Bean with object name Ratis:service=RaftServer,group=group-E1C4ACACBF57,id=s3
2019-09-24 17:08:21,294 INFO  impl.RaftServerProxy (RaftServerProxy.java:lambda$start$3(299)) - s3: start RPC server
2019-09-24 17:08:21,295 INFO  impl.RaftServerImpl (RaftServerImpl.java:start(184)) - s4@group-E1C4ACACBF57: start with initializing state, conf=-1: [], old=null
2019-09-24 17:08:21,295 INFO  impl.RaftServerImpl (RaftServerImpl.java:setRole(170)) - s4@group-E1C4ACACBF57: changes role from      null to FOLLOWER at term 0 for startInitializing
2019-09-24 17:08:21,296 INFO  util.JmxRegister (JmxRegister.java:tryRegister(44)) - Successfully registered JMX Bean with object name Ratis:service=RaftServer,group=group-E1C4ACACBF57,id=s4
2019-09-24 17:08:21,299 INFO  impl.RaftServerProxy (RaftServerProxy.java:lambda$start$3(299)) - s4: start RPC server
2019-09-24 17:08:21,300 INFO  impl.RaftServerImpl (RaftServerImpl.java:start(184)) - s0@group-E1C4ACACBF57: start with initializing state, conf=-1: [], old=null
2019-09-24 17:08:21,301 INFO  impl.RaftServerImpl (RaftServerImpl.java:setRole(170)) - s0@group-E1C4ACACBF57: changes role from      null to FOLLOWER at term 0 for startInitializing
2019-09-24 17:08:21,301 INFO  util.JmxRegister (JmxRegister.java:tryRegister(44)) - Successfully registered JMX Bean with object name Ratis:service=RaftServer,group=group-E1C4ACACBF57,id=s0
2019-09-24 17:08:21,305 INFO  impl.RaftServerProxy (RaftServerProxy.java:lambda$start$3(299)) - s0: start RPC server
2019-09-24 17:08:21,306 INFO  impl.RaftServerImpl (RaftServerImpl.java:start(184)) - s1@group-E1C4ACACBF57: start with initializing state, conf=-1: [], old=null
2019-09-24 17:08:21,306 INFO  impl.RaftServerImpl (RaftServerImpl.java:setRole(170)) - s1@group-E1C4ACACBF57: changes role from      null to FOLLOWER at term 0 for startInitializing
2019-09-24 17:08:21,306 INFO  util.JmxRegister (JmxRegister.java:tryRegister(44)) - Successfully registered JMX Bean with object name Ratis:service=RaftServer,group=group-E1C4ACACBF57,id=s1
2019-09-24 17:08:21,310 INFO  impl.RaftServerProxy (RaftServerProxy.java:lambda$start$3(299)) - s1: start RPC server
2019-09-24 17:08:21,311 INFO  impl.RaftServerImpl (RaftServerImpl.java:start(184)) - s2@group-E1C4ACACBF57: start with initializing state, conf=-1: [], old=null
2019-09-24 17:08:21,311 INFO  impl.RaftServerImpl (RaftServerImpl.java:setRole(170)) - s2@group-E1C4ACACBF57: changes role from      null to FOLLOWER at term 0 for startInitializing
2019-09-24 17:08:21,311 INFO  util.JmxRegister (JmxRegister.java:tryRegister(44)) - Successfully registered JMX Bean with object name Ratis:service=RaftServer,group=group-E1C4ACACBF57,id=s2
2019-09-24 17:08:21,315 INFO  impl.RaftServerProxy (RaftServerProxy.java:lambda$start$3(299)) - s2: start RPC server
2019-09-24 17:08:22,317 INFO  impl.GroupManagementBaseTest (GroupManagementBaseTest.java:runMultiGroupTest(156)) - start: printing ALL groups
  s3:  RUNNING  FOLLOWER s3@group-E1C4ACACBF57:t0, leader=null, voted=null, raftlog=s3@group-E1C4ACACBF57-SegmentedRaftLog:OPENED:c-1,f-1,i0, conf=-1: [], old=null STARTING
  s4:  RUNNING  FOLLOWER s4@group-E1C4ACACBF57:t0, leader=null, voted=null, raftlog=s4@group-E1C4ACACBF57-SegmentedRaftLog:OPENED:c-1,f-1,i0, conf=-1: [], old=null STARTING
  s0:  RUNNING  FOLLOWER s0@group-E1C4ACACBF57:t0, leader=null, voted=null, raftlog=s0@group-E1C4ACACBF57-SegmentedRaftLog:OPENED:c-1,f-1,i0, conf=-1: [], old=null STARTING
  s1:  RUNNING  FOLLOWER s1@group-E1C4ACACBF57:t0, leader=null, voted=null, raftlog=s1@group-E1C4ACACBF57-SegmentedRaftLog:OPENED:c-1,f-1,i0, conf=-1: [], old=null STARTING
  s2:  RUNNING  FOLLOWER s2@group-E1C4ACACBF57:t0, leader=null, voted=null, raftlog=s2@group-E1C4ACACBF57-SegmentedRaftLog:OPENED:c-1,f-1,i0, conf=-1: [], old=null STARTING
2019-09-24 17:08:22,319 INFO  impl.GroupManagementBaseTest (GroupManagementBaseTest.java:runMultiGroupTest(169)) - 0) starting group-615D5B2B68DF:[s0:null, s1:null, s2:null]
2019-09-24 17:08:22,319 DEBUG client.RaftClient (ConfUtils.java:logGet(43)) - raft.rpc.type = org.apache.ratis.server.simulation.SimulatedRpc (custom)
2019-09-24 17:08:22,320 DEBUG client.RaftClient (RaftClientImpl.java:sendRequest(275)) - client-78E5AA554F89: send GroupManagementRequest:client-78E5AA554F89->s0@group-615D5B2B68DF, cid=3, seq=0, RW, null, Add:group-615D5B2B68DF:[s0:null, s1:null, s2:null]
2019-09-24 17:08:22,321 INFO  impl.RaftServerProxy (RaftServerProxy.java:addNew(89)) - s0: addNew group-615D5B2B68DF:[s0:null, s1:null, s2:null] returns group-615D5B2B68DF:java.util.concurrent.CompletableFuture@2d238515[Not completed]
2019-09-24 17:08:22,321 INFO  impl.RaftServerImpl (RaftServerImpl.java:<init>(95)) - s0: new RaftServerImpl for group-615D5B2B68DF:[s0:null, s1:null, s2:null] with BaseStateMachine:uninitialized
2019-09-24 17:08:22,322 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.rpc.timeout.min = 150ms (default)
2019-09-24 17:08:22,322 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.rpc.timeout.max = 300ms (default)
2019-09-24 17:08:22,323 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.rpcslowness.timeout = 60s (default)
2019-09-24 17:08:22,323 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.sleep.deviation.threshold = 300 (default)
2019-09-24 17:08:22,323 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.log.appender.install.snapshot.enabled = true (default)
2019-09-24 17:08:22,323 INFO  impl.RaftServerImpl (ServerState.java:<init>(103)) - s0@group-615D5B2B68DF: ConfigurationManager, init=-1: [s0:null, s1:null, s2:null], old=null, confs=<EMPTY_MAP>
2019-09-24 17:08:22,324 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.storage.dir = [/workdir/ratis-test/target/test/data/312143de/MiniRaftClusterWithSimulatedRpc2356e7fa/s0] (custom)
2019-09-24 17:08:22,324 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.log.corruption.policy = EXCEPTION (default)
2019-09-24 17:08:22,324 INFO  storage.RaftStorageDirectory (RaftStorageDirectory.java:analyzeStorage(246)) - The storage directory /workdir/ratis-test/target/test/data/312143de/MiniRaftClusterWithSimulatedRpc2356e7fa/s0/d3d5ee81-cb69-4038-8864-615d5b2b68df does not exist. Creating ...
2019-09-24 17:08:22,325 TRACE util.FileUtils (LogUtils.java:runAndLog(61)) - Successfully ran Files.createDirectories /workdir/ratis-test/target/test/data/312143de/MiniRaftClusterWithSimulatedRpc2356e7fa/s0/d3d5ee81-cb69-4038-8864-615d5b2b68df
2019-09-24 17:08:22,343 INFO  storage.RaftStorageDirectory (RaftStorageDirectory.java:tryLock(328)) - Lock on /workdir/ratis-test/target/test/data/312143de/MiniRaftClusterWithSimulatedRpc2356e7fa/s0/d3d5ee81-cb69-4038-8864-615d5b2b68df/in_use.lock acquired by nodename 9360@ratis-test-vphbd-3564017154
2019-09-24 17:08:22,343 TRACE util.FileUtils (LogUtils.java:runAndLog(61)) - Successfully ran Files.createDirectories /workdir/ratis-test/target/test/data/312143de/MiniRaftClusterWithSimulatedRpc2356e7fa/s0/d3d5ee81-cb69-4038-8864-615d5b2b68df/current
2019-09-24 17:08:22,344 TRACE util.FileUtils (LogUtils.java:runAndLog(61)) - Successfully ran Files.createDirectories /workdir/ratis-test/target/test/data/312143de/MiniRaftClusterWithSimulatedRpc2356e7fa/s0/d3d5ee81-cb69-4038-8864-615d5b2b68df/sm
2019-09-24 17:08:22,359 INFO  storage.RaftStorage (RaftStorage.java:format(84)) - Storage directory /workdir/ratis-test/target/test/data/312143de/MiniRaftClusterWithSimulatedRpc2356e7fa/s0/d3d5ee81-cb69-4038-8864-615d5b2b68df has been successfully formatted.
2019-09-24 17:08:22,359 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.notification.no-leader.timeout = 60s (default)
2019-09-24 17:08:22,359 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.log.use.memory = false (default)
2019-09-24 17:08:22,360 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.log.purge.gap = 1024 (default)
2019-09-24 17:08:22,360 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.log.appender.buffer.byte-limit = 4MB (=4194304) (default)
2019-09-24 17:08:22,360 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.log.segment.size.max = 8MB (=8388608) (default)
2019-09-24 17:08:22,360 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.log.segment.cache.num.max = 6 (default)
2019-09-24 17:08:22,360 INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:<init>(172)) - new s0@group-615D5B2B68DF-SegmentedRaftLogWorker for RaftStorage:Storage Directory /workdir/ratis-test/target/test/data/312143de/MiniRaftClusterWithSimulatedRpc2356e7fa/s0/d3d5ee81-cb69-4038-8864-615d5b2b68df
2019-09-24 17:08:22,361 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.log.queue.byte-limit = 64MB (=67108864) (default)
2019-09-24 17:08:22,361 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.log.queue.element-limit = 4096 (default)
2019-09-24 17:08:22,361 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.log.segment.size.max = 8MB (=8388608) (default)
2019-09-24 17:08:22,361 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.log.preallocated.size = 4MB (=4194304) (default)
2019-09-24 17:08:22,362 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.log.write.buffer.size = 64KB (=65536) (default)
2019-09-24 17:08:22,362 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.log.force.sync.num = 128 (default)
2019-09-24 17:08:22,362 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.log.statemachine.data.sync = true (default)
2019-09-24 17:08:22,362 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.log.statemachine.data.sync.timeout = 10s (default)
2019-09-24 17:08:22,362 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.log.statemachine.data.sync.timeout.retry = -1 (default)
2019-09-24 17:08:22,363 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.log.statemachine.data.caching.enabled = false (default)
2019-09-24 17:08:22,363 INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:lambda$new$0(132)) - s0@group-615D5B2B68DF-SegmentedRaftLogWorker: flushIndex: setUnconditionally 0 -> -1
2019-09-24 17:08:22,364 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.snapshot.auto.trigger.enabled = false (default)
2019-09-24 17:08:22,364 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.snapshot.retention.file.num = -1 (default)
2019-09-24 17:08:22,364 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.retrycache.expirytime = 60s (default)
2019-09-24 17:08:22,368 DEBUG impl.RaftServerProxy (RaftServerProxy.java:lambda$groupAddAsync$10(380)) - s0: newImpl =      null s0@group-615D5B2B68DF:t0, leader=null, voted=null, raftlog=s0@group-615D5B2B68DF-SegmentedRaftLog:OPENED:c-1,f-1,i0, conf=-1: [s0:null, s1:null, s2:null], old=null NEW
2019-09-24 17:08:22,368 INFO  impl.RaftServerImpl (RaftServerImpl.java:start(181)) - s0@group-615D5B2B68DF: start as a follower, conf=-1: [s0:null, s1:null, s2:null], old=null
2019-09-24 17:08:22,369 INFO  impl.RaftServerImpl (RaftServerImpl.java:setRole(170)) - s0@group-615D5B2B68DF: changes role from      null to FOLLOWER at term 0 for startAsFollower
2019-09-24 17:08:22,369 INFO  impl.RoleInfo (RoleInfo.java:updateAndGet(143)) - s0: start FollowerState
2019-09-24 17:08:22,369 INFO  util.JmxRegister (JmxRegister.java:tryRegister(44)) - Successfully registered JMX Bean with object name Ratis:service=RaftServer,group=group-615D5B2B68DF,id=s0
2019-09-24 17:08:22,374 DEBUG client.RaftClient (RaftClientImpl.java:sendRequest(285)) - client-78E5AA554F89: receive RaftClientReply:client-78E5AA554F89->s0@group-615D5B2B68DF, cid=3, SUCCESS, logIndex=0, commits[s0:c-1]
2019-09-24 17:08:22,374 DEBUG client.RaftClient (ConfUtils.java:logGet(43)) - raft.rpc.type = org.apache.ratis.server.simulation.SimulatedRpc (custom)
2019-09-24 17:08:22,375 DEBUG client.RaftClient (RaftClientImpl.java:sendRequest(275)) - client-DA8FD0E1494C: send GroupManagementRequest:client-DA8FD0E1494C->s1@group-615D5B2B68DF, cid=4, seq=0, RW, null, Add:group-615D5B2B68DF:[s0:null, s1:null, s2:null]
2019-09-24 17:08:22,376 INFO  impl.RaftServerProxy (RaftServerProxy.java:addNew(89)) - s1: addNew group-615D5B2B68DF:[s0:null, s1:null, s2:null] returns group-615D5B2B68DF:java.util.concurrent.CompletableFuture@4a3f738c[Not completed]
2019-09-24 17:08:22,376 INFO  impl.RaftServerImpl (RaftServerImpl.java:<init>(95)) - s1: new RaftServerImpl for group-615D5B2B68DF:[s0:null, s1:null, s2:null] with BaseStateMachine:uninitialized
2019-09-24 17:08:22,376 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.rpc.timeout.min = 150ms (default)
2019-09-24 17:08:22,376 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.rpc.timeout.max = 300ms (default)
2019-09-24 17:08:22,377 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.rpcslowness.timeout = 60s (default)
2019-09-24 17:08:22,377 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.sleep.deviation.threshold = 300 (default)
2019-09-24 17:08:22,377 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.log.appender.install.snapshot.enabled = true (default)
2019-09-24 17:08:22,377 INFO  impl.RaftServerImpl (ServerState.java:<init>(103)) - s1@group-615D5B2B68DF: ConfigurationManager, init=-1: [s0:null, s1:null, s2:null], old=null, confs=<EMPTY_MAP>
2019-09-24 17:08:22,378 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.storage.dir = [/workdir/ratis-test/target/test/data/312143de/MiniRaftClusterWithSimulatedRpc2356e7fa/s1] (custom)
2019-09-24 17:08:22,378 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.log.corruption.policy = EXCEPTION (default)
2019-09-24 17:08:22,378 INFO  storage.RaftStorageDirectory (RaftStorageDirectory.java:analyzeStorage(246)) - The storage directory /workdir/ratis-test/target/test/data/312143de/MiniRaftClusterWithSimulatedRpc2356e7fa/s1/d3d5ee81-cb69-4038-8864-615d5b2b68df does not exist. Creating ...
2019-09-24 17:08:22,379 TRACE util.FileUtils (LogUtils.java:runAndLog(61)) - Successfully ran Files.createDirectories /workdir/ratis-test/target/test/data/312143de/MiniRaftClusterWithSimulatedRpc2356e7fa/s1/d3d5ee81-cb69-4038-8864-615d5b2b68df
2019-09-24 17:08:22,400 INFO  storage.RaftStorageDirectory (RaftStorageDirectory.java:tryLock(328)) - Lock on /workdir/ratis-test/target/test/data/312143de/MiniRaftClusterWithSimulatedRpc2356e7fa/s1/d3d5ee81-cb69-4038-8864-615d5b2b68df/in_use.lock acquired by nodename 9360@ratis-test-vphbd-3564017154
2019-09-24 17:08:22,400 TRACE util.FileUtils (LogUtils.java:runAndLog(61)) - Successfully ran Files.createDirectories /workdir/ratis-test/target/test/data/312143de/MiniRaftClusterWithSimulatedRpc2356e7fa/s1/d3d5ee81-cb69-4038-8864-615d5b2b68df/current
2019-09-24 17:08:22,401 TRACE util.FileUtils (LogUtils.java:runAndLog(61)) - Successfully ran Files.createDirectories /workdir/ratis-test/target/test/data/312143de/MiniRaftClusterWithSimulatedRpc2356e7fa/s1/d3d5ee81-cb69-4038-8864-615d5b2b68df/sm
2019-09-24 17:08:22,416 INFO  storage.RaftStorage (RaftStorage.java:format(84)) - Storage directory /workdir/ratis-test/target/test/data/312143de/MiniRaftClusterWithSimulatedRpc2356e7fa/s1/d3d5ee81-cb69-4038-8864-615d5b2b68df has been successfully formatted.
2019-09-24 17:08:22,416 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.notification.no-leader.timeout = 60s (default)
2019-09-24 17:08:22,417 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.log.use.memory = false (default)
2019-09-24 17:08:22,417 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.log.purge.gap = 1024 (default)
2019-09-24 17:08:22,417 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.log.appender.buffer.byte-limit = 4MB (=4194304) (default)
2019-09-24 17:08:22,417 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.log.segment.size.max = 8MB (=8388608) (default)
2019-09-24 17:08:22,417 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.log.segment.cache.num.max = 6 (default)
2019-09-24 17:08:22,418 INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:<init>(172)) - new s1@group-615D5B2B68DF-SegmentedRaftLogWorker for RaftStorage:Storage Directory /workdir/ratis-test/target/test/data/312143de/MiniRaftClusterWithSimulatedRpc2356e7fa/s1/d3d5ee81-cb69-4038-8864-615d5b2b68df
2019-09-24 17:08:22,418 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.log.queue.byte-limit = 64MB (=67108864) (default)
2019-09-24 17:08:22,418 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.log.queue.element-limit = 4096 (default)
2019-09-24 17:08:22,418 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.log.segment.size.max = 8MB (=8388608) (default)
2019-09-24 17:08:22,418 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.log.preallocated.size = 4MB (=4194304) (default)
2019-09-24 17:08:22,418 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.log.write.buffer.size = 64KB (=65536) (default)
2019-09-24 17:08:22,419 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.log.force.sync.num = 128 (default)
2019-09-24 17:08:22,419 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.log.statemachine.data.sync = true (default)
2019-09-24 17:08:22,419 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.log.statemachine.data.sync.timeout = 10s (default)
2019-09-24 17:08:22,419 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.log.statemachine.data.sync.timeout.retry = -1 (default)
2019-09-24 17:08:22,419 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.log.statemachine.data.caching.enabled = false (default)
2019-09-24 17:08:22,420 INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:lambda$new$0(132)) - s1@group-615D5B2B68DF-SegmentedRaftLogWorker: flushIndex: setUnconditionally 0 -> -1
2019-09-24 17:08:22,420 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.snapshot.auto.trigger.enabled = false (default)
2019-09-24 17:08:22,420 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.snapshot.retention.file.num = -1 (default)
2019-09-24 17:08:22,421 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.retrycache.expirytime = 60s (default)
2019-09-24 17:08:22,424 DEBUG impl.RaftServerProxy (RaftServerProxy.java:lambda$groupAddAsync$10(380)) - s1: newImpl =      null s1@group-615D5B2B68DF:t0, leader=null, voted=null, raftlog=s1@group-615D5B2B68DF-SegmentedRaftLog:OPENED:c-1,f-1,i0, conf=-1: [s0:null, s1:null, s2:null], old=null NEW
2019-09-24 17:08:22,424 INFO  impl.RaftServerImpl (RaftServerImpl.java:start(181)) - s1@group-615D5B2B68DF: start as a follower, conf=-1: [s0:null, s1:null, s2:null], old=null
2019-09-24 17:08:22,424 INFO  impl.RaftServerImpl (RaftServerImpl.java:setRole(170)) - s1@group-615D5B2B68DF: changes role from      null to FOLLOWER at term 0 for startAsFollower
2019-09-24 17:08:22,424 INFO  impl.RoleInfo (RoleInfo.java:updateAndGet(143)) - s1: start FollowerState
2019-09-24 17:08:22,425 INFO  util.JmxRegister (JmxRegister.java:tryRegister(44)) - Successfully registered JMX Bean with object name Ratis:service=RaftServer,group=group-615D5B2B68DF,id=s1
2019-09-24 17:08:22,430 DEBUG client.RaftClient (RaftClientImpl.java:sendRequest(285)) - client-DA8FD0E1494C: receive RaftClientReply:client-DA8FD0E1494C->s1@group-615D5B2B68DF, cid=4, SUCCESS, logIndex=0, commits[s1:c-1]
2019-09-24 17:08:22,431 DEBUG client.RaftClient (ConfUtils.java:logGet(43)) - raft.rpc.type = org.apache.ratis.server.simulation.SimulatedRpc (custom)
2019-09-24 17:08:22,431 DEBUG client.RaftClient (RaftClientImpl.java:sendRequest(275)) - client-836AAF3D13D1: send GroupManagementRequest:client-836AAF3D13D1->s2@group-615D5B2B68DF, cid=5, seq=0, RW, null, Add:group-615D5B2B68DF:[s0:null, s1:null, s2:null]
2019-09-24 17:08:22,432 INFO  impl.RaftServerProxy (RaftServerProxy.java:addNew(89)) - s2: addNew group-615D5B2B68DF:[s0:null, s1:null, s2:null] returns group-615D5B2B68DF:java.util.concurrent.CompletableFuture@4930863a[Not completed]
2019-09-24 17:08:22,432 INFO  impl.RaftServerImpl (RaftServerImpl.java:<init>(95)) - s2: new RaftServerImpl for group-615D5B2B68DF:[s0:null, s1:null, s2:null] with BaseStateMachine:uninitialized
2019-09-24 17:08:22,432 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.rpc.timeout.min = 150ms (default)
2019-09-24 17:08:22,433 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.rpc.timeout.max = 300ms (default)
2019-09-24 17:08:22,433 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.rpcslowness.timeout = 60s (default)
2019-09-24 17:08:22,433 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.sleep.deviation.threshold = 300 (default)
2019-09-24 17:08:22,433 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.log.appender.install.snapshot.enabled = true (default)
2019-09-24 17:08:22,433 INFO  impl.RaftServerImpl (ServerState.java:<init>(103)) - s2@group-615D5B2B68DF: ConfigurationManager, init=-1: [s0:null, s1:null, s2:null], old=null, confs=<EMPTY_MAP>
2019-09-24 17:08:22,434 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.storage.dir = [/workdir/ratis-test/target/test/data/312143de/MiniRaftClusterWithSimulatedRpc2356e7fa/s2] (custom)
2019-09-24 17:08:22,434 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.log.corruption.policy = EXCEPTION (default)
2019-09-24 17:08:22,434 INFO  storage.RaftStorageDirectory (RaftStorageDirectory.java:analyzeStorage(246)) - The storage directory /workdir/ratis-test/target/test/data/312143de/MiniRaftClusterWithSimulatedRpc2356e7fa/s2/d3d5ee81-cb69-4038-8864-615d5b2b68df does not exist. Creating ...
2019-09-24 17:08:22,434 TRACE util.FileUtils (LogUtils.java:runAndLog(61)) - Successfully ran Files.createDirectories /workdir/ratis-test/target/test/data/312143de/MiniRaftClusterWithSimulatedRpc2356e7fa/s2/d3d5ee81-cb69-4038-8864-615d5b2b68df
2019-09-24 17:08:22,451 INFO  storage.RaftStorageDirectory (RaftStorageDirectory.java:tryLock(328)) - Lock on /workdir/ratis-test/target/test/data/312143de/MiniRaftClusterWithSimulatedRpc2356e7fa/s2/d3d5ee81-cb69-4038-8864-615d5b2b68df/in_use.lock acquired by nodename 9360@ratis-test-vphbd-3564017154
2019-09-24 17:08:22,451 TRACE util.FileUtils (LogUtils.java:runAndLog(61)) - Successfully ran Files.createDirectories /workdir/ratis-test/target/test/data/312143de/MiniRaftClusterWithSimulatedRpc2356e7fa/s2/d3d5ee81-cb69-4038-8864-615d5b2b68df/current
2019-09-24 17:08:22,452 TRACE util.FileUtils (LogUtils.java:runAndLog(61)) - Successfully ran Files.createDirectories /workdir/ratis-test/target/test/data/312143de/MiniRaftClusterWithSimulatedRpc2356e7fa/s2/d3d5ee81-cb69-4038-8864-615d5b2b68df/sm
2019-09-24 17:08:22,469 INFO  storage.RaftStorage (RaftStorage.java:format(84)) - Storage directory /workdir/ratis-test/target/test/data/312143de/MiniRaftClusterWithSimulatedRpc2356e7fa/s2/d3d5ee81-cb69-4038-8864-615d5b2b68df has been successfully formatted.
2019-09-24 17:08:22,470 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.notification.no-leader.timeout = 60s (default)
2019-09-24 17:08:22,470 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.log.use.memory = false (default)
2019-09-24 17:08:22,470 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.log.purge.gap = 1024 (default)
2019-09-24 17:08:22,470 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.log.appender.buffer.byte-limit = 4MB (=4194304) (default)
2019-09-24 17:08:22,470 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.log.segment.size.max = 8MB (=8388608) (default)
2019-09-24 17:08:22,471 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.log.segment.cache.num.max = 6 (default)
2019-09-24 17:08:22,471 INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:<init>(172)) - new s2@group-615D5B2B68DF-SegmentedRaftLogWorker for RaftStorage:Storage Directory /workdir/ratis-test/target/test/data/312143de/MiniRaftClusterWithSimulatedRpc2356e7fa/s2/d3d5ee81-cb69-4038-8864-615d5b2b68df
2019-09-24 17:08:22,471 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.log.queue.byte-limit = 64MB (=67108864) (default)
2019-09-24 17:08:22,471 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.log.queue.element-limit = 4096 (default)
2019-09-24 17:08:22,471 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.log.segment.size.max = 8MB (=8388608) (default)
2019-09-24 17:08:22,472 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.log.preallocated.size = 4MB (=4194304) (default)
2019-09-24 17:08:22,472 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.log.write.buffer.size = 64KB (=65536) (default)
2019-09-24 17:08:22,472 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.log.force.sync.num = 128 (default)
2019-09-24 17:08:22,472 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.log.statemachine.data.sync = true (default)
2019-09-24 17:08:22,472 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.log.statemachine.data.sync.timeout = 10s (default)
2019-09-24 17:08:22,473 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.log.statemachine.data.sync.timeout.retry = -1 (default)
2019-09-24 17:08:22,473 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.log.statemachine.data.caching.enabled = false (default)
2019-09-24 17:08:22,473 INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:lambda$new$0(132)) - s2@group-615D5B2B68DF-SegmentedRaftLogWorker: flushIndex: setUnconditionally 0 -> -1
2019-09-24 17:08:22,474 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.snapshot.auto.trigger.enabled = false (default)
2019-09-24 17:08:22,474 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.snapshot.retention.file.num = -1 (default)
2019-09-24 17:08:22,474 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.retrycache.expirytime = 60s (default)
2019-09-24 17:08:22,477 DEBUG impl.RaftServerProxy (RaftServerProxy.java:lambda$groupAddAsync$10(380)) - s2: newImpl =      null s2@group-615D5B2B68DF:t0, leader=null, voted=null, raftlog=s2@group-615D5B2B68DF-SegmentedRaftLog:OPENED:c-1,f-1,i0, conf=-1: [s0:null, s1:null, s2:null], old=null NEW
2019-09-24 17:08:22,477 INFO  impl.RaftServerImpl (RaftServerImpl.java:start(181)) - s2@group-615D5B2B68DF: start as a follower, conf=-1: [s0:null, s1:null, s2:null], old=null
2019-09-24 17:08:22,477 INFO  impl.RaftServerImpl (RaftServerImpl.java:setRole(170)) - s2@group-615D5B2B68DF: changes role from      null to FOLLOWER at term 0 for startAsFollower
2019-09-24 17:08:22,478 INFO  impl.RoleInfo (RoleInfo.java:updateAndGet(143)) - s2: start FollowerState
2019-09-24 17:08:22,478 INFO  util.JmxRegister (JmxRegister.java:tryRegister(44)) - Successfully registered JMX Bean with object name Ratis:service=RaftServer,group=group-615D5B2B68DF,id=s2
2019-09-24 17:08:22,482 DEBUG client.RaftClient (RaftClientImpl.java:sendRequest(285)) - client-836AAF3D13D1: receive RaftClientReply:client-836AAF3D13D1->s2@group-615D5B2B68DF, cid=5, SUCCESS, logIndex=0, commits[s2:c-1]
2019-09-24 17:08:22,483 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.rpc.timeout.max = 300ms (default)
2019-09-24 17:08:22,486 INFO  ratis.RaftTestUtil (RaftTestUtil.java:waitForLeader(86)) - printing group-615D5B2B68DF
  s0:  RUNNING [
   FOLLOWER s0@group-615D5B2B68DF:t0, leader=null, voted=null, raftlog=s0@group-615D5B2B68DF-SegmentedRaftLog:OPENED:c-1,f-1,i0, conf=-1: [s0:null, s1:null, s2:null], old=null RUNNING
   FOLLOWER s0@group-E1C4ACACBF57:t0, leader=null, voted=null, raftlog=s0@group-E1C4ACACBF57-SegmentedRaftLog:OPENED:c-1,f-1,i0, conf=-1: [], old=null STARTING] size=2
  s1:  RUNNING [
   FOLLOWER s1@group-615D5B2B68DF:t0, leader=null, voted=null, raftlog=s1@group-615D5B2B68DF-SegmentedRaftLog:OPENED:c-1,f-1,i0, conf=-1: [s0:null, s1:null, s2:null], old=null RUNNING
   FOLLOWER s1@group-E1C4ACACBF57:t0, leader=null, voted=null, raftlog=s1@group-E1C4ACACBF57-SegmentedRaftLog:OPENED:c-1,f-1,i0, conf=-1: [], old=null STARTING] size=2
  s2:  RUNNING [
   FOLLOWER s2@group-615D5B2B68DF:t0, leader=null, voted=null, raftlog=s2@group-615D5B2B68DF-SegmentedRaftLog:OPENED:c-1,f-1,i0, conf=-1: [s0:null, s1:null, s2:null], old=null RUNNING
   FOLLOWER s2@group-E1C4ACACBF57:t0, leader=null, voted=null, raftlog=s2@group-E1C4ACACBF57-SegmentedRaftLog:OPENED:c-1,f-1,i0, conf=-1: [], old=null STARTING] size=2
2019-09-24 17:08:22,489 WARN  ratis.RaftTestUtil (JavaUtils.java:attempt(158)) - FAILED "waitForLeader-group-615D5B2B68DF-(expectLeader? true)", attempt #1/100: java.lang.IllegalStateException: No leader yet  for group-615D5B2B68DF: printing group-615D5B2B68DF
  s0:  RUNNING [
   FOLLOWER s0@group-615D5B2B68DF:t0, leader=null, voted=null, raftlog=s0@group-615D5B2B68DF-SegmentedRaftLog:OPENED:c-1,f-1,i0, conf=-1: [s0:null, s1:null, s2:null], old=null RUNNING
   FOLLOWER s0@group-E1C4ACACBF57:t0, leader=null, voted=null, raftlog=s0@group-E1C4ACACBF57-SegmentedRaftLog:OPENED:c-1,f-1,i0, conf=-1: [], old=null STARTING] size=2
  s1:  RUNNING [
   FOLLOWER s1@group-615D5B2B68DF:t0, leader=null, voted=null, raftlog=s1@group-615D5B2B68DF-SegmentedRaftLog:OPENED:c-1,f-1,i0, conf=-1: [s0:null, s1:null, s2:null], old=null RUNNING
   FOLLOWER s1@group-E1C4ACACBF57:t0, leader=null, voted=null, raftlog=s1@group-E1C4ACACBF57-SegmentedRaftLog:OPENED:c-1,f-1,i0, conf=-1: [], old=null STARTING] size=2
  s2:  RUNNING [
   FOLLOWER s2@group-615D5B2B68DF:t0, leader=null, voted=null, raftlog=s2@group-615D5B2B68DF-SegmentedRaftLog:OPENED:c-1,f-1,i0, conf=-1: [s0:null, s1:null, s2:null], old=null RUNNING
   FOLLOWER s2@group-E1C4ACACBF57:t0, leader=null, voted=null, raftlog=s2@group-E1C4ACACBF57-SegmentedRaftLog:OPENED:c-1,f-1,i0, conf=-1: [], old=null STARTING] size=2, sleep 450ms and then retry.
java.lang.IllegalStateException: No leader yet  for group-615D5B2B68DF: printing group-615D5B2B68DF
  s0:  RUNNING [
   FOLLOWER s0@group-615D5B2B68DF:t0, leader=null, voted=null, raftlog=s0@group-615D5B2B68DF-SegmentedRaftLog:OPENED:c-1,f-1,i0, conf=-1: [s0:null, s1:null, s2:null], old=null RUNNING
   FOLLOWER s0@group-E1C4ACACBF57:t0, leader=null, voted=null, raftlog=s0@group-E1C4ACACBF57-SegmentedRaftLog:OPENED:c-1,f-1,i0, conf=-1: [], old=null STARTING] size=2
  s1:  RUNNING [
   FOLLOWER s1@group-615D5B2B68DF:t0, leader=null, voted=null, raftlog=s1@group-615D5B2B68DF-SegmentedRaftLog:OPENED:c-1,f-1,i0, conf=-1: [s0:null, s1:null, s2:null], old=null RUNNING
   FOLLOWER s1@group-E1C4ACACBF57:t0, leader=null, voted=null, raftlog=s1@group-E1C4ACACBF57-SegmentedRaftLog:OPENED:c-1,f-1,i0, conf=-1: [], old=null STARTING] size=2
  s2:  RUNNING [
   FOLLOWER s2@group-615D5B2B68DF:t0, leader=null, voted=null, raftlog=s2@group-615D5B2B68DF-SegmentedRaftLog:OPENED:c-1,f-1,i0, conf=-1: [s0:null, s1:null, s2:null], old=null RUNNING
   FOLLOWER s2@group-E1C4ACACBF57:t0, leader=null, voted=null, raftlog=s2@group-E1C4ACACBF57-SegmentedRaftLog:OPENED:c-1,f-1,i0, conf=-1: [], old=null STARTING] size=2
	at org.apache.ratis.MiniRaftCluster.newIllegalStateExceptionForNoLeaders(MiniRaftCluster.java:506)
	at org.apache.ratis.RaftTestUtil.lambda$waitForLeader$1(RaftTestUtil.java:90)
	at org.apache.ratis.MiniRaftCluster.getLeader(MiniRaftCluster.java:539)
	at org.apache.ratis.MiniRaftCluster.getLeader(MiniRaftCluster.java:532)
	at org.apache.ratis.RaftTestUtil.lambda$waitForLeader$3(RaftTestUtil.java:98)
	at org.apache.ratis.util.JavaUtils.attempt(JavaUtils.java:152)
	at org.apache.ratis.RaftTestUtil.waitForLeader(RaftTestUtil.java:97)
	at org.apache.ratis.RaftTestUtil.waitForLeader(RaftTestUtil.java:77)
	at org.apache.ratis.server.impl.GroupManagementBaseTest.runMultiGroupTest(GroupManagementBaseTest.java:175)
	at org.apache.ratis.server.impl.GroupManagementBaseTest.runMultiGroupTest(GroupManagementBaseTest.java:126)
	at org.apache.ratis.server.impl.GroupManagementBaseTest.testMultiGroup5Nodes(GroupManagementBaseTest.java:109)
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.lang.reflect.Method.invoke(Method.java:498)
	at org.junit.runners.model.FrameworkMethod$1.runReflectiveCall(FrameworkMethod.java:50)
	at org.junit.internal.runners.model.ReflectiveCallable.run(ReflectiveCallable.java:12)
	at org.junit.runners.model.FrameworkMethod.invokeExplosively(FrameworkMethod.java:47)
	at org.junit.internal.runners.statements.InvokeMethod.evaluate(InvokeMethod.java:17)
	at org.junit.internal.runners.statements.RunAfters.evaluate(RunAfters.java:27)
	at org.junit.internal.runners.statements.FailOnTimeout$CallableStatement.call(FailOnTimeout.java:298)
	at org.junit.internal.runners.statements.FailOnTimeout$CallableStatement.call(FailOnTimeout.java:292)
	at java.util.concurrent.FutureTask.run(FutureTask.java:266)
	at java.lang.Thread.run(Thread.java:748)
2019-09-24 17:08:22,572 INFO  impl.FollowerState (FollowerState.java:run(108)) - s0@group-615D5B2B68DF-FollowerState: change to CANDIDATE, lastRpcTime:203ms, electionTimeout:203ms
2019-09-24 17:08:22,573 INFO  impl.RoleInfo (RoleInfo.java:shutdownFollowerState(121)) - s0: shutdown FollowerState
2019-09-24 17:08:22,573 INFO  impl.RaftServerImpl (RaftServerImpl.java:setRole(170)) - s0@group-615D5B2B68DF: changes role from  FOLLOWER to CANDIDATE at term 0 for changeToCandidate
2019-09-24 17:08:22,574 INFO  impl.RoleInfo (RoleInfo.java:updateAndGet(143)) - s0: start LeaderElection
2019-09-24 17:08:22,588 INFO  impl.LeaderElection (LeaderElection.java:askForVotes(178)) - s0@group-615D5B2B68DF-LeaderElection4: begin an election at term 1 for -1: [s0:null, s1:null, s2:null], old=null
2019-09-24 17:08:22,589 DEBUG impl.RaftServerImpl (RaftServerImpl.java:requestVote(743)) - s1@group-615D5B2B68DF: receive requestVote(s0, group-615D5B2B68DF, 1, (t:0, i:0))
2019-09-24 17:08:22,589 DEBUG impl.RaftServerImpl (RaftServerImpl.java:requestVote(743)) - s2@group-615D5B2B68DF: receive requestVote(s0, group-615D5B2B68DF, 1, (t:0, i:0))
2019-09-24 17:08:22,589 INFO  impl.RaftServerImpl (RaftServerImpl.java:setRole(170)) - s1@group-615D5B2B68DF: changes role from  FOLLOWER to FOLLOWER at term 1 for recognizeCandidate:s0
2019-09-24 17:08:22,590 INFO  impl.RaftServerImpl (RaftServerImpl.java:setRole(170)) - s2@group-615D5B2B68DF: changes role from  FOLLOWER to FOLLOWER at term 1 for recognizeCandidate:s0
2019-09-24 17:08:22,590 INFO  impl.RoleInfo (RoleInfo.java:shutdownFollowerState(121)) - s1: shutdown FollowerState
2019-09-24 17:08:22,590 INFO  impl.RoleInfo (RoleInfo.java:shutdownFollowerState(121)) - s2: shutdown FollowerState
2019-09-24 17:08:22,590 INFO  impl.FollowerState (FollowerState.java:run(117)) - s1@group-615D5B2B68DF-FollowerState was interrupted: java.lang.InterruptedException: sleep interrupted
2019-09-24 17:08:22,590 INFO  impl.RoleInfo (RoleInfo.java:updateAndGet(143)) - s1: start FollowerState
2019-09-24 17:08:22,590 INFO  impl.RoleInfo (RoleInfo.java:updateAndGet(143)) - s2: start FollowerState
2019-09-24 17:08:22,590 INFO  impl.FollowerState (FollowerState.java:run(117)) - s2@group-615D5B2B68DF-FollowerState was interrupted: java.lang.InterruptedException: sleep interrupted
2019-09-24 17:08:22,620 DEBUG impl.RaftServerImpl (RaftServerImpl.java:requestVote(775)) - s2@group-615D5B2B68DF replies to vote request: s0<-s2#0:OK-t1. Peer's state: s2@group-615D5B2B68DF:t1, leader=null, voted=s0, raftlog=s2@group-615D5B2B68DF-SegmentedRaftLog:OPENED:c-1,f-1,i0, conf=-1: [s0:null, s1:null, s2:null], old=null
2019-09-24 17:08:22,620 DEBUG impl.RaftServerImpl (RaftServerImpl.java:requestVote(775)) - s1@group-615D5B2B68DF replies to vote request: s0<-s1#0:OK-t1. Peer's state: s1@group-615D5B2B68DF:t1, leader=null, voted=s0, raftlog=s1@group-615D5B2B68DF-SegmentedRaftLog:OPENED:c-1,f-1,i0, conf=-1: [s0:null, s1:null, s2:null], old=null
2019-09-24 17:08:22,621 INFO  impl.LeaderElection (LeaderElection.java:logAndReturn(56)) - s0@group-615D5B2B68DF-LeaderElection4: Election PASSED; received 1 response(s) [s0<-s2#0:OK-t1] and 0 exception(s); s0@group-615D5B2B68DF:t1, leader=null, voted=s0, raftlog=s0@group-615D5B2B68DF-SegmentedRaftLog:OPENED:c-1,f-1,i0, conf=-1: [s0:null, s1:null, s2:null], old=null
2019-09-24 17:08:22,621 INFO  impl.RoleInfo (RoleInfo.java:shutdownLeaderElection(134)) - s0: shutdown LeaderElection
2019-09-24 17:08:22,622 INFO  impl.RaftServerImpl (RaftServerImpl.java:setRole(170)) - s0@group-615D5B2B68DF: changes role from CANDIDATE to LEADER at term 1 for changeToLeader
2019-09-24 17:08:22,623 INFO  impl.RaftServerImpl (ServerState.java:setLeader(254)) - s0@group-615D5B2B68DF: change Leader from null to s0 at term 1 for becomeLeader, leader elected after 263ms
2019-09-24 17:08:22,623 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.staging.catchup.gap = 1000 (default)
2019-09-24 17:08:22,623 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.rpc.sleep.time = 25ms (default)
2019-09-24 17:08:22,624 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.write.element-limit = 4096 (default)
2019-09-24 17:08:22,624 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.watch.timeout = 10s (default)
2019-09-24 17:08:22,624 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.watch.timeout.denomination = 1s (default)
2019-09-24 17:08:22,624 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.watch.element-limit = 65536 (default)
2019-09-24 17:08:22,628 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.log.appender.snapshot.chunk.size.max = 16MB (=16777216) (default)
2019-09-24 17:08:22,628 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.log.appender.buffer.byte-limit = 4MB (=4194304) (default)
2019-09-24 17:08:22,629 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.log.appender.buffer.element-limit = 0 (default)
2019-09-24 17:08:22,629 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.log.appender.snapshot.chunk.size.max = 16MB (=16777216) (default)
2019-09-24 17:08:22,629 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.log.appender.buffer.byte-limit = 4MB (=4194304) (default)
2019-09-24 17:08:22,630 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.log.appender.buffer.element-limit = 0 (default)
2019-09-24 17:08:22,630 INFO  impl.RoleInfo (RoleInfo.java:updateAndGet(143)) - s0: start LeaderState
2019-09-24 17:08:22,631 INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:startLogSegment(380)) - s0@group-615D5B2B68DF-SegmentedRaftLogWorker: Starting segment from index:0
2019-09-24 17:08:22,632 INFO  impl.RaftServerImpl (ServerState.java:setRaftConf(355)) - s0@group-615D5B2B68DF: set configuration 0: [s0:, s1:, s2:], old=null at 0
2019-09-24 17:08:22,633 INFO  impl.RaftServerImpl (ServerState.java:setLeader(254)) - s1@group-615D5B2B68DF: change Leader from null to s0 at term 1 for appendEntries, leader elected after 217ms
2019-09-24 17:08:22,634 INFO  impl.RaftServerImpl (ServerState.java:setLeader(254)) - s2@group-615D5B2B68DF: change Leader from null to s0 at term 1 for appendEntries, leader elected after 164ms
2019-09-24 17:08:22,637 DEBUG impl.RaftServerImpl (RaftServerImpl.java:logAppendEntries(850)) - s2@group-615D5B2B68DF: receive appendEntries(s0, 1, null, -1, false, commits[s0:c-1, s1:c-1, s2:c-1], entries: (t:1, i:0), CONFIGURATIONENTRY
2019-09-24 17:08:22,637 DEBUG impl.RaftServerImpl (RaftServerImpl.java:logAppendEntries(850)) - s1@group-615D5B2B68DF: receive appendEntries(s0, 1, null, -1, false, commits[s0:c-1, s1:c-1, s2:c-1], entries: (t:1, i:0), CONFIGURATIONENTRY
2019-09-24 17:08:22,638 INFO  impl.RaftServerImpl (ServerState.java:setRaftConf(355)) - s2@group-615D5B2B68DF: set configuration 0: [s0:, s1:, s2:], old=null at 0
2019-09-24 17:08:22,638 INFO  impl.RaftServerImpl (ServerState.java:setRaftConf(355)) - s1@group-615D5B2B68DF: set configuration 0: [s0:, s1:, s2:], old=null at 0
2019-09-24 17:08:22,638 INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:startLogSegment(380)) - s2@group-615D5B2B68DF-SegmentedRaftLogWorker: Starting segment from index:0
2019-09-24 17:08:22,638 INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:startLogSegment(380)) - s1@group-615D5B2B68DF-SegmentedRaftLogWorker: Starting segment from index:0
2019-09-24 17:08:22,860 INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:execute(569)) - s1@group-615D5B2B68DF-SegmentedRaftLogWorker: created new log segment /workdir/ratis-test/target/test/data/312143de/MiniRaftClusterWithSimulatedRpc2356e7fa/s1/d3d5ee81-cb69-4038-8864-615d5b2b68df/current/log_inprogress_0
2019-09-24 17:08:22,860 INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:execute(569)) - s0@group-615D5B2B68DF-SegmentedRaftLogWorker: created new log segment /workdir/ratis-test/target/test/data/312143de/MiniRaftClusterWithSimulatedRpc2356e7fa/s0/d3d5ee81-cb69-4038-8864-615d5b2b68df/current/log_inprogress_0
2019-09-24 17:08:22,860 INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:execute(569)) - s2@group-615D5B2B68DF-SegmentedRaftLogWorker: created new log segment /workdir/ratis-test/target/test/data/312143de/MiniRaftClusterWithSimulatedRpc2356e7fa/s2/d3d5ee81-cb69-4038-8864-615d5b2b68df/current/log_inprogress_0
2019-09-24 17:08:22,879 DEBUG impl.RaftServerImpl (RaftServerImpl.java:logAppendEntries(850)) - s2@group-615D5B2B68DF: succeeded to handle AppendEntries. Reply: s0<-s2#0:OK,SUCCESS,nextIndex:1,term:1,followerCommit:-1
2019-09-24 17:08:22,879 DEBUG impl.RaftServerImpl (RaftServerImpl.java:logAppendEntries(850)) - s1@group-615D5B2B68DF: succeeded to handle AppendEntries. Reply: s0<-s1#0:OK,SUCCESS,nextIndex:1,term:1,followerCommit:-1
2019-09-24 17:08:22,941 INFO  ratis.RaftTestUtil (RaftTestUtil.java:waitForLeader(101)) - printing group-615D5B2B68DF
  s0:  RUNNING [
     LEADER s0@group-615D5B2B68DF:t1, leader=s0, voted=s0, raftlog=s0@group-615D5B2B68DF-SegmentedRaftLog:OPENED:c0,f0,i0, conf=0: [s0:, s1:, s2:], old=null RUNNING
   FOLLOWER s0@group-E1C4ACACBF57:t0, leader=null, voted=null, raftlog=s0@group-E1C4ACACBF57-SegmentedRaftLog:OPENED:c-1,f-1,i0, conf=-1: [], old=null STARTING] size=2
  s1:  RUNNING [
   FOLLOWER s1@group-615D5B2B68DF:t1, leader=s0, voted=s0, raftlog=s1@group-615D5B2B68DF-SegmentedRaftLog:OPENED:c-1,f0,i0, conf=0: [s0:, s1:, s2:], old=null RUNNING
   FOLLOWER s1@group-E1C4ACACBF57:t0, leader=null, voted=null, raftlog=s1@group-E1C4ACACBF57-SegmentedRaftLog:OPENED:c-1,f-1,i0, conf=-1: [], old=null STARTING] size=2
  s2:  RUNNING [
   FOLLOWER s2@group-615D5B2B68DF:t1, leader=s0, voted=s0, raftlog=s2@group-615D5B2B68DF-SegmentedRaftLog:OPENED:c-1,f0,i0, conf=0: [s0:, s1:, s2:], old=null RUNNING
   FOLLOWER s2@group-E1C4ACACBF57:t0, leader=null, voted=null, raftlog=s2@group-E1C4ACACBF57-SegmentedRaftLog:OPENED:c-1,f-1,i0, conf=-1: [], old=null STARTING] size=2
2019-09-24 17:08:22,941 INFO  impl.GroupManagementBaseTest (GroupManagementBaseTest.java:runMultiGroupTest(169)) - 1) starting group-76D56AD845C5:[s3:null]
2019-09-24 17:08:22,942 DEBUG client.RaftClient (ConfUtils.java:logGet(43)) - raft.rpc.type = org.apache.ratis.server.simulation.SimulatedRpc (custom)
2019-09-24 17:08:22,943 DEBUG client.RaftClient (RaftClientImpl.java:sendRequest(275)) - client-180CB27D5AEC: send GroupManagementRequest:client-180CB27D5AEC->s3@group-76D56AD845C5, cid=6, seq=0, RW, null, Add:group-76D56AD845C5:[s3:null]
2019-09-24 17:08:22,944 INFO  impl.RaftServerProxy (RaftServerProxy.java:addNew(89)) - s3: addNew group-76D56AD845C5:[s3:null] returns group-76D56AD845C5:java.util.concurrent.CompletableFuture@28b162da[Not completed]
2019-09-24 17:08:22,944 INFO  impl.RaftServerImpl (RaftServerImpl.java:<init>(95)) - s3: new RaftServerImpl for group-76D56AD845C5:[s3:null] with BaseStateMachine:uninitialized
2019-09-24 17:08:22,944 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.rpc.timeout.min = 150ms (default)
2019-09-24 17:08:22,945 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.rpc.timeout.max = 300ms (default)
2019-09-24 17:08:22,945 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.rpcslowness.timeout = 60s (default)
2019-09-24 17:08:22,945 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.sleep.deviation.threshold = 300 (default)
2019-09-24 17:08:22,945 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.log.appender.install.snapshot.enabled = true (default)
2019-09-24 17:08:22,945 INFO  impl.RaftServerImpl (ServerState.java:<init>(103)) - s3@group-76D56AD845C5: ConfigurationManager, init=-1: [s3:null], old=null, confs=<EMPTY_MAP>
2019-09-24 17:08:22,945 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.storage.dir = [/workdir/ratis-test/target/test/data/312143de/MiniRaftClusterWithSimulatedRpc2356e7fa/s3] (custom)
2019-09-24 17:08:22,946 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.log.corruption.policy = EXCEPTION (default)
2019-09-24 17:08:22,946 INFO  storage.RaftStorageDirectory (RaftStorageDirectory.java:analyzeStorage(246)) - The storage directory /workdir/ratis-test/target/test/data/312143de/MiniRaftClusterWithSimulatedRpc2356e7fa/s3/971fc1f9-20d4-4f36-8e52-76d56ad845c5 does not exist. Creating ...
2019-09-24 17:08:22,946 TRACE util.FileUtils (LogUtils.java:runAndLog(61)) - Successfully ran Files.createDirectories /workdir/ratis-test/target/test/data/312143de/MiniRaftClusterWithSimulatedRpc2356e7fa/s3/971fc1f9-20d4-4f36-8e52-76d56ad845c5
2019-09-24 17:08:22,971 INFO  storage.RaftStorageDirectory (RaftStorageDirectory.java:tryLock(328)) - Lock on /workdir/ratis-test/target/test/data/312143de/MiniRaftClusterWithSimulatedRpc2356e7fa/s3/971fc1f9-20d4-4f36-8e52-76d56ad845c5/in_use.lock acquired by nodename 9360@ratis-test-vphbd-3564017154
2019-09-24 17:08:22,971 TRACE util.FileUtils (LogUtils.java:runAndLog(61)) - Successfully ran Files.createDirectories /workdir/ratis-test/target/test/data/312143de/MiniRaftClusterWithSimulatedRpc2356e7fa/s3/971fc1f9-20d4-4f36-8e52-76d56ad845c5/current
2019-09-24 17:08:22,971 TRACE util.FileUtils (LogUtils.java:runAndLog(61)) - Successfully ran Files.createDirectories /workdir/ratis-test/target/test/data/312143de/MiniRaftClusterWithSimulatedRpc2356e7fa/s3/971fc1f9-20d4-4f36-8e52-76d56ad845c5/sm
2019-09-24 17:08:22,997 INFO  storage.RaftStorage (RaftStorage.java:format(84)) - Storage directory /workdir/ratis-test/target/test/data/312143de/MiniRaftClusterWithSimulatedRpc2356e7fa/s3/971fc1f9-20d4-4f36-8e52-76d56ad845c5 has been successfully formatted.
2019-09-24 17:08:22,997 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.notification.no-leader.timeout = 60s (default)
2019-09-24 17:08:22,997 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.log.use.memory = false (default)
2019-09-24 17:08:22,997 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.log.purge.gap = 1024 (default)
2019-09-24 17:08:22,997 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.log.appender.buffer.byte-limit = 4MB (=4194304) (default)
2019-09-24 17:08:22,998 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.log.segment.size.max = 8MB (=8388608) (default)
2019-09-24 17:08:22,998 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.log.segment.cache.num.max = 6 (default)
2019-09-24 17:08:22,998 INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:<init>(172)) - new s3@group-76D56AD845C5-SegmentedRaftLogWorker for RaftStorage:Storage Directory /workdir/ratis-test/target/test/data/312143de/MiniRaftClusterWithSimulatedRpc2356e7fa/s3/971fc1f9-20d4-4f36-8e52-76d56ad845c5
2019-09-24 17:08:22,998 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.log.queue.byte-limit = 64MB (=67108864) (default)
2019-09-24 17:08:22,998 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.log.queue.element-limit = 4096 (default)
2019-09-24 17:08:22,999 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.log.segment.size.max = 8MB (=8388608) (default)
2019-09-24 17:08:22,999 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.log.preallocated.size = 4MB (=4194304) (default)
2019-09-24 17:08:22,999 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.log.write.buffer.size = 64KB (=65536) (default)
2019-09-24 17:08:22,999 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.log.force.sync.num = 128 (default)
2019-09-24 17:08:22,999 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.log.statemachine.data.sync = true (default)
2019-09-24 17:08:22,999 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.log.statemachine.data.sync.timeout = 10s (default)
2019-09-24 17:08:22,999 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.log.statemachine.data.sync.timeout.retry = -1 (default)
2019-09-24 17:08:23,000 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.log.statemachine.data.caching.enabled = false (default)
2019-09-24 17:08:23,000 INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:lambda$new$0(132)) - s3@group-76D56AD845C5-SegmentedRaftLogWorker: flushIndex: setUnconditionally 0 -> -1
2019-09-24 17:08:23,000 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.snapshot.auto.trigger.enabled = false (default)
2019-09-24 17:08:23,001 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.snapshot.retention.file.num = -1 (default)
2019-09-24 17:08:23,001 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.retrycache.expirytime = 60s (default)
2019-09-24 17:08:23,004 DEBUG impl.RaftServerProxy (RaftServerProxy.java:lambda$groupAddAsync$10(380)) - s3: newImpl =      null s3@group-76D56AD845C5:t0, leader=null, voted=null, raftlog=s3@group-76D56AD845C5-SegmentedRaftLog:OPENED:c-1,f-1,i0, conf=-1: [s3:null], old=null NEW
2019-09-24 17:08:23,004 INFO  impl.RaftServerImpl (RaftServerImpl.java:start(181)) - s3@group-76D56AD845C5: start as a follower, conf=-1: [s3:null], old=null
2019-09-24 17:08:23,004 INFO  impl.RaftServerImpl (RaftServerImpl.java:setRole(170)) - s3@group-76D56AD845C5: changes role from      null to FOLLOWER at term 0 for startAsFollower
2019-09-24 17:08:23,004 INFO  impl.RoleInfo (RoleInfo.java:updateAndGet(143)) - s3: start FollowerState
2019-09-24 17:08:23,005 INFO  util.JmxRegister (JmxRegister.java:tryRegister(44)) - Successfully registered JMX Bean with object name Ratis:service=RaftServer,group=group-76D56AD845C5,id=s3
2019-09-24 17:08:23,008 DEBUG client.RaftClient (RaftClientImpl.java:sendRequest(285)) - client-180CB27D5AEC: receive RaftClientReply:client-180CB27D5AEC->s3@group-76D56AD845C5, cid=6, SUCCESS, logIndex=0, commits[s3:c-1]
2019-09-24 17:08:23,008 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.rpc.timeout.max = 300ms (default)
2019-09-24 17:08:23,009 INFO  ratis.RaftTestUtil (RaftTestUtil.java:waitForLeader(86)) - printing group-76D56AD845C5
  s3:  RUNNING [
   FOLLOWER s3@group-E1C4ACACBF57:t0, leader=null, voted=null, raftlog=s3@group-E1C4ACACBF57-SegmentedRaftLog:OPENED:c-1,f-1,i0, conf=-1: [], old=null STARTING
   FOLLOWER s3@group-76D56AD845C5:t0, leader=null, voted=null, raftlog=s3@group-76D56AD845C5-SegmentedRaftLog:OPENED:c-1,f-1,i0, conf=-1: [s3:null], old=null RUNNING] size=2
2019-09-24 17:08:23,010 WARN  ratis.RaftTestUtil (JavaUtils.java:attempt(158)) - FAILED "waitForLeader-group-76D56AD845C5-(expectLeader? true)", attempt #1/100: java.lang.IllegalStateException: No leader yet  for group-76D56AD845C5: printing group-76D56AD845C5
  s3:  RUNNING [
   FOLLOWER s3@group-E1C4ACACBF57:t0, leader=null, voted=null, raftlog=s3@group-E1C4ACACBF57-SegmentedRaftLog:OPENED:c-1,f-1,i0, conf=-1: [], old=null STARTING
   FOLLOWER s3@group-76D56AD845C5:t0, leader=null, voted=null, raftlog=s3@group-76D56AD845C5-SegmentedRaftLog:OPENED:c-1,f-1,i0, conf=-1: [s3:null], old=null RUNNING] size=2, sleep 450ms and then retry.
java.lang.IllegalStateException: No leader yet  for group-76D56AD845C5: printing group-76D56AD845C5
  s3:  RUNNING [
   FOLLOWER s3@group-E1C4ACACBF57:t0, leader=null, voted=null, raftlog=s3@group-E1C4ACACBF57-SegmentedRaftLog:OPENED:c-1,f-1,i0, conf=-1: [], old=null STARTING
   FOLLOWER s3@group-76D56AD845C5:t0, leader=null, voted=null, raftlog=s3@group-76D56AD845C5-SegmentedRaftLog:OPENED:c-1,f-1,i0, conf=-1: [s3:null], old=null RUNNING] size=2
	at org.apache.ratis.MiniRaftCluster.newIllegalStateExceptionForNoLeaders(MiniRaftCluster.java:506)
	at org.apache.ratis.RaftTestUtil.lambda$waitForLeader$1(RaftTestUtil.java:90)
	at org.apache.ratis.MiniRaftCluster.getLeader(MiniRaftCluster.java:539)
	at org.apache.ratis.MiniRaftCluster.getLeader(MiniRaftCluster.java:532)
	at org.apache.ratis.RaftTestUtil.lambda$waitForLeader$3(RaftTestUtil.java:98)
	at org.apache.ratis.util.JavaUtils.attempt(JavaUtils.java:152)
	at org.apache.ratis.RaftTestUtil.waitForLeader(RaftTestUtil.java:97)
	at org.apache.ratis.RaftTestUtil.waitForLeader(RaftTestUtil.java:77)
	at org.apache.ratis.server.impl.GroupManagementBaseTest.runMultiGroupTest(GroupManagementBaseTest.java:175)
	at org.apache.ratis.server.impl.GroupManagementBaseTest.runMultiGroupTest(GroupManagementBaseTest.java:126)
	at org.apache.ratis.server.impl.GroupManagementBaseTest.testMultiGroup5Nodes(GroupManagementBaseTest.java:109)
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.lang.reflect.Method.invoke(Method.java:498)
	at org.junit.runners.model.FrameworkMethod$1.runReflectiveCall(FrameworkMethod.java:50)
	at org.junit.internal.runners.model.ReflectiveCallable.run(ReflectiveCallable.java:12)
	at org.junit.runners.model.FrameworkMethod.invokeExplosively(FrameworkMethod.java:47)
	at org.junit.internal.runners.statements.InvokeMethod.evaluate(InvokeMethod.java:17)
	at org.junit.internal.runners.statements.RunAfters.evaluate(RunAfters.java:27)
	at org.junit.internal.runners.statements.FailOnTimeout$CallableStatement.call(FailOnTimeout.java:298)
	at org.junit.internal.runners.statements.FailOnTimeout$CallableStatement.call(FailOnTimeout.java:292)
	at java.util.concurrent.FutureTask.run(FutureTask.java:266)
	at java.lang.Thread.run(Thread.java:748)
2019-09-24 17:08:23,256 INFO  impl.FollowerState (FollowerState.java:run(108)) - s3@group-76D56AD845C5-FollowerState: change to CANDIDATE, lastRpcTime:251ms, electionTimeout:251ms
2019-09-24 17:08:23,256 INFO  impl.RoleInfo (RoleInfo.java:shutdownFollowerState(121)) - s3: shutdown FollowerState
2019-09-24 17:08:23,256 INFO  impl.RaftServerImpl (RaftServerImpl.java:setRole(170)) - s3@group-76D56AD845C5: changes role from  FOLLOWER to CANDIDATE at term 0 for changeToCandidate
2019-09-24 17:08:23,257 INFO  impl.RoleInfo (RoleInfo.java:updateAndGet(143)) - s3: start LeaderElection
2019-09-24 17:08:23,279 INFO  impl.LeaderElection (LeaderElection.java:askForVotes(178)) - s3@group-76D56AD845C5-LeaderElection5: begin an election at term 1 for -1: [s3:null], old=null
2019-09-24 17:08:23,280 INFO  impl.RoleInfo (RoleInfo.java:shutdownLeaderElection(134)) - s3: shutdown LeaderElection
2019-09-24 17:08:23,280 INFO  impl.RaftServerImpl (RaftServerImpl.java:setRole(170)) - s3@group-76D56AD845C5: changes role from CANDIDATE to LEADER at term 1 for changeToLeader
2019-09-24 17:08:23,280 INFO  impl.RaftServerImpl (ServerState.java:setLeader(254)) - s3@group-76D56AD845C5: change Leader from null to s3 at term 1 for becomeLeader, leader elected after 283ms
2019-09-24 17:08:23,280 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.staging.catchup.gap = 1000 (default)
2019-09-24 17:08:23,281 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.rpc.sleep.time = 25ms (default)
2019-09-24 17:08:23,281 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.write.element-limit = 4096 (default)
2019-09-24 17:08:23,281 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.watch.timeout = 10s (default)
2019-09-24 17:08:23,281 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.watch.timeout.denomination = 1s (default)
2019-09-24 17:08:23,281 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.watch.element-limit = 65536 (default)
2019-09-24 17:08:23,285 INFO  impl.RoleInfo (RoleInfo.java:updateAndGet(143)) - s3: start LeaderState
2019-09-24 17:08:23,286 INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:startLogSegment(380)) - s3@group-76D56AD845C5-SegmentedRaftLogWorker: Starting segment from index:0
2019-09-24 17:08:23,286 INFO  impl.RaftServerImpl (ServerState.java:setRaftConf(355)) - s3@group-76D56AD845C5: set configuration 0: [s3:], old=null at 0
2019-09-24 17:08:23,361 INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:execute(569)) - s3@group-76D56AD845C5-SegmentedRaftLogWorker: created new log segment /workdir/ratis-test/target/test/data/312143de/MiniRaftClusterWithSimulatedRpc2356e7fa/s3/971fc1f9-20d4-4f36-8e52-76d56ad845c5/current/log_inprogress_0
2019-09-24 17:08:23,461 INFO  ratis.RaftTestUtil (RaftTestUtil.java:waitForLeader(101)) - printing group-76D56AD845C5
  s3:  RUNNING [
   FOLLOWER s3@group-E1C4ACACBF57:t0, leader=null, voted=null, raftlog=s3@group-E1C4ACACBF57-SegmentedRaftLog:OPENED:c-1,f-1,i0, conf=-1: [], old=null STARTING
     LEADER s3@group-76D56AD845C5:t1, leader=s3, voted=s3, raftlog=s3@group-76D56AD845C5-SegmentedRaftLog:OPENED:c0,f0,i0, conf=0: [s3:], old=null RUNNING] size=2
2019-09-24 17:08:23,462 INFO  impl.GroupManagementBaseTest (GroupManagementBaseTest.java:runMultiGroupTest(169)) - 2) starting group-1E2D214F4B43:[s4:null]
2019-09-24 17:08:23,462 DEBUG client.RaftClient (ConfUtils.java:logGet(43)) - raft.rpc.type = org.apache.ratis.server.simulation.SimulatedRpc (custom)
2019-09-24 17:08:23,463 DEBUG client.RaftClient (RaftClientImpl.java:sendRequest(275)) - client-759078B4FCBD: send GroupManagementRequest:client-759078B4FCBD->s4@group-1E2D214F4B43, cid=7, seq=0, RW, null, Add:group-1E2D214F4B43:[s4:null]
2019-09-24 17:08:23,464 INFO  impl.RaftServerProxy (RaftServerProxy.java:addNew(89)) - s4: addNew group-1E2D214F4B43:[s4:null] returns group-1E2D214F4B43:java.util.concurrent.CompletableFuture@737939ae[Not completed]
2019-09-24 17:08:23,464 INFO  impl.RaftServerImpl (RaftServerImpl.java:<init>(95)) - s4: new RaftServerImpl for group-1E2D214F4B43:[s4:null] with BaseStateMachine:uninitialized
2019-09-24 17:08:23,464 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.rpc.timeout.min = 150ms (default)
2019-09-24 17:08:23,464 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.rpc.timeout.max = 300ms (default)
2019-09-24 17:08:23,465 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.rpcslowness.timeout = 60s (default)
2019-09-24 17:08:23,465 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.sleep.deviation.threshold = 300 (default)
2019-09-24 17:08:23,465 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.log.appender.install.snapshot.enabled = true (default)
2019-09-24 17:08:23,465 INFO  impl.RaftServerImpl (ServerState.java:<init>(103)) - s4@group-1E2D214F4B43: ConfigurationManager, init=-1: [s4:null], old=null, confs=<EMPTY_MAP>
2019-09-24 17:08:23,466 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.storage.dir = [/workdir/ratis-test/target/test/data/312143de/MiniRaftClusterWithSimulatedRpc2356e7fa/s4] (custom)
2019-09-24 17:08:23,466 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.log.corruption.policy = EXCEPTION (default)
2019-09-24 17:08:23,467 INFO  storage.RaftStorageDirectory (RaftStorageDirectory.java:analyzeStorage(246)) - The storage directory /workdir/ratis-test/target/test/data/312143de/MiniRaftClusterWithSimulatedRpc2356e7fa/s4/3262a6e0-130b-4284-b45c-1e2d214f4b43 does not exist. Creating ...
2019-09-24 17:08:23,467 TRACE util.FileUtils (LogUtils.java:runAndLog(61)) - Successfully ran Files.createDirectories /workdir/ratis-test/target/test/data/312143de/MiniRaftClusterWithSimulatedRpc2356e7fa/s4/3262a6e0-130b-4284-b45c-1e2d214f4b43
2019-09-24 17:08:23,506 INFO  storage.RaftStorageDirectory (RaftStorageDirectory.java:tryLock(328)) - Lock on /workdir/ratis-test/target/test/data/312143de/MiniRaftClusterWithSimulatedRpc2356e7fa/s4/3262a6e0-130b-4284-b45c-1e2d214f4b43/in_use.lock acquired by nodename 9360@ratis-test-vphbd-3564017154
2019-09-24 17:08:23,506 TRACE util.FileUtils (LogUtils.java:runAndLog(61)) - Successfully ran Files.createDirectories /workdir/ratis-test/target/test/data/312143de/MiniRaftClusterWithSimulatedRpc2356e7fa/s4/3262a6e0-130b-4284-b45c-1e2d214f4b43/current
2019-09-24 17:08:23,507 TRACE util.FileUtils (LogUtils.java:runAndLog(61)) - Successfully ran Files.createDirectories /workdir/ratis-test/target/test/data/312143de/MiniRaftClusterWithSimulatedRpc2356e7fa/s4/3262a6e0-130b-4284-b45c-1e2d214f4b43/sm
2019-09-24 17:08:23,540 INFO  storage.RaftStorage (RaftStorage.java:format(84)) - Storage directory /workdir/ratis-test/target/test/data/312143de/MiniRaftClusterWithSimulatedRpc2356e7fa/s4/3262a6e0-130b-4284-b45c-1e2d214f4b43 has been successfully formatted.
2019-09-24 17:08:23,540 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.notification.no-leader.timeout = 60s (default)
2019-09-24 17:08:23,540 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.log.use.memory = false (default)
2019-09-24 17:08:23,540 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.log.purge.gap = 1024 (default)
2019-09-24 17:08:23,541 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.log.appender.buffer.byte-limit = 4MB (=4194304) (default)
2019-09-24 17:08:23,541 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.log.segment.size.max = 8MB (=8388608) (default)
2019-09-24 17:08:23,541 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.log.segment.cache.num.max = 6 (default)
2019-09-24 17:08:23,541 INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:<init>(172)) - new s4@group-1E2D214F4B43-SegmentedRaftLogWorker for RaftStorage:Storage Directory /workdir/ratis-test/target/test/data/312143de/MiniRaftClusterWithSimulatedRpc2356e7fa/s4/3262a6e0-130b-4284-b45c-1e2d214f4b43
2019-09-24 17:08:23,541 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.log.queue.byte-limit = 64MB (=67108864) (default)
2019-09-24 17:08:23,542 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.log.queue.element-limit = 4096 (default)
2019-09-24 17:08:23,542 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.log.segment.size.max = 8MB (=8388608) (default)
2019-09-24 17:08:23,542 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.log.preallocated.size = 4MB (=4194304) (default)
2019-09-24 17:08:23,542 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.log.write.buffer.size = 64KB (=65536) (default)
2019-09-24 17:08:23,543 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.log.force.sync.num = 128 (default)
2019-09-24 17:08:23,543 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.log.statemachine.data.sync = true (default)
2019-09-24 17:08:23,543 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.log.statemachine.data.sync.timeout = 10s (default)
2019-09-24 17:08:23,543 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.log.statemachine.data.sync.timeout.retry = -1 (default)
2019-09-24 17:08:23,543 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.log.statemachine.data.caching.enabled = false (default)
2019-09-24 17:08:23,544 INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:lambda$new$0(132)) - s4@group-1E2D214F4B43-SegmentedRaftLogWorker: flushIndex: setUnconditionally 0 -> -1
2019-09-24 17:08:23,544 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.snapshot.auto.trigger.enabled = false (default)
2019-09-24 17:08:23,545 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.snapshot.retention.file.num = -1 (default)
2019-09-24 17:08:23,545 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.retrycache.expirytime = 60s (default)
2019-09-24 17:08:23,549 DEBUG impl.RaftServerProxy (RaftServerProxy.java:lambda$groupAddAsync$10(380)) - s4: newImpl =      null s4@group-1E2D214F4B43:t0, leader=null, voted=null, raftlog=s4@group-1E2D214F4B43-SegmentedRaftLog:OPENED:c-1,f-1,i0, conf=-1: [s4:null], old=null NEW
2019-09-24 17:08:23,550 INFO  impl.RaftServerImpl (RaftServerImpl.java:start(181)) - s4@group-1E2D214F4B43: start as a follower, conf=-1: [s4:null], old=null
2019-09-24 17:08:23,550 INFO  impl.RaftServerImpl (RaftServerImpl.java:setRole(170)) - s4@group-1E2D214F4B43: changes role from      null to FOLLOWER at term 0 for startAsFollower
2019-09-24 17:08:23,550 INFO  impl.RoleInfo (RoleInfo.java:updateAndGet(143)) - s4: start FollowerState
2019-09-24 17:08:23,551 INFO  util.JmxRegister (JmxRegister.java:tryRegister(44)) - Successfully registered JMX Bean with object name Ratis:service=RaftServer,group=group-1E2D214F4B43,id=s4
2019-09-24 17:08:23,556 DEBUG client.RaftClient (RaftClientImpl.java:sendRequest(285)) - client-759078B4FCBD: receive RaftClientReply:client-759078B4FCBD->s4@group-1E2D214F4B43, cid=7, SUCCESS, logIndex=0, commits[s4:c-1]
2019-09-24 17:08:23,556 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.rpc.timeout.max = 300ms (default)
2019-09-24 17:08:23,557 INFO  ratis.RaftTestUtil (RaftTestUtil.java:waitForLeader(86)) - printing group-1E2D214F4B43
  s4:  RUNNING [
   FOLLOWER s4@group-1E2D214F4B43:t0, leader=null, voted=null, raftlog=s4@group-1E2D214F4B43-SegmentedRaftLog:OPENED:c-1,f-1,i0, conf=-1: [s4:null], old=null RUNNING
   FOLLOWER s4@group-E1C4ACACBF57:t0, leader=null, voted=null, raftlog=s4@group-E1C4ACACBF57-SegmentedRaftLog:OPENED:c-1,f-1,i0, conf=-1: [], old=null STARTING] size=2
2019-09-24 17:08:23,558 WARN  ratis.RaftTestUtil (JavaUtils.java:attempt(158)) - FAILED "waitForLeader-group-1E2D214F4B43-(expectLeader? true)", attempt #1/100: java.lang.IllegalStateException: No leader yet  for group-1E2D214F4B43: printing group-1E2D214F4B43
  s4:  RUNNING [
   FOLLOWER s4@group-1E2D214F4B43:t0, leader=null, voted=null, raftlog=s4@group-1E2D214F4B43-SegmentedRaftLog:OPENED:c-1,f-1,i0, conf=-1: [s4:null], old=null RUNNING
   FOLLOWER s4@group-E1C4ACACBF57:t0, leader=null, voted=null, raftlog=s4@group-E1C4ACACBF57-SegmentedRaftLog:OPENED:c-1,f-1,i0, conf=-1: [], old=null STARTING] size=2, sleep 450ms and then retry.
java.lang.IllegalStateException: No leader yet  for group-1E2D214F4B43: printing group-1E2D214F4B43
  s4:  RUNNING [
   FOLLOWER s4@group-1E2D214F4B43:t0, leader=null, voted=null, raftlog=s4@group-1E2D214F4B43-SegmentedRaftLog:OPENED:c-1,f-1,i0, conf=-1: [s4:null], old=null RUNNING
   FOLLOWER s4@group-E1C4ACACBF57:t0, leader=null, voted=null, raftlog=s4@group-E1C4ACACBF57-SegmentedRaftLog:OPENED:c-1,f-1,i0, conf=-1: [], old=null STARTING] size=2
	at org.apache.ratis.MiniRaftCluster.newIllegalStateExceptionForNoLeaders(MiniRaftCluster.java:506)
	at org.apache.ratis.RaftTestUtil.lambda$waitForLeader$1(RaftTestUtil.java:90)
	at org.apache.ratis.MiniRaftCluster.getLeader(MiniRaftCluster.java:539)
	at org.apache.ratis.MiniRaftCluster.getLeader(MiniRaftCluster.java:532)
	at org.apache.ratis.RaftTestUtil.lambda$waitForLeader$3(RaftTestUtil.java:98)
	at org.apache.ratis.util.JavaUtils.attempt(JavaUtils.java:152)
	at org.apache.ratis.RaftTestUtil.waitForLeader(RaftTestUtil.java:97)
	at org.apache.ratis.RaftTestUtil.waitForLeader(RaftTestUtil.java:77)
	at org.apache.ratis.server.impl.GroupManagementBaseTest.runMultiGroupTest(GroupManagementBaseTest.java:175)
	at org.apache.ratis.server.impl.GroupManagementBaseTest.runMultiGroupTest(GroupManagementBaseTest.java:126)
	at org.apache.ratis.server.impl.GroupManagementBaseTest.testMultiGroup5Nodes(GroupManagementBaseTest.java:109)
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.lang.reflect.Method.invoke(Method.java:498)
	at org.junit.runners.model.FrameworkMethod$1.runReflectiveCall(FrameworkMethod.java:50)
	at org.junit.internal.runners.model.ReflectiveCallable.run(ReflectiveCallable.java:12)
	at org.junit.runners.model.FrameworkMethod.invokeExplosively(FrameworkMethod.java:47)
	at org.junit.internal.runners.statements.InvokeMethod.evaluate(InvokeMethod.java:17)
	at org.junit.internal.runners.statements.RunAfters.evaluate(RunAfters.java:27)
	at org.junit.internal.runners.statements.FailOnTimeout$CallableStatement.call(FailOnTimeout.java:298)
	at org.junit.internal.runners.statements.FailOnTimeout$CallableStatement.call(FailOnTimeout.java:292)
	at java.util.concurrent.FutureTask.run(FutureTask.java:266)
	at java.lang.Thread.run(Thread.java:748)
2019-09-24 17:08:23,721 INFO  impl.FollowerState (FollowerState.java:run(108)) - s4@group-1E2D214F4B43-FollowerState: change to CANDIDATE, lastRpcTime:170ms, electionTimeout:170ms
2019-09-24 17:08:23,721 INFO  impl.RoleInfo (RoleInfo.java:shutdownFollowerState(121)) - s4: shutdown FollowerState
2019-09-24 17:08:23,721 INFO  impl.RaftServerImpl (RaftServerImpl.java:setRole(170)) - s4@group-1E2D214F4B43: changes role from  FOLLOWER to CANDIDATE at term 0 for changeToCandidate
2019-09-24 17:08:23,721 INFO  impl.RoleInfo (RoleInfo.java:updateAndGet(143)) - s4: start LeaderElection
2019-09-24 17:08:23,740 INFO  impl.LeaderElection (LeaderElection.java:askForVotes(178)) - s4@group-1E2D214F4B43-LeaderElection6: begin an election at term 1 for -1: [s4:null], old=null
2019-09-24 17:08:23,741 INFO  impl.RoleInfo (RoleInfo.java:shutdownLeaderElection(134)) - s4: shutdown LeaderElection
2019-09-24 17:08:23,741 INFO  impl.RaftServerImpl (RaftServerImpl.java:setRole(170)) - s4@group-1E2D214F4B43: changes role from CANDIDATE to LEADER at term 1 for changeToLeader
2019-09-24 17:08:23,741 INFO  impl.RaftServerImpl (ServerState.java:setLeader(254)) - s4@group-1E2D214F4B43: change Leader from null to s4 at term 1 for becomeLeader, leader elected after 201ms
2019-09-24 17:08:23,741 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.staging.catchup.gap = 1000 (default)
2019-09-24 17:08:23,741 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.rpc.sleep.time = 25ms (default)
2019-09-24 17:08:23,742 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.write.element-limit = 4096 (default)
2019-09-24 17:08:23,742 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.watch.timeout = 10s (default)
2019-09-24 17:08:23,742 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.watch.timeout.denomination = 1s (default)
2019-09-24 17:08:23,742 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.watch.element-limit = 65536 (default)
2019-09-24 17:08:23,746 INFO  impl.RoleInfo (RoleInfo.java:updateAndGet(143)) - s4: start LeaderState
2019-09-24 17:08:23,746 INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:startLogSegment(380)) - s4@group-1E2D214F4B43-SegmentedRaftLogWorker: Starting segment from index:0
2019-09-24 17:08:23,747 INFO  impl.RaftServerImpl (ServerState.java:setRaftConf(355)) - s4@group-1E2D214F4B43: set configuration 0: [s4:], old=null at 0
2019-09-24 17:08:23,832 INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:execute(569)) - s4@group-1E2D214F4B43-SegmentedRaftLogWorker: created new log segment /workdir/ratis-test/target/test/data/312143de/MiniRaftClusterWithSimulatedRpc2356e7fa/s4/3262a6e0-130b-4284-b45c-1e2d214f4b43/current/log_inprogress_0
2019-09-24 17:08:24,009 INFO  ratis.RaftTestUtil (RaftTestUtil.java:waitForLeader(101)) - printing group-1E2D214F4B43
  s4:  RUNNING [
     LEADER s4@group-1E2D214F4B43:t1, leader=s4, voted=s4, raftlog=s4@group-1E2D214F4B43-SegmentedRaftLog:OPENED:c0,f0,i0, conf=0: [s4:], old=null RUNNING
   FOLLOWER s4@group-E1C4ACACBF57:t0, leader=null, voted=null, raftlog=s4@group-E1C4ACACBF57-SegmentedRaftLog:OPENED:c-1,f-1,i0, conf=-1: [], old=null STARTING] size=2
| MiniRaftClusterWithSimulatedRpc[3, 4, 5]chosen=0 | start groups | 112 |
2019-09-24 17:08:24,010 INFO  impl.GroupManagementBaseTest (GroupManagementBaseTest.java:runMultiGroupTest(179)) - start groups: printing ALL groups
  s3:  RUNNING [
   FOLLOWER s3@group-E1C4ACACBF57:t0, leader=null, voted=null, raftlog=s3@group-E1C4ACACBF57-SegmentedRaftLog:OPENED:c-1,f-1,i0, conf=-1: [], old=null STARTING
     LEADER s3@group-76D56AD845C5:t1, leader=s3, voted=s3, raftlog=s3@group-76D56AD845C5-SegmentedRaftLog:OPENED:c0,f0,i0, conf=0: [s3:], old=null RUNNING] size=2
  s4:  RUNNING [
     LEADER s4@group-1E2D214F4B43:t1, leader=s4, voted=s4, raftlog=s4@group-1E2D214F4B43-SegmentedRaftLog:OPENED:c0,f0,i0, conf=0: [s4:], old=null RUNNING
   FOLLOWER s4@group-E1C4ACACBF57:t0, leader=null, voted=null, raftlog=s4@group-E1C4ACACBF57-SegmentedRaftLog:OPENED:c-1,f-1,i0, conf=-1: [], old=null STARTING] size=2
  s0:  RUNNING [
     LEADER s0@group-615D5B2B68DF:t1, leader=s0, voted=s0, raftlog=s0@group-615D5B2B68DF-SegmentedRaftLog:OPENED:c0,f0,i0, conf=0: [s0:, s1:, s2:], old=null RUNNING
   FOLLOWER s0@group-E1C4ACACBF57:t0, leader=null, voted=null, raftlog=s0@group-E1C4ACACBF57-SegmentedRaftLog:OPENED:c-1,f-1,i0, conf=-1: [], old=null STARTING] size=2
  s1:  RUNNING [
   FOLLOWER s1@group-615D5B2B68DF:t1, leader=s0, voted=s0, raftlog=s1@group-615D5B2B68DF-SegmentedRaftLog:OPENED:c0,f0,i0, conf=0: [s0:, s1:, s2:], old=null RUNNING
   FOLLOWER s1@group-E1C4ACACBF57:t0, leader=null, voted=null, raftlog=s1@group-E1C4ACACBF57-SegmentedRaftLog:OPENED:c-1,f-1,i0, conf=-1: [], old=null STARTING] size=2
  s2:  RUNNING [
   FOLLOWER s2@group-615D5B2B68DF:t1, leader=s0, voted=s0, raftlog=s2@group-615D5B2B68DF-SegmentedRaftLog:OPENED:c0,f0,i0, conf=0: [s0:, s1:, s2:], old=null RUNNING
   FOLLOWER s2@group-E1C4ACACBF57:t0, leader=null, voted=null, raftlog=s2@group-E1C4ACACBF57-SegmentedRaftLog:OPENED:c-1,f-1,i0, conf=-1: [], old=null STARTING] size=2
2019-09-24 17:08:24,011 INFO  impl.GroupManagementBaseTest (GroupManagementBaseTest.java:runMultiGroupTest(182)) - chosen = 0, group-615D5B2B68DF:[s0:null, s1:null, s2:null]
2019-09-24 17:08:24,011 INFO  impl.GroupManagementBaseTest (GroupManagementBaseTest.java:runMultiGroupTest(187)) - 1) close printing group-76D56AD845C5
  s3:  RUNNING [
   FOLLOWER s3@group-E1C4ACACBF57:t0, leader=null, voted=null, raftlog=s3@group-E1C4ACACBF57-SegmentedRaftLog:OPENED:c-1,f-1,i0, conf=-1: [], old=null STARTING
     LEADER s3@group-76D56AD845C5:t1, leader=s3, voted=s3, raftlog=s3@group-76D56AD845C5-SegmentedRaftLog:OPENED:c0,f0,i0, conf=0: [s3:], old=null RUNNING] size=2
2019-09-24 17:08:24,012 DEBUG client.RaftClient (ConfUtils.java:logGet(43)) - raft.rpc.type = org.apache.ratis.server.simulation.SimulatedRpc (custom)
2019-09-24 17:08:24,013 DEBUG client.RaftClient (RaftClientImpl.java:sendRequest(275)) - client-BDDFB0FB1E55: send GroupManagementRequest:client-BDDFB0FB1E55->s3@group-76D56AD845C5, cid=8, seq=0, RW, null, Remove:group-76D56AD845C5, delete-dir
2019-09-24 17:08:24,013 INFO  impl.RaftServerProxy (RaftServerProxy.java:remove(95)) - s3: remove    LEADER s3@group-76D56AD845C5:t1, leader=s3, voted=s3, raftlog=s3@group-76D56AD845C5-SegmentedRaftLog:OPENED:c0,f0,i0, conf=0: [s3:], old=null RUNNING
2019-09-24 17:08:24,016 INFO  impl.RaftServerImpl (RaftServerImpl.java:lambda$shutdown$3(247)) - s3@group-76D56AD845C5: shutdown
2019-09-24 17:08:24,017 INFO  util.JmxRegister (JmxRegister.java:unregister(73)) - Successfully un-registered JMX Bean with object name Ratis:service=RaftServer,group=group-76D56AD845C5,id=s3
2019-09-24 17:08:24,017 INFO  impl.RoleInfo (RoleInfo.java:shutdownLeaderState(104)) - s3: shutdown LeaderState
2019-09-24 17:08:24,017 INFO  impl.PendingRequests (PendingRequests.java:sendNotLeaderResponses(202)) - s3@group-76D56AD845C5-PendingRequests: sendNotLeaderResponses
2019-09-24 17:08:24,017 INFO  impl.StateMachineUpdater (StateMachineUpdater.java:stopAndJoin(136)) - s3@group-76D56AD845C5-StateMachineUpdater: set stopIndex = 0
2019-09-24 17:08:24,018 INFO  impl.RaftServerImpl (ServerState.java:close(386)) - s3@group-76D56AD845C5: closes. applyIndex: 0
2019-09-24 17:08:24,019 INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:run(313)) - s3@group-76D56AD845C5-SegmentedRaftLogWorker was interrupted, exiting. There are 0 tasks remaining in the queue.
2019-09-24 17:08:24,023 INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:close(228)) - s3@group-76D56AD845C5-SegmentedRaftLogWorker close()
2019-09-24 17:08:24,025 TRACE util.FileUtils (FileUtils.java:deleteFully(88)) - deleteFully /workdir/ratis-test/target/test/data/312143de/MiniRaftClusterWithSimulatedRpc2356e7fa/s3/971fc1f9-20d4-4f36-8e52-76d56ad845c5
2019-09-24 17:08:24,029 TRACE util.FileUtils (LogUtils.java:runAndLog(61)) - Successfully ran Files.delete /workdir/ratis-test/target/test/data/312143de/MiniRaftClusterWithSimulatedRpc2356e7fa/s3/971fc1f9-20d4-4f36-8e52-76d56ad845c5/current/raft-meta
2019-09-24 17:08:24,029 TRACE util.FileUtils (LogUtils.java:runAndLog(61)) - Successfully ran Files.delete /workdir/ratis-test/target/test/data/312143de/MiniRaftClusterWithSimulatedRpc2356e7fa/s3/971fc1f9-20d4-4f36-8e52-76d56ad845c5/current/log_inprogress_0
2019-09-24 17:08:24,029 TRACE util.FileUtils (LogUtils.java:runAndLog(61)) - Successfully ran Files.delete /workdir/ratis-test/target/test/data/312143de/MiniRaftClusterWithSimulatedRpc2356e7fa/s3/971fc1f9-20d4-4f36-8e52-76d56ad845c5/current/raft-meta.conf
2019-09-24 17:08:24,030 TRACE util.FileUtils (LogUtils.java:runAndLog(61)) - Successfully ran Files.delete /workdir/ratis-test/target/test/data/312143de/MiniRaftClusterWithSimulatedRpc2356e7fa/s3/971fc1f9-20d4-4f36-8e52-76d56ad845c5/current
2019-09-24 17:08:24,030 TRACE util.FileUtils (LogUtils.java:runAndLog(61)) - Successfully ran Files.delete /workdir/ratis-test/target/test/data/312143de/MiniRaftClusterWithSimulatedRpc2356e7fa/s3/971fc1f9-20d4-4f36-8e52-76d56ad845c5/sm
2019-09-24 17:08:24,030 TRACE util.FileUtils (LogUtils.java:runAndLog(61)) - Successfully ran Files.delete /workdir/ratis-test/target/test/data/312143de/MiniRaftClusterWithSimulatedRpc2356e7fa/s3/971fc1f9-20d4-4f36-8e52-76d56ad845c5/in_use.lock
2019-09-24 17:08:24,031 TRACE util.FileUtils (LogUtils.java:runAndLog(61)) - Successfully ran Files.delete /workdir/ratis-test/target/test/data/312143de/MiniRaftClusterWithSimulatedRpc2356e7fa/s3/971fc1f9-20d4-4f36-8e52-76d56ad845c5
2019-09-24 17:08:24,031 DEBUG client.RaftClient (RaftClientImpl.java:sendRequest(285)) - client-BDDFB0FB1E55: receive RaftClientReply:client-BDDFB0FB1E55->s3@group-76D56AD845C5, cid=8, SUCCESS, logIndex=0, commits[s3:c0]
2019-09-24 17:08:24,032 INFO  impl.GroupManagementBaseTest (GroupManagementBaseTest.java:runMultiGroupTest(187)) - 2) close printing group-1E2D214F4B43
  s4:  RUNNING [
     LEADER s4@group-1E2D214F4B43:t1, leader=s4, voted=s4, raftlog=s4@group-1E2D214F4B43-SegmentedRaftLog:OPENED:c0,f0,i0, conf=0: [s4:], old=null RUNNING
   FOLLOWER s4@group-E1C4ACACBF57:t0, leader=null, voted=null, raftlog=s4@group-E1C4ACACBF57-SegmentedRaftLog:OPENED:c-1,f-1,i0, conf=-1: [], old=null STARTING] size=2
2019-09-24 17:08:24,033 DEBUG client.RaftClient (ConfUtils.java:logGet(43)) - raft.rpc.type = org.apache.ratis.server.simulation.SimulatedRpc (custom)
2019-09-24 17:08:24,034 DEBUG client.RaftClient (RaftClientImpl.java:sendRequest(275)) - client-F435C2E0F75C: send GroupManagementRequest:client-F435C2E0F75C->s4@group-1E2D214F4B43, cid=9, seq=0, RW, null, Remove:group-1E2D214F4B43, delete-dir
2019-09-24 17:08:24,034 INFO  impl.RaftServerProxy (RaftServerProxy.java:remove(95)) - s4: remove    LEADER s4@group-1E2D214F4B43:t1, leader=s4, voted=s4, raftlog=s4@group-1E2D214F4B43-SegmentedRaftLog:OPENED:c0,f0,i0, conf=0: [s4:], old=null RUNNING
2019-09-24 17:08:24,034 INFO  impl.RaftServerImpl (RaftServerImpl.java:lambda$shutdown$3(247)) - s4@group-1E2D214F4B43: shutdown
2019-09-24 17:08:24,035 INFO  util.JmxRegister (JmxRegister.java:unregister(73)) - Successfully un-registered JMX Bean with object name Ratis:service=RaftServer,group=group-1E2D214F4B43,id=s4
2019-09-24 17:08:24,035 INFO  impl.RoleInfo (RoleInfo.java:shutdownLeaderState(104)) - s4: shutdown LeaderState
2019-09-24 17:08:24,035 INFO  impl.PendingRequests (PendingRequests.java:sendNotLeaderResponses(202)) - s4@group-1E2D214F4B43-PendingRequests: sendNotLeaderResponses
2019-09-24 17:08:24,035 INFO  impl.StateMachineUpdater (StateMachineUpdater.java:stopAndJoin(136)) - s4@group-1E2D214F4B43-StateMachineUpdater: set stopIndex = 0
2019-09-24 17:08:24,036 INFO  impl.RaftServerImpl (ServerState.java:close(386)) - s4@group-1E2D214F4B43: closes. applyIndex: 0
2019-09-24 17:08:24,036 INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:run(313)) - s4@group-1E2D214F4B43-SegmentedRaftLogWorker was interrupted, exiting. There are 0 tasks remaining in the queue.
2019-09-24 17:08:24,039 INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:close(228)) - s4@group-1E2D214F4B43-SegmentedRaftLogWorker close()
2019-09-24 17:08:24,040 TRACE util.FileUtils (FileUtils.java:deleteFully(88)) - deleteFully /workdir/ratis-test/target/test/data/312143de/MiniRaftClusterWithSimulatedRpc2356e7fa/s4/3262a6e0-130b-4284-b45c-1e2d214f4b43
2019-09-24 17:08:24,040 TRACE util.FileUtils (LogUtils.java:runAndLog(61)) - Successfully ran Files.delete /workdir/ratis-test/target/test/data/312143de/MiniRaftClusterWithSimulatedRpc2356e7fa/s4/3262a6e0-130b-4284-b45c-1e2d214f4b43/current/raft-meta
2019-09-24 17:08:24,040 TRACE util.FileUtils (LogUtils.java:runAndLog(61)) - Successfully ran Files.delete /workdir/ratis-test/target/test/data/312143de/MiniRaftClusterWithSimulatedRpc2356e7fa/s4/3262a6e0-130b-4284-b45c-1e2d214f4b43/current/log_inprogress_0
2019-09-24 17:08:24,041 TRACE util.FileUtils (LogUtils.java:runAndLog(61)) - Successfully ran Files.delete /workdir/ratis-test/target/test/data/312143de/MiniRaftClusterWithSimulatedRpc2356e7fa/s4/3262a6e0-130b-4284-b45c-1e2d214f4b43/current/raft-meta.conf
2019-09-24 17:08:24,041 TRACE util.FileUtils (LogUtils.java:runAndLog(61)) - Successfully ran Files.delete /workdir/ratis-test/target/test/data/312143de/MiniRaftClusterWithSimulatedRpc2356e7fa/s4/3262a6e0-130b-4284-b45c-1e2d214f4b43/current
2019-09-24 17:08:24,041 TRACE util.FileUtils (LogUtils.java:runAndLog(61)) - Successfully ran Files.delete /workdir/ratis-test/target/test/data/312143de/MiniRaftClusterWithSimulatedRpc2356e7fa/s4/3262a6e0-130b-4284-b45c-1e2d214f4b43/sm
2019-09-24 17:08:24,041 TRACE util.FileUtils (LogUtils.java:runAndLog(61)) - Successfully ran Files.delete /workdir/ratis-test/target/test/data/312143de/MiniRaftClusterWithSimulatedRpc2356e7fa/s4/3262a6e0-130b-4284-b45c-1e2d214f4b43/in_use.lock
2019-09-24 17:08:24,042 TRACE util.FileUtils (LogUtils.java:runAndLog(61)) - Successfully ran Files.delete /workdir/ratis-test/target/test/data/312143de/MiniRaftClusterWithSimulatedRpc2356e7fa/s4/3262a6e0-130b-4284-b45c-1e2d214f4b43
2019-09-24 17:08:24,042 DEBUG client.RaftClient (RaftClientImpl.java:sendRequest(285)) - client-F435C2E0F75C: receive RaftClientReply:client-F435C2E0F75C->s4@group-1E2D214F4B43, cid=9, SUCCESS, logIndex=0, commits[s4:c0]
| MiniRaftClusterWithSimulatedRpc[3, 4, 5]chosen=0 | close groups | 110 |
2019-09-24 17:08:24,043 INFO  impl.GroupManagementBaseTest (GroupManagementBaseTest.java:runMultiGroupTest(203)) - close groups: printing ALL groups
  s3:  RUNNING  FOLLOWER s3@group-E1C4ACACBF57:t0, leader=null, voted=null, raftlog=s3@group-E1C4ACACBF57-SegmentedRaftLog:OPENED:c-1,f-1,i0, conf=-1: [], old=null STARTING
  s4:  RUNNING  FOLLOWER s4@group-E1C4ACACBF57:t0, leader=null, voted=null, raftlog=s4@group-E1C4ACACBF57-SegmentedRaftLog:OPENED:c-1,f-1,i0, conf=-1: [], old=null STARTING
  s0:  RUNNING [
     LEADER s0@group-615D5B2B68DF:t1, leader=s0, voted=s0, raftlog=s0@group-615D5B2B68DF-SegmentedRaftLog:OPENED:c0,f0,i0, conf=0: [s0:, s1:, s2:], old=null RUNNING
   FOLLOWER s0@group-E1C4ACACBF57:t0, leader=null, voted=null, raftlog=s0@group-E1C4ACACBF57-SegmentedRaftLog:OPENED:c-1,f-1,i0, conf=-1: [], old=null STARTING] size=2
  s1:  RUNNING [
   FOLLOWER s1@group-615D5B2B68DF:t1, leader=s0, voted=s0, raftlog=s1@group-615D5B2B68DF-SegmentedRaftLog:OPENED:c0,f0,i0, conf=0: [s0:, s1:, s2:], old=null RUNNING
   FOLLOWER s1@group-E1C4ACACBF57:t0, leader=null, voted=null, raftlog=s1@group-E1C4ACACBF57-SegmentedRaftLog:OPENED:c-1,f-1,i0, conf=-1: [], old=null STARTING] size=2
  s2:  RUNNING [
   FOLLOWER s2@group-615D5B2B68DF:t1, leader=s0, voted=s0, raftlog=s2@group-615D5B2B68DF-SegmentedRaftLog:OPENED:c0,f0,i0, conf=0: [s0:, s1:, s2:], old=null RUNNING
   FOLLOWER s2@group-E1C4ACACBF57:t0, leader=null, voted=null, raftlog=s2@group-E1C4ACACBF57-SegmentedRaftLog:OPENED:c-1,f-1,i0, conf=-1: [], old=null STARTING] size=2
2019-09-24 17:08:24,043 INFO  impl.GroupManagementBaseTest (GroupManagementBaseTest.java:runMultiGroupTest(209)) - 1) groupAdd: printing group-76D56AD845C5
2019-09-24 17:08:24,044 DEBUG client.RaftClient (ConfUtils.java:logGet(43)) - raft.rpc.type = org.apache.ratis.server.simulation.SimulatedRpc (custom)
2019-09-24 17:08:24,044 DEBUG client.RaftClient (RaftClientImpl.java:sendRequest(275)) - client-D3B2EBE4432F: send GroupManagementRequest:client-D3B2EBE4432F->s3@group-615D5B2B68DF, cid=10, seq=0, RW, null, Add:group-615D5B2B68DF:[]
2019-09-24 17:08:24,044 INFO  impl.RaftServerProxy (RaftServerProxy.java:addNew(89)) - s3: addNew group-615D5B2B68DF:[] returns group-615D5B2B68DF:java.util.concurrent.CompletableFuture@3f719643[Not completed]
2019-09-24 17:08:24,044 INFO  impl.RaftServerImpl (RaftServerImpl.java:<init>(95)) - s3: new RaftServerImpl for group-615D5B2B68DF:[] with BaseStateMachine:uninitialized
2019-09-24 17:08:24,045 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.rpc.timeout.min = 150ms (default)
2019-09-24 17:08:24,046 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.rpc.timeout.max = 300ms (default)
2019-09-24 17:08:24,046 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.rpcslowness.timeout = 60s (default)
2019-09-24 17:08:24,046 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.sleep.deviation.threshold = 300 (default)
2019-09-24 17:08:24,046 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.log.appender.install.snapshot.enabled = true (default)
2019-09-24 17:08:24,046 INFO  impl.RaftServerImpl (ServerState.java:<init>(103)) - s3@group-615D5B2B68DF: ConfigurationManager, init=-1: [], old=null, confs=<EMPTY_MAP>
2019-09-24 17:08:24,047 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.storage.dir = [/workdir/ratis-test/target/test/data/312143de/MiniRaftClusterWithSimulatedRpc2356e7fa/s3] (custom)
2019-09-24 17:08:24,048 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.log.corruption.policy = EXCEPTION (default)
2019-09-24 17:08:24,048 INFO  storage.RaftStorageDirectory (RaftStorageDirectory.java:analyzeStorage(246)) - The storage directory /workdir/ratis-test/target/test/data/312143de/MiniRaftClusterWithSimulatedRpc2356e7fa/s3/d3d5ee81-cb69-4038-8864-615d5b2b68df does not exist. Creating ...
2019-09-24 17:08:24,048 TRACE util.FileUtils (LogUtils.java:runAndLog(61)) - Successfully ran Files.createDirectories /workdir/ratis-test/target/test/data/312143de/MiniRaftClusterWithSimulatedRpc2356e7fa/s3/d3d5ee81-cb69-4038-8864-615d5b2b68df
2019-09-24 17:08:24,074 INFO  storage.RaftStorageDirectory (RaftStorageDirectory.java:tryLock(328)) - Lock on /workdir/ratis-test/target/test/data/312143de/MiniRaftClusterWithSimulatedRpc2356e7fa/s3/d3d5ee81-cb69-4038-8864-615d5b2b68df/in_use.lock acquired by nodename 9360@ratis-test-vphbd-3564017154
2019-09-24 17:08:24,075 TRACE util.FileUtils (LogUtils.java:runAndLog(61)) - Successfully ran Files.createDirectories /workdir/ratis-test/target/test/data/312143de/MiniRaftClusterWithSimulatedRpc2356e7fa/s3/d3d5ee81-cb69-4038-8864-615d5b2b68df/current
2019-09-24 17:08:24,075 TRACE util.FileUtils (LogUtils.java:runAndLog(61)) - Successfully ran Files.createDirectories /workdir/ratis-test/target/test/data/312143de/MiniRaftClusterWithSimulatedRpc2356e7fa/s3/d3d5ee81-cb69-4038-8864-615d5b2b68df/sm
2019-09-24 17:08:24,099 INFO  storage.RaftStorage (RaftStorage.java:format(84)) - Storage directory /workdir/ratis-test/target/test/data/312143de/MiniRaftClusterWithSimulatedRpc2356e7fa/s3/d3d5ee81-cb69-4038-8864-615d5b2b68df has been successfully formatted.
2019-09-24 17:08:24,100 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.notification.no-leader.timeout = 60s (default)
2019-09-24 17:08:24,100 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.log.use.memory = false (default)
2019-09-24 17:08:24,100 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.log.purge.gap = 1024 (default)
2019-09-24 17:08:24,100 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.log.appender.buffer.byte-limit = 4MB (=4194304) (default)
2019-09-24 17:08:24,100 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.log.segment.size.max = 8MB (=8388608) (default)
2019-09-24 17:08:24,100 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.log.segment.cache.num.max = 6 (default)
2019-09-24 17:08:24,101 INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:<init>(172)) - new s3@group-615D5B2B68DF-SegmentedRaftLogWorker for RaftStorage:Storage Directory /workdir/ratis-test/target/test/data/312143de/MiniRaftClusterWithSimulatedRpc2356e7fa/s3/d3d5ee81-cb69-4038-8864-615d5b2b68df
2019-09-24 17:08:24,101 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.log.queue.byte-limit = 64MB (=67108864) (default)
2019-09-24 17:08:24,101 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.log.queue.element-limit = 4096 (default)
2019-09-24 17:08:24,101 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.log.segment.size.max = 8MB (=8388608) (default)
2019-09-24 17:08:24,101 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.log.preallocated.size = 4MB (=4194304) (default)
2019-09-24 17:08:24,101 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.log.write.buffer.size = 64KB (=65536) (default)
2019-09-24 17:08:24,102 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.log.force.sync.num = 128 (default)
2019-09-24 17:08:24,102 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.log.statemachine.data.sync = true (default)
2019-09-24 17:08:24,102 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.log.statemachine.data.sync.timeout = 10s (default)
2019-09-24 17:08:24,102 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.log.statemachine.data.sync.timeout.retry = -1 (default)
2019-09-24 17:08:24,102 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.log.statemachine.data.caching.enabled = false (default)
2019-09-24 17:08:24,103 INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:lambda$new$0(132)) - s3@group-615D5B2B68DF-SegmentedRaftLogWorker: flushIndex: setUnconditionally 0 -> -1
2019-09-24 17:08:24,103 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.snapshot.auto.trigger.enabled = false (default)
2019-09-24 17:08:24,103 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.snapshot.retention.file.num = -1 (default)
2019-09-24 17:08:24,103 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.retrycache.expirytime = 60s (default)
2019-09-24 17:08:24,106 DEBUG impl.RaftServerProxy (RaftServerProxy.java:lambda$groupAddAsync$10(380)) - s3: newImpl =      null s3@group-615D5B2B68DF:t0, leader=null, voted=null, raftlog=s3@group-615D5B2B68DF-SegmentedRaftLog:OPENED:c-1,f-1,i0, conf=-1: [], old=null NEW
2019-09-24 17:08:24,106 INFO  impl.RaftServerImpl (RaftServerImpl.java:start(184)) - s3@group-615D5B2B68DF: start with initializing state, conf=-1: [], old=null
2019-09-24 17:08:24,106 INFO  impl.RaftServerImpl (RaftServerImpl.java:setRole(170)) - s3@group-615D5B2B68DF: changes role from      null to FOLLOWER at term 0 for startInitializing
2019-09-24 17:08:24,107 INFO  util.JmxRegister (JmxRegister.java:tryRegister(44)) - Successfully registered JMX Bean with object name Ratis:service=RaftServer,group=group-615D5B2B68DF,id=s3
2019-09-24 17:08:24,110 DEBUG client.RaftClient (RaftClientImpl.java:sendRequest(285)) - client-D3B2EBE4432F: receive RaftClientReply:client-D3B2EBE4432F->s3@group-615D5B2B68DF, cid=10, SUCCESS, logIndex=0, commits[s3:c-1]
2019-09-24 17:08:24,110 INFO  impl.GroupManagementBaseTest (GroupManagementBaseTest.java:runMultiGroupTest(209)) - 2) groupAdd: printing group-1E2D214F4B43
2019-09-24 17:08:24,111 DEBUG client.RaftClient (ConfUtils.java:logGet(43)) - raft.rpc.type = org.apache.ratis.server.simulation.SimulatedRpc (custom)
2019-09-24 17:08:24,111 DEBUG client.RaftClient (RaftClientImpl.java:sendRequest(275)) - client-FEA5BEF5692A: send GroupManagementRequest:client-FEA5BEF5692A->s4@group-615D5B2B68DF, cid=11, seq=0, RW, null, Add:group-615D5B2B68DF:[]
2019-09-24 17:08:24,111 INFO  impl.RaftServerImpl (RaftServerImpl.java:<init>(95)) - s4: new RaftServerImpl for group-615D5B2B68DF:[] with BaseStateMachine:uninitialized
2019-09-24 17:08:24,111 INFO  impl.RaftServerProxy (RaftServerProxy.java:addNew(89)) - s4: addNew group-615D5B2B68DF:[] returns group-615D5B2B68DF:java.util.concurrent.CompletableFuture@117cc268[Not completed]
2019-09-24 17:08:24,112 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.rpc.timeout.min = 150ms (default)
2019-09-24 17:08:24,112 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.rpc.timeout.max = 300ms (default)
2019-09-24 17:08:24,112 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.rpcslowness.timeout = 60s (default)
2019-09-24 17:08:24,112 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.sleep.deviation.threshold = 300 (default)
2019-09-24 17:08:24,112 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.log.appender.install.snapshot.enabled = true (default)
2019-09-24 17:08:24,112 INFO  impl.RaftServerImpl (ServerState.java:<init>(103)) - s4@group-615D5B2B68DF: ConfigurationManager, init=-1: [], old=null, confs=<EMPTY_MAP>
2019-09-24 17:08:24,113 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.storage.dir = [/workdir/ratis-test/target/test/data/312143de/MiniRaftClusterWithSimulatedRpc2356e7fa/s4] (custom)
2019-09-24 17:08:24,113 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.log.corruption.policy = EXCEPTION (default)
2019-09-24 17:08:24,113 INFO  storage.RaftStorageDirectory (RaftStorageDirectory.java:analyzeStorage(246)) - The storage directory /workdir/ratis-test/target/test/data/312143de/MiniRaftClusterWithSimulatedRpc2356e7fa/s4/d3d5ee81-cb69-4038-8864-615d5b2b68df does not exist. Creating ...
2019-09-24 17:08:24,114 TRACE util.FileUtils (LogUtils.java:runAndLog(61)) - Successfully ran Files.createDirectories /workdir/ratis-test/target/test/data/312143de/MiniRaftClusterWithSimulatedRpc2356e7fa/s4/d3d5ee81-cb69-4038-8864-615d5b2b68df
2019-09-24 17:08:24,141 INFO  storage.RaftStorageDirectory (RaftStorageDirectory.java:tryLock(328)) - Lock on /workdir/ratis-test/target/test/data/312143de/MiniRaftClusterWithSimulatedRpc2356e7fa/s4/d3d5ee81-cb69-4038-8864-615d5b2b68df/in_use.lock acquired by nodename 9360@ratis-test-vphbd-3564017154
2019-09-24 17:08:24,142 TRACE util.FileUtils (LogUtils.java:runAndLog(61)) - Successfully ran Files.createDirectories /workdir/ratis-test/target/test/data/312143de/MiniRaftClusterWithSimulatedRpc2356e7fa/s4/d3d5ee81-cb69-4038-8864-615d5b2b68df/current
2019-09-24 17:08:24,142 TRACE util.FileUtils (LogUtils.java:runAndLog(61)) - Successfully ran Files.createDirectories /workdir/ratis-test/target/test/data/312143de/MiniRaftClusterWithSimulatedRpc2356e7fa/s4/d3d5ee81-cb69-4038-8864-615d5b2b68df/sm
2019-09-24 17:08:24,225 INFO  storage.RaftStorage (RaftStorage.java:format(84)) - Storage directory /workdir/ratis-test/target/test/data/312143de/MiniRaftClusterWithSimulatedRpc2356e7fa/s4/d3d5ee81-cb69-4038-8864-615d5b2b68df has been successfully formatted.
2019-09-24 17:08:24,226 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.notification.no-leader.timeout = 60s (default)
2019-09-24 17:08:24,226 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.log.use.memory = false (default)
2019-09-24 17:08:24,226 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.log.purge.gap = 1024 (default)
2019-09-24 17:08:24,226 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.log.appender.buffer.byte-limit = 4MB (=4194304) (default)
2019-09-24 17:08:24,227 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.log.segment.size.max = 8MB (=8388608) (default)
2019-09-24 17:08:24,227 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.log.segment.cache.num.max = 6 (default)
2019-09-24 17:08:24,227 INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:<init>(172)) - new s4@group-615D5B2B68DF-SegmentedRaftLogWorker for RaftStorage:Storage Directory /workdir/ratis-test/target/test/data/312143de/MiniRaftClusterWithSimulatedRpc2356e7fa/s4/d3d5ee81-cb69-4038-8864-615d5b2b68df
2019-09-24 17:08:24,227 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.log.queue.byte-limit = 64MB (=67108864) (default)
2019-09-24 17:08:24,228 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.log.queue.element-limit = 4096 (default)
2019-09-24 17:08:24,228 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.log.segment.size.max = 8MB (=8388608) (default)
2019-09-24 17:08:24,228 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.log.preallocated.size = 4MB (=4194304) (default)
2019-09-24 17:08:24,228 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.log.write.buffer.size = 64KB (=65536) (default)
2019-09-24 17:08:24,229 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.log.force.sync.num = 128 (default)
2019-09-24 17:08:24,229 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.log.statemachine.data.sync = true (default)
2019-09-24 17:08:24,229 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.log.statemachine.data.sync.timeout = 10s (default)
2019-09-24 17:08:24,229 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.log.statemachine.data.sync.timeout.retry = -1 (default)
2019-09-24 17:08:24,230 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.log.statemachine.data.caching.enabled = false (default)
2019-09-24 17:08:24,230 INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:lambda$new$0(132)) - s4@group-615D5B2B68DF-SegmentedRaftLogWorker: flushIndex: setUnconditionally 0 -> -1
2019-09-24 17:08:24,231 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.snapshot.auto.trigger.enabled = false (default)
2019-09-24 17:08:24,231 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.snapshot.retention.file.num = -1 (default)
2019-09-24 17:08:24,231 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.retrycache.expirytime = 60s (default)
2019-09-24 17:08:24,236 DEBUG impl.RaftServerProxy (RaftServerProxy.java:lambda$groupAddAsync$10(380)) - s4: newImpl =      null s4@group-615D5B2B68DF:t0, leader=null, voted=null, raftlog=s4@group-615D5B2B68DF-SegmentedRaftLog:OPENED:c-1,f-1,i0, conf=-1: [], old=null NEW
2019-09-24 17:08:24,236 INFO  impl.RaftServerImpl (RaftServerImpl.java:start(184)) - s4@group-615D5B2B68DF: start with initializing state, conf=-1: [], old=null
2019-09-24 17:08:24,236 INFO  impl.RaftServerImpl (RaftServerImpl.java:setRole(170)) - s4@group-615D5B2B68DF: changes role from      null to FOLLOWER at term 0 for startInitializing
2019-09-24 17:08:24,237 INFO  util.JmxRegister (JmxRegister.java:tryRegister(44)) - Successfully registered JMX Bean with object name Ratis:service=RaftServer,group=group-615D5B2B68DF,id=s4
2019-09-24 17:08:24,241 DEBUG client.RaftClient (RaftClientImpl.java:sendRequest(285)) - client-FEA5BEF5692A: receive RaftClientReply:client-FEA5BEF5692A->s4@group-615D5B2B68DF, cid=11, SUCCESS, logIndex=0, commits[s4:c-1]
2019-09-24 17:08:24,243 INFO  impl.GroupManagementBaseTest (GroupManagementBaseTest.java:runMultiGroupTest(217)) - 0) setConfiguration: printing group-615D5B2B68DF
  s3:  RUNNING [
   FOLLOWER s3@group-615D5B2B68DF:t0, leader=null, voted=null, raftlog=s3@group-615D5B2B68DF-SegmentedRaftLog:OPENED:c-1,f-1,i0, conf=-1: [], old=null STARTING
   FOLLOWER s3@group-E1C4ACACBF57:t0, leader=null, voted=null, raftlog=s3@group-E1C4ACACBF57-SegmentedRaftLog:OPENED:c-1,f-1,i0, conf=-1: [], old=null STARTING] size=2
  s4:  RUNNING [
   FOLLOWER s4@group-615D5B2B68DF:t0, leader=null, voted=null, raftlog=s4@group-615D5B2B68DF-SegmentedRaftLog:OPENED:c-1,f-1,i0, conf=-1: [], old=null STARTING
   FOLLOWER s4@group-E1C4ACACBF57:t0, leader=null, voted=null, raftlog=s4@group-E1C4ACACBF57-SegmentedRaftLog:OPENED:c-1,f-1,i0, conf=-1: [], old=null STARTING] size=2
  s0:  RUNNING [
     LEADER s0@group-615D5B2B68DF:t1, leader=s0, voted=s0, raftlog=s0@group-615D5B2B68DF-SegmentedRaftLog:OPENED:c0,f0,i0, conf=0: [s0:, s1:, s2:], old=null RUNNING
   FOLLOWER s0@group-E1C4ACACBF57:t0, leader=null, voted=null, raftlog=s0@group-E1C4ACACBF57-SegmentedRaftLog:OPENED:c-1,f-1,i0, conf=-1: [], old=null STARTING] size=2
  s1:  RUNNING [
   FOLLOWER s1@group-615D5B2B68DF:t1, leader=s0, voted=s0, raftlog=s1@group-615D5B2B68DF-SegmentedRaftLog:OPENED:c0,f0,i0, conf=0: [s0:, s1:, s2:], old=null RUNNING
   FOLLOWER s1@group-E1C4ACACBF57:t0, leader=null, voted=null, raftlog=s1@group-E1C4ACACBF57-SegmentedRaftLog:OPENED:c-1,f-1,i0, conf=-1: [], old=null STARTING] size=2
  s2:  RUNNING [
   FOLLOWER s2@group-615D5B2B68DF:t1, leader=s0, voted=s0, raftlog=s2@group-615D5B2B68DF-SegmentedRaftLog:OPENED:c0,f0,i0, conf=0: [s0:, s1:, s2:], old=null RUNNING
   FOLLOWER s2@group-E1C4ACACBF57:t0, leader=null, voted=null, raftlog=s2@group-E1C4ACACBF57-SegmentedRaftLog:OPENED:c-1,f-1,i0, conf=-1: [], old=null STARTING] size=2
2019-09-24 17:08:24,243 DEBUG client.RaftClient (ConfUtils.java:logGet(43)) - raft.rpc.type = org.apache.ratis.server.simulation.SimulatedRpc (custom)
2019-09-24 17:08:24,246 DEBUG client.RaftClient (RaftClientImpl.java:sendRequest(275)) - client-9E92ECFA28E2: send SetConfigurationRequest:client-9E92ECFA28E2->s0@group-615D5B2B68DF, cid=12, seq=0, RW, null, peers:[s0:null, s1:null, s2:null, s3:null, s4:null]
2019-09-24 17:08:24,248 INFO  impl.RaftServerImpl (RaftServerImpl.java:setConfigurationAsync(658)) - s0@group-615D5B2B68DF: receive setConfiguration SetConfigurationRequest:client-9E92ECFA28E2->s0@group-615D5B2B68DF, cid=12, seq=0, RW, null, peers:[s0:null, s1:null, s2:null, s3:null, s4:null]
2019-09-24 17:08:24,249 INFO  impl.RaftServerImpl (LeaderState.java:startSetConfiguration(287)) - s0@group-615D5B2B68DF-LeaderState: startSetConfiguration SetConfigurationRequest:client-9E92ECFA28E2->s0@group-615D5B2B68DF, cid=12, seq=0, RW, null, peers:[s0:null, s1:null, s2:null, s3:null, s4:null]
2019-09-24 17:08:24,251 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.log.appender.snapshot.chunk.size.max = 16MB (=16777216) (default)
2019-09-24 17:08:24,251 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.log.appender.buffer.byte-limit = 4MB (=4194304) (default)
2019-09-24 17:08:24,251 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.log.appender.buffer.element-limit = 0 (default)
2019-09-24 17:08:24,252 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.log.appender.snapshot.chunk.size.max = 16MB (=16777216) (default)
2019-09-24 17:08:24,252 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.log.appender.buffer.byte-limit = 4MB (=4194304) (default)
2019-09-24 17:08:24,252 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.log.appender.buffer.element-limit = 0 (default)
2019-09-24 17:08:24,276 INFO  impl.RaftServerImpl (ServerState.java:setLeader(254)) - s3@group-615D5B2B68DF: change Leader from null to s0 at term 1 for appendEntries, leader elected after 176ms
2019-09-24 17:08:24,276 INFO  impl.RaftServerImpl (ServerState.java:setLeader(254)) - s4@group-615D5B2B68DF: change Leader from null to s0 at term 1 for appendEntries, leader elected after 50ms
2019-09-24 17:08:24,276 INFO  impl.RaftServerImpl (RaftServerImpl.java:checkInconsistentAppendEntries(999)) - s3@group-615D5B2B68DF: Failed appendEntries as previous log entry ((t:1, i:0)) is not found
2019-09-24 17:08:24,276 INFO  impl.RaftServerImpl (RaftServerImpl.java:checkInconsistentAppendEntries(999)) - s4@group-615D5B2B68DF: Failed appendEntries as previous log entry ((t:1, i:0)) is not found
2019-09-24 17:08:24,276 INFO  impl.RaftServerImpl (RaftServerImpl.java:checkInconsistentAppendEntries(972)) - s3@group-615D5B2B68DF: inconsistency entries. Reply:s0<-s3#0:FAIL,INCONSISTENCY,nextIndex:0,term:0,followerCommit:-1
2019-09-24 17:08:24,276 INFO  impl.RaftServerImpl (RaftServerImpl.java:checkInconsistentAppendEntries(972)) - s4@group-615D5B2B68DF: inconsistency entries. Reply:s0<-s4#0:FAIL,INCONSISTENCY,nextIndex:0,term:0,followerCommit:-1
2019-09-24 17:08:24,278 INFO  impl.FollowerInfo (FollowerInfo.java:lambda$new$0(51)) - s0@group-615D5B2B68DF->s4: nextIndex: updateUnconditionally 1 -> 0
2019-09-24 17:08:24,278 INFO  impl.FollowerInfo (FollowerInfo.java:lambda$new$0(51)) - s0@group-615D5B2B68DF->s3: nextIndex: updateUnconditionally 1 -> 0
2019-09-24 17:08:24,279 DEBUG impl.RaftServerImpl (RaftServerImpl.java:logAppendEntries(850)) - s3@group-615D5B2B68DF: receive appendEntries(s0, 1, null, 0, true, commits[s0:c0, s1:c0, s2:c0, s3:c-1, s4:c-1], entries: (t:1, i:0), CONFIGURATIONENTRY
2019-09-24 17:08:24,279 DEBUG impl.RaftServerImpl (RaftServerImpl.java:logAppendEntries(850)) - s4@group-615D5B2B68DF: receive appendEntries(s0, 1, null, 0, true, commits[s0:c0, s1:c0, s2:c0, s3:c-1, s4:c-1], entries: (t:1, i:0), CONFIGURATIONENTRY
2019-09-24 17:08:24,280 INFO  impl.RaftServerImpl (ServerState.java:setRaftConf(355)) - s3@group-615D5B2B68DF: set configuration 0: [s0:, s1:, s2:], old=null at 0
2019-09-24 17:08:24,280 INFO  impl.RaftServerImpl (ServerState.java:setRaftConf(355)) - s4@group-615D5B2B68DF: set configuration 0: [s0:, s1:, s2:], old=null at 0
2019-09-24 17:08:24,280 INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:startLogSegment(380)) - s3@group-615D5B2B68DF-SegmentedRaftLogWorker: Starting segment from index:0
2019-09-24 17:08:24,281 INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:startLogSegment(380)) - s4@group-615D5B2B68DF-SegmentedRaftLogWorker: Starting segment from index:0
2019-09-24 17:08:24,387 INFO  impl.RaftServerImpl (ServerState.java:setRaftConf(355)) - s0@group-615D5B2B68DF: set configuration 1: [s3:null, s4:null, s0:null, s1:null, s2:null], old=[s0:, s1:, s2:] at 1
2019-09-24 17:08:24,388 DEBUG impl.RaftServerImpl (RaftServerImpl.java:logAppendEntries(850)) - s1@group-615D5B2B68DF: receive appendEntries(s0, 1, (t:1, i:0), 0, false, commits[s0:c0, s1:c0, s2:c0, s3:c-1, s4:c-1], entries: (t:1, i:1), CONFIGURATIONENTRY
2019-09-24 17:08:24,388 DEBUG impl.RaftServerImpl (RaftServerImpl.java:logAppendEntries(850)) - s2@group-615D5B2B68DF: receive appendEntries(s0, 1, (t:1, i:0), 0, false, commits[s0:c0, s1:c0, s2:c0, s3:c-1, s4:c-1], entries: (t:1, i:1), CONFIGURATIONENTRY
2019-09-24 17:08:24,388 INFO  impl.RaftServerImpl (ServerState.java:setRaftConf(355)) - s1@group-615D5B2B68DF: set configuration 1: [s3:, s4:, s0:, s1:, s2:], old=[s0:, s1:, s2:] at 1
2019-09-24 17:08:24,389 INFO  impl.RaftServerImpl (ServerState.java:setRaftConf(355)) - s2@group-615D5B2B68DF: set configuration 1: [s3:, s4:, s0:, s1:, s2:], old=[s0:, s1:, s2:] at 1
2019-09-24 17:08:24,426 INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:execute(569)) - s4@group-615D5B2B68DF-SegmentedRaftLogWorker: created new log segment /workdir/ratis-test/target/test/data/312143de/MiniRaftClusterWithSimulatedRpc2356e7fa/s4/d3d5ee81-cb69-4038-8864-615d5b2b68df/current/log_inprogress_0
2019-09-24 17:08:24,426 INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:execute(569)) - s3@group-615D5B2B68DF-SegmentedRaftLogWorker: created new log segment /workdir/ratis-test/target/test/data/312143de/MiniRaftClusterWithSimulatedRpc2356e7fa/s3/d3d5ee81-cb69-4038-8864-615d5b2b68df/current/log_inprogress_0
2019-09-24 17:08:24,442 DEBUG impl.RaftServerImpl (RaftServerImpl.java:logAppendEntries(850)) - s2@group-615D5B2B68DF: succeeded to handle AppendEntries. Reply: s0<-s2#0:OK,SUCCESS,nextIndex:2,term:1,followerCommit:0
2019-09-24 17:08:24,442 DEBUG impl.RaftServerImpl (RaftServerImpl.java:logAppendEntries(850)) - s1@group-615D5B2B68DF: succeeded to handle AppendEntries. Reply: s0<-s1#0:OK,SUCCESS,nextIndex:2,term:1,followerCommit:0
2019-09-24 17:08:24,443 DEBUG impl.RaftServerImpl (RaftServerImpl.java:logAppendEntries(850)) - s4@group-615D5B2B68DF: succeeded to handle AppendEntries. Reply: s0<-s4#0:OK,SUCCESS,nextIndex:1,term:1,followerCommit:0
2019-09-24 17:08:24,442 DEBUG impl.RaftServerImpl (RaftServerImpl.java:logAppendEntries(850)) - s3@group-615D5B2B68DF: succeeded to handle AppendEntries. Reply: s0<-s3#0:OK,SUCCESS,nextIndex:1,term:1,followerCommit:0
2019-09-24 17:08:24,444 DEBUG impl.RaftServerImpl (RaftServerImpl.java:logAppendEntries(850)) - s2@group-615D5B2B68DF: receive appendEntries(s0, 1, (t:1, i:1), 1, false, commits[s0:c1, s1:c0, s2:c0, s3:c0, s4:c0], entries: (t:1, i:2), METADATAENTRY(c1)
2019-09-24 17:08:24,444 DEBUG impl.RaftServerImpl (RaftServerImpl.java:logAppendEntries(850)) - s1@group-615D5B2B68DF: receive appendEntries(s0, 1, (t:1, i:1), 1, false, commits[s0:c1, s1:c0, s2:c0, s3:c0, s4:c0], entries: (t:1, i:2), METADATAENTRY(c1)
2019-09-24 17:08:24,444 INFO  impl.RaftServerImpl (ServerState.java:setRaftConf(355)) - s0@group-615D5B2B68DF: set configuration 3: [s3:null, s4:null, s0:null, s1:null, s2:null], old=null at 3
2019-09-24 17:08:24,445 DEBUG impl.RaftServerImpl (RaftServerImpl.java:logAppendEntries(850)) - s4@group-615D5B2B68DF: receive appendEntries(s0, 1, (t:1, i:0), 1, false, commits[s0:c1, s1:c0, s2:c0, s3:c0, s4:c0], entries: [(t:1, i:1), CONFIGURATIONENTRY, (t:1, i:2), METADATAENTRY(c1)]
2019-09-24 17:08:24,445 DEBUG impl.RaftServerImpl (RaftServerImpl.java:logAppendEntries(850)) - s3@group-615D5B2B68DF: receive appendEntries(s0, 1, (t:1, i:0), 1, false, commits[s0:c1, s1:c0, s2:c0, s3:c0, s4:c0], entries: [(t:1, i:1), CONFIGURATIONENTRY, (t:1, i:2), METADATAENTRY(c1)]
2019-09-24 17:08:24,445 INFO  impl.RoleInfo (RoleInfo.java:updateAndGet(143)) - s4: start FollowerState
2019-09-24 17:08:24,445 INFO  impl.RoleInfo (RoleInfo.java:updateAndGet(143)) - s3: start FollowerState
2019-09-24 17:08:24,445 INFO  impl.RaftServerImpl (ServerState.java:setRaftConf(355)) - s4@group-615D5B2B68DF: set configuration 1: [s3:, s4:, s0:, s1:, s2:], old=[s0:, s1:, s2:] at 1
2019-09-24 17:08:24,446 INFO  impl.RaftServerImpl (ServerState.java:setRaftConf(355)) - s3@group-615D5B2B68DF: set configuration 1: [s3:, s4:, s0:, s1:, s2:], old=[s0:, s1:, s2:] at 1
2019-09-24 17:08:24,472 DEBUG impl.RaftServerImpl (RaftServerImpl.java:logAppendEntries(850)) - s2@group-615D5B2B68DF: succeeded to handle AppendEntries. Reply: s0<-s2#0:OK,SUCCESS,nextIndex:3,term:1,followerCommit:1
2019-09-24 17:08:24,472 DEBUG impl.RaftServerImpl (RaftServerImpl.java:logAppendEntries(850)) - s1@group-615D5B2B68DF: succeeded to handle AppendEntries. Reply: s0<-s1#0:OK,SUCCESS,nextIndex:3,term:1,followerCommit:1
2019-09-24 17:08:24,472 DEBUG impl.RaftServerImpl (RaftServerImpl.java:logAppendEntries(850)) - s3@group-615D5B2B68DF: succeeded to handle AppendEntries. Reply: s0<-s3#0:OK,SUCCESS,nextIndex:3,term:1,followerCommit:1
2019-09-24 17:08:24,473 DEBUG impl.RaftServerImpl (RaftServerImpl.java:logAppendEntries(850)) - s4@group-615D5B2B68DF: succeeded to handle AppendEntries. Reply: s0<-s4#0:OK,SUCCESS,nextIndex:3,term:1,followerCommit:1
2019-09-24 17:08:24,473 DEBUG impl.RaftServerImpl (RaftServerImpl.java:logAppendEntries(850)) - s2@group-615D5B2B68DF: receive appendEntries(s0, 1, (t:1, i:2), 1, false, commits[s0:c1, s1:c1, s2:c1, s3:c0, s4:c0], entries: (t:1, i:3), CONFIGURATIONENTRY
2019-09-24 17:08:24,473 DEBUG impl.RaftServerImpl (RaftServerImpl.java:logAppendEntries(850)) - s1@group-615D5B2B68DF: receive appendEntries(s0, 1, (t:1, i:2), 2, false, commits[s0:c2, s1:c1, s2:c1, s3:c1, s4:c0], entries: (t:1, i:3), CONFIGURATIONENTRY
2019-09-24 17:08:24,473 INFO  impl.RaftServerImpl (ServerState.java:setRaftConf(355)) - s2@group-615D5B2B68DF: set configuration 3: [s3:, s4:, s0:, s1:, s2:], old=null at 3
2019-09-24 17:08:24,473 DEBUG impl.RaftServerImpl (RaftServerImpl.java:logAppendEntries(850)) - s3@group-615D5B2B68DF: receive appendEntries(s0, 1, (t:1, i:2), 2, false, commits[s0:c2, s1:c1, s2:c1, s3:c1, s4:c0], entries: (t:1, i:3), CONFIGURATIONENTRY
2019-09-24 17:08:24,474 INFO  impl.RaftServerImpl (ServerState.java:setRaftConf(355)) - s1@group-615D5B2B68DF: set configuration 3: [s3:, s4:, s0:, s1:, s2:], old=null at 3
2019-09-24 17:08:24,474 DEBUG impl.RaftServerImpl (RaftServerImpl.java:logAppendEntries(850)) - s4@group-615D5B2B68DF: receive appendEntries(s0, 1, (t:1, i:2), 2, false, commits[s0:c2, s1:c1, s2:c1, s3:c1, s4:c1], entries: (t:1, i:3), CONFIGURATIONENTRY
2019-09-24 17:08:24,474 INFO  impl.RaftServerImpl (ServerState.java:setRaftConf(355)) - s3@group-615D5B2B68DF: set configuration 3: [s3:, s4:, s0:, s1:, s2:], old=null at 3
2019-09-24 17:08:24,475 INFO  impl.RaftServerImpl (ServerState.java:setRaftConf(355)) - s4@group-615D5B2B68DF: set configuration 3: [s3:, s4:, s0:, s1:, s2:], old=null at 3
2019-09-24 17:08:24,490 DEBUG impl.RaftServerImpl (RaftServerImpl.java:logAppendEntries(850)) - s2@group-615D5B2B68DF: succeeded to handle AppendEntries. Reply: s0<-s2#0:OK,SUCCESS,nextIndex:4,term:1,followerCommit:1
2019-09-24 17:08:24,490 DEBUG impl.RaftServerImpl (RaftServerImpl.java:logAppendEntries(850)) - s4@group-615D5B2B68DF: succeeded to handle AppendEntries. Reply: s0<-s4#0:OK,SUCCESS,nextIndex:4,term:1,followerCommit:2
2019-09-24 17:08:24,490 DEBUG impl.RaftServerImpl (RaftServerImpl.java:logAppendEntries(850)) - s3@group-615D5B2B68DF: succeeded to handle AppendEntries. Reply: s0<-s3#0:OK,SUCCESS,nextIndex:4,term:1,followerCommit:2
2019-09-24 17:08:24,490 DEBUG impl.RaftServerImpl (RaftServerImpl.java:logAppendEntries(850)) - s1@group-615D5B2B68DF: succeeded to handle AppendEntries. Reply: s0<-s1#0:OK,SUCCESS,nextIndex:4,term:1,followerCommit:2
2019-09-24 17:08:24,492 DEBUG impl.RaftServerImpl (RaftServerImpl.java:logAppendEntries(850)) - s3@group-615D5B2B68DF: receive appendEntries(s0, 1, (t:1, i:3), 3, false, commits[s0:c3, s1:c2, s2:c1, s3:c2, s4:c2], entries: (t:1, i:4), METADATAENTRY(c3)
2019-09-24 17:08:24,492 DEBUG client.RaftClient (RaftClientImpl.java:sendRequest(285)) - client-9E92ECFA28E2: receive RaftClientReply:client-9E92ECFA28E2->s0@group-615D5B2B68DF, cid=12, SUCCESS, logIndex=0, commits[s0:c3, s1:c1, s2:c1, s3:c2, s4:c2]
2019-09-24 17:08:24,492 DEBUG impl.RaftServerImpl (RaftServerImpl.java:logAppendEntries(850)) - s1@group-615D5B2B68DF: receive appendEntries(s0, 1, (t:1, i:3), 3, false, commits[s0:c3, s1:c2, s2:c1, s3:c2, s4:c2], entries: (t:1, i:4), METADATAENTRY(c3)
2019-09-24 17:08:24,492 DEBUG impl.RaftServerImpl (RaftServerImpl.java:logAppendEntries(850)) - s2@group-615D5B2B68DF: receive appendEntries(s0, 1, (t:1, i:3), 3, false, commits[s0:c3, s1:c2, s2:c1, s3:c2, s4:c2], entries: (t:1, i:4), METADATAENTRY(c3)
2019-09-24 17:08:24,492 DEBUG impl.RaftServerImpl (RaftServerImpl.java:logAppendEntries(850)) - s4@group-615D5B2B68DF: receive appendEntries(s0, 1, (t:1, i:3), 3, false, commits[s0:c3, s1:c2, s2:c1, s3:c2, s4:c2], entries: (t:1, i:4), METADATAENTRY(c3)
2019-09-24 17:08:24,492 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.rpc.timeout.max = 300ms (default)
2019-09-24 17:08:24,493 INFO  ratis.RaftTestUtil (RaftTestUtil.java:waitForLeader(86)) - printing ALL groups
  s3:  RUNNING [
   FOLLOWER s3@group-615D5B2B68DF:t1, leader=s0, voted=null, raftlog=s3@group-615D5B2B68DF-SegmentedRaftLog:OPENED:c2,f3,i4, conf=3: [s3:, s4:, s0:, s1:, s2:], old=null RUNNING
   FOLLOWER s3@group-E1C4ACACBF57:t0, leader=null, voted=null, raftlog=s3@group-E1C4ACACBF57-SegmentedRaftLog:OPENED:c-1,f-1,i0, conf=-1: [], old=null STARTING] size=2
  s4:  RUNNING [
   FOLLOWER s4@group-615D5B2B68DF:t1, leader=s0, voted=null, raftlog=s4@group-615D5B2B68DF-SegmentedRaftLog:OPENED:c2,f3,i4, conf=3: [s3:, s4:, s0:, s1:, s2:], old=null RUNNING
   FOLLOWER s4@group-E1C4ACACBF57:t0, leader=null, voted=null, raftlog=s4@group-E1C4ACACBF57-SegmentedRaftLog:OPENED:c-1,f-1,i0, conf=-1: [], old=null STARTING] size=2
  s0:  RUNNING [
     LEADER s0@group-615D5B2B68DF:t1, leader=s0, voted=s0, raftlog=s0@group-615D5B2B68DF-SegmentedRaftLog:OPENED:c3,f3,i4, conf=3: [s3:null, s4:null, s0:null, s1:null, s2:null], old=null RUNNING
   FOLLOWER s0@group-E1C4ACACBF57:t0, leader=null, voted=null, raftlog=s0@group-E1C4ACACBF57-SegmentedRaftLog:OPENED:c-1,f-1,i0, conf=-1: [], old=null STARTING] size=2
  s1:  RUNNING [
   FOLLOWER s1@group-615D5B2B68DF:t1, leader=s0, voted=s0, raftlog=s1@group-615D5B2B68DF-SegmentedRaftLog:OPENED:c2,f3,i4, conf=3: [s3:, s4:, s0:, s1:, s2:], old=null RUNNING
   FOLLOWER s1@group-E1C4ACACBF57:t0, leader=null, voted=null, raftlog=s1@group-E1C4ACACBF57-SegmentedRaftLog:OPENED:c-1,f-1,i0, conf=-1: [], old=null STARTING] size=2
  s2:  RUNNING [
   FOLLOWER s2@group-615D5B2B68DF:t1, leader=s0, voted=s0, raftlog=s2@group-615D5B2B68DF-SegmentedRaftLog:OPENED:c1,f3,i4, conf=3: [s3:, s4:, s0:, s1:, s2:], old=null RUNNING
   FOLLOWER s2@group-E1C4ACACBF57:t0, leader=null, voted=null, raftlog=s2@group-E1C4ACACBF57-SegmentedRaftLog:OPENED:c-1,f-1,i0, conf=-1: [], old=null STARTING] size=2
2019-09-24 17:08:24,494 INFO  ratis.RaftTestUtil (RaftTestUtil.java:waitForLeader(101)) - printing ALL groups
  s3:  RUNNING [
   FOLLOWER s3@group-615D5B2B68DF:t1, leader=s0, voted=null, raftlog=s3@group-615D5B2B68DF-SegmentedRaftLog:OPENED:c2,f3,i4, conf=3: [s3:, s4:, s0:, s1:, s2:], old=null RUNNING
   FOLLOWER s3@group-E1C4ACACBF57:t0, leader=null, voted=null, raftlog=s3@group-E1C4ACACBF57-SegmentedRaftLog:OPENED:c-1,f-1,i0, conf=-1: [], old=null STARTING] size=2
  s4:  RUNNING [
   FOLLOWER s4@group-615D5B2B68DF:t1, leader=s0, voted=null, raftlog=s4@group-615D5B2B68DF-SegmentedRaftLog:OPENED:c2,f3,i4, conf=3: [s3:, s4:, s0:, s1:, s2:], old=null RUNNING
   FOLLOWER s4@group-E1C4ACACBF57:t0, leader=null, voted=null, raftlog=s4@group-E1C4ACACBF57-SegmentedRaftLog:OPENED:c-1,f-1,i0, conf=-1: [], old=null STARTING] size=2
  s0:  RUNNING [
     LEADER s0@group-615D5B2B68DF:t1, leader=s0, voted=s0, raftlog=s0@group-615D5B2B68DF-SegmentedRaftLog:OPENED:c3,f3,i4, conf=3: [s3:null, s4:null, s0:null, s1:null, s2:null], old=null RUNNING
   FOLLOWER s0@group-E1C4ACACBF57:t0, leader=null, voted=null, raftlog=s0@group-E1C4ACACBF57-SegmentedRaftLog:OPENED:c-1,f-1,i0, conf=-1: [], old=null STARTING] size=2
  s1:  RUNNING [
   FOLLOWER s1@group-615D5B2B68DF:t1, leader=s0, voted=s0, raftlog=s1@group-615D5B2B68DF-SegmentedRaftLog:OPENED:c2,f3,i4, conf=3: [s3:, s4:, s0:, s1:, s2:], old=null RUNNING
   FOLLOWER s1@group-E1C4ACACBF57:t0, leader=null, voted=null, raftlog=s1@group-E1C4ACACBF57-SegmentedRaftLog:OPENED:c-1,f-1,i0, conf=-1: [], old=null STARTING] size=2
  s2:  RUNNING [
   FOLLOWER s2@group-615D5B2B68DF:t1, leader=s0, voted=s0, raftlog=s2@group-615D5B2B68DF-SegmentedRaftLog:OPENED:c1,f3,i4, conf=3: [s3:, s4:, s0:, s1:, s2:], old=null RUNNING
   FOLLOWER s2@group-E1C4ACACBF57:t0, leader=null, voted=null, raftlog=s2@group-E1C4ACACBF57-SegmentedRaftLog:OPENED:c-1,f-1,i0, conf=-1: [], old=null STARTING] size=2
2019-09-24 17:08:24,495 INFO  impl.GroupManagementBaseTest (GroupManagementBaseTest.java:runMultiGroupTest(224)) - update groups: printing ALL groups
  s3:  RUNNING [
   FOLLOWER s3@group-615D5B2B68DF:t1, leader=s0, voted=null, raftlog=s3@group-615D5B2B68DF-SegmentedRaftLog:OPENED:c2,f3,i4, conf=3: [s3:, s4:, s0:, s1:, s2:], old=null RUNNING
   FOLLOWER s3@group-E1C4ACACBF57:t0, leader=null, voted=null, raftlog=s3@group-E1C4ACACBF57-SegmentedRaftLog:OPENED:c-1,f-1,i0, conf=-1: [], old=null STARTING] size=2
  s4:  RUNNING [
   FOLLOWER s4@group-615D5B2B68DF:t1, leader=s0, voted=null, raftlog=s4@group-615D5B2B68DF-SegmentedRaftLog:OPENED:c2,f3,i4, conf=3: [s3:, s4:, s0:, s1:, s2:], old=null RUNNING
   FOLLOWER s4@group-E1C4ACACBF57:t0, leader=null, voted=null, raftlog=s4@group-E1C4ACACBF57-SegmentedRaftLog:OPENED:c-1,f-1,i0, conf=-1: [], old=null STARTING] size=2
  s0:  RUNNING [
     LEADER s0@group-615D5B2B68DF:t1, leader=s0, voted=s0, raftlog=s0@group-615D5B2B68DF-SegmentedRaftLog:OPENED:c3,f3,i4, conf=3: [s3:null, s4:null, s0:null, s1:null, s2:null], old=null RUNNING
   FOLLOWER s0@group-E1C4ACACBF57:t0, leader=null, voted=null, raftlog=s0@group-E1C4ACACBF57-SegmentedRaftLog:OPENED:c-1,f-1,i0, conf=-1: [], old=null STARTING] size=2
  s1:  RUNNING [
   FOLLOWER s1@group-615D5B2B68DF:t1, leader=s0, voted=s0, raftlog=s1@group-615D5B2B68DF-SegmentedRaftLog:OPENED:c2,f3,i4, conf=3: [s3:, s4:, s0:, s1:, s2:], old=null RUNNING
   FOLLOWER s1@group-E1C4ACACBF57:t0, leader=null, voted=null, raftlog=s1@group-E1C4ACACBF57-SegmentedRaftLog:OPENED:c-1,f-1,i0, conf=-1: [], old=null STARTING] size=2
  s2:  RUNNING [
   FOLLOWER s2@group-615D5B2B68DF:t1, leader=s0, voted=s0, raftlog=s2@group-615D5B2B68DF-SegmentedRaftLog:OPENED:c1,f3,i4, conf=3: [s3:, s4:, s0:, s1:, s2:], old=null RUNNING
   FOLLOWER s2@group-E1C4ACACBF57:t0, leader=null, voted=null, raftlog=s2@group-E1C4ACACBF57-SegmentedRaftLog:OPENED:c-1,f-1,i0, conf=-1: [], old=null STARTING] size=2
| MiniRaftClusterWithSimulatedRpc[3, 4, 5]chosen=0 | update groups | 123 |
2019-09-24 17:08:24,495 INFO  ratis.MiniRaftCluster (MiniRaftCluster.java:shutdown(700)) - ************************************************************** 
2019-09-24 17:08:24,495 INFO  ratis.MiniRaftCluster (MiniRaftCluster.java:shutdown(701)) - *** 
2019-09-24 17:08:24,495 INFO  ratis.MiniRaftCluster (MiniRaftCluster.java:shutdown(702)) - ***     Stopping MiniRaftClusterWithSimulatedRpc
2019-09-24 17:08:24,495 INFO  ratis.MiniRaftCluster (MiniRaftCluster.java:shutdown(703)) - *** 
2019-09-24 17:08:24,495 INFO  ratis.MiniRaftCluster (MiniRaftCluster.java:shutdown(704)) - ************************************************************** 
2019-09-24 17:08:24,496 INFO  ratis.MiniRaftCluster (MiniRaftCluster.java:shutdown(705)) - printing ALL groups
  s3:  RUNNING [
   FOLLOWER s3@group-615D5B2B68DF:t1, leader=s0, voted=null, raftlog=s3@group-615D5B2B68DF-SegmentedRaftLog:OPENED:c2,f3,i4, conf=3: [s3:, s4:, s0:, s1:, s2:], old=null RUNNING
   FOLLOWER s3@group-E1C4ACACBF57:t0, leader=null, voted=null, raftlog=s3@group-E1C4ACACBF57-SegmentedRaftLog:OPENED:c-1,f-1,i0, conf=-1: [], old=null STARTING] size=2
  s4:  RUNNING [
   FOLLOWER s4@group-615D5B2B68DF:t1, leader=s0, voted=null, raftlog=s4@group-615D5B2B68DF-SegmentedRaftLog:OPENED:c2,f3,i4, conf=3: [s3:, s4:, s0:, s1:, s2:], old=null RUNNING
   FOLLOWER s4@group-E1C4ACACBF57:t0, leader=null, voted=null, raftlog=s4@group-E1C4ACACBF57-SegmentedRaftLog:OPENED:c-1,f-1,i0, conf=-1: [], old=null STARTING] size=2
  s0:  RUNNING [
     LEADER s0@group-615D5B2B68DF:t1, leader=s0, voted=s0, raftlog=s0@group-615D5B2B68DF-SegmentedRaftLog:OPENED:c3,f3,i4, conf=3: [s3:null, s4:null, s0:null, s1:null, s2:null], old=null RUNNING
   FOLLOWER s0@group-E1C4ACACBF57:t0, leader=null, voted=null, raftlog=s0@group-E1C4ACACBF57-SegmentedRaftLog:OPENED:c-1,f-1,i0, conf=-1: [], old=null STARTING] size=2
  s1:  RUNNING [
   FOLLOWER s1@group-615D5B2B68DF:t1, leader=s0, voted=s0, raftlog=s1@group-615D5B2B68DF-SegmentedRaftLog:OPENED:c2,f3,i4, conf=3: [s3:, s4:, s0:, s1:, s2:], old=null RUNNING
   FOLLOWER s1@group-E1C4ACACBF57:t0, leader=null, voted=null, raftlog=s1@group-E1C4ACACBF57-SegmentedRaftLog:OPENED:c-1,f-1,i0, conf=-1: [], old=null STARTING] size=2
  s2:  RUNNING [
   FOLLOWER s2@group-615D5B2B68DF:t1, leader=s0, voted=s0, raftlog=s2@group-615D5B2B68DF-SegmentedRaftLog:OPENED:c1,f3,i4, conf=3: [s3:, s4:, s0:, s1:, s2:], old=null RUNNING
   FOLLOWER s2@group-E1C4ACACBF57:t0, leader=null, voted=null, raftlog=s2@group-E1C4ACACBF57-SegmentedRaftLog:OPENED:c-1,f-1,i0, conf=-1: [], old=null STARTING] size=2
2019-09-24 17:08:24,498 INFO  impl.RaftServerProxy (RaftServerProxy.java:lambda$close$4(314)) - s3: close
2019-09-24 17:08:24,498 INFO  impl.RaftServerProxy (RaftServerProxy.java:lambda$close$4(314)) - s0: close
2019-09-24 17:08:24,499 INFO  impl.RaftServerProxy (RaftServerProxy.java:lambda$close$4(314)) - s1: close
2019-09-24 17:08:24,499 INFO  impl.RaftServerProxy (RaftServerProxy.java:lambda$close$4(314)) - s4: close
2019-09-24 17:08:24,499 INFO  impl.RaftServerProxy (RaftServerProxy.java:lambda$close$4(314)) - s2: close
2019-09-24 17:08:24,500 INFO  impl.RaftServerImpl (RaftServerImpl.java:lambda$shutdown$3(247)) - s4@group-615D5B2B68DF: shutdown
2019-09-24 17:08:24,499 INFO  impl.RaftServerImpl (RaftServerImpl.java:lambda$shutdown$3(247)) - s1@group-615D5B2B68DF: shutdown
2019-09-24 17:08:24,499 INFO  impl.RaftServerImpl (RaftServerImpl.java:lambda$shutdown$3(247)) - s0@group-615D5B2B68DF: shutdown
2019-09-24 17:08:24,501 INFO  util.JmxRegister (JmxRegister.java:unregister(73)) - Successfully un-registered JMX Bean with object name Ratis:service=RaftServer,group=group-615D5B2B68DF,id=s1
2019-09-24 17:08:24,500 INFO  util.JmxRegister (JmxRegister.java:unregister(73)) - Successfully un-registered JMX Bean with object name Ratis:service=RaftServer,group=group-615D5B2B68DF,id=s4
2019-09-24 17:08:24,500 INFO  impl.RaftServerImpl (RaftServerImpl.java:lambda$shutdown$3(247)) - s2@group-615D5B2B68DF: shutdown
2019-09-24 17:08:24,500 INFO  impl.RaftServerImpl (RaftServerImpl.java:lambda$shutdown$3(247)) - s3@group-615D5B2B68DF: shutdown
2019-09-24 17:08:24,502 INFO  util.JmxRegister (JmxRegister.java:unregister(73)) - Successfully un-registered JMX Bean with object name Ratis:service=RaftServer,group=group-615D5B2B68DF,id=s2
2019-09-24 17:08:24,501 INFO  impl.RoleInfo (RoleInfo.java:shutdownFollowerState(121)) - s4: shutdown FollowerState
2019-09-24 17:08:24,501 INFO  impl.RoleInfo (RoleInfo.java:shutdownFollowerState(121)) - s1: shutdown FollowerState
2019-09-24 17:08:24,501 INFO  util.JmxRegister (JmxRegister.java:unregister(73)) - Successfully un-registered JMX Bean with object name Ratis:service=RaftServer,group=group-615D5B2B68DF,id=s0
2019-09-24 17:08:24,503 INFO  impl.FollowerState (FollowerState.java:run(117)) - s1@group-615D5B2B68DF-FollowerState was interrupted: java.lang.InterruptedException: sleep interrupted
2019-09-24 17:08:24,503 INFO  impl.StateMachineUpdater (StateMachineUpdater.java:stopAndJoin(136)) - s1@group-615D5B2B68DF-StateMachineUpdater: set stopIndex = 2
2019-09-24 17:08:24,506 INFO  impl.RaftServerImpl (ServerState.java:close(386)) - s1@group-615D5B2B68DF: closes. applyIndex: 2
2019-09-24 17:08:24,503 INFO  impl.FollowerState (FollowerState.java:run(117)) - s4@group-615D5B2B68DF-FollowerState was interrupted: java.lang.InterruptedException: sleep interrupted
2019-09-24 17:08:24,503 INFO  impl.StateMachineUpdater (StateMachineUpdater.java:stopAndJoin(136)) - s4@group-615D5B2B68DF-StateMachineUpdater: set stopIndex = 2
2019-09-24 17:08:24,502 INFO  impl.RoleInfo (RoleInfo.java:shutdownFollowerState(121)) - s2: shutdown FollowerState
2019-09-24 17:08:24,502 INFO  util.JmxRegister (JmxRegister.java:unregister(73)) - Successfully un-registered JMX Bean with object name Ratis:service=RaftServer,group=group-615D5B2B68DF,id=s3
2019-09-24 17:08:24,507 INFO  impl.FollowerState (FollowerState.java:run(117)) - s2@group-615D5B2B68DF-FollowerState was interrupted: java.lang.InterruptedException: sleep interrupted
2019-09-24 17:08:24,507 INFO  impl.StateMachineUpdater (StateMachineUpdater.java:stopAndJoin(136)) - s2@group-615D5B2B68DF-StateMachineUpdater: set stopIndex = 1
2019-09-24 17:08:24,507 INFO  impl.RaftServerImpl (ServerState.java:close(386)) - s4@group-615D5B2B68DF: closes. applyIndex: 2
2019-09-24 17:08:24,505 INFO  impl.RoleInfo (RoleInfo.java:shutdownLeaderState(104)) - s0: shutdown LeaderState
2019-09-24 17:08:24,509 DEBUG impl.RaftServerImpl (RaftServerImpl.java:logAppendEntries(850)) - s3@group-615D5B2B68DF: succeeded to handle AppendEntries. Reply: s0<-s3#0:OK,SUCCESS,nextIndex:5,term:1,followerCommit:3
2019-09-24 17:08:24,509 DEBUG impl.RaftServerImpl (RaftServerImpl.java:logAppendEntries(850)) - s2@group-615D5B2B68DF: succeeded to handle AppendEntries. Reply: s0<-s2#0:OK,SUCCESS,nextIndex:5,term:1,followerCommit:3
2019-09-24 17:08:24,512 INFO  impl.PendingRequests (PendingRequests.java:sendNotLeaderResponses(202)) - s0@group-615D5B2B68DF-PendingRequests: sendNotLeaderResponses
2019-09-24 17:08:24,509 INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:run(313)) - s4@group-615D5B2B68DF-SegmentedRaftLogWorker was interrupted, exiting. There are 0 tasks remaining in the queue.
2019-09-24 17:08:24,509 DEBUG impl.RaftServerImpl (RaftServerImpl.java:logAppendEntries(850)) - s4@group-615D5B2B68DF: succeeded to handle AppendEntries. Reply: s0<-s4#0:OK,SUCCESS,nextIndex:5,term:1,followerCommit:3
2019-09-24 17:08:24,508 INFO  impl.RaftServerImpl (ServerState.java:close(386)) - s2@group-615D5B2B68DF: closes. applyIndex: 1
2019-09-24 17:08:24,508 INFO  impl.RoleInfo (RoleInfo.java:shutdownFollowerState(121)) - s3: shutdown FollowerState
2019-09-24 17:08:24,516 INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:run(313)) - s2@group-615D5B2B68DF-SegmentedRaftLogWorker was interrupted, exiting. There are 0 tasks remaining in the queue.
2019-09-24 17:08:24,515 INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:close(228)) - s1@group-615D5B2B68DF-SegmentedRaftLogWorker close()
2019-09-24 17:08:24,515 INFO  impl.StateMachineUpdater (StateMachineUpdater.java:stopAndJoin(136)) - s0@group-615D5B2B68DF-StateMachineUpdater: set stopIndex = 3
2019-09-24 17:08:24,519 INFO  impl.RaftServerImpl (ServerState.java:close(386)) - s0@group-615D5B2B68DF: closes. applyIndex: 3
2019-09-24 17:08:24,513 INFO  impl.LogAppender (LogAppender.java:run(78)) - s0@group-615D5B2B68DF->s2-LogAppender-AppenderDaemon was interrupted: java.io.InterruptedIOException: 
2019-09-24 17:08:24,512 INFO  impl.LogAppender (LogAppender.java:run(78)) - s0@group-615D5B2B68DF->s3-LogAppender-AppenderDaemon was interrupted: java.io.InterruptedIOException: 
2019-09-24 17:08:24,512 INFO  impl.LogAppender (LogAppender.java:run(78)) - s0@group-615D5B2B68DF->s1-LogAppender-AppenderDaemon was interrupted: java.io.InterruptedIOException: 
2019-09-24 17:08:24,512 INFO  impl.LogAppender (LogAppender.java:run(78)) - s0@group-615D5B2B68DF->s4-LogAppender-AppenderDaemon was interrupted: java.io.InterruptedIOException: 
2019-09-24 17:08:24,520 INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:run(313)) - s0@group-615D5B2B68DF-SegmentedRaftLogWorker was interrupted, exiting. There are 0 tasks remaining in the queue.
2019-09-24 17:08:24,519 INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:close(228)) - s2@group-615D5B2B68DF-SegmentedRaftLogWorker close()
2019-09-24 17:08:24,519 INFO  impl.RaftServerImpl (RaftServerImpl.java:lambda$shutdown$3(247)) - s1@group-E1C4ACACBF57: shutdown
2019-09-24 17:08:24,517 INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:close(228)) - s4@group-615D5B2B68DF-SegmentedRaftLogWorker close()
2019-09-24 17:08:24,517 INFO  impl.FollowerState (FollowerState.java:run(117)) - s3@group-615D5B2B68DF-FollowerState was interrupted: java.lang.InterruptedException: sleep interrupted
2019-09-24 17:08:24,516 INFO  impl.StateMachineUpdater (StateMachineUpdater.java:stopAndJoin(136)) - s3@group-615D5B2B68DF-StateMachineUpdater: set stopIndex = 3
2019-09-24 17:08:24,523 INFO  impl.RaftServerImpl (RaftServerImpl.java:lambda$shutdown$3(247)) - s4@group-E1C4ACACBF57: shutdown
2019-09-24 17:08:24,523 INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:close(228)) - s0@group-615D5B2B68DF-SegmentedRaftLogWorker close()
2019-09-24 17:08:24,522 INFO  util.JmxRegister (JmxRegister.java:unregister(73)) - Successfully un-registered JMX Bean with object name Ratis:service=RaftServer,group=group-E1C4ACACBF57,id=s1
2019-09-24 17:08:24,522 INFO  impl.RaftServerImpl (RaftServerImpl.java:lambda$shutdown$3(247)) - s2@group-E1C4ACACBF57: shutdown
2019-09-24 17:08:24,525 INFO  impl.StateMachineUpdater (StateMachineUpdater.java:stopAndJoin(136)) - s1@group-E1C4ACACBF57-StateMachineUpdater: set stopIndex = -1
2019-09-24 17:08:24,525 INFO  impl.RaftServerImpl (RaftServerImpl.java:lambda$shutdown$3(247)) - s0@group-E1C4ACACBF57: shutdown
2019-09-24 17:08:24,524 INFO  util.JmxRegister (JmxRegister.java:unregister(73)) - Successfully un-registered JMX Bean with object name Ratis:service=RaftServer,group=group-E1C4ACACBF57,id=s4
2019-09-24 17:08:24,524 INFO  impl.RaftServerImpl (ServerState.java:close(386)) - s3@group-615D5B2B68DF: closes. applyIndex: 3
2019-09-24 17:08:24,526 INFO  impl.StateMachineUpdater (StateMachineUpdater.java:stopAndJoin(136)) - s4@group-E1C4ACACBF57-StateMachineUpdater: set stopIndex = -1
2019-09-24 17:08:24,526 INFO  util.JmxRegister (JmxRegister.java:unregister(73)) - Successfully un-registered JMX Bean with object name Ratis:service=RaftServer,group=group-E1C4ACACBF57,id=s0
2019-09-24 17:08:24,525 INFO  impl.RaftServerImpl (ServerState.java:close(386)) - s1@group-E1C4ACACBF57: closes. applyIndex: -1
2019-09-24 17:08:24,525 INFO  util.JmxRegister (JmxRegister.java:unregister(73)) - Successfully un-registered JMX Bean with object name Ratis:service=RaftServer,group=group-E1C4ACACBF57,id=s2
2019-09-24 17:08:24,527 INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:run(313)) - s1@group-E1C4ACACBF57-SegmentedRaftLogWorker was interrupted, exiting. There are 0 tasks remaining in the queue.
2019-09-24 17:08:24,527 INFO  impl.StateMachineUpdater (StateMachineUpdater.java:stopAndJoin(136)) - s0@group-E1C4ACACBF57-StateMachineUpdater: set stopIndex = -1
2019-09-24 17:08:24,526 INFO  impl.RaftServerImpl (ServerState.java:close(386)) - s4@group-E1C4ACACBF57: closes. applyIndex: -1
2019-09-24 17:08:24,526 INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:run(313)) - s3@group-615D5B2B68DF-SegmentedRaftLogWorker was interrupted, exiting. There are 0 tasks remaining in the queue.
2019-09-24 17:08:24,528 INFO  impl.RaftServerImpl (ServerState.java:close(386)) - s0@group-E1C4ACACBF57: closes. applyIndex: -1
2019-09-24 17:08:24,528 INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:close(228)) - s1@group-E1C4ACACBF57-SegmentedRaftLogWorker close()
2019-09-24 17:08:24,527 INFO  impl.StateMachineUpdater (StateMachineUpdater.java:stopAndJoin(136)) - s2@group-E1C4ACACBF57-StateMachineUpdater: set stopIndex = -1
2019-09-24 17:08:24,531 INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:close(228)) - s3@group-615D5B2B68DF-SegmentedRaftLogWorker close()
2019-09-24 17:08:24,531 INFO  simulation.RequestHandler (RequestHandler.java:run(126)) - s1.clientHandler2 is interrupted by java.io.InterruptedIOException: 
2019-09-24 17:08:24,529 INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:run(313)) - s0@group-E1C4ACACBF57-SegmentedRaftLogWorker was interrupted, exiting. There are 0 tasks remaining in the queue.
2019-09-24 17:08:24,528 INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:run(313)) - s4@group-E1C4ACACBF57-SegmentedRaftLogWorker was interrupted, exiting. There are 0 tasks remaining in the queue.
2019-09-24 17:08:24,534 INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:close(228)) - s0@group-E1C4ACACBF57-SegmentedRaftLogWorker close()
2019-09-24 17:08:24,533 INFO  impl.RaftServerImpl (RaftServerImpl.java:lambda$shutdown$3(247)) - s3@group-E1C4ACACBF57: shutdown
2019-09-24 17:08:24,531 INFO  simulation.RequestHandler (RequestHandler.java:run(126)) - s1.clientHandler1 is interrupted by java.io.InterruptedIOException: 
2019-09-24 17:08:24,536 INFO  simulation.RequestHandler (RequestHandler.java:run(126)) - s0.clientHandler0 is interrupted by java.io.InterruptedIOException: 
2019-09-24 17:08:24,537 INFO  simulation.RequestHandler (RequestHandler.java:run(126)) - s0.clientHandler2 is interrupted by java.io.InterruptedIOException: 
2019-09-24 17:08:24,531 INFO  simulation.RequestHandler (RequestHandler.java:run(126)) - s1.clientHandler0 is interrupted by java.io.InterruptedIOException: 
2019-09-24 17:08:24,531 INFO  impl.RaftServerImpl (ServerState.java:close(386)) - s2@group-E1C4ACACBF57: closes. applyIndex: -1
2019-09-24 17:08:24,538 INFO  simulation.RequestHandler (RequestHandler.java:run(126)) - s1.serverHandler2 is interrupted by java.io.InterruptedIOException: 
2019-09-24 17:08:24,538 INFO  simulation.RequestHandler (RequestHandler.java:run(126)) - s1.serverHandler0 is interrupted by java.io.InterruptedIOException: 
2019-09-24 17:08:24,536 INFO  simulation.RequestHandler (RequestHandler.java:run(126)) - s0.clientHandler1 is interrupted by java.io.InterruptedIOException: 
2019-09-24 17:08:24,536 INFO  util.JmxRegister (JmxRegister.java:unregister(73)) - Successfully un-registered JMX Bean with object name Ratis:service=RaftServer,group=group-E1C4ACACBF57,id=s3
2019-09-24 17:08:24,539 INFO  simulation.RequestHandler (RequestHandler.java:run(126)) - s0.serverHandler0 is interrupted by java.io.InterruptedIOException: 
2019-09-24 17:08:24,535 INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:close(228)) - s4@group-E1C4ACACBF57-SegmentedRaftLogWorker close()
2019-09-24 17:08:24,539 INFO  simulation.RequestHandler (RequestHandler.java:run(126)) - s0.serverHandler2 is interrupted by java.io.InterruptedIOException: 
2019-09-24 17:08:24,539 INFO  simulation.RequestHandler (RequestHandler.java:run(126)) - s0.serverHandler1 is interrupted by java.io.InterruptedIOException: 
2019-09-24 17:08:24,539 INFO  impl.StateMachineUpdater (StateMachineUpdater.java:stopAndJoin(136)) - s3@group-E1C4ACACBF57-StateMachineUpdater: set stopIndex = -1
2019-09-24 17:08:24,538 INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:run(313)) - s2@group-E1C4ACACBF57-SegmentedRaftLogWorker was interrupted, exiting. There are 0 tasks remaining in the queue.
2019-09-24 17:08:24,542 INFO  impl.RaftServerImpl (ServerState.java:close(386)) - s3@group-E1C4ACACBF57: closes. applyIndex: -1
2019-09-24 17:08:24,542 INFO  simulation.RequestHandler (RequestHandler.java:run(126)) - s4.clientHandler1 is interrupted by java.io.InterruptedIOException: 
2019-09-24 17:08:24,542 INFO  simulation.RequestHandler (RequestHandler.java:run(126)) - s4.clientHandler2 is interrupted by java.io.InterruptedIOException: 
2019-09-24 17:08:24,542 INFO  simulation.RequestHandler (RequestHandler.java:run(126)) - s4.clientHandler0 is interrupted by java.io.InterruptedIOException: 
2019-09-24 17:08:24,542 INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:run(313)) - s3@group-E1C4ACACBF57-SegmentedRaftLogWorker was interrupted, exiting. There are 0 tasks remaining in the queue.
2019-09-24 17:08:24,542 INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:close(228)) - s2@group-E1C4ACACBF57-SegmentedRaftLogWorker close()
2019-09-24 17:08:24,544 INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:close(228)) - s3@group-E1C4ACACBF57-SegmentedRaftLogWorker close()
2019-09-24 17:08:24,545 INFO  simulation.RequestHandler (RequestHandler.java:run(126)) - s2.clientHandler0 is interrupted by java.io.InterruptedIOException: 
2019-09-24 17:08:24,544 INFO  simulation.RequestHandler (RequestHandler.java:run(126)) - s4.serverHandler0 is interrupted by java.io.InterruptedIOException: 
2019-09-24 17:08:24,545 INFO  simulation.RequestHandler (RequestHandler.java:run(126)) - s3.clientHandler1 is interrupted by java.io.InterruptedIOException: 
2019-09-24 17:08:24,544 INFO  simulation.RequestHandler (RequestHandler.java:run(126)) - s4.serverHandler2 is interrupted by java.io.InterruptedIOException: 
2019-09-24 17:08:24,545 INFO  simulation.RequestHandler (RequestHandler.java:run(126)) - s3.clientHandler2 is interrupted by java.io.InterruptedIOException: 
2019-09-24 17:08:24,545 INFO  simulation.RequestHandler (RequestHandler.java:run(126)) - s3.clientHandler0 is interrupted by java.io.InterruptedIOException: 
2019-09-24 17:08:24,545 INFO  simulation.RequestHandler (RequestHandler.java:run(126)) - s2.clientHandler2 is interrupted by java.io.InterruptedIOException: 
2019-09-24 17:08:24,545 INFO  simulation.RequestHandler (RequestHandler.java:run(126)) - s2.clientHandler1 is interrupted by java.io.InterruptedIOException: 
2019-09-24 17:08:24,546 INFO  simulation.RequestHandler (RequestHandler.java:run(126)) - s3.serverHandler2 is interrupted by java.io.InterruptedIOException: 
2019-09-24 17:08:24,546 INFO  simulation.RequestHandler (RequestHandler.java:run(126)) - s3.serverHandler0 is interrupted by java.io.InterruptedIOException: 
2019-09-24 17:08:24,547 INFO  simulation.RequestHandler (RequestHandler.java:run(126)) - s2.serverHandler0 is interrupted by java.io.InterruptedIOException: 
2019-09-24 17:08:24,547 INFO  simulation.RequestHandler (RequestHandler.java:run(126)) - s2.serverHandler2 is interrupted by java.io.InterruptedIOException: 
2019-09-24 17:08:24,548 INFO  ratis.MiniRaftCluster (MiniRaftCluster.java:shutdown(722)) - MiniRaftClusterWithSimulatedRpc shutdown completed
| MiniRaftClusterWithSimulatedRpc[3, 4, 5]chosen=0 | shutdown | 50 |
2019-09-24 17:08:24,548 INFO  util.LogUtils (LogUtils.java:setLogLevel(41)) - Set org.apache.ratis.conf.ConfUtils log level to WARN
2019-09-24 17:08:24,549 INFO  util.LogUtils (LogUtils.java:setLogLevel(41)) - Set org.apache.ratis.util.FileUtils log level to TRACE
2019-09-24 17:08:24,549 INFO  util.LogUtils (LogUtils.java:setLogLevel(41)) - Set org.apache.ratis.server.impl.RaftServerProxy log level to DEBUG
2019-09-24 17:08:24,549 INFO  util.LogUtils (LogUtils.java:setLogLevel(41)) - Set org.apache.ratis.server.impl.RaftServerImpl log level to DEBUG
2019-09-24 17:08:24,549 INFO  util.LogUtils (LogUtils.java:setLogLevel(41)) - Set org.apache.ratis.client.RaftClient log level to DEBUG
| null | init | 50 |
2019-09-24 17:08:24,551 INFO  simulation.MiniRaftClusterWithSimulatedRpc (ConfUtils.java:logGet(43)) - org.apache.ratis.server.simulation.SimulatedRequestReply.simulateLatencyMs = 0 (custom)
2019-09-24 17:08:24,551 INFO  ratis.MiniRaftCluster (MiniRaftCluster.java:<init>(253)) - new MiniRaftClusterWithSimulatedRpc with group-3199313966C8:[]
2019-09-24 17:08:24,551 INFO  impl.GroupManagementBaseTest (GroupManagementBaseTest.java:runMultiGroupTest(140)) - 

runMultiGroupTest with MiniRaftClusterWithSimulatedRpc[1, 6, 7]chosen=1: printing ALL groups
2019-09-24 17:08:24,551 INFO  impl.GroupManagementBaseTest (GroupManagementBaseTest.java:runMultiGroupTest(147)) - ids: [s0, s1, s2, s3, s4, s5, s6]
2019-09-24 17:08:24,551 INFO  ratis.MiniRaftCluster (MiniRaftCluster.java:newRaftServer(330)) - newRaftServer: s0, group-3199313966C8:[], format? true
2019-09-24 17:08:24,552 TRACE util.FileUtils (FileUtils.java:deleteFully(88)) - deleteFully target/test/data/312143de/MiniRaftClusterWithSimulatedRpcd1e62d5/s0
2019-09-24 17:08:24,552 TRACE util.FileUtils (FileUtils.java:deleteFully(104)) - deleteFully: target/test/data/312143de/MiniRaftClusterWithSimulatedRpcd1e62d5/s0 does not exist.
2019-09-24 17:08:24,552 INFO  ratis.MiniRaftCluster (MiniRaftCluster.java:newRaftServer(335)) - Formatted directory target/test/data/312143de/MiniRaftClusterWithSimulatedRpcd1e62d5/s0
2019-09-24 17:08:24,552 DEBUG impl.RaftServerProxy (ServerImplUtils.java:newRaftServer(39)) - newRaftServer: s0, group-3199313966C8:[]
2019-09-24 17:08:24,552 INFO  impl.RaftServerProxy (ConfUtils.java:logGet(43)) - raft.rpc.type = org.apache.ratis.server.simulation.SimulatedRpc (custom)
2019-09-24 17:08:24,553 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.storage.dir = [/workdir/ratis-test/target/test/data/312143de/MiniRaftClusterWithSimulatedRpcd1e62d5/s0] (custom)
2019-09-24 17:08:24,553 INFO  impl.RaftServerProxy (RaftServerProxy.java:addNew(89)) - s0: addNew group-3199313966C8:[] returns group-3199313966C8:java.util.concurrent.CompletableFuture@42640d37[Not completed]
2019-09-24 17:08:24,554 INFO  ratis.MiniRaftCluster (MiniRaftCluster.java:newRaftServer(330)) - newRaftServer: s1, group-3199313966C8:[], format? true
2019-09-24 17:08:24,554 INFO  impl.RaftServerImpl (RaftServerImpl.java:<init>(95)) - s0: new RaftServerImpl for group-3199313966C8:[] with BaseStateMachine:uninitialized
2019-09-24 17:08:24,554 TRACE util.FileUtils (FileUtils.java:deleteFully(88)) - deleteFully target/test/data/312143de/MiniRaftClusterWithSimulatedRpcd1e62d5/s1
2019-09-24 17:08:24,554 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.rpc.timeout.min = 150ms (default)
2019-09-24 17:08:24,554 TRACE util.FileUtils (FileUtils.java:deleteFully(104)) - deleteFully: target/test/data/312143de/MiniRaftClusterWithSimulatedRpcd1e62d5/s1 does not exist.
2019-09-24 17:08:24,555 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.rpc.timeout.max = 300ms (default)
2019-09-24 17:08:24,555 INFO  ratis.MiniRaftCluster (MiniRaftCluster.java:newRaftServer(335)) - Formatted directory target/test/data/312143de/MiniRaftClusterWithSimulatedRpcd1e62d5/s1
2019-09-24 17:08:24,555 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.rpcslowness.timeout = 60s (default)
2019-09-24 17:08:24,555 DEBUG impl.RaftServerProxy (ServerImplUtils.java:newRaftServer(39)) - newRaftServer: s1, group-3199313966C8:[]
2019-09-24 17:08:24,555 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.sleep.deviation.threshold = 300 (default)
2019-09-24 17:08:24,555 INFO  impl.RaftServerProxy (ConfUtils.java:logGet(43)) - raft.rpc.type = org.apache.ratis.server.simulation.SimulatedRpc (custom)
2019-09-24 17:08:24,555 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.log.appender.install.snapshot.enabled = true (default)
2019-09-24 17:08:24,556 INFO  impl.RaftServerImpl (ServerState.java:<init>(103)) - s0@group-3199313966C8: ConfigurationManager, init=-1: [], old=null, confs=<EMPTY_MAP>
2019-09-24 17:08:24,556 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.storage.dir = [/workdir/ratis-test/target/test/data/312143de/MiniRaftClusterWithSimulatedRpcd1e62d5/s1] (custom)
2019-09-24 17:08:24,556 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.storage.dir = [/workdir/ratis-test/target/test/data/312143de/MiniRaftClusterWithSimulatedRpcd1e62d5/s0] (custom)
2019-09-24 17:08:24,556 INFO  impl.RaftServerProxy (RaftServerProxy.java:addNew(89)) - s1: addNew group-3199313966C8:[] returns group-3199313966C8:java.util.concurrent.CompletableFuture@402452fe[Not completed]
2019-09-24 17:08:24,556 INFO  impl.RaftServerImpl (RaftServerImpl.java:<init>(95)) - s1: new RaftServerImpl for group-3199313966C8:[] with BaseStateMachine:uninitialized
2019-09-24 17:08:24,556 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.log.corruption.policy = EXCEPTION (default)
2019-09-24 17:08:24,557 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.rpc.timeout.min = 150ms (default)
2019-09-24 17:08:24,556 INFO  ratis.MiniRaftCluster (MiniRaftCluster.java:newRaftServer(330)) - newRaftServer: s2, group-3199313966C8:[], format? true
2019-09-24 17:08:24,557 INFO  storage.RaftStorageDirectory (RaftStorageDirectory.java:analyzeStorage(246)) - The storage directory /workdir/ratis-test/target/test/data/312143de/MiniRaftClusterWithSimulatedRpcd1e62d5/s0/5f5a9a13-1289-4cf4-a5b3-3199313966c8 does not exist. Creating ...
2019-09-24 17:08:24,557 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.rpc.timeout.max = 300ms (default)
2019-09-24 17:08:24,557 TRACE util.FileUtils (FileUtils.java:deleteFully(88)) - deleteFully target/test/data/312143de/MiniRaftClusterWithSimulatedRpcd1e62d5/s2
2019-09-24 17:08:24,557 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.rpcslowness.timeout = 60s (default)
2019-09-24 17:08:24,558 TRACE util.FileUtils (FileUtils.java:deleteFully(104)) - deleteFully: target/test/data/312143de/MiniRaftClusterWithSimulatedRpcd1e62d5/s2 does not exist.
2019-09-24 17:08:24,558 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.sleep.deviation.threshold = 300 (default)
2019-09-24 17:08:24,558 INFO  ratis.MiniRaftCluster (MiniRaftCluster.java:newRaftServer(335)) - Formatted directory target/test/data/312143de/MiniRaftClusterWithSimulatedRpcd1e62d5/s2
2019-09-24 17:08:24,558 TRACE util.FileUtils (LogUtils.java:runAndLog(61)) - Successfully ran Files.createDirectories /workdir/ratis-test/target/test/data/312143de/MiniRaftClusterWithSimulatedRpcd1e62d5/s0/5f5a9a13-1289-4cf4-a5b3-3199313966c8
2019-09-24 17:08:24,558 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.log.appender.install.snapshot.enabled = true (default)
2019-09-24 17:08:24,558 DEBUG impl.RaftServerProxy (ServerImplUtils.java:newRaftServer(39)) - newRaftServer: s2, group-3199313966C8:[]
2019-09-24 17:08:24,558 INFO  impl.RaftServerImpl (ServerState.java:<init>(103)) - s1@group-3199313966C8: ConfigurationManager, init=-1: [], old=null, confs=<EMPTY_MAP>
2019-09-24 17:08:24,559 INFO  impl.RaftServerProxy (ConfUtils.java:logGet(43)) - raft.rpc.type = org.apache.ratis.server.simulation.SimulatedRpc (custom)
2019-09-24 17:08:24,559 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.storage.dir = [/workdir/ratis-test/target/test/data/312143de/MiniRaftClusterWithSimulatedRpcd1e62d5/s1] (custom)
2019-09-24 17:08:24,559 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.storage.dir = [/workdir/ratis-test/target/test/data/312143de/MiniRaftClusterWithSimulatedRpcd1e62d5/s2] (custom)
2019-09-24 17:08:24,559 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.log.corruption.policy = EXCEPTION (default)
2019-09-24 17:08:24,559 INFO  impl.RaftServerProxy (RaftServerProxy.java:addNew(89)) - s2: addNew group-3199313966C8:[] returns group-3199313966C8:java.util.concurrent.CompletableFuture@3971cbc6[Not completed]
2019-09-24 17:08:24,559 INFO  storage.RaftStorageDirectory (RaftStorageDirectory.java:analyzeStorage(246)) - The storage directory /workdir/ratis-test/target/test/data/312143de/MiniRaftClusterWithSimulatedRpcd1e62d5/s1/5f5a9a13-1289-4cf4-a5b3-3199313966c8 does not exist. Creating ...
2019-09-24 17:08:24,560 INFO  impl.RaftServerImpl (RaftServerImpl.java:<init>(95)) - s2: new RaftServerImpl for group-3199313966C8:[] with BaseStateMachine:uninitialized
2019-09-24 17:08:24,560 INFO  ratis.MiniRaftCluster (MiniRaftCluster.java:newRaftServer(330)) - newRaftServer: s3, group-3199313966C8:[], format? true
2019-09-24 17:08:24,560 TRACE util.FileUtils (FileUtils.java:deleteFully(88)) - deleteFully target/test/data/312143de/MiniRaftClusterWithSimulatedRpcd1e62d5/s3
2019-09-24 17:08:24,560 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.rpc.timeout.min = 150ms (default)
2019-09-24 17:08:24,560 TRACE util.FileUtils (FileUtils.java:deleteFully(104)) - deleteFully: target/test/data/312143de/MiniRaftClusterWithSimulatedRpcd1e62d5/s3 does not exist.
2019-09-24 17:08:24,560 TRACE util.FileUtils (LogUtils.java:runAndLog(61)) - Successfully ran Files.createDirectories /workdir/ratis-test/target/test/data/312143de/MiniRaftClusterWithSimulatedRpcd1e62d5/s1/5f5a9a13-1289-4cf4-a5b3-3199313966c8
2019-09-24 17:08:24,561 INFO  ratis.MiniRaftCluster (MiniRaftCluster.java:newRaftServer(335)) - Formatted directory target/test/data/312143de/MiniRaftClusterWithSimulatedRpcd1e62d5/s3
2019-09-24 17:08:24,560 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.rpc.timeout.max = 300ms (default)
2019-09-24 17:08:24,561 DEBUG impl.RaftServerProxy (ServerImplUtils.java:newRaftServer(39)) - newRaftServer: s3, group-3199313966C8:[]
2019-09-24 17:08:24,561 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.rpcslowness.timeout = 60s (default)
2019-09-24 17:08:24,561 INFO  impl.RaftServerProxy (ConfUtils.java:logGet(43)) - raft.rpc.type = org.apache.ratis.server.simulation.SimulatedRpc (custom)
2019-09-24 17:08:24,561 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.sleep.deviation.threshold = 300 (default)
2019-09-24 17:08:24,562 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.log.appender.install.snapshot.enabled = true (default)
2019-09-24 17:08:24,562 INFO  impl.RaftServerImpl (ServerState.java:<init>(103)) - s2@group-3199313966C8: ConfigurationManager, init=-1: [], old=null, confs=<EMPTY_MAP>
2019-09-24 17:08:24,562 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.storage.dir = [/workdir/ratis-test/target/test/data/312143de/MiniRaftClusterWithSimulatedRpcd1e62d5/s3] (custom)
2019-09-24 17:08:24,562 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.storage.dir = [/workdir/ratis-test/target/test/data/312143de/MiniRaftClusterWithSimulatedRpcd1e62d5/s2] (custom)
2019-09-24 17:08:24,562 INFO  impl.RaftServerProxy (RaftServerProxy.java:addNew(89)) - s3: addNew group-3199313966C8:[] returns group-3199313966C8:java.util.concurrent.CompletableFuture@7f1101c6[Not completed]
2019-09-24 17:08:24,562 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.log.corruption.policy = EXCEPTION (default)
2019-09-24 17:08:24,562 INFO  impl.RaftServerImpl (RaftServerImpl.java:<init>(95)) - s3: new RaftServerImpl for group-3199313966C8:[] with BaseStateMachine:uninitialized
2019-09-24 17:08:24,562 INFO  ratis.MiniRaftCluster (MiniRaftCluster.java:newRaftServer(330)) - newRaftServer: s4, group-3199313966C8:[], format? true
2019-09-24 17:08:24,563 INFO  storage.RaftStorageDirectory (RaftStorageDirectory.java:analyzeStorage(246)) - The storage directory /workdir/ratis-test/target/test/data/312143de/MiniRaftClusterWithSimulatedRpcd1e62d5/s2/5f5a9a13-1289-4cf4-a5b3-3199313966c8 does not exist. Creating ...
2019-09-24 17:08:24,563 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.rpc.timeout.min = 150ms (default)
2019-09-24 17:08:24,563 TRACE util.FileUtils (FileUtils.java:deleteFully(88)) - deleteFully target/test/data/312143de/MiniRaftClusterWithSimulatedRpcd1e62d5/s4
2019-09-24 17:08:24,563 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.rpc.timeout.max = 300ms (default)
2019-09-24 17:08:24,563 TRACE util.FileUtils (FileUtils.java:deleteFully(104)) - deleteFully: target/test/data/312143de/MiniRaftClusterWithSimulatedRpcd1e62d5/s4 does not exist.
2019-09-24 17:08:24,564 TRACE util.FileUtils (LogUtils.java:runAndLog(61)) - Successfully ran Files.createDirectories /workdir/ratis-test/target/test/data/312143de/MiniRaftClusterWithSimulatedRpcd1e62d5/s2/5f5a9a13-1289-4cf4-a5b3-3199313966c8
2019-09-24 17:08:24,563 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.rpcslowness.timeout = 60s (default)
2019-09-24 17:08:24,564 INFO  ratis.MiniRaftCluster (MiniRaftCluster.java:newRaftServer(335)) - Formatted directory target/test/data/312143de/MiniRaftClusterWithSimulatedRpcd1e62d5/s4
2019-09-24 17:08:24,564 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.sleep.deviation.threshold = 300 (default)
2019-09-24 17:08:24,564 DEBUG impl.RaftServerProxy (ServerImplUtils.java:newRaftServer(39)) - newRaftServer: s4, group-3199313966C8:[]
2019-09-24 17:08:24,564 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.log.appender.install.snapshot.enabled = true (default)
2019-09-24 17:08:24,564 INFO  impl.RaftServerProxy (ConfUtils.java:logGet(43)) - raft.rpc.type = org.apache.ratis.server.simulation.SimulatedRpc (custom)
2019-09-24 17:08:24,564 INFO  impl.RaftServerImpl (ServerState.java:<init>(103)) - s3@group-3199313966C8: ConfigurationManager, init=-1: [], old=null, confs=<EMPTY_MAP>
2019-09-24 17:08:24,565 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.storage.dir = [/workdir/ratis-test/target/test/data/312143de/MiniRaftClusterWithSimulatedRpcd1e62d5/s3] (custom)
2019-09-24 17:08:24,565 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.storage.dir = [/workdir/ratis-test/target/test/data/312143de/MiniRaftClusterWithSimulatedRpcd1e62d5/s4] (custom)
2019-09-24 17:08:24,565 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.log.corruption.policy = EXCEPTION (default)
2019-09-24 17:08:24,565 INFO  impl.RaftServerProxy (RaftServerProxy.java:addNew(89)) - s4: addNew group-3199313966C8:[] returns group-3199313966C8:java.util.concurrent.CompletableFuture@1af7fc14[Not completed]
2019-09-24 17:08:24,565 INFO  storage.RaftStorageDirectory (RaftStorageDirectory.java:analyzeStorage(246)) - The storage directory /workdir/ratis-test/target/test/data/312143de/MiniRaftClusterWithSimulatedRpcd1e62d5/s3/5f5a9a13-1289-4cf4-a5b3-3199313966c8 does not exist. Creating ...
2019-09-24 17:08:24,565 INFO  ratis.MiniRaftCluster (MiniRaftCluster.java:newRaftServer(330)) - newRaftServer: s5, group-3199313966C8:[], format? true
2019-09-24 17:08:24,565 TRACE util.FileUtils (FileUtils.java:deleteFully(88)) - deleteFully target/test/data/312143de/MiniRaftClusterWithSimulatedRpcd1e62d5/s5
2019-09-24 17:08:24,565 INFO  impl.RaftServerImpl (RaftServerImpl.java:<init>(95)) - s4: new RaftServerImpl for group-3199313966C8:[] with BaseStateMachine:uninitialized
2019-09-24 17:08:24,566 TRACE util.FileUtils (LogUtils.java:runAndLog(61)) - Successfully ran Files.createDirectories /workdir/ratis-test/target/test/data/312143de/MiniRaftClusterWithSimulatedRpcd1e62d5/s3/5f5a9a13-1289-4cf4-a5b3-3199313966c8
2019-09-24 17:08:24,566 TRACE util.FileUtils (FileUtils.java:deleteFully(104)) - deleteFully: target/test/data/312143de/MiniRaftClusterWithSimulatedRpcd1e62d5/s5 does not exist.
2019-09-24 17:08:24,566 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.rpc.timeout.min = 150ms (default)
2019-09-24 17:08:24,566 INFO  ratis.MiniRaftCluster (MiniRaftCluster.java:newRaftServer(335)) - Formatted directory target/test/data/312143de/MiniRaftClusterWithSimulatedRpcd1e62d5/s5
2019-09-24 17:08:24,566 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.rpc.timeout.max = 300ms (default)
2019-09-24 17:08:24,567 DEBUG impl.RaftServerProxy (ServerImplUtils.java:newRaftServer(39)) - newRaftServer: s5, group-3199313966C8:[]
2019-09-24 17:08:24,567 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.rpcslowness.timeout = 60s (default)
2019-09-24 17:08:24,567 INFO  impl.RaftServerProxy (ConfUtils.java:logGet(43)) - raft.rpc.type = org.apache.ratis.server.simulation.SimulatedRpc (custom)
2019-09-24 17:08:24,567 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.sleep.deviation.threshold = 300 (default)
2019-09-24 17:08:24,567 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.log.appender.install.snapshot.enabled = true (default)
2019-09-24 17:08:24,567 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.storage.dir = [/workdir/ratis-test/target/test/data/312143de/MiniRaftClusterWithSimulatedRpcd1e62d5/s5] (custom)
2019-09-24 17:08:24,567 INFO  impl.RaftServerImpl (ServerState.java:<init>(103)) - s4@group-3199313966C8: ConfigurationManager, init=-1: [], old=null, confs=<EMPTY_MAP>
2019-09-24 17:08:24,568 INFO  impl.RaftServerProxy (RaftServerProxy.java:addNew(89)) - s5: addNew group-3199313966C8:[] returns group-3199313966C8:java.util.concurrent.CompletableFuture@351966c7[Not completed]
2019-09-24 17:08:24,568 INFO  impl.RaftServerImpl (RaftServerImpl.java:<init>(95)) - s5: new RaftServerImpl for group-3199313966C8:[] with BaseStateMachine:uninitialized
2019-09-24 17:08:24,568 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.storage.dir = [/workdir/ratis-test/target/test/data/312143de/MiniRaftClusterWithSimulatedRpcd1e62d5/s4] (custom)
2019-09-24 17:08:24,568 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.rpc.timeout.min = 150ms (default)
2019-09-24 17:08:24,568 INFO  ratis.MiniRaftCluster (MiniRaftCluster.java:newRaftServer(330)) - newRaftServer: s6, group-3199313966C8:[], format? true
2019-09-24 17:08:24,568 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.log.corruption.policy = EXCEPTION (default)
2019-09-24 17:08:24,568 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.rpc.timeout.max = 300ms (default)
2019-09-24 17:08:24,568 TRACE util.FileUtils (FileUtils.java:deleteFully(88)) - deleteFully target/test/data/312143de/MiniRaftClusterWithSimulatedRpcd1e62d5/s6
2019-09-24 17:08:24,569 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.rpcslowness.timeout = 60s (default)
2019-09-24 17:08:24,569 TRACE util.FileUtils (FileUtils.java:deleteFully(104)) - deleteFully: target/test/data/312143de/MiniRaftClusterWithSimulatedRpcd1e62d5/s6 does not exist.
2019-09-24 17:08:24,569 INFO  ratis.MiniRaftCluster (MiniRaftCluster.java:newRaftServer(335)) - Formatted directory target/test/data/312143de/MiniRaftClusterWithSimulatedRpcd1e62d5/s6
2019-09-24 17:08:24,569 INFO  storage.RaftStorageDirectory (RaftStorageDirectory.java:analyzeStorage(246)) - The storage directory /workdir/ratis-test/target/test/data/312143de/MiniRaftClusterWithSimulatedRpcd1e62d5/s4/5f5a9a13-1289-4cf4-a5b3-3199313966c8 does not exist. Creating ...
2019-09-24 17:08:24,569 DEBUG impl.RaftServerProxy (ServerImplUtils.java:newRaftServer(39)) - newRaftServer: s6, group-3199313966C8:[]
2019-09-24 17:08:24,569 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.sleep.deviation.threshold = 300 (default)
2019-09-24 17:08:24,569 INFO  impl.RaftServerProxy (ConfUtils.java:logGet(43)) - raft.rpc.type = org.apache.ratis.server.simulation.SimulatedRpc (custom)
2019-09-24 17:08:24,569 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.log.appender.install.snapshot.enabled = true (default)
2019-09-24 17:08:24,570 TRACE util.FileUtils (LogUtils.java:runAndLog(61)) - Successfully ran Files.createDirectories /workdir/ratis-test/target/test/data/312143de/MiniRaftClusterWithSimulatedRpcd1e62d5/s4/5f5a9a13-1289-4cf4-a5b3-3199313966c8
2019-09-24 17:08:24,570 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.storage.dir = [/workdir/ratis-test/target/test/data/312143de/MiniRaftClusterWithSimulatedRpcd1e62d5/s6] (custom)
2019-09-24 17:08:24,570 INFO  impl.RaftServerImpl (ServerState.java:<init>(103)) - s5@group-3199313966C8: ConfigurationManager, init=-1: [], old=null, confs=<EMPTY_MAP>
2019-09-24 17:08:24,570 INFO  impl.RaftServerProxy (RaftServerProxy.java:addNew(89)) - s6: addNew group-3199313966C8:[] returns group-3199313966C8:java.util.concurrent.CompletableFuture@68395572[Not completed]
2019-09-24 17:08:24,570 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.storage.dir = [/workdir/ratis-test/target/test/data/312143de/MiniRaftClusterWithSimulatedRpcd1e62d5/s5] (custom)
2019-09-24 17:08:24,570 INFO  impl.RaftServerImpl (RaftServerImpl.java:<init>(95)) - s6: new RaftServerImpl for group-3199313966C8:[] with BaseStateMachine:uninitialized
2019-09-24 17:08:24,570 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.log.corruption.policy = EXCEPTION (default)
2019-09-24 17:08:24,570 INFO  impl.GroupManagementBaseTest (GroupManagementBaseTest.java:runMultiGroupTest(149)) - putNewServer: printing ALL groups
  s3:      NEW group-3199313966C8:java.util.concurrent.CompletableFuture@7f1101c6[Not completed]
  s4:      NEW group-3199313966C8:java.util.concurrent.CompletableFuture@1af7fc14[Not completed]
  s5:      NEW group-3199313966C8:java.util.concurrent.CompletableFuture@351966c7[Not completed]
  s6:      NEW group-3199313966C8:java.util.concurrent.CompletableFuture@68395572[Not completed]
  s0:      NEW group-3199313966C8:java.util.concurrent.CompletableFuture@42640d37[Not completed]
  s1:      NEW group-3199313966C8:java.util.concurrent.CompletableFuture@402452fe[Not completed]
  s2:      NEW group-3199313966C8:java.util.concurrent.CompletableFuture@3971cbc6[Not completed]
2019-09-24 17:08:24,571 INFO  storage.RaftStorageDirectory (RaftStorageDirectory.java:analyzeStorage(246)) - The storage directory /workdir/ratis-test/target/test/data/312143de/MiniRaftClusterWithSimulatedRpcd1e62d5/s5/5f5a9a13-1289-4cf4-a5b3-3199313966c8 does not exist. Creating ...
2019-09-24 17:08:24,571 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.rpc.timeout.min = 150ms (default)
2019-09-24 17:08:24,572 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.rpc.timeout.max = 300ms (default)
2019-09-24 17:08:24,572 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.rpcslowness.timeout = 60s (default)
2019-09-24 17:08:24,572 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.sleep.deviation.threshold = 300 (default)
2019-09-24 17:08:24,572 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.log.appender.install.snapshot.enabled = true (default)
2019-09-24 17:08:24,572 INFO  impl.RaftServerImpl (ServerState.java:<init>(103)) - s6@group-3199313966C8: ConfigurationManager, init=-1: [], old=null, confs=<EMPTY_MAP>
2019-09-24 17:08:24,573 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.storage.dir = [/workdir/ratis-test/target/test/data/312143de/MiniRaftClusterWithSimulatedRpcd1e62d5/s6] (custom)
2019-09-24 17:08:24,573 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.log.corruption.policy = EXCEPTION (default)
2019-09-24 17:08:24,573 INFO  storage.RaftStorageDirectory (RaftStorageDirectory.java:analyzeStorage(246)) - The storage directory /workdir/ratis-test/target/test/data/312143de/MiniRaftClusterWithSimulatedRpcd1e62d5/s6/5f5a9a13-1289-4cf4-a5b3-3199313966c8 does not exist. Creating ...
2019-09-24 17:08:24,589 TRACE util.FileUtils (LogUtils.java:runAndLog(61)) - Successfully ran Files.createDirectories /workdir/ratis-test/target/test/data/312143de/MiniRaftClusterWithSimulatedRpcd1e62d5/s5/5f5a9a13-1289-4cf4-a5b3-3199313966c8
2019-09-24 17:08:24,589 TRACE util.FileUtils (LogUtils.java:runAndLog(61)) - Successfully ran Files.createDirectories /workdir/ratis-test/target/test/data/312143de/MiniRaftClusterWithSimulatedRpcd1e62d5/s6/5f5a9a13-1289-4cf4-a5b3-3199313966c8
2019-09-24 17:08:24,618 INFO  storage.RaftStorageDirectory (RaftStorageDirectory.java:tryLock(328)) - Lock on /workdir/ratis-test/target/test/data/312143de/MiniRaftClusterWithSimulatedRpcd1e62d5/s2/5f5a9a13-1289-4cf4-a5b3-3199313966c8/in_use.lock acquired by nodename 9360@ratis-test-vphbd-3564017154
2019-09-24 17:08:24,618 INFO  storage.RaftStorageDirectory (RaftStorageDirectory.java:tryLock(328)) - Lock on /workdir/ratis-test/target/test/data/312143de/MiniRaftClusterWithSimulatedRpcd1e62d5/s1/5f5a9a13-1289-4cf4-a5b3-3199313966c8/in_use.lock acquired by nodename 9360@ratis-test-vphbd-3564017154
2019-09-24 17:08:24,618 INFO  storage.RaftStorageDirectory (RaftStorageDirectory.java:tryLock(328)) - Lock on /workdir/ratis-test/target/test/data/312143de/MiniRaftClusterWithSimulatedRpcd1e62d5/s0/5f5a9a13-1289-4cf4-a5b3-3199313966c8/in_use.lock acquired by nodename 9360@ratis-test-vphbd-3564017154
2019-09-24 17:08:24,618 INFO  storage.RaftStorageDirectory (RaftStorageDirectory.java:tryLock(328)) - Lock on /workdir/ratis-test/target/test/data/312143de/MiniRaftClusterWithSimulatedRpcd1e62d5/s3/5f5a9a13-1289-4cf4-a5b3-3199313966c8/in_use.lock acquired by nodename 9360@ratis-test-vphbd-3564017154
2019-09-24 17:08:24,620 TRACE util.FileUtils (LogUtils.java:runAndLog(61)) - Successfully ran Files.createDirectories /workdir/ratis-test/target/test/data/312143de/MiniRaftClusterWithSimulatedRpcd1e62d5/s0/5f5a9a13-1289-4cf4-a5b3-3199313966c8/current
2019-09-24 17:08:24,620 TRACE util.FileUtils (LogUtils.java:runAndLog(61)) - Successfully ran Files.createDirectories /workdir/ratis-test/target/test/data/312143de/MiniRaftClusterWithSimulatedRpcd1e62d5/s1/5f5a9a13-1289-4cf4-a5b3-3199313966c8/current
2019-09-24 17:08:24,620 TRACE util.FileUtils (LogUtils.java:runAndLog(61)) - Successfully ran Files.createDirectories /workdir/ratis-test/target/test/data/312143de/MiniRaftClusterWithSimulatedRpcd1e62d5/s3/5f5a9a13-1289-4cf4-a5b3-3199313966c8/current
2019-09-24 17:08:24,620 INFO  storage.RaftStorageDirectory (RaftStorageDirectory.java:tryLock(328)) - Lock on /workdir/ratis-test/target/test/data/312143de/MiniRaftClusterWithSimulatedRpcd1e62d5/s4/5f5a9a13-1289-4cf4-a5b3-3199313966c8/in_use.lock acquired by nodename 9360@ratis-test-vphbd-3564017154
2019-09-24 17:08:24,620 TRACE util.FileUtils (LogUtils.java:runAndLog(61)) - Successfully ran Files.createDirectories /workdir/ratis-test/target/test/data/312143de/MiniRaftClusterWithSimulatedRpcd1e62d5/s2/5f5a9a13-1289-4cf4-a5b3-3199313966c8/current
2019-09-24 17:08:24,620 TRACE util.FileUtils (LogUtils.java:runAndLog(61)) - Successfully ran Files.createDirectories /workdir/ratis-test/target/test/data/312143de/MiniRaftClusterWithSimulatedRpcd1e62d5/s3/5f5a9a13-1289-4cf4-a5b3-3199313966c8/sm
2019-09-24 17:08:24,620 INFO  storage.RaftStorageDirectory (RaftStorageDirectory.java:tryLock(328)) - Lock on /workdir/ratis-test/target/test/data/312143de/MiniRaftClusterWithSimulatedRpcd1e62d5/s6/5f5a9a13-1289-4cf4-a5b3-3199313966c8/in_use.lock acquired by nodename 9360@ratis-test-vphbd-3564017154
2019-09-24 17:08:24,620 INFO  storage.RaftStorageDirectory (RaftStorageDirectory.java:tryLock(328)) - Lock on /workdir/ratis-test/target/test/data/312143de/MiniRaftClusterWithSimulatedRpcd1e62d5/s5/5f5a9a13-1289-4cf4-a5b3-3199313966c8/in_use.lock acquired by nodename 9360@ratis-test-vphbd-3564017154
2019-09-24 17:08:24,620 TRACE util.FileUtils (LogUtils.java:runAndLog(61)) - Successfully ran Files.createDirectories /workdir/ratis-test/target/test/data/312143de/MiniRaftClusterWithSimulatedRpcd1e62d5/s1/5f5a9a13-1289-4cf4-a5b3-3199313966c8/sm
2019-09-24 17:08:24,620 TRACE util.FileUtils (LogUtils.java:runAndLog(61)) - Successfully ran Files.createDirectories /workdir/ratis-test/target/test/data/312143de/MiniRaftClusterWithSimulatedRpcd1e62d5/s0/5f5a9a13-1289-4cf4-a5b3-3199313966c8/sm
2019-09-24 17:08:24,621 TRACE util.FileUtils (LogUtils.java:runAndLog(61)) - Successfully ran Files.createDirectories /workdir/ratis-test/target/test/data/312143de/MiniRaftClusterWithSimulatedRpcd1e62d5/s5/5f5a9a13-1289-4cf4-a5b3-3199313966c8/current
2019-09-24 17:08:24,621 TRACE util.FileUtils (LogUtils.java:runAndLog(61)) - Successfully ran Files.createDirectories /workdir/ratis-test/target/test/data/312143de/MiniRaftClusterWithSimulatedRpcd1e62d5/s6/5f5a9a13-1289-4cf4-a5b3-3199313966c8/current
2019-09-24 17:08:24,621 TRACE util.FileUtils (LogUtils.java:runAndLog(61)) - Successfully ran Files.createDirectories /workdir/ratis-test/target/test/data/312143de/MiniRaftClusterWithSimulatedRpcd1e62d5/s2/5f5a9a13-1289-4cf4-a5b3-3199313966c8/sm
2019-09-24 17:08:24,621 TRACE util.FileUtils (LogUtils.java:runAndLog(61)) - Successfully ran Files.createDirectories /workdir/ratis-test/target/test/data/312143de/MiniRaftClusterWithSimulatedRpcd1e62d5/s4/5f5a9a13-1289-4cf4-a5b3-3199313966c8/current
2019-09-24 17:08:24,622 TRACE util.FileUtils (LogUtils.java:runAndLog(61)) - Successfully ran Files.createDirectories /workdir/ratis-test/target/test/data/312143de/MiniRaftClusterWithSimulatedRpcd1e62d5/s6/5f5a9a13-1289-4cf4-a5b3-3199313966c8/sm
2019-09-24 17:08:24,622 TRACE util.FileUtils (LogUtils.java:runAndLog(61)) - Successfully ran Files.createDirectories /workdir/ratis-test/target/test/data/312143de/MiniRaftClusterWithSimulatedRpcd1e62d5/s5/5f5a9a13-1289-4cf4-a5b3-3199313966c8/sm
2019-09-24 17:08:24,623 TRACE util.FileUtils (LogUtils.java:runAndLog(61)) - Successfully ran Files.createDirectories /workdir/ratis-test/target/test/data/312143de/MiniRaftClusterWithSimulatedRpcd1e62d5/s4/5f5a9a13-1289-4cf4-a5b3-3199313966c8/sm
2019-09-24 17:08:24,662 INFO  storage.RaftStorage (RaftStorage.java:format(84)) - Storage directory /workdir/ratis-test/target/test/data/312143de/MiniRaftClusterWithSimulatedRpcd1e62d5/s0/5f5a9a13-1289-4cf4-a5b3-3199313966c8 has been successfully formatted.
2019-09-24 17:08:24,662 INFO  storage.RaftStorage (RaftStorage.java:format(84)) - Storage directory /workdir/ratis-test/target/test/data/312143de/MiniRaftClusterWithSimulatedRpcd1e62d5/s6/5f5a9a13-1289-4cf4-a5b3-3199313966c8 has been successfully formatted.
2019-09-24 17:08:24,662 INFO  storage.RaftStorage (RaftStorage.java:format(84)) - Storage directory /workdir/ratis-test/target/test/data/312143de/MiniRaftClusterWithSimulatedRpcd1e62d5/s4/5f5a9a13-1289-4cf4-a5b3-3199313966c8 has been successfully formatted.
2019-09-24 17:08:24,662 INFO  storage.RaftStorage (RaftStorage.java:format(84)) - Storage directory /workdir/ratis-test/target/test/data/312143de/MiniRaftClusterWithSimulatedRpcd1e62d5/s5/5f5a9a13-1289-4cf4-a5b3-3199313966c8 has been successfully formatted.
2019-09-24 17:08:24,662 INFO  storage.RaftStorage (RaftStorage.java:format(84)) - Storage directory /workdir/ratis-test/target/test/data/312143de/MiniRaftClusterWithSimulatedRpcd1e62d5/s1/5f5a9a13-1289-4cf4-a5b3-3199313966c8 has been successfully formatted.
2019-09-24 17:08:24,662 INFO  storage.RaftStorage (RaftStorage.java:format(84)) - Storage directory /workdir/ratis-test/target/test/data/312143de/MiniRaftClusterWithSimulatedRpcd1e62d5/s2/5f5a9a13-1289-4cf4-a5b3-3199313966c8 has been successfully formatted.
2019-09-24 17:08:24,662 INFO  storage.RaftStorage (RaftStorage.java:format(84)) - Storage directory /workdir/ratis-test/target/test/data/312143de/MiniRaftClusterWithSimulatedRpcd1e62d5/s3/5f5a9a13-1289-4cf4-a5b3-3199313966c8 has been successfully formatted.
2019-09-24 17:08:24,663 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.notification.no-leader.timeout = 60s (default)
2019-09-24 17:08:24,663 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.notification.no-leader.timeout = 60s (default)
2019-09-24 17:08:24,663 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.notification.no-leader.timeout = 60s (default)
2019-09-24 17:08:24,662 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.notification.no-leader.timeout = 60s (default)
2019-09-24 17:08:24,662 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.notification.no-leader.timeout = 60s (default)
2019-09-24 17:08:24,662 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.notification.no-leader.timeout = 60s (default)
2019-09-24 17:08:24,664 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.log.use.memory = false (default)
2019-09-24 17:08:24,664 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.log.use.memory = false (default)
2019-09-24 17:08:24,664 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.log.use.memory = false (default)
2019-09-24 17:08:24,664 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.log.use.memory = false (default)
2019-09-24 17:08:24,663 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.log.use.memory = false (default)
2019-09-24 17:08:24,663 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.notification.no-leader.timeout = 60s (default)
2019-09-24 17:08:24,666 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.log.purge.gap = 1024 (default)
2019-09-24 17:08:24,665 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.log.purge.gap = 1024 (default)
2019-09-24 17:08:24,665 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.log.purge.gap = 1024 (default)
2019-09-24 17:08:24,665 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.log.purge.gap = 1024 (default)
2019-09-24 17:08:24,665 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.log.purge.gap = 1024 (default)
2019-09-24 17:08:24,664 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.log.use.memory = false (default)
2019-09-24 17:08:24,667 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.log.appender.buffer.byte-limit = 4MB (=4194304) (default)
2019-09-24 17:08:24,667 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.log.appender.buffer.byte-limit = 4MB (=4194304) (default)
2019-09-24 17:08:24,666 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.log.appender.buffer.byte-limit = 4MB (=4194304) (default)
2019-09-24 17:08:24,666 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.log.appender.buffer.byte-limit = 4MB (=4194304) (default)
2019-09-24 17:08:24,666 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.log.appender.buffer.byte-limit = 4MB (=4194304) (default)
2019-09-24 17:08:24,666 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.log.use.memory = false (default)
2019-09-24 17:08:24,668 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.log.segment.size.max = 8MB (=8388608) (default)
2019-09-24 17:08:24,668 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.log.segment.size.max = 8MB (=8388608) (default)
2019-09-24 17:08:24,668 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.log.segment.size.max = 8MB (=8388608) (default)
2019-09-24 17:08:24,668 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.log.segment.size.max = 8MB (=8388608) (default)
2019-09-24 17:08:24,667 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.log.segment.size.max = 8MB (=8388608) (default)
2019-09-24 17:08:24,667 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.log.purge.gap = 1024 (default)
2019-09-24 17:08:24,670 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.log.segment.cache.num.max = 6 (default)
2019-09-24 17:08:24,669 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.log.segment.cache.num.max = 6 (default)
2019-09-24 17:08:24,669 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.log.segment.cache.num.max = 6 (default)
2019-09-24 17:08:24,669 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.log.segment.cache.num.max = 6 (default)
2019-09-24 17:08:24,669 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.log.segment.cache.num.max = 6 (default)
2019-09-24 17:08:24,668 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.log.purge.gap = 1024 (default)
2019-09-24 17:08:24,671 INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:<init>(172)) - new s2@group-3199313966C8-SegmentedRaftLogWorker for RaftStorage:Storage Directory /workdir/ratis-test/target/test/data/312143de/MiniRaftClusterWithSimulatedRpcd1e62d5/s2/5f5a9a13-1289-4cf4-a5b3-3199313966c8
2019-09-24 17:08:24,671 INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:<init>(172)) - new s1@group-3199313966C8-SegmentedRaftLogWorker for RaftStorage:Storage Directory /workdir/ratis-test/target/test/data/312143de/MiniRaftClusterWithSimulatedRpcd1e62d5/s1/5f5a9a13-1289-4cf4-a5b3-3199313966c8
2019-09-24 17:08:24,670 INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:<init>(172)) - new s5@group-3199313966C8-SegmentedRaftLogWorker for RaftStorage:Storage Directory /workdir/ratis-test/target/test/data/312143de/MiniRaftClusterWithSimulatedRpcd1e62d5/s5/5f5a9a13-1289-4cf4-a5b3-3199313966c8
2019-09-24 17:08:24,670 INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:<init>(172)) - new s4@group-3199313966C8-SegmentedRaftLogWorker for RaftStorage:Storage Directory /workdir/ratis-test/target/test/data/312143de/MiniRaftClusterWithSimulatedRpcd1e62d5/s4/5f5a9a13-1289-4cf4-a5b3-3199313966c8
2019-09-24 17:08:24,670 INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:<init>(172)) - new s6@group-3199313966C8-SegmentedRaftLogWorker for RaftStorage:Storage Directory /workdir/ratis-test/target/test/data/312143de/MiniRaftClusterWithSimulatedRpcd1e62d5/s6/5f5a9a13-1289-4cf4-a5b3-3199313966c8
2019-09-24 17:08:24,670 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.log.appender.buffer.byte-limit = 4MB (=4194304) (default)
2019-09-24 17:08:24,672 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.log.queue.byte-limit = 64MB (=67108864) (default)
2019-09-24 17:08:24,671 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.log.queue.byte-limit = 64MB (=67108864) (default)
2019-09-24 17:08:24,671 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.log.queue.byte-limit = 64MB (=67108864) (default)
2019-09-24 17:08:24,671 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.log.appender.buffer.byte-limit = 4MB (=4194304) (default)
2019-09-24 17:08:24,673 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.log.queue.element-limit = 4096 (default)
2019-09-24 17:08:24,673 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.log.queue.element-limit = 4096 (default)
2019-09-24 17:08:24,673 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.log.queue.element-limit = 4096 (default)
2019-09-24 17:08:24,672 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.log.segment.size.max = 8MB (=8388608) (default)
2019-09-24 17:08:24,674 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.log.segment.size.max = 8MB (=8388608) (default)
2019-09-24 17:08:24,674 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.log.segment.size.max = 8MB (=8388608) (default)
2019-09-24 17:08:24,674 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.log.segment.size.max = 8MB (=8388608) (default)
2019-09-24 17:08:24,673 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.log.segment.size.max = 8MB (=8388608) (default)
2019-09-24 17:08:24,675 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.log.preallocated.size = 4MB (=4194304) (default)
2019-09-24 17:08:24,674 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.log.preallocated.size = 4MB (=4194304) (default)
2019-09-24 17:08:24,675 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.log.write.buffer.size = 64KB (=65536) (default)
2019-09-24 17:08:24,674 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.log.preallocated.size = 4MB (=4194304) (default)
2019-09-24 17:08:24,674 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.log.segment.cache.num.max = 6 (default)
2019-09-24 17:08:24,676 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.log.write.buffer.size = 64KB (=65536) (default)
2019-09-24 17:08:24,676 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.log.queue.byte-limit = 64MB (=67108864) (default)
2019-09-24 17:08:24,675 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.log.force.sync.num = 128 (default)
2019-09-24 17:08:24,675 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.log.write.buffer.size = 64KB (=65536) (default)
2019-09-24 17:08:24,675 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.log.segment.cache.num.max = 6 (default)
2019-09-24 17:08:24,677 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.log.force.sync.num = 128 (default)
2019-09-24 17:08:24,677 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.log.statemachine.data.sync = true (default)
2019-09-24 17:08:24,676 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.log.queue.element-limit = 4096 (default)
2019-09-24 17:08:24,676 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.log.queue.byte-limit = 64MB (=67108864) (default)
2019-09-24 17:08:24,676 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.log.force.sync.num = 128 (default)
2019-09-24 17:08:24,676 INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:<init>(172)) - new s0@group-3199313966C8-SegmentedRaftLogWorker for RaftStorage:Storage Directory /workdir/ratis-test/target/test/data/312143de/MiniRaftClusterWithSimulatedRpcd1e62d5/s0/5f5a9a13-1289-4cf4-a5b3-3199313966c8
2019-09-24 17:08:24,678 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.log.statemachine.data.sync = true (default)
2019-09-24 17:08:24,678 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.log.queue.element-limit = 4096 (default)
2019-09-24 17:08:24,678 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.log.segment.size.max = 8MB (=8388608) (default)
2019-09-24 17:08:24,677 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.log.statemachine.data.sync.timeout = 10s (default)
2019-09-24 17:08:24,677 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.log.statemachine.data.sync = true (default)
2019-09-24 17:08:24,677 INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:<init>(172)) - new s3@group-3199313966C8-SegmentedRaftLogWorker for RaftStorage:Storage Directory /workdir/ratis-test/target/test/data/312143de/MiniRaftClusterWithSimulatedRpcd1e62d5/s3/5f5a9a13-1289-4cf4-a5b3-3199313966c8
2019-09-24 17:08:24,679 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.log.statemachine.data.sync.timeout = 10s (default)
2019-09-24 17:08:24,679 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.log.statemachine.data.sync.timeout.retry = -1 (default)
2019-09-24 17:08:24,679 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.log.segment.size.max = 8MB (=8388608) (default)
2019-09-24 17:08:24,679 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.log.preallocated.size = 4MB (=4194304) (default)
2019-09-24 17:08:24,681 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.log.write.buffer.size = 64KB (=65536) (default)
2019-09-24 17:08:24,679 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.log.statemachine.data.sync.timeout = 10s (default)
2019-09-24 17:08:24,678 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.log.queue.byte-limit = 64MB (=67108864) (default)
2019-09-24 17:08:24,681 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.log.statemachine.data.sync.timeout.retry = -1 (default)
2019-09-24 17:08:24,681 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.log.force.sync.num = 128 (default)
2019-09-24 17:08:24,682 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.log.statemachine.data.sync = true (default)
2019-09-24 17:08:24,680 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.log.preallocated.size = 4MB (=4194304) (default)
2019-09-24 17:08:24,680 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.log.statemachine.data.caching.enabled = false (default)
2019-09-24 17:08:24,680 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.log.statemachine.data.sync.timeout.retry = -1 (default)
2019-09-24 17:08:24,680 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.log.queue.byte-limit = 64MB (=67108864) (default)
2019-09-24 17:08:24,683 INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:lambda$new$0(132)) - s1@group-3199313966C8-SegmentedRaftLogWorker: flushIndex: setUnconditionally 0 -> -1
2019-09-24 17:08:24,682 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.log.statemachine.data.caching.enabled = false (default)
2019-09-24 17:08:24,683 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.snapshot.auto.trigger.enabled = false (default)
2019-09-24 17:08:24,682 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.log.write.buffer.size = 64KB (=65536) (default)
2019-09-24 17:08:24,682 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.log.statemachine.data.sync.timeout = 10s (default)
2019-09-24 17:08:24,684 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.log.statemachine.data.sync.timeout.retry = -1 (default)
2019-09-24 17:08:24,681 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.log.statemachine.data.caching.enabled = false (default)
2019-09-24 17:08:24,681 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.log.queue.element-limit = 4096 (default)
2019-09-24 17:08:24,684 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.log.statemachine.data.caching.enabled = false (default)
2019-09-24 17:08:24,684 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.log.force.sync.num = 128 (default)
2019-09-24 17:08:24,685 INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:lambda$new$0(132)) - s5@group-3199313966C8-SegmentedRaftLogWorker: flushIndex: setUnconditionally 0 -> -1
2019-09-24 17:08:24,683 INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:lambda$new$0(132)) - s2@group-3199313966C8-SegmentedRaftLogWorker: flushIndex: setUnconditionally 0 -> -1
2019-09-24 17:08:24,685 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.snapshot.auto.trigger.enabled = false (default)
2019-09-24 17:08:24,683 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.snapshot.retention.file.num = -1 (default)
2019-09-24 17:08:24,685 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.snapshot.auto.trigger.enabled = false (default)
2019-09-24 17:08:24,683 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.log.queue.element-limit = 4096 (default)
2019-09-24 17:08:24,686 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.snapshot.retention.file.num = -1 (default)
2019-09-24 17:08:24,685 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.retrycache.expirytime = 60s (default)
2019-09-24 17:08:24,685 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.snapshot.retention.file.num = -1 (default)
2019-09-24 17:08:24,685 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.log.statemachine.data.sync = true (default)
2019-09-24 17:08:24,684 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.log.segment.size.max = 8MB (=8388608) (default)
2019-09-24 17:08:24,684 INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:lambda$new$0(132)) - s4@group-3199313966C8-SegmentedRaftLogWorker: flushIndex: setUnconditionally 0 -> -1
2019-09-24 17:08:24,687 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.log.preallocated.size = 4MB (=4194304) (default)
2019-09-24 17:08:24,687 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.log.write.buffer.size = 64KB (=65536) (default)
2019-09-24 17:08:24,687 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.log.statemachine.data.sync.timeout = 10s (default)
2019-09-24 17:08:24,686 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.retrycache.expirytime = 60s (default)
2019-09-24 17:08:24,686 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.retrycache.expirytime = 60s (default)
2019-09-24 17:08:24,686 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.log.segment.size.max = 8MB (=8388608) (default)
2019-09-24 17:08:24,688 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.log.statemachine.data.sync.timeout.retry = -1 (default)
2019-09-24 17:08:24,687 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.log.force.sync.num = 128 (default)
2019-09-24 17:08:24,687 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.snapshot.auto.trigger.enabled = false (default)
2019-09-24 17:08:24,689 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.log.statemachine.data.caching.enabled = false (default)
2019-09-24 17:08:24,689 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.log.statemachine.data.sync = true (default)
2019-09-24 17:08:24,688 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.log.preallocated.size = 4MB (=4194304) (default)
2019-09-24 17:08:24,689 INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:lambda$new$0(132)) - s6@group-3199313966C8-SegmentedRaftLogWorker: flushIndex: setUnconditionally 0 -> -1
2019-09-24 17:08:24,689 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.log.statemachine.data.sync.timeout = 10s (default)
2019-09-24 17:08:24,690 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.snapshot.auto.trigger.enabled = false (default)
2019-09-24 17:08:24,689 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.snapshot.retention.file.num = -1 (default)
2019-09-24 17:08:24,690 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.snapshot.retention.file.num = -1 (default)
2019-09-24 17:08:24,690 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.log.statemachine.data.sync.timeout.retry = -1 (default)
2019-09-24 17:08:24,690 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.log.write.buffer.size = 64KB (=65536) (default)
2019-09-24 17:08:24,691 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.log.statemachine.data.caching.enabled = false (default)
2019-09-24 17:08:24,691 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.retrycache.expirytime = 60s (default)
2019-09-24 17:08:24,690 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.retrycache.expirytime = 60s (default)
2019-09-24 17:08:24,691 INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:lambda$new$0(132)) - s0@group-3199313966C8-SegmentedRaftLogWorker: flushIndex: setUnconditionally 0 -> -1
2019-09-24 17:08:24,691 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.log.force.sync.num = 128 (default)
2019-09-24 17:08:24,692 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.snapshot.auto.trigger.enabled = false (default)
2019-09-24 17:08:24,692 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.log.statemachine.data.sync = true (default)
2019-09-24 17:08:24,692 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.snapshot.retention.file.num = -1 (default)
2019-09-24 17:08:24,693 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.log.statemachine.data.sync.timeout = 10s (default)
2019-09-24 17:08:24,693 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.retrycache.expirytime = 60s (default)
2019-09-24 17:08:24,693 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.log.statemachine.data.sync.timeout.retry = -1 (default)
2019-09-24 17:08:24,693 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.log.statemachine.data.caching.enabled = false (default)
2019-09-24 17:08:24,694 INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:lambda$new$0(132)) - s3@group-3199313966C8-SegmentedRaftLogWorker: flushIndex: setUnconditionally 0 -> -1
2019-09-24 17:08:24,694 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.snapshot.auto.trigger.enabled = false (default)
2019-09-24 17:08:24,694 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.snapshot.retention.file.num = -1 (default)
2019-09-24 17:08:24,695 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.retrycache.expirytime = 60s (default)
2019-09-24 17:08:25,571 INFO  ratis.MiniRaftCluster (MiniRaftCluster.java:start(287)) - .............................................................. 
2019-09-24 17:08:25,572 INFO  ratis.MiniRaftCluster (MiniRaftCluster.java:start(288)) - ... 
2019-09-24 17:08:25,572 INFO  ratis.MiniRaftCluster (MiniRaftCluster.java:start(289)) - ...     Starting MiniRaftClusterWithSimulatedRpc
2019-09-24 17:08:25,572 INFO  ratis.MiniRaftCluster (MiniRaftCluster.java:start(290)) - ... 
2019-09-24 17:08:25,572 INFO  ratis.MiniRaftCluster (MiniRaftCluster.java:start(291)) - .............................................................. 
2019-09-24 17:08:25,575 INFO  ratis.MiniRaftCluster (MiniRaftCluster.java:initServers(265)) - servers = {s3=s3:      NEW      null s3@group-3199313966C8:t0, leader=null, voted=null, raftlog=s3@group-3199313966C8-SegmentedRaftLog:OPENED:c-1,f-1,i0, conf=-1: [], old=null NEW, s4=s4:      NEW      null s4@group-3199313966C8:t0, leader=null, voted=null, raftlog=s4@group-3199313966C8-SegmentedRaftLog:OPENED:c-1,f-1,i0, conf=-1: [], old=null NEW, s5=s5:      NEW      null s5@group-3199313966C8:t0, leader=null, voted=null, raftlog=s5@group-3199313966C8-SegmentedRaftLog:OPENED:c-1,f-1,i0, conf=-1: [], old=null NEW, s6=s6:      NEW      null s6@group-3199313966C8:t0, leader=null, voted=null, raftlog=s6@group-3199313966C8-SegmentedRaftLog:OPENED:c-1,f-1,i0, conf=-1: [], old=null NEW, s0=s0:      NEW      null s0@group-3199313966C8:t0, leader=null, voted=null, raftlog=s0@group-3199313966C8-SegmentedRaftLog:OPENED:c-1,f-1,i0, conf=-1: [], old=null NEW, s1=s1:      NEW      null s1@group-3199313966C8:t0, leader=null, voted=null, raftlog=s1@group-3199313966C8-SegmentedRaftLog:OPENED:c-1,f-1,i0, conf=-1: [], old=null NEW, s2=s2:      NEW      null s2@group-3199313966C8:t0, leader=null, voted=null, raftlog=s2@group-3199313966C8-SegmentedRaftLog:OPENED:c-1,f-1,i0, conf=-1: [], old=null NEW}
2019-09-24 17:08:25,575 INFO  impl.RaftServerImpl (RaftServerImpl.java:start(184)) - s3@group-3199313966C8: start with initializing state, conf=-1: [], old=null
2019-09-24 17:08:25,575 INFO  impl.RaftServerImpl (RaftServerImpl.java:setRole(170)) - s3@group-3199313966C8: changes role from      null to FOLLOWER at term 0 for startInitializing
2019-09-24 17:08:25,576 INFO  util.JmxRegister (JmxRegister.java:tryRegister(44)) - Successfully registered JMX Bean with object name Ratis:service=RaftServer,group=group-3199313966C8,id=s3
2019-09-24 17:08:25,581 INFO  impl.RaftServerProxy (RaftServerProxy.java:lambda$start$3(299)) - s3: start RPC server
2019-09-24 17:08:25,582 INFO  impl.RaftServerImpl (RaftServerImpl.java:start(184)) - s4@group-3199313966C8: start with initializing state, conf=-1: [], old=null
2019-09-24 17:08:25,582 INFO  impl.RaftServerImpl (RaftServerImpl.java:setRole(170)) - s4@group-3199313966C8: changes role from      null to FOLLOWER at term 0 for startInitializing
2019-09-24 17:08:25,583 INFO  util.JmxRegister (JmxRegister.java:tryRegister(44)) - Successfully registered JMX Bean with object name Ratis:service=RaftServer,group=group-3199313966C8,id=s4
2019-09-24 17:08:25,604 INFO  impl.RaftServerProxy (RaftServerProxy.java:lambda$start$3(299)) - s4: start RPC server
2019-09-24 17:08:25,605 INFO  impl.RaftServerImpl (RaftServerImpl.java:start(184)) - s5@group-3199313966C8: start with initializing state, conf=-1: [], old=null
2019-09-24 17:08:25,606 INFO  impl.RaftServerImpl (RaftServerImpl.java:setRole(170)) - s5@group-3199313966C8: changes role from      null to FOLLOWER at term 0 for startInitializing
2019-09-24 17:08:25,606 INFO  util.JmxRegister (JmxRegister.java:tryRegister(44)) - Successfully registered JMX Bean with object name Ratis:service=RaftServer,group=group-3199313966C8,id=s5
2019-09-24 17:08:25,609 INFO  impl.RaftServerProxy (RaftServerProxy.java:lambda$start$3(299)) - s5: start RPC server
2019-09-24 17:08:25,610 INFO  impl.RaftServerImpl (RaftServerImpl.java:start(184)) - s6@group-3199313966C8: start with initializing state, conf=-1: [], old=null
2019-09-24 17:08:25,611 INFO  impl.RaftServerImpl (RaftServerImpl.java:setRole(170)) - s6@group-3199313966C8: changes role from      null to FOLLOWER at term 0 for startInitializing
2019-09-24 17:08:25,611 INFO  util.JmxRegister (JmxRegister.java:tryRegister(44)) - Successfully registered JMX Bean with object name Ratis:service=RaftServer,group=group-3199313966C8,id=s6
2019-09-24 17:08:25,615 INFO  impl.RaftServerProxy (RaftServerProxy.java:lambda$start$3(299)) - s6: start RPC server
2019-09-24 17:08:25,616 INFO  impl.RaftServerImpl (RaftServerImpl.java:start(184)) - s0@group-3199313966C8: start with initializing state, conf=-1: [], old=null
2019-09-24 17:08:25,616 INFO  impl.RaftServerImpl (RaftServerImpl.java:setRole(170)) - s0@group-3199313966C8: changes role from      null to FOLLOWER at term 0 for startInitializing
2019-09-24 17:08:25,616 INFO  util.JmxRegister (JmxRegister.java:tryRegister(44)) - Successfully registered JMX Bean with object name Ratis:service=RaftServer,group=group-3199313966C8,id=s0
2019-09-24 17:08:25,619 INFO  impl.RaftServerProxy (RaftServerProxy.java:lambda$start$3(299)) - s0: start RPC server
2019-09-24 17:08:25,620 INFO  impl.RaftServerImpl (RaftServerImpl.java:start(184)) - s1@group-3199313966C8: start with initializing state, conf=-1: [], old=null
2019-09-24 17:08:25,620 INFO  impl.RaftServerImpl (RaftServerImpl.java:setRole(170)) - s1@group-3199313966C8: changes role from      null to FOLLOWER at term 0 for startInitializing
2019-09-24 17:08:25,621 INFO  util.JmxRegister (JmxRegister.java:tryRegister(44)) - Successfully registered JMX Bean with object name Ratis:service=RaftServer,group=group-3199313966C8,id=s1
2019-09-24 17:08:25,624 INFO  impl.RaftServerProxy (RaftServerProxy.java:lambda$start$3(299)) - s1: start RPC server
2019-09-24 17:08:25,625 INFO  impl.RaftServerImpl (RaftServerImpl.java:start(184)) - s2@group-3199313966C8: start with initializing state, conf=-1: [], old=null
2019-09-24 17:08:25,625 INFO  impl.RaftServerImpl (RaftServerImpl.java:setRole(170)) - s2@group-3199313966C8: changes role from      null to FOLLOWER at term 0 for startInitializing
2019-09-24 17:08:25,626 INFO  util.JmxRegister (JmxRegister.java:tryRegister(44)) - Successfully registered JMX Bean with object name Ratis:service=RaftServer,group=group-3199313966C8,id=s2
2019-09-24 17:08:25,630 INFO  impl.RaftServerProxy (RaftServerProxy.java:lambda$start$3(299)) - s2: start RPC server
2019-09-24 17:08:26,631 INFO  impl.GroupManagementBaseTest (GroupManagementBaseTest.java:runMultiGroupTest(156)) - start: printing ALL groups
  s3:  RUNNING  FOLLOWER s3@group-3199313966C8:t0, leader=null, voted=null, raftlog=s3@group-3199313966C8-SegmentedRaftLog:OPENED:c-1,f-1,i0, conf=-1: [], old=null STARTING
  s4:  RUNNING  FOLLOWER s4@group-3199313966C8:t0, leader=null, voted=null, raftlog=s4@group-3199313966C8-SegmentedRaftLog:OPENED:c-1,f-1,i0, conf=-1: [], old=null STARTING
  s5:  RUNNING  FOLLOWER s5@group-3199313966C8:t0, leader=null, voted=null, raftlog=s5@group-3199313966C8-SegmentedRaftLog:OPENED:c-1,f-1,i0, conf=-1: [], old=null STARTING
  s6:  RUNNING  FOLLOWER s6@group-3199313966C8:t0, leader=null, voted=null, raftlog=s6@group-3199313966C8-SegmentedRaftLog:OPENED:c-1,f-1,i0, conf=-1: [], old=null STARTING
  s0:  RUNNING  FOLLOWER s0@group-3199313966C8:t0, leader=null, voted=null, raftlog=s0@group-3199313966C8-SegmentedRaftLog:OPENED:c-1,f-1,i0, conf=-1: [], old=null STARTING
  s1:  RUNNING  FOLLOWER s1@group-3199313966C8:t0, leader=null, voted=null, raftlog=s1@group-3199313966C8-SegmentedRaftLog:OPENED:c-1,f-1,i0, conf=-1: [], old=null STARTING
  s2:  RUNNING  FOLLOWER s2@group-3199313966C8:t0, leader=null, voted=null, raftlog=s2@group-3199313966C8-SegmentedRaftLog:OPENED:c-1,f-1,i0, conf=-1: [], old=null STARTING
2019-09-24 17:08:26,632 INFO  impl.GroupManagementBaseTest (GroupManagementBaseTest.java:runMultiGroupTest(169)) - 0) starting group-18F258B418A8:[s0:null]
2019-09-24 17:08:26,633 DEBUG client.RaftClient (ConfUtils.java:logGet(43)) - raft.rpc.type = org.apache.ratis.server.simulation.SimulatedRpc (custom)
2019-09-24 17:08:26,633 DEBUG client.RaftClient (RaftClientImpl.java:sendRequest(275)) - client-A0259966EC50: send GroupManagementRequest:client-A0259966EC50->s0@group-18F258B418A8, cid=13, seq=0, RW, null, Add:group-18F258B418A8:[s0:null]
2019-09-24 17:08:26,634 INFO  impl.RaftServerProxy (RaftServerProxy.java:addNew(89)) - s0: addNew group-18F258B418A8:[s0:null] returns group-18F258B418A8:java.util.concurrent.CompletableFuture@461835e[Not completed]
2019-09-24 17:08:26,635 INFO  impl.RaftServerImpl (RaftServerImpl.java:<init>(95)) - s0: new RaftServerImpl for group-18F258B418A8:[s0:null] with BaseStateMachine:uninitialized
2019-09-24 17:08:26,635 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.rpc.timeout.min = 150ms (default)
2019-09-24 17:08:26,635 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.rpc.timeout.max = 300ms (default)
2019-09-24 17:08:26,635 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.rpcslowness.timeout = 60s (default)
2019-09-24 17:08:26,636 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.sleep.deviation.threshold = 300 (default)
2019-09-24 17:08:26,636 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.log.appender.install.snapshot.enabled = true (default)
2019-09-24 17:08:26,636 INFO  impl.RaftServerImpl (ServerState.java:<init>(103)) - s0@group-18F258B418A8: ConfigurationManager, init=-1: [s0:null], old=null, confs=<EMPTY_MAP>
2019-09-24 17:08:26,636 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.storage.dir = [/workdir/ratis-test/target/test/data/312143de/MiniRaftClusterWithSimulatedRpcd1e62d5/s0] (custom)
2019-09-24 17:08:26,637 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.log.corruption.policy = EXCEPTION (default)
2019-09-24 17:08:26,637 INFO  storage.RaftStorageDirectory (RaftStorageDirectory.java:analyzeStorage(246)) - The storage directory /workdir/ratis-test/target/test/data/312143de/MiniRaftClusterWithSimulatedRpcd1e62d5/s0/0d011760-f958-4cfd-b8d9-18f258b418a8 does not exist. Creating ...
2019-09-24 17:08:26,637 TRACE util.FileUtils (LogUtils.java:runAndLog(61)) - Successfully ran Files.createDirectories /workdir/ratis-test/target/test/data/312143de/MiniRaftClusterWithSimulatedRpcd1e62d5/s0/0d011760-f958-4cfd-b8d9-18f258b418a8
2019-09-24 17:08:28,263 INFO  storage.RaftStorageDirectory (RaftStorageDirectory.java:tryLock(328)) - Lock on /workdir/ratis-test/target/test/data/312143de/MiniRaftClusterWithSimulatedRpcd1e62d5/s0/0d011760-f958-4cfd-b8d9-18f258b418a8/in_use.lock acquired by nodename 9360@ratis-test-vphbd-3564017154
2019-09-24 17:08:28,263 TRACE util.FileUtils (LogUtils.java:runAndLog(61)) - Successfully ran Files.createDirectories /workdir/ratis-test/target/test/data/312143de/MiniRaftClusterWithSimulatedRpcd1e62d5/s0/0d011760-f958-4cfd-b8d9-18f258b418a8/current
2019-09-24 17:08:28,264 TRACE util.FileUtils (LogUtils.java:runAndLog(61)) - Successfully ran Files.createDirectories /workdir/ratis-test/target/test/data/312143de/MiniRaftClusterWithSimulatedRpcd1e62d5/s0/0d011760-f958-4cfd-b8d9-18f258b418a8/sm
2019-09-24 17:08:29,634 DEBUG client.RaftClient (RaftClientImpl.java:handleIOException(343)) - client-A0259966EC50: suggested new leader: null. Failed GroupManagementRequest:client-A0259966EC50->s0@group-18F258B418A8, cid=13, seq=0, RW, null, Add:group-18F258B418A8:[s0:null] with java.io.IOException: Timeout while waiting for reply of request GroupManagementRequest:client-A0259966EC50->s0@group-18F258B418A8, cid=13, seq=0, RW, null, Add:group-18F258B418A8:[s0:null]
2019-09-24 17:08:29,637 DEBUG client.RaftClient (RaftClientImpl.java:handleIOException(362)) - client-A0259966EC50: oldLeader=s0,  curLeader=s0, newLeader=null
2019-09-24 17:08:29,654 INFO  util.LogUtils (LogUtils.java:setLogLevel(41)) - Set org.apache.ratis.conf.ConfUtils log level to WARN
2019-09-24 17:08:29,654 INFO  util.LogUtils (LogUtils.java:setLogLevel(41)) - Set org.apache.ratis.util.FileUtils log level to TRACE
2019-09-24 17:08:29,654 INFO  util.LogUtils (LogUtils.java:setLogLevel(41)) - Set org.apache.ratis.server.impl.RaftServerProxy log level to DEBUG
2019-09-24 17:08:29,655 INFO  util.LogUtils (LogUtils.java:setLogLevel(41)) - Set org.apache.ratis.server.impl.RaftServerImpl log level to DEBUG
2019-09-24 17:08:29,655 INFO  util.LogUtils (LogUtils.java:setLogLevel(41)) - Set org.apache.ratis.client.RaftClient log level to DEBUG
| null | init | 128 |
2019-09-24 17:08:29,657 INFO  simulation.MiniRaftClusterWithSimulatedRpc (ConfUtils.java:logGet(43)) - org.apache.ratis.server.simulation.SimulatedRequestReply.simulateLatencyMs = 0 (custom)
2019-09-24 17:08:29,657 INFO  ratis.MiniRaftCluster (MiniRaftCluster.java:<init>(253)) - new MiniRaftClusterWithSimulatedRpc with group-C3ADC711F3B7:[]
2019-09-24 17:08:29,657 INFO  impl.GroupManagementBaseTest (GroupManagementBaseTest.java:runMultiGroupTest(140)) - 

runMultiGroupTest with MiniRaftClusterWithSimulatedRpc[5, 8, 9]chosen=2: printing ALL groups
2019-09-24 17:08:29,658 INFO  impl.GroupManagementBaseTest (GroupManagementBaseTest.java:runMultiGroupTest(147)) - ids: [s0, s1, s2, s3, s4, s5, s6, s7, s8]
2019-09-24 17:08:29,658 INFO  ratis.MiniRaftCluster (MiniRaftCluster.java:newRaftServer(330)) - newRaftServer: s0, group-C3ADC711F3B7:[], format? true
2019-09-24 17:08:29,658 TRACE util.FileUtils (FileUtils.java:deleteFully(88)) - deleteFully target/test/data/312143de/MiniRaftClusterWithSimulatedRpc129b1caf/s0
2019-09-24 17:08:29,659 TRACE util.FileUtils (FileUtils.java:deleteFully(104)) - deleteFully: target/test/data/312143de/MiniRaftClusterWithSimulatedRpc129b1caf/s0 does not exist.
2019-09-24 17:08:29,659 INFO  ratis.MiniRaftCluster (MiniRaftCluster.java:newRaftServer(335)) - Formatted directory target/test/data/312143de/MiniRaftClusterWithSimulatedRpc129b1caf/s0
2019-09-24 17:08:29,659 DEBUG impl.RaftServerProxy (ServerImplUtils.java:newRaftServer(39)) - newRaftServer: s0, group-C3ADC711F3B7:[]
2019-09-24 17:08:29,660 INFO  impl.RaftServerProxy (ConfUtils.java:logGet(43)) - raft.rpc.type = org.apache.ratis.server.simulation.SimulatedRpc (custom)
2019-09-24 17:08:29,660 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.storage.dir = [/workdir/ratis-test/target/test/data/312143de/MiniRaftClusterWithSimulatedRpc129b1caf/s0] (custom)
2019-09-24 17:08:29,661 INFO  impl.RaftServerProxy (RaftServerProxy.java:addNew(89)) - s0: addNew group-C3ADC711F3B7:[] returns group-C3ADC711F3B7:java.util.concurrent.CompletableFuture@2997f1[Not completed]
2019-09-24 17:08:29,661 INFO  impl.RaftServerImpl (RaftServerImpl.java:<init>(95)) - s0: new RaftServerImpl for group-C3ADC711F3B7:[] with BaseStateMachine:uninitialized
2019-09-24 17:08:29,661 INFO  ratis.MiniRaftCluster (MiniRaftCluster.java:newRaftServer(330)) - newRaftServer: s1, group-C3ADC711F3B7:[], format? true
2019-09-24 17:08:29,662 TRACE util.FileUtils (FileUtils.java:deleteFully(88)) - deleteFully target/test/data/312143de/MiniRaftClusterWithSimulatedRpc129b1caf/s1
2019-09-24 17:08:29,662 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.rpc.timeout.min = 150ms (default)
2019-09-24 17:08:29,663 TRACE util.FileUtils (FileUtils.java:deleteFully(104)) - deleteFully: target/test/data/312143de/MiniRaftClusterWithSimulatedRpc129b1caf/s1 does not exist.
2019-09-24 17:08:29,663 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.rpc.timeout.max = 300ms (default)
2019-09-24 17:08:29,663 INFO  ratis.MiniRaftCluster (MiniRaftCluster.java:newRaftServer(335)) - Formatted directory target/test/data/312143de/MiniRaftClusterWithSimulatedRpc129b1caf/s1
2019-09-24 17:08:29,663 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.rpcslowness.timeout = 60s (default)
2019-09-24 17:08:29,664 DEBUG impl.RaftServerProxy (ServerImplUtils.java:newRaftServer(39)) - newRaftServer: s1, group-C3ADC711F3B7:[]
2019-09-24 17:08:29,664 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.sleep.deviation.threshold = 300 (default)
2019-09-24 17:08:29,664 INFO  impl.RaftServerProxy (ConfUtils.java:logGet(43)) - raft.rpc.type = org.apache.ratis.server.simulation.SimulatedRpc (custom)
2019-09-24 17:08:29,664 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.log.appender.install.snapshot.enabled = true (default)
2019-09-24 17:08:29,665 INFO  impl.RaftServerImpl (ServerState.java:<init>(103)) - s0@group-C3ADC711F3B7: ConfigurationManager, init=-1: [], old=null, confs=<EMPTY_MAP>
2019-09-24 17:08:29,665 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.storage.dir = [/workdir/ratis-test/target/test/data/312143de/MiniRaftClusterWithSimulatedRpc129b1caf/s1] (custom)
2019-09-24 17:08:29,665 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.storage.dir = [/workdir/ratis-test/target/test/data/312143de/MiniRaftClusterWithSimulatedRpc129b1caf/s0] (custom)
2019-09-24 17:08:29,665 INFO  impl.RaftServerProxy (RaftServerProxy.java:addNew(89)) - s1: addNew group-C3ADC711F3B7:[] returns group-C3ADC711F3B7:java.util.concurrent.CompletableFuture@2cdcf4cb[Not completed]
2019-09-24 17:08:29,665 INFO  impl.RaftServerImpl (RaftServerImpl.java:<init>(95)) - s1: new RaftServerImpl for group-C3ADC711F3B7:[] with BaseStateMachine:uninitialized
2019-09-24 17:08:29,665 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.log.corruption.policy = EXCEPTION (default)
2019-09-24 17:08:29,666 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.rpc.timeout.min = 150ms (default)
2019-09-24 17:08:29,666 INFO  ratis.MiniRaftCluster (MiniRaftCluster.java:newRaftServer(330)) - newRaftServer: s2, group-C3ADC711F3B7:[], format? true
2019-09-24 17:08:29,667 INFO  storage.RaftStorageDirectory (RaftStorageDirectory.java:analyzeStorage(246)) - The storage directory /workdir/ratis-test/target/test/data/312143de/MiniRaftClusterWithSimulatedRpc129b1caf/s0/65574aca-6899-4903-b187-c3adc711f3b7 does not exist. Creating ...
2019-09-24 17:08:29,667 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.rpc.timeout.max = 300ms (default)
2019-09-24 17:08:29,667 TRACE util.FileUtils (FileUtils.java:deleteFully(88)) - deleteFully target/test/data/312143de/MiniRaftClusterWithSimulatedRpc129b1caf/s2
2019-09-24 17:08:29,667 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.rpcslowness.timeout = 60s (default)
2019-09-24 17:08:29,667 TRACE util.FileUtils (FileUtils.java:deleteFully(104)) - deleteFully: target/test/data/312143de/MiniRaftClusterWithSimulatedRpc129b1caf/s2 does not exist.
2019-09-24 17:08:29,668 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.sleep.deviation.threshold = 300 (default)
2019-09-24 17:08:29,668 INFO  ratis.MiniRaftCluster (MiniRaftCluster.java:newRaftServer(335)) - Formatted directory target/test/data/312143de/MiniRaftClusterWithSimulatedRpc129b1caf/s2
2019-09-24 17:08:29,668 TRACE util.FileUtils (LogUtils.java:runAndLog(61)) - Successfully ran Files.createDirectories /workdir/ratis-test/target/test/data/312143de/MiniRaftClusterWithSimulatedRpc129b1caf/s0/65574aca-6899-4903-b187-c3adc711f3b7
2019-09-24 17:08:29,668 DEBUG impl.RaftServerProxy (ServerImplUtils.java:newRaftServer(39)) - newRaftServer: s2, group-C3ADC711F3B7:[]
2019-09-24 17:08:29,668 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.log.appender.install.snapshot.enabled = true (default)
2019-09-24 17:08:29,669 INFO  impl.RaftServerProxy (ConfUtils.java:logGet(43)) - raft.rpc.type = org.apache.ratis.server.simulation.SimulatedRpc (custom)
2019-09-24 17:08:29,669 INFO  impl.RaftServerImpl (ServerState.java:<init>(103)) - s1@group-C3ADC711F3B7: ConfigurationManager, init=-1: [], old=null, confs=<EMPTY_MAP>
2019-09-24 17:08:29,669 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.storage.dir = [/workdir/ratis-test/target/test/data/312143de/MiniRaftClusterWithSimulatedRpc129b1caf/s1] (custom)
2019-09-24 17:08:29,669 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.storage.dir = [/workdir/ratis-test/target/test/data/312143de/MiniRaftClusterWithSimulatedRpc129b1caf/s2] (custom)
2019-09-24 17:08:29,670 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.log.corruption.policy = EXCEPTION (default)
2019-09-24 17:08:29,670 INFO  impl.RaftServerProxy (RaftServerProxy.java:addNew(89)) - s2: addNew group-C3ADC711F3B7:[] returns group-C3ADC711F3B7:java.util.concurrent.CompletableFuture@7ce9f03e[Not completed]
2019-09-24 17:08:29,670 INFO  impl.RaftServerImpl (RaftServerImpl.java:<init>(95)) - s2: new RaftServerImpl for group-C3ADC711F3B7:[] with BaseStateMachine:uninitialized
2019-09-24 17:08:29,670 INFO  storage.RaftStorageDirectory (RaftStorageDirectory.java:analyzeStorage(246)) - The storage directory /workdir/ratis-test/target/test/data/312143de/MiniRaftClusterWithSimulatedRpc129b1caf/s1/65574aca-6899-4903-b187-c3adc711f3b7 does not exist. Creating ...
2019-09-24 17:08:29,671 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.rpc.timeout.min = 150ms (default)
2019-09-24 17:08:29,670 INFO  ratis.MiniRaftCluster (MiniRaftCluster.java:newRaftServer(330)) - newRaftServer: s3, group-C3ADC711F3B7:[], format? true
2019-09-24 17:08:29,671 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.rpc.timeout.max = 300ms (default)
2019-09-24 17:08:29,672 TRACE util.FileUtils (FileUtils.java:deleteFully(88)) - deleteFully target/test/data/312143de/MiniRaftClusterWithSimulatedRpc129b1caf/s3
2019-09-24 17:08:29,672 TRACE util.FileUtils (LogUtils.java:runAndLog(61)) - Successfully ran Files.createDirectories /workdir/ratis-test/target/test/data/312143de/MiniRaftClusterWithSimulatedRpc129b1caf/s1/65574aca-6899-4903-b187-c3adc711f3b7
2019-09-24 17:08:29,672 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.rpcslowness.timeout = 60s (default)
2019-09-24 17:08:29,672 TRACE util.FileUtils (FileUtils.java:deleteFully(104)) - deleteFully: target/test/data/312143de/MiniRaftClusterWithSimulatedRpc129b1caf/s3 does not exist.
2019-09-24 17:08:29,672 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.sleep.deviation.threshold = 300 (default)
2019-09-24 17:08:29,672 INFO  ratis.MiniRaftCluster (MiniRaftCluster.java:newRaftServer(335)) - Formatted directory target/test/data/312143de/MiniRaftClusterWithSimulatedRpc129b1caf/s3
2019-09-24 17:08:29,673 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.log.appender.install.snapshot.enabled = true (default)
2019-09-24 17:08:29,673 DEBUG impl.RaftServerProxy (ServerImplUtils.java:newRaftServer(39)) - newRaftServer: s3, group-C3ADC711F3B7:[]
2019-09-24 17:08:29,673 INFO  impl.RaftServerImpl (ServerState.java:<init>(103)) - s2@group-C3ADC711F3B7: ConfigurationManager, init=-1: [], old=null, confs=<EMPTY_MAP>
2019-09-24 17:08:29,673 INFO  impl.RaftServerProxy (ConfUtils.java:logGet(43)) - raft.rpc.type = org.apache.ratis.server.simulation.SimulatedRpc (custom)
2019-09-24 17:08:29,673 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.storage.dir = [/workdir/ratis-test/target/test/data/312143de/MiniRaftClusterWithSimulatedRpc129b1caf/s2] (custom)
2019-09-24 17:08:29,674 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.log.corruption.policy = EXCEPTION (default)
2019-09-24 17:08:29,674 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.storage.dir = [/workdir/ratis-test/target/test/data/312143de/MiniRaftClusterWithSimulatedRpc129b1caf/s3] (custom)
2019-09-24 17:08:29,674 INFO  storage.RaftStorageDirectory (RaftStorageDirectory.java:analyzeStorage(246)) - The storage directory /workdir/ratis-test/target/test/data/312143de/MiniRaftClusterWithSimulatedRpc129b1caf/s2/65574aca-6899-4903-b187-c3adc711f3b7 does not exist. Creating ...
2019-09-24 17:08:29,675 INFO  impl.RaftServerProxy (RaftServerProxy.java:addNew(89)) - s3: addNew group-C3ADC711F3B7:[] returns group-C3ADC711F3B7:java.util.concurrent.CompletableFuture@485c52ee[Not completed]
2019-09-24 17:08:29,675 INFO  impl.RaftServerImpl (RaftServerImpl.java:<init>(95)) - s3: new RaftServerImpl for group-C3ADC711F3B7:[] with BaseStateMachine:uninitialized
2019-09-24 17:08:29,675 TRACE util.FileUtils (LogUtils.java:runAndLog(61)) - Successfully ran Files.createDirectories /workdir/ratis-test/target/test/data/312143de/MiniRaftClusterWithSimulatedRpc129b1caf/s2/65574aca-6899-4903-b187-c3adc711f3b7
2019-09-24 17:08:29,675 INFO  ratis.MiniRaftCluster (MiniRaftCluster.java:newRaftServer(330)) - newRaftServer: s4, group-C3ADC711F3B7:[], format? true
2019-09-24 17:08:29,676 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.rpc.timeout.min = 150ms (default)
2019-09-24 17:08:29,676 TRACE util.FileUtils (FileUtils.java:deleteFully(88)) - deleteFully target/test/data/312143de/MiniRaftClusterWithSimulatedRpc129b1caf/s4
2019-09-24 17:08:29,676 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.rpc.timeout.max = 300ms (default)
2019-09-24 17:08:29,676 TRACE util.FileUtils (FileUtils.java:deleteFully(104)) - deleteFully: target/test/data/312143de/MiniRaftClusterWithSimulatedRpc129b1caf/s4 does not exist.
2019-09-24 17:08:29,676 INFO  ratis.MiniRaftCluster (MiniRaftCluster.java:newRaftServer(335)) - Formatted directory target/test/data/312143de/MiniRaftClusterWithSimulatedRpc129b1caf/s4
2019-09-24 17:08:29,676 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.rpcslowness.timeout = 60s (default)
2019-09-24 17:08:29,677 DEBUG impl.RaftServerProxy (ServerImplUtils.java:newRaftServer(39)) - newRaftServer: s4, group-C3ADC711F3B7:[]
2019-09-24 17:08:29,677 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.sleep.deviation.threshold = 300 (default)
2019-09-24 17:08:29,677 INFO  impl.RaftServerProxy (ConfUtils.java:logGet(43)) - raft.rpc.type = org.apache.ratis.server.simulation.SimulatedRpc (custom)
2019-09-24 17:08:29,677 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.log.appender.install.snapshot.enabled = true (default)
2019-09-24 17:08:29,678 INFO  impl.RaftServerImpl (ServerState.java:<init>(103)) - s3@group-C3ADC711F3B7: ConfigurationManager, init=-1: [], old=null, confs=<EMPTY_MAP>
2019-09-24 17:08:29,678 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.storage.dir = [/workdir/ratis-test/target/test/data/312143de/MiniRaftClusterWithSimulatedRpc129b1caf/s4] (custom)
2019-09-24 17:08:29,678 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.storage.dir = [/workdir/ratis-test/target/test/data/312143de/MiniRaftClusterWithSimulatedRpc129b1caf/s3] (custom)
2019-09-24 17:08:29,678 INFO  impl.RaftServerProxy (RaftServerProxy.java:addNew(89)) - s4: addNew group-C3ADC711F3B7:[] returns group-C3ADC711F3B7:java.util.concurrent.CompletableFuture@2e2ce6ef[Not completed]
2019-09-24 17:08:29,678 INFO  impl.RaftServerImpl (RaftServerImpl.java:<init>(95)) - s4: new RaftServerImpl for group-C3ADC711F3B7:[] with BaseStateMachine:uninitialized
2019-09-24 17:08:29,678 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.log.corruption.policy = EXCEPTION (default)
2019-09-24 17:08:29,679 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.rpc.timeout.min = 150ms (default)
2019-09-24 17:08:29,678 INFO  ratis.MiniRaftCluster (MiniRaftCluster.java:newRaftServer(330)) - newRaftServer: s5, group-C3ADC711F3B7:[], format? true
2019-09-24 17:08:29,679 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.rpc.timeout.max = 300ms (default)
2019-09-24 17:08:29,679 INFO  storage.RaftStorageDirectory (RaftStorageDirectory.java:analyzeStorage(246)) - The storage directory /workdir/ratis-test/target/test/data/312143de/MiniRaftClusterWithSimulatedRpc129b1caf/s3/65574aca-6899-4903-b187-c3adc711f3b7 does not exist. Creating ...
2019-09-24 17:08:29,680 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.rpcslowness.timeout = 60s (default)
2019-09-24 17:08:29,680 TRACE util.FileUtils (FileUtils.java:deleteFully(88)) - deleteFully target/test/data/312143de/MiniRaftClusterWithSimulatedRpc129b1caf/s5
2019-09-24 17:08:29,680 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.sleep.deviation.threshold = 300 (default)
2019-09-24 17:08:29,680 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.log.appender.install.snapshot.enabled = true (default)
2019-09-24 17:08:29,680 TRACE util.FileUtils (LogUtils.java:runAndLog(61)) - Successfully ran Files.createDirectories /workdir/ratis-test/target/test/data/312143de/MiniRaftClusterWithSimulatedRpc129b1caf/s3/65574aca-6899-4903-b187-c3adc711f3b7
2019-09-24 17:08:29,680 TRACE util.FileUtils (FileUtils.java:deleteFully(104)) - deleteFully: target/test/data/312143de/MiniRaftClusterWithSimulatedRpc129b1caf/s5 does not exist.
2019-09-24 17:08:29,681 INFO  ratis.MiniRaftCluster (MiniRaftCluster.java:newRaftServer(335)) - Formatted directory target/test/data/312143de/MiniRaftClusterWithSimulatedRpc129b1caf/s5
2019-09-24 17:08:29,681 INFO  impl.RaftServerImpl (ServerState.java:<init>(103)) - s4@group-C3ADC711F3B7: ConfigurationManager, init=-1: [], old=null, confs=<EMPTY_MAP>
2019-09-24 17:08:29,681 DEBUG impl.RaftServerProxy (ServerImplUtils.java:newRaftServer(39)) - newRaftServer: s5, group-C3ADC711F3B7:[]
2019-09-24 17:08:29,681 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.storage.dir = [/workdir/ratis-test/target/test/data/312143de/MiniRaftClusterWithSimulatedRpc129b1caf/s4] (custom)
2019-09-24 17:08:29,681 INFO  impl.RaftServerProxy (ConfUtils.java:logGet(43)) - raft.rpc.type = org.apache.ratis.server.simulation.SimulatedRpc (custom)
2019-09-24 17:08:29,682 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.log.corruption.policy = EXCEPTION (default)
2019-09-24 17:08:29,682 INFO  storage.RaftStorageDirectory (RaftStorageDirectory.java:analyzeStorage(246)) - The storage directory /workdir/ratis-test/target/test/data/312143de/MiniRaftClusterWithSimulatedRpc129b1caf/s4/65574aca-6899-4903-b187-c3adc711f3b7 does not exist. Creating ...
2019-09-24 17:08:29,682 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.storage.dir = [/workdir/ratis-test/target/test/data/312143de/MiniRaftClusterWithSimulatedRpc129b1caf/s5] (custom)
2019-09-24 17:08:29,683 TRACE util.FileUtils (LogUtils.java:runAndLog(61)) - Successfully ran Files.createDirectories /workdir/ratis-test/target/test/data/312143de/MiniRaftClusterWithSimulatedRpc129b1caf/s4/65574aca-6899-4903-b187-c3adc711f3b7
2019-09-24 17:08:29,683 INFO  impl.RaftServerProxy (RaftServerProxy.java:addNew(89)) - s5: addNew group-C3ADC711F3B7:[] returns group-C3ADC711F3B7:java.util.concurrent.CompletableFuture@72de9f68[Not completed]
2019-09-24 17:08:29,683 INFO  impl.RaftServerImpl (RaftServerImpl.java:<init>(95)) - s5: new RaftServerImpl for group-C3ADC711F3B7:[] with BaseStateMachine:uninitialized
2019-09-24 17:08:29,683 INFO  ratis.MiniRaftCluster (MiniRaftCluster.java:newRaftServer(330)) - newRaftServer: s6, group-C3ADC711F3B7:[], format? true
2019-09-24 17:08:29,684 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.rpc.timeout.min = 150ms (default)
2019-09-24 17:08:29,684 TRACE util.FileUtils (FileUtils.java:deleteFully(88)) - deleteFully target/test/data/312143de/MiniRaftClusterWithSimulatedRpc129b1caf/s6
2019-09-24 17:08:29,684 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.rpc.timeout.max = 300ms (default)
2019-09-24 17:08:29,684 TRACE util.FileUtils (FileUtils.java:deleteFully(104)) - deleteFully: target/test/data/312143de/MiniRaftClusterWithSimulatedRpc129b1caf/s6 does not exist.
2019-09-24 17:08:29,685 INFO  ratis.MiniRaftCluster (MiniRaftCluster.java:newRaftServer(335)) - Formatted directory target/test/data/312143de/MiniRaftClusterWithSimulatedRpc129b1caf/s6
2019-09-24 17:08:29,684 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.rpcslowness.timeout = 60s (default)
2019-09-24 17:08:29,685 DEBUG impl.RaftServerProxy (ServerImplUtils.java:newRaftServer(39)) - newRaftServer: s6, group-C3ADC711F3B7:[]
2019-09-24 17:08:29,685 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.sleep.deviation.threshold = 300 (default)
2019-09-24 17:08:29,685 INFO  impl.RaftServerProxy (ConfUtils.java:logGet(43)) - raft.rpc.type = org.apache.ratis.server.simulation.SimulatedRpc (custom)
2019-09-24 17:08:29,685 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.log.appender.install.snapshot.enabled = true (default)
2019-09-24 17:08:29,686 INFO  impl.RaftServerImpl (ServerState.java:<init>(103)) - s5@group-C3ADC711F3B7: ConfigurationManager, init=-1: [], old=null, confs=<EMPTY_MAP>
2019-09-24 17:08:29,686 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.storage.dir = [/workdir/ratis-test/target/test/data/312143de/MiniRaftClusterWithSimulatedRpc129b1caf/s6] (custom)
2019-09-24 17:08:29,686 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.storage.dir = [/workdir/ratis-test/target/test/data/312143de/MiniRaftClusterWithSimulatedRpc129b1caf/s5] (custom)
2019-09-24 17:08:29,686 INFO  impl.RaftServerProxy (RaftServerProxy.java:addNew(89)) - s6: addNew group-C3ADC711F3B7:[] returns group-C3ADC711F3B7:java.util.concurrent.CompletableFuture@265f6d5f[Not completed]
2019-09-24 17:08:29,686 INFO  impl.RaftServerImpl (RaftServerImpl.java:<init>(95)) - s6: new RaftServerImpl for group-C3ADC711F3B7:[] with BaseStateMachine:uninitialized
2019-09-24 17:08:29,686 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.log.corruption.policy = EXCEPTION (default)
2019-09-24 17:08:29,687 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.rpc.timeout.min = 150ms (default)
2019-09-24 17:08:29,686 INFO  ratis.MiniRaftCluster (MiniRaftCluster.java:newRaftServer(330)) - newRaftServer: s7, group-C3ADC711F3B7:[], format? true
2019-09-24 17:08:29,688 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.rpc.timeout.max = 300ms (default)
2019-09-24 17:08:29,687 INFO  storage.RaftStorageDirectory (RaftStorageDirectory.java:analyzeStorage(246)) - The storage directory /workdir/ratis-test/target/test/data/312143de/MiniRaftClusterWithSimulatedRpc129b1caf/s5/65574aca-6899-4903-b187-c3adc711f3b7 does not exist. Creating ...
2019-09-24 17:08:29,688 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.rpcslowness.timeout = 60s (default)
2019-09-24 17:08:29,688 TRACE util.FileUtils (FileUtils.java:deleteFully(88)) - deleteFully target/test/data/312143de/MiniRaftClusterWithSimulatedRpc129b1caf/s7
2019-09-24 17:08:29,688 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.sleep.deviation.threshold = 300 (default)
2019-09-24 17:08:29,689 TRACE util.FileUtils (FileUtils.java:deleteFully(104)) - deleteFully: target/test/data/312143de/MiniRaftClusterWithSimulatedRpc129b1caf/s7 does not exist.
2019-09-24 17:08:29,689 INFO  ratis.MiniRaftCluster (MiniRaftCluster.java:newRaftServer(335)) - Formatted directory target/test/data/312143de/MiniRaftClusterWithSimulatedRpc129b1caf/s7
2019-09-24 17:08:29,689 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.log.appender.install.snapshot.enabled = true (default)
2019-09-24 17:08:29,689 TRACE util.FileUtils (LogUtils.java:runAndLog(61)) - Successfully ran Files.createDirectories /workdir/ratis-test/target/test/data/312143de/MiniRaftClusterWithSimulatedRpc129b1caf/s5/65574aca-6899-4903-b187-c3adc711f3b7
2019-09-24 17:08:29,689 INFO  impl.RaftServerImpl (ServerState.java:<init>(103)) - s6@group-C3ADC711F3B7: ConfigurationManager, init=-1: [], old=null, confs=<EMPTY_MAP>
2019-09-24 17:08:29,689 DEBUG impl.RaftServerProxy (ServerImplUtils.java:newRaftServer(39)) - newRaftServer: s7, group-C3ADC711F3B7:[]
2019-09-24 17:08:29,689 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.storage.dir = [/workdir/ratis-test/target/test/data/312143de/MiniRaftClusterWithSimulatedRpc129b1caf/s6] (custom)
2019-09-24 17:08:29,690 INFO  impl.RaftServerProxy (ConfUtils.java:logGet(43)) - raft.rpc.type = org.apache.ratis.server.simulation.SimulatedRpc (custom)
2019-09-24 17:08:29,690 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.log.corruption.policy = EXCEPTION (default)
2019-09-24 17:08:29,690 INFO  storage.RaftStorageDirectory (RaftStorageDirectory.java:analyzeStorage(246)) - The storage directory /workdir/ratis-test/target/test/data/312143de/MiniRaftClusterWithSimulatedRpc129b1caf/s6/65574aca-6899-4903-b187-c3adc711f3b7 does not exist. Creating ...
2019-09-24 17:08:29,690 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.storage.dir = [/workdir/ratis-test/target/test/data/312143de/MiniRaftClusterWithSimulatedRpc129b1caf/s7] (custom)
2019-09-24 17:08:29,691 TRACE util.FileUtils (LogUtils.java:runAndLog(61)) - Successfully ran Files.createDirectories /workdir/ratis-test/target/test/data/312143de/MiniRaftClusterWithSimulatedRpc129b1caf/s6/65574aca-6899-4903-b187-c3adc711f3b7
2019-09-24 17:08:29,691 INFO  impl.RaftServerProxy (RaftServerProxy.java:addNew(89)) - s7: addNew group-C3ADC711F3B7:[] returns group-C3ADC711F3B7:java.util.concurrent.CompletableFuture@79ee9c2f[Not completed]
2019-09-24 17:08:29,691 INFO  impl.RaftServerImpl (RaftServerImpl.java:<init>(95)) - s7: new RaftServerImpl for group-C3ADC711F3B7:[] with BaseStateMachine:uninitialized
2019-09-24 17:08:29,691 INFO  ratis.MiniRaftCluster (MiniRaftCluster.java:newRaftServer(330)) - newRaftServer: s8, group-C3ADC711F3B7:[], format? true
2019-09-24 17:08:29,693 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.rpc.timeout.min = 150ms (default)
2019-09-24 17:08:29,693 TRACE util.FileUtils (FileUtils.java:deleteFully(88)) - deleteFully target/test/data/312143de/MiniRaftClusterWithSimulatedRpc129b1caf/s8
2019-09-24 17:08:29,693 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.rpc.timeout.max = 300ms (default)
2019-09-24 17:08:29,693 TRACE util.FileUtils (FileUtils.java:deleteFully(104)) - deleteFully: target/test/data/312143de/MiniRaftClusterWithSimulatedRpc129b1caf/s8 does not exist.
2019-09-24 17:08:29,693 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.rpcslowness.timeout = 60s (default)
2019-09-24 17:08:29,694 INFO  ratis.MiniRaftCluster (MiniRaftCluster.java:newRaftServer(335)) - Formatted directory target/test/data/312143de/MiniRaftClusterWithSimulatedRpc129b1caf/s8
2019-09-24 17:08:29,694 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.sleep.deviation.threshold = 300 (default)
2019-09-24 17:08:29,694 DEBUG impl.RaftServerProxy (ServerImplUtils.java:newRaftServer(39)) - newRaftServer: s8, group-C3ADC711F3B7:[]
2019-09-24 17:08:29,694 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.log.appender.install.snapshot.enabled = true (default)
2019-09-24 17:08:29,694 INFO  impl.RaftServerProxy (ConfUtils.java:logGet(43)) - raft.rpc.type = org.apache.ratis.server.simulation.SimulatedRpc (custom)
2019-09-24 17:08:29,694 INFO  impl.RaftServerImpl (ServerState.java:<init>(103)) - s7@group-C3ADC711F3B7: ConfigurationManager, init=-1: [], old=null, confs=<EMPTY_MAP>
2019-09-24 17:08:29,695 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.storage.dir = [/workdir/ratis-test/target/test/data/312143de/MiniRaftClusterWithSimulatedRpc129b1caf/s8] (custom)
2019-09-24 17:08:29,695 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.storage.dir = [/workdir/ratis-test/target/test/data/312143de/MiniRaftClusterWithSimulatedRpc129b1caf/s7] (custom)
2019-09-24 17:08:29,695 INFO  impl.RaftServerProxy (RaftServerProxy.java:addNew(89)) - s8: addNew group-C3ADC711F3B7:[] returns group-C3ADC711F3B7:java.util.concurrent.CompletableFuture@52f75a63[Not completed]
2019-09-24 17:08:29,696 INFO  impl.RaftServerImpl (RaftServerImpl.java:<init>(95)) - s8: new RaftServerImpl for group-C3ADC711F3B7:[] with BaseStateMachine:uninitialized
2019-09-24 17:08:29,696 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.log.corruption.policy = EXCEPTION (default)
2019-09-24 17:08:29,696 INFO  impl.GroupManagementBaseTest (GroupManagementBaseTest.java:runMultiGroupTest(149)) - putNewServer: printing ALL groups
  s3:      NEW group-C3ADC711F3B7:java.util.concurrent.CompletableFuture@485c52ee[Not completed]
  s4:      NEW group-C3ADC711F3B7:java.util.concurrent.CompletableFuture@2e2ce6ef[Not completed]
  s5:      NEW group-C3ADC711F3B7:java.util.concurrent.CompletableFuture@72de9f68[Not completed]
  s6:      NEW group-C3ADC711F3B7:java.util.concurrent.CompletableFuture@265f6d5f[Not completed]
  s7:      NEW group-C3ADC711F3B7:java.util.concurrent.CompletableFuture@79ee9c2f[Not completed]
  s8:      NEW group-C3ADC711F3B7:java.util.concurrent.CompletableFuture@52f75a63[Not completed]
  s0:      NEW group-C3ADC711F3B7:java.util.concurrent.CompletableFuture@2997f1[Not completed]
  s1:      NEW group-C3ADC711F3B7:java.util.concurrent.CompletableFuture@2cdcf4cb[Not completed]
  s2:      NEW group-C3ADC711F3B7:java.util.concurrent.CompletableFuture@7ce9f03e[Not completed]
2019-09-24 17:08:29,696 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.rpc.timeout.min = 150ms (default)
2019-09-24 17:08:29,697 INFO  storage.RaftStorageDirectory (RaftStorageDirectory.java:analyzeStorage(246)) - The storage directory /workdir/ratis-test/target/test/data/312143de/MiniRaftClusterWithSimulatedRpc129b1caf/s7/65574aca-6899-4903-b187-c3adc711f3b7 does not exist. Creating ...
2019-09-24 17:08:29,697 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.rpc.timeout.max = 300ms (default)
2019-09-24 17:08:29,698 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.rpcslowness.timeout = 60s (default)
2019-09-24 17:08:29,698 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.sleep.deviation.threshold = 300 (default)
2019-09-24 17:08:29,698 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.log.appender.install.snapshot.enabled = true (default)
2019-09-24 17:08:29,698 INFO  impl.RaftServerImpl (ServerState.java:<init>(103)) - s8@group-C3ADC711F3B7: ConfigurationManager, init=-1: [], old=null, confs=<EMPTY_MAP>
2019-09-24 17:08:29,698 TRACE util.FileUtils (LogUtils.java:runAndLog(61)) - Successfully ran Files.createDirectories /workdir/ratis-test/target/test/data/312143de/MiniRaftClusterWithSimulatedRpc129b1caf/s7/65574aca-6899-4903-b187-c3adc711f3b7
2019-09-24 17:08:29,698 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.storage.dir = [/workdir/ratis-test/target/test/data/312143de/MiniRaftClusterWithSimulatedRpc129b1caf/s8] (custom)
2019-09-24 17:08:29,699 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.log.corruption.policy = EXCEPTION (default)
2019-09-24 17:08:29,699 INFO  storage.RaftStorageDirectory (RaftStorageDirectory.java:analyzeStorage(246)) - The storage directory /workdir/ratis-test/target/test/data/312143de/MiniRaftClusterWithSimulatedRpc129b1caf/s8/65574aca-6899-4903-b187-c3adc711f3b7 does not exist. Creating ...
2019-09-24 17:08:29,700 TRACE util.FileUtils (LogUtils.java:runAndLog(61)) - Successfully ran Files.createDirectories /workdir/ratis-test/target/test/data/312143de/MiniRaftClusterWithSimulatedRpc129b1caf/s8/65574aca-6899-4903-b187-c3adc711f3b7
2019-09-24 17:08:30,697 INFO  ratis.MiniRaftCluster (MiniRaftCluster.java:start(287)) - .............................................................. 
2019-09-24 17:08:30,697 INFO  ratis.MiniRaftCluster (MiniRaftCluster.java:start(288)) - ... 
2019-09-24 17:08:30,697 INFO  ratis.MiniRaftCluster (MiniRaftCluster.java:start(289)) - ...     Starting MiniRaftClusterWithSimulatedRpc
2019-09-24 17:08:30,698 INFO  ratis.MiniRaftCluster (MiniRaftCluster.java:start(290)) - ... 
2019-09-24 17:08:30,698 INFO  ratis.MiniRaftCluster (MiniRaftCluster.java:start(291)) - .............................................................. 
2019-09-24 17:08:30,698 INFO  ratis.MiniRaftCluster (MiniRaftCluster.java:initServers(265)) - servers = {s3=s3:      NEW group-C3ADC711F3B7:java.util.concurrent.CompletableFuture@485c52ee[Not completed], s4=s4:      NEW group-C3ADC711F3B7:java.util.concurrent.CompletableFuture@2e2ce6ef[Not completed], s5=s5:      NEW group-C3ADC711F3B7:java.util.concurrent.CompletableFuture@72de9f68[Not completed], s6=s6:      NEW group-C3ADC711F3B7:java.util.concurrent.CompletableFuture@265f6d5f[Not completed], s7=s7:      NEW group-C3ADC711F3B7:java.util.concurrent.CompletableFuture@79ee9c2f[Not completed], s8=s8:      NEW group-C3ADC711F3B7:java.util.concurrent.CompletableFuture@52f75a63[Not completed], s0=s0:      NEW group-C3ADC711F3B7:java.util.concurrent.CompletableFuture@2997f1[Not completed], s1=s1:      NEW group-C3ADC711F3B7:java.util.concurrent.CompletableFuture@2cdcf4cb[Not completed], s2=s2:      NEW group-C3ADC711F3B7:java.util.concurrent.CompletableFuture@7ce9f03e[Not completed]}
2019-09-24 17:08:33,434 INFO  storage.RaftStorageDirectory (RaftStorageDirectory.java:tryLock(328)) - Lock on /workdir/ratis-test/target/test/data/312143de/MiniRaftClusterWithSimulatedRpc129b1caf/s0/65574aca-6899-4903-b187-c3adc711f3b7/in_use.lock acquired by nodename 9360@ratis-test-vphbd-3564017154
2019-09-24 17:08:33,435 INFO  storage.RaftStorage (RaftStorage.java:format(84)) - Storage directory /workdir/ratis-test/target/test/data/312143de/MiniRaftClusterWithSimulatedRpcd1e62d5/s0/0d011760-f958-4cfd-b8d9-18f258b418a8 has been successfully formatted.
2019-09-24 17:08:33,434 INFO  storage.RaftStorageDirectory (RaftStorageDirectory.java:tryLock(328)) - Lock on /workdir/ratis-test/target/test/data/312143de/MiniRaftClusterWithSimulatedRpc129b1caf/s1/65574aca-6899-4903-b187-c3adc711f3b7/in_use.lock acquired by nodename 9360@ratis-test-vphbd-3564017154
2019-09-24 17:08:33,434 INFO  storage.RaftStorageDirectory (RaftStorageDirectory.java:tryLock(328)) - Lock on /workdir/ratis-test/target/test/data/312143de/MiniRaftClusterWithSimulatedRpc129b1caf/s3/65574aca-6899-4903-b187-c3adc711f3b7/in_use.lock acquired by nodename 9360@ratis-test-vphbd-3564017154
2019-09-24 17:08:33,434 INFO  storage.RaftStorageDirectory (RaftStorageDirectory.java:tryLock(328)) - Lock on /workdir/ratis-test/target/test/data/312143de/MiniRaftClusterWithSimulatedRpc129b1caf/s2/65574aca-6899-4903-b187-c3adc711f3b7/in_use.lock acquired by nodename 9360@ratis-test-vphbd-3564017154
2019-09-24 17:08:33,436 TRACE util.FileUtils (LogUtils.java:runAndLog(61)) - Successfully ran Files.createDirectories /workdir/ratis-test/target/test/data/312143de/MiniRaftClusterWithSimulatedRpc129b1caf/s3/65574aca-6899-4903-b187-c3adc711f3b7/current
2019-09-24 17:08:33,434 INFO  storage.RaftStorageDirectory (RaftStorageDirectory.java:tryLock(328)) - Lock on /workdir/ratis-test/target/test/data/312143de/MiniRaftClusterWithSimulatedRpc129b1caf/s4/65574aca-6899-4903-b187-c3adc711f3b7/in_use.lock acquired by nodename 9360@ratis-test-vphbd-3564017154
2019-09-24 17:08:33,437 TRACE util.FileUtils (LogUtils.java:runAndLog(61)) - Successfully ran Files.createDirectories /workdir/ratis-test/target/test/data/312143de/MiniRaftClusterWithSimulatedRpc129b1caf/s3/65574aca-6899-4903-b187-c3adc711f3b7/sm
2019-09-24 17:08:33,437 TRACE util.FileUtils (LogUtils.java:runAndLog(61)) - Successfully ran Files.createDirectories /workdir/ratis-test/target/test/data/312143de/MiniRaftClusterWithSimulatedRpc129b1caf/s2/65574aca-6899-4903-b187-c3adc711f3b7/current
2019-09-24 17:08:33,436 TRACE util.FileUtils (LogUtils.java:runAndLog(61)) - Successfully ran Files.createDirectories /workdir/ratis-test/target/test/data/312143de/MiniRaftClusterWithSimulatedRpc129b1caf/s1/65574aca-6899-4903-b187-c3adc711f3b7/current
2019-09-24 17:08:33,436 INFO  storage.RaftStorageDirectory (RaftStorageDirectory.java:tryLock(328)) - Lock on /workdir/ratis-test/target/test/data/312143de/MiniRaftClusterWithSimulatedRpc129b1caf/s6/65574aca-6899-4903-b187-c3adc711f3b7/in_use.lock acquired by nodename 9360@ratis-test-vphbd-3564017154
2019-09-24 17:08:33,436 INFO  storage.RaftStorageDirectory (RaftStorageDirectory.java:tryLock(328)) - Lock on /workdir/ratis-test/target/test/data/312143de/MiniRaftClusterWithSimulatedRpc129b1caf/s8/65574aca-6899-4903-b187-c3adc711f3b7/in_use.lock acquired by nodename 9360@ratis-test-vphbd-3564017154
2019-09-24 17:08:33,438 TRACE util.FileUtils (LogUtils.java:runAndLog(61)) - Successfully ran Files.createDirectories /workdir/ratis-test/target/test/data/312143de/MiniRaftClusterWithSimulatedRpc129b1caf/s6/65574aca-6899-4903-b187-c3adc711f3b7/current
2019-09-24 17:08:33,436 INFO  storage.RaftStorageDirectory (RaftStorageDirectory.java:tryLock(328)) - Lock on /workdir/ratis-test/target/test/data/312143de/MiniRaftClusterWithSimulatedRpc129b1caf/s7/65574aca-6899-4903-b187-c3adc711f3b7/in_use.lock acquired by nodename 9360@ratis-test-vphbd-3564017154
2019-09-24 17:08:33,436 INFO  storage.RaftStorageDirectory (RaftStorageDirectory.java:tryLock(328)) - Lock on /workdir/ratis-test/target/test/data/312143de/MiniRaftClusterWithSimulatedRpc129b1caf/s5/65574aca-6899-4903-b187-c3adc711f3b7/in_use.lock acquired by nodename 9360@ratis-test-vphbd-3564017154
2019-09-24 17:08:33,439 TRACE util.FileUtils (LogUtils.java:runAndLog(61)) - Successfully ran Files.createDirectories /workdir/ratis-test/target/test/data/312143de/MiniRaftClusterWithSimulatedRpc129b1caf/s7/65574aca-6899-4903-b187-c3adc711f3b7/current
2019-09-24 17:08:33,436 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.notification.no-leader.timeout = 60s (default)
2019-09-24 17:08:33,436 TRACE util.FileUtils (LogUtils.java:runAndLog(61)) - Successfully ran Files.createDirectories /workdir/ratis-test/target/test/data/312143de/MiniRaftClusterWithSimulatedRpc129b1caf/s0/65574aca-6899-4903-b187-c3adc711f3b7/current
2019-09-24 17:08:33,439 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.log.use.memory = false (default)
2019-09-24 17:08:33,439 TRACE util.FileUtils (LogUtils.java:runAndLog(61)) - Successfully ran Files.createDirectories /workdir/ratis-test/target/test/data/312143de/MiniRaftClusterWithSimulatedRpc129b1caf/s7/65574aca-6899-4903-b187-c3adc711f3b7/sm
2019-09-24 17:08:33,439 TRACE util.FileUtils (LogUtils.java:runAndLog(61)) - Successfully ran Files.createDirectories /workdir/ratis-test/target/test/data/312143de/MiniRaftClusterWithSimulatedRpc129b1caf/s5/65574aca-6899-4903-b187-c3adc711f3b7/current
2019-09-24 17:08:33,438 TRACE util.FileUtils (LogUtils.java:runAndLog(61)) - Successfully ran Files.createDirectories /workdir/ratis-test/target/test/data/312143de/MiniRaftClusterWithSimulatedRpc129b1caf/s6/65574aca-6899-4903-b187-c3adc711f3b7/sm
2019-09-24 17:08:33,438 TRACE util.FileUtils (LogUtils.java:runAndLog(61)) - Successfully ran Files.createDirectories /workdir/ratis-test/target/test/data/312143de/MiniRaftClusterWithSimulatedRpc129b1caf/s8/65574aca-6899-4903-b187-c3adc711f3b7/current
2019-09-24 17:08:33,438 TRACE util.FileUtils (LogUtils.java:runAndLog(61)) - Successfully ran Files.createDirectories /workdir/ratis-test/target/test/data/312143de/MiniRaftClusterWithSimulatedRpc129b1caf/s1/65574aca-6899-4903-b187-c3adc711f3b7/sm
2019-09-24 17:08:33,437 TRACE util.FileUtils (LogUtils.java:runAndLog(61)) - Successfully ran Files.createDirectories /workdir/ratis-test/target/test/data/312143de/MiniRaftClusterWithSimulatedRpc129b1caf/s2/65574aca-6899-4903-b187-c3adc711f3b7/sm
2019-09-24 17:08:33,437 TRACE util.FileUtils (LogUtils.java:runAndLog(61)) - Successfully ran Files.createDirectories /workdir/ratis-test/target/test/data/312143de/MiniRaftClusterWithSimulatedRpc129b1caf/s4/65574aca-6899-4903-b187-c3adc711f3b7/current
2019-09-24 17:08:33,441 TRACE util.FileUtils (LogUtils.java:runAndLog(61)) - Successfully ran Files.createDirectories /workdir/ratis-test/target/test/data/312143de/MiniRaftClusterWithSimulatedRpc129b1caf/s8/65574aca-6899-4903-b187-c3adc711f3b7/sm
2019-09-24 17:08:33,440 TRACE util.FileUtils (LogUtils.java:runAndLog(61)) - Successfully ran Files.createDirectories /workdir/ratis-test/target/test/data/312143de/MiniRaftClusterWithSimulatedRpc129b1caf/s5/65574aca-6899-4903-b187-c3adc711f3b7/sm
2019-09-24 17:08:33,440 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.log.purge.gap = 1024 (default)
2019-09-24 17:08:33,439 TRACE util.FileUtils (LogUtils.java:runAndLog(61)) - Successfully ran Files.createDirectories /workdir/ratis-test/target/test/data/312143de/MiniRaftClusterWithSimulatedRpc129b1caf/s0/65574aca-6899-4903-b187-c3adc711f3b7/sm
2019-09-24 17:08:33,442 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.log.appender.buffer.byte-limit = 4MB (=4194304) (default)
2019-09-24 17:08:33,441 TRACE util.FileUtils (LogUtils.java:runAndLog(61)) - Successfully ran Files.createDirectories /workdir/ratis-test/target/test/data/312143de/MiniRaftClusterWithSimulatedRpc129b1caf/s4/65574aca-6899-4903-b187-c3adc711f3b7/sm
2019-09-24 17:08:33,442 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.log.segment.size.max = 8MB (=8388608) (default)
2019-09-24 17:08:33,443 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.log.segment.cache.num.max = 6 (default)
2019-09-24 17:08:33,443 INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:<init>(172)) - new s0@group-18F258B418A8-SegmentedRaftLogWorker for RaftStorage:Storage Directory /workdir/ratis-test/target/test/data/312143de/MiniRaftClusterWithSimulatedRpcd1e62d5/s0/0d011760-f958-4cfd-b8d9-18f258b418a8
2019-09-24 17:08:33,443 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.log.queue.byte-limit = 64MB (=67108864) (default)
2019-09-24 17:08:33,443 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.log.queue.element-limit = 4096 (default)
2019-09-24 17:08:33,443 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.log.segment.size.max = 8MB (=8388608) (default)
2019-09-24 17:08:33,444 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.log.preallocated.size = 4MB (=4194304) (default)
2019-09-24 17:08:33,444 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.log.write.buffer.size = 64KB (=65536) (default)
2019-09-24 17:08:33,444 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.log.force.sync.num = 128 (default)
2019-09-24 17:08:33,444 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.log.statemachine.data.sync = true (default)
2019-09-24 17:08:33,444 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.log.statemachine.data.sync.timeout = 10s (default)
2019-09-24 17:08:33,444 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.log.statemachine.data.sync.timeout.retry = -1 (default)
2019-09-24 17:08:33,445 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.log.statemachine.data.caching.enabled = false (default)
2019-09-24 17:08:33,445 INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:lambda$new$0(132)) - s0@group-18F258B418A8-SegmentedRaftLogWorker: flushIndex: setUnconditionally 0 -> -1
2019-09-24 17:08:33,446 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.snapshot.auto.trigger.enabled = false (default)
2019-09-24 17:08:33,446 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.snapshot.retention.file.num = -1 (default)
2019-09-24 17:08:33,446 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.retrycache.expirytime = 60s (default)
2019-09-24 17:08:33,449 DEBUG impl.RaftServerProxy (RaftServerProxy.java:lambda$groupAddAsync$10(380)) - s0: newImpl =      null s0@group-18F258B418A8:t0, leader=null, voted=null, raftlog=s0@group-18F258B418A8-SegmentedRaftLog:OPENED:c-1,f-1,i0, conf=-1: [s0:null], old=null NEW
2019-09-24 17:08:33,450 INFO  impl.RaftServerImpl (RaftServerImpl.java:start(181)) - s0@group-18F258B418A8: start as a follower, conf=-1: [s0:null], old=null
2019-09-24 17:08:33,450 INFO  impl.RaftServerImpl (RaftServerImpl.java:setRole(170)) - s0@group-18F258B418A8: changes role from      null to FOLLOWER at term 0 for startAsFollower
2019-09-24 17:08:33,450 INFO  impl.RoleInfo (RoleInfo.java:updateAndGet(143)) - s0: start FollowerState
2019-09-24 17:08:33,452 INFO  util.JmxRegister (JmxRegister.java:tryRegister(44)) - Successfully registered JMX Bean with object name Ratis:service=RaftServer,group=group-18F258B418A8,id=s0
2019-09-24 17:08:33,735 INFO  impl.FollowerState (FollowerState.java:run(108)) - s0@group-18F258B418A8-FollowerState: change to CANDIDATE, lastRpcTime:284ms, electionTimeout:284ms
2019-09-24 17:08:33,735 INFO  impl.RoleInfo (RoleInfo.java:shutdownFollowerState(121)) - s0: shutdown FollowerState
2019-09-24 17:08:33,735 INFO  impl.RaftServerImpl (RaftServerImpl.java:setRole(170)) - s0@group-18F258B418A8: changes role from  FOLLOWER to CANDIDATE at term 0 for changeToCandidate
2019-09-24 17:08:33,735 INFO  impl.RoleInfo (RoleInfo.java:updateAndGet(143)) - s0: start LeaderElection
2019-09-24 17:08:35,635 INFO  ratis.MiniRaftCluster (MiniRaftCluster.java:lambda$null$5(297)) - TIMED-PRINT: printing ALL groups
  s3:  RUNNING  FOLLOWER s3@group-3199313966C8:t0, leader=null, voted=null, raftlog=s3@group-3199313966C8-SegmentedRaftLog:OPENED:c-1,f-1,i0, conf=-1: [], old=null STARTING
  s4:  RUNNING  FOLLOWER s4@group-3199313966C8:t0, leader=null, voted=null, raftlog=s4@group-3199313966C8-SegmentedRaftLog:OPENED:c-1,f-1,i0, conf=-1: [], old=null STARTING
  s5:  RUNNING  FOLLOWER s5@group-3199313966C8:t0, leader=null, voted=null, raftlog=s5@group-3199313966C8-SegmentedRaftLog:OPENED:c-1,f-1,i0, conf=-1: [], old=null STARTING
  s6:  RUNNING  FOLLOWER s6@group-3199313966C8:t0, leader=null, voted=null, raftlog=s6@group-3199313966C8-SegmentedRaftLog:OPENED:c-1,f-1,i0, conf=-1: [], old=null STARTING
  s0:  RUNNING [
  CANDIDATE s0@group-18F258B418A8:t1, leader=null, voted=s0, raftlog=s0@group-18F258B418A8-SegmentedRaftLog:OPENED:c-1,f-1,i0, conf=-1: [s0:null], old=null RUNNING
   FOLLOWER s0@group-3199313966C8:t0, leader=null, voted=null, raftlog=s0@group-3199313966C8-SegmentedRaftLog:OPENED:c-1,f-1,i0, conf=-1: [], old=null STARTING] size=2
  s1:  RUNNING  FOLLOWER s1@group-3199313966C8:t0, leader=null, voted=null, raftlog=s1@group-3199313966C8-SegmentedRaftLog:OPENED:c-1,f-1,i0, conf=-1: [], old=null STARTING
  s2:  RUNNING  FOLLOWER s2@group-3199313966C8:t0, leader=null, voted=null, raftlog=s2@group-3199313966C8-SegmentedRaftLog:OPENED:c-1,f-1,i0, conf=-1: [], old=null STARTING
2019-09-24 17:08:37,264 INFO  storage.RaftStorage (RaftStorage.java:format(84)) - Storage directory /workdir/ratis-test/target/test/data/312143de/MiniRaftClusterWithSimulatedRpc129b1caf/s7/65574aca-6899-4903-b187-c3adc711f3b7 has been successfully formatted.
2019-09-24 17:08:37,264 INFO  storage.RaftStorage (RaftStorage.java:format(84)) - Storage directory /workdir/ratis-test/target/test/data/312143de/MiniRaftClusterWithSimulatedRpc129b1caf/s6/65574aca-6899-4903-b187-c3adc711f3b7 has been successfully formatted.
2019-09-24 17:08:37,266 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.notification.no-leader.timeout = 60s (default)
2019-09-24 17:08:37,264 INFO  storage.RaftStorage (RaftStorage.java:format(84)) - Storage directory /workdir/ratis-test/target/test/data/312143de/MiniRaftClusterWithSimulatedRpc129b1caf/s3/65574aca-6899-4903-b187-c3adc711f3b7 has been successfully formatted.
2019-09-24 17:08:37,266 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.log.use.memory = false (default)
2019-09-24 17:08:37,266 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.notification.no-leader.timeout = 60s (default)
2019-09-24 17:08:37,266 INFO  storage.RaftStorage (RaftStorage.java:format(84)) - Storage directory /workdir/ratis-test/target/test/data/312143de/MiniRaftClusterWithSimulatedRpc129b1caf/s8/65574aca-6899-4903-b187-c3adc711f3b7 has been successfully formatted.
2019-09-24 17:08:37,266 INFO  storage.RaftStorage (RaftStorage.java:format(84)) - Storage directory /workdir/ratis-test/target/test/data/312143de/MiniRaftClusterWithSimulatedRpc129b1caf/s4/65574aca-6899-4903-b187-c3adc711f3b7 has been successfully formatted.
2019-09-24 17:08:37,266 INFO  storage.RaftStorage (RaftStorage.java:format(84)) - Storage directory /workdir/ratis-test/target/test/data/312143de/MiniRaftClusterWithSimulatedRpc129b1caf/s5/65574aca-6899-4903-b187-c3adc711f3b7 has been successfully formatted.
2019-09-24 17:08:37,266 INFO  storage.RaftStorage (RaftStorage.java:format(84)) - Storage directory /workdir/ratis-test/target/test/data/312143de/MiniRaftClusterWithSimulatedRpc129b1caf/s1/65574aca-6899-4903-b187-c3adc711f3b7 has been successfully formatted.
2019-09-24 17:08:37,266 INFO  storage.RaftStorage (RaftStorage.java:format(84)) - Storage directory /workdir/ratis-test/target/test/data/312143de/MiniRaftClusterWithSimulatedRpc129b1caf/s0/65574aca-6899-4903-b187-c3adc711f3b7 has been successfully formatted.
2019-09-24 17:08:37,266 INFO  storage.RaftStorage (RaftStorage.java:format(84)) - Storage directory /workdir/ratis-test/target/test/data/312143de/MiniRaftClusterWithSimulatedRpc129b1caf/s2/65574aca-6899-4903-b187-c3adc711f3b7 has been successfully formatted.
2019-09-24 17:08:37,268 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.notification.no-leader.timeout = 60s (default)
2019-09-24 17:08:37,267 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.notification.no-leader.timeout = 60s (default)
2019-09-24 17:08:37,267 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.notification.no-leader.timeout = 60s (default)
2019-09-24 17:08:37,267 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.notification.no-leader.timeout = 60s (default)
2019-09-24 17:08:37,267 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.notification.no-leader.timeout = 60s (default)
2019-09-24 17:08:37,267 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.log.use.memory = false (default)
2019-09-24 17:08:37,266 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.log.purge.gap = 1024 (default)
2019-09-24 17:08:37,266 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.notification.no-leader.timeout = 60s (default)
2019-09-24 17:08:37,266 INFO  impl.LeaderElection (LeaderElection.java:askForVotes(178)) - s0@group-18F258B418A8-LeaderElection7: begin an election at term 1 for -1: [s0:null], old=null
2019-09-24 17:08:37,269 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.log.use.memory = false (default)
2019-09-24 17:08:37,269 INFO  impl.RoleInfo (RoleInfo.java:shutdownLeaderElection(134)) - s0: shutdown LeaderElection
2019-09-24 17:08:37,269 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.log.appender.buffer.byte-limit = 4MB (=4194304) (default)
2019-09-24 17:08:37,269 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.log.purge.gap = 1024 (default)
2019-09-24 17:08:37,269 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.log.use.memory = false (default)
2019-09-24 17:08:37,268 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.log.use.memory = false (default)
2019-09-24 17:08:37,268 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.log.use.memory = false (default)
2019-09-24 17:08:37,268 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.log.use.memory = false (default)
2019-09-24 17:08:37,268 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.log.use.memory = false (default)
2019-09-24 17:08:37,268 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.notification.no-leader.timeout = 60s (default)
2019-09-24 17:08:37,271 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.log.purge.gap = 1024 (default)
2019-09-24 17:08:37,271 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.log.purge.gap = 1024 (default)
2019-09-24 17:08:37,271 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.log.purge.gap = 1024 (default)
2019-09-24 17:08:37,270 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.log.purge.gap = 1024 (default)
2019-09-24 17:08:37,270 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.log.purge.gap = 1024 (default)
2019-09-24 17:08:37,270 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.log.appender.buffer.byte-limit = 4MB (=4194304) (default)
2019-09-24 17:08:37,270 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.log.segment.size.max = 8MB (=8388608) (default)
2019-09-24 17:08:37,270 INFO  impl.RaftServerImpl (RaftServerImpl.java:setRole(170)) - s0@group-18F258B418A8: changes role from CANDIDATE to LEADER at term 1 for changeToLeader
2019-09-24 17:08:37,270 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.log.purge.gap = 1024 (default)
2019-09-24 17:08:37,273 INFO  impl.RaftServerImpl (ServerState.java:setLeader(254)) - s0@group-18F258B418A8: change Leader from null to s0 at term 1 for becomeLeader, leader elected after 3837ms
2019-09-24 17:08:37,273 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.log.segment.cache.num.max = 6 (default)
2019-09-24 17:08:37,273 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.log.segment.size.max = 8MB (=8388608) (default)
2019-09-24 17:08:37,272 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.log.appender.buffer.byte-limit = 4MB (=4194304) (default)
2019-09-24 17:08:37,272 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.log.appender.buffer.byte-limit = 4MB (=4194304) (default)
2019-09-24 17:08:37,272 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.log.appender.buffer.byte-limit = 4MB (=4194304) (default)
2019-09-24 17:08:37,272 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.log.appender.buffer.byte-limit = 4MB (=4194304) (default)
2019-09-24 17:08:37,271 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.log.appender.buffer.byte-limit = 4MB (=4194304) (default)
2019-09-24 17:08:37,271 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.log.use.memory = false (default)
2019-09-24 17:08:37,275 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.log.segment.size.max = 8MB (=8388608) (default)
2019-09-24 17:08:37,275 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.log.segment.size.max = 8MB (=8388608) (default)
2019-09-24 17:08:37,274 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.log.segment.size.max = 8MB (=8388608) (default)
2019-09-24 17:08:37,274 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.log.segment.size.max = 8MB (=8388608) (default)
2019-09-24 17:08:37,274 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.log.segment.size.max = 8MB (=8388608) (default)
2019-09-24 17:08:37,274 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.log.segment.cache.num.max = 6 (default)
2019-09-24 17:08:37,273 INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:<init>(172)) - new s7@group-C3ADC711F3B7-SegmentedRaftLogWorker for RaftStorage:Storage Directory /workdir/ratis-test/target/test/data/312143de/MiniRaftClusterWithSimulatedRpc129b1caf/s7/65574aca-6899-4903-b187-c3adc711f3b7
2019-09-24 17:08:37,273 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.staging.catchup.gap = 1000 (default)
2019-09-24 17:08:37,273 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.log.appender.buffer.byte-limit = 4MB (=4194304) (default)
2019-09-24 17:08:37,277 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.rpc.sleep.time = 25ms (default)
2019-09-24 17:08:37,276 INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:<init>(172)) - new s6@group-C3ADC711F3B7-SegmentedRaftLogWorker for RaftStorage:Storage Directory /workdir/ratis-test/target/test/data/312143de/MiniRaftClusterWithSimulatedRpc129b1caf/s6/65574aca-6899-4903-b187-c3adc711f3b7
2019-09-24 17:08:37,276 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.log.segment.cache.num.max = 6 (default)
2019-09-24 17:08:37,276 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.log.segment.cache.num.max = 6 (default)
2019-09-24 17:08:37,276 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.log.segment.cache.num.max = 6 (default)
2019-09-24 17:08:37,278 INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:<init>(172)) - new s5@group-C3ADC711F3B7-SegmentedRaftLogWorker for RaftStorage:Storage Directory /workdir/ratis-test/target/test/data/312143de/MiniRaftClusterWithSimulatedRpc129b1caf/s5/65574aca-6899-4903-b187-c3adc711f3b7
2019-09-24 17:08:37,275 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.log.segment.cache.num.max = 6 (default)
2019-09-24 17:08:37,275 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.log.segment.cache.num.max = 6 (default)
2019-09-24 17:08:37,275 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.log.purge.gap = 1024 (default)
2019-09-24 17:08:37,278 INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:<init>(172)) - new s0@group-C3ADC711F3B7-SegmentedRaftLogWorker for RaftStorage:Storage Directory /workdir/ratis-test/target/test/data/312143de/MiniRaftClusterWithSimulatedRpc129b1caf/s0/65574aca-6899-4903-b187-c3adc711f3b7
2019-09-24 17:08:37,278 INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:<init>(172)) - new s1@group-C3ADC711F3B7-SegmentedRaftLogWorker for RaftStorage:Storage Directory /workdir/ratis-test/target/test/data/312143de/MiniRaftClusterWithSimulatedRpc129b1caf/s1/65574aca-6899-4903-b187-c3adc711f3b7
2019-09-24 17:08:37,278 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.log.queue.byte-limit = 64MB (=67108864) (default)
2019-09-24 17:08:37,278 INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:<init>(172)) - new s4@group-C3ADC711F3B7-SegmentedRaftLogWorker for RaftStorage:Storage Directory /workdir/ratis-test/target/test/data/312143de/MiniRaftClusterWithSimulatedRpc129b1caf/s4/65574aca-6899-4903-b187-c3adc711f3b7
2019-09-24 17:08:37,277 INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:<init>(172)) - new s8@group-C3ADC711F3B7-SegmentedRaftLogWorker for RaftStorage:Storage Directory /workdir/ratis-test/target/test/data/312143de/MiniRaftClusterWithSimulatedRpc129b1caf/s8/65574aca-6899-4903-b187-c3adc711f3b7
2019-09-24 17:08:37,277 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.log.queue.byte-limit = 64MB (=67108864) (default)
2019-09-24 17:08:37,277 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.write.element-limit = 4096 (default)
2019-09-24 17:08:37,277 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.log.segment.size.max = 8MB (=8388608) (default)
2019-09-24 17:08:37,280 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.watch.timeout = 10s (default)
2019-09-24 17:08:37,280 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.log.queue.element-limit = 4096 (default)
2019-09-24 17:08:37,280 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.log.queue.byte-limit = 64MB (=67108864) (default)
2019-09-24 17:08:37,280 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.log.queue.byte-limit = 64MB (=67108864) (default)
2019-09-24 17:08:37,279 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.log.queue.element-limit = 4096 (default)
2019-09-24 17:08:37,279 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.log.queue.byte-limit = 64MB (=67108864) (default)
2019-09-24 17:08:37,279 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.log.queue.byte-limit = 64MB (=67108864) (default)
2019-09-24 17:08:37,279 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.log.appender.buffer.byte-limit = 4MB (=4194304) (default)
2019-09-24 17:08:37,282 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.log.queue.element-limit = 4096 (default)
2019-09-24 17:08:37,282 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.log.queue.element-limit = 4096 (default)
2019-09-24 17:08:37,282 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.log.segment.size.max = 8MB (=8388608) (default)
2019-09-24 17:08:37,281 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.log.queue.element-limit = 4096 (default)
2019-09-24 17:08:37,281 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.log.queue.element-limit = 4096 (default)
2019-09-24 17:08:37,281 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.log.segment.size.max = 8MB (=8388608) (default)
2019-09-24 17:08:37,281 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.watch.timeout.denomination = 1s (default)
2019-09-24 17:08:37,280 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.log.segment.cache.num.max = 6 (default)
2019-09-24 17:08:37,283 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.watch.element-limit = 65536 (default)
2019-09-24 17:08:37,283 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.log.preallocated.size = 4MB (=4194304) (default)
2019-09-24 17:08:37,283 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.log.segment.size.max = 8MB (=8388608) (default)
2019-09-24 17:08:37,283 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.log.segment.size.max = 8MB (=8388608) (default)
2019-09-24 17:08:37,284 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.log.preallocated.size = 4MB (=4194304) (default)
2019-09-24 17:08:37,283 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.log.preallocated.size = 4MB (=4194304) (default)
2019-09-24 17:08:37,282 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.log.segment.size.max = 8MB (=8388608) (default)
2019-09-24 17:08:37,282 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.log.queue.byte-limit = 64MB (=67108864) (default)
2019-09-24 17:08:37,282 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.log.segment.size.max = 8MB (=8388608) (default)
2019-09-24 17:08:37,282 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.log.segment.size.max = 8MB (=8388608) (default)
2019-09-24 17:08:37,286 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.log.preallocated.size = 4MB (=4194304) (default)
2019-09-24 17:08:37,285 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.log.queue.element-limit = 4096 (default)
2019-09-24 17:08:37,285 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.log.preallocated.size = 4MB (=4194304) (default)
2019-09-24 17:08:37,285 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.log.write.buffer.size = 64KB (=65536) (default)
2019-09-24 17:08:37,285 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.log.write.buffer.size = 64KB (=65536) (default)
2019-09-24 17:08:37,284 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.log.preallocated.size = 4MB (=4194304) (default)
2019-09-24 17:08:37,284 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.log.write.buffer.size = 64KB (=65536) (default)
2019-09-24 17:08:37,284 INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:<init>(172)) - new s3@group-C3ADC711F3B7-SegmentedRaftLogWorker for RaftStorage:Storage Directory /workdir/ratis-test/target/test/data/312143de/MiniRaftClusterWithSimulatedRpc129b1caf/s3/65574aca-6899-4903-b187-c3adc711f3b7
2019-09-24 17:08:37,287 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.log.force.sync.num = 128 (default)
2019-09-24 17:08:37,287 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.log.write.buffer.size = 64KB (=65536) (default)
2019-09-24 17:08:37,287 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.log.force.sync.num = 128 (default)
2019-09-24 17:08:37,287 INFO  impl.RoleInfo (RoleInfo.java:updateAndGet(143)) - s0: start LeaderState
2019-09-24 17:08:37,287 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.log.force.sync.num = 128 (default)
2019-09-24 17:08:37,286 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.log.write.buffer.size = 64KB (=65536) (default)
2019-09-24 17:08:37,286 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.log.segment.size.max = 8MB (=8388608) (default)
2019-09-24 17:08:37,286 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.log.write.buffer.size = 64KB (=65536) (default)
2019-09-24 17:08:37,286 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.log.segment.cache.num.max = 6 (default)
2019-09-24 17:08:37,289 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.log.force.sync.num = 128 (default)
2019-09-24 17:08:37,289 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.log.statemachine.data.sync = true (default)
2019-09-24 17:08:37,289 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.log.preallocated.size = 4MB (=4194304) (default)
2019-09-24 17:08:37,288 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.log.force.sync.num = 128 (default)
2019-09-24 17:08:37,288 INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:startLogSegment(380)) - s0@group-18F258B418A8-SegmentedRaftLogWorker: Starting segment from index:0
2019-09-24 17:08:37,288 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.log.statemachine.data.sync = true (default)
2019-09-24 17:08:37,288 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.log.statemachine.data.sync = true (default)
2019-09-24 17:08:37,288 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.log.force.sync.num = 128 (default)
2019-09-24 17:08:37,288 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.log.statemachine.data.sync = true (default)
2019-09-24 17:08:37,287 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.log.queue.byte-limit = 64MB (=67108864) (default)
2019-09-24 17:08:37,291 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.log.statemachine.data.sync.timeout = 10s (default)
2019-09-24 17:08:37,291 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.log.statemachine.data.sync = true (default)
2019-09-24 17:08:37,290 INFO  impl.RaftServerImpl (ServerState.java:setRaftConf(355)) - s0@group-18F258B418A8: set configuration 0: [s0:], old=null at 0
2019-09-24 17:08:37,290 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.log.statemachine.data.sync.timeout = 10s (default)
2019-09-24 17:08:37,290 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.log.statemachine.data.sync.timeout = 10s (default)
2019-09-24 17:08:37,290 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.log.statemachine.data.sync = true (default)
2019-09-24 17:08:37,290 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.log.write.buffer.size = 64KB (=65536) (default)
2019-09-24 17:08:37,289 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.log.statemachine.data.sync.timeout = 10s (default)
2019-09-24 17:08:37,289 INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:<init>(172)) - new s2@group-C3ADC711F3B7-SegmentedRaftLogWorker for RaftStorage:Storage Directory /workdir/ratis-test/target/test/data/312143de/MiniRaftClusterWithSimulatedRpc129b1caf/s2/65574aca-6899-4903-b187-c3adc711f3b7
2019-09-24 17:08:37,293 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.log.statemachine.data.sync.timeout.retry = -1 (default)
2019-09-24 17:08:37,293 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.log.force.sync.num = 128 (default)
2019-09-24 17:08:37,294 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.log.statemachine.data.sync = true (default)
2019-09-24 17:08:37,293 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.log.statemachine.data.sync.timeout = 10s (default)
2019-09-24 17:08:37,292 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.log.statemachine.data.sync.timeout.retry = -1 (default)
2019-09-24 17:08:37,292 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.log.statemachine.data.sync.timeout.retry = -1 (default)
2019-09-24 17:08:37,291 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.log.statemachine.data.sync.timeout = 10s (default)
2019-09-24 17:08:37,291 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.log.statemachine.data.sync.timeout.retry = -1 (default)
2019-09-24 17:08:37,291 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.log.queue.element-limit = 4096 (default)
2019-09-24 17:08:37,295 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.log.statemachine.data.caching.enabled = false (default)
2019-09-24 17:08:37,295 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.log.statemachine.data.sync.timeout.retry = -1 (default)
2019-09-24 17:08:37,295 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.log.statemachine.data.caching.enabled = false (default)
2019-09-24 17:08:37,296 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.log.statemachine.data.caching.enabled = false (default)
2019-09-24 17:08:37,294 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.log.statemachine.data.caching.enabled = false (default)
2019-09-24 17:08:37,294 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.log.statemachine.data.sync.timeout.retry = -1 (default)
2019-09-24 17:08:37,294 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.log.statemachine.data.sync.timeout = 10s (default)
2019-09-24 17:08:37,294 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.log.statemachine.data.caching.enabled = false (default)
2019-09-24 17:08:37,293 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.log.queue.byte-limit = 64MB (=67108864) (default)
2019-09-24 17:08:37,297 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.log.statemachine.data.sync.timeout.retry = -1 (default)
2019-09-24 17:08:37,296 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.log.statemachine.data.caching.enabled = false (default)
2019-09-24 17:08:37,296 INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:lambda$new$0(132)) - s5@group-C3ADC711F3B7-SegmentedRaftLogWorker: flushIndex: setUnconditionally 0 -> -1
2019-09-24 17:08:37,296 INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:lambda$new$0(132)) - s7@group-C3ADC711F3B7-SegmentedRaftLogWorker: flushIndex: setUnconditionally 0 -> -1
2019-09-24 17:08:37,298 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.snapshot.auto.trigger.enabled = false (default)
2019-09-24 17:08:37,296 INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:lambda$new$0(132)) - s4@group-C3ADC711F3B7-SegmentedRaftLogWorker: flushIndex: setUnconditionally 0 -> -1
2019-09-24 17:08:37,296 INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:lambda$new$0(132)) - s6@group-C3ADC711F3B7-SegmentedRaftLogWorker: flushIndex: setUnconditionally 0 -> -1
2019-09-24 17:08:37,295 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.log.segment.size.max = 8MB (=8388608) (default)
2019-09-24 17:08:37,298 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.snapshot.auto.trigger.enabled = false (default)
2019-09-24 17:08:37,298 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.snapshot.auto.trigger.enabled = false (default)
2019-09-24 17:08:37,298 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.snapshot.retention.file.num = -1 (default)
2019-09-24 17:08:37,298 INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:lambda$new$0(132)) - s1@group-C3ADC711F3B7-SegmentedRaftLogWorker: flushIndex: setUnconditionally 0 -> -1
2019-09-24 17:08:37,297 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.log.statemachine.data.caching.enabled = false (default)
2019-09-24 17:08:37,297 INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:lambda$new$0(132)) - s0@group-C3ADC711F3B7-SegmentedRaftLogWorker: flushIndex: setUnconditionally 0 -> -1
2019-09-24 17:08:37,297 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.log.queue.element-limit = 4096 (default)
2019-09-24 17:08:37,300 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.snapshot.auto.trigger.enabled = false (default)
2019-09-24 17:08:37,300 INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:lambda$new$0(132)) - s8@group-C3ADC711F3B7-SegmentedRaftLogWorker: flushIndex: setUnconditionally 0 -> -1
2019-09-24 17:08:37,299 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.snapshot.auto.trigger.enabled = false (default)
2019-09-24 17:08:37,300 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.snapshot.auto.trigger.enabled = false (default)
2019-09-24 17:08:37,299 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.retrycache.expirytime = 60s (default)
2019-09-24 17:08:37,299 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.snapshot.retention.file.num = -1 (default)
2019-09-24 17:08:37,299 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.snapshot.retention.file.num = -1 (default)
2019-09-24 17:08:37,299 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.log.preallocated.size = 4MB (=4194304) (default)
2019-09-24 17:08:37,301 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.log.write.buffer.size = 64KB (=65536) (default)
2019-09-24 17:08:37,299 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.snapshot.auto.trigger.enabled = false (default)
2019-09-24 17:08:37,301 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.log.force.sync.num = 128 (default)
2019-09-24 17:08:37,301 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.retrycache.expirytime = 60s (default)
2019-09-24 17:08:37,301 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.retrycache.expirytime = 60s (default)
2019-09-24 17:08:37,300 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.snapshot.retention.file.num = -1 (default)
2019-09-24 17:08:37,300 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.snapshot.retention.file.num = -1 (default)
2019-09-24 17:08:37,300 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.snapshot.retention.file.num = -1 (default)
2019-09-24 17:08:37,300 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.log.segment.size.max = 8MB (=8388608) (default)
2019-09-24 17:08:37,303 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.retrycache.expirytime = 60s (default)
2019-09-24 17:08:37,302 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.retrycache.expirytime = 60s (default)
2019-09-24 17:08:37,302 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.retrycache.expirytime = 60s (default)
2019-09-24 17:08:37,302 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.log.statemachine.data.sync = true (default)
2019-09-24 17:08:37,301 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.snapshot.retention.file.num = -1 (default)
2019-09-24 17:08:37,303 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.log.statemachine.data.sync.timeout = 10s (default)
2019-09-24 17:08:37,303 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.log.preallocated.size = 4MB (=4194304) (default)
2019-09-24 17:08:37,304 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.log.statemachine.data.sync.timeout.retry = -1 (default)
2019-09-24 17:08:37,304 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.retrycache.expirytime = 60s (default)
2019-09-24 17:08:37,304 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.log.statemachine.data.caching.enabled = false (default)
2019-09-24 17:08:37,304 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.log.write.buffer.size = 64KB (=65536) (default)
2019-09-24 17:08:37,305 INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:lambda$new$0(132)) - s3@group-C3ADC711F3B7-SegmentedRaftLogWorker: flushIndex: setUnconditionally 0 -> -1
2019-09-24 17:08:37,305 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.log.force.sync.num = 128 (default)
2019-09-24 17:08:37,305 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.snapshot.auto.trigger.enabled = false (default)
2019-09-24 17:08:37,305 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.log.statemachine.data.sync = true (default)
2019-09-24 17:08:37,305 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.snapshot.retention.file.num = -1 (default)
2019-09-24 17:08:37,305 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.log.statemachine.data.sync.timeout = 10s (default)
2019-09-24 17:08:37,305 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.retrycache.expirytime = 60s (default)
2019-09-24 17:08:37,305 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.log.statemachine.data.sync.timeout.retry = -1 (default)
2019-09-24 17:08:37,306 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.log.statemachine.data.caching.enabled = false (default)
2019-09-24 17:08:37,306 INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:lambda$new$0(132)) - s2@group-C3ADC711F3B7-SegmentedRaftLogWorker: flushIndex: setUnconditionally 0 -> -1
2019-09-24 17:08:37,307 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.snapshot.auto.trigger.enabled = false (default)
2019-09-24 17:08:37,307 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.snapshot.retention.file.num = -1 (default)
2019-09-24 17:08:37,307 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.retrycache.expirytime = 60s (default)
2019-09-24 17:08:37,318 INFO  impl.RaftServerImpl (RaftServerImpl.java:start(184)) - s3@group-C3ADC711F3B7: start with initializing state, conf=-1: [], old=null
2019-09-24 17:08:37,318 INFO  impl.RaftServerImpl (RaftServerImpl.java:setRole(170)) - s3@group-C3ADC711F3B7: changes role from      null to FOLLOWER at term 0 for startInitializing
2019-09-24 17:08:37,319 INFO  util.JmxRegister (JmxRegister.java:tryRegister(44)) - Successfully registered JMX Bean with object name Ratis:service=RaftServer,group=group-C3ADC711F3B7,id=s3
2019-09-24 17:08:37,322 INFO  impl.RaftServerProxy (RaftServerProxy.java:lambda$start$3(299)) - s3: start RPC server
2019-09-24 17:08:37,323 INFO  impl.RaftServerImpl (RaftServerImpl.java:start(184)) - s4@group-C3ADC711F3B7: start with initializing state, conf=-1: [], old=null
2019-09-24 17:08:37,324 INFO  impl.RaftServerImpl (RaftServerImpl.java:setRole(170)) - s4@group-C3ADC711F3B7: changes role from      null to FOLLOWER at term 0 for startInitializing
2019-09-24 17:08:37,324 INFO  util.JmxRegister (JmxRegister.java:tryRegister(44)) - Successfully registered JMX Bean with object name Ratis:service=RaftServer,group=group-C3ADC711F3B7,id=s4
2019-09-24 17:08:37,328 INFO  impl.RaftServerProxy (RaftServerProxy.java:lambda$start$3(299)) - s4: start RPC server
2019-09-24 17:08:37,329 INFO  impl.RaftServerImpl (RaftServerImpl.java:start(184)) - s5@group-C3ADC711F3B7: start with initializing state, conf=-1: [], old=null
2019-09-24 17:08:37,329 INFO  impl.RaftServerImpl (RaftServerImpl.java:setRole(170)) - s5@group-C3ADC711F3B7: changes role from      null to FOLLOWER at term 0 for startInitializing
2019-09-24 17:08:37,330 INFO  util.JmxRegister (JmxRegister.java:tryRegister(44)) - Successfully registered JMX Bean with object name Ratis:service=RaftServer,group=group-C3ADC711F3B7,id=s5
2019-09-24 17:08:37,333 INFO  impl.RaftServerProxy (RaftServerProxy.java:lambda$start$3(299)) - s5: start RPC server
2019-09-24 17:08:37,334 INFO  impl.RaftServerImpl (RaftServerImpl.java:start(184)) - s6@group-C3ADC711F3B7: start with initializing state, conf=-1: [], old=null
2019-09-24 17:08:37,334 INFO  impl.RaftServerImpl (RaftServerImpl.java:setRole(170)) - s6@group-C3ADC711F3B7: changes role from      null to FOLLOWER at term 0 for startInitializing
2019-09-24 17:08:37,335 INFO  util.JmxRegister (JmxRegister.java:tryRegister(44)) - Successfully registered JMX Bean with object name Ratis:service=RaftServer,group=group-C3ADC711F3B7,id=s6
2019-09-24 17:08:37,338 INFO  impl.RaftServerProxy (RaftServerProxy.java:lambda$start$3(299)) - s6: start RPC server
2019-09-24 17:08:37,339 INFO  impl.RaftServerImpl (RaftServerImpl.java:start(184)) - s7@group-C3ADC711F3B7: start with initializing state, conf=-1: [], old=null
2019-09-24 17:08:37,339 INFO  impl.RaftServerImpl (RaftServerImpl.java:setRole(170)) - s7@group-C3ADC711F3B7: changes role from      null to FOLLOWER at term 0 for startInitializing
2019-09-24 17:08:37,340 INFO  util.JmxRegister (JmxRegister.java:tryRegister(44)) - Successfully registered JMX Bean with object name Ratis:service=RaftServer,group=group-C3ADC711F3B7,id=s7
2019-09-24 17:08:37,343 INFO  impl.RaftServerProxy (RaftServerProxy.java:lambda$start$3(299)) - s7: start RPC server
2019-09-24 17:08:37,344 INFO  impl.RaftServerImpl (RaftServerImpl.java:start(184)) - s8@group-C3ADC711F3B7: start with initializing state, conf=-1: [], old=null
2019-09-24 17:08:37,344 INFO  impl.RaftServerImpl (RaftServerImpl.java:setRole(170)) - s8@group-C3ADC711F3B7: changes role from      null to FOLLOWER at term 0 for startInitializing
2019-09-24 17:08:37,344 INFO  util.JmxRegister (JmxRegister.java:tryRegister(44)) - Successfully registered JMX Bean with object name Ratis:service=RaftServer,group=group-C3ADC711F3B7,id=s8
2019-09-24 17:08:37,348 INFO  impl.RaftServerProxy (RaftServerProxy.java:lambda$start$3(299)) - s8: start RPC server
2019-09-24 17:08:37,349 INFO  impl.RaftServerImpl (RaftServerImpl.java:start(184)) - s0@group-C3ADC711F3B7: start with initializing state, conf=-1: [], old=null
2019-09-24 17:08:37,349 INFO  impl.RaftServerImpl (RaftServerImpl.java:setRole(170)) - s0@group-C3ADC711F3B7: changes role from      null to FOLLOWER at term 0 for startInitializing
2019-09-24 17:08:37,349 INFO  util.JmxRegister (JmxRegister.java:tryRegister(44)) - Successfully registered JMX Bean with object name Ratis:service=RaftServer,group=group-C3ADC711F3B7,id=s0
2019-09-24 17:08:37,353 INFO  impl.RaftServerProxy (RaftServerProxy.java:lambda$start$3(299)) - s0: start RPC server
2019-09-24 17:08:37,353 INFO  impl.RaftServerImpl (RaftServerImpl.java:start(184)) - s1@group-C3ADC711F3B7: start with initializing state, conf=-1: [], old=null
2019-09-24 17:08:37,354 INFO  impl.RaftServerImpl (RaftServerImpl.java:setRole(170)) - s1@group-C3ADC711F3B7: changes role from      null to FOLLOWER at term 0 for startInitializing
2019-09-24 17:08:37,354 INFO  util.JmxRegister (JmxRegister.java:tryRegister(44)) - Successfully registered JMX Bean with object name Ratis:service=RaftServer,group=group-C3ADC711F3B7,id=s1
2019-09-24 17:08:37,358 INFO  impl.RaftServerProxy (RaftServerProxy.java:lambda$start$3(299)) - s1: start RPC server
2019-09-24 17:08:37,358 INFO  impl.RaftServerImpl (RaftServerImpl.java:start(184)) - s2@group-C3ADC711F3B7: start with initializing state, conf=-1: [], old=null
2019-09-24 17:08:37,359 INFO  impl.RaftServerImpl (RaftServerImpl.java:setRole(170)) - s2@group-C3ADC711F3B7: changes role from      null to FOLLOWER at term 0 for startInitializing
2019-09-24 17:08:37,359 INFO  util.JmxRegister (JmxRegister.java:tryRegister(44)) - Successfully registered JMX Bean with object name Ratis:service=RaftServer,group=group-C3ADC711F3B7,id=s2
2019-09-24 17:08:37,362 INFO  impl.RaftServerProxy (RaftServerProxy.java:lambda$start$3(299)) - s2: start RPC server
2019-09-24 17:08:38,364 INFO  impl.GroupManagementBaseTest (GroupManagementBaseTest.java:runMultiGroupTest(156)) - start: printing ALL groups
  s3:  RUNNING  FOLLOWER s3@group-C3ADC711F3B7:t0, leader=null, voted=null, raftlog=s3@group-C3ADC711F3B7-SegmentedRaftLog:OPENED:c-1,f-1,i0, conf=-1: [], old=null STARTING
  s4:  RUNNING  FOLLOWER s4@group-C3ADC711F3B7:t0, leader=null, voted=null, raftlog=s4@group-C3ADC711F3B7-SegmentedRaftLog:OPENED:c-1,f-1,i0, conf=-1: [], old=null STARTING
  s5:  RUNNING  FOLLOWER s5@group-C3ADC711F3B7:t0, leader=null, voted=null, raftlog=s5@group-C3ADC711F3B7-SegmentedRaftLog:OPENED:c-1,f-1,i0, conf=-1: [], old=null STARTING
  s6:  RUNNING  FOLLOWER s6@group-C3ADC711F3B7:t0, leader=null, voted=null, raftlog=s6@group-C3ADC711F3B7-SegmentedRaftLog:OPENED:c-1,f-1,i0, conf=-1: [], old=null STARTING
  s7:  RUNNING  FOLLOWER s7@group-C3ADC711F3B7:t0, leader=null, voted=null, raftlog=s7@group-C3ADC711F3B7-SegmentedRaftLog:OPENED:c-1,f-1,i0, conf=-1: [], old=null STARTING
  s8:  RUNNING  FOLLOWER s8@group-C3ADC711F3B7:t0, leader=null, voted=null, raftlog=s8@group-C3ADC711F3B7-SegmentedRaftLog:OPENED:c-1,f-1,i0, conf=-1: [], old=null STARTING
  s0:  RUNNING  FOLLOWER s0@group-C3ADC711F3B7:t0, leader=null, voted=null, raftlog=s0@group-C3ADC711F3B7-SegmentedRaftLog:OPENED:c-1,f-1,i0, conf=-1: [], old=null STARTING
  s1:  RUNNING  FOLLOWER s1@group-C3ADC711F3B7:t0, leader=null, voted=null, raftlog=s1@group-C3ADC711F3B7-SegmentedRaftLog:OPENED:c-1,f-1,i0, conf=-1: [], old=null STARTING
  s2:  RUNNING  FOLLOWER s2@group-C3ADC711F3B7:t0, leader=null, voted=null, raftlog=s2@group-C3ADC711F3B7-SegmentedRaftLog:OPENED:c-1,f-1,i0, conf=-1: [], old=null STARTING
2019-09-24 17:08:38,365 INFO  impl.GroupManagementBaseTest (GroupManagementBaseTest.java:runMultiGroupTest(169)) - 0) starting group-27F859EF6650:[s3:null, s4:null, s0:null, s1:null, s2:null]
2019-09-24 17:08:38,365 DEBUG client.RaftClient (ConfUtils.java:logGet(43)) - raft.rpc.type = org.apache.ratis.server.simulation.SimulatedRpc (custom)
2019-09-24 17:08:38,366 DEBUG client.RaftClient (RaftClientImpl.java:sendRequest(275)) - client-59CF60AB4210: send GroupManagementRequest:client-59CF60AB4210->s0@group-27F859EF6650, cid=14, seq=0, RW, null, Add:group-27F859EF6650:[s3:null, s4:null, s0:null, s1:null, s2:null]
2019-09-24 17:08:38,367 INFO  impl.RaftServerProxy (RaftServerProxy.java:addNew(89)) - s0: addNew group-27F859EF6650:[s3:null, s4:null, s0:null, s1:null, s2:null] returns group-27F859EF6650:java.util.concurrent.CompletableFuture@4edb7d5e[Not completed]
2019-09-24 17:08:38,370 INFO  impl.RaftServerImpl (RaftServerImpl.java:<init>(95)) - s0: new RaftServerImpl for group-27F859EF6650:[s3:null, s4:null, s0:null, s1:null, s2:null] with BaseStateMachine:uninitialized
2019-09-24 17:08:38,371 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.rpc.timeout.min = 150ms (default)
2019-09-24 17:08:38,371 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.rpc.timeout.max = 300ms (default)
2019-09-24 17:08:38,371 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.rpcslowness.timeout = 60s (default)
2019-09-24 17:08:38,372 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.sleep.deviation.threshold = 300 (default)
2019-09-24 17:08:38,372 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.log.appender.install.snapshot.enabled = true (default)
2019-09-24 17:08:38,372 INFO  impl.RaftServerImpl (ServerState.java:<init>(103)) - s0@group-27F859EF6650: ConfigurationManager, init=-1: [s3:null, s4:null, s0:null, s1:null, s2:null], old=null, confs=<EMPTY_MAP>
2019-09-24 17:08:38,372 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.storage.dir = [/workdir/ratis-test/target/test/data/312143de/MiniRaftClusterWithSimulatedRpc129b1caf/s0] (custom)
2019-09-24 17:08:38,373 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.log.corruption.policy = EXCEPTION (default)
2019-09-24 17:08:38,373 INFO  storage.RaftStorageDirectory (RaftStorageDirectory.java:analyzeStorage(246)) - The storage directory /workdir/ratis-test/target/test/data/312143de/MiniRaftClusterWithSimulatedRpc129b1caf/s0/77b2d1b8-05b9-460f-9be1-27f859ef6650 does not exist. Creating ...
2019-09-24 17:08:38,374 TRACE util.FileUtils (LogUtils.java:runAndLog(61)) - Successfully ran Files.createDirectories /workdir/ratis-test/target/test/data/312143de/MiniRaftClusterWithSimulatedRpc129b1caf/s0/77b2d1b8-05b9-460f-9be1-27f859ef6650
2019-09-24 17:08:40,942 INFO  storage.RaftStorageDirectory (RaftStorageDirectory.java:tryLock(328)) - Lock on /workdir/ratis-test/target/test/data/312143de/MiniRaftClusterWithSimulatedRpc129b1caf/s0/77b2d1b8-05b9-460f-9be1-27f859ef6650/in_use.lock acquired by nodename 9360@ratis-test-vphbd-3564017154
2019-09-24 17:08:40,942 INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:execute(569)) - s0@group-18F258B418A8-SegmentedRaftLogWorker: created new log segment /workdir/ratis-test/target/test/data/312143de/MiniRaftClusterWithSimulatedRpcd1e62d5/s0/0d011760-f958-4cfd-b8d9-18f258b418a8/current/log_inprogress_0
2019-09-24 17:08:40,943 TRACE util.FileUtils (LogUtils.java:runAndLog(61)) - Successfully ran Files.createDirectories /workdir/ratis-test/target/test/data/312143de/MiniRaftClusterWithSimulatedRpc129b1caf/s0/77b2d1b8-05b9-460f-9be1-27f859ef6650/current
2019-09-24 17:08:40,943 TRACE util.FileUtils (LogUtils.java:runAndLog(61)) - Successfully ran Files.createDirectories /workdir/ratis-test/target/test/data/312143de/MiniRaftClusterWithSimulatedRpc129b1caf/s0/77b2d1b8-05b9-460f-9be1-27f859ef6650/sm
2019-09-24 17:08:40,960 INFO  storage.RaftStorage (RaftStorage.java:format(84)) - Storage directory /workdir/ratis-test/target/test/data/312143de/MiniRaftClusterWithSimulatedRpc129b1caf/s0/77b2d1b8-05b9-460f-9be1-27f859ef6650 has been successfully formatted.
2019-09-24 17:08:40,960 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.notification.no-leader.timeout = 60s (default)
2019-09-24 17:08:40,960 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.log.use.memory = false (default)
2019-09-24 17:08:40,960 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.log.purge.gap = 1024 (default)
2019-09-24 17:08:40,961 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.log.appender.buffer.byte-limit = 4MB (=4194304) (default)
2019-09-24 17:08:40,961 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.log.segment.size.max = 8MB (=8388608) (default)
2019-09-24 17:08:40,961 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.log.segment.cache.num.max = 6 (default)
2019-09-24 17:08:40,961 INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:<init>(172)) - new s0@group-27F859EF6650-SegmentedRaftLogWorker for RaftStorage:Storage Directory /workdir/ratis-test/target/test/data/312143de/MiniRaftClusterWithSimulatedRpc129b1caf/s0/77b2d1b8-05b9-460f-9be1-27f859ef6650
2019-09-24 17:08:40,961 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.log.queue.byte-limit = 64MB (=67108864) (default)
2019-09-24 17:08:40,961 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.log.queue.element-limit = 4096 (default)
2019-09-24 17:08:40,962 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.log.segment.size.max = 8MB (=8388608) (default)
2019-09-24 17:08:40,962 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.log.preallocated.size = 4MB (=4194304) (default)
2019-09-24 17:08:40,962 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.log.write.buffer.size = 64KB (=65536) (default)
2019-09-24 17:08:40,962 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.log.force.sync.num = 128 (default)
2019-09-24 17:08:40,962 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.log.statemachine.data.sync = true (default)
2019-09-24 17:08:40,962 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.log.statemachine.data.sync.timeout = 10s (default)
2019-09-24 17:08:40,962 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.log.statemachine.data.sync.timeout.retry = -1 (default)
2019-09-24 17:08:40,963 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.log.statemachine.data.caching.enabled = false (default)
2019-09-24 17:08:40,963 INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:lambda$new$0(132)) - s0@group-27F859EF6650-SegmentedRaftLogWorker: flushIndex: setUnconditionally 0 -> -1
2019-09-24 17:08:40,963 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.snapshot.auto.trigger.enabled = false (default)
2019-09-24 17:08:40,964 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.snapshot.retention.file.num = -1 (default)
2019-09-24 17:08:40,964 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.retrycache.expirytime = 60s (default)
2019-09-24 17:08:40,967 DEBUG impl.RaftServerProxy (RaftServerProxy.java:lambda$groupAddAsync$10(380)) - s0: newImpl =      null s0@group-27F859EF6650:t0, leader=null, voted=null, raftlog=s0@group-27F859EF6650-SegmentedRaftLog:OPENED:c-1,f-1,i0, conf=-1: [s3:null, s4:null, s0:null, s1:null, s2:null], old=null NEW
2019-09-24 17:08:40,967 INFO  impl.RaftServerImpl (RaftServerImpl.java:start(181)) - s0@group-27F859EF6650: start as a follower, conf=-1: [s3:null, s4:null, s0:null, s1:null, s2:null], old=null
2019-09-24 17:08:40,967 INFO  impl.RaftServerImpl (RaftServerImpl.java:setRole(170)) - s0@group-27F859EF6650: changes role from      null to FOLLOWER at term 0 for startAsFollower
2019-09-24 17:08:40,967 INFO  impl.RoleInfo (RoleInfo.java:updateAndGet(143)) - s0: start FollowerState
2019-09-24 17:08:40,968 INFO  util.JmxRegister (JmxRegister.java:tryRegister(44)) - Successfully registered JMX Bean with object name Ratis:service=RaftServer,group=group-27F859EF6650,id=s0
2019-09-24 17:08:40,971 DEBUG client.RaftClient (RaftClientImpl.java:sendRequest(285)) - client-59CF60AB4210: receive RaftClientReply:client-59CF60AB4210->s0@group-27F859EF6650, cid=14, SUCCESS, logIndex=0, commits[s0:c-1]
2019-09-24 17:08:40,972 DEBUG client.RaftClient (ConfUtils.java:logGet(43)) - raft.rpc.type = org.apache.ratis.server.simulation.SimulatedRpc (custom)
2019-09-24 17:08:40,972 DEBUG client.RaftClient (RaftClientImpl.java:sendRequest(275)) - client-CA8EE37189BA: send GroupManagementRequest:client-CA8EE37189BA->s1@group-27F859EF6650, cid=15, seq=0, RW, null, Add:group-27F859EF6650:[s3:null, s4:null, s0:null, s1:null, s2:null]
2019-09-24 17:08:40,974 INFO  impl.RaftServerProxy (RaftServerProxy.java:addNew(89)) - s1: addNew group-27F859EF6650:[s3:null, s4:null, s0:null, s1:null, s2:null] returns group-27F859EF6650:java.util.concurrent.CompletableFuture@6d5d5def[Not completed]
2019-09-24 17:08:40,974 INFO  impl.RaftServerImpl (RaftServerImpl.java:<init>(95)) - s1: new RaftServerImpl for group-27F859EF6650:[s3:null, s4:null, s0:null, s1:null, s2:null] with BaseStateMachine:uninitialized
2019-09-24 17:08:40,974 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.rpc.timeout.min = 150ms (default)
2019-09-24 17:08:40,974 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.rpc.timeout.max = 300ms (default)
2019-09-24 17:08:40,974 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.rpcslowness.timeout = 60s (default)
2019-09-24 17:08:40,974 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.sleep.deviation.threshold = 300 (default)
2019-09-24 17:08:40,975 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.log.appender.install.snapshot.enabled = true (default)
2019-09-24 17:08:40,975 INFO  impl.RaftServerImpl (ServerState.java:<init>(103)) - s1@group-27F859EF6650: ConfigurationManager, init=-1: [s3:null, s4:null, s0:null, s1:null, s2:null], old=null, confs=<EMPTY_MAP>
2019-09-24 17:08:40,975 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.storage.dir = [/workdir/ratis-test/target/test/data/312143de/MiniRaftClusterWithSimulatedRpc129b1caf/s1] (custom)
2019-09-24 17:08:40,975 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.log.corruption.policy = EXCEPTION (default)
2019-09-24 17:08:40,975 INFO  storage.RaftStorageDirectory (RaftStorageDirectory.java:analyzeStorage(246)) - The storage directory /workdir/ratis-test/target/test/data/312143de/MiniRaftClusterWithSimulatedRpc129b1caf/s1/77b2d1b8-05b9-460f-9be1-27f859ef6650 does not exist. Creating ...
2019-09-24 17:08:40,976 TRACE util.FileUtils (LogUtils.java:runAndLog(61)) - Successfully ran Files.createDirectories /workdir/ratis-test/target/test/data/312143de/MiniRaftClusterWithSimulatedRpc129b1caf/s1/77b2d1b8-05b9-460f-9be1-27f859ef6650
2019-09-24 17:08:40,993 INFO  storage.RaftStorageDirectory (RaftStorageDirectory.java:tryLock(328)) - Lock on /workdir/ratis-test/target/test/data/312143de/MiniRaftClusterWithSimulatedRpc129b1caf/s1/77b2d1b8-05b9-460f-9be1-27f859ef6650/in_use.lock acquired by nodename 9360@ratis-test-vphbd-3564017154
2019-09-24 17:08:40,993 TRACE util.FileUtils (LogUtils.java:runAndLog(61)) - Successfully ran Files.createDirectories /workdir/ratis-test/target/test/data/312143de/MiniRaftClusterWithSimulatedRpc129b1caf/s1/77b2d1b8-05b9-460f-9be1-27f859ef6650/current
2019-09-24 17:08:40,993 TRACE util.FileUtils (LogUtils.java:runAndLog(61)) - Successfully ran Files.createDirectories /workdir/ratis-test/target/test/data/312143de/MiniRaftClusterWithSimulatedRpc129b1caf/s1/77b2d1b8-05b9-460f-9be1-27f859ef6650/sm
2019-09-24 17:08:41,017 INFO  storage.RaftStorage (RaftStorage.java:format(84)) - Storage directory /workdir/ratis-test/target/test/data/312143de/MiniRaftClusterWithSimulatedRpc129b1caf/s1/77b2d1b8-05b9-460f-9be1-27f859ef6650 has been successfully formatted.
2019-09-24 17:08:41,018 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.notification.no-leader.timeout = 60s (default)
2019-09-24 17:08:41,018 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.log.use.memory = false (default)
2019-09-24 17:08:41,018 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.log.purge.gap = 1024 (default)
2019-09-24 17:08:41,018 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.log.appender.buffer.byte-limit = 4MB (=4194304) (default)
2019-09-24 17:08:41,018 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.log.segment.size.max = 8MB (=8388608) (default)
2019-09-24 17:08:41,018 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.log.segment.cache.num.max = 6 (default)
2019-09-24 17:08:41,018 INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:<init>(172)) - new s1@group-27F859EF6650-SegmentedRaftLogWorker for RaftStorage:Storage Directory /workdir/ratis-test/target/test/data/312143de/MiniRaftClusterWithSimulatedRpc129b1caf/s1/77b2d1b8-05b9-460f-9be1-27f859ef6650
2019-09-24 17:08:41,019 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.log.queue.byte-limit = 64MB (=67108864) (default)
2019-09-24 17:08:41,019 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.log.queue.element-limit = 4096 (default)
2019-09-24 17:08:41,019 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.log.segment.size.max = 8MB (=8388608) (default)
2019-09-24 17:08:41,019 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.log.preallocated.size = 4MB (=4194304) (default)
2019-09-24 17:08:41,019 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.log.write.buffer.size = 64KB (=65536) (default)
2019-09-24 17:08:41,019 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.log.force.sync.num = 128 (default)
2019-09-24 17:08:41,019 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.log.statemachine.data.sync = true (default)
2019-09-24 17:08:41,019 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.log.statemachine.data.sync.timeout = 10s (default)
2019-09-24 17:08:41,019 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.log.statemachine.data.sync.timeout.retry = -1 (default)
2019-09-24 17:08:41,020 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.log.statemachine.data.caching.enabled = false (default)
2019-09-24 17:08:41,020 INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:lambda$new$0(132)) - s1@group-27F859EF6650-SegmentedRaftLogWorker: flushIndex: setUnconditionally 0 -> -1
2019-09-24 17:08:41,020 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.snapshot.auto.trigger.enabled = false (default)
2019-09-24 17:08:41,020 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.snapshot.retention.file.num = -1 (default)
2019-09-24 17:08:41,020 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.retrycache.expirytime = 60s (default)
2019-09-24 17:08:41,023 DEBUG impl.RaftServerProxy (RaftServerProxy.java:lambda$groupAddAsync$10(380)) - s1: newImpl =      null s1@group-27F859EF6650:t0, leader=null, voted=null, raftlog=s1@group-27F859EF6650-SegmentedRaftLog:OPENED:c-1,f-1,i0, conf=-1: [s3:null, s4:null, s0:null, s1:null, s2:null], old=null NEW
2019-09-24 17:08:41,023 INFO  impl.RaftServerImpl (RaftServerImpl.java:start(181)) - s1@group-27F859EF6650: start as a follower, conf=-1: [s3:null, s4:null, s0:null, s1:null, s2:null], old=null
2019-09-24 17:08:41,023 INFO  impl.RaftServerImpl (RaftServerImpl.java:setRole(170)) - s1@group-27F859EF6650: changes role from      null to FOLLOWER at term 0 for startAsFollower
2019-09-24 17:08:41,023 INFO  impl.RoleInfo (RoleInfo.java:updateAndGet(143)) - s1: start FollowerState
2019-09-24 17:08:41,023 INFO  util.JmxRegister (JmxRegister.java:tryRegister(44)) - Successfully registered JMX Bean with object name Ratis:service=RaftServer,group=group-27F859EF6650,id=s1
2019-09-24 17:08:41,026 DEBUG client.RaftClient (RaftClientImpl.java:sendRequest(285)) - client-CA8EE37189BA: receive RaftClientReply:client-CA8EE37189BA->s1@group-27F859EF6650, cid=15, SUCCESS, logIndex=0, commits[s1:c-1]
2019-09-24 17:08:41,026 DEBUG client.RaftClient (ConfUtils.java:logGet(43)) - raft.rpc.type = org.apache.ratis.server.simulation.SimulatedRpc (custom)
2019-09-24 17:08:41,027 DEBUG client.RaftClient (RaftClientImpl.java:sendRequest(275)) - client-22FD9521E058: send GroupManagementRequest:client-22FD9521E058->s2@group-27F859EF6650, cid=16, seq=0, RW, null, Add:group-27F859EF6650:[s3:null, s4:null, s0:null, s1:null, s2:null]
2019-09-24 17:08:41,028 INFO  impl.RaftServerProxy (RaftServerProxy.java:addNew(89)) - s2: addNew group-27F859EF6650:[s3:null, s4:null, s0:null, s1:null, s2:null] returns group-27F859EF6650:java.util.concurrent.CompletableFuture@75055ec2[Not completed]
2019-09-24 17:08:41,028 INFO  impl.RaftServerImpl (RaftServerImpl.java:<init>(95)) - s2: new RaftServerImpl for group-27F859EF6650:[s3:null, s4:null, s0:null, s1:null, s2:null] with BaseStateMachine:uninitialized
2019-09-24 17:08:41,028 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.rpc.timeout.min = 150ms (default)
2019-09-24 17:08:41,029 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.rpc.timeout.max = 300ms (default)
2019-09-24 17:08:41,029 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.rpcslowness.timeout = 60s (default)
2019-09-24 17:08:41,029 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.sleep.deviation.threshold = 300 (default)
2019-09-24 17:08:41,029 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.log.appender.install.snapshot.enabled = true (default)
2019-09-24 17:08:41,029 INFO  impl.RaftServerImpl (ServerState.java:<init>(103)) - s2@group-27F859EF6650: ConfigurationManager, init=-1: [s3:null, s4:null, s0:null, s1:null, s2:null], old=null, confs=<EMPTY_MAP>
2019-09-24 17:08:41,030 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.storage.dir = [/workdir/ratis-test/target/test/data/312143de/MiniRaftClusterWithSimulatedRpc129b1caf/s2] (custom)
2019-09-24 17:08:41,030 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.log.corruption.policy = EXCEPTION (default)
2019-09-24 17:08:41,030 INFO  storage.RaftStorageDirectory (RaftStorageDirectory.java:analyzeStorage(246)) - The storage directory /workdir/ratis-test/target/test/data/312143de/MiniRaftClusterWithSimulatedRpc129b1caf/s2/77b2d1b8-05b9-460f-9be1-27f859ef6650 does not exist. Creating ...
2019-09-24 17:08:41,031 TRACE util.FileUtils (LogUtils.java:runAndLog(61)) - Successfully ran Files.createDirectories /workdir/ratis-test/target/test/data/312143de/MiniRaftClusterWithSimulatedRpc129b1caf/s2/77b2d1b8-05b9-460f-9be1-27f859ef6650
2019-09-24 17:08:41,191 INFO  impl.FollowerState (FollowerState.java:run(108)) - s0@group-27F859EF6650-FollowerState: change to CANDIDATE, lastRpcTime:223ms, electionTimeout:223ms
2019-09-24 17:08:41,191 INFO  impl.RoleInfo (RoleInfo.java:shutdownFollowerState(121)) - s0: shutdown FollowerState
2019-09-24 17:08:41,191 INFO  impl.RaftServerImpl (RaftServerImpl.java:setRole(170)) - s0@group-27F859EF6650: changes role from  FOLLOWER to CANDIDATE at term 0 for changeToCandidate
2019-09-24 17:08:41,191 INFO  impl.RoleInfo (RoleInfo.java:updateAndGet(143)) - s0: start LeaderElection
2019-09-24 17:08:41,232 INFO  impl.FollowerState (FollowerState.java:run(108)) - s1@group-27F859EF6650-FollowerState: change to CANDIDATE, lastRpcTime:208ms, electionTimeout:208ms
2019-09-24 17:08:41,232 INFO  impl.RoleInfo (RoleInfo.java:shutdownFollowerState(121)) - s1: shutdown FollowerState
2019-09-24 17:08:41,232 INFO  impl.RaftServerImpl (RaftServerImpl.java:setRole(170)) - s1@group-27F859EF6650: changes role from  FOLLOWER to CANDIDATE at term 0 for changeToCandidate
2019-09-24 17:08:41,232 INFO  impl.RoleInfo (RoleInfo.java:updateAndGet(143)) - s1: start LeaderElection
2019-09-24 17:08:44,027 DEBUG client.RaftClient (RaftClientImpl.java:handleIOException(343)) - client-22FD9521E058: suggested new leader: null. Failed GroupManagementRequest:client-22FD9521E058->s2@group-27F859EF6650, cid=16, seq=0, RW, null, Add:group-27F859EF6650:[s3:null, s4:null, s0:null, s1:null, s2:null] with java.io.IOException: Timeout while waiting for reply of request GroupManagementRequest:client-22FD9521E058->s2@group-27F859EF6650, cid=16, seq=0, RW, null, Add:group-27F859EF6650:[s3:null, s4:null, s0:null, s1:null, s2:null]
2019-09-24 17:08:44,028 DEBUG client.RaftClient (RaftClientImpl.java:handleIOException(362)) - client-22FD9521E058: oldLeader=s2,  curLeader=s2, newLeader=null
