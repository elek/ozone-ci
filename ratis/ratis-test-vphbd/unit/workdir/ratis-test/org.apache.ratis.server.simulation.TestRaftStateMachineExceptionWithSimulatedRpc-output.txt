2019-09-24 16:57:06,922 INFO  util.LogUtils (LogUtils.java:setLogLevel(41)) - Set org.apache.ratis.conf.ConfUtils log level to WARN
2019-09-24 16:57:06,925 INFO  util.LogUtils (LogUtils.java:setLogLevel(41)) - Set org.apache.ratis.util.FileUtils log level to TRACE
2019-09-24 16:57:06,938 INFO  util.LogUtils (LogUtils.java:setLogLevel(41)) - Set org.apache.ratis.server.impl.RaftServerImpl log level to DEBUG
2019-09-24 16:57:06,940 INFO  util.LogUtils (LogUtils.java:setLogLevel(41)) - Set org.apache.ratis.server.raftlog.RaftLog log level to DEBUG
2019-09-24 16:57:06,941 INFO  util.LogUtils (LogUtils.java:setLogLevel(41)) - Set org.apache.ratis.client.RaftClient log level to DEBUG
2019-09-24 16:57:06,952 INFO  ratis.MiniRaftCluster (MiniRaftCluster.java:runWithNewCluster(119)) - Running runWithNewCluster
2019-09-24 16:57:06,978 INFO  simulation.MiniRaftClusterWithSimulatedRpc (ConfUtils.java:logGet(43)) - org.apache.ratis.server.simulation.SimulatedRequestReply.simulateLatencyMs = 0 (custom)
2019-09-24 16:57:07,047 INFO  ratis.MiniRaftCluster (MiniRaftCluster.java:<init>(253)) - new MiniRaftClusterWithSimulatedRpc with group-6A5077D58E94:[s0:0.0.0.0:41188, s1:0.0.0.0:43934, s2:0.0.0.0:44779]
2019-09-24 16:57:07,048 INFO  ratis.MiniRaftCluster (MiniRaftCluster.java:start(287)) - .............................................................. 
2019-09-24 16:57:07,048 INFO  ratis.MiniRaftCluster (MiniRaftCluster.java:start(288)) - ... 
2019-09-24 16:57:07,048 INFO  ratis.MiniRaftCluster (MiniRaftCluster.java:start(289)) - ...     Starting MiniRaftClusterWithSimulatedRpc
2019-09-24 16:57:07,049 INFO  ratis.MiniRaftCluster (MiniRaftCluster.java:start(290)) - ... 
2019-09-24 16:57:07,049 INFO  ratis.MiniRaftCluster (MiniRaftCluster.java:start(291)) - .............................................................. 
2019-09-24 16:57:07,049 INFO  ratis.MiniRaftCluster (MiniRaftCluster.java:initServers(265)) - servers = {}
2019-09-24 16:57:07,060 INFO  ratis.MiniRaftCluster (MiniRaftCluster.java:newRaftServer(330)) - newRaftServer: s0, group-6A5077D58E94:[s0:0.0.0.0:41188, s1:0.0.0.0:43934, s2:0.0.0.0:44779], format? true
2019-09-24 16:57:07,061 TRACE util.FileUtils (FileUtils.java:deleteFully(88)) - deleteFully target/test/data/40df402d/MiniRaftClusterWithSimulatedRpce84b95d/s0
2019-09-24 16:57:07,070 TRACE util.FileUtils (FileUtils.java:deleteFully(104)) - deleteFully: target/test/data/40df402d/MiniRaftClusterWithSimulatedRpce84b95d/s0 does not exist.
2019-09-24 16:57:07,070 INFO  ratis.MiniRaftCluster (MiniRaftCluster.java:newRaftServer(335)) - Formatted directory target/test/data/40df402d/MiniRaftClusterWithSimulatedRpce84b95d/s0
2019-09-24 16:57:07,084 INFO  impl.RaftServerProxy (ConfUtils.java:logGet(43)) - raft.rpc.type = org.apache.ratis.server.simulation.SimulatedRpc (custom)
2019-09-24 16:57:07,107 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.storage.dir = [/workdir/ratis-test/target/test/data/40df402d/MiniRaftClusterWithSimulatedRpce84b95d/s0] (custom)
2019-09-24 16:57:07,117 INFO  impl.RaftServerProxy (RaftServerProxy.java:addNew(89)) - s0: addNew group-6A5077D58E94:[s0:0.0.0.0:41188, s1:0.0.0.0:43934, s2:0.0.0.0:44779] returns group-6A5077D58E94:java.util.concurrent.CompletableFuture@58589e73[Not completed]
2019-09-24 16:57:07,117 INFO  ratis.MiniRaftCluster (MiniRaftCluster.java:newRaftServer(330)) - newRaftServer: s1, group-6A5077D58E94:[s0:0.0.0.0:41188, s1:0.0.0.0:43934, s2:0.0.0.0:44779], format? true
2019-09-24 16:57:07,117 TRACE util.FileUtils (FileUtils.java:deleteFully(88)) - deleteFully target/test/data/40df402d/MiniRaftClusterWithSimulatedRpce84b95d/s1
2019-09-24 16:57:07,117 TRACE util.FileUtils (FileUtils.java:deleteFully(104)) - deleteFully: target/test/data/40df402d/MiniRaftClusterWithSimulatedRpce84b95d/s1 does not exist.
2019-09-24 16:57:07,118 INFO  ratis.MiniRaftCluster (MiniRaftCluster.java:newRaftServer(335)) - Formatted directory target/test/data/40df402d/MiniRaftClusterWithSimulatedRpce84b95d/s1
2019-09-24 16:57:07,118 INFO  impl.RaftServerProxy (ConfUtils.java:logGet(43)) - raft.rpc.type = org.apache.ratis.server.simulation.SimulatedRpc (custom)
2019-09-24 16:57:07,119 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.storage.dir = [/workdir/ratis-test/target/test/data/40df402d/MiniRaftClusterWithSimulatedRpce84b95d/s1] (custom)
2019-09-24 16:57:07,119 INFO  impl.RaftServerProxy (RaftServerProxy.java:addNew(89)) - s1: addNew group-6A5077D58E94:[s0:0.0.0.0:41188, s1:0.0.0.0:43934, s2:0.0.0.0:44779] returns group-6A5077D58E94:java.util.concurrent.CompletableFuture@73971c2f[Not completed]
2019-09-24 16:57:07,119 INFO  ratis.MiniRaftCluster (MiniRaftCluster.java:newRaftServer(330)) - newRaftServer: s2, group-6A5077D58E94:[s0:0.0.0.0:41188, s1:0.0.0.0:43934, s2:0.0.0.0:44779], format? true
2019-09-24 16:57:07,120 TRACE util.FileUtils (FileUtils.java:deleteFully(88)) - deleteFully target/test/data/40df402d/MiniRaftClusterWithSimulatedRpce84b95d/s2
2019-09-24 16:57:07,120 TRACE util.FileUtils (FileUtils.java:deleteFully(104)) - deleteFully: target/test/data/40df402d/MiniRaftClusterWithSimulatedRpce84b95d/s2 does not exist.
2019-09-24 16:57:07,120 INFO  ratis.MiniRaftCluster (MiniRaftCluster.java:newRaftServer(335)) - Formatted directory target/test/data/40df402d/MiniRaftClusterWithSimulatedRpce84b95d/s2
2019-09-24 16:57:07,120 INFO  impl.RaftServerProxy (ConfUtils.java:logGet(43)) - raft.rpc.type = org.apache.ratis.server.simulation.SimulatedRpc (custom)
2019-09-24 16:57:07,121 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.storage.dir = [/workdir/ratis-test/target/test/data/40df402d/MiniRaftClusterWithSimulatedRpce84b95d/s2] (custom)
2019-09-24 16:57:07,122 INFO  impl.RaftServerProxy (RaftServerProxy.java:addNew(89)) - s2: addNew group-6A5077D58E94:[s0:0.0.0.0:41188, s1:0.0.0.0:43934, s2:0.0.0.0:44779] returns group-6A5077D58E94:java.util.concurrent.CompletableFuture@57b63200[Not completed]
2019-09-24 16:57:07,125 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.log.segment.size.max = 8MB (=8388608) (default)
2019-09-24 16:57:07,125 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.log.segment.size.max = 8MB (=8388608) (default)
2019-09-24 16:57:07,125 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.log.segment.size.max = 8MB (=8388608) (default)
2019-09-24 16:57:07,129 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.log.preallocated.size = 4MB (=4194304) (default)
2019-09-24 16:57:07,129 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.log.preallocated.size = 4MB (=4194304) (default)
2019-09-24 16:57:07,129 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.log.preallocated.size = 4MB (=4194304) (default)
2019-09-24 16:57:07,130 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.log.write.buffer.size = 64KB (=65536) (default)
2019-09-24 16:57:07,130 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.log.write.buffer.size = 64KB (=65536) (default)
2019-09-24 16:57:07,130 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.log.write.buffer.size = 64KB (=65536) (default)
2019-09-24 16:57:07,136 INFO  impl.RaftServerImpl (RaftServerImpl.java:<init>(95)) - s2: new RaftServerImpl for group-6A5077D58E94:[s0:0.0.0.0:41188, s1:0.0.0.0:43934, s2:0.0.0.0:44779] with StateMachineWithException:uninitialized
2019-09-24 16:57:07,136 INFO  impl.RaftServerImpl (RaftServerImpl.java:<init>(95)) - s1: new RaftServerImpl for group-6A5077D58E94:[s0:0.0.0.0:41188, s1:0.0.0.0:43934, s2:0.0.0.0:44779] with StateMachineWithException:uninitialized
2019-09-24 16:57:07,136 INFO  impl.RaftServerImpl (RaftServerImpl.java:<init>(95)) - s0: new RaftServerImpl for group-6A5077D58E94:[s0:0.0.0.0:41188, s1:0.0.0.0:43934, s2:0.0.0.0:44779] with StateMachineWithException:uninitialized
2019-09-24 16:57:07,144 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.rpc.timeout.min = 150ms (default)
2019-09-24 16:57:07,144 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.rpc.timeout.min = 150ms (default)
2019-09-24 16:57:07,144 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.rpc.timeout.min = 150ms (default)
2019-09-24 16:57:07,145 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.rpc.timeout.max = 300ms (default)
2019-09-24 16:57:07,145 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.rpc.timeout.max = 300ms (default)
2019-09-24 16:57:07,146 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.rpcslowness.timeout = 60s (default)
2019-09-24 16:57:07,146 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.rpc.timeout.max = 300ms (default)
2019-09-24 16:57:07,146 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.rpcslowness.timeout = 60s (default)
2019-09-24 16:57:07,146 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.rpcslowness.timeout = 60s (default)
2019-09-24 16:57:07,147 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.sleep.deviation.threshold = 300 (default)
2019-09-24 16:57:07,147 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.sleep.deviation.threshold = 300 (default)
2019-09-24 16:57:07,147 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.sleep.deviation.threshold = 300 (default)
2019-09-24 16:57:07,149 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.log.appender.install.snapshot.enabled = true (default)
2019-09-24 16:57:07,149 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.log.appender.install.snapshot.enabled = true (default)
2019-09-24 16:57:07,149 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.log.appender.install.snapshot.enabled = true (default)
2019-09-24 16:57:07,156 INFO  impl.RaftServerImpl (ServerState.java:<init>(103)) - s2@group-6A5077D58E94: ConfigurationManager, init=-1: [s0:0.0.0.0:41188, s1:0.0.0.0:43934, s2:0.0.0.0:44779], old=null, confs=<EMPTY_MAP>
2019-09-24 16:57:07,156 INFO  impl.RaftServerImpl (ServerState.java:<init>(103)) - s0@group-6A5077D58E94: ConfigurationManager, init=-1: [s0:0.0.0.0:41188, s1:0.0.0.0:43934, s2:0.0.0.0:44779], old=null, confs=<EMPTY_MAP>
2019-09-24 16:57:07,156 INFO  impl.RaftServerImpl (ServerState.java:<init>(103)) - s1@group-6A5077D58E94: ConfigurationManager, init=-1: [s0:0.0.0.0:41188, s1:0.0.0.0:43934, s2:0.0.0.0:44779], old=null, confs=<EMPTY_MAP>
2019-09-24 16:57:07,156 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.storage.dir = [/workdir/ratis-test/target/test/data/40df402d/MiniRaftClusterWithSimulatedRpce84b95d/s2] (custom)
2019-09-24 16:57:07,157 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.storage.dir = [/workdir/ratis-test/target/test/data/40df402d/MiniRaftClusterWithSimulatedRpce84b95d/s0] (custom)
2019-09-24 16:57:07,157 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.storage.dir = [/workdir/ratis-test/target/test/data/40df402d/MiniRaftClusterWithSimulatedRpce84b95d/s1] (custom)
2019-09-24 16:57:07,169 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.log.corruption.policy = EXCEPTION (default)
2019-09-24 16:57:07,169 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.log.corruption.policy = EXCEPTION (default)
2019-09-24 16:57:07,169 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.log.corruption.policy = EXCEPTION (default)
2019-09-24 16:57:07,171 INFO  storage.RaftStorageDirectory (RaftStorageDirectory.java:analyzeStorage(246)) - The storage directory /workdir/ratis-test/target/test/data/40df402d/MiniRaftClusterWithSimulatedRpce84b95d/s0/5e5ca52a-3ac9-4995-bef8-6a5077d58e94 does not exist. Creating ...
2019-09-24 16:57:07,171 INFO  storage.RaftStorageDirectory (RaftStorageDirectory.java:analyzeStorage(246)) - The storage directory /workdir/ratis-test/target/test/data/40df402d/MiniRaftClusterWithSimulatedRpce84b95d/s1/5e5ca52a-3ac9-4995-bef8-6a5077d58e94 does not exist. Creating ...
2019-09-24 16:57:07,171 INFO  storage.RaftStorageDirectory (RaftStorageDirectory.java:analyzeStorage(246)) - The storage directory /workdir/ratis-test/target/test/data/40df402d/MiniRaftClusterWithSimulatedRpce84b95d/s2/5e5ca52a-3ac9-4995-bef8-6a5077d58e94 does not exist. Creating ...
2019-09-24 16:57:07,174 TRACE util.FileUtils (LogUtils.java:runAndLog(61)) - Successfully ran Files.createDirectories /workdir/ratis-test/target/test/data/40df402d/MiniRaftClusterWithSimulatedRpce84b95d/s0/5e5ca52a-3ac9-4995-bef8-6a5077d58e94
2019-09-24 16:57:07,175 TRACE util.FileUtils (LogUtils.java:runAndLog(61)) - Successfully ran Files.createDirectories /workdir/ratis-test/target/test/data/40df402d/MiniRaftClusterWithSimulatedRpce84b95d/s2/5e5ca52a-3ac9-4995-bef8-6a5077d58e94
2019-09-24 16:57:07,175 TRACE util.FileUtils (LogUtils.java:runAndLog(61)) - Successfully ran Files.createDirectories /workdir/ratis-test/target/test/data/40df402d/MiniRaftClusterWithSimulatedRpce84b95d/s1/5e5ca52a-3ac9-4995-bef8-6a5077d58e94
2019-09-24 16:57:07,215 INFO  storage.RaftStorageDirectory (RaftStorageDirectory.java:tryLock(328)) - Lock on /workdir/ratis-test/target/test/data/40df402d/MiniRaftClusterWithSimulatedRpce84b95d/s0/5e5ca52a-3ac9-4995-bef8-6a5077d58e94/in_use.lock acquired by nodename 31533@ratis-test-vphbd-3564017154
2019-09-24 16:57:07,215 INFO  storage.RaftStorageDirectory (RaftStorageDirectory.java:tryLock(328)) - Lock on /workdir/ratis-test/target/test/data/40df402d/MiniRaftClusterWithSimulatedRpce84b95d/s1/5e5ca52a-3ac9-4995-bef8-6a5077d58e94/in_use.lock acquired by nodename 31533@ratis-test-vphbd-3564017154
2019-09-24 16:57:07,215 INFO  storage.RaftStorageDirectory (RaftStorageDirectory.java:tryLock(328)) - Lock on /workdir/ratis-test/target/test/data/40df402d/MiniRaftClusterWithSimulatedRpce84b95d/s2/5e5ca52a-3ac9-4995-bef8-6a5077d58e94/in_use.lock acquired by nodename 31533@ratis-test-vphbd-3564017154
2019-09-24 16:57:07,216 TRACE util.FileUtils (LogUtils.java:runAndLog(61)) - Successfully ran Files.createDirectories /workdir/ratis-test/target/test/data/40df402d/MiniRaftClusterWithSimulatedRpce84b95d/s0/5e5ca52a-3ac9-4995-bef8-6a5077d58e94/current
2019-09-24 16:57:07,216 TRACE util.FileUtils (LogUtils.java:runAndLog(61)) - Successfully ran Files.createDirectories /workdir/ratis-test/target/test/data/40df402d/MiniRaftClusterWithSimulatedRpce84b95d/s1/5e5ca52a-3ac9-4995-bef8-6a5077d58e94/current
2019-09-24 16:57:07,217 TRACE util.FileUtils (LogUtils.java:runAndLog(61)) - Successfully ran Files.createDirectories /workdir/ratis-test/target/test/data/40df402d/MiniRaftClusterWithSimulatedRpce84b95d/s0/5e5ca52a-3ac9-4995-bef8-6a5077d58e94/sm
2019-09-24 16:57:07,217 TRACE util.FileUtils (LogUtils.java:runAndLog(61)) - Successfully ran Files.createDirectories /workdir/ratis-test/target/test/data/40df402d/MiniRaftClusterWithSimulatedRpce84b95d/s2/5e5ca52a-3ac9-4995-bef8-6a5077d58e94/current
2019-09-24 16:57:07,217 TRACE util.FileUtils (LogUtils.java:runAndLog(61)) - Successfully ran Files.createDirectories /workdir/ratis-test/target/test/data/40df402d/MiniRaftClusterWithSimulatedRpce84b95d/s1/5e5ca52a-3ac9-4995-bef8-6a5077d58e94/sm
2019-09-24 16:57:07,218 TRACE util.FileUtils (LogUtils.java:runAndLog(61)) - Successfully ran Files.createDirectories /workdir/ratis-test/target/test/data/40df402d/MiniRaftClusterWithSimulatedRpce84b95d/s2/5e5ca52a-3ac9-4995-bef8-6a5077d58e94/sm
2019-09-24 16:57:07,240 INFO  storage.RaftStorage (RaftStorage.java:format(84)) - Storage directory /workdir/ratis-test/target/test/data/40df402d/MiniRaftClusterWithSimulatedRpce84b95d/s0/5e5ca52a-3ac9-4995-bef8-6a5077d58e94 has been successfully formatted.
2019-09-24 16:57:07,240 INFO  storage.RaftStorage (RaftStorage.java:format(84)) - Storage directory /workdir/ratis-test/target/test/data/40df402d/MiniRaftClusterWithSimulatedRpce84b95d/s1/5e5ca52a-3ac9-4995-bef8-6a5077d58e94 has been successfully formatted.
2019-09-24 16:57:07,240 INFO  storage.RaftStorage (RaftStorage.java:format(84)) - Storage directory /workdir/ratis-test/target/test/data/40df402d/MiniRaftClusterWithSimulatedRpce84b95d/s2/5e5ca52a-3ac9-4995-bef8-6a5077d58e94 has been successfully formatted.
2019-09-24 16:57:07,241 INFO  statemachine.SimpleStateMachine4Testing (SimpleStateMachine4Testing.java:initialize(206)) - Initializing StateMachineWithException:uninitialized
2019-09-24 16:57:07,241 INFO  statemachine.SimpleStateMachine4Testing (SimpleStateMachine4Testing.java:initialize(206)) - Initializing StateMachineWithException:uninitialized
2019-09-24 16:57:07,241 INFO  statemachine.SimpleStateMachine4Testing (SimpleStateMachine4Testing.java:initialize(206)) - Initializing StateMachineWithException:uninitialized
2019-09-24 16:57:07,245 INFO  statemachine.SimpleStateMachine4Testing (SimpleStateMachine4Testing.java:loadSnapshot(296)) - The snapshot file null does not exist
2019-09-24 16:57:07,246 INFO  statemachine.SimpleStateMachine4Testing (SimpleStateMachine4Testing.java:loadSnapshot(296)) - The snapshot file null does not exist
2019-09-24 16:57:07,246 INFO  statemachine.SimpleStateMachine4Testing (SimpleStateMachine4Testing.java:loadSnapshot(296)) - The snapshot file null does not exist
2019-09-24 16:57:07,246 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.notification.no-leader.timeout = 60s (default)
2019-09-24 16:57:07,246 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.notification.no-leader.timeout = 60s (default)
2019-09-24 16:57:07,246 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.notification.no-leader.timeout = 60s (default)
2019-09-24 16:57:07,249 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.log.use.memory = false (default)
2019-09-24 16:57:07,249 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.log.use.memory = false (default)
2019-09-24 16:57:07,250 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.log.use.memory = false (default)
2019-09-24 16:57:07,254 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.log.purge.gap = 1024 (default)
2019-09-24 16:57:07,255 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.log.purge.gap = 1024 (default)
2019-09-24 16:57:07,255 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.log.purge.gap = 1024 (default)
2019-09-24 16:57:07,255 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.log.appender.buffer.byte-limit = 4MB (=4194304) (default)
2019-09-24 16:57:07,255 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.log.appender.buffer.byte-limit = 4MB (=4194304) (default)
2019-09-24 16:57:07,256 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.log.appender.buffer.byte-limit = 4MB (=4194304) (default)
2019-09-24 16:57:07,257 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.log.segment.size.max = 8MB (=8388608) (default)
2019-09-24 16:57:07,257 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.log.segment.size.max = 8MB (=8388608) (default)
2019-09-24 16:57:07,257 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.log.segment.size.max = 8MB (=8388608) (default)
2019-09-24 16:57:07,262 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.log.segment.cache.num.max = 6 (default)
2019-09-24 16:57:07,262 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.log.segment.cache.num.max = 6 (default)
2019-09-24 16:57:07,262 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.log.segment.cache.num.max = 6 (default)
2019-09-24 16:57:07,267 INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:<init>(172)) - new s0@group-6A5077D58E94-SegmentedRaftLogWorker for RaftStorage:Storage Directory /workdir/ratis-test/target/test/data/40df402d/MiniRaftClusterWithSimulatedRpce84b95d/s0/5e5ca52a-3ac9-4995-bef8-6a5077d58e94
2019-09-24 16:57:07,267 INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:<init>(172)) - new s2@group-6A5077D58E94-SegmentedRaftLogWorker for RaftStorage:Storage Directory /workdir/ratis-test/target/test/data/40df402d/MiniRaftClusterWithSimulatedRpce84b95d/s2/5e5ca52a-3ac9-4995-bef8-6a5077d58e94
2019-09-24 16:57:07,267 INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:<init>(172)) - new s1@group-6A5077D58E94-SegmentedRaftLogWorker for RaftStorage:Storage Directory /workdir/ratis-test/target/test/data/40df402d/MiniRaftClusterWithSimulatedRpce84b95d/s1/5e5ca52a-3ac9-4995-bef8-6a5077d58e94
2019-09-24 16:57:07,347 WARN  impl.MetricsConfig (MetricsConfig.java:loadFirst(124)) - Cannot locate configuration: tried hadoop-metrics2-ratis.properties,hadoop-metrics2.properties
2019-09-24 16:57:07,449 INFO  impl.MetricsSystemImpl (MetricsSystemImpl.java:startTimer(376)) - Scheduled snapshot period at 10 second(s).
2019-09-24 16:57:07,450 INFO  impl.MetricsSystemImpl (MetricsSystemImpl.java:start(191)) - ratis metrics system started
2019-09-24 16:57:07,456 INFO  metrics.MetricRegistries (MetricRegistriesLoader.java:load(64)) - Loaded MetricRegistries class org.apache.ratis.metrics.impl.MetricRegistriesImpl
2019-09-24 16:57:07,495 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.log.queue.byte-limit = 64MB (=67108864) (default)
2019-09-24 16:57:07,496 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.log.queue.element-limit = 4096 (default)
2019-09-24 16:57:07,497 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.log.queue.byte-limit = 64MB (=67108864) (default)
2019-09-24 16:57:07,497 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.log.queue.byte-limit = 64MB (=67108864) (default)
2019-09-24 16:57:07,497 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.log.queue.element-limit = 4096 (default)
2019-09-24 16:57:07,497 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.log.queue.element-limit = 4096 (default)
2019-09-24 16:57:07,499 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.log.segment.size.max = 8MB (=8388608) (default)
2019-09-24 16:57:07,499 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.log.segment.size.max = 8MB (=8388608) (default)
2019-09-24 16:57:07,499 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.log.segment.size.max = 8MB (=8388608) (default)
2019-09-24 16:57:07,500 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.log.preallocated.size = 4MB (=4194304) (default)
2019-09-24 16:57:07,499 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.log.preallocated.size = 4MB (=4194304) (default)
2019-09-24 16:57:07,500 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.log.write.buffer.size = 64KB (=65536) (default)
2019-09-24 16:57:07,500 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.log.preallocated.size = 4MB (=4194304) (default)
2019-09-24 16:57:07,500 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.log.write.buffer.size = 64KB (=65536) (default)
2019-09-24 16:57:07,501 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.log.write.buffer.size = 64KB (=65536) (default)
2019-09-24 16:57:07,501 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.log.force.sync.num = 128 (default)
2019-09-24 16:57:07,501 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.log.force.sync.num = 128 (default)
2019-09-24 16:57:07,501 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.log.force.sync.num = 128 (default)
2019-09-24 16:57:07,503 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.log.statemachine.data.sync = true (default)
2019-09-24 16:57:07,503 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.log.statemachine.data.sync = true (default)
2019-09-24 16:57:07,503 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.log.statemachine.data.sync = true (default)
2019-09-24 16:57:07,504 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.log.statemachine.data.sync.timeout = 10s (default)
2019-09-24 16:57:07,504 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.log.statemachine.data.sync.timeout = 10s (default)
2019-09-24 16:57:07,504 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.log.statemachine.data.sync.timeout = 10s (default)
2019-09-24 16:57:07,505 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.log.statemachine.data.sync.timeout.retry = -1 (default)
2019-09-24 16:57:07,505 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.log.statemachine.data.sync.timeout.retry = -1 (default)
2019-09-24 16:57:07,505 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.log.statemachine.data.sync.timeout.retry = -1 (default)
2019-09-24 16:57:07,520 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.log.statemachine.data.caching.enabled = false (default)
2019-09-24 16:57:07,520 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.log.statemachine.data.caching.enabled = false (default)
2019-09-24 16:57:07,520 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.log.statemachine.data.caching.enabled = false (default)
2019-09-24 16:57:07,526 INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:lambda$new$0(132)) - s0@group-6A5077D58E94-SegmentedRaftLogWorker: flushIndex: setUnconditionally 0 -> -1
2019-09-24 16:57:07,526 INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:lambda$new$0(132)) - s1@group-6A5077D58E94-SegmentedRaftLogWorker: flushIndex: setUnconditionally 0 -> -1
2019-09-24 16:57:07,526 INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:lambda$new$0(132)) - s2@group-6A5077D58E94-SegmentedRaftLogWorker: flushIndex: setUnconditionally 0 -> -1
2019-09-24 16:57:07,531 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.snapshot.auto.trigger.enabled = false (default)
2019-09-24 16:57:07,531 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.snapshot.auto.trigger.enabled = false (default)
2019-09-24 16:57:07,531 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.snapshot.auto.trigger.enabled = false (default)
2019-09-24 16:57:07,531 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.snapshot.retention.file.num = -1 (default)
2019-09-24 16:57:07,532 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.snapshot.retention.file.num = -1 (default)
2019-09-24 16:57:07,532 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.snapshot.retention.file.num = -1 (default)
2019-09-24 16:57:07,533 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.retrycache.expirytime = 60s (default)
2019-09-24 16:57:07,533 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.retrycache.expirytime = 60s (default)
2019-09-24 16:57:07,533 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.retrycache.expirytime = 60s (default)
2019-09-24 16:57:07,570 INFO  impl.RaftServerImpl (RaftServerImpl.java:start(181)) - s0@group-6A5077D58E94: start as a follower, conf=-1: [s0:0.0.0.0:41188, s1:0.0.0.0:43934, s2:0.0.0.0:44779], old=null
2019-09-24 16:57:07,573 INFO  impl.RaftServerImpl (RaftServerImpl.java:setRole(170)) - s0@group-6A5077D58E94: changes role from      null to FOLLOWER at term 0 for startAsFollower
2019-09-24 16:57:07,574 INFO  impl.RoleInfo (RoleInfo.java:updateAndGet(143)) - s0: start FollowerState
2019-09-24 16:57:07,577 INFO  util.JmxRegister (JmxRegister.java:tryRegister(44)) - Successfully registered JMX Bean with object name Ratis:service=RaftServer,group=group-6A5077D58E94,id=s0
2019-09-24 16:57:07,587 INFO  impl.RaftServerProxy (RaftServerProxy.java:lambda$start$3(299)) - s0: start RPC server
2019-09-24 16:57:07,589 INFO  impl.RaftServerImpl (RaftServerImpl.java:start(181)) - s1@group-6A5077D58E94: start as a follower, conf=-1: [s0:0.0.0.0:41188, s1:0.0.0.0:43934, s2:0.0.0.0:44779], old=null
2019-09-24 16:57:07,589 INFO  impl.RaftServerImpl (RaftServerImpl.java:setRole(170)) - s1@group-6A5077D58E94: changes role from      null to FOLLOWER at term 0 for startAsFollower
2019-09-24 16:57:07,590 INFO  impl.RoleInfo (RoleInfo.java:updateAndGet(143)) - s1: start FollowerState
2019-09-24 16:57:07,590 INFO  util.JmxRegister (JmxRegister.java:tryRegister(44)) - Successfully registered JMX Bean with object name Ratis:service=RaftServer,group=group-6A5077D58E94,id=s1
2019-09-24 16:57:07,598 INFO  impl.RaftServerProxy (RaftServerProxy.java:lambda$start$3(299)) - s1: start RPC server
2019-09-24 16:57:07,600 INFO  impl.RaftServerImpl (RaftServerImpl.java:start(181)) - s2@group-6A5077D58E94: start as a follower, conf=-1: [s0:0.0.0.0:41188, s1:0.0.0.0:43934, s2:0.0.0.0:44779], old=null
2019-09-24 16:57:07,600 INFO  impl.RaftServerImpl (RaftServerImpl.java:setRole(170)) - s2@group-6A5077D58E94: changes role from      null to FOLLOWER at term 0 for startAsFollower
2019-09-24 16:57:07,600 INFO  impl.RoleInfo (RoleInfo.java:updateAndGet(143)) - s2: start FollowerState
2019-09-24 16:57:07,601 INFO  util.JmxRegister (JmxRegister.java:tryRegister(44)) - Successfully registered JMX Bean with object name Ratis:service=RaftServer,group=group-6A5077D58E94,id=s2
2019-09-24 16:57:07,607 INFO  impl.RaftServerProxy (RaftServerProxy.java:lambda$start$3(299)) - s2: start RPC server
2019-09-24 16:57:07,609 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.rpc.timeout.max = 300ms (default)
2019-09-24 16:57:07,614 INFO  ratis.RaftTestUtil (RaftTestUtil.java:waitForLeader(86)) - printing ALL groups
  s0:  RUNNING  FOLLOWER s0@group-6A5077D58E94:t0, leader=null, voted=null, raftlog=s0@group-6A5077D58E94-SegmentedRaftLog:OPENED:c-1,f-1,i0, conf=-1: [s0:0.0.0.0:41188, s1:0.0.0.0:43934, s2:0.0.0.0:44779], old=null RUNNING
  s1:  RUNNING  FOLLOWER s1@group-6A5077D58E94:t0, leader=null, voted=null, raftlog=s1@group-6A5077D58E94-SegmentedRaftLog:OPENED:c-1,f-1,i0, conf=-1: [s0:0.0.0.0:41188, s1:0.0.0.0:43934, s2:0.0.0.0:44779], old=null RUNNING
  s2:  RUNNING  FOLLOWER s2@group-6A5077D58E94:t0, leader=null, voted=null, raftlog=s2@group-6A5077D58E94-SegmentedRaftLog:OPENED:c-1,f-1,i0, conf=-1: [s0:0.0.0.0:41188, s1:0.0.0.0:43934, s2:0.0.0.0:44779], old=null RUNNING
2019-09-24 16:57:07,620 WARN  ratis.RaftTestUtil (JavaUtils.java:attempt(158)) - FAILED "waitForLeader-null-(expectLeader? true)", attempt #1/100: java.lang.IllegalStateException: No leader yet : printing ALL groups
  s0:  RUNNING  FOLLOWER s0@group-6A5077D58E94:t0, leader=null, voted=null, raftlog=s0@group-6A5077D58E94-SegmentedRaftLog:OPENED:c-1,f-1,i0, conf=-1: [s0:0.0.0.0:41188, s1:0.0.0.0:43934, s2:0.0.0.0:44779], old=null RUNNING
  s1:  RUNNING  FOLLOWER s1@group-6A5077D58E94:t0, leader=null, voted=null, raftlog=s1@group-6A5077D58E94-SegmentedRaftLog:OPENED:c-1,f-1,i0, conf=-1: [s0:0.0.0.0:41188, s1:0.0.0.0:43934, s2:0.0.0.0:44779], old=null RUNNING
  s2:  RUNNING  FOLLOWER s2@group-6A5077D58E94:t0, leader=null, voted=null, raftlog=s2@group-6A5077D58E94-SegmentedRaftLog:OPENED:c-1,f-1,i0, conf=-1: [s0:0.0.0.0:41188, s1:0.0.0.0:43934, s2:0.0.0.0:44779], old=null RUNNING, sleep 450ms and then retry.
java.lang.IllegalStateException: No leader yet : printing ALL groups
  s0:  RUNNING  FOLLOWER s0@group-6A5077D58E94:t0, leader=null, voted=null, raftlog=s0@group-6A5077D58E94-SegmentedRaftLog:OPENED:c-1,f-1,i0, conf=-1: [s0:0.0.0.0:41188, s1:0.0.0.0:43934, s2:0.0.0.0:44779], old=null RUNNING
  s1:  RUNNING  FOLLOWER s1@group-6A5077D58E94:t0, leader=null, voted=null, raftlog=s1@group-6A5077D58E94-SegmentedRaftLog:OPENED:c-1,f-1,i0, conf=-1: [s0:0.0.0.0:41188, s1:0.0.0.0:43934, s2:0.0.0.0:44779], old=null RUNNING
  s2:  RUNNING  FOLLOWER s2@group-6A5077D58E94:t0, leader=null, voted=null, raftlog=s2@group-6A5077D58E94-SegmentedRaftLog:OPENED:c-1,f-1,i0, conf=-1: [s0:0.0.0.0:41188, s1:0.0.0.0:43934, s2:0.0.0.0:44779], old=null RUNNING
	at org.apache.ratis.MiniRaftCluster.newIllegalStateExceptionForNoLeaders(MiniRaftCluster.java:506)
	at org.apache.ratis.RaftTestUtil.lambda$waitForLeader$1(RaftTestUtil.java:90)
	at org.apache.ratis.MiniRaftCluster.getLeader(MiniRaftCluster.java:539)
	at org.apache.ratis.MiniRaftCluster.getLeader(MiniRaftCluster.java:532)
	at org.apache.ratis.RaftTestUtil.lambda$waitForLeader$3(RaftTestUtil.java:98)
	at org.apache.ratis.util.JavaUtils.attempt(JavaUtils.java:152)
	at org.apache.ratis.RaftTestUtil.waitForLeader(RaftTestUtil.java:97)
	at org.apache.ratis.RaftTestUtil.waitForLeader(RaftTestUtil.java:77)
	at org.apache.ratis.RaftTestUtil.waitForLeader(RaftTestUtil.java:72)
	at org.apache.ratis.server.impl.RaftStateMachineExceptionTests.runTestRetryOnStateMachineException(RaftStateMachineExceptionTests.java:103)
	at org.apache.ratis.MiniRaftCluster$Factory$Get.runWithNewCluster(MiniRaftCluster.java:125)
	at org.apache.ratis.MiniRaftCluster$Factory$Get.runWithNewCluster(MiniRaftCluster.java:113)
	at org.apache.ratis.server.impl.RaftStateMachineExceptionTests.testRetryOnStateMachineException(RaftStateMachineExceptionTests.java:99)
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.lang.reflect.Method.invoke(Method.java:498)
	at org.junit.runners.model.FrameworkMethod$1.runReflectiveCall(FrameworkMethod.java:50)
	at org.junit.internal.runners.model.ReflectiveCallable.run(ReflectiveCallable.java:12)
	at org.junit.runners.model.FrameworkMethod.invokeExplosively(FrameworkMethod.java:47)
	at org.junit.internal.runners.statements.InvokeMethod.evaluate(InvokeMethod.java:17)
	at org.junit.internal.runners.statements.RunAfters.evaluate(RunAfters.java:27)
	at org.junit.internal.runners.statements.FailOnTimeout$CallableStatement.call(FailOnTimeout.java:298)
	at org.junit.internal.runners.statements.FailOnTimeout$CallableStatement.call(FailOnTimeout.java:292)
	at java.util.concurrent.FutureTask.run(FutureTask.java:266)
	at java.lang.Thread.run(Thread.java:748)
2019-09-24 16:57:07,727 INFO  impl.FollowerState (FollowerState.java:run(108)) - s0@group-6A5077D58E94-FollowerState: change to CANDIDATE, lastRpcTime:153ms, electionTimeout:152ms
2019-09-24 16:57:07,729 INFO  impl.RoleInfo (RoleInfo.java:shutdownFollowerState(121)) - s0: shutdown FollowerState
2019-09-24 16:57:07,729 INFO  impl.RaftServerImpl (RaftServerImpl.java:setRole(170)) - s0@group-6A5077D58E94: changes role from  FOLLOWER to CANDIDATE at term 0 for changeToCandidate
2019-09-24 16:57:07,734 INFO  impl.RoleInfo (RoleInfo.java:updateAndGet(143)) - s0: start LeaderElection
2019-09-24 16:57:07,755 INFO  impl.FollowerState (FollowerState.java:run(108)) - s2@group-6A5077D58E94-FollowerState: change to CANDIDATE, lastRpcTime:154ms, electionTimeout:154ms
2019-09-24 16:57:07,755 INFO  impl.RoleInfo (RoleInfo.java:shutdownFollowerState(121)) - s2: shutdown FollowerState
2019-09-24 16:57:07,755 INFO  impl.RaftServerImpl (RaftServerImpl.java:setRole(170)) - s2@group-6A5077D58E94: changes role from  FOLLOWER to CANDIDATE at term 0 for changeToCandidate
2019-09-24 16:57:07,756 INFO  impl.RoleInfo (RoleInfo.java:updateAndGet(143)) - s2: start LeaderElection
2019-09-24 16:57:07,756 INFO  impl.LeaderElection (LeaderElection.java:askForVotes(178)) - s0@group-6A5077D58E94-LeaderElection1: begin an election at term 1 for -1: [s0:0.0.0.0:41188, s1:0.0.0.0:43934, s2:0.0.0.0:44779], old=null
2019-09-24 16:57:07,769 INFO  impl.LeaderElection (LeaderElection.java:askForVotes(178)) - s2@group-6A5077D58E94-LeaderElection2: begin an election at term 1 for -1: [s0:0.0.0.0:41188, s1:0.0.0.0:43934, s2:0.0.0.0:44779], old=null
2019-09-24 16:57:07,821 DEBUG impl.RaftServerImpl (RaftServerImpl.java:requestVote(743)) - s2@group-6A5077D58E94: receive requestVote(s0, group-6A5077D58E94, 1, (t:0, i:0))
2019-09-24 16:57:07,821 DEBUG impl.RaftServerImpl (RaftServerImpl.java:requestVote(743)) - s1@group-6A5077D58E94: receive requestVote(s2, group-6A5077D58E94, 1, (t:0, i:0))
2019-09-24 16:57:07,821 DEBUG impl.RaftServerImpl (RaftServerImpl.java:requestVote(743)) - s0@group-6A5077D58E94: receive requestVote(s2, group-6A5077D58E94, 1, (t:0, i:0))
2019-09-24 16:57:07,821 DEBUG impl.RaftServerImpl (RaftServerImpl.java:requestVote(743)) - s1@group-6A5077D58E94: receive requestVote(s0, group-6A5077D58E94, 1, (t:0, i:0))
2019-09-24 16:57:07,823 INFO  impl.RaftServerImpl (RaftServerImpl.java:setRole(170)) - s1@group-6A5077D58E94: changes role from  FOLLOWER to FOLLOWER at term 1 for recognizeCandidate:s0
2019-09-24 16:57:07,823 INFO  impl.RoleInfo (RoleInfo.java:shutdownFollowerState(121)) - s1: shutdown FollowerState
2019-09-24 16:57:07,824 INFO  impl.RoleInfo (RoleInfo.java:updateAndGet(143)) - s1: start FollowerState
2019-09-24 16:57:07,832 DEBUG impl.RaftServerImpl (RaftServerImpl.java:requestVote(775)) - s2@group-6A5077D58E94 replies to vote request: s0<-s2#0:FAIL-t1. Peer's state: s2@group-6A5077D58E94:t1, leader=null, voted=s2, raftlog=s2@group-6A5077D58E94-SegmentedRaftLog:OPENED:c-1,f-1,i0, conf=-1: [s0:0.0.0.0:41188, s1:0.0.0.0:43934, s2:0.0.0.0:44779], old=null
2019-09-24 16:57:07,832 DEBUG impl.RaftServerImpl (RaftServerImpl.java:requestVote(775)) - s0@group-6A5077D58E94 replies to vote request: s2<-s0#0:FAIL-t1. Peer's state: s0@group-6A5077D58E94:t1, leader=null, voted=s0, raftlog=s0@group-6A5077D58E94-SegmentedRaftLog:OPENED:c-1,f-1,i0, conf=-1: [s0:0.0.0.0:41188, s1:0.0.0.0:43934, s2:0.0.0.0:44779], old=null
2019-09-24 16:57:07,843 DEBUG impl.RaftServerImpl (RaftServerImpl.java:requestVote(775)) - s1@group-6A5077D58E94 replies to vote request: s0<-s1#0:OK-t1. Peer's state: s1@group-6A5077D58E94:t1, leader=null, voted=s0, raftlog=s1@group-6A5077D58E94-SegmentedRaftLog:OPENED:c-1,f-1,i0, conf=-1: [s0:0.0.0.0:41188, s1:0.0.0.0:43934, s2:0.0.0.0:44779], old=null
2019-09-24 16:57:07,844 DEBUG impl.RaftServerImpl (RaftServerImpl.java:requestVote(775)) - s1@group-6A5077D58E94 replies to vote request: s2<-s1#0:FAIL-t1. Peer's state: s1@group-6A5077D58E94:t1, leader=null, voted=s0, raftlog=s1@group-6A5077D58E94-SegmentedRaftLog:OPENED:c-1,f-1,i0, conf=-1: [s0:0.0.0.0:41188, s1:0.0.0.0:43934, s2:0.0.0.0:44779], old=null
2019-09-24 16:57:07,846 INFO  impl.LeaderElection (LeaderElection.java:logAndReturn(56)) - s2@group-6A5077D58E94-LeaderElection2: Election REJECTED; received 2 response(s) [s2<-s0#0:FAIL-t1, s2<-s1#0:FAIL-t1] and 0 exception(s); s2@group-6A5077D58E94:t1, leader=null, voted=s2, raftlog=s2@group-6A5077D58E94-SegmentedRaftLog:OPENED:c-1,f-1,i0, conf=-1: [s0:0.0.0.0:41188, s1:0.0.0.0:43934, s2:0.0.0.0:44779], old=null
2019-09-24 16:57:07,846 INFO  impl.LeaderElection (LeaderElection.java:logAndReturn(56)) - s0@group-6A5077D58E94-LeaderElection1: Election PASSED; received 2 response(s) [s0<-s1#0:OK-t1, s0<-s2#0:FAIL-t1] and 0 exception(s); s0@group-6A5077D58E94:t1, leader=null, voted=s0, raftlog=s0@group-6A5077D58E94-SegmentedRaftLog:OPENED:c-1,f-1,i0, conf=-1: [s0:0.0.0.0:41188, s1:0.0.0.0:43934, s2:0.0.0.0:44779], old=null
2019-09-24 16:57:07,848 INFO  impl.RoleInfo (RoleInfo.java:shutdownLeaderElection(134)) - s0: shutdown LeaderElection
2019-09-24 16:57:07,848 INFO  impl.RaftServerImpl (RaftServerImpl.java:setRole(170)) - s2@group-6A5077D58E94: changes role from CANDIDATE to FOLLOWER at term 1 for DISCOVERED_A_NEW_TERM
2019-09-24 16:57:07,849 INFO  impl.RoleInfo (RoleInfo.java:shutdownLeaderElection(134)) - s2: shutdown LeaderElection
2019-09-24 16:57:07,849 INFO  impl.RaftServerImpl (RaftServerImpl.java:setRole(170)) - s0@group-6A5077D58E94: changes role from CANDIDATE to LEADER at term 1 for changeToLeader
2019-09-24 16:57:07,849 INFO  impl.RoleInfo (RoleInfo.java:updateAndGet(143)) - s2: start FollowerState
2019-09-24 16:57:07,849 INFO  impl.RaftServerImpl (ServerState.java:setLeader(254)) - s0@group-6A5077D58E94: change Leader from null to s0 at term 1 for becomeLeader, leader elected after 603ms
2019-09-24 16:57:07,856 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.staging.catchup.gap = 1000 (default)
2019-09-24 16:57:07,856 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.rpc.sleep.time = 25ms (default)
2019-09-24 16:57:07,863 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.write.element-limit = 4096 (default)
2019-09-24 16:57:07,870 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.watch.timeout = 10s (default)
2019-09-24 16:57:07,870 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.watch.timeout.denomination = 1s (default)
2019-09-24 16:57:07,872 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.watch.element-limit = 65536 (default)
2019-09-24 16:57:07,889 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.log.appender.snapshot.chunk.size.max = 16MB (=16777216) (default)
2019-09-24 16:57:07,889 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.log.appender.buffer.byte-limit = 4MB (=4194304) (default)
2019-09-24 16:57:07,890 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.log.appender.buffer.element-limit = 0 (default)
2019-09-24 16:57:07,894 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.log.appender.snapshot.chunk.size.max = 16MB (=16777216) (default)
2019-09-24 16:57:07,894 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.log.appender.buffer.byte-limit = 4MB (=4194304) (default)
2019-09-24 16:57:07,895 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.log.appender.buffer.element-limit = 0 (default)
2019-09-24 16:57:07,897 INFO  impl.RoleInfo (RoleInfo.java:updateAndGet(143)) - s0: start LeaderState
2019-09-24 16:57:07,915 DEBUG raftlog.RaftLog (SegmentedRaftLog.java:appendImpl(425)) - truncateIndex=-1, arrayIndex=0
2019-09-24 16:57:07,919 INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:startLogSegment(380)) - s0@group-6A5077D58E94-SegmentedRaftLogWorker: Starting segment from index:0
2019-09-24 16:57:07,937 INFO  impl.RaftServerImpl (ServerState.java:setRaftConf(355)) - s0@group-6A5077D58E94: set configuration 0: [s0:0.0.0.0:41188, s1:0.0.0.0:43934, s2:0.0.0.0:44779], old=null at 0
2019-09-24 16:57:07,960 INFO  impl.RaftServerImpl (ServerState.java:setLeader(254)) - s2@group-6A5077D58E94: change Leader from null to s0 at term 1 for appendEntries, leader elected after 713ms
2019-09-24 16:57:07,960 INFO  impl.RaftServerImpl (ServerState.java:setLeader(254)) - s1@group-6A5077D58E94: change Leader from null to s0 at term 1 for appendEntries, leader elected after 713ms
2019-09-24 16:57:07,982 DEBUG impl.RaftServerImpl (RaftServerImpl.java:logAppendEntries(850)) - s2@group-6A5077D58E94: receive appendEntries(s0, 1, null, -1, false, commits[s0:c-1, s1:c-1, s2:c-1], entries: (t:1, i:0), CONFIGURATIONENTRY
2019-09-24 16:57:07,982 DEBUG impl.RaftServerImpl (RaftServerImpl.java:logAppendEntries(850)) - s1@group-6A5077D58E94: receive appendEntries(s0, 1, null, -1, false, commits[s0:c-1, s1:c-1, s2:c-1], entries: (t:1, i:0), CONFIGURATIONENTRY
2019-09-24 16:57:07,986 INFO  impl.RaftServerImpl (ServerState.java:setRaftConf(355)) - s1@group-6A5077D58E94: set configuration 0: [s0:0.0.0.0:41188, s1:0.0.0.0:43934, s2:0.0.0.0:44779], old=null at 0
2019-09-24 16:57:07,986 INFO  impl.RaftServerImpl (ServerState.java:setRaftConf(355)) - s2@group-6A5077D58E94: set configuration 0: [s0:0.0.0.0:41188, s1:0.0.0.0:43934, s2:0.0.0.0:44779], old=null at 0
2019-09-24 16:57:07,986 DEBUG raftlog.RaftLog (SegmentedRaftLog.java:appendImpl(425)) - truncateIndex=-1, arrayIndex=0
2019-09-24 16:57:07,986 DEBUG raftlog.RaftLog (SegmentedRaftLog.java:appendImpl(425)) - truncateIndex=-1, arrayIndex=0
2019-09-24 16:57:07,986 INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:startLogSegment(380)) - s1@group-6A5077D58E94-SegmentedRaftLogWorker: Starting segment from index:0
2019-09-24 16:57:07,987 INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:startLogSegment(380)) - s2@group-6A5077D58E94-SegmentedRaftLogWorker: Starting segment from index:0
2019-09-24 16:57:08,074 INFO  ratis.RaftTestUtil (RaftTestUtil.java:waitForLeader(101)) - printing ALL groups
  s0:  RUNNING    LEADER s0@group-6A5077D58E94:t1, leader=s0, voted=s0, raftlog=s0@group-6A5077D58E94-SegmentedRaftLog:OPENED:c-1,f-1,i0, conf=0: [s0:0.0.0.0:41188, s1:0.0.0.0:43934, s2:0.0.0.0:44779], old=null RUNNING
  s1:  RUNNING  FOLLOWER s1@group-6A5077D58E94:t1, leader=s0, voted=s0, raftlog=s1@group-6A5077D58E94-SegmentedRaftLog:OPENED:c-1,f-1,i0, conf=0: [s0:0.0.0.0:41188, s1:0.0.0.0:43934, s2:0.0.0.0:44779], old=null RUNNING
  s2:  RUNNING  FOLLOWER s2@group-6A5077D58E94:t1, leader=s0, voted=s2, raftlog=s2@group-6A5077D58E94-SegmentedRaftLog:OPENED:c-1,f-1,i0, conf=0: [s0:0.0.0.0:41188, s1:0.0.0.0:43934, s2:0.0.0.0:44779], old=null RUNNING
2019-09-24 16:57:08,079 DEBUG client.RaftClient (ConfUtils.java:logGet(43)) - raft.rpc.type = org.apache.ratis.server.simulation.SimulatedRpc (custom)
2019-09-24 16:57:08,093 DEBUG client.RaftClient (RaftClientImpl.java:sendRequest(275)) - client-0E521CB822EA: send RaftClientRequest:client-0E521CB822EA->s0@group-6A5077D58E94, cid=0, seq=0, RW, first msg to make leader ready
2019-09-24 16:57:08,096 DEBUG impl.RaftServerImpl (RaftServerImpl.java:submitClientRequestAsync(533)) - s0@group-6A5077D58E94: receive client request(RaftClientRequest:client-0E521CB822EA->s0@group-6A5077D58E94, cid=0, seq=0, RW, first msg to make leader ready)
2019-09-24 16:57:08,123 DEBUG client.RaftClient (RaftClientImpl.java:sendRequest(285)) - client-0E521CB822EA: receive RaftClientReply:client-0E521CB822EA->s0@group-6A5077D58E94, cid=0, FAILED org.apache.ratis.protocol.LeaderNotReadyException: s0@group-6A5077D58E94 is in LEADER state but not ready yet., logIndex=0, commits[s0:c-1, s1:c-1, s2:c-1]
2019-09-24 16:57:08,224 DEBUG client.RaftClient (RaftClientImpl.java:sendRequest(275)) - client-0E521CB822EA: send RaftClientRequest:client-0E521CB822EA->s0@group-6A5077D58E94, cid=0, seq=0, RW, first msg to make leader ready
2019-09-24 16:57:08,225 DEBUG impl.RaftServerImpl (RaftServerImpl.java:submitClientRequestAsync(533)) - s0@group-6A5077D58E94: receive client request(RaftClientRequest:client-0E521CB822EA->s0@group-6A5077D58E94, cid=0, seq=0, RW, first msg to make leader ready)
2019-09-24 16:57:08,226 DEBUG client.RaftClient (RaftClientImpl.java:sendRequest(285)) - client-0E521CB822EA: receive RaftClientReply:client-0E521CB822EA->s0@group-6A5077D58E94, cid=0, FAILED org.apache.ratis.protocol.LeaderNotReadyException: s0@group-6A5077D58E94 is in LEADER state but not ready yet., logIndex=0, commits[s0:c-1, s1:c-1, s2:c-1]
2019-09-24 16:57:08,261 INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:execute(569)) - s2@group-6A5077D58E94-SegmentedRaftLogWorker: created new log segment /workdir/ratis-test/target/test/data/40df402d/MiniRaftClusterWithSimulatedRpce84b95d/s2/5e5ca52a-3ac9-4995-bef8-6a5077d58e94/current/log_inprogress_0
2019-09-24 16:57:08,261 INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:execute(569)) - s1@group-6A5077D58E94-SegmentedRaftLogWorker: created new log segment /workdir/ratis-test/target/test/data/40df402d/MiniRaftClusterWithSimulatedRpce84b95d/s1/5e5ca52a-3ac9-4995-bef8-6a5077d58e94/current/log_inprogress_0
2019-09-24 16:57:08,261 INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:execute(569)) - s0@group-6A5077D58E94-SegmentedRaftLogWorker: created new log segment /workdir/ratis-test/target/test/data/40df402d/MiniRaftClusterWithSimulatedRpce84b95d/s0/5e5ca52a-3ac9-4995-bef8-6a5077d58e94/current/log_inprogress_0
2019-09-24 16:57:08,285 DEBUG impl.RaftServerImpl (RaftServerImpl.java:logAppendEntries(850)) - s2@group-6A5077D58E94: succeeded to handle AppendEntries. Reply: s0<-s2#0:OK,SUCCESS,nextIndex:1,term:1,followerCommit:-1
2019-09-24 16:57:08,285 DEBUG impl.RaftServerImpl (RaftServerImpl.java:logAppendEntries(850)) - s1@group-6A5077D58E94: succeeded to handle AppendEntries. Reply: s0<-s1#0:OK,SUCCESS,nextIndex:1,term:1,followerCommit:-1
2019-09-24 16:57:08,327 DEBUG client.RaftClient (RaftClientImpl.java:sendRequest(275)) - client-0E521CB822EA: send RaftClientRequest:client-0E521CB822EA->s0@group-6A5077D58E94, cid=0, seq=0, RW, first msg to make leader ready
2019-09-24 16:57:08,327 DEBUG impl.RaftServerImpl (RaftServerImpl.java:submitClientRequestAsync(533)) - s0@group-6A5077D58E94: receive client request(RaftClientRequest:client-0E521CB822EA->s0@group-6A5077D58E94, cid=0, seq=0, RW, first msg to make leader ready)
2019-09-24 16:57:08,352 DEBUG impl.RaftServerImpl (LeaderState.java:addPendingRequest(317)) - s0@group-6A5077D58E94-LeaderState: addPendingRequest at RaftClientRequest:client-0E521CB822EA->s0@group-6A5077D58E94, cid=0, seq=0, RW, first msg to make leader ready, entry=(t:1, i:1), STATEMACHINELOGENTRY, client-0E521CB822EA, cid=0
2019-09-24 16:57:08,358 DEBUG impl.RaftServerImpl (RaftServerImpl.java:logAppendEntries(850)) - s2@group-6A5077D58E94: receive appendEntries(s0, 1, (t:1, i:0), 0, false, commits[s0:c0, s1:c-1, s2:c-1], entries: (t:1, i:1), STATEMACHINELOGENTRY, client-0E521CB822EA, cid=0
2019-09-24 16:57:08,358 DEBUG impl.RaftServerImpl (RaftServerImpl.java:logAppendEntries(850)) - s1@group-6A5077D58E94: receive appendEntries(s0, 1, (t:1, i:0), 0, false, commits[s0:c0, s1:c-1, s2:c-1], entries: (t:1, i:1), STATEMACHINELOGENTRY, client-0E521CB822EA, cid=0
2019-09-24 16:57:08,360 DEBUG raftlog.RaftLog (SegmentedRaftLog.java:appendImpl(425)) - truncateIndex=-1, arrayIndex=0
2019-09-24 16:57:08,360 DEBUG raftlog.RaftLog (SegmentedRaftLog.java:appendImpl(425)) - truncateIndex=-1, arrayIndex=0
2019-09-24 16:57:08,370 DEBUG impl.RaftServerImpl (RaftServerImpl.java:logAppendEntries(850)) - s2@group-6A5077D58E94: succeeded to handle AppendEntries. Reply: s0<-s2#0:OK,SUCCESS,nextIndex:2,term:1,followerCommit:0
2019-09-24 16:57:08,370 DEBUG impl.RaftServerImpl (RaftServerImpl.java:logAppendEntries(850)) - s1@group-6A5077D58E94: succeeded to handle AppendEntries. Reply: s0<-s1#0:OK,SUCCESS,nextIndex:2,term:1,followerCommit:0
2019-09-24 16:57:08,374 DEBUG impl.RaftServerImpl (RaftServerImpl.java:logAppendEntries(850)) - s2@group-6A5077D58E94: receive appendEntries(s0, 1, (t:1, i:1), 1, false, commits[s0:c1, s1:c0, s2:c0], entries: (t:1, i:2), METADATAENTRY(c1)
2019-09-24 16:57:08,374 DEBUG impl.RaftServerImpl (RaftServerImpl.java:logAppendEntries(850)) - s1@group-6A5077D58E94: receive appendEntries(s0, 1, (t:1, i:1), 1, false, commits[s0:c1, s1:c0, s2:c0], entries: (t:1, i:2), METADATAENTRY(c1)
2019-09-24 16:57:08,374 DEBUG raftlog.RaftLog (SegmentedRaftLog.java:appendImpl(425)) - truncateIndex=-1, arrayIndex=0
2019-09-24 16:57:08,375 DEBUG raftlog.RaftLog (SegmentedRaftLog.java:appendImpl(425)) - truncateIndex=-1, arrayIndex=0
2019-09-24 16:57:08,375 DEBUG client.RaftClient (RaftClientImpl.java:sendRequest(285)) - client-0E521CB822EA: receive RaftClientReply:client-0E521CB822EA->s0@group-6A5077D58E94, cid=0, FAILED org.apache.ratis.protocol.StateMachineException: org.apache.ratis.protocol.StateMachineException from Server s0@group-6A5077D58E94: Fake Exception, logIndex=1, commits[s0:c1, s1:c0, s2:c0]
2019-09-24 16:57:08,376 DEBUG client.RaftClient (ConfUtils.java:logGet(43)) - raft.rpc.type = org.apache.ratis.server.simulation.SimulatedRpc (custom)
2019-09-24 16:57:08,376 DEBUG impl.RaftServerImpl (RaftServerImpl.java:submitClientRequestAsync(533)) - s0@group-6A5077D58E94: receive client request(RaftClientRequest:client-2DB58D6A99BA->s0@group-6A5077D58E94, cid=999, seq=0, RW, message)
2019-09-24 16:57:08,377 DEBUG impl.RaftServerImpl (LeaderState.java:addPendingRequest(317)) - s0@group-6A5077D58E94-LeaderState: addPendingRequest at RaftClientRequest:client-2DB58D6A99BA->s0@group-6A5077D58E94, cid=999, seq=0, RW, message, entry=(t:1, i:3), STATEMACHINELOGENTRY, client-2DB58D6A99BA, cid=999
2019-09-24 16:57:08,392 DEBUG impl.RaftServerImpl (RaftServerImpl.java:logAppendEntries(850)) - s2@group-6A5077D58E94: succeeded to handle AppendEntries. Reply: s0<-s2#0:OK,SUCCESS,nextIndex:3,term:1,followerCommit:1
2019-09-24 16:57:08,392 DEBUG impl.RaftServerImpl (RaftServerImpl.java:logAppendEntries(850)) - s1@group-6A5077D58E94: succeeded to handle AppendEntries. Reply: s0<-s1#0:OK,SUCCESS,nextIndex:3,term:1,followerCommit:1
2019-09-24 16:57:08,393 DEBUG impl.RaftServerImpl (RaftServerImpl.java:logAppendEntries(850)) - s2@group-6A5077D58E94: receive appendEntries(s0, 1, (t:1, i:2), 2, false, commits[s0:c2, s1:c0, s2:c1], entries: (t:1, i:3), STATEMACHINELOGENTRY, client-2DB58D6A99BA, cid=999
2019-09-24 16:57:08,394 DEBUG impl.RaftServerImpl (RaftServerImpl.java:logAppendEntries(850)) - s1@group-6A5077D58E94: receive appendEntries(s0, 1, (t:1, i:2), 2, false, commits[s0:c2, s1:c1, s2:c1], entries: (t:1, i:3), STATEMACHINELOGENTRY, client-2DB58D6A99BA, cid=999
2019-09-24 16:57:08,394 DEBUG raftlog.RaftLog (SegmentedRaftLog.java:appendImpl(425)) - truncateIndex=-1, arrayIndex=0
2019-09-24 16:57:08,394 DEBUG raftlog.RaftLog (SegmentedRaftLog.java:appendImpl(425)) - truncateIndex=-1, arrayIndex=0
2019-09-24 16:57:08,412 DEBUG impl.RaftServerImpl (RaftServerImpl.java:logAppendEntries(850)) - s1@group-6A5077D58E94: succeeded to handle AppendEntries. Reply: s0<-s1#0:OK,SUCCESS,nextIndex:4,term:1,followerCommit:2
2019-09-24 16:57:08,412 DEBUG impl.RaftServerImpl (RaftServerImpl.java:logAppendEntries(850)) - s2@group-6A5077D58E94: succeeded to handle AppendEntries. Reply: s0<-s2#0:OK,SUCCESS,nextIndex:4,term:1,followerCommit:2
2019-09-24 16:57:08,413 DEBUG impl.RaftServerImpl (RaftServerImpl.java:submitClientRequestAsync(533)) - s0@group-6A5077D58E94: receive client request(RaftClientRequest:client-2DB58D6A99BA->s0@group-6A5077D58E94, cid=999, seq=0, RW, message)
2019-09-24 16:57:08,414 DEBUG impl.RaftServerImpl (RaftServerImpl.java:logAppendEntries(850)) - s1@group-6A5077D58E94: receive appendEntries(s0, 1, (t:1, i:3), 3, false, commits[s0:c3, s1:c2, s2:c2], entries: (t:1, i:4), METADATAENTRY(c3)
2019-09-24 16:57:08,413 DEBUG impl.RaftServerImpl (RaftServerImpl.java:logAppendEntries(850)) - s2@group-6A5077D58E94: receive appendEntries(s0, 1, (t:1, i:3), 3, false, commits[s0:c3, s1:c2, s2:c2], entries: (t:1, i:4), METADATAENTRY(c3)
2019-09-24 16:57:08,414 DEBUG raftlog.RaftLog (SegmentedRaftLog.java:appendImpl(425)) - truncateIndex=-1, arrayIndex=0
2019-09-24 16:57:08,414 DEBUG impl.RaftServerImpl (RaftServerImpl.java:submitClientRequestAsync(533)) - s0@group-6A5077D58E94: receive client request(RaftClientRequest:client-2DB58D6A99BA->s0@group-6A5077D58E94, cid=999, seq=0, RW, message)
2019-09-24 16:57:08,414 DEBUG raftlog.RaftLog (SegmentedRaftLog.java:appendImpl(425)) - truncateIndex=-1, arrayIndex=0
2019-09-24 16:57:08,415 DEBUG impl.RaftServerImpl (RaftServerImpl.java:submitClientRequestAsync(533)) - s0@group-6A5077D58E94: receive client request(RaftClientRequest:client-2DB58D6A99BA->s0@group-6A5077D58E94, cid=999, seq=0, RW, message)
2019-09-24 16:57:08,415 DEBUG impl.RaftServerImpl (RaftServerImpl.java:submitClientRequestAsync(533)) - s0@group-6A5077D58E94: receive client request(RaftClientRequest:client-2DB58D6A99BA->s0@group-6A5077D58E94, cid=999, seq=0, RW, message)
2019-09-24 16:57:08,416 DEBUG impl.RaftServerImpl (RaftServerImpl.java:submitClientRequestAsync(533)) - s0@group-6A5077D58E94: receive client request(RaftClientRequest:client-2DB58D6A99BA->s0@group-6A5077D58E94, cid=999, seq=0, RW, message)
2019-09-24 16:57:08,417 INFO  simulation.TestRaftStateMachineExceptionWithSimulatedRpc (RaftStateMachineExceptionTests.java:runTestRetryOnStateMachineException(129)) - check server s0
2019-09-24 16:57:08,418 INFO  simulation.TestRaftStateMachineExceptionWithSimulatedRpc (RaftStateMachineExceptionTests.java:runTestRetryOnStateMachineException(129)) - check server s1
2019-09-24 16:57:08,420 DEBUG impl.RaftServerImpl (RaftServerImpl.java:logAppendEntries(850)) - s2@group-6A5077D58E94: succeeded to handle AppendEntries. Reply: s0<-s2#0:OK,SUCCESS,nextIndex:5,term:1,followerCommit:3
2019-09-24 16:57:08,421 DEBUG impl.RaftServerImpl (RaftServerImpl.java:logAppendEntries(850)) - s1@group-6A5077D58E94: succeeded to handle AppendEntries. Reply: s0<-s1#0:OK,SUCCESS,nextIndex:5,term:1,followerCommit:3
2019-09-24 16:57:09,418 INFO  simulation.TestRaftStateMachineExceptionWithSimulatedRpc (RaftStateMachineExceptionTests.java:runTestRetryOnStateMachineException(129)) - check server s2
2019-09-24 16:57:09,419 INFO  ratis.MiniRaftCluster (MiniRaftCluster.java:shutdown(700)) - ************************************************************** 
2019-09-24 16:57:09,420 INFO  ratis.MiniRaftCluster (MiniRaftCluster.java:shutdown(701)) - *** 
2019-09-24 16:57:09,420 INFO  ratis.MiniRaftCluster (MiniRaftCluster.java:shutdown(702)) - ***     Stopping MiniRaftClusterWithSimulatedRpc
2019-09-24 16:57:09,420 INFO  ratis.MiniRaftCluster (MiniRaftCluster.java:shutdown(703)) - *** 
2019-09-24 16:57:09,421 INFO  ratis.MiniRaftCluster (MiniRaftCluster.java:shutdown(704)) - ************************************************************** 
2019-09-24 16:57:09,421 INFO  ratis.MiniRaftCluster (MiniRaftCluster.java:shutdown(705)) - printing ALL groups
  s0:  RUNNING    LEADER s0@group-6A5077D58E94:t1, leader=s0, voted=s0, raftlog=s0@group-6A5077D58E94-SegmentedRaftLog:OPENED:c4,f4,i4, conf=0: [s0:0.0.0.0:41188, s1:0.0.0.0:43934, s2:0.0.0.0:44779], old=null RUNNING
  s1:  RUNNING  FOLLOWER s1@group-6A5077D58E94:t1, leader=s0, voted=s0, raftlog=s1@group-6A5077D58E94-SegmentedRaftLog:OPENED:c4,f4,i4, conf=0: [s0:0.0.0.0:41188, s1:0.0.0.0:43934, s2:0.0.0.0:44779], old=null RUNNING
  s2:  RUNNING  FOLLOWER s2@group-6A5077D58E94:t1, leader=s0, voted=s2, raftlog=s2@group-6A5077D58E94-SegmentedRaftLog:OPENED:c4,f4,i4, conf=0: [s0:0.0.0.0:41188, s1:0.0.0.0:43934, s2:0.0.0.0:44779], old=null RUNNING
2019-09-24 16:57:09,426 INFO  impl.RaftServerProxy (RaftServerProxy.java:lambda$close$4(314)) - s0: close
2019-09-24 16:57:09,426 INFO  impl.RaftServerProxy (RaftServerProxy.java:lambda$close$4(314)) - s2: close
2019-09-24 16:57:09,426 INFO  impl.RaftServerProxy (RaftServerProxy.java:lambda$close$4(314)) - s1: close
2019-09-24 16:57:09,428 INFO  impl.RaftServerImpl (RaftServerImpl.java:lambda$shutdown$3(247)) - s0@group-6A5077D58E94: shutdown
2019-09-24 16:57:09,428 INFO  impl.RaftServerImpl (RaftServerImpl.java:lambda$shutdown$3(247)) - s1@group-6A5077D58E94: shutdown
2019-09-24 16:57:09,429 INFO  util.JmxRegister (JmxRegister.java:unregister(73)) - Successfully un-registered JMX Bean with object name Ratis:service=RaftServer,group=group-6A5077D58E94,id=s0
2019-09-24 16:57:09,428 INFO  impl.RaftServerImpl (RaftServerImpl.java:lambda$shutdown$3(247)) - s2@group-6A5077D58E94: shutdown
2019-09-24 16:57:09,429 INFO  impl.RoleInfo (RoleInfo.java:shutdownLeaderState(104)) - s0: shutdown LeaderState
2019-09-24 16:57:09,429 INFO  util.JmxRegister (JmxRegister.java:unregister(73)) - Successfully un-registered JMX Bean with object name Ratis:service=RaftServer,group=group-6A5077D58E94,id=s1
2019-09-24 16:57:09,430 INFO  util.JmxRegister (JmxRegister.java:unregister(73)) - Successfully un-registered JMX Bean with object name Ratis:service=RaftServer,group=group-6A5077D58E94,id=s2
2019-09-24 16:57:09,430 INFO  impl.RoleInfo (RoleInfo.java:shutdownFollowerState(121)) - s1: shutdown FollowerState
2019-09-24 16:57:09,431 INFO  impl.PendingRequests (PendingRequests.java:sendNotLeaderResponses(202)) - s0@group-6A5077D58E94-PendingRequests: sendNotLeaderResponses
2019-09-24 16:57:09,430 INFO  impl.LogAppender (LogAppender.java:run(78)) - s0@group-6A5077D58E94->s1-LogAppender-AppenderDaemon was interrupted: java.lang.InterruptedException
2019-09-24 16:57:09,430 INFO  impl.LogAppender (LogAppender.java:run(78)) - s0@group-6A5077D58E94->s2-LogAppender-AppenderDaemon was interrupted: java.lang.InterruptedException
2019-09-24 16:57:09,430 INFO  impl.RoleInfo (RoleInfo.java:shutdownFollowerState(121)) - s2: shutdown FollowerState
2019-09-24 16:57:09,431 INFO  impl.StateMachineUpdater (StateMachineUpdater.java:stopAndJoin(136)) - s1@group-6A5077D58E94-StateMachineUpdater: set stopIndex = 4
2019-09-24 16:57:09,431 INFO  impl.FollowerState (FollowerState.java:run(117)) - s1@group-6A5077D58E94-FollowerState was interrupted: java.lang.InterruptedException: sleep interrupted
2019-09-24 16:57:09,433 INFO  impl.RaftServerImpl (ServerState.java:close(386)) - s1@group-6A5077D58E94: closes. applyIndex: 4
2019-09-24 16:57:09,432 INFO  impl.FollowerState (FollowerState.java:run(117)) - s2@group-6A5077D58E94-FollowerState was interrupted: java.lang.InterruptedException: sleep interrupted
2019-09-24 16:57:09,432 INFO  impl.StateMachineUpdater (StateMachineUpdater.java:stopAndJoin(136)) - s2@group-6A5077D58E94-StateMachineUpdater: set stopIndex = 4
2019-09-24 16:57:09,433 INFO  impl.StateMachineUpdater (StateMachineUpdater.java:stopAndJoin(136)) - s0@group-6A5077D58E94-StateMachineUpdater: set stopIndex = 4
2019-09-24 16:57:09,434 INFO  impl.RaftServerImpl (ServerState.java:close(386)) - s2@group-6A5077D58E94: closes. applyIndex: 4
2019-09-24 16:57:09,434 INFO  impl.RaftServerImpl (ServerState.java:close(386)) - s0@group-6A5077D58E94: closes. applyIndex: 4
2019-09-24 16:57:09,436 INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:run(313)) - s1@group-6A5077D58E94-SegmentedRaftLogWorker was interrupted, exiting. There are 0 tasks remaining in the queue.
2019-09-24 16:57:09,436 INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:run(313)) - s2@group-6A5077D58E94-SegmentedRaftLogWorker was interrupted, exiting. There are 0 tasks remaining in the queue.
2019-09-24 16:57:09,436 INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:run(313)) - s0@group-6A5077D58E94-SegmentedRaftLogWorker was interrupted, exiting. There are 0 tasks remaining in the queue.
2019-09-24 16:57:09,439 INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:close(228)) - s0@group-6A5077D58E94-SegmentedRaftLogWorker close()
2019-09-24 16:57:09,439 INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:close(228)) - s1@group-6A5077D58E94-SegmentedRaftLogWorker close()
2019-09-24 16:57:09,439 INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:close(228)) - s2@group-6A5077D58E94-SegmentedRaftLogWorker close()
2019-09-24 16:57:09,440 INFO  simulation.RequestHandler (RequestHandler.java:run(126)) - s0.clientHandler0 is interrupted by java.io.InterruptedIOException: 
2019-09-24 16:57:09,440 INFO  simulation.RequestHandler (RequestHandler.java:run(126)) - s0.clientHandler2 is interrupted by java.io.InterruptedIOException: 
2019-09-24 16:57:09,440 INFO  simulation.RequestHandler (RequestHandler.java:run(126)) - s1.clientHandler1 is interrupted by java.io.InterruptedIOException: 
2019-09-24 16:57:09,440 INFO  simulation.RequestHandler (RequestHandler.java:run(126)) - s0.clientHandler1 is interrupted by java.io.InterruptedIOException: 
2019-09-24 16:57:09,440 INFO  simulation.RequestHandler (RequestHandler.java:run(126)) - s1.clientHandler2 is interrupted by java.io.InterruptedIOException: 
2019-09-24 16:57:09,441 INFO  simulation.RequestHandler (RequestHandler.java:run(126)) - s0.serverHandler0 is interrupted by java.io.InterruptedIOException: 
2019-09-24 16:57:09,440 INFO  simulation.RequestHandler (RequestHandler.java:run(126)) - s2.clientHandler2 is interrupted by java.io.InterruptedIOException: 
2019-09-24 16:57:09,440 INFO  simulation.RequestHandler (RequestHandler.java:run(126)) - s2.clientHandler0 is interrupted by java.io.InterruptedIOException: 
2019-09-24 16:57:09,440 INFO  simulation.RequestHandler (RequestHandler.java:run(126)) - s2.clientHandler1 is interrupted by java.io.InterruptedIOException: 
2019-09-24 16:57:09,440 INFO  simulation.RequestHandler (RequestHandler.java:run(126)) - s1.clientHandler0 is interrupted by java.io.InterruptedIOException: 
2019-09-24 16:57:09,443 INFO  simulation.RequestHandler (RequestHandler.java:run(126)) - s2.serverHandler2 is interrupted by java.io.InterruptedIOException: 
2019-09-24 16:57:09,443 INFO  simulation.RequestHandler (RequestHandler.java:run(126)) - s1.serverHandler1 is interrupted by java.io.InterruptedIOException: 
2019-09-24 16:57:09,443 INFO  simulation.RequestHandler (RequestHandler.java:run(126)) - s2.serverHandler1 is interrupted by java.io.InterruptedIOException: 
2019-09-24 16:57:09,442 INFO  simulation.RequestHandler (RequestHandler.java:run(126)) - s2.serverHandler0 is interrupted by java.io.InterruptedIOException: 
2019-09-24 16:57:09,441 INFO  simulation.RequestHandler (RequestHandler.java:run(126)) - s0.serverHandler2 is interrupted by java.io.InterruptedIOException: 
2019-09-24 16:57:09,441 INFO  simulation.RequestHandler (RequestHandler.java:run(126)) - s0.serverHandler1 is interrupted by java.io.InterruptedIOException: 
2019-09-24 16:57:09,443 INFO  simulation.RequestHandler (RequestHandler.java:run(126)) - s1.serverHandler2 is interrupted by java.io.InterruptedIOException: 
2019-09-24 16:57:09,443 INFO  simulation.RequestHandler (RequestHandler.java:run(126)) - s1.serverHandler0 is interrupted by java.io.InterruptedIOException: 
2019-09-24 16:57:09,445 INFO  ratis.MiniRaftCluster (MiniRaftCluster.java:shutdown(722)) - MiniRaftClusterWithSimulatedRpc shutdown completed
2019-09-24 16:57:09,445 INFO  ratis.MiniRaftCluster (MiniRaftCluster.java:shutdown(700)) - ************************************************************** 
2019-09-24 16:57:09,446 INFO  ratis.MiniRaftCluster (MiniRaftCluster.java:shutdown(701)) - *** 
2019-09-24 16:57:09,446 INFO  ratis.MiniRaftCluster (MiniRaftCluster.java:shutdown(702)) - ***     Stopping MiniRaftClusterWithSimulatedRpc
2019-09-24 16:57:09,446 INFO  ratis.MiniRaftCluster (MiniRaftCluster.java:shutdown(703)) - *** 
2019-09-24 16:57:09,446 INFO  ratis.MiniRaftCluster (MiniRaftCluster.java:shutdown(704)) - ************************************************************** 
2019-09-24 16:57:09,447 INFO  ratis.MiniRaftCluster (MiniRaftCluster.java:shutdown(705)) - printing ALL groups
  s0:   CLOSED    LEADER s0@group-6A5077D58E94:t1, leader=s0, voted=s0, raftlog=s0@group-6A5077D58E94-SegmentedRaftLog:CLOSED:c4, conf=0: [s0:0.0.0.0:41188, s1:0.0.0.0:43934, s2:0.0.0.0:44779], old=null CLOSED
  s1:   CLOSED  FOLLOWER s1@group-6A5077D58E94:t1, leader=s0, voted=s0, raftlog=s1@group-6A5077D58E94-SegmentedRaftLog:CLOSED:c4, conf=0: [s0:0.0.0.0:41188, s1:0.0.0.0:43934, s2:0.0.0.0:44779], old=null CLOSED
  s2:   CLOSED  FOLLOWER s2@group-6A5077D58E94:t1, leader=s0, voted=s2, raftlog=s2@group-6A5077D58E94-SegmentedRaftLog:CLOSED:c4, conf=0: [s0:0.0.0.0:41188, s1:0.0.0.0:43934, s2:0.0.0.0:44779], old=null CLOSED
2019-09-24 16:57:09,448 INFO  ratis.MiniRaftCluster (MiniRaftCluster.java:shutdown(722)) - MiniRaftClusterWithSimulatedRpc shutdown completed
2019-09-24 16:57:09,451 INFO  util.LogUtils (LogUtils.java:setLogLevel(41)) - Set org.apache.ratis.conf.ConfUtils log level to WARN
2019-09-24 16:57:09,451 INFO  util.LogUtils (LogUtils.java:setLogLevel(41)) - Set org.apache.ratis.util.FileUtils log level to TRACE
2019-09-24 16:57:09,451 INFO  util.LogUtils (LogUtils.java:setLogLevel(41)) - Set org.apache.ratis.server.impl.RaftServerImpl log level to DEBUG
2019-09-24 16:57:09,452 INFO  util.LogUtils (LogUtils.java:setLogLevel(41)) - Set org.apache.ratis.server.raftlog.RaftLog log level to DEBUG
2019-09-24 16:57:09,452 INFO  util.LogUtils (LogUtils.java:setLogLevel(41)) - Set org.apache.ratis.client.RaftClient log level to DEBUG
2019-09-24 16:57:09,454 INFO  ratis.MiniRaftCluster (MiniRaftCluster.java:runWithNewCluster(119)) - Running runWithNewCluster
2019-09-24 16:57:09,454 INFO  simulation.MiniRaftClusterWithSimulatedRpc (ConfUtils.java:logGet(43)) - org.apache.ratis.server.simulation.SimulatedRequestReply.simulateLatencyMs = 0 (custom)
2019-09-24 16:57:09,455 INFO  ratis.MiniRaftCluster (MiniRaftCluster.java:<init>(253)) - new MiniRaftClusterWithSimulatedRpc with group-1B2B000402B5:[s0:0.0.0.0:43163, s1:0.0.0.0:45876, s2:0.0.0.0:40865]
2019-09-24 16:57:09,455 INFO  ratis.MiniRaftCluster (MiniRaftCluster.java:start(287)) - .............................................................. 
2019-09-24 16:57:09,455 INFO  ratis.MiniRaftCluster (MiniRaftCluster.java:start(288)) - ... 
2019-09-24 16:57:09,455 INFO  ratis.MiniRaftCluster (MiniRaftCluster.java:start(289)) - ...     Starting MiniRaftClusterWithSimulatedRpc
2019-09-24 16:57:09,456 INFO  ratis.MiniRaftCluster (MiniRaftCluster.java:start(290)) - ... 
2019-09-24 16:57:09,456 INFO  ratis.MiniRaftCluster (MiniRaftCluster.java:start(291)) - .............................................................. 
2019-09-24 16:57:09,456 INFO  ratis.MiniRaftCluster (MiniRaftCluster.java:initServers(265)) - servers = {}
2019-09-24 16:57:09,457 INFO  ratis.MiniRaftCluster (MiniRaftCluster.java:newRaftServer(330)) - newRaftServer: s0, group-1B2B000402B5:[s0:0.0.0.0:43163, s1:0.0.0.0:45876, s2:0.0.0.0:40865], format? true
2019-09-24 16:57:09,457 TRACE util.FileUtils (FileUtils.java:deleteFully(88)) - deleteFully target/test/data/40df402d/MiniRaftClusterWithSimulatedRpcf438283d/s0
2019-09-24 16:57:09,458 TRACE util.FileUtils (FileUtils.java:deleteFully(104)) - deleteFully: target/test/data/40df402d/MiniRaftClusterWithSimulatedRpcf438283d/s0 does not exist.
2019-09-24 16:57:09,458 INFO  ratis.MiniRaftCluster (MiniRaftCluster.java:newRaftServer(335)) - Formatted directory target/test/data/40df402d/MiniRaftClusterWithSimulatedRpcf438283d/s0
2019-09-24 16:57:09,459 INFO  impl.RaftServerProxy (ConfUtils.java:logGet(43)) - raft.rpc.type = org.apache.ratis.server.simulation.SimulatedRpc (custom)
2019-09-24 16:57:09,460 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.storage.dir = [/workdir/ratis-test/target/test/data/40df402d/MiniRaftClusterWithSimulatedRpcf438283d/s0] (custom)
2019-09-24 16:57:09,460 INFO  impl.RaftServerProxy (RaftServerProxy.java:addNew(89)) - s0: addNew group-1B2B000402B5:[s0:0.0.0.0:43163, s1:0.0.0.0:45876, s2:0.0.0.0:40865] returns group-1B2B000402B5:java.util.concurrent.CompletableFuture@7ebd9ce6[Not completed]
2019-09-24 16:57:09,461 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.log.segment.size.max = 8MB (=8388608) (default)
2019-09-24 16:57:09,461 INFO  ratis.MiniRaftCluster (MiniRaftCluster.java:newRaftServer(330)) - newRaftServer: s1, group-1B2B000402B5:[s0:0.0.0.0:43163, s1:0.0.0.0:45876, s2:0.0.0.0:40865], format? true
2019-09-24 16:57:09,461 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.log.preallocated.size = 4MB (=4194304) (default)
2019-09-24 16:57:09,461 TRACE util.FileUtils (FileUtils.java:deleteFully(88)) - deleteFully target/test/data/40df402d/MiniRaftClusterWithSimulatedRpcf438283d/s1
2019-09-24 16:57:09,462 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.log.write.buffer.size = 64KB (=65536) (default)
2019-09-24 16:57:09,462 TRACE util.FileUtils (FileUtils.java:deleteFully(104)) - deleteFully: target/test/data/40df402d/MiniRaftClusterWithSimulatedRpcf438283d/s1 does not exist.
2019-09-24 16:57:09,462 INFO  ratis.MiniRaftCluster (MiniRaftCluster.java:newRaftServer(335)) - Formatted directory target/test/data/40df402d/MiniRaftClusterWithSimulatedRpcf438283d/s1
2019-09-24 16:57:09,462 INFO  impl.RaftServerImpl (RaftServerImpl.java:<init>(95)) - s0: new RaftServerImpl for group-1B2B000402B5:[s0:0.0.0.0:43163, s1:0.0.0.0:45876, s2:0.0.0.0:40865] with StateMachineWithException:uninitialized
2019-09-24 16:57:09,463 INFO  impl.RaftServerProxy (ConfUtils.java:logGet(43)) - raft.rpc.type = org.apache.ratis.server.simulation.SimulatedRpc (custom)
2019-09-24 16:57:09,463 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.rpc.timeout.min = 150ms (default)
2019-09-24 16:57:09,464 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.rpc.timeout.max = 300ms (default)
2019-09-24 16:57:09,464 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.storage.dir = [/workdir/ratis-test/target/test/data/40df402d/MiniRaftClusterWithSimulatedRpcf438283d/s1] (custom)
2019-09-24 16:57:09,464 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.rpcslowness.timeout = 60s (default)
2019-09-24 16:57:09,465 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.sleep.deviation.threshold = 300 (default)
2019-09-24 16:57:09,465 INFO  impl.RaftServerProxy (RaftServerProxy.java:addNew(89)) - s1: addNew group-1B2B000402B5:[s0:0.0.0.0:43163, s1:0.0.0.0:45876, s2:0.0.0.0:40865] returns group-1B2B000402B5:java.util.concurrent.CompletableFuture@4e5325d8[Not completed]
2019-09-24 16:57:09,465 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.log.appender.install.snapshot.enabled = true (default)
2019-09-24 16:57:09,465 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.log.segment.size.max = 8MB (=8388608) (default)
2019-09-24 16:57:09,465 INFO  ratis.MiniRaftCluster (MiniRaftCluster.java:newRaftServer(330)) - newRaftServer: s2, group-1B2B000402B5:[s0:0.0.0.0:43163, s1:0.0.0.0:45876, s2:0.0.0.0:40865], format? true
2019-09-24 16:57:09,466 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.log.preallocated.size = 4MB (=4194304) (default)
2019-09-24 16:57:09,465 INFO  impl.RaftServerImpl (ServerState.java:<init>(103)) - s0@group-1B2B000402B5: ConfigurationManager, init=-1: [s0:0.0.0.0:43163, s1:0.0.0.0:45876, s2:0.0.0.0:40865], old=null, confs=<EMPTY_MAP>
2019-09-24 16:57:09,466 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.log.write.buffer.size = 64KB (=65536) (default)
2019-09-24 16:57:09,466 TRACE util.FileUtils (FileUtils.java:deleteFully(88)) - deleteFully target/test/data/40df402d/MiniRaftClusterWithSimulatedRpcf438283d/s2
2019-09-24 16:57:09,467 INFO  impl.RaftServerImpl (RaftServerImpl.java:<init>(95)) - s1: new RaftServerImpl for group-1B2B000402B5:[s0:0.0.0.0:43163, s1:0.0.0.0:45876, s2:0.0.0.0:40865] with StateMachineWithException:uninitialized
2019-09-24 16:57:09,467 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.storage.dir = [/workdir/ratis-test/target/test/data/40df402d/MiniRaftClusterWithSimulatedRpcf438283d/s0] (custom)
2019-09-24 16:57:09,467 TRACE util.FileUtils (FileUtils.java:deleteFully(104)) - deleteFully: target/test/data/40df402d/MiniRaftClusterWithSimulatedRpcf438283d/s2 does not exist.
2019-09-24 16:57:09,468 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.log.corruption.policy = EXCEPTION (default)
2019-09-24 16:57:09,468 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.rpc.timeout.min = 150ms (default)
2019-09-24 16:57:09,468 INFO  ratis.MiniRaftCluster (MiniRaftCluster.java:newRaftServer(335)) - Formatted directory target/test/data/40df402d/MiniRaftClusterWithSimulatedRpcf438283d/s2
2019-09-24 16:57:09,468 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.rpc.timeout.max = 300ms (default)
2019-09-24 16:57:09,468 INFO  storage.RaftStorageDirectory (RaftStorageDirectory.java:analyzeStorage(246)) - The storage directory /workdir/ratis-test/target/test/data/40df402d/MiniRaftClusterWithSimulatedRpcf438283d/s0/d0ab3576-928c-4d57-8246-1b2b000402b5 does not exist. Creating ...
2019-09-24 16:57:09,469 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.rpcslowness.timeout = 60s (default)
2019-09-24 16:57:09,469 INFO  impl.RaftServerProxy (ConfUtils.java:logGet(43)) - raft.rpc.type = org.apache.ratis.server.simulation.SimulatedRpc (custom)
2019-09-24 16:57:09,469 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.sleep.deviation.threshold = 300 (default)
2019-09-24 16:57:09,470 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.log.appender.install.snapshot.enabled = true (default)
2019-09-24 16:57:09,470 TRACE util.FileUtils (LogUtils.java:runAndLog(61)) - Successfully ran Files.createDirectories /workdir/ratis-test/target/test/data/40df402d/MiniRaftClusterWithSimulatedRpcf438283d/s0/d0ab3576-928c-4d57-8246-1b2b000402b5
2019-09-24 16:57:09,470 INFO  impl.RaftServerImpl (ServerState.java:<init>(103)) - s1@group-1B2B000402B5: ConfigurationManager, init=-1: [s0:0.0.0.0:43163, s1:0.0.0.0:45876, s2:0.0.0.0:40865], old=null, confs=<EMPTY_MAP>
2019-09-24 16:57:09,470 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.storage.dir = [/workdir/ratis-test/target/test/data/40df402d/MiniRaftClusterWithSimulatedRpcf438283d/s2] (custom)
2019-09-24 16:57:09,470 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.storage.dir = [/workdir/ratis-test/target/test/data/40df402d/MiniRaftClusterWithSimulatedRpcf438283d/s1] (custom)
2019-09-24 16:57:09,471 INFO  impl.RaftServerProxy (RaftServerProxy.java:addNew(89)) - s2: addNew group-1B2B000402B5:[s0:0.0.0.0:43163, s1:0.0.0.0:45876, s2:0.0.0.0:40865] returns group-1B2B000402B5:java.util.concurrent.CompletableFuture@1d3704a9[Not completed]
2019-09-24 16:57:09,471 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.log.corruption.policy = EXCEPTION (default)
2019-09-24 16:57:09,471 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.log.segment.size.max = 8MB (=8388608) (default)
2019-09-24 16:57:09,471 INFO  storage.RaftStorageDirectory (RaftStorageDirectory.java:analyzeStorage(246)) - The storage directory /workdir/ratis-test/target/test/data/40df402d/MiniRaftClusterWithSimulatedRpcf438283d/s1/d0ab3576-928c-4d57-8246-1b2b000402b5 does not exist. Creating ...
2019-09-24 16:57:09,471 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.log.preallocated.size = 4MB (=4194304) (default)
2019-09-24 16:57:09,472 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.log.write.buffer.size = 64KB (=65536) (default)
2019-09-24 16:57:09,472 INFO  impl.RaftServerImpl (RaftServerImpl.java:<init>(95)) - s2: new RaftServerImpl for group-1B2B000402B5:[s0:0.0.0.0:43163, s1:0.0.0.0:45876, s2:0.0.0.0:40865] with StateMachineWithException:uninitialized
2019-09-24 16:57:09,472 TRACE util.FileUtils (LogUtils.java:runAndLog(61)) - Successfully ran Files.createDirectories /workdir/ratis-test/target/test/data/40df402d/MiniRaftClusterWithSimulatedRpcf438283d/s1/d0ab3576-928c-4d57-8246-1b2b000402b5
2019-09-24 16:57:09,472 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.rpc.timeout.min = 150ms (default)
2019-09-24 16:57:09,473 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.rpc.timeout.max = 300ms (default)
2019-09-24 16:57:09,473 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.rpcslowness.timeout = 60s (default)
2019-09-24 16:57:09,473 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.sleep.deviation.threshold = 300 (default)
2019-09-24 16:57:09,473 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.log.appender.install.snapshot.enabled = true (default)
2019-09-24 16:57:09,474 INFO  impl.RaftServerImpl (ServerState.java:<init>(103)) - s2@group-1B2B000402B5: ConfigurationManager, init=-1: [s0:0.0.0.0:43163, s1:0.0.0.0:45876, s2:0.0.0.0:40865], old=null, confs=<EMPTY_MAP>
2019-09-24 16:57:09,474 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.storage.dir = [/workdir/ratis-test/target/test/data/40df402d/MiniRaftClusterWithSimulatedRpcf438283d/s2] (custom)
2019-09-24 16:57:09,474 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.log.corruption.policy = EXCEPTION (default)
2019-09-24 16:57:09,475 INFO  storage.RaftStorageDirectory (RaftStorageDirectory.java:analyzeStorage(246)) - The storage directory /workdir/ratis-test/target/test/data/40df402d/MiniRaftClusterWithSimulatedRpcf438283d/s2/d0ab3576-928c-4d57-8246-1b2b000402b5 does not exist. Creating ...
2019-09-24 16:57:09,475 TRACE util.FileUtils (LogUtils.java:runAndLog(61)) - Successfully ran Files.createDirectories /workdir/ratis-test/target/test/data/40df402d/MiniRaftClusterWithSimulatedRpcf438283d/s2/d0ab3576-928c-4d57-8246-1b2b000402b5
2019-09-24 16:57:09,483 INFO  storage.RaftStorageDirectory (RaftStorageDirectory.java:tryLock(328)) - Lock on /workdir/ratis-test/target/test/data/40df402d/MiniRaftClusterWithSimulatedRpcf438283d/s2/d0ab3576-928c-4d57-8246-1b2b000402b5/in_use.lock acquired by nodename 31533@ratis-test-vphbd-3564017154
2019-09-24 16:57:09,483 INFO  storage.RaftStorageDirectory (RaftStorageDirectory.java:tryLock(328)) - Lock on /workdir/ratis-test/target/test/data/40df402d/MiniRaftClusterWithSimulatedRpcf438283d/s0/d0ab3576-928c-4d57-8246-1b2b000402b5/in_use.lock acquired by nodename 31533@ratis-test-vphbd-3564017154
2019-09-24 16:57:09,483 INFO  storage.RaftStorageDirectory (RaftStorageDirectory.java:tryLock(328)) - Lock on /workdir/ratis-test/target/test/data/40df402d/MiniRaftClusterWithSimulatedRpcf438283d/s1/d0ab3576-928c-4d57-8246-1b2b000402b5/in_use.lock acquired by nodename 31533@ratis-test-vphbd-3564017154
2019-09-24 16:57:09,484 TRACE util.FileUtils (LogUtils.java:runAndLog(61)) - Successfully ran Files.createDirectories /workdir/ratis-test/target/test/data/40df402d/MiniRaftClusterWithSimulatedRpcf438283d/s0/d0ab3576-928c-4d57-8246-1b2b000402b5/current
2019-09-24 16:57:09,484 TRACE util.FileUtils (LogUtils.java:runAndLog(61)) - Successfully ran Files.createDirectories /workdir/ratis-test/target/test/data/40df402d/MiniRaftClusterWithSimulatedRpcf438283d/s2/d0ab3576-928c-4d57-8246-1b2b000402b5/current
2019-09-24 16:57:09,484 TRACE util.FileUtils (LogUtils.java:runAndLog(61)) - Successfully ran Files.createDirectories /workdir/ratis-test/target/test/data/40df402d/MiniRaftClusterWithSimulatedRpcf438283d/s1/d0ab3576-928c-4d57-8246-1b2b000402b5/current
2019-09-24 16:57:09,485 TRACE util.FileUtils (LogUtils.java:runAndLog(61)) - Successfully ran Files.createDirectories /workdir/ratis-test/target/test/data/40df402d/MiniRaftClusterWithSimulatedRpcf438283d/s2/d0ab3576-928c-4d57-8246-1b2b000402b5/sm
2019-09-24 16:57:09,484 TRACE util.FileUtils (LogUtils.java:runAndLog(61)) - Successfully ran Files.createDirectories /workdir/ratis-test/target/test/data/40df402d/MiniRaftClusterWithSimulatedRpcf438283d/s0/d0ab3576-928c-4d57-8246-1b2b000402b5/sm
2019-09-24 16:57:09,485 TRACE util.FileUtils (LogUtils.java:runAndLog(61)) - Successfully ran Files.createDirectories /workdir/ratis-test/target/test/data/40df402d/MiniRaftClusterWithSimulatedRpcf438283d/s1/d0ab3576-928c-4d57-8246-1b2b000402b5/sm
2019-09-24 16:57:09,498 INFO  storage.RaftStorage (RaftStorage.java:format(84)) - Storage directory /workdir/ratis-test/target/test/data/40df402d/MiniRaftClusterWithSimulatedRpcf438283d/s2/d0ab3576-928c-4d57-8246-1b2b000402b5 has been successfully formatted.
2019-09-24 16:57:09,498 INFO  storage.RaftStorage (RaftStorage.java:format(84)) - Storage directory /workdir/ratis-test/target/test/data/40df402d/MiniRaftClusterWithSimulatedRpcf438283d/s0/d0ab3576-928c-4d57-8246-1b2b000402b5 has been successfully formatted.
2019-09-24 16:57:09,498 INFO  storage.RaftStorage (RaftStorage.java:format(84)) - Storage directory /workdir/ratis-test/target/test/data/40df402d/MiniRaftClusterWithSimulatedRpcf438283d/s1/d0ab3576-928c-4d57-8246-1b2b000402b5 has been successfully formatted.
2019-09-24 16:57:09,498 INFO  statemachine.SimpleStateMachine4Testing (SimpleStateMachine4Testing.java:initialize(206)) - Initializing StateMachineWithException:uninitialized
2019-09-24 16:57:09,498 INFO  statemachine.SimpleStateMachine4Testing (SimpleStateMachine4Testing.java:initialize(206)) - Initializing StateMachineWithException:uninitialized
2019-09-24 16:57:09,498 INFO  statemachine.SimpleStateMachine4Testing (SimpleStateMachine4Testing.java:initialize(206)) - Initializing StateMachineWithException:uninitialized
2019-09-24 16:57:09,499 INFO  statemachine.SimpleStateMachine4Testing (SimpleStateMachine4Testing.java:loadSnapshot(296)) - The snapshot file null does not exist
2019-09-24 16:57:09,499 INFO  statemachine.SimpleStateMachine4Testing (SimpleStateMachine4Testing.java:loadSnapshot(296)) - The snapshot file null does not exist
2019-09-24 16:57:09,499 INFO  statemachine.SimpleStateMachine4Testing (SimpleStateMachine4Testing.java:loadSnapshot(296)) - The snapshot file null does not exist
2019-09-24 16:57:09,499 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.notification.no-leader.timeout = 60s (default)
2019-09-24 16:57:09,500 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.notification.no-leader.timeout = 60s (default)
2019-09-24 16:57:09,499 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.notification.no-leader.timeout = 60s (default)
2019-09-24 16:57:09,500 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.log.use.memory = false (default)
2019-09-24 16:57:09,500 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.log.use.memory = false (default)
2019-09-24 16:57:09,500 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.log.purge.gap = 1024 (default)
2019-09-24 16:57:09,500 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.log.use.memory = false (default)
2019-09-24 16:57:09,501 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.log.appender.buffer.byte-limit = 4MB (=4194304) (default)
2019-09-24 16:57:09,500 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.log.purge.gap = 1024 (default)
2019-09-24 16:57:09,501 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.log.segment.size.max = 8MB (=8388608) (default)
2019-09-24 16:57:09,501 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.log.purge.gap = 1024 (default)
2019-09-24 16:57:09,501 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.log.segment.cache.num.max = 6 (default)
2019-09-24 16:57:09,501 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.log.appender.buffer.byte-limit = 4MB (=4194304) (default)
2019-09-24 16:57:09,502 INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:<init>(172)) - new s1@group-1B2B000402B5-SegmentedRaftLogWorker for RaftStorage:Storage Directory /workdir/ratis-test/target/test/data/40df402d/MiniRaftClusterWithSimulatedRpcf438283d/s1/d0ab3576-928c-4d57-8246-1b2b000402b5
2019-09-24 16:57:09,502 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.log.appender.buffer.byte-limit = 4MB (=4194304) (default)
2019-09-24 16:57:09,502 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.log.queue.byte-limit = 64MB (=67108864) (default)
2019-09-24 16:57:09,502 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.log.segment.size.max = 8MB (=8388608) (default)
2019-09-24 16:57:09,503 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.log.queue.element-limit = 4096 (default)
2019-09-24 16:57:09,502 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.log.segment.size.max = 8MB (=8388608) (default)
2019-09-24 16:57:09,503 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.log.segment.size.max = 8MB (=8388608) (default)
2019-09-24 16:57:09,503 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.log.segment.cache.num.max = 6 (default)
2019-09-24 16:57:09,503 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.log.preallocated.size = 4MB (=4194304) (default)
2019-09-24 16:57:09,503 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.log.segment.cache.num.max = 6 (default)
2019-09-24 16:57:09,504 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.log.write.buffer.size = 64KB (=65536) (default)
2019-09-24 16:57:09,504 INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:<init>(172)) - new s2@group-1B2B000402B5-SegmentedRaftLogWorker for RaftStorage:Storage Directory /workdir/ratis-test/target/test/data/40df402d/MiniRaftClusterWithSimulatedRpcf438283d/s2/d0ab3576-928c-4d57-8246-1b2b000402b5
2019-09-24 16:57:09,504 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.log.force.sync.num = 128 (default)
2019-09-24 16:57:09,504 INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:<init>(172)) - new s0@group-1B2B000402B5-SegmentedRaftLogWorker for RaftStorage:Storage Directory /workdir/ratis-test/target/test/data/40df402d/MiniRaftClusterWithSimulatedRpcf438283d/s0/d0ab3576-928c-4d57-8246-1b2b000402b5
2019-09-24 16:57:09,505 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.log.statemachine.data.sync = true (default)
2019-09-24 16:57:09,505 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.log.queue.byte-limit = 64MB (=67108864) (default)
2019-09-24 16:57:09,504 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.log.queue.byte-limit = 64MB (=67108864) (default)
2019-09-24 16:57:09,505 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.log.queue.element-limit = 4096 (default)
2019-09-24 16:57:09,505 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.log.statemachine.data.sync.timeout = 10s (default)
2019-09-24 16:57:09,506 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.log.segment.size.max = 8MB (=8388608) (default)
2019-09-24 16:57:09,505 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.log.queue.element-limit = 4096 (default)
2019-09-24 16:57:09,506 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.log.preallocated.size = 4MB (=4194304) (default)
2019-09-24 16:57:09,506 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.log.statemachine.data.sync.timeout.retry = -1 (default)
2019-09-24 16:57:09,506 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.log.write.buffer.size = 64KB (=65536) (default)
2019-09-24 16:57:09,506 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.log.segment.size.max = 8MB (=8388608) (default)
2019-09-24 16:57:09,507 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.log.force.sync.num = 128 (default)
2019-09-24 16:57:09,507 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.log.statemachine.data.caching.enabled = false (default)
2019-09-24 16:57:09,507 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.log.statemachine.data.sync = true (default)
2019-09-24 16:57:09,507 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.log.preallocated.size = 4MB (=4194304) (default)
2019-09-24 16:57:09,508 INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:lambda$new$0(132)) - s1@group-1B2B000402B5-SegmentedRaftLogWorker: flushIndex: setUnconditionally 0 -> -1
2019-09-24 16:57:09,508 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.log.statemachine.data.sync.timeout = 10s (default)
2019-09-24 16:57:09,508 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.log.write.buffer.size = 64KB (=65536) (default)
2019-09-24 16:57:09,508 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.snapshot.auto.trigger.enabled = false (default)
2019-09-24 16:57:09,508 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.log.statemachine.data.sync.timeout.retry = -1 (default)
2019-09-24 16:57:09,508 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.snapshot.retention.file.num = -1 (default)
2019-09-24 16:57:09,508 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.log.force.sync.num = 128 (default)
2019-09-24 16:57:09,509 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.retrycache.expirytime = 60s (default)
2019-09-24 16:57:09,509 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.log.statemachine.data.caching.enabled = false (default)
2019-09-24 16:57:09,509 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.log.statemachine.data.sync = true (default)
2019-09-24 16:57:09,510 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.log.statemachine.data.sync.timeout = 10s (default)
2019-09-24 16:57:09,510 INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:lambda$new$0(132)) - s0@group-1B2B000402B5-SegmentedRaftLogWorker: flushIndex: setUnconditionally 0 -> -1
2019-09-24 16:57:09,510 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.log.statemachine.data.sync.timeout.retry = -1 (default)
2019-09-24 16:57:09,510 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.snapshot.auto.trigger.enabled = false (default)
2019-09-24 16:57:09,510 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.log.statemachine.data.caching.enabled = false (default)
2019-09-24 16:57:09,510 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.snapshot.retention.file.num = -1 (default)
2019-09-24 16:57:09,511 INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:lambda$new$0(132)) - s2@group-1B2B000402B5-SegmentedRaftLogWorker: flushIndex: setUnconditionally 0 -> -1
2019-09-24 16:57:09,511 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.retrycache.expirytime = 60s (default)
2019-09-24 16:57:09,511 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.snapshot.auto.trigger.enabled = false (default)
2019-09-24 16:57:09,511 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.snapshot.retention.file.num = -1 (default)
2019-09-24 16:57:09,511 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.retrycache.expirytime = 60s (default)
2019-09-24 16:57:09,517 INFO  impl.RaftServerImpl (RaftServerImpl.java:start(181)) - s0@group-1B2B000402B5: start as a follower, conf=-1: [s0:0.0.0.0:43163, s1:0.0.0.0:45876, s2:0.0.0.0:40865], old=null
2019-09-24 16:57:09,517 INFO  impl.RaftServerImpl (RaftServerImpl.java:setRole(170)) - s0@group-1B2B000402B5: changes role from      null to FOLLOWER at term 0 for startAsFollower
2019-09-24 16:57:09,518 INFO  impl.RoleInfo (RoleInfo.java:updateAndGet(143)) - s0: start FollowerState
2019-09-24 16:57:09,519 INFO  util.JmxRegister (JmxRegister.java:tryRegister(44)) - Successfully registered JMX Bean with object name Ratis:service=RaftServer,group=group-1B2B000402B5,id=s0
2019-09-24 16:57:09,524 INFO  impl.RaftServerProxy (RaftServerProxy.java:lambda$start$3(299)) - s0: start RPC server
2019-09-24 16:57:09,525 INFO  impl.RaftServerImpl (RaftServerImpl.java:start(181)) - s1@group-1B2B000402B5: start as a follower, conf=-1: [s0:0.0.0.0:43163, s1:0.0.0.0:45876, s2:0.0.0.0:40865], old=null
2019-09-24 16:57:09,526 INFO  impl.RaftServerImpl (RaftServerImpl.java:setRole(170)) - s1@group-1B2B000402B5: changes role from      null to FOLLOWER at term 0 for startAsFollower
2019-09-24 16:57:09,526 INFO  impl.RoleInfo (RoleInfo.java:updateAndGet(143)) - s1: start FollowerState
2019-09-24 16:57:09,527 INFO  util.JmxRegister (JmxRegister.java:tryRegister(44)) - Successfully registered JMX Bean with object name Ratis:service=RaftServer,group=group-1B2B000402B5,id=s1
2019-09-24 16:57:09,531 INFO  impl.RaftServerProxy (RaftServerProxy.java:lambda$start$3(299)) - s1: start RPC server
2019-09-24 16:57:09,532 INFO  impl.RaftServerImpl (RaftServerImpl.java:start(181)) - s2@group-1B2B000402B5: start as a follower, conf=-1: [s0:0.0.0.0:43163, s1:0.0.0.0:45876, s2:0.0.0.0:40865], old=null
2019-09-24 16:57:09,532 INFO  impl.RaftServerImpl (RaftServerImpl.java:setRole(170)) - s2@group-1B2B000402B5: changes role from      null to FOLLOWER at term 0 for startAsFollower
2019-09-24 16:57:09,532 INFO  impl.RoleInfo (RoleInfo.java:updateAndGet(143)) - s2: start FollowerState
2019-09-24 16:57:09,533 INFO  util.JmxRegister (JmxRegister.java:tryRegister(44)) - Successfully registered JMX Bean with object name Ratis:service=RaftServer,group=group-1B2B000402B5,id=s2
2019-09-24 16:57:09,537 INFO  impl.RaftServerProxy (RaftServerProxy.java:lambda$start$3(299)) - s2: start RPC server
2019-09-24 16:57:09,538 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.rpc.timeout.max = 300ms (default)
2019-09-24 16:57:09,539 INFO  ratis.RaftTestUtil (RaftTestUtil.java:waitForLeader(86)) - printing ALL groups
  s0:  RUNNING  FOLLOWER s0@group-1B2B000402B5:t0, leader=null, voted=null, raftlog=s0@group-1B2B000402B5-SegmentedRaftLog:OPENED:c-1,f-1,i0, conf=-1: [s0:0.0.0.0:43163, s1:0.0.0.0:45876, s2:0.0.0.0:40865], old=null RUNNING
  s1:  RUNNING  FOLLOWER s1@group-1B2B000402B5:t0, leader=null, voted=null, raftlog=s1@group-1B2B000402B5-SegmentedRaftLog:OPENED:c-1,f-1,i0, conf=-1: [s0:0.0.0.0:43163, s1:0.0.0.0:45876, s2:0.0.0.0:40865], old=null RUNNING
  s2:  RUNNING  FOLLOWER s2@group-1B2B000402B5:t0, leader=null, voted=null, raftlog=s2@group-1B2B000402B5-SegmentedRaftLog:OPENED:c-1,f-1,i0, conf=-1: [s0:0.0.0.0:43163, s1:0.0.0.0:45876, s2:0.0.0.0:40865], old=null RUNNING
2019-09-24 16:57:09,540 WARN  ratis.RaftTestUtil (JavaUtils.java:attempt(158)) - FAILED "waitForLeader-null-(expectLeader? true)", attempt #1/100: java.lang.IllegalStateException: No leader yet : printing ALL groups
  s0:  RUNNING  FOLLOWER s0@group-1B2B000402B5:t0, leader=null, voted=null, raftlog=s0@group-1B2B000402B5-SegmentedRaftLog:OPENED:c-1,f-1,i0, conf=-1: [s0:0.0.0.0:43163, s1:0.0.0.0:45876, s2:0.0.0.0:40865], old=null RUNNING
  s1:  RUNNING  FOLLOWER s1@group-1B2B000402B5:t0, leader=null, voted=null, raftlog=s1@group-1B2B000402B5-SegmentedRaftLog:OPENED:c-1,f-1,i0, conf=-1: [s0:0.0.0.0:43163, s1:0.0.0.0:45876, s2:0.0.0.0:40865], old=null RUNNING
  s2:  RUNNING  FOLLOWER s2@group-1B2B000402B5:t0, leader=null, voted=null, raftlog=s2@group-1B2B000402B5-SegmentedRaftLog:OPENED:c-1,f-1,i0, conf=-1: [s0:0.0.0.0:43163, s1:0.0.0.0:45876, s2:0.0.0.0:40865], old=null RUNNING, sleep 450ms and then retry.
java.lang.IllegalStateException: No leader yet : printing ALL groups
  s0:  RUNNING  FOLLOWER s0@group-1B2B000402B5:t0, leader=null, voted=null, raftlog=s0@group-1B2B000402B5-SegmentedRaftLog:OPENED:c-1,f-1,i0, conf=-1: [s0:0.0.0.0:43163, s1:0.0.0.0:45876, s2:0.0.0.0:40865], old=null RUNNING
  s1:  RUNNING  FOLLOWER s1@group-1B2B000402B5:t0, leader=null, voted=null, raftlog=s1@group-1B2B000402B5-SegmentedRaftLog:OPENED:c-1,f-1,i0, conf=-1: [s0:0.0.0.0:43163, s1:0.0.0.0:45876, s2:0.0.0.0:40865], old=null RUNNING
  s2:  RUNNING  FOLLOWER s2@group-1B2B000402B5:t0, leader=null, voted=null, raftlog=s2@group-1B2B000402B5-SegmentedRaftLog:OPENED:c-1,f-1,i0, conf=-1: [s0:0.0.0.0:43163, s1:0.0.0.0:45876, s2:0.0.0.0:40865], old=null RUNNING
	at org.apache.ratis.MiniRaftCluster.newIllegalStateExceptionForNoLeaders(MiniRaftCluster.java:506)
	at org.apache.ratis.RaftTestUtil.lambda$waitForLeader$1(RaftTestUtil.java:90)
	at org.apache.ratis.MiniRaftCluster.getLeader(MiniRaftCluster.java:539)
	at org.apache.ratis.MiniRaftCluster.getLeader(MiniRaftCluster.java:532)
	at org.apache.ratis.RaftTestUtil.lambda$waitForLeader$3(RaftTestUtil.java:98)
	at org.apache.ratis.util.JavaUtils.attempt(JavaUtils.java:152)
	at org.apache.ratis.RaftTestUtil.waitForLeader(RaftTestUtil.java:97)
	at org.apache.ratis.RaftTestUtil.waitForLeader(RaftTestUtil.java:77)
	at org.apache.ratis.RaftTestUtil.waitForLeader(RaftTestUtil.java:72)
	at org.apache.ratis.server.impl.RaftStateMachineExceptionTests.runTestHandleStateMachineException(RaftStateMachineExceptionTests.java:85)
	at org.apache.ratis.MiniRaftCluster$Factory$Get.runWithNewCluster(MiniRaftCluster.java:125)
	at org.apache.ratis.MiniRaftCluster$Factory$Get.runWithNewCluster(MiniRaftCluster.java:113)
	at org.apache.ratis.server.impl.RaftStateMachineExceptionTests.testHandleStateMachineException(RaftStateMachineExceptionTests.java:81)
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.lang.reflect.Method.invoke(Method.java:498)
	at org.junit.runners.model.FrameworkMethod$1.runReflectiveCall(FrameworkMethod.java:50)
	at org.junit.internal.runners.model.ReflectiveCallable.run(ReflectiveCallable.java:12)
	at org.junit.runners.model.FrameworkMethod.invokeExplosively(FrameworkMethod.java:47)
	at org.junit.internal.runners.statements.InvokeMethod.evaluate(InvokeMethod.java:17)
	at org.junit.internal.runners.statements.RunAfters.evaluate(RunAfters.java:27)
	at org.junit.internal.runners.statements.FailOnTimeout$CallableStatement.call(FailOnTimeout.java:298)
	at org.junit.internal.runners.statements.FailOnTimeout$CallableStatement.call(FailOnTimeout.java:292)
	at java.util.concurrent.FutureTask.run(FutureTask.java:266)
	at java.lang.Thread.run(Thread.java:748)
2019-09-24 16:57:09,689 INFO  impl.FollowerState (FollowerState.java:run(108)) - s2@group-1B2B000402B5-FollowerState: change to CANDIDATE, lastRpcTime:156ms, electionTimeout:156ms
2019-09-24 16:57:09,690 INFO  impl.RoleInfo (RoleInfo.java:shutdownFollowerState(121)) - s2: shutdown FollowerState
2019-09-24 16:57:09,690 INFO  impl.RaftServerImpl (RaftServerImpl.java:setRole(170)) - s2@group-1B2B000402B5: changes role from  FOLLOWER to CANDIDATE at term 0 for changeToCandidate
2019-09-24 16:57:09,690 INFO  impl.RoleInfo (RoleInfo.java:updateAndGet(143)) - s2: start LeaderElection
2019-09-24 16:57:09,703 INFO  impl.FollowerState (FollowerState.java:run(108)) - s1@group-1B2B000402B5-FollowerState: change to CANDIDATE, lastRpcTime:176ms, electionTimeout:176ms
2019-09-24 16:57:09,703 INFO  impl.RoleInfo (RoleInfo.java:shutdownFollowerState(121)) - s1: shutdown FollowerState
2019-09-24 16:57:09,703 INFO  impl.RaftServerImpl (RaftServerImpl.java:setRole(170)) - s1@group-1B2B000402B5: changes role from  FOLLOWER to CANDIDATE at term 0 for changeToCandidate
2019-09-24 16:57:09,704 INFO  impl.RoleInfo (RoleInfo.java:updateAndGet(143)) - s1: start LeaderElection
2019-09-24 16:57:09,709 INFO  impl.LeaderElection (LeaderElection.java:askForVotes(178)) - s2@group-1B2B000402B5-LeaderElection3: begin an election at term 1 for -1: [s0:0.0.0.0:43163, s1:0.0.0.0:45876, s2:0.0.0.0:40865], old=null
2019-09-24 16:57:09,711 DEBUG impl.RaftServerImpl (RaftServerImpl.java:requestVote(743)) - s0@group-1B2B000402B5: receive requestVote(s2, group-1B2B000402B5, 1, (t:0, i:0))
2019-09-24 16:57:09,711 DEBUG impl.RaftServerImpl (RaftServerImpl.java:requestVote(743)) - s1@group-1B2B000402B5: receive requestVote(s2, group-1B2B000402B5, 1, (t:0, i:0))
2019-09-24 16:57:09,711 INFO  impl.RaftServerImpl (RaftServerImpl.java:setRole(170)) - s0@group-1B2B000402B5: changes role from  FOLLOWER to FOLLOWER at term 1 for recognizeCandidate:s2
2019-09-24 16:57:09,711 INFO  impl.LeaderElection (LeaderElection.java:askForVotes(178)) - s1@group-1B2B000402B5-LeaderElection4: begin an election at term 1 for -1: [s0:0.0.0.0:43163, s1:0.0.0.0:45876, s2:0.0.0.0:40865], old=null
2019-09-24 16:57:09,711 INFO  impl.RoleInfo (RoleInfo.java:shutdownFollowerState(121)) - s0: shutdown FollowerState
2019-09-24 16:57:09,711 DEBUG impl.RaftServerImpl (RaftServerImpl.java:requestVote(775)) - s1@group-1B2B000402B5 replies to vote request: s2<-s1#0:FAIL-t1. Peer's state: s1@group-1B2B000402B5:t1, leader=null, voted=s1, raftlog=s1@group-1B2B000402B5-SegmentedRaftLog:OPENED:c-1,f-1,i0, conf=-1: [s0:0.0.0.0:43163, s1:0.0.0.0:45876, s2:0.0.0.0:40865], old=null
2019-09-24 16:57:09,712 INFO  impl.FollowerState (FollowerState.java:run(117)) - s0@group-1B2B000402B5-FollowerState was interrupted: java.lang.InterruptedException: sleep interrupted
2019-09-24 16:57:09,712 INFO  impl.RoleInfo (RoleInfo.java:updateAndGet(143)) - s0: start FollowerState
2019-09-24 16:57:09,713 DEBUG impl.RaftServerImpl (RaftServerImpl.java:requestVote(743)) - s0@group-1B2B000402B5: receive requestVote(s1, group-1B2B000402B5, 1, (t:0, i:0))
2019-09-24 16:57:09,713 DEBUG impl.RaftServerImpl (RaftServerImpl.java:requestVote(743)) - s2@group-1B2B000402B5: receive requestVote(s1, group-1B2B000402B5, 1, (t:0, i:0))
2019-09-24 16:57:09,713 DEBUG impl.RaftServerImpl (RaftServerImpl.java:requestVote(775)) - s2@group-1B2B000402B5 replies to vote request: s1<-s2#0:FAIL-t1. Peer's state: s2@group-1B2B000402B5:t1, leader=null, voted=s2, raftlog=s2@group-1B2B000402B5-SegmentedRaftLog:OPENED:c-1,f-1,i0, conf=-1: [s0:0.0.0.0:43163, s1:0.0.0.0:45876, s2:0.0.0.0:40865], old=null
2019-09-24 16:57:09,725 DEBUG impl.RaftServerImpl (RaftServerImpl.java:requestVote(775)) - s0@group-1B2B000402B5 replies to vote request: s2<-s0#0:OK-t1. Peer's state: s0@group-1B2B000402B5:t1, leader=null, voted=s2, raftlog=s0@group-1B2B000402B5-SegmentedRaftLog:OPENED:c-1,f-1,i0, conf=-1: [s0:0.0.0.0:43163, s1:0.0.0.0:45876, s2:0.0.0.0:40865], old=null
2019-09-24 16:57:09,726 DEBUG impl.RaftServerImpl (RaftServerImpl.java:requestVote(775)) - s0@group-1B2B000402B5 replies to vote request: s1<-s0#0:FAIL-t1. Peer's state: s0@group-1B2B000402B5:t1, leader=null, voted=s2, raftlog=s0@group-1B2B000402B5-SegmentedRaftLog:OPENED:c-1,f-1,i0, conf=-1: [s0:0.0.0.0:43163, s1:0.0.0.0:45876, s2:0.0.0.0:40865], old=null
2019-09-24 16:57:09,726 INFO  impl.LeaderElection (LeaderElection.java:logAndReturn(56)) - s2@group-1B2B000402B5-LeaderElection3: Election PASSED; received 2 response(s) [s2<-s0#0:OK-t1, s2<-s1#0:FAIL-t1] and 0 exception(s); s2@group-1B2B000402B5:t1, leader=null, voted=s2, raftlog=s2@group-1B2B000402B5-SegmentedRaftLog:OPENED:c-1,f-1,i0, conf=-1: [s0:0.0.0.0:43163, s1:0.0.0.0:45876, s2:0.0.0.0:40865], old=null
2019-09-24 16:57:09,726 INFO  impl.LeaderElection (LeaderElection.java:logAndReturn(56)) - s1@group-1B2B000402B5-LeaderElection4: Election REJECTED; received 2 response(s) [s1<-s0#0:FAIL-t1, s1<-s2#0:FAIL-t1] and 0 exception(s); s1@group-1B2B000402B5:t1, leader=null, voted=s1, raftlog=s1@group-1B2B000402B5-SegmentedRaftLog:OPENED:c-1,f-1,i0, conf=-1: [s0:0.0.0.0:43163, s1:0.0.0.0:45876, s2:0.0.0.0:40865], old=null
2019-09-24 16:57:09,726 INFO  impl.RoleInfo (RoleInfo.java:shutdownLeaderElection(134)) - s2: shutdown LeaderElection
2019-09-24 16:57:09,726 INFO  impl.RaftServerImpl (RaftServerImpl.java:setRole(170)) - s1@group-1B2B000402B5: changes role from CANDIDATE to FOLLOWER at term 1 for DISCOVERED_A_NEW_TERM
2019-09-24 16:57:09,727 INFO  impl.RaftServerImpl (RaftServerImpl.java:setRole(170)) - s2@group-1B2B000402B5: changes role from CANDIDATE to LEADER at term 1 for changeToLeader
2019-09-24 16:57:09,727 INFO  impl.RoleInfo (RoleInfo.java:shutdownLeaderElection(134)) - s1: shutdown LeaderElection
2019-09-24 16:57:09,727 INFO  impl.RaftServerImpl (ServerState.java:setLeader(254)) - s2@group-1B2B000402B5: change Leader from null to s2 at term 1 for becomeLeader, leader elected after 227ms
2019-09-24 16:57:09,727 INFO  impl.RoleInfo (RoleInfo.java:updateAndGet(143)) - s1: start FollowerState
2019-09-24 16:57:09,727 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.staging.catchup.gap = 1000 (default)
2019-09-24 16:57:09,727 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.rpc.sleep.time = 25ms (default)
2019-09-24 16:57:09,728 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.write.element-limit = 4096 (default)
2019-09-24 16:57:09,728 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.watch.timeout = 10s (default)
2019-09-24 16:57:09,728 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.watch.timeout.denomination = 1s (default)
2019-09-24 16:57:09,728 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.watch.element-limit = 65536 (default)
2019-09-24 16:57:09,732 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.log.appender.snapshot.chunk.size.max = 16MB (=16777216) (default)
2019-09-24 16:57:09,732 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.log.appender.buffer.byte-limit = 4MB (=4194304) (default)
2019-09-24 16:57:09,732 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.log.appender.buffer.element-limit = 0 (default)
2019-09-24 16:57:09,733 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.log.appender.snapshot.chunk.size.max = 16MB (=16777216) (default)
2019-09-24 16:57:09,733 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.log.appender.buffer.byte-limit = 4MB (=4194304) (default)
2019-09-24 16:57:09,733 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.log.appender.buffer.element-limit = 0 (default)
2019-09-24 16:57:09,733 INFO  impl.RoleInfo (RoleInfo.java:updateAndGet(143)) - s2: start LeaderState
2019-09-24 16:57:09,734 DEBUG raftlog.RaftLog (SegmentedRaftLog.java:appendImpl(425)) - truncateIndex=-1, arrayIndex=0
2019-09-24 16:57:09,734 INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:startLogSegment(380)) - s2@group-1B2B000402B5-SegmentedRaftLogWorker: Starting segment from index:0
2019-09-24 16:57:09,735 INFO  impl.RaftServerImpl (ServerState.java:setRaftConf(355)) - s2@group-1B2B000402B5: set configuration 0: [s0:0.0.0.0:43163, s1:0.0.0.0:45876, s2:0.0.0.0:40865], old=null at 0
2019-09-24 16:57:09,735 INFO  impl.RaftServerImpl (ServerState.java:setLeader(254)) - s0@group-1B2B000402B5: change Leader from null to s2 at term 1 for appendEntries, leader elected after 236ms
2019-09-24 16:57:09,736 INFO  impl.RaftServerImpl (ServerState.java:setLeader(254)) - s1@group-1B2B000402B5: change Leader from null to s2 at term 1 for appendEntries, leader elected after 236ms
2019-09-24 16:57:09,737 DEBUG impl.RaftServerImpl (RaftServerImpl.java:logAppendEntries(850)) - s0@group-1B2B000402B5: receive appendEntries(s2, 1, null, -1, false, commits[s2:c-1, s0:c-1, s1:c-1], entries: (t:1, i:0), CONFIGURATIONENTRY
2019-09-24 16:57:09,737 DEBUG impl.RaftServerImpl (RaftServerImpl.java:logAppendEntries(850)) - s1@group-1B2B000402B5: receive appendEntries(s2, 1, null, -1, false, commits[s2:c-1, s0:c-1, s1:c-1], entries: (t:1, i:0), CONFIGURATIONENTRY
2019-09-24 16:57:09,738 INFO  impl.RaftServerImpl (ServerState.java:setRaftConf(355)) - s0@group-1B2B000402B5: set configuration 0: [s0:0.0.0.0:43163, s1:0.0.0.0:45876, s2:0.0.0.0:40865], old=null at 0
2019-09-24 16:57:09,738 INFO  impl.RaftServerImpl (ServerState.java:setRaftConf(355)) - s1@group-1B2B000402B5: set configuration 0: [s0:0.0.0.0:43163, s1:0.0.0.0:45876, s2:0.0.0.0:40865], old=null at 0
2019-09-24 16:57:09,738 DEBUG raftlog.RaftLog (SegmentedRaftLog.java:appendImpl(425)) - truncateIndex=-1, arrayIndex=0
2019-09-24 16:57:09,738 DEBUG raftlog.RaftLog (SegmentedRaftLog.java:appendImpl(425)) - truncateIndex=-1, arrayIndex=0
2019-09-24 16:57:09,738 INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:startLogSegment(380)) - s0@group-1B2B000402B5-SegmentedRaftLogWorker: Starting segment from index:0
2019-09-24 16:57:09,738 INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:startLogSegment(380)) - s1@group-1B2B000402B5-SegmentedRaftLogWorker: Starting segment from index:0
2019-09-24 16:57:09,902 INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:execute(569)) - s0@group-1B2B000402B5-SegmentedRaftLogWorker: created new log segment /workdir/ratis-test/target/test/data/40df402d/MiniRaftClusterWithSimulatedRpcf438283d/s0/d0ab3576-928c-4d57-8246-1b2b000402b5/current/log_inprogress_0
2019-09-24 16:57:09,902 INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:execute(569)) - s2@group-1B2B000402B5-SegmentedRaftLogWorker: created new log segment /workdir/ratis-test/target/test/data/40df402d/MiniRaftClusterWithSimulatedRpcf438283d/s2/d0ab3576-928c-4d57-8246-1b2b000402b5/current/log_inprogress_0
2019-09-24 16:57:09,902 INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:execute(569)) - s1@group-1B2B000402B5-SegmentedRaftLogWorker: created new log segment /workdir/ratis-test/target/test/data/40df402d/MiniRaftClusterWithSimulatedRpcf438283d/s1/d0ab3576-928c-4d57-8246-1b2b000402b5/current/log_inprogress_0
2019-09-24 16:57:09,916 DEBUG impl.RaftServerImpl (RaftServerImpl.java:logAppendEntries(850)) - s0@group-1B2B000402B5: succeeded to handle AppendEntries. Reply: s2<-s0#0:OK,SUCCESS,nextIndex:1,term:1,followerCommit:-1
2019-09-24 16:57:09,917 DEBUG impl.RaftServerImpl (RaftServerImpl.java:logAppendEntries(850)) - s1@group-1B2B000402B5: succeeded to handle AppendEntries. Reply: s2<-s1#0:OK,SUCCESS,nextIndex:1,term:1,followerCommit:-1
2019-09-24 16:57:09,992 INFO  ratis.RaftTestUtil (RaftTestUtil.java:waitForLeader(101)) - printing ALL groups
  s0:  RUNNING  FOLLOWER s0@group-1B2B000402B5:t1, leader=s2, voted=s2, raftlog=s0@group-1B2B000402B5-SegmentedRaftLog:OPENED:c-1,f0,i0, conf=0: [s0:0.0.0.0:43163, s1:0.0.0.0:45876, s2:0.0.0.0:40865], old=null RUNNING
  s1:  RUNNING  FOLLOWER s1@group-1B2B000402B5:t1, leader=s2, voted=s1, raftlog=s1@group-1B2B000402B5-SegmentedRaftLog:OPENED:c-1,f0,i0, conf=0: [s0:0.0.0.0:43163, s1:0.0.0.0:45876, s2:0.0.0.0:40865], old=null RUNNING
  s2:  RUNNING    LEADER s2@group-1B2B000402B5:t1, leader=s2, voted=s2, raftlog=s2@group-1B2B000402B5-SegmentedRaftLog:OPENED:c0,f0,i0, conf=0: [s0:0.0.0.0:43163, s1:0.0.0.0:45876, s2:0.0.0.0:40865], old=null RUNNING
2019-09-24 16:57:09,992 DEBUG client.RaftClient (ConfUtils.java:logGet(43)) - raft.rpc.type = org.apache.ratis.server.simulation.SimulatedRpc (custom)
2019-09-24 16:57:09,993 DEBUG client.RaftClient (RaftClientImpl.java:sendRequest(275)) - client-D8591B610DC0: send RaftClientRequest:client-D8591B610DC0->s2@group-1B2B000402B5, cid=1, seq=0, RW, m
2019-09-24 16:57:09,993 DEBUG impl.RaftServerImpl (RaftServerImpl.java:submitClientRequestAsync(533)) - s2@group-1B2B000402B5: receive client request(RaftClientRequest:client-D8591B610DC0->s2@group-1B2B000402B5, cid=1, seq=0, RW, m)
2019-09-24 16:57:09,995 DEBUG impl.RaftServerImpl (LeaderState.java:addPendingRequest(317)) - s2@group-1B2B000402B5-LeaderState: addPendingRequest at RaftClientRequest:client-D8591B610DC0->s2@group-1B2B000402B5, cid=1, seq=0, RW, m, entry=(t:1, i:1), STATEMACHINELOGENTRY, client-D8591B610DC0, cid=1
2019-09-24 16:57:09,996 DEBUG impl.RaftServerImpl (RaftServerImpl.java:logAppendEntries(850)) - s1@group-1B2B000402B5: receive appendEntries(s2, 1, (t:1, i:0), 0, false, commits[s2:c0, s0:c0, s1:c0], entries: (t:1, i:1), STATEMACHINELOGENTRY, client-D8591B610DC0, cid=1
2019-09-24 16:57:09,996 DEBUG impl.RaftServerImpl (RaftServerImpl.java:logAppendEntries(850)) - s0@group-1B2B000402B5: receive appendEntries(s2, 1, (t:1, i:0), 0, false, commits[s2:c0, s0:c0, s1:c0], entries: (t:1, i:1), STATEMACHINELOGENTRY, client-D8591B610DC0, cid=1
2019-09-24 16:57:09,996 DEBUG raftlog.RaftLog (SegmentedRaftLog.java:appendImpl(425)) - truncateIndex=-1, arrayIndex=0
2019-09-24 16:57:09,996 DEBUG raftlog.RaftLog (SegmentedRaftLog.java:appendImpl(425)) - truncateIndex=-1, arrayIndex=0
2019-09-24 16:57:10,012 DEBUG impl.RaftServerImpl (RaftServerImpl.java:logAppendEntries(850)) - s1@group-1B2B000402B5: succeeded to handle AppendEntries. Reply: s2<-s1#0:OK,SUCCESS,nextIndex:2,term:1,followerCommit:0
2019-09-24 16:57:10,012 DEBUG impl.RaftServerImpl (RaftServerImpl.java:logAppendEntries(850)) - s0@group-1B2B000402B5: succeeded to handle AppendEntries. Reply: s2<-s0#0:OK,SUCCESS,nextIndex:2,term:1,followerCommit:0
2019-09-24 16:57:10,013 DEBUG impl.RaftServerImpl (RaftServerImpl.java:logAppendEntries(850)) - s0@group-1B2B000402B5: receive appendEntries(s2, 1, (t:1, i:1), 1, false, commits[s2:c1, s0:c0, s1:c0], entries: (t:1, i:2), METADATAENTRY(c1)
2019-09-24 16:57:10,013 DEBUG client.RaftClient (RaftClientImpl.java:sendRequest(285)) - client-D8591B610DC0: receive RaftClientReply:client-D8591B610DC0->s2@group-1B2B000402B5, cid=1, FAILED org.apache.ratis.protocol.StateMachineException: org.apache.ratis.protocol.StateMachineException from Server s2@group-1B2B000402B5: Fake Exception, logIndex=1, commits[s2:c1, s0:c0, s1:c0]
2019-09-24 16:57:10,013 DEBUG impl.RaftServerImpl (RaftServerImpl.java:logAppendEntries(850)) - s1@group-1B2B000402B5: receive appendEntries(s2, 1, (t:1, i:1), 1, false, commits[s2:c1, s0:c0, s1:c0], entries: (t:1, i:2), METADATAENTRY(c1)
2019-09-24 16:57:10,014 DEBUG raftlog.RaftLog (SegmentedRaftLog.java:appendImpl(425)) - truncateIndex=-1, arrayIndex=0
org.apache.ratis.protocol.StateMachineException: org.apache.ratis.protocol.StateMachineException from Server s2@group-1B2B000402B5: Fake Exception
2019-09-24 16:57:10,014 DEBUG raftlog.RaftLog (SegmentedRaftLog.java:appendImpl(425)) - truncateIndex=-1, arrayIndex=0
	at org.apache.ratis.server.impl.RaftServerImpl.lambda$replyPendingRequest$23(RaftServerImpl.java:1227)
	at java.util.concurrent.CompletableFuture.uniWhenComplete(CompletableFuture.java:760)
	at java.util.concurrent.CompletableFuture.uniWhenCompleteStage(CompletableFuture.java:778)
	at java.util.concurrent.CompletableFuture.whenComplete(CompletableFuture.java:2140)
	at org.apache.ratis.server.impl.RaftServerImpl.replyPendingRequest(RaftServerImpl.java:1220)
	at org.apache.ratis.server.impl.RaftServerImpl.applyLogToStateMachine(RaftServerImpl.java:1275)
	at org.apache.ratis.server.impl.StateMachineUpdater.applyLog(StateMachineUpdater.java:224)
	at org.apache.ratis.server.impl.StateMachineUpdater.run(StateMachineUpdater.java:165)
	at java.lang.Thread.run(Thread.java:748)
Caused by: org.apache.ratis.protocol.StateMachineException: Fake Exception
	at org.apache.ratis.server.impl.RaftStateMachineExceptionTests$StateMachineWithException.applyTransaction(RaftStateMachineExceptionTests.java:59)
	at org.apache.ratis.server.impl.RaftServerImpl.applyLogToStateMachine(RaftServerImpl.java:1274)
	... 3 more
2019-09-24 16:57:10,015 INFO  ratis.MiniRaftCluster (MiniRaftCluster.java:shutdown(700)) - ************************************************************** 
2019-09-24 16:57:10,015 INFO  ratis.MiniRaftCluster (MiniRaftCluster.java:shutdown(701)) - *** 
2019-09-24 16:57:10,015 INFO  ratis.MiniRaftCluster (MiniRaftCluster.java:shutdown(702)) - ***     Stopping MiniRaftClusterWithSimulatedRpc
2019-09-24 16:57:10,015 INFO  ratis.MiniRaftCluster (MiniRaftCluster.java:shutdown(703)) - *** 
2019-09-24 16:57:10,016 INFO  ratis.MiniRaftCluster (MiniRaftCluster.java:shutdown(704)) - ************************************************************** 
2019-09-24 16:57:10,016 INFO  ratis.MiniRaftCluster (MiniRaftCluster.java:shutdown(705)) - printing ALL groups
  s0:  RUNNING  FOLLOWER s0@group-1B2B000402B5:t1, leader=s2, voted=s2, raftlog=s0@group-1B2B000402B5-SegmentedRaftLog:OPENED:c0,f1,i2, conf=0: [s0:0.0.0.0:43163, s1:0.0.0.0:45876, s2:0.0.0.0:40865], old=null RUNNING
  s1:  RUNNING  FOLLOWER s1@group-1B2B000402B5:t1, leader=s2, voted=s1, raftlog=s1@group-1B2B000402B5-SegmentedRaftLog:OPENED:c0,f1,i2, conf=0: [s0:0.0.0.0:43163, s1:0.0.0.0:45876, s2:0.0.0.0:40865], old=null RUNNING
  s2:  RUNNING    LEADER s2@group-1B2B000402B5:t1, leader=s2, voted=s2, raftlog=s2@group-1B2B000402B5-SegmentedRaftLog:OPENED:c1,f1,i2, conf=0: [s0:0.0.0.0:43163, s1:0.0.0.0:45876, s2:0.0.0.0:40865], old=null RUNNING
2019-09-24 16:57:10,017 INFO  impl.RaftServerProxy (RaftServerProxy.java:lambda$close$4(314)) - s0: close
2019-09-24 16:57:10,017 INFO  impl.RaftServerProxy (RaftServerProxy.java:lambda$close$4(314)) - s1: close
2019-09-24 16:57:10,017 INFO  impl.RaftServerProxy (RaftServerProxy.java:lambda$close$4(314)) - s2: close
2019-09-24 16:57:10,017 INFO  impl.RaftServerImpl (RaftServerImpl.java:lambda$shutdown$3(247)) - s0@group-1B2B000402B5: shutdown
2019-09-24 16:57:10,018 INFO  impl.RaftServerImpl (RaftServerImpl.java:lambda$shutdown$3(247)) - s2@group-1B2B000402B5: shutdown
2019-09-24 16:57:10,018 INFO  impl.RaftServerImpl (RaftServerImpl.java:lambda$shutdown$3(247)) - s1@group-1B2B000402B5: shutdown
2019-09-24 16:57:10,019 INFO  util.JmxRegister (JmxRegister.java:unregister(73)) - Successfully un-registered JMX Bean with object name Ratis:service=RaftServer,group=group-1B2B000402B5,id=s2
2019-09-24 16:57:10,019 INFO  impl.RoleInfo (RoleInfo.java:shutdownLeaderState(104)) - s2: shutdown LeaderState
2019-09-24 16:57:10,018 INFO  util.JmxRegister (JmxRegister.java:unregister(73)) - Successfully un-registered JMX Bean with object name Ratis:service=RaftServer,group=group-1B2B000402B5,id=s0
2019-09-24 16:57:10,019 INFO  impl.LogAppender (LogAppender.java:run(78)) - s2@group-1B2B000402B5->s1-LogAppender-AppenderDaemon was interrupted: java.io.InterruptedIOException: 
2019-09-24 16:57:10,019 INFO  impl.LogAppender (LogAppender.java:run(78)) - s2@group-1B2B000402B5->s0-LogAppender-AppenderDaemon was interrupted: java.io.InterruptedIOException: 
2019-09-24 16:57:10,019 INFO  impl.PendingRequests (PendingRequests.java:sendNotLeaderResponses(202)) - s2@group-1B2B000402B5-PendingRequests: sendNotLeaderResponses
2019-09-24 16:57:10,019 INFO  util.JmxRegister (JmxRegister.java:unregister(73)) - Successfully un-registered JMX Bean with object name Ratis:service=RaftServer,group=group-1B2B000402B5,id=s1
2019-09-24 16:57:10,020 INFO  impl.StateMachineUpdater (StateMachineUpdater.java:stopAndJoin(136)) - s2@group-1B2B000402B5-StateMachineUpdater: set stopIndex = 1
2019-09-24 16:57:10,021 INFO  impl.RaftServerImpl (ServerState.java:close(386)) - s2@group-1B2B000402B5: closes. applyIndex: 1
2019-09-24 16:57:10,020 INFO  impl.RoleInfo (RoleInfo.java:shutdownFollowerState(121)) - s0: shutdown FollowerState
2019-09-24 16:57:10,020 INFO  impl.RoleInfo (RoleInfo.java:shutdownFollowerState(121)) - s1: shutdown FollowerState
2019-09-24 16:57:10,021 INFO  impl.FollowerState (FollowerState.java:run(117)) - s0@group-1B2B000402B5-FollowerState was interrupted: java.lang.InterruptedException: sleep interrupted
2019-09-24 16:57:10,021 INFO  impl.StateMachineUpdater (StateMachineUpdater.java:stopAndJoin(136)) - s0@group-1B2B000402B5-StateMachineUpdater: set stopIndex = 0
2019-09-24 16:57:10,022 INFO  impl.RaftServerImpl (ServerState.java:close(386)) - s0@group-1B2B000402B5: closes. applyIndex: 0
2019-09-24 16:57:10,022 INFO  impl.FollowerState (FollowerState.java:run(117)) - s1@group-1B2B000402B5-FollowerState was interrupted: java.lang.InterruptedException: sleep interrupted
2019-09-24 16:57:10,022 INFO  impl.StateMachineUpdater (StateMachineUpdater.java:stopAndJoin(136)) - s1@group-1B2B000402B5-StateMachineUpdater: set stopIndex = 0
2019-09-24 16:57:10,023 INFO  impl.RaftServerImpl (ServerState.java:close(386)) - s1@group-1B2B000402B5: closes. applyIndex: 0
2019-09-24 16:57:10,030 INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:close(228)) - s1@group-1B2B000402B5-SegmentedRaftLogWorker close()
2019-09-24 16:57:10,030 INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:close(228)) - s0@group-1B2B000402B5-SegmentedRaftLogWorker close()
2019-09-24 16:57:10,030 INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:close(228)) - s2@group-1B2B000402B5-SegmentedRaftLogWorker close()
2019-09-24 16:57:10,031 INFO  simulation.RequestHandler (RequestHandler.java:run(126)) - s0.clientHandler2 is interrupted by java.io.InterruptedIOException: 
2019-09-24 16:57:10,031 INFO  simulation.RequestHandler (RequestHandler.java:run(126)) - s0.clientHandler0 is interrupted by java.io.InterruptedIOException: 
2019-09-24 16:57:10,031 INFO  simulation.RequestHandler (RequestHandler.java:run(126)) - s1.clientHandler2 is interrupted by java.io.InterruptedIOException: 
2019-09-24 16:57:10,031 INFO  simulation.RequestHandler (RequestHandler.java:run(126)) - s0.clientHandler1 is interrupted by java.io.InterruptedIOException: 
2019-09-24 16:57:10,031 INFO  simulation.RequestHandler (RequestHandler.java:run(126)) - s1.clientHandler1 is interrupted by java.io.InterruptedIOException: 
2019-09-24 16:57:10,030 INFO  simulation.RequestHandler (RequestHandler.java:run(126)) - s1.clientHandler0 is interrupted by java.io.InterruptedIOException: 
2019-09-24 16:57:10,032 INFO  simulation.RequestHandler (RequestHandler.java:run(126)) - s0.serverHandler2 is interrupted by java.io.InterruptedIOException: 
2019-09-24 16:57:10,032 INFO  simulation.RequestHandler (RequestHandler.java:run(126)) - s1.serverHandler1 is interrupted by java.io.InterruptedIOException: 
2019-09-24 16:57:10,032 INFO  simulation.RequestHandler (RequestHandler.java:run(126)) - s0.serverHandler1 is interrupted by java.io.InterruptedIOException: 
2019-09-24 16:57:10,031 INFO  simulation.RequestHandler (RequestHandler.java:run(126)) - s2.clientHandler2 is interrupted by java.io.InterruptedIOException: 
2019-09-24 16:57:10,031 INFO  simulation.RequestHandler (RequestHandler.java:run(126)) - s2.clientHandler1 is interrupted by java.io.InterruptedIOException: 
2019-09-24 16:57:10,031 INFO  simulation.RequestHandler (RequestHandler.java:run(126)) - s2.clientHandler0 is interrupted by java.io.InterruptedIOException: 
2019-09-24 16:57:10,032 INFO  simulation.RequestHandler (RequestHandler.java:run(126)) - s1.serverHandler0 is interrupted by java.io.InterruptedIOException: 
2019-09-24 16:57:10,033 INFO  simulation.RequestHandler (RequestHandler.java:run(126)) - s2.serverHandler0 is interrupted by java.io.InterruptedIOException: 
2019-09-24 16:57:10,033 INFO  simulation.RequestHandler (RequestHandler.java:run(126)) - s2.serverHandler1 is interrupted by java.io.InterruptedIOException: 
2019-09-24 16:57:10,033 INFO  simulation.RequestHandler (RequestHandler.java:run(126)) - s2.serverHandler2 is interrupted by java.io.InterruptedIOException: 
2019-09-24 16:57:10,034 INFO  ratis.MiniRaftCluster (MiniRaftCluster.java:shutdown(722)) - MiniRaftClusterWithSimulatedRpc shutdown completed
2019-09-24 16:57:10,035 INFO  ratis.MiniRaftCluster (MiniRaftCluster.java:shutdown(700)) - ************************************************************** 
2019-09-24 16:57:10,035 INFO  ratis.MiniRaftCluster (MiniRaftCluster.java:shutdown(701)) - *** 
2019-09-24 16:57:10,035 INFO  ratis.MiniRaftCluster (MiniRaftCluster.java:shutdown(702)) - ***     Stopping MiniRaftClusterWithSimulatedRpc
2019-09-24 16:57:10,035 INFO  ratis.MiniRaftCluster (MiniRaftCluster.java:shutdown(703)) - *** 
2019-09-24 16:57:10,035 INFO  ratis.MiniRaftCluster (MiniRaftCluster.java:shutdown(704)) - ************************************************************** 
2019-09-24 16:57:10,036 INFO  ratis.MiniRaftCluster (MiniRaftCluster.java:shutdown(705)) - printing ALL groups
  s0:   CLOSED  FOLLOWER s0@group-1B2B000402B5:t1, leader=s2, voted=s2, raftlog=s0@group-1B2B000402B5-SegmentedRaftLog:CLOSED:c0, conf=0: [s0:0.0.0.0:43163, s1:0.0.0.0:45876, s2:0.0.0.0:40865], old=null CLOSED
  s1:   CLOSED  FOLLOWER s1@group-1B2B000402B5:t1, leader=s2, voted=s1, raftlog=s1@group-1B2B000402B5-SegmentedRaftLog:CLOSED:c0, conf=0: [s0:0.0.0.0:43163, s1:0.0.0.0:45876, s2:0.0.0.0:40865], old=null CLOSED
  s2:   CLOSED    LEADER s2@group-1B2B000402B5:t1, leader=s2, voted=s2, raftlog=s2@group-1B2B000402B5-SegmentedRaftLog:CLOSED:c1, conf=0: [s0:0.0.0.0:43163, s1:0.0.0.0:45876, s2:0.0.0.0:40865], old=null CLOSED
2019-09-24 16:57:10,037 INFO  ratis.MiniRaftCluster (MiniRaftCluster.java:shutdown(722)) - MiniRaftClusterWithSimulatedRpc shutdown completed
2019-09-24 16:57:10,038 INFO  util.LogUtils (LogUtils.java:setLogLevel(41)) - Set org.apache.ratis.conf.ConfUtils log level to WARN
2019-09-24 16:57:10,038 INFO  util.LogUtils (LogUtils.java:setLogLevel(41)) - Set org.apache.ratis.util.FileUtils log level to TRACE
2019-09-24 16:57:10,038 INFO  util.LogUtils (LogUtils.java:setLogLevel(41)) - Set org.apache.ratis.server.impl.RaftServerImpl log level to DEBUG
2019-09-24 16:57:10,038 INFO  util.LogUtils (LogUtils.java:setLogLevel(41)) - Set org.apache.ratis.server.raftlog.RaftLog log level to DEBUG
2019-09-24 16:57:10,039 INFO  util.LogUtils (LogUtils.java:setLogLevel(41)) - Set org.apache.ratis.client.RaftClient log level to DEBUG
2019-09-24 16:57:10,040 INFO  ratis.MiniRaftCluster (MiniRaftCluster.java:runWithNewCluster(119)) - Running runWithNewCluster
2019-09-24 16:57:10,040 INFO  simulation.MiniRaftClusterWithSimulatedRpc (ConfUtils.java:logGet(43)) - org.apache.ratis.server.simulation.SimulatedRequestReply.simulateLatencyMs = 0 (custom)
2019-09-24 16:57:10,041 INFO  ratis.MiniRaftCluster (MiniRaftCluster.java:<init>(253)) - new MiniRaftClusterWithSimulatedRpc with group-09A0EF6A68F4:[s0:0.0.0.0:42611, s1:0.0.0.0:39575, s2:0.0.0.0:34382]
2019-09-24 16:57:10,042 INFO  ratis.MiniRaftCluster (MiniRaftCluster.java:start(287)) - .............................................................. 
2019-09-24 16:57:10,042 INFO  ratis.MiniRaftCluster (MiniRaftCluster.java:start(288)) - ... 
2019-09-24 16:57:10,042 INFO  ratis.MiniRaftCluster (MiniRaftCluster.java:start(289)) - ...     Starting MiniRaftClusterWithSimulatedRpc
2019-09-24 16:57:10,042 INFO  ratis.MiniRaftCluster (MiniRaftCluster.java:start(290)) - ... 
2019-09-24 16:57:10,042 INFO  ratis.MiniRaftCluster (MiniRaftCluster.java:start(291)) - .............................................................. 
2019-09-24 16:57:10,042 INFO  ratis.MiniRaftCluster (MiniRaftCluster.java:initServers(265)) - servers = {}
2019-09-24 16:57:10,042 INFO  ratis.MiniRaftCluster (MiniRaftCluster.java:newRaftServer(330)) - newRaftServer: s0, group-09A0EF6A68F4:[s0:0.0.0.0:42611, s1:0.0.0.0:39575, s2:0.0.0.0:34382], format? true
2019-09-24 16:57:10,043 TRACE util.FileUtils (FileUtils.java:deleteFully(88)) - deleteFully target/test/data/40df402d/MiniRaftClusterWithSimulatedRpc347dd568/s0
2019-09-24 16:57:10,043 TRACE util.FileUtils (FileUtils.java:deleteFully(104)) - deleteFully: target/test/data/40df402d/MiniRaftClusterWithSimulatedRpc347dd568/s0 does not exist.
2019-09-24 16:57:10,043 INFO  ratis.MiniRaftCluster (MiniRaftCluster.java:newRaftServer(335)) - Formatted directory target/test/data/40df402d/MiniRaftClusterWithSimulatedRpc347dd568/s0
2019-09-24 16:57:10,044 INFO  impl.RaftServerProxy (ConfUtils.java:logGet(43)) - raft.rpc.type = org.apache.ratis.server.simulation.SimulatedRpc (custom)
2019-09-24 16:57:10,045 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.storage.dir = [/workdir/ratis-test/target/test/data/40df402d/MiniRaftClusterWithSimulatedRpc347dd568/s0] (custom)
2019-09-24 16:57:10,045 INFO  impl.RaftServerProxy (RaftServerProxy.java:addNew(89)) - s0: addNew group-09A0EF6A68F4:[s0:0.0.0.0:42611, s1:0.0.0.0:39575, s2:0.0.0.0:34382] returns group-09A0EF6A68F4:java.util.concurrent.CompletableFuture@78993e00[Not completed]
2019-09-24 16:57:10,045 INFO  ratis.MiniRaftCluster (MiniRaftCluster.java:newRaftServer(330)) - newRaftServer: s1, group-09A0EF6A68F4:[s0:0.0.0.0:42611, s1:0.0.0.0:39575, s2:0.0.0.0:34382], format? true
2019-09-24 16:57:10,046 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.log.segment.size.max = 8MB (=8388608) (default)
2019-09-24 16:57:10,046 TRACE util.FileUtils (FileUtils.java:deleteFully(88)) - deleteFully target/test/data/40df402d/MiniRaftClusterWithSimulatedRpc347dd568/s1
2019-09-24 16:57:10,046 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.log.preallocated.size = 4MB (=4194304) (default)
2019-09-24 16:57:10,046 TRACE util.FileUtils (FileUtils.java:deleteFully(104)) - deleteFully: target/test/data/40df402d/MiniRaftClusterWithSimulatedRpc347dd568/s1 does not exist.
2019-09-24 16:57:10,046 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.log.write.buffer.size = 64KB (=65536) (default)
2019-09-24 16:57:10,047 INFO  ratis.MiniRaftCluster (MiniRaftCluster.java:newRaftServer(335)) - Formatted directory target/test/data/40df402d/MiniRaftClusterWithSimulatedRpc347dd568/s1
2019-09-24 16:57:10,047 INFO  impl.RaftServerImpl (RaftServerImpl.java:<init>(95)) - s0: new RaftServerImpl for group-09A0EF6A68F4:[s0:0.0.0.0:42611, s1:0.0.0.0:39575, s2:0.0.0.0:34382] with StateMachineWithException:uninitialized
2019-09-24 16:57:10,047 INFO  impl.RaftServerProxy (ConfUtils.java:logGet(43)) - raft.rpc.type = org.apache.ratis.server.simulation.SimulatedRpc (custom)
2019-09-24 16:57:10,047 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.rpc.timeout.min = 150ms (default)
2019-09-24 16:57:10,048 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.rpc.timeout.max = 300ms (default)
2019-09-24 16:57:10,048 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.rpcslowness.timeout = 60s (default)
2019-09-24 16:57:10,048 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.storage.dir = [/workdir/ratis-test/target/test/data/40df402d/MiniRaftClusterWithSimulatedRpc347dd568/s1] (custom)
2019-09-24 16:57:10,048 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.sleep.deviation.threshold = 300 (default)
2019-09-24 16:57:10,048 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.log.appender.install.snapshot.enabled = true (default)
2019-09-24 16:57:10,049 INFO  impl.RaftServerProxy (RaftServerProxy.java:addNew(89)) - s1: addNew group-09A0EF6A68F4:[s0:0.0.0.0:42611, s1:0.0.0.0:39575, s2:0.0.0.0:34382] returns group-09A0EF6A68F4:java.util.concurrent.CompletableFuture@5ee3f18a[Not completed]
2019-09-24 16:57:10,049 INFO  impl.RaftServerImpl (ServerState.java:<init>(103)) - s0@group-09A0EF6A68F4: ConfigurationManager, init=-1: [s0:0.0.0.0:42611, s1:0.0.0.0:39575, s2:0.0.0.0:34382], old=null, confs=<EMPTY_MAP>
2019-09-24 16:57:10,049 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.log.segment.size.max = 8MB (=8388608) (default)
2019-09-24 16:57:10,049 INFO  ratis.MiniRaftCluster (MiniRaftCluster.java:newRaftServer(330)) - newRaftServer: s2, group-09A0EF6A68F4:[s0:0.0.0.0:42611, s1:0.0.0.0:39575, s2:0.0.0.0:34382], format? true
2019-09-24 16:57:10,049 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.log.preallocated.size = 4MB (=4194304) (default)
2019-09-24 16:57:10,049 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.storage.dir = [/workdir/ratis-test/target/test/data/40df402d/MiniRaftClusterWithSimulatedRpc347dd568/s0] (custom)
2019-09-24 16:57:10,050 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.log.write.buffer.size = 64KB (=65536) (default)
2019-09-24 16:57:10,049 TRACE util.FileUtils (FileUtils.java:deleteFully(88)) - deleteFully target/test/data/40df402d/MiniRaftClusterWithSimulatedRpc347dd568/s2
2019-09-24 16:57:10,050 INFO  impl.RaftServerImpl (RaftServerImpl.java:<init>(95)) - s1: new RaftServerImpl for group-09A0EF6A68F4:[s0:0.0.0.0:42611, s1:0.0.0.0:39575, s2:0.0.0.0:34382] with StateMachineWithException:uninitialized
2019-09-24 16:57:10,050 TRACE util.FileUtils (FileUtils.java:deleteFully(104)) - deleteFully: target/test/data/40df402d/MiniRaftClusterWithSimulatedRpc347dd568/s2 does not exist.
2019-09-24 16:57:10,050 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.log.corruption.policy = EXCEPTION (default)
2019-09-24 16:57:10,051 INFO  ratis.MiniRaftCluster (MiniRaftCluster.java:newRaftServer(335)) - Formatted directory target/test/data/40df402d/MiniRaftClusterWithSimulatedRpc347dd568/s2
2019-09-24 16:57:10,051 INFO  storage.RaftStorageDirectory (RaftStorageDirectory.java:analyzeStorage(246)) - The storage directory /workdir/ratis-test/target/test/data/40df402d/MiniRaftClusterWithSimulatedRpc347dd568/s0/9eb3e987-0230-4f29-8879-09a0ef6a68f4 does not exist. Creating ...
2019-09-24 16:57:10,050 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.rpc.timeout.min = 150ms (default)
2019-09-24 16:57:10,051 INFO  impl.RaftServerProxy (ConfUtils.java:logGet(43)) - raft.rpc.type = org.apache.ratis.server.simulation.SimulatedRpc (custom)
2019-09-24 16:57:10,051 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.rpc.timeout.max = 300ms (default)
2019-09-24 16:57:10,052 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.rpcslowness.timeout = 60s (default)
2019-09-24 16:57:10,052 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.sleep.deviation.threshold = 300 (default)
2019-09-24 16:57:10,052 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.storage.dir = [/workdir/ratis-test/target/test/data/40df402d/MiniRaftClusterWithSimulatedRpc347dd568/s2] (custom)
2019-09-24 16:57:10,052 TRACE util.FileUtils (LogUtils.java:runAndLog(61)) - Successfully ran Files.createDirectories /workdir/ratis-test/target/test/data/40df402d/MiniRaftClusterWithSimulatedRpc347dd568/s0/9eb3e987-0230-4f29-8879-09a0ef6a68f4
2019-09-24 16:57:10,052 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.log.appender.install.snapshot.enabled = true (default)
2019-09-24 16:57:10,053 INFO  impl.RaftServerProxy (RaftServerProxy.java:addNew(89)) - s2: addNew group-09A0EF6A68F4:[s0:0.0.0.0:42611, s1:0.0.0.0:39575, s2:0.0.0.0:34382] returns group-09A0EF6A68F4:java.util.concurrent.CompletableFuture@1b83168b[Not completed]
2019-09-24 16:57:10,053 INFO  impl.RaftServerImpl (ServerState.java:<init>(103)) - s1@group-09A0EF6A68F4: ConfigurationManager, init=-1: [s0:0.0.0.0:42611, s1:0.0.0.0:39575, s2:0.0.0.0:34382], old=null, confs=<EMPTY_MAP>
2019-09-24 16:57:10,053 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.log.segment.size.max = 8MB (=8388608) (default)
2019-09-24 16:57:10,053 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.storage.dir = [/workdir/ratis-test/target/test/data/40df402d/MiniRaftClusterWithSimulatedRpc347dd568/s1] (custom)
2019-09-24 16:57:10,053 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.log.preallocated.size = 4MB (=4194304) (default)
2019-09-24 16:57:10,054 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.log.write.buffer.size = 64KB (=65536) (default)
2019-09-24 16:57:10,054 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.log.corruption.policy = EXCEPTION (default)
2019-09-24 16:57:10,054 INFO  impl.RaftServerImpl (RaftServerImpl.java:<init>(95)) - s2: new RaftServerImpl for group-09A0EF6A68F4:[s0:0.0.0.0:42611, s1:0.0.0.0:39575, s2:0.0.0.0:34382] with StateMachineWithException:uninitialized
2019-09-24 16:57:10,054 INFO  storage.RaftStorageDirectory (RaftStorageDirectory.java:analyzeStorage(246)) - The storage directory /workdir/ratis-test/target/test/data/40df402d/MiniRaftClusterWithSimulatedRpc347dd568/s1/9eb3e987-0230-4f29-8879-09a0ef6a68f4 does not exist. Creating ...
2019-09-24 16:57:10,054 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.rpc.timeout.min = 150ms (default)
2019-09-24 16:57:10,054 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.rpc.timeout.max = 300ms (default)
2019-09-24 16:57:10,055 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.rpcslowness.timeout = 60s (default)
2019-09-24 16:57:10,055 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.sleep.deviation.threshold = 300 (default)
2019-09-24 16:57:10,055 TRACE util.FileUtils (LogUtils.java:runAndLog(61)) - Successfully ran Files.createDirectories /workdir/ratis-test/target/test/data/40df402d/MiniRaftClusterWithSimulatedRpc347dd568/s1/9eb3e987-0230-4f29-8879-09a0ef6a68f4
2019-09-24 16:57:10,055 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.log.appender.install.snapshot.enabled = true (default)
2019-09-24 16:57:10,055 INFO  impl.RaftServerImpl (ServerState.java:<init>(103)) - s2@group-09A0EF6A68F4: ConfigurationManager, init=-1: [s0:0.0.0.0:42611, s1:0.0.0.0:39575, s2:0.0.0.0:34382], old=null, confs=<EMPTY_MAP>
2019-09-24 16:57:10,056 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.storage.dir = [/workdir/ratis-test/target/test/data/40df402d/MiniRaftClusterWithSimulatedRpc347dd568/s2] (custom)
2019-09-24 16:57:10,056 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.log.corruption.policy = EXCEPTION (default)
2019-09-24 16:57:10,056 INFO  storage.RaftStorageDirectory (RaftStorageDirectory.java:analyzeStorage(246)) - The storage directory /workdir/ratis-test/target/test/data/40df402d/MiniRaftClusterWithSimulatedRpc347dd568/s2/9eb3e987-0230-4f29-8879-09a0ef6a68f4 does not exist. Creating ...
2019-09-24 16:57:10,057 TRACE util.FileUtils (LogUtils.java:runAndLog(61)) - Successfully ran Files.createDirectories /workdir/ratis-test/target/test/data/40df402d/MiniRaftClusterWithSimulatedRpc347dd568/s2/9eb3e987-0230-4f29-8879-09a0ef6a68f4
2019-09-24 16:57:10,068 INFO  storage.RaftStorageDirectory (RaftStorageDirectory.java:tryLock(328)) - Lock on /workdir/ratis-test/target/test/data/40df402d/MiniRaftClusterWithSimulatedRpc347dd568/s1/9eb3e987-0230-4f29-8879-09a0ef6a68f4/in_use.lock acquired by nodename 31533@ratis-test-vphbd-3564017154
2019-09-24 16:57:10,068 INFO  storage.RaftStorageDirectory (RaftStorageDirectory.java:tryLock(328)) - Lock on /workdir/ratis-test/target/test/data/40df402d/MiniRaftClusterWithSimulatedRpc347dd568/s0/9eb3e987-0230-4f29-8879-09a0ef6a68f4/in_use.lock acquired by nodename 31533@ratis-test-vphbd-3564017154
2019-09-24 16:57:10,068 INFO  storage.RaftStorageDirectory (RaftStorageDirectory.java:tryLock(328)) - Lock on /workdir/ratis-test/target/test/data/40df402d/MiniRaftClusterWithSimulatedRpc347dd568/s2/9eb3e987-0230-4f29-8879-09a0ef6a68f4/in_use.lock acquired by nodename 31533@ratis-test-vphbd-3564017154
2019-09-24 16:57:10,069 TRACE util.FileUtils (LogUtils.java:runAndLog(61)) - Successfully ran Files.createDirectories /workdir/ratis-test/target/test/data/40df402d/MiniRaftClusterWithSimulatedRpc347dd568/s0/9eb3e987-0230-4f29-8879-09a0ef6a68f4/current
2019-09-24 16:57:10,069 TRACE util.FileUtils (LogUtils.java:runAndLog(61)) - Successfully ran Files.createDirectories /workdir/ratis-test/target/test/data/40df402d/MiniRaftClusterWithSimulatedRpc347dd568/s1/9eb3e987-0230-4f29-8879-09a0ef6a68f4/current
2019-09-24 16:57:10,069 TRACE util.FileUtils (LogUtils.java:runAndLog(61)) - Successfully ran Files.createDirectories /workdir/ratis-test/target/test/data/40df402d/MiniRaftClusterWithSimulatedRpc347dd568/s0/9eb3e987-0230-4f29-8879-09a0ef6a68f4/sm
2019-09-24 16:57:10,070 TRACE util.FileUtils (LogUtils.java:runAndLog(61)) - Successfully ran Files.createDirectories /workdir/ratis-test/target/test/data/40df402d/MiniRaftClusterWithSimulatedRpc347dd568/s1/9eb3e987-0230-4f29-8879-09a0ef6a68f4/sm
2019-09-24 16:57:10,069 TRACE util.FileUtils (LogUtils.java:runAndLog(61)) - Successfully ran Files.createDirectories /workdir/ratis-test/target/test/data/40df402d/MiniRaftClusterWithSimulatedRpc347dd568/s2/9eb3e987-0230-4f29-8879-09a0ef6a68f4/current
2019-09-24 16:57:10,070 TRACE util.FileUtils (LogUtils.java:runAndLog(61)) - Successfully ran Files.createDirectories /workdir/ratis-test/target/test/data/40df402d/MiniRaftClusterWithSimulatedRpc347dd568/s2/9eb3e987-0230-4f29-8879-09a0ef6a68f4/sm
2019-09-24 16:57:10,087 INFO  storage.RaftStorage (RaftStorage.java:format(84)) - Storage directory /workdir/ratis-test/target/test/data/40df402d/MiniRaftClusterWithSimulatedRpc347dd568/s1/9eb3e987-0230-4f29-8879-09a0ef6a68f4 has been successfully formatted.
2019-09-24 16:57:10,087 INFO  storage.RaftStorage (RaftStorage.java:format(84)) - Storage directory /workdir/ratis-test/target/test/data/40df402d/MiniRaftClusterWithSimulatedRpc347dd568/s2/9eb3e987-0230-4f29-8879-09a0ef6a68f4 has been successfully formatted.
2019-09-24 16:57:10,087 INFO  statemachine.SimpleStateMachine4Testing (SimpleStateMachine4Testing.java:initialize(206)) - Initializing StateMachineWithException:uninitialized
2019-09-24 16:57:10,087 INFO  storage.RaftStorage (RaftStorage.java:format(84)) - Storage directory /workdir/ratis-test/target/test/data/40df402d/MiniRaftClusterWithSimulatedRpc347dd568/s0/9eb3e987-0230-4f29-8879-09a0ef6a68f4 has been successfully formatted.
2019-09-24 16:57:10,087 INFO  statemachine.SimpleStateMachine4Testing (SimpleStateMachine4Testing.java:initialize(206)) - Initializing StateMachineWithException:uninitialized
2019-09-24 16:57:10,088 INFO  statemachine.SimpleStateMachine4Testing (SimpleStateMachine4Testing.java:loadSnapshot(296)) - The snapshot file null does not exist
2019-09-24 16:57:10,088 INFO  statemachine.SimpleStateMachine4Testing (SimpleStateMachine4Testing.java:initialize(206)) - Initializing StateMachineWithException:uninitialized
2019-09-24 16:57:10,088 INFO  statemachine.SimpleStateMachine4Testing (SimpleStateMachine4Testing.java:loadSnapshot(296)) - The snapshot file null does not exist
2019-09-24 16:57:10,088 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.notification.no-leader.timeout = 60s (default)
2019-09-24 16:57:10,089 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.notification.no-leader.timeout = 60s (default)
2019-09-24 16:57:10,089 INFO  statemachine.SimpleStateMachine4Testing (SimpleStateMachine4Testing.java:loadSnapshot(296)) - The snapshot file null does not exist
2019-09-24 16:57:10,089 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.log.use.memory = false (default)
2019-09-24 16:57:10,089 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.log.use.memory = false (default)
2019-09-24 16:57:10,089 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.log.purge.gap = 1024 (default)
2019-09-24 16:57:10,089 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.notification.no-leader.timeout = 60s (default)
2019-09-24 16:57:10,090 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.log.appender.buffer.byte-limit = 4MB (=4194304) (default)
2019-09-24 16:57:10,089 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.log.purge.gap = 1024 (default)
2019-09-24 16:57:10,090 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.log.segment.size.max = 8MB (=8388608) (default)
2019-09-24 16:57:10,090 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.log.use.memory = false (default)
2019-09-24 16:57:10,090 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.log.segment.cache.num.max = 6 (default)
2019-09-24 16:57:10,090 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.log.appender.buffer.byte-limit = 4MB (=4194304) (default)
2019-09-24 16:57:10,091 INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:<init>(172)) - new s1@group-09A0EF6A68F4-SegmentedRaftLogWorker for RaftStorage:Storage Directory /workdir/ratis-test/target/test/data/40df402d/MiniRaftClusterWithSimulatedRpc347dd568/s1/9eb3e987-0230-4f29-8879-09a0ef6a68f4
2019-09-24 16:57:10,091 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.log.purge.gap = 1024 (default)
2019-09-24 16:57:10,091 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.log.queue.byte-limit = 64MB (=67108864) (default)
2019-09-24 16:57:10,091 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.log.segment.size.max = 8MB (=8388608) (default)
2019-09-24 16:57:10,092 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.log.queue.element-limit = 4096 (default)
2019-09-24 16:57:10,091 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.log.appender.buffer.byte-limit = 4MB (=4194304) (default)
2019-09-24 16:57:10,092 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.log.segment.size.max = 8MB (=8388608) (default)
2019-09-24 16:57:10,092 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.log.segment.cache.num.max = 6 (default)
2019-09-24 16:57:10,092 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.log.preallocated.size = 4MB (=4194304) (default)
2019-09-24 16:57:10,092 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.log.segment.size.max = 8MB (=8388608) (default)
2019-09-24 16:57:10,093 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.log.write.buffer.size = 64KB (=65536) (default)
2019-09-24 16:57:10,093 INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:<init>(172)) - new s2@group-09A0EF6A68F4-SegmentedRaftLogWorker for RaftStorage:Storage Directory /workdir/ratis-test/target/test/data/40df402d/MiniRaftClusterWithSimulatedRpc347dd568/s2/9eb3e987-0230-4f29-8879-09a0ef6a68f4
2019-09-24 16:57:10,093 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.log.force.sync.num = 128 (default)
2019-09-24 16:57:10,093 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.log.segment.cache.num.max = 6 (default)
2019-09-24 16:57:10,094 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.log.statemachine.data.sync = true (default)
2019-09-24 16:57:10,093 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.log.queue.byte-limit = 64MB (=67108864) (default)
2019-09-24 16:57:10,094 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.log.statemachine.data.sync.timeout = 10s (default)
2019-09-24 16:57:10,094 INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:<init>(172)) - new s0@group-09A0EF6A68F4-SegmentedRaftLogWorker for RaftStorage:Storage Directory /workdir/ratis-test/target/test/data/40df402d/MiniRaftClusterWithSimulatedRpc347dd568/s0/9eb3e987-0230-4f29-8879-09a0ef6a68f4
2019-09-24 16:57:10,094 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.log.statemachine.data.sync.timeout.retry = -1 (default)
2019-09-24 16:57:10,094 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.log.queue.element-limit = 4096 (default)
2019-09-24 16:57:10,095 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.log.statemachine.data.caching.enabled = false (default)
2019-09-24 16:57:10,095 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.log.queue.byte-limit = 64MB (=67108864) (default)
2019-09-24 16:57:10,095 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.log.segment.size.max = 8MB (=8388608) (default)
2019-09-24 16:57:10,096 INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:lambda$new$0(132)) - s1@group-09A0EF6A68F4-SegmentedRaftLogWorker: flushIndex: setUnconditionally 0 -> -1
2019-09-24 16:57:10,095 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.log.queue.element-limit = 4096 (default)
2019-09-24 16:57:10,096 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.log.preallocated.size = 4MB (=4194304) (default)
2019-09-24 16:57:10,096 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.log.segment.size.max = 8MB (=8388608) (default)
2019-09-24 16:57:10,096 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.snapshot.auto.trigger.enabled = false (default)
2019-09-24 16:57:10,096 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.log.preallocated.size = 4MB (=4194304) (default)
2019-09-24 16:57:10,096 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.log.write.buffer.size = 64KB (=65536) (default)
2019-09-24 16:57:10,097 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.log.write.buffer.size = 64KB (=65536) (default)
2019-09-24 16:57:10,097 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.snapshot.retention.file.num = -1 (default)
2019-09-24 16:57:10,097 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.log.force.sync.num = 128 (default)
2019-09-24 16:57:10,097 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.log.force.sync.num = 128 (default)
2019-09-24 16:57:10,098 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.log.statemachine.data.sync = true (default)
2019-09-24 16:57:10,097 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.retrycache.expirytime = 60s (default)
2019-09-24 16:57:10,098 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.log.statemachine.data.sync.timeout = 10s (default)
2019-09-24 16:57:10,098 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.log.statemachine.data.sync = true (default)
2019-09-24 16:57:10,098 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.log.statemachine.data.sync.timeout.retry = -1 (default)
2019-09-24 16:57:10,098 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.log.statemachine.data.sync.timeout = 10s (default)
2019-09-24 16:57:10,099 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.log.statemachine.data.caching.enabled = false (default)
2019-09-24 16:57:10,099 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.log.statemachine.data.sync.timeout.retry = -1 (default)
2019-09-24 16:57:10,099 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.log.statemachine.data.caching.enabled = false (default)
2019-09-24 16:57:10,099 INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:lambda$new$0(132)) - s0@group-09A0EF6A68F4-SegmentedRaftLogWorker: flushIndex: setUnconditionally 0 -> -1
2019-09-24 16:57:10,100 INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:lambda$new$0(132)) - s2@group-09A0EF6A68F4-SegmentedRaftLogWorker: flushIndex: setUnconditionally 0 -> -1
2019-09-24 16:57:10,100 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.snapshot.auto.trigger.enabled = false (default)
2019-09-24 16:57:10,100 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.snapshot.retention.file.num = -1 (default)
2019-09-24 16:57:10,100 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.snapshot.auto.trigger.enabled = false (default)
2019-09-24 16:57:10,100 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.retrycache.expirytime = 60s (default)
2019-09-24 16:57:10,100 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.snapshot.retention.file.num = -1 (default)
2019-09-24 16:57:10,101 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.retrycache.expirytime = 60s (default)
2019-09-24 16:57:10,105 INFO  impl.RaftServerImpl (RaftServerImpl.java:start(181)) - s0@group-09A0EF6A68F4: start as a follower, conf=-1: [s0:0.0.0.0:42611, s1:0.0.0.0:39575, s2:0.0.0.0:34382], old=null
2019-09-24 16:57:10,105 INFO  impl.RaftServerImpl (RaftServerImpl.java:setRole(170)) - s0@group-09A0EF6A68F4: changes role from      null to FOLLOWER at term 0 for startAsFollower
2019-09-24 16:57:10,105 INFO  impl.RoleInfo (RoleInfo.java:updateAndGet(143)) - s0: start FollowerState
2019-09-24 16:57:10,106 INFO  util.JmxRegister (JmxRegister.java:tryRegister(44)) - Successfully registered JMX Bean with object name Ratis:service=RaftServer,group=group-09A0EF6A68F4,id=s0
2019-09-24 16:57:10,110 INFO  impl.RaftServerProxy (RaftServerProxy.java:lambda$start$3(299)) - s0: start RPC server
2019-09-24 16:57:10,112 INFO  impl.RaftServerImpl (RaftServerImpl.java:start(181)) - s1@group-09A0EF6A68F4: start as a follower, conf=-1: [s0:0.0.0.0:42611, s1:0.0.0.0:39575, s2:0.0.0.0:34382], old=null
2019-09-24 16:57:10,112 INFO  impl.RaftServerImpl (RaftServerImpl.java:setRole(170)) - s1@group-09A0EF6A68F4: changes role from      null to FOLLOWER at term 0 for startAsFollower
2019-09-24 16:57:10,112 INFO  impl.RoleInfo (RoleInfo.java:updateAndGet(143)) - s1: start FollowerState
2019-09-24 16:57:10,113 INFO  util.JmxRegister (JmxRegister.java:tryRegister(44)) - Successfully registered JMX Bean with object name Ratis:service=RaftServer,group=group-09A0EF6A68F4,id=s1
2019-09-24 16:57:10,117 INFO  impl.RaftServerProxy (RaftServerProxy.java:lambda$start$3(299)) - s1: start RPC server
2019-09-24 16:57:10,119 INFO  impl.RaftServerImpl (RaftServerImpl.java:start(181)) - s2@group-09A0EF6A68F4: start as a follower, conf=-1: [s0:0.0.0.0:42611, s1:0.0.0.0:39575, s2:0.0.0.0:34382], old=null
2019-09-24 16:57:10,119 INFO  impl.RaftServerImpl (RaftServerImpl.java:setRole(170)) - s2@group-09A0EF6A68F4: changes role from      null to FOLLOWER at term 0 for startAsFollower
2019-09-24 16:57:10,119 INFO  impl.RoleInfo (RoleInfo.java:updateAndGet(143)) - s2: start FollowerState
2019-09-24 16:57:10,120 INFO  util.JmxRegister (JmxRegister.java:tryRegister(44)) - Successfully registered JMX Bean with object name Ratis:service=RaftServer,group=group-09A0EF6A68F4,id=s2
2019-09-24 16:57:10,124 INFO  impl.RaftServerProxy (RaftServerProxy.java:lambda$start$3(299)) - s2: start RPC server
2019-09-24 16:57:10,126 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.rpc.timeout.max = 300ms (default)
2019-09-24 16:57:10,126 INFO  ratis.RaftTestUtil (RaftTestUtil.java:waitForLeader(86)) - printing ALL groups
  s0:  RUNNING  FOLLOWER s0@group-09A0EF6A68F4:t0, leader=null, voted=null, raftlog=s0@group-09A0EF6A68F4-SegmentedRaftLog:OPENED:c-1,f-1,i0, conf=-1: [s0:0.0.0.0:42611, s1:0.0.0.0:39575, s2:0.0.0.0:34382], old=null RUNNING
  s1:  RUNNING  FOLLOWER s1@group-09A0EF6A68F4:t0, leader=null, voted=null, raftlog=s1@group-09A0EF6A68F4-SegmentedRaftLog:OPENED:c-1,f-1,i0, conf=-1: [s0:0.0.0.0:42611, s1:0.0.0.0:39575, s2:0.0.0.0:34382], old=null RUNNING
  s2:  RUNNING  FOLLOWER s2@group-09A0EF6A68F4:t0, leader=null, voted=null, raftlog=s2@group-09A0EF6A68F4-SegmentedRaftLog:OPENED:c-1,f-1,i0, conf=-1: [s0:0.0.0.0:42611, s1:0.0.0.0:39575, s2:0.0.0.0:34382], old=null RUNNING
2019-09-24 16:57:10,127 WARN  ratis.RaftTestUtil (JavaUtils.java:attempt(158)) - FAILED "waitForLeader-null-(expectLeader? true)", attempt #1/100: java.lang.IllegalStateException: No leader yet : printing ALL groups
  s0:  RUNNING  FOLLOWER s0@group-09A0EF6A68F4:t0, leader=null, voted=null, raftlog=s0@group-09A0EF6A68F4-SegmentedRaftLog:OPENED:c-1,f-1,i0, conf=-1: [s0:0.0.0.0:42611, s1:0.0.0.0:39575, s2:0.0.0.0:34382], old=null RUNNING
  s1:  RUNNING  FOLLOWER s1@group-09A0EF6A68F4:t0, leader=null, voted=null, raftlog=s1@group-09A0EF6A68F4-SegmentedRaftLog:OPENED:c-1,f-1,i0, conf=-1: [s0:0.0.0.0:42611, s1:0.0.0.0:39575, s2:0.0.0.0:34382], old=null RUNNING
  s2:  RUNNING  FOLLOWER s2@group-09A0EF6A68F4:t0, leader=null, voted=null, raftlog=s2@group-09A0EF6A68F4-SegmentedRaftLog:OPENED:c-1,f-1,i0, conf=-1: [s0:0.0.0.0:42611, s1:0.0.0.0:39575, s2:0.0.0.0:34382], old=null RUNNING, sleep 450ms and then retry.
java.lang.IllegalStateException: No leader yet : printing ALL groups
  s0:  RUNNING  FOLLOWER s0@group-09A0EF6A68F4:t0, leader=null, voted=null, raftlog=s0@group-09A0EF6A68F4-SegmentedRaftLog:OPENED:c-1,f-1,i0, conf=-1: [s0:0.0.0.0:42611, s1:0.0.0.0:39575, s2:0.0.0.0:34382], old=null RUNNING
  s1:  RUNNING  FOLLOWER s1@group-09A0EF6A68F4:t0, leader=null, voted=null, raftlog=s1@group-09A0EF6A68F4-SegmentedRaftLog:OPENED:c-1,f-1,i0, conf=-1: [s0:0.0.0.0:42611, s1:0.0.0.0:39575, s2:0.0.0.0:34382], old=null RUNNING
  s2:  RUNNING  FOLLOWER s2@group-09A0EF6A68F4:t0, leader=null, voted=null, raftlog=s2@group-09A0EF6A68F4-SegmentedRaftLog:OPENED:c-1,f-1,i0, conf=-1: [s0:0.0.0.0:42611, s1:0.0.0.0:39575, s2:0.0.0.0:34382], old=null RUNNING
	at org.apache.ratis.MiniRaftCluster.newIllegalStateExceptionForNoLeaders(MiniRaftCluster.java:506)
	at org.apache.ratis.RaftTestUtil.lambda$waitForLeader$1(RaftTestUtil.java:90)
	at org.apache.ratis.MiniRaftCluster.getLeader(MiniRaftCluster.java:539)
	at org.apache.ratis.MiniRaftCluster.getLeader(MiniRaftCluster.java:532)
	at org.apache.ratis.RaftTestUtil.lambda$waitForLeader$3(RaftTestUtil.java:98)
	at org.apache.ratis.util.JavaUtils.attempt(JavaUtils.java:152)
	at org.apache.ratis.RaftTestUtil.waitForLeader(RaftTestUtil.java:97)
	at org.apache.ratis.RaftTestUtil.waitForLeader(RaftTestUtil.java:77)
	at org.apache.ratis.RaftTestUtil.waitForLeader(RaftTestUtil.java:72)
	at org.apache.ratis.server.impl.RaftStateMachineExceptionTests.runTestRetryOnExceptionDuringReplication(RaftStateMachineExceptionTests.java:149)
	at org.apache.ratis.MiniRaftCluster$Factory$Get.runWithNewCluster(MiniRaftCluster.java:125)
	at org.apache.ratis.MiniRaftCluster$Factory$Get.runWithNewCluster(MiniRaftCluster.java:113)
	at org.apache.ratis.server.impl.RaftStateMachineExceptionTests.testRetryOnExceptionDuringReplication(RaftStateMachineExceptionTests.java:145)
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.lang.reflect.Method.invoke(Method.java:498)
	at org.junit.runners.model.FrameworkMethod$1.runReflectiveCall(FrameworkMethod.java:50)
	at org.junit.internal.runners.model.ReflectiveCallable.run(ReflectiveCallable.java:12)
	at org.junit.runners.model.FrameworkMethod.invokeExplosively(FrameworkMethod.java:47)
	at org.junit.internal.runners.statements.InvokeMethod.evaluate(InvokeMethod.java:17)
	at org.junit.internal.runners.statements.RunAfters.evaluate(RunAfters.java:27)
	at org.junit.internal.runners.statements.FailOnTimeout$CallableStatement.call(FailOnTimeout.java:298)
	at org.junit.internal.runners.statements.FailOnTimeout$CallableStatement.call(FailOnTimeout.java:292)
	at java.util.concurrent.FutureTask.run(FutureTask.java:266)
	at java.lang.Thread.run(Thread.java:748)
2019-09-24 16:57:10,268 INFO  impl.FollowerState (FollowerState.java:run(108)) - s1@group-09A0EF6A68F4-FollowerState: change to CANDIDATE, lastRpcTime:155ms, electionTimeout:155ms
2019-09-24 16:57:10,268 INFO  impl.RoleInfo (RoleInfo.java:shutdownFollowerState(121)) - s1: shutdown FollowerState
2019-09-24 16:57:10,269 INFO  impl.RaftServerImpl (RaftServerImpl.java:setRole(170)) - s1@group-09A0EF6A68F4: changes role from  FOLLOWER to CANDIDATE at term 0 for changeToCandidate
2019-09-24 16:57:10,269 INFO  impl.RoleInfo (RoleInfo.java:updateAndGet(143)) - s1: start LeaderElection
2019-09-24 16:57:10,273 INFO  impl.FollowerState (FollowerState.java:run(108)) - s2@group-09A0EF6A68F4-FollowerState: change to CANDIDATE, lastRpcTime:153ms, electionTimeout:153ms
2019-09-24 16:57:10,273 INFO  impl.RoleInfo (RoleInfo.java:shutdownFollowerState(121)) - s2: shutdown FollowerState
2019-09-24 16:57:10,273 INFO  impl.RaftServerImpl (RaftServerImpl.java:setRole(170)) - s2@group-09A0EF6A68F4: changes role from  FOLLOWER to CANDIDATE at term 0 for changeToCandidate
2019-09-24 16:57:10,273 INFO  impl.RoleInfo (RoleInfo.java:updateAndGet(143)) - s2: start LeaderElection
2019-09-24 16:57:10,396 INFO  impl.FollowerState (FollowerState.java:run(108)) - s0@group-09A0EF6A68F4-FollowerState: change to CANDIDATE, lastRpcTime:290ms, electionTimeout:290ms
2019-09-24 16:57:10,397 INFO  impl.RoleInfo (RoleInfo.java:shutdownFollowerState(121)) - s0: shutdown FollowerState
2019-09-24 16:57:10,397 INFO  impl.RaftServerImpl (RaftServerImpl.java:setRole(170)) - s0@group-09A0EF6A68F4: changes role from  FOLLOWER to CANDIDATE at term 0 for changeToCandidate
2019-09-24 16:57:10,397 INFO  impl.RoleInfo (RoleInfo.java:updateAndGet(143)) - s0: start LeaderElection
2019-09-24 16:57:10,422 INFO  impl.LeaderElection (LeaderElection.java:askForVotes(178)) - s1@group-09A0EF6A68F4-LeaderElection5: begin an election at term 1 for -1: [s0:0.0.0.0:42611, s1:0.0.0.0:39575, s2:0.0.0.0:34382], old=null
2019-09-24 16:57:10,422 INFO  impl.LeaderElection (LeaderElection.java:askForVotes(178)) - s2@group-09A0EF6A68F4-LeaderElection6: begin an election at term 1 for -1: [s0:0.0.0.0:42611, s1:0.0.0.0:39575, s2:0.0.0.0:34382], old=null
2019-09-24 16:57:10,424 DEBUG impl.RaftServerImpl (RaftServerImpl.java:requestVote(743)) - s2@group-09A0EF6A68F4: receive requestVote(s1, group-09A0EF6A68F4, 1, (t:0, i:0))
2019-09-24 16:57:10,424 DEBUG impl.RaftServerImpl (RaftServerImpl.java:requestVote(743)) - s0@group-09A0EF6A68F4: receive requestVote(s1, group-09A0EF6A68F4, 1, (t:0, i:0))
2019-09-24 16:57:10,424 DEBUG impl.RaftServerImpl (RaftServerImpl.java:requestVote(743)) - s0@group-09A0EF6A68F4: receive requestVote(s2, group-09A0EF6A68F4, 1, (t:0, i:0))
2019-09-24 16:57:10,424 DEBUG impl.RaftServerImpl (RaftServerImpl.java:requestVote(775)) - s2@group-09A0EF6A68F4 replies to vote request: s1<-s2#0:FAIL-t1. Peer's state: s2@group-09A0EF6A68F4:t1, leader=null, voted=s2, raftlog=s2@group-09A0EF6A68F4-SegmentedRaftLog:OPENED:c-1,f-1,i0, conf=-1: [s0:0.0.0.0:42611, s1:0.0.0.0:39575, s2:0.0.0.0:34382], old=null
2019-09-24 16:57:10,424 DEBUG impl.RaftServerImpl (RaftServerImpl.java:requestVote(743)) - s1@group-09A0EF6A68F4: receive requestVote(s2, group-09A0EF6A68F4, 1, (t:0, i:0))
2019-09-24 16:57:10,425 DEBUG impl.RaftServerImpl (RaftServerImpl.java:requestVote(775)) - s1@group-09A0EF6A68F4 replies to vote request: s2<-s1#0:FAIL-t1. Peer's state: s1@group-09A0EF6A68F4:t1, leader=null, voted=s1, raftlog=s1@group-09A0EF6A68F4-SegmentedRaftLog:OPENED:c-1,f-1,i0, conf=-1: [s0:0.0.0.0:42611, s1:0.0.0.0:39575, s2:0.0.0.0:34382], old=null
2019-09-24 16:57:10,507 INFO  impl.LeaderElection (LeaderElection.java:askForVotes(178)) - s0@group-09A0EF6A68F4-LeaderElection7: begin an election at term 1 for -1: [s0:0.0.0.0:42611, s1:0.0.0.0:39575, s2:0.0.0.0:34382], old=null
2019-09-24 16:57:10,507 DEBUG impl.RaftServerImpl (RaftServerImpl.java:requestVote(775)) - s0@group-09A0EF6A68F4 replies to vote request: s2<-s0#0:FAIL-t1. Peer's state: s0@group-09A0EF6A68F4:t1, leader=null, voted=s0, raftlog=s0@group-09A0EF6A68F4-SegmentedRaftLog:OPENED:c-1,f-1,i0, conf=-1: [s0:0.0.0.0:42611, s1:0.0.0.0:39575, s2:0.0.0.0:34382], old=null
2019-09-24 16:57:10,508 DEBUG impl.RaftServerImpl (RaftServerImpl.java:requestVote(775)) - s0@group-09A0EF6A68F4 replies to vote request: s1<-s0#0:FAIL-t1. Peer's state: s0@group-09A0EF6A68F4:t1, leader=null, voted=s0, raftlog=s0@group-09A0EF6A68F4-SegmentedRaftLog:OPENED:c-1,f-1,i0, conf=-1: [s0:0.0.0.0:42611, s1:0.0.0.0:39575, s2:0.0.0.0:34382], old=null
2019-09-24 16:57:10,508 INFO  impl.LeaderElection (LeaderElection.java:logAndReturn(56)) - s2@group-09A0EF6A68F4-LeaderElection6: Election REJECTED; received 2 response(s) [s2<-s0#0:FAIL-t1, s2<-s1#0:FAIL-t1] and 0 exception(s); s2@group-09A0EF6A68F4:t1, leader=null, voted=s2, raftlog=s2@group-09A0EF6A68F4-SegmentedRaftLog:OPENED:c-1,f-1,i0, conf=-1: [s0:0.0.0.0:42611, s1:0.0.0.0:39575, s2:0.0.0.0:34382], old=null
2019-09-24 16:57:10,508 INFO  impl.LeaderElection (LeaderElection.java:logAndReturn(56)) - s1@group-09A0EF6A68F4-LeaderElection5: Election REJECTED; received 2 response(s) [s1<-s0#0:FAIL-t1, s1<-s2#0:FAIL-t1] and 0 exception(s); s1@group-09A0EF6A68F4:t1, leader=null, voted=s1, raftlog=s1@group-09A0EF6A68F4-SegmentedRaftLog:OPENED:c-1,f-1,i0, conf=-1: [s0:0.0.0.0:42611, s1:0.0.0.0:39575, s2:0.0.0.0:34382], old=null
2019-09-24 16:57:10,508 INFO  impl.RaftServerImpl (RaftServerImpl.java:setRole(170)) - s2@group-09A0EF6A68F4: changes role from CANDIDATE to FOLLOWER at term 1 for DISCOVERED_A_NEW_TERM
2019-09-24 16:57:10,509 INFO  impl.RaftServerImpl (RaftServerImpl.java:setRole(170)) - s1@group-09A0EF6A68F4: changes role from CANDIDATE to FOLLOWER at term 1 for DISCOVERED_A_NEW_TERM
2019-09-24 16:57:10,509 INFO  impl.RoleInfo (RoleInfo.java:shutdownLeaderElection(134)) - s2: shutdown LeaderElection
2019-09-24 16:57:10,509 DEBUG impl.RaftServerImpl (RaftServerImpl.java:requestVote(743)) - s1@group-09A0EF6A68F4: receive requestVote(s0, group-09A0EF6A68F4, 1, (t:0, i:0))
2019-09-24 16:57:10,509 INFO  impl.RoleInfo (RoleInfo.java:shutdownLeaderElection(134)) - s1: shutdown LeaderElection
2019-09-24 16:57:10,509 DEBUG impl.RaftServerImpl (RaftServerImpl.java:requestVote(743)) - s2@group-09A0EF6A68F4: receive requestVote(s0, group-09A0EF6A68F4, 1, (t:0, i:0))
2019-09-24 16:57:10,509 INFO  impl.RoleInfo (RoleInfo.java:updateAndGet(143)) - s2: start FollowerState
2019-09-24 16:57:10,510 INFO  impl.RoleInfo (RoleInfo.java:updateAndGet(143)) - s1: start FollowerState
2019-09-24 16:57:10,510 DEBUG impl.RaftServerImpl (RaftServerImpl.java:requestVote(775)) - s2@group-09A0EF6A68F4 replies to vote request: s0<-s2#0:FAIL-t1. Peer's state: s2@group-09A0EF6A68F4:t1, leader=null, voted=s2, raftlog=s2@group-09A0EF6A68F4-SegmentedRaftLog:OPENED:c-1,f-1,i0, conf=-1: [s0:0.0.0.0:42611, s1:0.0.0.0:39575, s2:0.0.0.0:34382], old=null
2019-09-24 16:57:10,510 DEBUG impl.RaftServerImpl (RaftServerImpl.java:requestVote(775)) - s1@group-09A0EF6A68F4 replies to vote request: s0<-s1#0:FAIL-t1. Peer's state: s1@group-09A0EF6A68F4:t1, leader=null, voted=s1, raftlog=s1@group-09A0EF6A68F4-SegmentedRaftLog:OPENED:c-1,f-1,i0, conf=-1: [s0:0.0.0.0:42611, s1:0.0.0.0:39575, s2:0.0.0.0:34382], old=null
2019-09-24 16:57:10,511 INFO  impl.LeaderElection (LeaderElection.java:logAndReturn(56)) - s0@group-09A0EF6A68F4-LeaderElection7: Election REJECTED; received 2 response(s) [s0<-s1#0:FAIL-t1, s0<-s2#0:FAIL-t1] and 0 exception(s); s0@group-09A0EF6A68F4:t1, leader=null, voted=s0, raftlog=s0@group-09A0EF6A68F4-SegmentedRaftLog:OPENED:c-1,f-1,i0, conf=-1: [s0:0.0.0.0:42611, s1:0.0.0.0:39575, s2:0.0.0.0:34382], old=null
2019-09-24 16:57:10,511 INFO  impl.RaftServerImpl (RaftServerImpl.java:setRole(170)) - s0@group-09A0EF6A68F4: changes role from CANDIDATE to FOLLOWER at term 1 for DISCOVERED_A_NEW_TERM
2019-09-24 16:57:10,511 INFO  impl.RoleInfo (RoleInfo.java:shutdownLeaderElection(134)) - s0: shutdown LeaderElection
2019-09-24 16:57:10,512 INFO  impl.RoleInfo (RoleInfo.java:updateAndGet(143)) - s0: start FollowerState
2019-09-24 16:57:10,579 WARN  ratis.RaftTestUtil (JavaUtils.java:attempt(158)) - FAILED "waitForLeader-null-(expectLeader? true)", attempt #2/100: java.lang.IllegalStateException: No leader yet : printing ALL groups
  s0:  RUNNING  FOLLOWER s0@group-09A0EF6A68F4:t1, leader=null, voted=s0, raftlog=s0@group-09A0EF6A68F4-SegmentedRaftLog:OPENED:c-1,f-1,i0, conf=-1: [s0:0.0.0.0:42611, s1:0.0.0.0:39575, s2:0.0.0.0:34382], old=null RUNNING
  s1:  RUNNING  FOLLOWER s1@group-09A0EF6A68F4:t1, leader=null, voted=s1, raftlog=s1@group-09A0EF6A68F4-SegmentedRaftLog:OPENED:c-1,f-1,i0, conf=-1: [s0:0.0.0.0:42611, s1:0.0.0.0:39575, s2:0.0.0.0:34382], old=null RUNNING
  s2:  RUNNING  FOLLOWER s2@group-09A0EF6A68F4:t1, leader=null, voted=s2, raftlog=s2@group-09A0EF6A68F4-SegmentedRaftLog:OPENED:c-1,f-1,i0, conf=-1: [s0:0.0.0.0:42611, s1:0.0.0.0:39575, s2:0.0.0.0:34382], old=null RUNNING, sleep 450ms and then retry.
java.lang.IllegalStateException: No leader yet : printing ALL groups
  s0:  RUNNING  FOLLOWER s0@group-09A0EF6A68F4:t1, leader=null, voted=s0, raftlog=s0@group-09A0EF6A68F4-SegmentedRaftLog:OPENED:c-1,f-1,i0, conf=-1: [s0:0.0.0.0:42611, s1:0.0.0.0:39575, s2:0.0.0.0:34382], old=null RUNNING
  s1:  RUNNING  FOLLOWER s1@group-09A0EF6A68F4:t1, leader=null, voted=s1, raftlog=s1@group-09A0EF6A68F4-SegmentedRaftLog:OPENED:c-1,f-1,i0, conf=-1: [s0:0.0.0.0:42611, s1:0.0.0.0:39575, s2:0.0.0.0:34382], old=null RUNNING
  s2:  RUNNING  FOLLOWER s2@group-09A0EF6A68F4:t1, leader=null, voted=s2, raftlog=s2@group-09A0EF6A68F4-SegmentedRaftLog:OPENED:c-1,f-1,i0, conf=-1: [s0:0.0.0.0:42611, s1:0.0.0.0:39575, s2:0.0.0.0:34382], old=null RUNNING
	at org.apache.ratis.MiniRaftCluster.newIllegalStateExceptionForNoLeaders(MiniRaftCluster.java:506)
	at org.apache.ratis.RaftTestUtil.lambda$waitForLeader$1(RaftTestUtil.java:90)
	at org.apache.ratis.MiniRaftCluster.getLeader(MiniRaftCluster.java:539)
	at org.apache.ratis.MiniRaftCluster.getLeader(MiniRaftCluster.java:532)
	at org.apache.ratis.RaftTestUtil.lambda$waitForLeader$3(RaftTestUtil.java:98)
	at org.apache.ratis.util.JavaUtils.attempt(JavaUtils.java:152)
	at org.apache.ratis.RaftTestUtil.waitForLeader(RaftTestUtil.java:97)
	at org.apache.ratis.RaftTestUtil.waitForLeader(RaftTestUtil.java:77)
	at org.apache.ratis.RaftTestUtil.waitForLeader(RaftTestUtil.java:72)
	at org.apache.ratis.server.impl.RaftStateMachineExceptionTests.runTestRetryOnExceptionDuringReplication(RaftStateMachineExceptionTests.java:149)
	at org.apache.ratis.MiniRaftCluster$Factory$Get.runWithNewCluster(MiniRaftCluster.java:125)
	at org.apache.ratis.MiniRaftCluster$Factory$Get.runWithNewCluster(MiniRaftCluster.java:113)
	at org.apache.ratis.server.impl.RaftStateMachineExceptionTests.testRetryOnExceptionDuringReplication(RaftStateMachineExceptionTests.java:145)
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.lang.reflect.Method.invoke(Method.java:498)
	at org.junit.runners.model.FrameworkMethod$1.runReflectiveCall(FrameworkMethod.java:50)
	at org.junit.internal.runners.model.ReflectiveCallable.run(ReflectiveCallable.java:12)
	at org.junit.runners.model.FrameworkMethod.invokeExplosively(FrameworkMethod.java:47)
	at org.junit.internal.runners.statements.InvokeMethod.evaluate(InvokeMethod.java:17)
	at org.junit.internal.runners.statements.RunAfters.evaluate(RunAfters.java:27)
	at org.junit.internal.runners.statements.FailOnTimeout$CallableStatement.call(FailOnTimeout.java:298)
	at org.junit.internal.runners.statements.FailOnTimeout$CallableStatement.call(FailOnTimeout.java:292)
	at java.util.concurrent.FutureTask.run(FutureTask.java:266)
	at java.lang.Thread.run(Thread.java:748)
2019-09-24 16:57:10,661 INFO  impl.FollowerState (FollowerState.java:run(108)) - s2@group-09A0EF6A68F4-FollowerState: change to CANDIDATE, lastRpcTime:152ms, electionTimeout:151ms
2019-09-24 16:57:10,662 INFO  impl.RoleInfo (RoleInfo.java:shutdownFollowerState(121)) - s2: shutdown FollowerState
2019-09-24 16:57:10,662 INFO  impl.RaftServerImpl (RaftServerImpl.java:setRole(170)) - s2@group-09A0EF6A68F4: changes role from  FOLLOWER to CANDIDATE at term 1 for changeToCandidate
2019-09-24 16:57:10,662 INFO  impl.RoleInfo (RoleInfo.java:updateAndGet(143)) - s2: start LeaderElection
2019-09-24 16:57:10,677 INFO  impl.FollowerState (FollowerState.java:run(108)) - s0@group-09A0EF6A68F4-FollowerState: change to CANDIDATE, lastRpcTime:165ms, electionTimeout:165ms
2019-09-24 16:57:10,678 INFO  impl.RoleInfo (RoleInfo.java:shutdownFollowerState(121)) - s0: shutdown FollowerState
2019-09-24 16:57:10,678 INFO  impl.RaftServerImpl (RaftServerImpl.java:setRole(170)) - s0@group-09A0EF6A68F4: changes role from  FOLLOWER to CANDIDATE at term 1 for changeToCandidate
2019-09-24 16:57:10,678 INFO  impl.RoleInfo (RoleInfo.java:updateAndGet(143)) - s0: start LeaderElection
2019-09-24 16:57:10,763 INFO  impl.FollowerState (FollowerState.java:run(108)) - s1@group-09A0EF6A68F4-FollowerState: change to CANDIDATE, lastRpcTime:253ms, electionTimeout:252ms
2019-09-24 16:57:10,763 INFO  impl.RoleInfo (RoleInfo.java:shutdownFollowerState(121)) - s1: shutdown FollowerState
2019-09-24 16:57:10,763 INFO  impl.RaftServerImpl (RaftServerImpl.java:setRole(170)) - s1@group-09A0EF6A68F4: changes role from  FOLLOWER to CANDIDATE at term 1 for changeToCandidate
2019-09-24 16:57:10,763 INFO  impl.RoleInfo (RoleInfo.java:updateAndGet(143)) - s1: start LeaderElection
2019-09-24 16:57:10,881 INFO  impl.LeaderElection (LeaderElection.java:askForVotes(178)) - s2@group-09A0EF6A68F4-LeaderElection8: begin an election at term 2 for -1: [s0:0.0.0.0:42611, s1:0.0.0.0:39575, s2:0.0.0.0:34382], old=null
2019-09-24 16:57:10,881 INFO  impl.LeaderElection (LeaderElection.java:askForVotes(178)) - s1@group-09A0EF6A68F4-LeaderElection10: begin an election at term 2 for -1: [s0:0.0.0.0:42611, s1:0.0.0.0:39575, s2:0.0.0.0:34382], old=null
2019-09-24 16:57:10,881 INFO  impl.LeaderElection (LeaderElection.java:askForVotes(178)) - s0@group-09A0EF6A68F4-LeaderElection9: begin an election at term 2 for -1: [s0:0.0.0.0:42611, s1:0.0.0.0:39575, s2:0.0.0.0:34382], old=null
2019-09-24 16:57:10,882 DEBUG impl.RaftServerImpl (RaftServerImpl.java:requestVote(743)) - s0@group-09A0EF6A68F4: receive requestVote(s2, group-09A0EF6A68F4, 2, (t:0, i:0))
2019-09-24 16:57:10,883 DEBUG impl.RaftServerImpl (RaftServerImpl.java:requestVote(743)) - s0@group-09A0EF6A68F4: receive requestVote(s1, group-09A0EF6A68F4, 2, (t:0, i:0))
2019-09-24 16:57:10,883 DEBUG impl.RaftServerImpl (RaftServerImpl.java:requestVote(775)) - s0@group-09A0EF6A68F4 replies to vote request: s2<-s0#0:FAIL-t2. Peer's state: s0@group-09A0EF6A68F4:t2, leader=null, voted=s0, raftlog=s0@group-09A0EF6A68F4-SegmentedRaftLog:OPENED:c-1,f-1,i0, conf=-1: [s0:0.0.0.0:42611, s1:0.0.0.0:39575, s2:0.0.0.0:34382], old=null
2019-09-24 16:57:10,883 DEBUG impl.RaftServerImpl (RaftServerImpl.java:requestVote(743)) - s1@group-09A0EF6A68F4: receive requestVote(s0, group-09A0EF6A68F4, 2, (t:0, i:0))
2019-09-24 16:57:10,883 DEBUG impl.RaftServerImpl (RaftServerImpl.java:requestVote(743)) - s2@group-09A0EF6A68F4: receive requestVote(s1, group-09A0EF6A68F4, 2, (t:0, i:0))
2019-09-24 16:57:10,883 DEBUG impl.RaftServerImpl (RaftServerImpl.java:requestVote(743)) - s2@group-09A0EF6A68F4: receive requestVote(s0, group-09A0EF6A68F4, 2, (t:0, i:0))
2019-09-24 16:57:10,883 DEBUG impl.RaftServerImpl (RaftServerImpl.java:requestVote(743)) - s1@group-09A0EF6A68F4: receive requestVote(s2, group-09A0EF6A68F4, 2, (t:0, i:0))
2019-09-24 16:57:10,883 DEBUG impl.RaftServerImpl (RaftServerImpl.java:requestVote(775)) - s2@group-09A0EF6A68F4 replies to vote request: s1<-s2#0:FAIL-t2. Peer's state: s2@group-09A0EF6A68F4:t2, leader=null, voted=s2, raftlog=s2@group-09A0EF6A68F4-SegmentedRaftLog:OPENED:c-1,f-1,i0, conf=-1: [s0:0.0.0.0:42611, s1:0.0.0.0:39575, s2:0.0.0.0:34382], old=null
2019-09-24 16:57:10,883 DEBUG impl.RaftServerImpl (RaftServerImpl.java:requestVote(775)) - s1@group-09A0EF6A68F4 replies to vote request: s0<-s1#0:FAIL-t2. Peer's state: s1@group-09A0EF6A68F4:t2, leader=null, voted=s1, raftlog=s1@group-09A0EF6A68F4-SegmentedRaftLog:OPENED:c-1,f-1,i0, conf=-1: [s0:0.0.0.0:42611, s1:0.0.0.0:39575, s2:0.0.0.0:34382], old=null
2019-09-24 16:57:10,884 DEBUG impl.RaftServerImpl (RaftServerImpl.java:requestVote(775)) - s2@group-09A0EF6A68F4 replies to vote request: s0<-s2#0:FAIL-t2. Peer's state: s2@group-09A0EF6A68F4:t2, leader=null, voted=s2, raftlog=s2@group-09A0EF6A68F4-SegmentedRaftLog:OPENED:c-1,f-1,i0, conf=-1: [s0:0.0.0.0:42611, s1:0.0.0.0:39575, s2:0.0.0.0:34382], old=null
2019-09-24 16:57:10,884 DEBUG impl.RaftServerImpl (RaftServerImpl.java:requestVote(775)) - s1@group-09A0EF6A68F4 replies to vote request: s2<-s1#0:FAIL-t2. Peer's state: s1@group-09A0EF6A68F4:t2, leader=null, voted=s1, raftlog=s1@group-09A0EF6A68F4-SegmentedRaftLog:OPENED:c-1,f-1,i0, conf=-1: [s0:0.0.0.0:42611, s1:0.0.0.0:39575, s2:0.0.0.0:34382], old=null
2019-09-24 16:57:10,883 DEBUG impl.RaftServerImpl (RaftServerImpl.java:requestVote(775)) - s0@group-09A0EF6A68F4 replies to vote request: s1<-s0#0:FAIL-t2. Peer's state: s0@group-09A0EF6A68F4:t2, leader=null, voted=s0, raftlog=s0@group-09A0EF6A68F4-SegmentedRaftLog:OPENED:c-1,f-1,i0, conf=-1: [s0:0.0.0.0:42611, s1:0.0.0.0:39575, s2:0.0.0.0:34382], old=null
2019-09-24 16:57:10,884 INFO  impl.LeaderElection (LeaderElection.java:logAndReturn(56)) - s0@group-09A0EF6A68F4-LeaderElection9: Election REJECTED; received 2 response(s) [s0<-s1#0:FAIL-t2, s0<-s2#0:FAIL-t2] and 0 exception(s); s0@group-09A0EF6A68F4:t2, leader=null, voted=s0, raftlog=s0@group-09A0EF6A68F4-SegmentedRaftLog:OPENED:c-1,f-1,i0, conf=-1: [s0:0.0.0.0:42611, s1:0.0.0.0:39575, s2:0.0.0.0:34382], old=null
2019-09-24 16:57:10,884 INFO  impl.LeaderElection (LeaderElection.java:logAndReturn(56)) - s1@group-09A0EF6A68F4-LeaderElection10: Election REJECTED; received 2 response(s) [s1<-s0#0:FAIL-t2, s1<-s2#0:FAIL-t2] and 0 exception(s); s1@group-09A0EF6A68F4:t2, leader=null, voted=s1, raftlog=s1@group-09A0EF6A68F4-SegmentedRaftLog:OPENED:c-1,f-1,i0, conf=-1: [s0:0.0.0.0:42611, s1:0.0.0.0:39575, s2:0.0.0.0:34382], old=null
2019-09-24 16:57:10,884 INFO  impl.LeaderElection (LeaderElection.java:logAndReturn(56)) - s2@group-09A0EF6A68F4-LeaderElection8: Election REJECTED; received 2 response(s) [s2<-s0#0:FAIL-t2, s2<-s1#0:FAIL-t2] and 0 exception(s); s2@group-09A0EF6A68F4:t2, leader=null, voted=s2, raftlog=s2@group-09A0EF6A68F4-SegmentedRaftLog:OPENED:c-1,f-1,i0, conf=-1: [s0:0.0.0.0:42611, s1:0.0.0.0:39575, s2:0.0.0.0:34382], old=null
2019-09-24 16:57:10,885 INFO  impl.RaftServerImpl (RaftServerImpl.java:setRole(170)) - s1@group-09A0EF6A68F4: changes role from CANDIDATE to FOLLOWER at term 2 for DISCOVERED_A_NEW_TERM
2019-09-24 16:57:10,885 INFO  impl.RaftServerImpl (RaftServerImpl.java:setRole(170)) - s0@group-09A0EF6A68F4: changes role from CANDIDATE to FOLLOWER at term 2 for DISCOVERED_A_NEW_TERM
2019-09-24 16:57:10,886 INFO  impl.RaftServerImpl (RaftServerImpl.java:setRole(170)) - s2@group-09A0EF6A68F4: changes role from CANDIDATE to FOLLOWER at term 2 for DISCOVERED_A_NEW_TERM
2019-09-24 16:57:10,886 INFO  impl.RoleInfo (RoleInfo.java:shutdownLeaderElection(134)) - s1: shutdown LeaderElection
2019-09-24 16:57:10,887 INFO  impl.RoleInfo (RoleInfo.java:shutdownLeaderElection(134)) - s2: shutdown LeaderElection
2019-09-24 16:57:10,887 INFO  impl.RoleInfo (RoleInfo.java:shutdownLeaderElection(134)) - s0: shutdown LeaderElection
2019-09-24 16:57:10,888 INFO  impl.RoleInfo (RoleInfo.java:updateAndGet(143)) - s2: start FollowerState
2019-09-24 16:57:10,887 INFO  impl.RoleInfo (RoleInfo.java:updateAndGet(143)) - s1: start FollowerState
2019-09-24 16:57:10,888 INFO  impl.RoleInfo (RoleInfo.java:updateAndGet(143)) - s0: start FollowerState
2019-09-24 16:57:11,030 WARN  ratis.RaftTestUtil (JavaUtils.java:attempt(158)) - FAILED "waitForLeader-null-(expectLeader? true)", attempt #3/100: java.lang.IllegalStateException: No leader yet : printing ALL groups
  s0:  RUNNING  FOLLOWER s0@group-09A0EF6A68F4:t2, leader=null, voted=s0, raftlog=s0@group-09A0EF6A68F4-SegmentedRaftLog:OPENED:c-1,f-1,i0, conf=-1: [s0:0.0.0.0:42611, s1:0.0.0.0:39575, s2:0.0.0.0:34382], old=null RUNNING
  s1:  RUNNING  FOLLOWER s1@group-09A0EF6A68F4:t2, leader=null, voted=s1, raftlog=s1@group-09A0EF6A68F4-SegmentedRaftLog:OPENED:c-1,f-1,i0, conf=-1: [s0:0.0.0.0:42611, s1:0.0.0.0:39575, s2:0.0.0.0:34382], old=null RUNNING
  s2:  RUNNING  FOLLOWER s2@group-09A0EF6A68F4:t2, leader=null, voted=s2, raftlog=s2@group-09A0EF6A68F4-SegmentedRaftLog:OPENED:c-1,f-1,i0, conf=-1: [s0:0.0.0.0:42611, s1:0.0.0.0:39575, s2:0.0.0.0:34382], old=null RUNNING, sleep 450ms and then retry.
java.lang.IllegalStateException: No leader yet : printing ALL groups
  s0:  RUNNING  FOLLOWER s0@group-09A0EF6A68F4:t2, leader=null, voted=s0, raftlog=s0@group-09A0EF6A68F4-SegmentedRaftLog:OPENED:c-1,f-1,i0, conf=-1: [s0:0.0.0.0:42611, s1:0.0.0.0:39575, s2:0.0.0.0:34382], old=null RUNNING
  s1:  RUNNING  FOLLOWER s1@group-09A0EF6A68F4:t2, leader=null, voted=s1, raftlog=s1@group-09A0EF6A68F4-SegmentedRaftLog:OPENED:c-1,f-1,i0, conf=-1: [s0:0.0.0.0:42611, s1:0.0.0.0:39575, s2:0.0.0.0:34382], old=null RUNNING
  s2:  RUNNING  FOLLOWER s2@group-09A0EF6A68F4:t2, leader=null, voted=s2, raftlog=s2@group-09A0EF6A68F4-SegmentedRaftLog:OPENED:c-1,f-1,i0, conf=-1: [s0:0.0.0.0:42611, s1:0.0.0.0:39575, s2:0.0.0.0:34382], old=null RUNNING
	at org.apache.ratis.MiniRaftCluster.newIllegalStateExceptionForNoLeaders(MiniRaftCluster.java:506)
	at org.apache.ratis.RaftTestUtil.lambda$waitForLeader$1(RaftTestUtil.java:90)
	at org.apache.ratis.MiniRaftCluster.getLeader(MiniRaftCluster.java:539)
	at org.apache.ratis.MiniRaftCluster.getLeader(MiniRaftCluster.java:532)
	at org.apache.ratis.RaftTestUtil.lambda$waitForLeader$3(RaftTestUtil.java:98)
	at org.apache.ratis.util.JavaUtils.attempt(JavaUtils.java:152)
	at org.apache.ratis.RaftTestUtil.waitForLeader(RaftTestUtil.java:97)
	at org.apache.ratis.RaftTestUtil.waitForLeader(RaftTestUtil.java:77)
	at org.apache.ratis.RaftTestUtil.waitForLeader(RaftTestUtil.java:72)
	at org.apache.ratis.server.impl.RaftStateMachineExceptionTests.runTestRetryOnExceptionDuringReplication(RaftStateMachineExceptionTests.java:149)
	at org.apache.ratis.MiniRaftCluster$Factory$Get.runWithNewCluster(MiniRaftCluster.java:125)
	at org.apache.ratis.MiniRaftCluster$Factory$Get.runWithNewCluster(MiniRaftCluster.java:113)
	at org.apache.ratis.server.impl.RaftStateMachineExceptionTests.testRetryOnExceptionDuringReplication(RaftStateMachineExceptionTests.java:145)
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.lang.reflect.Method.invoke(Method.java:498)
	at org.junit.runners.model.FrameworkMethod$1.runReflectiveCall(FrameworkMethod.java:50)
	at org.junit.internal.runners.model.ReflectiveCallable.run(ReflectiveCallable.java:12)
	at org.junit.runners.model.FrameworkMethod.invokeExplosively(FrameworkMethod.java:47)
	at org.junit.internal.runners.statements.InvokeMethod.evaluate(InvokeMethod.java:17)
	at org.junit.internal.runners.statements.RunAfters.evaluate(RunAfters.java:27)
	at org.junit.internal.runners.statements.FailOnTimeout$CallableStatement.call(FailOnTimeout.java:298)
	at org.junit.internal.runners.statements.FailOnTimeout$CallableStatement.call(FailOnTimeout.java:292)
	at java.util.concurrent.FutureTask.run(FutureTask.java:266)
	at java.lang.Thread.run(Thread.java:748)
2019-09-24 16:57:11,098 INFO  impl.FollowerState (FollowerState.java:run(108)) - s1@group-09A0EF6A68F4-FollowerState: change to CANDIDATE, lastRpcTime:210ms, electionTimeout:209ms
2019-09-24 16:57:11,098 INFO  impl.RoleInfo (RoleInfo.java:shutdownFollowerState(121)) - s1: shutdown FollowerState
2019-09-24 16:57:11,099 INFO  impl.RaftServerImpl (RaftServerImpl.java:setRole(170)) - s1@group-09A0EF6A68F4: changes role from  FOLLOWER to CANDIDATE at term 2 for changeToCandidate
2019-09-24 16:57:11,099 INFO  impl.RoleInfo (RoleInfo.java:updateAndGet(143)) - s1: start LeaderElection
2019-09-24 16:57:11,113 INFO  impl.LeaderElection (LeaderElection.java:askForVotes(178)) - s1@group-09A0EF6A68F4-LeaderElection11: begin an election at term 3 for -1: [s0:0.0.0.0:42611, s1:0.0.0.0:39575, s2:0.0.0.0:34382], old=null
2019-09-24 16:57:11,115 DEBUG impl.RaftServerImpl (RaftServerImpl.java:requestVote(743)) - s0@group-09A0EF6A68F4: receive requestVote(s1, group-09A0EF6A68F4, 3, (t:0, i:0))
2019-09-24 16:57:11,115 DEBUG impl.RaftServerImpl (RaftServerImpl.java:requestVote(743)) - s2@group-09A0EF6A68F4: receive requestVote(s1, group-09A0EF6A68F4, 3, (t:0, i:0))
2019-09-24 16:57:11,115 INFO  impl.RaftServerImpl (RaftServerImpl.java:setRole(170)) - s0@group-09A0EF6A68F4: changes role from  FOLLOWER to FOLLOWER at term 3 for recognizeCandidate:s1
2019-09-24 16:57:11,115 INFO  impl.RaftServerImpl (RaftServerImpl.java:setRole(170)) - s2@group-09A0EF6A68F4: changes role from  FOLLOWER to FOLLOWER at term 3 for recognizeCandidate:s1
2019-09-24 16:57:11,115 INFO  impl.RoleInfo (RoleInfo.java:shutdownFollowerState(121)) - s0: shutdown FollowerState
2019-09-24 16:57:11,115 INFO  impl.RoleInfo (RoleInfo.java:shutdownFollowerState(121)) - s2: shutdown FollowerState
2019-09-24 16:57:11,116 INFO  impl.FollowerState (FollowerState.java:run(117)) - s0@group-09A0EF6A68F4-FollowerState was interrupted: java.lang.InterruptedException: sleep interrupted
2019-09-24 16:57:11,116 INFO  impl.FollowerState (FollowerState.java:run(117)) - s2@group-09A0EF6A68F4-FollowerState was interrupted: java.lang.InterruptedException: sleep interrupted
2019-09-24 16:57:11,116 INFO  impl.RoleInfo (RoleInfo.java:updateAndGet(143)) - s2: start FollowerState
2019-09-24 16:57:11,116 INFO  impl.RoleInfo (RoleInfo.java:updateAndGet(143)) - s0: start FollowerState
2019-09-24 16:57:11,384 INFO  impl.LeaderElection (LeaderElection.java:logAndReturn(56)) - s1@group-09A0EF6A68F4-LeaderElection11: Election TIMEOUT; received 0 response(s) [] and 0 exception(s); s1@group-09A0EF6A68F4:t3, leader=null, voted=s1, raftlog=s1@group-09A0EF6A68F4-SegmentedRaftLog:OPENED:c-1,f-1,i0, conf=-1: [s0:0.0.0.0:42611, s1:0.0.0.0:39575, s2:0.0.0.0:34382], old=null
2019-09-24 16:57:11,483 WARN  ratis.RaftTestUtil (JavaUtils.java:attempt(158)) - FAILED "waitForLeader-null-(expectLeader? true)", attempt #4/100: java.lang.IllegalStateException: No leader yet : printing ALL groups
  s0:  RUNNING  FOLLOWER s0@group-09A0EF6A68F4:t3, leader=null, voted=s1, raftlog=s0@group-09A0EF6A68F4-SegmentedRaftLog:OPENED:c-1,f-1,i0, conf=-1: [s0:0.0.0.0:42611, s1:0.0.0.0:39575, s2:0.0.0.0:34382], old=null RUNNING
  s1:  RUNNING CANDIDATE s1@group-09A0EF6A68F4:t4, leader=null, voted=s1, raftlog=s1@group-09A0EF6A68F4-SegmentedRaftLog:OPENED:c-1,f-1,i0, conf=-1: [s0:0.0.0.0:42611, s1:0.0.0.0:39575, s2:0.0.0.0:34382], old=null RUNNING
  s2:  RUNNING  FOLLOWER s2@group-09A0EF6A68F4:t3, leader=null, voted=s1, raftlog=s2@group-09A0EF6A68F4-SegmentedRaftLog:OPENED:c-1,f-1,i0, conf=-1: [s0:0.0.0.0:42611, s1:0.0.0.0:39575, s2:0.0.0.0:34382], old=null RUNNING, sleep 450ms and then retry.
java.lang.IllegalStateException: No leader yet : printing ALL groups
  s0:  RUNNING  FOLLOWER s0@group-09A0EF6A68F4:t3, leader=null, voted=s1, raftlog=s0@group-09A0EF6A68F4-SegmentedRaftLog:OPENED:c-1,f-1,i0, conf=-1: [s0:0.0.0.0:42611, s1:0.0.0.0:39575, s2:0.0.0.0:34382], old=null RUNNING
  s1:  RUNNING CANDIDATE s1@group-09A0EF6A68F4:t4, leader=null, voted=s1, raftlog=s1@group-09A0EF6A68F4-SegmentedRaftLog:OPENED:c-1,f-1,i0, conf=-1: [s0:0.0.0.0:42611, s1:0.0.0.0:39575, s2:0.0.0.0:34382], old=null RUNNING
  s2:  RUNNING  FOLLOWER s2@group-09A0EF6A68F4:t3, leader=null, voted=s1, raftlog=s2@group-09A0EF6A68F4-SegmentedRaftLog:OPENED:c-1,f-1,i0, conf=-1: [s0:0.0.0.0:42611, s1:0.0.0.0:39575, s2:0.0.0.0:34382], old=null RUNNING
	at org.apache.ratis.MiniRaftCluster.newIllegalStateExceptionForNoLeaders(MiniRaftCluster.java:506)
	at org.apache.ratis.RaftTestUtil.lambda$waitForLeader$1(RaftTestUtil.java:90)
	at org.apache.ratis.MiniRaftCluster.getLeader(MiniRaftCluster.java:539)
	at org.apache.ratis.MiniRaftCluster.getLeader(MiniRaftCluster.java:532)
	at org.apache.ratis.RaftTestUtil.lambda$waitForLeader$3(RaftTestUtil.java:98)
	at org.apache.ratis.util.JavaUtils.attempt(JavaUtils.java:152)
	at org.apache.ratis.RaftTestUtil.waitForLeader(RaftTestUtil.java:97)
	at org.apache.ratis.RaftTestUtil.waitForLeader(RaftTestUtil.java:77)
	at org.apache.ratis.RaftTestUtil.waitForLeader(RaftTestUtil.java:72)
	at org.apache.ratis.server.impl.RaftStateMachineExceptionTests.runTestRetryOnExceptionDuringReplication(RaftStateMachineExceptionTests.java:149)
	at org.apache.ratis.MiniRaftCluster$Factory$Get.runWithNewCluster(MiniRaftCluster.java:125)
	at org.apache.ratis.MiniRaftCluster$Factory$Get.runWithNewCluster(MiniRaftCluster.java:113)
	at org.apache.ratis.server.impl.RaftStateMachineExceptionTests.testRetryOnExceptionDuringReplication(RaftStateMachineExceptionTests.java:145)
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.lang.reflect.Method.invoke(Method.java:498)
	at org.junit.runners.model.FrameworkMethod$1.runReflectiveCall(FrameworkMethod.java:50)
	at org.junit.internal.runners.model.ReflectiveCallable.run(ReflectiveCallable.java:12)
	at org.junit.runners.model.FrameworkMethod.invokeExplosively(FrameworkMethod.java:47)
	at org.junit.internal.runners.statements.InvokeMethod.evaluate(InvokeMethod.java:17)
	at org.junit.internal.runners.statements.RunAfters.evaluate(RunAfters.java:27)
	at org.junit.internal.runners.statements.FailOnTimeout$CallableStatement.call(FailOnTimeout.java:298)
	at org.junit.internal.runners.statements.FailOnTimeout$CallableStatement.call(FailOnTimeout.java:292)
	at java.util.concurrent.FutureTask.run(FutureTask.java:266)
	at java.lang.Thread.run(Thread.java:748)
2019-09-24 16:57:11,715 INFO  impl.LeaderElection (LeaderElection.java:askForVotes(178)) - s1@group-09A0EF6A68F4-LeaderElection11: begin an election at term 4 for -1: [s0:0.0.0.0:42611, s1:0.0.0.0:39575, s2:0.0.0.0:34382], old=null
2019-09-24 16:57:11,715 DEBUG impl.RaftServerImpl (RaftServerImpl.java:requestVote(775)) - s0@group-09A0EF6A68F4 replies to vote request: s1<-s0#0:OK-t3. Peer's state: s0@group-09A0EF6A68F4:t3, leader=null, voted=s1, raftlog=s0@group-09A0EF6A68F4-SegmentedRaftLog:OPENED:c-1,f-1,i0, conf=-1: [s0:0.0.0.0:42611, s1:0.0.0.0:39575, s2:0.0.0.0:34382], old=null
2019-09-24 16:57:11,715 DEBUG impl.RaftServerImpl (RaftServerImpl.java:requestVote(775)) - s2@group-09A0EF6A68F4 replies to vote request: s1<-s2#0:OK-t3. Peer's state: s2@group-09A0EF6A68F4:t3, leader=null, voted=s1, raftlog=s2@group-09A0EF6A68F4-SegmentedRaftLog:OPENED:c-1,f-1,i0, conf=-1: [s0:0.0.0.0:42611, s1:0.0.0.0:39575, s2:0.0.0.0:34382], old=null
2019-09-24 16:57:11,716 INFO  impl.FollowerState (FollowerState.java:run(108)) - s0@group-09A0EF6A68F4-FollowerState: change to CANDIDATE, lastRpcTime:599ms, electionTimeout:261ms
2019-09-24 16:57:11,716 INFO  impl.FollowerState (FollowerState.java:run(108)) - s2@group-09A0EF6A68F4-FollowerState: change to CANDIDATE, lastRpcTime:600ms, electionTimeout:280ms
2019-09-24 16:57:11,716 INFO  impl.RoleInfo (RoleInfo.java:shutdownFollowerState(121)) - s0: shutdown FollowerState
2019-09-24 16:57:11,717 INFO  impl.RoleInfo (RoleInfo.java:shutdownFollowerState(121)) - s2: shutdown FollowerState
2019-09-24 16:57:11,717 DEBUG impl.RaftServerImpl (RaftServerImpl.java:requestVote(743)) - s0@group-09A0EF6A68F4: receive requestVote(s1, group-09A0EF6A68F4, 4, (t:0, i:0))
2019-09-24 16:57:11,717 INFO  impl.RaftServerImpl (RaftServerImpl.java:setRole(170)) - s2@group-09A0EF6A68F4: changes role from  FOLLOWER to CANDIDATE at term 3 for changeToCandidate
2019-09-24 16:57:11,717 DEBUG impl.RaftServerImpl (RaftServerImpl.java:requestVote(743)) - s2@group-09A0EF6A68F4: receive requestVote(s1, group-09A0EF6A68F4, 4, (t:0, i:0))
2019-09-24 16:57:11,718 INFO  impl.RoleInfo (RoleInfo.java:updateAndGet(143)) - s2: start LeaderElection
2019-09-24 16:57:11,717 INFO  impl.RaftServerImpl (RaftServerImpl.java:setRole(170)) - s0@group-09A0EF6A68F4: changes role from  FOLLOWER to CANDIDATE at term 3 for changeToCandidate
2019-09-24 16:57:11,719 INFO  impl.RaftServerImpl (RaftServerImpl.java:setRole(170)) - s2@group-09A0EF6A68F4: changes role from CANDIDATE to FOLLOWER at term 4 for recognizeCandidate:s1
2019-09-24 16:57:11,719 INFO  impl.RoleInfo (RoleInfo.java:updateAndGet(143)) - s0: start LeaderElection
2019-09-24 16:57:11,719 INFO  impl.RoleInfo (RoleInfo.java:shutdownLeaderElection(134)) - s2: shutdown LeaderElection
2019-09-24 16:57:11,719 INFO  impl.RoleInfo (RoleInfo.java:updateAndGet(143)) - s2: start FollowerState
2019-09-24 16:57:11,720 INFO  impl.RaftServerImpl (RaftServerImpl.java:setRole(170)) - s0@group-09A0EF6A68F4: changes role from CANDIDATE to FOLLOWER at term 4 for recognizeCandidate:s1
2019-09-24 16:57:11,720 INFO  impl.RoleInfo (RoleInfo.java:shutdownLeaderElection(134)) - s0: shutdown LeaderElection
2019-09-24 16:57:11,720 INFO  impl.RoleInfo (RoleInfo.java:updateAndGet(143)) - s0: start FollowerState
2019-09-24 16:57:11,934 WARN  ratis.RaftTestUtil (JavaUtils.java:attempt(158)) - FAILED "waitForLeader-null-(expectLeader? true)", attempt #5/100: java.lang.IllegalStateException: No leader yet : printing ALL groups
  s0:  RUNNING  FOLLOWER s0@group-09A0EF6A68F4:t4, leader=null, voted=null, raftlog=s0@group-09A0EF6A68F4-SegmentedRaftLog:OPENED:c-1,f-1,i0, conf=-1: [s0:0.0.0.0:42611, s1:0.0.0.0:39575, s2:0.0.0.0:34382], old=null RUNNING
  s1:  RUNNING CANDIDATE s1@group-09A0EF6A68F4:t4, leader=null, voted=s1, raftlog=s1@group-09A0EF6A68F4-SegmentedRaftLog:OPENED:c-1,f-1,i0, conf=-1: [s0:0.0.0.0:42611, s1:0.0.0.0:39575, s2:0.0.0.0:34382], old=null RUNNING
  s2:  RUNNING  FOLLOWER s2@group-09A0EF6A68F4:t4, leader=null, voted=null, raftlog=s2@group-09A0EF6A68F4-SegmentedRaftLog:OPENED:c-1,f-1,i0, conf=-1: [s0:0.0.0.0:42611, s1:0.0.0.0:39575, s2:0.0.0.0:34382], old=null RUNNING, sleep 450ms and then retry.
java.lang.IllegalStateException: No leader yet : printing ALL groups
  s0:  RUNNING  FOLLOWER s0@group-09A0EF6A68F4:t4, leader=null, voted=null, raftlog=s0@group-09A0EF6A68F4-SegmentedRaftLog:OPENED:c-1,f-1,i0, conf=-1: [s0:0.0.0.0:42611, s1:0.0.0.0:39575, s2:0.0.0.0:34382], old=null RUNNING
  s1:  RUNNING CANDIDATE s1@group-09A0EF6A68F4:t4, leader=null, voted=s1, raftlog=s1@group-09A0EF6A68F4-SegmentedRaftLog:OPENED:c-1,f-1,i0, conf=-1: [s0:0.0.0.0:42611, s1:0.0.0.0:39575, s2:0.0.0.0:34382], old=null RUNNING
  s2:  RUNNING  FOLLOWER s2@group-09A0EF6A68F4:t4, leader=null, voted=null, raftlog=s2@group-09A0EF6A68F4-SegmentedRaftLog:OPENED:c-1,f-1,i0, conf=-1: [s0:0.0.0.0:42611, s1:0.0.0.0:39575, s2:0.0.0.0:34382], old=null RUNNING
	at org.apache.ratis.MiniRaftCluster.newIllegalStateExceptionForNoLeaders(MiniRaftCluster.java:506)
	at org.apache.ratis.RaftTestUtil.lambda$waitForLeader$1(RaftTestUtil.java:90)
	at org.apache.ratis.MiniRaftCluster.getLeader(MiniRaftCluster.java:539)
	at org.apache.ratis.MiniRaftCluster.getLeader(MiniRaftCluster.java:532)
	at org.apache.ratis.RaftTestUtil.lambda$waitForLeader$3(RaftTestUtil.java:98)
	at org.apache.ratis.util.JavaUtils.attempt(JavaUtils.java:152)
	at org.apache.ratis.RaftTestUtil.waitForLeader(RaftTestUtil.java:97)
	at org.apache.ratis.RaftTestUtil.waitForLeader(RaftTestUtil.java:77)
	at org.apache.ratis.RaftTestUtil.waitForLeader(RaftTestUtil.java:72)
	at org.apache.ratis.server.impl.RaftStateMachineExceptionTests.runTestRetryOnExceptionDuringReplication(RaftStateMachineExceptionTests.java:149)
	at org.apache.ratis.MiniRaftCluster$Factory$Get.runWithNewCluster(MiniRaftCluster.java:125)
	at org.apache.ratis.MiniRaftCluster$Factory$Get.runWithNewCluster(MiniRaftCluster.java:113)
	at org.apache.ratis.server.impl.RaftStateMachineExceptionTests.testRetryOnExceptionDuringReplication(RaftStateMachineExceptionTests.java:145)
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.lang.reflect.Method.invoke(Method.java:498)
	at org.junit.runners.model.FrameworkMethod$1.runReflectiveCall(FrameworkMethod.java:50)
	at org.junit.internal.runners.model.ReflectiveCallable.run(ReflectiveCallable.java:12)
	at org.junit.runners.model.FrameworkMethod.invokeExplosively(FrameworkMethod.java:47)
	at org.junit.internal.runners.statements.InvokeMethod.evaluate(InvokeMethod.java:17)
	at org.junit.internal.runners.statements.RunAfters.evaluate(RunAfters.java:27)
	at org.junit.internal.runners.statements.FailOnTimeout$CallableStatement.call(FailOnTimeout.java:298)
	at org.junit.internal.runners.statements.FailOnTimeout$CallableStatement.call(FailOnTimeout.java:292)
	at java.util.concurrent.FutureTask.run(FutureTask.java:266)
	at java.lang.Thread.run(Thread.java:748)
2019-09-24 16:57:11,971 INFO  impl.LeaderElection (LeaderElection.java:logAndReturn(56)) - s1@group-09A0EF6A68F4-LeaderElection11: Election TIMEOUT; received 0 response(s) [] and 0 exception(s); s1@group-09A0EF6A68F4:t4, leader=null, voted=s1, raftlog=s1@group-09A0EF6A68F4-SegmentedRaftLog:OPENED:c-1,f-1,i0, conf=-1: [s0:0.0.0.0:42611, s1:0.0.0.0:39575, s2:0.0.0.0:34382], old=null
2019-09-24 16:57:12,325 DEBUG impl.RaftServerImpl (RaftServerImpl.java:requestVote(775)) - s2@group-09A0EF6A68F4 replies to vote request: s1<-s2#0:FAIL-t4. Peer's state: s2@group-09A0EF6A68F4:t4, leader=null, voted=null, raftlog=s2@group-09A0EF6A68F4-SegmentedRaftLog:OPENED:c-1,f-1,i0, conf=-1: [s0:0.0.0.0:42611, s1:0.0.0.0:39575, s2:0.0.0.0:34382], old=null
2019-09-24 16:57:12,325 DEBUG impl.RaftServerImpl (RaftServerImpl.java:requestVote(775)) - s0@group-09A0EF6A68F4 replies to vote request: s1<-s0#0:FAIL-t4. Peer's state: s0@group-09A0EF6A68F4:t4, leader=null, voted=null, raftlog=s0@group-09A0EF6A68F4-SegmentedRaftLog:OPENED:c-1,f-1,i0, conf=-1: [s0:0.0.0.0:42611, s1:0.0.0.0:39575, s2:0.0.0.0:34382], old=null
2019-09-24 16:57:12,326 INFO  impl.FollowerState (FollowerState.java:run(108)) - s2@group-09A0EF6A68F4-FollowerState: change to CANDIDATE, lastRpcTime:606ms, electionTimeout:243ms
2019-09-24 16:57:12,327 INFO  impl.FollowerState (FollowerState.java:run(108)) - s0@group-09A0EF6A68F4-FollowerState: change to CANDIDATE, lastRpcTime:605ms, electionTimeout:261ms
2019-09-24 16:57:12,327 INFO  impl.RoleInfo (RoleInfo.java:shutdownFollowerState(121)) - s2: shutdown FollowerState
2019-09-24 16:57:12,327 INFO  impl.RoleInfo (RoleInfo.java:shutdownFollowerState(121)) - s0: shutdown FollowerState
2019-09-24 16:57:12,327 INFO  impl.RaftServerImpl (RaftServerImpl.java:setRole(170)) - s2@group-09A0EF6A68F4: changes role from  FOLLOWER to CANDIDATE at term 4 for changeToCandidate
2019-09-24 16:57:12,327 INFO  impl.RaftServerImpl (RaftServerImpl.java:setRole(170)) - s0@group-09A0EF6A68F4: changes role from  FOLLOWER to CANDIDATE at term 4 for changeToCandidate
2019-09-24 16:57:12,328 INFO  impl.RoleInfo (RoleInfo.java:updateAndGet(143)) - s2: start LeaderElection
2019-09-24 16:57:12,328 INFO  impl.RoleInfo (RoleInfo.java:updateAndGet(143)) - s0: start LeaderElection
2019-09-24 16:57:12,386 WARN  ratis.RaftTestUtil (JavaUtils.java:attempt(158)) - FAILED "waitForLeader-null-(expectLeader? true)", attempt #6/100: java.lang.IllegalStateException: No leader yet : printing ALL groups
  s0:  RUNNING CANDIDATE s0@group-09A0EF6A68F4:t5, leader=null, voted=s0, raftlog=s0@group-09A0EF6A68F4-SegmentedRaftLog:OPENED:c-1,f-1,i0, conf=-1: [s0:0.0.0.0:42611, s1:0.0.0.0:39575, s2:0.0.0.0:34382], old=null RUNNING
  s1:  RUNNING CANDIDATE s1@group-09A0EF6A68F4:t5, leader=null, voted=s1, raftlog=s1@group-09A0EF6A68F4-SegmentedRaftLog:OPENED:c-1,f-1,i0, conf=-1: [s0:0.0.0.0:42611, s1:0.0.0.0:39575, s2:0.0.0.0:34382], old=null RUNNING
  s2:  RUNNING CANDIDATE s2@group-09A0EF6A68F4:t5, leader=null, voted=s2, raftlog=s2@group-09A0EF6A68F4-SegmentedRaftLog:OPENED:c-1,f-1,i0, conf=-1: [s0:0.0.0.0:42611, s1:0.0.0.0:39575, s2:0.0.0.0:34382], old=null RUNNING, sleep 450ms and then retry.
java.lang.IllegalStateException: No leader yet : printing ALL groups
  s0:  RUNNING CANDIDATE s0@group-09A0EF6A68F4:t5, leader=null, voted=s0, raftlog=s0@group-09A0EF6A68F4-SegmentedRaftLog:OPENED:c-1,f-1,i0, conf=-1: [s0:0.0.0.0:42611, s1:0.0.0.0:39575, s2:0.0.0.0:34382], old=null RUNNING
  s1:  RUNNING CANDIDATE s1@group-09A0EF6A68F4:t5, leader=null, voted=s1, raftlog=s1@group-09A0EF6A68F4-SegmentedRaftLog:OPENED:c-1,f-1,i0, conf=-1: [s0:0.0.0.0:42611, s1:0.0.0.0:39575, s2:0.0.0.0:34382], old=null RUNNING
  s2:  RUNNING CANDIDATE s2@group-09A0EF6A68F4:t5, leader=null, voted=s2, raftlog=s2@group-09A0EF6A68F4-SegmentedRaftLog:OPENED:c-1,f-1,i0, conf=-1: [s0:0.0.0.0:42611, s1:0.0.0.0:39575, s2:0.0.0.0:34382], old=null RUNNING
	at org.apache.ratis.MiniRaftCluster.newIllegalStateExceptionForNoLeaders(MiniRaftCluster.java:506)
	at org.apache.ratis.RaftTestUtil.lambda$waitForLeader$1(RaftTestUtil.java:90)
	at org.apache.ratis.MiniRaftCluster.getLeader(MiniRaftCluster.java:539)
	at org.apache.ratis.MiniRaftCluster.getLeader(MiniRaftCluster.java:532)
	at org.apache.ratis.RaftTestUtil.lambda$waitForLeader$3(RaftTestUtil.java:98)
	at org.apache.ratis.util.JavaUtils.attempt(JavaUtils.java:152)
	at org.apache.ratis.RaftTestUtil.waitForLeader(RaftTestUtil.java:97)
	at org.apache.ratis.RaftTestUtil.waitForLeader(RaftTestUtil.java:77)
	at org.apache.ratis.RaftTestUtil.waitForLeader(RaftTestUtil.java:72)
	at org.apache.ratis.server.impl.RaftStateMachineExceptionTests.runTestRetryOnExceptionDuringReplication(RaftStateMachineExceptionTests.java:149)
	at org.apache.ratis.MiniRaftCluster$Factory$Get.runWithNewCluster(MiniRaftCluster.java:125)
	at org.apache.ratis.MiniRaftCluster$Factory$Get.runWithNewCluster(MiniRaftCluster.java:113)
	at org.apache.ratis.server.impl.RaftStateMachineExceptionTests.testRetryOnExceptionDuringReplication(RaftStateMachineExceptionTests.java:145)
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.lang.reflect.Method.invoke(Method.java:498)
	at org.junit.runners.model.FrameworkMethod$1.runReflectiveCall(FrameworkMethod.java:50)
	at org.junit.internal.runners.model.ReflectiveCallable.run(ReflectiveCallable.java:12)
	at org.junit.runners.model.FrameworkMethod.invokeExplosively(FrameworkMethod.java:47)
	at org.junit.internal.runners.statements.InvokeMethod.evaluate(InvokeMethod.java:17)
	at org.junit.internal.runners.statements.RunAfters.evaluate(RunAfters.java:27)
	at org.junit.internal.runners.statements.FailOnTimeout$CallableStatement.call(FailOnTimeout.java:298)
	at org.junit.internal.runners.statements.FailOnTimeout$CallableStatement.call(FailOnTimeout.java:292)
	at java.util.concurrent.FutureTask.run(FutureTask.java:266)
	at java.lang.Thread.run(Thread.java:748)
2019-09-24 16:57:12,703 INFO  impl.LeaderElection (LeaderElection.java:askForVotes(178)) - s1@group-09A0EF6A68F4-LeaderElection11: begin an election at term 5 for -1: [s0:0.0.0.0:42611, s1:0.0.0.0:39575, s2:0.0.0.0:34382], old=null
2019-09-24 16:57:12,703 INFO  impl.LeaderElection (LeaderElection.java:askForVotes(178)) - s2@group-09A0EF6A68F4-LeaderElection12: begin an election at term 5 for -1: [s0:0.0.0.0:42611, s1:0.0.0.0:39575, s2:0.0.0.0:34382], old=null
2019-09-24 16:57:12,703 INFO  impl.LeaderElection (LeaderElection.java:askForVotes(178)) - s0@group-09A0EF6A68F4-LeaderElection13: begin an election at term 5 for -1: [s0:0.0.0.0:42611, s1:0.0.0.0:39575, s2:0.0.0.0:34382], old=null
2019-09-24 16:57:12,705 DEBUG impl.RaftServerImpl (RaftServerImpl.java:requestVote(743)) - s0@group-09A0EF6A68F4: receive requestVote(s1, group-09A0EF6A68F4, 5, (t:0, i:0))
2019-09-24 16:57:12,705 DEBUG impl.RaftServerImpl (RaftServerImpl.java:requestVote(743)) - s2@group-09A0EF6A68F4: receive requestVote(s1, group-09A0EF6A68F4, 5, (t:0, i:0))
2019-09-24 16:57:12,838 WARN  ratis.RaftTestUtil (JavaUtils.java:attempt(158)) - FAILED "waitForLeader-null-(expectLeader? true)", attempt #7/100: java.lang.IllegalStateException: No leader yet : printing ALL groups
  s0:  RUNNING CANDIDATE s0@group-09A0EF6A68F4:t6, leader=null, voted=s0, raftlog=s0@group-09A0EF6A68F4-SegmentedRaftLog:OPENED:c-1,f-1,i0, conf=-1: [s0:0.0.0.0:42611, s1:0.0.0.0:39575, s2:0.0.0.0:34382], old=null RUNNING
  s1:  RUNNING CANDIDATE s1@group-09A0EF6A68F4:t5, leader=null, voted=s1, raftlog=s1@group-09A0EF6A68F4-SegmentedRaftLog:OPENED:c-1,f-1,i0, conf=-1: [s0:0.0.0.0:42611, s1:0.0.0.0:39575, s2:0.0.0.0:34382], old=null RUNNING
  s2:  RUNNING CANDIDATE s2@group-09A0EF6A68F4:t6, leader=null, voted=s2, raftlog=s2@group-09A0EF6A68F4-SegmentedRaftLog:OPENED:c-1,f-1,i0, conf=-1: [s0:0.0.0.0:42611, s1:0.0.0.0:39575, s2:0.0.0.0:34382], old=null RUNNING, sleep 450ms and then retry.
java.lang.IllegalStateException: No leader yet : printing ALL groups
  s0:  RUNNING CANDIDATE s0@group-09A0EF6A68F4:t6, leader=null, voted=s0, raftlog=s0@group-09A0EF6A68F4-SegmentedRaftLog:OPENED:c-1,f-1,i0, conf=-1: [s0:0.0.0.0:42611, s1:0.0.0.0:39575, s2:0.0.0.0:34382], old=null RUNNING
  s1:  RUNNING CANDIDATE s1@group-09A0EF6A68F4:t5, leader=null, voted=s1, raftlog=s1@group-09A0EF6A68F4-SegmentedRaftLog:OPENED:c-1,f-1,i0, conf=-1: [s0:0.0.0.0:42611, s1:0.0.0.0:39575, s2:0.0.0.0:34382], old=null RUNNING
  s2:  RUNNING CANDIDATE s2@group-09A0EF6A68F4:t6, leader=null, voted=s2, raftlog=s2@group-09A0EF6A68F4-SegmentedRaftLog:OPENED:c-1,f-1,i0, conf=-1: [s0:0.0.0.0:42611, s1:0.0.0.0:39575, s2:0.0.0.0:34382], old=null RUNNING
	at org.apache.ratis.MiniRaftCluster.newIllegalStateExceptionForNoLeaders(MiniRaftCluster.java:506)
	at org.apache.ratis.RaftTestUtil.lambda$waitForLeader$1(RaftTestUtil.java:90)
	at org.apache.ratis.MiniRaftCluster.getLeader(MiniRaftCluster.java:539)
	at org.apache.ratis.MiniRaftCluster.getLeader(MiniRaftCluster.java:532)
	at org.apache.ratis.RaftTestUtil.lambda$waitForLeader$3(RaftTestUtil.java:98)
	at org.apache.ratis.util.JavaUtils.attempt(JavaUtils.java:152)
	at org.apache.ratis.RaftTestUtil.waitForLeader(RaftTestUtil.java:97)
	at org.apache.ratis.RaftTestUtil.waitForLeader(RaftTestUtil.java:77)
	at org.apache.ratis.RaftTestUtil.waitForLeader(RaftTestUtil.java:72)
	at org.apache.ratis.server.impl.RaftStateMachineExceptionTests.runTestRetryOnExceptionDuringReplication(RaftStateMachineExceptionTests.java:149)
	at org.apache.ratis.MiniRaftCluster$Factory$Get.runWithNewCluster(MiniRaftCluster.java:125)
	at org.apache.ratis.MiniRaftCluster$Factory$Get.runWithNewCluster(MiniRaftCluster.java:113)
	at org.apache.ratis.server.impl.RaftStateMachineExceptionTests.testRetryOnExceptionDuringReplication(RaftStateMachineExceptionTests.java:145)
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.lang.reflect.Method.invoke(Method.java:498)
	at org.junit.runners.model.FrameworkMethod$1.runReflectiveCall(FrameworkMethod.java:50)
	at org.junit.internal.runners.model.ReflectiveCallable.run(ReflectiveCallable.java:12)
	at org.junit.runners.model.FrameworkMethod.invokeExplosively(FrameworkMethod.java:47)
	at org.junit.internal.runners.statements.InvokeMethod.evaluate(InvokeMethod.java:17)
	at org.junit.internal.runners.statements.RunAfters.evaluate(RunAfters.java:27)
	at org.junit.internal.runners.statements.FailOnTimeout$CallableStatement.call(FailOnTimeout.java:298)
	at org.junit.internal.runners.statements.FailOnTimeout$CallableStatement.call(FailOnTimeout.java:292)
	at java.util.concurrent.FutureTask.run(FutureTask.java:266)
	at java.lang.Thread.run(Thread.java:748)
2019-09-24 16:57:12,875 INFO  impl.LeaderElection (LeaderElection.java:logAndReturn(56)) - s1@group-09A0EF6A68F4-LeaderElection11: Election TIMEOUT; received 0 response(s) [] and 0 exception(s); s1@group-09A0EF6A68F4:t5, leader=null, voted=s1, raftlog=s1@group-09A0EF6A68F4-SegmentedRaftLog:OPENED:c-1,f-1,i0, conf=-1: [s0:0.0.0.0:42611, s1:0.0.0.0:39575, s2:0.0.0.0:34382], old=null
2019-09-24 16:57:13,290 WARN  ratis.RaftTestUtil (JavaUtils.java:attempt(158)) - FAILED "waitForLeader-null-(expectLeader? true)", attempt #8/100: java.lang.IllegalStateException: No leader yet : printing ALL groups
  s0:  RUNNING CANDIDATE s0@group-09A0EF6A68F4:t6, leader=null, voted=s0, raftlog=s0@group-09A0EF6A68F4-SegmentedRaftLog:OPENED:c-1,f-1,i0, conf=-1: [s0:0.0.0.0:42611, s1:0.0.0.0:39575, s2:0.0.0.0:34382], old=null RUNNING
  s1:  RUNNING CANDIDATE s1@group-09A0EF6A68F4:t6, leader=null, voted=s1, raftlog=s1@group-09A0EF6A68F4-SegmentedRaftLog:OPENED:c-1,f-1,i0, conf=-1: [s0:0.0.0.0:42611, s1:0.0.0.0:39575, s2:0.0.0.0:34382], old=null RUNNING
  s2:  RUNNING CANDIDATE s2@group-09A0EF6A68F4:t6, leader=null, voted=s2, raftlog=s2@group-09A0EF6A68F4-SegmentedRaftLog:OPENED:c-1,f-1,i0, conf=-1: [s0:0.0.0.0:42611, s1:0.0.0.0:39575, s2:0.0.0.0:34382], old=null RUNNING, sleep 450ms and then retry.
java.lang.IllegalStateException: No leader yet : printing ALL groups
  s0:  RUNNING CANDIDATE s0@group-09A0EF6A68F4:t6, leader=null, voted=s0, raftlog=s0@group-09A0EF6A68F4-SegmentedRaftLog:OPENED:c-1,f-1,i0, conf=-1: [s0:0.0.0.0:42611, s1:0.0.0.0:39575, s2:0.0.0.0:34382], old=null RUNNING
  s1:  RUNNING CANDIDATE s1@group-09A0EF6A68F4:t6, leader=null, voted=s1, raftlog=s1@group-09A0EF6A68F4-SegmentedRaftLog:OPENED:c-1,f-1,i0, conf=-1: [s0:0.0.0.0:42611, s1:0.0.0.0:39575, s2:0.0.0.0:34382], old=null RUNNING
  s2:  RUNNING CANDIDATE s2@group-09A0EF6A68F4:t6, leader=null, voted=s2, raftlog=s2@group-09A0EF6A68F4-SegmentedRaftLog:OPENED:c-1,f-1,i0, conf=-1: [s0:0.0.0.0:42611, s1:0.0.0.0:39575, s2:0.0.0.0:34382], old=null RUNNING
	at org.apache.ratis.MiniRaftCluster.newIllegalStateExceptionForNoLeaders(MiniRaftCluster.java:506)
	at org.apache.ratis.RaftTestUtil.lambda$waitForLeader$1(RaftTestUtil.java:90)
	at org.apache.ratis.MiniRaftCluster.getLeader(MiniRaftCluster.java:539)
	at org.apache.ratis.MiniRaftCluster.getLeader(MiniRaftCluster.java:532)
	at org.apache.ratis.RaftTestUtil.lambda$waitForLeader$3(RaftTestUtil.java:98)
	at org.apache.ratis.util.JavaUtils.attempt(JavaUtils.java:152)
	at org.apache.ratis.RaftTestUtil.waitForLeader(RaftTestUtil.java:97)
	at org.apache.ratis.RaftTestUtil.waitForLeader(RaftTestUtil.java:77)
	at org.apache.ratis.RaftTestUtil.waitForLeader(RaftTestUtil.java:72)
	at org.apache.ratis.server.impl.RaftStateMachineExceptionTests.runTestRetryOnExceptionDuringReplication(RaftStateMachineExceptionTests.java:149)
	at org.apache.ratis.MiniRaftCluster$Factory$Get.runWithNewCluster(MiniRaftCluster.java:125)
	at org.apache.ratis.MiniRaftCluster$Factory$Get.runWithNewCluster(MiniRaftCluster.java:113)
	at org.apache.ratis.server.impl.RaftStateMachineExceptionTests.testRetryOnExceptionDuringReplication(RaftStateMachineExceptionTests.java:145)
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.lang.reflect.Method.invoke(Method.java:498)
	at org.junit.runners.model.FrameworkMethod$1.runReflectiveCall(FrameworkMethod.java:50)
	at org.junit.internal.runners.model.ReflectiveCallable.run(ReflectiveCallable.java:12)
	at org.junit.runners.model.FrameworkMethod.invokeExplosively(FrameworkMethod.java:47)
	at org.junit.internal.runners.statements.InvokeMethod.evaluate(InvokeMethod.java:17)
	at org.junit.internal.runners.statements.RunAfters.evaluate(RunAfters.java:27)
	at org.junit.internal.runners.statements.FailOnTimeout$CallableStatement.call(FailOnTimeout.java:298)
	at org.junit.internal.runners.statements.FailOnTimeout$CallableStatement.call(FailOnTimeout.java:292)
	at java.util.concurrent.FutureTask.run(FutureTask.java:266)
	at java.lang.Thread.run(Thread.java:748)
2019-09-24 16:57:13,345 INFO  impl.LeaderElection (LeaderElection.java:askForVotes(178)) - s0@group-09A0EF6A68F4-LeaderElection15: begin an election at term 6 for -1: [s0:0.0.0.0:42611, s1:0.0.0.0:39575, s2:0.0.0.0:34382], old=null
2019-09-24 16:57:13,345 DEBUG impl.RaftServerImpl (RaftServerImpl.java:requestVote(775)) - s2@group-09A0EF6A68F4 replies to vote request: s1<-s2#0:FAIL-t6. Peer's state: s2@group-09A0EF6A68F4:t6, leader=null, voted=s2, raftlog=s2@group-09A0EF6A68F4-SegmentedRaftLog:OPENED:c-1,f-1,i0, conf=-1: [s0:0.0.0.0:42611, s1:0.0.0.0:39575, s2:0.0.0.0:34382], old=null
2019-09-24 16:57:13,345 DEBUG impl.RaftServerImpl (RaftServerImpl.java:requestVote(775)) - s0@group-09A0EF6A68F4 replies to vote request: s1<-s0#0:FAIL-t6. Peer's state: s0@group-09A0EF6A68F4:t6, leader=null, voted=s0, raftlog=s0@group-09A0EF6A68F4-SegmentedRaftLog:OPENED:c-1,f-1,i0, conf=-1: [s0:0.0.0.0:42611, s1:0.0.0.0:39575, s2:0.0.0.0:34382], old=null
2019-09-24 16:57:13,345 INFO  impl.LeaderElection (LeaderElection.java:askForVotes(178)) - s1@group-09A0EF6A68F4-LeaderElection11: begin an election at term 6 for -1: [s0:0.0.0.0:42611, s1:0.0.0.0:39575, s2:0.0.0.0:34382], old=null
2019-09-24 16:57:13,345 INFO  impl.LeaderElection (LeaderElection.java:askForVotes(178)) - s2@group-09A0EF6A68F4-LeaderElection14: begin an election at term 6 for -1: [s0:0.0.0.0:42611, s1:0.0.0.0:39575, s2:0.0.0.0:34382], old=null
2019-09-24 16:57:13,347 INFO  impl.LeaderElection (LeaderElection.java:logAndReturn(56)) - s2@group-09A0EF6A68F4-LeaderElection12: Election REJECTED; received 0 response(s) [] and 0 exception(s); s2@group-09A0EF6A68F4:t6, leader=null, voted=s2, raftlog=s2@group-09A0EF6A68F4-SegmentedRaftLog:OPENED:c-1,f-1,i0, conf=-1: [s0:0.0.0.0:42611, s1:0.0.0.0:39575, s2:0.0.0.0:34382], old=null
2019-09-24 16:57:13,348 DEBUG impl.RaftServerImpl (RaftServerImpl.java:requestVote(743)) - s0@group-09A0EF6A68F4: receive requestVote(s2, group-09A0EF6A68F4, 5, (t:0, i:0))
2019-09-24 16:57:13,348 DEBUG impl.RaftServerImpl (RaftServerImpl.java:requestVote(743)) - s1@group-09A0EF6A68F4: receive requestVote(s2, group-09A0EF6A68F4, 5, (t:0, i:0))
2019-09-24 16:57:13,348 INFO  impl.LeaderElection (LeaderElection.java:logAndReturn(56)) - s0@group-09A0EF6A68F4-LeaderElection13: Election REJECTED; received 0 response(s) [] and 0 exception(s); s0@group-09A0EF6A68F4:t6, leader=null, voted=s0, raftlog=s0@group-09A0EF6A68F4-SegmentedRaftLog:OPENED:c-1,f-1,i0, conf=-1: [s0:0.0.0.0:42611, s1:0.0.0.0:39575, s2:0.0.0.0:34382], old=null
2019-09-24 16:57:13,349 DEBUG impl.RaftServerImpl (RaftServerImpl.java:requestVote(743)) - s0@group-09A0EF6A68F4: receive requestVote(s1, group-09A0EF6A68F4, 6, (t:0, i:0))
2019-09-24 16:57:13,348 DEBUG impl.RaftServerImpl (RaftServerImpl.java:requestVote(775)) - s0@group-09A0EF6A68F4 replies to vote request: s2<-s0#0:FAIL-t6. Peer's state: s0@group-09A0EF6A68F4:t6, leader=null, voted=s0, raftlog=s0@group-09A0EF6A68F4-SegmentedRaftLog:OPENED:c-1,f-1,i0, conf=-1: [s0:0.0.0.0:42611, s1:0.0.0.0:39575, s2:0.0.0.0:34382], old=null
2019-09-24 16:57:13,349 DEBUG impl.RaftServerImpl (RaftServerImpl.java:requestVote(743)) - s2@group-09A0EF6A68F4: receive requestVote(s0, group-09A0EF6A68F4, 5, (t:0, i:0))
2019-09-24 16:57:13,349 DEBUG impl.RaftServerImpl (RaftServerImpl.java:requestVote(743)) - s0@group-09A0EF6A68F4: receive requestVote(s2, group-09A0EF6A68F4, 6, (t:0, i:0))
2019-09-24 16:57:13,349 DEBUG impl.RaftServerImpl (RaftServerImpl.java:requestVote(775)) - s1@group-09A0EF6A68F4 replies to vote request: s2<-s1#0:FAIL-t6. Peer's state: s1@group-09A0EF6A68F4:t6, leader=null, voted=s1, raftlog=s1@group-09A0EF6A68F4-SegmentedRaftLog:OPENED:c-1,f-1,i0, conf=-1: [s0:0.0.0.0:42611, s1:0.0.0.0:39575, s2:0.0.0.0:34382], old=null
2019-09-24 16:57:13,348 DEBUG impl.RaftServerImpl (RaftServerImpl.java:requestVote(743)) - s1@group-09A0EF6A68F4: receive requestVote(s0, group-09A0EF6A68F4, 5, (t:0, i:0))
2019-09-24 16:57:13,351 DEBUG impl.RaftServerImpl (RaftServerImpl.java:requestVote(743)) - s1@group-09A0EF6A68F4: receive requestVote(s2, group-09A0EF6A68F4, 6, (t:0, i:0))
2019-09-24 16:57:13,350 DEBUG impl.RaftServerImpl (RaftServerImpl.java:requestVote(775)) - s2@group-09A0EF6A68F4 replies to vote request: s0<-s2#0:FAIL-t6. Peer's state: s2@group-09A0EF6A68F4:t6, leader=null, voted=s2, raftlog=s2@group-09A0EF6A68F4-SegmentedRaftLog:OPENED:c-1,f-1,i0, conf=-1: [s0:0.0.0.0:42611, s1:0.0.0.0:39575, s2:0.0.0.0:34382], old=null
2019-09-24 16:57:13,350 DEBUG impl.RaftServerImpl (RaftServerImpl.java:requestVote(775)) - s0@group-09A0EF6A68F4 replies to vote request: s1<-s0#0:FAIL-t6. Peer's state: s0@group-09A0EF6A68F4:t6, leader=null, voted=s0, raftlog=s0@group-09A0EF6A68F4-SegmentedRaftLog:OPENED:c-1,f-1,i0, conf=-1: [s0:0.0.0.0:42611, s1:0.0.0.0:39575, s2:0.0.0.0:34382], old=null
2019-09-24 16:57:13,350 DEBUG impl.RaftServerImpl (RaftServerImpl.java:requestVote(743)) - s2@group-09A0EF6A68F4: receive requestVote(s1, group-09A0EF6A68F4, 6, (t:0, i:0))
2019-09-24 16:57:13,350 DEBUG impl.RaftServerImpl (RaftServerImpl.java:requestVote(743)) - s1@group-09A0EF6A68F4: receive requestVote(s0, group-09A0EF6A68F4, 6, (t:0, i:0))
2019-09-24 16:57:13,355 DEBUG impl.RaftServerImpl (RaftServerImpl.java:requestVote(775)) - s0@group-09A0EF6A68F4 replies to vote request: s2<-s0#0:FAIL-t6. Peer's state: s0@group-09A0EF6A68F4:t6, leader=null, voted=s0, raftlog=s0@group-09A0EF6A68F4-SegmentedRaftLog:OPENED:c-1,f-1,i0, conf=-1: [s0:0.0.0.0:42611, s1:0.0.0.0:39575, s2:0.0.0.0:34382], old=null
2019-09-24 16:57:13,355 DEBUG impl.RaftServerImpl (RaftServerImpl.java:requestVote(775)) - s2@group-09A0EF6A68F4 replies to vote request: s1<-s2#0:FAIL-t6. Peer's state: s2@group-09A0EF6A68F4:t6, leader=null, voted=s2, raftlog=s2@group-09A0EF6A68F4-SegmentedRaftLog:OPENED:c-1,f-1,i0, conf=-1: [s0:0.0.0.0:42611, s1:0.0.0.0:39575, s2:0.0.0.0:34382], old=null
2019-09-24 16:57:13,352 DEBUG impl.RaftServerImpl (RaftServerImpl.java:requestVote(775)) - s1@group-09A0EF6A68F4 replies to vote request: s0<-s1#0:FAIL-t6. Peer's state: s1@group-09A0EF6A68F4:t6, leader=null, voted=s1, raftlog=s1@group-09A0EF6A68F4-SegmentedRaftLog:OPENED:c-1,f-1,i0, conf=-1: [s0:0.0.0.0:42611, s1:0.0.0.0:39575, s2:0.0.0.0:34382], old=null
2019-09-24 16:57:13,356 DEBUG impl.RaftServerImpl (RaftServerImpl.java:requestVote(743)) - s2@group-09A0EF6A68F4: receive requestVote(s0, group-09A0EF6A68F4, 6, (t:0, i:0))
2019-09-24 16:57:13,356 DEBUG impl.RaftServerImpl (RaftServerImpl.java:requestVote(775)) - s1@group-09A0EF6A68F4 replies to vote request: s0<-s1#0:FAIL-t6. Peer's state: s1@group-09A0EF6A68F4:t6, leader=null, voted=s1, raftlog=s1@group-09A0EF6A68F4-SegmentedRaftLog:OPENED:c-1,f-1,i0, conf=-1: [s0:0.0.0.0:42611, s1:0.0.0.0:39575, s2:0.0.0.0:34382], old=null
2019-09-24 16:57:13,356 INFO  impl.LeaderElection (LeaderElection.java:logAndReturn(56)) - s1@group-09A0EF6A68F4-LeaderElection11: Election REJECTED; received 2 response(s) [s1<-s0#0:FAIL-t6, s1<-s2#0:FAIL-t6] and 0 exception(s); s1@group-09A0EF6A68F4:t6, leader=null, voted=s1, raftlog=s1@group-09A0EF6A68F4-SegmentedRaftLog:OPENED:c-1,f-1,i0, conf=-1: [s0:0.0.0.0:42611, s1:0.0.0.0:39575, s2:0.0.0.0:34382], old=null
2019-09-24 16:57:13,356 DEBUG impl.RaftServerImpl (RaftServerImpl.java:requestVote(775)) - s2@group-09A0EF6A68F4 replies to vote request: s0<-s2#0:FAIL-t6. Peer's state: s2@group-09A0EF6A68F4:t6, leader=null, voted=s2, raftlog=s2@group-09A0EF6A68F4-SegmentedRaftLog:OPENED:c-1,f-1,i0, conf=-1: [s0:0.0.0.0:42611, s1:0.0.0.0:39575, s2:0.0.0.0:34382], old=null
2019-09-24 16:57:13,356 DEBUG impl.RaftServerImpl (RaftServerImpl.java:requestVote(775)) - s1@group-09A0EF6A68F4 replies to vote request: s2<-s1#0:FAIL-t6. Peer's state: s1@group-09A0EF6A68F4:t6, leader=null, voted=s1, raftlog=s1@group-09A0EF6A68F4-SegmentedRaftLog:OPENED:c-1,f-1,i0, conf=-1: [s0:0.0.0.0:42611, s1:0.0.0.0:39575, s2:0.0.0.0:34382], old=null
2019-09-24 16:57:13,357 INFO  impl.LeaderElection (LeaderElection.java:logAndReturn(56)) - s0@group-09A0EF6A68F4-LeaderElection15: Election REJECTED; received 2 response(s) [s0<-s1#0:FAIL-t6, s0<-s2#0:FAIL-t6] and 0 exception(s); s0@group-09A0EF6A68F4:t6, leader=null, voted=s0, raftlog=s0@group-09A0EF6A68F4-SegmentedRaftLog:OPENED:c-1,f-1,i0, conf=-1: [s0:0.0.0.0:42611, s1:0.0.0.0:39575, s2:0.0.0.0:34382], old=null
2019-09-24 16:57:13,357 INFO  impl.RaftServerImpl (RaftServerImpl.java:setRole(170)) - s1@group-09A0EF6A68F4: changes role from CANDIDATE to FOLLOWER at term 6 for DISCOVERED_A_NEW_TERM
2019-09-24 16:57:13,357 INFO  impl.RaftServerImpl (RaftServerImpl.java:setRole(170)) - s0@group-09A0EF6A68F4: changes role from CANDIDATE to FOLLOWER at term 6 for DISCOVERED_A_NEW_TERM
2019-09-24 16:57:13,358 INFO  impl.RoleInfo (RoleInfo.java:shutdownLeaderElection(134)) - s0: shutdown LeaderElection
2019-09-24 16:57:13,357 INFO  impl.LeaderElection (LeaderElection.java:logAndReturn(56)) - s2@group-09A0EF6A68F4-LeaderElection14: Election REJECTED; received 2 response(s) [s2<-s0#0:FAIL-t6, s2<-s1#0:FAIL-t6] and 0 exception(s); s2@group-09A0EF6A68F4:t6, leader=null, voted=s2, raftlog=s2@group-09A0EF6A68F4-SegmentedRaftLog:OPENED:c-1,f-1,i0, conf=-1: [s0:0.0.0.0:42611, s1:0.0.0.0:39575, s2:0.0.0.0:34382], old=null
2019-09-24 16:57:13,359 INFO  impl.RoleInfo (RoleInfo.java:updateAndGet(143)) - s0: start FollowerState
2019-09-24 16:57:13,358 INFO  impl.RoleInfo (RoleInfo.java:shutdownLeaderElection(134)) - s1: shutdown LeaderElection
2019-09-24 16:57:13,359 INFO  impl.RaftServerImpl (RaftServerImpl.java:setRole(170)) - s2@group-09A0EF6A68F4: changes role from CANDIDATE to FOLLOWER at term 6 for DISCOVERED_A_NEW_TERM
2019-09-24 16:57:13,360 INFO  impl.RoleInfo (RoleInfo.java:updateAndGet(143)) - s1: start FollowerState
2019-09-24 16:57:13,360 INFO  impl.RoleInfo (RoleInfo.java:shutdownLeaderElection(134)) - s2: shutdown LeaderElection
2019-09-24 16:57:13,360 INFO  impl.RoleInfo (RoleInfo.java:updateAndGet(143)) - s2: start FollowerState
2019-09-24 16:57:13,515 INFO  impl.FollowerState (FollowerState.java:run(108)) - s1@group-09A0EF6A68F4-FollowerState: change to CANDIDATE, lastRpcTime:155ms, electionTimeout:155ms
2019-09-24 16:57:13,516 INFO  impl.RoleInfo (RoleInfo.java:shutdownFollowerState(121)) - s1: shutdown FollowerState
2019-09-24 16:57:13,516 INFO  impl.RaftServerImpl (RaftServerImpl.java:setRole(170)) - s1@group-09A0EF6A68F4: changes role from  FOLLOWER to CANDIDATE at term 6 for changeToCandidate
2019-09-24 16:57:13,516 INFO  impl.RoleInfo (RoleInfo.java:updateAndGet(143)) - s1: start LeaderElection
2019-09-24 16:57:13,557 INFO  impl.FollowerState (FollowerState.java:run(108)) - s0@group-09A0EF6A68F4-FollowerState: change to CANDIDATE, lastRpcTime:198ms, electionTimeout:197ms
2019-09-24 16:57:13,557 INFO  impl.RoleInfo (RoleInfo.java:shutdownFollowerState(121)) - s0: shutdown FollowerState
2019-09-24 16:57:13,557 INFO  impl.RaftServerImpl (RaftServerImpl.java:setRole(170)) - s0@group-09A0EF6A68F4: changes role from  FOLLOWER to CANDIDATE at term 6 for changeToCandidate
2019-09-24 16:57:13,557 INFO  impl.RoleInfo (RoleInfo.java:updateAndGet(143)) - s0: start LeaderElection
2019-09-24 16:57:13,606 INFO  impl.FollowerState (FollowerState.java:run(108)) - s2@group-09A0EF6A68F4-FollowerState: change to CANDIDATE, lastRpcTime:245ms, electionTimeout:245ms
2019-09-24 16:57:13,606 INFO  impl.RoleInfo (RoleInfo.java:shutdownFollowerState(121)) - s2: shutdown FollowerState
2019-09-24 16:57:13,606 INFO  impl.RaftServerImpl (RaftServerImpl.java:setRole(170)) - s2@group-09A0EF6A68F4: changes role from  FOLLOWER to CANDIDATE at term 6 for changeToCandidate
2019-09-24 16:57:13,606 INFO  impl.RoleInfo (RoleInfo.java:updateAndGet(143)) - s2: start LeaderElection
2019-09-24 16:57:13,743 WARN  ratis.RaftTestUtil (JavaUtils.java:attempt(158)) - FAILED "waitForLeader-null-(expectLeader? true)", attempt #9/100: java.lang.IllegalStateException: No leader yet : printing ALL groups
  s0:  RUNNING CANDIDATE s0@group-09A0EF6A68F4:t7, leader=null, voted=s0, raftlog=s0@group-09A0EF6A68F4-SegmentedRaftLog:OPENED:c-1,f-1,i0, conf=-1: [s0:0.0.0.0:42611, s1:0.0.0.0:39575, s2:0.0.0.0:34382], old=null RUNNING
  s1:  RUNNING CANDIDATE s1@group-09A0EF6A68F4:t7, leader=null, voted=s1, raftlog=s1@group-09A0EF6A68F4-SegmentedRaftLog:OPENED:c-1,f-1,i0, conf=-1: [s0:0.0.0.0:42611, s1:0.0.0.0:39575, s2:0.0.0.0:34382], old=null RUNNING
  s2:  RUNNING CANDIDATE s2@group-09A0EF6A68F4:t7, leader=null, voted=s2, raftlog=s2@group-09A0EF6A68F4-SegmentedRaftLog:OPENED:c-1,f-1,i0, conf=-1: [s0:0.0.0.0:42611, s1:0.0.0.0:39575, s2:0.0.0.0:34382], old=null RUNNING, sleep 450ms and then retry.
java.lang.IllegalStateException: No leader yet : printing ALL groups
  s0:  RUNNING CANDIDATE s0@group-09A0EF6A68F4:t7, leader=null, voted=s0, raftlog=s0@group-09A0EF6A68F4-SegmentedRaftLog:OPENED:c-1,f-1,i0, conf=-1: [s0:0.0.0.0:42611, s1:0.0.0.0:39575, s2:0.0.0.0:34382], old=null RUNNING
  s1:  RUNNING CANDIDATE s1@group-09A0EF6A68F4:t7, leader=null, voted=s1, raftlog=s1@group-09A0EF6A68F4-SegmentedRaftLog:OPENED:c-1,f-1,i0, conf=-1: [s0:0.0.0.0:42611, s1:0.0.0.0:39575, s2:0.0.0.0:34382], old=null RUNNING
  s2:  RUNNING CANDIDATE s2@group-09A0EF6A68F4:t7, leader=null, voted=s2, raftlog=s2@group-09A0EF6A68F4-SegmentedRaftLog:OPENED:c-1,f-1,i0, conf=-1: [s0:0.0.0.0:42611, s1:0.0.0.0:39575, s2:0.0.0.0:34382], old=null RUNNING
	at org.apache.ratis.MiniRaftCluster.newIllegalStateExceptionForNoLeaders(MiniRaftCluster.java:506)
	at org.apache.ratis.RaftTestUtil.lambda$waitForLeader$1(RaftTestUtil.java:90)
	at org.apache.ratis.MiniRaftCluster.getLeader(MiniRaftCluster.java:539)
	at org.apache.ratis.MiniRaftCluster.getLeader(MiniRaftCluster.java:532)
	at org.apache.ratis.RaftTestUtil.lambda$waitForLeader$3(RaftTestUtil.java:98)
	at org.apache.ratis.util.JavaUtils.attempt(JavaUtils.java:152)
	at org.apache.ratis.RaftTestUtil.waitForLeader(RaftTestUtil.java:97)
	at org.apache.ratis.RaftTestUtil.waitForLeader(RaftTestUtil.java:77)
	at org.apache.ratis.RaftTestUtil.waitForLeader(RaftTestUtil.java:72)
	at org.apache.ratis.server.impl.RaftStateMachineExceptionTests.runTestRetryOnExceptionDuringReplication(RaftStateMachineExceptionTests.java:149)
	at org.apache.ratis.MiniRaftCluster$Factory$Get.runWithNewCluster(MiniRaftCluster.java:125)
	at org.apache.ratis.MiniRaftCluster$Factory$Get.runWithNewCluster(MiniRaftCluster.java:113)
	at org.apache.ratis.server.impl.RaftStateMachineExceptionTests.testRetryOnExceptionDuringReplication(RaftStateMachineExceptionTests.java:145)
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.lang.reflect.Method.invoke(Method.java:498)
	at org.junit.runners.model.FrameworkMethod$1.runReflectiveCall(FrameworkMethod.java:50)
	at org.junit.internal.runners.model.ReflectiveCallable.run(ReflectiveCallable.java:12)
	at org.junit.runners.model.FrameworkMethod.invokeExplosively(FrameworkMethod.java:47)
	at org.junit.internal.runners.statements.InvokeMethod.evaluate(InvokeMethod.java:17)
	at org.junit.internal.runners.statements.RunAfters.evaluate(RunAfters.java:27)
	at org.junit.internal.runners.statements.FailOnTimeout$CallableStatement.call(FailOnTimeout.java:298)
	at org.junit.internal.runners.statements.FailOnTimeout$CallableStatement.call(FailOnTimeout.java:292)
	at java.util.concurrent.FutureTask.run(FutureTask.java:266)
	at java.lang.Thread.run(Thread.java:748)
2019-09-24 16:57:13,866 INFO  impl.LeaderElection (LeaderElection.java:askForVotes(178)) - s1@group-09A0EF6A68F4-LeaderElection16: begin an election at term 7 for -1: [s0:0.0.0.0:42611, s1:0.0.0.0:39575, s2:0.0.0.0:34382], old=null
2019-09-24 16:57:13,866 INFO  impl.LeaderElection (LeaderElection.java:askForVotes(178)) - s0@group-09A0EF6A68F4-LeaderElection17: begin an election at term 7 for -1: [s0:0.0.0.0:42611, s1:0.0.0.0:39575, s2:0.0.0.0:34382], old=null
2019-09-24 16:57:13,866 INFO  impl.LeaderElection (LeaderElection.java:askForVotes(178)) - s2@group-09A0EF6A68F4-LeaderElection18: begin an election at term 7 for -1: [s0:0.0.0.0:42611, s1:0.0.0.0:39575, s2:0.0.0.0:34382], old=null
2019-09-24 16:57:13,867 DEBUG impl.RaftServerImpl (RaftServerImpl.java:requestVote(743)) - s0@group-09A0EF6A68F4: receive requestVote(s1, group-09A0EF6A68F4, 7, (t:0, i:0))
2019-09-24 16:57:13,867 DEBUG impl.RaftServerImpl (RaftServerImpl.java:requestVote(743)) - s2@group-09A0EF6A68F4: receive requestVote(s1, group-09A0EF6A68F4, 7, (t:0, i:0))
2019-09-24 16:57:13,868 DEBUG impl.RaftServerImpl (RaftServerImpl.java:requestVote(775)) - s0@group-09A0EF6A68F4 replies to vote request: s1<-s0#0:FAIL-t7. Peer's state: s0@group-09A0EF6A68F4:t7, leader=null, voted=s0, raftlog=s0@group-09A0EF6A68F4-SegmentedRaftLog:OPENED:c-1,f-1,i0, conf=-1: [s0:0.0.0.0:42611, s1:0.0.0.0:39575, s2:0.0.0.0:34382], old=null
2019-09-24 16:57:13,868 DEBUG impl.RaftServerImpl (RaftServerImpl.java:requestVote(775)) - s2@group-09A0EF6A68F4 replies to vote request: s1<-s2#0:FAIL-t7. Peer's state: s2@group-09A0EF6A68F4:t7, leader=null, voted=s2, raftlog=s2@group-09A0EF6A68F4-SegmentedRaftLog:OPENED:c-1,f-1,i0, conf=-1: [s0:0.0.0.0:42611, s1:0.0.0.0:39575, s2:0.0.0.0:34382], old=null
2019-09-24 16:57:13,868 DEBUG impl.RaftServerImpl (RaftServerImpl.java:requestVote(743)) - s0@group-09A0EF6A68F4: receive requestVote(s2, group-09A0EF6A68F4, 7, (t:0, i:0))
2019-09-24 16:57:13,868 DEBUG impl.RaftServerImpl (RaftServerImpl.java:requestVote(743)) - s1@group-09A0EF6A68F4: receive requestVote(s2, group-09A0EF6A68F4, 7, (t:0, i:0))
2019-09-24 16:57:13,868 DEBUG impl.RaftServerImpl (RaftServerImpl.java:requestVote(743)) - s2@group-09A0EF6A68F4: receive requestVote(s0, group-09A0EF6A68F4, 7, (t:0, i:0))
2019-09-24 16:57:13,868 DEBUG impl.RaftServerImpl (RaftServerImpl.java:requestVote(775)) - s1@group-09A0EF6A68F4 replies to vote request: s2<-s1#0:FAIL-t7. Peer's state: s1@group-09A0EF6A68F4:t7, leader=null, voted=s1, raftlog=s1@group-09A0EF6A68F4-SegmentedRaftLog:OPENED:c-1,f-1,i0, conf=-1: [s0:0.0.0.0:42611, s1:0.0.0.0:39575, s2:0.0.0.0:34382], old=null
2019-09-24 16:57:13,868 DEBUG impl.RaftServerImpl (RaftServerImpl.java:requestVote(743)) - s1@group-09A0EF6A68F4: receive requestVote(s0, group-09A0EF6A68F4, 7, (t:0, i:0))
2019-09-24 16:57:13,868 DEBUG impl.RaftServerImpl (RaftServerImpl.java:requestVote(775)) - s2@group-09A0EF6A68F4 replies to vote request: s0<-s2#0:FAIL-t7. Peer's state: s2@group-09A0EF6A68F4:t7, leader=null, voted=s2, raftlog=s2@group-09A0EF6A68F4-SegmentedRaftLog:OPENED:c-1,f-1,i0, conf=-1: [s0:0.0.0.0:42611, s1:0.0.0.0:39575, s2:0.0.0.0:34382], old=null
2019-09-24 16:57:13,868 INFO  impl.LeaderElection (LeaderElection.java:logAndReturn(56)) - s1@group-09A0EF6A68F4-LeaderElection16: Election REJECTED; received 2 response(s) [s1<-s0#0:FAIL-t7, s1<-s2#0:FAIL-t7] and 0 exception(s); s1@group-09A0EF6A68F4:t7, leader=null, voted=s1, raftlog=s1@group-09A0EF6A68F4-SegmentedRaftLog:OPENED:c-1,f-1,i0, conf=-1: [s0:0.0.0.0:42611, s1:0.0.0.0:39575, s2:0.0.0.0:34382], old=null
2019-09-24 16:57:13,868 DEBUG impl.RaftServerImpl (RaftServerImpl.java:requestVote(775)) - s0@group-09A0EF6A68F4 replies to vote request: s2<-s0#0:FAIL-t7. Peer's state: s0@group-09A0EF6A68F4:t7, leader=null, voted=s0, raftlog=s0@group-09A0EF6A68F4-SegmentedRaftLog:OPENED:c-1,f-1,i0, conf=-1: [s0:0.0.0.0:42611, s1:0.0.0.0:39575, s2:0.0.0.0:34382], old=null
2019-09-24 16:57:13,869 DEBUG impl.RaftServerImpl (RaftServerImpl.java:requestVote(775)) - s1@group-09A0EF6A68F4 replies to vote request: s0<-s1#0:FAIL-t7. Peer's state: s1@group-09A0EF6A68F4:t7, leader=null, voted=s1, raftlog=s1@group-09A0EF6A68F4-SegmentedRaftLog:OPENED:c-1,f-1,i0, conf=-1: [s0:0.0.0.0:42611, s1:0.0.0.0:39575, s2:0.0.0.0:34382], old=null
2019-09-24 16:57:13,870 INFO  impl.RaftServerImpl (RaftServerImpl.java:setRole(170)) - s1@group-09A0EF6A68F4: changes role from CANDIDATE to FOLLOWER at term 7 for DISCOVERED_A_NEW_TERM
2019-09-24 16:57:13,870 INFO  impl.LeaderElection (LeaderElection.java:logAndReturn(56)) - s0@group-09A0EF6A68F4-LeaderElection17: Election REJECTED; received 2 response(s) [s0<-s1#0:FAIL-t7, s0<-s2#0:FAIL-t7] and 0 exception(s); s0@group-09A0EF6A68F4:t7, leader=null, voted=s0, raftlog=s0@group-09A0EF6A68F4-SegmentedRaftLog:OPENED:c-1,f-1,i0, conf=-1: [s0:0.0.0.0:42611, s1:0.0.0.0:39575, s2:0.0.0.0:34382], old=null
2019-09-24 16:57:13,870 INFO  impl.LeaderElection (LeaderElection.java:logAndReturn(56)) - s2@group-09A0EF6A68F4-LeaderElection18: Election REJECTED; received 2 response(s) [s2<-s0#0:FAIL-t7, s2<-s1#0:FAIL-t7] and 0 exception(s); s2@group-09A0EF6A68F4:t7, leader=null, voted=s2, raftlog=s2@group-09A0EF6A68F4-SegmentedRaftLog:OPENED:c-1,f-1,i0, conf=-1: [s0:0.0.0.0:42611, s1:0.0.0.0:39575, s2:0.0.0.0:34382], old=null
2019-09-24 16:57:13,871 INFO  impl.RaftServerImpl (RaftServerImpl.java:setRole(170)) - s0@group-09A0EF6A68F4: changes role from CANDIDATE to FOLLOWER at term 7 for DISCOVERED_A_NEW_TERM
2019-09-24 16:57:13,870 INFO  impl.RoleInfo (RoleInfo.java:shutdownLeaderElection(134)) - s1: shutdown LeaderElection
2019-09-24 16:57:13,873 INFO  impl.RoleInfo (RoleInfo.java:shutdownLeaderElection(134)) - s0: shutdown LeaderElection
2019-09-24 16:57:13,873 INFO  impl.RaftServerImpl (RaftServerImpl.java:setRole(170)) - s2@group-09A0EF6A68F4: changes role from CANDIDATE to FOLLOWER at term 7 for DISCOVERED_A_NEW_TERM
2019-09-24 16:57:13,874 INFO  impl.RoleInfo (RoleInfo.java:updateAndGet(143)) - s0: start FollowerState
2019-09-24 16:57:13,873 INFO  impl.RoleInfo (RoleInfo.java:updateAndGet(143)) - s1: start FollowerState
2019-09-24 16:57:13,874 INFO  impl.RoleInfo (RoleInfo.java:shutdownLeaderElection(134)) - s2: shutdown LeaderElection
2019-09-24 16:57:13,875 INFO  impl.RoleInfo (RoleInfo.java:updateAndGet(143)) - s2: start FollowerState
2019-09-24 16:57:14,053 INFO  impl.FollowerState (FollowerState.java:run(108)) - s0@group-09A0EF6A68F4-FollowerState: change to CANDIDATE, lastRpcTime:179ms, electionTimeout:178ms
2019-09-24 16:57:14,053 INFO  impl.RoleInfo (RoleInfo.java:shutdownFollowerState(121)) - s0: shutdown FollowerState
2019-09-24 16:57:14,054 INFO  impl.RaftServerImpl (RaftServerImpl.java:setRole(170)) - s0@group-09A0EF6A68F4: changes role from  FOLLOWER to CANDIDATE at term 7 for changeToCandidate
2019-09-24 16:57:14,054 INFO  impl.RoleInfo (RoleInfo.java:updateAndGet(143)) - s0: start LeaderElection
2019-09-24 16:57:14,077 INFO  impl.FollowerState (FollowerState.java:run(108)) - s1@group-09A0EF6A68F4-FollowerState: change to CANDIDATE, lastRpcTime:203ms, electionTimeout:202ms
2019-09-24 16:57:14,077 INFO  impl.RoleInfo (RoleInfo.java:shutdownFollowerState(121)) - s1: shutdown FollowerState
2019-09-24 16:57:14,078 INFO  impl.RaftServerImpl (RaftServerImpl.java:setRole(170)) - s1@group-09A0EF6A68F4: changes role from  FOLLOWER to CANDIDATE at term 7 for changeToCandidate
2019-09-24 16:57:14,078 INFO  impl.RoleInfo (RoleInfo.java:updateAndGet(143)) - s1: start LeaderElection
2019-09-24 16:57:14,088 INFO  impl.FollowerState (FollowerState.java:run(108)) - s2@group-09A0EF6A68F4-FollowerState: change to CANDIDATE, lastRpcTime:212ms, electionTimeout:212ms
2019-09-24 16:57:14,088 INFO  impl.RoleInfo (RoleInfo.java:shutdownFollowerState(121)) - s2: shutdown FollowerState
2019-09-24 16:57:14,088 INFO  impl.RaftServerImpl (RaftServerImpl.java:setRole(170)) - s2@group-09A0EF6A68F4: changes role from  FOLLOWER to CANDIDATE at term 7 for changeToCandidate
2019-09-24 16:57:14,088 INFO  impl.RoleInfo (RoleInfo.java:updateAndGet(143)) - s2: start LeaderElection
2019-09-24 16:57:14,195 WARN  ratis.RaftTestUtil (JavaUtils.java:attempt(158)) - FAILED "waitForLeader-null-(expectLeader? true)", attempt #10/100: java.lang.IllegalStateException: No leader yet : printing ALL groups
  s0:  RUNNING CANDIDATE s0@group-09A0EF6A68F4:t8, leader=null, voted=s0, raftlog=s0@group-09A0EF6A68F4-SegmentedRaftLog:OPENED:c-1,f-1,i0, conf=-1: [s0:0.0.0.0:42611, s1:0.0.0.0:39575, s2:0.0.0.0:34382], old=null RUNNING
  s1:  RUNNING CANDIDATE s1@group-09A0EF6A68F4:t8, leader=null, voted=s1, raftlog=s1@group-09A0EF6A68F4-SegmentedRaftLog:OPENED:c-1,f-1,i0, conf=-1: [s0:0.0.0.0:42611, s1:0.0.0.0:39575, s2:0.0.0.0:34382], old=null RUNNING
  s2:  RUNNING CANDIDATE s2@group-09A0EF6A68F4:t8, leader=null, voted=s2, raftlog=s2@group-09A0EF6A68F4-SegmentedRaftLog:OPENED:c-1,f-1,i0, conf=-1: [s0:0.0.0.0:42611, s1:0.0.0.0:39575, s2:0.0.0.0:34382], old=null RUNNING, sleep 450ms and then retry.
java.lang.IllegalStateException: No leader yet : printing ALL groups
  s0:  RUNNING CANDIDATE s0@group-09A0EF6A68F4:t8, leader=null, voted=s0, raftlog=s0@group-09A0EF6A68F4-SegmentedRaftLog:OPENED:c-1,f-1,i0, conf=-1: [s0:0.0.0.0:42611, s1:0.0.0.0:39575, s2:0.0.0.0:34382], old=null RUNNING
  s1:  RUNNING CANDIDATE s1@group-09A0EF6A68F4:t8, leader=null, voted=s1, raftlog=s1@group-09A0EF6A68F4-SegmentedRaftLog:OPENED:c-1,f-1,i0, conf=-1: [s0:0.0.0.0:42611, s1:0.0.0.0:39575, s2:0.0.0.0:34382], old=null RUNNING
  s2:  RUNNING CANDIDATE s2@group-09A0EF6A68F4:t8, leader=null, voted=s2, raftlog=s2@group-09A0EF6A68F4-SegmentedRaftLog:OPENED:c-1,f-1,i0, conf=-1: [s0:0.0.0.0:42611, s1:0.0.0.0:39575, s2:0.0.0.0:34382], old=null RUNNING
	at org.apache.ratis.MiniRaftCluster.newIllegalStateExceptionForNoLeaders(MiniRaftCluster.java:506)
	at org.apache.ratis.RaftTestUtil.lambda$waitForLeader$1(RaftTestUtil.java:90)
	at org.apache.ratis.MiniRaftCluster.getLeader(MiniRaftCluster.java:539)
	at org.apache.ratis.MiniRaftCluster.getLeader(MiniRaftCluster.java:532)
	at org.apache.ratis.RaftTestUtil.lambda$waitForLeader$3(RaftTestUtil.java:98)
	at org.apache.ratis.util.JavaUtils.attempt(JavaUtils.java:152)
	at org.apache.ratis.RaftTestUtil.waitForLeader(RaftTestUtil.java:97)
	at org.apache.ratis.RaftTestUtil.waitForLeader(RaftTestUtil.java:77)
	at org.apache.ratis.RaftTestUtil.waitForLeader(RaftTestUtil.java:72)
	at org.apache.ratis.server.impl.RaftStateMachineExceptionTests.runTestRetryOnExceptionDuringReplication(RaftStateMachineExceptionTests.java:149)
	at org.apache.ratis.MiniRaftCluster$Factory$Get.runWithNewCluster(MiniRaftCluster.java:125)
	at org.apache.ratis.MiniRaftCluster$Factory$Get.runWithNewCluster(MiniRaftCluster.java:113)
	at org.apache.ratis.server.impl.RaftStateMachineExceptionTests.testRetryOnExceptionDuringReplication(RaftStateMachineExceptionTests.java:145)
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.lang.reflect.Method.invoke(Method.java:498)
	at org.junit.runners.model.FrameworkMethod$1.runReflectiveCall(FrameworkMethod.java:50)
	at org.junit.internal.runners.model.ReflectiveCallable.run(ReflectiveCallable.java:12)
	at org.junit.runners.model.FrameworkMethod.invokeExplosively(FrameworkMethod.java:47)
	at org.junit.internal.runners.statements.InvokeMethod.evaluate(InvokeMethod.java:17)
	at org.junit.internal.runners.statements.RunAfters.evaluate(RunAfters.java:27)
	at org.junit.internal.runners.statements.FailOnTimeout$CallableStatement.call(FailOnTimeout.java:298)
	at org.junit.internal.runners.statements.FailOnTimeout$CallableStatement.call(FailOnTimeout.java:292)
	at java.util.concurrent.FutureTask.run(FutureTask.java:266)
	at java.lang.Thread.run(Thread.java:748)
2019-09-24 16:57:14,325 INFO  impl.LeaderElection (LeaderElection.java:askForVotes(178)) - s2@group-09A0EF6A68F4-LeaderElection21: begin an election at term 8 for -1: [s0:0.0.0.0:42611, s1:0.0.0.0:39575, s2:0.0.0.0:34382], old=null
2019-09-24 16:57:14,325 INFO  impl.LeaderElection (LeaderElection.java:askForVotes(178)) - s1@group-09A0EF6A68F4-LeaderElection20: begin an election at term 8 for -1: [s0:0.0.0.0:42611, s1:0.0.0.0:39575, s2:0.0.0.0:34382], old=null
2019-09-24 16:57:14,325 INFO  impl.LeaderElection (LeaderElection.java:askForVotes(178)) - s0@group-09A0EF6A68F4-LeaderElection19: begin an election at term 8 for -1: [s0:0.0.0.0:42611, s1:0.0.0.0:39575, s2:0.0.0.0:34382], old=null
2019-09-24 16:57:14,326 DEBUG impl.RaftServerImpl (RaftServerImpl.java:requestVote(743)) - s0@group-09A0EF6A68F4: receive requestVote(s2, group-09A0EF6A68F4, 8, (t:0, i:0))
2019-09-24 16:57:14,326 DEBUG impl.RaftServerImpl (RaftServerImpl.java:requestVote(743)) - s1@group-09A0EF6A68F4: receive requestVote(s2, group-09A0EF6A68F4, 8, (t:0, i:0))
2019-09-24 16:57:14,327 DEBUG impl.RaftServerImpl (RaftServerImpl.java:requestVote(775)) - s0@group-09A0EF6A68F4 replies to vote request: s2<-s0#0:FAIL-t8. Peer's state: s0@group-09A0EF6A68F4:t8, leader=null, voted=s0, raftlog=s0@group-09A0EF6A68F4-SegmentedRaftLog:OPENED:c-1,f-1,i0, conf=-1: [s0:0.0.0.0:42611, s1:0.0.0.0:39575, s2:0.0.0.0:34382], old=null
2019-09-24 16:57:14,327 DEBUG impl.RaftServerImpl (RaftServerImpl.java:requestVote(775)) - s1@group-09A0EF6A68F4 replies to vote request: s2<-s1#0:FAIL-t8. Peer's state: s1@group-09A0EF6A68F4:t8, leader=null, voted=s1, raftlog=s1@group-09A0EF6A68F4-SegmentedRaftLog:OPENED:c-1,f-1,i0, conf=-1: [s0:0.0.0.0:42611, s1:0.0.0.0:39575, s2:0.0.0.0:34382], old=null
2019-09-24 16:57:14,327 DEBUG impl.RaftServerImpl (RaftServerImpl.java:requestVote(743)) - s2@group-09A0EF6A68F4: receive requestVote(s0, group-09A0EF6A68F4, 8, (t:0, i:0))
2019-09-24 16:57:14,327 DEBUG impl.RaftServerImpl (RaftServerImpl.java:requestVote(743)) - s1@group-09A0EF6A68F4: receive requestVote(s0, group-09A0EF6A68F4, 8, (t:0, i:0))
2019-09-24 16:57:14,327 DEBUG impl.RaftServerImpl (RaftServerImpl.java:requestVote(775)) - s2@group-09A0EF6A68F4 replies to vote request: s0<-s2#0:FAIL-t8. Peer's state: s2@group-09A0EF6A68F4:t8, leader=null, voted=s2, raftlog=s2@group-09A0EF6A68F4-SegmentedRaftLog:OPENED:c-1,f-1,i0, conf=-1: [s0:0.0.0.0:42611, s1:0.0.0.0:39575, s2:0.0.0.0:34382], old=null
2019-09-24 16:57:14,327 DEBUG impl.RaftServerImpl (RaftServerImpl.java:requestVote(775)) - s1@group-09A0EF6A68F4 replies to vote request: s0<-s1#0:FAIL-t8. Peer's state: s1@group-09A0EF6A68F4:t8, leader=null, voted=s1, raftlog=s1@group-09A0EF6A68F4-SegmentedRaftLog:OPENED:c-1,f-1,i0, conf=-1: [s0:0.0.0.0:42611, s1:0.0.0.0:39575, s2:0.0.0.0:34382], old=null
2019-09-24 16:57:14,327 DEBUG impl.RaftServerImpl (RaftServerImpl.java:requestVote(743)) - s2@group-09A0EF6A68F4: receive requestVote(s1, group-09A0EF6A68F4, 8, (t:0, i:0))
2019-09-24 16:57:14,328 INFO  impl.LeaderElection (LeaderElection.java:logAndReturn(56)) - s0@group-09A0EF6A68F4-LeaderElection19: Election REJECTED; received 2 response(s) [s0<-s1#0:FAIL-t8, s0<-s2#0:FAIL-t8] and 0 exception(s); s0@group-09A0EF6A68F4:t8, leader=null, voted=s0, raftlog=s0@group-09A0EF6A68F4-SegmentedRaftLog:OPENED:c-1,f-1,i0, conf=-1: [s0:0.0.0.0:42611, s1:0.0.0.0:39575, s2:0.0.0.0:34382], old=null
2019-09-24 16:57:14,328 DEBUG impl.RaftServerImpl (RaftServerImpl.java:requestVote(775)) - s2@group-09A0EF6A68F4 replies to vote request: s1<-s2#0:FAIL-t8. Peer's state: s2@group-09A0EF6A68F4:t8, leader=null, voted=s2, raftlog=s2@group-09A0EF6A68F4-SegmentedRaftLog:OPENED:c-1,f-1,i0, conf=-1: [s0:0.0.0.0:42611, s1:0.0.0.0:39575, s2:0.0.0.0:34382], old=null
2019-09-24 16:57:14,327 DEBUG impl.RaftServerImpl (RaftServerImpl.java:requestVote(743)) - s0@group-09A0EF6A68F4: receive requestVote(s1, group-09A0EF6A68F4, 8, (t:0, i:0))
2019-09-24 16:57:14,328 INFO  impl.RaftServerImpl (RaftServerImpl.java:setRole(170)) - s0@group-09A0EF6A68F4: changes role from CANDIDATE to FOLLOWER at term 8 for DISCOVERED_A_NEW_TERM
2019-09-24 16:57:14,329 INFO  impl.RoleInfo (RoleInfo.java:shutdownLeaderElection(134)) - s0: shutdown LeaderElection
2019-09-24 16:57:14,327 INFO  impl.LeaderElection (LeaderElection.java:logAndReturn(56)) - s2@group-09A0EF6A68F4-LeaderElection21: Election REJECTED; received 2 response(s) [s2<-s0#0:FAIL-t8, s2<-s1#0:FAIL-t8] and 0 exception(s); s2@group-09A0EF6A68F4:t8, leader=null, voted=s2, raftlog=s2@group-09A0EF6A68F4-SegmentedRaftLog:OPENED:c-1,f-1,i0, conf=-1: [s0:0.0.0.0:42611, s1:0.0.0.0:39575, s2:0.0.0.0:34382], old=null
2019-09-24 16:57:14,330 INFO  impl.RoleInfo (RoleInfo.java:updateAndGet(143)) - s0: start FollowerState
2019-09-24 16:57:14,330 INFO  impl.RaftServerImpl (RaftServerImpl.java:setRole(170)) - s2@group-09A0EF6A68F4: changes role from CANDIDATE to FOLLOWER at term 8 for DISCOVERED_A_NEW_TERM
2019-09-24 16:57:14,331 INFO  impl.RoleInfo (RoleInfo.java:shutdownLeaderElection(134)) - s2: shutdown LeaderElection
2019-09-24 16:57:14,331 DEBUG impl.RaftServerImpl (RaftServerImpl.java:requestVote(775)) - s0@group-09A0EF6A68F4 replies to vote request: s1<-s0#0:FAIL-t8. Peer's state: s0@group-09A0EF6A68F4:t8, leader=null, voted=s0, raftlog=s0@group-09A0EF6A68F4-SegmentedRaftLog:OPENED:c-1,f-1,i0, conf=-1: [s0:0.0.0.0:42611, s1:0.0.0.0:39575, s2:0.0.0.0:34382], old=null
2019-09-24 16:57:14,332 INFO  impl.RoleInfo (RoleInfo.java:updateAndGet(143)) - s2: start FollowerState
2019-09-24 16:57:14,332 INFO  impl.LeaderElection (LeaderElection.java:logAndReturn(56)) - s1@group-09A0EF6A68F4-LeaderElection20: Election REJECTED; received 2 response(s) [s1<-s0#0:FAIL-t8, s1<-s2#0:FAIL-t8] and 0 exception(s); s1@group-09A0EF6A68F4:t8, leader=null, voted=s1, raftlog=s1@group-09A0EF6A68F4-SegmentedRaftLog:OPENED:c-1,f-1,i0, conf=-1: [s0:0.0.0.0:42611, s1:0.0.0.0:39575, s2:0.0.0.0:34382], old=null
2019-09-24 16:57:14,333 INFO  impl.RaftServerImpl (RaftServerImpl.java:setRole(170)) - s1@group-09A0EF6A68F4: changes role from CANDIDATE to FOLLOWER at term 8 for DISCOVERED_A_NEW_TERM
2019-09-24 16:57:14,333 INFO  impl.RoleInfo (RoleInfo.java:shutdownLeaderElection(134)) - s1: shutdown LeaderElection
2019-09-24 16:57:14,334 INFO  impl.RoleInfo (RoleInfo.java:updateAndGet(143)) - s1: start FollowerState
2019-09-24 16:57:14,545 INFO  impl.FollowerState (FollowerState.java:run(108)) - s2@group-09A0EF6A68F4-FollowerState: change to CANDIDATE, lastRpcTime:212ms, electionTimeout:212ms
2019-09-24 16:57:14,545 INFO  impl.RoleInfo (RoleInfo.java:shutdownFollowerState(121)) - s2: shutdown FollowerState
2019-09-24 16:57:14,545 INFO  impl.RaftServerImpl (RaftServerImpl.java:setRole(170)) - s2@group-09A0EF6A68F4: changes role from  FOLLOWER to CANDIDATE at term 8 for changeToCandidate
2019-09-24 16:57:14,545 INFO  impl.RoleInfo (RoleInfo.java:updateAndGet(143)) - s2: start LeaderElection
2019-09-24 16:57:14,599 INFO  impl.FollowerState (FollowerState.java:run(108)) - s1@group-09A0EF6A68F4-FollowerState: change to CANDIDATE, lastRpcTime:264ms, electionTimeout:264ms
2019-09-24 16:57:14,599 INFO  impl.RoleInfo (RoleInfo.java:shutdownFollowerState(121)) - s1: shutdown FollowerState
2019-09-24 16:57:14,599 INFO  impl.RaftServerImpl (RaftServerImpl.java:setRole(170)) - s1@group-09A0EF6A68F4: changes role from  FOLLOWER to CANDIDATE at term 8 for changeToCandidate
2019-09-24 16:57:14,599 INFO  impl.RoleInfo (RoleInfo.java:updateAndGet(143)) - s1: start LeaderElection
2019-09-24 16:57:14,604 INFO  impl.FollowerState (FollowerState.java:run(108)) - s0@group-09A0EF6A68F4-FollowerState: change to CANDIDATE, lastRpcTime:274ms, electionTimeout:273ms
2019-09-24 16:57:14,605 INFO  impl.RoleInfo (RoleInfo.java:shutdownFollowerState(121)) - s0: shutdown FollowerState
2019-09-24 16:57:14,605 INFO  impl.RaftServerImpl (RaftServerImpl.java:setRole(170)) - s0@group-09A0EF6A68F4: changes role from  FOLLOWER to CANDIDATE at term 8 for changeToCandidate
2019-09-24 16:57:14,605 INFO  impl.RoleInfo (RoleInfo.java:updateAndGet(143)) - s0: start LeaderElection
2019-09-24 16:57:14,647 WARN  ratis.RaftTestUtil (JavaUtils.java:attempt(158)) - FAILED "waitForLeader-null-(expectLeader? true)", attempt #11/100: java.lang.IllegalStateException: No leader yet : printing ALL groups
  s0:  RUNNING CANDIDATE s0@group-09A0EF6A68F4:t9, leader=null, voted=s0, raftlog=s0@group-09A0EF6A68F4-SegmentedRaftLog:OPENED:c-1,f-1,i0, conf=-1: [s0:0.0.0.0:42611, s1:0.0.0.0:39575, s2:0.0.0.0:34382], old=null RUNNING
  s1:  RUNNING CANDIDATE s1@group-09A0EF6A68F4:t9, leader=null, voted=s1, raftlog=s1@group-09A0EF6A68F4-SegmentedRaftLog:OPENED:c-1,f-1,i0, conf=-1: [s0:0.0.0.0:42611, s1:0.0.0.0:39575, s2:0.0.0.0:34382], old=null RUNNING
  s2:  RUNNING CANDIDATE s2@group-09A0EF6A68F4:t9, leader=null, voted=s2, raftlog=s2@group-09A0EF6A68F4-SegmentedRaftLog:OPENED:c-1,f-1,i0, conf=-1: [s0:0.0.0.0:42611, s1:0.0.0.0:39575, s2:0.0.0.0:34382], old=null RUNNING, sleep 450ms and then retry.
java.lang.IllegalStateException: No leader yet : printing ALL groups
  s0:  RUNNING CANDIDATE s0@group-09A0EF6A68F4:t9, leader=null, voted=s0, raftlog=s0@group-09A0EF6A68F4-SegmentedRaftLog:OPENED:c-1,f-1,i0, conf=-1: [s0:0.0.0.0:42611, s1:0.0.0.0:39575, s2:0.0.0.0:34382], old=null RUNNING
  s1:  RUNNING CANDIDATE s1@group-09A0EF6A68F4:t9, leader=null, voted=s1, raftlog=s1@group-09A0EF6A68F4-SegmentedRaftLog:OPENED:c-1,f-1,i0, conf=-1: [s0:0.0.0.0:42611, s1:0.0.0.0:39575, s2:0.0.0.0:34382], old=null RUNNING
  s2:  RUNNING CANDIDATE s2@group-09A0EF6A68F4:t9, leader=null, voted=s2, raftlog=s2@group-09A0EF6A68F4-SegmentedRaftLog:OPENED:c-1,f-1,i0, conf=-1: [s0:0.0.0.0:42611, s1:0.0.0.0:39575, s2:0.0.0.0:34382], old=null RUNNING
	at org.apache.ratis.MiniRaftCluster.newIllegalStateExceptionForNoLeaders(MiniRaftCluster.java:506)
	at org.apache.ratis.RaftTestUtil.lambda$waitForLeader$1(RaftTestUtil.java:90)
	at org.apache.ratis.MiniRaftCluster.getLeader(MiniRaftCluster.java:539)
	at org.apache.ratis.MiniRaftCluster.getLeader(MiniRaftCluster.java:532)
	at org.apache.ratis.RaftTestUtil.lambda$waitForLeader$3(RaftTestUtil.java:98)
	at org.apache.ratis.util.JavaUtils.attempt(JavaUtils.java:152)
	at org.apache.ratis.RaftTestUtil.waitForLeader(RaftTestUtil.java:97)
	at org.apache.ratis.RaftTestUtil.waitForLeader(RaftTestUtil.java:77)
	at org.apache.ratis.RaftTestUtil.waitForLeader(RaftTestUtil.java:72)
	at org.apache.ratis.server.impl.RaftStateMachineExceptionTests.runTestRetryOnExceptionDuringReplication(RaftStateMachineExceptionTests.java:149)
	at org.apache.ratis.MiniRaftCluster$Factory$Get.runWithNewCluster(MiniRaftCluster.java:125)
	at org.apache.ratis.MiniRaftCluster$Factory$Get.runWithNewCluster(MiniRaftCluster.java:113)
	at org.apache.ratis.server.impl.RaftStateMachineExceptionTests.testRetryOnExceptionDuringReplication(RaftStateMachineExceptionTests.java:145)
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.lang.reflect.Method.invoke(Method.java:498)
	at org.junit.runners.model.FrameworkMethod$1.runReflectiveCall(FrameworkMethod.java:50)
	at org.junit.internal.runners.model.ReflectiveCallable.run(ReflectiveCallable.java:12)
	at org.junit.runners.model.FrameworkMethod.invokeExplosively(FrameworkMethod.java:47)
	at org.junit.internal.runners.statements.InvokeMethod.evaluate(InvokeMethod.java:17)
	at org.junit.internal.runners.statements.RunAfters.evaluate(RunAfters.java:27)
	at org.junit.internal.runners.statements.FailOnTimeout$CallableStatement.call(FailOnTimeout.java:298)
	at org.junit.internal.runners.statements.FailOnTimeout$CallableStatement.call(FailOnTimeout.java:292)
	at java.util.concurrent.FutureTask.run(FutureTask.java:266)
	at java.lang.Thread.run(Thread.java:748)
2019-09-24 16:57:15,099 WARN  ratis.RaftTestUtil (JavaUtils.java:attempt(158)) - FAILED "waitForLeader-null-(expectLeader? true)", attempt #12/100: java.lang.IllegalStateException: No leader yet : printing ALL groups
  s0:  RUNNING CANDIDATE s0@group-09A0EF6A68F4:t9, leader=null, voted=s0, raftlog=s0@group-09A0EF6A68F4-SegmentedRaftLog:OPENED:c-1,f-1,i0, conf=-1: [s0:0.0.0.0:42611, s1:0.0.0.0:39575, s2:0.0.0.0:34382], old=null RUNNING
  s1:  RUNNING CANDIDATE s1@group-09A0EF6A68F4:t9, leader=null, voted=s1, raftlog=s1@group-09A0EF6A68F4-SegmentedRaftLog:OPENED:c-1,f-1,i0, conf=-1: [s0:0.0.0.0:42611, s1:0.0.0.0:39575, s2:0.0.0.0:34382], old=null RUNNING
  s2:  RUNNING CANDIDATE s2@group-09A0EF6A68F4:t9, leader=null, voted=s2, raftlog=s2@group-09A0EF6A68F4-SegmentedRaftLog:OPENED:c-1,f-1,i0, conf=-1: [s0:0.0.0.0:42611, s1:0.0.0.0:39575, s2:0.0.0.0:34382], old=null RUNNING, sleep 450ms and then retry.
java.lang.IllegalStateException: No leader yet : printing ALL groups
  s0:  RUNNING CANDIDATE s0@group-09A0EF6A68F4:t9, leader=null, voted=s0, raftlog=s0@group-09A0EF6A68F4-SegmentedRaftLog:OPENED:c-1,f-1,i0, conf=-1: [s0:0.0.0.0:42611, s1:0.0.0.0:39575, s2:0.0.0.0:34382], old=null RUNNING
  s1:  RUNNING CANDIDATE s1@group-09A0EF6A68F4:t9, leader=null, voted=s1, raftlog=s1@group-09A0EF6A68F4-SegmentedRaftLog:OPENED:c-1,f-1,i0, conf=-1: [s0:0.0.0.0:42611, s1:0.0.0.0:39575, s2:0.0.0.0:34382], old=null RUNNING
  s2:  RUNNING CANDIDATE s2@group-09A0EF6A68F4:t9, leader=null, voted=s2, raftlog=s2@group-09A0EF6A68F4-SegmentedRaftLog:OPENED:c-1,f-1,i0, conf=-1: [s0:0.0.0.0:42611, s1:0.0.0.0:39575, s2:0.0.0.0:34382], old=null RUNNING
	at org.apache.ratis.MiniRaftCluster.newIllegalStateExceptionForNoLeaders(MiniRaftCluster.java:506)
	at org.apache.ratis.RaftTestUtil.lambda$waitForLeader$1(RaftTestUtil.java:90)
	at org.apache.ratis.MiniRaftCluster.getLeader(MiniRaftCluster.java:539)
	at org.apache.ratis.MiniRaftCluster.getLeader(MiniRaftCluster.java:532)
	at org.apache.ratis.RaftTestUtil.lambda$waitForLeader$3(RaftTestUtil.java:98)
	at org.apache.ratis.util.JavaUtils.attempt(JavaUtils.java:152)
	at org.apache.ratis.RaftTestUtil.waitForLeader(RaftTestUtil.java:97)
	at org.apache.ratis.RaftTestUtil.waitForLeader(RaftTestUtil.java:77)
	at org.apache.ratis.RaftTestUtil.waitForLeader(RaftTestUtil.java:72)
	at org.apache.ratis.server.impl.RaftStateMachineExceptionTests.runTestRetryOnExceptionDuringReplication(RaftStateMachineExceptionTests.java:149)
	at org.apache.ratis.MiniRaftCluster$Factory$Get.runWithNewCluster(MiniRaftCluster.java:125)
	at org.apache.ratis.MiniRaftCluster$Factory$Get.runWithNewCluster(MiniRaftCluster.java:113)
	at org.apache.ratis.server.impl.RaftStateMachineExceptionTests.testRetryOnExceptionDuringReplication(RaftStateMachineExceptionTests.java:145)
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.lang.reflect.Method.invoke(Method.java:498)
	at org.junit.runners.model.FrameworkMethod$1.runReflectiveCall(FrameworkMethod.java:50)
	at org.junit.internal.runners.model.ReflectiveCallable.run(ReflectiveCallable.java:12)
	at org.junit.runners.model.FrameworkMethod.invokeExplosively(FrameworkMethod.java:47)
	at org.junit.internal.runners.statements.InvokeMethod.evaluate(InvokeMethod.java:17)
	at org.junit.internal.runners.statements.RunAfters.evaluate(RunAfters.java:27)
	at org.junit.internal.runners.statements.FailOnTimeout$CallableStatement.call(FailOnTimeout.java:298)
	at org.junit.internal.runners.statements.FailOnTimeout$CallableStatement.call(FailOnTimeout.java:292)
	at java.util.concurrent.FutureTask.run(FutureTask.java:266)
	at java.lang.Thread.run(Thread.java:748)
2019-09-24 16:57:15,122 INFO  impl.LeaderElection (LeaderElection.java:askForVotes(178)) - s2@group-09A0EF6A68F4-LeaderElection22: begin an election at term 9 for -1: [s0:0.0.0.0:42611, s1:0.0.0.0:39575, s2:0.0.0.0:34382], old=null
2019-09-24 16:57:15,122 INFO  impl.LeaderElection (LeaderElection.java:askForVotes(178)) - s0@group-09A0EF6A68F4-LeaderElection24: begin an election at term 9 for -1: [s0:0.0.0.0:42611, s1:0.0.0.0:39575, s2:0.0.0.0:34382], old=null
2019-09-24 16:57:15,122 INFO  impl.LeaderElection (LeaderElection.java:askForVotes(178)) - s1@group-09A0EF6A68F4-LeaderElection23: begin an election at term 9 for -1: [s0:0.0.0.0:42611, s1:0.0.0.0:39575, s2:0.0.0.0:34382], old=null
2019-09-24 16:57:15,124 DEBUG impl.RaftServerImpl (RaftServerImpl.java:requestVote(743)) - s0@group-09A0EF6A68F4: receive requestVote(s2, group-09A0EF6A68F4, 9, (t:0, i:0))
2019-09-24 16:57:15,125 DEBUG impl.RaftServerImpl (RaftServerImpl.java:requestVote(775)) - s0@group-09A0EF6A68F4 replies to vote request: s2<-s0#0:FAIL-t9. Peer's state: s0@group-09A0EF6A68F4:t9, leader=null, voted=s0, raftlog=s0@group-09A0EF6A68F4-SegmentedRaftLog:OPENED:c-1,f-1,i0, conf=-1: [s0:0.0.0.0:42611, s1:0.0.0.0:39575, s2:0.0.0.0:34382], old=null
2019-09-24 16:57:15,125 DEBUG impl.RaftServerImpl (RaftServerImpl.java:requestVote(743)) - s1@group-09A0EF6A68F4: receive requestVote(s2, group-09A0EF6A68F4, 9, (t:0, i:0))
2019-09-24 16:57:15,125 DEBUG impl.RaftServerImpl (RaftServerImpl.java:requestVote(743)) - s0@group-09A0EF6A68F4: receive requestVote(s1, group-09A0EF6A68F4, 9, (t:0, i:0))
2019-09-24 16:57:15,125 DEBUG impl.RaftServerImpl (RaftServerImpl.java:requestVote(743)) - s1@group-09A0EF6A68F4: receive requestVote(s0, group-09A0EF6A68F4, 9, (t:0, i:0))
2019-09-24 16:57:15,125 DEBUG impl.RaftServerImpl (RaftServerImpl.java:requestVote(775)) - s0@group-09A0EF6A68F4 replies to vote request: s1<-s0#0:FAIL-t9. Peer's state: s0@group-09A0EF6A68F4:t9, leader=null, voted=s0, raftlog=s0@group-09A0EF6A68F4-SegmentedRaftLog:OPENED:c-1,f-1,i0, conf=-1: [s0:0.0.0.0:42611, s1:0.0.0.0:39575, s2:0.0.0.0:34382], old=null
2019-09-24 16:57:15,125 DEBUG impl.RaftServerImpl (RaftServerImpl.java:requestVote(775)) - s1@group-09A0EF6A68F4 replies to vote request: s2<-s1#0:FAIL-t9. Peer's state: s1@group-09A0EF6A68F4:t9, leader=null, voted=s1, raftlog=s1@group-09A0EF6A68F4-SegmentedRaftLog:OPENED:c-1,f-1,i0, conf=-1: [s0:0.0.0.0:42611, s1:0.0.0.0:39575, s2:0.0.0.0:34382], old=null
2019-09-24 16:57:15,125 DEBUG impl.RaftServerImpl (RaftServerImpl.java:requestVote(743)) - s2@group-09A0EF6A68F4: receive requestVote(s1, group-09A0EF6A68F4, 9, (t:0, i:0))
2019-09-24 16:57:15,126 DEBUG impl.RaftServerImpl (RaftServerImpl.java:requestVote(775)) - s1@group-09A0EF6A68F4 replies to vote request: s0<-s1#0:FAIL-t9. Peer's state: s1@group-09A0EF6A68F4:t9, leader=null, voted=s1, raftlog=s1@group-09A0EF6A68F4-SegmentedRaftLog:OPENED:c-1,f-1,i0, conf=-1: [s0:0.0.0.0:42611, s1:0.0.0.0:39575, s2:0.0.0.0:34382], old=null
2019-09-24 16:57:15,125 DEBUG impl.RaftServerImpl (RaftServerImpl.java:requestVote(743)) - s2@group-09A0EF6A68F4: receive requestVote(s0, group-09A0EF6A68F4, 9, (t:0, i:0))
2019-09-24 16:57:15,126 INFO  impl.LeaderElection (LeaderElection.java:logAndReturn(56)) - s2@group-09A0EF6A68F4-LeaderElection22: Election REJECTED; received 2 response(s) [s2<-s0#0:FAIL-t9, s2<-s1#0:FAIL-t9] and 0 exception(s); s2@group-09A0EF6A68F4:t9, leader=null, voted=s2, raftlog=s2@group-09A0EF6A68F4-SegmentedRaftLog:OPENED:c-1,f-1,i0, conf=-1: [s0:0.0.0.0:42611, s1:0.0.0.0:39575, s2:0.0.0.0:34382], old=null
2019-09-24 16:57:15,126 DEBUG impl.RaftServerImpl (RaftServerImpl.java:requestVote(775)) - s2@group-09A0EF6A68F4 replies to vote request: s1<-s2#0:FAIL-t9. Peer's state: s2@group-09A0EF6A68F4:t9, leader=null, voted=s2, raftlog=s2@group-09A0EF6A68F4-SegmentedRaftLog:OPENED:c-1,f-1,i0, conf=-1: [s0:0.0.0.0:42611, s1:0.0.0.0:39575, s2:0.0.0.0:34382], old=null
2019-09-24 16:57:15,128 INFO  impl.RaftServerImpl (RaftServerImpl.java:setRole(170)) - s2@group-09A0EF6A68F4: changes role from CANDIDATE to FOLLOWER at term 9 for DISCOVERED_A_NEW_TERM
2019-09-24 16:57:15,128 INFO  impl.RoleInfo (RoleInfo.java:shutdownLeaderElection(134)) - s2: shutdown LeaderElection
2019-09-24 16:57:15,128 INFO  impl.LeaderElection (LeaderElection.java:logAndReturn(56)) - s1@group-09A0EF6A68F4-LeaderElection23: Election REJECTED; received 2 response(s) [s1<-s0#0:FAIL-t9, s1<-s2#0:FAIL-t9] and 0 exception(s); s1@group-09A0EF6A68F4:t9, leader=null, voted=s1, raftlog=s1@group-09A0EF6A68F4-SegmentedRaftLog:OPENED:c-1,f-1,i0, conf=-1: [s0:0.0.0.0:42611, s1:0.0.0.0:39575, s2:0.0.0.0:34382], old=null
2019-09-24 16:57:15,128 INFO  impl.RoleInfo (RoleInfo.java:updateAndGet(143)) - s2: start FollowerState
2019-09-24 16:57:15,129 INFO  impl.RaftServerImpl (RaftServerImpl.java:setRole(170)) - s1@group-09A0EF6A68F4: changes role from CANDIDATE to FOLLOWER at term 9 for DISCOVERED_A_NEW_TERM
2019-09-24 16:57:15,129 DEBUG impl.RaftServerImpl (RaftServerImpl.java:requestVote(775)) - s2@group-09A0EF6A68F4 replies to vote request: s0<-s2#0:FAIL-t9. Peer's state: s2@group-09A0EF6A68F4:t9, leader=null, voted=s2, raftlog=s2@group-09A0EF6A68F4-SegmentedRaftLog:OPENED:c-1,f-1,i0, conf=-1: [s0:0.0.0.0:42611, s1:0.0.0.0:39575, s2:0.0.0.0:34382], old=null
2019-09-24 16:57:15,129 INFO  impl.RoleInfo (RoleInfo.java:shutdownLeaderElection(134)) - s1: shutdown LeaderElection
2019-09-24 16:57:15,130 INFO  impl.RoleInfo (RoleInfo.java:updateAndGet(143)) - s1: start FollowerState
2019-09-24 16:57:15,130 INFO  impl.LeaderElection (LeaderElection.java:logAndReturn(56)) - s0@group-09A0EF6A68F4-LeaderElection24: Election REJECTED; received 2 response(s) [s0<-s1#0:FAIL-t9, s0<-s2#0:FAIL-t9] and 0 exception(s); s0@group-09A0EF6A68F4:t9, leader=null, voted=s0, raftlog=s0@group-09A0EF6A68F4-SegmentedRaftLog:OPENED:c-1,f-1,i0, conf=-1: [s0:0.0.0.0:42611, s1:0.0.0.0:39575, s2:0.0.0.0:34382], old=null
2019-09-24 16:57:15,130 INFO  impl.RaftServerImpl (RaftServerImpl.java:setRole(170)) - s0@group-09A0EF6A68F4: changes role from CANDIDATE to FOLLOWER at term 9 for DISCOVERED_A_NEW_TERM
2019-09-24 16:57:15,131 INFO  impl.RoleInfo (RoleInfo.java:shutdownLeaderElection(134)) - s0: shutdown LeaderElection
2019-09-24 16:57:15,131 INFO  impl.RoleInfo (RoleInfo.java:updateAndGet(143)) - s0: start FollowerState
2019-09-24 16:57:15,320 INFO  impl.FollowerState (FollowerState.java:run(108)) - s2@group-09A0EF6A68F4-FollowerState: change to CANDIDATE, lastRpcTime:191ms, electionTimeout:190ms
2019-09-24 16:57:15,320 INFO  impl.RoleInfo (RoleInfo.java:shutdownFollowerState(121)) - s2: shutdown FollowerState
2019-09-24 16:57:15,320 INFO  impl.RaftServerImpl (RaftServerImpl.java:setRole(170)) - s2@group-09A0EF6A68F4: changes role from  FOLLOWER to CANDIDATE at term 9 for changeToCandidate
2019-09-24 16:57:15,320 INFO  impl.RoleInfo (RoleInfo.java:updateAndGet(143)) - s2: start LeaderElection
2019-09-24 16:57:15,330 INFO  impl.FollowerState (FollowerState.java:run(108)) - s1@group-09A0EF6A68F4-FollowerState: change to CANDIDATE, lastRpcTime:200ms, electionTimeout:199ms
2019-09-24 16:57:15,330 INFO  impl.RoleInfo (RoleInfo.java:shutdownFollowerState(121)) - s1: shutdown FollowerState
2019-09-24 16:57:15,330 INFO  impl.RaftServerImpl (RaftServerImpl.java:setRole(170)) - s1@group-09A0EF6A68F4: changes role from  FOLLOWER to CANDIDATE at term 9 for changeToCandidate
2019-09-24 16:57:15,331 INFO  impl.RoleInfo (RoleInfo.java:updateAndGet(143)) - s1: start LeaderElection
2019-09-24 16:57:15,371 INFO  impl.FollowerState (FollowerState.java:run(108)) - s0@group-09A0EF6A68F4-FollowerState: change to CANDIDATE, lastRpcTime:239ms, electionTimeout:239ms
2019-09-24 16:57:15,371 INFO  impl.RoleInfo (RoleInfo.java:shutdownFollowerState(121)) - s0: shutdown FollowerState
2019-09-24 16:57:15,371 INFO  impl.RaftServerImpl (RaftServerImpl.java:setRole(170)) - s0@group-09A0EF6A68F4: changes role from  FOLLOWER to CANDIDATE at term 9 for changeToCandidate
2019-09-24 16:57:15,372 INFO  impl.RoleInfo (RoleInfo.java:updateAndGet(143)) - s0: start LeaderElection
2019-09-24 16:57:15,551 WARN  ratis.RaftTestUtil (JavaUtils.java:attempt(158)) - FAILED "waitForLeader-null-(expectLeader? true)", attempt #13/100: java.lang.IllegalStateException: No leader yet : printing ALL groups
  s0:  RUNNING CANDIDATE s0@group-09A0EF6A68F4:t10, leader=null, voted=s0, raftlog=s0@group-09A0EF6A68F4-SegmentedRaftLog:OPENED:c-1,f-1,i0, conf=-1: [s0:0.0.0.0:42611, s1:0.0.0.0:39575, s2:0.0.0.0:34382], old=null RUNNING
  s1:  RUNNING CANDIDATE s1@group-09A0EF6A68F4:t10, leader=null, voted=s1, raftlog=s1@group-09A0EF6A68F4-SegmentedRaftLog:OPENED:c-1,f-1,i0, conf=-1: [s0:0.0.0.0:42611, s1:0.0.0.0:39575, s2:0.0.0.0:34382], old=null RUNNING
  s2:  RUNNING CANDIDATE s2@group-09A0EF6A68F4:t10, leader=null, voted=s2, raftlog=s2@group-09A0EF6A68F4-SegmentedRaftLog:OPENED:c-1,f-1,i0, conf=-1: [s0:0.0.0.0:42611, s1:0.0.0.0:39575, s2:0.0.0.0:34382], old=null RUNNING, sleep 450ms and then retry.
java.lang.IllegalStateException: No leader yet : printing ALL groups
  s0:  RUNNING CANDIDATE s0@group-09A0EF6A68F4:t10, leader=null, voted=s0, raftlog=s0@group-09A0EF6A68F4-SegmentedRaftLog:OPENED:c-1,f-1,i0, conf=-1: [s0:0.0.0.0:42611, s1:0.0.0.0:39575, s2:0.0.0.0:34382], old=null RUNNING
  s1:  RUNNING CANDIDATE s1@group-09A0EF6A68F4:t10, leader=null, voted=s1, raftlog=s1@group-09A0EF6A68F4-SegmentedRaftLog:OPENED:c-1,f-1,i0, conf=-1: [s0:0.0.0.0:42611, s1:0.0.0.0:39575, s2:0.0.0.0:34382], old=null RUNNING
  s2:  RUNNING CANDIDATE s2@group-09A0EF6A68F4:t10, leader=null, voted=s2, raftlog=s2@group-09A0EF6A68F4-SegmentedRaftLog:OPENED:c-1,f-1,i0, conf=-1: [s0:0.0.0.0:42611, s1:0.0.0.0:39575, s2:0.0.0.0:34382], old=null RUNNING
	at org.apache.ratis.MiniRaftCluster.newIllegalStateExceptionForNoLeaders(MiniRaftCluster.java:506)
	at org.apache.ratis.RaftTestUtil.lambda$waitForLeader$1(RaftTestUtil.java:90)
	at org.apache.ratis.MiniRaftCluster.getLeader(MiniRaftCluster.java:539)
	at org.apache.ratis.MiniRaftCluster.getLeader(MiniRaftCluster.java:532)
	at org.apache.ratis.RaftTestUtil.lambda$waitForLeader$3(RaftTestUtil.java:98)
	at org.apache.ratis.util.JavaUtils.attempt(JavaUtils.java:152)
	at org.apache.ratis.RaftTestUtil.waitForLeader(RaftTestUtil.java:97)
	at org.apache.ratis.RaftTestUtil.waitForLeader(RaftTestUtil.java:77)
	at org.apache.ratis.RaftTestUtil.waitForLeader(RaftTestUtil.java:72)
	at org.apache.ratis.server.impl.RaftStateMachineExceptionTests.runTestRetryOnExceptionDuringReplication(RaftStateMachineExceptionTests.java:149)
	at org.apache.ratis.MiniRaftCluster$Factory$Get.runWithNewCluster(MiniRaftCluster.java:125)
	at org.apache.ratis.MiniRaftCluster$Factory$Get.runWithNewCluster(MiniRaftCluster.java:113)
	at org.apache.ratis.server.impl.RaftStateMachineExceptionTests.testRetryOnExceptionDuringReplication(RaftStateMachineExceptionTests.java:145)
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.lang.reflect.Method.invoke(Method.java:498)
	at org.junit.runners.model.FrameworkMethod$1.runReflectiveCall(FrameworkMethod.java:50)
	at org.junit.internal.runners.model.ReflectiveCallable.run(ReflectiveCallable.java:12)
	at org.junit.runners.model.FrameworkMethod.invokeExplosively(FrameworkMethod.java:47)
	at org.junit.internal.runners.statements.InvokeMethod.evaluate(InvokeMethod.java:17)
	at org.junit.internal.runners.statements.RunAfters.evaluate(RunAfters.java:27)
	at org.junit.internal.runners.statements.FailOnTimeout$CallableStatement.call(FailOnTimeout.java:298)
	at org.junit.internal.runners.statements.FailOnTimeout$CallableStatement.call(FailOnTimeout.java:292)
	at java.util.concurrent.FutureTask.run(FutureTask.java:266)
	at java.lang.Thread.run(Thread.java:748)
2019-09-24 16:57:15,639 INFO  impl.LeaderElection (LeaderElection.java:askForVotes(178)) - s1@group-09A0EF6A68F4-LeaderElection26: begin an election at term 10 for -1: [s0:0.0.0.0:42611, s1:0.0.0.0:39575, s2:0.0.0.0:34382], old=null
2019-09-24 16:57:15,639 INFO  impl.LeaderElection (LeaderElection.java:askForVotes(178)) - s2@group-09A0EF6A68F4-LeaderElection25: begin an election at term 10 for -1: [s0:0.0.0.0:42611, s1:0.0.0.0:39575, s2:0.0.0.0:34382], old=null
2019-09-24 16:57:15,639 INFO  impl.LeaderElection (LeaderElection.java:askForVotes(178)) - s0@group-09A0EF6A68F4-LeaderElection27: begin an election at term 10 for -1: [s0:0.0.0.0:42611, s1:0.0.0.0:39575, s2:0.0.0.0:34382], old=null
2019-09-24 16:57:15,641 DEBUG impl.RaftServerImpl (RaftServerImpl.java:requestVote(743)) - s0@group-09A0EF6A68F4: receive requestVote(s1, group-09A0EF6A68F4, 10, (t:0, i:0))
2019-09-24 16:57:15,642 DEBUG impl.RaftServerImpl (RaftServerImpl.java:requestVote(743)) - s0@group-09A0EF6A68F4: receive requestVote(s2, group-09A0EF6A68F4, 10, (t:0, i:0))
2019-09-24 16:57:15,641 DEBUG impl.RaftServerImpl (RaftServerImpl.java:requestVote(743)) - s1@group-09A0EF6A68F4: receive requestVote(s0, group-09A0EF6A68F4, 10, (t:0, i:0))
2019-09-24 16:57:15,642 DEBUG impl.RaftServerImpl (RaftServerImpl.java:requestVote(743)) - s1@group-09A0EF6A68F4: receive requestVote(s2, group-09A0EF6A68F4, 10, (t:0, i:0))
2019-09-24 16:57:15,642 DEBUG impl.RaftServerImpl (RaftServerImpl.java:requestVote(743)) - s2@group-09A0EF6A68F4: receive requestVote(s0, group-09A0EF6A68F4, 10, (t:0, i:0))
2019-09-24 16:57:15,642 DEBUG impl.RaftServerImpl (RaftServerImpl.java:requestVote(775)) - s0@group-09A0EF6A68F4 replies to vote request: s1<-s0#0:FAIL-t10. Peer's state: s0@group-09A0EF6A68F4:t10, leader=null, voted=s0, raftlog=s0@group-09A0EF6A68F4-SegmentedRaftLog:OPENED:c-1,f-1,i0, conf=-1: [s0:0.0.0.0:42611, s1:0.0.0.0:39575, s2:0.0.0.0:34382], old=null
2019-09-24 16:57:15,642 DEBUG impl.RaftServerImpl (RaftServerImpl.java:requestVote(743)) - s2@group-09A0EF6A68F4: receive requestVote(s1, group-09A0EF6A68F4, 10, (t:0, i:0))
2019-09-24 16:57:15,643 DEBUG impl.RaftServerImpl (RaftServerImpl.java:requestVote(775)) - s0@group-09A0EF6A68F4 replies to vote request: s2<-s0#0:FAIL-t10. Peer's state: s0@group-09A0EF6A68F4:t10, leader=null, voted=s0, raftlog=s0@group-09A0EF6A68F4-SegmentedRaftLog:OPENED:c-1,f-1,i0, conf=-1: [s0:0.0.0.0:42611, s1:0.0.0.0:39575, s2:0.0.0.0:34382], old=null
2019-09-24 16:57:15,643 DEBUG impl.RaftServerImpl (RaftServerImpl.java:requestVote(775)) - s2@group-09A0EF6A68F4 replies to vote request: s0<-s2#0:FAIL-t10. Peer's state: s2@group-09A0EF6A68F4:t10, leader=null, voted=s2, raftlog=s2@group-09A0EF6A68F4-SegmentedRaftLog:OPENED:c-1,f-1,i0, conf=-1: [s0:0.0.0.0:42611, s1:0.0.0.0:39575, s2:0.0.0.0:34382], old=null
2019-09-24 16:57:15,642 DEBUG impl.RaftServerImpl (RaftServerImpl.java:requestVote(775)) - s1@group-09A0EF6A68F4 replies to vote request: s0<-s1#0:FAIL-t10. Peer's state: s1@group-09A0EF6A68F4:t10, leader=null, voted=s1, raftlog=s1@group-09A0EF6A68F4-SegmentedRaftLog:OPENED:c-1,f-1,i0, conf=-1: [s0:0.0.0.0:42611, s1:0.0.0.0:39575, s2:0.0.0.0:34382], old=null
2019-09-24 16:57:15,643 DEBUG impl.RaftServerImpl (RaftServerImpl.java:requestVote(775)) - s2@group-09A0EF6A68F4 replies to vote request: s1<-s2#0:FAIL-t10. Peer's state: s2@group-09A0EF6A68F4:t10, leader=null, voted=s2, raftlog=s2@group-09A0EF6A68F4-SegmentedRaftLog:OPENED:c-1,f-1,i0, conf=-1: [s0:0.0.0.0:42611, s1:0.0.0.0:39575, s2:0.0.0.0:34382], old=null
2019-09-24 16:57:15,644 DEBUG impl.RaftServerImpl (RaftServerImpl.java:requestVote(775)) - s1@group-09A0EF6A68F4 replies to vote request: s2<-s1#0:FAIL-t10. Peer's state: s1@group-09A0EF6A68F4:t10, leader=null, voted=s1, raftlog=s1@group-09A0EF6A68F4-SegmentedRaftLog:OPENED:c-1,f-1,i0, conf=-1: [s0:0.0.0.0:42611, s1:0.0.0.0:39575, s2:0.0.0.0:34382], old=null
2019-09-24 16:57:15,644 INFO  impl.LeaderElection (LeaderElection.java:logAndReturn(56)) - s0@group-09A0EF6A68F4-LeaderElection27: Election REJECTED; received 2 response(s) [s0<-s1#0:FAIL-t10, s0<-s2#0:FAIL-t10] and 0 exception(s); s0@group-09A0EF6A68F4:t10, leader=null, voted=s0, raftlog=s0@group-09A0EF6A68F4-SegmentedRaftLog:OPENED:c-1,f-1,i0, conf=-1: [s0:0.0.0.0:42611, s1:0.0.0.0:39575, s2:0.0.0.0:34382], old=null
2019-09-24 16:57:15,644 INFO  impl.LeaderElection (LeaderElection.java:logAndReturn(56)) - s1@group-09A0EF6A68F4-LeaderElection26: Election REJECTED; received 2 response(s) [s1<-s0#0:FAIL-t10, s1<-s2#0:FAIL-t10] and 0 exception(s); s1@group-09A0EF6A68F4:t10, leader=null, voted=s1, raftlog=s1@group-09A0EF6A68F4-SegmentedRaftLog:OPENED:c-1,f-1,i0, conf=-1: [s0:0.0.0.0:42611, s1:0.0.0.0:39575, s2:0.0.0.0:34382], old=null
2019-09-24 16:57:15,644 INFO  impl.LeaderElection (LeaderElection.java:logAndReturn(56)) - s2@group-09A0EF6A68F4-LeaderElection25: Election REJECTED; received 2 response(s) [s2<-s0#0:FAIL-t10, s2<-s1#0:FAIL-t10] and 0 exception(s); s2@group-09A0EF6A68F4:t10, leader=null, voted=s2, raftlog=s2@group-09A0EF6A68F4-SegmentedRaftLog:OPENED:c-1,f-1,i0, conf=-1: [s0:0.0.0.0:42611, s1:0.0.0.0:39575, s2:0.0.0.0:34382], old=null
2019-09-24 16:57:15,644 INFO  impl.RaftServerImpl (RaftServerImpl.java:setRole(170)) - s0@group-09A0EF6A68F4: changes role from CANDIDATE to FOLLOWER at term 10 for DISCOVERED_A_NEW_TERM
2019-09-24 16:57:15,645 INFO  impl.RaftServerImpl (RaftServerImpl.java:setRole(170)) - s2@group-09A0EF6A68F4: changes role from CANDIDATE to FOLLOWER at term 10 for DISCOVERED_A_NEW_TERM
2019-09-24 16:57:15,645 INFO  impl.RaftServerImpl (RaftServerImpl.java:setRole(170)) - s1@group-09A0EF6A68F4: changes role from CANDIDATE to FOLLOWER at term 10 for DISCOVERED_A_NEW_TERM
2019-09-24 16:57:15,646 INFO  impl.RoleInfo (RoleInfo.java:shutdownLeaderElection(134)) - s2: shutdown LeaderElection
2019-09-24 16:57:15,646 INFO  impl.RoleInfo (RoleInfo.java:shutdownLeaderElection(134)) - s0: shutdown LeaderElection
2019-09-24 16:57:15,646 INFO  impl.RoleInfo (RoleInfo.java:updateAndGet(143)) - s2: start FollowerState
2019-09-24 16:57:15,646 INFO  impl.RoleInfo (RoleInfo.java:shutdownLeaderElection(134)) - s1: shutdown LeaderElection
2019-09-24 16:57:15,646 INFO  impl.RoleInfo (RoleInfo.java:updateAndGet(143)) - s0: start FollowerState
2019-09-24 16:57:15,647 INFO  impl.RoleInfo (RoleInfo.java:updateAndGet(143)) - s1: start FollowerState
2019-09-24 16:57:15,849 INFO  impl.FollowerState (FollowerState.java:run(108)) - s1@group-09A0EF6A68F4-FollowerState: change to CANDIDATE, lastRpcTime:201ms, electionTimeout:201ms
2019-09-24 16:57:15,849 INFO  impl.RoleInfo (RoleInfo.java:shutdownFollowerState(121)) - s1: shutdown FollowerState
2019-09-24 16:57:15,849 INFO  impl.RaftServerImpl (RaftServerImpl.java:setRole(170)) - s1@group-09A0EF6A68F4: changes role from  FOLLOWER to CANDIDATE at term 10 for changeToCandidate
2019-09-24 16:57:15,849 INFO  impl.RoleInfo (RoleInfo.java:updateAndGet(143)) - s1: start LeaderElection
2019-09-24 16:57:15,916 INFO  impl.FollowerState (FollowerState.java:run(108)) - s0@group-09A0EF6A68F4-FollowerState: change to CANDIDATE, lastRpcTime:269ms, electionTimeout:269ms
2019-09-24 16:57:15,917 INFO  impl.RoleInfo (RoleInfo.java:shutdownFollowerState(121)) - s0: shutdown FollowerState
2019-09-24 16:57:15,917 INFO  impl.RaftServerImpl (RaftServerImpl.java:setRole(170)) - s0@group-09A0EF6A68F4: changes role from  FOLLOWER to CANDIDATE at term 10 for changeToCandidate
2019-09-24 16:57:15,917 INFO  impl.RoleInfo (RoleInfo.java:updateAndGet(143)) - s0: start LeaderElection
2019-09-24 16:57:15,931 INFO  impl.FollowerState (FollowerState.java:run(108)) - s2@group-09A0EF6A68F4-FollowerState: change to CANDIDATE, lastRpcTime:284ms, electionTimeout:284ms
2019-09-24 16:57:15,931 INFO  impl.RoleInfo (RoleInfo.java:shutdownFollowerState(121)) - s2: shutdown FollowerState
2019-09-24 16:57:15,931 INFO  impl.RaftServerImpl (RaftServerImpl.java:setRole(170)) - s2@group-09A0EF6A68F4: changes role from  FOLLOWER to CANDIDATE at term 10 for changeToCandidate
2019-09-24 16:57:15,932 INFO  impl.RoleInfo (RoleInfo.java:updateAndGet(143)) - s2: start LeaderElection
2019-09-24 16:57:16,002 WARN  ratis.RaftTestUtil (JavaUtils.java:attempt(158)) - FAILED "waitForLeader-null-(expectLeader? true)", attempt #14/100: java.lang.IllegalStateException: No leader yet : printing ALL groups
  s0:  RUNNING CANDIDATE s0@group-09A0EF6A68F4:t11, leader=null, voted=s0, raftlog=s0@group-09A0EF6A68F4-SegmentedRaftLog:OPENED:c-1,f-1,i0, conf=-1: [s0:0.0.0.0:42611, s1:0.0.0.0:39575, s2:0.0.0.0:34382], old=null RUNNING
  s1:  RUNNING CANDIDATE s1@group-09A0EF6A68F4:t11, leader=null, voted=s1, raftlog=s1@group-09A0EF6A68F4-SegmentedRaftLog:OPENED:c-1,f-1,i0, conf=-1: [s0:0.0.0.0:42611, s1:0.0.0.0:39575, s2:0.0.0.0:34382], old=null RUNNING
  s2:  RUNNING CANDIDATE s2@group-09A0EF6A68F4:t11, leader=null, voted=s2, raftlog=s2@group-09A0EF6A68F4-SegmentedRaftLog:OPENED:c-1,f-1,i0, conf=-1: [s0:0.0.0.0:42611, s1:0.0.0.0:39575, s2:0.0.0.0:34382], old=null RUNNING, sleep 450ms and then retry.
java.lang.IllegalStateException: No leader yet : printing ALL groups
  s0:  RUNNING CANDIDATE s0@group-09A0EF6A68F4:t11, leader=null, voted=s0, raftlog=s0@group-09A0EF6A68F4-SegmentedRaftLog:OPENED:c-1,f-1,i0, conf=-1: [s0:0.0.0.0:42611, s1:0.0.0.0:39575, s2:0.0.0.0:34382], old=null RUNNING
  s1:  RUNNING CANDIDATE s1@group-09A0EF6A68F4:t11, leader=null, voted=s1, raftlog=s1@group-09A0EF6A68F4-SegmentedRaftLog:OPENED:c-1,f-1,i0, conf=-1: [s0:0.0.0.0:42611, s1:0.0.0.0:39575, s2:0.0.0.0:34382], old=null RUNNING
  s2:  RUNNING CANDIDATE s2@group-09A0EF6A68F4:t11, leader=null, voted=s2, raftlog=s2@group-09A0EF6A68F4-SegmentedRaftLog:OPENED:c-1,f-1,i0, conf=-1: [s0:0.0.0.0:42611, s1:0.0.0.0:39575, s2:0.0.0.0:34382], old=null RUNNING
	at org.apache.ratis.MiniRaftCluster.newIllegalStateExceptionForNoLeaders(MiniRaftCluster.java:506)
	at org.apache.ratis.RaftTestUtil.lambda$waitForLeader$1(RaftTestUtil.java:90)
	at org.apache.ratis.MiniRaftCluster.getLeader(MiniRaftCluster.java:539)
	at org.apache.ratis.MiniRaftCluster.getLeader(MiniRaftCluster.java:532)
	at org.apache.ratis.RaftTestUtil.lambda$waitForLeader$3(RaftTestUtil.java:98)
	at org.apache.ratis.util.JavaUtils.attempt(JavaUtils.java:152)
	at org.apache.ratis.RaftTestUtil.waitForLeader(RaftTestUtil.java:97)
	at org.apache.ratis.RaftTestUtil.waitForLeader(RaftTestUtil.java:77)
	at org.apache.ratis.RaftTestUtil.waitForLeader(RaftTestUtil.java:72)
	at org.apache.ratis.server.impl.RaftStateMachineExceptionTests.runTestRetryOnExceptionDuringReplication(RaftStateMachineExceptionTests.java:149)
	at org.apache.ratis.MiniRaftCluster$Factory$Get.runWithNewCluster(MiniRaftCluster.java:125)
	at org.apache.ratis.MiniRaftCluster$Factory$Get.runWithNewCluster(MiniRaftCluster.java:113)
	at org.apache.ratis.server.impl.RaftStateMachineExceptionTests.testRetryOnExceptionDuringReplication(RaftStateMachineExceptionTests.java:145)
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.lang.reflect.Method.invoke(Method.java:498)
	at org.junit.runners.model.FrameworkMethod$1.runReflectiveCall(FrameworkMethod.java:50)
	at org.junit.internal.runners.model.ReflectiveCallable.run(ReflectiveCallable.java:12)
	at org.junit.runners.model.FrameworkMethod.invokeExplosively(FrameworkMethod.java:47)
	at org.junit.internal.runners.statements.InvokeMethod.evaluate(InvokeMethod.java:17)
	at org.junit.internal.runners.statements.RunAfters.evaluate(RunAfters.java:27)
	at org.junit.internal.runners.statements.FailOnTimeout$CallableStatement.call(FailOnTimeout.java:298)
	at org.junit.internal.runners.statements.FailOnTimeout$CallableStatement.call(FailOnTimeout.java:292)
	at java.util.concurrent.FutureTask.run(FutureTask.java:266)
	at java.lang.Thread.run(Thread.java:748)
2019-09-24 16:57:16,258 INFO  impl.LeaderElection (LeaderElection.java:askForVotes(178)) - s1@group-09A0EF6A68F4-LeaderElection28: begin an election at term 11 for -1: [s0:0.0.0.0:42611, s1:0.0.0.0:39575, s2:0.0.0.0:34382], old=null
2019-09-24 16:57:16,258 INFO  impl.LeaderElection (LeaderElection.java:askForVotes(178)) - s0@group-09A0EF6A68F4-LeaderElection29: begin an election at term 11 for -1: [s0:0.0.0.0:42611, s1:0.0.0.0:39575, s2:0.0.0.0:34382], old=null
2019-09-24 16:57:16,258 INFO  impl.LeaderElection (LeaderElection.java:askForVotes(178)) - s2@group-09A0EF6A68F4-LeaderElection30: begin an election at term 11 for -1: [s0:0.0.0.0:42611, s1:0.0.0.0:39575, s2:0.0.0.0:34382], old=null
2019-09-24 16:57:16,260 DEBUG impl.RaftServerImpl (RaftServerImpl.java:requestVote(743)) - s0@group-09A0EF6A68F4: receive requestVote(s1, group-09A0EF6A68F4, 11, (t:0, i:0))
2019-09-24 16:57:16,260 DEBUG impl.RaftServerImpl (RaftServerImpl.java:requestVote(743)) - s2@group-09A0EF6A68F4: receive requestVote(s1, group-09A0EF6A68F4, 11, (t:0, i:0))
2019-09-24 16:57:16,260 DEBUG impl.RaftServerImpl (RaftServerImpl.java:requestVote(775)) - s0@group-09A0EF6A68F4 replies to vote request: s1<-s0#0:FAIL-t11. Peer's state: s0@group-09A0EF6A68F4:t11, leader=null, voted=s0, raftlog=s0@group-09A0EF6A68F4-SegmentedRaftLog:OPENED:c-1,f-1,i0, conf=-1: [s0:0.0.0.0:42611, s1:0.0.0.0:39575, s2:0.0.0.0:34382], old=null
2019-09-24 16:57:16,260 DEBUG impl.RaftServerImpl (RaftServerImpl.java:requestVote(775)) - s2@group-09A0EF6A68F4 replies to vote request: s1<-s2#0:FAIL-t11. Peer's state: s2@group-09A0EF6A68F4:t11, leader=null, voted=s2, raftlog=s2@group-09A0EF6A68F4-SegmentedRaftLog:OPENED:c-1,f-1,i0, conf=-1: [s0:0.0.0.0:42611, s1:0.0.0.0:39575, s2:0.0.0.0:34382], old=null
2019-09-24 16:57:16,260 DEBUG impl.RaftServerImpl (RaftServerImpl.java:requestVote(743)) - s1@group-09A0EF6A68F4: receive requestVote(s0, group-09A0EF6A68F4, 11, (t:0, i:0))
2019-09-24 16:57:16,260 DEBUG impl.RaftServerImpl (RaftServerImpl.java:requestVote(743)) - s2@group-09A0EF6A68F4: receive requestVote(s0, group-09A0EF6A68F4, 11, (t:0, i:0))
2019-09-24 16:57:16,260 DEBUG impl.RaftServerImpl (RaftServerImpl.java:requestVote(743)) - s0@group-09A0EF6A68F4: receive requestVote(s2, group-09A0EF6A68F4, 11, (t:0, i:0))
2019-09-24 16:57:16,261 DEBUG impl.RaftServerImpl (RaftServerImpl.java:requestVote(775)) - s2@group-09A0EF6A68F4 replies to vote request: s0<-s2#0:FAIL-t11. Peer's state: s2@group-09A0EF6A68F4:t11, leader=null, voted=s2, raftlog=s2@group-09A0EF6A68F4-SegmentedRaftLog:OPENED:c-1,f-1,i0, conf=-1: [s0:0.0.0.0:42611, s1:0.0.0.0:39575, s2:0.0.0.0:34382], old=null
2019-09-24 16:57:16,261 INFO  impl.LeaderElection (LeaderElection.java:logAndReturn(56)) - s1@group-09A0EF6A68F4-LeaderElection28: Election REJECTED; received 2 response(s) [s1<-s0#0:FAIL-t11, s1<-s2#0:FAIL-t11] and 0 exception(s); s1@group-09A0EF6A68F4:t11, leader=null, voted=s1, raftlog=s1@group-09A0EF6A68F4-SegmentedRaftLog:OPENED:c-1,f-1,i0, conf=-1: [s0:0.0.0.0:42611, s1:0.0.0.0:39575, s2:0.0.0.0:34382], old=null
2019-09-24 16:57:16,261 DEBUG impl.RaftServerImpl (RaftServerImpl.java:requestVote(775)) - s1@group-09A0EF6A68F4 replies to vote request: s0<-s1#0:FAIL-t11. Peer's state: s1@group-09A0EF6A68F4:t11, leader=null, voted=s1, raftlog=s1@group-09A0EF6A68F4-SegmentedRaftLog:OPENED:c-1,f-1,i0, conf=-1: [s0:0.0.0.0:42611, s1:0.0.0.0:39575, s2:0.0.0.0:34382], old=null
2019-09-24 16:57:16,261 DEBUG impl.RaftServerImpl (RaftServerImpl.java:requestVote(743)) - s1@group-09A0EF6A68F4: receive requestVote(s2, group-09A0EF6A68F4, 11, (t:0, i:0))
2019-09-24 16:57:16,262 INFO  impl.RaftServerImpl (RaftServerImpl.java:setRole(170)) - s1@group-09A0EF6A68F4: changes role from CANDIDATE to FOLLOWER at term 11 for DISCOVERED_A_NEW_TERM
2019-09-24 16:57:16,261 DEBUG impl.RaftServerImpl (RaftServerImpl.java:requestVote(775)) - s0@group-09A0EF6A68F4 replies to vote request: s2<-s0#0:FAIL-t11. Peer's state: s0@group-09A0EF6A68F4:t11, leader=null, voted=s0, raftlog=s0@group-09A0EF6A68F4-SegmentedRaftLog:OPENED:c-1,f-1,i0, conf=-1: [s0:0.0.0.0:42611, s1:0.0.0.0:39575, s2:0.0.0.0:34382], old=null
2019-09-24 16:57:16,262 INFO  impl.LeaderElection (LeaderElection.java:logAndReturn(56)) - s0@group-09A0EF6A68F4-LeaderElection29: Election REJECTED; received 2 response(s) [s0<-s1#0:FAIL-t11, s0<-s2#0:FAIL-t11] and 0 exception(s); s0@group-09A0EF6A68F4:t11, leader=null, voted=s0, raftlog=s0@group-09A0EF6A68F4-SegmentedRaftLog:OPENED:c-1,f-1,i0, conf=-1: [s0:0.0.0.0:42611, s1:0.0.0.0:39575, s2:0.0.0.0:34382], old=null
2019-09-24 16:57:16,262 INFO  impl.RoleInfo (RoleInfo.java:shutdownLeaderElection(134)) - s1: shutdown LeaderElection
2019-09-24 16:57:16,263 INFO  impl.RaftServerImpl (RaftServerImpl.java:setRole(170)) - s0@group-09A0EF6A68F4: changes role from CANDIDATE to FOLLOWER at term 11 for DISCOVERED_A_NEW_TERM
2019-09-24 16:57:16,263 INFO  impl.RoleInfo (RoleInfo.java:updateAndGet(143)) - s1: start FollowerState
2019-09-24 16:57:16,263 INFO  impl.RoleInfo (RoleInfo.java:shutdownLeaderElection(134)) - s0: shutdown LeaderElection
2019-09-24 16:57:16,264 INFO  impl.RoleInfo (RoleInfo.java:updateAndGet(143)) - s0: start FollowerState
2019-09-24 16:57:16,264 DEBUG impl.RaftServerImpl (RaftServerImpl.java:requestVote(775)) - s1@group-09A0EF6A68F4 replies to vote request: s2<-s1#0:FAIL-t11. Peer's state: s1@group-09A0EF6A68F4:t11, leader=null, voted=s1, raftlog=s1@group-09A0EF6A68F4-SegmentedRaftLog:OPENED:c-1,f-1,i0, conf=-1: [s0:0.0.0.0:42611, s1:0.0.0.0:39575, s2:0.0.0.0:34382], old=null
2019-09-24 16:57:16,265 INFO  impl.LeaderElection (LeaderElection.java:logAndReturn(56)) - s2@group-09A0EF6A68F4-LeaderElection30: Election REJECTED; received 2 response(s) [s2<-s0#0:FAIL-t11, s2<-s1#0:FAIL-t11] and 0 exception(s); s2@group-09A0EF6A68F4:t11, leader=null, voted=s2, raftlog=s2@group-09A0EF6A68F4-SegmentedRaftLog:OPENED:c-1,f-1,i0, conf=-1: [s0:0.0.0.0:42611, s1:0.0.0.0:39575, s2:0.0.0.0:34382], old=null
2019-09-24 16:57:16,265 INFO  impl.RaftServerImpl (RaftServerImpl.java:setRole(170)) - s2@group-09A0EF6A68F4: changes role from CANDIDATE to FOLLOWER at term 11 for DISCOVERED_A_NEW_TERM
2019-09-24 16:57:16,265 INFO  impl.RoleInfo (RoleInfo.java:shutdownLeaderElection(134)) - s2: shutdown LeaderElection
2019-09-24 16:57:16,265 INFO  impl.RoleInfo (RoleInfo.java:updateAndGet(143)) - s2: start FollowerState
2019-09-24 16:57:16,427 INFO  impl.FollowerState (FollowerState.java:run(108)) - s1@group-09A0EF6A68F4-FollowerState: change to CANDIDATE, lastRpcTime:163ms, electionTimeout:163ms
2019-09-24 16:57:16,427 INFO  impl.RoleInfo (RoleInfo.java:shutdownFollowerState(121)) - s1: shutdown FollowerState
2019-09-24 16:57:16,427 INFO  impl.RaftServerImpl (RaftServerImpl.java:setRole(170)) - s1@group-09A0EF6A68F4: changes role from  FOLLOWER to CANDIDATE at term 11 for changeToCandidate
2019-09-24 16:57:16,428 INFO  impl.RoleInfo (RoleInfo.java:updateAndGet(143)) - s1: start LeaderElection
2019-09-24 16:57:16,454 WARN  ratis.RaftTestUtil (JavaUtils.java:attempt(158)) - FAILED "waitForLeader-null-(expectLeader? true)", attempt #15/100: java.lang.IllegalStateException: No leader yet : printing ALL groups
  s0:  RUNNING  FOLLOWER s0@group-09A0EF6A68F4:t11, leader=null, voted=s0, raftlog=s0@group-09A0EF6A68F4-SegmentedRaftLog:OPENED:c-1,f-1,i0, conf=-1: [s0:0.0.0.0:42611, s1:0.0.0.0:39575, s2:0.0.0.0:34382], old=null RUNNING
  s1:  RUNNING CANDIDATE s1@group-09A0EF6A68F4:t12, leader=null, voted=s1, raftlog=s1@group-09A0EF6A68F4-SegmentedRaftLog:OPENED:c-1,f-1,i0, conf=-1: [s0:0.0.0.0:42611, s1:0.0.0.0:39575, s2:0.0.0.0:34382], old=null RUNNING
  s2:  RUNNING  FOLLOWER s2@group-09A0EF6A68F4:t11, leader=null, voted=s2, raftlog=s2@group-09A0EF6A68F4-SegmentedRaftLog:OPENED:c-1,f-1,i0, conf=-1: [s0:0.0.0.0:42611, s1:0.0.0.0:39575, s2:0.0.0.0:34382], old=null RUNNING, sleep 450ms and then retry.
java.lang.IllegalStateException: No leader yet : printing ALL groups
  s0:  RUNNING  FOLLOWER s0@group-09A0EF6A68F4:t11, leader=null, voted=s0, raftlog=s0@group-09A0EF6A68F4-SegmentedRaftLog:OPENED:c-1,f-1,i0, conf=-1: [s0:0.0.0.0:42611, s1:0.0.0.0:39575, s2:0.0.0.0:34382], old=null RUNNING
  s1:  RUNNING CANDIDATE s1@group-09A0EF6A68F4:t12, leader=null, voted=s1, raftlog=s1@group-09A0EF6A68F4-SegmentedRaftLog:OPENED:c-1,f-1,i0, conf=-1: [s0:0.0.0.0:42611, s1:0.0.0.0:39575, s2:0.0.0.0:34382], old=null RUNNING
  s2:  RUNNING  FOLLOWER s2@group-09A0EF6A68F4:t11, leader=null, voted=s2, raftlog=s2@group-09A0EF6A68F4-SegmentedRaftLog:OPENED:c-1,f-1,i0, conf=-1: [s0:0.0.0.0:42611, s1:0.0.0.0:39575, s2:0.0.0.0:34382], old=null RUNNING
	at org.apache.ratis.MiniRaftCluster.newIllegalStateExceptionForNoLeaders(MiniRaftCluster.java:506)
	at org.apache.ratis.RaftTestUtil.lambda$waitForLeader$1(RaftTestUtil.java:90)
	at org.apache.ratis.MiniRaftCluster.getLeader(MiniRaftCluster.java:539)
	at org.apache.ratis.MiniRaftCluster.getLeader(MiniRaftCluster.java:532)
	at org.apache.ratis.RaftTestUtil.lambda$waitForLeader$3(RaftTestUtil.java:98)
	at org.apache.ratis.util.JavaUtils.attempt(JavaUtils.java:152)
	at org.apache.ratis.RaftTestUtil.waitForLeader(RaftTestUtil.java:97)
	at org.apache.ratis.RaftTestUtil.waitForLeader(RaftTestUtil.java:77)
	at org.apache.ratis.RaftTestUtil.waitForLeader(RaftTestUtil.java:72)
	at org.apache.ratis.server.impl.RaftStateMachineExceptionTests.runTestRetryOnExceptionDuringReplication(RaftStateMachineExceptionTests.java:149)
	at org.apache.ratis.MiniRaftCluster$Factory$Get.runWithNewCluster(MiniRaftCluster.java:125)
	at org.apache.ratis.MiniRaftCluster$Factory$Get.runWithNewCluster(MiniRaftCluster.java:113)
	at org.apache.ratis.server.impl.RaftStateMachineExceptionTests.testRetryOnExceptionDuringReplication(RaftStateMachineExceptionTests.java:145)
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.lang.reflect.Method.invoke(Method.java:498)
	at org.junit.runners.model.FrameworkMethod$1.runReflectiveCall(FrameworkMethod.java:50)
	at org.junit.internal.runners.model.ReflectiveCallable.run(ReflectiveCallable.java:12)
	at org.junit.runners.model.FrameworkMethod.invokeExplosively(FrameworkMethod.java:47)
	at org.junit.internal.runners.statements.InvokeMethod.evaluate(InvokeMethod.java:17)
	at org.junit.internal.runners.statements.RunAfters.evaluate(RunAfters.java:27)
	at org.junit.internal.runners.statements.FailOnTimeout$CallableStatement.call(FailOnTimeout.java:298)
	at org.junit.internal.runners.statements.FailOnTimeout$CallableStatement.call(FailOnTimeout.java:292)
	at java.util.concurrent.FutureTask.run(FutureTask.java:266)
	at java.lang.Thread.run(Thread.java:748)
2019-09-24 16:57:16,493 INFO  impl.FollowerState (FollowerState.java:run(108)) - s0@group-09A0EF6A68F4-FollowerState: change to CANDIDATE, lastRpcTime:228ms, electionTimeout:228ms
2019-09-24 16:57:16,493 INFO  impl.RoleInfo (RoleInfo.java:shutdownFollowerState(121)) - s0: shutdown FollowerState
2019-09-24 16:57:16,493 INFO  impl.RaftServerImpl (RaftServerImpl.java:setRole(170)) - s0@group-09A0EF6A68F4: changes role from  FOLLOWER to CANDIDATE at term 11 for changeToCandidate
2019-09-24 16:57:16,493 INFO  impl.RoleInfo (RoleInfo.java:updateAndGet(143)) - s0: start LeaderElection
2019-09-24 16:57:16,524 INFO  impl.FollowerState (FollowerState.java:run(108)) - s2@group-09A0EF6A68F4-FollowerState: change to CANDIDATE, lastRpcTime:258ms, electionTimeout:258ms
2019-09-24 16:57:16,524 INFO  impl.RoleInfo (RoleInfo.java:shutdownFollowerState(121)) - s2: shutdown FollowerState
2019-09-24 16:57:16,525 INFO  impl.RaftServerImpl (RaftServerImpl.java:setRole(170)) - s2@group-09A0EF6A68F4: changes role from  FOLLOWER to CANDIDATE at term 11 for changeToCandidate
2019-09-24 16:57:16,525 INFO  impl.RoleInfo (RoleInfo.java:updateAndGet(143)) - s2: start LeaderElection
2019-09-24 16:57:16,712 INFO  impl.LeaderElection (LeaderElection.java:askForVotes(178)) - s0@group-09A0EF6A68F4-LeaderElection32: begin an election at term 12 for -1: [s0:0.0.0.0:42611, s1:0.0.0.0:39575, s2:0.0.0.0:34382], old=null
2019-09-24 16:57:16,712 INFO  impl.LeaderElection (LeaderElection.java:askForVotes(178)) - s2@group-09A0EF6A68F4-LeaderElection33: begin an election at term 12 for -1: [s0:0.0.0.0:42611, s1:0.0.0.0:39575, s2:0.0.0.0:34382], old=null
2019-09-24 16:57:16,712 INFO  impl.LeaderElection (LeaderElection.java:askForVotes(178)) - s1@group-09A0EF6A68F4-LeaderElection31: begin an election at term 12 for -1: [s0:0.0.0.0:42611, s1:0.0.0.0:39575, s2:0.0.0.0:34382], old=null
2019-09-24 16:57:16,714 DEBUG impl.RaftServerImpl (RaftServerImpl.java:requestVote(743)) - s1@group-09A0EF6A68F4: receive requestVote(s0, group-09A0EF6A68F4, 12, (t:0, i:0))
2019-09-24 16:57:16,714 DEBUG impl.RaftServerImpl (RaftServerImpl.java:requestVote(743)) - s0@group-09A0EF6A68F4: receive requestVote(s2, group-09A0EF6A68F4, 12, (t:0, i:0))
2019-09-24 16:57:16,714 DEBUG impl.RaftServerImpl (RaftServerImpl.java:requestVote(775)) - s1@group-09A0EF6A68F4 replies to vote request: s0<-s1#0:FAIL-t12. Peer's state: s1@group-09A0EF6A68F4:t12, leader=null, voted=s1, raftlog=s1@group-09A0EF6A68F4-SegmentedRaftLog:OPENED:c-1,f-1,i0, conf=-1: [s0:0.0.0.0:42611, s1:0.0.0.0:39575, s2:0.0.0.0:34382], old=null
2019-09-24 16:57:16,714 DEBUG impl.RaftServerImpl (RaftServerImpl.java:requestVote(743)) - s0@group-09A0EF6A68F4: receive requestVote(s1, group-09A0EF6A68F4, 12, (t:0, i:0))
2019-09-24 16:57:16,714 DEBUG impl.RaftServerImpl (RaftServerImpl.java:requestVote(743)) - s2@group-09A0EF6A68F4: receive requestVote(s0, group-09A0EF6A68F4, 12, (t:0, i:0))
2019-09-24 16:57:16,715 DEBUG impl.RaftServerImpl (RaftServerImpl.java:requestVote(775)) - s0@group-09A0EF6A68F4 replies to vote request: s2<-s0#0:FAIL-t12. Peer's state: s0@group-09A0EF6A68F4:t12, leader=null, voted=s0, raftlog=s0@group-09A0EF6A68F4-SegmentedRaftLog:OPENED:c-1,f-1,i0, conf=-1: [s0:0.0.0.0:42611, s1:0.0.0.0:39575, s2:0.0.0.0:34382], old=null
2019-09-24 16:57:16,714 DEBUG impl.RaftServerImpl (RaftServerImpl.java:requestVote(743)) - s2@group-09A0EF6A68F4: receive requestVote(s1, group-09A0EF6A68F4, 12, (t:0, i:0))
2019-09-24 16:57:16,714 DEBUG impl.RaftServerImpl (RaftServerImpl.java:requestVote(743)) - s1@group-09A0EF6A68F4: receive requestVote(s2, group-09A0EF6A68F4, 12, (t:0, i:0))
2019-09-24 16:57:16,715 DEBUG impl.RaftServerImpl (RaftServerImpl.java:requestVote(775)) - s0@group-09A0EF6A68F4 replies to vote request: s1<-s0#0:FAIL-t12. Peer's state: s0@group-09A0EF6A68F4:t12, leader=null, voted=s0, raftlog=s0@group-09A0EF6A68F4-SegmentedRaftLog:OPENED:c-1,f-1,i0, conf=-1: [s0:0.0.0.0:42611, s1:0.0.0.0:39575, s2:0.0.0.0:34382], old=null
2019-09-24 16:57:16,715 DEBUG impl.RaftServerImpl (RaftServerImpl.java:requestVote(775)) - s2@group-09A0EF6A68F4 replies to vote request: s0<-s2#0:FAIL-t12. Peer's state: s2@group-09A0EF6A68F4:t12, leader=null, voted=s2, raftlog=s2@group-09A0EF6A68F4-SegmentedRaftLog:OPENED:c-1,f-1,i0, conf=-1: [s0:0.0.0.0:42611, s1:0.0.0.0:39575, s2:0.0.0.0:34382], old=null
2019-09-24 16:57:16,715 DEBUG impl.RaftServerImpl (RaftServerImpl.java:requestVote(775)) - s1@group-09A0EF6A68F4 replies to vote request: s2<-s1#0:FAIL-t12. Peer's state: s1@group-09A0EF6A68F4:t12, leader=null, voted=s1, raftlog=s1@group-09A0EF6A68F4-SegmentedRaftLog:OPENED:c-1,f-1,i0, conf=-1: [s0:0.0.0.0:42611, s1:0.0.0.0:39575, s2:0.0.0.0:34382], old=null
2019-09-24 16:57:16,716 DEBUG impl.RaftServerImpl (RaftServerImpl.java:requestVote(775)) - s2@group-09A0EF6A68F4 replies to vote request: s1<-s2#0:FAIL-t12. Peer's state: s2@group-09A0EF6A68F4:t12, leader=null, voted=s2, raftlog=s2@group-09A0EF6A68F4-SegmentedRaftLog:OPENED:c-1,f-1,i0, conf=-1: [s0:0.0.0.0:42611, s1:0.0.0.0:39575, s2:0.0.0.0:34382], old=null
2019-09-24 16:57:16,716 INFO  impl.LeaderElection (LeaderElection.java:logAndReturn(56)) - s0@group-09A0EF6A68F4-LeaderElection32: Election REJECTED; received 2 response(s) [s0<-s1#0:FAIL-t12, s0<-s2#0:FAIL-t12] and 0 exception(s); s0@group-09A0EF6A68F4:t12, leader=null, voted=s0, raftlog=s0@group-09A0EF6A68F4-SegmentedRaftLog:OPENED:c-1,f-1,i0, conf=-1: [s0:0.0.0.0:42611, s1:0.0.0.0:39575, s2:0.0.0.0:34382], old=null
2019-09-24 16:57:16,716 INFO  impl.LeaderElection (LeaderElection.java:logAndReturn(56)) - s2@group-09A0EF6A68F4-LeaderElection33: Election REJECTED; received 2 response(s) [s2<-s0#0:FAIL-t12, s2<-s1#0:FAIL-t12] and 0 exception(s); s2@group-09A0EF6A68F4:t12, leader=null, voted=s2, raftlog=s2@group-09A0EF6A68F4-SegmentedRaftLog:OPENED:c-1,f-1,i0, conf=-1: [s0:0.0.0.0:42611, s1:0.0.0.0:39575, s2:0.0.0.0:34382], old=null
2019-09-24 16:57:16,716 INFO  impl.RaftServerImpl (RaftServerImpl.java:setRole(170)) - s0@group-09A0EF6A68F4: changes role from CANDIDATE to FOLLOWER at term 12 for DISCOVERED_A_NEW_TERM
2019-09-24 16:57:16,716 INFO  impl.LeaderElection (LeaderElection.java:logAndReturn(56)) - s1@group-09A0EF6A68F4-LeaderElection31: Election REJECTED; received 2 response(s) [s1<-s0#0:FAIL-t12, s1<-s2#0:FAIL-t12] and 0 exception(s); s1@group-09A0EF6A68F4:t12, leader=null, voted=s1, raftlog=s1@group-09A0EF6A68F4-SegmentedRaftLog:OPENED:c-1,f-1,i0, conf=-1: [s0:0.0.0.0:42611, s1:0.0.0.0:39575, s2:0.0.0.0:34382], old=null
2019-09-24 16:57:16,718 INFO  impl.RoleInfo (RoleInfo.java:shutdownLeaderElection(134)) - s0: shutdown LeaderElection
2019-09-24 16:57:16,718 INFO  impl.RaftServerImpl (RaftServerImpl.java:setRole(170)) - s2@group-09A0EF6A68F4: changes role from CANDIDATE to FOLLOWER at term 12 for DISCOVERED_A_NEW_TERM
2019-09-24 16:57:16,718 INFO  impl.RoleInfo (RoleInfo.java:updateAndGet(143)) - s0: start FollowerState
2019-09-24 16:57:16,718 INFO  impl.RaftServerImpl (RaftServerImpl.java:setRole(170)) - s1@group-09A0EF6A68F4: changes role from CANDIDATE to FOLLOWER at term 12 for DISCOVERED_A_NEW_TERM
2019-09-24 16:57:16,718 INFO  impl.RoleInfo (RoleInfo.java:shutdownLeaderElection(134)) - s2: shutdown LeaderElection
2019-09-24 16:57:16,719 INFO  impl.RoleInfo (RoleInfo.java:shutdownLeaderElection(134)) - s1: shutdown LeaderElection
2019-09-24 16:57:16,719 INFO  impl.RoleInfo (RoleInfo.java:updateAndGet(143)) - s2: start FollowerState
2019-09-24 16:57:16,719 INFO  impl.RoleInfo (RoleInfo.java:updateAndGet(143)) - s1: start FollowerState
2019-09-24 16:57:16,906 WARN  ratis.RaftTestUtil (JavaUtils.java:attempt(158)) - FAILED "waitForLeader-null-(expectLeader? true)", attempt #16/100: java.lang.IllegalStateException: No leader yet : printing ALL groups
  s0:  RUNNING  FOLLOWER s0@group-09A0EF6A68F4:t12, leader=null, voted=s0, raftlog=s0@group-09A0EF6A68F4-SegmentedRaftLog:OPENED:c-1,f-1,i0, conf=-1: [s0:0.0.0.0:42611, s1:0.0.0.0:39575, s2:0.0.0.0:34382], old=null RUNNING
  s1:  RUNNING  FOLLOWER s1@group-09A0EF6A68F4:t12, leader=null, voted=s1, raftlog=s1@group-09A0EF6A68F4-SegmentedRaftLog:OPENED:c-1,f-1,i0, conf=-1: [s0:0.0.0.0:42611, s1:0.0.0.0:39575, s2:0.0.0.0:34382], old=null RUNNING
  s2:  RUNNING  FOLLOWER s2@group-09A0EF6A68F4:t12, leader=null, voted=s2, raftlog=s2@group-09A0EF6A68F4-SegmentedRaftLog:OPENED:c-1,f-1,i0, conf=-1: [s0:0.0.0.0:42611, s1:0.0.0.0:39575, s2:0.0.0.0:34382], old=null RUNNING, sleep 450ms and then retry.
java.lang.IllegalStateException: No leader yet : printing ALL groups
  s0:  RUNNING  FOLLOWER s0@group-09A0EF6A68F4:t12, leader=null, voted=s0, raftlog=s0@group-09A0EF6A68F4-SegmentedRaftLog:OPENED:c-1,f-1,i0, conf=-1: [s0:0.0.0.0:42611, s1:0.0.0.0:39575, s2:0.0.0.0:34382], old=null RUNNING
  s1:  RUNNING  FOLLOWER s1@group-09A0EF6A68F4:t12, leader=null, voted=s1, raftlog=s1@group-09A0EF6A68F4-SegmentedRaftLog:OPENED:c-1,f-1,i0, conf=-1: [s0:0.0.0.0:42611, s1:0.0.0.0:39575, s2:0.0.0.0:34382], old=null RUNNING
  s2:  RUNNING  FOLLOWER s2@group-09A0EF6A68F4:t12, leader=null, voted=s2, raftlog=s2@group-09A0EF6A68F4-SegmentedRaftLog:OPENED:c-1,f-1,i0, conf=-1: [s0:0.0.0.0:42611, s1:0.0.0.0:39575, s2:0.0.0.0:34382], old=null RUNNING
	at org.apache.ratis.MiniRaftCluster.newIllegalStateExceptionForNoLeaders(MiniRaftCluster.java:506)
	at org.apache.ratis.RaftTestUtil.lambda$waitForLeader$1(RaftTestUtil.java:90)
	at org.apache.ratis.MiniRaftCluster.getLeader(MiniRaftCluster.java:539)
	at org.apache.ratis.MiniRaftCluster.getLeader(MiniRaftCluster.java:532)
	at org.apache.ratis.RaftTestUtil.lambda$waitForLeader$3(RaftTestUtil.java:98)
	at org.apache.ratis.util.JavaUtils.attempt(JavaUtils.java:152)
	at org.apache.ratis.RaftTestUtil.waitForLeader(RaftTestUtil.java:97)
	at org.apache.ratis.RaftTestUtil.waitForLeader(RaftTestUtil.java:77)
	at org.apache.ratis.RaftTestUtil.waitForLeader(RaftTestUtil.java:72)
	at org.apache.ratis.server.impl.RaftStateMachineExceptionTests.runTestRetryOnExceptionDuringReplication(RaftStateMachineExceptionTests.java:149)
	at org.apache.ratis.MiniRaftCluster$Factory$Get.runWithNewCluster(MiniRaftCluster.java:125)
	at org.apache.ratis.MiniRaftCluster$Factory$Get.runWithNewCluster(MiniRaftCluster.java:113)
	at org.apache.ratis.server.impl.RaftStateMachineExceptionTests.testRetryOnExceptionDuringReplication(RaftStateMachineExceptionTests.java:145)
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.lang.reflect.Method.invoke(Method.java:498)
	at org.junit.runners.model.FrameworkMethod$1.runReflectiveCall(FrameworkMethod.java:50)
	at org.junit.internal.runners.model.ReflectiveCallable.run(ReflectiveCallable.java:12)
	at org.junit.runners.model.FrameworkMethod.invokeExplosively(FrameworkMethod.java:47)
	at org.junit.internal.runners.statements.InvokeMethod.evaluate(InvokeMethod.java:17)
	at org.junit.internal.runners.statements.RunAfters.evaluate(RunAfters.java:27)
	at org.junit.internal.runners.statements.FailOnTimeout$CallableStatement.call(FailOnTimeout.java:298)
	at org.junit.internal.runners.statements.FailOnTimeout$CallableStatement.call(FailOnTimeout.java:292)
	at java.util.concurrent.FutureTask.run(FutureTask.java:266)
	at java.lang.Thread.run(Thread.java:748)
2019-09-24 16:57:16,926 INFO  impl.FollowerState (FollowerState.java:run(108)) - s2@group-09A0EF6A68F4-FollowerState: change to CANDIDATE, lastRpcTime:206ms, electionTimeout:206ms
2019-09-24 16:57:16,926 INFO  impl.FollowerState (FollowerState.java:run(108)) - s1@group-09A0EF6A68F4-FollowerState: change to CANDIDATE, lastRpcTime:206ms, electionTimeout:206ms
2019-09-24 16:57:16,926 INFO  impl.RoleInfo (RoleInfo.java:shutdownFollowerState(121)) - s2: shutdown FollowerState
2019-09-24 16:57:16,926 INFO  impl.RoleInfo (RoleInfo.java:shutdownFollowerState(121)) - s1: shutdown FollowerState
2019-09-24 16:57:16,926 INFO  impl.RaftServerImpl (RaftServerImpl.java:setRole(170)) - s2@group-09A0EF6A68F4: changes role from  FOLLOWER to CANDIDATE at term 12 for changeToCandidate
2019-09-24 16:57:16,927 INFO  impl.RaftServerImpl (RaftServerImpl.java:setRole(170)) - s1@group-09A0EF6A68F4: changes role from  FOLLOWER to CANDIDATE at term 12 for changeToCandidate
2019-09-24 16:57:16,927 INFO  impl.RoleInfo (RoleInfo.java:updateAndGet(143)) - s2: start LeaderElection
2019-09-24 16:57:16,927 INFO  impl.RoleInfo (RoleInfo.java:updateAndGet(143)) - s1: start LeaderElection
2019-09-24 16:57:17,012 INFO  impl.FollowerState (FollowerState.java:run(108)) - s0@group-09A0EF6A68F4-FollowerState: change to CANDIDATE, lastRpcTime:293ms, electionTimeout:293ms
2019-09-24 16:57:17,012 INFO  impl.RoleInfo (RoleInfo.java:shutdownFollowerState(121)) - s0: shutdown FollowerState
2019-09-24 16:57:17,012 INFO  impl.RaftServerImpl (RaftServerImpl.java:setRole(170)) - s0@group-09A0EF6A68F4: changes role from  FOLLOWER to CANDIDATE at term 12 for changeToCandidate
2019-09-24 16:57:17,013 INFO  impl.RoleInfo (RoleInfo.java:updateAndGet(143)) - s0: start LeaderElection
2019-09-24 16:57:17,254 INFO  impl.LeaderElection (LeaderElection.java:askForVotes(178)) - s1@group-09A0EF6A68F4-LeaderElection35: begin an election at term 13 for -1: [s0:0.0.0.0:42611, s1:0.0.0.0:39575, s2:0.0.0.0:34382], old=null
2019-09-24 16:57:17,254 INFO  impl.LeaderElection (LeaderElection.java:askForVotes(178)) - s2@group-09A0EF6A68F4-LeaderElection34: begin an election at term 13 for -1: [s0:0.0.0.0:42611, s1:0.0.0.0:39575, s2:0.0.0.0:34382], old=null
2019-09-24 16:57:17,255 DEBUG impl.RaftServerImpl (RaftServerImpl.java:requestVote(743)) - s0@group-09A0EF6A68F4: receive requestVote(s1, group-09A0EF6A68F4, 13, (t:0, i:0))
2019-09-24 16:57:17,255 DEBUG impl.RaftServerImpl (RaftServerImpl.java:requestVote(743)) - s0@group-09A0EF6A68F4: receive requestVote(s2, group-09A0EF6A68F4, 13, (t:0, i:0))
2019-09-24 16:57:17,256 DEBUG impl.RaftServerImpl (RaftServerImpl.java:requestVote(743)) - s1@group-09A0EF6A68F4: receive requestVote(s2, group-09A0EF6A68F4, 13, (t:0, i:0))
2019-09-24 16:57:17,256 DEBUG impl.RaftServerImpl (RaftServerImpl.java:requestVote(743)) - s2@group-09A0EF6A68F4: receive requestVote(s1, group-09A0EF6A68F4, 13, (t:0, i:0))
2019-09-24 16:57:17,256 DEBUG impl.RaftServerImpl (RaftServerImpl.java:requestVote(775)) - s1@group-09A0EF6A68F4 replies to vote request: s2<-s1#0:FAIL-t13. Peer's state: s1@group-09A0EF6A68F4:t13, leader=null, voted=s1, raftlog=s1@group-09A0EF6A68F4-SegmentedRaftLog:OPENED:c-1,f-1,i0, conf=-1: [s0:0.0.0.0:42611, s1:0.0.0.0:39575, s2:0.0.0.0:34382], old=null
2019-09-24 16:57:17,256 DEBUG impl.RaftServerImpl (RaftServerImpl.java:requestVote(775)) - s2@group-09A0EF6A68F4 replies to vote request: s1<-s2#0:FAIL-t13. Peer's state: s2@group-09A0EF6A68F4:t13, leader=null, voted=s2, raftlog=s2@group-09A0EF6A68F4-SegmentedRaftLog:OPENED:c-1,f-1,i0, conf=-1: [s0:0.0.0.0:42611, s1:0.0.0.0:39575, s2:0.0.0.0:34382], old=null
2019-09-24 16:57:17,316 INFO  impl.LeaderElection (LeaderElection.java:askForVotes(178)) - s0@group-09A0EF6A68F4-LeaderElection36: begin an election at term 13 for -1: [s0:0.0.0.0:42611, s1:0.0.0.0:39575, s2:0.0.0.0:34382], old=null
2019-09-24 16:57:17,317 DEBUG impl.RaftServerImpl (RaftServerImpl.java:requestVote(775)) - s0@group-09A0EF6A68F4 replies to vote request: s2<-s0#0:FAIL-t13. Peer's state: s0@group-09A0EF6A68F4:t13, leader=null, voted=s0, raftlog=s0@group-09A0EF6A68F4-SegmentedRaftLog:OPENED:c-1,f-1,i0, conf=-1: [s0:0.0.0.0:42611, s1:0.0.0.0:39575, s2:0.0.0.0:34382], old=null
2019-09-24 16:57:17,317 DEBUG impl.RaftServerImpl (RaftServerImpl.java:requestVote(775)) - s0@group-09A0EF6A68F4 replies to vote request: s1<-s0#0:FAIL-t13. Peer's state: s0@group-09A0EF6A68F4:t13, leader=null, voted=s0, raftlog=s0@group-09A0EF6A68F4-SegmentedRaftLog:OPENED:c-1,f-1,i0, conf=-1: [s0:0.0.0.0:42611, s1:0.0.0.0:39575, s2:0.0.0.0:34382], old=null
2019-09-24 16:57:17,317 INFO  impl.LeaderElection (LeaderElection.java:logAndReturn(56)) - s2@group-09A0EF6A68F4-LeaderElection34: Election REJECTED; received 2 response(s) [s2<-s0#0:FAIL-t13, s2<-s1#0:FAIL-t13] and 0 exception(s); s2@group-09A0EF6A68F4:t13, leader=null, voted=s2, raftlog=s2@group-09A0EF6A68F4-SegmentedRaftLog:OPENED:c-1,f-1,i0, conf=-1: [s0:0.0.0.0:42611, s1:0.0.0.0:39575, s2:0.0.0.0:34382], old=null
2019-09-24 16:57:17,317 INFO  impl.LeaderElection (LeaderElection.java:logAndReturn(56)) - s1@group-09A0EF6A68F4-LeaderElection35: Election REJECTED; received 2 response(s) [s1<-s0#0:FAIL-t13, s1<-s2#0:FAIL-t13] and 0 exception(s); s1@group-09A0EF6A68F4:t13, leader=null, voted=s1, raftlog=s1@group-09A0EF6A68F4-SegmentedRaftLog:OPENED:c-1,f-1,i0, conf=-1: [s0:0.0.0.0:42611, s1:0.0.0.0:39575, s2:0.0.0.0:34382], old=null
2019-09-24 16:57:17,318 INFO  impl.RaftServerImpl (RaftServerImpl.java:setRole(170)) - s2@group-09A0EF6A68F4: changes role from CANDIDATE to FOLLOWER at term 13 for DISCOVERED_A_NEW_TERM
2019-09-24 16:57:17,318 INFO  impl.RaftServerImpl (RaftServerImpl.java:setRole(170)) - s1@group-09A0EF6A68F4: changes role from CANDIDATE to FOLLOWER at term 13 for DISCOVERED_A_NEW_TERM
2019-09-24 16:57:17,318 INFO  impl.RoleInfo (RoleInfo.java:shutdownLeaderElection(134)) - s2: shutdown LeaderElection
2019-09-24 16:57:17,318 INFO  impl.RoleInfo (RoleInfo.java:shutdownLeaderElection(134)) - s1: shutdown LeaderElection
2019-09-24 16:57:17,318 INFO  impl.RoleInfo (RoleInfo.java:updateAndGet(143)) - s2: start FollowerState
2019-09-24 16:57:17,318 DEBUG impl.RaftServerImpl (RaftServerImpl.java:requestVote(743)) - s1@group-09A0EF6A68F4: receive requestVote(s0, group-09A0EF6A68F4, 13, (t:0, i:0))
2019-09-24 16:57:17,319 DEBUG impl.RaftServerImpl (RaftServerImpl.java:requestVote(743)) - s2@group-09A0EF6A68F4: receive requestVote(s0, group-09A0EF6A68F4, 13, (t:0, i:0))
2019-09-24 16:57:17,319 INFO  impl.RoleInfo (RoleInfo.java:updateAndGet(143)) - s1: start FollowerState
2019-09-24 16:57:17,319 DEBUG impl.RaftServerImpl (RaftServerImpl.java:requestVote(775)) - s2@group-09A0EF6A68F4 replies to vote request: s0<-s2#0:FAIL-t13. Peer's state: s2@group-09A0EF6A68F4:t13, leader=null, voted=s2, raftlog=s2@group-09A0EF6A68F4-SegmentedRaftLog:OPENED:c-1,f-1,i0, conf=-1: [s0:0.0.0.0:42611, s1:0.0.0.0:39575, s2:0.0.0.0:34382], old=null
2019-09-24 16:57:17,320 DEBUG impl.RaftServerImpl (RaftServerImpl.java:requestVote(775)) - s1@group-09A0EF6A68F4 replies to vote request: s0<-s1#0:FAIL-t13. Peer's state: s1@group-09A0EF6A68F4:t13, leader=null, voted=s1, raftlog=s1@group-09A0EF6A68F4-SegmentedRaftLog:OPENED:c-1,f-1,i0, conf=-1: [s0:0.0.0.0:42611, s1:0.0.0.0:39575, s2:0.0.0.0:34382], old=null
2019-09-24 16:57:17,320 INFO  impl.LeaderElection (LeaderElection.java:logAndReturn(56)) - s0@group-09A0EF6A68F4-LeaderElection36: Election REJECTED; received 2 response(s) [s0<-s1#0:FAIL-t13, s0<-s2#0:FAIL-t13] and 0 exception(s); s0@group-09A0EF6A68F4:t13, leader=null, voted=s0, raftlog=s0@group-09A0EF6A68F4-SegmentedRaftLog:OPENED:c-1,f-1,i0, conf=-1: [s0:0.0.0.0:42611, s1:0.0.0.0:39575, s2:0.0.0.0:34382], old=null
2019-09-24 16:57:17,321 INFO  impl.RaftServerImpl (RaftServerImpl.java:setRole(170)) - s0@group-09A0EF6A68F4: changes role from CANDIDATE to FOLLOWER at term 13 for DISCOVERED_A_NEW_TERM
2019-09-24 16:57:17,321 INFO  impl.RoleInfo (RoleInfo.java:shutdownLeaderElection(134)) - s0: shutdown LeaderElection
2019-09-24 16:57:17,321 INFO  impl.RoleInfo (RoleInfo.java:updateAndGet(143)) - s0: start FollowerState
2019-09-24 16:57:17,358 WARN  ratis.RaftTestUtil (JavaUtils.java:attempt(158)) - FAILED "waitForLeader-null-(expectLeader? true)", attempt #17/100: java.lang.IllegalStateException: No leader yet : printing ALL groups
  s0:  RUNNING  FOLLOWER s0@group-09A0EF6A68F4:t13, leader=null, voted=s0, raftlog=s0@group-09A0EF6A68F4-SegmentedRaftLog:OPENED:c-1,f-1,i0, conf=-1: [s0:0.0.0.0:42611, s1:0.0.0.0:39575, s2:0.0.0.0:34382], old=null RUNNING
  s1:  RUNNING  FOLLOWER s1@group-09A0EF6A68F4:t13, leader=null, voted=s1, raftlog=s1@group-09A0EF6A68F4-SegmentedRaftLog:OPENED:c-1,f-1,i0, conf=-1: [s0:0.0.0.0:42611, s1:0.0.0.0:39575, s2:0.0.0.0:34382], old=null RUNNING
  s2:  RUNNING  FOLLOWER s2@group-09A0EF6A68F4:t13, leader=null, voted=s2, raftlog=s2@group-09A0EF6A68F4-SegmentedRaftLog:OPENED:c-1,f-1,i0, conf=-1: [s0:0.0.0.0:42611, s1:0.0.0.0:39575, s2:0.0.0.0:34382], old=null RUNNING, sleep 450ms and then retry.
java.lang.IllegalStateException: No leader yet : printing ALL groups
  s0:  RUNNING  FOLLOWER s0@group-09A0EF6A68F4:t13, leader=null, voted=s0, raftlog=s0@group-09A0EF6A68F4-SegmentedRaftLog:OPENED:c-1,f-1,i0, conf=-1: [s0:0.0.0.0:42611, s1:0.0.0.0:39575, s2:0.0.0.0:34382], old=null RUNNING
  s1:  RUNNING  FOLLOWER s1@group-09A0EF6A68F4:t13, leader=null, voted=s1, raftlog=s1@group-09A0EF6A68F4-SegmentedRaftLog:OPENED:c-1,f-1,i0, conf=-1: [s0:0.0.0.0:42611, s1:0.0.0.0:39575, s2:0.0.0.0:34382], old=null RUNNING
  s2:  RUNNING  FOLLOWER s2@group-09A0EF6A68F4:t13, leader=null, voted=s2, raftlog=s2@group-09A0EF6A68F4-SegmentedRaftLog:OPENED:c-1,f-1,i0, conf=-1: [s0:0.0.0.0:42611, s1:0.0.0.0:39575, s2:0.0.0.0:34382], old=null RUNNING
	at org.apache.ratis.MiniRaftCluster.newIllegalStateExceptionForNoLeaders(MiniRaftCluster.java:506)
	at org.apache.ratis.RaftTestUtil.lambda$waitForLeader$1(RaftTestUtil.java:90)
	at org.apache.ratis.MiniRaftCluster.getLeader(MiniRaftCluster.java:539)
	at org.apache.ratis.MiniRaftCluster.getLeader(MiniRaftCluster.java:532)
	at org.apache.ratis.RaftTestUtil.lambda$waitForLeader$3(RaftTestUtil.java:98)
	at org.apache.ratis.util.JavaUtils.attempt(JavaUtils.java:152)
	at org.apache.ratis.RaftTestUtil.waitForLeader(RaftTestUtil.java:97)
	at org.apache.ratis.RaftTestUtil.waitForLeader(RaftTestUtil.java:77)
	at org.apache.ratis.RaftTestUtil.waitForLeader(RaftTestUtil.java:72)
	at org.apache.ratis.server.impl.RaftStateMachineExceptionTests.runTestRetryOnExceptionDuringReplication(RaftStateMachineExceptionTests.java:149)
	at org.apache.ratis.MiniRaftCluster$Factory$Get.runWithNewCluster(MiniRaftCluster.java:125)
	at org.apache.ratis.MiniRaftCluster$Factory$Get.runWithNewCluster(MiniRaftCluster.java:113)
	at org.apache.ratis.server.impl.RaftStateMachineExceptionTests.testRetryOnExceptionDuringReplication(RaftStateMachineExceptionTests.java:145)
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.lang.reflect.Method.invoke(Method.java:498)
	at org.junit.runners.model.FrameworkMethod$1.runReflectiveCall(FrameworkMethod.java:50)
	at org.junit.internal.runners.model.ReflectiveCallable.run(ReflectiveCallable.java:12)
	at org.junit.runners.model.FrameworkMethod.invokeExplosively(FrameworkMethod.java:47)
	at org.junit.internal.runners.statements.InvokeMethod.evaluate(InvokeMethod.java:17)
	at org.junit.internal.runners.statements.RunAfters.evaluate(RunAfters.java:27)
	at org.junit.internal.runners.statements.FailOnTimeout$CallableStatement.call(FailOnTimeout.java:298)
	at org.junit.internal.runners.statements.FailOnTimeout$CallableStatement.call(FailOnTimeout.java:292)
	at java.util.concurrent.FutureTask.run(FutureTask.java:266)
	at java.lang.Thread.run(Thread.java:748)
2019-09-24 16:57:17,545 INFO  impl.FollowerState (FollowerState.java:run(108)) - s1@group-09A0EF6A68F4-FollowerState: change to CANDIDATE, lastRpcTime:226ms, electionTimeout:225ms
2019-09-24 16:57:17,545 INFO  impl.RoleInfo (RoleInfo.java:shutdownFollowerState(121)) - s1: shutdown FollowerState
2019-09-24 16:57:17,545 INFO  impl.RaftServerImpl (RaftServerImpl.java:setRole(170)) - s1@group-09A0EF6A68F4: changes role from  FOLLOWER to CANDIDATE at term 13 for changeToCandidate
2019-09-24 16:57:17,546 INFO  impl.RoleInfo (RoleInfo.java:updateAndGet(143)) - s1: start LeaderElection
2019-09-24 16:57:17,552 INFO  impl.FollowerState (FollowerState.java:run(108)) - s2@group-09A0EF6A68F4-FollowerState: change to CANDIDATE, lastRpcTime:233ms, electionTimeout:233ms
2019-09-24 16:57:17,553 INFO  impl.RoleInfo (RoleInfo.java:shutdownFollowerState(121)) - s2: shutdown FollowerState
2019-09-24 16:57:17,553 INFO  impl.RaftServerImpl (RaftServerImpl.java:setRole(170)) - s2@group-09A0EF6A68F4: changes role from  FOLLOWER to CANDIDATE at term 13 for changeToCandidate
2019-09-24 16:57:17,553 INFO  impl.RoleInfo (RoleInfo.java:updateAndGet(143)) - s2: start LeaderElection
2019-09-24 16:57:17,560 INFO  impl.LeaderElection (LeaderElection.java:askForVotes(178)) - s2@group-09A0EF6A68F4-LeaderElection38: begin an election at term 14 for -1: [s0:0.0.0.0:42611, s1:0.0.0.0:39575, s2:0.0.0.0:34382], old=null
2019-09-24 16:57:17,560 INFO  impl.LeaderElection (LeaderElection.java:askForVotes(178)) - s1@group-09A0EF6A68F4-LeaderElection37: begin an election at term 14 for -1: [s0:0.0.0.0:42611, s1:0.0.0.0:39575, s2:0.0.0.0:34382], old=null
2019-09-24 16:57:17,562 DEBUG impl.RaftServerImpl (RaftServerImpl.java:requestVote(743)) - s0@group-09A0EF6A68F4: receive requestVote(s1, group-09A0EF6A68F4, 14, (t:0, i:0))
2019-09-24 16:57:17,562 DEBUG impl.RaftServerImpl (RaftServerImpl.java:requestVote(743)) - s1@group-09A0EF6A68F4: receive requestVote(s2, group-09A0EF6A68F4, 14, (t:0, i:0))
2019-09-24 16:57:17,562 DEBUG impl.RaftServerImpl (RaftServerImpl.java:requestVote(743)) - s0@group-09A0EF6A68F4: receive requestVote(s2, group-09A0EF6A68F4, 14, (t:0, i:0))
2019-09-24 16:57:17,562 DEBUG impl.RaftServerImpl (RaftServerImpl.java:requestVote(775)) - s1@group-09A0EF6A68F4 replies to vote request: s2<-s1#0:FAIL-t14. Peer's state: s1@group-09A0EF6A68F4:t14, leader=null, voted=s1, raftlog=s1@group-09A0EF6A68F4-SegmentedRaftLog:OPENED:c-1,f-1,i0, conf=-1: [s0:0.0.0.0:42611, s1:0.0.0.0:39575, s2:0.0.0.0:34382], old=null
2019-09-24 16:57:17,562 DEBUG impl.RaftServerImpl (RaftServerImpl.java:requestVote(743)) - s2@group-09A0EF6A68F4: receive requestVote(s1, group-09A0EF6A68F4, 14, (t:0, i:0))
2019-09-24 16:57:17,562 INFO  impl.RaftServerImpl (RaftServerImpl.java:setRole(170)) - s0@group-09A0EF6A68F4: changes role from  FOLLOWER to FOLLOWER at term 14 for recognizeCandidate:s1
2019-09-24 16:57:17,563 DEBUG impl.RaftServerImpl (RaftServerImpl.java:requestVote(775)) - s2@group-09A0EF6A68F4 replies to vote request: s1<-s2#0:FAIL-t14. Peer's state: s2@group-09A0EF6A68F4:t14, leader=null, voted=s2, raftlog=s2@group-09A0EF6A68F4-SegmentedRaftLog:OPENED:c-1,f-1,i0, conf=-1: [s0:0.0.0.0:42611, s1:0.0.0.0:39575, s2:0.0.0.0:34382], old=null
2019-09-24 16:57:17,563 INFO  impl.RoleInfo (RoleInfo.java:shutdownFollowerState(121)) - s0: shutdown FollowerState
2019-09-24 16:57:17,563 INFO  impl.RoleInfo (RoleInfo.java:updateAndGet(143)) - s0: start FollowerState
2019-09-24 16:57:17,563 INFO  impl.FollowerState (FollowerState.java:run(117)) - s0@group-09A0EF6A68F4-FollowerState was interrupted: java.lang.InterruptedException: sleep interrupted
2019-09-24 16:57:17,776 INFO  impl.LeaderElection (LeaderElection.java:logAndReturn(56)) - s1@group-09A0EF6A68F4-LeaderElection37: Election TIMEOUT; received 1 response(s) [s1<-s2#0:FAIL-t14] and 0 exception(s); s1@group-09A0EF6A68F4:t14, leader=null, voted=s1, raftlog=s1@group-09A0EF6A68F4-SegmentedRaftLog:OPENED:c-1,f-1,i0, conf=-1: [s0:0.0.0.0:42611, s1:0.0.0.0:39575, s2:0.0.0.0:34382], old=null
2019-09-24 16:57:17,810 WARN  ratis.RaftTestUtil (JavaUtils.java:attempt(158)) - FAILED "waitForLeader-null-(expectLeader? true)", attempt #18/100: java.lang.IllegalStateException: No leader yet : printing ALL groups
  s0:  RUNNING  FOLLOWER s0@group-09A0EF6A68F4:t14, leader=null, voted=s1, raftlog=s0@group-09A0EF6A68F4-SegmentedRaftLog:OPENED:c-1,f-1,i0, conf=-1: [s0:0.0.0.0:42611, s1:0.0.0.0:39575, s2:0.0.0.0:34382], old=null RUNNING
  s1:  RUNNING CANDIDATE s1@group-09A0EF6A68F4:t15, leader=null, voted=s1, raftlog=s1@group-09A0EF6A68F4-SegmentedRaftLog:OPENED:c-1,f-1,i0, conf=-1: [s0:0.0.0.0:42611, s1:0.0.0.0:39575, s2:0.0.0.0:34382], old=null RUNNING
  s2:  RUNNING CANDIDATE s2@group-09A0EF6A68F4:t14, leader=null, voted=s2, raftlog=s2@group-09A0EF6A68F4-SegmentedRaftLog:OPENED:c-1,f-1,i0, conf=-1: [s0:0.0.0.0:42611, s1:0.0.0.0:39575, s2:0.0.0.0:34382], old=null RUNNING, sleep 450ms and then retry.
java.lang.IllegalStateException: No leader yet : printing ALL groups
  s0:  RUNNING  FOLLOWER s0@group-09A0EF6A68F4:t14, leader=null, voted=s1, raftlog=s0@group-09A0EF6A68F4-SegmentedRaftLog:OPENED:c-1,f-1,i0, conf=-1: [s0:0.0.0.0:42611, s1:0.0.0.0:39575, s2:0.0.0.0:34382], old=null RUNNING
  s1:  RUNNING CANDIDATE s1@group-09A0EF6A68F4:t15, leader=null, voted=s1, raftlog=s1@group-09A0EF6A68F4-SegmentedRaftLog:OPENED:c-1,f-1,i0, conf=-1: [s0:0.0.0.0:42611, s1:0.0.0.0:39575, s2:0.0.0.0:34382], old=null RUNNING
  s2:  RUNNING CANDIDATE s2@group-09A0EF6A68F4:t14, leader=null, voted=s2, raftlog=s2@group-09A0EF6A68F4-SegmentedRaftLog:OPENED:c-1,f-1,i0, conf=-1: [s0:0.0.0.0:42611, s1:0.0.0.0:39575, s2:0.0.0.0:34382], old=null RUNNING
	at org.apache.ratis.MiniRaftCluster.newIllegalStateExceptionForNoLeaders(MiniRaftCluster.java:506)
	at org.apache.ratis.RaftTestUtil.lambda$waitForLeader$1(RaftTestUtil.java:90)
	at org.apache.ratis.MiniRaftCluster.getLeader(MiniRaftCluster.java:539)
	at org.apache.ratis.MiniRaftCluster.getLeader(MiniRaftCluster.java:532)
	at org.apache.ratis.RaftTestUtil.lambda$waitForLeader$3(RaftTestUtil.java:98)
	at org.apache.ratis.util.JavaUtils.attempt(JavaUtils.java:152)
	at org.apache.ratis.RaftTestUtil.waitForLeader(RaftTestUtil.java:97)
	at org.apache.ratis.RaftTestUtil.waitForLeader(RaftTestUtil.java:77)
	at org.apache.ratis.RaftTestUtil.waitForLeader(RaftTestUtil.java:72)
	at org.apache.ratis.server.impl.RaftStateMachineExceptionTests.runTestRetryOnExceptionDuringReplication(RaftStateMachineExceptionTests.java:149)
	at org.apache.ratis.MiniRaftCluster$Factory$Get.runWithNewCluster(MiniRaftCluster.java:125)
	at org.apache.ratis.MiniRaftCluster$Factory$Get.runWithNewCluster(MiniRaftCluster.java:113)
	at org.apache.ratis.server.impl.RaftStateMachineExceptionTests.testRetryOnExceptionDuringReplication(RaftStateMachineExceptionTests.java:145)
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.lang.reflect.Method.invoke(Method.java:498)
	at org.junit.runners.model.FrameworkMethod$1.runReflectiveCall(FrameworkMethod.java:50)
	at org.junit.internal.runners.model.ReflectiveCallable.run(ReflectiveCallable.java:12)
	at org.junit.runners.model.FrameworkMethod.invokeExplosively(FrameworkMethod.java:47)
	at org.junit.internal.runners.statements.InvokeMethod.evaluate(InvokeMethod.java:17)
	at org.junit.internal.runners.statements.RunAfters.evaluate(RunAfters.java:27)
	at org.junit.internal.runners.statements.FailOnTimeout$CallableStatement.call(FailOnTimeout.java:298)
	at org.junit.internal.runners.statements.FailOnTimeout$CallableStatement.call(FailOnTimeout.java:292)
	at java.util.concurrent.FutureTask.run(FutureTask.java:266)
	at java.lang.Thread.run(Thread.java:748)
2019-09-24 16:57:17,838 INFO  impl.LeaderElection (LeaderElection.java:logAndReturn(56)) - s2@group-09A0EF6A68F4-LeaderElection38: Election TIMEOUT; received 1 response(s) [s2<-s1#0:FAIL-t14] and 0 exception(s); s2@group-09A0EF6A68F4:t14, leader=null, voted=s2, raftlog=s2@group-09A0EF6A68F4-SegmentedRaftLog:OPENED:c-1,f-1,i0, conf=-1: [s0:0.0.0.0:42611, s1:0.0.0.0:39575, s2:0.0.0.0:34382], old=null
2019-09-24 16:57:18,069 INFO  impl.LeaderElection (LeaderElection.java:askForVotes(178)) - s1@group-09A0EF6A68F4-LeaderElection37: begin an election at term 15 for -1: [s0:0.0.0.0:42611, s1:0.0.0.0:39575, s2:0.0.0.0:34382], old=null
2019-09-24 16:57:18,070 DEBUG impl.RaftServerImpl (RaftServerImpl.java:requestVote(775)) - s0@group-09A0EF6A68F4 replies to vote request: s1<-s0#0:OK-t14. Peer's state: s0@group-09A0EF6A68F4:t14, leader=null, voted=s1, raftlog=s0@group-09A0EF6A68F4-SegmentedRaftLog:OPENED:c-1,f-1,i0, conf=-1: [s0:0.0.0.0:42611, s1:0.0.0.0:39575, s2:0.0.0.0:34382], old=null
2019-09-24 16:57:18,070 INFO  impl.FollowerState (FollowerState.java:run(108)) - s0@group-09A0EF6A68F4-FollowerState: change to CANDIDATE, lastRpcTime:506ms, electionTimeout:286ms
2019-09-24 16:57:18,071 INFO  impl.RoleInfo (RoleInfo.java:shutdownFollowerState(121)) - s0: shutdown FollowerState
2019-09-24 16:57:18,071 INFO  impl.RaftServerImpl (RaftServerImpl.java:setRole(170)) - s0@group-09A0EF6A68F4: changes role from  FOLLOWER to CANDIDATE at term 14 for changeToCandidate
2019-09-24 16:57:18,071 DEBUG impl.RaftServerImpl (RaftServerImpl.java:requestVote(743)) - s0@group-09A0EF6A68F4: receive requestVote(s1, group-09A0EF6A68F4, 15, (t:0, i:0))
2019-09-24 16:57:18,071 DEBUG impl.RaftServerImpl (RaftServerImpl.java:requestVote(743)) - s2@group-09A0EF6A68F4: receive requestVote(s1, group-09A0EF6A68F4, 15, (t:0, i:0))
2019-09-24 16:57:18,071 INFO  impl.RoleInfo (RoleInfo.java:updateAndGet(143)) - s0: start LeaderElection
2019-09-24 16:57:18,073 DEBUG impl.RaftServerImpl (RaftServerImpl.java:requestVote(775)) - s0@group-09A0EF6A68F4 replies to vote request: s2<-s0#0:FAIL-t14. Peer's state: s0@group-09A0EF6A68F4:t14, leader=null, voted=s1, raftlog=s0@group-09A0EF6A68F4-SegmentedRaftLog:OPENED:c-1,f-1,i0, conf=-1: [s0:0.0.0.0:42611, s1:0.0.0.0:39575, s2:0.0.0.0:34382], old=null
2019-09-24 16:57:18,262 WARN  ratis.RaftTestUtil (JavaUtils.java:attempt(158)) - FAILED "waitForLeader-null-(expectLeader? true)", attempt #19/100: java.lang.IllegalStateException: No leader yet : printing ALL groups
  s0:  RUNNING CANDIDATE s0@group-09A0EF6A68F4:t15, leader=null, voted=s0, raftlog=s0@group-09A0EF6A68F4-SegmentedRaftLog:OPENED:c-1,f-1,i0, conf=-1: [s0:0.0.0.0:42611, s1:0.0.0.0:39575, s2:0.0.0.0:34382], old=null RUNNING
  s1:  RUNNING CANDIDATE s1@group-09A0EF6A68F4:t15, leader=null, voted=s1, raftlog=s1@group-09A0EF6A68F4-SegmentedRaftLog:OPENED:c-1,f-1,i0, conf=-1: [s0:0.0.0.0:42611, s1:0.0.0.0:39575, s2:0.0.0.0:34382], old=null RUNNING
  s2:  RUNNING CANDIDATE s2@group-09A0EF6A68F4:t15, leader=null, voted=s2, raftlog=s2@group-09A0EF6A68F4-SegmentedRaftLog:OPENED:c-1,f-1,i0, conf=-1: [s0:0.0.0.0:42611, s1:0.0.0.0:39575, s2:0.0.0.0:34382], old=null RUNNING, sleep 450ms and then retry.
java.lang.IllegalStateException: No leader yet : printing ALL groups
  s0:  RUNNING CANDIDATE s0@group-09A0EF6A68F4:t15, leader=null, voted=s0, raftlog=s0@group-09A0EF6A68F4-SegmentedRaftLog:OPENED:c-1,f-1,i0, conf=-1: [s0:0.0.0.0:42611, s1:0.0.0.0:39575, s2:0.0.0.0:34382], old=null RUNNING
  s1:  RUNNING CANDIDATE s1@group-09A0EF6A68F4:t15, leader=null, voted=s1, raftlog=s1@group-09A0EF6A68F4-SegmentedRaftLog:OPENED:c-1,f-1,i0, conf=-1: [s0:0.0.0.0:42611, s1:0.0.0.0:39575, s2:0.0.0.0:34382], old=null RUNNING
  s2:  RUNNING CANDIDATE s2@group-09A0EF6A68F4:t15, leader=null, voted=s2, raftlog=s2@group-09A0EF6A68F4-SegmentedRaftLog:OPENED:c-1,f-1,i0, conf=-1: [s0:0.0.0.0:42611, s1:0.0.0.0:39575, s2:0.0.0.0:34382], old=null RUNNING
	at org.apache.ratis.MiniRaftCluster.newIllegalStateExceptionForNoLeaders(MiniRaftCluster.java:506)
	at org.apache.ratis.RaftTestUtil.lambda$waitForLeader$1(RaftTestUtil.java:90)
	at org.apache.ratis.MiniRaftCluster.getLeader(MiniRaftCluster.java:539)
	at org.apache.ratis.MiniRaftCluster.getLeader(MiniRaftCluster.java:532)
	at org.apache.ratis.RaftTestUtil.lambda$waitForLeader$3(RaftTestUtil.java:98)
	at org.apache.ratis.util.JavaUtils.attempt(JavaUtils.java:152)
	at org.apache.ratis.RaftTestUtil.waitForLeader(RaftTestUtil.java:97)
	at org.apache.ratis.RaftTestUtil.waitForLeader(RaftTestUtil.java:77)
	at org.apache.ratis.RaftTestUtil.waitForLeader(RaftTestUtil.java:72)
	at org.apache.ratis.server.impl.RaftStateMachineExceptionTests.runTestRetryOnExceptionDuringReplication(RaftStateMachineExceptionTests.java:149)
	at org.apache.ratis.MiniRaftCluster$Factory$Get.runWithNewCluster(MiniRaftCluster.java:125)
	at org.apache.ratis.MiniRaftCluster$Factory$Get.runWithNewCluster(MiniRaftCluster.java:113)
	at org.apache.ratis.server.impl.RaftStateMachineExceptionTests.testRetryOnExceptionDuringReplication(RaftStateMachineExceptionTests.java:145)
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.lang.reflect.Method.invoke(Method.java:498)
	at org.junit.runners.model.FrameworkMethod$1.runReflectiveCall(FrameworkMethod.java:50)
	at org.junit.internal.runners.model.ReflectiveCallable.run(ReflectiveCallable.java:12)
	at org.junit.runners.model.FrameworkMethod.invokeExplosively(FrameworkMethod.java:47)
	at org.junit.internal.runners.statements.InvokeMethod.evaluate(InvokeMethod.java:17)
	at org.junit.internal.runners.statements.RunAfters.evaluate(RunAfters.java:27)
	at org.junit.internal.runners.statements.FailOnTimeout$CallableStatement.call(FailOnTimeout.java:298)
	at org.junit.internal.runners.statements.FailOnTimeout$CallableStatement.call(FailOnTimeout.java:292)
	at java.util.concurrent.FutureTask.run(FutureTask.java:266)
	at java.lang.Thread.run(Thread.java:748)
2019-09-24 16:57:18,313 INFO  impl.LeaderElection (LeaderElection.java:logAndReturn(56)) - s1@group-09A0EF6A68F4-LeaderElection37: Election TIMEOUT; received 0 response(s) [] and 0 exception(s); s1@group-09A0EF6A68F4:t15, leader=null, voted=s1, raftlog=s1@group-09A0EF6A68F4-SegmentedRaftLog:OPENED:c-1,f-1,i0, conf=-1: [s0:0.0.0.0:42611, s1:0.0.0.0:39575, s2:0.0.0.0:34382], old=null
2019-09-24 16:57:18,584 INFO  impl.LeaderElection (LeaderElection.java:askForVotes(178)) - s1@group-09A0EF6A68F4-LeaderElection37: begin an election at term 16 for -1: [s0:0.0.0.0:42611, s1:0.0.0.0:39575, s2:0.0.0.0:34382], old=null
2019-09-24 16:57:18,584 DEBUG impl.RaftServerImpl (RaftServerImpl.java:requestVote(775)) - s2@group-09A0EF6A68F4 replies to vote request: s1<-s2#0:FAIL-t15. Peer's state: s2@group-09A0EF6A68F4:t15, leader=null, voted=s2, raftlog=s2@group-09A0EF6A68F4-SegmentedRaftLog:OPENED:c-1,f-1,i0, conf=-1: [s0:0.0.0.0:42611, s1:0.0.0.0:39575, s2:0.0.0.0:34382], old=null
2019-09-24 16:57:18,584 DEBUG impl.RaftServerImpl (RaftServerImpl.java:requestVote(775)) - s0@group-09A0EF6A68F4 replies to vote request: s1<-s0#0:FAIL-t15. Peer's state: s0@group-09A0EF6A68F4:t15, leader=null, voted=s0, raftlog=s0@group-09A0EF6A68F4-SegmentedRaftLog:OPENED:c-1,f-1,i0, conf=-1: [s0:0.0.0.0:42611, s1:0.0.0.0:39575, s2:0.0.0.0:34382], old=null
2019-09-24 16:57:18,584 INFO  impl.LeaderElection (LeaderElection.java:askForVotes(178)) - s0@group-09A0EF6A68F4-LeaderElection39: begin an election at term 15 for -1: [s0:0.0.0.0:42611, s1:0.0.0.0:39575, s2:0.0.0.0:34382], old=null
2019-09-24 16:57:18,584 INFO  impl.LeaderElection (LeaderElection.java:askForVotes(178)) - s2@group-09A0EF6A68F4-LeaderElection38: begin an election at term 15 for -1: [s0:0.0.0.0:42611, s1:0.0.0.0:39575, s2:0.0.0.0:34382], old=null
2019-09-24 16:57:18,586 DEBUG impl.RaftServerImpl (RaftServerImpl.java:requestVote(743)) - s0@group-09A0EF6A68F4: receive requestVote(s1, group-09A0EF6A68F4, 16, (t:0, i:0))
2019-09-24 16:57:18,586 INFO  impl.RaftServerImpl (RaftServerImpl.java:setRole(170)) - s0@group-09A0EF6A68F4: changes role from CANDIDATE to FOLLOWER at term 16 for recognizeCandidate:s1
2019-09-24 16:57:18,586 INFO  impl.RoleInfo (RoleInfo.java:shutdownLeaderElection(134)) - s0: shutdown LeaderElection
2019-09-24 16:57:18,587 INFO  impl.RoleInfo (RoleInfo.java:updateAndGet(143)) - s0: start FollowerState
2019-09-24 16:57:18,587 DEBUG impl.RaftServerImpl (RaftServerImpl.java:requestVote(743)) - s2@group-09A0EF6A68F4: receive requestVote(s1, group-09A0EF6A68F4, 16, (t:0, i:0))
2019-09-24 16:57:18,588 DEBUG impl.RaftServerImpl (RaftServerImpl.java:requestVote(743)) - s0@group-09A0EF6A68F4: receive requestVote(s2, group-09A0EF6A68F4, 15, (t:0, i:0))
2019-09-24 16:57:18,588 INFO  impl.RaftServerImpl (RaftServerImpl.java:setRole(170)) - s2@group-09A0EF6A68F4: changes role from CANDIDATE to FOLLOWER at term 16 for recognizeCandidate:s1
2019-09-24 16:57:18,588 DEBUG impl.RaftServerImpl (RaftServerImpl.java:requestVote(743)) - s1@group-09A0EF6A68F4: receive requestVote(s0, group-09A0EF6A68F4, 15, (t:0, i:0))
2019-09-24 16:57:18,588 INFO  impl.LeaderElection (LeaderElection.java:logAndReturn(56)) - s2@group-09A0EF6A68F4-LeaderElection38: Election REJECTED; received 0 response(s) [] and 0 exception(s); s2@group-09A0EF6A68F4:t16, leader=null, voted=null, raftlog=s2@group-09A0EF6A68F4-SegmentedRaftLog:OPENED:c-1,f-1,i0, conf=-1: [s0:0.0.0.0:42611, s1:0.0.0.0:39575, s2:0.0.0.0:34382], old=null
2019-09-24 16:57:18,588 DEBUG impl.RaftServerImpl (RaftServerImpl.java:requestVote(775)) - s1@group-09A0EF6A68F4 replies to vote request: s0<-s1#0:FAIL-t16. Peer's state: s1@group-09A0EF6A68F4:t16, leader=null, voted=s1, raftlog=s1@group-09A0EF6A68F4-SegmentedRaftLog:OPENED:c-1,f-1,i0, conf=-1: [s0:0.0.0.0:42611, s1:0.0.0.0:39575, s2:0.0.0.0:34382], old=null
2019-09-24 16:57:18,588 DEBUG impl.RaftServerImpl (RaftServerImpl.java:requestVote(743)) - s1@group-09A0EF6A68F4: receive requestVote(s2, group-09A0EF6A68F4, 15, (t:0, i:0))
2019-09-24 16:57:18,588 INFO  impl.RoleInfo (RoleInfo.java:shutdownLeaderElection(134)) - s2: shutdown LeaderElection
2019-09-24 16:57:18,589 DEBUG impl.RaftServerImpl (RaftServerImpl.java:requestVote(775)) - s1@group-09A0EF6A68F4 replies to vote request: s2<-s1#0:FAIL-t16. Peer's state: s1@group-09A0EF6A68F4:t16, leader=null, voted=s1, raftlog=s1@group-09A0EF6A68F4-SegmentedRaftLog:OPENED:c-1,f-1,i0, conf=-1: [s0:0.0.0.0:42611, s1:0.0.0.0:39575, s2:0.0.0.0:34382], old=null
2019-09-24 16:57:18,589 INFO  impl.RoleInfo (RoleInfo.java:updateAndGet(143)) - s2: start FollowerState
2019-09-24 16:57:18,713 WARN  ratis.RaftTestUtil (JavaUtils.java:attempt(158)) - FAILED "waitForLeader-null-(expectLeader? true)", attempt #20/100: java.lang.IllegalStateException: No leader yet : printing ALL groups
  s0:  RUNNING  FOLLOWER s0@group-09A0EF6A68F4:t16, leader=null, voted=null, raftlog=s0@group-09A0EF6A68F4-SegmentedRaftLog:OPENED:c-1,f-1,i0, conf=-1: [s0:0.0.0.0:42611, s1:0.0.0.0:39575, s2:0.0.0.0:34382], old=null RUNNING
  s1:  RUNNING CANDIDATE s1@group-09A0EF6A68F4:t16, leader=null, voted=s1, raftlog=s1@group-09A0EF6A68F4-SegmentedRaftLog:OPENED:c-1,f-1,i0, conf=-1: [s0:0.0.0.0:42611, s1:0.0.0.0:39575, s2:0.0.0.0:34382], old=null RUNNING
  s2:  RUNNING  FOLLOWER s2@group-09A0EF6A68F4:t16, leader=null, voted=null, raftlog=s2@group-09A0EF6A68F4-SegmentedRaftLog:OPENED:c-1,f-1,i0, conf=-1: [s0:0.0.0.0:42611, s1:0.0.0.0:39575, s2:0.0.0.0:34382], old=null RUNNING, sleep 450ms and then retry.
java.lang.IllegalStateException: No leader yet : printing ALL groups
  s0:  RUNNING  FOLLOWER s0@group-09A0EF6A68F4:t16, leader=null, voted=null, raftlog=s0@group-09A0EF6A68F4-SegmentedRaftLog:OPENED:c-1,f-1,i0, conf=-1: [s0:0.0.0.0:42611, s1:0.0.0.0:39575, s2:0.0.0.0:34382], old=null RUNNING
  s1:  RUNNING CANDIDATE s1@group-09A0EF6A68F4:t16, leader=null, voted=s1, raftlog=s1@group-09A0EF6A68F4-SegmentedRaftLog:OPENED:c-1,f-1,i0, conf=-1: [s0:0.0.0.0:42611, s1:0.0.0.0:39575, s2:0.0.0.0:34382], old=null RUNNING
  s2:  RUNNING  FOLLOWER s2@group-09A0EF6A68F4:t16, leader=null, voted=null, raftlog=s2@group-09A0EF6A68F4-SegmentedRaftLog:OPENED:c-1,f-1,i0, conf=-1: [s0:0.0.0.0:42611, s1:0.0.0.0:39575, s2:0.0.0.0:34382], old=null RUNNING
	at org.apache.ratis.MiniRaftCluster.newIllegalStateExceptionForNoLeaders(MiniRaftCluster.java:506)
	at org.apache.ratis.RaftTestUtil.lambda$waitForLeader$1(RaftTestUtil.java:90)
	at org.apache.ratis.MiniRaftCluster.getLeader(MiniRaftCluster.java:539)
	at org.apache.ratis.MiniRaftCluster.getLeader(MiniRaftCluster.java:532)
	at org.apache.ratis.RaftTestUtil.lambda$waitForLeader$3(RaftTestUtil.java:98)
	at org.apache.ratis.util.JavaUtils.attempt(JavaUtils.java:152)
	at org.apache.ratis.RaftTestUtil.waitForLeader(RaftTestUtil.java:97)
	at org.apache.ratis.RaftTestUtil.waitForLeader(RaftTestUtil.java:77)
	at org.apache.ratis.RaftTestUtil.waitForLeader(RaftTestUtil.java:72)
	at org.apache.ratis.server.impl.RaftStateMachineExceptionTests.runTestRetryOnExceptionDuringReplication(RaftStateMachineExceptionTests.java:149)
	at org.apache.ratis.MiniRaftCluster$Factory$Get.runWithNewCluster(MiniRaftCluster.java:125)
	at org.apache.ratis.MiniRaftCluster$Factory$Get.runWithNewCluster(MiniRaftCluster.java:113)
	at org.apache.ratis.server.impl.RaftStateMachineExceptionTests.testRetryOnExceptionDuringReplication(RaftStateMachineExceptionTests.java:145)
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.lang.reflect.Method.invoke(Method.java:498)
	at org.junit.runners.model.FrameworkMethod$1.runReflectiveCall(FrameworkMethod.java:50)
	at org.junit.internal.runners.model.ReflectiveCallable.run(ReflectiveCallable.java:12)
	at org.junit.runners.model.FrameworkMethod.invokeExplosively(FrameworkMethod.java:47)
	at org.junit.internal.runners.statements.InvokeMethod.evaluate(InvokeMethod.java:17)
	at org.junit.internal.runners.statements.RunAfters.evaluate(RunAfters.java:27)
	at org.junit.internal.runners.statements.FailOnTimeout$CallableStatement.call(FailOnTimeout.java:298)
	at org.junit.internal.runners.statements.FailOnTimeout$CallableStatement.call(FailOnTimeout.java:292)
	at java.util.concurrent.FutureTask.run(FutureTask.java:266)
	at java.lang.Thread.run(Thread.java:748)
2019-09-24 16:57:18,847 DEBUG impl.RaftServerImpl (RaftServerImpl.java:requestVote(775)) - s0@group-09A0EF6A68F4 replies to vote request: s1<-s0#0:FAIL-t16. Peer's state: s0@group-09A0EF6A68F4:t16, leader=null, voted=null, raftlog=s0@group-09A0EF6A68F4-SegmentedRaftLog:OPENED:c-1,f-1,i0, conf=-1: [s0:0.0.0.0:42611, s1:0.0.0.0:39575, s2:0.0.0.0:34382], old=null
2019-09-24 16:57:18,847 DEBUG impl.RaftServerImpl (RaftServerImpl.java:requestVote(775)) - s2@group-09A0EF6A68F4 replies to vote request: s1<-s2#0:FAIL-t16. Peer's state: s2@group-09A0EF6A68F4:t16, leader=null, voted=null, raftlog=s2@group-09A0EF6A68F4-SegmentedRaftLog:OPENED:c-1,f-1,i0, conf=-1: [s0:0.0.0.0:42611, s1:0.0.0.0:39575, s2:0.0.0.0:34382], old=null
2019-09-24 16:57:18,848 DEBUG impl.RaftServerImpl (RaftServerImpl.java:requestVote(775)) - s0@group-09A0EF6A68F4 replies to vote request: s2<-s0#0:FAIL-t16. Peer's state: s0@group-09A0EF6A68F4:t16, leader=null, voted=null, raftlog=s0@group-09A0EF6A68F4-SegmentedRaftLog:OPENED:c-1,f-1,i0, conf=-1: [s0:0.0.0.0:42611, s1:0.0.0.0:39575, s2:0.0.0.0:34382], old=null
2019-09-24 16:57:18,848 INFO  impl.FollowerState (FollowerState.java:run(108)) - s2@group-09A0EF6A68F4-FollowerState: change to CANDIDATE, lastRpcTime:259ms, electionTimeout:179ms
2019-09-24 16:57:18,848 INFO  impl.LeaderElection (LeaderElection.java:logAndReturn(56)) - s1@group-09A0EF6A68F4-LeaderElection37: Election REJECTED; received 2 response(s) [s1<-s0#0:FAIL-t16, s1<-s2#0:FAIL-t16] and 0 exception(s); s1@group-09A0EF6A68F4:t16, leader=null, voted=s1, raftlog=s1@group-09A0EF6A68F4-SegmentedRaftLog:OPENED:c-1,f-1,i0, conf=-1: [s0:0.0.0.0:42611, s1:0.0.0.0:39575, s2:0.0.0.0:34382], old=null
2019-09-24 16:57:18,849 INFO  impl.RoleInfo (RoleInfo.java:shutdownFollowerState(121)) - s2: shutdown FollowerState
2019-09-24 16:57:18,849 INFO  impl.RaftServerImpl (RaftServerImpl.java:setRole(170)) - s1@group-09A0EF6A68F4: changes role from CANDIDATE to FOLLOWER at term 16 for DISCOVERED_A_NEW_TERM
2019-09-24 16:57:18,849 INFO  impl.LeaderElection (LeaderElection.java:logAndReturn(56)) - s0@group-09A0EF6A68F4-LeaderElection39: Election REJECTED; received 0 response(s) [] and 0 exception(s); s0@group-09A0EF6A68F4:t16, leader=null, voted=null, raftlog=s0@group-09A0EF6A68F4-SegmentedRaftLog:OPENED:c-1,f-1,i0, conf=-1: [s0:0.0.0.0:42611, s1:0.0.0.0:39575, s2:0.0.0.0:34382], old=null
2019-09-24 16:57:18,849 DEBUG impl.RaftServerImpl (RaftServerImpl.java:requestVote(743)) - s2@group-09A0EF6A68F4: receive requestVote(s0, group-09A0EF6A68F4, 15, (t:0, i:0))
2019-09-24 16:57:18,849 INFO  impl.RoleInfo (RoleInfo.java:shutdownLeaderElection(134)) - s1: shutdown LeaderElection
2019-09-24 16:57:18,849 INFO  impl.RaftServerImpl (RaftServerImpl.java:setRole(170)) - s2@group-09A0EF6A68F4: changes role from  FOLLOWER to CANDIDATE at term 16 for changeToCandidate
2019-09-24 16:57:18,850 INFO  impl.RoleInfo (RoleInfo.java:updateAndGet(143)) - s1: start FollowerState
2019-09-24 16:57:18,850 INFO  impl.RoleInfo (RoleInfo.java:updateAndGet(143)) - s2: start LeaderElection
2019-09-24 16:57:18,851 DEBUG impl.RaftServerImpl (RaftServerImpl.java:requestVote(775)) - s2@group-09A0EF6A68F4 replies to vote request: s0<-s2#0:FAIL-t16. Peer's state: s2@group-09A0EF6A68F4:t16, leader=null, voted=null, raftlog=s2@group-09A0EF6A68F4-SegmentedRaftLog:OPENED:c-1,f-1,i0, conf=-1: [s0:0.0.0.0:42611, s1:0.0.0.0:39575, s2:0.0.0.0:34382], old=null
2019-09-24 16:57:18,888 INFO  impl.FollowerState (FollowerState.java:run(108)) - s0@group-09A0EF6A68F4-FollowerState: change to CANDIDATE, lastRpcTime:301ms, electionTimeout:300ms
2019-09-24 16:57:18,889 INFO  impl.RoleInfo (RoleInfo.java:shutdownFollowerState(121)) - s0: shutdown FollowerState
2019-09-24 16:57:18,889 INFO  impl.RaftServerImpl (RaftServerImpl.java:setRole(170)) - s0@group-09A0EF6A68F4: changes role from  FOLLOWER to CANDIDATE at term 16 for changeToCandidate
2019-09-24 16:57:18,889 INFO  impl.RoleInfo (RoleInfo.java:updateAndGet(143)) - s0: start LeaderElection
2019-09-24 16:57:19,127 INFO  impl.FollowerState (FollowerState.java:run(108)) - s1@group-09A0EF6A68F4-FollowerState: change to CANDIDATE, lastRpcTime:277ms, electionTimeout:276ms
2019-09-24 16:57:19,127 INFO  impl.RoleInfo (RoleInfo.java:shutdownFollowerState(121)) - s1: shutdown FollowerState
2019-09-24 16:57:19,128 INFO  impl.RaftServerImpl (RaftServerImpl.java:setRole(170)) - s1@group-09A0EF6A68F4: changes role from  FOLLOWER to CANDIDATE at term 16 for changeToCandidate
2019-09-24 16:57:19,128 INFO  impl.RoleInfo (RoleInfo.java:updateAndGet(143)) - s1: start LeaderElection
2019-09-24 16:57:19,165 WARN  ratis.RaftTestUtil (JavaUtils.java:attempt(158)) - FAILED "waitForLeader-null-(expectLeader? true)", attempt #21/100: java.lang.IllegalStateException: No leader yet : printing ALL groups
  s0:  RUNNING CANDIDATE s0@group-09A0EF6A68F4:t17, leader=null, voted=s0, raftlog=s0@group-09A0EF6A68F4-SegmentedRaftLog:OPENED:c-1,f-1,i0, conf=-1: [s0:0.0.0.0:42611, s1:0.0.0.0:39575, s2:0.0.0.0:34382], old=null RUNNING
  s1:  RUNNING CANDIDATE s1@group-09A0EF6A68F4:t17, leader=null, voted=s1, raftlog=s1@group-09A0EF6A68F4-SegmentedRaftLog:OPENED:c-1,f-1,i0, conf=-1: [s0:0.0.0.0:42611, s1:0.0.0.0:39575, s2:0.0.0.0:34382], old=null RUNNING
  s2:  RUNNING CANDIDATE s2@group-09A0EF6A68F4:t17, leader=null, voted=s2, raftlog=s2@group-09A0EF6A68F4-SegmentedRaftLog:OPENED:c-1,f-1,i0, conf=-1: [s0:0.0.0.0:42611, s1:0.0.0.0:39575, s2:0.0.0.0:34382], old=null RUNNING, sleep 450ms and then retry.
java.lang.IllegalStateException: No leader yet : printing ALL groups
  s0:  RUNNING CANDIDATE s0@group-09A0EF6A68F4:t17, leader=null, voted=s0, raftlog=s0@group-09A0EF6A68F4-SegmentedRaftLog:OPENED:c-1,f-1,i0, conf=-1: [s0:0.0.0.0:42611, s1:0.0.0.0:39575, s2:0.0.0.0:34382], old=null RUNNING
  s1:  RUNNING CANDIDATE s1@group-09A0EF6A68F4:t17, leader=null, voted=s1, raftlog=s1@group-09A0EF6A68F4-SegmentedRaftLog:OPENED:c-1,f-1,i0, conf=-1: [s0:0.0.0.0:42611, s1:0.0.0.0:39575, s2:0.0.0.0:34382], old=null RUNNING
  s2:  RUNNING CANDIDATE s2@group-09A0EF6A68F4:t17, leader=null, voted=s2, raftlog=s2@group-09A0EF6A68F4-SegmentedRaftLog:OPENED:c-1,f-1,i0, conf=-1: [s0:0.0.0.0:42611, s1:0.0.0.0:39575, s2:0.0.0.0:34382], old=null RUNNING
	at org.apache.ratis.MiniRaftCluster.newIllegalStateExceptionForNoLeaders(MiniRaftCluster.java:506)
	at org.apache.ratis.RaftTestUtil.lambda$waitForLeader$1(RaftTestUtil.java:90)
	at org.apache.ratis.MiniRaftCluster.getLeader(MiniRaftCluster.java:539)
	at org.apache.ratis.MiniRaftCluster.getLeader(MiniRaftCluster.java:532)
	at org.apache.ratis.RaftTestUtil.lambda$waitForLeader$3(RaftTestUtil.java:98)
	at org.apache.ratis.util.JavaUtils.attempt(JavaUtils.java:152)
	at org.apache.ratis.RaftTestUtil.waitForLeader(RaftTestUtil.java:97)
	at org.apache.ratis.RaftTestUtil.waitForLeader(RaftTestUtil.java:77)
	at org.apache.ratis.RaftTestUtil.waitForLeader(RaftTestUtil.java:72)
	at org.apache.ratis.server.impl.RaftStateMachineExceptionTests.runTestRetryOnExceptionDuringReplication(RaftStateMachineExceptionTests.java:149)
	at org.apache.ratis.MiniRaftCluster$Factory$Get.runWithNewCluster(MiniRaftCluster.java:125)
	at org.apache.ratis.MiniRaftCluster$Factory$Get.runWithNewCluster(MiniRaftCluster.java:113)
	at org.apache.ratis.server.impl.RaftStateMachineExceptionTests.testRetryOnExceptionDuringReplication(RaftStateMachineExceptionTests.java:145)
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.lang.reflect.Method.invoke(Method.java:498)
	at org.junit.runners.model.FrameworkMethod$1.runReflectiveCall(FrameworkMethod.java:50)
	at org.junit.internal.runners.model.ReflectiveCallable.run(ReflectiveCallable.java:12)
	at org.junit.runners.model.FrameworkMethod.invokeExplosively(FrameworkMethod.java:47)
	at org.junit.internal.runners.statements.InvokeMethod.evaluate(InvokeMethod.java:17)
	at org.junit.internal.runners.statements.RunAfters.evaluate(RunAfters.java:27)
	at org.junit.internal.runners.statements.FailOnTimeout$CallableStatement.call(FailOnTimeout.java:298)
	at org.junit.internal.runners.statements.FailOnTimeout$CallableStatement.call(FailOnTimeout.java:292)
	at java.util.concurrent.FutureTask.run(FutureTask.java:266)
	at java.lang.Thread.run(Thread.java:748)
2019-09-24 16:57:19,375 INFO  impl.LeaderElection (LeaderElection.java:askForVotes(178)) - s1@group-09A0EF6A68F4-LeaderElection42: begin an election at term 17 for -1: [s0:0.0.0.0:42611, s1:0.0.0.0:39575, s2:0.0.0.0:34382], old=null
2019-09-24 16:57:19,375 INFO  impl.LeaderElection (LeaderElection.java:askForVotes(178)) - s0@group-09A0EF6A68F4-LeaderElection41: begin an election at term 17 for -1: [s0:0.0.0.0:42611, s1:0.0.0.0:39575, s2:0.0.0.0:34382], old=null
2019-09-24 16:57:19,375 INFO  impl.LeaderElection (LeaderElection.java:askForVotes(178)) - s2@group-09A0EF6A68F4-LeaderElection40: begin an election at term 17 for -1: [s0:0.0.0.0:42611, s1:0.0.0.0:39575, s2:0.0.0.0:34382], old=null
2019-09-24 16:57:19,378 DEBUG impl.RaftServerImpl (RaftServerImpl.java:requestVote(743)) - s0@group-09A0EF6A68F4: receive requestVote(s1, group-09A0EF6A68F4, 17, (t:0, i:0))
2019-09-24 16:57:19,378 DEBUG impl.RaftServerImpl (RaftServerImpl.java:requestVote(743)) - s0@group-09A0EF6A68F4: receive requestVote(s2, group-09A0EF6A68F4, 17, (t:0, i:0))
2019-09-24 16:57:19,378 DEBUG impl.RaftServerImpl (RaftServerImpl.java:requestVote(743)) - s1@group-09A0EF6A68F4: receive requestVote(s0, group-09A0EF6A68F4, 17, (t:0, i:0))
2019-09-24 16:57:19,378 DEBUG impl.RaftServerImpl (RaftServerImpl.java:requestVote(743)) - s2@group-09A0EF6A68F4: receive requestVote(s0, group-09A0EF6A68F4, 17, (t:0, i:0))
2019-09-24 16:57:19,378 DEBUG impl.RaftServerImpl (RaftServerImpl.java:requestVote(743)) - s1@group-09A0EF6A68F4: receive requestVote(s2, group-09A0EF6A68F4, 17, (t:0, i:0))
2019-09-24 16:57:19,378 DEBUG impl.RaftServerImpl (RaftServerImpl.java:requestVote(743)) - s2@group-09A0EF6A68F4: receive requestVote(s1, group-09A0EF6A68F4, 17, (t:0, i:0))
2019-09-24 16:57:19,378 DEBUG impl.RaftServerImpl (RaftServerImpl.java:requestVote(775)) - s0@group-09A0EF6A68F4 replies to vote request: s1<-s0#0:FAIL-t17. Peer's state: s0@group-09A0EF6A68F4:t17, leader=null, voted=s0, raftlog=s0@group-09A0EF6A68F4-SegmentedRaftLog:OPENED:c-1,f-1,i0, conf=-1: [s0:0.0.0.0:42611, s1:0.0.0.0:39575, s2:0.0.0.0:34382], old=null
2019-09-24 16:57:19,379 DEBUG impl.RaftServerImpl (RaftServerImpl.java:requestVote(775)) - s2@group-09A0EF6A68F4 replies to vote request: s0<-s2#0:FAIL-t17. Peer's state: s2@group-09A0EF6A68F4:t17, leader=null, voted=s2, raftlog=s2@group-09A0EF6A68F4-SegmentedRaftLog:OPENED:c-1,f-1,i0, conf=-1: [s0:0.0.0.0:42611, s1:0.0.0.0:39575, s2:0.0.0.0:34382], old=null
2019-09-24 16:57:19,378 DEBUG impl.RaftServerImpl (RaftServerImpl.java:requestVote(775)) - s1@group-09A0EF6A68F4 replies to vote request: s0<-s1#0:FAIL-t17. Peer's state: s1@group-09A0EF6A68F4:t17, leader=null, voted=s1, raftlog=s1@group-09A0EF6A68F4-SegmentedRaftLog:OPENED:c-1,f-1,i0, conf=-1: [s0:0.0.0.0:42611, s1:0.0.0.0:39575, s2:0.0.0.0:34382], old=null
2019-09-24 16:57:19,379 DEBUG impl.RaftServerImpl (RaftServerImpl.java:requestVote(775)) - s2@group-09A0EF6A68F4 replies to vote request: s1<-s2#0:FAIL-t17. Peer's state: s2@group-09A0EF6A68F4:t17, leader=null, voted=s2, raftlog=s2@group-09A0EF6A68F4-SegmentedRaftLog:OPENED:c-1,f-1,i0, conf=-1: [s0:0.0.0.0:42611, s1:0.0.0.0:39575, s2:0.0.0.0:34382], old=null
2019-09-24 16:57:19,379 DEBUG impl.RaftServerImpl (RaftServerImpl.java:requestVote(775)) - s1@group-09A0EF6A68F4 replies to vote request: s2<-s1#0:FAIL-t17. Peer's state: s1@group-09A0EF6A68F4:t17, leader=null, voted=s1, raftlog=s1@group-09A0EF6A68F4-SegmentedRaftLog:OPENED:c-1,f-1,i0, conf=-1: [s0:0.0.0.0:42611, s1:0.0.0.0:39575, s2:0.0.0.0:34382], old=null
2019-09-24 16:57:19,379 DEBUG impl.RaftServerImpl (RaftServerImpl.java:requestVote(775)) - s0@group-09A0EF6A68F4 replies to vote request: s2<-s0#0:FAIL-t17. Peer's state: s0@group-09A0EF6A68F4:t17, leader=null, voted=s0, raftlog=s0@group-09A0EF6A68F4-SegmentedRaftLog:OPENED:c-1,f-1,i0, conf=-1: [s0:0.0.0.0:42611, s1:0.0.0.0:39575, s2:0.0.0.0:34382], old=null
2019-09-24 16:57:19,380 INFO  impl.LeaderElection (LeaderElection.java:logAndReturn(56)) - s1@group-09A0EF6A68F4-LeaderElection42: Election REJECTED; received 2 response(s) [s1<-s0#0:FAIL-t17, s1<-s2#0:FAIL-t17] and 0 exception(s); s1@group-09A0EF6A68F4:t17, leader=null, voted=s1, raftlog=s1@group-09A0EF6A68F4-SegmentedRaftLog:OPENED:c-1,f-1,i0, conf=-1: [s0:0.0.0.0:42611, s1:0.0.0.0:39575, s2:0.0.0.0:34382], old=null
2019-09-24 16:57:19,380 INFO  impl.LeaderElection (LeaderElection.java:logAndReturn(56)) - s0@group-09A0EF6A68F4-LeaderElection41: Election REJECTED; received 2 response(s) [s0<-s1#0:FAIL-t17, s0<-s2#0:FAIL-t17] and 0 exception(s); s0@group-09A0EF6A68F4:t17, leader=null, voted=s0, raftlog=s0@group-09A0EF6A68F4-SegmentedRaftLog:OPENED:c-1,f-1,i0, conf=-1: [s0:0.0.0.0:42611, s1:0.0.0.0:39575, s2:0.0.0.0:34382], old=null
2019-09-24 16:57:19,380 INFO  impl.RaftServerImpl (RaftServerImpl.java:setRole(170)) - s1@group-09A0EF6A68F4: changes role from CANDIDATE to FOLLOWER at term 17 for DISCOVERED_A_NEW_TERM
2019-09-24 16:57:19,380 INFO  impl.LeaderElection (LeaderElection.java:logAndReturn(56)) - s2@group-09A0EF6A68F4-LeaderElection40: Election REJECTED; received 2 response(s) [s2<-s0#0:FAIL-t17, s2<-s1#0:FAIL-t17] and 0 exception(s); s2@group-09A0EF6A68F4:t17, leader=null, voted=s2, raftlog=s2@group-09A0EF6A68F4-SegmentedRaftLog:OPENED:c-1,f-1,i0, conf=-1: [s0:0.0.0.0:42611, s1:0.0.0.0:39575, s2:0.0.0.0:34382], old=null
2019-09-24 16:57:19,381 INFO  impl.RoleInfo (RoleInfo.java:shutdownLeaderElection(134)) - s1: shutdown LeaderElection
2019-09-24 16:57:19,380 INFO  impl.RaftServerImpl (RaftServerImpl.java:setRole(170)) - s0@group-09A0EF6A68F4: changes role from CANDIDATE to FOLLOWER at term 17 for DISCOVERED_A_NEW_TERM
2019-09-24 16:57:19,381 INFO  impl.RoleInfo (RoleInfo.java:updateAndGet(143)) - s1: start FollowerState
2019-09-24 16:57:19,381 INFO  impl.RaftServerImpl (RaftServerImpl.java:setRole(170)) - s2@group-09A0EF6A68F4: changes role from CANDIDATE to FOLLOWER at term 17 for DISCOVERED_A_NEW_TERM
2019-09-24 16:57:19,381 INFO  impl.RoleInfo (RoleInfo.java:shutdownLeaderElection(134)) - s2: shutdown LeaderElection
2019-09-24 16:57:19,381 INFO  impl.RoleInfo (RoleInfo.java:shutdownLeaderElection(134)) - s0: shutdown LeaderElection
2019-09-24 16:57:19,382 INFO  impl.RoleInfo (RoleInfo.java:updateAndGet(143)) - s2: start FollowerState
2019-09-24 16:57:19,382 INFO  impl.RoleInfo (RoleInfo.java:updateAndGet(143)) - s0: start FollowerState
2019-09-24 16:57:19,580 INFO  impl.FollowerState (FollowerState.java:run(108)) - s1@group-09A0EF6A68F4-FollowerState: change to CANDIDATE, lastRpcTime:198ms, electionTimeout:198ms
2019-09-24 16:57:19,580 INFO  impl.RoleInfo (RoleInfo.java:shutdownFollowerState(121)) - s1: shutdown FollowerState
2019-09-24 16:57:19,580 INFO  impl.RaftServerImpl (RaftServerImpl.java:setRole(170)) - s1@group-09A0EF6A68F4: changes role from  FOLLOWER to CANDIDATE at term 17 for changeToCandidate
2019-09-24 16:57:19,580 INFO  impl.RoleInfo (RoleInfo.java:updateAndGet(143)) - s1: start LeaderElection
2019-09-24 16:57:19,617 WARN  ratis.RaftTestUtil (JavaUtils.java:attempt(158)) - FAILED "waitForLeader-null-(expectLeader? true)", attempt #22/100: java.lang.IllegalStateException: No leader yet : printing ALL groups
  s0:  RUNNING  FOLLOWER s0@group-09A0EF6A68F4:t17, leader=null, voted=s0, raftlog=s0@group-09A0EF6A68F4-SegmentedRaftLog:OPENED:c-1,f-1,i0, conf=-1: [s0:0.0.0.0:42611, s1:0.0.0.0:39575, s2:0.0.0.0:34382], old=null RUNNING
  s1:  RUNNING CANDIDATE s1@group-09A0EF6A68F4:t18, leader=null, voted=s1, raftlog=s1@group-09A0EF6A68F4-SegmentedRaftLog:OPENED:c-1,f-1,i0, conf=-1: [s0:0.0.0.0:42611, s1:0.0.0.0:39575, s2:0.0.0.0:34382], old=null RUNNING
  s2:  RUNNING  FOLLOWER s2@group-09A0EF6A68F4:t17, leader=null, voted=s2, raftlog=s2@group-09A0EF6A68F4-SegmentedRaftLog:OPENED:c-1,f-1,i0, conf=-1: [s0:0.0.0.0:42611, s1:0.0.0.0:39575, s2:0.0.0.0:34382], old=null RUNNING, sleep 450ms and then retry.
java.lang.IllegalStateException: No leader yet : printing ALL groups
  s0:  RUNNING  FOLLOWER s0@group-09A0EF6A68F4:t17, leader=null, voted=s0, raftlog=s0@group-09A0EF6A68F4-SegmentedRaftLog:OPENED:c-1,f-1,i0, conf=-1: [s0:0.0.0.0:42611, s1:0.0.0.0:39575, s2:0.0.0.0:34382], old=null RUNNING
  s1:  RUNNING CANDIDATE s1@group-09A0EF6A68F4:t18, leader=null, voted=s1, raftlog=s1@group-09A0EF6A68F4-SegmentedRaftLog:OPENED:c-1,f-1,i0, conf=-1: [s0:0.0.0.0:42611, s1:0.0.0.0:39575, s2:0.0.0.0:34382], old=null RUNNING
  s2:  RUNNING  FOLLOWER s2@group-09A0EF6A68F4:t17, leader=null, voted=s2, raftlog=s2@group-09A0EF6A68F4-SegmentedRaftLog:OPENED:c-1,f-1,i0, conf=-1: [s0:0.0.0.0:42611, s1:0.0.0.0:39575, s2:0.0.0.0:34382], old=null RUNNING
	at org.apache.ratis.MiniRaftCluster.newIllegalStateExceptionForNoLeaders(MiniRaftCluster.java:506)
	at org.apache.ratis.RaftTestUtil.lambda$waitForLeader$1(RaftTestUtil.java:90)
	at org.apache.ratis.MiniRaftCluster.getLeader(MiniRaftCluster.java:539)
	at org.apache.ratis.MiniRaftCluster.getLeader(MiniRaftCluster.java:532)
	at org.apache.ratis.RaftTestUtil.lambda$waitForLeader$3(RaftTestUtil.java:98)
	at org.apache.ratis.util.JavaUtils.attempt(JavaUtils.java:152)
	at org.apache.ratis.RaftTestUtil.waitForLeader(RaftTestUtil.java:97)
	at org.apache.ratis.RaftTestUtil.waitForLeader(RaftTestUtil.java:77)
	at org.apache.ratis.RaftTestUtil.waitForLeader(RaftTestUtil.java:72)
	at org.apache.ratis.server.impl.RaftStateMachineExceptionTests.runTestRetryOnExceptionDuringReplication(RaftStateMachineExceptionTests.java:149)
	at org.apache.ratis.MiniRaftCluster$Factory$Get.runWithNewCluster(MiniRaftCluster.java:125)
	at org.apache.ratis.MiniRaftCluster$Factory$Get.runWithNewCluster(MiniRaftCluster.java:113)
	at org.apache.ratis.server.impl.RaftStateMachineExceptionTests.testRetryOnExceptionDuringReplication(RaftStateMachineExceptionTests.java:145)
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.lang.reflect.Method.invoke(Method.java:498)
	at org.junit.runners.model.FrameworkMethod$1.runReflectiveCall(FrameworkMethod.java:50)
	at org.junit.internal.runners.model.ReflectiveCallable.run(ReflectiveCallable.java:12)
	at org.junit.runners.model.FrameworkMethod.invokeExplosively(FrameworkMethod.java:47)
	at org.junit.internal.runners.statements.InvokeMethod.evaluate(InvokeMethod.java:17)
	at org.junit.internal.runners.statements.RunAfters.evaluate(RunAfters.java:27)
	at org.junit.internal.runners.statements.FailOnTimeout$CallableStatement.call(FailOnTimeout.java:298)
	at org.junit.internal.runners.statements.FailOnTimeout$CallableStatement.call(FailOnTimeout.java:292)
	at java.util.concurrent.FutureTask.run(FutureTask.java:266)
	at java.lang.Thread.run(Thread.java:748)
2019-09-24 16:57:19,620 INFO  impl.FollowerState (FollowerState.java:run(108)) - s0@group-09A0EF6A68F4-FollowerState: change to CANDIDATE, lastRpcTime:237ms, electionTimeout:237ms
2019-09-24 16:57:19,620 INFO  impl.RoleInfo (RoleInfo.java:shutdownFollowerState(121)) - s0: shutdown FollowerState
2019-09-24 16:57:19,620 INFO  impl.RaftServerImpl (RaftServerImpl.java:setRole(170)) - s0@group-09A0EF6A68F4: changes role from  FOLLOWER to CANDIDATE at term 17 for changeToCandidate
2019-09-24 16:57:19,620 INFO  impl.RoleInfo (RoleInfo.java:updateAndGet(143)) - s0: start LeaderElection
2019-09-24 16:57:19,621 INFO  impl.FollowerState (FollowerState.java:run(108)) - s2@group-09A0EF6A68F4-FollowerState: change to CANDIDATE, lastRpcTime:239ms, electionTimeout:239ms
2019-09-24 16:57:19,622 INFO  impl.RoleInfo (RoleInfo.java:shutdownFollowerState(121)) - s2: shutdown FollowerState
2019-09-24 16:57:19,622 INFO  impl.RaftServerImpl (RaftServerImpl.java:setRole(170)) - s2@group-09A0EF6A68F4: changes role from  FOLLOWER to CANDIDATE at term 17 for changeToCandidate
2019-09-24 16:57:19,622 INFO  impl.RoleInfo (RoleInfo.java:updateAndGet(143)) - s2: start LeaderElection
2019-09-24 16:57:20,055 INFO  impl.LeaderElection (LeaderElection.java:askForVotes(178)) - s0@group-09A0EF6A68F4-LeaderElection44: begin an election at term 18 for -1: [s0:0.0.0.0:42611, s1:0.0.0.0:39575, s2:0.0.0.0:34382], old=null
2019-09-24 16:57:20,055 INFO  impl.LeaderElection (LeaderElection.java:askForVotes(178)) - s1@group-09A0EF6A68F4-LeaderElection43: begin an election at term 18 for -1: [s0:0.0.0.0:42611, s1:0.0.0.0:39575, s2:0.0.0.0:34382], old=null
2019-09-24 16:57:20,055 INFO  impl.LeaderElection (LeaderElection.java:askForVotes(178)) - s2@group-09A0EF6A68F4-LeaderElection45: begin an election at term 18 for -1: [s0:0.0.0.0:42611, s1:0.0.0.0:39575, s2:0.0.0.0:34382], old=null
2019-09-24 16:57:20,056 DEBUG impl.RaftServerImpl (RaftServerImpl.java:requestVote(743)) - s1@group-09A0EF6A68F4: receive requestVote(s0, group-09A0EF6A68F4, 18, (t:0, i:0))
2019-09-24 16:57:20,056 DEBUG impl.RaftServerImpl (RaftServerImpl.java:requestVote(743)) - s0@group-09A0EF6A68F4: receive requestVote(s2, group-09A0EF6A68F4, 18, (t:0, i:0))
2019-09-24 16:57:20,056 DEBUG impl.RaftServerImpl (RaftServerImpl.java:requestVote(743)) - s2@group-09A0EF6A68F4: receive requestVote(s0, group-09A0EF6A68F4, 18, (t:0, i:0))
2019-09-24 16:57:20,057 DEBUG impl.RaftServerImpl (RaftServerImpl.java:requestVote(775)) - s0@group-09A0EF6A68F4 replies to vote request: s2<-s0#0:FAIL-t18. Peer's state: s0@group-09A0EF6A68F4:t18, leader=null, voted=s0, raftlog=s0@group-09A0EF6A68F4-SegmentedRaftLog:OPENED:c-1,f-1,i0, conf=-1: [s0:0.0.0.0:42611, s1:0.0.0.0:39575, s2:0.0.0.0:34382], old=null
2019-09-24 16:57:20,056 DEBUG impl.RaftServerImpl (RaftServerImpl.java:requestVote(775)) - s1@group-09A0EF6A68F4 replies to vote request: s0<-s1#0:FAIL-t18. Peer's state: s1@group-09A0EF6A68F4:t18, leader=null, voted=s1, raftlog=s1@group-09A0EF6A68F4-SegmentedRaftLog:OPENED:c-1,f-1,i0, conf=-1: [s0:0.0.0.0:42611, s1:0.0.0.0:39575, s2:0.0.0.0:34382], old=null
2019-09-24 16:57:20,056 DEBUG impl.RaftServerImpl (RaftServerImpl.java:requestVote(743)) - s0@group-09A0EF6A68F4: receive requestVote(s1, group-09A0EF6A68F4, 18, (t:0, i:0))
2019-09-24 16:57:20,057 DEBUG impl.RaftServerImpl (RaftServerImpl.java:requestVote(743)) - s2@group-09A0EF6A68F4: receive requestVote(s1, group-09A0EF6A68F4, 18, (t:0, i:0))
2019-09-24 16:57:20,057 DEBUG impl.RaftServerImpl (RaftServerImpl.java:requestVote(775)) - s2@group-09A0EF6A68F4 replies to vote request: s0<-s2#0:FAIL-t18. Peer's state: s2@group-09A0EF6A68F4:t18, leader=null, voted=s2, raftlog=s2@group-09A0EF6A68F4-SegmentedRaftLog:OPENED:c-1,f-1,i0, conf=-1: [s0:0.0.0.0:42611, s1:0.0.0.0:39575, s2:0.0.0.0:34382], old=null
2019-09-24 16:57:20,057 DEBUG impl.RaftServerImpl (RaftServerImpl.java:requestVote(743)) - s1@group-09A0EF6A68F4: receive requestVote(s2, group-09A0EF6A68F4, 18, (t:0, i:0))
2019-09-24 16:57:20,058 DEBUG impl.RaftServerImpl (RaftServerImpl.java:requestVote(775)) - s2@group-09A0EF6A68F4 replies to vote request: s1<-s2#0:FAIL-t18. Peer's state: s2@group-09A0EF6A68F4:t18, leader=null, voted=s2, raftlog=s2@group-09A0EF6A68F4-SegmentedRaftLog:OPENED:c-1,f-1,i0, conf=-1: [s0:0.0.0.0:42611, s1:0.0.0.0:39575, s2:0.0.0.0:34382], old=null
2019-09-24 16:57:20,057 DEBUG impl.RaftServerImpl (RaftServerImpl.java:requestVote(775)) - s0@group-09A0EF6A68F4 replies to vote request: s1<-s0#0:FAIL-t18. Peer's state: s0@group-09A0EF6A68F4:t18, leader=null, voted=s0, raftlog=s0@group-09A0EF6A68F4-SegmentedRaftLog:OPENED:c-1,f-1,i0, conf=-1: [s0:0.0.0.0:42611, s1:0.0.0.0:39575, s2:0.0.0.0:34382], old=null
2019-09-24 16:57:20,058 INFO  impl.LeaderElection (LeaderElection.java:logAndReturn(56)) - s0@group-09A0EF6A68F4-LeaderElection44: Election REJECTED; received 2 response(s) [s0<-s1#0:FAIL-t18, s0<-s2#0:FAIL-t18] and 0 exception(s); s0@group-09A0EF6A68F4:t18, leader=null, voted=s0, raftlog=s0@group-09A0EF6A68F4-SegmentedRaftLog:OPENED:c-1,f-1,i0, conf=-1: [s0:0.0.0.0:42611, s1:0.0.0.0:39575, s2:0.0.0.0:34382], old=null
2019-09-24 16:57:20,058 DEBUG impl.RaftServerImpl (RaftServerImpl.java:requestVote(775)) - s1@group-09A0EF6A68F4 replies to vote request: s2<-s1#0:FAIL-t18. Peer's state: s1@group-09A0EF6A68F4:t18, leader=null, voted=s1, raftlog=s1@group-09A0EF6A68F4-SegmentedRaftLog:OPENED:c-1,f-1,i0, conf=-1: [s0:0.0.0.0:42611, s1:0.0.0.0:39575, s2:0.0.0.0:34382], old=null
2019-09-24 16:57:20,059 INFO  impl.RaftServerImpl (RaftServerImpl.java:setRole(170)) - s0@group-09A0EF6A68F4: changes role from CANDIDATE to FOLLOWER at term 18 for DISCOVERED_A_NEW_TERM
2019-09-24 16:57:20,059 INFO  impl.RoleInfo (RoleInfo.java:shutdownLeaderElection(134)) - s0: shutdown LeaderElection
2019-09-24 16:57:20,059 INFO  impl.LeaderElection (LeaderElection.java:logAndReturn(56)) - s1@group-09A0EF6A68F4-LeaderElection43: Election REJECTED; received 2 response(s) [s1<-s0#0:FAIL-t18, s1<-s2#0:FAIL-t18] and 0 exception(s); s1@group-09A0EF6A68F4:t18, leader=null, voted=s1, raftlog=s1@group-09A0EF6A68F4-SegmentedRaftLog:OPENED:c-1,f-1,i0, conf=-1: [s0:0.0.0.0:42611, s1:0.0.0.0:39575, s2:0.0.0.0:34382], old=null
2019-09-24 16:57:20,059 INFO  impl.RoleInfo (RoleInfo.java:updateAndGet(143)) - s0: start FollowerState
2019-09-24 16:57:20,059 INFO  impl.LeaderElection (LeaderElection.java:logAndReturn(56)) - s2@group-09A0EF6A68F4-LeaderElection45: Election REJECTED; received 2 response(s) [s2<-s0#0:FAIL-t18, s2<-s1#0:FAIL-t18] and 0 exception(s); s2@group-09A0EF6A68F4:t18, leader=null, voted=s2, raftlog=s2@group-09A0EF6A68F4-SegmentedRaftLog:OPENED:c-1,f-1,i0, conf=-1: [s0:0.0.0.0:42611, s1:0.0.0.0:39575, s2:0.0.0.0:34382], old=null
2019-09-24 16:57:20,059 INFO  impl.RaftServerImpl (RaftServerImpl.java:setRole(170)) - s1@group-09A0EF6A68F4: changes role from CANDIDATE to FOLLOWER at term 18 for DISCOVERED_A_NEW_TERM
2019-09-24 16:57:20,060 INFO  impl.RaftServerImpl (RaftServerImpl.java:setRole(170)) - s2@group-09A0EF6A68F4: changes role from CANDIDATE to FOLLOWER at term 18 for DISCOVERED_A_NEW_TERM
2019-09-24 16:57:20,060 INFO  impl.RoleInfo (RoleInfo.java:shutdownLeaderElection(134)) - s1: shutdown LeaderElection
2019-09-24 16:57:20,060 INFO  impl.RoleInfo (RoleInfo.java:shutdownLeaderElection(134)) - s2: shutdown LeaderElection
2019-09-24 16:57:20,060 INFO  impl.RoleInfo (RoleInfo.java:updateAndGet(143)) - s1: start FollowerState
2019-09-24 16:57:20,060 INFO  impl.RoleInfo (RoleInfo.java:updateAndGet(143)) - s2: start FollowerState
2019-09-24 16:57:20,069 WARN  ratis.RaftTestUtil (JavaUtils.java:attempt(158)) - FAILED "waitForLeader-null-(expectLeader? true)", attempt #23/100: java.lang.IllegalStateException: No leader yet : printing ALL groups
  s0:  RUNNING  FOLLOWER s0@group-09A0EF6A68F4:t18, leader=null, voted=s0, raftlog=s0@group-09A0EF6A68F4-SegmentedRaftLog:OPENED:c-1,f-1,i0, conf=-1: [s0:0.0.0.0:42611, s1:0.0.0.0:39575, s2:0.0.0.0:34382], old=null RUNNING
  s1:  RUNNING  FOLLOWER s1@group-09A0EF6A68F4:t18, leader=null, voted=s1, raftlog=s1@group-09A0EF6A68F4-SegmentedRaftLog:OPENED:c-1,f-1,i0, conf=-1: [s0:0.0.0.0:42611, s1:0.0.0.0:39575, s2:0.0.0.0:34382], old=null RUNNING
  s2:  RUNNING  FOLLOWER s2@group-09A0EF6A68F4:t18, leader=null, voted=s2, raftlog=s2@group-09A0EF6A68F4-SegmentedRaftLog:OPENED:c-1,f-1,i0, conf=-1: [s0:0.0.0.0:42611, s1:0.0.0.0:39575, s2:0.0.0.0:34382], old=null RUNNING, sleep 450ms and then retry.
java.lang.IllegalStateException: No leader yet : printing ALL groups
  s0:  RUNNING  FOLLOWER s0@group-09A0EF6A68F4:t18, leader=null, voted=s0, raftlog=s0@group-09A0EF6A68F4-SegmentedRaftLog:OPENED:c-1,f-1,i0, conf=-1: [s0:0.0.0.0:42611, s1:0.0.0.0:39575, s2:0.0.0.0:34382], old=null RUNNING
  s1:  RUNNING  FOLLOWER s1@group-09A0EF6A68F4:t18, leader=null, voted=s1, raftlog=s1@group-09A0EF6A68F4-SegmentedRaftLog:OPENED:c-1,f-1,i0, conf=-1: [s0:0.0.0.0:42611, s1:0.0.0.0:39575, s2:0.0.0.0:34382], old=null RUNNING
  s2:  RUNNING  FOLLOWER s2@group-09A0EF6A68F4:t18, leader=null, voted=s2, raftlog=s2@group-09A0EF6A68F4-SegmentedRaftLog:OPENED:c-1,f-1,i0, conf=-1: [s0:0.0.0.0:42611, s1:0.0.0.0:39575, s2:0.0.0.0:34382], old=null RUNNING
	at org.apache.ratis.MiniRaftCluster.newIllegalStateExceptionForNoLeaders(MiniRaftCluster.java:506)
	at org.apache.ratis.RaftTestUtil.lambda$waitForLeader$1(RaftTestUtil.java:90)
	at org.apache.ratis.MiniRaftCluster.getLeader(MiniRaftCluster.java:539)
	at org.apache.ratis.MiniRaftCluster.getLeader(MiniRaftCluster.java:532)
	at org.apache.ratis.RaftTestUtil.lambda$waitForLeader$3(RaftTestUtil.java:98)
	at org.apache.ratis.util.JavaUtils.attempt(JavaUtils.java:152)
	at org.apache.ratis.RaftTestUtil.waitForLeader(RaftTestUtil.java:97)
	at org.apache.ratis.RaftTestUtil.waitForLeader(RaftTestUtil.java:77)
	at org.apache.ratis.RaftTestUtil.waitForLeader(RaftTestUtil.java:72)
	at org.apache.ratis.server.impl.RaftStateMachineExceptionTests.runTestRetryOnExceptionDuringReplication(RaftStateMachineExceptionTests.java:149)
	at org.apache.ratis.MiniRaftCluster$Factory$Get.runWithNewCluster(MiniRaftCluster.java:125)
	at org.apache.ratis.MiniRaftCluster$Factory$Get.runWithNewCluster(MiniRaftCluster.java:113)
	at org.apache.ratis.server.impl.RaftStateMachineExceptionTests.testRetryOnExceptionDuringReplication(RaftStateMachineExceptionTests.java:145)
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.lang.reflect.Method.invoke(Method.java:498)
	at org.junit.runners.model.FrameworkMethod$1.runReflectiveCall(FrameworkMethod.java:50)
	at org.junit.internal.runners.model.ReflectiveCallable.run(ReflectiveCallable.java:12)
	at org.junit.runners.model.FrameworkMethod.invokeExplosively(FrameworkMethod.java:47)
	at org.junit.internal.runners.statements.InvokeMethod.evaluate(InvokeMethod.java:17)
	at org.junit.internal.runners.statements.RunAfters.evaluate(RunAfters.java:27)
	at org.junit.internal.runners.statements.FailOnTimeout$CallableStatement.call(FailOnTimeout.java:298)
	at org.junit.internal.runners.statements.FailOnTimeout$CallableStatement.call(FailOnTimeout.java:292)
	at java.util.concurrent.FutureTask.run(FutureTask.java:266)
	at java.lang.Thread.run(Thread.java:748)
2019-09-24 16:57:20,126 INFO  ratis.MiniRaftCluster (MiniRaftCluster.java:lambda$null$5(297)) - TIMED-PRINT: printing ALL groups
  s0:  RUNNING  FOLLOWER s0@group-09A0EF6A68F4:t18, leader=null, voted=s0, raftlog=s0@group-09A0EF6A68F4-SegmentedRaftLog:OPENED:c-1,f-1,i0, conf=-1: [s0:0.0.0.0:42611, s1:0.0.0.0:39575, s2:0.0.0.0:34382], old=null RUNNING
  s1:  RUNNING  FOLLOWER s1@group-09A0EF6A68F4:t18, leader=null, voted=s1, raftlog=s1@group-09A0EF6A68F4-SegmentedRaftLog:OPENED:c-1,f-1,i0, conf=-1: [s0:0.0.0.0:42611, s1:0.0.0.0:39575, s2:0.0.0.0:34382], old=null RUNNING
  s2:  RUNNING  FOLLOWER s2@group-09A0EF6A68F4:t18, leader=null, voted=s2, raftlog=s2@group-09A0EF6A68F4-SegmentedRaftLog:OPENED:c-1,f-1,i0, conf=-1: [s0:0.0.0.0:42611, s1:0.0.0.0:39575, s2:0.0.0.0:34382], old=null RUNNING
2019-09-24 16:57:20,243 INFO  impl.FollowerState (FollowerState.java:run(108)) - s0@group-09A0EF6A68F4-FollowerState: change to CANDIDATE, lastRpcTime:184ms, electionTimeout:183ms
2019-09-24 16:57:20,244 INFO  impl.RoleInfo (RoleInfo.java:shutdownFollowerState(121)) - s0: shutdown FollowerState
2019-09-24 16:57:20,244 INFO  impl.RaftServerImpl (RaftServerImpl.java:setRole(170)) - s0@group-09A0EF6A68F4: changes role from  FOLLOWER to CANDIDATE at term 18 for changeToCandidate
2019-09-24 16:57:20,244 INFO  impl.RoleInfo (RoleInfo.java:updateAndGet(143)) - s0: start LeaderElection
2019-09-24 16:57:20,277 INFO  impl.FollowerState (FollowerState.java:run(108)) - s2@group-09A0EF6A68F4-FollowerState: change to CANDIDATE, lastRpcTime:216ms, electionTimeout:216ms
2019-09-24 16:57:20,278 INFO  impl.RoleInfo (RoleInfo.java:shutdownFollowerState(121)) - s2: shutdown FollowerState
2019-09-24 16:57:20,278 INFO  impl.RaftServerImpl (RaftServerImpl.java:setRole(170)) - s2@group-09A0EF6A68F4: changes role from  FOLLOWER to CANDIDATE at term 18 for changeToCandidate
2019-09-24 16:57:20,278 INFO  impl.RoleInfo (RoleInfo.java:updateAndGet(143)) - s2: start LeaderElection
2019-09-24 16:57:20,319 INFO  impl.FollowerState (FollowerState.java:run(108)) - s1@group-09A0EF6A68F4-FollowerState: change to CANDIDATE, lastRpcTime:258ms, electionTimeout:258ms
2019-09-24 16:57:20,319 INFO  impl.RoleInfo (RoleInfo.java:shutdownFollowerState(121)) - s1: shutdown FollowerState
2019-09-24 16:57:20,319 INFO  impl.RaftServerImpl (RaftServerImpl.java:setRole(170)) - s1@group-09A0EF6A68F4: changes role from  FOLLOWER to CANDIDATE at term 18 for changeToCandidate
2019-09-24 16:57:20,320 INFO  impl.RoleInfo (RoleInfo.java:updateAndGet(143)) - s1: start LeaderElection
2019-09-24 16:57:20,521 WARN  ratis.RaftTestUtil (JavaUtils.java:attempt(158)) - FAILED "waitForLeader-null-(expectLeader? true)", attempt #24/100: java.lang.IllegalStateException: No leader yet : printing ALL groups
  s0:  RUNNING CANDIDATE s0@group-09A0EF6A68F4:t19, leader=null, voted=s0, raftlog=s0@group-09A0EF6A68F4-SegmentedRaftLog:OPENED:c-1,f-1,i0, conf=-1: [s0:0.0.0.0:42611, s1:0.0.0.0:39575, s2:0.0.0.0:34382], old=null RUNNING
  s1:  RUNNING CANDIDATE s1@group-09A0EF6A68F4:t19, leader=null, voted=s1, raftlog=s1@group-09A0EF6A68F4-SegmentedRaftLog:OPENED:c-1,f-1,i0, conf=-1: [s0:0.0.0.0:42611, s1:0.0.0.0:39575, s2:0.0.0.0:34382], old=null RUNNING
  s2:  RUNNING CANDIDATE s2@group-09A0EF6A68F4:t19, leader=null, voted=s2, raftlog=s2@group-09A0EF6A68F4-SegmentedRaftLog:OPENED:c-1,f-1,i0, conf=-1: [s0:0.0.0.0:42611, s1:0.0.0.0:39575, s2:0.0.0.0:34382], old=null RUNNING, sleep 450ms and then retry.
java.lang.IllegalStateException: No leader yet : printing ALL groups
  s0:  RUNNING CANDIDATE s0@group-09A0EF6A68F4:t19, leader=null, voted=s0, raftlog=s0@group-09A0EF6A68F4-SegmentedRaftLog:OPENED:c-1,f-1,i0, conf=-1: [s0:0.0.0.0:42611, s1:0.0.0.0:39575, s2:0.0.0.0:34382], old=null RUNNING
  s1:  RUNNING CANDIDATE s1@group-09A0EF6A68F4:t19, leader=null, voted=s1, raftlog=s1@group-09A0EF6A68F4-SegmentedRaftLog:OPENED:c-1,f-1,i0, conf=-1: [s0:0.0.0.0:42611, s1:0.0.0.0:39575, s2:0.0.0.0:34382], old=null RUNNING
  s2:  RUNNING CANDIDATE s2@group-09A0EF6A68F4:t19, leader=null, voted=s2, raftlog=s2@group-09A0EF6A68F4-SegmentedRaftLog:OPENED:c-1,f-1,i0, conf=-1: [s0:0.0.0.0:42611, s1:0.0.0.0:39575, s2:0.0.0.0:34382], old=null RUNNING
	at org.apache.ratis.MiniRaftCluster.newIllegalStateExceptionForNoLeaders(MiniRaftCluster.java:506)
	at org.apache.ratis.RaftTestUtil.lambda$waitForLeader$1(RaftTestUtil.java:90)
	at org.apache.ratis.MiniRaftCluster.getLeader(MiniRaftCluster.java:539)
	at org.apache.ratis.MiniRaftCluster.getLeader(MiniRaftCluster.java:532)
	at org.apache.ratis.RaftTestUtil.lambda$waitForLeader$3(RaftTestUtil.java:98)
	at org.apache.ratis.util.JavaUtils.attempt(JavaUtils.java:152)
	at org.apache.ratis.RaftTestUtil.waitForLeader(RaftTestUtil.java:97)
	at org.apache.ratis.RaftTestUtil.waitForLeader(RaftTestUtil.java:77)
	at org.apache.ratis.RaftTestUtil.waitForLeader(RaftTestUtil.java:72)
	at org.apache.ratis.server.impl.RaftStateMachineExceptionTests.runTestRetryOnExceptionDuringReplication(RaftStateMachineExceptionTests.java:149)
	at org.apache.ratis.MiniRaftCluster$Factory$Get.runWithNewCluster(MiniRaftCluster.java:125)
	at org.apache.ratis.MiniRaftCluster$Factory$Get.runWithNewCluster(MiniRaftCluster.java:113)
	at org.apache.ratis.server.impl.RaftStateMachineExceptionTests.testRetryOnExceptionDuringReplication(RaftStateMachineExceptionTests.java:145)
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.lang.reflect.Method.invoke(Method.java:498)
	at org.junit.runners.model.FrameworkMethod$1.runReflectiveCall(FrameworkMethod.java:50)
	at org.junit.internal.runners.model.ReflectiveCallable.run(ReflectiveCallable.java:12)
	at org.junit.runners.model.FrameworkMethod.invokeExplosively(FrameworkMethod.java:47)
	at org.junit.internal.runners.statements.InvokeMethod.evaluate(InvokeMethod.java:17)
	at org.junit.internal.runners.statements.RunAfters.evaluate(RunAfters.java:27)
	at org.junit.internal.runners.statements.FailOnTimeout$CallableStatement.call(FailOnTimeout.java:298)
	at org.junit.internal.runners.statements.FailOnTimeout$CallableStatement.call(FailOnTimeout.java:292)
	at java.util.concurrent.FutureTask.run(FutureTask.java:266)
	at java.lang.Thread.run(Thread.java:748)
2019-09-24 16:57:20,742 INFO  impl.LeaderElection (LeaderElection.java:askForVotes(178)) - s2@group-09A0EF6A68F4-LeaderElection47: begin an election at term 19 for -1: [s0:0.0.0.0:42611, s1:0.0.0.0:39575, s2:0.0.0.0:34382], old=null
2019-09-24 16:57:20,742 INFO  impl.LeaderElection (LeaderElection.java:askForVotes(178)) - s1@group-09A0EF6A68F4-LeaderElection48: begin an election at term 19 for -1: [s0:0.0.0.0:42611, s1:0.0.0.0:39575, s2:0.0.0.0:34382], old=null
2019-09-24 16:57:20,742 INFO  impl.LeaderElection (LeaderElection.java:askForVotes(178)) - s0@group-09A0EF6A68F4-LeaderElection46: begin an election at term 19 for -1: [s0:0.0.0.0:42611, s1:0.0.0.0:39575, s2:0.0.0.0:34382], old=null
2019-09-24 16:57:20,744 DEBUG impl.RaftServerImpl (RaftServerImpl.java:requestVote(743)) - s0@group-09A0EF6A68F4: receive requestVote(s2, group-09A0EF6A68F4, 19, (t:0, i:0))
2019-09-24 16:57:20,744 DEBUG impl.RaftServerImpl (RaftServerImpl.java:requestVote(743)) - s0@group-09A0EF6A68F4: receive requestVote(s1, group-09A0EF6A68F4, 19, (t:0, i:0))
2019-09-24 16:57:20,744 DEBUG impl.RaftServerImpl (RaftServerImpl.java:requestVote(743)) - s1@group-09A0EF6A68F4: receive requestVote(s0, group-09A0EF6A68F4, 19, (t:0, i:0))
2019-09-24 16:57:20,744 DEBUG impl.RaftServerImpl (RaftServerImpl.java:requestVote(775)) - s0@group-09A0EF6A68F4 replies to vote request: s2<-s0#0:FAIL-t19. Peer's state: s0@group-09A0EF6A68F4:t19, leader=null, voted=s0, raftlog=s0@group-09A0EF6A68F4-SegmentedRaftLog:OPENED:c-1,f-1,i0, conf=-1: [s0:0.0.0.0:42611, s1:0.0.0.0:39575, s2:0.0.0.0:34382], old=null
2019-09-24 16:57:20,745 DEBUG impl.RaftServerImpl (RaftServerImpl.java:requestVote(743)) - s2@group-09A0EF6A68F4: receive requestVote(s0, group-09A0EF6A68F4, 19, (t:0, i:0))
2019-09-24 16:57:20,745 DEBUG impl.RaftServerImpl (RaftServerImpl.java:requestVote(775)) - s0@group-09A0EF6A68F4 replies to vote request: s1<-s0#0:FAIL-t19. Peer's state: s0@group-09A0EF6A68F4:t19, leader=null, voted=s0, raftlog=s0@group-09A0EF6A68F4-SegmentedRaftLog:OPENED:c-1,f-1,i0, conf=-1: [s0:0.0.0.0:42611, s1:0.0.0.0:39575, s2:0.0.0.0:34382], old=null
2019-09-24 16:57:20,745 DEBUG impl.RaftServerImpl (RaftServerImpl.java:requestVote(743)) - s2@group-09A0EF6A68F4: receive requestVote(s1, group-09A0EF6A68F4, 19, (t:0, i:0))
2019-09-24 16:57:20,745 DEBUG impl.RaftServerImpl (RaftServerImpl.java:requestVote(775)) - s1@group-09A0EF6A68F4 replies to vote request: s0<-s1#0:FAIL-t19. Peer's state: s1@group-09A0EF6A68F4:t19, leader=null, voted=s1, raftlog=s1@group-09A0EF6A68F4-SegmentedRaftLog:OPENED:c-1,f-1,i0, conf=-1: [s0:0.0.0.0:42611, s1:0.0.0.0:39575, s2:0.0.0.0:34382], old=null
2019-09-24 16:57:20,745 DEBUG impl.RaftServerImpl (RaftServerImpl.java:requestVote(743)) - s1@group-09A0EF6A68F4: receive requestVote(s2, group-09A0EF6A68F4, 19, (t:0, i:0))
2019-09-24 16:57:20,745 DEBUG impl.RaftServerImpl (RaftServerImpl.java:requestVote(775)) - s2@group-09A0EF6A68F4 replies to vote request: s0<-s2#0:FAIL-t19. Peer's state: s2@group-09A0EF6A68F4:t19, leader=null, voted=s2, raftlog=s2@group-09A0EF6A68F4-SegmentedRaftLog:OPENED:c-1,f-1,i0, conf=-1: [s0:0.0.0.0:42611, s1:0.0.0.0:39575, s2:0.0.0.0:34382], old=null
2019-09-24 16:57:20,746 DEBUG impl.RaftServerImpl (RaftServerImpl.java:requestVote(775)) - s1@group-09A0EF6A68F4 replies to vote request: s2<-s1#0:FAIL-t19. Peer's state: s1@group-09A0EF6A68F4:t19, leader=null, voted=s1, raftlog=s1@group-09A0EF6A68F4-SegmentedRaftLog:OPENED:c-1,f-1,i0, conf=-1: [s0:0.0.0.0:42611, s1:0.0.0.0:39575, s2:0.0.0.0:34382], old=null
2019-09-24 16:57:20,746 DEBUG impl.RaftServerImpl (RaftServerImpl.java:requestVote(775)) - s2@group-09A0EF6A68F4 replies to vote request: s1<-s2#0:FAIL-t19. Peer's state: s2@group-09A0EF6A68F4:t19, leader=null, voted=s2, raftlog=s2@group-09A0EF6A68F4-SegmentedRaftLog:OPENED:c-1,f-1,i0, conf=-1: [s0:0.0.0.0:42611, s1:0.0.0.0:39575, s2:0.0.0.0:34382], old=null
2019-09-24 16:57:20,746 INFO  impl.LeaderElection (LeaderElection.java:logAndReturn(56)) - s0@group-09A0EF6A68F4-LeaderElection46: Election REJECTED; received 2 response(s) [s0<-s1#0:FAIL-t19, s0<-s2#0:FAIL-t19] and 0 exception(s); s0@group-09A0EF6A68F4:t19, leader=null, voted=s0, raftlog=s0@group-09A0EF6A68F4-SegmentedRaftLog:OPENED:c-1,f-1,i0, conf=-1: [s0:0.0.0.0:42611, s1:0.0.0.0:39575, s2:0.0.0.0:34382], old=null
2019-09-24 16:57:20,746 INFO  impl.LeaderElection (LeaderElection.java:logAndReturn(56)) - s2@group-09A0EF6A68F4-LeaderElection47: Election REJECTED; received 2 response(s) [s2<-s0#0:FAIL-t19, s2<-s1#0:FAIL-t19] and 0 exception(s); s2@group-09A0EF6A68F4:t19, leader=null, voted=s2, raftlog=s2@group-09A0EF6A68F4-SegmentedRaftLog:OPENED:c-1,f-1,i0, conf=-1: [s0:0.0.0.0:42611, s1:0.0.0.0:39575, s2:0.0.0.0:34382], old=null
2019-09-24 16:57:20,747 INFO  impl.LeaderElection (LeaderElection.java:logAndReturn(56)) - s1@group-09A0EF6A68F4-LeaderElection48: Election REJECTED; received 2 response(s) [s1<-s0#0:FAIL-t19, s1<-s2#0:FAIL-t19] and 0 exception(s); s1@group-09A0EF6A68F4:t19, leader=null, voted=s1, raftlog=s1@group-09A0EF6A68F4-SegmentedRaftLog:OPENED:c-1,f-1,i0, conf=-1: [s0:0.0.0.0:42611, s1:0.0.0.0:39575, s2:0.0.0.0:34382], old=null
2019-09-24 16:57:20,747 INFO  impl.RaftServerImpl (RaftServerImpl.java:setRole(170)) - s2@group-09A0EF6A68F4: changes role from CANDIDATE to FOLLOWER at term 19 for DISCOVERED_A_NEW_TERM
2019-09-24 16:57:20,746 INFO  impl.RaftServerImpl (RaftServerImpl.java:setRole(170)) - s0@group-09A0EF6A68F4: changes role from CANDIDATE to FOLLOWER at term 19 for DISCOVERED_A_NEW_TERM
2019-09-24 16:57:20,747 INFO  impl.RaftServerImpl (RaftServerImpl.java:setRole(170)) - s1@group-09A0EF6A68F4: changes role from CANDIDATE to FOLLOWER at term 19 for DISCOVERED_A_NEW_TERM
2019-09-24 16:57:20,747 INFO  impl.RoleInfo (RoleInfo.java:shutdownLeaderElection(134)) - s2: shutdown LeaderElection
2019-09-24 16:57:20,747 INFO  impl.RoleInfo (RoleInfo.java:shutdownLeaderElection(134)) - s1: shutdown LeaderElection
2019-09-24 16:57:20,747 INFO  impl.RoleInfo (RoleInfo.java:shutdownLeaderElection(134)) - s0: shutdown LeaderElection
2019-09-24 16:57:20,748 INFO  impl.RoleInfo (RoleInfo.java:updateAndGet(143)) - s1: start FollowerState
2019-09-24 16:57:20,748 INFO  impl.RoleInfo (RoleInfo.java:updateAndGet(143)) - s2: start FollowerState
2019-09-24 16:57:20,748 INFO  impl.RoleInfo (RoleInfo.java:updateAndGet(143)) - s0: start FollowerState
2019-09-24 16:57:20,911 INFO  impl.FollowerState (FollowerState.java:run(108)) - s0@group-09A0EF6A68F4-FollowerState: change to CANDIDATE, lastRpcTime:163ms, electionTimeout:162ms
2019-09-24 16:57:20,911 INFO  impl.RoleInfo (RoleInfo.java:shutdownFollowerState(121)) - s0: shutdown FollowerState
2019-09-24 16:57:20,911 INFO  impl.RaftServerImpl (RaftServerImpl.java:setRole(170)) - s0@group-09A0EF6A68F4: changes role from  FOLLOWER to CANDIDATE at term 19 for changeToCandidate
2019-09-24 16:57:20,912 INFO  impl.RoleInfo (RoleInfo.java:updateAndGet(143)) - s0: start LeaderElection
2019-09-24 16:57:20,927 INFO  impl.FollowerState (FollowerState.java:run(108)) - s1@group-09A0EF6A68F4-FollowerState: change to CANDIDATE, lastRpcTime:179ms, electionTimeout:179ms
2019-09-24 16:57:20,928 INFO  impl.RoleInfo (RoleInfo.java:shutdownFollowerState(121)) - s1: shutdown FollowerState
2019-09-24 16:57:20,928 INFO  impl.RaftServerImpl (RaftServerImpl.java:setRole(170)) - s1@group-09A0EF6A68F4: changes role from  FOLLOWER to CANDIDATE at term 19 for changeToCandidate
2019-09-24 16:57:20,928 INFO  impl.RoleInfo (RoleInfo.java:updateAndGet(143)) - s1: start LeaderElection
2019-09-24 16:57:20,954 INFO  impl.FollowerState (FollowerState.java:run(108)) - s2@group-09A0EF6A68F4-FollowerState: change to CANDIDATE, lastRpcTime:206ms, electionTimeout:205ms
2019-09-24 16:57:20,954 INFO  impl.RoleInfo (RoleInfo.java:shutdownFollowerState(121)) - s2: shutdown FollowerState
2019-09-24 16:57:20,954 INFO  impl.RaftServerImpl (RaftServerImpl.java:setRole(170)) - s2@group-09A0EF6A68F4: changes role from  FOLLOWER to CANDIDATE at term 19 for changeToCandidate
2019-09-24 16:57:20,954 INFO  impl.RoleInfo (RoleInfo.java:updateAndGet(143)) - s2: start LeaderElection
2019-09-24 16:57:20,972 WARN  ratis.RaftTestUtil (JavaUtils.java:attempt(158)) - FAILED "waitForLeader-null-(expectLeader? true)", attempt #25/100: java.lang.IllegalStateException: No leader yet : printing ALL groups
  s0:  RUNNING CANDIDATE s0@group-09A0EF6A68F4:t20, leader=null, voted=s0, raftlog=s0@group-09A0EF6A68F4-SegmentedRaftLog:OPENED:c-1,f-1,i0, conf=-1: [s0:0.0.0.0:42611, s1:0.0.0.0:39575, s2:0.0.0.0:34382], old=null RUNNING
  s1:  RUNNING CANDIDATE s1@group-09A0EF6A68F4:t20, leader=null, voted=s1, raftlog=s1@group-09A0EF6A68F4-SegmentedRaftLog:OPENED:c-1,f-1,i0, conf=-1: [s0:0.0.0.0:42611, s1:0.0.0.0:39575, s2:0.0.0.0:34382], old=null RUNNING
  s2:  RUNNING CANDIDATE s2@group-09A0EF6A68F4:t20, leader=null, voted=s2, raftlog=s2@group-09A0EF6A68F4-SegmentedRaftLog:OPENED:c-1,f-1,i0, conf=-1: [s0:0.0.0.0:42611, s1:0.0.0.0:39575, s2:0.0.0.0:34382], old=null RUNNING, sleep 450ms and then retry.
java.lang.IllegalStateException: No leader yet : printing ALL groups
  s0:  RUNNING CANDIDATE s0@group-09A0EF6A68F4:t20, leader=null, voted=s0, raftlog=s0@group-09A0EF6A68F4-SegmentedRaftLog:OPENED:c-1,f-1,i0, conf=-1: [s0:0.0.0.0:42611, s1:0.0.0.0:39575, s2:0.0.0.0:34382], old=null RUNNING
  s1:  RUNNING CANDIDATE s1@group-09A0EF6A68F4:t20, leader=null, voted=s1, raftlog=s1@group-09A0EF6A68F4-SegmentedRaftLog:OPENED:c-1,f-1,i0, conf=-1: [s0:0.0.0.0:42611, s1:0.0.0.0:39575, s2:0.0.0.0:34382], old=null RUNNING
  s2:  RUNNING CANDIDATE s2@group-09A0EF6A68F4:t20, leader=null, voted=s2, raftlog=s2@group-09A0EF6A68F4-SegmentedRaftLog:OPENED:c-1,f-1,i0, conf=-1: [s0:0.0.0.0:42611, s1:0.0.0.0:39575, s2:0.0.0.0:34382], old=null RUNNING
	at org.apache.ratis.MiniRaftCluster.newIllegalStateExceptionForNoLeaders(MiniRaftCluster.java:506)
	at org.apache.ratis.RaftTestUtil.lambda$waitForLeader$1(RaftTestUtil.java:90)
	at org.apache.ratis.MiniRaftCluster.getLeader(MiniRaftCluster.java:539)
	at org.apache.ratis.MiniRaftCluster.getLeader(MiniRaftCluster.java:532)
	at org.apache.ratis.RaftTestUtil.lambda$waitForLeader$3(RaftTestUtil.java:98)
	at org.apache.ratis.util.JavaUtils.attempt(JavaUtils.java:152)
	at org.apache.ratis.RaftTestUtil.waitForLeader(RaftTestUtil.java:97)
	at org.apache.ratis.RaftTestUtil.waitForLeader(RaftTestUtil.java:77)
	at org.apache.ratis.RaftTestUtil.waitForLeader(RaftTestUtil.java:72)
	at org.apache.ratis.server.impl.RaftStateMachineExceptionTests.runTestRetryOnExceptionDuringReplication(RaftStateMachineExceptionTests.java:149)
	at org.apache.ratis.MiniRaftCluster$Factory$Get.runWithNewCluster(MiniRaftCluster.java:125)
	at org.apache.ratis.MiniRaftCluster$Factory$Get.runWithNewCluster(MiniRaftCluster.java:113)
	at org.apache.ratis.server.impl.RaftStateMachineExceptionTests.testRetryOnExceptionDuringReplication(RaftStateMachineExceptionTests.java:145)
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.lang.reflect.Method.invoke(Method.java:498)
	at org.junit.runners.model.FrameworkMethod$1.runReflectiveCall(FrameworkMethod.java:50)
	at org.junit.internal.runners.model.ReflectiveCallable.run(ReflectiveCallable.java:12)
	at org.junit.runners.model.FrameworkMethod.invokeExplosively(FrameworkMethod.java:47)
	at org.junit.internal.runners.statements.InvokeMethod.evaluate(InvokeMethod.java:17)
	at org.junit.internal.runners.statements.RunAfters.evaluate(RunAfters.java:27)
	at org.junit.internal.runners.statements.FailOnTimeout$CallableStatement.call(FailOnTimeout.java:298)
	at org.junit.internal.runners.statements.FailOnTimeout$CallableStatement.call(FailOnTimeout.java:292)
	at java.util.concurrent.FutureTask.run(FutureTask.java:266)
	at java.lang.Thread.run(Thread.java:748)
2019-09-24 16:57:21,248 INFO  impl.LeaderElection (LeaderElection.java:askForVotes(178)) - s2@group-09A0EF6A68F4-LeaderElection51: begin an election at term 20 for -1: [s0:0.0.0.0:42611, s1:0.0.0.0:39575, s2:0.0.0.0:34382], old=null
2019-09-24 16:57:21,248 INFO  impl.LeaderElection (LeaderElection.java:askForVotes(178)) - s1@group-09A0EF6A68F4-LeaderElection50: begin an election at term 20 for -1: [s0:0.0.0.0:42611, s1:0.0.0.0:39575, s2:0.0.0.0:34382], old=null
2019-09-24 16:57:21,248 INFO  impl.LeaderElection (LeaderElection.java:askForVotes(178)) - s0@group-09A0EF6A68F4-LeaderElection49: begin an election at term 20 for -1: [s0:0.0.0.0:42611, s1:0.0.0.0:39575, s2:0.0.0.0:34382], old=null
2019-09-24 16:57:21,249 DEBUG impl.RaftServerImpl (RaftServerImpl.java:requestVote(743)) - s0@group-09A0EF6A68F4: receive requestVote(s2, group-09A0EF6A68F4, 20, (t:0, i:0))
2019-09-24 16:57:21,249 DEBUG impl.RaftServerImpl (RaftServerImpl.java:requestVote(743)) - s1@group-09A0EF6A68F4: receive requestVote(s2, group-09A0EF6A68F4, 20, (t:0, i:0))
2019-09-24 16:57:21,250 DEBUG impl.RaftServerImpl (RaftServerImpl.java:requestVote(775)) - s0@group-09A0EF6A68F4 replies to vote request: s2<-s0#0:FAIL-t20. Peer's state: s0@group-09A0EF6A68F4:t20, leader=null, voted=s0, raftlog=s0@group-09A0EF6A68F4-SegmentedRaftLog:OPENED:c-1,f-1,i0, conf=-1: [s0:0.0.0.0:42611, s1:0.0.0.0:39575, s2:0.0.0.0:34382], old=null
2019-09-24 16:57:21,250 DEBUG impl.RaftServerImpl (RaftServerImpl.java:requestVote(775)) - s1@group-09A0EF6A68F4 replies to vote request: s2<-s1#0:FAIL-t20. Peer's state: s1@group-09A0EF6A68F4:t20, leader=null, voted=s1, raftlog=s1@group-09A0EF6A68F4-SegmentedRaftLog:OPENED:c-1,f-1,i0, conf=-1: [s0:0.0.0.0:42611, s1:0.0.0.0:39575, s2:0.0.0.0:34382], old=null
2019-09-24 16:57:21,250 DEBUG impl.RaftServerImpl (RaftServerImpl.java:requestVote(743)) - s2@group-09A0EF6A68F4: receive requestVote(s0, group-09A0EF6A68F4, 20, (t:0, i:0))
2019-09-24 16:57:21,250 DEBUG impl.RaftServerImpl (RaftServerImpl.java:requestVote(743)) - s0@group-09A0EF6A68F4: receive requestVote(s1, group-09A0EF6A68F4, 20, (t:0, i:0))
2019-09-24 16:57:21,250 DEBUG impl.RaftServerImpl (RaftServerImpl.java:requestVote(775)) - s2@group-09A0EF6A68F4 replies to vote request: s0<-s2#0:FAIL-t20. Peer's state: s2@group-09A0EF6A68F4:t20, leader=null, voted=s2, raftlog=s2@group-09A0EF6A68F4-SegmentedRaftLog:OPENED:c-1,f-1,i0, conf=-1: [s0:0.0.0.0:42611, s1:0.0.0.0:39575, s2:0.0.0.0:34382], old=null
2019-09-24 16:57:21,250 INFO  impl.LeaderElection (LeaderElection.java:logAndReturn(56)) - s2@group-09A0EF6A68F4-LeaderElection51: Election REJECTED; received 2 response(s) [s2<-s0#0:FAIL-t20, s2<-s1#0:FAIL-t20] and 0 exception(s); s2@group-09A0EF6A68F4:t20, leader=null, voted=s2, raftlog=s2@group-09A0EF6A68F4-SegmentedRaftLog:OPENED:c-1,f-1,i0, conf=-1: [s0:0.0.0.0:42611, s1:0.0.0.0:39575, s2:0.0.0.0:34382], old=null
2019-09-24 16:57:21,250 DEBUG impl.RaftServerImpl (RaftServerImpl.java:requestVote(743)) - s2@group-09A0EF6A68F4: receive requestVote(s1, group-09A0EF6A68F4, 20, (t:0, i:0))
2019-09-24 16:57:21,251 INFO  impl.RaftServerImpl (RaftServerImpl.java:setRole(170)) - s2@group-09A0EF6A68F4: changes role from CANDIDATE to FOLLOWER at term 20 for DISCOVERED_A_NEW_TERM
2019-09-24 16:57:21,250 DEBUG impl.RaftServerImpl (RaftServerImpl.java:requestVote(743)) - s1@group-09A0EF6A68F4: receive requestVote(s0, group-09A0EF6A68F4, 20, (t:0, i:0))
2019-09-24 16:57:21,251 INFO  impl.RoleInfo (RoleInfo.java:shutdownLeaderElection(134)) - s2: shutdown LeaderElection
2019-09-24 16:57:21,250 DEBUG impl.RaftServerImpl (RaftServerImpl.java:requestVote(775)) - s0@group-09A0EF6A68F4 replies to vote request: s1<-s0#0:FAIL-t20. Peer's state: s0@group-09A0EF6A68F4:t20, leader=null, voted=s0, raftlog=s0@group-09A0EF6A68F4-SegmentedRaftLog:OPENED:c-1,f-1,i0, conf=-1: [s0:0.0.0.0:42611, s1:0.0.0.0:39575, s2:0.0.0.0:34382], old=null
2019-09-24 16:57:21,251 INFO  impl.RoleInfo (RoleInfo.java:updateAndGet(143)) - s2: start FollowerState
2019-09-24 16:57:21,251 DEBUG impl.RaftServerImpl (RaftServerImpl.java:requestVote(775)) - s1@group-09A0EF6A68F4 replies to vote request: s0<-s1#0:FAIL-t20. Peer's state: s1@group-09A0EF6A68F4:t20, leader=null, voted=s1, raftlog=s1@group-09A0EF6A68F4-SegmentedRaftLog:OPENED:c-1,f-1,i0, conf=-1: [s0:0.0.0.0:42611, s1:0.0.0.0:39575, s2:0.0.0.0:34382], old=null
2019-09-24 16:57:21,252 DEBUG impl.RaftServerImpl (RaftServerImpl.java:requestVote(775)) - s2@group-09A0EF6A68F4 replies to vote request: s1<-s2#0:FAIL-t20. Peer's state: s2@group-09A0EF6A68F4:t20, leader=null, voted=s2, raftlog=s2@group-09A0EF6A68F4-SegmentedRaftLog:OPENED:c-1,f-1,i0, conf=-1: [s0:0.0.0.0:42611, s1:0.0.0.0:39575, s2:0.0.0.0:34382], old=null
2019-09-24 16:57:21,272 INFO  impl.LeaderElection (LeaderElection.java:logAndReturn(56)) - s0@group-09A0EF6A68F4-LeaderElection49: Election REJECTED; received 2 response(s) [s0<-s1#0:FAIL-t20, s0<-s2#0:FAIL-t20] and 0 exception(s); s0@group-09A0EF6A68F4:t20, leader=null, voted=s0, raftlog=s0@group-09A0EF6A68F4-SegmentedRaftLog:OPENED:c-1,f-1,i0, conf=-1: [s0:0.0.0.0:42611, s1:0.0.0.0:39575, s2:0.0.0.0:34382], old=null
2019-09-24 16:57:21,272 INFO  impl.LeaderElection (LeaderElection.java:logAndReturn(56)) - s1@group-09A0EF6A68F4-LeaderElection50: Election REJECTED; received 2 response(s) [s1<-s0#0:FAIL-t20, s1<-s2#0:FAIL-t20] and 0 exception(s); s1@group-09A0EF6A68F4:t20, leader=null, voted=s1, raftlog=s1@group-09A0EF6A68F4-SegmentedRaftLog:OPENED:c-1,f-1,i0, conf=-1: [s0:0.0.0.0:42611, s1:0.0.0.0:39575, s2:0.0.0.0:34382], old=null
2019-09-24 16:57:21,273 INFO  impl.RaftServerImpl (RaftServerImpl.java:setRole(170)) - s0@group-09A0EF6A68F4: changes role from CANDIDATE to FOLLOWER at term 20 for DISCOVERED_A_NEW_TERM
2019-09-24 16:57:21,273 INFO  impl.RaftServerImpl (RaftServerImpl.java:setRole(170)) - s1@group-09A0EF6A68F4: changes role from CANDIDATE to FOLLOWER at term 20 for DISCOVERED_A_NEW_TERM
2019-09-24 16:57:21,273 INFO  impl.RoleInfo (RoleInfo.java:shutdownLeaderElection(134)) - s0: shutdown LeaderElection
2019-09-24 16:57:21,273 INFO  impl.RoleInfo (RoleInfo.java:shutdownLeaderElection(134)) - s1: shutdown LeaderElection
2019-09-24 16:57:21,273 INFO  impl.RoleInfo (RoleInfo.java:updateAndGet(143)) - s0: start FollowerState
2019-09-24 16:57:21,273 INFO  impl.RoleInfo (RoleInfo.java:updateAndGet(143)) - s1: start FollowerState
2019-09-24 16:57:21,424 WARN  ratis.RaftTestUtil (JavaUtils.java:attempt(158)) - FAILED "waitForLeader-null-(expectLeader? true)", attempt #26/100: java.lang.IllegalStateException: No leader yet : printing ALL groups
  s0:  RUNNING  FOLLOWER s0@group-09A0EF6A68F4:t20, leader=null, voted=s0, raftlog=s0@group-09A0EF6A68F4-SegmentedRaftLog:OPENED:c-1,f-1,i0, conf=-1: [s0:0.0.0.0:42611, s1:0.0.0.0:39575, s2:0.0.0.0:34382], old=null RUNNING
  s1:  RUNNING  FOLLOWER s1@group-09A0EF6A68F4:t20, leader=null, voted=s1, raftlog=s1@group-09A0EF6A68F4-SegmentedRaftLog:OPENED:c-1,f-1,i0, conf=-1: [s0:0.0.0.0:42611, s1:0.0.0.0:39575, s2:0.0.0.0:34382], old=null RUNNING
  s2:  RUNNING  FOLLOWER s2@group-09A0EF6A68F4:t20, leader=null, voted=s2, raftlog=s2@group-09A0EF6A68F4-SegmentedRaftLog:OPENED:c-1,f-1,i0, conf=-1: [s0:0.0.0.0:42611, s1:0.0.0.0:39575, s2:0.0.0.0:34382], old=null RUNNING, sleep 450ms and then retry.
java.lang.IllegalStateException: No leader yet : printing ALL groups
  s0:  RUNNING  FOLLOWER s0@group-09A0EF6A68F4:t20, leader=null, voted=s0, raftlog=s0@group-09A0EF6A68F4-SegmentedRaftLog:OPENED:c-1,f-1,i0, conf=-1: [s0:0.0.0.0:42611, s1:0.0.0.0:39575, s2:0.0.0.0:34382], old=null RUNNING
  s1:  RUNNING  FOLLOWER s1@group-09A0EF6A68F4:t20, leader=null, voted=s1, raftlog=s1@group-09A0EF6A68F4-SegmentedRaftLog:OPENED:c-1,f-1,i0, conf=-1: [s0:0.0.0.0:42611, s1:0.0.0.0:39575, s2:0.0.0.0:34382], old=null RUNNING
  s2:  RUNNING  FOLLOWER s2@group-09A0EF6A68F4:t20, leader=null, voted=s2, raftlog=s2@group-09A0EF6A68F4-SegmentedRaftLog:OPENED:c-1,f-1,i0, conf=-1: [s0:0.0.0.0:42611, s1:0.0.0.0:39575, s2:0.0.0.0:34382], old=null RUNNING
	at org.apache.ratis.MiniRaftCluster.newIllegalStateExceptionForNoLeaders(MiniRaftCluster.java:506)
	at org.apache.ratis.RaftTestUtil.lambda$waitForLeader$1(RaftTestUtil.java:90)
	at org.apache.ratis.MiniRaftCluster.getLeader(MiniRaftCluster.java:539)
	at org.apache.ratis.MiniRaftCluster.getLeader(MiniRaftCluster.java:532)
	at org.apache.ratis.RaftTestUtil.lambda$waitForLeader$3(RaftTestUtil.java:98)
	at org.apache.ratis.util.JavaUtils.attempt(JavaUtils.java:152)
	at org.apache.ratis.RaftTestUtil.waitForLeader(RaftTestUtil.java:97)
	at org.apache.ratis.RaftTestUtil.waitForLeader(RaftTestUtil.java:77)
	at org.apache.ratis.RaftTestUtil.waitForLeader(RaftTestUtil.java:72)
	at org.apache.ratis.server.impl.RaftStateMachineExceptionTests.runTestRetryOnExceptionDuringReplication(RaftStateMachineExceptionTests.java:149)
	at org.apache.ratis.MiniRaftCluster$Factory$Get.runWithNewCluster(MiniRaftCluster.java:125)
	at org.apache.ratis.MiniRaftCluster$Factory$Get.runWithNewCluster(MiniRaftCluster.java:113)
	at org.apache.ratis.server.impl.RaftStateMachineExceptionTests.testRetryOnExceptionDuringReplication(RaftStateMachineExceptionTests.java:145)
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.lang.reflect.Method.invoke(Method.java:498)
	at org.junit.runners.model.FrameworkMethod$1.runReflectiveCall(FrameworkMethod.java:50)
	at org.junit.internal.runners.model.ReflectiveCallable.run(ReflectiveCallable.java:12)
	at org.junit.runners.model.FrameworkMethod.invokeExplosively(FrameworkMethod.java:47)
	at org.junit.internal.runners.statements.InvokeMethod.evaluate(InvokeMethod.java:17)
	at org.junit.internal.runners.statements.RunAfters.evaluate(RunAfters.java:27)
	at org.junit.internal.runners.statements.FailOnTimeout$CallableStatement.call(FailOnTimeout.java:298)
	at org.junit.internal.runners.statements.FailOnTimeout$CallableStatement.call(FailOnTimeout.java:292)
	at java.util.concurrent.FutureTask.run(FutureTask.java:266)
	at java.lang.Thread.run(Thread.java:748)
2019-09-24 16:57:21,484 INFO  impl.FollowerState (FollowerState.java:run(108)) - s0@group-09A0EF6A68F4-FollowerState: change to CANDIDATE, lastRpcTime:210ms, electionTimeout:210ms
2019-09-24 16:57:21,484 INFO  impl.RoleInfo (RoleInfo.java:shutdownFollowerState(121)) - s0: shutdown FollowerState
2019-09-24 16:57:21,484 INFO  impl.RaftServerImpl (RaftServerImpl.java:setRole(170)) - s0@group-09A0EF6A68F4: changes role from  FOLLOWER to CANDIDATE at term 20 for changeToCandidate
2019-09-24 16:57:21,484 INFO  impl.RoleInfo (RoleInfo.java:updateAndGet(143)) - s0: start LeaderElection
2019-09-24 16:57:21,502 INFO  impl.FollowerState (FollowerState.java:run(108)) - s2@group-09A0EF6A68F4-FollowerState: change to CANDIDATE, lastRpcTime:250ms, electionTimeout:230ms
2019-09-24 16:57:21,503 INFO  impl.RoleInfo (RoleInfo.java:shutdownFollowerState(121)) - s2: shutdown FollowerState
2019-09-24 16:57:21,503 INFO  impl.RaftServerImpl (RaftServerImpl.java:setRole(170)) - s2@group-09A0EF6A68F4: changes role from  FOLLOWER to CANDIDATE at term 20 for changeToCandidate
2019-09-24 16:57:21,503 INFO  impl.RoleInfo (RoleInfo.java:updateAndGet(143)) - s2: start LeaderElection
2019-09-24 16:57:21,568 INFO  impl.FollowerState (FollowerState.java:run(108)) - s1@group-09A0EF6A68F4-FollowerState: change to CANDIDATE, lastRpcTime:294ms, electionTimeout:294ms
2019-09-24 16:57:21,568 INFO  impl.RoleInfo (RoleInfo.java:shutdownFollowerState(121)) - s1: shutdown FollowerState
2019-09-24 16:57:21,568 INFO  impl.RaftServerImpl (RaftServerImpl.java:setRole(170)) - s1@group-09A0EF6A68F4: changes role from  FOLLOWER to CANDIDATE at term 20 for changeToCandidate
2019-09-24 16:57:21,569 INFO  impl.RoleInfo (RoleInfo.java:updateAndGet(143)) - s1: start LeaderElection
2019-09-24 16:57:21,876 WARN  ratis.RaftTestUtil (JavaUtils.java:attempt(158)) - FAILED "waitForLeader-null-(expectLeader? true)", attempt #27/100: java.lang.IllegalStateException: No leader yet : printing ALL groups
  s0:  RUNNING CANDIDATE s0@group-09A0EF6A68F4:t21, leader=null, voted=s0, raftlog=s0@group-09A0EF6A68F4-SegmentedRaftLog:OPENED:c-1,f-1,i0, conf=-1: [s0:0.0.0.0:42611, s1:0.0.0.0:39575, s2:0.0.0.0:34382], old=null RUNNING
  s1:  RUNNING CANDIDATE s1@group-09A0EF6A68F4:t21, leader=null, voted=s1, raftlog=s1@group-09A0EF6A68F4-SegmentedRaftLog:OPENED:c-1,f-1,i0, conf=-1: [s0:0.0.0.0:42611, s1:0.0.0.0:39575, s2:0.0.0.0:34382], old=null RUNNING
  s2:  RUNNING CANDIDATE s2@group-09A0EF6A68F4:t21, leader=null, voted=s2, raftlog=s2@group-09A0EF6A68F4-SegmentedRaftLog:OPENED:c-1,f-1,i0, conf=-1: [s0:0.0.0.0:42611, s1:0.0.0.0:39575, s2:0.0.0.0:34382], old=null RUNNING, sleep 450ms and then retry.
java.lang.IllegalStateException: No leader yet : printing ALL groups
  s0:  RUNNING CANDIDATE s0@group-09A0EF6A68F4:t21, leader=null, voted=s0, raftlog=s0@group-09A0EF6A68F4-SegmentedRaftLog:OPENED:c-1,f-1,i0, conf=-1: [s0:0.0.0.0:42611, s1:0.0.0.0:39575, s2:0.0.0.0:34382], old=null RUNNING
  s1:  RUNNING CANDIDATE s1@group-09A0EF6A68F4:t21, leader=null, voted=s1, raftlog=s1@group-09A0EF6A68F4-SegmentedRaftLog:OPENED:c-1,f-1,i0, conf=-1: [s0:0.0.0.0:42611, s1:0.0.0.0:39575, s2:0.0.0.0:34382], old=null RUNNING
  s2:  RUNNING CANDIDATE s2@group-09A0EF6A68F4:t21, leader=null, voted=s2, raftlog=s2@group-09A0EF6A68F4-SegmentedRaftLog:OPENED:c-1,f-1,i0, conf=-1: [s0:0.0.0.0:42611, s1:0.0.0.0:39575, s2:0.0.0.0:34382], old=null RUNNING
	at org.apache.ratis.MiniRaftCluster.newIllegalStateExceptionForNoLeaders(MiniRaftCluster.java:506)
	at org.apache.ratis.RaftTestUtil.lambda$waitForLeader$1(RaftTestUtil.java:90)
	at org.apache.ratis.MiniRaftCluster.getLeader(MiniRaftCluster.java:539)
	at org.apache.ratis.MiniRaftCluster.getLeader(MiniRaftCluster.java:532)
	at org.apache.ratis.RaftTestUtil.lambda$waitForLeader$3(RaftTestUtil.java:98)
	at org.apache.ratis.util.JavaUtils.attempt(JavaUtils.java:152)
	at org.apache.ratis.RaftTestUtil.waitForLeader(RaftTestUtil.java:97)
	at org.apache.ratis.RaftTestUtil.waitForLeader(RaftTestUtil.java:77)
	at org.apache.ratis.RaftTestUtil.waitForLeader(RaftTestUtil.java:72)
	at org.apache.ratis.server.impl.RaftStateMachineExceptionTests.runTestRetryOnExceptionDuringReplication(RaftStateMachineExceptionTests.java:149)
	at org.apache.ratis.MiniRaftCluster$Factory$Get.runWithNewCluster(MiniRaftCluster.java:125)
	at org.apache.ratis.MiniRaftCluster$Factory$Get.runWithNewCluster(MiniRaftCluster.java:113)
	at org.apache.ratis.server.impl.RaftStateMachineExceptionTests.testRetryOnExceptionDuringReplication(RaftStateMachineExceptionTests.java:145)
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.lang.reflect.Method.invoke(Method.java:498)
	at org.junit.runners.model.FrameworkMethod$1.runReflectiveCall(FrameworkMethod.java:50)
	at org.junit.internal.runners.model.ReflectiveCallable.run(ReflectiveCallable.java:12)
	at org.junit.runners.model.FrameworkMethod.invokeExplosively(FrameworkMethod.java:47)
	at org.junit.internal.runners.statements.InvokeMethod.evaluate(InvokeMethod.java:17)
	at org.junit.internal.runners.statements.RunAfters.evaluate(RunAfters.java:27)
	at org.junit.internal.runners.statements.FailOnTimeout$CallableStatement.call(FailOnTimeout.java:298)
	at org.junit.internal.runners.statements.FailOnTimeout$CallableStatement.call(FailOnTimeout.java:292)
	at java.util.concurrent.FutureTask.run(FutureTask.java:266)
	at java.lang.Thread.run(Thread.java:748)
2019-09-24 16:57:21,885 INFO  impl.LeaderElection (LeaderElection.java:askForVotes(178)) - s2@group-09A0EF6A68F4-LeaderElection53: begin an election at term 21 for -1: [s0:0.0.0.0:42611, s1:0.0.0.0:39575, s2:0.0.0.0:34382], old=null
2019-09-24 16:57:21,885 INFO  impl.LeaderElection (LeaderElection.java:askForVotes(178)) - s0@group-09A0EF6A68F4-LeaderElection52: begin an election at term 21 for -1: [s0:0.0.0.0:42611, s1:0.0.0.0:39575, s2:0.0.0.0:34382], old=null
2019-09-24 16:57:21,885 INFO  impl.LeaderElection (LeaderElection.java:askForVotes(178)) - s1@group-09A0EF6A68F4-LeaderElection54: begin an election at term 21 for -1: [s0:0.0.0.0:42611, s1:0.0.0.0:39575, s2:0.0.0.0:34382], old=null
2019-09-24 16:57:21,887 DEBUG impl.RaftServerImpl (RaftServerImpl.java:requestVote(743)) - s0@group-09A0EF6A68F4: receive requestVote(s2, group-09A0EF6A68F4, 21, (t:0, i:0))
2019-09-24 16:57:21,887 DEBUG impl.RaftServerImpl (RaftServerImpl.java:requestVote(743)) - s1@group-09A0EF6A68F4: receive requestVote(s0, group-09A0EF6A68F4, 21, (t:0, i:0))
2019-09-24 16:57:21,887 DEBUG impl.RaftServerImpl (RaftServerImpl.java:requestVote(775)) - s0@group-09A0EF6A68F4 replies to vote request: s2<-s0#0:FAIL-t21. Peer's state: s0@group-09A0EF6A68F4:t21, leader=null, voted=s0, raftlog=s0@group-09A0EF6A68F4-SegmentedRaftLog:OPENED:c-1,f-1,i0, conf=-1: [s0:0.0.0.0:42611, s1:0.0.0.0:39575, s2:0.0.0.0:34382], old=null
2019-09-24 16:57:21,887 DEBUG impl.RaftServerImpl (RaftServerImpl.java:requestVote(743)) - s1@group-09A0EF6A68F4: receive requestVote(s2, group-09A0EF6A68F4, 21, (t:0, i:0))
2019-09-24 16:57:21,888 DEBUG impl.RaftServerImpl (RaftServerImpl.java:requestVote(743)) - s2@group-09A0EF6A68F4: receive requestVote(s0, group-09A0EF6A68F4, 21, (t:0, i:0))
2019-09-24 16:57:21,888 DEBUG impl.RaftServerImpl (RaftServerImpl.java:requestVote(743)) - s2@group-09A0EF6A68F4: receive requestVote(s1, group-09A0EF6A68F4, 21, (t:0, i:0))
2019-09-24 16:57:21,887 DEBUG impl.RaftServerImpl (RaftServerImpl.java:requestVote(775)) - s1@group-09A0EF6A68F4 replies to vote request: s0<-s1#0:FAIL-t21. Peer's state: s1@group-09A0EF6A68F4:t21, leader=null, voted=s1, raftlog=s1@group-09A0EF6A68F4-SegmentedRaftLog:OPENED:c-1,f-1,i0, conf=-1: [s0:0.0.0.0:42611, s1:0.0.0.0:39575, s2:0.0.0.0:34382], old=null
2019-09-24 16:57:21,888 DEBUG impl.RaftServerImpl (RaftServerImpl.java:requestVote(775)) - s2@group-09A0EF6A68F4 replies to vote request: s0<-s2#0:FAIL-t21. Peer's state: s2@group-09A0EF6A68F4:t21, leader=null, voted=s2, raftlog=s2@group-09A0EF6A68F4-SegmentedRaftLog:OPENED:c-1,f-1,i0, conf=-1: [s0:0.0.0.0:42611, s1:0.0.0.0:39575, s2:0.0.0.0:34382], old=null
2019-09-24 16:57:21,888 DEBUG impl.RaftServerImpl (RaftServerImpl.java:requestVote(743)) - s0@group-09A0EF6A68F4: receive requestVote(s1, group-09A0EF6A68F4, 21, (t:0, i:0))
2019-09-24 16:57:21,889 DEBUG impl.RaftServerImpl (RaftServerImpl.java:requestVote(775)) - s2@group-09A0EF6A68F4 replies to vote request: s1<-s2#0:FAIL-t21. Peer's state: s2@group-09A0EF6A68F4:t21, leader=null, voted=s2, raftlog=s2@group-09A0EF6A68F4-SegmentedRaftLog:OPENED:c-1,f-1,i0, conf=-1: [s0:0.0.0.0:42611, s1:0.0.0.0:39575, s2:0.0.0.0:34382], old=null
2019-09-24 16:57:21,888 DEBUG impl.RaftServerImpl (RaftServerImpl.java:requestVote(775)) - s1@group-09A0EF6A68F4 replies to vote request: s2<-s1#0:FAIL-t21. Peer's state: s1@group-09A0EF6A68F4:t21, leader=null, voted=s1, raftlog=s1@group-09A0EF6A68F4-SegmentedRaftLog:OPENED:c-1,f-1,i0, conf=-1: [s0:0.0.0.0:42611, s1:0.0.0.0:39575, s2:0.0.0.0:34382], old=null
2019-09-24 16:57:21,889 DEBUG impl.RaftServerImpl (RaftServerImpl.java:requestVote(775)) - s0@group-09A0EF6A68F4 replies to vote request: s1<-s0#0:FAIL-t21. Peer's state: s0@group-09A0EF6A68F4:t21, leader=null, voted=s0, raftlog=s0@group-09A0EF6A68F4-SegmentedRaftLog:OPENED:c-1,f-1,i0, conf=-1: [s0:0.0.0.0:42611, s1:0.0.0.0:39575, s2:0.0.0.0:34382], old=null
2019-09-24 16:57:21,889 INFO  impl.LeaderElection (LeaderElection.java:logAndReturn(56)) - s0@group-09A0EF6A68F4-LeaderElection52: Election REJECTED; received 2 response(s) [s0<-s1#0:FAIL-t21, s0<-s2#0:FAIL-t21] and 0 exception(s); s0@group-09A0EF6A68F4:t21, leader=null, voted=s0, raftlog=s0@group-09A0EF6A68F4-SegmentedRaftLog:OPENED:c-1,f-1,i0, conf=-1: [s0:0.0.0.0:42611, s1:0.0.0.0:39575, s2:0.0.0.0:34382], old=null
2019-09-24 16:57:21,889 INFO  impl.LeaderElection (LeaderElection.java:logAndReturn(56)) - s2@group-09A0EF6A68F4-LeaderElection53: Election REJECTED; received 2 response(s) [s2<-s0#0:FAIL-t21, s2<-s1#0:FAIL-t21] and 0 exception(s); s2@group-09A0EF6A68F4:t21, leader=null, voted=s2, raftlog=s2@group-09A0EF6A68F4-SegmentedRaftLog:OPENED:c-1,f-1,i0, conf=-1: [s0:0.0.0.0:42611, s1:0.0.0.0:39575, s2:0.0.0.0:34382], old=null
2019-09-24 16:57:21,890 INFO  impl.RaftServerImpl (RaftServerImpl.java:setRole(170)) - s0@group-09A0EF6A68F4: changes role from CANDIDATE to FOLLOWER at term 21 for DISCOVERED_A_NEW_TERM
2019-09-24 16:57:21,890 INFO  impl.RoleInfo (RoleInfo.java:shutdownLeaderElection(134)) - s0: shutdown LeaderElection
2019-09-24 16:57:21,890 INFO  impl.LeaderElection (LeaderElection.java:logAndReturn(56)) - s1@group-09A0EF6A68F4-LeaderElection54: Election REJECTED; received 2 response(s) [s1<-s0#0:FAIL-t21, s1<-s2#0:FAIL-t21] and 0 exception(s); s1@group-09A0EF6A68F4:t21, leader=null, voted=s1, raftlog=s1@group-09A0EF6A68F4-SegmentedRaftLog:OPENED:c-1,f-1,i0, conf=-1: [s0:0.0.0.0:42611, s1:0.0.0.0:39575, s2:0.0.0.0:34382], old=null
2019-09-24 16:57:21,890 INFO  impl.RoleInfo (RoleInfo.java:updateAndGet(143)) - s0: start FollowerState
2019-09-24 16:57:21,890 INFO  impl.RaftServerImpl (RaftServerImpl.java:setRole(170)) - s2@group-09A0EF6A68F4: changes role from CANDIDATE to FOLLOWER at term 21 for DISCOVERED_A_NEW_TERM
2019-09-24 16:57:21,890 INFO  impl.RaftServerImpl (RaftServerImpl.java:setRole(170)) - s1@group-09A0EF6A68F4: changes role from CANDIDATE to FOLLOWER at term 21 for DISCOVERED_A_NEW_TERM
2019-09-24 16:57:21,891 INFO  impl.RoleInfo (RoleInfo.java:shutdownLeaderElection(134)) - s2: shutdown LeaderElection
2019-09-24 16:57:21,891 INFO  impl.RoleInfo (RoleInfo.java:shutdownLeaderElection(134)) - s1: shutdown LeaderElection
2019-09-24 16:57:21,891 INFO  impl.RoleInfo (RoleInfo.java:updateAndGet(143)) - s2: start FollowerState
2019-09-24 16:57:21,891 INFO  impl.RoleInfo (RoleInfo.java:updateAndGet(143)) - s1: start FollowerState
2019-09-24 16:57:22,049 INFO  impl.FollowerState (FollowerState.java:run(108)) - s0@group-09A0EF6A68F4-FollowerState: change to CANDIDATE, lastRpcTime:158ms, electionTimeout:158ms
2019-09-24 16:57:22,049 INFO  impl.RoleInfo (RoleInfo.java:shutdownFollowerState(121)) - s0: shutdown FollowerState
2019-09-24 16:57:22,049 INFO  impl.RaftServerImpl (RaftServerImpl.java:setRole(170)) - s0@group-09A0EF6A68F4: changes role from  FOLLOWER to CANDIDATE at term 21 for changeToCandidate
2019-09-24 16:57:22,050 INFO  impl.RoleInfo (RoleInfo.java:updateAndGet(143)) - s0: start LeaderElection
2019-09-24 16:57:22,106 INFO  impl.FollowerState (FollowerState.java:run(108)) - s1@group-09A0EF6A68F4-FollowerState: change to CANDIDATE, lastRpcTime:214ms, electionTimeout:214ms
2019-09-24 16:57:22,106 INFO  impl.RoleInfo (RoleInfo.java:shutdownFollowerState(121)) - s1: shutdown FollowerState
2019-09-24 16:57:22,107 INFO  impl.RaftServerImpl (RaftServerImpl.java:setRole(170)) - s1@group-09A0EF6A68F4: changes role from  FOLLOWER to CANDIDATE at term 21 for changeToCandidate
2019-09-24 16:57:22,107 INFO  impl.RoleInfo (RoleInfo.java:updateAndGet(143)) - s1: start LeaderElection
2019-09-24 16:57:22,150 INFO  impl.FollowerState (FollowerState.java:run(108)) - s2@group-09A0EF6A68F4-FollowerState: change to CANDIDATE, lastRpcTime:258ms, electionTimeout:258ms
2019-09-24 16:57:22,150 INFO  impl.RoleInfo (RoleInfo.java:shutdownFollowerState(121)) - s2: shutdown FollowerState
2019-09-24 16:57:22,150 INFO  impl.RaftServerImpl (RaftServerImpl.java:setRole(170)) - s2@group-09A0EF6A68F4: changes role from  FOLLOWER to CANDIDATE at term 21 for changeToCandidate
2019-09-24 16:57:22,150 INFO  impl.RoleInfo (RoleInfo.java:updateAndGet(143)) - s2: start LeaderElection
2019-09-24 16:57:22,319 INFO  impl.LeaderElection (LeaderElection.java:askForVotes(178)) - s1@group-09A0EF6A68F4-LeaderElection56: begin an election at term 22 for -1: [s0:0.0.0.0:42611, s1:0.0.0.0:39575, s2:0.0.0.0:34382], old=null
2019-09-24 16:57:22,319 INFO  impl.LeaderElection (LeaderElection.java:askForVotes(178)) - s2@group-09A0EF6A68F4-LeaderElection57: begin an election at term 22 for -1: [s0:0.0.0.0:42611, s1:0.0.0.0:39575, s2:0.0.0.0:34382], old=null
2019-09-24 16:57:22,319 INFO  impl.LeaderElection (LeaderElection.java:askForVotes(178)) - s0@group-09A0EF6A68F4-LeaderElection55: begin an election at term 22 for -1: [s0:0.0.0.0:42611, s1:0.0.0.0:39575, s2:0.0.0.0:34382], old=null
2019-09-24 16:57:22,320 DEBUG impl.RaftServerImpl (RaftServerImpl.java:requestVote(743)) - s0@group-09A0EF6A68F4: receive requestVote(s1, group-09A0EF6A68F4, 22, (t:0, i:0))
2019-09-24 16:57:22,320 DEBUG impl.RaftServerImpl (RaftServerImpl.java:requestVote(743)) - s0@group-09A0EF6A68F4: receive requestVote(s2, group-09A0EF6A68F4, 22, (t:0, i:0))
2019-09-24 16:57:22,321 DEBUG impl.RaftServerImpl (RaftServerImpl.java:requestVote(775)) - s0@group-09A0EF6A68F4 replies to vote request: s1<-s0#0:FAIL-t22. Peer's state: s0@group-09A0EF6A68F4:t22, leader=null, voted=s0, raftlog=s0@group-09A0EF6A68F4-SegmentedRaftLog:OPENED:c-1,f-1,i0, conf=-1: [s0:0.0.0.0:42611, s1:0.0.0.0:39575, s2:0.0.0.0:34382], old=null
2019-09-24 16:57:22,321 DEBUG impl.RaftServerImpl (RaftServerImpl.java:requestVote(743)) - s2@group-09A0EF6A68F4: receive requestVote(s1, group-09A0EF6A68F4, 22, (t:0, i:0))
2019-09-24 16:57:22,321 DEBUG impl.RaftServerImpl (RaftServerImpl.java:requestVote(775)) - s0@group-09A0EF6A68F4 replies to vote request: s2<-s0#0:FAIL-t22. Peer's state: s0@group-09A0EF6A68F4:t22, leader=null, voted=s0, raftlog=s0@group-09A0EF6A68F4-SegmentedRaftLog:OPENED:c-1,f-1,i0, conf=-1: [s0:0.0.0.0:42611, s1:0.0.0.0:39575, s2:0.0.0.0:34382], old=null
2019-09-24 16:57:22,321 DEBUG impl.RaftServerImpl (RaftServerImpl.java:requestVote(775)) - s2@group-09A0EF6A68F4 replies to vote request: s1<-s2#0:FAIL-t22. Peer's state: s2@group-09A0EF6A68F4:t22, leader=null, voted=s2, raftlog=s2@group-09A0EF6A68F4-SegmentedRaftLog:OPENED:c-1,f-1,i0, conf=-1: [s0:0.0.0.0:42611, s1:0.0.0.0:39575, s2:0.0.0.0:34382], old=null
2019-09-24 16:57:22,321 DEBUG impl.RaftServerImpl (RaftServerImpl.java:requestVote(743)) - s1@group-09A0EF6A68F4: receive requestVote(s0, group-09A0EF6A68F4, 22, (t:0, i:0))
2019-09-24 16:57:22,321 DEBUG impl.RaftServerImpl (RaftServerImpl.java:requestVote(743)) - s1@group-09A0EF6A68F4: receive requestVote(s2, group-09A0EF6A68F4, 22, (t:0, i:0))
2019-09-24 16:57:22,321 DEBUG impl.RaftServerImpl (RaftServerImpl.java:requestVote(743)) - s2@group-09A0EF6A68F4: receive requestVote(s0, group-09A0EF6A68F4, 22, (t:0, i:0))
2019-09-24 16:57:22,322 DEBUG impl.RaftServerImpl (RaftServerImpl.java:requestVote(775)) - s1@group-09A0EF6A68F4 replies to vote request: s0<-s1#0:FAIL-t22. Peer's state: s1@group-09A0EF6A68F4:t22, leader=null, voted=s1, raftlog=s1@group-09A0EF6A68F4-SegmentedRaftLog:OPENED:c-1,f-1,i0, conf=-1: [s0:0.0.0.0:42611, s1:0.0.0.0:39575, s2:0.0.0.0:34382], old=null
2019-09-24 16:57:22,322 INFO  impl.LeaderElection (LeaderElection.java:logAndReturn(56)) - s1@group-09A0EF6A68F4-LeaderElection56: Election REJECTED; received 2 response(s) [s1<-s0#0:FAIL-t22, s1<-s2#0:FAIL-t22] and 0 exception(s); s1@group-09A0EF6A68F4:t22, leader=null, voted=s1, raftlog=s1@group-09A0EF6A68F4-SegmentedRaftLog:OPENED:c-1,f-1,i0, conf=-1: [s0:0.0.0.0:42611, s1:0.0.0.0:39575, s2:0.0.0.0:34382], old=null
2019-09-24 16:57:22,322 DEBUG impl.RaftServerImpl (RaftServerImpl.java:requestVote(775)) - s1@group-09A0EF6A68F4 replies to vote request: s2<-s1#0:FAIL-t22. Peer's state: s1@group-09A0EF6A68F4:t22, leader=null, voted=s1, raftlog=s1@group-09A0EF6A68F4-SegmentedRaftLog:OPENED:c-1,f-1,i0, conf=-1: [s0:0.0.0.0:42611, s1:0.0.0.0:39575, s2:0.0.0.0:34382], old=null
2019-09-24 16:57:22,322 DEBUG impl.RaftServerImpl (RaftServerImpl.java:requestVote(775)) - s2@group-09A0EF6A68F4 replies to vote request: s0<-s2#0:FAIL-t22. Peer's state: s2@group-09A0EF6A68F4:t22, leader=null, voted=s2, raftlog=s2@group-09A0EF6A68F4-SegmentedRaftLog:OPENED:c-1,f-1,i0, conf=-1: [s0:0.0.0.0:42611, s1:0.0.0.0:39575, s2:0.0.0.0:34382], old=null
2019-09-24 16:57:22,323 INFO  impl.RaftServerImpl (RaftServerImpl.java:setRole(170)) - s1@group-09A0EF6A68F4: changes role from CANDIDATE to FOLLOWER at term 22 for DISCOVERED_A_NEW_TERM
2019-09-24 16:57:22,323 INFO  impl.LeaderElection (LeaderElection.java:logAndReturn(56)) - s2@group-09A0EF6A68F4-LeaderElection57: Election REJECTED; received 2 response(s) [s2<-s0#0:FAIL-t22, s2<-s1#0:FAIL-t22] and 0 exception(s); s2@group-09A0EF6A68F4:t22, leader=null, voted=s2, raftlog=s2@group-09A0EF6A68F4-SegmentedRaftLog:OPENED:c-1,f-1,i0, conf=-1: [s0:0.0.0.0:42611, s1:0.0.0.0:39575, s2:0.0.0.0:34382], old=null
2019-09-24 16:57:22,323 INFO  impl.RoleInfo (RoleInfo.java:shutdownLeaderElection(134)) - s1: shutdown LeaderElection
2019-09-24 16:57:22,323 INFO  impl.LeaderElection (LeaderElection.java:logAndReturn(56)) - s0@group-09A0EF6A68F4-LeaderElection55: Election REJECTED; received 2 response(s) [s0<-s1#0:FAIL-t22, s0<-s2#0:FAIL-t22] and 0 exception(s); s0@group-09A0EF6A68F4:t22, leader=null, voted=s0, raftlog=s0@group-09A0EF6A68F4-SegmentedRaftLog:OPENED:c-1,f-1,i0, conf=-1: [s0:0.0.0.0:42611, s1:0.0.0.0:39575, s2:0.0.0.0:34382], old=null
2019-09-24 16:57:22,323 INFO  impl.RaftServerImpl (RaftServerImpl.java:setRole(170)) - s2@group-09A0EF6A68F4: changes role from CANDIDATE to FOLLOWER at term 22 for DISCOVERED_A_NEW_TERM
2019-09-24 16:57:22,324 INFO  impl.RaftServerImpl (RaftServerImpl.java:setRole(170)) - s0@group-09A0EF6A68F4: changes role from CANDIDATE to FOLLOWER at term 22 for DISCOVERED_A_NEW_TERM
2019-09-24 16:57:22,323 INFO  impl.RoleInfo (RoleInfo.java:updateAndGet(143)) - s1: start FollowerState
2019-09-24 16:57:22,324 INFO  impl.RoleInfo (RoleInfo.java:shutdownLeaderElection(134)) - s0: shutdown LeaderElection
2019-09-24 16:57:22,324 INFO  impl.RoleInfo (RoleInfo.java:shutdownLeaderElection(134)) - s2: shutdown LeaderElection
2019-09-24 16:57:22,324 INFO  impl.RoleInfo (RoleInfo.java:updateAndGet(143)) - s0: start FollowerState
2019-09-24 16:57:22,325 INFO  impl.RoleInfo (RoleInfo.java:updateAndGet(143)) - s2: start FollowerState
2019-09-24 16:57:22,327 WARN  ratis.RaftTestUtil (JavaUtils.java:attempt(158)) - FAILED "waitForLeader-null-(expectLeader? true)", attempt #28/100: java.lang.IllegalStateException: No leader yet : printing ALL groups
  s0:  RUNNING  FOLLOWER s0@group-09A0EF6A68F4:t22, leader=null, voted=s0, raftlog=s0@group-09A0EF6A68F4-SegmentedRaftLog:OPENED:c-1,f-1,i0, conf=-1: [s0:0.0.0.0:42611, s1:0.0.0.0:39575, s2:0.0.0.0:34382], old=null RUNNING
  s1:  RUNNING  FOLLOWER s1@group-09A0EF6A68F4:t22, leader=null, voted=s1, raftlog=s1@group-09A0EF6A68F4-SegmentedRaftLog:OPENED:c-1,f-1,i0, conf=-1: [s0:0.0.0.0:42611, s1:0.0.0.0:39575, s2:0.0.0.0:34382], old=null RUNNING
  s2:  RUNNING  FOLLOWER s2@group-09A0EF6A68F4:t22, leader=null, voted=s2, raftlog=s2@group-09A0EF6A68F4-SegmentedRaftLog:OPENED:c-1,f-1,i0, conf=-1: [s0:0.0.0.0:42611, s1:0.0.0.0:39575, s2:0.0.0.0:34382], old=null RUNNING, sleep 450ms and then retry.
java.lang.IllegalStateException: No leader yet : printing ALL groups
  s0:  RUNNING  FOLLOWER s0@group-09A0EF6A68F4:t22, leader=null, voted=s0, raftlog=s0@group-09A0EF6A68F4-SegmentedRaftLog:OPENED:c-1,f-1,i0, conf=-1: [s0:0.0.0.0:42611, s1:0.0.0.0:39575, s2:0.0.0.0:34382], old=null RUNNING
  s1:  RUNNING  FOLLOWER s1@group-09A0EF6A68F4:t22, leader=null, voted=s1, raftlog=s1@group-09A0EF6A68F4-SegmentedRaftLog:OPENED:c-1,f-1,i0, conf=-1: [s0:0.0.0.0:42611, s1:0.0.0.0:39575, s2:0.0.0.0:34382], old=null RUNNING
  s2:  RUNNING  FOLLOWER s2@group-09A0EF6A68F4:t22, leader=null, voted=s2, raftlog=s2@group-09A0EF6A68F4-SegmentedRaftLog:OPENED:c-1,f-1,i0, conf=-1: [s0:0.0.0.0:42611, s1:0.0.0.0:39575, s2:0.0.0.0:34382], old=null RUNNING
	at org.apache.ratis.MiniRaftCluster.newIllegalStateExceptionForNoLeaders(MiniRaftCluster.java:506)
	at org.apache.ratis.RaftTestUtil.lambda$waitForLeader$1(RaftTestUtil.java:90)
	at org.apache.ratis.MiniRaftCluster.getLeader(MiniRaftCluster.java:539)
	at org.apache.ratis.MiniRaftCluster.getLeader(MiniRaftCluster.java:532)
	at org.apache.ratis.RaftTestUtil.lambda$waitForLeader$3(RaftTestUtil.java:98)
	at org.apache.ratis.util.JavaUtils.attempt(JavaUtils.java:152)
	at org.apache.ratis.RaftTestUtil.waitForLeader(RaftTestUtil.java:97)
	at org.apache.ratis.RaftTestUtil.waitForLeader(RaftTestUtil.java:77)
	at org.apache.ratis.RaftTestUtil.waitForLeader(RaftTestUtil.java:72)
	at org.apache.ratis.server.impl.RaftStateMachineExceptionTests.runTestRetryOnExceptionDuringReplication(RaftStateMachineExceptionTests.java:149)
	at org.apache.ratis.MiniRaftCluster$Factory$Get.runWithNewCluster(MiniRaftCluster.java:125)
	at org.apache.ratis.MiniRaftCluster$Factory$Get.runWithNewCluster(MiniRaftCluster.java:113)
	at org.apache.ratis.server.impl.RaftStateMachineExceptionTests.testRetryOnExceptionDuringReplication(RaftStateMachineExceptionTests.java:145)
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.lang.reflect.Method.invoke(Method.java:498)
	at org.junit.runners.model.FrameworkMethod$1.runReflectiveCall(FrameworkMethod.java:50)
	at org.junit.internal.runners.model.ReflectiveCallable.run(ReflectiveCallable.java:12)
	at org.junit.runners.model.FrameworkMethod.invokeExplosively(FrameworkMethod.java:47)
	at org.junit.internal.runners.statements.InvokeMethod.evaluate(InvokeMethod.java:17)
	at org.junit.internal.runners.statements.RunAfters.evaluate(RunAfters.java:27)
	at org.junit.internal.runners.statements.FailOnTimeout$CallableStatement.call(FailOnTimeout.java:298)
	at org.junit.internal.runners.statements.FailOnTimeout$CallableStatement.call(FailOnTimeout.java:292)
	at java.util.concurrent.FutureTask.run(FutureTask.java:266)
	at java.lang.Thread.run(Thread.java:748)
2019-09-24 16:57:22,486 INFO  impl.FollowerState (FollowerState.java:run(108)) - s0@group-09A0EF6A68F4-FollowerState: change to CANDIDATE, lastRpcTime:161ms, electionTimeout:161ms
2019-09-24 16:57:22,486 INFO  impl.RoleInfo (RoleInfo.java:shutdownFollowerState(121)) - s0: shutdown FollowerState
2019-09-24 16:57:22,487 INFO  impl.RaftServerImpl (RaftServerImpl.java:setRole(170)) - s0@group-09A0EF6A68F4: changes role from  FOLLOWER to CANDIDATE at term 22 for changeToCandidate
2019-09-24 16:57:22,487 INFO  impl.RoleInfo (RoleInfo.java:updateAndGet(143)) - s0: start LeaderElection
2019-09-24 16:57:22,518 INFO  impl.FollowerState (FollowerState.java:run(108)) - s1@group-09A0EF6A68F4-FollowerState: change to CANDIDATE, lastRpcTime:194ms, electionTimeout:193ms
2019-09-24 16:57:22,518 INFO  impl.RoleInfo (RoleInfo.java:shutdownFollowerState(121)) - s1: shutdown FollowerState
2019-09-24 16:57:22,518 INFO  impl.RaftServerImpl (RaftServerImpl.java:setRole(170)) - s1@group-09A0EF6A68F4: changes role from  FOLLOWER to CANDIDATE at term 22 for changeToCandidate
2019-09-24 16:57:22,519 INFO  impl.RoleInfo (RoleInfo.java:updateAndGet(143)) - s1: start LeaderElection
2019-09-24 16:57:22,619 INFO  impl.FollowerState (FollowerState.java:run(108)) - s2@group-09A0EF6A68F4-FollowerState: change to CANDIDATE, lastRpcTime:294ms, electionTimeout:294ms
2019-09-24 16:57:22,620 INFO  impl.RoleInfo (RoleInfo.java:shutdownFollowerState(121)) - s2: shutdown FollowerState
2019-09-24 16:57:22,620 INFO  impl.RaftServerImpl (RaftServerImpl.java:setRole(170)) - s2@group-09A0EF6A68F4: changes role from  FOLLOWER to CANDIDATE at term 22 for changeToCandidate
2019-09-24 16:57:22,620 INFO  impl.RoleInfo (RoleInfo.java:updateAndGet(143)) - s2: start LeaderElection
2019-09-24 16:57:22,778 WARN  ratis.RaftTestUtil (JavaUtils.java:attempt(158)) - FAILED "waitForLeader-null-(expectLeader? true)", attempt #29/100: java.lang.IllegalStateException: No leader yet : printing ALL groups
  s0:  RUNNING CANDIDATE s0@group-09A0EF6A68F4:t23, leader=null, voted=s0, raftlog=s0@group-09A0EF6A68F4-SegmentedRaftLog:OPENED:c-1,f-1,i0, conf=-1: [s0:0.0.0.0:42611, s1:0.0.0.0:39575, s2:0.0.0.0:34382], old=null RUNNING
  s1:  RUNNING CANDIDATE s1@group-09A0EF6A68F4:t23, leader=null, voted=s1, raftlog=s1@group-09A0EF6A68F4-SegmentedRaftLog:OPENED:c-1,f-1,i0, conf=-1: [s0:0.0.0.0:42611, s1:0.0.0.0:39575, s2:0.0.0.0:34382], old=null RUNNING
  s2:  RUNNING CANDIDATE s2@group-09A0EF6A68F4:t23, leader=null, voted=s2, raftlog=s2@group-09A0EF6A68F4-SegmentedRaftLog:OPENED:c-1,f-1,i0, conf=-1: [s0:0.0.0.0:42611, s1:0.0.0.0:39575, s2:0.0.0.0:34382], old=null RUNNING, sleep 450ms and then retry.
java.lang.IllegalStateException: No leader yet : printing ALL groups
  s0:  RUNNING CANDIDATE s0@group-09A0EF6A68F4:t23, leader=null, voted=s0, raftlog=s0@group-09A0EF6A68F4-SegmentedRaftLog:OPENED:c-1,f-1,i0, conf=-1: [s0:0.0.0.0:42611, s1:0.0.0.0:39575, s2:0.0.0.0:34382], old=null RUNNING
  s1:  RUNNING CANDIDATE s1@group-09A0EF6A68F4:t23, leader=null, voted=s1, raftlog=s1@group-09A0EF6A68F4-SegmentedRaftLog:OPENED:c-1,f-1,i0, conf=-1: [s0:0.0.0.0:42611, s1:0.0.0.0:39575, s2:0.0.0.0:34382], old=null RUNNING
  s2:  RUNNING CANDIDATE s2@group-09A0EF6A68F4:t23, leader=null, voted=s2, raftlog=s2@group-09A0EF6A68F4-SegmentedRaftLog:OPENED:c-1,f-1,i0, conf=-1: [s0:0.0.0.0:42611, s1:0.0.0.0:39575, s2:0.0.0.0:34382], old=null RUNNING
	at org.apache.ratis.MiniRaftCluster.newIllegalStateExceptionForNoLeaders(MiniRaftCluster.java:506)
	at org.apache.ratis.RaftTestUtil.lambda$waitForLeader$1(RaftTestUtil.java:90)
	at org.apache.ratis.MiniRaftCluster.getLeader(MiniRaftCluster.java:539)
	at org.apache.ratis.MiniRaftCluster.getLeader(MiniRaftCluster.java:532)
	at org.apache.ratis.RaftTestUtil.lambda$waitForLeader$3(RaftTestUtil.java:98)
	at org.apache.ratis.util.JavaUtils.attempt(JavaUtils.java:152)
	at org.apache.ratis.RaftTestUtil.waitForLeader(RaftTestUtil.java:97)
	at org.apache.ratis.RaftTestUtil.waitForLeader(RaftTestUtil.java:77)
	at org.apache.ratis.RaftTestUtil.waitForLeader(RaftTestUtil.java:72)
	at org.apache.ratis.server.impl.RaftStateMachineExceptionTests.runTestRetryOnExceptionDuringReplication(RaftStateMachineExceptionTests.java:149)
	at org.apache.ratis.MiniRaftCluster$Factory$Get.runWithNewCluster(MiniRaftCluster.java:125)
	at org.apache.ratis.MiniRaftCluster$Factory$Get.runWithNewCluster(MiniRaftCluster.java:113)
	at org.apache.ratis.server.impl.RaftStateMachineExceptionTests.testRetryOnExceptionDuringReplication(RaftStateMachineExceptionTests.java:145)
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.lang.reflect.Method.invoke(Method.java:498)
	at org.junit.runners.model.FrameworkMethod$1.runReflectiveCall(FrameworkMethod.java:50)
	at org.junit.internal.runners.model.ReflectiveCallable.run(ReflectiveCallable.java:12)
	at org.junit.runners.model.FrameworkMethod.invokeExplosively(FrameworkMethod.java:47)
	at org.junit.internal.runners.statements.InvokeMethod.evaluate(InvokeMethod.java:17)
	at org.junit.internal.runners.statements.RunAfters.evaluate(RunAfters.java:27)
	at org.junit.internal.runners.statements.FailOnTimeout$CallableStatement.call(FailOnTimeout.java:298)
	at org.junit.internal.runners.statements.FailOnTimeout$CallableStatement.call(FailOnTimeout.java:292)
	at java.util.concurrent.FutureTask.run(FutureTask.java:266)
	at java.lang.Thread.run(Thread.java:748)
2019-09-24 16:57:22,911 INFO  impl.LeaderElection (LeaderElection.java:askForVotes(178)) - s0@group-09A0EF6A68F4-LeaderElection58: begin an election at term 23 for -1: [s0:0.0.0.0:42611, s1:0.0.0.0:39575, s2:0.0.0.0:34382], old=null
2019-09-24 16:57:22,911 INFO  impl.LeaderElection (LeaderElection.java:askForVotes(178)) - s1@group-09A0EF6A68F4-LeaderElection59: begin an election at term 23 for -1: [s0:0.0.0.0:42611, s1:0.0.0.0:39575, s2:0.0.0.0:34382], old=null
2019-09-24 16:57:22,912 DEBUG impl.RaftServerImpl (RaftServerImpl.java:requestVote(743)) - s1@group-09A0EF6A68F4: receive requestVote(s0, group-09A0EF6A68F4, 23, (t:0, i:0))
2019-09-24 16:57:22,912 DEBUG impl.RaftServerImpl (RaftServerImpl.java:requestVote(743)) - s0@group-09A0EF6A68F4: receive requestVote(s1, group-09A0EF6A68F4, 23, (t:0, i:0))
2019-09-24 16:57:22,913 DEBUG impl.RaftServerImpl (RaftServerImpl.java:requestVote(775)) - s1@group-09A0EF6A68F4 replies to vote request: s0<-s1#0:FAIL-t23. Peer's state: s1@group-09A0EF6A68F4:t23, leader=null, voted=s1, raftlog=s1@group-09A0EF6A68F4-SegmentedRaftLog:OPENED:c-1,f-1,i0, conf=-1: [s0:0.0.0.0:42611, s1:0.0.0.0:39575, s2:0.0.0.0:34382], old=null
2019-09-24 16:57:22,913 DEBUG impl.RaftServerImpl (RaftServerImpl.java:requestVote(743)) - s2@group-09A0EF6A68F4: receive requestVote(s1, group-09A0EF6A68F4, 23, (t:0, i:0))
2019-09-24 16:57:22,913 DEBUG impl.RaftServerImpl (RaftServerImpl.java:requestVote(743)) - s2@group-09A0EF6A68F4: receive requestVote(s0, group-09A0EF6A68F4, 23, (t:0, i:0))
2019-09-24 16:57:22,913 DEBUG impl.RaftServerImpl (RaftServerImpl.java:requestVote(775)) - s0@group-09A0EF6A68F4 replies to vote request: s1<-s0#0:FAIL-t23. Peer's state: s0@group-09A0EF6A68F4:t23, leader=null, voted=s0, raftlog=s0@group-09A0EF6A68F4-SegmentedRaftLog:OPENED:c-1,f-1,i0, conf=-1: [s0:0.0.0.0:42611, s1:0.0.0.0:39575, s2:0.0.0.0:34382], old=null
2019-09-24 16:57:22,930 INFO  impl.LeaderElection (LeaderElection.java:askForVotes(178)) - s2@group-09A0EF6A68F4-LeaderElection60: begin an election at term 23 for -1: [s0:0.0.0.0:42611, s1:0.0.0.0:39575, s2:0.0.0.0:34382], old=null
2019-09-24 16:57:22,930 DEBUG impl.RaftServerImpl (RaftServerImpl.java:requestVote(775)) - s2@group-09A0EF6A68F4 replies to vote request: s0<-s2#0:FAIL-t23. Peer's state: s2@group-09A0EF6A68F4:t23, leader=null, voted=s2, raftlog=s2@group-09A0EF6A68F4-SegmentedRaftLog:OPENED:c-1,f-1,i0, conf=-1: [s0:0.0.0.0:42611, s1:0.0.0.0:39575, s2:0.0.0.0:34382], old=null
2019-09-24 16:57:22,930 DEBUG impl.RaftServerImpl (RaftServerImpl.java:requestVote(775)) - s2@group-09A0EF6A68F4 replies to vote request: s1<-s2#0:FAIL-t23. Peer's state: s2@group-09A0EF6A68F4:t23, leader=null, voted=s2, raftlog=s2@group-09A0EF6A68F4-SegmentedRaftLog:OPENED:c-1,f-1,i0, conf=-1: [s0:0.0.0.0:42611, s1:0.0.0.0:39575, s2:0.0.0.0:34382], old=null
2019-09-24 16:57:22,931 INFO  impl.LeaderElection (LeaderElection.java:logAndReturn(56)) - s0@group-09A0EF6A68F4-LeaderElection58: Election REJECTED; received 2 response(s) [s0<-s1#0:FAIL-t23, s0<-s2#0:FAIL-t23] and 0 exception(s); s0@group-09A0EF6A68F4:t23, leader=null, voted=s0, raftlog=s0@group-09A0EF6A68F4-SegmentedRaftLog:OPENED:c-1,f-1,i0, conf=-1: [s0:0.0.0.0:42611, s1:0.0.0.0:39575, s2:0.0.0.0:34382], old=null
2019-09-24 16:57:22,931 INFO  impl.LeaderElection (LeaderElection.java:logAndReturn(56)) - s1@group-09A0EF6A68F4-LeaderElection59: Election REJECTED; received 2 response(s) [s1<-s0#0:FAIL-t23, s1<-s2#0:FAIL-t23] and 0 exception(s); s1@group-09A0EF6A68F4:t23, leader=null, voted=s1, raftlog=s1@group-09A0EF6A68F4-SegmentedRaftLog:OPENED:c-1,f-1,i0, conf=-1: [s0:0.0.0.0:42611, s1:0.0.0.0:39575, s2:0.0.0.0:34382], old=null
2019-09-24 16:57:22,931 INFO  impl.RaftServerImpl (RaftServerImpl.java:setRole(170)) - s0@group-09A0EF6A68F4: changes role from CANDIDATE to FOLLOWER at term 23 for DISCOVERED_A_NEW_TERM
2019-09-24 16:57:22,931 INFO  impl.RoleInfo (RoleInfo.java:shutdownLeaderElection(134)) - s0: shutdown LeaderElection
2019-09-24 16:57:22,931 INFO  impl.RaftServerImpl (RaftServerImpl.java:setRole(170)) - s1@group-09A0EF6A68F4: changes role from CANDIDATE to FOLLOWER at term 23 for DISCOVERED_A_NEW_TERM
2019-09-24 16:57:22,931 INFO  impl.RoleInfo (RoleInfo.java:shutdownLeaderElection(134)) - s1: shutdown LeaderElection
2019-09-24 16:57:22,931 DEBUG impl.RaftServerImpl (RaftServerImpl.java:requestVote(743)) - s0@group-09A0EF6A68F4: receive requestVote(s2, group-09A0EF6A68F4, 23, (t:0, i:0))
2019-09-24 16:57:22,931 INFO  impl.RoleInfo (RoleInfo.java:updateAndGet(143)) - s0: start FollowerState
2019-09-24 16:57:22,932 DEBUG impl.RaftServerImpl (RaftServerImpl.java:requestVote(743)) - s1@group-09A0EF6A68F4: receive requestVote(s2, group-09A0EF6A68F4, 23, (t:0, i:0))
2019-09-24 16:57:22,932 INFO  impl.RoleInfo (RoleInfo.java:updateAndGet(143)) - s1: start FollowerState
2019-09-24 16:57:22,932 DEBUG impl.RaftServerImpl (RaftServerImpl.java:requestVote(775)) - s0@group-09A0EF6A68F4 replies to vote request: s2<-s0#0:FAIL-t23. Peer's state: s0@group-09A0EF6A68F4:t23, leader=null, voted=s0, raftlog=s0@group-09A0EF6A68F4-SegmentedRaftLog:OPENED:c-1,f-1,i0, conf=-1: [s0:0.0.0.0:42611, s1:0.0.0.0:39575, s2:0.0.0.0:34382], old=null
2019-09-24 16:57:22,932 DEBUG impl.RaftServerImpl (RaftServerImpl.java:requestVote(775)) - s1@group-09A0EF6A68F4 replies to vote request: s2<-s1#0:FAIL-t23. Peer's state: s1@group-09A0EF6A68F4:t23, leader=null, voted=s1, raftlog=s1@group-09A0EF6A68F4-SegmentedRaftLog:OPENED:c-1,f-1,i0, conf=-1: [s0:0.0.0.0:42611, s1:0.0.0.0:39575, s2:0.0.0.0:34382], old=null
2019-09-24 16:57:22,933 INFO  impl.LeaderElection (LeaderElection.java:logAndReturn(56)) - s2@group-09A0EF6A68F4-LeaderElection60: Election REJECTED; received 2 response(s) [s2<-s0#0:FAIL-t23, s2<-s1#0:FAIL-t23] and 0 exception(s); s2@group-09A0EF6A68F4:t23, leader=null, voted=s2, raftlog=s2@group-09A0EF6A68F4-SegmentedRaftLog:OPENED:c-1,f-1,i0, conf=-1: [s0:0.0.0.0:42611, s1:0.0.0.0:39575, s2:0.0.0.0:34382], old=null
2019-09-24 16:57:22,933 INFO  impl.RaftServerImpl (RaftServerImpl.java:setRole(170)) - s2@group-09A0EF6A68F4: changes role from CANDIDATE to FOLLOWER at term 23 for DISCOVERED_A_NEW_TERM
2019-09-24 16:57:22,933 INFO  impl.RoleInfo (RoleInfo.java:shutdownLeaderElection(134)) - s2: shutdown LeaderElection
2019-09-24 16:57:22,933 INFO  impl.RoleInfo (RoleInfo.java:updateAndGet(143)) - s2: start FollowerState
2019-09-24 16:57:23,116 INFO  impl.FollowerState (FollowerState.java:run(108)) - s2@group-09A0EF6A68F4-FollowerState: change to CANDIDATE, lastRpcTime:182ms, electionTimeout:182ms
2019-09-24 16:57:23,116 INFO  impl.RoleInfo (RoleInfo.java:shutdownFollowerState(121)) - s2: shutdown FollowerState
2019-09-24 16:57:23,116 INFO  impl.RaftServerImpl (RaftServerImpl.java:setRole(170)) - s2@group-09A0EF6A68F4: changes role from  FOLLOWER to CANDIDATE at term 23 for changeToCandidate
2019-09-24 16:57:23,117 INFO  impl.RoleInfo (RoleInfo.java:updateAndGet(143)) - s2: start LeaderElection
2019-09-24 16:57:23,176 INFO  impl.FollowerState (FollowerState.java:run(108)) - s1@group-09A0EF6A68F4-FollowerState: change to CANDIDATE, lastRpcTime:243ms, electionTimeout:243ms
2019-09-24 16:57:23,176 INFO  impl.RoleInfo (RoleInfo.java:shutdownFollowerState(121)) - s1: shutdown FollowerState
2019-09-24 16:57:23,176 INFO  impl.RaftServerImpl (RaftServerImpl.java:setRole(170)) - s1@group-09A0EF6A68F4: changes role from  FOLLOWER to CANDIDATE at term 23 for changeToCandidate
2019-09-24 16:57:23,176 INFO  impl.RoleInfo (RoleInfo.java:updateAndGet(143)) - s1: start LeaderElection
2019-09-24 16:57:23,185 INFO  impl.FollowerState (FollowerState.java:run(108)) - s0@group-09A0EF6A68F4-FollowerState: change to CANDIDATE, lastRpcTime:253ms, electionTimeout:253ms
2019-09-24 16:57:23,185 INFO  impl.RoleInfo (RoleInfo.java:shutdownFollowerState(121)) - s0: shutdown FollowerState
2019-09-24 16:57:23,185 INFO  impl.RaftServerImpl (RaftServerImpl.java:setRole(170)) - s0@group-09A0EF6A68F4: changes role from  FOLLOWER to CANDIDATE at term 23 for changeToCandidate
2019-09-24 16:57:23,186 INFO  impl.RoleInfo (RoleInfo.java:updateAndGet(143)) - s0: start LeaderElection
2019-09-24 16:57:23,230 WARN  ratis.RaftTestUtil (JavaUtils.java:attempt(158)) - FAILED "waitForLeader-null-(expectLeader? true)", attempt #30/100: java.lang.IllegalStateException: No leader yet : printing ALL groups
  s0:  RUNNING CANDIDATE s0@group-09A0EF6A68F4:t24, leader=null, voted=s0, raftlog=s0@group-09A0EF6A68F4-SegmentedRaftLog:OPENED:c-1,f-1,i0, conf=-1: [s0:0.0.0.0:42611, s1:0.0.0.0:39575, s2:0.0.0.0:34382], old=null RUNNING
  s1:  RUNNING CANDIDATE s1@group-09A0EF6A68F4:t24, leader=null, voted=s1, raftlog=s1@group-09A0EF6A68F4-SegmentedRaftLog:OPENED:c-1,f-1,i0, conf=-1: [s0:0.0.0.0:42611, s1:0.0.0.0:39575, s2:0.0.0.0:34382], old=null RUNNING
  s2:  RUNNING CANDIDATE s2@group-09A0EF6A68F4:t24, leader=null, voted=s2, raftlog=s2@group-09A0EF6A68F4-SegmentedRaftLog:OPENED:c-1,f-1,i0, conf=-1: [s0:0.0.0.0:42611, s1:0.0.0.0:39575, s2:0.0.0.0:34382], old=null RUNNING, sleep 450ms and then retry.
java.lang.IllegalStateException: No leader yet : printing ALL groups
  s0:  RUNNING CANDIDATE s0@group-09A0EF6A68F4:t24, leader=null, voted=s0, raftlog=s0@group-09A0EF6A68F4-SegmentedRaftLog:OPENED:c-1,f-1,i0, conf=-1: [s0:0.0.0.0:42611, s1:0.0.0.0:39575, s2:0.0.0.0:34382], old=null RUNNING
  s1:  RUNNING CANDIDATE s1@group-09A0EF6A68F4:t24, leader=null, voted=s1, raftlog=s1@group-09A0EF6A68F4-SegmentedRaftLog:OPENED:c-1,f-1,i0, conf=-1: [s0:0.0.0.0:42611, s1:0.0.0.0:39575, s2:0.0.0.0:34382], old=null RUNNING
  s2:  RUNNING CANDIDATE s2@group-09A0EF6A68F4:t24, leader=null, voted=s2, raftlog=s2@group-09A0EF6A68F4-SegmentedRaftLog:OPENED:c-1,f-1,i0, conf=-1: [s0:0.0.0.0:42611, s1:0.0.0.0:39575, s2:0.0.0.0:34382], old=null RUNNING
	at org.apache.ratis.MiniRaftCluster.newIllegalStateExceptionForNoLeaders(MiniRaftCluster.java:506)
	at org.apache.ratis.RaftTestUtil.lambda$waitForLeader$1(RaftTestUtil.java:90)
	at org.apache.ratis.MiniRaftCluster.getLeader(MiniRaftCluster.java:539)
	at org.apache.ratis.MiniRaftCluster.getLeader(MiniRaftCluster.java:532)
	at org.apache.ratis.RaftTestUtil.lambda$waitForLeader$3(RaftTestUtil.java:98)
	at org.apache.ratis.util.JavaUtils.attempt(JavaUtils.java:152)
	at org.apache.ratis.RaftTestUtil.waitForLeader(RaftTestUtil.java:97)
	at org.apache.ratis.RaftTestUtil.waitForLeader(RaftTestUtil.java:77)
	at org.apache.ratis.RaftTestUtil.waitForLeader(RaftTestUtil.java:72)
	at org.apache.ratis.server.impl.RaftStateMachineExceptionTests.runTestRetryOnExceptionDuringReplication(RaftStateMachineExceptionTests.java:149)
	at org.apache.ratis.MiniRaftCluster$Factory$Get.runWithNewCluster(MiniRaftCluster.java:125)
	at org.apache.ratis.MiniRaftCluster$Factory$Get.runWithNewCluster(MiniRaftCluster.java:113)
	at org.apache.ratis.server.impl.RaftStateMachineExceptionTests.testRetryOnExceptionDuringReplication(RaftStateMachineExceptionTests.java:145)
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.lang.reflect.Method.invoke(Method.java:498)
	at org.junit.runners.model.FrameworkMethod$1.runReflectiveCall(FrameworkMethod.java:50)
	at org.junit.internal.runners.model.ReflectiveCallable.run(ReflectiveCallable.java:12)
	at org.junit.runners.model.FrameworkMethod.invokeExplosively(FrameworkMethod.java:47)
	at org.junit.internal.runners.statements.InvokeMethod.evaluate(InvokeMethod.java:17)
	at org.junit.internal.runners.statements.RunAfters.evaluate(RunAfters.java:27)
	at org.junit.internal.runners.statements.FailOnTimeout$CallableStatement.call(FailOnTimeout.java:298)
	at org.junit.internal.runners.statements.FailOnTimeout$CallableStatement.call(FailOnTimeout.java:292)
	at java.util.concurrent.FutureTask.run(FutureTask.java:266)
	at java.lang.Thread.run(Thread.java:748)
2019-09-24 16:57:23,614 INFO  impl.LeaderElection (LeaderElection.java:askForVotes(178)) - s0@group-09A0EF6A68F4-LeaderElection63: begin an election at term 24 for -1: [s0:0.0.0.0:42611, s1:0.0.0.0:39575, s2:0.0.0.0:34382], old=null
2019-09-24 16:57:23,614 INFO  impl.LeaderElection (LeaderElection.java:askForVotes(178)) - s2@group-09A0EF6A68F4-LeaderElection61: begin an election at term 24 for -1: [s0:0.0.0.0:42611, s1:0.0.0.0:39575, s2:0.0.0.0:34382], old=null
2019-09-24 16:57:23,614 INFO  impl.LeaderElection (LeaderElection.java:askForVotes(178)) - s1@group-09A0EF6A68F4-LeaderElection62: begin an election at term 24 for -1: [s0:0.0.0.0:42611, s1:0.0.0.0:39575, s2:0.0.0.0:34382], old=null
2019-09-24 16:57:23,616 DEBUG impl.RaftServerImpl (RaftServerImpl.java:requestVote(743)) - s1@group-09A0EF6A68F4: receive requestVote(s0, group-09A0EF6A68F4, 24, (t:0, i:0))
2019-09-24 16:57:23,616 DEBUG impl.RaftServerImpl (RaftServerImpl.java:requestVote(743)) - s0@group-09A0EF6A68F4: receive requestVote(s2, group-09A0EF6A68F4, 24, (t:0, i:0))
2019-09-24 16:57:23,616 DEBUG impl.RaftServerImpl (RaftServerImpl.java:requestVote(743)) - s0@group-09A0EF6A68F4: receive requestVote(s1, group-09A0EF6A68F4, 24, (t:0, i:0))
2019-09-24 16:57:23,616 DEBUG impl.RaftServerImpl (RaftServerImpl.java:requestVote(775)) - s1@group-09A0EF6A68F4 replies to vote request: s0<-s1#0:FAIL-t24. Peer's state: s1@group-09A0EF6A68F4:t24, leader=null, voted=s1, raftlog=s1@group-09A0EF6A68F4-SegmentedRaftLog:OPENED:c-1,f-1,i0, conf=-1: [s0:0.0.0.0:42611, s1:0.0.0.0:39575, s2:0.0.0.0:34382], old=null
2019-09-24 16:57:23,616 DEBUG impl.RaftServerImpl (RaftServerImpl.java:requestVote(775)) - s0@group-09A0EF6A68F4 replies to vote request: s2<-s0#0:FAIL-t24. Peer's state: s0@group-09A0EF6A68F4:t24, leader=null, voted=s0, raftlog=s0@group-09A0EF6A68F4-SegmentedRaftLog:OPENED:c-1,f-1,i0, conf=-1: [s0:0.0.0.0:42611, s1:0.0.0.0:39575, s2:0.0.0.0:34382], old=null
2019-09-24 16:57:23,617 DEBUG impl.RaftServerImpl (RaftServerImpl.java:requestVote(743)) - s2@group-09A0EF6A68F4: receive requestVote(s1, group-09A0EF6A68F4, 24, (t:0, i:0))
2019-09-24 16:57:23,617 DEBUG impl.RaftServerImpl (RaftServerImpl.java:requestVote(775)) - s0@group-09A0EF6A68F4 replies to vote request: s1<-s0#0:FAIL-t24. Peer's state: s0@group-09A0EF6A68F4:t24, leader=null, voted=s0, raftlog=s0@group-09A0EF6A68F4-SegmentedRaftLog:OPENED:c-1,f-1,i0, conf=-1: [s0:0.0.0.0:42611, s1:0.0.0.0:39575, s2:0.0.0.0:34382], old=null
2019-09-24 16:57:23,617 DEBUG impl.RaftServerImpl (RaftServerImpl.java:requestVote(743)) - s1@group-09A0EF6A68F4: receive requestVote(s2, group-09A0EF6A68F4, 24, (t:0, i:0))
2019-09-24 16:57:23,616 DEBUG impl.RaftServerImpl (RaftServerImpl.java:requestVote(743)) - s2@group-09A0EF6A68F4: receive requestVote(s0, group-09A0EF6A68F4, 24, (t:0, i:0))
2019-09-24 16:57:23,618 DEBUG impl.RaftServerImpl (RaftServerImpl.java:requestVote(775)) - s1@group-09A0EF6A68F4 replies to vote request: s2<-s1#0:FAIL-t24. Peer's state: s1@group-09A0EF6A68F4:t24, leader=null, voted=s1, raftlog=s1@group-09A0EF6A68F4-SegmentedRaftLog:OPENED:c-1,f-1,i0, conf=-1: [s0:0.0.0.0:42611, s1:0.0.0.0:39575, s2:0.0.0.0:34382], old=null
2019-09-24 16:57:23,617 DEBUG impl.RaftServerImpl (RaftServerImpl.java:requestVote(775)) - s2@group-09A0EF6A68F4 replies to vote request: s1<-s2#0:FAIL-t24. Peer's state: s2@group-09A0EF6A68F4:t24, leader=null, voted=s2, raftlog=s2@group-09A0EF6A68F4-SegmentedRaftLog:OPENED:c-1,f-1,i0, conf=-1: [s0:0.0.0.0:42611, s1:0.0.0.0:39575, s2:0.0.0.0:34382], old=null
2019-09-24 16:57:23,618 DEBUG impl.RaftServerImpl (RaftServerImpl.java:requestVote(775)) - s2@group-09A0EF6A68F4 replies to vote request: s0<-s2#0:FAIL-t24. Peer's state: s2@group-09A0EF6A68F4:t24, leader=null, voted=s2, raftlog=s2@group-09A0EF6A68F4-SegmentedRaftLog:OPENED:c-1,f-1,i0, conf=-1: [s0:0.0.0.0:42611, s1:0.0.0.0:39575, s2:0.0.0.0:34382], old=null
2019-09-24 16:57:23,618 INFO  impl.LeaderElection (LeaderElection.java:logAndReturn(56)) - s2@group-09A0EF6A68F4-LeaderElection61: Election REJECTED; received 2 response(s) [s2<-s0#0:FAIL-t24, s2<-s1#0:FAIL-t24] and 0 exception(s); s2@group-09A0EF6A68F4:t24, leader=null, voted=s2, raftlog=s2@group-09A0EF6A68F4-SegmentedRaftLog:OPENED:c-1,f-1,i0, conf=-1: [s0:0.0.0.0:42611, s1:0.0.0.0:39575, s2:0.0.0.0:34382], old=null
2019-09-24 16:57:23,618 INFO  impl.LeaderElection (LeaderElection.java:logAndReturn(56)) - s1@group-09A0EF6A68F4-LeaderElection62: Election REJECTED; received 2 response(s) [s1<-s0#0:FAIL-t24, s1<-s2#0:FAIL-t24] and 0 exception(s); s1@group-09A0EF6A68F4:t24, leader=null, voted=s1, raftlog=s1@group-09A0EF6A68F4-SegmentedRaftLog:OPENED:c-1,f-1,i0, conf=-1: [s0:0.0.0.0:42611, s1:0.0.0.0:39575, s2:0.0.0.0:34382], old=null
2019-09-24 16:57:23,619 INFO  impl.RaftServerImpl (RaftServerImpl.java:setRole(170)) - s2@group-09A0EF6A68F4: changes role from CANDIDATE to FOLLOWER at term 24 for DISCOVERED_A_NEW_TERM
2019-09-24 16:57:23,619 INFO  impl.RaftServerImpl (RaftServerImpl.java:setRole(170)) - s1@group-09A0EF6A68F4: changes role from CANDIDATE to FOLLOWER at term 24 for DISCOVERED_A_NEW_TERM
2019-09-24 16:57:23,619 INFO  impl.LeaderElection (LeaderElection.java:logAndReturn(56)) - s0@group-09A0EF6A68F4-LeaderElection63: Election REJECTED; received 2 response(s) [s0<-s1#0:FAIL-t24, s0<-s2#0:FAIL-t24] and 0 exception(s); s0@group-09A0EF6A68F4:t24, leader=null, voted=s0, raftlog=s0@group-09A0EF6A68F4-SegmentedRaftLog:OPENED:c-1,f-1,i0, conf=-1: [s0:0.0.0.0:42611, s1:0.0.0.0:39575, s2:0.0.0.0:34382], old=null
2019-09-24 16:57:23,619 INFO  impl.RoleInfo (RoleInfo.java:shutdownLeaderElection(134)) - s1: shutdown LeaderElection
2019-09-24 16:57:23,619 INFO  impl.RoleInfo (RoleInfo.java:shutdownLeaderElection(134)) - s2: shutdown LeaderElection
2019-09-24 16:57:23,620 INFO  impl.RoleInfo (RoleInfo.java:updateAndGet(143)) - s1: start FollowerState
2019-09-24 16:57:23,619 INFO  impl.RaftServerImpl (RaftServerImpl.java:setRole(170)) - s0@group-09A0EF6A68F4: changes role from CANDIDATE to FOLLOWER at term 24 for DISCOVERED_A_NEW_TERM
2019-09-24 16:57:23,620 INFO  impl.RoleInfo (RoleInfo.java:updateAndGet(143)) - s2: start FollowerState
2019-09-24 16:57:23,620 INFO  impl.RoleInfo (RoleInfo.java:shutdownLeaderElection(134)) - s0: shutdown LeaderElection
2019-09-24 16:57:23,620 INFO  impl.RoleInfo (RoleInfo.java:updateAndGet(143)) - s0: start FollowerState
2019-09-24 16:57:23,681 WARN  ratis.RaftTestUtil (JavaUtils.java:attempt(158)) - FAILED "waitForLeader-null-(expectLeader? true)", attempt #31/100: java.lang.IllegalStateException: No leader yet : printing ALL groups
  s0:  RUNNING  FOLLOWER s0@group-09A0EF6A68F4:t24, leader=null, voted=s0, raftlog=s0@group-09A0EF6A68F4-SegmentedRaftLog:OPENED:c-1,f-1,i0, conf=-1: [s0:0.0.0.0:42611, s1:0.0.0.0:39575, s2:0.0.0.0:34382], old=null RUNNING
  s1:  RUNNING  FOLLOWER s1@group-09A0EF6A68F4:t24, leader=null, voted=s1, raftlog=s1@group-09A0EF6A68F4-SegmentedRaftLog:OPENED:c-1,f-1,i0, conf=-1: [s0:0.0.0.0:42611, s1:0.0.0.0:39575, s2:0.0.0.0:34382], old=null RUNNING
  s2:  RUNNING  FOLLOWER s2@group-09A0EF6A68F4:t24, leader=null, voted=s2, raftlog=s2@group-09A0EF6A68F4-SegmentedRaftLog:OPENED:c-1,f-1,i0, conf=-1: [s0:0.0.0.0:42611, s1:0.0.0.0:39575, s2:0.0.0.0:34382], old=null RUNNING, sleep 450ms and then retry.
java.lang.IllegalStateException: No leader yet : printing ALL groups
  s0:  RUNNING  FOLLOWER s0@group-09A0EF6A68F4:t24, leader=null, voted=s0, raftlog=s0@group-09A0EF6A68F4-SegmentedRaftLog:OPENED:c-1,f-1,i0, conf=-1: [s0:0.0.0.0:42611, s1:0.0.0.0:39575, s2:0.0.0.0:34382], old=null RUNNING
  s1:  RUNNING  FOLLOWER s1@group-09A0EF6A68F4:t24, leader=null, voted=s1, raftlog=s1@group-09A0EF6A68F4-SegmentedRaftLog:OPENED:c-1,f-1,i0, conf=-1: [s0:0.0.0.0:42611, s1:0.0.0.0:39575, s2:0.0.0.0:34382], old=null RUNNING
  s2:  RUNNING  FOLLOWER s2@group-09A0EF6A68F4:t24, leader=null, voted=s2, raftlog=s2@group-09A0EF6A68F4-SegmentedRaftLog:OPENED:c-1,f-1,i0, conf=-1: [s0:0.0.0.0:42611, s1:0.0.0.0:39575, s2:0.0.0.0:34382], old=null RUNNING
	at org.apache.ratis.MiniRaftCluster.newIllegalStateExceptionForNoLeaders(MiniRaftCluster.java:506)
	at org.apache.ratis.RaftTestUtil.lambda$waitForLeader$1(RaftTestUtil.java:90)
	at org.apache.ratis.MiniRaftCluster.getLeader(MiniRaftCluster.java:539)
	at org.apache.ratis.MiniRaftCluster.getLeader(MiniRaftCluster.java:532)
	at org.apache.ratis.RaftTestUtil.lambda$waitForLeader$3(RaftTestUtil.java:98)
	at org.apache.ratis.util.JavaUtils.attempt(JavaUtils.java:152)
	at org.apache.ratis.RaftTestUtil.waitForLeader(RaftTestUtil.java:97)
	at org.apache.ratis.RaftTestUtil.waitForLeader(RaftTestUtil.java:77)
	at org.apache.ratis.RaftTestUtil.waitForLeader(RaftTestUtil.java:72)
	at org.apache.ratis.server.impl.RaftStateMachineExceptionTests.runTestRetryOnExceptionDuringReplication(RaftStateMachineExceptionTests.java:149)
	at org.apache.ratis.MiniRaftCluster$Factory$Get.runWithNewCluster(MiniRaftCluster.java:125)
	at org.apache.ratis.MiniRaftCluster$Factory$Get.runWithNewCluster(MiniRaftCluster.java:113)
	at org.apache.ratis.server.impl.RaftStateMachineExceptionTests.testRetryOnExceptionDuringReplication(RaftStateMachineExceptionTests.java:145)
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.lang.reflect.Method.invoke(Method.java:498)
	at org.junit.runners.model.FrameworkMethod$1.runReflectiveCall(FrameworkMethod.java:50)
	at org.junit.internal.runners.model.ReflectiveCallable.run(ReflectiveCallable.java:12)
	at org.junit.runners.model.FrameworkMethod.invokeExplosively(FrameworkMethod.java:47)
	at org.junit.internal.runners.statements.InvokeMethod.evaluate(InvokeMethod.java:17)
	at org.junit.internal.runners.statements.RunAfters.evaluate(RunAfters.java:27)
	at org.junit.internal.runners.statements.FailOnTimeout$CallableStatement.call(FailOnTimeout.java:298)
	at org.junit.internal.runners.statements.FailOnTimeout$CallableStatement.call(FailOnTimeout.java:292)
	at java.util.concurrent.FutureTask.run(FutureTask.java:266)
	at java.lang.Thread.run(Thread.java:748)
2019-09-24 16:57:23,826 INFO  impl.FollowerState (FollowerState.java:run(108)) - s1@group-09A0EF6A68F4-FollowerState: change to CANDIDATE, lastRpcTime:206ms, electionTimeout:206ms
2019-09-24 16:57:23,827 INFO  impl.RoleInfo (RoleInfo.java:shutdownFollowerState(121)) - s1: shutdown FollowerState
2019-09-24 16:57:23,827 INFO  impl.RaftServerImpl (RaftServerImpl.java:setRole(170)) - s1@group-09A0EF6A68F4: changes role from  FOLLOWER to CANDIDATE at term 24 for changeToCandidate
2019-09-24 16:57:23,827 INFO  impl.RoleInfo (RoleInfo.java:updateAndGet(143)) - s1: start LeaderElection
2019-09-24 16:57:23,861 INFO  impl.FollowerState (FollowerState.java:run(108)) - s2@group-09A0EF6A68F4-FollowerState: change to CANDIDATE, lastRpcTime:241ms, electionTimeout:240ms
2019-09-24 16:57:23,862 INFO  impl.RoleInfo (RoleInfo.java:shutdownFollowerState(121)) - s2: shutdown FollowerState
2019-09-24 16:57:23,862 INFO  impl.RaftServerImpl (RaftServerImpl.java:setRole(170)) - s2@group-09A0EF6A68F4: changes role from  FOLLOWER to CANDIDATE at term 24 for changeToCandidate
2019-09-24 16:57:23,862 INFO  impl.RoleInfo (RoleInfo.java:updateAndGet(143)) - s2: start LeaderElection
2019-09-24 16:57:23,868 INFO  impl.FollowerState (FollowerState.java:run(108)) - s0@group-09A0EF6A68F4-FollowerState: change to CANDIDATE, lastRpcTime:247ms, electionTimeout:247ms
2019-09-24 16:57:23,868 INFO  impl.RoleInfo (RoleInfo.java:shutdownFollowerState(121)) - s0: shutdown FollowerState
2019-09-24 16:57:23,868 INFO  impl.RaftServerImpl (RaftServerImpl.java:setRole(170)) - s0@group-09A0EF6A68F4: changes role from  FOLLOWER to CANDIDATE at term 24 for changeToCandidate
2019-09-24 16:57:23,869 INFO  impl.RoleInfo (RoleInfo.java:updateAndGet(143)) - s0: start LeaderElection
2019-09-24 16:57:24,053 INFO  impl.LeaderElection (LeaderElection.java:askForVotes(178)) - s0@group-09A0EF6A68F4-LeaderElection66: begin an election at term 25 for -1: [s0:0.0.0.0:42611, s1:0.0.0.0:39575, s2:0.0.0.0:34382], old=null
2019-09-24 16:57:24,053 INFO  impl.LeaderElection (LeaderElection.java:askForVotes(178)) - s1@group-09A0EF6A68F4-LeaderElection64: begin an election at term 25 for -1: [s0:0.0.0.0:42611, s1:0.0.0.0:39575, s2:0.0.0.0:34382], old=null
2019-09-24 16:57:24,053 INFO  impl.LeaderElection (LeaderElection.java:askForVotes(178)) - s2@group-09A0EF6A68F4-LeaderElection65: begin an election at term 25 for -1: [s0:0.0.0.0:42611, s1:0.0.0.0:39575, s2:0.0.0.0:34382], old=null
2019-09-24 16:57:24,054 DEBUG impl.RaftServerImpl (RaftServerImpl.java:requestVote(743)) - s1@group-09A0EF6A68F4: receive requestVote(s0, group-09A0EF6A68F4, 25, (t:0, i:0))
2019-09-24 16:57:24,054 DEBUG impl.RaftServerImpl (RaftServerImpl.java:requestVote(743)) - s0@group-09A0EF6A68F4: receive requestVote(s1, group-09A0EF6A68F4, 25, (t:0, i:0))
2019-09-24 16:57:24,054 DEBUG impl.RaftServerImpl (RaftServerImpl.java:requestVote(775)) - s1@group-09A0EF6A68F4 replies to vote request: s0<-s1#0:FAIL-t25. Peer's state: s1@group-09A0EF6A68F4:t25, leader=null, voted=s1, raftlog=s1@group-09A0EF6A68F4-SegmentedRaftLog:OPENED:c-1,f-1,i0, conf=-1: [s0:0.0.0.0:42611, s1:0.0.0.0:39575, s2:0.0.0.0:34382], old=null
2019-09-24 16:57:24,055 DEBUG impl.RaftServerImpl (RaftServerImpl.java:requestVote(775)) - s0@group-09A0EF6A68F4 replies to vote request: s1<-s0#0:FAIL-t25. Peer's state: s0@group-09A0EF6A68F4:t25, leader=null, voted=s0, raftlog=s0@group-09A0EF6A68F4-SegmentedRaftLog:OPENED:c-1,f-1,i0, conf=-1: [s0:0.0.0.0:42611, s1:0.0.0.0:39575, s2:0.0.0.0:34382], old=null
2019-09-24 16:57:24,054 DEBUG impl.RaftServerImpl (RaftServerImpl.java:requestVote(743)) - s2@group-09A0EF6A68F4: receive requestVote(s0, group-09A0EF6A68F4, 25, (t:0, i:0))
2019-09-24 16:57:24,055 DEBUG impl.RaftServerImpl (RaftServerImpl.java:requestVote(743)) - s1@group-09A0EF6A68F4: receive requestVote(s2, group-09A0EF6A68F4, 25, (t:0, i:0))
2019-09-24 16:57:24,055 DEBUG impl.RaftServerImpl (RaftServerImpl.java:requestVote(775)) - s2@group-09A0EF6A68F4 replies to vote request: s0<-s2#0:FAIL-t25. Peer's state: s2@group-09A0EF6A68F4:t25, leader=null, voted=s2, raftlog=s2@group-09A0EF6A68F4-SegmentedRaftLog:OPENED:c-1,f-1,i0, conf=-1: [s0:0.0.0.0:42611, s1:0.0.0.0:39575, s2:0.0.0.0:34382], old=null
2019-09-24 16:57:24,055 DEBUG impl.RaftServerImpl (RaftServerImpl.java:requestVote(743)) - s0@group-09A0EF6A68F4: receive requestVote(s2, group-09A0EF6A68F4, 25, (t:0, i:0))
2019-09-24 16:57:24,054 DEBUG impl.RaftServerImpl (RaftServerImpl.java:requestVote(743)) - s2@group-09A0EF6A68F4: receive requestVote(s1, group-09A0EF6A68F4, 25, (t:0, i:0))
2019-09-24 16:57:24,055 INFO  impl.LeaderElection (LeaderElection.java:logAndReturn(56)) - s0@group-09A0EF6A68F4-LeaderElection66: Election REJECTED; received 2 response(s) [s0<-s1#0:FAIL-t25, s0<-s2#0:FAIL-t25] and 0 exception(s); s0@group-09A0EF6A68F4:t25, leader=null, voted=s0, raftlog=s0@group-09A0EF6A68F4-SegmentedRaftLog:OPENED:c-1,f-1,i0, conf=-1: [s0:0.0.0.0:42611, s1:0.0.0.0:39575, s2:0.0.0.0:34382], old=null
2019-09-24 16:57:24,055 DEBUG impl.RaftServerImpl (RaftServerImpl.java:requestVote(775)) - s2@group-09A0EF6A68F4 replies to vote request: s1<-s2#0:FAIL-t25. Peer's state: s2@group-09A0EF6A68F4:t25, leader=null, voted=s2, raftlog=s2@group-09A0EF6A68F4-SegmentedRaftLog:OPENED:c-1,f-1,i0, conf=-1: [s0:0.0.0.0:42611, s1:0.0.0.0:39575, s2:0.0.0.0:34382], old=null
2019-09-24 16:57:24,055 DEBUG impl.RaftServerImpl (RaftServerImpl.java:requestVote(775)) - s0@group-09A0EF6A68F4 replies to vote request: s2<-s0#0:FAIL-t25. Peer's state: s0@group-09A0EF6A68F4:t25, leader=null, voted=s0, raftlog=s0@group-09A0EF6A68F4-SegmentedRaftLog:OPENED:c-1,f-1,i0, conf=-1: [s0:0.0.0.0:42611, s1:0.0.0.0:39575, s2:0.0.0.0:34382], old=null
2019-09-24 16:57:24,055 DEBUG impl.RaftServerImpl (RaftServerImpl.java:requestVote(775)) - s1@group-09A0EF6A68F4 replies to vote request: s2<-s1#0:FAIL-t25. Peer's state: s1@group-09A0EF6A68F4:t25, leader=null, voted=s1, raftlog=s1@group-09A0EF6A68F4-SegmentedRaftLog:OPENED:c-1,f-1,i0, conf=-1: [s0:0.0.0.0:42611, s1:0.0.0.0:39575, s2:0.0.0.0:34382], old=null
2019-09-24 16:57:24,056 INFO  impl.LeaderElection (LeaderElection.java:logAndReturn(56)) - s1@group-09A0EF6A68F4-LeaderElection64: Election REJECTED; received 2 response(s) [s1<-s0#0:FAIL-t25, s1<-s2#0:FAIL-t25] and 0 exception(s); s1@group-09A0EF6A68F4:t25, leader=null, voted=s1, raftlog=s1@group-09A0EF6A68F4-SegmentedRaftLog:OPENED:c-1,f-1,i0, conf=-1: [s0:0.0.0.0:42611, s1:0.0.0.0:39575, s2:0.0.0.0:34382], old=null
2019-09-24 16:57:24,056 INFO  impl.RaftServerImpl (RaftServerImpl.java:setRole(170)) - s0@group-09A0EF6A68F4: changes role from CANDIDATE to FOLLOWER at term 25 for DISCOVERED_A_NEW_TERM
2019-09-24 16:57:24,056 INFO  impl.RaftServerImpl (RaftServerImpl.java:setRole(170)) - s1@group-09A0EF6A68F4: changes role from CANDIDATE to FOLLOWER at term 25 for DISCOVERED_A_NEW_TERM
2019-09-24 16:57:24,056 INFO  impl.LeaderElection (LeaderElection.java:logAndReturn(56)) - s2@group-09A0EF6A68F4-LeaderElection65: Election REJECTED; received 2 response(s) [s2<-s0#0:FAIL-t25, s2<-s1#0:FAIL-t25] and 0 exception(s); s2@group-09A0EF6A68F4:t25, leader=null, voted=s2, raftlog=s2@group-09A0EF6A68F4-SegmentedRaftLog:OPENED:c-1,f-1,i0, conf=-1: [s0:0.0.0.0:42611, s1:0.0.0.0:39575, s2:0.0.0.0:34382], old=null
2019-09-24 16:57:24,056 INFO  impl.RoleInfo (RoleInfo.java:shutdownLeaderElection(134)) - s1: shutdown LeaderElection
2019-09-24 16:57:24,056 INFO  impl.RoleInfo (RoleInfo.java:shutdownLeaderElection(134)) - s0: shutdown LeaderElection
2019-09-24 16:57:24,057 INFO  impl.RaftServerImpl (RaftServerImpl.java:setRole(170)) - s2@group-09A0EF6A68F4: changes role from CANDIDATE to FOLLOWER at term 25 for DISCOVERED_A_NEW_TERM
2019-09-24 16:57:24,057 INFO  impl.RoleInfo (RoleInfo.java:updateAndGet(143)) - s1: start FollowerState
2019-09-24 16:57:24,057 INFO  impl.RoleInfo (RoleInfo.java:updateAndGet(143)) - s0: start FollowerState
2019-09-24 16:57:24,057 INFO  impl.RoleInfo (RoleInfo.java:shutdownLeaderElection(134)) - s2: shutdown LeaderElection
2019-09-24 16:57:24,057 INFO  impl.RoleInfo (RoleInfo.java:updateAndGet(143)) - s2: start FollowerState
2019-09-24 16:57:24,133 WARN  ratis.RaftTestUtil (JavaUtils.java:attempt(158)) - FAILED "waitForLeader-null-(expectLeader? true)", attempt #32/100: java.lang.IllegalStateException: No leader yet : printing ALL groups
  s0:  RUNNING  FOLLOWER s0@group-09A0EF6A68F4:t25, leader=null, voted=s0, raftlog=s0@group-09A0EF6A68F4-SegmentedRaftLog:OPENED:c-1,f-1,i0, conf=-1: [s0:0.0.0.0:42611, s1:0.0.0.0:39575, s2:0.0.0.0:34382], old=null RUNNING
  s1:  RUNNING  FOLLOWER s1@group-09A0EF6A68F4:t25, leader=null, voted=s1, raftlog=s1@group-09A0EF6A68F4-SegmentedRaftLog:OPENED:c-1,f-1,i0, conf=-1: [s0:0.0.0.0:42611, s1:0.0.0.0:39575, s2:0.0.0.0:34382], old=null RUNNING
  s2:  RUNNING  FOLLOWER s2@group-09A0EF6A68F4:t25, leader=null, voted=s2, raftlog=s2@group-09A0EF6A68F4-SegmentedRaftLog:OPENED:c-1,f-1,i0, conf=-1: [s0:0.0.0.0:42611, s1:0.0.0.0:39575, s2:0.0.0.0:34382], old=null RUNNING, sleep 450ms and then retry.
java.lang.IllegalStateException: No leader yet : printing ALL groups
  s0:  RUNNING  FOLLOWER s0@group-09A0EF6A68F4:t25, leader=null, voted=s0, raftlog=s0@group-09A0EF6A68F4-SegmentedRaftLog:OPENED:c-1,f-1,i0, conf=-1: [s0:0.0.0.0:42611, s1:0.0.0.0:39575, s2:0.0.0.0:34382], old=null RUNNING
  s1:  RUNNING  FOLLOWER s1@group-09A0EF6A68F4:t25, leader=null, voted=s1, raftlog=s1@group-09A0EF6A68F4-SegmentedRaftLog:OPENED:c-1,f-1,i0, conf=-1: [s0:0.0.0.0:42611, s1:0.0.0.0:39575, s2:0.0.0.0:34382], old=null RUNNING
  s2:  RUNNING  FOLLOWER s2@group-09A0EF6A68F4:t25, leader=null, voted=s2, raftlog=s2@group-09A0EF6A68F4-SegmentedRaftLog:OPENED:c-1,f-1,i0, conf=-1: [s0:0.0.0.0:42611, s1:0.0.0.0:39575, s2:0.0.0.0:34382], old=null RUNNING
	at org.apache.ratis.MiniRaftCluster.newIllegalStateExceptionForNoLeaders(MiniRaftCluster.java:506)
	at org.apache.ratis.RaftTestUtil.lambda$waitForLeader$1(RaftTestUtil.java:90)
	at org.apache.ratis.MiniRaftCluster.getLeader(MiniRaftCluster.java:539)
	at org.apache.ratis.MiniRaftCluster.getLeader(MiniRaftCluster.java:532)
	at org.apache.ratis.RaftTestUtil.lambda$waitForLeader$3(RaftTestUtil.java:98)
	at org.apache.ratis.util.JavaUtils.attempt(JavaUtils.java:152)
	at org.apache.ratis.RaftTestUtil.waitForLeader(RaftTestUtil.java:97)
	at org.apache.ratis.RaftTestUtil.waitForLeader(RaftTestUtil.java:77)
	at org.apache.ratis.RaftTestUtil.waitForLeader(RaftTestUtil.java:72)
	at org.apache.ratis.server.impl.RaftStateMachineExceptionTests.runTestRetryOnExceptionDuringReplication(RaftStateMachineExceptionTests.java:149)
	at org.apache.ratis.MiniRaftCluster$Factory$Get.runWithNewCluster(MiniRaftCluster.java:125)
	at org.apache.ratis.MiniRaftCluster$Factory$Get.runWithNewCluster(MiniRaftCluster.java:113)
	at org.apache.ratis.server.impl.RaftStateMachineExceptionTests.testRetryOnExceptionDuringReplication(RaftStateMachineExceptionTests.java:145)
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.lang.reflect.Method.invoke(Method.java:498)
	at org.junit.runners.model.FrameworkMethod$1.runReflectiveCall(FrameworkMethod.java:50)
	at org.junit.internal.runners.model.ReflectiveCallable.run(ReflectiveCallable.java:12)
	at org.junit.runners.model.FrameworkMethod.invokeExplosively(FrameworkMethod.java:47)
	at org.junit.internal.runners.statements.InvokeMethod.evaluate(InvokeMethod.java:17)
	at org.junit.internal.runners.statements.RunAfters.evaluate(RunAfters.java:27)
	at org.junit.internal.runners.statements.FailOnTimeout$CallableStatement.call(FailOnTimeout.java:298)
	at org.junit.internal.runners.statements.FailOnTimeout$CallableStatement.call(FailOnTimeout.java:292)
	at java.util.concurrent.FutureTask.run(FutureTask.java:266)
	at java.lang.Thread.run(Thread.java:748)
2019-09-24 16:57:24,238 INFO  impl.FollowerState (FollowerState.java:run(108)) - s1@group-09A0EF6A68F4-FollowerState: change to CANDIDATE, lastRpcTime:181ms, electionTimeout:181ms
2019-09-24 16:57:24,239 INFO  impl.RoleInfo (RoleInfo.java:shutdownFollowerState(121)) - s1: shutdown FollowerState
2019-09-24 16:57:24,239 INFO  impl.RaftServerImpl (RaftServerImpl.java:setRole(170)) - s1@group-09A0EF6A68F4: changes role from  FOLLOWER to CANDIDATE at term 25 for changeToCandidate
2019-09-24 16:57:24,239 INFO  impl.RoleInfo (RoleInfo.java:updateAndGet(143)) - s1: start LeaderElection
2019-09-24 16:57:24,316 INFO  impl.FollowerState (FollowerState.java:run(108)) - s2@group-09A0EF6A68F4-FollowerState: change to CANDIDATE, lastRpcTime:258ms, electionTimeout:258ms
2019-09-24 16:57:24,316 INFO  impl.RoleInfo (RoleInfo.java:shutdownFollowerState(121)) - s2: shutdown FollowerState
2019-09-24 16:57:24,317 INFO  impl.RaftServerImpl (RaftServerImpl.java:setRole(170)) - s2@group-09A0EF6A68F4: changes role from  FOLLOWER to CANDIDATE at term 25 for changeToCandidate
2019-09-24 16:57:24,317 INFO  impl.RoleInfo (RoleInfo.java:updateAndGet(143)) - s2: start LeaderElection
2019-09-24 16:57:24,339 INFO  impl.FollowerState (FollowerState.java:run(108)) - s0@group-09A0EF6A68F4-FollowerState: change to CANDIDATE, lastRpcTime:281ms, electionTimeout:281ms
2019-09-24 16:57:24,339 INFO  impl.RoleInfo (RoleInfo.java:shutdownFollowerState(121)) - s0: shutdown FollowerState
2019-09-24 16:57:24,339 INFO  impl.RaftServerImpl (RaftServerImpl.java:setRole(170)) - s0@group-09A0EF6A68F4: changes role from  FOLLOWER to CANDIDATE at term 25 for changeToCandidate
2019-09-24 16:57:24,339 INFO  impl.RoleInfo (RoleInfo.java:updateAndGet(143)) - s0: start LeaderElection
2019-09-24 16:57:24,585 WARN  ratis.RaftTestUtil (JavaUtils.java:attempt(158)) - FAILED "waitForLeader-null-(expectLeader? true)", attempt #33/100: java.lang.IllegalStateException: No leader yet : printing ALL groups
  s0:  RUNNING CANDIDATE s0@group-09A0EF6A68F4:t26, leader=null, voted=s0, raftlog=s0@group-09A0EF6A68F4-SegmentedRaftLog:OPENED:c-1,f-1,i0, conf=-1: [s0:0.0.0.0:42611, s1:0.0.0.0:39575, s2:0.0.0.0:34382], old=null RUNNING
  s1:  RUNNING CANDIDATE s1@group-09A0EF6A68F4:t26, leader=null, voted=s1, raftlog=s1@group-09A0EF6A68F4-SegmentedRaftLog:OPENED:c-1,f-1,i0, conf=-1: [s0:0.0.0.0:42611, s1:0.0.0.0:39575, s2:0.0.0.0:34382], old=null RUNNING
  s2:  RUNNING CANDIDATE s2@group-09A0EF6A68F4:t26, leader=null, voted=s2, raftlog=s2@group-09A0EF6A68F4-SegmentedRaftLog:OPENED:c-1,f-1,i0, conf=-1: [s0:0.0.0.0:42611, s1:0.0.0.0:39575, s2:0.0.0.0:34382], old=null RUNNING, sleep 450ms and then retry.
java.lang.IllegalStateException: No leader yet : printing ALL groups
  s0:  RUNNING CANDIDATE s0@group-09A0EF6A68F4:t26, leader=null, voted=s0, raftlog=s0@group-09A0EF6A68F4-SegmentedRaftLog:OPENED:c-1,f-1,i0, conf=-1: [s0:0.0.0.0:42611, s1:0.0.0.0:39575, s2:0.0.0.0:34382], old=null RUNNING
  s1:  RUNNING CANDIDATE s1@group-09A0EF6A68F4:t26, leader=null, voted=s1, raftlog=s1@group-09A0EF6A68F4-SegmentedRaftLog:OPENED:c-1,f-1,i0, conf=-1: [s0:0.0.0.0:42611, s1:0.0.0.0:39575, s2:0.0.0.0:34382], old=null RUNNING
  s2:  RUNNING CANDIDATE s2@group-09A0EF6A68F4:t26, leader=null, voted=s2, raftlog=s2@group-09A0EF6A68F4-SegmentedRaftLog:OPENED:c-1,f-1,i0, conf=-1: [s0:0.0.0.0:42611, s1:0.0.0.0:39575, s2:0.0.0.0:34382], old=null RUNNING
	at org.apache.ratis.MiniRaftCluster.newIllegalStateExceptionForNoLeaders(MiniRaftCluster.java:506)
	at org.apache.ratis.RaftTestUtil.lambda$waitForLeader$1(RaftTestUtil.java:90)
	at org.apache.ratis.MiniRaftCluster.getLeader(MiniRaftCluster.java:539)
	at org.apache.ratis.MiniRaftCluster.getLeader(MiniRaftCluster.java:532)
	at org.apache.ratis.RaftTestUtil.lambda$waitForLeader$3(RaftTestUtil.java:98)
	at org.apache.ratis.util.JavaUtils.attempt(JavaUtils.java:152)
	at org.apache.ratis.RaftTestUtil.waitForLeader(RaftTestUtil.java:97)
	at org.apache.ratis.RaftTestUtil.waitForLeader(RaftTestUtil.java:77)
	at org.apache.ratis.RaftTestUtil.waitForLeader(RaftTestUtil.java:72)
	at org.apache.ratis.server.impl.RaftStateMachineExceptionTests.runTestRetryOnExceptionDuringReplication(RaftStateMachineExceptionTests.java:149)
	at org.apache.ratis.MiniRaftCluster$Factory$Get.runWithNewCluster(MiniRaftCluster.java:125)
	at org.apache.ratis.MiniRaftCluster$Factory$Get.runWithNewCluster(MiniRaftCluster.java:113)
	at org.apache.ratis.server.impl.RaftStateMachineExceptionTests.testRetryOnExceptionDuringReplication(RaftStateMachineExceptionTests.java:145)
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.lang.reflect.Method.invoke(Method.java:498)
	at org.junit.runners.model.FrameworkMethod$1.runReflectiveCall(FrameworkMethod.java:50)
	at org.junit.internal.runners.model.ReflectiveCallable.run(ReflectiveCallable.java:12)
	at org.junit.runners.model.FrameworkMethod.invokeExplosively(FrameworkMethod.java:47)
	at org.junit.internal.runners.statements.InvokeMethod.evaluate(InvokeMethod.java:17)
	at org.junit.internal.runners.statements.RunAfters.evaluate(RunAfters.java:27)
	at org.junit.internal.runners.statements.FailOnTimeout$CallableStatement.call(FailOnTimeout.java:298)
	at org.junit.internal.runners.statements.FailOnTimeout$CallableStatement.call(FailOnTimeout.java:292)
	at java.util.concurrent.FutureTask.run(FutureTask.java:266)
	at java.lang.Thread.run(Thread.java:748)
2019-09-24 16:57:24,621 INFO  impl.LeaderElection (LeaderElection.java:askForVotes(178)) - s1@group-09A0EF6A68F4-LeaderElection67: begin an election at term 26 for -1: [s0:0.0.0.0:42611, s1:0.0.0.0:39575, s2:0.0.0.0:34382], old=null
2019-09-24 16:57:24,621 INFO  impl.LeaderElection (LeaderElection.java:askForVotes(178)) - s2@group-09A0EF6A68F4-LeaderElection68: begin an election at term 26 for -1: [s0:0.0.0.0:42611, s1:0.0.0.0:39575, s2:0.0.0.0:34382], old=null
2019-09-24 16:57:24,621 INFO  impl.LeaderElection (LeaderElection.java:askForVotes(178)) - s0@group-09A0EF6A68F4-LeaderElection69: begin an election at term 26 for -1: [s0:0.0.0.0:42611, s1:0.0.0.0:39575, s2:0.0.0.0:34382], old=null
2019-09-24 16:57:24,623 DEBUG impl.RaftServerImpl (RaftServerImpl.java:requestVote(743)) - s0@group-09A0EF6A68F4: receive requestVote(s1, group-09A0EF6A68F4, 26, (t:0, i:0))
2019-09-24 16:57:24,623 DEBUG impl.RaftServerImpl (RaftServerImpl.java:requestVote(743)) - s2@group-09A0EF6A68F4: receive requestVote(s1, group-09A0EF6A68F4, 26, (t:0, i:0))
2019-09-24 16:57:24,623 DEBUG impl.RaftServerImpl (RaftServerImpl.java:requestVote(743)) - s0@group-09A0EF6A68F4: receive requestVote(s2, group-09A0EF6A68F4, 26, (t:0, i:0))
2019-09-24 16:57:24,623 DEBUG impl.RaftServerImpl (RaftServerImpl.java:requestVote(743)) - s1@group-09A0EF6A68F4: receive requestVote(s0, group-09A0EF6A68F4, 26, (t:0, i:0))
2019-09-24 16:57:24,623 DEBUG impl.RaftServerImpl (RaftServerImpl.java:requestVote(743)) - s2@group-09A0EF6A68F4: receive requestVote(s0, group-09A0EF6A68F4, 26, (t:0, i:0))
2019-09-24 16:57:24,623 DEBUG impl.RaftServerImpl (RaftServerImpl.java:requestVote(775)) - s2@group-09A0EF6A68F4 replies to vote request: s1<-s2#0:FAIL-t26. Peer's state: s2@group-09A0EF6A68F4:t26, leader=null, voted=s2, raftlog=s2@group-09A0EF6A68F4-SegmentedRaftLog:OPENED:c-1,f-1,i0, conf=-1: [s0:0.0.0.0:42611, s1:0.0.0.0:39575, s2:0.0.0.0:34382], old=null
2019-09-24 16:57:24,623 DEBUG impl.RaftServerImpl (RaftServerImpl.java:requestVote(775)) - s0@group-09A0EF6A68F4 replies to vote request: s1<-s0#0:FAIL-t26. Peer's state: s0@group-09A0EF6A68F4:t26, leader=null, voted=s0, raftlog=s0@group-09A0EF6A68F4-SegmentedRaftLog:OPENED:c-1,f-1,i0, conf=-1: [s0:0.0.0.0:42611, s1:0.0.0.0:39575, s2:0.0.0.0:34382], old=null
2019-09-24 16:57:24,624 DEBUG impl.RaftServerImpl (RaftServerImpl.java:requestVote(775)) - s2@group-09A0EF6A68F4 replies to vote request: s0<-s2#0:FAIL-t26. Peer's state: s2@group-09A0EF6A68F4:t26, leader=null, voted=s2, raftlog=s2@group-09A0EF6A68F4-SegmentedRaftLog:OPENED:c-1,f-1,i0, conf=-1: [s0:0.0.0.0:42611, s1:0.0.0.0:39575, s2:0.0.0.0:34382], old=null
2019-09-24 16:57:24,624 DEBUG impl.RaftServerImpl (RaftServerImpl.java:requestVote(775)) - s0@group-09A0EF6A68F4 replies to vote request: s2<-s0#0:FAIL-t26. Peer's state: s0@group-09A0EF6A68F4:t26, leader=null, voted=s0, raftlog=s0@group-09A0EF6A68F4-SegmentedRaftLog:OPENED:c-1,f-1,i0, conf=-1: [s0:0.0.0.0:42611, s1:0.0.0.0:39575, s2:0.0.0.0:34382], old=null
2019-09-24 16:57:24,624 DEBUG impl.RaftServerImpl (RaftServerImpl.java:requestVote(775)) - s1@group-09A0EF6A68F4 replies to vote request: s0<-s1#0:FAIL-t26. Peer's state: s1@group-09A0EF6A68F4:t26, leader=null, voted=s1, raftlog=s1@group-09A0EF6A68F4-SegmentedRaftLog:OPENED:c-1,f-1,i0, conf=-1: [s0:0.0.0.0:42611, s1:0.0.0.0:39575, s2:0.0.0.0:34382], old=null
2019-09-24 16:57:24,623 DEBUG impl.RaftServerImpl (RaftServerImpl.java:requestVote(743)) - s1@group-09A0EF6A68F4: receive requestVote(s2, group-09A0EF6A68F4, 26, (t:0, i:0))
2019-09-24 16:57:24,625 INFO  impl.LeaderElection (LeaderElection.java:logAndReturn(56)) - s1@group-09A0EF6A68F4-LeaderElection67: Election REJECTED; received 2 response(s) [s1<-s0#0:FAIL-t26, s1<-s2#0:FAIL-t26] and 0 exception(s); s1@group-09A0EF6A68F4:t26, leader=null, voted=s1, raftlog=s1@group-09A0EF6A68F4-SegmentedRaftLog:OPENED:c-1,f-1,i0, conf=-1: [s0:0.0.0.0:42611, s1:0.0.0.0:39575, s2:0.0.0.0:34382], old=null
2019-09-24 16:57:24,625 DEBUG impl.RaftServerImpl (RaftServerImpl.java:requestVote(775)) - s1@group-09A0EF6A68F4 replies to vote request: s2<-s1#0:FAIL-t26. Peer's state: s1@group-09A0EF6A68F4:t26, leader=null, voted=s1, raftlog=s1@group-09A0EF6A68F4-SegmentedRaftLog:OPENED:c-1,f-1,i0, conf=-1: [s0:0.0.0.0:42611, s1:0.0.0.0:39575, s2:0.0.0.0:34382], old=null
2019-09-24 16:57:24,625 INFO  impl.LeaderElection (LeaderElection.java:logAndReturn(56)) - s0@group-09A0EF6A68F4-LeaderElection69: Election REJECTED; received 2 response(s) [s0<-s1#0:FAIL-t26, s0<-s2#0:FAIL-t26] and 0 exception(s); s0@group-09A0EF6A68F4:t26, leader=null, voted=s0, raftlog=s0@group-09A0EF6A68F4-SegmentedRaftLog:OPENED:c-1,f-1,i0, conf=-1: [s0:0.0.0.0:42611, s1:0.0.0.0:39575, s2:0.0.0.0:34382], old=null
2019-09-24 16:57:24,625 INFO  impl.RaftServerImpl (RaftServerImpl.java:setRole(170)) - s1@group-09A0EF6A68F4: changes role from CANDIDATE to FOLLOWER at term 26 for DISCOVERED_A_NEW_TERM
2019-09-24 16:57:24,625 INFO  impl.RaftServerImpl (RaftServerImpl.java:setRole(170)) - s0@group-09A0EF6A68F4: changes role from CANDIDATE to FOLLOWER at term 26 for DISCOVERED_A_NEW_TERM
2019-09-24 16:57:24,625 INFO  impl.LeaderElection (LeaderElection.java:logAndReturn(56)) - s2@group-09A0EF6A68F4-LeaderElection68: Election REJECTED; received 2 response(s) [s2<-s0#0:FAIL-t26, s2<-s1#0:FAIL-t26] and 0 exception(s); s2@group-09A0EF6A68F4:t26, leader=null, voted=s2, raftlog=s2@group-09A0EF6A68F4-SegmentedRaftLog:OPENED:c-1,f-1,i0, conf=-1: [s0:0.0.0.0:42611, s1:0.0.0.0:39575, s2:0.0.0.0:34382], old=null
2019-09-24 16:57:24,626 INFO  impl.RoleInfo (RoleInfo.java:shutdownLeaderElection(134)) - s0: shutdown LeaderElection
2019-09-24 16:57:24,626 INFO  impl.RaftServerImpl (RaftServerImpl.java:setRole(170)) - s2@group-09A0EF6A68F4: changes role from CANDIDATE to FOLLOWER at term 26 for DISCOVERED_A_NEW_TERM
2019-09-24 16:57:24,626 INFO  impl.RoleInfo (RoleInfo.java:shutdownLeaderElection(134)) - s1: shutdown LeaderElection
2019-09-24 16:57:24,626 INFO  impl.RoleInfo (RoleInfo.java:shutdownLeaderElection(134)) - s2: shutdown LeaderElection
2019-09-24 16:57:24,626 INFO  impl.RoleInfo (RoleInfo.java:updateAndGet(143)) - s0: start FollowerState
2019-09-24 16:57:24,627 INFO  impl.RoleInfo (RoleInfo.java:updateAndGet(143)) - s2: start FollowerState
2019-09-24 16:57:24,626 INFO  impl.RoleInfo (RoleInfo.java:updateAndGet(143)) - s1: start FollowerState
2019-09-24 16:57:24,793 INFO  impl.FollowerState (FollowerState.java:run(108)) - s2@group-09A0EF6A68F4-FollowerState: change to CANDIDATE, lastRpcTime:166ms, electionTimeout:166ms
2019-09-24 16:57:24,794 INFO  impl.RoleInfo (RoleInfo.java:shutdownFollowerState(121)) - s2: shutdown FollowerState
2019-09-24 16:57:24,794 INFO  impl.RaftServerImpl (RaftServerImpl.java:setRole(170)) - s2@group-09A0EF6A68F4: changes role from  FOLLOWER to CANDIDATE at term 26 for changeToCandidate
2019-09-24 16:57:24,794 INFO  impl.RoleInfo (RoleInfo.java:updateAndGet(143)) - s2: start LeaderElection
2019-09-24 16:57:24,832 INFO  impl.FollowerState (FollowerState.java:run(108)) - s1@group-09A0EF6A68F4-FollowerState: change to CANDIDATE, lastRpcTime:205ms, electionTimeout:204ms
2019-09-24 16:57:24,832 INFO  impl.RoleInfo (RoleInfo.java:shutdownFollowerState(121)) - s1: shutdown FollowerState
2019-09-24 16:57:24,832 INFO  impl.RaftServerImpl (RaftServerImpl.java:setRole(170)) - s1@group-09A0EF6A68F4: changes role from  FOLLOWER to CANDIDATE at term 26 for changeToCandidate
2019-09-24 16:57:24,832 INFO  impl.RoleInfo (RoleInfo.java:updateAndGet(143)) - s1: start LeaderElection
2019-09-24 16:57:24,878 INFO  impl.FollowerState (FollowerState.java:run(108)) - s0@group-09A0EF6A68F4-FollowerState: change to CANDIDATE, lastRpcTime:252ms, electionTimeout:251ms
2019-09-24 16:57:24,878 INFO  impl.RoleInfo (RoleInfo.java:shutdownFollowerState(121)) - s0: shutdown FollowerState
2019-09-24 16:57:24,879 INFO  impl.RaftServerImpl (RaftServerImpl.java:setRole(170)) - s0@group-09A0EF6A68F4: changes role from  FOLLOWER to CANDIDATE at term 26 for changeToCandidate
2019-09-24 16:57:24,879 INFO  impl.RoleInfo (RoleInfo.java:updateAndGet(143)) - s0: start LeaderElection
2019-09-24 16:57:25,037 WARN  ratis.RaftTestUtil (JavaUtils.java:attempt(158)) - FAILED "waitForLeader-null-(expectLeader? true)", attempt #34/100: java.lang.IllegalStateException: No leader yet : printing ALL groups
  s0:  RUNNING CANDIDATE s0@group-09A0EF6A68F4:t27, leader=null, voted=s0, raftlog=s0@group-09A0EF6A68F4-SegmentedRaftLog:OPENED:c-1,f-1,i0, conf=-1: [s0:0.0.0.0:42611, s1:0.0.0.0:39575, s2:0.0.0.0:34382], old=null RUNNING
  s1:  RUNNING CANDIDATE s1@group-09A0EF6A68F4:t27, leader=null, voted=s1, raftlog=s1@group-09A0EF6A68F4-SegmentedRaftLog:OPENED:c-1,f-1,i0, conf=-1: [s0:0.0.0.0:42611, s1:0.0.0.0:39575, s2:0.0.0.0:34382], old=null RUNNING
  s2:  RUNNING CANDIDATE s2@group-09A0EF6A68F4:t27, leader=null, voted=s2, raftlog=s2@group-09A0EF6A68F4-SegmentedRaftLog:OPENED:c-1,f-1,i0, conf=-1: [s0:0.0.0.0:42611, s1:0.0.0.0:39575, s2:0.0.0.0:34382], old=null RUNNING, sleep 450ms and then retry.
java.lang.IllegalStateException: No leader yet : printing ALL groups
  s0:  RUNNING CANDIDATE s0@group-09A0EF6A68F4:t27, leader=null, voted=s0, raftlog=s0@group-09A0EF6A68F4-SegmentedRaftLog:OPENED:c-1,f-1,i0, conf=-1: [s0:0.0.0.0:42611, s1:0.0.0.0:39575, s2:0.0.0.0:34382], old=null RUNNING
  s1:  RUNNING CANDIDATE s1@group-09A0EF6A68F4:t27, leader=null, voted=s1, raftlog=s1@group-09A0EF6A68F4-SegmentedRaftLog:OPENED:c-1,f-1,i0, conf=-1: [s0:0.0.0.0:42611, s1:0.0.0.0:39575, s2:0.0.0.0:34382], old=null RUNNING
  s2:  RUNNING CANDIDATE s2@group-09A0EF6A68F4:t27, leader=null, voted=s2, raftlog=s2@group-09A0EF6A68F4-SegmentedRaftLog:OPENED:c-1,f-1,i0, conf=-1: [s0:0.0.0.0:42611, s1:0.0.0.0:39575, s2:0.0.0.0:34382], old=null RUNNING
	at org.apache.ratis.MiniRaftCluster.newIllegalStateExceptionForNoLeaders(MiniRaftCluster.java:506)
	at org.apache.ratis.RaftTestUtil.lambda$waitForLeader$1(RaftTestUtil.java:90)
	at org.apache.ratis.MiniRaftCluster.getLeader(MiniRaftCluster.java:539)
	at org.apache.ratis.MiniRaftCluster.getLeader(MiniRaftCluster.java:532)
	at org.apache.ratis.RaftTestUtil.lambda$waitForLeader$3(RaftTestUtil.java:98)
	at org.apache.ratis.util.JavaUtils.attempt(JavaUtils.java:152)
	at org.apache.ratis.RaftTestUtil.waitForLeader(RaftTestUtil.java:97)
	at org.apache.ratis.RaftTestUtil.waitForLeader(RaftTestUtil.java:77)
	at org.apache.ratis.RaftTestUtil.waitForLeader(RaftTestUtil.java:72)
	at org.apache.ratis.server.impl.RaftStateMachineExceptionTests.runTestRetryOnExceptionDuringReplication(RaftStateMachineExceptionTests.java:149)
	at org.apache.ratis.MiniRaftCluster$Factory$Get.runWithNewCluster(MiniRaftCluster.java:125)
	at org.apache.ratis.MiniRaftCluster$Factory$Get.runWithNewCluster(MiniRaftCluster.java:113)
	at org.apache.ratis.server.impl.RaftStateMachineExceptionTests.testRetryOnExceptionDuringReplication(RaftStateMachineExceptionTests.java:145)
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.lang.reflect.Method.invoke(Method.java:498)
	at org.junit.runners.model.FrameworkMethod$1.runReflectiveCall(FrameworkMethod.java:50)
	at org.junit.internal.runners.model.ReflectiveCallable.run(ReflectiveCallable.java:12)
	at org.junit.runners.model.FrameworkMethod.invokeExplosively(FrameworkMethod.java:47)
	at org.junit.internal.runners.statements.InvokeMethod.evaluate(InvokeMethod.java:17)
	at org.junit.internal.runners.statements.RunAfters.evaluate(RunAfters.java:27)
	at org.junit.internal.runners.statements.FailOnTimeout$CallableStatement.call(FailOnTimeout.java:298)
	at org.junit.internal.runners.statements.FailOnTimeout$CallableStatement.call(FailOnTimeout.java:292)
	at java.util.concurrent.FutureTask.run(FutureTask.java:266)
	at java.lang.Thread.run(Thread.java:748)
2019-09-24 16:57:25,090 INFO  impl.LeaderElection (LeaderElection.java:askForVotes(178)) - s2@group-09A0EF6A68F4-LeaderElection70: begin an election at term 27 for -1: [s0:0.0.0.0:42611, s1:0.0.0.0:39575, s2:0.0.0.0:34382], old=null
2019-09-24 16:57:25,090 INFO  impl.LeaderElection (LeaderElection.java:askForVotes(178)) - s1@group-09A0EF6A68F4-LeaderElection71: begin an election at term 27 for -1: [s0:0.0.0.0:42611, s1:0.0.0.0:39575, s2:0.0.0.0:34382], old=null
2019-09-24 16:57:25,091 INFO  impl.LeaderElection (LeaderElection.java:askForVotes(178)) - s0@group-09A0EF6A68F4-LeaderElection72: begin an election at term 27 for -1: [s0:0.0.0.0:42611, s1:0.0.0.0:39575, s2:0.0.0.0:34382], old=null
2019-09-24 16:57:25,092 DEBUG impl.RaftServerImpl (RaftServerImpl.java:requestVote(743)) - s0@group-09A0EF6A68F4: receive requestVote(s2, group-09A0EF6A68F4, 27, (t:0, i:0))
2019-09-24 16:57:25,092 DEBUG impl.RaftServerImpl (RaftServerImpl.java:requestVote(743)) - s1@group-09A0EF6A68F4: receive requestVote(s2, group-09A0EF6A68F4, 27, (t:0, i:0))
2019-09-24 16:57:25,093 DEBUG impl.RaftServerImpl (RaftServerImpl.java:requestVote(775)) - s0@group-09A0EF6A68F4 replies to vote request: s2<-s0#0:FAIL-t27. Peer's state: s0@group-09A0EF6A68F4:t27, leader=null, voted=s0, raftlog=s0@group-09A0EF6A68F4-SegmentedRaftLog:OPENED:c-1,f-1,i0, conf=-1: [s0:0.0.0.0:42611, s1:0.0.0.0:39575, s2:0.0.0.0:34382], old=null
2019-09-24 16:57:25,093 DEBUG impl.RaftServerImpl (RaftServerImpl.java:requestVote(775)) - s1@group-09A0EF6A68F4 replies to vote request: s2<-s1#0:FAIL-t27. Peer's state: s1@group-09A0EF6A68F4:t27, leader=null, voted=s1, raftlog=s1@group-09A0EF6A68F4-SegmentedRaftLog:OPENED:c-1,f-1,i0, conf=-1: [s0:0.0.0.0:42611, s1:0.0.0.0:39575, s2:0.0.0.0:34382], old=null
2019-09-24 16:57:25,093 DEBUG impl.RaftServerImpl (RaftServerImpl.java:requestVote(743)) - s1@group-09A0EF6A68F4: receive requestVote(s0, group-09A0EF6A68F4, 27, (t:0, i:0))
2019-09-24 16:57:25,093 DEBUG impl.RaftServerImpl (RaftServerImpl.java:requestVote(743)) - s2@group-09A0EF6A68F4: receive requestVote(s1, group-09A0EF6A68F4, 27, (t:0, i:0))
2019-09-24 16:57:25,093 DEBUG impl.RaftServerImpl (RaftServerImpl.java:requestVote(743)) - s0@group-09A0EF6A68F4: receive requestVote(s1, group-09A0EF6A68F4, 27, (t:0, i:0))
2019-09-24 16:57:25,093 DEBUG impl.RaftServerImpl (RaftServerImpl.java:requestVote(743)) - s2@group-09A0EF6A68F4: receive requestVote(s0, group-09A0EF6A68F4, 27, (t:0, i:0))
2019-09-24 16:57:25,093 DEBUG impl.RaftServerImpl (RaftServerImpl.java:requestVote(775)) - s2@group-09A0EF6A68F4 replies to vote request: s1<-s2#0:FAIL-t27. Peer's state: s2@group-09A0EF6A68F4:t27, leader=null, voted=s2, raftlog=s2@group-09A0EF6A68F4-SegmentedRaftLog:OPENED:c-1,f-1,i0, conf=-1: [s0:0.0.0.0:42611, s1:0.0.0.0:39575, s2:0.0.0.0:34382], old=null
2019-09-24 16:57:25,093 DEBUG impl.RaftServerImpl (RaftServerImpl.java:requestVote(775)) - s1@group-09A0EF6A68F4 replies to vote request: s0<-s1#0:FAIL-t27. Peer's state: s1@group-09A0EF6A68F4:t27, leader=null, voted=s1, raftlog=s1@group-09A0EF6A68F4-SegmentedRaftLog:OPENED:c-1,f-1,i0, conf=-1: [s0:0.0.0.0:42611, s1:0.0.0.0:39575, s2:0.0.0.0:34382], old=null
2019-09-24 16:57:25,093 INFO  impl.LeaderElection (LeaderElection.java:logAndReturn(56)) - s2@group-09A0EF6A68F4-LeaderElection70: Election REJECTED; received 2 response(s) [s2<-s0#0:FAIL-t27, s2<-s1#0:FAIL-t27] and 0 exception(s); s2@group-09A0EF6A68F4:t27, leader=null, voted=s2, raftlog=s2@group-09A0EF6A68F4-SegmentedRaftLog:OPENED:c-1,f-1,i0, conf=-1: [s0:0.0.0.0:42611, s1:0.0.0.0:39575, s2:0.0.0.0:34382], old=null
2019-09-24 16:57:25,094 DEBUG impl.RaftServerImpl (RaftServerImpl.java:requestVote(775)) - s2@group-09A0EF6A68F4 replies to vote request: s0<-s2#0:FAIL-t27. Peer's state: s2@group-09A0EF6A68F4:t27, leader=null, voted=s2, raftlog=s2@group-09A0EF6A68F4-SegmentedRaftLog:OPENED:c-1,f-1,i0, conf=-1: [s0:0.0.0.0:42611, s1:0.0.0.0:39575, s2:0.0.0.0:34382], old=null
2019-09-24 16:57:25,094 DEBUG impl.RaftServerImpl (RaftServerImpl.java:requestVote(775)) - s0@group-09A0EF6A68F4 replies to vote request: s1<-s0#0:FAIL-t27. Peer's state: s0@group-09A0EF6A68F4:t27, leader=null, voted=s0, raftlog=s0@group-09A0EF6A68F4-SegmentedRaftLog:OPENED:c-1,f-1,i0, conf=-1: [s0:0.0.0.0:42611, s1:0.0.0.0:39575, s2:0.0.0.0:34382], old=null
2019-09-24 16:57:25,095 INFO  impl.RaftServerImpl (RaftServerImpl.java:setRole(170)) - s2@group-09A0EF6A68F4: changes role from CANDIDATE to FOLLOWER at term 27 for DISCOVERED_A_NEW_TERM
2019-09-24 16:57:25,095 INFO  impl.LeaderElection (LeaderElection.java:logAndReturn(56)) - s0@group-09A0EF6A68F4-LeaderElection72: Election REJECTED; received 2 response(s) [s0<-s1#0:FAIL-t27, s0<-s2#0:FAIL-t27] and 0 exception(s); s0@group-09A0EF6A68F4:t27, leader=null, voted=s0, raftlog=s0@group-09A0EF6A68F4-SegmentedRaftLog:OPENED:c-1,f-1,i0, conf=-1: [s0:0.0.0.0:42611, s1:0.0.0.0:39575, s2:0.0.0.0:34382], old=null
2019-09-24 16:57:25,095 INFO  impl.LeaderElection (LeaderElection.java:logAndReturn(56)) - s1@group-09A0EF6A68F4-LeaderElection71: Election REJECTED; received 2 response(s) [s1<-s0#0:FAIL-t27, s1<-s2#0:FAIL-t27] and 0 exception(s); s1@group-09A0EF6A68F4:t27, leader=null, voted=s1, raftlog=s1@group-09A0EF6A68F4-SegmentedRaftLog:OPENED:c-1,f-1,i0, conf=-1: [s0:0.0.0.0:42611, s1:0.0.0.0:39575, s2:0.0.0.0:34382], old=null
2019-09-24 16:57:25,095 INFO  impl.RoleInfo (RoleInfo.java:shutdownLeaderElection(134)) - s2: shutdown LeaderElection
2019-09-24 16:57:25,095 INFO  impl.RaftServerImpl (RaftServerImpl.java:setRole(170)) - s1@group-09A0EF6A68F4: changes role from CANDIDATE to FOLLOWER at term 27 for DISCOVERED_A_NEW_TERM
2019-09-24 16:57:25,095 INFO  impl.RaftServerImpl (RaftServerImpl.java:setRole(170)) - s0@group-09A0EF6A68F4: changes role from CANDIDATE to FOLLOWER at term 27 for DISCOVERED_A_NEW_TERM
2019-09-24 16:57:25,096 INFO  impl.RoleInfo (RoleInfo.java:shutdownLeaderElection(134)) - s1: shutdown LeaderElection
2019-09-24 16:57:25,096 INFO  impl.RoleInfo (RoleInfo.java:updateAndGet(143)) - s2: start FollowerState
2019-09-24 16:57:25,096 INFO  impl.RoleInfo (RoleInfo.java:updateAndGet(143)) - s1: start FollowerState
2019-09-24 16:57:25,096 INFO  impl.RoleInfo (RoleInfo.java:shutdownLeaderElection(134)) - s0: shutdown LeaderElection
2019-09-24 16:57:25,097 INFO  impl.RoleInfo (RoleInfo.java:updateAndGet(143)) - s0: start FollowerState
2019-09-24 16:57:25,255 INFO  impl.FollowerState (FollowerState.java:run(108)) - s2@group-09A0EF6A68F4-FollowerState: change to CANDIDATE, lastRpcTime:159ms, electionTimeout:158ms
2019-09-24 16:57:25,255 INFO  impl.RoleInfo (RoleInfo.java:shutdownFollowerState(121)) - s2: shutdown FollowerState
2019-09-24 16:57:25,255 INFO  impl.RaftServerImpl (RaftServerImpl.java:setRole(170)) - s2@group-09A0EF6A68F4: changes role from  FOLLOWER to CANDIDATE at term 27 for changeToCandidate
2019-09-24 16:57:25,255 INFO  impl.RoleInfo (RoleInfo.java:updateAndGet(143)) - s2: start LeaderElection
2019-09-24 16:57:25,269 INFO  impl.FollowerState (FollowerState.java:run(108)) - s0@group-09A0EF6A68F4-FollowerState: change to CANDIDATE, lastRpcTime:172ms, electionTimeout:172ms
2019-09-24 16:57:25,269 INFO  impl.RoleInfo (RoleInfo.java:shutdownFollowerState(121)) - s0: shutdown FollowerState
2019-09-24 16:57:25,270 INFO  impl.RaftServerImpl (RaftServerImpl.java:setRole(170)) - s0@group-09A0EF6A68F4: changes role from  FOLLOWER to CANDIDATE at term 27 for changeToCandidate
2019-09-24 16:57:25,270 INFO  impl.RoleInfo (RoleInfo.java:updateAndGet(143)) - s0: start LeaderElection
2019-09-24 16:57:25,388 INFO  impl.FollowerState (FollowerState.java:run(108)) - s1@group-09A0EF6A68F4-FollowerState: change to CANDIDATE, lastRpcTime:291ms, electionTimeout:291ms
2019-09-24 16:57:25,388 INFO  impl.RoleInfo (RoleInfo.java:shutdownFollowerState(121)) - s1: shutdown FollowerState
2019-09-24 16:57:25,388 INFO  impl.RaftServerImpl (RaftServerImpl.java:setRole(170)) - s1@group-09A0EF6A68F4: changes role from  FOLLOWER to CANDIDATE at term 27 for changeToCandidate
2019-09-24 16:57:25,388 INFO  impl.RoleInfo (RoleInfo.java:updateAndGet(143)) - s1: start LeaderElection
2019-09-24 16:57:25,489 WARN  ratis.RaftTestUtil (JavaUtils.java:attempt(158)) - FAILED "waitForLeader-null-(expectLeader? true)", attempt #35/100: java.lang.IllegalStateException: No leader yet : printing ALL groups
  s0:  RUNNING CANDIDATE s0@group-09A0EF6A68F4:t28, leader=null, voted=s0, raftlog=s0@group-09A0EF6A68F4-SegmentedRaftLog:OPENED:c-1,f-1,i0, conf=-1: [s0:0.0.0.0:42611, s1:0.0.0.0:39575, s2:0.0.0.0:34382], old=null RUNNING
  s1:  RUNNING CANDIDATE s1@group-09A0EF6A68F4:t28, leader=null, voted=s1, raftlog=s1@group-09A0EF6A68F4-SegmentedRaftLog:OPENED:c-1,f-1,i0, conf=-1: [s0:0.0.0.0:42611, s1:0.0.0.0:39575, s2:0.0.0.0:34382], old=null RUNNING
  s2:  RUNNING CANDIDATE s2@group-09A0EF6A68F4:t28, leader=null, voted=s2, raftlog=s2@group-09A0EF6A68F4-SegmentedRaftLog:OPENED:c-1,f-1,i0, conf=-1: [s0:0.0.0.0:42611, s1:0.0.0.0:39575, s2:0.0.0.0:34382], old=null RUNNING, sleep 450ms and then retry.
java.lang.IllegalStateException: No leader yet : printing ALL groups
  s0:  RUNNING CANDIDATE s0@group-09A0EF6A68F4:t28, leader=null, voted=s0, raftlog=s0@group-09A0EF6A68F4-SegmentedRaftLog:OPENED:c-1,f-1,i0, conf=-1: [s0:0.0.0.0:42611, s1:0.0.0.0:39575, s2:0.0.0.0:34382], old=null RUNNING
  s1:  RUNNING CANDIDATE s1@group-09A0EF6A68F4:t28, leader=null, voted=s1, raftlog=s1@group-09A0EF6A68F4-SegmentedRaftLog:OPENED:c-1,f-1,i0, conf=-1: [s0:0.0.0.0:42611, s1:0.0.0.0:39575, s2:0.0.0.0:34382], old=null RUNNING
  s2:  RUNNING CANDIDATE s2@group-09A0EF6A68F4:t28, leader=null, voted=s2, raftlog=s2@group-09A0EF6A68F4-SegmentedRaftLog:OPENED:c-1,f-1,i0, conf=-1: [s0:0.0.0.0:42611, s1:0.0.0.0:39575, s2:0.0.0.0:34382], old=null RUNNING
	at org.apache.ratis.MiniRaftCluster.newIllegalStateExceptionForNoLeaders(MiniRaftCluster.java:506)
	at org.apache.ratis.RaftTestUtil.lambda$waitForLeader$1(RaftTestUtil.java:90)
	at org.apache.ratis.MiniRaftCluster.getLeader(MiniRaftCluster.java:539)
	at org.apache.ratis.MiniRaftCluster.getLeader(MiniRaftCluster.java:532)
	at org.apache.ratis.RaftTestUtil.lambda$waitForLeader$3(RaftTestUtil.java:98)
	at org.apache.ratis.util.JavaUtils.attempt(JavaUtils.java:152)
	at org.apache.ratis.RaftTestUtil.waitForLeader(RaftTestUtil.java:97)
	at org.apache.ratis.RaftTestUtil.waitForLeader(RaftTestUtil.java:77)
	at org.apache.ratis.RaftTestUtil.waitForLeader(RaftTestUtil.java:72)
	at org.apache.ratis.server.impl.RaftStateMachineExceptionTests.runTestRetryOnExceptionDuringReplication(RaftStateMachineExceptionTests.java:149)
	at org.apache.ratis.MiniRaftCluster$Factory$Get.runWithNewCluster(MiniRaftCluster.java:125)
	at org.apache.ratis.MiniRaftCluster$Factory$Get.runWithNewCluster(MiniRaftCluster.java:113)
	at org.apache.ratis.server.impl.RaftStateMachineExceptionTests.testRetryOnExceptionDuringReplication(RaftStateMachineExceptionTests.java:145)
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.lang.reflect.Method.invoke(Method.java:498)
	at org.junit.runners.model.FrameworkMethod$1.runReflectiveCall(FrameworkMethod.java:50)
	at org.junit.internal.runners.model.ReflectiveCallable.run(ReflectiveCallable.java:12)
	at org.junit.runners.model.FrameworkMethod.invokeExplosively(FrameworkMethod.java:47)
	at org.junit.internal.runners.statements.InvokeMethod.evaluate(InvokeMethod.java:17)
	at org.junit.internal.runners.statements.RunAfters.evaluate(RunAfters.java:27)
	at org.junit.internal.runners.statements.FailOnTimeout$CallableStatement.call(FailOnTimeout.java:298)
	at org.junit.internal.runners.statements.FailOnTimeout$CallableStatement.call(FailOnTimeout.java:292)
	at java.util.concurrent.FutureTask.run(FutureTask.java:266)
	at java.lang.Thread.run(Thread.java:748)
2019-09-24 16:57:25,527 INFO  impl.LeaderElection (LeaderElection.java:askForVotes(178)) - s2@group-09A0EF6A68F4-LeaderElection73: begin an election at term 28 for -1: [s0:0.0.0.0:42611, s1:0.0.0.0:39575, s2:0.0.0.0:34382], old=null
2019-09-24 16:57:25,527 INFO  impl.LeaderElection (LeaderElection.java:askForVotes(178)) - s1@group-09A0EF6A68F4-LeaderElection75: begin an election at term 28 for -1: [s0:0.0.0.0:42611, s1:0.0.0.0:39575, s2:0.0.0.0:34382], old=null
2019-09-24 16:57:25,527 INFO  impl.LeaderElection (LeaderElection.java:askForVotes(178)) - s0@group-09A0EF6A68F4-LeaderElection74: begin an election at term 28 for -1: [s0:0.0.0.0:42611, s1:0.0.0.0:39575, s2:0.0.0.0:34382], old=null
2019-09-24 16:57:25,529 DEBUG impl.RaftServerImpl (RaftServerImpl.java:requestVote(743)) - s0@group-09A0EF6A68F4: receive requestVote(s2, group-09A0EF6A68F4, 28, (t:0, i:0))
2019-09-24 16:57:25,529 DEBUG impl.RaftServerImpl (RaftServerImpl.java:requestVote(743)) - s1@group-09A0EF6A68F4: receive requestVote(s2, group-09A0EF6A68F4, 28, (t:0, i:0))
2019-09-24 16:57:25,529 DEBUG impl.RaftServerImpl (RaftServerImpl.java:requestVote(775)) - s0@group-09A0EF6A68F4 replies to vote request: s2<-s0#0:FAIL-t28. Peer's state: s0@group-09A0EF6A68F4:t28, leader=null, voted=s0, raftlog=s0@group-09A0EF6A68F4-SegmentedRaftLog:OPENED:c-1,f-1,i0, conf=-1: [s0:0.0.0.0:42611, s1:0.0.0.0:39575, s2:0.0.0.0:34382], old=null
2019-09-24 16:57:25,529 DEBUG impl.RaftServerImpl (RaftServerImpl.java:requestVote(743)) - s0@group-09A0EF6A68F4: receive requestVote(s1, group-09A0EF6A68F4, 28, (t:0, i:0))
2019-09-24 16:57:25,530 DEBUG impl.RaftServerImpl (RaftServerImpl.java:requestVote(743)) - s2@group-09A0EF6A68F4: receive requestVote(s1, group-09A0EF6A68F4, 28, (t:0, i:0))
2019-09-24 16:57:25,530 DEBUG impl.RaftServerImpl (RaftServerImpl.java:requestVote(743)) - s1@group-09A0EF6A68F4: receive requestVote(s0, group-09A0EF6A68F4, 28, (t:0, i:0))
2019-09-24 16:57:25,530 DEBUG impl.RaftServerImpl (RaftServerImpl.java:requestVote(775)) - s1@group-09A0EF6A68F4 replies to vote request: s2<-s1#0:FAIL-t28. Peer's state: s1@group-09A0EF6A68F4:t28, leader=null, voted=s1, raftlog=s1@group-09A0EF6A68F4-SegmentedRaftLog:OPENED:c-1,f-1,i0, conf=-1: [s0:0.0.0.0:42611, s1:0.0.0.0:39575, s2:0.0.0.0:34382], old=null
2019-09-24 16:57:25,530 DEBUG impl.RaftServerImpl (RaftServerImpl.java:requestVote(775)) - s2@group-09A0EF6A68F4 replies to vote request: s1<-s2#0:FAIL-t28. Peer's state: s2@group-09A0EF6A68F4:t28, leader=null, voted=s2, raftlog=s2@group-09A0EF6A68F4-SegmentedRaftLog:OPENED:c-1,f-1,i0, conf=-1: [s0:0.0.0.0:42611, s1:0.0.0.0:39575, s2:0.0.0.0:34382], old=null
2019-09-24 16:57:25,530 DEBUG impl.RaftServerImpl (RaftServerImpl.java:requestVote(775)) - s0@group-09A0EF6A68F4 replies to vote request: s1<-s0#0:FAIL-t28. Peer's state: s0@group-09A0EF6A68F4:t28, leader=null, voted=s0, raftlog=s0@group-09A0EF6A68F4-SegmentedRaftLog:OPENED:c-1,f-1,i0, conf=-1: [s0:0.0.0.0:42611, s1:0.0.0.0:39575, s2:0.0.0.0:34382], old=null
2019-09-24 16:57:25,530 DEBUG impl.RaftServerImpl (RaftServerImpl.java:requestVote(743)) - s2@group-09A0EF6A68F4: receive requestVote(s0, group-09A0EF6A68F4, 28, (t:0, i:0))
2019-09-24 16:57:25,531 INFO  impl.LeaderElection (LeaderElection.java:logAndReturn(56)) - s2@group-09A0EF6A68F4-LeaderElection73: Election REJECTED; received 2 response(s) [s2<-s0#0:FAIL-t28, s2<-s1#0:FAIL-t28] and 0 exception(s); s2@group-09A0EF6A68F4:t28, leader=null, voted=s2, raftlog=s2@group-09A0EF6A68F4-SegmentedRaftLog:OPENED:c-1,f-1,i0, conf=-1: [s0:0.0.0.0:42611, s1:0.0.0.0:39575, s2:0.0.0.0:34382], old=null
2019-09-24 16:57:25,531 DEBUG impl.RaftServerImpl (RaftServerImpl.java:requestVote(775)) - s1@group-09A0EF6A68F4 replies to vote request: s0<-s1#0:FAIL-t28. Peer's state: s1@group-09A0EF6A68F4:t28, leader=null, voted=s1, raftlog=s1@group-09A0EF6A68F4-SegmentedRaftLog:OPENED:c-1,f-1,i0, conf=-1: [s0:0.0.0.0:42611, s1:0.0.0.0:39575, s2:0.0.0.0:34382], old=null
2019-09-24 16:57:25,531 INFO  impl.LeaderElection (LeaderElection.java:logAndReturn(56)) - s1@group-09A0EF6A68F4-LeaderElection75: Election REJECTED; received 2 response(s) [s1<-s0#0:FAIL-t28, s1<-s2#0:FAIL-t28] and 0 exception(s); s1@group-09A0EF6A68F4:t28, leader=null, voted=s1, raftlog=s1@group-09A0EF6A68F4-SegmentedRaftLog:OPENED:c-1,f-1,i0, conf=-1: [s0:0.0.0.0:42611, s1:0.0.0.0:39575, s2:0.0.0.0:34382], old=null
2019-09-24 16:57:25,531 DEBUG impl.RaftServerImpl (RaftServerImpl.java:requestVote(775)) - s2@group-09A0EF6A68F4 replies to vote request: s0<-s2#0:FAIL-t28. Peer's state: s2@group-09A0EF6A68F4:t28, leader=null, voted=s2, raftlog=s2@group-09A0EF6A68F4-SegmentedRaftLog:OPENED:c-1,f-1,i0, conf=-1: [s0:0.0.0.0:42611, s1:0.0.0.0:39575, s2:0.0.0.0:34382], old=null
2019-09-24 16:57:25,532 INFO  impl.RaftServerImpl (RaftServerImpl.java:setRole(170)) - s1@group-09A0EF6A68F4: changes role from CANDIDATE to FOLLOWER at term 28 for DISCOVERED_A_NEW_TERM
2019-09-24 16:57:25,532 INFO  impl.RaftServerImpl (RaftServerImpl.java:setRole(170)) - s2@group-09A0EF6A68F4: changes role from CANDIDATE to FOLLOWER at term 28 for DISCOVERED_A_NEW_TERM
2019-09-24 16:57:25,532 INFO  impl.RoleInfo (RoleInfo.java:shutdownLeaderElection(134)) - s1: shutdown LeaderElection
2019-09-24 16:57:25,532 INFO  impl.LeaderElection (LeaderElection.java:logAndReturn(56)) - s0@group-09A0EF6A68F4-LeaderElection74: Election REJECTED; received 2 response(s) [s0<-s1#0:FAIL-t28, s0<-s2#0:FAIL-t28] and 0 exception(s); s0@group-09A0EF6A68F4:t28, leader=null, voted=s0, raftlog=s0@group-09A0EF6A68F4-SegmentedRaftLog:OPENED:c-1,f-1,i0, conf=-1: [s0:0.0.0.0:42611, s1:0.0.0.0:39575, s2:0.0.0.0:34382], old=null
2019-09-24 16:57:25,532 INFO  impl.RoleInfo (RoleInfo.java:shutdownLeaderElection(134)) - s2: shutdown LeaderElection
2019-09-24 16:57:25,533 INFO  impl.RaftServerImpl (RaftServerImpl.java:setRole(170)) - s0@group-09A0EF6A68F4: changes role from CANDIDATE to FOLLOWER at term 28 for DISCOVERED_A_NEW_TERM
2019-09-24 16:57:25,532 INFO  impl.RoleInfo (RoleInfo.java:updateAndGet(143)) - s1: start FollowerState
2019-09-24 16:57:25,533 INFO  impl.RoleInfo (RoleInfo.java:shutdownLeaderElection(134)) - s0: shutdown LeaderElection
2019-09-24 16:57:25,533 INFO  impl.RoleInfo (RoleInfo.java:updateAndGet(143)) - s2: start FollowerState
2019-09-24 16:57:25,533 INFO  impl.RoleInfo (RoleInfo.java:updateAndGet(143)) - s0: start FollowerState
2019-09-24 16:57:25,732 INFO  impl.FollowerState (FollowerState.java:run(108)) - s1@group-09A0EF6A68F4-FollowerState: change to CANDIDATE, lastRpcTime:199ms, electionTimeout:198ms
2019-09-24 16:57:25,732 INFO  impl.RoleInfo (RoleInfo.java:shutdownFollowerState(121)) - s1: shutdown FollowerState
2019-09-24 16:57:25,732 INFO  impl.RaftServerImpl (RaftServerImpl.java:setRole(170)) - s1@group-09A0EF6A68F4: changes role from  FOLLOWER to CANDIDATE at term 28 for changeToCandidate
2019-09-24 16:57:25,732 INFO  impl.RoleInfo (RoleInfo.java:updateAndGet(143)) - s1: start LeaderElection
2019-09-24 16:57:25,775 INFO  impl.FollowerState (FollowerState.java:run(108)) - s0@group-09A0EF6A68F4-FollowerState: change to CANDIDATE, lastRpcTime:241ms, electionTimeout:241ms
2019-09-24 16:57:25,775 INFO  impl.RoleInfo (RoleInfo.java:shutdownFollowerState(121)) - s0: shutdown FollowerState
2019-09-24 16:57:25,776 INFO  impl.RaftServerImpl (RaftServerImpl.java:setRole(170)) - s0@group-09A0EF6A68F4: changes role from  FOLLOWER to CANDIDATE at term 28 for changeToCandidate
2019-09-24 16:57:25,776 INFO  impl.RoleInfo (RoleInfo.java:updateAndGet(143)) - s0: start LeaderElection
2019-09-24 16:57:25,830 INFO  impl.FollowerState (FollowerState.java:run(108)) - s2@group-09A0EF6A68F4-FollowerState: change to CANDIDATE, lastRpcTime:297ms, electionTimeout:296ms
2019-09-24 16:57:25,830 INFO  impl.RoleInfo (RoleInfo.java:shutdownFollowerState(121)) - s2: shutdown FollowerState
2019-09-24 16:57:25,830 INFO  impl.RaftServerImpl (RaftServerImpl.java:setRole(170)) - s2@group-09A0EF6A68F4: changes role from  FOLLOWER to CANDIDATE at term 28 for changeToCandidate
2019-09-24 16:57:25,831 INFO  impl.RoleInfo (RoleInfo.java:updateAndGet(143)) - s2: start LeaderElection
2019-09-24 16:57:25,941 WARN  ratis.RaftTestUtil (JavaUtils.java:attempt(158)) - FAILED "waitForLeader-null-(expectLeader? true)", attempt #36/100: java.lang.IllegalStateException: No leader yet : printing ALL groups
  s0:  RUNNING CANDIDATE s0@group-09A0EF6A68F4:t29, leader=null, voted=s0, raftlog=s0@group-09A0EF6A68F4-SegmentedRaftLog:OPENED:c-1,f-1,i0, conf=-1: [s0:0.0.0.0:42611, s1:0.0.0.0:39575, s2:0.0.0.0:34382], old=null RUNNING
  s1:  RUNNING CANDIDATE s1@group-09A0EF6A68F4:t29, leader=null, voted=s1, raftlog=s1@group-09A0EF6A68F4-SegmentedRaftLog:OPENED:c-1,f-1,i0, conf=-1: [s0:0.0.0.0:42611, s1:0.0.0.0:39575, s2:0.0.0.0:34382], old=null RUNNING
  s2:  RUNNING CANDIDATE s2@group-09A0EF6A68F4:t29, leader=null, voted=s2, raftlog=s2@group-09A0EF6A68F4-SegmentedRaftLog:OPENED:c-1,f-1,i0, conf=-1: [s0:0.0.0.0:42611, s1:0.0.0.0:39575, s2:0.0.0.0:34382], old=null RUNNING, sleep 450ms and then retry.
java.lang.IllegalStateException: No leader yet : printing ALL groups
  s0:  RUNNING CANDIDATE s0@group-09A0EF6A68F4:t29, leader=null, voted=s0, raftlog=s0@group-09A0EF6A68F4-SegmentedRaftLog:OPENED:c-1,f-1,i0, conf=-1: [s0:0.0.0.0:42611, s1:0.0.0.0:39575, s2:0.0.0.0:34382], old=null RUNNING
  s1:  RUNNING CANDIDATE s1@group-09A0EF6A68F4:t29, leader=null, voted=s1, raftlog=s1@group-09A0EF6A68F4-SegmentedRaftLog:OPENED:c-1,f-1,i0, conf=-1: [s0:0.0.0.0:42611, s1:0.0.0.0:39575, s2:0.0.0.0:34382], old=null RUNNING
  s2:  RUNNING CANDIDATE s2@group-09A0EF6A68F4:t29, leader=null, voted=s2, raftlog=s2@group-09A0EF6A68F4-SegmentedRaftLog:OPENED:c-1,f-1,i0, conf=-1: [s0:0.0.0.0:42611, s1:0.0.0.0:39575, s2:0.0.0.0:34382], old=null RUNNING
	at org.apache.ratis.MiniRaftCluster.newIllegalStateExceptionForNoLeaders(MiniRaftCluster.java:506)
	at org.apache.ratis.RaftTestUtil.lambda$waitForLeader$1(RaftTestUtil.java:90)
	at org.apache.ratis.MiniRaftCluster.getLeader(MiniRaftCluster.java:539)
	at org.apache.ratis.MiniRaftCluster.getLeader(MiniRaftCluster.java:532)
	at org.apache.ratis.RaftTestUtil.lambda$waitForLeader$3(RaftTestUtil.java:98)
	at org.apache.ratis.util.JavaUtils.attempt(JavaUtils.java:152)
	at org.apache.ratis.RaftTestUtil.waitForLeader(RaftTestUtil.java:97)
	at org.apache.ratis.RaftTestUtil.waitForLeader(RaftTestUtil.java:77)
	at org.apache.ratis.RaftTestUtil.waitForLeader(RaftTestUtil.java:72)
	at org.apache.ratis.server.impl.RaftStateMachineExceptionTests.runTestRetryOnExceptionDuringReplication(RaftStateMachineExceptionTests.java:149)
	at org.apache.ratis.MiniRaftCluster$Factory$Get.runWithNewCluster(MiniRaftCluster.java:125)
	at org.apache.ratis.MiniRaftCluster$Factory$Get.runWithNewCluster(MiniRaftCluster.java:113)
	at org.apache.ratis.server.impl.RaftStateMachineExceptionTests.testRetryOnExceptionDuringReplication(RaftStateMachineExceptionTests.java:145)
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.lang.reflect.Method.invoke(Method.java:498)
	at org.junit.runners.model.FrameworkMethod$1.runReflectiveCall(FrameworkMethod.java:50)
	at org.junit.internal.runners.model.ReflectiveCallable.run(ReflectiveCallable.java:12)
	at org.junit.runners.model.FrameworkMethod.invokeExplosively(FrameworkMethod.java:47)
	at org.junit.internal.runners.statements.InvokeMethod.evaluate(InvokeMethod.java:17)
	at org.junit.internal.runners.statements.RunAfters.evaluate(RunAfters.java:27)
	at org.junit.internal.runners.statements.FailOnTimeout$CallableStatement.call(FailOnTimeout.java:298)
	at org.junit.internal.runners.statements.FailOnTimeout$CallableStatement.call(FailOnTimeout.java:292)
	at java.util.concurrent.FutureTask.run(FutureTask.java:266)
	at java.lang.Thread.run(Thread.java:748)
2019-09-24 16:57:26,088 INFO  impl.LeaderElection (LeaderElection.java:askForVotes(178)) - s1@group-09A0EF6A68F4-LeaderElection76: begin an election at term 29 for -1: [s0:0.0.0.0:42611, s1:0.0.0.0:39575, s2:0.0.0.0:34382], old=null
2019-09-24 16:57:26,088 INFO  impl.LeaderElection (LeaderElection.java:askForVotes(178)) - s0@group-09A0EF6A68F4-LeaderElection77: begin an election at term 29 for -1: [s0:0.0.0.0:42611, s1:0.0.0.0:39575, s2:0.0.0.0:34382], old=null
2019-09-24 16:57:26,088 INFO  impl.LeaderElection (LeaderElection.java:askForVotes(178)) - s2@group-09A0EF6A68F4-LeaderElection78: begin an election at term 29 for -1: [s0:0.0.0.0:42611, s1:0.0.0.0:39575, s2:0.0.0.0:34382], old=null
2019-09-24 16:57:26,090 DEBUG impl.RaftServerImpl (RaftServerImpl.java:requestVote(743)) - s1@group-09A0EF6A68F4: receive requestVote(s0, group-09A0EF6A68F4, 29, (t:0, i:0))
2019-09-24 16:57:26,090 DEBUG impl.RaftServerImpl (RaftServerImpl.java:requestVote(743)) - s0@group-09A0EF6A68F4: receive requestVote(s1, group-09A0EF6A68F4, 29, (t:0, i:0))
2019-09-24 16:57:26,090 DEBUG impl.RaftServerImpl (RaftServerImpl.java:requestVote(743)) - s0@group-09A0EF6A68F4: receive requestVote(s2, group-09A0EF6A68F4, 29, (t:0, i:0))
2019-09-24 16:57:26,090 DEBUG impl.RaftServerImpl (RaftServerImpl.java:requestVote(775)) - s1@group-09A0EF6A68F4 replies to vote request: s0<-s1#0:FAIL-t29. Peer's state: s1@group-09A0EF6A68F4:t29, leader=null, voted=s1, raftlog=s1@group-09A0EF6A68F4-SegmentedRaftLog:OPENED:c-1,f-1,i0, conf=-1: [s0:0.0.0.0:42611, s1:0.0.0.0:39575, s2:0.0.0.0:34382], old=null
2019-09-24 16:57:26,090 DEBUG impl.RaftServerImpl (RaftServerImpl.java:requestVote(743)) - s2@group-09A0EF6A68F4: receive requestVote(s1, group-09A0EF6A68F4, 29, (t:0, i:0))
2019-09-24 16:57:26,091 DEBUG impl.RaftServerImpl (RaftServerImpl.java:requestVote(743)) - s1@group-09A0EF6A68F4: receive requestVote(s2, group-09A0EF6A68F4, 29, (t:0, i:0))
2019-09-24 16:57:26,091 DEBUG impl.RaftServerImpl (RaftServerImpl.java:requestVote(743)) - s2@group-09A0EF6A68F4: receive requestVote(s0, group-09A0EF6A68F4, 29, (t:0, i:0))
2019-09-24 16:57:26,090 DEBUG impl.RaftServerImpl (RaftServerImpl.java:requestVote(775)) - s0@group-09A0EF6A68F4 replies to vote request: s1<-s0#0:FAIL-t29. Peer's state: s0@group-09A0EF6A68F4:t29, leader=null, voted=s0, raftlog=s0@group-09A0EF6A68F4-SegmentedRaftLog:OPENED:c-1,f-1,i0, conf=-1: [s0:0.0.0.0:42611, s1:0.0.0.0:39575, s2:0.0.0.0:34382], old=null
2019-09-24 16:57:26,091 DEBUG impl.RaftServerImpl (RaftServerImpl.java:requestVote(775)) - s1@group-09A0EF6A68F4 replies to vote request: s2<-s1#0:FAIL-t29. Peer's state: s1@group-09A0EF6A68F4:t29, leader=null, voted=s1, raftlog=s1@group-09A0EF6A68F4-SegmentedRaftLog:OPENED:c-1,f-1,i0, conf=-1: [s0:0.0.0.0:42611, s1:0.0.0.0:39575, s2:0.0.0.0:34382], old=null
2019-09-24 16:57:26,092 DEBUG impl.RaftServerImpl (RaftServerImpl.java:requestVote(775)) - s0@group-09A0EF6A68F4 replies to vote request: s2<-s0#0:FAIL-t29. Peer's state: s0@group-09A0EF6A68F4:t29, leader=null, voted=s0, raftlog=s0@group-09A0EF6A68F4-SegmentedRaftLog:OPENED:c-1,f-1,i0, conf=-1: [s0:0.0.0.0:42611, s1:0.0.0.0:39575, s2:0.0.0.0:34382], old=null
2019-09-24 16:57:26,091 DEBUG impl.RaftServerImpl (RaftServerImpl.java:requestVote(775)) - s2@group-09A0EF6A68F4 replies to vote request: s1<-s2#0:FAIL-t29. Peer's state: s2@group-09A0EF6A68F4:t29, leader=null, voted=s2, raftlog=s2@group-09A0EF6A68F4-SegmentedRaftLog:OPENED:c-1,f-1,i0, conf=-1: [s0:0.0.0.0:42611, s1:0.0.0.0:39575, s2:0.0.0.0:34382], old=null
2019-09-24 16:57:26,092 DEBUG impl.RaftServerImpl (RaftServerImpl.java:requestVote(775)) - s2@group-09A0EF6A68F4 replies to vote request: s0<-s2#0:FAIL-t29. Peer's state: s2@group-09A0EF6A68F4:t29, leader=null, voted=s2, raftlog=s2@group-09A0EF6A68F4-SegmentedRaftLog:OPENED:c-1,f-1,i0, conf=-1: [s0:0.0.0.0:42611, s1:0.0.0.0:39575, s2:0.0.0.0:34382], old=null
2019-09-24 16:57:26,092 INFO  impl.LeaderElection (LeaderElection.java:logAndReturn(56)) - s2@group-09A0EF6A68F4-LeaderElection78: Election REJECTED; received 2 response(s) [s2<-s0#0:FAIL-t29, s2<-s1#0:FAIL-t29] and 0 exception(s); s2@group-09A0EF6A68F4:t29, leader=null, voted=s2, raftlog=s2@group-09A0EF6A68F4-SegmentedRaftLog:OPENED:c-1,f-1,i0, conf=-1: [s0:0.0.0.0:42611, s1:0.0.0.0:39575, s2:0.0.0.0:34382], old=null
2019-09-24 16:57:26,092 INFO  impl.LeaderElection (LeaderElection.java:logAndReturn(56)) - s1@group-09A0EF6A68F4-LeaderElection76: Election REJECTED; received 2 response(s) [s1<-s0#0:FAIL-t29, s1<-s2#0:FAIL-t29] and 0 exception(s); s1@group-09A0EF6A68F4:t29, leader=null, voted=s1, raftlog=s1@group-09A0EF6A68F4-SegmentedRaftLog:OPENED:c-1,f-1,i0, conf=-1: [s0:0.0.0.0:42611, s1:0.0.0.0:39575, s2:0.0.0.0:34382], old=null
2019-09-24 16:57:26,092 INFO  impl.RaftServerImpl (RaftServerImpl.java:setRole(170)) - s2@group-09A0EF6A68F4: changes role from CANDIDATE to FOLLOWER at term 29 for DISCOVERED_A_NEW_TERM
2019-09-24 16:57:26,092 INFO  impl.LeaderElection (LeaderElection.java:logAndReturn(56)) - s0@group-09A0EF6A68F4-LeaderElection77: Election REJECTED; received 2 response(s) [s0<-s1#0:FAIL-t29, s0<-s2#0:FAIL-t29] and 0 exception(s); s0@group-09A0EF6A68F4:t29, leader=null, voted=s0, raftlog=s0@group-09A0EF6A68F4-SegmentedRaftLog:OPENED:c-1,f-1,i0, conf=-1: [s0:0.0.0.0:42611, s1:0.0.0.0:39575, s2:0.0.0.0:34382], old=null
2019-09-24 16:57:26,093 INFO  impl.RoleInfo (RoleInfo.java:shutdownLeaderElection(134)) - s2: shutdown LeaderElection
2019-09-24 16:57:26,093 INFO  impl.RaftServerImpl (RaftServerImpl.java:setRole(170)) - s1@group-09A0EF6A68F4: changes role from CANDIDATE to FOLLOWER at term 29 for DISCOVERED_A_NEW_TERM
2019-09-24 16:57:26,093 INFO  impl.RoleInfo (RoleInfo.java:updateAndGet(143)) - s2: start FollowerState
2019-09-24 16:57:26,093 INFO  impl.RaftServerImpl (RaftServerImpl.java:setRole(170)) - s0@group-09A0EF6A68F4: changes role from CANDIDATE to FOLLOWER at term 29 for DISCOVERED_A_NEW_TERM
2019-09-24 16:57:26,093 INFO  impl.RoleInfo (RoleInfo.java:shutdownLeaderElection(134)) - s1: shutdown LeaderElection
2019-09-24 16:57:26,094 INFO  impl.RoleInfo (RoleInfo.java:shutdownLeaderElection(134)) - s0: shutdown LeaderElection
2019-09-24 16:57:26,094 INFO  impl.RoleInfo (RoleInfo.java:updateAndGet(143)) - s1: start FollowerState
2019-09-24 16:57:26,094 INFO  impl.RoleInfo (RoleInfo.java:updateAndGet(143)) - s0: start FollowerState
2019-09-24 16:57:26,314 INFO  impl.FollowerState (FollowerState.java:run(108)) - s1@group-09A0EF6A68F4-FollowerState: change to CANDIDATE, lastRpcTime:219ms, electionTimeout:219ms
2019-09-24 16:57:26,314 INFO  impl.RoleInfo (RoleInfo.java:shutdownFollowerState(121)) - s1: shutdown FollowerState
2019-09-24 16:57:26,314 INFO  impl.RaftServerImpl (RaftServerImpl.java:setRole(170)) - s1@group-09A0EF6A68F4: changes role from  FOLLOWER to CANDIDATE at term 29 for changeToCandidate
2019-09-24 16:57:26,314 INFO  impl.RoleInfo (RoleInfo.java:updateAndGet(143)) - s1: start LeaderElection
2019-09-24 16:57:26,317 INFO  impl.FollowerState (FollowerState.java:run(108)) - s0@group-09A0EF6A68F4-FollowerState: change to CANDIDATE, lastRpcTime:222ms, electionTimeout:222ms
2019-09-24 16:57:26,317 INFO  impl.RoleInfo (RoleInfo.java:shutdownFollowerState(121)) - s0: shutdown FollowerState
2019-09-24 16:57:26,317 INFO  impl.RaftServerImpl (RaftServerImpl.java:setRole(170)) - s0@group-09A0EF6A68F4: changes role from  FOLLOWER to CANDIDATE at term 29 for changeToCandidate
2019-09-24 16:57:26,318 INFO  impl.RoleInfo (RoleInfo.java:updateAndGet(143)) - s0: start LeaderElection
2019-09-24 16:57:26,392 WARN  ratis.RaftTestUtil (JavaUtils.java:attempt(158)) - FAILED "waitForLeader-null-(expectLeader? true)", attempt #37/100: java.lang.IllegalStateException: No leader yet : printing ALL groups
  s0:  RUNNING CANDIDATE s0@group-09A0EF6A68F4:t30, leader=null, voted=s0, raftlog=s0@group-09A0EF6A68F4-SegmentedRaftLog:OPENED:c-1,f-1,i0, conf=-1: [s0:0.0.0.0:42611, s1:0.0.0.0:39575, s2:0.0.0.0:34382], old=null RUNNING
  s1:  RUNNING CANDIDATE s1@group-09A0EF6A68F4:t30, leader=null, voted=s1, raftlog=s1@group-09A0EF6A68F4-SegmentedRaftLog:OPENED:c-1,f-1,i0, conf=-1: [s0:0.0.0.0:42611, s1:0.0.0.0:39575, s2:0.0.0.0:34382], old=null RUNNING
  s2:  RUNNING  FOLLOWER s2@group-09A0EF6A68F4:t29, leader=null, voted=s2, raftlog=s2@group-09A0EF6A68F4-SegmentedRaftLog:OPENED:c-1,f-1,i0, conf=-1: [s0:0.0.0.0:42611, s1:0.0.0.0:39575, s2:0.0.0.0:34382], old=null RUNNING, sleep 450ms and then retry.
java.lang.IllegalStateException: No leader yet : printing ALL groups
  s0:  RUNNING CANDIDATE s0@group-09A0EF6A68F4:t30, leader=null, voted=s0, raftlog=s0@group-09A0EF6A68F4-SegmentedRaftLog:OPENED:c-1,f-1,i0, conf=-1: [s0:0.0.0.0:42611, s1:0.0.0.0:39575, s2:0.0.0.0:34382], old=null RUNNING
  s1:  RUNNING CANDIDATE s1@group-09A0EF6A68F4:t30, leader=null, voted=s1, raftlog=s1@group-09A0EF6A68F4-SegmentedRaftLog:OPENED:c-1,f-1,i0, conf=-1: [s0:0.0.0.0:42611, s1:0.0.0.0:39575, s2:0.0.0.0:34382], old=null RUNNING
  s2:  RUNNING  FOLLOWER s2@group-09A0EF6A68F4:t29, leader=null, voted=s2, raftlog=s2@group-09A0EF6A68F4-SegmentedRaftLog:OPENED:c-1,f-1,i0, conf=-1: [s0:0.0.0.0:42611, s1:0.0.0.0:39575, s2:0.0.0.0:34382], old=null RUNNING
	at org.apache.ratis.MiniRaftCluster.newIllegalStateExceptionForNoLeaders(MiniRaftCluster.java:506)
	at org.apache.ratis.RaftTestUtil.lambda$waitForLeader$1(RaftTestUtil.java:90)
	at org.apache.ratis.MiniRaftCluster.getLeader(MiniRaftCluster.java:539)
	at org.apache.ratis.MiniRaftCluster.getLeader(MiniRaftCluster.java:532)
	at org.apache.ratis.RaftTestUtil.lambda$waitForLeader$3(RaftTestUtil.java:98)
	at org.apache.ratis.util.JavaUtils.attempt(JavaUtils.java:152)
	at org.apache.ratis.RaftTestUtil.waitForLeader(RaftTestUtil.java:97)
	at org.apache.ratis.RaftTestUtil.waitForLeader(RaftTestUtil.java:77)
	at org.apache.ratis.RaftTestUtil.waitForLeader(RaftTestUtil.java:72)
	at org.apache.ratis.server.impl.RaftStateMachineExceptionTests.runTestRetryOnExceptionDuringReplication(RaftStateMachineExceptionTests.java:149)
	at org.apache.ratis.MiniRaftCluster$Factory$Get.runWithNewCluster(MiniRaftCluster.java:125)
	at org.apache.ratis.MiniRaftCluster$Factory$Get.runWithNewCluster(MiniRaftCluster.java:113)
	at org.apache.ratis.server.impl.RaftStateMachineExceptionTests.testRetryOnExceptionDuringReplication(RaftStateMachineExceptionTests.java:145)
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.lang.reflect.Method.invoke(Method.java:498)
	at org.junit.runners.model.FrameworkMethod$1.runReflectiveCall(FrameworkMethod.java:50)
	at org.junit.internal.runners.model.ReflectiveCallable.run(ReflectiveCallable.java:12)
	at org.junit.runners.model.FrameworkMethod.invokeExplosively(FrameworkMethod.java:47)
	at org.junit.internal.runners.statements.InvokeMethod.evaluate(InvokeMethod.java:17)
	at org.junit.internal.runners.statements.RunAfters.evaluate(RunAfters.java:27)
	at org.junit.internal.runners.statements.FailOnTimeout$CallableStatement.call(FailOnTimeout.java:298)
	at org.junit.internal.runners.statements.FailOnTimeout$CallableStatement.call(FailOnTimeout.java:292)
	at java.util.concurrent.FutureTask.run(FutureTask.java:266)
	at java.lang.Thread.run(Thread.java:748)
2019-09-24 16:57:26,394 INFO  impl.FollowerState (FollowerState.java:run(108)) - s2@group-09A0EF6A68F4-FollowerState: change to CANDIDATE, lastRpcTime:300ms, electionTimeout:300ms
2019-09-24 16:57:26,394 INFO  impl.RoleInfo (RoleInfo.java:shutdownFollowerState(121)) - s2: shutdown FollowerState
2019-09-24 16:57:26,394 INFO  impl.RaftServerImpl (RaftServerImpl.java:setRole(170)) - s2@group-09A0EF6A68F4: changes role from  FOLLOWER to CANDIDATE at term 29 for changeToCandidate
2019-09-24 16:57:26,395 INFO  impl.RoleInfo (RoleInfo.java:updateAndGet(143)) - s2: start LeaderElection
2019-09-24 16:57:26,746 INFO  impl.LeaderElection (LeaderElection.java:askForVotes(178)) - s2@group-09A0EF6A68F4-LeaderElection81: begin an election at term 30 for -1: [s0:0.0.0.0:42611, s1:0.0.0.0:39575, s2:0.0.0.0:34382], old=null
2019-09-24 16:57:26,746 INFO  impl.LeaderElection (LeaderElection.java:askForVotes(178)) - s0@group-09A0EF6A68F4-LeaderElection80: begin an election at term 30 for -1: [s0:0.0.0.0:42611, s1:0.0.0.0:39575, s2:0.0.0.0:34382], old=null
2019-09-24 16:57:26,746 INFO  impl.LeaderElection (LeaderElection.java:askForVotes(178)) - s1@group-09A0EF6A68F4-LeaderElection79: begin an election at term 30 for -1: [s0:0.0.0.0:42611, s1:0.0.0.0:39575, s2:0.0.0.0:34382], old=null
2019-09-24 16:57:26,748 DEBUG impl.RaftServerImpl (RaftServerImpl.java:requestVote(743)) - s0@group-09A0EF6A68F4: receive requestVote(s2, group-09A0EF6A68F4, 30, (t:0, i:0))
2019-09-24 16:57:26,748 DEBUG impl.RaftServerImpl (RaftServerImpl.java:requestVote(743)) - s0@group-09A0EF6A68F4: receive requestVote(s1, group-09A0EF6A68F4, 30, (t:0, i:0))
2019-09-24 16:57:26,748 DEBUG impl.RaftServerImpl (RaftServerImpl.java:requestVote(743)) - s1@group-09A0EF6A68F4: receive requestVote(s0, group-09A0EF6A68F4, 30, (t:0, i:0))
2019-09-24 16:57:26,748 DEBUG impl.RaftServerImpl (RaftServerImpl.java:requestVote(743)) - s2@group-09A0EF6A68F4: receive requestVote(s0, group-09A0EF6A68F4, 30, (t:0, i:0))
2019-09-24 16:57:26,748 DEBUG impl.RaftServerImpl (RaftServerImpl.java:requestVote(743)) - s1@group-09A0EF6A68F4: receive requestVote(s2, group-09A0EF6A68F4, 30, (t:0, i:0))
2019-09-24 16:57:26,748 DEBUG impl.RaftServerImpl (RaftServerImpl.java:requestVote(775)) - s0@group-09A0EF6A68F4 replies to vote request: s2<-s0#0:FAIL-t30. Peer's state: s0@group-09A0EF6A68F4:t30, leader=null, voted=s0, raftlog=s0@group-09A0EF6A68F4-SegmentedRaftLog:OPENED:c-1,f-1,i0, conf=-1: [s0:0.0.0.0:42611, s1:0.0.0.0:39575, s2:0.0.0.0:34382], old=null
2019-09-24 16:57:26,749 DEBUG impl.RaftServerImpl (RaftServerImpl.java:requestVote(775)) - s2@group-09A0EF6A68F4 replies to vote request: s0<-s2#0:FAIL-t30. Peer's state: s2@group-09A0EF6A68F4:t30, leader=null, voted=s2, raftlog=s2@group-09A0EF6A68F4-SegmentedRaftLog:OPENED:c-1,f-1,i0, conf=-1: [s0:0.0.0.0:42611, s1:0.0.0.0:39575, s2:0.0.0.0:34382], old=null
2019-09-24 16:57:26,749 DEBUG impl.RaftServerImpl (RaftServerImpl.java:requestVote(743)) - s2@group-09A0EF6A68F4: receive requestVote(s1, group-09A0EF6A68F4, 30, (t:0, i:0))
2019-09-24 16:57:26,749 DEBUG impl.RaftServerImpl (RaftServerImpl.java:requestVote(775)) - s1@group-09A0EF6A68F4 replies to vote request: s0<-s1#0:FAIL-t30. Peer's state: s1@group-09A0EF6A68F4:t30, leader=null, voted=s1, raftlog=s1@group-09A0EF6A68F4-SegmentedRaftLog:OPENED:c-1,f-1,i0, conf=-1: [s0:0.0.0.0:42611, s1:0.0.0.0:39575, s2:0.0.0.0:34382], old=null
2019-09-24 16:57:26,749 DEBUG impl.RaftServerImpl (RaftServerImpl.java:requestVote(775)) - s2@group-09A0EF6A68F4 replies to vote request: s1<-s2#0:FAIL-t30. Peer's state: s2@group-09A0EF6A68F4:t30, leader=null, voted=s2, raftlog=s2@group-09A0EF6A68F4-SegmentedRaftLog:OPENED:c-1,f-1,i0, conf=-1: [s0:0.0.0.0:42611, s1:0.0.0.0:39575, s2:0.0.0.0:34382], old=null
2019-09-24 16:57:26,749 DEBUG impl.RaftServerImpl (RaftServerImpl.java:requestVote(775)) - s0@group-09A0EF6A68F4 replies to vote request: s1<-s0#0:FAIL-t30. Peer's state: s0@group-09A0EF6A68F4:t30, leader=null, voted=s0, raftlog=s0@group-09A0EF6A68F4-SegmentedRaftLog:OPENED:c-1,f-1,i0, conf=-1: [s0:0.0.0.0:42611, s1:0.0.0.0:39575, s2:0.0.0.0:34382], old=null
2019-09-24 16:57:26,750 INFO  impl.LeaderElection (LeaderElection.java:logAndReturn(56)) - s0@group-09A0EF6A68F4-LeaderElection80: Election REJECTED; received 2 response(s) [s0<-s1#0:FAIL-t30, s0<-s2#0:FAIL-t30] and 0 exception(s); s0@group-09A0EF6A68F4:t30, leader=null, voted=s0, raftlog=s0@group-09A0EF6A68F4-SegmentedRaftLog:OPENED:c-1,f-1,i0, conf=-1: [s0:0.0.0.0:42611, s1:0.0.0.0:39575, s2:0.0.0.0:34382], old=null
2019-09-24 16:57:26,750 DEBUG impl.RaftServerImpl (RaftServerImpl.java:requestVote(775)) - s1@group-09A0EF6A68F4 replies to vote request: s2<-s1#0:FAIL-t30. Peer's state: s1@group-09A0EF6A68F4:t30, leader=null, voted=s1, raftlog=s1@group-09A0EF6A68F4-SegmentedRaftLog:OPENED:c-1,f-1,i0, conf=-1: [s0:0.0.0.0:42611, s1:0.0.0.0:39575, s2:0.0.0.0:34382], old=null
2019-09-24 16:57:26,750 INFO  impl.RaftServerImpl (RaftServerImpl.java:setRole(170)) - s0@group-09A0EF6A68F4: changes role from CANDIDATE to FOLLOWER at term 30 for DISCOVERED_A_NEW_TERM
2019-09-24 16:57:26,750 INFO  impl.LeaderElection (LeaderElection.java:logAndReturn(56)) - s1@group-09A0EF6A68F4-LeaderElection79: Election REJECTED; received 2 response(s) [s1<-s0#0:FAIL-t30, s1<-s2#0:FAIL-t30] and 0 exception(s); s1@group-09A0EF6A68F4:t30, leader=null, voted=s1, raftlog=s1@group-09A0EF6A68F4-SegmentedRaftLog:OPENED:c-1,f-1,i0, conf=-1: [s0:0.0.0.0:42611, s1:0.0.0.0:39575, s2:0.0.0.0:34382], old=null
2019-09-24 16:57:26,751 INFO  impl.LeaderElection (LeaderElection.java:logAndReturn(56)) - s2@group-09A0EF6A68F4-LeaderElection81: Election REJECTED; received 2 response(s) [s2<-s0#0:FAIL-t30, s2<-s1#0:FAIL-t30] and 0 exception(s); s2@group-09A0EF6A68F4:t30, leader=null, voted=s2, raftlog=s2@group-09A0EF6A68F4-SegmentedRaftLog:OPENED:c-1,f-1,i0, conf=-1: [s0:0.0.0.0:42611, s1:0.0.0.0:39575, s2:0.0.0.0:34382], old=null
2019-09-24 16:57:26,751 INFO  impl.RoleInfo (RoleInfo.java:shutdownLeaderElection(134)) - s0: shutdown LeaderElection
2019-09-24 16:57:26,751 INFO  impl.RaftServerImpl (RaftServerImpl.java:setRole(170)) - s2@group-09A0EF6A68F4: changes role from CANDIDATE to FOLLOWER at term 30 for DISCOVERED_A_NEW_TERM
2019-09-24 16:57:26,751 INFO  impl.RaftServerImpl (RaftServerImpl.java:setRole(170)) - s1@group-09A0EF6A68F4: changes role from CANDIDATE to FOLLOWER at term 30 for DISCOVERED_A_NEW_TERM
2019-09-24 16:57:26,751 INFO  impl.RoleInfo (RoleInfo.java:shutdownLeaderElection(134)) - s2: shutdown LeaderElection
2019-09-24 16:57:26,751 INFO  impl.RoleInfo (RoleInfo.java:updateAndGet(143)) - s0: start FollowerState
2019-09-24 16:57:26,752 INFO  impl.RoleInfo (RoleInfo.java:updateAndGet(143)) - s2: start FollowerState
2019-09-24 16:57:26,751 INFO  impl.RoleInfo (RoleInfo.java:shutdownLeaderElection(134)) - s1: shutdown LeaderElection
2019-09-24 16:57:26,752 INFO  impl.RoleInfo (RoleInfo.java:updateAndGet(143)) - s1: start FollowerState
2019-09-24 16:57:26,844 WARN  ratis.RaftTestUtil (JavaUtils.java:attempt(158)) - FAILED "waitForLeader-null-(expectLeader? true)", attempt #38/100: java.lang.IllegalStateException: No leader yet : printing ALL groups
  s0:  RUNNING  FOLLOWER s0@group-09A0EF6A68F4:t30, leader=null, voted=s0, raftlog=s0@group-09A0EF6A68F4-SegmentedRaftLog:OPENED:c-1,f-1,i0, conf=-1: [s0:0.0.0.0:42611, s1:0.0.0.0:39575, s2:0.0.0.0:34382], old=null RUNNING
  s1:  RUNNING  FOLLOWER s1@group-09A0EF6A68F4:t30, leader=null, voted=s1, raftlog=s1@group-09A0EF6A68F4-SegmentedRaftLog:OPENED:c-1,f-1,i0, conf=-1: [s0:0.0.0.0:42611, s1:0.0.0.0:39575, s2:0.0.0.0:34382], old=null RUNNING
  s2:  RUNNING  FOLLOWER s2@group-09A0EF6A68F4:t30, leader=null, voted=s2, raftlog=s2@group-09A0EF6A68F4-SegmentedRaftLog:OPENED:c-1,f-1,i0, conf=-1: [s0:0.0.0.0:42611, s1:0.0.0.0:39575, s2:0.0.0.0:34382], old=null RUNNING, sleep 450ms and then retry.
java.lang.IllegalStateException: No leader yet : printing ALL groups
  s0:  RUNNING  FOLLOWER s0@group-09A0EF6A68F4:t30, leader=null, voted=s0, raftlog=s0@group-09A0EF6A68F4-SegmentedRaftLog:OPENED:c-1,f-1,i0, conf=-1: [s0:0.0.0.0:42611, s1:0.0.0.0:39575, s2:0.0.0.0:34382], old=null RUNNING
  s1:  RUNNING  FOLLOWER s1@group-09A0EF6A68F4:t30, leader=null, voted=s1, raftlog=s1@group-09A0EF6A68F4-SegmentedRaftLog:OPENED:c-1,f-1,i0, conf=-1: [s0:0.0.0.0:42611, s1:0.0.0.0:39575, s2:0.0.0.0:34382], old=null RUNNING
  s2:  RUNNING  FOLLOWER s2@group-09A0EF6A68F4:t30, leader=null, voted=s2, raftlog=s2@group-09A0EF6A68F4-SegmentedRaftLog:OPENED:c-1,f-1,i0, conf=-1: [s0:0.0.0.0:42611, s1:0.0.0.0:39575, s2:0.0.0.0:34382], old=null RUNNING
	at org.apache.ratis.MiniRaftCluster.newIllegalStateExceptionForNoLeaders(MiniRaftCluster.java:506)
	at org.apache.ratis.RaftTestUtil.lambda$waitForLeader$1(RaftTestUtil.java:90)
	at org.apache.ratis.MiniRaftCluster.getLeader(MiniRaftCluster.java:539)
	at org.apache.ratis.MiniRaftCluster.getLeader(MiniRaftCluster.java:532)
	at org.apache.ratis.RaftTestUtil.lambda$waitForLeader$3(RaftTestUtil.java:98)
	at org.apache.ratis.util.JavaUtils.attempt(JavaUtils.java:152)
	at org.apache.ratis.RaftTestUtil.waitForLeader(RaftTestUtil.java:97)
	at org.apache.ratis.RaftTestUtil.waitForLeader(RaftTestUtil.java:77)
	at org.apache.ratis.RaftTestUtil.waitForLeader(RaftTestUtil.java:72)
	at org.apache.ratis.server.impl.RaftStateMachineExceptionTests.runTestRetryOnExceptionDuringReplication(RaftStateMachineExceptionTests.java:149)
	at org.apache.ratis.MiniRaftCluster$Factory$Get.runWithNewCluster(MiniRaftCluster.java:125)
	at org.apache.ratis.MiniRaftCluster$Factory$Get.runWithNewCluster(MiniRaftCluster.java:113)
	at org.apache.ratis.server.impl.RaftStateMachineExceptionTests.testRetryOnExceptionDuringReplication(RaftStateMachineExceptionTests.java:145)
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.lang.reflect.Method.invoke(Method.java:498)
	at org.junit.runners.model.FrameworkMethod$1.runReflectiveCall(FrameworkMethod.java:50)
	at org.junit.internal.runners.model.ReflectiveCallable.run(ReflectiveCallable.java:12)
	at org.junit.runners.model.FrameworkMethod.invokeExplosively(FrameworkMethod.java:47)
	at org.junit.internal.runners.statements.InvokeMethod.evaluate(InvokeMethod.java:17)
	at org.junit.internal.runners.statements.RunAfters.evaluate(RunAfters.java:27)
	at org.junit.internal.runners.statements.FailOnTimeout$CallableStatement.call(FailOnTimeout.java:298)
	at org.junit.internal.runners.statements.FailOnTimeout$CallableStatement.call(FailOnTimeout.java:292)
	at java.util.concurrent.FutureTask.run(FutureTask.java:266)
	at java.lang.Thread.run(Thread.java:748)
2019-09-24 16:57:26,926 INFO  impl.FollowerState (FollowerState.java:run(108)) - s1@group-09A0EF6A68F4-FollowerState: change to CANDIDATE, lastRpcTime:173ms, electionTimeout:173ms
2019-09-24 16:57:26,926 INFO  impl.RoleInfo (RoleInfo.java:shutdownFollowerState(121)) - s1: shutdown FollowerState
2019-09-24 16:57:26,926 INFO  impl.RaftServerImpl (RaftServerImpl.java:setRole(170)) - s1@group-09A0EF6A68F4: changes role from  FOLLOWER to CANDIDATE at term 30 for changeToCandidate
2019-09-24 16:57:26,926 INFO  impl.FollowerState (FollowerState.java:run(108)) - s2@group-09A0EF6A68F4-FollowerState: change to CANDIDATE, lastRpcTime:174ms, electionTimeout:174ms
2019-09-24 16:57:26,926 INFO  impl.RoleInfo (RoleInfo.java:updateAndGet(143)) - s1: start LeaderElection
2019-09-24 16:57:26,927 INFO  impl.RoleInfo (RoleInfo.java:shutdownFollowerState(121)) - s2: shutdown FollowerState
2019-09-24 16:57:26,927 INFO  impl.RaftServerImpl (RaftServerImpl.java:setRole(170)) - s2@group-09A0EF6A68F4: changes role from  FOLLOWER to CANDIDATE at term 30 for changeToCandidate
2019-09-24 16:57:26,927 INFO  impl.RoleInfo (RoleInfo.java:updateAndGet(143)) - s2: start LeaderElection
2019-09-24 16:57:26,982 INFO  impl.FollowerState (FollowerState.java:run(108)) - s0@group-09A0EF6A68F4-FollowerState: change to CANDIDATE, lastRpcTime:231ms, electionTimeout:230ms
2019-09-24 16:57:26,982 INFO  impl.RoleInfo (RoleInfo.java:shutdownFollowerState(121)) - s0: shutdown FollowerState
2019-09-24 16:57:26,983 INFO  impl.RaftServerImpl (RaftServerImpl.java:setRole(170)) - s0@group-09A0EF6A68F4: changes role from  FOLLOWER to CANDIDATE at term 30 for changeToCandidate
2019-09-24 16:57:26,983 INFO  impl.RoleInfo (RoleInfo.java:updateAndGet(143)) - s0: start LeaderElection
2019-09-24 16:57:27,238 INFO  impl.LeaderElection (LeaderElection.java:askForVotes(178)) - s1@group-09A0EF6A68F4-LeaderElection82: begin an election at term 31 for -1: [s0:0.0.0.0:42611, s1:0.0.0.0:39575, s2:0.0.0.0:34382], old=null
2019-09-24 16:57:27,238 INFO  impl.LeaderElection (LeaderElection.java:askForVotes(178)) - s2@group-09A0EF6A68F4-LeaderElection83: begin an election at term 31 for -1: [s0:0.0.0.0:42611, s1:0.0.0.0:39575, s2:0.0.0.0:34382], old=null
2019-09-24 16:57:27,239 INFO  impl.LeaderElection (LeaderElection.java:askForVotes(178)) - s0@group-09A0EF6A68F4-LeaderElection84: begin an election at term 31 for -1: [s0:0.0.0.0:42611, s1:0.0.0.0:39575, s2:0.0.0.0:34382], old=null
2019-09-24 16:57:27,240 DEBUG impl.RaftServerImpl (RaftServerImpl.java:requestVote(743)) - s0@group-09A0EF6A68F4: receive requestVote(s2, group-09A0EF6A68F4, 31, (t:0, i:0))
2019-09-24 16:57:27,240 DEBUG impl.RaftServerImpl (RaftServerImpl.java:requestVote(743)) - s1@group-09A0EF6A68F4: receive requestVote(s0, group-09A0EF6A68F4, 31, (t:0, i:0))
2019-09-24 16:57:27,240 DEBUG impl.RaftServerImpl (RaftServerImpl.java:requestVote(743)) - s2@group-09A0EF6A68F4: receive requestVote(s1, group-09A0EF6A68F4, 31, (t:0, i:0))
2019-09-24 16:57:27,240 DEBUG impl.RaftServerImpl (RaftServerImpl.java:requestVote(743)) - s2@group-09A0EF6A68F4: receive requestVote(s0, group-09A0EF6A68F4, 31, (t:0, i:0))
2019-09-24 16:57:27,240 DEBUG impl.RaftServerImpl (RaftServerImpl.java:requestVote(743)) - s0@group-09A0EF6A68F4: receive requestVote(s1, group-09A0EF6A68F4, 31, (t:0, i:0))
2019-09-24 16:57:27,240 DEBUG impl.RaftServerImpl (RaftServerImpl.java:requestVote(775)) - s2@group-09A0EF6A68F4 replies to vote request: s1<-s2#0:FAIL-t31. Peer's state: s2@group-09A0EF6A68F4:t31, leader=null, voted=s2, raftlog=s2@group-09A0EF6A68F4-SegmentedRaftLog:OPENED:c-1,f-1,i0, conf=-1: [s0:0.0.0.0:42611, s1:0.0.0.0:39575, s2:0.0.0.0:34382], old=null
2019-09-24 16:57:27,240 DEBUG impl.RaftServerImpl (RaftServerImpl.java:requestVote(775)) - s1@group-09A0EF6A68F4 replies to vote request: s0<-s1#0:FAIL-t31. Peer's state: s1@group-09A0EF6A68F4:t31, leader=null, voted=s1, raftlog=s1@group-09A0EF6A68F4-SegmentedRaftLog:OPENED:c-1,f-1,i0, conf=-1: [s0:0.0.0.0:42611, s1:0.0.0.0:39575, s2:0.0.0.0:34382], old=null
2019-09-24 16:57:27,240 DEBUG impl.RaftServerImpl (RaftServerImpl.java:requestVote(775)) - s0@group-09A0EF6A68F4 replies to vote request: s2<-s0#0:FAIL-t31. Peer's state: s0@group-09A0EF6A68F4:t31, leader=null, voted=s0, raftlog=s0@group-09A0EF6A68F4-SegmentedRaftLog:OPENED:c-1,f-1,i0, conf=-1: [s0:0.0.0.0:42611, s1:0.0.0.0:39575, s2:0.0.0.0:34382], old=null
2019-09-24 16:57:27,240 DEBUG impl.RaftServerImpl (RaftServerImpl.java:requestVote(743)) - s1@group-09A0EF6A68F4: receive requestVote(s2, group-09A0EF6A68F4, 31, (t:0, i:0))
2019-09-24 16:57:27,241 DEBUG impl.RaftServerImpl (RaftServerImpl.java:requestVote(775)) - s2@group-09A0EF6A68F4 replies to vote request: s0<-s2#0:FAIL-t31. Peer's state: s2@group-09A0EF6A68F4:t31, leader=null, voted=s2, raftlog=s2@group-09A0EF6A68F4-SegmentedRaftLog:OPENED:c-1,f-1,i0, conf=-1: [s0:0.0.0.0:42611, s1:0.0.0.0:39575, s2:0.0.0.0:34382], old=null
2019-09-24 16:57:27,241 DEBUG impl.RaftServerImpl (RaftServerImpl.java:requestVote(775)) - s0@group-09A0EF6A68F4 replies to vote request: s1<-s0#0:FAIL-t31. Peer's state: s0@group-09A0EF6A68F4:t31, leader=null, voted=s0, raftlog=s0@group-09A0EF6A68F4-SegmentedRaftLog:OPENED:c-1,f-1,i0, conf=-1: [s0:0.0.0.0:42611, s1:0.0.0.0:39575, s2:0.0.0.0:34382], old=null
2019-09-24 16:57:27,241 DEBUG impl.RaftServerImpl (RaftServerImpl.java:requestVote(775)) - s1@group-09A0EF6A68F4 replies to vote request: s2<-s1#0:FAIL-t31. Peer's state: s1@group-09A0EF6A68F4:t31, leader=null, voted=s1, raftlog=s1@group-09A0EF6A68F4-SegmentedRaftLog:OPENED:c-1,f-1,i0, conf=-1: [s0:0.0.0.0:42611, s1:0.0.0.0:39575, s2:0.0.0.0:34382], old=null
2019-09-24 16:57:27,242 INFO  impl.LeaderElection (LeaderElection.java:logAndReturn(56)) - s0@group-09A0EF6A68F4-LeaderElection84: Election REJECTED; received 2 response(s) [s0<-s1#0:FAIL-t31, s0<-s2#0:FAIL-t31] and 0 exception(s); s0@group-09A0EF6A68F4:t31, leader=null, voted=s0, raftlog=s0@group-09A0EF6A68F4-SegmentedRaftLog:OPENED:c-1,f-1,i0, conf=-1: [s0:0.0.0.0:42611, s1:0.0.0.0:39575, s2:0.0.0.0:34382], old=null
2019-09-24 16:57:27,242 INFO  impl.LeaderElection (LeaderElection.java:logAndReturn(56)) - s1@group-09A0EF6A68F4-LeaderElection82: Election REJECTED; received 2 response(s) [s1<-s0#0:FAIL-t31, s1<-s2#0:FAIL-t31] and 0 exception(s); s1@group-09A0EF6A68F4:t31, leader=null, voted=s1, raftlog=s1@group-09A0EF6A68F4-SegmentedRaftLog:OPENED:c-1,f-1,i0, conf=-1: [s0:0.0.0.0:42611, s1:0.0.0.0:39575, s2:0.0.0.0:34382], old=null
2019-09-24 16:57:27,242 INFO  impl.RaftServerImpl (RaftServerImpl.java:setRole(170)) - s0@group-09A0EF6A68F4: changes role from CANDIDATE to FOLLOWER at term 31 for DISCOVERED_A_NEW_TERM
2019-09-24 16:57:27,242 INFO  impl.RaftServerImpl (RaftServerImpl.java:setRole(170)) - s1@group-09A0EF6A68F4: changes role from CANDIDATE to FOLLOWER at term 31 for DISCOVERED_A_NEW_TERM
2019-09-24 16:57:27,242 INFO  impl.LeaderElection (LeaderElection.java:logAndReturn(56)) - s2@group-09A0EF6A68F4-LeaderElection83: Election REJECTED; received 2 response(s) [s2<-s0#0:FAIL-t31, s2<-s1#0:FAIL-t31] and 0 exception(s); s2@group-09A0EF6A68F4:t31, leader=null, voted=s2, raftlog=s2@group-09A0EF6A68F4-SegmentedRaftLog:OPENED:c-1,f-1,i0, conf=-1: [s0:0.0.0.0:42611, s1:0.0.0.0:39575, s2:0.0.0.0:34382], old=null
2019-09-24 16:57:27,242 INFO  impl.RoleInfo (RoleInfo.java:shutdownLeaderElection(134)) - s1: shutdown LeaderElection
2019-09-24 16:57:27,242 INFO  impl.RoleInfo (RoleInfo.java:shutdownLeaderElection(134)) - s0: shutdown LeaderElection
2019-09-24 16:57:27,243 INFO  impl.RoleInfo (RoleInfo.java:updateAndGet(143)) - s1: start FollowerState
2019-09-24 16:57:27,243 INFO  impl.RaftServerImpl (RaftServerImpl.java:setRole(170)) - s2@group-09A0EF6A68F4: changes role from CANDIDATE to FOLLOWER at term 31 for DISCOVERED_A_NEW_TERM
2019-09-24 16:57:27,243 INFO  impl.RoleInfo (RoleInfo.java:updateAndGet(143)) - s0: start FollowerState
2019-09-24 16:57:27,243 INFO  impl.RoleInfo (RoleInfo.java:shutdownLeaderElection(134)) - s2: shutdown LeaderElection
2019-09-24 16:57:27,243 INFO  impl.RoleInfo (RoleInfo.java:updateAndGet(143)) - s2: start FollowerState
2019-09-24 16:57:27,295 WARN  ratis.RaftTestUtil (JavaUtils.java:attempt(158)) - FAILED "waitForLeader-null-(expectLeader? true)", attempt #39/100: java.lang.IllegalStateException: No leader yet : printing ALL groups
  s0:  RUNNING  FOLLOWER s0@group-09A0EF6A68F4:t31, leader=null, voted=s0, raftlog=s0@group-09A0EF6A68F4-SegmentedRaftLog:OPENED:c-1,f-1,i0, conf=-1: [s0:0.0.0.0:42611, s1:0.0.0.0:39575, s2:0.0.0.0:34382], old=null RUNNING
  s1:  RUNNING  FOLLOWER s1@group-09A0EF6A68F4:t31, leader=null, voted=s1, raftlog=s1@group-09A0EF6A68F4-SegmentedRaftLog:OPENED:c-1,f-1,i0, conf=-1: [s0:0.0.0.0:42611, s1:0.0.0.0:39575, s2:0.0.0.0:34382], old=null RUNNING
  s2:  RUNNING  FOLLOWER s2@group-09A0EF6A68F4:t31, leader=null, voted=s2, raftlog=s2@group-09A0EF6A68F4-SegmentedRaftLog:OPENED:c-1,f-1,i0, conf=-1: [s0:0.0.0.0:42611, s1:0.0.0.0:39575, s2:0.0.0.0:34382], old=null RUNNING, sleep 450ms and then retry.
java.lang.IllegalStateException: No leader yet : printing ALL groups
  s0:  RUNNING  FOLLOWER s0@group-09A0EF6A68F4:t31, leader=null, voted=s0, raftlog=s0@group-09A0EF6A68F4-SegmentedRaftLog:OPENED:c-1,f-1,i0, conf=-1: [s0:0.0.0.0:42611, s1:0.0.0.0:39575, s2:0.0.0.0:34382], old=null RUNNING
  s1:  RUNNING  FOLLOWER s1@group-09A0EF6A68F4:t31, leader=null, voted=s1, raftlog=s1@group-09A0EF6A68F4-SegmentedRaftLog:OPENED:c-1,f-1,i0, conf=-1: [s0:0.0.0.0:42611, s1:0.0.0.0:39575, s2:0.0.0.0:34382], old=null RUNNING
  s2:  RUNNING  FOLLOWER s2@group-09A0EF6A68F4:t31, leader=null, voted=s2, raftlog=s2@group-09A0EF6A68F4-SegmentedRaftLog:OPENED:c-1,f-1,i0, conf=-1: [s0:0.0.0.0:42611, s1:0.0.0.0:39575, s2:0.0.0.0:34382], old=null RUNNING
	at org.apache.ratis.MiniRaftCluster.newIllegalStateExceptionForNoLeaders(MiniRaftCluster.java:506)
	at org.apache.ratis.RaftTestUtil.lambda$waitForLeader$1(RaftTestUtil.java:90)
	at org.apache.ratis.MiniRaftCluster.getLeader(MiniRaftCluster.java:539)
	at org.apache.ratis.MiniRaftCluster.getLeader(MiniRaftCluster.java:532)
	at org.apache.ratis.RaftTestUtil.lambda$waitForLeader$3(RaftTestUtil.java:98)
	at org.apache.ratis.util.JavaUtils.attempt(JavaUtils.java:152)
	at org.apache.ratis.RaftTestUtil.waitForLeader(RaftTestUtil.java:97)
	at org.apache.ratis.RaftTestUtil.waitForLeader(RaftTestUtil.java:77)
	at org.apache.ratis.RaftTestUtil.waitForLeader(RaftTestUtil.java:72)
	at org.apache.ratis.server.impl.RaftStateMachineExceptionTests.runTestRetryOnExceptionDuringReplication(RaftStateMachineExceptionTests.java:149)
	at org.apache.ratis.MiniRaftCluster$Factory$Get.runWithNewCluster(MiniRaftCluster.java:125)
	at org.apache.ratis.MiniRaftCluster$Factory$Get.runWithNewCluster(MiniRaftCluster.java:113)
	at org.apache.ratis.server.impl.RaftStateMachineExceptionTests.testRetryOnExceptionDuringReplication(RaftStateMachineExceptionTests.java:145)
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.lang.reflect.Method.invoke(Method.java:498)
	at org.junit.runners.model.FrameworkMethod$1.runReflectiveCall(FrameworkMethod.java:50)
	at org.junit.internal.runners.model.ReflectiveCallable.run(ReflectiveCallable.java:12)
	at org.junit.runners.model.FrameworkMethod.invokeExplosively(FrameworkMethod.java:47)
	at org.junit.internal.runners.statements.InvokeMethod.evaluate(InvokeMethod.java:17)
	at org.junit.internal.runners.statements.RunAfters.evaluate(RunAfters.java:27)
	at org.junit.internal.runners.statements.FailOnTimeout$CallableStatement.call(FailOnTimeout.java:298)
	at org.junit.internal.runners.statements.FailOnTimeout$CallableStatement.call(FailOnTimeout.java:292)
	at java.util.concurrent.FutureTask.run(FutureTask.java:266)
	at java.lang.Thread.run(Thread.java:748)
2019-09-24 16:57:27,480 INFO  impl.FollowerState (FollowerState.java:run(108)) - s0@group-09A0EF6A68F4-FollowerState: change to CANDIDATE, lastRpcTime:236ms, electionTimeout:236ms
2019-09-24 16:57:27,480 INFO  impl.RoleInfo (RoleInfo.java:shutdownFollowerState(121)) - s0: shutdown FollowerState
2019-09-24 16:57:27,480 INFO  impl.RaftServerImpl (RaftServerImpl.java:setRole(170)) - s0@group-09A0EF6A68F4: changes role from  FOLLOWER to CANDIDATE at term 31 for changeToCandidate
2019-09-24 16:57:27,480 INFO  impl.RoleInfo (RoleInfo.java:updateAndGet(143)) - s0: start LeaderElection
2019-09-24 16:57:27,489 INFO  impl.FollowerState (FollowerState.java:run(108)) - s1@group-09A0EF6A68F4-FollowerState: change to CANDIDATE, lastRpcTime:246ms, electionTimeout:246ms
2019-09-24 16:57:27,491 INFO  impl.RoleInfo (RoleInfo.java:shutdownFollowerState(121)) - s1: shutdown FollowerState
2019-09-24 16:57:27,491 INFO  impl.RaftServerImpl (RaftServerImpl.java:setRole(170)) - s1@group-09A0EF6A68F4: changes role from  FOLLOWER to CANDIDATE at term 31 for changeToCandidate
2019-09-24 16:57:27,491 INFO  impl.RoleInfo (RoleInfo.java:updateAndGet(143)) - s1: start LeaderElection
2019-09-24 16:57:27,512 INFO  impl.FollowerState (FollowerState.java:run(108)) - s2@group-09A0EF6A68F4-FollowerState: change to CANDIDATE, lastRpcTime:268ms, electionTimeout:268ms
2019-09-24 16:57:27,512 INFO  impl.RoleInfo (RoleInfo.java:shutdownFollowerState(121)) - s2: shutdown FollowerState
2019-09-24 16:57:27,512 INFO  impl.RaftServerImpl (RaftServerImpl.java:setRole(170)) - s2@group-09A0EF6A68F4: changes role from  FOLLOWER to CANDIDATE at term 31 for changeToCandidate
2019-09-24 16:57:27,512 INFO  impl.RoleInfo (RoleInfo.java:updateAndGet(143)) - s2: start LeaderElection
2019-09-24 16:57:27,677 INFO  impl.LeaderElection (LeaderElection.java:askForVotes(178)) - s2@group-09A0EF6A68F4-LeaderElection87: begin an election at term 32 for -1: [s0:0.0.0.0:42611, s1:0.0.0.0:39575, s2:0.0.0.0:34382], old=null
2019-09-24 16:57:27,677 INFO  impl.LeaderElection (LeaderElection.java:askForVotes(178)) - s0@group-09A0EF6A68F4-LeaderElection85: begin an election at term 32 for -1: [s0:0.0.0.0:42611, s1:0.0.0.0:39575, s2:0.0.0.0:34382], old=null
2019-09-24 16:57:27,677 INFO  impl.LeaderElection (LeaderElection.java:askForVotes(178)) - s1@group-09A0EF6A68F4-LeaderElection86: begin an election at term 32 for -1: [s0:0.0.0.0:42611, s1:0.0.0.0:39575, s2:0.0.0.0:34382], old=null
2019-09-24 16:57:27,678 DEBUG impl.RaftServerImpl (RaftServerImpl.java:requestVote(743)) - s0@group-09A0EF6A68F4: receive requestVote(s2, group-09A0EF6A68F4, 32, (t:0, i:0))
2019-09-24 16:57:27,678 DEBUG impl.RaftServerImpl (RaftServerImpl.java:requestVote(743)) - s1@group-09A0EF6A68F4: receive requestVote(s0, group-09A0EF6A68F4, 32, (t:0, i:0))
2019-09-24 16:57:27,678 DEBUG impl.RaftServerImpl (RaftServerImpl.java:requestVote(743)) - s0@group-09A0EF6A68F4: receive requestVote(s1, group-09A0EF6A68F4, 32, (t:0, i:0))
2019-09-24 16:57:27,678 DEBUG impl.RaftServerImpl (RaftServerImpl.java:requestVote(743)) - s1@group-09A0EF6A68F4: receive requestVote(s2, group-09A0EF6A68F4, 32, (t:0, i:0))
2019-09-24 16:57:27,678 DEBUG impl.RaftServerImpl (RaftServerImpl.java:requestVote(775)) - s1@group-09A0EF6A68F4 replies to vote request: s0<-s1#0:FAIL-t32. Peer's state: s1@group-09A0EF6A68F4:t32, leader=null, voted=s1, raftlog=s1@group-09A0EF6A68F4-SegmentedRaftLog:OPENED:c-1,f-1,i0, conf=-1: [s0:0.0.0.0:42611, s1:0.0.0.0:39575, s2:0.0.0.0:34382], old=null
2019-09-24 16:57:27,678 DEBUG impl.RaftServerImpl (RaftServerImpl.java:requestVote(775)) - s0@group-09A0EF6A68F4 replies to vote request: s2<-s0#0:FAIL-t32. Peer's state: s0@group-09A0EF6A68F4:t32, leader=null, voted=s0, raftlog=s0@group-09A0EF6A68F4-SegmentedRaftLog:OPENED:c-1,f-1,i0, conf=-1: [s0:0.0.0.0:42611, s1:0.0.0.0:39575, s2:0.0.0.0:34382], old=null
2019-09-24 16:57:27,679 DEBUG impl.RaftServerImpl (RaftServerImpl.java:requestVote(775)) - s1@group-09A0EF6A68F4 replies to vote request: s2<-s1#0:FAIL-t32. Peer's state: s1@group-09A0EF6A68F4:t32, leader=null, voted=s1, raftlog=s1@group-09A0EF6A68F4-SegmentedRaftLog:OPENED:c-1,f-1,i0, conf=-1: [s0:0.0.0.0:42611, s1:0.0.0.0:39575, s2:0.0.0.0:34382], old=null
2019-09-24 16:57:27,679 DEBUG impl.RaftServerImpl (RaftServerImpl.java:requestVote(743)) - s2@group-09A0EF6A68F4: receive requestVote(s1, group-09A0EF6A68F4, 32, (t:0, i:0))
2019-09-24 16:57:27,679 INFO  impl.LeaderElection (LeaderElection.java:logAndReturn(56)) - s2@group-09A0EF6A68F4-LeaderElection87: Election REJECTED; received 2 response(s) [s2<-s0#0:FAIL-t32, s2<-s1#0:FAIL-t32] and 0 exception(s); s2@group-09A0EF6A68F4:t32, leader=null, voted=s2, raftlog=s2@group-09A0EF6A68F4-SegmentedRaftLog:OPENED:c-1,f-1,i0, conf=-1: [s0:0.0.0.0:42611, s1:0.0.0.0:39575, s2:0.0.0.0:34382], old=null
2019-09-24 16:57:27,679 DEBUG impl.RaftServerImpl (RaftServerImpl.java:requestVote(743)) - s2@group-09A0EF6A68F4: receive requestVote(s0, group-09A0EF6A68F4, 32, (t:0, i:0))
2019-09-24 16:57:27,679 DEBUG impl.RaftServerImpl (RaftServerImpl.java:requestVote(775)) - s2@group-09A0EF6A68F4 replies to vote request: s1<-s2#0:FAIL-t32. Peer's state: s2@group-09A0EF6A68F4:t32, leader=null, voted=s2, raftlog=s2@group-09A0EF6A68F4-SegmentedRaftLog:OPENED:c-1,f-1,i0, conf=-1: [s0:0.0.0.0:42611, s1:0.0.0.0:39575, s2:0.0.0.0:34382], old=null
2019-09-24 16:57:27,679 DEBUG impl.RaftServerImpl (RaftServerImpl.java:requestVote(775)) - s0@group-09A0EF6A68F4 replies to vote request: s1<-s0#0:FAIL-t32. Peer's state: s0@group-09A0EF6A68F4:t32, leader=null, voted=s0, raftlog=s0@group-09A0EF6A68F4-SegmentedRaftLog:OPENED:c-1,f-1,i0, conf=-1: [s0:0.0.0.0:42611, s1:0.0.0.0:39575, s2:0.0.0.0:34382], old=null
2019-09-24 16:57:27,680 DEBUG impl.RaftServerImpl (RaftServerImpl.java:requestVote(775)) - s2@group-09A0EF6A68F4 replies to vote request: s0<-s2#0:FAIL-t32. Peer's state: s2@group-09A0EF6A68F4:t32, leader=null, voted=s2, raftlog=s2@group-09A0EF6A68F4-SegmentedRaftLog:OPENED:c-1,f-1,i0, conf=-1: [s0:0.0.0.0:42611, s1:0.0.0.0:39575, s2:0.0.0.0:34382], old=null
2019-09-24 16:57:27,680 INFO  impl.LeaderElection (LeaderElection.java:logAndReturn(56)) - s1@group-09A0EF6A68F4-LeaderElection86: Election REJECTED; received 2 response(s) [s1<-s0#0:FAIL-t32, s1<-s2#0:FAIL-t32] and 0 exception(s); s1@group-09A0EF6A68F4:t32, leader=null, voted=s1, raftlog=s1@group-09A0EF6A68F4-SegmentedRaftLog:OPENED:c-1,f-1,i0, conf=-1: [s0:0.0.0.0:42611, s1:0.0.0.0:39575, s2:0.0.0.0:34382], old=null
2019-09-24 16:57:27,680 INFO  impl.RaftServerImpl (RaftServerImpl.java:setRole(170)) - s2@group-09A0EF6A68F4: changes role from CANDIDATE to FOLLOWER at term 32 for DISCOVERED_A_NEW_TERM
2019-09-24 16:57:27,680 INFO  impl.RaftServerImpl (RaftServerImpl.java:setRole(170)) - s1@group-09A0EF6A68F4: changes role from CANDIDATE to FOLLOWER at term 32 for DISCOVERED_A_NEW_TERM
2019-09-24 16:57:27,680 INFO  impl.LeaderElection (LeaderElection.java:logAndReturn(56)) - s0@group-09A0EF6A68F4-LeaderElection85: Election REJECTED; received 2 response(s) [s0<-s1#0:FAIL-t32, s0<-s2#0:FAIL-t32] and 0 exception(s); s0@group-09A0EF6A68F4:t32, leader=null, voted=s0, raftlog=s0@group-09A0EF6A68F4-SegmentedRaftLog:OPENED:c-1,f-1,i0, conf=-1: [s0:0.0.0.0:42611, s1:0.0.0.0:39575, s2:0.0.0.0:34382], old=null
2019-09-24 16:57:27,681 INFO  impl.RoleInfo (RoleInfo.java:shutdownLeaderElection(134)) - s1: shutdown LeaderElection
2019-09-24 16:57:27,681 INFO  impl.RoleInfo (RoleInfo.java:shutdownLeaderElection(134)) - s2: shutdown LeaderElection
2019-09-24 16:57:27,681 INFO  impl.RoleInfo (RoleInfo.java:updateAndGet(143)) - s1: start FollowerState
2019-09-24 16:57:27,681 INFO  impl.RaftServerImpl (RaftServerImpl.java:setRole(170)) - s0@group-09A0EF6A68F4: changes role from CANDIDATE to FOLLOWER at term 32 for DISCOVERED_A_NEW_TERM
2019-09-24 16:57:27,681 INFO  impl.RoleInfo (RoleInfo.java:updateAndGet(143)) - s2: start FollowerState
2019-09-24 16:57:27,682 INFO  impl.RoleInfo (RoleInfo.java:shutdownLeaderElection(134)) - s0: shutdown LeaderElection
2019-09-24 16:57:27,682 INFO  impl.RoleInfo (RoleInfo.java:updateAndGet(143)) - s0: start FollowerState
2019-09-24 16:57:27,747 WARN  ratis.RaftTestUtil (JavaUtils.java:attempt(158)) - FAILED "waitForLeader-null-(expectLeader? true)", attempt #40/100: java.lang.IllegalStateException: No leader yet : printing ALL groups
  s0:  RUNNING  FOLLOWER s0@group-09A0EF6A68F4:t32, leader=null, voted=s0, raftlog=s0@group-09A0EF6A68F4-SegmentedRaftLog:OPENED:c-1,f-1,i0, conf=-1: [s0:0.0.0.0:42611, s1:0.0.0.0:39575, s2:0.0.0.0:34382], old=null RUNNING
  s1:  RUNNING  FOLLOWER s1@group-09A0EF6A68F4:t32, leader=null, voted=s1, raftlog=s1@group-09A0EF6A68F4-SegmentedRaftLog:OPENED:c-1,f-1,i0, conf=-1: [s0:0.0.0.0:42611, s1:0.0.0.0:39575, s2:0.0.0.0:34382], old=null RUNNING
  s2:  RUNNING  FOLLOWER s2@group-09A0EF6A68F4:t32, leader=null, voted=s2, raftlog=s2@group-09A0EF6A68F4-SegmentedRaftLog:OPENED:c-1,f-1,i0, conf=-1: [s0:0.0.0.0:42611, s1:0.0.0.0:39575, s2:0.0.0.0:34382], old=null RUNNING, sleep 450ms and then retry.
java.lang.IllegalStateException: No leader yet : printing ALL groups
  s0:  RUNNING  FOLLOWER s0@group-09A0EF6A68F4:t32, leader=null, voted=s0, raftlog=s0@group-09A0EF6A68F4-SegmentedRaftLog:OPENED:c-1,f-1,i0, conf=-1: [s0:0.0.0.0:42611, s1:0.0.0.0:39575, s2:0.0.0.0:34382], old=null RUNNING
  s1:  RUNNING  FOLLOWER s1@group-09A0EF6A68F4:t32, leader=null, voted=s1, raftlog=s1@group-09A0EF6A68F4-SegmentedRaftLog:OPENED:c-1,f-1,i0, conf=-1: [s0:0.0.0.0:42611, s1:0.0.0.0:39575, s2:0.0.0.0:34382], old=null RUNNING
  s2:  RUNNING  FOLLOWER s2@group-09A0EF6A68F4:t32, leader=null, voted=s2, raftlog=s2@group-09A0EF6A68F4-SegmentedRaftLog:OPENED:c-1,f-1,i0, conf=-1: [s0:0.0.0.0:42611, s1:0.0.0.0:39575, s2:0.0.0.0:34382], old=null RUNNING
	at org.apache.ratis.MiniRaftCluster.newIllegalStateExceptionForNoLeaders(MiniRaftCluster.java:506)
	at org.apache.ratis.RaftTestUtil.lambda$waitForLeader$1(RaftTestUtil.java:90)
	at org.apache.ratis.MiniRaftCluster.getLeader(MiniRaftCluster.java:539)
	at org.apache.ratis.MiniRaftCluster.getLeader(MiniRaftCluster.java:532)
	at org.apache.ratis.RaftTestUtil.lambda$waitForLeader$3(RaftTestUtil.java:98)
	at org.apache.ratis.util.JavaUtils.attempt(JavaUtils.java:152)
	at org.apache.ratis.RaftTestUtil.waitForLeader(RaftTestUtil.java:97)
	at org.apache.ratis.RaftTestUtil.waitForLeader(RaftTestUtil.java:77)
	at org.apache.ratis.RaftTestUtil.waitForLeader(RaftTestUtil.java:72)
	at org.apache.ratis.server.impl.RaftStateMachineExceptionTests.runTestRetryOnExceptionDuringReplication(RaftStateMachineExceptionTests.java:149)
	at org.apache.ratis.MiniRaftCluster$Factory$Get.runWithNewCluster(MiniRaftCluster.java:125)
	at org.apache.ratis.MiniRaftCluster$Factory$Get.runWithNewCluster(MiniRaftCluster.java:113)
	at org.apache.ratis.server.impl.RaftStateMachineExceptionTests.testRetryOnExceptionDuringReplication(RaftStateMachineExceptionTests.java:145)
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.lang.reflect.Method.invoke(Method.java:498)
	at org.junit.runners.model.FrameworkMethod$1.runReflectiveCall(FrameworkMethod.java:50)
	at org.junit.internal.runners.model.ReflectiveCallable.run(ReflectiveCallable.java:12)
	at org.junit.runners.model.FrameworkMethod.invokeExplosively(FrameworkMethod.java:47)
	at org.junit.internal.runners.statements.InvokeMethod.evaluate(InvokeMethod.java:17)
	at org.junit.internal.runners.statements.RunAfters.evaluate(RunAfters.java:27)
	at org.junit.internal.runners.statements.FailOnTimeout$CallableStatement.call(FailOnTimeout.java:298)
	at org.junit.internal.runners.statements.FailOnTimeout$CallableStatement.call(FailOnTimeout.java:292)
	at java.util.concurrent.FutureTask.run(FutureTask.java:266)
	at java.lang.Thread.run(Thread.java:748)
2019-09-24 16:57:27,850 INFO  impl.FollowerState (FollowerState.java:run(108)) - s0@group-09A0EF6A68F4-FollowerState: change to CANDIDATE, lastRpcTime:167ms, electionTimeout:167ms
2019-09-24 16:57:27,850 INFO  impl.RoleInfo (RoleInfo.java:shutdownFollowerState(121)) - s0: shutdown FollowerState
2019-09-24 16:57:27,850 INFO  impl.RaftServerImpl (RaftServerImpl.java:setRole(170)) - s0@group-09A0EF6A68F4: changes role from  FOLLOWER to CANDIDATE at term 32 for changeToCandidate
2019-09-24 16:57:27,850 INFO  impl.RoleInfo (RoleInfo.java:updateAndGet(143)) - s0: start LeaderElection
2019-09-24 16:57:27,877 INFO  impl.FollowerState (FollowerState.java:run(108)) - s1@group-09A0EF6A68F4-FollowerState: change to CANDIDATE, lastRpcTime:195ms, electionTimeout:195ms
2019-09-24 16:57:27,877 INFO  impl.RoleInfo (RoleInfo.java:shutdownFollowerState(121)) - s1: shutdown FollowerState
2019-09-24 16:57:27,877 INFO  impl.RaftServerImpl (RaftServerImpl.java:setRole(170)) - s1@group-09A0EF6A68F4: changes role from  FOLLOWER to CANDIDATE at term 32 for changeToCandidate
2019-09-24 16:57:27,878 INFO  impl.RoleInfo (RoleInfo.java:updateAndGet(143)) - s1: start LeaderElection
2019-09-24 16:57:27,927 INFO  impl.FollowerState (FollowerState.java:run(108)) - s2@group-09A0EF6A68F4-FollowerState: change to CANDIDATE, lastRpcTime:245ms, electionTimeout:245ms
2019-09-24 16:57:27,928 INFO  impl.RoleInfo (RoleInfo.java:shutdownFollowerState(121)) - s2: shutdown FollowerState
2019-09-24 16:57:27,928 INFO  impl.RaftServerImpl (RaftServerImpl.java:setRole(170)) - s2@group-09A0EF6A68F4: changes role from  FOLLOWER to CANDIDATE at term 32 for changeToCandidate
2019-09-24 16:57:27,928 INFO  impl.RoleInfo (RoleInfo.java:updateAndGet(143)) - s2: start LeaderElection
2019-09-24 16:57:28,198 WARN  ratis.RaftTestUtil (JavaUtils.java:attempt(158)) - FAILED "waitForLeader-null-(expectLeader? true)", attempt #41/100: java.lang.IllegalStateException: No leader yet : printing ALL groups
  s0:  RUNNING CANDIDATE s0@group-09A0EF6A68F4:t33, leader=null, voted=s0, raftlog=s0@group-09A0EF6A68F4-SegmentedRaftLog:OPENED:c-1,f-1,i0, conf=-1: [s0:0.0.0.0:42611, s1:0.0.0.0:39575, s2:0.0.0.0:34382], old=null RUNNING
  s1:  RUNNING CANDIDATE s1@group-09A0EF6A68F4:t33, leader=null, voted=s1, raftlog=s1@group-09A0EF6A68F4-SegmentedRaftLog:OPENED:c-1,f-1,i0, conf=-1: [s0:0.0.0.0:42611, s1:0.0.0.0:39575, s2:0.0.0.0:34382], old=null RUNNING
  s2:  RUNNING CANDIDATE s2@group-09A0EF6A68F4:t33, leader=null, voted=s2, raftlog=s2@group-09A0EF6A68F4-SegmentedRaftLog:OPENED:c-1,f-1,i0, conf=-1: [s0:0.0.0.0:42611, s1:0.0.0.0:39575, s2:0.0.0.0:34382], old=null RUNNING, sleep 450ms and then retry.
java.lang.IllegalStateException: No leader yet : printing ALL groups
  s0:  RUNNING CANDIDATE s0@group-09A0EF6A68F4:t33, leader=null, voted=s0, raftlog=s0@group-09A0EF6A68F4-SegmentedRaftLog:OPENED:c-1,f-1,i0, conf=-1: [s0:0.0.0.0:42611, s1:0.0.0.0:39575, s2:0.0.0.0:34382], old=null RUNNING
  s1:  RUNNING CANDIDATE s1@group-09A0EF6A68F4:t33, leader=null, voted=s1, raftlog=s1@group-09A0EF6A68F4-SegmentedRaftLog:OPENED:c-1,f-1,i0, conf=-1: [s0:0.0.0.0:42611, s1:0.0.0.0:39575, s2:0.0.0.0:34382], old=null RUNNING
  s2:  RUNNING CANDIDATE s2@group-09A0EF6A68F4:t33, leader=null, voted=s2, raftlog=s2@group-09A0EF6A68F4-SegmentedRaftLog:OPENED:c-1,f-1,i0, conf=-1: [s0:0.0.0.0:42611, s1:0.0.0.0:39575, s2:0.0.0.0:34382], old=null RUNNING
	at org.apache.ratis.MiniRaftCluster.newIllegalStateExceptionForNoLeaders(MiniRaftCluster.java:506)
	at org.apache.ratis.RaftTestUtil.lambda$waitForLeader$1(RaftTestUtil.java:90)
	at org.apache.ratis.MiniRaftCluster.getLeader(MiniRaftCluster.java:539)
	at org.apache.ratis.MiniRaftCluster.getLeader(MiniRaftCluster.java:532)
	at org.apache.ratis.RaftTestUtil.lambda$waitForLeader$3(RaftTestUtil.java:98)
	at org.apache.ratis.util.JavaUtils.attempt(JavaUtils.java:152)
	at org.apache.ratis.RaftTestUtil.waitForLeader(RaftTestUtil.java:97)
	at org.apache.ratis.RaftTestUtil.waitForLeader(RaftTestUtil.java:77)
	at org.apache.ratis.RaftTestUtil.waitForLeader(RaftTestUtil.java:72)
	at org.apache.ratis.server.impl.RaftStateMachineExceptionTests.runTestRetryOnExceptionDuringReplication(RaftStateMachineExceptionTests.java:149)
	at org.apache.ratis.MiniRaftCluster$Factory$Get.runWithNewCluster(MiniRaftCluster.java:125)
	at org.apache.ratis.MiniRaftCluster$Factory$Get.runWithNewCluster(MiniRaftCluster.java:113)
	at org.apache.ratis.server.impl.RaftStateMachineExceptionTests.testRetryOnExceptionDuringReplication(RaftStateMachineExceptionTests.java:145)
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.lang.reflect.Method.invoke(Method.java:498)
	at org.junit.runners.model.FrameworkMethod$1.runReflectiveCall(FrameworkMethod.java:50)
	at org.junit.internal.runners.model.ReflectiveCallable.run(ReflectiveCallable.java:12)
	at org.junit.runners.model.FrameworkMethod.invokeExplosively(FrameworkMethod.java:47)
	at org.junit.internal.runners.statements.InvokeMethod.evaluate(InvokeMethod.java:17)
	at org.junit.internal.runners.statements.RunAfters.evaluate(RunAfters.java:27)
	at org.junit.internal.runners.statements.FailOnTimeout$CallableStatement.call(FailOnTimeout.java:298)
	at org.junit.internal.runners.statements.FailOnTimeout$CallableStatement.call(FailOnTimeout.java:292)
	at java.util.concurrent.FutureTask.run(FutureTask.java:266)
	at java.lang.Thread.run(Thread.java:748)
2019-09-24 16:57:28,303 INFO  impl.LeaderElection (LeaderElection.java:askForVotes(178)) - s2@group-09A0EF6A68F4-LeaderElection90: begin an election at term 33 for -1: [s0:0.0.0.0:42611, s1:0.0.0.0:39575, s2:0.0.0.0:34382], old=null
2019-09-24 16:57:28,303 INFO  impl.LeaderElection (LeaderElection.java:askForVotes(178)) - s1@group-09A0EF6A68F4-LeaderElection89: begin an election at term 33 for -1: [s0:0.0.0.0:42611, s1:0.0.0.0:39575, s2:0.0.0.0:34382], old=null
2019-09-24 16:57:28,303 INFO  impl.LeaderElection (LeaderElection.java:askForVotes(178)) - s0@group-09A0EF6A68F4-LeaderElection88: begin an election at term 33 for -1: [s0:0.0.0.0:42611, s1:0.0.0.0:39575, s2:0.0.0.0:34382], old=null
2019-09-24 16:57:28,304 DEBUG impl.RaftServerImpl (RaftServerImpl.java:requestVote(743)) - s0@group-09A0EF6A68F4: receive requestVote(s2, group-09A0EF6A68F4, 33, (t:0, i:0))
2019-09-24 16:57:28,304 DEBUG impl.RaftServerImpl (RaftServerImpl.java:requestVote(743)) - s1@group-09A0EF6A68F4: receive requestVote(s2, group-09A0EF6A68F4, 33, (t:0, i:0))
2019-09-24 16:57:28,304 DEBUG impl.RaftServerImpl (RaftServerImpl.java:requestVote(743)) - s1@group-09A0EF6A68F4: receive requestVote(s0, group-09A0EF6A68F4, 33, (t:0, i:0))
2019-09-24 16:57:28,304 DEBUG impl.RaftServerImpl (RaftServerImpl.java:requestVote(775)) - s0@group-09A0EF6A68F4 replies to vote request: s2<-s0#0:FAIL-t33. Peer's state: s0@group-09A0EF6A68F4:t33, leader=null, voted=s0, raftlog=s0@group-09A0EF6A68F4-SegmentedRaftLog:OPENED:c-1,f-1,i0, conf=-1: [s0:0.0.0.0:42611, s1:0.0.0.0:39575, s2:0.0.0.0:34382], old=null
2019-09-24 16:57:28,304 DEBUG impl.RaftServerImpl (RaftServerImpl.java:requestVote(743)) - s2@group-09A0EF6A68F4: receive requestVote(s0, group-09A0EF6A68F4, 33, (t:0, i:0))
2019-09-24 16:57:28,304 DEBUG impl.RaftServerImpl (RaftServerImpl.java:requestVote(775)) - s1@group-09A0EF6A68F4 replies to vote request: s2<-s1#0:FAIL-t33. Peer's state: s1@group-09A0EF6A68F4:t33, leader=null, voted=s1, raftlog=s1@group-09A0EF6A68F4-SegmentedRaftLog:OPENED:c-1,f-1,i0, conf=-1: [s0:0.0.0.0:42611, s1:0.0.0.0:39575, s2:0.0.0.0:34382], old=null
2019-09-24 16:57:28,304 DEBUG impl.RaftServerImpl (RaftServerImpl.java:requestVote(743)) - s0@group-09A0EF6A68F4: receive requestVote(s1, group-09A0EF6A68F4, 33, (t:0, i:0))
2019-09-24 16:57:28,305 INFO  impl.LeaderElection (LeaderElection.java:logAndReturn(56)) - s2@group-09A0EF6A68F4-LeaderElection90: Election REJECTED; received 2 response(s) [s2<-s0#0:FAIL-t33, s2<-s1#0:FAIL-t33] and 0 exception(s); s2@group-09A0EF6A68F4:t33, leader=null, voted=s2, raftlog=s2@group-09A0EF6A68F4-SegmentedRaftLog:OPENED:c-1,f-1,i0, conf=-1: [s0:0.0.0.0:42611, s1:0.0.0.0:39575, s2:0.0.0.0:34382], old=null
2019-09-24 16:57:28,305 DEBUG impl.RaftServerImpl (RaftServerImpl.java:requestVote(775)) - s1@group-09A0EF6A68F4 replies to vote request: s0<-s1#0:FAIL-t33. Peer's state: s1@group-09A0EF6A68F4:t33, leader=null, voted=s1, raftlog=s1@group-09A0EF6A68F4-SegmentedRaftLog:OPENED:c-1,f-1,i0, conf=-1: [s0:0.0.0.0:42611, s1:0.0.0.0:39575, s2:0.0.0.0:34382], old=null
2019-09-24 16:57:28,305 DEBUG impl.RaftServerImpl (RaftServerImpl.java:requestVote(775)) - s2@group-09A0EF6A68F4 replies to vote request: s0<-s2#0:FAIL-t33. Peer's state: s2@group-09A0EF6A68F4:t33, leader=null, voted=s2, raftlog=s2@group-09A0EF6A68F4-SegmentedRaftLog:OPENED:c-1,f-1,i0, conf=-1: [s0:0.0.0.0:42611, s1:0.0.0.0:39575, s2:0.0.0.0:34382], old=null
2019-09-24 16:57:28,304 DEBUG impl.RaftServerImpl (RaftServerImpl.java:requestVote(743)) - s2@group-09A0EF6A68F4: receive requestVote(s1, group-09A0EF6A68F4, 33, (t:0, i:0))
2019-09-24 16:57:28,306 INFO  impl.RaftServerImpl (RaftServerImpl.java:setRole(170)) - s2@group-09A0EF6A68F4: changes role from CANDIDATE to FOLLOWER at term 33 for DISCOVERED_A_NEW_TERM
2019-09-24 16:57:28,306 INFO  impl.RoleInfo (RoleInfo.java:shutdownLeaderElection(134)) - s2: shutdown LeaderElection
2019-09-24 16:57:28,305 DEBUG impl.RaftServerImpl (RaftServerImpl.java:requestVote(775)) - s0@group-09A0EF6A68F4 replies to vote request: s1<-s0#0:FAIL-t33. Peer's state: s0@group-09A0EF6A68F4:t33, leader=null, voted=s0, raftlog=s0@group-09A0EF6A68F4-SegmentedRaftLog:OPENED:c-1,f-1,i0, conf=-1: [s0:0.0.0.0:42611, s1:0.0.0.0:39575, s2:0.0.0.0:34382], old=null
2019-09-24 16:57:28,306 INFO  impl.RoleInfo (RoleInfo.java:updateAndGet(143)) - s2: start FollowerState
2019-09-24 16:57:28,306 INFO  impl.LeaderElection (LeaderElection.java:logAndReturn(56)) - s0@group-09A0EF6A68F4-LeaderElection88: Election REJECTED; received 2 response(s) [s0<-s1#0:FAIL-t33, s0<-s2#0:FAIL-t33] and 0 exception(s); s0@group-09A0EF6A68F4:t33, leader=null, voted=s0, raftlog=s0@group-09A0EF6A68F4-SegmentedRaftLog:OPENED:c-1,f-1,i0, conf=-1: [s0:0.0.0.0:42611, s1:0.0.0.0:39575, s2:0.0.0.0:34382], old=null
2019-09-24 16:57:28,307 INFO  impl.RaftServerImpl (RaftServerImpl.java:setRole(170)) - s0@group-09A0EF6A68F4: changes role from CANDIDATE to FOLLOWER at term 33 for DISCOVERED_A_NEW_TERM
2019-09-24 16:57:28,307 DEBUG impl.RaftServerImpl (RaftServerImpl.java:requestVote(775)) - s2@group-09A0EF6A68F4 replies to vote request: s1<-s2#0:FAIL-t33. Peer's state: s2@group-09A0EF6A68F4:t33, leader=null, voted=s2, raftlog=s2@group-09A0EF6A68F4-SegmentedRaftLog:OPENED:c-1,f-1,i0, conf=-1: [s0:0.0.0.0:42611, s1:0.0.0.0:39575, s2:0.0.0.0:34382], old=null
2019-09-24 16:57:28,307 INFO  impl.RoleInfo (RoleInfo.java:shutdownLeaderElection(134)) - s0: shutdown LeaderElection
2019-09-24 16:57:28,307 INFO  impl.RoleInfo (RoleInfo.java:updateAndGet(143)) - s0: start FollowerState
2019-09-24 16:57:28,307 INFO  impl.LeaderElection (LeaderElection.java:logAndReturn(56)) - s1@group-09A0EF6A68F4-LeaderElection89: Election REJECTED; received 2 response(s) [s1<-s0#0:FAIL-t33, s1<-s2#0:FAIL-t33] and 0 exception(s); s1@group-09A0EF6A68F4:t33, leader=null, voted=s1, raftlog=s1@group-09A0EF6A68F4-SegmentedRaftLog:OPENED:c-1,f-1,i0, conf=-1: [s0:0.0.0.0:42611, s1:0.0.0.0:39575, s2:0.0.0.0:34382], old=null
2019-09-24 16:57:28,308 INFO  impl.RaftServerImpl (RaftServerImpl.java:setRole(170)) - s1@group-09A0EF6A68F4: changes role from CANDIDATE to FOLLOWER at term 33 for DISCOVERED_A_NEW_TERM
2019-09-24 16:57:28,308 INFO  impl.RoleInfo (RoleInfo.java:shutdownLeaderElection(134)) - s1: shutdown LeaderElection
2019-09-24 16:57:28,308 INFO  impl.RoleInfo (RoleInfo.java:updateAndGet(143)) - s1: start FollowerState
2019-09-24 16:57:28,512 INFO  impl.FollowerState (FollowerState.java:run(108)) - s0@group-09A0EF6A68F4-FollowerState: change to CANDIDATE, lastRpcTime:204ms, electionTimeout:204ms
2019-09-24 16:57:28,512 INFO  impl.RoleInfo (RoleInfo.java:shutdownFollowerState(121)) - s0: shutdown FollowerState
2019-09-24 16:57:28,513 INFO  impl.RaftServerImpl (RaftServerImpl.java:setRole(170)) - s0@group-09A0EF6A68F4: changes role from  FOLLOWER to CANDIDATE at term 33 for changeToCandidate
2019-09-24 16:57:28,513 INFO  impl.RoleInfo (RoleInfo.java:updateAndGet(143)) - s0: start LeaderElection
2019-09-24 16:57:28,533 INFO  impl.FollowerState (FollowerState.java:run(108)) - s1@group-09A0EF6A68F4-FollowerState: change to CANDIDATE, lastRpcTime:224ms, electionTimeout:224ms
2019-09-24 16:57:28,533 INFO  impl.RoleInfo (RoleInfo.java:shutdownFollowerState(121)) - s1: shutdown FollowerState
2019-09-24 16:57:28,533 INFO  impl.RaftServerImpl (RaftServerImpl.java:setRole(170)) - s1@group-09A0EF6A68F4: changes role from  FOLLOWER to CANDIDATE at term 33 for changeToCandidate
2019-09-24 16:57:28,533 INFO  impl.RoleInfo (RoleInfo.java:updateAndGet(143)) - s1: start LeaderElection
2019-09-24 16:57:28,541 INFO  impl.FollowerState (FollowerState.java:run(108)) - s2@group-09A0EF6A68F4-FollowerState: change to CANDIDATE, lastRpcTime:235ms, electionTimeout:234ms
2019-09-24 16:57:28,541 INFO  impl.RoleInfo (RoleInfo.java:shutdownFollowerState(121)) - s2: shutdown FollowerState
2019-09-24 16:57:28,541 INFO  impl.RaftServerImpl (RaftServerImpl.java:setRole(170)) - s2@group-09A0EF6A68F4: changes role from  FOLLOWER to CANDIDATE at term 33 for changeToCandidate
2019-09-24 16:57:28,542 INFO  impl.RoleInfo (RoleInfo.java:updateAndGet(143)) - s2: start LeaderElection
2019-09-24 16:57:28,650 WARN  ratis.RaftTestUtil (JavaUtils.java:attempt(158)) - FAILED "waitForLeader-null-(expectLeader? true)", attempt #42/100: java.lang.IllegalStateException: No leader yet : printing ALL groups
  s0:  RUNNING CANDIDATE s0@group-09A0EF6A68F4:t34, leader=null, voted=s0, raftlog=s0@group-09A0EF6A68F4-SegmentedRaftLog:OPENED:c-1,f-1,i0, conf=-1: [s0:0.0.0.0:42611, s1:0.0.0.0:39575, s2:0.0.0.0:34382], old=null RUNNING
  s1:  RUNNING CANDIDATE s1@group-09A0EF6A68F4:t34, leader=null, voted=s1, raftlog=s1@group-09A0EF6A68F4-SegmentedRaftLog:OPENED:c-1,f-1,i0, conf=-1: [s0:0.0.0.0:42611, s1:0.0.0.0:39575, s2:0.0.0.0:34382], old=null RUNNING
  s2:  RUNNING CANDIDATE s2@group-09A0EF6A68F4:t34, leader=null, voted=s2, raftlog=s2@group-09A0EF6A68F4-SegmentedRaftLog:OPENED:c-1,f-1,i0, conf=-1: [s0:0.0.0.0:42611, s1:0.0.0.0:39575, s2:0.0.0.0:34382], old=null RUNNING, sleep 450ms and then retry.
java.lang.IllegalStateException: No leader yet : printing ALL groups
  s0:  RUNNING CANDIDATE s0@group-09A0EF6A68F4:t34, leader=null, voted=s0, raftlog=s0@group-09A0EF6A68F4-SegmentedRaftLog:OPENED:c-1,f-1,i0, conf=-1: [s0:0.0.0.0:42611, s1:0.0.0.0:39575, s2:0.0.0.0:34382], old=null RUNNING
  s1:  RUNNING CANDIDATE s1@group-09A0EF6A68F4:t34, leader=null, voted=s1, raftlog=s1@group-09A0EF6A68F4-SegmentedRaftLog:OPENED:c-1,f-1,i0, conf=-1: [s0:0.0.0.0:42611, s1:0.0.0.0:39575, s2:0.0.0.0:34382], old=null RUNNING
  s2:  RUNNING CANDIDATE s2@group-09A0EF6A68F4:t34, leader=null, voted=s2, raftlog=s2@group-09A0EF6A68F4-SegmentedRaftLog:OPENED:c-1,f-1,i0, conf=-1: [s0:0.0.0.0:42611, s1:0.0.0.0:39575, s2:0.0.0.0:34382], old=null RUNNING
	at org.apache.ratis.MiniRaftCluster.newIllegalStateExceptionForNoLeaders(MiniRaftCluster.java:506)
	at org.apache.ratis.RaftTestUtil.lambda$waitForLeader$1(RaftTestUtil.java:90)
	at org.apache.ratis.MiniRaftCluster.getLeader(MiniRaftCluster.java:539)
	at org.apache.ratis.MiniRaftCluster.getLeader(MiniRaftCluster.java:532)
	at org.apache.ratis.RaftTestUtil.lambda$waitForLeader$3(RaftTestUtil.java:98)
	at org.apache.ratis.util.JavaUtils.attempt(JavaUtils.java:152)
	at org.apache.ratis.RaftTestUtil.waitForLeader(RaftTestUtil.java:97)
	at org.apache.ratis.RaftTestUtil.waitForLeader(RaftTestUtil.java:77)
	at org.apache.ratis.RaftTestUtil.waitForLeader(RaftTestUtil.java:72)
	at org.apache.ratis.server.impl.RaftStateMachineExceptionTests.runTestRetryOnExceptionDuringReplication(RaftStateMachineExceptionTests.java:149)
	at org.apache.ratis.MiniRaftCluster$Factory$Get.runWithNewCluster(MiniRaftCluster.java:125)
	at org.apache.ratis.MiniRaftCluster$Factory$Get.runWithNewCluster(MiniRaftCluster.java:113)
	at org.apache.ratis.server.impl.RaftStateMachineExceptionTests.testRetryOnExceptionDuringReplication(RaftStateMachineExceptionTests.java:145)
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.lang.reflect.Method.invoke(Method.java:498)
	at org.junit.runners.model.FrameworkMethod$1.runReflectiveCall(FrameworkMethod.java:50)
	at org.junit.internal.runners.model.ReflectiveCallable.run(ReflectiveCallable.java:12)
	at org.junit.runners.model.FrameworkMethod.invokeExplosively(FrameworkMethod.java:47)
	at org.junit.internal.runners.statements.InvokeMethod.evaluate(InvokeMethod.java:17)
	at org.junit.internal.runners.statements.RunAfters.evaluate(RunAfters.java:27)
	at org.junit.internal.runners.statements.FailOnTimeout$CallableStatement.call(FailOnTimeout.java:298)
	at org.junit.internal.runners.statements.FailOnTimeout$CallableStatement.call(FailOnTimeout.java:292)
	at java.util.concurrent.FutureTask.run(FutureTask.java:266)
	at java.lang.Thread.run(Thread.java:748)
2019-09-24 16:57:29,102 WARN  ratis.RaftTestUtil (JavaUtils.java:attempt(158)) - FAILED "waitForLeader-null-(expectLeader? true)", attempt #43/100: java.lang.IllegalStateException: No leader yet : printing ALL groups
  s0:  RUNNING CANDIDATE s0@group-09A0EF6A68F4:t34, leader=null, voted=s0, raftlog=s0@group-09A0EF6A68F4-SegmentedRaftLog:OPENED:c-1,f-1,i0, conf=-1: [s0:0.0.0.0:42611, s1:0.0.0.0:39575, s2:0.0.0.0:34382], old=null RUNNING
  s1:  RUNNING CANDIDATE s1@group-09A0EF6A68F4:t34, leader=null, voted=s1, raftlog=s1@group-09A0EF6A68F4-SegmentedRaftLog:OPENED:c-1,f-1,i0, conf=-1: [s0:0.0.0.0:42611, s1:0.0.0.0:39575, s2:0.0.0.0:34382], old=null RUNNING
  s2:  RUNNING CANDIDATE s2@group-09A0EF6A68F4:t34, leader=null, voted=s2, raftlog=s2@group-09A0EF6A68F4-SegmentedRaftLog:OPENED:c-1,f-1,i0, conf=-1: [s0:0.0.0.0:42611, s1:0.0.0.0:39575, s2:0.0.0.0:34382], old=null RUNNING, sleep 450ms and then retry.
java.lang.IllegalStateException: No leader yet : printing ALL groups
  s0:  RUNNING CANDIDATE s0@group-09A0EF6A68F4:t34, leader=null, voted=s0, raftlog=s0@group-09A0EF6A68F4-SegmentedRaftLog:OPENED:c-1,f-1,i0, conf=-1: [s0:0.0.0.0:42611, s1:0.0.0.0:39575, s2:0.0.0.0:34382], old=null RUNNING
  s1:  RUNNING CANDIDATE s1@group-09A0EF6A68F4:t34, leader=null, voted=s1, raftlog=s1@group-09A0EF6A68F4-SegmentedRaftLog:OPENED:c-1,f-1,i0, conf=-1: [s0:0.0.0.0:42611, s1:0.0.0.0:39575, s2:0.0.0.0:34382], old=null RUNNING
  s2:  RUNNING CANDIDATE s2@group-09A0EF6A68F4:t34, leader=null, voted=s2, raftlog=s2@group-09A0EF6A68F4-SegmentedRaftLog:OPENED:c-1,f-1,i0, conf=-1: [s0:0.0.0.0:42611, s1:0.0.0.0:39575, s2:0.0.0.0:34382], old=null RUNNING
	at org.apache.ratis.MiniRaftCluster.newIllegalStateExceptionForNoLeaders(MiniRaftCluster.java:506)
	at org.apache.ratis.RaftTestUtil.lambda$waitForLeader$1(RaftTestUtil.java:90)
	at org.apache.ratis.MiniRaftCluster.getLeader(MiniRaftCluster.java:539)
	at org.apache.ratis.MiniRaftCluster.getLeader(MiniRaftCluster.java:532)
	at org.apache.ratis.RaftTestUtil.lambda$waitForLeader$3(RaftTestUtil.java:98)
	at org.apache.ratis.util.JavaUtils.attempt(JavaUtils.java:152)
	at org.apache.ratis.RaftTestUtil.waitForLeader(RaftTestUtil.java:97)
	at org.apache.ratis.RaftTestUtil.waitForLeader(RaftTestUtil.java:77)
	at org.apache.ratis.RaftTestUtil.waitForLeader(RaftTestUtil.java:72)
	at org.apache.ratis.server.impl.RaftStateMachineExceptionTests.runTestRetryOnExceptionDuringReplication(RaftStateMachineExceptionTests.java:149)
	at org.apache.ratis.MiniRaftCluster$Factory$Get.runWithNewCluster(MiniRaftCluster.java:125)
	at org.apache.ratis.MiniRaftCluster$Factory$Get.runWithNewCluster(MiniRaftCluster.java:113)
	at org.apache.ratis.server.impl.RaftStateMachineExceptionTests.testRetryOnExceptionDuringReplication(RaftStateMachineExceptionTests.java:145)
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.lang.reflect.Method.invoke(Method.java:498)
	at org.junit.runners.model.FrameworkMethod$1.runReflectiveCall(FrameworkMethod.java:50)
	at org.junit.internal.runners.model.ReflectiveCallable.run(ReflectiveCallable.java:12)
	at org.junit.runners.model.FrameworkMethod.invokeExplosively(FrameworkMethod.java:47)
	at org.junit.internal.runners.statements.InvokeMethod.evaluate(InvokeMethod.java:17)
	at org.junit.internal.runners.statements.RunAfters.evaluate(RunAfters.java:27)
	at org.junit.internal.runners.statements.FailOnTimeout$CallableStatement.call(FailOnTimeout.java:298)
	at org.junit.internal.runners.statements.FailOnTimeout$CallableStatement.call(FailOnTimeout.java:292)
	at java.util.concurrent.FutureTask.run(FutureTask.java:266)
	at java.lang.Thread.run(Thread.java:748)
2019-09-24 16:57:29,242 INFO  impl.LeaderElection (LeaderElection.java:askForVotes(178)) - s1@group-09A0EF6A68F4-LeaderElection92: begin an election at term 34 for -1: [s0:0.0.0.0:42611, s1:0.0.0.0:39575, s2:0.0.0.0:34382], old=null
2019-09-24 16:57:29,242 INFO  impl.LeaderElection (LeaderElection.java:askForVotes(178)) - s2@group-09A0EF6A68F4-LeaderElection93: begin an election at term 34 for -1: [s0:0.0.0.0:42611, s1:0.0.0.0:39575, s2:0.0.0.0:34382], old=null
2019-09-24 16:57:29,242 INFO  impl.LeaderElection (LeaderElection.java:askForVotes(178)) - s0@group-09A0EF6A68F4-LeaderElection91: begin an election at term 34 for -1: [s0:0.0.0.0:42611, s1:0.0.0.0:39575, s2:0.0.0.0:34382], old=null
2019-09-24 16:57:29,243 DEBUG impl.RaftServerImpl (RaftServerImpl.java:requestVote(743)) - s0@group-09A0EF6A68F4: receive requestVote(s1, group-09A0EF6A68F4, 34, (t:0, i:0))
2019-09-24 16:57:29,243 DEBUG impl.RaftServerImpl (RaftServerImpl.java:requestVote(743)) - s1@group-09A0EF6A68F4: receive requestVote(s0, group-09A0EF6A68F4, 34, (t:0, i:0))
2019-09-24 16:57:29,243 DEBUG impl.RaftServerImpl (RaftServerImpl.java:requestVote(775)) - s0@group-09A0EF6A68F4 replies to vote request: s1<-s0#0:FAIL-t34. Peer's state: s0@group-09A0EF6A68F4:t34, leader=null, voted=s0, raftlog=s0@group-09A0EF6A68F4-SegmentedRaftLog:OPENED:c-1,f-1,i0, conf=-1: [s0:0.0.0.0:42611, s1:0.0.0.0:39575, s2:0.0.0.0:34382], old=null
2019-09-24 16:57:29,244 DEBUG impl.RaftServerImpl (RaftServerImpl.java:requestVote(743)) - s2@group-09A0EF6A68F4: receive requestVote(s1, group-09A0EF6A68F4, 34, (t:0, i:0))
2019-09-24 16:57:29,244 DEBUG impl.RaftServerImpl (RaftServerImpl.java:requestVote(775)) - s1@group-09A0EF6A68F4 replies to vote request: s0<-s1#0:FAIL-t34. Peer's state: s1@group-09A0EF6A68F4:t34, leader=null, voted=s1, raftlog=s1@group-09A0EF6A68F4-SegmentedRaftLog:OPENED:c-1,f-1,i0, conf=-1: [s0:0.0.0.0:42611, s1:0.0.0.0:39575, s2:0.0.0.0:34382], old=null
2019-09-24 16:57:29,243 DEBUG impl.RaftServerImpl (RaftServerImpl.java:requestVote(743)) - s0@group-09A0EF6A68F4: receive requestVote(s2, group-09A0EF6A68F4, 34, (t:0, i:0))
2019-09-24 16:57:29,244 DEBUG impl.RaftServerImpl (RaftServerImpl.java:requestVote(775)) - s2@group-09A0EF6A68F4 replies to vote request: s1<-s2#0:FAIL-t34. Peer's state: s2@group-09A0EF6A68F4:t34, leader=null, voted=s2, raftlog=s2@group-09A0EF6A68F4-SegmentedRaftLog:OPENED:c-1,f-1,i0, conf=-1: [s0:0.0.0.0:42611, s1:0.0.0.0:39575, s2:0.0.0.0:34382], old=null
2019-09-24 16:57:29,244 DEBUG impl.RaftServerImpl (RaftServerImpl.java:requestVote(775)) - s0@group-09A0EF6A68F4 replies to vote request: s2<-s0#0:FAIL-t34. Peer's state: s0@group-09A0EF6A68F4:t34, leader=null, voted=s0, raftlog=s0@group-09A0EF6A68F4-SegmentedRaftLog:OPENED:c-1,f-1,i0, conf=-1: [s0:0.0.0.0:42611, s1:0.0.0.0:39575, s2:0.0.0.0:34382], old=null
2019-09-24 16:57:29,244 DEBUG impl.RaftServerImpl (RaftServerImpl.java:requestVote(743)) - s1@group-09A0EF6A68F4: receive requestVote(s2, group-09A0EF6A68F4, 34, (t:0, i:0))
2019-09-24 16:57:29,244 DEBUG impl.RaftServerImpl (RaftServerImpl.java:requestVote(743)) - s2@group-09A0EF6A68F4: receive requestVote(s0, group-09A0EF6A68F4, 34, (t:0, i:0))
2019-09-24 16:57:29,245 DEBUG impl.RaftServerImpl (RaftServerImpl.java:requestVote(775)) - s1@group-09A0EF6A68F4 replies to vote request: s2<-s1#0:FAIL-t34. Peer's state: s1@group-09A0EF6A68F4:t34, leader=null, voted=s1, raftlog=s1@group-09A0EF6A68F4-SegmentedRaftLog:OPENED:c-1,f-1,i0, conf=-1: [s0:0.0.0.0:42611, s1:0.0.0.0:39575, s2:0.0.0.0:34382], old=null
2019-09-24 16:57:29,245 INFO  impl.LeaderElection (LeaderElection.java:logAndReturn(56)) - s1@group-09A0EF6A68F4-LeaderElection92: Election REJECTED; received 2 response(s) [s1<-s0#0:FAIL-t34, s1<-s2#0:FAIL-t34] and 0 exception(s); s1@group-09A0EF6A68F4:t34, leader=null, voted=s1, raftlog=s1@group-09A0EF6A68F4-SegmentedRaftLog:OPENED:c-1,f-1,i0, conf=-1: [s0:0.0.0.0:42611, s1:0.0.0.0:39575, s2:0.0.0.0:34382], old=null
2019-09-24 16:57:29,245 DEBUG impl.RaftServerImpl (RaftServerImpl.java:requestVote(775)) - s2@group-09A0EF6A68F4 replies to vote request: s0<-s2#0:FAIL-t34. Peer's state: s2@group-09A0EF6A68F4:t34, leader=null, voted=s2, raftlog=s2@group-09A0EF6A68F4-SegmentedRaftLog:OPENED:c-1,f-1,i0, conf=-1: [s0:0.0.0.0:42611, s1:0.0.0.0:39575, s2:0.0.0.0:34382], old=null
2019-09-24 16:57:29,245 INFO  impl.RaftServerImpl (RaftServerImpl.java:setRole(170)) - s1@group-09A0EF6A68F4: changes role from CANDIDATE to FOLLOWER at term 34 for DISCOVERED_A_NEW_TERM
2019-09-24 16:57:29,245 INFO  impl.LeaderElection (LeaderElection.java:logAndReturn(56)) - s2@group-09A0EF6A68F4-LeaderElection93: Election REJECTED; received 2 response(s) [s2<-s0#0:FAIL-t34, s2<-s1#0:FAIL-t34] and 0 exception(s); s2@group-09A0EF6A68F4:t34, leader=null, voted=s2, raftlog=s2@group-09A0EF6A68F4-SegmentedRaftLog:OPENED:c-1,f-1,i0, conf=-1: [s0:0.0.0.0:42611, s1:0.0.0.0:39575, s2:0.0.0.0:34382], old=null
2019-09-24 16:57:29,246 INFO  impl.LeaderElection (LeaderElection.java:logAndReturn(56)) - s0@group-09A0EF6A68F4-LeaderElection91: Election REJECTED; received 2 response(s) [s0<-s1#0:FAIL-t34, s0<-s2#0:FAIL-t34] and 0 exception(s); s0@group-09A0EF6A68F4:t34, leader=null, voted=s0, raftlog=s0@group-09A0EF6A68F4-SegmentedRaftLog:OPENED:c-1,f-1,i0, conf=-1: [s0:0.0.0.0:42611, s1:0.0.0.0:39575, s2:0.0.0.0:34382], old=null
2019-09-24 16:57:29,246 INFO  impl.RoleInfo (RoleInfo.java:shutdownLeaderElection(134)) - s1: shutdown LeaderElection
2019-09-24 16:57:29,246 INFO  impl.RaftServerImpl (RaftServerImpl.java:setRole(170)) - s0@group-09A0EF6A68F4: changes role from CANDIDATE to FOLLOWER at term 34 for DISCOVERED_A_NEW_TERM
2019-09-24 16:57:29,246 INFO  impl.RaftServerImpl (RaftServerImpl.java:setRole(170)) - s2@group-09A0EF6A68F4: changes role from CANDIDATE to FOLLOWER at term 34 for DISCOVERED_A_NEW_TERM
2019-09-24 16:57:29,246 INFO  impl.RoleInfo (RoleInfo.java:shutdownLeaderElection(134)) - s0: shutdown LeaderElection
2019-09-24 16:57:29,246 INFO  impl.RoleInfo (RoleInfo.java:updateAndGet(143)) - s1: start FollowerState
2019-09-24 16:57:29,247 INFO  impl.RoleInfo (RoleInfo.java:updateAndGet(143)) - s0: start FollowerState
2019-09-24 16:57:29,246 INFO  impl.RoleInfo (RoleInfo.java:shutdownLeaderElection(134)) - s2: shutdown LeaderElection
2019-09-24 16:57:29,247 INFO  impl.RoleInfo (RoleInfo.java:updateAndGet(143)) - s2: start FollowerState
2019-09-24 16:57:29,438 INFO  impl.FollowerState (FollowerState.java:run(108)) - s1@group-09A0EF6A68F4-FollowerState: change to CANDIDATE, lastRpcTime:192ms, electionTimeout:191ms
2019-09-24 16:57:29,439 INFO  impl.RoleInfo (RoleInfo.java:shutdownFollowerState(121)) - s1: shutdown FollowerState
2019-09-24 16:57:29,439 INFO  impl.RaftServerImpl (RaftServerImpl.java:setRole(170)) - s1@group-09A0EF6A68F4: changes role from  FOLLOWER to CANDIDATE at term 34 for changeToCandidate
2019-09-24 16:57:29,439 INFO  impl.RoleInfo (RoleInfo.java:updateAndGet(143)) - s1: start LeaderElection
2019-09-24 16:57:29,462 INFO  impl.FollowerState (FollowerState.java:run(108)) - s0@group-09A0EF6A68F4-FollowerState: change to CANDIDATE, lastRpcTime:214ms, electionTimeout:214ms
2019-09-24 16:57:29,462 INFO  impl.RoleInfo (RoleInfo.java:shutdownFollowerState(121)) - s0: shutdown FollowerState
2019-09-24 16:57:29,462 INFO  impl.RaftServerImpl (RaftServerImpl.java:setRole(170)) - s0@group-09A0EF6A68F4: changes role from  FOLLOWER to CANDIDATE at term 34 for changeToCandidate
2019-09-24 16:57:29,462 INFO  impl.RoleInfo (RoleInfo.java:updateAndGet(143)) - s0: start LeaderElection
2019-09-24 16:57:29,525 INFO  impl.FollowerState (FollowerState.java:run(108)) - s2@group-09A0EF6A68F4-FollowerState: change to CANDIDATE, lastRpcTime:277ms, electionTimeout:277ms
2019-09-24 16:57:29,525 INFO  impl.RoleInfo (RoleInfo.java:shutdownFollowerState(121)) - s2: shutdown FollowerState
2019-09-24 16:57:29,525 INFO  impl.RaftServerImpl (RaftServerImpl.java:setRole(170)) - s2@group-09A0EF6A68F4: changes role from  FOLLOWER to CANDIDATE at term 34 for changeToCandidate
2019-09-24 16:57:29,525 INFO  impl.RoleInfo (RoleInfo.java:updateAndGet(143)) - s2: start LeaderElection
2019-09-24 16:57:29,553 WARN  ratis.RaftTestUtil (JavaUtils.java:attempt(158)) - FAILED "waitForLeader-null-(expectLeader? true)", attempt #44/100: java.lang.IllegalStateException: No leader yet : printing ALL groups
  s0:  RUNNING CANDIDATE s0@group-09A0EF6A68F4:t35, leader=null, voted=s0, raftlog=s0@group-09A0EF6A68F4-SegmentedRaftLog:OPENED:c-1,f-1,i0, conf=-1: [s0:0.0.0.0:42611, s1:0.0.0.0:39575, s2:0.0.0.0:34382], old=null RUNNING
  s1:  RUNNING CANDIDATE s1@group-09A0EF6A68F4:t35, leader=null, voted=s1, raftlog=s1@group-09A0EF6A68F4-SegmentedRaftLog:OPENED:c-1,f-1,i0, conf=-1: [s0:0.0.0.0:42611, s1:0.0.0.0:39575, s2:0.0.0.0:34382], old=null RUNNING
  s2:  RUNNING CANDIDATE s2@group-09A0EF6A68F4:t35, leader=null, voted=s2, raftlog=s2@group-09A0EF6A68F4-SegmentedRaftLog:OPENED:c-1,f-1,i0, conf=-1: [s0:0.0.0.0:42611, s1:0.0.0.0:39575, s2:0.0.0.0:34382], old=null RUNNING, sleep 450ms and then retry.
java.lang.IllegalStateException: No leader yet : printing ALL groups
  s0:  RUNNING CANDIDATE s0@group-09A0EF6A68F4:t35, leader=null, voted=s0, raftlog=s0@group-09A0EF6A68F4-SegmentedRaftLog:OPENED:c-1,f-1,i0, conf=-1: [s0:0.0.0.0:42611, s1:0.0.0.0:39575, s2:0.0.0.0:34382], old=null RUNNING
  s1:  RUNNING CANDIDATE s1@group-09A0EF6A68F4:t35, leader=null, voted=s1, raftlog=s1@group-09A0EF6A68F4-SegmentedRaftLog:OPENED:c-1,f-1,i0, conf=-1: [s0:0.0.0.0:42611, s1:0.0.0.0:39575, s2:0.0.0.0:34382], old=null RUNNING
  s2:  RUNNING CANDIDATE s2@group-09A0EF6A68F4:t35, leader=null, voted=s2, raftlog=s2@group-09A0EF6A68F4-SegmentedRaftLog:OPENED:c-1,f-1,i0, conf=-1: [s0:0.0.0.0:42611, s1:0.0.0.0:39575, s2:0.0.0.0:34382], old=null RUNNING
	at org.apache.ratis.MiniRaftCluster.newIllegalStateExceptionForNoLeaders(MiniRaftCluster.java:506)
	at org.apache.ratis.RaftTestUtil.lambda$waitForLeader$1(RaftTestUtil.java:90)
	at org.apache.ratis.MiniRaftCluster.getLeader(MiniRaftCluster.java:539)
	at org.apache.ratis.MiniRaftCluster.getLeader(MiniRaftCluster.java:532)
	at org.apache.ratis.RaftTestUtil.lambda$waitForLeader$3(RaftTestUtil.java:98)
	at org.apache.ratis.util.JavaUtils.attempt(JavaUtils.java:152)
	at org.apache.ratis.RaftTestUtil.waitForLeader(RaftTestUtil.java:97)
	at org.apache.ratis.RaftTestUtil.waitForLeader(RaftTestUtil.java:77)
	at org.apache.ratis.RaftTestUtil.waitForLeader(RaftTestUtil.java:72)
	at org.apache.ratis.server.impl.RaftStateMachineExceptionTests.runTestRetryOnExceptionDuringReplication(RaftStateMachineExceptionTests.java:149)
	at org.apache.ratis.MiniRaftCluster$Factory$Get.runWithNewCluster(MiniRaftCluster.java:125)
	at org.apache.ratis.MiniRaftCluster$Factory$Get.runWithNewCluster(MiniRaftCluster.java:113)
	at org.apache.ratis.server.impl.RaftStateMachineExceptionTests.testRetryOnExceptionDuringReplication(RaftStateMachineExceptionTests.java:145)
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.lang.reflect.Method.invoke(Method.java:498)
	at org.junit.runners.model.FrameworkMethod$1.runReflectiveCall(FrameworkMethod.java:50)
	at org.junit.internal.runners.model.ReflectiveCallable.run(ReflectiveCallable.java:12)
	at org.junit.runners.model.FrameworkMethod.invokeExplosively(FrameworkMethod.java:47)
	at org.junit.internal.runners.statements.InvokeMethod.evaluate(InvokeMethod.java:17)
	at org.junit.internal.runners.statements.RunAfters.evaluate(RunAfters.java:27)
	at org.junit.internal.runners.statements.FailOnTimeout$CallableStatement.call(FailOnTimeout.java:298)
	at org.junit.internal.runners.statements.FailOnTimeout$CallableStatement.call(FailOnTimeout.java:292)
	at java.util.concurrent.FutureTask.run(FutureTask.java:266)
	at java.lang.Thread.run(Thread.java:748)
2019-09-24 16:57:29,892 INFO  impl.LeaderElection (LeaderElection.java:askForVotes(178)) - s1@group-09A0EF6A68F4-LeaderElection94: begin an election at term 35 for -1: [s0:0.0.0.0:42611, s1:0.0.0.0:39575, s2:0.0.0.0:34382], old=null
2019-09-24 16:57:29,892 INFO  impl.LeaderElection (LeaderElection.java:askForVotes(178)) - s0@group-09A0EF6A68F4-LeaderElection95: begin an election at term 35 for -1: [s0:0.0.0.0:42611, s1:0.0.0.0:39575, s2:0.0.0.0:34382], old=null
2019-09-24 16:57:29,892 INFO  impl.LeaderElection (LeaderElection.java:askForVotes(178)) - s2@group-09A0EF6A68F4-LeaderElection96: begin an election at term 35 for -1: [s0:0.0.0.0:42611, s1:0.0.0.0:39575, s2:0.0.0.0:34382], old=null
2019-09-24 16:57:29,893 DEBUG impl.RaftServerImpl (RaftServerImpl.java:requestVote(743)) - s0@group-09A0EF6A68F4: receive requestVote(s1, group-09A0EF6A68F4, 35, (t:0, i:0))
2019-09-24 16:57:29,893 DEBUG impl.RaftServerImpl (RaftServerImpl.java:requestVote(743)) - s1@group-09A0EF6A68F4: receive requestVote(s0, group-09A0EF6A68F4, 35, (t:0, i:0))
2019-09-24 16:57:29,893 DEBUG impl.RaftServerImpl (RaftServerImpl.java:requestVote(775)) - s0@group-09A0EF6A68F4 replies to vote request: s1<-s0#0:FAIL-t35. Peer's state: s0@group-09A0EF6A68F4:t35, leader=null, voted=s0, raftlog=s0@group-09A0EF6A68F4-SegmentedRaftLog:OPENED:c-1,f-1,i0, conf=-1: [s0:0.0.0.0:42611, s1:0.0.0.0:39575, s2:0.0.0.0:34382], old=null
2019-09-24 16:57:29,893 DEBUG impl.RaftServerImpl (RaftServerImpl.java:requestVote(775)) - s1@group-09A0EF6A68F4 replies to vote request: s0<-s1#0:FAIL-t35. Peer's state: s1@group-09A0EF6A68F4:t35, leader=null, voted=s1, raftlog=s1@group-09A0EF6A68F4-SegmentedRaftLog:OPENED:c-1,f-1,i0, conf=-1: [s0:0.0.0.0:42611, s1:0.0.0.0:39575, s2:0.0.0.0:34382], old=null
2019-09-24 16:57:29,894 DEBUG impl.RaftServerImpl (RaftServerImpl.java:requestVote(743)) - s1@group-09A0EF6A68F4: receive requestVote(s2, group-09A0EF6A68F4, 35, (t:0, i:0))
2019-09-24 16:57:29,893 DEBUG impl.RaftServerImpl (RaftServerImpl.java:requestVote(743)) - s0@group-09A0EF6A68F4: receive requestVote(s2, group-09A0EF6A68F4, 35, (t:0, i:0))
2019-09-24 16:57:29,894 DEBUG impl.RaftServerImpl (RaftServerImpl.java:requestVote(775)) - s1@group-09A0EF6A68F4 replies to vote request: s2<-s1#0:FAIL-t35. Peer's state: s1@group-09A0EF6A68F4:t35, leader=null, voted=s1, raftlog=s1@group-09A0EF6A68F4-SegmentedRaftLog:OPENED:c-1,f-1,i0, conf=-1: [s0:0.0.0.0:42611, s1:0.0.0.0:39575, s2:0.0.0.0:34382], old=null
2019-09-24 16:57:29,894 DEBUG impl.RaftServerImpl (RaftServerImpl.java:requestVote(743)) - s2@group-09A0EF6A68F4: receive requestVote(s0, group-09A0EF6A68F4, 35, (t:0, i:0))
2019-09-24 16:57:29,893 DEBUG impl.RaftServerImpl (RaftServerImpl.java:requestVote(743)) - s2@group-09A0EF6A68F4: receive requestVote(s1, group-09A0EF6A68F4, 35, (t:0, i:0))
2019-09-24 16:57:29,894 DEBUG impl.RaftServerImpl (RaftServerImpl.java:requestVote(775)) - s2@group-09A0EF6A68F4 replies to vote request: s0<-s2#0:FAIL-t35. Peer's state: s2@group-09A0EF6A68F4:t35, leader=null, voted=s2, raftlog=s2@group-09A0EF6A68F4-SegmentedRaftLog:OPENED:c-1,f-1,i0, conf=-1: [s0:0.0.0.0:42611, s1:0.0.0.0:39575, s2:0.0.0.0:34382], old=null
2019-09-24 16:57:29,894 DEBUG impl.RaftServerImpl (RaftServerImpl.java:requestVote(775)) - s0@group-09A0EF6A68F4 replies to vote request: s2<-s0#0:FAIL-t35. Peer's state: s0@group-09A0EF6A68F4:t35, leader=null, voted=s0, raftlog=s0@group-09A0EF6A68F4-SegmentedRaftLog:OPENED:c-1,f-1,i0, conf=-1: [s0:0.0.0.0:42611, s1:0.0.0.0:39575, s2:0.0.0.0:34382], old=null
2019-09-24 16:57:29,895 DEBUG impl.RaftServerImpl (RaftServerImpl.java:requestVote(775)) - s2@group-09A0EF6A68F4 replies to vote request: s1<-s2#0:FAIL-t35. Peer's state: s2@group-09A0EF6A68F4:t35, leader=null, voted=s2, raftlog=s2@group-09A0EF6A68F4-SegmentedRaftLog:OPENED:c-1,f-1,i0, conf=-1: [s0:0.0.0.0:42611, s1:0.0.0.0:39575, s2:0.0.0.0:34382], old=null
2019-09-24 16:57:29,895 INFO  impl.LeaderElection (LeaderElection.java:logAndReturn(56)) - s0@group-09A0EF6A68F4-LeaderElection95: Election REJECTED; received 2 response(s) [s0<-s1#0:FAIL-t35, s0<-s2#0:FAIL-t35] and 0 exception(s); s0@group-09A0EF6A68F4:t35, leader=null, voted=s0, raftlog=s0@group-09A0EF6A68F4-SegmentedRaftLog:OPENED:c-1,f-1,i0, conf=-1: [s0:0.0.0.0:42611, s1:0.0.0.0:39575, s2:0.0.0.0:34382], old=null
2019-09-24 16:57:29,895 INFO  impl.LeaderElection (LeaderElection.java:logAndReturn(56)) - s2@group-09A0EF6A68F4-LeaderElection96: Election REJECTED; received 2 response(s) [s2<-s0#0:FAIL-t35, s2<-s1#0:FAIL-t35] and 0 exception(s); s2@group-09A0EF6A68F4:t35, leader=null, voted=s2, raftlog=s2@group-09A0EF6A68F4-SegmentedRaftLog:OPENED:c-1,f-1,i0, conf=-1: [s0:0.0.0.0:42611, s1:0.0.0.0:39575, s2:0.0.0.0:34382], old=null
2019-09-24 16:57:29,895 INFO  impl.RaftServerImpl (RaftServerImpl.java:setRole(170)) - s0@group-09A0EF6A68F4: changes role from CANDIDATE to FOLLOWER at term 35 for DISCOVERED_A_NEW_TERM
2019-09-24 16:57:29,895 INFO  impl.RoleInfo (RoleInfo.java:shutdownLeaderElection(134)) - s0: shutdown LeaderElection
2019-09-24 16:57:29,895 INFO  impl.LeaderElection (LeaderElection.java:logAndReturn(56)) - s1@group-09A0EF6A68F4-LeaderElection94: Election REJECTED; received 2 response(s) [s1<-s0#0:FAIL-t35, s1<-s2#0:FAIL-t35] and 0 exception(s); s1@group-09A0EF6A68F4:t35, leader=null, voted=s1, raftlog=s1@group-09A0EF6A68F4-SegmentedRaftLog:OPENED:c-1,f-1,i0, conf=-1: [s0:0.0.0.0:42611, s1:0.0.0.0:39575, s2:0.0.0.0:34382], old=null
2019-09-24 16:57:29,896 INFO  impl.RoleInfo (RoleInfo.java:updateAndGet(143)) - s0: start FollowerState
2019-09-24 16:57:29,895 INFO  impl.RaftServerImpl (RaftServerImpl.java:setRole(170)) - s2@group-09A0EF6A68F4: changes role from CANDIDATE to FOLLOWER at term 35 for DISCOVERED_A_NEW_TERM
2019-09-24 16:57:29,896 INFO  impl.RaftServerImpl (RaftServerImpl.java:setRole(170)) - s1@group-09A0EF6A68F4: changes role from CANDIDATE to FOLLOWER at term 35 for DISCOVERED_A_NEW_TERM
2019-09-24 16:57:29,896 INFO  impl.RoleInfo (RoleInfo.java:shutdownLeaderElection(134)) - s2: shutdown LeaderElection
2019-09-24 16:57:29,896 INFO  impl.RoleInfo (RoleInfo.java:shutdownLeaderElection(134)) - s1: shutdown LeaderElection
2019-09-24 16:57:29,897 INFO  impl.RoleInfo (RoleInfo.java:updateAndGet(143)) - s2: start FollowerState
2019-09-24 16:57:29,897 INFO  impl.RoleInfo (RoleInfo.java:updateAndGet(143)) - s1: start FollowerState
2019-09-24 16:57:30,005 WARN  ratis.RaftTestUtil (JavaUtils.java:attempt(158)) - FAILED "waitForLeader-null-(expectLeader? true)", attempt #45/100: java.lang.IllegalStateException: No leader yet : printing ALL groups
  s0:  RUNNING  FOLLOWER s0@group-09A0EF6A68F4:t35, leader=null, voted=s0, raftlog=s0@group-09A0EF6A68F4-SegmentedRaftLog:OPENED:c-1,f-1,i0, conf=-1: [s0:0.0.0.0:42611, s1:0.0.0.0:39575, s2:0.0.0.0:34382], old=null RUNNING
  s1:  RUNNING  FOLLOWER s1@group-09A0EF6A68F4:t35, leader=null, voted=s1, raftlog=s1@group-09A0EF6A68F4-SegmentedRaftLog:OPENED:c-1,f-1,i0, conf=-1: [s0:0.0.0.0:42611, s1:0.0.0.0:39575, s2:0.0.0.0:34382], old=null RUNNING
  s2:  RUNNING  FOLLOWER s2@group-09A0EF6A68F4:t35, leader=null, voted=s2, raftlog=s2@group-09A0EF6A68F4-SegmentedRaftLog:OPENED:c-1,f-1,i0, conf=-1: [s0:0.0.0.0:42611, s1:0.0.0.0:39575, s2:0.0.0.0:34382], old=null RUNNING, sleep 450ms and then retry.
java.lang.IllegalStateException: No leader yet : printing ALL groups
  s0:  RUNNING  FOLLOWER s0@group-09A0EF6A68F4:t35, leader=null, voted=s0, raftlog=s0@group-09A0EF6A68F4-SegmentedRaftLog:OPENED:c-1,f-1,i0, conf=-1: [s0:0.0.0.0:42611, s1:0.0.0.0:39575, s2:0.0.0.0:34382], old=null RUNNING
  s1:  RUNNING  FOLLOWER s1@group-09A0EF6A68F4:t35, leader=null, voted=s1, raftlog=s1@group-09A0EF6A68F4-SegmentedRaftLog:OPENED:c-1,f-1,i0, conf=-1: [s0:0.0.0.0:42611, s1:0.0.0.0:39575, s2:0.0.0.0:34382], old=null RUNNING
  s2:  RUNNING  FOLLOWER s2@group-09A0EF6A68F4:t35, leader=null, voted=s2, raftlog=s2@group-09A0EF6A68F4-SegmentedRaftLog:OPENED:c-1,f-1,i0, conf=-1: [s0:0.0.0.0:42611, s1:0.0.0.0:39575, s2:0.0.0.0:34382], old=null RUNNING
	at org.apache.ratis.MiniRaftCluster.newIllegalStateExceptionForNoLeaders(MiniRaftCluster.java:506)
	at org.apache.ratis.RaftTestUtil.lambda$waitForLeader$1(RaftTestUtil.java:90)
	at org.apache.ratis.MiniRaftCluster.getLeader(MiniRaftCluster.java:539)
	at org.apache.ratis.MiniRaftCluster.getLeader(MiniRaftCluster.java:532)
	at org.apache.ratis.RaftTestUtil.lambda$waitForLeader$3(RaftTestUtil.java:98)
	at org.apache.ratis.util.JavaUtils.attempt(JavaUtils.java:152)
	at org.apache.ratis.RaftTestUtil.waitForLeader(RaftTestUtil.java:97)
	at org.apache.ratis.RaftTestUtil.waitForLeader(RaftTestUtil.java:77)
	at org.apache.ratis.RaftTestUtil.waitForLeader(RaftTestUtil.java:72)
	at org.apache.ratis.server.impl.RaftStateMachineExceptionTests.runTestRetryOnExceptionDuringReplication(RaftStateMachineExceptionTests.java:149)
	at org.apache.ratis.MiniRaftCluster$Factory$Get.runWithNewCluster(MiniRaftCluster.java:125)
	at org.apache.ratis.MiniRaftCluster$Factory$Get.runWithNewCluster(MiniRaftCluster.java:113)
	at org.apache.ratis.server.impl.RaftStateMachineExceptionTests.testRetryOnExceptionDuringReplication(RaftStateMachineExceptionTests.java:145)
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.lang.reflect.Method.invoke(Method.java:498)
	at org.junit.runners.model.FrameworkMethod$1.runReflectiveCall(FrameworkMethod.java:50)
	at org.junit.internal.runners.model.ReflectiveCallable.run(ReflectiveCallable.java:12)
	at org.junit.runners.model.FrameworkMethod.invokeExplosively(FrameworkMethod.java:47)
	at org.junit.internal.runners.statements.InvokeMethod.evaluate(InvokeMethod.java:17)
	at org.junit.internal.runners.statements.RunAfters.evaluate(RunAfters.java:27)
	at org.junit.internal.runners.statements.FailOnTimeout$CallableStatement.call(FailOnTimeout.java:298)
	at org.junit.internal.runners.statements.FailOnTimeout$CallableStatement.call(FailOnTimeout.java:292)
	at java.util.concurrent.FutureTask.run(FutureTask.java:266)
	at java.lang.Thread.run(Thread.java:748)
2019-09-24 16:57:30,048 INFO  impl.FollowerState (FollowerState.java:run(108)) - s1@group-09A0EF6A68F4-FollowerState: change to CANDIDATE, lastRpcTime:150ms, electionTimeout:150ms
2019-09-24 16:57:30,048 INFO  impl.RoleInfo (RoleInfo.java:shutdownFollowerState(121)) - s1: shutdown FollowerState
2019-09-24 16:57:30,048 INFO  impl.RaftServerImpl (RaftServerImpl.java:setRole(170)) - s1@group-09A0EF6A68F4: changes role from  FOLLOWER to CANDIDATE at term 35 for changeToCandidate
2019-09-24 16:57:30,049 INFO  impl.RoleInfo (RoleInfo.java:updateAndGet(143)) - s1: start LeaderElection
2019-09-24 16:57:30,061 INFO  impl.LeaderElection (LeaderElection.java:askForVotes(178)) - s1@group-09A0EF6A68F4-LeaderElection97: begin an election at term 36 for -1: [s0:0.0.0.0:42611, s1:0.0.0.0:39575, s2:0.0.0.0:34382], old=null
2019-09-24 16:57:30,062 DEBUG impl.RaftServerImpl (RaftServerImpl.java:requestVote(743)) - s0@group-09A0EF6A68F4: receive requestVote(s1, group-09A0EF6A68F4, 36, (t:0, i:0))
2019-09-24 16:57:30,062 DEBUG impl.RaftServerImpl (RaftServerImpl.java:requestVote(743)) - s2@group-09A0EF6A68F4: receive requestVote(s1, group-09A0EF6A68F4, 36, (t:0, i:0))
2019-09-24 16:57:30,063 INFO  impl.RaftServerImpl (RaftServerImpl.java:setRole(170)) - s0@group-09A0EF6A68F4: changes role from  FOLLOWER to FOLLOWER at term 36 for recognizeCandidate:s1
2019-09-24 16:57:30,063 INFO  impl.RaftServerImpl (RaftServerImpl.java:setRole(170)) - s2@group-09A0EF6A68F4: changes role from  FOLLOWER to FOLLOWER at term 36 for recognizeCandidate:s1
2019-09-24 16:57:30,063 INFO  impl.RoleInfo (RoleInfo.java:shutdownFollowerState(121)) - s0: shutdown FollowerState
2019-09-24 16:57:30,063 INFO  impl.RoleInfo (RoleInfo.java:shutdownFollowerState(121)) - s2: shutdown FollowerState
2019-09-24 16:57:30,063 INFO  impl.RoleInfo (RoleInfo.java:updateAndGet(143)) - s0: start FollowerState
2019-09-24 16:57:30,064 INFO  impl.FollowerState (FollowerState.java:run(117)) - s2@group-09A0EF6A68F4-FollowerState was interrupted: java.lang.InterruptedException: sleep interrupted
2019-09-24 16:57:30,064 INFO  impl.RoleInfo (RoleInfo.java:updateAndGet(143)) - s2: start FollowerState
2019-09-24 16:57:30,064 INFO  impl.FollowerState (FollowerState.java:run(117)) - s0@group-09A0EF6A68F4-FollowerState was interrupted: java.lang.InterruptedException: sleep interrupted
2019-09-24 16:57:30,126 INFO  ratis.MiniRaftCluster (MiniRaftCluster.java:lambda$null$5(297)) - TIMED-PRINT: printing ALL groups
  s0:  RUNNING  FOLLOWER s0@group-09A0EF6A68F4:t36, leader=null, voted=s1, raftlog=s0@group-09A0EF6A68F4-SegmentedRaftLog:OPENED:c-1,f-1,i0, conf=-1: [s0:0.0.0.0:42611, s1:0.0.0.0:39575, s2:0.0.0.0:34382], old=null RUNNING
  s1:  RUNNING CANDIDATE s1@group-09A0EF6A68F4:t36, leader=null, voted=s1, raftlog=s1@group-09A0EF6A68F4-SegmentedRaftLog:OPENED:c-1,f-1,i0, conf=-1: [s0:0.0.0.0:42611, s1:0.0.0.0:39575, s2:0.0.0.0:34382], old=null RUNNING
  s2:  RUNNING  FOLLOWER s2@group-09A0EF6A68F4:t36, leader=null, voted=s1, raftlog=s2@group-09A0EF6A68F4-SegmentedRaftLog:OPENED:c-1,f-1,i0, conf=-1: [s0:0.0.0.0:42611, s1:0.0.0.0:39575, s2:0.0.0.0:34382], old=null RUNNING
2019-09-24 16:57:30,297 INFO  impl.LeaderElection (LeaderElection.java:logAndReturn(56)) - s1@group-09A0EF6A68F4-LeaderElection97: Election TIMEOUT; received 0 response(s) [] and 0 exception(s); s1@group-09A0EF6A68F4:t36, leader=null, voted=s1, raftlog=s1@group-09A0EF6A68F4-SegmentedRaftLog:OPENED:c-1,f-1,i0, conf=-1: [s0:0.0.0.0:42611, s1:0.0.0.0:39575, s2:0.0.0.0:34382], old=null
2019-09-24 16:57:30,311 INFO  impl.LeaderElection (LeaderElection.java:askForVotes(178)) - s1@group-09A0EF6A68F4-LeaderElection97: begin an election at term 37 for -1: [s0:0.0.0.0:42611, s1:0.0.0.0:39575, s2:0.0.0.0:34382], old=null
2019-09-24 16:57:30,311 DEBUG impl.RaftServerImpl (RaftServerImpl.java:requestVote(775)) - s0@group-09A0EF6A68F4 replies to vote request: s1<-s0#0:OK-t36. Peer's state: s0@group-09A0EF6A68F4:t36, leader=null, voted=s1, raftlog=s0@group-09A0EF6A68F4-SegmentedRaftLog:OPENED:c-1,f-1,i0, conf=-1: [s0:0.0.0.0:42611, s1:0.0.0.0:39575, s2:0.0.0.0:34382], old=null
2019-09-24 16:57:30,311 DEBUG impl.RaftServerImpl (RaftServerImpl.java:requestVote(775)) - s2@group-09A0EF6A68F4 replies to vote request: s1<-s2#0:OK-t36. Peer's state: s2@group-09A0EF6A68F4:t36, leader=null, voted=s1, raftlog=s2@group-09A0EF6A68F4-SegmentedRaftLog:OPENED:c-1,f-1,i0, conf=-1: [s0:0.0.0.0:42611, s1:0.0.0.0:39575, s2:0.0.0.0:34382], old=null
2019-09-24 16:57:30,312 DEBUG impl.RaftServerImpl (RaftServerImpl.java:requestVote(743)) - s0@group-09A0EF6A68F4: receive requestVote(s1, group-09A0EF6A68F4, 37, (t:0, i:0))
2019-09-24 16:57:30,312 DEBUG impl.RaftServerImpl (RaftServerImpl.java:requestVote(743)) - s2@group-09A0EF6A68F4: receive requestVote(s1, group-09A0EF6A68F4, 37, (t:0, i:0))
2019-09-24 16:57:30,312 INFO  impl.RaftServerImpl (RaftServerImpl.java:setRole(170)) - s0@group-09A0EF6A68F4: changes role from  FOLLOWER to FOLLOWER at term 37 for recognizeCandidate:s1
2019-09-24 16:57:30,313 INFO  impl.RaftServerImpl (RaftServerImpl.java:setRole(170)) - s2@group-09A0EF6A68F4: changes role from  FOLLOWER to FOLLOWER at term 37 for recognizeCandidate:s1
2019-09-24 16:57:30,313 INFO  impl.RoleInfo (RoleInfo.java:shutdownFollowerState(121)) - s0: shutdown FollowerState
2019-09-24 16:57:30,313 INFO  impl.RoleInfo (RoleInfo.java:shutdownFollowerState(121)) - s2: shutdown FollowerState
2019-09-24 16:57:30,313 INFO  impl.RoleInfo (RoleInfo.java:updateAndGet(143)) - s0: start FollowerState
2019-09-24 16:57:30,313 INFO  impl.FollowerState (FollowerState.java:run(117)) - s2@group-09A0EF6A68F4-FollowerState was interrupted: java.lang.InterruptedException: sleep interrupted
2019-09-24 16:57:30,313 INFO  impl.RoleInfo (RoleInfo.java:updateAndGet(143)) - s2: start FollowerState
2019-09-24 16:57:30,313 INFO  impl.FollowerState (FollowerState.java:run(117)) - s0@group-09A0EF6A68F4-FollowerState was interrupted: java.lang.InterruptedException: sleep interrupted
2019-09-24 16:57:30,456 WARN  ratis.RaftTestUtil (JavaUtils.java:attempt(158)) - FAILED "waitForLeader-null-(expectLeader? true)", attempt #46/100: java.lang.IllegalStateException: No leader yet : printing ALL groups
  s0:  RUNNING  FOLLOWER s0@group-09A0EF6A68F4:t37, leader=null, voted=s1, raftlog=s0@group-09A0EF6A68F4-SegmentedRaftLog:OPENED:c-1,f-1,i0, conf=-1: [s0:0.0.0.0:42611, s1:0.0.0.0:39575, s2:0.0.0.0:34382], old=null RUNNING
  s1:  RUNNING CANDIDATE s1@group-09A0EF6A68F4:t37, leader=null, voted=s1, raftlog=s1@group-09A0EF6A68F4-SegmentedRaftLog:OPENED:c-1,f-1,i0, conf=-1: [s0:0.0.0.0:42611, s1:0.0.0.0:39575, s2:0.0.0.0:34382], old=null RUNNING
  s2:  RUNNING  FOLLOWER s2@group-09A0EF6A68F4:t37, leader=null, voted=s1, raftlog=s2@group-09A0EF6A68F4-SegmentedRaftLog:OPENED:c-1,f-1,i0, conf=-1: [s0:0.0.0.0:42611, s1:0.0.0.0:39575, s2:0.0.0.0:34382], old=null RUNNING, sleep 450ms and then retry.
java.lang.IllegalStateException: No leader yet : printing ALL groups
  s0:  RUNNING  FOLLOWER s0@group-09A0EF6A68F4:t37, leader=null, voted=s1, raftlog=s0@group-09A0EF6A68F4-SegmentedRaftLog:OPENED:c-1,f-1,i0, conf=-1: [s0:0.0.0.0:42611, s1:0.0.0.0:39575, s2:0.0.0.0:34382], old=null RUNNING
  s1:  RUNNING CANDIDATE s1@group-09A0EF6A68F4:t37, leader=null, voted=s1, raftlog=s1@group-09A0EF6A68F4-SegmentedRaftLog:OPENED:c-1,f-1,i0, conf=-1: [s0:0.0.0.0:42611, s1:0.0.0.0:39575, s2:0.0.0.0:34382], old=null RUNNING
  s2:  RUNNING  FOLLOWER s2@group-09A0EF6A68F4:t37, leader=null, voted=s1, raftlog=s2@group-09A0EF6A68F4-SegmentedRaftLog:OPENED:c-1,f-1,i0, conf=-1: [s0:0.0.0.0:42611, s1:0.0.0.0:39575, s2:0.0.0.0:34382], old=null RUNNING
	at org.apache.ratis.MiniRaftCluster.newIllegalStateExceptionForNoLeaders(MiniRaftCluster.java:506)
	at org.apache.ratis.RaftTestUtil.lambda$waitForLeader$1(RaftTestUtil.java:90)
	at org.apache.ratis.MiniRaftCluster.getLeader(MiniRaftCluster.java:539)
	at org.apache.ratis.MiniRaftCluster.getLeader(MiniRaftCluster.java:532)
	at org.apache.ratis.RaftTestUtil.lambda$waitForLeader$3(RaftTestUtil.java:98)
	at org.apache.ratis.util.JavaUtils.attempt(JavaUtils.java:152)
	at org.apache.ratis.RaftTestUtil.waitForLeader(RaftTestUtil.java:97)
	at org.apache.ratis.RaftTestUtil.waitForLeader(RaftTestUtil.java:77)
	at org.apache.ratis.RaftTestUtil.waitForLeader(RaftTestUtil.java:72)
	at org.apache.ratis.server.impl.RaftStateMachineExceptionTests.runTestRetryOnExceptionDuringReplication(RaftStateMachineExceptionTests.java:149)
	at org.apache.ratis.MiniRaftCluster$Factory$Get.runWithNewCluster(MiniRaftCluster.java:125)
	at org.apache.ratis.MiniRaftCluster$Factory$Get.runWithNewCluster(MiniRaftCluster.java:113)
	at org.apache.ratis.server.impl.RaftStateMachineExceptionTests.testRetryOnExceptionDuringReplication(RaftStateMachineExceptionTests.java:145)
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.lang.reflect.Method.invoke(Method.java:498)
	at org.junit.runners.model.FrameworkMethod$1.runReflectiveCall(FrameworkMethod.java:50)
	at org.junit.internal.runners.model.ReflectiveCallable.run(ReflectiveCallable.java:12)
	at org.junit.runners.model.FrameworkMethod.invokeExplosively(FrameworkMethod.java:47)
	at org.junit.internal.runners.statements.InvokeMethod.evaluate(InvokeMethod.java:17)
	at org.junit.internal.runners.statements.RunAfters.evaluate(RunAfters.java:27)
	at org.junit.internal.runners.statements.FailOnTimeout$CallableStatement.call(FailOnTimeout.java:298)
	at org.junit.internal.runners.statements.FailOnTimeout$CallableStatement.call(FailOnTimeout.java:292)
	at java.util.concurrent.FutureTask.run(FutureTask.java:266)
	at java.lang.Thread.run(Thread.java:748)
2019-09-24 16:57:30,530 INFO  impl.LeaderElection (LeaderElection.java:logAndReturn(56)) - s1@group-09A0EF6A68F4-LeaderElection97: Election TIMEOUT; received 0 response(s) [] and 0 exception(s); s1@group-09A0EF6A68F4:t37, leader=null, voted=s1, raftlog=s1@group-09A0EF6A68F4-SegmentedRaftLog:OPENED:c-1,f-1,i0, conf=-1: [s0:0.0.0.0:42611, s1:0.0.0.0:39575, s2:0.0.0.0:34382], old=null
2019-09-24 16:57:30,639 DEBUG impl.RaftServerImpl (RaftServerImpl.java:requestVote(775)) - s0@group-09A0EF6A68F4 replies to vote request: s1<-s0#0:OK-t37. Peer's state: s0@group-09A0EF6A68F4:t37, leader=null, voted=s1, raftlog=s0@group-09A0EF6A68F4-SegmentedRaftLog:OPENED:c-1,f-1,i0, conf=-1: [s0:0.0.0.0:42611, s1:0.0.0.0:39575, s2:0.0.0.0:34382], old=null
2019-09-24 16:57:30,639 DEBUG impl.RaftServerImpl (RaftServerImpl.java:requestVote(775)) - s2@group-09A0EF6A68F4 replies to vote request: s1<-s2#0:OK-t37. Peer's state: s2@group-09A0EF6A68F4:t37, leader=null, voted=s1, raftlog=s2@group-09A0EF6A68F4-SegmentedRaftLog:OPENED:c-1,f-1,i0, conf=-1: [s0:0.0.0.0:42611, s1:0.0.0.0:39575, s2:0.0.0.0:34382], old=null
2019-09-24 16:57:30,639 INFO  impl.FollowerState (FollowerState.java:run(108)) - s0@group-09A0EF6A68F4-FollowerState: change to CANDIDATE, lastRpcTime:326ms, electionTimeout:177ms
2019-09-24 16:57:30,639 INFO  impl.FollowerState (FollowerState.java:run(108)) - s2@group-09A0EF6A68F4-FollowerState: change to CANDIDATE, lastRpcTime:326ms, electionTimeout:159ms
2019-09-24 16:57:30,640 INFO  impl.RoleInfo (RoleInfo.java:shutdownFollowerState(121)) - s0: shutdown FollowerState
2019-09-24 16:57:30,640 INFO  impl.LeaderElection (LeaderElection.java:askForVotes(178)) - s1@group-09A0EF6A68F4-LeaderElection97: begin an election at term 38 for -1: [s0:0.0.0.0:42611, s1:0.0.0.0:39575, s2:0.0.0.0:34382], old=null
2019-09-24 16:57:30,640 INFO  impl.RoleInfo (RoleInfo.java:shutdownFollowerState(121)) - s2: shutdown FollowerState
2019-09-24 16:57:30,640 INFO  impl.RaftServerImpl (RaftServerImpl.java:setRole(170)) - s0@group-09A0EF6A68F4: changes role from  FOLLOWER to CANDIDATE at term 37 for changeToCandidate
2019-09-24 16:57:30,640 INFO  impl.RaftServerImpl (RaftServerImpl.java:setRole(170)) - s2@group-09A0EF6A68F4: changes role from  FOLLOWER to CANDIDATE at term 37 for changeToCandidate
2019-09-24 16:57:30,641 INFO  impl.RoleInfo (RoleInfo.java:updateAndGet(143)) - s0: start LeaderElection
2019-09-24 16:57:30,641 INFO  impl.RoleInfo (RoleInfo.java:updateAndGet(143)) - s2: start LeaderElection
2019-09-24 16:57:30,641 DEBUG impl.RaftServerImpl (RaftServerImpl.java:requestVote(743)) - s0@group-09A0EF6A68F4: receive requestVote(s1, group-09A0EF6A68F4, 38, (t:0, i:0))
2019-09-24 16:57:30,641 DEBUG impl.RaftServerImpl (RaftServerImpl.java:requestVote(743)) - s2@group-09A0EF6A68F4: receive requestVote(s1, group-09A0EF6A68F4, 38, (t:0, i:0))
2019-09-24 16:57:30,838 INFO  impl.LeaderElection (LeaderElection.java:logAndReturn(56)) - s1@group-09A0EF6A68F4-LeaderElection97: Election TIMEOUT; received 0 response(s) [] and 0 exception(s); s1@group-09A0EF6A68F4:t38, leader=null, voted=s1, raftlog=s1@group-09A0EF6A68F4-SegmentedRaftLog:OPENED:c-1,f-1,i0, conf=-1: [s0:0.0.0.0:42611, s1:0.0.0.0:39575, s2:0.0.0.0:34382], old=null
2019-09-24 16:57:30,908 WARN  ratis.RaftTestUtil (JavaUtils.java:attempt(158)) - FAILED "waitForLeader-null-(expectLeader? true)", attempt #47/100: java.lang.IllegalStateException: No leader yet : printing ALL groups
  s0:  RUNNING CANDIDATE s0@group-09A0EF6A68F4:t38, leader=null, voted=s0, raftlog=s0@group-09A0EF6A68F4-SegmentedRaftLog:OPENED:c-1,f-1,i0, conf=-1: [s0:0.0.0.0:42611, s1:0.0.0.0:39575, s2:0.0.0.0:34382], old=null RUNNING
  s1:  RUNNING CANDIDATE s1@group-09A0EF6A68F4:t39, leader=null, voted=s1, raftlog=s1@group-09A0EF6A68F4-SegmentedRaftLog:OPENED:c-1,f-1,i0, conf=-1: [s0:0.0.0.0:42611, s1:0.0.0.0:39575, s2:0.0.0.0:34382], old=null RUNNING
  s2:  RUNNING CANDIDATE s2@group-09A0EF6A68F4:t38, leader=null, voted=s2, raftlog=s2@group-09A0EF6A68F4-SegmentedRaftLog:OPENED:c-1,f-1,i0, conf=-1: [s0:0.0.0.0:42611, s1:0.0.0.0:39575, s2:0.0.0.0:34382], old=null RUNNING, sleep 450ms and then retry.
java.lang.IllegalStateException: No leader yet : printing ALL groups
  s0:  RUNNING CANDIDATE s0@group-09A0EF6A68F4:t38, leader=null, voted=s0, raftlog=s0@group-09A0EF6A68F4-SegmentedRaftLog:OPENED:c-1,f-1,i0, conf=-1: [s0:0.0.0.0:42611, s1:0.0.0.0:39575, s2:0.0.0.0:34382], old=null RUNNING
  s1:  RUNNING CANDIDATE s1@group-09A0EF6A68F4:t39, leader=null, voted=s1, raftlog=s1@group-09A0EF6A68F4-SegmentedRaftLog:OPENED:c-1,f-1,i0, conf=-1: [s0:0.0.0.0:42611, s1:0.0.0.0:39575, s2:0.0.0.0:34382], old=null RUNNING
  s2:  RUNNING CANDIDATE s2@group-09A0EF6A68F4:t38, leader=null, voted=s2, raftlog=s2@group-09A0EF6A68F4-SegmentedRaftLog:OPENED:c-1,f-1,i0, conf=-1: [s0:0.0.0.0:42611, s1:0.0.0.0:39575, s2:0.0.0.0:34382], old=null RUNNING
	at org.apache.ratis.MiniRaftCluster.newIllegalStateExceptionForNoLeaders(MiniRaftCluster.java:506)
	at org.apache.ratis.RaftTestUtil.lambda$waitForLeader$1(RaftTestUtil.java:90)
	at org.apache.ratis.MiniRaftCluster.getLeader(MiniRaftCluster.java:539)
	at org.apache.ratis.MiniRaftCluster.getLeader(MiniRaftCluster.java:532)
	at org.apache.ratis.RaftTestUtil.lambda$waitForLeader$3(RaftTestUtil.java:98)
	at org.apache.ratis.util.JavaUtils.attempt(JavaUtils.java:152)
	at org.apache.ratis.RaftTestUtil.waitForLeader(RaftTestUtil.java:97)
	at org.apache.ratis.RaftTestUtil.waitForLeader(RaftTestUtil.java:77)
	at org.apache.ratis.RaftTestUtil.waitForLeader(RaftTestUtil.java:72)
	at org.apache.ratis.server.impl.RaftStateMachineExceptionTests.runTestRetryOnExceptionDuringReplication(RaftStateMachineExceptionTests.java:149)
	at org.apache.ratis.MiniRaftCluster$Factory$Get.runWithNewCluster(MiniRaftCluster.java:125)
	at org.apache.ratis.MiniRaftCluster$Factory$Get.runWithNewCluster(MiniRaftCluster.java:113)
	at org.apache.ratis.server.impl.RaftStateMachineExceptionTests.testRetryOnExceptionDuringReplication(RaftStateMachineExceptionTests.java:145)
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.lang.reflect.Method.invoke(Method.java:498)
	at org.junit.runners.model.FrameworkMethod$1.runReflectiveCall(FrameworkMethod.java:50)
	at org.junit.internal.runners.model.ReflectiveCallable.run(ReflectiveCallable.java:12)
	at org.junit.runners.model.FrameworkMethod.invokeExplosively(FrameworkMethod.java:47)
	at org.junit.internal.runners.statements.InvokeMethod.evaluate(InvokeMethod.java:17)
	at org.junit.internal.runners.statements.RunAfters.evaluate(RunAfters.java:27)
	at org.junit.internal.runners.statements.FailOnTimeout$CallableStatement.call(FailOnTimeout.java:298)
	at org.junit.internal.runners.statements.FailOnTimeout$CallableStatement.call(FailOnTimeout.java:292)
	at java.util.concurrent.FutureTask.run(FutureTask.java:266)
	at java.lang.Thread.run(Thread.java:748)
2019-09-24 16:57:30,917 INFO  impl.LeaderElection (LeaderElection.java:askForVotes(178)) - s0@group-09A0EF6A68F4-LeaderElection98: begin an election at term 38 for -1: [s0:0.0.0.0:42611, s1:0.0.0.0:39575, s2:0.0.0.0:34382], old=null
2019-09-24 16:57:30,917 INFO  impl.LeaderElection (LeaderElection.java:askForVotes(178)) - s2@group-09A0EF6A68F4-LeaderElection99: begin an election at term 38 for -1: [s0:0.0.0.0:42611, s1:0.0.0.0:39575, s2:0.0.0.0:34382], old=null
2019-09-24 16:57:30,917 DEBUG impl.RaftServerImpl (RaftServerImpl.java:requestVote(775)) - s0@group-09A0EF6A68F4 replies to vote request: s1<-s0#0:FAIL-t38. Peer's state: s0@group-09A0EF6A68F4:t38, leader=null, voted=s0, raftlog=s0@group-09A0EF6A68F4-SegmentedRaftLog:OPENED:c-1,f-1,i0, conf=-1: [s0:0.0.0.0:42611, s1:0.0.0.0:39575, s2:0.0.0.0:34382], old=null
2019-09-24 16:57:30,917 INFO  impl.LeaderElection (LeaderElection.java:askForVotes(178)) - s1@group-09A0EF6A68F4-LeaderElection97: begin an election at term 39 for -1: [s0:0.0.0.0:42611, s1:0.0.0.0:39575, s2:0.0.0.0:34382], old=null
2019-09-24 16:57:30,917 DEBUG impl.RaftServerImpl (RaftServerImpl.java:requestVote(775)) - s2@group-09A0EF6A68F4 replies to vote request: s1<-s2#0:FAIL-t38. Peer's state: s2@group-09A0EF6A68F4:t38, leader=null, voted=s2, raftlog=s2@group-09A0EF6A68F4-SegmentedRaftLog:OPENED:c-1,f-1,i0, conf=-1: [s0:0.0.0.0:42611, s1:0.0.0.0:39575, s2:0.0.0.0:34382], old=null
2019-09-24 16:57:30,918 DEBUG impl.RaftServerImpl (RaftServerImpl.java:requestVote(743)) - s1@group-09A0EF6A68F4: receive requestVote(s0, group-09A0EF6A68F4, 38, (t:0, i:0))
2019-09-24 16:57:30,919 DEBUG impl.RaftServerImpl (RaftServerImpl.java:requestVote(743)) - s0@group-09A0EF6A68F4: receive requestVote(s2, group-09A0EF6A68F4, 38, (t:0, i:0))
2019-09-24 16:57:30,918 DEBUG impl.RaftServerImpl (RaftServerImpl.java:requestVote(743)) - s2@group-09A0EF6A68F4: receive requestVote(s0, group-09A0EF6A68F4, 38, (t:0, i:0))
2019-09-24 16:57:30,919 DEBUG impl.RaftServerImpl (RaftServerImpl.java:requestVote(775)) - s0@group-09A0EF6A68F4 replies to vote request: s2<-s0#0:FAIL-t38. Peer's state: s0@group-09A0EF6A68F4:t38, leader=null, voted=s0, raftlog=s0@group-09A0EF6A68F4-SegmentedRaftLog:OPENED:c-1,f-1,i0, conf=-1: [s0:0.0.0.0:42611, s1:0.0.0.0:39575, s2:0.0.0.0:34382], old=null
2019-09-24 16:57:30,919 DEBUG impl.RaftServerImpl (RaftServerImpl.java:requestVote(743)) - s1@group-09A0EF6A68F4: receive requestVote(s2, group-09A0EF6A68F4, 38, (t:0, i:0))
2019-09-24 16:57:30,919 DEBUG impl.RaftServerImpl (RaftServerImpl.java:requestVote(743)) - s0@group-09A0EF6A68F4: receive requestVote(s1, group-09A0EF6A68F4, 39, (t:0, i:0))
2019-09-24 16:57:30,919 DEBUG impl.RaftServerImpl (RaftServerImpl.java:requestVote(775)) - s1@group-09A0EF6A68F4 replies to vote request: s0<-s1#0:FAIL-t39. Peer's state: s1@group-09A0EF6A68F4:t39, leader=null, voted=s1, raftlog=s1@group-09A0EF6A68F4-SegmentedRaftLog:OPENED:c-1,f-1,i0, conf=-1: [s0:0.0.0.0:42611, s1:0.0.0.0:39575, s2:0.0.0.0:34382], old=null
2019-09-24 16:57:30,920 INFO  impl.RaftServerImpl (RaftServerImpl.java:setRole(170)) - s0@group-09A0EF6A68F4: changes role from CANDIDATE to FOLLOWER at term 39 for recognizeCandidate:s1
2019-09-24 16:57:30,920 INFO  impl.RoleInfo (RoleInfo.java:shutdownLeaderElection(134)) - s0: shutdown LeaderElection
2019-09-24 16:57:30,920 INFO  impl.LeaderElection (LeaderElection.java:logAndReturn(56)) - s0@group-09A0EF6A68F4-LeaderElection98: Election DISCOVERED_A_NEW_TERM; received 1 response(s) [s0<-s1#0:FAIL-t39] and 0 exception(s); s0@group-09A0EF6A68F4:t39, leader=null, voted=null, raftlog=s0@group-09A0EF6A68F4-SegmentedRaftLog:OPENED:c-1,f-1,i0, conf=-1: [s0:0.0.0.0:42611, s1:0.0.0.0:39575, s2:0.0.0.0:34382], old=null
2019-09-24 16:57:30,919 DEBUG impl.RaftServerImpl (RaftServerImpl.java:requestVote(775)) - s2@group-09A0EF6A68F4 replies to vote request: s0<-s2#0:FAIL-t38. Peer's state: s2@group-09A0EF6A68F4:t38, leader=null, voted=s2, raftlog=s2@group-09A0EF6A68F4-SegmentedRaftLog:OPENED:c-1,f-1,i0, conf=-1: [s0:0.0.0.0:42611, s1:0.0.0.0:39575, s2:0.0.0.0:34382], old=null
2019-09-24 16:57:30,919 DEBUG impl.RaftServerImpl (RaftServerImpl.java:requestVote(743)) - s2@group-09A0EF6A68F4: receive requestVote(s1, group-09A0EF6A68F4, 39, (t:0, i:0))
2019-09-24 16:57:30,920 INFO  impl.RoleInfo (RoleInfo.java:updateAndGet(143)) - s0: start FollowerState
2019-09-24 16:57:30,920 DEBUG impl.RaftServerImpl (RaftServerImpl.java:requestVote(775)) - s1@group-09A0EF6A68F4 replies to vote request: s2<-s1#0:FAIL-t39. Peer's state: s1@group-09A0EF6A68F4:t39, leader=null, voted=s1, raftlog=s1@group-09A0EF6A68F4-SegmentedRaftLog:OPENED:c-1,f-1,i0, conf=-1: [s0:0.0.0.0:42611, s1:0.0.0.0:39575, s2:0.0.0.0:34382], old=null
2019-09-24 16:57:30,921 INFO  impl.RaftServerImpl (RaftServerImpl.java:setRole(170)) - s2@group-09A0EF6A68F4: changes role from CANDIDATE to FOLLOWER at term 39 for recognizeCandidate:s1
2019-09-24 16:57:30,921 INFO  impl.RoleInfo (RoleInfo.java:shutdownLeaderElection(134)) - s2: shutdown LeaderElection
2019-09-24 16:57:30,921 INFO  impl.LeaderElection (LeaderElection.java:logAndReturn(56)) - s2@group-09A0EF6A68F4-LeaderElection99: Election DISCOVERED_A_NEW_TERM; received 2 response(s) [s2<-s0#0:FAIL-t38, s2<-s1#0:FAIL-t39] and 0 exception(s); s2@group-09A0EF6A68F4:t39, leader=null, voted=null, raftlog=s2@group-09A0EF6A68F4-SegmentedRaftLog:OPENED:c-1,f-1,i0, conf=-1: [s0:0.0.0.0:42611, s1:0.0.0.0:39575, s2:0.0.0.0:34382], old=null
2019-09-24 16:57:30,921 INFO  impl.RoleInfo (RoleInfo.java:updateAndGet(143)) - s2: start FollowerState
2019-09-24 16:57:31,140 INFO  impl.LeaderElection (LeaderElection.java:logAndReturn(56)) - s1@group-09A0EF6A68F4-LeaderElection97: Election TIMEOUT; received 0 response(s) [] and 0 exception(s); s1@group-09A0EF6A68F4:t39, leader=null, voted=s1, raftlog=s1@group-09A0EF6A68F4-SegmentedRaftLog:OPENED:c-1,f-1,i0, conf=-1: [s0:0.0.0.0:42611, s1:0.0.0.0:39575, s2:0.0.0.0:34382], old=null
2019-09-24 16:57:31,243 INFO  impl.LeaderElection (LeaderElection.java:askForVotes(178)) - s1@group-09A0EF6A68F4-LeaderElection97: begin an election at term 40 for -1: [s0:0.0.0.0:42611, s1:0.0.0.0:39575, s2:0.0.0.0:34382], old=null
2019-09-24 16:57:31,243 DEBUG impl.RaftServerImpl (RaftServerImpl.java:requestVote(775)) - s0@group-09A0EF6A68F4 replies to vote request: s1<-s0#0:FAIL-t39. Peer's state: s0@group-09A0EF6A68F4:t39, leader=null, voted=null, raftlog=s0@group-09A0EF6A68F4-SegmentedRaftLog:OPENED:c-1,f-1,i0, conf=-1: [s0:0.0.0.0:42611, s1:0.0.0.0:39575, s2:0.0.0.0:34382], old=null
2019-09-24 16:57:31,243 DEBUG impl.RaftServerImpl (RaftServerImpl.java:requestVote(775)) - s2@group-09A0EF6A68F4 replies to vote request: s1<-s2#0:FAIL-t39. Peer's state: s2@group-09A0EF6A68F4:t39, leader=null, voted=null, raftlog=s2@group-09A0EF6A68F4-SegmentedRaftLog:OPENED:c-1,f-1,i0, conf=-1: [s0:0.0.0.0:42611, s1:0.0.0.0:39575, s2:0.0.0.0:34382], old=null
2019-09-24 16:57:31,244 INFO  impl.FollowerState (FollowerState.java:run(108)) - s0@group-09A0EF6A68F4-FollowerState: change to CANDIDATE, lastRpcTime:323ms, electionTimeout:181ms
2019-09-24 16:57:31,244 INFO  impl.FollowerState (FollowerState.java:run(108)) - s2@group-09A0EF6A68F4-FollowerState: change to CANDIDATE, lastRpcTime:322ms, electionTimeout:273ms
2019-09-24 16:57:31,244 INFO  impl.RoleInfo (RoleInfo.java:shutdownFollowerState(121)) - s0: shutdown FollowerState
2019-09-24 16:57:31,245 DEBUG impl.RaftServerImpl (RaftServerImpl.java:requestVote(743)) - s0@group-09A0EF6A68F4: receive requestVote(s1, group-09A0EF6A68F4, 40, (t:0, i:0))
2019-09-24 16:57:31,245 INFO  impl.RaftServerImpl (RaftServerImpl.java:setRole(170)) - s0@group-09A0EF6A68F4: changes role from  FOLLOWER to CANDIDATE at term 39 for changeToCandidate
2019-09-24 16:57:31,245 DEBUG impl.RaftServerImpl (RaftServerImpl.java:requestVote(743)) - s2@group-09A0EF6A68F4: receive requestVote(s1, group-09A0EF6A68F4, 40, (t:0, i:0))
2019-09-24 16:57:31,244 INFO  impl.RoleInfo (RoleInfo.java:shutdownFollowerState(121)) - s2: shutdown FollowerState
2019-09-24 16:57:31,245 INFO  impl.RoleInfo (RoleInfo.java:updateAndGet(143)) - s0: start LeaderElection
2019-09-24 16:57:31,245 INFO  impl.RaftServerImpl (RaftServerImpl.java:setRole(170)) - s2@group-09A0EF6A68F4: changes role from  FOLLOWER to CANDIDATE at term 39 for changeToCandidate
2019-09-24 16:57:31,246 INFO  impl.RoleInfo (RoleInfo.java:updateAndGet(143)) - s2: start LeaderElection
2019-09-24 16:57:31,246 INFO  impl.RaftServerImpl (RaftServerImpl.java:setRole(170)) - s0@group-09A0EF6A68F4: changes role from CANDIDATE to FOLLOWER at term 40 for recognizeCandidate:s1
2019-09-24 16:57:31,246 INFO  impl.RoleInfo (RoleInfo.java:shutdownLeaderElection(134)) - s0: shutdown LeaderElection
2019-09-24 16:57:31,246 INFO  impl.RaftServerImpl (RaftServerImpl.java:setRole(170)) - s2@group-09A0EF6A68F4: changes role from CANDIDATE to FOLLOWER at term 40 for recognizeCandidate:s1
2019-09-24 16:57:31,246 INFO  impl.RoleInfo (RoleInfo.java:updateAndGet(143)) - s0: start FollowerState
2019-09-24 16:57:31,246 INFO  impl.RoleInfo (RoleInfo.java:shutdownLeaderElection(134)) - s2: shutdown LeaderElection
2019-09-24 16:57:31,247 INFO  impl.RoleInfo (RoleInfo.java:updateAndGet(143)) - s2: start FollowerState
2019-09-24 16:57:31,360 WARN  ratis.RaftTestUtil (JavaUtils.java:attempt(158)) - FAILED "waitForLeader-null-(expectLeader? true)", attempt #48/100: java.lang.IllegalStateException: No leader yet : printing ALL groups
  s0:  RUNNING  FOLLOWER s0@group-09A0EF6A68F4:t40, leader=null, voted=null, raftlog=s0@group-09A0EF6A68F4-SegmentedRaftLog:OPENED:c-1,f-1,i0, conf=-1: [s0:0.0.0.0:42611, s1:0.0.0.0:39575, s2:0.0.0.0:34382], old=null RUNNING
  s1:  RUNNING CANDIDATE s1@group-09A0EF6A68F4:t40, leader=null, voted=s1, raftlog=s1@group-09A0EF6A68F4-SegmentedRaftLog:OPENED:c-1,f-1,i0, conf=-1: [s0:0.0.0.0:42611, s1:0.0.0.0:39575, s2:0.0.0.0:34382], old=null RUNNING
  s2:  RUNNING  FOLLOWER s2@group-09A0EF6A68F4:t40, leader=null, voted=null, raftlog=s2@group-09A0EF6A68F4-SegmentedRaftLog:OPENED:c-1,f-1,i0, conf=-1: [s0:0.0.0.0:42611, s1:0.0.0.0:39575, s2:0.0.0.0:34382], old=null RUNNING, sleep 450ms and then retry.
java.lang.IllegalStateException: No leader yet : printing ALL groups
  s0:  RUNNING  FOLLOWER s0@group-09A0EF6A68F4:t40, leader=null, voted=null, raftlog=s0@group-09A0EF6A68F4-SegmentedRaftLog:OPENED:c-1,f-1,i0, conf=-1: [s0:0.0.0.0:42611, s1:0.0.0.0:39575, s2:0.0.0.0:34382], old=null RUNNING
  s1:  RUNNING CANDIDATE s1@group-09A0EF6A68F4:t40, leader=null, voted=s1, raftlog=s1@group-09A0EF6A68F4-SegmentedRaftLog:OPENED:c-1,f-1,i0, conf=-1: [s0:0.0.0.0:42611, s1:0.0.0.0:39575, s2:0.0.0.0:34382], old=null RUNNING
  s2:  RUNNING  FOLLOWER s2@group-09A0EF6A68F4:t40, leader=null, voted=null, raftlog=s2@group-09A0EF6A68F4-SegmentedRaftLog:OPENED:c-1,f-1,i0, conf=-1: [s0:0.0.0.0:42611, s1:0.0.0.0:39575, s2:0.0.0.0:34382], old=null RUNNING
	at org.apache.ratis.MiniRaftCluster.newIllegalStateExceptionForNoLeaders(MiniRaftCluster.java:506)
	at org.apache.ratis.RaftTestUtil.lambda$waitForLeader$1(RaftTestUtil.java:90)
	at org.apache.ratis.MiniRaftCluster.getLeader(MiniRaftCluster.java:539)
	at org.apache.ratis.MiniRaftCluster.getLeader(MiniRaftCluster.java:532)
	at org.apache.ratis.RaftTestUtil.lambda$waitForLeader$3(RaftTestUtil.java:98)
	at org.apache.ratis.util.JavaUtils.attempt(JavaUtils.java:152)
	at org.apache.ratis.RaftTestUtil.waitForLeader(RaftTestUtil.java:97)
	at org.apache.ratis.RaftTestUtil.waitForLeader(RaftTestUtil.java:77)
	at org.apache.ratis.RaftTestUtil.waitForLeader(RaftTestUtil.java:72)
	at org.apache.ratis.server.impl.RaftStateMachineExceptionTests.runTestRetryOnExceptionDuringReplication(RaftStateMachineExceptionTests.java:149)
	at org.apache.ratis.MiniRaftCluster$Factory$Get.runWithNewCluster(MiniRaftCluster.java:125)
	at org.apache.ratis.MiniRaftCluster$Factory$Get.runWithNewCluster(MiniRaftCluster.java:113)
	at org.apache.ratis.server.impl.RaftStateMachineExceptionTests.testRetryOnExceptionDuringReplication(RaftStateMachineExceptionTests.java:145)
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.lang.reflect.Method.invoke(Method.java:498)
	at org.junit.runners.model.FrameworkMethod$1.runReflectiveCall(FrameworkMethod.java:50)
	at org.junit.internal.runners.model.ReflectiveCallable.run(ReflectiveCallable.java:12)
	at org.junit.runners.model.FrameworkMethod.invokeExplosively(FrameworkMethod.java:47)
	at org.junit.internal.runners.statements.InvokeMethod.evaluate(InvokeMethod.java:17)
	at org.junit.internal.runners.statements.RunAfters.evaluate(RunAfters.java:27)
	at org.junit.internal.runners.statements.FailOnTimeout$CallableStatement.call(FailOnTimeout.java:298)
	at org.junit.internal.runners.statements.FailOnTimeout$CallableStatement.call(FailOnTimeout.java:292)
	at java.util.concurrent.FutureTask.run(FutureTask.java:266)
	at java.lang.Thread.run(Thread.java:748)
2019-09-24 16:57:31,397 INFO  impl.LeaderElection (LeaderElection.java:logAndReturn(56)) - s1@group-09A0EF6A68F4-LeaderElection97: Election TIMEOUT; received 0 response(s) [] and 0 exception(s); s1@group-09A0EF6A68F4:t40, leader=null, voted=s1, raftlog=s1@group-09A0EF6A68F4-SegmentedRaftLog:OPENED:c-1,f-1,i0, conf=-1: [s0:0.0.0.0:42611, s1:0.0.0.0:39575, s2:0.0.0.0:34382], old=null
2019-09-24 16:57:31,609 INFO  impl.LeaderElection (LeaderElection.java:askForVotes(178)) - s1@group-09A0EF6A68F4-LeaderElection97: begin an election at term 41 for -1: [s0:0.0.0.0:42611, s1:0.0.0.0:39575, s2:0.0.0.0:34382], old=null
2019-09-24 16:57:31,609 DEBUG impl.RaftServerImpl (RaftServerImpl.java:requestVote(775)) - s2@group-09A0EF6A68F4 replies to vote request: s1<-s2#0:FAIL-t40. Peer's state: s2@group-09A0EF6A68F4:t40, leader=null, voted=null, raftlog=s2@group-09A0EF6A68F4-SegmentedRaftLog:OPENED:c-1,f-1,i0, conf=-1: [s0:0.0.0.0:42611, s1:0.0.0.0:39575, s2:0.0.0.0:34382], old=null
2019-09-24 16:57:31,609 DEBUG impl.RaftServerImpl (RaftServerImpl.java:requestVote(775)) - s0@group-09A0EF6A68F4 replies to vote request: s1<-s0#0:FAIL-t40. Peer's state: s0@group-09A0EF6A68F4:t40, leader=null, voted=null, raftlog=s0@group-09A0EF6A68F4-SegmentedRaftLog:OPENED:c-1,f-1,i0, conf=-1: [s0:0.0.0.0:42611, s1:0.0.0.0:39575, s2:0.0.0.0:34382], old=null
2019-09-24 16:57:31,610 INFO  impl.FollowerState (FollowerState.java:run(108)) - s2@group-09A0EF6A68F4-FollowerState: change to CANDIDATE, lastRpcTime:362ms, electionTimeout:294ms
2019-09-24 16:57:31,610 INFO  impl.FollowerState (FollowerState.java:run(108)) - s0@group-09A0EF6A68F4-FollowerState: change to CANDIDATE, lastRpcTime:363ms, electionTimeout:246ms
2019-09-24 16:57:31,610 INFO  impl.RoleInfo (RoleInfo.java:shutdownFollowerState(121)) - s2: shutdown FollowerState
2019-09-24 16:57:31,611 DEBUG impl.RaftServerImpl (RaftServerImpl.java:requestVote(743)) - s2@group-09A0EF6A68F4: receive requestVote(s1, group-09A0EF6A68F4, 41, (t:0, i:0))
2019-09-24 16:57:31,610 DEBUG impl.RaftServerImpl (RaftServerImpl.java:requestVote(743)) - s0@group-09A0EF6A68F4: receive requestVote(s1, group-09A0EF6A68F4, 41, (t:0, i:0))
2019-09-24 16:57:31,610 INFO  impl.RoleInfo (RoleInfo.java:shutdownFollowerState(121)) - s0: shutdown FollowerState
2019-09-24 16:57:31,611 INFO  impl.RaftServerImpl (RaftServerImpl.java:setRole(170)) - s2@group-09A0EF6A68F4: changes role from  FOLLOWER to CANDIDATE at term 40 for changeToCandidate
2019-09-24 16:57:31,611 INFO  impl.RaftServerImpl (RaftServerImpl.java:setRole(170)) - s0@group-09A0EF6A68F4: changes role from  FOLLOWER to CANDIDATE at term 40 for changeToCandidate
2019-09-24 16:57:31,611 INFO  impl.RoleInfo (RoleInfo.java:updateAndGet(143)) - s2: start LeaderElection
2019-09-24 16:57:31,611 INFO  impl.RoleInfo (RoleInfo.java:updateAndGet(143)) - s0: start LeaderElection
2019-09-24 16:57:31,811 WARN  ratis.RaftTestUtil (JavaUtils.java:attempt(158)) - FAILED "waitForLeader-null-(expectLeader? true)", attempt #49/100: java.lang.IllegalStateException: No leader yet : printing ALL groups
  s0:  RUNNING CANDIDATE s0@group-09A0EF6A68F4:t41, leader=null, voted=s0, raftlog=s0@group-09A0EF6A68F4-SegmentedRaftLog:OPENED:c-1,f-1,i0, conf=-1: [s0:0.0.0.0:42611, s1:0.0.0.0:39575, s2:0.0.0.0:34382], old=null RUNNING
  s1:  RUNNING CANDIDATE s1@group-09A0EF6A68F4:t41, leader=null, voted=s1, raftlog=s1@group-09A0EF6A68F4-SegmentedRaftLog:OPENED:c-1,f-1,i0, conf=-1: [s0:0.0.0.0:42611, s1:0.0.0.0:39575, s2:0.0.0.0:34382], old=null RUNNING
  s2:  RUNNING CANDIDATE s2@group-09A0EF6A68F4:t41, leader=null, voted=s2, raftlog=s2@group-09A0EF6A68F4-SegmentedRaftLog:OPENED:c-1,f-1,i0, conf=-1: [s0:0.0.0.0:42611, s1:0.0.0.0:39575, s2:0.0.0.0:34382], old=null RUNNING, sleep 450ms and then retry.
java.lang.IllegalStateException: No leader yet : printing ALL groups
  s0:  RUNNING CANDIDATE s0@group-09A0EF6A68F4:t41, leader=null, voted=s0, raftlog=s0@group-09A0EF6A68F4-SegmentedRaftLog:OPENED:c-1,f-1,i0, conf=-1: [s0:0.0.0.0:42611, s1:0.0.0.0:39575, s2:0.0.0.0:34382], old=null RUNNING
  s1:  RUNNING CANDIDATE s1@group-09A0EF6A68F4:t41, leader=null, voted=s1, raftlog=s1@group-09A0EF6A68F4-SegmentedRaftLog:OPENED:c-1,f-1,i0, conf=-1: [s0:0.0.0.0:42611, s1:0.0.0.0:39575, s2:0.0.0.0:34382], old=null RUNNING
  s2:  RUNNING CANDIDATE s2@group-09A0EF6A68F4:t41, leader=null, voted=s2, raftlog=s2@group-09A0EF6A68F4-SegmentedRaftLog:OPENED:c-1,f-1,i0, conf=-1: [s0:0.0.0.0:42611, s1:0.0.0.0:39575, s2:0.0.0.0:34382], old=null RUNNING
	at org.apache.ratis.MiniRaftCluster.newIllegalStateExceptionForNoLeaders(MiniRaftCluster.java:506)
	at org.apache.ratis.RaftTestUtil.lambda$waitForLeader$1(RaftTestUtil.java:90)
	at org.apache.ratis.MiniRaftCluster.getLeader(MiniRaftCluster.java:539)
	at org.apache.ratis.MiniRaftCluster.getLeader(MiniRaftCluster.java:532)
	at org.apache.ratis.RaftTestUtil.lambda$waitForLeader$3(RaftTestUtil.java:98)
	at org.apache.ratis.util.JavaUtils.attempt(JavaUtils.java:152)
	at org.apache.ratis.RaftTestUtil.waitForLeader(RaftTestUtil.java:97)
	at org.apache.ratis.RaftTestUtil.waitForLeader(RaftTestUtil.java:77)
	at org.apache.ratis.RaftTestUtil.waitForLeader(RaftTestUtil.java:72)
	at org.apache.ratis.server.impl.RaftStateMachineExceptionTests.runTestRetryOnExceptionDuringReplication(RaftStateMachineExceptionTests.java:149)
	at org.apache.ratis.MiniRaftCluster$Factory$Get.runWithNewCluster(MiniRaftCluster.java:125)
	at org.apache.ratis.MiniRaftCluster$Factory$Get.runWithNewCluster(MiniRaftCluster.java:113)
	at org.apache.ratis.server.impl.RaftStateMachineExceptionTests.testRetryOnExceptionDuringReplication(RaftStateMachineExceptionTests.java:145)
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.lang.reflect.Method.invoke(Method.java:498)
	at org.junit.runners.model.FrameworkMethod$1.runReflectiveCall(FrameworkMethod.java:50)
	at org.junit.internal.runners.model.ReflectiveCallable.run(ReflectiveCallable.java:12)
	at org.junit.runners.model.FrameworkMethod.invokeExplosively(FrameworkMethod.java:47)
	at org.junit.internal.runners.statements.InvokeMethod.evaluate(InvokeMethod.java:17)
	at org.junit.internal.runners.statements.RunAfters.evaluate(RunAfters.java:27)
	at org.junit.internal.runners.statements.FailOnTimeout$CallableStatement.call(FailOnTimeout.java:298)
	at org.junit.internal.runners.statements.FailOnTimeout$CallableStatement.call(FailOnTimeout.java:292)
	at java.util.concurrent.FutureTask.run(FutureTask.java:266)
	at java.lang.Thread.run(Thread.java:748)
2019-09-24 16:57:31,818 INFO  impl.LeaderElection (LeaderElection.java:askForVotes(178)) - s0@group-09A0EF6A68F4-LeaderElection100: begin an election at term 41 for -1: [s0:0.0.0.0:42611, s1:0.0.0.0:39575, s2:0.0.0.0:34382], old=null
2019-09-24 16:57:31,818 INFO  impl.LeaderElection (LeaderElection.java:askForVotes(178)) - s2@group-09A0EF6A68F4-LeaderElection101: begin an election at term 41 for -1: [s0:0.0.0.0:42611, s1:0.0.0.0:39575, s2:0.0.0.0:34382], old=null
2019-09-24 16:57:31,879 INFO  impl.LeaderElection (LeaderElection.java:logAndReturn(56)) - s1@group-09A0EF6A68F4-LeaderElection97: Election TIMEOUT; received 0 response(s) [] and 0 exception(s); s1@group-09A0EF6A68F4:t41, leader=null, voted=s1, raftlog=s1@group-09A0EF6A68F4-SegmentedRaftLog:OPENED:c-1,f-1,i0, conf=-1: [s0:0.0.0.0:42611, s1:0.0.0.0:39575, s2:0.0.0.0:34382], old=null
2019-09-24 16:57:32,214 INFO  impl.LeaderElection (LeaderElection.java:askForVotes(178)) - s2@group-09A0EF6A68F4-LeaderElection102: begin an election at term 42 for -1: [s0:0.0.0.0:42611, s1:0.0.0.0:39575, s2:0.0.0.0:34382], old=null
2019-09-24 16:57:32,214 DEBUG impl.RaftServerImpl (RaftServerImpl.java:requestVote(775)) - s2@group-09A0EF6A68F4 replies to vote request: s1<-s2#0:FAIL-t42. Peer's state: s2@group-09A0EF6A68F4:t42, leader=null, voted=s2, raftlog=s2@group-09A0EF6A68F4-SegmentedRaftLog:OPENED:c-1,f-1,i0, conf=-1: [s0:0.0.0.0:42611, s1:0.0.0.0:39575, s2:0.0.0.0:34382], old=null
2019-09-24 16:57:32,214 DEBUG impl.RaftServerImpl (RaftServerImpl.java:requestVote(775)) - s0@group-09A0EF6A68F4 replies to vote request: s1<-s0#0:FAIL-t42. Peer's state: s0@group-09A0EF6A68F4:t42, leader=null, voted=s0, raftlog=s0@group-09A0EF6A68F4-SegmentedRaftLog:OPENED:c-1,f-1,i0, conf=-1: [s0:0.0.0.0:42611, s1:0.0.0.0:39575, s2:0.0.0.0:34382], old=null
2019-09-24 16:57:32,214 INFO  impl.LeaderElection (LeaderElection.java:askForVotes(178)) - s0@group-09A0EF6A68F4-LeaderElection103: begin an election at term 42 for -1: [s0:0.0.0.0:42611, s1:0.0.0.0:39575, s2:0.0.0.0:34382], old=null
2019-09-24 16:57:32,215 INFO  impl.LeaderElection (LeaderElection.java:askForVotes(178)) - s1@group-09A0EF6A68F4-LeaderElection97: begin an election at term 42 for -1: [s0:0.0.0.0:42611, s1:0.0.0.0:39575, s2:0.0.0.0:34382], old=null
2019-09-24 16:57:32,215 DEBUG impl.RaftServerImpl (RaftServerImpl.java:requestVote(743)) - s0@group-09A0EF6A68F4: receive requestVote(s2, group-09A0EF6A68F4, 42, (t:0, i:0))
2019-09-24 16:57:32,216 DEBUG impl.RaftServerImpl (RaftServerImpl.java:requestVote(775)) - s0@group-09A0EF6A68F4 replies to vote request: s2<-s0#0:FAIL-t42. Peer's state: s0@group-09A0EF6A68F4:t42, leader=null, voted=s0, raftlog=s0@group-09A0EF6A68F4-SegmentedRaftLog:OPENED:c-1,f-1,i0, conf=-1: [s0:0.0.0.0:42611, s1:0.0.0.0:39575, s2:0.0.0.0:34382], old=null
2019-09-24 16:57:32,216 DEBUG impl.RaftServerImpl (RaftServerImpl.java:requestVote(743)) - s1@group-09A0EF6A68F4: receive requestVote(s0, group-09A0EF6A68F4, 41, (t:0, i:0))
2019-09-24 16:57:32,216 INFO  impl.LeaderElection (LeaderElection.java:logAndReturn(56)) - s0@group-09A0EF6A68F4-LeaderElection100: Election REJECTED; received 0 response(s) [] and 0 exception(s); s0@group-09A0EF6A68F4:t42, leader=null, voted=s0, raftlog=s0@group-09A0EF6A68F4-SegmentedRaftLog:OPENED:c-1,f-1,i0, conf=-1: [s0:0.0.0.0:42611, s1:0.0.0.0:39575, s2:0.0.0.0:34382], old=null
2019-09-24 16:57:32,216 DEBUG impl.RaftServerImpl (RaftServerImpl.java:requestVote(743)) - s0@group-09A0EF6A68F4: receive requestVote(s2, group-09A0EF6A68F4, 41, (t:0, i:0))
2019-09-24 16:57:32,216 DEBUG impl.RaftServerImpl (RaftServerImpl.java:requestVote(743)) - s2@group-09A0EF6A68F4: receive requestVote(s0, group-09A0EF6A68F4, 41, (t:0, i:0))
2019-09-24 16:57:32,216 DEBUG impl.RaftServerImpl (RaftServerImpl.java:requestVote(743)) - s1@group-09A0EF6A68F4: receive requestVote(s2, group-09A0EF6A68F4, 42, (t:0, i:0))
2019-09-24 16:57:32,216 DEBUG impl.RaftServerImpl (RaftServerImpl.java:requestVote(775)) - s1@group-09A0EF6A68F4 replies to vote request: s0<-s1#0:FAIL-t42. Peer's state: s1@group-09A0EF6A68F4:t42, leader=null, voted=s1, raftlog=s1@group-09A0EF6A68F4-SegmentedRaftLog:OPENED:c-1,f-1,i0, conf=-1: [s0:0.0.0.0:42611, s1:0.0.0.0:39575, s2:0.0.0.0:34382], old=null
2019-09-24 16:57:32,217 DEBUG impl.RaftServerImpl (RaftServerImpl.java:requestVote(743)) - s0@group-09A0EF6A68F4: receive requestVote(s1, group-09A0EF6A68F4, 42, (t:0, i:0))
2019-09-24 16:57:32,217 INFO  impl.LeaderElection (LeaderElection.java:logAndReturn(56)) - s2@group-09A0EF6A68F4-LeaderElection101: Election REJECTED; received 0 response(s) [] and 0 exception(s); s2@group-09A0EF6A68F4:t42, leader=null, voted=s2, raftlog=s2@group-09A0EF6A68F4-SegmentedRaftLog:OPENED:c-1,f-1,i0, conf=-1: [s0:0.0.0.0:42611, s1:0.0.0.0:39575, s2:0.0.0.0:34382], old=null
2019-09-24 16:57:32,217 DEBUG impl.RaftServerImpl (RaftServerImpl.java:requestVote(775)) - s2@group-09A0EF6A68F4 replies to vote request: s0<-s2#0:FAIL-t42. Peer's state: s2@group-09A0EF6A68F4:t42, leader=null, voted=s2, raftlog=s2@group-09A0EF6A68F4-SegmentedRaftLog:OPENED:c-1,f-1,i0, conf=-1: [s0:0.0.0.0:42611, s1:0.0.0.0:39575, s2:0.0.0.0:34382], old=null
2019-09-24 16:57:32,217 DEBUG impl.RaftServerImpl (RaftServerImpl.java:requestVote(743)) - s1@group-09A0EF6A68F4: receive requestVote(s0, group-09A0EF6A68F4, 42, (t:0, i:0))
2019-09-24 16:57:32,217 DEBUG impl.RaftServerImpl (RaftServerImpl.java:requestVote(775)) - s0@group-09A0EF6A68F4 replies to vote request: s2<-s0#0:FAIL-t42. Peer's state: s0@group-09A0EF6A68F4:t42, leader=null, voted=s0, raftlog=s0@group-09A0EF6A68F4-SegmentedRaftLog:OPENED:c-1,f-1,i0, conf=-1: [s0:0.0.0.0:42611, s1:0.0.0.0:39575, s2:0.0.0.0:34382], old=null
2019-09-24 16:57:32,217 DEBUG impl.RaftServerImpl (RaftServerImpl.java:requestVote(743)) - s2@group-09A0EF6A68F4: receive requestVote(s0, group-09A0EF6A68F4, 42, (t:0, i:0))
2019-09-24 16:57:32,217 DEBUG impl.RaftServerImpl (RaftServerImpl.java:requestVote(743)) - s1@group-09A0EF6A68F4: receive requestVote(s2, group-09A0EF6A68F4, 41, (t:0, i:0))
2019-09-24 16:57:32,217 DEBUG impl.RaftServerImpl (RaftServerImpl.java:requestVote(775)) - s1@group-09A0EF6A68F4 replies to vote request: s2<-s1#0:FAIL-t42. Peer's state: s1@group-09A0EF6A68F4:t42, leader=null, voted=s1, raftlog=s1@group-09A0EF6A68F4-SegmentedRaftLog:OPENED:c-1,f-1,i0, conf=-1: [s0:0.0.0.0:42611, s1:0.0.0.0:39575, s2:0.0.0.0:34382], old=null
2019-09-24 16:57:32,218 DEBUG impl.RaftServerImpl (RaftServerImpl.java:requestVote(775)) - s2@group-09A0EF6A68F4 replies to vote request: s0<-s2#0:FAIL-t42. Peer's state: s2@group-09A0EF6A68F4:t42, leader=null, voted=s2, raftlog=s2@group-09A0EF6A68F4-SegmentedRaftLog:OPENED:c-1,f-1,i0, conf=-1: [s0:0.0.0.0:42611, s1:0.0.0.0:39575, s2:0.0.0.0:34382], old=null
2019-09-24 16:57:32,218 DEBUG impl.RaftServerImpl (RaftServerImpl.java:requestVote(775)) - s0@group-09A0EF6A68F4 replies to vote request: s1<-s0#0:FAIL-t42. Peer's state: s0@group-09A0EF6A68F4:t42, leader=null, voted=s0, raftlog=s0@group-09A0EF6A68F4-SegmentedRaftLog:OPENED:c-1,f-1,i0, conf=-1: [s0:0.0.0.0:42611, s1:0.0.0.0:39575, s2:0.0.0.0:34382], old=null
2019-09-24 16:57:32,219 INFO  impl.LeaderElection (LeaderElection.java:logAndReturn(56)) - s2@group-09A0EF6A68F4-LeaderElection102: Election REJECTED; received 2 response(s) [s2<-s0#0:FAIL-t42, s2<-s1#0:FAIL-t42] and 0 exception(s); s2@group-09A0EF6A68F4:t42, leader=null, voted=s2, raftlog=s2@group-09A0EF6A68F4-SegmentedRaftLog:OPENED:c-1,f-1,i0, conf=-1: [s0:0.0.0.0:42611, s1:0.0.0.0:39575, s2:0.0.0.0:34382], old=null
2019-09-24 16:57:32,219 DEBUG impl.RaftServerImpl (RaftServerImpl.java:requestVote(775)) - s1@group-09A0EF6A68F4 replies to vote request: s2<-s1#0:FAIL-t42. Peer's state: s1@group-09A0EF6A68F4:t42, leader=null, voted=s1, raftlog=s1@group-09A0EF6A68F4-SegmentedRaftLog:OPENED:c-1,f-1,i0, conf=-1: [s0:0.0.0.0:42611, s1:0.0.0.0:39575, s2:0.0.0.0:34382], old=null
2019-09-24 16:57:32,219 INFO  impl.RaftServerImpl (RaftServerImpl.java:setRole(170)) - s2@group-09A0EF6A68F4: changes role from CANDIDATE to FOLLOWER at term 42 for DISCOVERED_A_NEW_TERM
2019-09-24 16:57:32,219 INFO  impl.RoleInfo (RoleInfo.java:shutdownLeaderElection(134)) - s2: shutdown LeaderElection
2019-09-24 16:57:32,219 DEBUG impl.RaftServerImpl (RaftServerImpl.java:requestVote(743)) - s2@group-09A0EF6A68F4: receive requestVote(s1, group-09A0EF6A68F4, 42, (t:0, i:0))
2019-09-24 16:57:32,220 INFO  impl.RoleInfo (RoleInfo.java:updateAndGet(143)) - s2: start FollowerState
2019-09-24 16:57:32,219 DEBUG impl.RaftServerImpl (RaftServerImpl.java:requestVote(775)) - s1@group-09A0EF6A68F4 replies to vote request: s0<-s1#0:FAIL-t42. Peer's state: s1@group-09A0EF6A68F4:t42, leader=null, voted=s1, raftlog=s1@group-09A0EF6A68F4-SegmentedRaftLog:OPENED:c-1,f-1,i0, conf=-1: [s0:0.0.0.0:42611, s1:0.0.0.0:39575, s2:0.0.0.0:34382], old=null
2019-09-24 16:57:32,220 DEBUG impl.RaftServerImpl (RaftServerImpl.java:requestVote(775)) - s2@group-09A0EF6A68F4 replies to vote request: s1<-s2#0:FAIL-t42. Peer's state: s2@group-09A0EF6A68F4:t42, leader=null, voted=s2, raftlog=s2@group-09A0EF6A68F4-SegmentedRaftLog:OPENED:c-1,f-1,i0, conf=-1: [s0:0.0.0.0:42611, s1:0.0.0.0:39575, s2:0.0.0.0:34382], old=null
2019-09-24 16:57:32,220 INFO  impl.LeaderElection (LeaderElection.java:logAndReturn(56)) - s0@group-09A0EF6A68F4-LeaderElection103: Election REJECTED; received 2 response(s) [s0<-s1#0:FAIL-t42, s0<-s2#0:FAIL-t42] and 0 exception(s); s0@group-09A0EF6A68F4:t42, leader=null, voted=s0, raftlog=s0@group-09A0EF6A68F4-SegmentedRaftLog:OPENED:c-1,f-1,i0, conf=-1: [s0:0.0.0.0:42611, s1:0.0.0.0:39575, s2:0.0.0.0:34382], old=null
2019-09-24 16:57:32,220 INFO  impl.LeaderElection (LeaderElection.java:logAndReturn(56)) - s1@group-09A0EF6A68F4-LeaderElection97: Election REJECTED; received 2 response(s) [s1<-s0#0:FAIL-t42, s1<-s2#0:FAIL-t42] and 0 exception(s); s1@group-09A0EF6A68F4:t42, leader=null, voted=s1, raftlog=s1@group-09A0EF6A68F4-SegmentedRaftLog:OPENED:c-1,f-1,i0, conf=-1: [s0:0.0.0.0:42611, s1:0.0.0.0:39575, s2:0.0.0.0:34382], old=null
2019-09-24 16:57:32,221 INFO  impl.RaftServerImpl (RaftServerImpl.java:setRole(170)) - s0@group-09A0EF6A68F4: changes role from CANDIDATE to FOLLOWER at term 42 for DISCOVERED_A_NEW_TERM
2019-09-24 16:57:32,221 INFO  impl.RaftServerImpl (RaftServerImpl.java:setRole(170)) - s1@group-09A0EF6A68F4: changes role from CANDIDATE to FOLLOWER at term 42 for DISCOVERED_A_NEW_TERM
2019-09-24 16:57:32,221 INFO  impl.RoleInfo (RoleInfo.java:shutdownLeaderElection(134)) - s0: shutdown LeaderElection
2019-09-24 16:57:32,221 INFO  impl.RoleInfo (RoleInfo.java:shutdownLeaderElection(134)) - s1: shutdown LeaderElection
2019-09-24 16:57:32,221 INFO  impl.RoleInfo (RoleInfo.java:updateAndGet(143)) - s0: start FollowerState
2019-09-24 16:57:32,221 INFO  impl.RoleInfo (RoleInfo.java:updateAndGet(143)) - s1: start FollowerState
2019-09-24 16:57:32,262 WARN  ratis.RaftTestUtil (JavaUtils.java:attempt(158)) - FAILED "waitForLeader-null-(expectLeader? true)", attempt #50/100: java.lang.IllegalStateException: No leader yet : printing ALL groups
  s0:  RUNNING  FOLLOWER s0@group-09A0EF6A68F4:t42, leader=null, voted=s0, raftlog=s0@group-09A0EF6A68F4-SegmentedRaftLog:OPENED:c-1,f-1,i0, conf=-1: [s0:0.0.0.0:42611, s1:0.0.0.0:39575, s2:0.0.0.0:34382], old=null RUNNING
  s1:  RUNNING  FOLLOWER s1@group-09A0EF6A68F4:t42, leader=null, voted=s1, raftlog=s1@group-09A0EF6A68F4-SegmentedRaftLog:OPENED:c-1,f-1,i0, conf=-1: [s0:0.0.0.0:42611, s1:0.0.0.0:39575, s2:0.0.0.0:34382], old=null RUNNING
  s2:  RUNNING  FOLLOWER s2@group-09A0EF6A68F4:t42, leader=null, voted=s2, raftlog=s2@group-09A0EF6A68F4-SegmentedRaftLog:OPENED:c-1,f-1,i0, conf=-1: [s0:0.0.0.0:42611, s1:0.0.0.0:39575, s2:0.0.0.0:34382], old=null RUNNING, sleep 450ms and then retry.
java.lang.IllegalStateException: No leader yet : printing ALL groups
  s0:  RUNNING  FOLLOWER s0@group-09A0EF6A68F4:t42, leader=null, voted=s0, raftlog=s0@group-09A0EF6A68F4-SegmentedRaftLog:OPENED:c-1,f-1,i0, conf=-1: [s0:0.0.0.0:42611, s1:0.0.0.0:39575, s2:0.0.0.0:34382], old=null RUNNING
  s1:  RUNNING  FOLLOWER s1@group-09A0EF6A68F4:t42, leader=null, voted=s1, raftlog=s1@group-09A0EF6A68F4-SegmentedRaftLog:OPENED:c-1,f-1,i0, conf=-1: [s0:0.0.0.0:42611, s1:0.0.0.0:39575, s2:0.0.0.0:34382], old=null RUNNING
  s2:  RUNNING  FOLLOWER s2@group-09A0EF6A68F4:t42, leader=null, voted=s2, raftlog=s2@group-09A0EF6A68F4-SegmentedRaftLog:OPENED:c-1,f-1,i0, conf=-1: [s0:0.0.0.0:42611, s1:0.0.0.0:39575, s2:0.0.0.0:34382], old=null RUNNING
	at org.apache.ratis.MiniRaftCluster.newIllegalStateExceptionForNoLeaders(MiniRaftCluster.java:506)
	at org.apache.ratis.RaftTestUtil.lambda$waitForLeader$1(RaftTestUtil.java:90)
	at org.apache.ratis.MiniRaftCluster.getLeader(MiniRaftCluster.java:539)
	at org.apache.ratis.MiniRaftCluster.getLeader(MiniRaftCluster.java:532)
	at org.apache.ratis.RaftTestUtil.lambda$waitForLeader$3(RaftTestUtil.java:98)
	at org.apache.ratis.util.JavaUtils.attempt(JavaUtils.java:152)
	at org.apache.ratis.RaftTestUtil.waitForLeader(RaftTestUtil.java:97)
	at org.apache.ratis.RaftTestUtil.waitForLeader(RaftTestUtil.java:77)
	at org.apache.ratis.RaftTestUtil.waitForLeader(RaftTestUtil.java:72)
	at org.apache.ratis.server.impl.RaftStateMachineExceptionTests.runTestRetryOnExceptionDuringReplication(RaftStateMachineExceptionTests.java:149)
	at org.apache.ratis.MiniRaftCluster$Factory$Get.runWithNewCluster(MiniRaftCluster.java:125)
	at org.apache.ratis.MiniRaftCluster$Factory$Get.runWithNewCluster(MiniRaftCluster.java:113)
	at org.apache.ratis.server.impl.RaftStateMachineExceptionTests.testRetryOnExceptionDuringReplication(RaftStateMachineExceptionTests.java:145)
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.lang.reflect.Method.invoke(Method.java:498)
	at org.junit.runners.model.FrameworkMethod$1.runReflectiveCall(FrameworkMethod.java:50)
	at org.junit.internal.runners.model.ReflectiveCallable.run(ReflectiveCallable.java:12)
	at org.junit.runners.model.FrameworkMethod.invokeExplosively(FrameworkMethod.java:47)
	at org.junit.internal.runners.statements.InvokeMethod.evaluate(InvokeMethod.java:17)
	at org.junit.internal.runners.statements.RunAfters.evaluate(RunAfters.java:27)
	at org.junit.internal.runners.statements.FailOnTimeout$CallableStatement.call(FailOnTimeout.java:298)
	at org.junit.internal.runners.statements.FailOnTimeout$CallableStatement.call(FailOnTimeout.java:292)
	at java.util.concurrent.FutureTask.run(FutureTask.java:266)
	at java.lang.Thread.run(Thread.java:748)
2019-09-24 16:57:32,373 INFO  impl.FollowerState (FollowerState.java:run(108)) - s2@group-09A0EF6A68F4-FollowerState: change to CANDIDATE, lastRpcTime:153ms, electionTimeout:153ms
2019-09-24 16:57:32,374 INFO  impl.RoleInfo (RoleInfo.java:shutdownFollowerState(121)) - s2: shutdown FollowerState
2019-09-24 16:57:32,374 INFO  impl.RaftServerImpl (RaftServerImpl.java:setRole(170)) - s2@group-09A0EF6A68F4: changes role from  FOLLOWER to CANDIDATE at term 42 for changeToCandidate
2019-09-24 16:57:32,374 INFO  impl.RoleInfo (RoleInfo.java:updateAndGet(143)) - s2: start LeaderElection
2019-09-24 16:57:32,384 INFO  impl.FollowerState (FollowerState.java:run(108)) - s1@group-09A0EF6A68F4-FollowerState: change to CANDIDATE, lastRpcTime:162ms, electionTimeout:162ms
2019-09-24 16:57:32,384 INFO  impl.RoleInfo (RoleInfo.java:shutdownFollowerState(121)) - s1: shutdown FollowerState
2019-09-24 16:57:32,385 INFO  impl.RaftServerImpl (RaftServerImpl.java:setRole(170)) - s1@group-09A0EF6A68F4: changes role from  FOLLOWER to CANDIDATE at term 42 for changeToCandidate
2019-09-24 16:57:32,385 INFO  impl.RoleInfo (RoleInfo.java:updateAndGet(143)) - s1: start LeaderElection
2019-09-24 16:57:32,462 INFO  impl.FollowerState (FollowerState.java:run(108)) - s0@group-09A0EF6A68F4-FollowerState: change to CANDIDATE, lastRpcTime:240ms, electionTimeout:240ms
2019-09-24 16:57:32,462 INFO  impl.RoleInfo (RoleInfo.java:shutdownFollowerState(121)) - s0: shutdown FollowerState
2019-09-24 16:57:32,462 INFO  impl.RaftServerImpl (RaftServerImpl.java:setRole(170)) - s0@group-09A0EF6A68F4: changes role from  FOLLOWER to CANDIDATE at term 42 for changeToCandidate
2019-09-24 16:57:32,462 INFO  impl.RoleInfo (RoleInfo.java:updateAndGet(143)) - s0: start LeaderElection
2019-09-24 16:57:32,714 WARN  ratis.RaftTestUtil (JavaUtils.java:attempt(158)) - FAILED "waitForLeader-null-(expectLeader? true)", attempt #51/100: java.lang.IllegalStateException: No leader yet : printing ALL groups
  s0:  RUNNING CANDIDATE s0@group-09A0EF6A68F4:t43, leader=null, voted=s0, raftlog=s0@group-09A0EF6A68F4-SegmentedRaftLog:OPENED:c-1,f-1,i0, conf=-1: [s0:0.0.0.0:42611, s1:0.0.0.0:39575, s2:0.0.0.0:34382], old=null RUNNING
  s1:  RUNNING CANDIDATE s1@group-09A0EF6A68F4:t43, leader=null, voted=s1, raftlog=s1@group-09A0EF6A68F4-SegmentedRaftLog:OPENED:c-1,f-1,i0, conf=-1: [s0:0.0.0.0:42611, s1:0.0.0.0:39575, s2:0.0.0.0:34382], old=null RUNNING
  s2:  RUNNING CANDIDATE s2@group-09A0EF6A68F4:t43, leader=null, voted=s2, raftlog=s2@group-09A0EF6A68F4-SegmentedRaftLog:OPENED:c-1,f-1,i0, conf=-1: [s0:0.0.0.0:42611, s1:0.0.0.0:39575, s2:0.0.0.0:34382], old=null RUNNING, sleep 450ms and then retry.
java.lang.IllegalStateException: No leader yet : printing ALL groups
  s0:  RUNNING CANDIDATE s0@group-09A0EF6A68F4:t43, leader=null, voted=s0, raftlog=s0@group-09A0EF6A68F4-SegmentedRaftLog:OPENED:c-1,f-1,i0, conf=-1: [s0:0.0.0.0:42611, s1:0.0.0.0:39575, s2:0.0.0.0:34382], old=null RUNNING
  s1:  RUNNING CANDIDATE s1@group-09A0EF6A68F4:t43, leader=null, voted=s1, raftlog=s1@group-09A0EF6A68F4-SegmentedRaftLog:OPENED:c-1,f-1,i0, conf=-1: [s0:0.0.0.0:42611, s1:0.0.0.0:39575, s2:0.0.0.0:34382], old=null RUNNING
  s2:  RUNNING CANDIDATE s2@group-09A0EF6A68F4:t43, leader=null, voted=s2, raftlog=s2@group-09A0EF6A68F4-SegmentedRaftLog:OPENED:c-1,f-1,i0, conf=-1: [s0:0.0.0.0:42611, s1:0.0.0.0:39575, s2:0.0.0.0:34382], old=null RUNNING
	at org.apache.ratis.MiniRaftCluster.newIllegalStateExceptionForNoLeaders(MiniRaftCluster.java:506)
	at org.apache.ratis.RaftTestUtil.lambda$waitForLeader$1(RaftTestUtil.java:90)
	at org.apache.ratis.MiniRaftCluster.getLeader(MiniRaftCluster.java:539)
	at org.apache.ratis.MiniRaftCluster.getLeader(MiniRaftCluster.java:532)
	at org.apache.ratis.RaftTestUtil.lambda$waitForLeader$3(RaftTestUtil.java:98)
	at org.apache.ratis.util.JavaUtils.attempt(JavaUtils.java:152)
	at org.apache.ratis.RaftTestUtil.waitForLeader(RaftTestUtil.java:97)
	at org.apache.ratis.RaftTestUtil.waitForLeader(RaftTestUtil.java:77)
	at org.apache.ratis.RaftTestUtil.waitForLeader(RaftTestUtil.java:72)
	at org.apache.ratis.server.impl.RaftStateMachineExceptionTests.runTestRetryOnExceptionDuringReplication(RaftStateMachineExceptionTests.java:149)
	at org.apache.ratis.MiniRaftCluster$Factory$Get.runWithNewCluster(MiniRaftCluster.java:125)
	at org.apache.ratis.MiniRaftCluster$Factory$Get.runWithNewCluster(MiniRaftCluster.java:113)
	at org.apache.ratis.server.impl.RaftStateMachineExceptionTests.testRetryOnExceptionDuringReplication(RaftStateMachineExceptionTests.java:145)
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.lang.reflect.Method.invoke(Method.java:498)
	at org.junit.runners.model.FrameworkMethod$1.runReflectiveCall(FrameworkMethod.java:50)
	at org.junit.internal.runners.model.ReflectiveCallable.run(ReflectiveCallable.java:12)
	at org.junit.runners.model.FrameworkMethod.invokeExplosively(FrameworkMethod.java:47)
	at org.junit.internal.runners.statements.InvokeMethod.evaluate(InvokeMethod.java:17)
	at org.junit.internal.runners.statements.RunAfters.evaluate(RunAfters.java:27)
	at org.junit.internal.runners.statements.FailOnTimeout$CallableStatement.call(FailOnTimeout.java:298)
	at org.junit.internal.runners.statements.FailOnTimeout$CallableStatement.call(FailOnTimeout.java:292)
	at java.util.concurrent.FutureTask.run(FutureTask.java:266)
	at java.lang.Thread.run(Thread.java:748)
2019-09-24 16:57:32,838 INFO  impl.LeaderElection (LeaderElection.java:askForVotes(178)) - s1@group-09A0EF6A68F4-LeaderElection105: begin an election at term 43 for -1: [s0:0.0.0.0:42611, s1:0.0.0.0:39575, s2:0.0.0.0:34382], old=null
2019-09-24 16:57:32,838 INFO  impl.LeaderElection (LeaderElection.java:askForVotes(178)) - s2@group-09A0EF6A68F4-LeaderElection104: begin an election at term 43 for -1: [s0:0.0.0.0:42611, s1:0.0.0.0:39575, s2:0.0.0.0:34382], old=null
2019-09-24 16:57:32,838 INFO  impl.LeaderElection (LeaderElection.java:askForVotes(178)) - s0@group-09A0EF6A68F4-LeaderElection106: begin an election at term 43 for -1: [s0:0.0.0.0:42611, s1:0.0.0.0:39575, s2:0.0.0.0:34382], old=null
2019-09-24 16:57:32,840 DEBUG impl.RaftServerImpl (RaftServerImpl.java:requestVote(743)) - s1@group-09A0EF6A68F4: receive requestVote(s0, group-09A0EF6A68F4, 43, (t:0, i:0))
2019-09-24 16:57:32,840 DEBUG impl.RaftServerImpl (RaftServerImpl.java:requestVote(743)) - s2@group-09A0EF6A68F4: receive requestVote(s1, group-09A0EF6A68F4, 43, (t:0, i:0))
2019-09-24 16:57:32,840 DEBUG impl.RaftServerImpl (RaftServerImpl.java:requestVote(743)) - s0@group-09A0EF6A68F4: receive requestVote(s2, group-09A0EF6A68F4, 43, (t:0, i:0))
2019-09-24 16:57:32,840 DEBUG impl.RaftServerImpl (RaftServerImpl.java:requestVote(743)) - s0@group-09A0EF6A68F4: receive requestVote(s1, group-09A0EF6A68F4, 43, (t:0, i:0))
2019-09-24 16:57:32,841 DEBUG impl.RaftServerImpl (RaftServerImpl.java:requestVote(775)) - s0@group-09A0EF6A68F4 replies to vote request: s2<-s0#0:FAIL-t43. Peer's state: s0@group-09A0EF6A68F4:t43, leader=null, voted=s0, raftlog=s0@group-09A0EF6A68F4-SegmentedRaftLog:OPENED:c-1,f-1,i0, conf=-1: [s0:0.0.0.0:42611, s1:0.0.0.0:39575, s2:0.0.0.0:34382], old=null
2019-09-24 16:57:32,840 DEBUG impl.RaftServerImpl (RaftServerImpl.java:requestVote(775)) - s2@group-09A0EF6A68F4 replies to vote request: s1<-s2#0:FAIL-t43. Peer's state: s2@group-09A0EF6A68F4:t43, leader=null, voted=s2, raftlog=s2@group-09A0EF6A68F4-SegmentedRaftLog:OPENED:c-1,f-1,i0, conf=-1: [s0:0.0.0.0:42611, s1:0.0.0.0:39575, s2:0.0.0.0:34382], old=null
2019-09-24 16:57:32,840 DEBUG impl.RaftServerImpl (RaftServerImpl.java:requestVote(743)) - s2@group-09A0EF6A68F4: receive requestVote(s0, group-09A0EF6A68F4, 43, (t:0, i:0))
2019-09-24 16:57:32,840 DEBUG impl.RaftServerImpl (RaftServerImpl.java:requestVote(775)) - s1@group-09A0EF6A68F4 replies to vote request: s0<-s1#0:FAIL-t43. Peer's state: s1@group-09A0EF6A68F4:t43, leader=null, voted=s1, raftlog=s1@group-09A0EF6A68F4-SegmentedRaftLog:OPENED:c-1,f-1,i0, conf=-1: [s0:0.0.0.0:42611, s1:0.0.0.0:39575, s2:0.0.0.0:34382], old=null
2019-09-24 16:57:32,840 DEBUG impl.RaftServerImpl (RaftServerImpl.java:requestVote(743)) - s1@group-09A0EF6A68F4: receive requestVote(s2, group-09A0EF6A68F4, 43, (t:0, i:0))
2019-09-24 16:57:32,841 DEBUG impl.RaftServerImpl (RaftServerImpl.java:requestVote(775)) - s2@group-09A0EF6A68F4 replies to vote request: s0<-s2#0:FAIL-t43. Peer's state: s2@group-09A0EF6A68F4:t43, leader=null, voted=s2, raftlog=s2@group-09A0EF6A68F4-SegmentedRaftLog:OPENED:c-1,f-1,i0, conf=-1: [s0:0.0.0.0:42611, s1:0.0.0.0:39575, s2:0.0.0.0:34382], old=null
2019-09-24 16:57:32,841 DEBUG impl.RaftServerImpl (RaftServerImpl.java:requestVote(775)) - s0@group-09A0EF6A68F4 replies to vote request: s1<-s0#0:FAIL-t43. Peer's state: s0@group-09A0EF6A68F4:t43, leader=null, voted=s0, raftlog=s0@group-09A0EF6A68F4-SegmentedRaftLog:OPENED:c-1,f-1,i0, conf=-1: [s0:0.0.0.0:42611, s1:0.0.0.0:39575, s2:0.0.0.0:34382], old=null
2019-09-24 16:57:32,842 DEBUG impl.RaftServerImpl (RaftServerImpl.java:requestVote(775)) - s1@group-09A0EF6A68F4 replies to vote request: s2<-s1#0:FAIL-t43. Peer's state: s1@group-09A0EF6A68F4:t43, leader=null, voted=s1, raftlog=s1@group-09A0EF6A68F4-SegmentedRaftLog:OPENED:c-1,f-1,i0, conf=-1: [s0:0.0.0.0:42611, s1:0.0.0.0:39575, s2:0.0.0.0:34382], old=null
2019-09-24 16:57:32,842 INFO  impl.LeaderElection (LeaderElection.java:logAndReturn(56)) - s1@group-09A0EF6A68F4-LeaderElection105: Election REJECTED; received 2 response(s) [s1<-s0#0:FAIL-t43, s1<-s2#0:FAIL-t43] and 0 exception(s); s1@group-09A0EF6A68F4:t43, leader=null, voted=s1, raftlog=s1@group-09A0EF6A68F4-SegmentedRaftLog:OPENED:c-1,f-1,i0, conf=-1: [s0:0.0.0.0:42611, s1:0.0.0.0:39575, s2:0.0.0.0:34382], old=null
2019-09-24 16:57:32,842 INFO  impl.LeaderElection (LeaderElection.java:logAndReturn(56)) - s2@group-09A0EF6A68F4-LeaderElection104: Election REJECTED; received 2 response(s) [s2<-s0#0:FAIL-t43, s2<-s1#0:FAIL-t43] and 0 exception(s); s2@group-09A0EF6A68F4:t43, leader=null, voted=s2, raftlog=s2@group-09A0EF6A68F4-SegmentedRaftLog:OPENED:c-1,f-1,i0, conf=-1: [s0:0.0.0.0:42611, s1:0.0.0.0:39575, s2:0.0.0.0:34382], old=null
2019-09-24 16:57:32,842 INFO  impl.LeaderElection (LeaderElection.java:logAndReturn(56)) - s0@group-09A0EF6A68F4-LeaderElection106: Election REJECTED; received 2 response(s) [s0<-s1#0:FAIL-t43, s0<-s2#0:FAIL-t43] and 0 exception(s); s0@group-09A0EF6A68F4:t43, leader=null, voted=s0, raftlog=s0@group-09A0EF6A68F4-SegmentedRaftLog:OPENED:c-1,f-1,i0, conf=-1: [s0:0.0.0.0:42611, s1:0.0.0.0:39575, s2:0.0.0.0:34382], old=null
2019-09-24 16:57:32,843 INFO  impl.RaftServerImpl (RaftServerImpl.java:setRole(170)) - s2@group-09A0EF6A68F4: changes role from CANDIDATE to FOLLOWER at term 43 for DISCOVERED_A_NEW_TERM
2019-09-24 16:57:32,843 INFO  impl.RaftServerImpl (RaftServerImpl.java:setRole(170)) - s1@group-09A0EF6A68F4: changes role from CANDIDATE to FOLLOWER at term 43 for DISCOVERED_A_NEW_TERM
2019-09-24 16:57:32,843 INFO  impl.RoleInfo (RoleInfo.java:shutdownLeaderElection(134)) - s2: shutdown LeaderElection
2019-09-24 16:57:32,843 INFO  impl.RaftServerImpl (RaftServerImpl.java:setRole(170)) - s0@group-09A0EF6A68F4: changes role from CANDIDATE to FOLLOWER at term 43 for DISCOVERED_A_NEW_TERM
2019-09-24 16:57:32,844 INFO  impl.RoleInfo (RoleInfo.java:shutdownLeaderElection(134)) - s0: shutdown LeaderElection
2019-09-24 16:57:32,844 INFO  impl.RoleInfo (RoleInfo.java:updateAndGet(143)) - s2: start FollowerState
2019-09-24 16:57:32,844 INFO  impl.RoleInfo (RoleInfo.java:shutdownLeaderElection(134)) - s1: shutdown LeaderElection
2019-09-24 16:57:32,844 INFO  impl.RoleInfo (RoleInfo.java:updateAndGet(143)) - s0: start FollowerState
2019-09-24 16:57:32,845 INFO  impl.RoleInfo (RoleInfo.java:updateAndGet(143)) - s1: start FollowerState
2019-09-24 16:57:33,001 INFO  impl.FollowerState (FollowerState.java:run(108)) - s1@group-09A0EF6A68F4-FollowerState: change to CANDIDATE, lastRpcTime:156ms, electionTimeout:155ms
2019-09-24 16:57:33,001 INFO  impl.RoleInfo (RoleInfo.java:shutdownFollowerState(121)) - s1: shutdown FollowerState
2019-09-24 16:57:33,001 INFO  impl.RaftServerImpl (RaftServerImpl.java:setRole(170)) - s1@group-09A0EF6A68F4: changes role from  FOLLOWER to CANDIDATE at term 43 for changeToCandidate
2019-09-24 16:57:33,002 INFO  impl.RoleInfo (RoleInfo.java:updateAndGet(143)) - s1: start LeaderElection
2019-09-24 16:57:33,038 INFO  impl.FollowerState (FollowerState.java:run(108)) - s2@group-09A0EF6A68F4-FollowerState: change to CANDIDATE, lastRpcTime:194ms, electionTimeout:193ms
2019-09-24 16:57:33,038 INFO  impl.RoleInfo (RoleInfo.java:shutdownFollowerState(121)) - s2: shutdown FollowerState
2019-09-24 16:57:33,039 INFO  impl.RaftServerImpl (RaftServerImpl.java:setRole(170)) - s2@group-09A0EF6A68F4: changes role from  FOLLOWER to CANDIDATE at term 43 for changeToCandidate
2019-09-24 16:57:33,039 INFO  impl.RoleInfo (RoleInfo.java:updateAndGet(143)) - s2: start LeaderElection
2019-09-24 16:57:33,093 INFO  impl.FollowerState (FollowerState.java:run(108)) - s0@group-09A0EF6A68F4-FollowerState: change to CANDIDATE, lastRpcTime:248ms, electionTimeout:247ms
2019-09-24 16:57:33,093 INFO  impl.RoleInfo (RoleInfo.java:shutdownFollowerState(121)) - s0: shutdown FollowerState
2019-09-24 16:57:33,093 INFO  impl.RaftServerImpl (RaftServerImpl.java:setRole(170)) - s0@group-09A0EF6A68F4: changes role from  FOLLOWER to CANDIDATE at term 43 for changeToCandidate
2019-09-24 16:57:33,093 INFO  impl.RoleInfo (RoleInfo.java:updateAndGet(143)) - s0: start LeaderElection
2019-09-24 16:57:33,165 WARN  ratis.RaftTestUtil (JavaUtils.java:attempt(158)) - FAILED "waitForLeader-null-(expectLeader? true)", attempt #52/100: java.lang.IllegalStateException: No leader yet : printing ALL groups
  s0:  RUNNING CANDIDATE s0@group-09A0EF6A68F4:t44, leader=null, voted=s0, raftlog=s0@group-09A0EF6A68F4-SegmentedRaftLog:OPENED:c-1,f-1,i0, conf=-1: [s0:0.0.0.0:42611, s1:0.0.0.0:39575, s2:0.0.0.0:34382], old=null RUNNING
  s1:  RUNNING CANDIDATE s1@group-09A0EF6A68F4:t44, leader=null, voted=s1, raftlog=s1@group-09A0EF6A68F4-SegmentedRaftLog:OPENED:c-1,f-1,i0, conf=-1: [s0:0.0.0.0:42611, s1:0.0.0.0:39575, s2:0.0.0.0:34382], old=null RUNNING
  s2:  RUNNING CANDIDATE s2@group-09A0EF6A68F4:t44, leader=null, voted=s2, raftlog=s2@group-09A0EF6A68F4-SegmentedRaftLog:OPENED:c-1,f-1,i0, conf=-1: [s0:0.0.0.0:42611, s1:0.0.0.0:39575, s2:0.0.0.0:34382], old=null RUNNING, sleep 450ms and then retry.
java.lang.IllegalStateException: No leader yet : printing ALL groups
  s0:  RUNNING CANDIDATE s0@group-09A0EF6A68F4:t44, leader=null, voted=s0, raftlog=s0@group-09A0EF6A68F4-SegmentedRaftLog:OPENED:c-1,f-1,i0, conf=-1: [s0:0.0.0.0:42611, s1:0.0.0.0:39575, s2:0.0.0.0:34382], old=null RUNNING
  s1:  RUNNING CANDIDATE s1@group-09A0EF6A68F4:t44, leader=null, voted=s1, raftlog=s1@group-09A0EF6A68F4-SegmentedRaftLog:OPENED:c-1,f-1,i0, conf=-1: [s0:0.0.0.0:42611, s1:0.0.0.0:39575, s2:0.0.0.0:34382], old=null RUNNING
  s2:  RUNNING CANDIDATE s2@group-09A0EF6A68F4:t44, leader=null, voted=s2, raftlog=s2@group-09A0EF6A68F4-SegmentedRaftLog:OPENED:c-1,f-1,i0, conf=-1: [s0:0.0.0.0:42611, s1:0.0.0.0:39575, s2:0.0.0.0:34382], old=null RUNNING
	at org.apache.ratis.MiniRaftCluster.newIllegalStateExceptionForNoLeaders(MiniRaftCluster.java:506)
	at org.apache.ratis.RaftTestUtil.lambda$waitForLeader$1(RaftTestUtil.java:90)
	at org.apache.ratis.MiniRaftCluster.getLeader(MiniRaftCluster.java:539)
	at org.apache.ratis.MiniRaftCluster.getLeader(MiniRaftCluster.java:532)
	at org.apache.ratis.RaftTestUtil.lambda$waitForLeader$3(RaftTestUtil.java:98)
	at org.apache.ratis.util.JavaUtils.attempt(JavaUtils.java:152)
	at org.apache.ratis.RaftTestUtil.waitForLeader(RaftTestUtil.java:97)
	at org.apache.ratis.RaftTestUtil.waitForLeader(RaftTestUtil.java:77)
	at org.apache.ratis.RaftTestUtil.waitForLeader(RaftTestUtil.java:72)
	at org.apache.ratis.server.impl.RaftStateMachineExceptionTests.runTestRetryOnExceptionDuringReplication(RaftStateMachineExceptionTests.java:149)
	at org.apache.ratis.MiniRaftCluster$Factory$Get.runWithNewCluster(MiniRaftCluster.java:125)
	at org.apache.ratis.MiniRaftCluster$Factory$Get.runWithNewCluster(MiniRaftCluster.java:113)
	at org.apache.ratis.server.impl.RaftStateMachineExceptionTests.testRetryOnExceptionDuringReplication(RaftStateMachineExceptionTests.java:145)
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.lang.reflect.Method.invoke(Method.java:498)
	at org.junit.runners.model.FrameworkMethod$1.runReflectiveCall(FrameworkMethod.java:50)
	at org.junit.internal.runners.model.ReflectiveCallable.run(ReflectiveCallable.java:12)
	at org.junit.runners.model.FrameworkMethod.invokeExplosively(FrameworkMethod.java:47)
	at org.junit.internal.runners.statements.InvokeMethod.evaluate(InvokeMethod.java:17)
	at org.junit.internal.runners.statements.RunAfters.evaluate(RunAfters.java:27)
	at org.junit.internal.runners.statements.FailOnTimeout$CallableStatement.call(FailOnTimeout.java:298)
	at org.junit.internal.runners.statements.FailOnTimeout$CallableStatement.call(FailOnTimeout.java:292)
	at java.util.concurrent.FutureTask.run(FutureTask.java:266)
	at java.lang.Thread.run(Thread.java:748)
2019-09-24 16:57:33,381 INFO  impl.LeaderElection (LeaderElection.java:askForVotes(178)) - s0@group-09A0EF6A68F4-LeaderElection109: begin an election at term 44 for -1: [s0:0.0.0.0:42611, s1:0.0.0.0:39575, s2:0.0.0.0:34382], old=null
2019-09-24 16:57:33,381 INFO  impl.LeaderElection (LeaderElection.java:askForVotes(178)) - s1@group-09A0EF6A68F4-LeaderElection107: begin an election at term 44 for -1: [s0:0.0.0.0:42611, s1:0.0.0.0:39575, s2:0.0.0.0:34382], old=null
2019-09-24 16:57:33,381 INFO  impl.LeaderElection (LeaderElection.java:askForVotes(178)) - s2@group-09A0EF6A68F4-LeaderElection108: begin an election at term 44 for -1: [s0:0.0.0.0:42611, s1:0.0.0.0:39575, s2:0.0.0.0:34382], old=null
2019-09-24 16:57:33,382 DEBUG impl.RaftServerImpl (RaftServerImpl.java:requestVote(743)) - s1@group-09A0EF6A68F4: receive requestVote(s0, group-09A0EF6A68F4, 44, (t:0, i:0))
2019-09-24 16:57:33,382 DEBUG impl.RaftServerImpl (RaftServerImpl.java:requestVote(743)) - s2@group-09A0EF6A68F4: receive requestVote(s0, group-09A0EF6A68F4, 44, (t:0, i:0))
2019-09-24 16:57:33,383 DEBUG impl.RaftServerImpl (RaftServerImpl.java:requestVote(743)) - s0@group-09A0EF6A68F4: receive requestVote(s2, group-09A0EF6A68F4, 44, (t:0, i:0))
2019-09-24 16:57:33,383 DEBUG impl.RaftServerImpl (RaftServerImpl.java:requestVote(775)) - s2@group-09A0EF6A68F4 replies to vote request: s0<-s2#0:FAIL-t44. Peer's state: s2@group-09A0EF6A68F4:t44, leader=null, voted=s2, raftlog=s2@group-09A0EF6A68F4-SegmentedRaftLog:OPENED:c-1,f-1,i0, conf=-1: [s0:0.0.0.0:42611, s1:0.0.0.0:39575, s2:0.0.0.0:34382], old=null
2019-09-24 16:57:33,382 DEBUG impl.RaftServerImpl (RaftServerImpl.java:requestVote(743)) - s0@group-09A0EF6A68F4: receive requestVote(s1, group-09A0EF6A68F4, 44, (t:0, i:0))
2019-09-24 16:57:33,382 DEBUG impl.RaftServerImpl (RaftServerImpl.java:requestVote(775)) - s1@group-09A0EF6A68F4 replies to vote request: s0<-s1#0:FAIL-t44. Peer's state: s1@group-09A0EF6A68F4:t44, leader=null, voted=s1, raftlog=s1@group-09A0EF6A68F4-SegmentedRaftLog:OPENED:c-1,f-1,i0, conf=-1: [s0:0.0.0.0:42611, s1:0.0.0.0:39575, s2:0.0.0.0:34382], old=null
2019-09-24 16:57:33,383 DEBUG impl.RaftServerImpl (RaftServerImpl.java:requestVote(743)) - s1@group-09A0EF6A68F4: receive requestVote(s2, group-09A0EF6A68F4, 44, (t:0, i:0))
2019-09-24 16:57:33,383 DEBUG impl.RaftServerImpl (RaftServerImpl.java:requestVote(775)) - s0@group-09A0EF6A68F4 replies to vote request: s2<-s0#0:FAIL-t44. Peer's state: s0@group-09A0EF6A68F4:t44, leader=null, voted=s0, raftlog=s0@group-09A0EF6A68F4-SegmentedRaftLog:OPENED:c-1,f-1,i0, conf=-1: [s0:0.0.0.0:42611, s1:0.0.0.0:39575, s2:0.0.0.0:34382], old=null
2019-09-24 16:57:33,383 DEBUG impl.RaftServerImpl (RaftServerImpl.java:requestVote(743)) - s2@group-09A0EF6A68F4: receive requestVote(s1, group-09A0EF6A68F4, 44, (t:0, i:0))
2019-09-24 16:57:33,384 INFO  impl.LeaderElection (LeaderElection.java:logAndReturn(56)) - s0@group-09A0EF6A68F4-LeaderElection109: Election REJECTED; received 2 response(s) [s0<-s1#0:FAIL-t44, s0<-s2#0:FAIL-t44] and 0 exception(s); s0@group-09A0EF6A68F4:t44, leader=null, voted=s0, raftlog=s0@group-09A0EF6A68F4-SegmentedRaftLog:OPENED:c-1,f-1,i0, conf=-1: [s0:0.0.0.0:42611, s1:0.0.0.0:39575, s2:0.0.0.0:34382], old=null
2019-09-24 16:57:33,383 DEBUG impl.RaftServerImpl (RaftServerImpl.java:requestVote(775)) - s1@group-09A0EF6A68F4 replies to vote request: s2<-s1#0:FAIL-t44. Peer's state: s1@group-09A0EF6A68F4:t44, leader=null, voted=s1, raftlog=s1@group-09A0EF6A68F4-SegmentedRaftLog:OPENED:c-1,f-1,i0, conf=-1: [s0:0.0.0.0:42611, s1:0.0.0.0:39575, s2:0.0.0.0:34382], old=null
2019-09-24 16:57:33,384 DEBUG impl.RaftServerImpl (RaftServerImpl.java:requestVote(775)) - s2@group-09A0EF6A68F4 replies to vote request: s1<-s2#0:FAIL-t44. Peer's state: s2@group-09A0EF6A68F4:t44, leader=null, voted=s2, raftlog=s2@group-09A0EF6A68F4-SegmentedRaftLog:OPENED:c-1,f-1,i0, conf=-1: [s0:0.0.0.0:42611, s1:0.0.0.0:39575, s2:0.0.0.0:34382], old=null
2019-09-24 16:57:33,384 DEBUG impl.RaftServerImpl (RaftServerImpl.java:requestVote(775)) - s0@group-09A0EF6A68F4 replies to vote request: s1<-s0#0:FAIL-t44. Peer's state: s0@group-09A0EF6A68F4:t44, leader=null, voted=s0, raftlog=s0@group-09A0EF6A68F4-SegmentedRaftLog:OPENED:c-1,f-1,i0, conf=-1: [s0:0.0.0.0:42611, s1:0.0.0.0:39575, s2:0.0.0.0:34382], old=null
2019-09-24 16:57:33,384 INFO  impl.LeaderElection (LeaderElection.java:logAndReturn(56)) - s2@group-09A0EF6A68F4-LeaderElection108: Election REJECTED; received 2 response(s) [s2<-s0#0:FAIL-t44, s2<-s1#0:FAIL-t44] and 0 exception(s); s2@group-09A0EF6A68F4:t44, leader=null, voted=s2, raftlog=s2@group-09A0EF6A68F4-SegmentedRaftLog:OPENED:c-1,f-1,i0, conf=-1: [s0:0.0.0.0:42611, s1:0.0.0.0:39575, s2:0.0.0.0:34382], old=null
2019-09-24 16:57:33,385 INFO  impl.RaftServerImpl (RaftServerImpl.java:setRole(170)) - s0@group-09A0EF6A68F4: changes role from CANDIDATE to FOLLOWER at term 44 for DISCOVERED_A_NEW_TERM
2019-09-24 16:57:33,385 INFO  impl.RaftServerImpl (RaftServerImpl.java:setRole(170)) - s2@group-09A0EF6A68F4: changes role from CANDIDATE to FOLLOWER at term 44 for DISCOVERED_A_NEW_TERM
2019-09-24 16:57:33,385 INFO  impl.LeaderElection (LeaderElection.java:logAndReturn(56)) - s1@group-09A0EF6A68F4-LeaderElection107: Election REJECTED; received 2 response(s) [s1<-s0#0:FAIL-t44, s1<-s2#0:FAIL-t44] and 0 exception(s); s1@group-09A0EF6A68F4:t44, leader=null, voted=s1, raftlog=s1@group-09A0EF6A68F4-SegmentedRaftLog:OPENED:c-1,f-1,i0, conf=-1: [s0:0.0.0.0:42611, s1:0.0.0.0:39575, s2:0.0.0.0:34382], old=null
2019-09-24 16:57:33,385 INFO  impl.RoleInfo (RoleInfo.java:shutdownLeaderElection(134)) - s2: shutdown LeaderElection
2019-09-24 16:57:33,385 INFO  impl.RoleInfo (RoleInfo.java:shutdownLeaderElection(134)) - s0: shutdown LeaderElection
2019-09-24 16:57:33,385 INFO  impl.RoleInfo (RoleInfo.java:updateAndGet(143)) - s2: start FollowerState
2019-09-24 16:57:33,385 INFO  impl.RaftServerImpl (RaftServerImpl.java:setRole(170)) - s1@group-09A0EF6A68F4: changes role from CANDIDATE to FOLLOWER at term 44 for DISCOVERED_A_NEW_TERM
2019-09-24 16:57:33,386 INFO  impl.RoleInfo (RoleInfo.java:updateAndGet(143)) - s0: start FollowerState
2019-09-24 16:57:33,386 INFO  impl.RoleInfo (RoleInfo.java:shutdownLeaderElection(134)) - s1: shutdown LeaderElection
2019-09-24 16:57:33,386 INFO  impl.RoleInfo (RoleInfo.java:updateAndGet(143)) - s1: start FollowerState
2019-09-24 16:57:33,538 INFO  impl.FollowerState (FollowerState.java:run(108)) - s0@group-09A0EF6A68F4-FollowerState: change to CANDIDATE, lastRpcTime:151ms, electionTimeout:151ms
2019-09-24 16:57:33,538 INFO  impl.RoleInfo (RoleInfo.java:shutdownFollowerState(121)) - s0: shutdown FollowerState
2019-09-24 16:57:33,538 INFO  impl.RaftServerImpl (RaftServerImpl.java:setRole(170)) - s0@group-09A0EF6A68F4: changes role from  FOLLOWER to CANDIDATE at term 44 for changeToCandidate
2019-09-24 16:57:33,538 INFO  impl.RoleInfo (RoleInfo.java:updateAndGet(143)) - s0: start LeaderElection
2019-09-24 16:57:33,553 INFO  impl.LeaderElection (LeaderElection.java:askForVotes(178)) - s0@group-09A0EF6A68F4-LeaderElection110: begin an election at term 45 for -1: [s0:0.0.0.0:42611, s1:0.0.0.0:39575, s2:0.0.0.0:34382], old=null
2019-09-24 16:57:33,553 DEBUG impl.RaftServerImpl (RaftServerImpl.java:requestVote(743)) - s1@group-09A0EF6A68F4: receive requestVote(s0, group-09A0EF6A68F4, 45, (t:0, i:0))
2019-09-24 16:57:33,554 DEBUG impl.RaftServerImpl (RaftServerImpl.java:requestVote(743)) - s2@group-09A0EF6A68F4: receive requestVote(s0, group-09A0EF6A68F4, 45, (t:0, i:0))
2019-09-24 16:57:33,554 INFO  impl.RaftServerImpl (RaftServerImpl.java:setRole(170)) - s1@group-09A0EF6A68F4: changes role from  FOLLOWER to FOLLOWER at term 45 for recognizeCandidate:s0
2019-09-24 16:57:33,554 INFO  impl.RaftServerImpl (RaftServerImpl.java:setRole(170)) - s2@group-09A0EF6A68F4: changes role from  FOLLOWER to FOLLOWER at term 45 for recognizeCandidate:s0
2019-09-24 16:57:33,554 INFO  impl.RoleInfo (RoleInfo.java:shutdownFollowerState(121)) - s1: shutdown FollowerState
2019-09-24 16:57:33,554 INFO  impl.RoleInfo (RoleInfo.java:shutdownFollowerState(121)) - s2: shutdown FollowerState
2019-09-24 16:57:33,554 INFO  impl.FollowerState (FollowerState.java:run(117)) - s1@group-09A0EF6A68F4-FollowerState was interrupted: java.lang.InterruptedException: sleep interrupted
2019-09-24 16:57:33,554 INFO  impl.FollowerState (FollowerState.java:run(117)) - s2@group-09A0EF6A68F4-FollowerState was interrupted: java.lang.InterruptedException: sleep interrupted
2019-09-24 16:57:33,554 INFO  impl.RoleInfo (RoleInfo.java:updateAndGet(143)) - s1: start FollowerState
2019-09-24 16:57:33,554 INFO  impl.RoleInfo (RoleInfo.java:updateAndGet(143)) - s2: start FollowerState
2019-09-24 16:57:33,617 WARN  ratis.RaftTestUtil (JavaUtils.java:attempt(158)) - FAILED "waitForLeader-null-(expectLeader? true)", attempt #53/100: java.lang.IllegalStateException: No leader yet : printing ALL groups
  s0:  RUNNING CANDIDATE s0@group-09A0EF6A68F4:t45, leader=null, voted=s0, raftlog=s0@group-09A0EF6A68F4-SegmentedRaftLog:OPENED:c-1,f-1,i0, conf=-1: [s0:0.0.0.0:42611, s1:0.0.0.0:39575, s2:0.0.0.0:34382], old=null RUNNING
  s1:  RUNNING  FOLLOWER s1@group-09A0EF6A68F4:t45, leader=null, voted=s0, raftlog=s1@group-09A0EF6A68F4-SegmentedRaftLog:OPENED:c-1,f-1,i0, conf=-1: [s0:0.0.0.0:42611, s1:0.0.0.0:39575, s2:0.0.0.0:34382], old=null RUNNING
  s2:  RUNNING  FOLLOWER s2@group-09A0EF6A68F4:t45, leader=null, voted=s0, raftlog=s2@group-09A0EF6A68F4-SegmentedRaftLog:OPENED:c-1,f-1,i0, conf=-1: [s0:0.0.0.0:42611, s1:0.0.0.0:39575, s2:0.0.0.0:34382], old=null RUNNING, sleep 450ms and then retry.
java.lang.IllegalStateException: No leader yet : printing ALL groups
  s0:  RUNNING CANDIDATE s0@group-09A0EF6A68F4:t45, leader=null, voted=s0, raftlog=s0@group-09A0EF6A68F4-SegmentedRaftLog:OPENED:c-1,f-1,i0, conf=-1: [s0:0.0.0.0:42611, s1:0.0.0.0:39575, s2:0.0.0.0:34382], old=null RUNNING
  s1:  RUNNING  FOLLOWER s1@group-09A0EF6A68F4:t45, leader=null, voted=s0, raftlog=s1@group-09A0EF6A68F4-SegmentedRaftLog:OPENED:c-1,f-1,i0, conf=-1: [s0:0.0.0.0:42611, s1:0.0.0.0:39575, s2:0.0.0.0:34382], old=null RUNNING
  s2:  RUNNING  FOLLOWER s2@group-09A0EF6A68F4:t45, leader=null, voted=s0, raftlog=s2@group-09A0EF6A68F4-SegmentedRaftLog:OPENED:c-1,f-1,i0, conf=-1: [s0:0.0.0.0:42611, s1:0.0.0.0:39575, s2:0.0.0.0:34382], old=null RUNNING
	at org.apache.ratis.MiniRaftCluster.newIllegalStateExceptionForNoLeaders(MiniRaftCluster.java:506)
	at org.apache.ratis.RaftTestUtil.lambda$waitForLeader$1(RaftTestUtil.java:90)
	at org.apache.ratis.MiniRaftCluster.getLeader(MiniRaftCluster.java:539)
	at org.apache.ratis.MiniRaftCluster.getLeader(MiniRaftCluster.java:532)
	at org.apache.ratis.RaftTestUtil.lambda$waitForLeader$3(RaftTestUtil.java:98)
	at org.apache.ratis.util.JavaUtils.attempt(JavaUtils.java:152)
	at org.apache.ratis.RaftTestUtil.waitForLeader(RaftTestUtil.java:97)
	at org.apache.ratis.RaftTestUtil.waitForLeader(RaftTestUtil.java:77)
	at org.apache.ratis.RaftTestUtil.waitForLeader(RaftTestUtil.java:72)
	at org.apache.ratis.server.impl.RaftStateMachineExceptionTests.runTestRetryOnExceptionDuringReplication(RaftStateMachineExceptionTests.java:149)
	at org.apache.ratis.MiniRaftCluster$Factory$Get.runWithNewCluster(MiniRaftCluster.java:125)
	at org.apache.ratis.MiniRaftCluster$Factory$Get.runWithNewCluster(MiniRaftCluster.java:113)
	at org.apache.ratis.server.impl.RaftStateMachineExceptionTests.testRetryOnExceptionDuringReplication(RaftStateMachineExceptionTests.java:145)
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.lang.reflect.Method.invoke(Method.java:498)
	at org.junit.runners.model.FrameworkMethod$1.runReflectiveCall(FrameworkMethod.java:50)
	at org.junit.internal.runners.model.ReflectiveCallable.run(ReflectiveCallable.java:12)
	at org.junit.runners.model.FrameworkMethod.invokeExplosively(FrameworkMethod.java:47)
	at org.junit.internal.runners.statements.InvokeMethod.evaluate(InvokeMethod.java:17)
	at org.junit.internal.runners.statements.RunAfters.evaluate(RunAfters.java:27)
	at org.junit.internal.runners.statements.FailOnTimeout$CallableStatement.call(FailOnTimeout.java:298)
	at org.junit.internal.runners.statements.FailOnTimeout$CallableStatement.call(FailOnTimeout.java:292)
	at java.util.concurrent.FutureTask.run(FutureTask.java:266)
	at java.lang.Thread.run(Thread.java:748)
2019-09-24 16:57:33,762 INFO  impl.LeaderElection (LeaderElection.java:logAndReturn(56)) - s0@group-09A0EF6A68F4-LeaderElection110: Election TIMEOUT; received 0 response(s) [] and 0 exception(s); s0@group-09A0EF6A68F4:t45, leader=null, voted=s0, raftlog=s0@group-09A0EF6A68F4-SegmentedRaftLog:OPENED:c-1,f-1,i0, conf=-1: [s0:0.0.0.0:42611, s1:0.0.0.0:39575, s2:0.0.0.0:34382], old=null
2019-09-24 16:57:34,068 WARN  ratis.RaftTestUtil (JavaUtils.java:attempt(158)) - FAILED "waitForLeader-null-(expectLeader? true)", attempt #54/100: java.lang.IllegalStateException: No leader yet : printing ALL groups
  s0:  RUNNING CANDIDATE s0@group-09A0EF6A68F4:t46, leader=null, voted=s0, raftlog=s0@group-09A0EF6A68F4-SegmentedRaftLog:OPENED:c-1,f-1,i0, conf=-1: [s0:0.0.0.0:42611, s1:0.0.0.0:39575, s2:0.0.0.0:34382], old=null RUNNING
  s1:  RUNNING  FOLLOWER s1@group-09A0EF6A68F4:t45, leader=null, voted=s0, raftlog=s1@group-09A0EF6A68F4-SegmentedRaftLog:OPENED:c-1,f-1,i0, conf=-1: [s0:0.0.0.0:42611, s1:0.0.0.0:39575, s2:0.0.0.0:34382], old=null RUNNING
  s2:  RUNNING  FOLLOWER s2@group-09A0EF6A68F4:t45, leader=null, voted=s0, raftlog=s2@group-09A0EF6A68F4-SegmentedRaftLog:OPENED:c-1,f-1,i0, conf=-1: [s0:0.0.0.0:42611, s1:0.0.0.0:39575, s2:0.0.0.0:34382], old=null RUNNING, sleep 450ms and then retry.
java.lang.IllegalStateException: No leader yet : printing ALL groups
  s0:  RUNNING CANDIDATE s0@group-09A0EF6A68F4:t46, leader=null, voted=s0, raftlog=s0@group-09A0EF6A68F4-SegmentedRaftLog:OPENED:c-1,f-1,i0, conf=-1: [s0:0.0.0.0:42611, s1:0.0.0.0:39575, s2:0.0.0.0:34382], old=null RUNNING
  s1:  RUNNING  FOLLOWER s1@group-09A0EF6A68F4:t45, leader=null, voted=s0, raftlog=s1@group-09A0EF6A68F4-SegmentedRaftLog:OPENED:c-1,f-1,i0, conf=-1: [s0:0.0.0.0:42611, s1:0.0.0.0:39575, s2:0.0.0.0:34382], old=null RUNNING
  s2:  RUNNING  FOLLOWER s2@group-09A0EF6A68F4:t45, leader=null, voted=s0, raftlog=s2@group-09A0EF6A68F4-SegmentedRaftLog:OPENED:c-1,f-1,i0, conf=-1: [s0:0.0.0.0:42611, s1:0.0.0.0:39575, s2:0.0.0.0:34382], old=null RUNNING
	at org.apache.ratis.MiniRaftCluster.newIllegalStateExceptionForNoLeaders(MiniRaftCluster.java:506)
	at org.apache.ratis.RaftTestUtil.lambda$waitForLeader$1(RaftTestUtil.java:90)
	at org.apache.ratis.MiniRaftCluster.getLeader(MiniRaftCluster.java:539)
	at org.apache.ratis.MiniRaftCluster.getLeader(MiniRaftCluster.java:532)
	at org.apache.ratis.RaftTestUtil.lambda$waitForLeader$3(RaftTestUtil.java:98)
	at org.apache.ratis.util.JavaUtils.attempt(JavaUtils.java:152)
	at org.apache.ratis.RaftTestUtil.waitForLeader(RaftTestUtil.java:97)
	at org.apache.ratis.RaftTestUtil.waitForLeader(RaftTestUtil.java:77)
	at org.apache.ratis.RaftTestUtil.waitForLeader(RaftTestUtil.java:72)
	at org.apache.ratis.server.impl.RaftStateMachineExceptionTests.runTestRetryOnExceptionDuringReplication(RaftStateMachineExceptionTests.java:149)
	at org.apache.ratis.MiniRaftCluster$Factory$Get.runWithNewCluster(MiniRaftCluster.java:125)
	at org.apache.ratis.MiniRaftCluster$Factory$Get.runWithNewCluster(MiniRaftCluster.java:113)
	at org.apache.ratis.server.impl.RaftStateMachineExceptionTests.testRetryOnExceptionDuringReplication(RaftStateMachineExceptionTests.java:145)
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.lang.reflect.Method.invoke(Method.java:498)
	at org.junit.runners.model.FrameworkMethod$1.runReflectiveCall(FrameworkMethod.java:50)
	at org.junit.internal.runners.model.ReflectiveCallable.run(ReflectiveCallable.java:12)
	at org.junit.runners.model.FrameworkMethod.invokeExplosively(FrameworkMethod.java:47)
	at org.junit.internal.runners.statements.InvokeMethod.evaluate(InvokeMethod.java:17)
	at org.junit.internal.runners.statements.RunAfters.evaluate(RunAfters.java:27)
	at org.junit.internal.runners.statements.FailOnTimeout$CallableStatement.call(FailOnTimeout.java:298)
	at org.junit.internal.runners.statements.FailOnTimeout$CallableStatement.call(FailOnTimeout.java:292)
	at java.util.concurrent.FutureTask.run(FutureTask.java:266)
	at java.lang.Thread.run(Thread.java:748)
2019-09-24 16:57:34,270 INFO  impl.LeaderElection (LeaderElection.java:askForVotes(178)) - s0@group-09A0EF6A68F4-LeaderElection110: begin an election at term 46 for -1: [s0:0.0.0.0:42611, s1:0.0.0.0:39575, s2:0.0.0.0:34382], old=null
2019-09-24 16:57:34,270 DEBUG impl.RaftServerImpl (RaftServerImpl.java:requestVote(775)) - s1@group-09A0EF6A68F4 replies to vote request: s0<-s1#0:OK-t45. Peer's state: s1@group-09A0EF6A68F4:t45, leader=null, voted=s0, raftlog=s1@group-09A0EF6A68F4-SegmentedRaftLog:OPENED:c-1,f-1,i0, conf=-1: [s0:0.0.0.0:42611, s1:0.0.0.0:39575, s2:0.0.0.0:34382], old=null
2019-09-24 16:57:34,270 DEBUG impl.RaftServerImpl (RaftServerImpl.java:requestVote(775)) - s2@group-09A0EF6A68F4 replies to vote request: s0<-s2#0:OK-t45. Peer's state: s2@group-09A0EF6A68F4:t45, leader=null, voted=s0, raftlog=s2@group-09A0EF6A68F4-SegmentedRaftLog:OPENED:c-1,f-1,i0, conf=-1: [s0:0.0.0.0:42611, s1:0.0.0.0:39575, s2:0.0.0.0:34382], old=null
2019-09-24 16:57:34,270 INFO  impl.FollowerState (FollowerState.java:run(108)) - s1@group-09A0EF6A68F4-FollowerState: change to CANDIDATE, lastRpcTime:715ms, electionTimeout:282ms
2019-09-24 16:57:34,270 INFO  impl.FollowerState (FollowerState.java:run(108)) - s2@group-09A0EF6A68F4-FollowerState: change to CANDIDATE, lastRpcTime:715ms, electionTimeout:257ms
2019-09-24 16:57:34,271 INFO  impl.RoleInfo (RoleInfo.java:shutdownFollowerState(121)) - s1: shutdown FollowerState
2019-09-24 16:57:34,271 INFO  impl.RoleInfo (RoleInfo.java:shutdownFollowerState(121)) - s2: shutdown FollowerState
2019-09-24 16:57:34,271 INFO  impl.RaftServerImpl (RaftServerImpl.java:setRole(170)) - s1@group-09A0EF6A68F4: changes role from  FOLLOWER to CANDIDATE at term 45 for changeToCandidate
2019-09-24 16:57:34,271 DEBUG impl.RaftServerImpl (RaftServerImpl.java:requestVote(743)) - s2@group-09A0EF6A68F4: receive requestVote(s0, group-09A0EF6A68F4, 46, (t:0, i:0))
2019-09-24 16:57:34,271 DEBUG impl.RaftServerImpl (RaftServerImpl.java:requestVote(743)) - s1@group-09A0EF6A68F4: receive requestVote(s0, group-09A0EF6A68F4, 46, (t:0, i:0))
2019-09-24 16:57:34,271 INFO  impl.RoleInfo (RoleInfo.java:updateAndGet(143)) - s1: start LeaderElection
2019-09-24 16:57:34,271 INFO  impl.RaftServerImpl (RaftServerImpl.java:setRole(170)) - s2@group-09A0EF6A68F4: changes role from  FOLLOWER to CANDIDATE at term 45 for changeToCandidate
2019-09-24 16:57:34,272 INFO  impl.RoleInfo (RoleInfo.java:updateAndGet(143)) - s2: start LeaderElection
2019-09-24 16:57:34,272 INFO  impl.RaftServerImpl (RaftServerImpl.java:setRole(170)) - s1@group-09A0EF6A68F4: changes role from CANDIDATE to FOLLOWER at term 46 for recognizeCandidate:s0
2019-09-24 16:57:34,272 INFO  impl.RoleInfo (RoleInfo.java:shutdownLeaderElection(134)) - s1: shutdown LeaderElection
2019-09-24 16:57:34,272 INFO  impl.RaftServerImpl (RaftServerImpl.java:setRole(170)) - s2@group-09A0EF6A68F4: changes role from CANDIDATE to FOLLOWER at term 46 for recognizeCandidate:s0
2019-09-24 16:57:34,273 INFO  impl.RoleInfo (RoleInfo.java:updateAndGet(143)) - s1: start FollowerState
2019-09-24 16:57:34,273 INFO  impl.RoleInfo (RoleInfo.java:shutdownLeaderElection(134)) - s2: shutdown LeaderElection
2019-09-24 16:57:34,273 INFO  impl.RoleInfo (RoleInfo.java:updateAndGet(143)) - s2: start FollowerState
2019-09-24 16:57:34,478 INFO  impl.LeaderElection (LeaderElection.java:logAndReturn(56)) - s0@group-09A0EF6A68F4-LeaderElection110: Election TIMEOUT; received 0 response(s) [] and 0 exception(s); s0@group-09A0EF6A68F4:t46, leader=null, voted=s0, raftlog=s0@group-09A0EF6A68F4-SegmentedRaftLog:OPENED:c-1,f-1,i0, conf=-1: [s0:0.0.0.0:42611, s1:0.0.0.0:39575, s2:0.0.0.0:34382], old=null
2019-09-24 16:57:34,520 WARN  ratis.RaftTestUtil (JavaUtils.java:attempt(158)) - FAILED "waitForLeader-null-(expectLeader? true)", attempt #55/100: java.lang.IllegalStateException: No leader yet : printing ALL groups
  s0:  RUNNING CANDIDATE s0@group-09A0EF6A68F4:t47, leader=null, voted=s0, raftlog=s0@group-09A0EF6A68F4-SegmentedRaftLog:OPENED:c-1,f-1,i0, conf=-1: [s0:0.0.0.0:42611, s1:0.0.0.0:39575, s2:0.0.0.0:34382], old=null RUNNING
  s1:  RUNNING  FOLLOWER s1@group-09A0EF6A68F4:t46, leader=null, voted=null, raftlog=s1@group-09A0EF6A68F4-SegmentedRaftLog:OPENED:c-1,f-1,i0, conf=-1: [s0:0.0.0.0:42611, s1:0.0.0.0:39575, s2:0.0.0.0:34382], old=null RUNNING
  s2:  RUNNING  FOLLOWER s2@group-09A0EF6A68F4:t46, leader=null, voted=null, raftlog=s2@group-09A0EF6A68F4-SegmentedRaftLog:OPENED:c-1,f-1,i0, conf=-1: [s0:0.0.0.0:42611, s1:0.0.0.0:39575, s2:0.0.0.0:34382], old=null RUNNING, sleep 450ms and then retry.
java.lang.IllegalStateException: No leader yet : printing ALL groups
  s0:  RUNNING CANDIDATE s0@group-09A0EF6A68F4:t47, leader=null, voted=s0, raftlog=s0@group-09A0EF6A68F4-SegmentedRaftLog:OPENED:c-1,f-1,i0, conf=-1: [s0:0.0.0.0:42611, s1:0.0.0.0:39575, s2:0.0.0.0:34382], old=null RUNNING
  s1:  RUNNING  FOLLOWER s1@group-09A0EF6A68F4:t46, leader=null, voted=null, raftlog=s1@group-09A0EF6A68F4-SegmentedRaftLog:OPENED:c-1,f-1,i0, conf=-1: [s0:0.0.0.0:42611, s1:0.0.0.0:39575, s2:0.0.0.0:34382], old=null RUNNING
  s2:  RUNNING  FOLLOWER s2@group-09A0EF6A68F4:t46, leader=null, voted=null, raftlog=s2@group-09A0EF6A68F4-SegmentedRaftLog:OPENED:c-1,f-1,i0, conf=-1: [s0:0.0.0.0:42611, s1:0.0.0.0:39575, s2:0.0.0.0:34382], old=null RUNNING
	at org.apache.ratis.MiniRaftCluster.newIllegalStateExceptionForNoLeaders(MiniRaftCluster.java:506)
	at org.apache.ratis.RaftTestUtil.lambda$waitForLeader$1(RaftTestUtil.java:90)
	at org.apache.ratis.MiniRaftCluster.getLeader(MiniRaftCluster.java:539)
	at org.apache.ratis.MiniRaftCluster.getLeader(MiniRaftCluster.java:532)
	at org.apache.ratis.RaftTestUtil.lambda$waitForLeader$3(RaftTestUtil.java:98)
	at org.apache.ratis.util.JavaUtils.attempt(JavaUtils.java:152)
	at org.apache.ratis.RaftTestUtil.waitForLeader(RaftTestUtil.java:97)
	at org.apache.ratis.RaftTestUtil.waitForLeader(RaftTestUtil.java:77)
	at org.apache.ratis.RaftTestUtil.waitForLeader(RaftTestUtil.java:72)
	at org.apache.ratis.server.impl.RaftStateMachineExceptionTests.runTestRetryOnExceptionDuringReplication(RaftStateMachineExceptionTests.java:149)
	at org.apache.ratis.MiniRaftCluster$Factory$Get.runWithNewCluster(MiniRaftCluster.java:125)
	at org.apache.ratis.MiniRaftCluster$Factory$Get.runWithNewCluster(MiniRaftCluster.java:113)
	at org.apache.ratis.server.impl.RaftStateMachineExceptionTests.testRetryOnExceptionDuringReplication(RaftStateMachineExceptionTests.java:145)
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.lang.reflect.Method.invoke(Method.java:498)
	at org.junit.runners.model.FrameworkMethod$1.runReflectiveCall(FrameworkMethod.java:50)
	at org.junit.internal.runners.model.ReflectiveCallable.run(ReflectiveCallable.java:12)
	at org.junit.runners.model.FrameworkMethod.invokeExplosively(FrameworkMethod.java:47)
	at org.junit.internal.runners.statements.InvokeMethod.evaluate(InvokeMethod.java:17)
	at org.junit.internal.runners.statements.RunAfters.evaluate(RunAfters.java:27)
	at org.junit.internal.runners.statements.FailOnTimeout$CallableStatement.call(FailOnTimeout.java:298)
	at org.junit.internal.runners.statements.FailOnTimeout$CallableStatement.call(FailOnTimeout.java:292)
	at java.util.concurrent.FutureTask.run(FutureTask.java:266)
	at java.lang.Thread.run(Thread.java:748)
2019-09-24 16:57:34,595 DEBUG impl.RaftServerImpl (RaftServerImpl.java:requestVote(775)) - s1@group-09A0EF6A68F4 replies to vote request: s0<-s1#0:FAIL-t46. Peer's state: s1@group-09A0EF6A68F4:t46, leader=null, voted=null, raftlog=s1@group-09A0EF6A68F4-SegmentedRaftLog:OPENED:c-1,f-1,i0, conf=-1: [s0:0.0.0.0:42611, s1:0.0.0.0:39575, s2:0.0.0.0:34382], old=null
2019-09-24 16:57:34,595 DEBUG impl.RaftServerImpl (RaftServerImpl.java:requestVote(775)) - s2@group-09A0EF6A68F4 replies to vote request: s0<-s2#0:FAIL-t46. Peer's state: s2@group-09A0EF6A68F4:t46, leader=null, voted=null, raftlog=s2@group-09A0EF6A68F4-SegmentedRaftLog:OPENED:c-1,f-1,i0, conf=-1: [s0:0.0.0.0:42611, s1:0.0.0.0:39575, s2:0.0.0.0:34382], old=null
2019-09-24 16:57:34,595 INFO  impl.FollowerState (FollowerState.java:run(108)) - s1@group-09A0EF6A68F4-FollowerState: change to CANDIDATE, lastRpcTime:322ms, electionTimeout:275ms
2019-09-24 16:57:34,595 INFO  impl.FollowerState (FollowerState.java:run(108)) - s2@group-09A0EF6A68F4-FollowerState: change to CANDIDATE, lastRpcTime:322ms, electionTimeout:276ms
2019-09-24 16:57:34,595 INFO  impl.RoleInfo (RoleInfo.java:shutdownFollowerState(121)) - s1: shutdown FollowerState
2019-09-24 16:57:34,596 INFO  impl.RoleInfo (RoleInfo.java:shutdownFollowerState(121)) - s2: shutdown FollowerState
2019-09-24 16:57:34,596 INFO  impl.RaftServerImpl (RaftServerImpl.java:setRole(170)) - s1@group-09A0EF6A68F4: changes role from  FOLLOWER to CANDIDATE at term 46 for changeToCandidate
2019-09-24 16:57:34,596 INFO  impl.RaftServerImpl (RaftServerImpl.java:setRole(170)) - s2@group-09A0EF6A68F4: changes role from  FOLLOWER to CANDIDATE at term 46 for changeToCandidate
2019-09-24 16:57:34,596 INFO  impl.RoleInfo (RoleInfo.java:updateAndGet(143)) - s1: start LeaderElection
2019-09-24 16:57:34,596 INFO  impl.RoleInfo (RoleInfo.java:updateAndGet(143)) - s2: start LeaderElection
2019-09-24 16:57:34,795 INFO  impl.LeaderElection (LeaderElection.java:askForVotes(178)) - s1@group-09A0EF6A68F4-LeaderElection111: begin an election at term 47 for -1: [s0:0.0.0.0:42611, s1:0.0.0.0:39575, s2:0.0.0.0:34382], old=null
2019-09-24 16:57:34,795 INFO  impl.LeaderElection (LeaderElection.java:askForVotes(178)) - s0@group-09A0EF6A68F4-LeaderElection110: begin an election at term 47 for -1: [s0:0.0.0.0:42611, s1:0.0.0.0:39575, s2:0.0.0.0:34382], old=null
2019-09-24 16:57:34,795 INFO  impl.LeaderElection (LeaderElection.java:askForVotes(178)) - s2@group-09A0EF6A68F4-LeaderElection112: begin an election at term 47 for -1: [s0:0.0.0.0:42611, s1:0.0.0.0:39575, s2:0.0.0.0:34382], old=null
2019-09-24 16:57:34,796 DEBUG impl.RaftServerImpl (RaftServerImpl.java:requestVote(743)) - s1@group-09A0EF6A68F4: receive requestVote(s0, group-09A0EF6A68F4, 47, (t:0, i:0))
2019-09-24 16:57:34,796 DEBUG impl.RaftServerImpl (RaftServerImpl.java:requestVote(743)) - s2@group-09A0EF6A68F4: receive requestVote(s0, group-09A0EF6A68F4, 47, (t:0, i:0))
2019-09-24 16:57:34,971 WARN  ratis.RaftTestUtil (JavaUtils.java:attempt(158)) - FAILED "waitForLeader-null-(expectLeader? true)", attempt #56/100: java.lang.IllegalStateException: No leader yet : printing ALL groups
  s0:  RUNNING CANDIDATE s0@group-09A0EF6A68F4:t47, leader=null, voted=s0, raftlog=s0@group-09A0EF6A68F4-SegmentedRaftLog:OPENED:c-1,f-1,i0, conf=-1: [s0:0.0.0.0:42611, s1:0.0.0.0:39575, s2:0.0.0.0:34382], old=null RUNNING
  s1:  RUNNING CANDIDATE s1@group-09A0EF6A68F4:t48, leader=null, voted=s1, raftlog=s1@group-09A0EF6A68F4-SegmentedRaftLog:OPENED:c-1,f-1,i0, conf=-1: [s0:0.0.0.0:42611, s1:0.0.0.0:39575, s2:0.0.0.0:34382], old=null RUNNING
  s2:  RUNNING CANDIDATE s2@group-09A0EF6A68F4:t48, leader=null, voted=s2, raftlog=s2@group-09A0EF6A68F4-SegmentedRaftLog:OPENED:c-1,f-1,i0, conf=-1: [s0:0.0.0.0:42611, s1:0.0.0.0:39575, s2:0.0.0.0:34382], old=null RUNNING, sleep 450ms and then retry.
java.lang.IllegalStateException: No leader yet : printing ALL groups
  s0:  RUNNING CANDIDATE s0@group-09A0EF6A68F4:t47, leader=null, voted=s0, raftlog=s0@group-09A0EF6A68F4-SegmentedRaftLog:OPENED:c-1,f-1,i0, conf=-1: [s0:0.0.0.0:42611, s1:0.0.0.0:39575, s2:0.0.0.0:34382], old=null RUNNING
  s1:  RUNNING CANDIDATE s1@group-09A0EF6A68F4:t48, leader=null, voted=s1, raftlog=s1@group-09A0EF6A68F4-SegmentedRaftLog:OPENED:c-1,f-1,i0, conf=-1: [s0:0.0.0.0:42611, s1:0.0.0.0:39575, s2:0.0.0.0:34382], old=null RUNNING
  s2:  RUNNING CANDIDATE s2@group-09A0EF6A68F4:t48, leader=null, voted=s2, raftlog=s2@group-09A0EF6A68F4-SegmentedRaftLog:OPENED:c-1,f-1,i0, conf=-1: [s0:0.0.0.0:42611, s1:0.0.0.0:39575, s2:0.0.0.0:34382], old=null RUNNING
	at org.apache.ratis.MiniRaftCluster.newIllegalStateExceptionForNoLeaders(MiniRaftCluster.java:506)
	at org.apache.ratis.RaftTestUtil.lambda$waitForLeader$1(RaftTestUtil.java:90)
	at org.apache.ratis.MiniRaftCluster.getLeader(MiniRaftCluster.java:539)
	at org.apache.ratis.MiniRaftCluster.getLeader(MiniRaftCluster.java:532)
	at org.apache.ratis.RaftTestUtil.lambda$waitForLeader$3(RaftTestUtil.java:98)
	at org.apache.ratis.util.JavaUtils.attempt(JavaUtils.java:152)
	at org.apache.ratis.RaftTestUtil.waitForLeader(RaftTestUtil.java:97)
	at org.apache.ratis.RaftTestUtil.waitForLeader(RaftTestUtil.java:77)
	at org.apache.ratis.RaftTestUtil.waitForLeader(RaftTestUtil.java:72)
	at org.apache.ratis.server.impl.RaftStateMachineExceptionTests.runTestRetryOnExceptionDuringReplication(RaftStateMachineExceptionTests.java:149)
	at org.apache.ratis.MiniRaftCluster$Factory$Get.runWithNewCluster(MiniRaftCluster.java:125)
	at org.apache.ratis.MiniRaftCluster$Factory$Get.runWithNewCluster(MiniRaftCluster.java:113)
	at org.apache.ratis.server.impl.RaftStateMachineExceptionTests.testRetryOnExceptionDuringReplication(RaftStateMachineExceptionTests.java:145)
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.lang.reflect.Method.invoke(Method.java:498)
	at org.junit.runners.model.FrameworkMethod$1.runReflectiveCall(FrameworkMethod.java:50)
	at org.junit.internal.runners.model.ReflectiveCallable.run(ReflectiveCallable.java:12)
	at org.junit.runners.model.FrameworkMethod.invokeExplosively(FrameworkMethod.java:47)
	at org.junit.internal.runners.statements.InvokeMethod.evaluate(InvokeMethod.java:17)
	at org.junit.internal.runners.statements.RunAfters.evaluate(RunAfters.java:27)
	at org.junit.internal.runners.statements.FailOnTimeout$CallableStatement.call(FailOnTimeout.java:298)
	at org.junit.internal.runners.statements.FailOnTimeout$CallableStatement.call(FailOnTimeout.java:292)
	at java.util.concurrent.FutureTask.run(FutureTask.java:266)
	at java.lang.Thread.run(Thread.java:748)
2019-09-24 16:57:35,077 INFO  impl.LeaderElection (LeaderElection.java:logAndReturn(56)) - s0@group-09A0EF6A68F4-LeaderElection110: Election TIMEOUT; received 0 response(s) [] and 0 exception(s); s0@group-09A0EF6A68F4:t47, leader=null, voted=s0, raftlog=s0@group-09A0EF6A68F4-SegmentedRaftLog:OPENED:c-1,f-1,i0, conf=-1: [s0:0.0.0.0:42611, s1:0.0.0.0:39575, s2:0.0.0.0:34382], old=null
2019-09-24 16:57:35,263 INFO  impl.LeaderElection (LeaderElection.java:askForVotes(178)) - s0@group-09A0EF6A68F4-LeaderElection110: begin an election at term 48 for -1: [s0:0.0.0.0:42611, s1:0.0.0.0:39575, s2:0.0.0.0:34382], old=null
2019-09-24 16:57:35,263 INFO  impl.LeaderElection (LeaderElection.java:askForVotes(178)) - s1@group-09A0EF6A68F4-LeaderElection113: begin an election at term 48 for -1: [s0:0.0.0.0:42611, s1:0.0.0.0:39575, s2:0.0.0.0:34382], old=null
2019-09-24 16:57:35,263 DEBUG impl.RaftServerImpl (RaftServerImpl.java:requestVote(775)) - s1@group-09A0EF6A68F4 replies to vote request: s0<-s1#0:FAIL-t48. Peer's state: s1@group-09A0EF6A68F4:t48, leader=null, voted=s1, raftlog=s1@group-09A0EF6A68F4-SegmentedRaftLog:OPENED:c-1,f-1,i0, conf=-1: [s0:0.0.0.0:42611, s1:0.0.0.0:39575, s2:0.0.0.0:34382], old=null
2019-09-24 16:57:35,263 DEBUG impl.RaftServerImpl (RaftServerImpl.java:requestVote(775)) - s2@group-09A0EF6A68F4 replies to vote request: s0<-s2#0:FAIL-t48. Peer's state: s2@group-09A0EF6A68F4:t48, leader=null, voted=s2, raftlog=s2@group-09A0EF6A68F4-SegmentedRaftLog:OPENED:c-1,f-1,i0, conf=-1: [s0:0.0.0.0:42611, s1:0.0.0.0:39575, s2:0.0.0.0:34382], old=null
2019-09-24 16:57:35,263 INFO  impl.LeaderElection (LeaderElection.java:askForVotes(178)) - s2@group-09A0EF6A68F4-LeaderElection114: begin an election at term 48 for -1: [s0:0.0.0.0:42611, s1:0.0.0.0:39575, s2:0.0.0.0:34382], old=null
2019-09-24 16:57:35,264 DEBUG impl.RaftServerImpl (RaftServerImpl.java:requestVote(743)) - s1@group-09A0EF6A68F4: receive requestVote(s0, group-09A0EF6A68F4, 48, (t:0, i:0))
2019-09-24 16:57:35,264 DEBUG impl.RaftServerImpl (RaftServerImpl.java:requestVote(743)) - s2@group-09A0EF6A68F4: receive requestVote(s0, group-09A0EF6A68F4, 48, (t:0, i:0))
2019-09-24 16:57:35,265 DEBUG impl.RaftServerImpl (RaftServerImpl.java:requestVote(775)) - s1@group-09A0EF6A68F4 replies to vote request: s0<-s1#0:FAIL-t48. Peer's state: s1@group-09A0EF6A68F4:t48, leader=null, voted=s1, raftlog=s1@group-09A0EF6A68F4-SegmentedRaftLog:OPENED:c-1,f-1,i0, conf=-1: [s0:0.0.0.0:42611, s1:0.0.0.0:39575, s2:0.0.0.0:34382], old=null
2019-09-24 16:57:35,265 DEBUG impl.RaftServerImpl (RaftServerImpl.java:requestVote(743)) - s2@group-09A0EF6A68F4: receive requestVote(s1, group-09A0EF6A68F4, 48, (t:0, i:0))
2019-09-24 16:57:35,265 DEBUG impl.RaftServerImpl (RaftServerImpl.java:requestVote(775)) - s2@group-09A0EF6A68F4 replies to vote request: s0<-s2#0:FAIL-t48. Peer's state: s2@group-09A0EF6A68F4:t48, leader=null, voted=s2, raftlog=s2@group-09A0EF6A68F4-SegmentedRaftLog:OPENED:c-1,f-1,i0, conf=-1: [s0:0.0.0.0:42611, s1:0.0.0.0:39575, s2:0.0.0.0:34382], old=null
2019-09-24 16:57:35,265 DEBUG impl.RaftServerImpl (RaftServerImpl.java:requestVote(743)) - s0@group-09A0EF6A68F4: receive requestVote(s1, group-09A0EF6A68F4, 48, (t:0, i:0))
2019-09-24 16:57:35,266 INFO  impl.LeaderElection (LeaderElection.java:logAndReturn(56)) - s1@group-09A0EF6A68F4-LeaderElection111: Election REJECTED; received 0 response(s) [] and 0 exception(s); s1@group-09A0EF6A68F4:t48, leader=null, voted=s1, raftlog=s1@group-09A0EF6A68F4-SegmentedRaftLog:OPENED:c-1,f-1,i0, conf=-1: [s0:0.0.0.0:42611, s1:0.0.0.0:39575, s2:0.0.0.0:34382], old=null
2019-09-24 16:57:35,265 DEBUG impl.RaftServerImpl (RaftServerImpl.java:requestVote(775)) - s2@group-09A0EF6A68F4 replies to vote request: s1<-s2#0:FAIL-t48. Peer's state: s2@group-09A0EF6A68F4:t48, leader=null, voted=s2, raftlog=s2@group-09A0EF6A68F4-SegmentedRaftLog:OPENED:c-1,f-1,i0, conf=-1: [s0:0.0.0.0:42611, s1:0.0.0.0:39575, s2:0.0.0.0:34382], old=null
2019-09-24 16:57:35,265 DEBUG impl.RaftServerImpl (RaftServerImpl.java:requestVote(743)) - s0@group-09A0EF6A68F4: receive requestVote(s1, group-09A0EF6A68F4, 47, (t:0, i:0))
2019-09-24 16:57:35,266 DEBUG impl.RaftServerImpl (RaftServerImpl.java:requestVote(743)) - s2@group-09A0EF6A68F4: receive requestVote(s1, group-09A0EF6A68F4, 47, (t:0, i:0))
2019-09-24 16:57:35,266 DEBUG impl.RaftServerImpl (RaftServerImpl.java:requestVote(775)) - s0@group-09A0EF6A68F4 replies to vote request: s1<-s0#0:FAIL-t48. Peer's state: s0@group-09A0EF6A68F4:t48, leader=null, voted=s0, raftlog=s0@group-09A0EF6A68F4-SegmentedRaftLog:OPENED:c-1,f-1,i0, conf=-1: [s0:0.0.0.0:42611, s1:0.0.0.0:39575, s2:0.0.0.0:34382], old=null
2019-09-24 16:57:35,266 DEBUG impl.RaftServerImpl (RaftServerImpl.java:requestVote(743)) - s0@group-09A0EF6A68F4: receive requestVote(s2, group-09A0EF6A68F4, 48, (t:0, i:0))
2019-09-24 16:57:35,267 DEBUG impl.RaftServerImpl (RaftServerImpl.java:requestVote(743)) - s1@group-09A0EF6A68F4: receive requestVote(s2, group-09A0EF6A68F4, 47, (t:0, i:0))
2019-09-24 16:57:35,267 INFO  impl.LeaderElection (LeaderElection.java:logAndReturn(56)) - s1@group-09A0EF6A68F4-LeaderElection113: Election REJECTED; received 2 response(s) [s1<-s0#0:FAIL-t48, s1<-s2#0:FAIL-t48] and 0 exception(s); s1@group-09A0EF6A68F4:t48, leader=null, voted=s1, raftlog=s1@group-09A0EF6A68F4-SegmentedRaftLog:OPENED:c-1,f-1,i0, conf=-1: [s0:0.0.0.0:42611, s1:0.0.0.0:39575, s2:0.0.0.0:34382], old=null
2019-09-24 16:57:35,266 INFO  impl.LeaderElection (LeaderElection.java:logAndReturn(56)) - s0@group-09A0EF6A68F4-LeaderElection110: Election REJECTED; received 2 response(s) [s0<-s1#0:FAIL-t48, s0<-s2#0:FAIL-t48] and 0 exception(s); s0@group-09A0EF6A68F4:t48, leader=null, voted=s0, raftlog=s0@group-09A0EF6A68F4-SegmentedRaftLog:OPENED:c-1,f-1,i0, conf=-1: [s0:0.0.0.0:42611, s1:0.0.0.0:39575, s2:0.0.0.0:34382], old=null
2019-09-24 16:57:35,267 DEBUG impl.RaftServerImpl (RaftServerImpl.java:requestVote(775)) - s1@group-09A0EF6A68F4 replies to vote request: s2<-s1#0:FAIL-t48. Peer's state: s1@group-09A0EF6A68F4:t48, leader=null, voted=s1, raftlog=s1@group-09A0EF6A68F4-SegmentedRaftLog:OPENED:c-1,f-1,i0, conf=-1: [s0:0.0.0.0:42611, s1:0.0.0.0:39575, s2:0.0.0.0:34382], old=null
2019-09-24 16:57:35,267 DEBUG impl.RaftServerImpl (RaftServerImpl.java:requestVote(743)) - s1@group-09A0EF6A68F4: receive requestVote(s2, group-09A0EF6A68F4, 48, (t:0, i:0))
2019-09-24 16:57:35,267 DEBUG impl.RaftServerImpl (RaftServerImpl.java:requestVote(775)) - s0@group-09A0EF6A68F4 replies to vote request: s1<-s0#0:FAIL-t48. Peer's state: s0@group-09A0EF6A68F4:t48, leader=null, voted=s0, raftlog=s0@group-09A0EF6A68F4-SegmentedRaftLog:OPENED:c-1,f-1,i0, conf=-1: [s0:0.0.0.0:42611, s1:0.0.0.0:39575, s2:0.0.0.0:34382], old=null
2019-09-24 16:57:35,267 DEBUG impl.RaftServerImpl (RaftServerImpl.java:requestVote(743)) - s0@group-09A0EF6A68F4: receive requestVote(s2, group-09A0EF6A68F4, 47, (t:0, i:0))
2019-09-24 16:57:35,267 INFO  impl.LeaderElection (LeaderElection.java:logAndReturn(56)) - s2@group-09A0EF6A68F4-LeaderElection112: Election REJECTED; received 0 response(s) [] and 0 exception(s); s2@group-09A0EF6A68F4:t48, leader=null, voted=s2, raftlog=s2@group-09A0EF6A68F4-SegmentedRaftLog:OPENED:c-1,f-1,i0, conf=-1: [s0:0.0.0.0:42611, s1:0.0.0.0:39575, s2:0.0.0.0:34382], old=null
2019-09-24 16:57:35,266 DEBUG impl.RaftServerImpl (RaftServerImpl.java:requestVote(775)) - s2@group-09A0EF6A68F4 replies to vote request: s1<-s2#0:FAIL-t48. Peer's state: s2@group-09A0EF6A68F4:t48, leader=null, voted=s2, raftlog=s2@group-09A0EF6A68F4-SegmentedRaftLog:OPENED:c-1,f-1,i0, conf=-1: [s0:0.0.0.0:42611, s1:0.0.0.0:39575, s2:0.0.0.0:34382], old=null
2019-09-24 16:57:35,268 INFO  impl.RaftServerImpl (RaftServerImpl.java:setRole(170)) - s0@group-09A0EF6A68F4: changes role from CANDIDATE to FOLLOWER at term 48 for DISCOVERED_A_NEW_TERM
2019-09-24 16:57:35,269 INFO  impl.RoleInfo (RoleInfo.java:shutdownLeaderElection(134)) - s0: shutdown LeaderElection
2019-09-24 16:57:35,268 INFO  impl.RaftServerImpl (RaftServerImpl.java:setRole(170)) - s1@group-09A0EF6A68F4: changes role from CANDIDATE to FOLLOWER at term 48 for DISCOVERED_A_NEW_TERM
2019-09-24 16:57:35,269 INFO  impl.RoleInfo (RoleInfo.java:updateAndGet(143)) - s0: start FollowerState
2019-09-24 16:57:35,269 INFO  impl.RoleInfo (RoleInfo.java:shutdownLeaderElection(134)) - s1: shutdown LeaderElection
2019-09-24 16:57:35,269 INFO  impl.RoleInfo (RoleInfo.java:updateAndGet(143)) - s1: start FollowerState
2019-09-24 16:57:35,269 DEBUG impl.RaftServerImpl (RaftServerImpl.java:requestVote(775)) - s0@group-09A0EF6A68F4 replies to vote request: s2<-s0#0:FAIL-t48. Peer's state: s0@group-09A0EF6A68F4:t48, leader=null, voted=s0, raftlog=s0@group-09A0EF6A68F4-SegmentedRaftLog:OPENED:c-1,f-1,i0, conf=-1: [s0:0.0.0.0:42611, s1:0.0.0.0:39575, s2:0.0.0.0:34382], old=null
2019-09-24 16:57:35,270 DEBUG impl.RaftServerImpl (RaftServerImpl.java:requestVote(775)) - s1@group-09A0EF6A68F4 replies to vote request: s2<-s1#0:FAIL-t48. Peer's state: s1@group-09A0EF6A68F4:t48, leader=null, voted=s1, raftlog=s1@group-09A0EF6A68F4-SegmentedRaftLog:OPENED:c-1,f-1,i0, conf=-1: [s0:0.0.0.0:42611, s1:0.0.0.0:39575, s2:0.0.0.0:34382], old=null
2019-09-24 16:57:35,270 DEBUG impl.RaftServerImpl (RaftServerImpl.java:requestVote(775)) - s0@group-09A0EF6A68F4 replies to vote request: s2<-s0#0:FAIL-t48. Peer's state: s0@group-09A0EF6A68F4:t48, leader=null, voted=s0, raftlog=s0@group-09A0EF6A68F4-SegmentedRaftLog:OPENED:c-1,f-1,i0, conf=-1: [s0:0.0.0.0:42611, s1:0.0.0.0:39575, s2:0.0.0.0:34382], old=null
2019-09-24 16:57:35,270 INFO  impl.LeaderElection (LeaderElection.java:logAndReturn(56)) - s2@group-09A0EF6A68F4-LeaderElection114: Election REJECTED; received 2 response(s) [s2<-s0#0:FAIL-t48, s2<-s1#0:FAIL-t48] and 0 exception(s); s2@group-09A0EF6A68F4:t48, leader=null, voted=s2, raftlog=s2@group-09A0EF6A68F4-SegmentedRaftLog:OPENED:c-1,f-1,i0, conf=-1: [s0:0.0.0.0:42611, s1:0.0.0.0:39575, s2:0.0.0.0:34382], old=null
2019-09-24 16:57:35,270 INFO  impl.RaftServerImpl (RaftServerImpl.java:setRole(170)) - s2@group-09A0EF6A68F4: changes role from CANDIDATE to FOLLOWER at term 48 for DISCOVERED_A_NEW_TERM
2019-09-24 16:57:35,271 INFO  impl.RoleInfo (RoleInfo.java:shutdownLeaderElection(134)) - s2: shutdown LeaderElection
2019-09-24 16:57:35,271 INFO  impl.RoleInfo (RoleInfo.java:updateAndGet(143)) - s2: start FollowerState
2019-09-24 16:57:35,423 WARN  ratis.RaftTestUtil (JavaUtils.java:attempt(158)) - FAILED "waitForLeader-null-(expectLeader? true)", attempt #57/100: java.lang.IllegalStateException: No leader yet : printing ALL groups
  s0:  RUNNING  FOLLOWER s0@group-09A0EF6A68F4:t48, leader=null, voted=s0, raftlog=s0@group-09A0EF6A68F4-SegmentedRaftLog:OPENED:c-1,f-1,i0, conf=-1: [s0:0.0.0.0:42611, s1:0.0.0.0:39575, s2:0.0.0.0:34382], old=null RUNNING
  s1:  RUNNING  FOLLOWER s1@group-09A0EF6A68F4:t48, leader=null, voted=s1, raftlog=s1@group-09A0EF6A68F4-SegmentedRaftLog:OPENED:c-1,f-1,i0, conf=-1: [s0:0.0.0.0:42611, s1:0.0.0.0:39575, s2:0.0.0.0:34382], old=null RUNNING
  s2:  RUNNING  FOLLOWER s2@group-09A0EF6A68F4:t48, leader=null, voted=s2, raftlog=s2@group-09A0EF6A68F4-SegmentedRaftLog:OPENED:c-1,f-1,i0, conf=-1: [s0:0.0.0.0:42611, s1:0.0.0.0:39575, s2:0.0.0.0:34382], old=null RUNNING, sleep 450ms and then retry.
java.lang.IllegalStateException: No leader yet : printing ALL groups
  s0:  RUNNING  FOLLOWER s0@group-09A0EF6A68F4:t48, leader=null, voted=s0, raftlog=s0@group-09A0EF6A68F4-SegmentedRaftLog:OPENED:c-1,f-1,i0, conf=-1: [s0:0.0.0.0:42611, s1:0.0.0.0:39575, s2:0.0.0.0:34382], old=null RUNNING
  s1:  RUNNING  FOLLOWER s1@group-09A0EF6A68F4:t48, leader=null, voted=s1, raftlog=s1@group-09A0EF6A68F4-SegmentedRaftLog:OPENED:c-1,f-1,i0, conf=-1: [s0:0.0.0.0:42611, s1:0.0.0.0:39575, s2:0.0.0.0:34382], old=null RUNNING
  s2:  RUNNING  FOLLOWER s2@group-09A0EF6A68F4:t48, leader=null, voted=s2, raftlog=s2@group-09A0EF6A68F4-SegmentedRaftLog:OPENED:c-1,f-1,i0, conf=-1: [s0:0.0.0.0:42611, s1:0.0.0.0:39575, s2:0.0.0.0:34382], old=null RUNNING
	at org.apache.ratis.MiniRaftCluster.newIllegalStateExceptionForNoLeaders(MiniRaftCluster.java:506)
	at org.apache.ratis.RaftTestUtil.lambda$waitForLeader$1(RaftTestUtil.java:90)
	at org.apache.ratis.MiniRaftCluster.getLeader(MiniRaftCluster.java:539)
	at org.apache.ratis.MiniRaftCluster.getLeader(MiniRaftCluster.java:532)
	at org.apache.ratis.RaftTestUtil.lambda$waitForLeader$3(RaftTestUtil.java:98)
	at org.apache.ratis.util.JavaUtils.attempt(JavaUtils.java:152)
	at org.apache.ratis.RaftTestUtil.waitForLeader(RaftTestUtil.java:97)
	at org.apache.ratis.RaftTestUtil.waitForLeader(RaftTestUtil.java:77)
	at org.apache.ratis.RaftTestUtil.waitForLeader(RaftTestUtil.java:72)
	at org.apache.ratis.server.impl.RaftStateMachineExceptionTests.runTestRetryOnExceptionDuringReplication(RaftStateMachineExceptionTests.java:149)
	at org.apache.ratis.MiniRaftCluster$Factory$Get.runWithNewCluster(MiniRaftCluster.java:125)
	at org.apache.ratis.MiniRaftCluster$Factory$Get.runWithNewCluster(MiniRaftCluster.java:113)
	at org.apache.ratis.server.impl.RaftStateMachineExceptionTests.testRetryOnExceptionDuringReplication(RaftStateMachineExceptionTests.java:145)
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.lang.reflect.Method.invoke(Method.java:498)
	at org.junit.runners.model.FrameworkMethod$1.runReflectiveCall(FrameworkMethod.java:50)
	at org.junit.internal.runners.model.ReflectiveCallable.run(ReflectiveCallable.java:12)
	at org.junit.runners.model.FrameworkMethod.invokeExplosively(FrameworkMethod.java:47)
	at org.junit.internal.runners.statements.InvokeMethod.evaluate(InvokeMethod.java:17)
	at org.junit.internal.runners.statements.RunAfters.evaluate(RunAfters.java:27)
	at org.junit.internal.runners.statements.FailOnTimeout$CallableStatement.call(FailOnTimeout.java:298)
	at org.junit.internal.runners.statements.FailOnTimeout$CallableStatement.call(FailOnTimeout.java:292)
	at java.util.concurrent.FutureTask.run(FutureTask.java:266)
	at java.lang.Thread.run(Thread.java:748)
2019-09-24 16:57:35,515 INFO  impl.FollowerState (FollowerState.java:run(108)) - s0@group-09A0EF6A68F4-FollowerState: change to CANDIDATE, lastRpcTime:245ms, electionTimeout:245ms
2019-09-24 16:57:35,515 INFO  impl.RoleInfo (RoleInfo.java:shutdownFollowerState(121)) - s0: shutdown FollowerState
2019-09-24 16:57:35,515 INFO  impl.RaftServerImpl (RaftServerImpl.java:setRole(170)) - s0@group-09A0EF6A68F4: changes role from  FOLLOWER to CANDIDATE at term 48 for changeToCandidate
2019-09-24 16:57:35,515 INFO  impl.RoleInfo (RoleInfo.java:updateAndGet(143)) - s0: start LeaderElection
2019-09-24 16:57:35,535 INFO  impl.FollowerState (FollowerState.java:run(108)) - s2@group-09A0EF6A68F4-FollowerState: change to CANDIDATE, lastRpcTime:264ms, electionTimeout:264ms
2019-09-24 16:57:35,536 INFO  impl.RoleInfo (RoleInfo.java:shutdownFollowerState(121)) - s2: shutdown FollowerState
2019-09-24 16:57:35,536 INFO  impl.RaftServerImpl (RaftServerImpl.java:setRole(170)) - s2@group-09A0EF6A68F4: changes role from  FOLLOWER to CANDIDATE at term 48 for changeToCandidate
2019-09-24 16:57:35,536 INFO  impl.RoleInfo (RoleInfo.java:updateAndGet(143)) - s2: start LeaderElection
2019-09-24 16:57:35,536 INFO  impl.FollowerState (FollowerState.java:run(108)) - s1@group-09A0EF6A68F4-FollowerState: change to CANDIDATE, lastRpcTime:266ms, electionTimeout:266ms
2019-09-24 16:57:35,536 INFO  impl.RoleInfo (RoleInfo.java:shutdownFollowerState(121)) - s1: shutdown FollowerState
2019-09-24 16:57:35,536 INFO  impl.RaftServerImpl (RaftServerImpl.java:setRole(170)) - s1@group-09A0EF6A68F4: changes role from  FOLLOWER to CANDIDATE at term 48 for changeToCandidate
2019-09-24 16:57:35,537 INFO  impl.RoleInfo (RoleInfo.java:updateAndGet(143)) - s1: start LeaderElection
2019-09-24 16:57:35,814 INFO  impl.LeaderElection (LeaderElection.java:askForVotes(178)) - s2@group-09A0EF6A68F4-LeaderElection116: begin an election at term 49 for -1: [s0:0.0.0.0:42611, s1:0.0.0.0:39575, s2:0.0.0.0:34382], old=null
2019-09-24 16:57:35,814 INFO  impl.LeaderElection (LeaderElection.java:askForVotes(178)) - s0@group-09A0EF6A68F4-LeaderElection115: begin an election at term 49 for -1: [s0:0.0.0.0:42611, s1:0.0.0.0:39575, s2:0.0.0.0:34382], old=null
2019-09-24 16:57:35,814 INFO  impl.LeaderElection (LeaderElection.java:askForVotes(178)) - s1@group-09A0EF6A68F4-LeaderElection117: begin an election at term 49 for -1: [s0:0.0.0.0:42611, s1:0.0.0.0:39575, s2:0.0.0.0:34382], old=null
2019-09-24 16:57:35,815 DEBUG impl.RaftServerImpl (RaftServerImpl.java:requestVote(743)) - s0@group-09A0EF6A68F4: receive requestVote(s2, group-09A0EF6A68F4, 49, (t:0, i:0))
2019-09-24 16:57:35,815 DEBUG impl.RaftServerImpl (RaftServerImpl.java:requestVote(743)) - s1@group-09A0EF6A68F4: receive requestVote(s0, group-09A0EF6A68F4, 49, (t:0, i:0))
2019-09-24 16:57:35,815 DEBUG impl.RaftServerImpl (RaftServerImpl.java:requestVote(743)) - s1@group-09A0EF6A68F4: receive requestVote(s2, group-09A0EF6A68F4, 49, (t:0, i:0))
2019-09-24 16:57:35,816 DEBUG impl.RaftServerImpl (RaftServerImpl.java:requestVote(743)) - s2@group-09A0EF6A68F4: receive requestVote(s0, group-09A0EF6A68F4, 49, (t:0, i:0))
2019-09-24 16:57:35,816 DEBUG impl.RaftServerImpl (RaftServerImpl.java:requestVote(775)) - s1@group-09A0EF6A68F4 replies to vote request: s0<-s1#0:FAIL-t49. Peer's state: s1@group-09A0EF6A68F4:t49, leader=null, voted=s1, raftlog=s1@group-09A0EF6A68F4-SegmentedRaftLog:OPENED:c-1,f-1,i0, conf=-1: [s0:0.0.0.0:42611, s1:0.0.0.0:39575, s2:0.0.0.0:34382], old=null
2019-09-24 16:57:35,816 DEBUG impl.RaftServerImpl (RaftServerImpl.java:requestVote(743)) - s0@group-09A0EF6A68F4: receive requestVote(s1, group-09A0EF6A68F4, 49, (t:0, i:0))
2019-09-24 16:57:35,816 DEBUG impl.RaftServerImpl (RaftServerImpl.java:requestVote(775)) - s0@group-09A0EF6A68F4 replies to vote request: s2<-s0#0:FAIL-t49. Peer's state: s0@group-09A0EF6A68F4:t49, leader=null, voted=s0, raftlog=s0@group-09A0EF6A68F4-SegmentedRaftLog:OPENED:c-1,f-1,i0, conf=-1: [s0:0.0.0.0:42611, s1:0.0.0.0:39575, s2:0.0.0.0:34382], old=null
2019-09-24 16:57:35,816 DEBUG impl.RaftServerImpl (RaftServerImpl.java:requestVote(775)) - s1@group-09A0EF6A68F4 replies to vote request: s2<-s1#0:FAIL-t49. Peer's state: s1@group-09A0EF6A68F4:t49, leader=null, voted=s1, raftlog=s1@group-09A0EF6A68F4-SegmentedRaftLog:OPENED:c-1,f-1,i0, conf=-1: [s0:0.0.0.0:42611, s1:0.0.0.0:39575, s2:0.0.0.0:34382], old=null
2019-09-24 16:57:35,816 DEBUG impl.RaftServerImpl (RaftServerImpl.java:requestVote(775)) - s2@group-09A0EF6A68F4 replies to vote request: s0<-s2#0:FAIL-t49. Peer's state: s2@group-09A0EF6A68F4:t49, leader=null, voted=s2, raftlog=s2@group-09A0EF6A68F4-SegmentedRaftLog:OPENED:c-1,f-1,i0, conf=-1: [s0:0.0.0.0:42611, s1:0.0.0.0:39575, s2:0.0.0.0:34382], old=null
2019-09-24 16:57:35,817 INFO  impl.LeaderElection (LeaderElection.java:logAndReturn(56)) - s2@group-09A0EF6A68F4-LeaderElection116: Election REJECTED; received 2 response(s) [s2<-s0#0:FAIL-t49, s2<-s1#0:FAIL-t49] and 0 exception(s); s2@group-09A0EF6A68F4:t49, leader=null, voted=s2, raftlog=s2@group-09A0EF6A68F4-SegmentedRaftLog:OPENED:c-1,f-1,i0, conf=-1: [s0:0.0.0.0:42611, s1:0.0.0.0:39575, s2:0.0.0.0:34382], old=null
2019-09-24 16:57:35,816 DEBUG impl.RaftServerImpl (RaftServerImpl.java:requestVote(743)) - s2@group-09A0EF6A68F4: receive requestVote(s1, group-09A0EF6A68F4, 49, (t:0, i:0))
2019-09-24 16:57:35,817 INFO  impl.LeaderElection (LeaderElection.java:logAndReturn(56)) - s0@group-09A0EF6A68F4-LeaderElection115: Election REJECTED; received 2 response(s) [s0<-s1#0:FAIL-t49, s0<-s2#0:FAIL-t49] and 0 exception(s); s0@group-09A0EF6A68F4:t49, leader=null, voted=s0, raftlog=s0@group-09A0EF6A68F4-SegmentedRaftLog:OPENED:c-1,f-1,i0, conf=-1: [s0:0.0.0.0:42611, s1:0.0.0.0:39575, s2:0.0.0.0:34382], old=null
2019-09-24 16:57:35,817 INFO  impl.RaftServerImpl (RaftServerImpl.java:setRole(170)) - s2@group-09A0EF6A68F4: changes role from CANDIDATE to FOLLOWER at term 49 for DISCOVERED_A_NEW_TERM
2019-09-24 16:57:35,817 DEBUG impl.RaftServerImpl (RaftServerImpl.java:requestVote(775)) - s0@group-09A0EF6A68F4 replies to vote request: s1<-s0#0:FAIL-t49. Peer's state: s0@group-09A0EF6A68F4:t49, leader=null, voted=s0, raftlog=s0@group-09A0EF6A68F4-SegmentedRaftLog:OPENED:c-1,f-1,i0, conf=-1: [s0:0.0.0.0:42611, s1:0.0.0.0:39575, s2:0.0.0.0:34382], old=null
2019-09-24 16:57:35,818 INFO  impl.RoleInfo (RoleInfo.java:shutdownLeaderElection(134)) - s2: shutdown LeaderElection
2019-09-24 16:57:35,818 INFO  impl.RaftServerImpl (RaftServerImpl.java:setRole(170)) - s0@group-09A0EF6A68F4: changes role from CANDIDATE to FOLLOWER at term 49 for DISCOVERED_A_NEW_TERM
2019-09-24 16:57:35,818 INFO  impl.RoleInfo (RoleInfo.java:updateAndGet(143)) - s2: start FollowerState
2019-09-24 16:57:35,818 INFO  impl.RoleInfo (RoleInfo.java:shutdownLeaderElection(134)) - s0: shutdown LeaderElection
2019-09-24 16:57:35,819 INFO  impl.RoleInfo (RoleInfo.java:updateAndGet(143)) - s0: start FollowerState
2019-09-24 16:57:35,819 DEBUG impl.RaftServerImpl (RaftServerImpl.java:requestVote(775)) - s2@group-09A0EF6A68F4 replies to vote request: s1<-s2#0:FAIL-t49. Peer's state: s2@group-09A0EF6A68F4:t49, leader=null, voted=s2, raftlog=s2@group-09A0EF6A68F4-SegmentedRaftLog:OPENED:c-1,f-1,i0, conf=-1: [s0:0.0.0.0:42611, s1:0.0.0.0:39575, s2:0.0.0.0:34382], old=null
2019-09-24 16:57:35,819 INFO  impl.LeaderElection (LeaderElection.java:logAndReturn(56)) - s1@group-09A0EF6A68F4-LeaderElection117: Election REJECTED; received 2 response(s) [s1<-s0#0:FAIL-t49, s1<-s2#0:FAIL-t49] and 0 exception(s); s1@group-09A0EF6A68F4:t49, leader=null, voted=s1, raftlog=s1@group-09A0EF6A68F4-SegmentedRaftLog:OPENED:c-1,f-1,i0, conf=-1: [s0:0.0.0.0:42611, s1:0.0.0.0:39575, s2:0.0.0.0:34382], old=null
2019-09-24 16:57:35,819 INFO  impl.RaftServerImpl (RaftServerImpl.java:setRole(170)) - s1@group-09A0EF6A68F4: changes role from CANDIDATE to FOLLOWER at term 49 for DISCOVERED_A_NEW_TERM
2019-09-24 16:57:35,819 INFO  impl.RoleInfo (RoleInfo.java:shutdownLeaderElection(134)) - s1: shutdown LeaderElection
2019-09-24 16:57:35,820 INFO  impl.RoleInfo (RoleInfo.java:updateAndGet(143)) - s1: start FollowerState
2019-09-24 16:57:35,874 WARN  ratis.RaftTestUtil (JavaUtils.java:attempt(158)) - FAILED "waitForLeader-null-(expectLeader? true)", attempt #58/100: java.lang.IllegalStateException: No leader yet : printing ALL groups
  s0:  RUNNING  FOLLOWER s0@group-09A0EF6A68F4:t49, leader=null, voted=s0, raftlog=s0@group-09A0EF6A68F4-SegmentedRaftLog:OPENED:c-1,f-1,i0, conf=-1: [s0:0.0.0.0:42611, s1:0.0.0.0:39575, s2:0.0.0.0:34382], old=null RUNNING
  s1:  RUNNING  FOLLOWER s1@group-09A0EF6A68F4:t49, leader=null, voted=s1, raftlog=s1@group-09A0EF6A68F4-SegmentedRaftLog:OPENED:c-1,f-1,i0, conf=-1: [s0:0.0.0.0:42611, s1:0.0.0.0:39575, s2:0.0.0.0:34382], old=null RUNNING
  s2:  RUNNING  FOLLOWER s2@group-09A0EF6A68F4:t49, leader=null, voted=s2, raftlog=s2@group-09A0EF6A68F4-SegmentedRaftLog:OPENED:c-1,f-1,i0, conf=-1: [s0:0.0.0.0:42611, s1:0.0.0.0:39575, s2:0.0.0.0:34382], old=null RUNNING, sleep 450ms and then retry.
java.lang.IllegalStateException: No leader yet : printing ALL groups
  s0:  RUNNING  FOLLOWER s0@group-09A0EF6A68F4:t49, leader=null, voted=s0, raftlog=s0@group-09A0EF6A68F4-SegmentedRaftLog:OPENED:c-1,f-1,i0, conf=-1: [s0:0.0.0.0:42611, s1:0.0.0.0:39575, s2:0.0.0.0:34382], old=null RUNNING
  s1:  RUNNING  FOLLOWER s1@group-09A0EF6A68F4:t49, leader=null, voted=s1, raftlog=s1@group-09A0EF6A68F4-SegmentedRaftLog:OPENED:c-1,f-1,i0, conf=-1: [s0:0.0.0.0:42611, s1:0.0.0.0:39575, s2:0.0.0.0:34382], old=null RUNNING
  s2:  RUNNING  FOLLOWER s2@group-09A0EF6A68F4:t49, leader=null, voted=s2, raftlog=s2@group-09A0EF6A68F4-SegmentedRaftLog:OPENED:c-1,f-1,i0, conf=-1: [s0:0.0.0.0:42611, s1:0.0.0.0:39575, s2:0.0.0.0:34382], old=null RUNNING
	at org.apache.ratis.MiniRaftCluster.newIllegalStateExceptionForNoLeaders(MiniRaftCluster.java:506)
	at org.apache.ratis.RaftTestUtil.lambda$waitForLeader$1(RaftTestUtil.java:90)
	at org.apache.ratis.MiniRaftCluster.getLeader(MiniRaftCluster.java:539)
	at org.apache.ratis.MiniRaftCluster.getLeader(MiniRaftCluster.java:532)
	at org.apache.ratis.RaftTestUtil.lambda$waitForLeader$3(RaftTestUtil.java:98)
	at org.apache.ratis.util.JavaUtils.attempt(JavaUtils.java:152)
	at org.apache.ratis.RaftTestUtil.waitForLeader(RaftTestUtil.java:97)
	at org.apache.ratis.RaftTestUtil.waitForLeader(RaftTestUtil.java:77)
	at org.apache.ratis.RaftTestUtil.waitForLeader(RaftTestUtil.java:72)
	at org.apache.ratis.server.impl.RaftStateMachineExceptionTests.runTestRetryOnExceptionDuringReplication(RaftStateMachineExceptionTests.java:149)
	at org.apache.ratis.MiniRaftCluster$Factory$Get.runWithNewCluster(MiniRaftCluster.java:125)
	at org.apache.ratis.MiniRaftCluster$Factory$Get.runWithNewCluster(MiniRaftCluster.java:113)
	at org.apache.ratis.server.impl.RaftStateMachineExceptionTests.testRetryOnExceptionDuringReplication(RaftStateMachineExceptionTests.java:145)
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.lang.reflect.Method.invoke(Method.java:498)
	at org.junit.runners.model.FrameworkMethod$1.runReflectiveCall(FrameworkMethod.java:50)
	at org.junit.internal.runners.model.ReflectiveCallable.run(ReflectiveCallable.java:12)
	at org.junit.runners.model.FrameworkMethod.invokeExplosively(FrameworkMethod.java:47)
	at org.junit.internal.runners.statements.InvokeMethod.evaluate(InvokeMethod.java:17)
	at org.junit.internal.runners.statements.RunAfters.evaluate(RunAfters.java:27)
	at org.junit.internal.runners.statements.FailOnTimeout$CallableStatement.call(FailOnTimeout.java:298)
	at org.junit.internal.runners.statements.FailOnTimeout$CallableStatement.call(FailOnTimeout.java:292)
	at java.util.concurrent.FutureTask.run(FutureTask.java:266)
	at java.lang.Thread.run(Thread.java:748)
2019-09-24 16:57:36,060 INFO  impl.FollowerState (FollowerState.java:run(108)) - s2@group-09A0EF6A68F4-FollowerState: change to CANDIDATE, lastRpcTime:241ms, electionTimeout:241ms
2019-09-24 16:57:36,061 INFO  impl.RoleInfo (RoleInfo.java:shutdownFollowerState(121)) - s2: shutdown FollowerState
2019-09-24 16:57:36,061 INFO  impl.RaftServerImpl (RaftServerImpl.java:setRole(170)) - s2@group-09A0EF6A68F4: changes role from  FOLLOWER to CANDIDATE at term 49 for changeToCandidate
2019-09-24 16:57:36,061 INFO  impl.RoleInfo (RoleInfo.java:updateAndGet(143)) - s2: start LeaderElection
2019-09-24 16:57:36,103 INFO  impl.FollowerState (FollowerState.java:run(108)) - s1@group-09A0EF6A68F4-FollowerState: change to CANDIDATE, lastRpcTime:283ms, electionTimeout:283ms
2019-09-24 16:57:36,103 INFO  impl.RoleInfo (RoleInfo.java:shutdownFollowerState(121)) - s1: shutdown FollowerState
2019-09-24 16:57:36,104 INFO  impl.RaftServerImpl (RaftServerImpl.java:setRole(170)) - s1@group-09A0EF6A68F4: changes role from  FOLLOWER to CANDIDATE at term 49 for changeToCandidate
2019-09-24 16:57:36,104 INFO  impl.RoleInfo (RoleInfo.java:updateAndGet(143)) - s1: start LeaderElection
2019-09-24 16:57:36,109 INFO  impl.FollowerState (FollowerState.java:run(108)) - s0@group-09A0EF6A68F4-FollowerState: change to CANDIDATE, lastRpcTime:290ms, electionTimeout:290ms
2019-09-24 16:57:36,109 INFO  impl.RoleInfo (RoleInfo.java:shutdownFollowerState(121)) - s0: shutdown FollowerState
2019-09-24 16:57:36,109 INFO  impl.RaftServerImpl (RaftServerImpl.java:setRole(170)) - s0@group-09A0EF6A68F4: changes role from  FOLLOWER to CANDIDATE at term 49 for changeToCandidate
2019-09-24 16:57:36,110 INFO  impl.RoleInfo (RoleInfo.java:updateAndGet(143)) - s0: start LeaderElection
2019-09-24 16:57:36,326 WARN  ratis.RaftTestUtil (JavaUtils.java:attempt(158)) - FAILED "waitForLeader-null-(expectLeader? true)", attempt #59/100: java.lang.IllegalStateException: No leader yet : printing ALL groups
  s0:  RUNNING CANDIDATE s0@group-09A0EF6A68F4:t50, leader=null, voted=s0, raftlog=s0@group-09A0EF6A68F4-SegmentedRaftLog:OPENED:c-1,f-1,i0, conf=-1: [s0:0.0.0.0:42611, s1:0.0.0.0:39575, s2:0.0.0.0:34382], old=null RUNNING
  s1:  RUNNING CANDIDATE s1@group-09A0EF6A68F4:t50, leader=null, voted=s1, raftlog=s1@group-09A0EF6A68F4-SegmentedRaftLog:OPENED:c-1,f-1,i0, conf=-1: [s0:0.0.0.0:42611, s1:0.0.0.0:39575, s2:0.0.0.0:34382], old=null RUNNING
  s2:  RUNNING CANDIDATE s2@group-09A0EF6A68F4:t50, leader=null, voted=s2, raftlog=s2@group-09A0EF6A68F4-SegmentedRaftLog:OPENED:c-1,f-1,i0, conf=-1: [s0:0.0.0.0:42611, s1:0.0.0.0:39575, s2:0.0.0.0:34382], old=null RUNNING, sleep 450ms and then retry.
java.lang.IllegalStateException: No leader yet : printing ALL groups
  s0:  RUNNING CANDIDATE s0@group-09A0EF6A68F4:t50, leader=null, voted=s0, raftlog=s0@group-09A0EF6A68F4-SegmentedRaftLog:OPENED:c-1,f-1,i0, conf=-1: [s0:0.0.0.0:42611, s1:0.0.0.0:39575, s2:0.0.0.0:34382], old=null RUNNING
  s1:  RUNNING CANDIDATE s1@group-09A0EF6A68F4:t50, leader=null, voted=s1, raftlog=s1@group-09A0EF6A68F4-SegmentedRaftLog:OPENED:c-1,f-1,i0, conf=-1: [s0:0.0.0.0:42611, s1:0.0.0.0:39575, s2:0.0.0.0:34382], old=null RUNNING
  s2:  RUNNING CANDIDATE s2@group-09A0EF6A68F4:t50, leader=null, voted=s2, raftlog=s2@group-09A0EF6A68F4-SegmentedRaftLog:OPENED:c-1,f-1,i0, conf=-1: [s0:0.0.0.0:42611, s1:0.0.0.0:39575, s2:0.0.0.0:34382], old=null RUNNING
	at org.apache.ratis.MiniRaftCluster.newIllegalStateExceptionForNoLeaders(MiniRaftCluster.java:506)
	at org.apache.ratis.RaftTestUtil.lambda$waitForLeader$1(RaftTestUtil.java:90)
	at org.apache.ratis.MiniRaftCluster.getLeader(MiniRaftCluster.java:539)
	at org.apache.ratis.MiniRaftCluster.getLeader(MiniRaftCluster.java:532)
	at org.apache.ratis.RaftTestUtil.lambda$waitForLeader$3(RaftTestUtil.java:98)
	at org.apache.ratis.util.JavaUtils.attempt(JavaUtils.java:152)
	at org.apache.ratis.RaftTestUtil.waitForLeader(RaftTestUtil.java:97)
	at org.apache.ratis.RaftTestUtil.waitForLeader(RaftTestUtil.java:77)
	at org.apache.ratis.RaftTestUtil.waitForLeader(RaftTestUtil.java:72)
	at org.apache.ratis.server.impl.RaftStateMachineExceptionTests.runTestRetryOnExceptionDuringReplication(RaftStateMachineExceptionTests.java:149)
	at org.apache.ratis.MiniRaftCluster$Factory$Get.runWithNewCluster(MiniRaftCluster.java:125)
	at org.apache.ratis.MiniRaftCluster$Factory$Get.runWithNewCluster(MiniRaftCluster.java:113)
	at org.apache.ratis.server.impl.RaftStateMachineExceptionTests.testRetryOnExceptionDuringReplication(RaftStateMachineExceptionTests.java:145)
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.lang.reflect.Method.invoke(Method.java:498)
	at org.junit.runners.model.FrameworkMethod$1.runReflectiveCall(FrameworkMethod.java:50)
	at org.junit.internal.runners.model.ReflectiveCallable.run(ReflectiveCallable.java:12)
	at org.junit.runners.model.FrameworkMethod.invokeExplosively(FrameworkMethod.java:47)
	at org.junit.internal.runners.statements.InvokeMethod.evaluate(InvokeMethod.java:17)
	at org.junit.internal.runners.statements.RunAfters.evaluate(RunAfters.java:27)
	at org.junit.internal.runners.statements.FailOnTimeout$CallableStatement.call(FailOnTimeout.java:298)
	at org.junit.internal.runners.statements.FailOnTimeout$CallableStatement.call(FailOnTimeout.java:292)
	at java.util.concurrent.FutureTask.run(FutureTask.java:266)
	at java.lang.Thread.run(Thread.java:748)
2019-09-24 16:57:36,420 INFO  impl.LeaderElection (LeaderElection.java:askForVotes(178)) - s1@group-09A0EF6A68F4-LeaderElection119: begin an election at term 50 for -1: [s0:0.0.0.0:42611, s1:0.0.0.0:39575, s2:0.0.0.0:34382], old=null
2019-09-24 16:57:36,420 INFO  impl.LeaderElection (LeaderElection.java:askForVotes(178)) - s2@group-09A0EF6A68F4-LeaderElection118: begin an election at term 50 for -1: [s0:0.0.0.0:42611, s1:0.0.0.0:39575, s2:0.0.0.0:34382], old=null
2019-09-24 16:57:36,420 INFO  impl.LeaderElection (LeaderElection.java:askForVotes(178)) - s0@group-09A0EF6A68F4-LeaderElection120: begin an election at term 50 for -1: [s0:0.0.0.0:42611, s1:0.0.0.0:39575, s2:0.0.0.0:34382], old=null
2019-09-24 16:57:36,421 DEBUG impl.RaftServerImpl (RaftServerImpl.java:requestVote(743)) - s0@group-09A0EF6A68F4: receive requestVote(s1, group-09A0EF6A68F4, 50, (t:0, i:0))
2019-09-24 16:57:36,421 DEBUG impl.RaftServerImpl (RaftServerImpl.java:requestVote(743)) - s0@group-09A0EF6A68F4: receive requestVote(s2, group-09A0EF6A68F4, 50, (t:0, i:0))
2019-09-24 16:57:36,422 DEBUG impl.RaftServerImpl (RaftServerImpl.java:requestVote(743)) - s1@group-09A0EF6A68F4: receive requestVote(s0, group-09A0EF6A68F4, 50, (t:0, i:0))
2019-09-24 16:57:36,422 DEBUG impl.RaftServerImpl (RaftServerImpl.java:requestVote(775)) - s0@group-09A0EF6A68F4 replies to vote request: s1<-s0#0:FAIL-t50. Peer's state: s0@group-09A0EF6A68F4:t50, leader=null, voted=s0, raftlog=s0@group-09A0EF6A68F4-SegmentedRaftLog:OPENED:c-1,f-1,i0, conf=-1: [s0:0.0.0.0:42611, s1:0.0.0.0:39575, s2:0.0.0.0:34382], old=null
2019-09-24 16:57:36,422 DEBUG impl.RaftServerImpl (RaftServerImpl.java:requestVote(775)) - s1@group-09A0EF6A68F4 replies to vote request: s0<-s1#0:FAIL-t50. Peer's state: s1@group-09A0EF6A68F4:t50, leader=null, voted=s1, raftlog=s1@group-09A0EF6A68F4-SegmentedRaftLog:OPENED:c-1,f-1,i0, conf=-1: [s0:0.0.0.0:42611, s1:0.0.0.0:39575, s2:0.0.0.0:34382], old=null
2019-09-24 16:57:36,422 DEBUG impl.RaftServerImpl (RaftServerImpl.java:requestVote(743)) - s2@group-09A0EF6A68F4: receive requestVote(s0, group-09A0EF6A68F4, 50, (t:0, i:0))
2019-09-24 16:57:36,422 DEBUG impl.RaftServerImpl (RaftServerImpl.java:requestVote(743)) - s2@group-09A0EF6A68F4: receive requestVote(s1, group-09A0EF6A68F4, 50, (t:0, i:0))
2019-09-24 16:57:36,422 DEBUG impl.RaftServerImpl (RaftServerImpl.java:requestVote(775)) - s2@group-09A0EF6A68F4 replies to vote request: s0<-s2#0:FAIL-t50. Peer's state: s2@group-09A0EF6A68F4:t50, leader=null, voted=s2, raftlog=s2@group-09A0EF6A68F4-SegmentedRaftLog:OPENED:c-1,f-1,i0, conf=-1: [s0:0.0.0.0:42611, s1:0.0.0.0:39575, s2:0.0.0.0:34382], old=null
2019-09-24 16:57:36,422 DEBUG impl.RaftServerImpl (RaftServerImpl.java:requestVote(775)) - s0@group-09A0EF6A68F4 replies to vote request: s2<-s0#0:FAIL-t50. Peer's state: s0@group-09A0EF6A68F4:t50, leader=null, voted=s0, raftlog=s0@group-09A0EF6A68F4-SegmentedRaftLog:OPENED:c-1,f-1,i0, conf=-1: [s0:0.0.0.0:42611, s1:0.0.0.0:39575, s2:0.0.0.0:34382], old=null
2019-09-24 16:57:36,422 DEBUG impl.RaftServerImpl (RaftServerImpl.java:requestVote(743)) - s1@group-09A0EF6A68F4: receive requestVote(s2, group-09A0EF6A68F4, 50, (t:0, i:0))
2019-09-24 16:57:36,423 INFO  impl.LeaderElection (LeaderElection.java:logAndReturn(56)) - s0@group-09A0EF6A68F4-LeaderElection120: Election REJECTED; received 2 response(s) [s0<-s1#0:FAIL-t50, s0<-s2#0:FAIL-t50] and 0 exception(s); s0@group-09A0EF6A68F4:t50, leader=null, voted=s0, raftlog=s0@group-09A0EF6A68F4-SegmentedRaftLog:OPENED:c-1,f-1,i0, conf=-1: [s0:0.0.0.0:42611, s1:0.0.0.0:39575, s2:0.0.0.0:34382], old=null
2019-09-24 16:57:36,423 DEBUG impl.RaftServerImpl (RaftServerImpl.java:requestVote(775)) - s2@group-09A0EF6A68F4 replies to vote request: s1<-s2#0:FAIL-t50. Peer's state: s2@group-09A0EF6A68F4:t50, leader=null, voted=s2, raftlog=s2@group-09A0EF6A68F4-SegmentedRaftLog:OPENED:c-1,f-1,i0, conf=-1: [s0:0.0.0.0:42611, s1:0.0.0.0:39575, s2:0.0.0.0:34382], old=null
2019-09-24 16:57:36,423 INFO  impl.RaftServerImpl (RaftServerImpl.java:setRole(170)) - s0@group-09A0EF6A68F4: changes role from CANDIDATE to FOLLOWER at term 50 for DISCOVERED_A_NEW_TERM
2019-09-24 16:57:36,423 DEBUG impl.RaftServerImpl (RaftServerImpl.java:requestVote(775)) - s1@group-09A0EF6A68F4 replies to vote request: s2<-s1#0:FAIL-t50. Peer's state: s1@group-09A0EF6A68F4:t50, leader=null, voted=s1, raftlog=s1@group-09A0EF6A68F4-SegmentedRaftLog:OPENED:c-1,f-1,i0, conf=-1: [s0:0.0.0.0:42611, s1:0.0.0.0:39575, s2:0.0.0.0:34382], old=null
2019-09-24 16:57:36,424 INFO  impl.LeaderElection (LeaderElection.java:logAndReturn(56)) - s1@group-09A0EF6A68F4-LeaderElection119: Election REJECTED; received 2 response(s) [s1<-s0#0:FAIL-t50, s1<-s2#0:FAIL-t50] and 0 exception(s); s1@group-09A0EF6A68F4:t50, leader=null, voted=s1, raftlog=s1@group-09A0EF6A68F4-SegmentedRaftLog:OPENED:c-1,f-1,i0, conf=-1: [s0:0.0.0.0:42611, s1:0.0.0.0:39575, s2:0.0.0.0:34382], old=null
2019-09-24 16:57:36,424 INFO  impl.RoleInfo (RoleInfo.java:shutdownLeaderElection(134)) - s0: shutdown LeaderElection
2019-09-24 16:57:36,424 INFO  impl.LeaderElection (LeaderElection.java:logAndReturn(56)) - s2@group-09A0EF6A68F4-LeaderElection118: Election REJECTED; received 2 response(s) [s2<-s0#0:FAIL-t50, s2<-s1#0:FAIL-t50] and 0 exception(s); s2@group-09A0EF6A68F4:t50, leader=null, voted=s2, raftlog=s2@group-09A0EF6A68F4-SegmentedRaftLog:OPENED:c-1,f-1,i0, conf=-1: [s0:0.0.0.0:42611, s1:0.0.0.0:39575, s2:0.0.0.0:34382], old=null
2019-09-24 16:57:36,424 INFO  impl.RaftServerImpl (RaftServerImpl.java:setRole(170)) - s1@group-09A0EF6A68F4: changes role from CANDIDATE to FOLLOWER at term 50 for DISCOVERED_A_NEW_TERM
2019-09-24 16:57:36,425 INFO  impl.RaftServerImpl (RaftServerImpl.java:setRole(170)) - s2@group-09A0EF6A68F4: changes role from CANDIDATE to FOLLOWER at term 50 for DISCOVERED_A_NEW_TERM
2019-09-24 16:57:36,424 INFO  impl.RoleInfo (RoleInfo.java:updateAndGet(143)) - s0: start FollowerState
2019-09-24 16:57:36,425 INFO  impl.RoleInfo (RoleInfo.java:shutdownLeaderElection(134)) - s2: shutdown LeaderElection
2019-09-24 16:57:36,425 INFO  impl.RoleInfo (RoleInfo.java:shutdownLeaderElection(134)) - s1: shutdown LeaderElection
2019-09-24 16:57:36,425 INFO  impl.RoleInfo (RoleInfo.java:updateAndGet(143)) - s2: start FollowerState
2019-09-24 16:57:36,425 INFO  impl.RoleInfo (RoleInfo.java:updateAndGet(143)) - s1: start FollowerState
2019-09-24 16:57:36,592 INFO  impl.FollowerState (FollowerState.java:run(108)) - s2@group-09A0EF6A68F4-FollowerState: change to CANDIDATE, lastRpcTime:166ms, electionTimeout:166ms
2019-09-24 16:57:36,592 INFO  impl.RoleInfo (RoleInfo.java:shutdownFollowerState(121)) - s2: shutdown FollowerState
2019-09-24 16:57:36,593 INFO  impl.RaftServerImpl (RaftServerImpl.java:setRole(170)) - s2@group-09A0EF6A68F4: changes role from  FOLLOWER to CANDIDATE at term 50 for changeToCandidate
2019-09-24 16:57:36,593 INFO  impl.RoleInfo (RoleInfo.java:updateAndGet(143)) - s2: start LeaderElection
2019-09-24 16:57:36,596 INFO  impl.FollowerState (FollowerState.java:run(108)) - s1@group-09A0EF6A68F4-FollowerState: change to CANDIDATE, lastRpcTime:170ms, electionTimeout:170ms
2019-09-24 16:57:36,596 INFO  impl.RoleInfo (RoleInfo.java:shutdownFollowerState(121)) - s1: shutdown FollowerState
2019-09-24 16:57:36,597 INFO  impl.RaftServerImpl (RaftServerImpl.java:setRole(170)) - s1@group-09A0EF6A68F4: changes role from  FOLLOWER to CANDIDATE at term 50 for changeToCandidate
2019-09-24 16:57:36,597 INFO  impl.RoleInfo (RoleInfo.java:updateAndGet(143)) - s1: start LeaderElection
2019-09-24 16:57:36,688 INFO  impl.FollowerState (FollowerState.java:run(108)) - s0@group-09A0EF6A68F4-FollowerState: change to CANDIDATE, lastRpcTime:263ms, electionTimeout:262ms
2019-09-24 16:57:36,688 INFO  impl.RoleInfo (RoleInfo.java:shutdownFollowerState(121)) - s0: shutdown FollowerState
2019-09-24 16:57:36,688 INFO  impl.RaftServerImpl (RaftServerImpl.java:setRole(170)) - s0@group-09A0EF6A68F4: changes role from  FOLLOWER to CANDIDATE at term 50 for changeToCandidate
2019-09-24 16:57:36,688 INFO  impl.RoleInfo (RoleInfo.java:updateAndGet(143)) - s0: start LeaderElection
2019-09-24 16:57:36,777 WARN  ratis.RaftTestUtil (JavaUtils.java:attempt(158)) - FAILED "waitForLeader-null-(expectLeader? true)", attempt #60/100: java.lang.IllegalStateException: No leader yet : printing ALL groups
  s0:  RUNNING CANDIDATE s0@group-09A0EF6A68F4:t51, leader=null, voted=s0, raftlog=s0@group-09A0EF6A68F4-SegmentedRaftLog:OPENED:c-1,f-1,i0, conf=-1: [s0:0.0.0.0:42611, s1:0.0.0.0:39575, s2:0.0.0.0:34382], old=null RUNNING
  s1:  RUNNING CANDIDATE s1@group-09A0EF6A68F4:t51, leader=null, voted=s1, raftlog=s1@group-09A0EF6A68F4-SegmentedRaftLog:OPENED:c-1,f-1,i0, conf=-1: [s0:0.0.0.0:42611, s1:0.0.0.0:39575, s2:0.0.0.0:34382], old=null RUNNING
  s2:  RUNNING CANDIDATE s2@group-09A0EF6A68F4:t51, leader=null, voted=s2, raftlog=s2@group-09A0EF6A68F4-SegmentedRaftLog:OPENED:c-1,f-1,i0, conf=-1: [s0:0.0.0.0:42611, s1:0.0.0.0:39575, s2:0.0.0.0:34382], old=null RUNNING, sleep 450ms and then retry.
java.lang.IllegalStateException: No leader yet : printing ALL groups
  s0:  RUNNING CANDIDATE s0@group-09A0EF6A68F4:t51, leader=null, voted=s0, raftlog=s0@group-09A0EF6A68F4-SegmentedRaftLog:OPENED:c-1,f-1,i0, conf=-1: [s0:0.0.0.0:42611, s1:0.0.0.0:39575, s2:0.0.0.0:34382], old=null RUNNING
  s1:  RUNNING CANDIDATE s1@group-09A0EF6A68F4:t51, leader=null, voted=s1, raftlog=s1@group-09A0EF6A68F4-SegmentedRaftLog:OPENED:c-1,f-1,i0, conf=-1: [s0:0.0.0.0:42611, s1:0.0.0.0:39575, s2:0.0.0.0:34382], old=null RUNNING
  s2:  RUNNING CANDIDATE s2@group-09A0EF6A68F4:t51, leader=null, voted=s2, raftlog=s2@group-09A0EF6A68F4-SegmentedRaftLog:OPENED:c-1,f-1,i0, conf=-1: [s0:0.0.0.0:42611, s1:0.0.0.0:39575, s2:0.0.0.0:34382], old=null RUNNING
	at org.apache.ratis.MiniRaftCluster.newIllegalStateExceptionForNoLeaders(MiniRaftCluster.java:506)
	at org.apache.ratis.RaftTestUtil.lambda$waitForLeader$1(RaftTestUtil.java:90)
	at org.apache.ratis.MiniRaftCluster.getLeader(MiniRaftCluster.java:539)
	at org.apache.ratis.MiniRaftCluster.getLeader(MiniRaftCluster.java:532)
	at org.apache.ratis.RaftTestUtil.lambda$waitForLeader$3(RaftTestUtil.java:98)
	at org.apache.ratis.util.JavaUtils.attempt(JavaUtils.java:152)
	at org.apache.ratis.RaftTestUtil.waitForLeader(RaftTestUtil.java:97)
	at org.apache.ratis.RaftTestUtil.waitForLeader(RaftTestUtil.java:77)
	at org.apache.ratis.RaftTestUtil.waitForLeader(RaftTestUtil.java:72)
	at org.apache.ratis.server.impl.RaftStateMachineExceptionTests.runTestRetryOnExceptionDuringReplication(RaftStateMachineExceptionTests.java:149)
	at org.apache.ratis.MiniRaftCluster$Factory$Get.runWithNewCluster(MiniRaftCluster.java:125)
	at org.apache.ratis.MiniRaftCluster$Factory$Get.runWithNewCluster(MiniRaftCluster.java:113)
	at org.apache.ratis.server.impl.RaftStateMachineExceptionTests.testRetryOnExceptionDuringReplication(RaftStateMachineExceptionTests.java:145)
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.lang.reflect.Method.invoke(Method.java:498)
	at org.junit.runners.model.FrameworkMethod$1.runReflectiveCall(FrameworkMethod.java:50)
	at org.junit.internal.runners.model.ReflectiveCallable.run(ReflectiveCallable.java:12)
	at org.junit.runners.model.FrameworkMethod.invokeExplosively(FrameworkMethod.java:47)
	at org.junit.internal.runners.statements.InvokeMethod.evaluate(InvokeMethod.java:17)
	at org.junit.internal.runners.statements.RunAfters.evaluate(RunAfters.java:27)
	at org.junit.internal.runners.statements.FailOnTimeout$CallableStatement.call(FailOnTimeout.java:298)
	at org.junit.internal.runners.statements.FailOnTimeout$CallableStatement.call(FailOnTimeout.java:292)
	at java.util.concurrent.FutureTask.run(FutureTask.java:266)
	at java.lang.Thread.run(Thread.java:748)
2019-09-24 16:57:36,871 INFO  impl.LeaderElection (LeaderElection.java:askForVotes(178)) - s2@group-09A0EF6A68F4-LeaderElection121: begin an election at term 51 for -1: [s0:0.0.0.0:42611, s1:0.0.0.0:39575, s2:0.0.0.0:34382], old=null
2019-09-24 16:57:36,871 INFO  impl.LeaderElection (LeaderElection.java:askForVotes(178)) - s1@group-09A0EF6A68F4-LeaderElection122: begin an election at term 51 for -1: [s0:0.0.0.0:42611, s1:0.0.0.0:39575, s2:0.0.0.0:34382], old=null
2019-09-24 16:57:36,871 INFO  impl.LeaderElection (LeaderElection.java:askForVotes(178)) - s0@group-09A0EF6A68F4-LeaderElection123: begin an election at term 51 for -1: [s0:0.0.0.0:42611, s1:0.0.0.0:39575, s2:0.0.0.0:34382], old=null
2019-09-24 16:57:36,873 DEBUG impl.RaftServerImpl (RaftServerImpl.java:requestVote(743)) - s0@group-09A0EF6A68F4: receive requestVote(s2, group-09A0EF6A68F4, 51, (t:0, i:0))
2019-09-24 16:57:36,873 DEBUG impl.RaftServerImpl (RaftServerImpl.java:requestVote(743)) - s1@group-09A0EF6A68F4: receive requestVote(s2, group-09A0EF6A68F4, 51, (t:0, i:0))
2019-09-24 16:57:36,874 DEBUG impl.RaftServerImpl (RaftServerImpl.java:requestVote(775)) - s0@group-09A0EF6A68F4 replies to vote request: s2<-s0#0:FAIL-t51. Peer's state: s0@group-09A0EF6A68F4:t51, leader=null, voted=s0, raftlog=s0@group-09A0EF6A68F4-SegmentedRaftLog:OPENED:c-1,f-1,i0, conf=-1: [s0:0.0.0.0:42611, s1:0.0.0.0:39575, s2:0.0.0.0:34382], old=null
2019-09-24 16:57:36,874 DEBUG impl.RaftServerImpl (RaftServerImpl.java:requestVote(743)) - s0@group-09A0EF6A68F4: receive requestVote(s1, group-09A0EF6A68F4, 51, (t:0, i:0))
2019-09-24 16:57:36,874 DEBUG impl.RaftServerImpl (RaftServerImpl.java:requestVote(743)) - s2@group-09A0EF6A68F4: receive requestVote(s0, group-09A0EF6A68F4, 51, (t:0, i:0))
2019-09-24 16:57:36,874 DEBUG impl.RaftServerImpl (RaftServerImpl.java:requestVote(743)) - s1@group-09A0EF6A68F4: receive requestVote(s0, group-09A0EF6A68F4, 51, (t:0, i:0))
2019-09-24 16:57:36,874 DEBUG impl.RaftServerImpl (RaftServerImpl.java:requestVote(775)) - s1@group-09A0EF6A68F4 replies to vote request: s2<-s1#0:FAIL-t51. Peer's state: s1@group-09A0EF6A68F4:t51, leader=null, voted=s1, raftlog=s1@group-09A0EF6A68F4-SegmentedRaftLog:OPENED:c-1,f-1,i0, conf=-1: [s0:0.0.0.0:42611, s1:0.0.0.0:39575, s2:0.0.0.0:34382], old=null
2019-09-24 16:57:36,874 DEBUG impl.RaftServerImpl (RaftServerImpl.java:requestVote(775)) - s2@group-09A0EF6A68F4 replies to vote request: s0<-s2#0:FAIL-t51. Peer's state: s2@group-09A0EF6A68F4:t51, leader=null, voted=s2, raftlog=s2@group-09A0EF6A68F4-SegmentedRaftLog:OPENED:c-1,f-1,i0, conf=-1: [s0:0.0.0.0:42611, s1:0.0.0.0:39575, s2:0.0.0.0:34382], old=null
2019-09-24 16:57:36,874 DEBUG impl.RaftServerImpl (RaftServerImpl.java:requestVote(743)) - s2@group-09A0EF6A68F4: receive requestVote(s1, group-09A0EF6A68F4, 51, (t:0, i:0))
2019-09-24 16:57:36,874 DEBUG impl.RaftServerImpl (RaftServerImpl.java:requestVote(775)) - s0@group-09A0EF6A68F4 replies to vote request: s1<-s0#0:FAIL-t51. Peer's state: s0@group-09A0EF6A68F4:t51, leader=null, voted=s0, raftlog=s0@group-09A0EF6A68F4-SegmentedRaftLog:OPENED:c-1,f-1,i0, conf=-1: [s0:0.0.0.0:42611, s1:0.0.0.0:39575, s2:0.0.0.0:34382], old=null
2019-09-24 16:57:36,875 DEBUG impl.RaftServerImpl (RaftServerImpl.java:requestVote(775)) - s2@group-09A0EF6A68F4 replies to vote request: s1<-s2#0:FAIL-t51. Peer's state: s2@group-09A0EF6A68F4:t51, leader=null, voted=s2, raftlog=s2@group-09A0EF6A68F4-SegmentedRaftLog:OPENED:c-1,f-1,i0, conf=-1: [s0:0.0.0.0:42611, s1:0.0.0.0:39575, s2:0.0.0.0:34382], old=null
2019-09-24 16:57:36,875 INFO  impl.LeaderElection (LeaderElection.java:logAndReturn(56)) - s2@group-09A0EF6A68F4-LeaderElection121: Election REJECTED; received 2 response(s) [s2<-s0#0:FAIL-t51, s2<-s1#0:FAIL-t51] and 0 exception(s); s2@group-09A0EF6A68F4:t51, leader=null, voted=s2, raftlog=s2@group-09A0EF6A68F4-SegmentedRaftLog:OPENED:c-1,f-1,i0, conf=-1: [s0:0.0.0.0:42611, s1:0.0.0.0:39575, s2:0.0.0.0:34382], old=null
2019-09-24 16:57:36,875 DEBUG impl.RaftServerImpl (RaftServerImpl.java:requestVote(775)) - s1@group-09A0EF6A68F4 replies to vote request: s0<-s1#0:FAIL-t51. Peer's state: s1@group-09A0EF6A68F4:t51, leader=null, voted=s1, raftlog=s1@group-09A0EF6A68F4-SegmentedRaftLog:OPENED:c-1,f-1,i0, conf=-1: [s0:0.0.0.0:42611, s1:0.0.0.0:39575, s2:0.0.0.0:34382], old=null
2019-09-24 16:57:36,876 INFO  impl.RaftServerImpl (RaftServerImpl.java:setRole(170)) - s2@group-09A0EF6A68F4: changes role from CANDIDATE to FOLLOWER at term 51 for DISCOVERED_A_NEW_TERM
2019-09-24 16:57:36,876 INFO  impl.LeaderElection (LeaderElection.java:logAndReturn(56)) - s1@group-09A0EF6A68F4-LeaderElection122: Election REJECTED; received 2 response(s) [s1<-s0#0:FAIL-t51, s1<-s2#0:FAIL-t51] and 0 exception(s); s1@group-09A0EF6A68F4:t51, leader=null, voted=s1, raftlog=s1@group-09A0EF6A68F4-SegmentedRaftLog:OPENED:c-1,f-1,i0, conf=-1: [s0:0.0.0.0:42611, s1:0.0.0.0:39575, s2:0.0.0.0:34382], old=null
2019-09-24 16:57:36,876 INFO  impl.RoleInfo (RoleInfo.java:shutdownLeaderElection(134)) - s2: shutdown LeaderElection
2019-09-24 16:57:36,876 INFO  impl.LeaderElection (LeaderElection.java:logAndReturn(56)) - s0@group-09A0EF6A68F4-LeaderElection123: Election REJECTED; received 2 response(s) [s0<-s1#0:FAIL-t51, s0<-s2#0:FAIL-t51] and 0 exception(s); s0@group-09A0EF6A68F4:t51, leader=null, voted=s0, raftlog=s0@group-09A0EF6A68F4-SegmentedRaftLog:OPENED:c-1,f-1,i0, conf=-1: [s0:0.0.0.0:42611, s1:0.0.0.0:39575, s2:0.0.0.0:34382], old=null
2019-09-24 16:57:36,876 INFO  impl.RoleInfo (RoleInfo.java:updateAndGet(143)) - s2: start FollowerState
2019-09-24 16:57:36,876 INFO  impl.RaftServerImpl (RaftServerImpl.java:setRole(170)) - s1@group-09A0EF6A68F4: changes role from CANDIDATE to FOLLOWER at term 51 for DISCOVERED_A_NEW_TERM
2019-09-24 16:57:36,877 INFO  impl.RaftServerImpl (RaftServerImpl.java:setRole(170)) - s0@group-09A0EF6A68F4: changes role from CANDIDATE to FOLLOWER at term 51 for DISCOVERED_A_NEW_TERM
2019-09-24 16:57:36,877 INFO  impl.RoleInfo (RoleInfo.java:shutdownLeaderElection(134)) - s1: shutdown LeaderElection
2019-09-24 16:57:36,877 INFO  impl.RoleInfo (RoleInfo.java:shutdownLeaderElection(134)) - s0: shutdown LeaderElection
2019-09-24 16:57:36,877 INFO  impl.RoleInfo (RoleInfo.java:updateAndGet(143)) - s1: start FollowerState
2019-09-24 16:57:36,877 INFO  impl.RoleInfo (RoleInfo.java:updateAndGet(143)) - s0: start FollowerState
2019-09-24 16:57:37,071 INFO  impl.FollowerState (FollowerState.java:run(108)) - s1@group-09A0EF6A68F4-FollowerState: change to CANDIDATE, lastRpcTime:193ms, electionTimeout:193ms
2019-09-24 16:57:37,071 INFO  impl.RoleInfo (RoleInfo.java:shutdownFollowerState(121)) - s1: shutdown FollowerState
2019-09-24 16:57:37,072 INFO  impl.RaftServerImpl (RaftServerImpl.java:setRole(170)) - s1@group-09A0EF6A68F4: changes role from  FOLLOWER to CANDIDATE at term 51 for changeToCandidate
2019-09-24 16:57:37,072 INFO  impl.RoleInfo (RoleInfo.java:updateAndGet(143)) - s1: start LeaderElection
2019-09-24 16:57:37,115 INFO  impl.FollowerState (FollowerState.java:run(108)) - s0@group-09A0EF6A68F4-FollowerState: change to CANDIDATE, lastRpcTime:237ms, electionTimeout:237ms
2019-09-24 16:57:37,116 INFO  impl.RoleInfo (RoleInfo.java:shutdownFollowerState(121)) - s0: shutdown FollowerState
2019-09-24 16:57:37,116 INFO  impl.RaftServerImpl (RaftServerImpl.java:setRole(170)) - s0@group-09A0EF6A68F4: changes role from  FOLLOWER to CANDIDATE at term 51 for changeToCandidate
2019-09-24 16:57:37,116 INFO  impl.RoleInfo (RoleInfo.java:updateAndGet(143)) - s0: start LeaderElection
2019-09-24 16:57:37,161 INFO  impl.FollowerState (FollowerState.java:run(108)) - s2@group-09A0EF6A68F4-FollowerState: change to CANDIDATE, lastRpcTime:285ms, electionTimeout:284ms
2019-09-24 16:57:37,162 INFO  impl.RoleInfo (RoleInfo.java:shutdownFollowerState(121)) - s2: shutdown FollowerState
2019-09-24 16:57:37,162 INFO  impl.RaftServerImpl (RaftServerImpl.java:setRole(170)) - s2@group-09A0EF6A68F4: changes role from  FOLLOWER to CANDIDATE at term 51 for changeToCandidate
2019-09-24 16:57:37,162 INFO  impl.RoleInfo (RoleInfo.java:updateAndGet(143)) - s2: start LeaderElection
2019-09-24 16:57:37,228 WARN  ratis.RaftTestUtil (JavaUtils.java:attempt(158)) - FAILED "waitForLeader-null-(expectLeader? true)", attempt #61/100: java.lang.IllegalStateException: No leader yet : printing ALL groups
  s0:  RUNNING CANDIDATE s0@group-09A0EF6A68F4:t52, leader=null, voted=s0, raftlog=s0@group-09A0EF6A68F4-SegmentedRaftLog:OPENED:c-1,f-1,i0, conf=-1: [s0:0.0.0.0:42611, s1:0.0.0.0:39575, s2:0.0.0.0:34382], old=null RUNNING
  s1:  RUNNING CANDIDATE s1@group-09A0EF6A68F4:t52, leader=null, voted=s1, raftlog=s1@group-09A0EF6A68F4-SegmentedRaftLog:OPENED:c-1,f-1,i0, conf=-1: [s0:0.0.0.0:42611, s1:0.0.0.0:39575, s2:0.0.0.0:34382], old=null RUNNING
  s2:  RUNNING CANDIDATE s2@group-09A0EF6A68F4:t52, leader=null, voted=s2, raftlog=s2@group-09A0EF6A68F4-SegmentedRaftLog:OPENED:c-1,f-1,i0, conf=-1: [s0:0.0.0.0:42611, s1:0.0.0.0:39575, s2:0.0.0.0:34382], old=null RUNNING, sleep 450ms and then retry.
java.lang.IllegalStateException: No leader yet : printing ALL groups
  s0:  RUNNING CANDIDATE s0@group-09A0EF6A68F4:t52, leader=null, voted=s0, raftlog=s0@group-09A0EF6A68F4-SegmentedRaftLog:OPENED:c-1,f-1,i0, conf=-1: [s0:0.0.0.0:42611, s1:0.0.0.0:39575, s2:0.0.0.0:34382], old=null RUNNING
  s1:  RUNNING CANDIDATE s1@group-09A0EF6A68F4:t52, leader=null, voted=s1, raftlog=s1@group-09A0EF6A68F4-SegmentedRaftLog:OPENED:c-1,f-1,i0, conf=-1: [s0:0.0.0.0:42611, s1:0.0.0.0:39575, s2:0.0.0.0:34382], old=null RUNNING
  s2:  RUNNING CANDIDATE s2@group-09A0EF6A68F4:t52, leader=null, voted=s2, raftlog=s2@group-09A0EF6A68F4-SegmentedRaftLog:OPENED:c-1,f-1,i0, conf=-1: [s0:0.0.0.0:42611, s1:0.0.0.0:39575, s2:0.0.0.0:34382], old=null RUNNING
	at org.apache.ratis.MiniRaftCluster.newIllegalStateExceptionForNoLeaders(MiniRaftCluster.java:506)
	at org.apache.ratis.RaftTestUtil.lambda$waitForLeader$1(RaftTestUtil.java:90)
	at org.apache.ratis.MiniRaftCluster.getLeader(MiniRaftCluster.java:539)
	at org.apache.ratis.MiniRaftCluster.getLeader(MiniRaftCluster.java:532)
	at org.apache.ratis.RaftTestUtil.lambda$waitForLeader$3(RaftTestUtil.java:98)
	at org.apache.ratis.util.JavaUtils.attempt(JavaUtils.java:152)
	at org.apache.ratis.RaftTestUtil.waitForLeader(RaftTestUtil.java:97)
	at org.apache.ratis.RaftTestUtil.waitForLeader(RaftTestUtil.java:77)
	at org.apache.ratis.RaftTestUtil.waitForLeader(RaftTestUtil.java:72)
	at org.apache.ratis.server.impl.RaftStateMachineExceptionTests.runTestRetryOnExceptionDuringReplication(RaftStateMachineExceptionTests.java:149)
	at org.apache.ratis.MiniRaftCluster$Factory$Get.runWithNewCluster(MiniRaftCluster.java:125)
	at org.apache.ratis.MiniRaftCluster$Factory$Get.runWithNewCluster(MiniRaftCluster.java:113)
	at org.apache.ratis.server.impl.RaftStateMachineExceptionTests.testRetryOnExceptionDuringReplication(RaftStateMachineExceptionTests.java:145)
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.lang.reflect.Method.invoke(Method.java:498)
	at org.junit.runners.model.FrameworkMethod$1.runReflectiveCall(FrameworkMethod.java:50)
	at org.junit.internal.runners.model.ReflectiveCallable.run(ReflectiveCallable.java:12)
	at org.junit.runners.model.FrameworkMethod.invokeExplosively(FrameworkMethod.java:47)
	at org.junit.internal.runners.statements.InvokeMethod.evaluate(InvokeMethod.java:17)
	at org.junit.internal.runners.statements.RunAfters.evaluate(RunAfters.java:27)
	at org.junit.internal.runners.statements.FailOnTimeout$CallableStatement.call(FailOnTimeout.java:298)
	at org.junit.internal.runners.statements.FailOnTimeout$CallableStatement.call(FailOnTimeout.java:292)
	at java.util.concurrent.FutureTask.run(FutureTask.java:266)
	at java.lang.Thread.run(Thread.java:748)
2019-09-24 16:57:37,591 INFO  impl.LeaderElection (LeaderElection.java:askForVotes(178)) - s0@group-09A0EF6A68F4-LeaderElection125: begin an election at term 52 for -1: [s0:0.0.0.0:42611, s1:0.0.0.0:39575, s2:0.0.0.0:34382], old=null
2019-09-24 16:57:37,591 INFO  impl.LeaderElection (LeaderElection.java:askForVotes(178)) - s1@group-09A0EF6A68F4-LeaderElection124: begin an election at term 52 for -1: [s0:0.0.0.0:42611, s1:0.0.0.0:39575, s2:0.0.0.0:34382], old=null
2019-09-24 16:57:37,591 INFO  impl.LeaderElection (LeaderElection.java:askForVotes(178)) - s2@group-09A0EF6A68F4-LeaderElection126: begin an election at term 52 for -1: [s0:0.0.0.0:42611, s1:0.0.0.0:39575, s2:0.0.0.0:34382], old=null
2019-09-24 16:57:37,593 DEBUG impl.RaftServerImpl (RaftServerImpl.java:requestVote(743)) - s1@group-09A0EF6A68F4: receive requestVote(s0, group-09A0EF6A68F4, 52, (t:0, i:0))
2019-09-24 16:57:37,593 DEBUG impl.RaftServerImpl (RaftServerImpl.java:requestVote(743)) - s1@group-09A0EF6A68F4: receive requestVote(s2, group-09A0EF6A68F4, 52, (t:0, i:0))
2019-09-24 16:57:37,593 DEBUG impl.RaftServerImpl (RaftServerImpl.java:requestVote(743)) - s0@group-09A0EF6A68F4: receive requestVote(s2, group-09A0EF6A68F4, 52, (t:0, i:0))
2019-09-24 16:57:37,593 DEBUG impl.RaftServerImpl (RaftServerImpl.java:requestVote(743)) - s2@group-09A0EF6A68F4: receive requestVote(s0, group-09A0EF6A68F4, 52, (t:0, i:0))
2019-09-24 16:57:37,593 DEBUG impl.RaftServerImpl (RaftServerImpl.java:requestVote(743)) - s2@group-09A0EF6A68F4: receive requestVote(s1, group-09A0EF6A68F4, 52, (t:0, i:0))
2019-09-24 16:57:37,593 DEBUG impl.RaftServerImpl (RaftServerImpl.java:requestVote(775)) - s1@group-09A0EF6A68F4 replies to vote request: s0<-s1#0:FAIL-t52. Peer's state: s1@group-09A0EF6A68F4:t52, leader=null, voted=s1, raftlog=s1@group-09A0EF6A68F4-SegmentedRaftLog:OPENED:c-1,f-1,i0, conf=-1: [s0:0.0.0.0:42611, s1:0.0.0.0:39575, s2:0.0.0.0:34382], old=null
2019-09-24 16:57:37,593 DEBUG impl.RaftServerImpl (RaftServerImpl.java:requestVote(743)) - s0@group-09A0EF6A68F4: receive requestVote(s1, group-09A0EF6A68F4, 52, (t:0, i:0))
2019-09-24 16:57:37,594 DEBUG impl.RaftServerImpl (RaftServerImpl.java:requestVote(775)) - s1@group-09A0EF6A68F4 replies to vote request: s2<-s1#0:FAIL-t52. Peer's state: s1@group-09A0EF6A68F4:t52, leader=null, voted=s1, raftlog=s1@group-09A0EF6A68F4-SegmentedRaftLog:OPENED:c-1,f-1,i0, conf=-1: [s0:0.0.0.0:42611, s1:0.0.0.0:39575, s2:0.0.0.0:34382], old=null
2019-09-24 16:57:37,594 DEBUG impl.RaftServerImpl (RaftServerImpl.java:requestVote(775)) - s2@group-09A0EF6A68F4 replies to vote request: s0<-s2#0:FAIL-t52. Peer's state: s2@group-09A0EF6A68F4:t52, leader=null, voted=s2, raftlog=s2@group-09A0EF6A68F4-SegmentedRaftLog:OPENED:c-1,f-1,i0, conf=-1: [s0:0.0.0.0:42611, s1:0.0.0.0:39575, s2:0.0.0.0:34382], old=null
2019-09-24 16:57:37,593 DEBUG impl.RaftServerImpl (RaftServerImpl.java:requestVote(775)) - s0@group-09A0EF6A68F4 replies to vote request: s2<-s0#0:FAIL-t52. Peer's state: s0@group-09A0EF6A68F4:t52, leader=null, voted=s0, raftlog=s0@group-09A0EF6A68F4-SegmentedRaftLog:OPENED:c-1,f-1,i0, conf=-1: [s0:0.0.0.0:42611, s1:0.0.0.0:39575, s2:0.0.0.0:34382], old=null
2019-09-24 16:57:37,595 DEBUG impl.RaftServerImpl (RaftServerImpl.java:requestVote(775)) - s2@group-09A0EF6A68F4 replies to vote request: s1<-s2#0:FAIL-t52. Peer's state: s2@group-09A0EF6A68F4:t52, leader=null, voted=s2, raftlog=s2@group-09A0EF6A68F4-SegmentedRaftLog:OPENED:c-1,f-1,i0, conf=-1: [s0:0.0.0.0:42611, s1:0.0.0.0:39575, s2:0.0.0.0:34382], old=null
2019-09-24 16:57:37,595 DEBUG impl.RaftServerImpl (RaftServerImpl.java:requestVote(775)) - s0@group-09A0EF6A68F4 replies to vote request: s1<-s0#0:FAIL-t52. Peer's state: s0@group-09A0EF6A68F4:t52, leader=null, voted=s0, raftlog=s0@group-09A0EF6A68F4-SegmentedRaftLog:OPENED:c-1,f-1,i0, conf=-1: [s0:0.0.0.0:42611, s1:0.0.0.0:39575, s2:0.0.0.0:34382], old=null
2019-09-24 16:57:37,595 INFO  impl.LeaderElection (LeaderElection.java:logAndReturn(56)) - s0@group-09A0EF6A68F4-LeaderElection125: Election REJECTED; received 2 response(s) [s0<-s1#0:FAIL-t52, s0<-s2#0:FAIL-t52] and 0 exception(s); s0@group-09A0EF6A68F4:t52, leader=null, voted=s0, raftlog=s0@group-09A0EF6A68F4-SegmentedRaftLog:OPENED:c-1,f-1,i0, conf=-1: [s0:0.0.0.0:42611, s1:0.0.0.0:39575, s2:0.0.0.0:34382], old=null
2019-09-24 16:57:37,595 INFO  impl.LeaderElection (LeaderElection.java:logAndReturn(56)) - s2@group-09A0EF6A68F4-LeaderElection126: Election REJECTED; received 2 response(s) [s2<-s0#0:FAIL-t52, s2<-s1#0:FAIL-t52] and 0 exception(s); s2@group-09A0EF6A68F4:t52, leader=null, voted=s2, raftlog=s2@group-09A0EF6A68F4-SegmentedRaftLog:OPENED:c-1,f-1,i0, conf=-1: [s0:0.0.0.0:42611, s1:0.0.0.0:39575, s2:0.0.0.0:34382], old=null
2019-09-24 16:57:37,595 INFO  impl.RaftServerImpl (RaftServerImpl.java:setRole(170)) - s0@group-09A0EF6A68F4: changes role from CANDIDATE to FOLLOWER at term 52 for DISCOVERED_A_NEW_TERM
2019-09-24 16:57:37,595 INFO  impl.RoleInfo (RoleInfo.java:shutdownLeaderElection(134)) - s0: shutdown LeaderElection
2019-09-24 16:57:37,595 INFO  impl.LeaderElection (LeaderElection.java:logAndReturn(56)) - s1@group-09A0EF6A68F4-LeaderElection124: Election REJECTED; received 2 response(s) [s1<-s0#0:FAIL-t52, s1<-s2#0:FAIL-t52] and 0 exception(s); s1@group-09A0EF6A68F4:t52, leader=null, voted=s1, raftlog=s1@group-09A0EF6A68F4-SegmentedRaftLog:OPENED:c-1,f-1,i0, conf=-1: [s0:0.0.0.0:42611, s1:0.0.0.0:39575, s2:0.0.0.0:34382], old=null
2019-09-24 16:57:37,596 INFO  impl.RoleInfo (RoleInfo.java:updateAndGet(143)) - s0: start FollowerState
2019-09-24 16:57:37,595 INFO  impl.RaftServerImpl (RaftServerImpl.java:setRole(170)) - s2@group-09A0EF6A68F4: changes role from CANDIDATE to FOLLOWER at term 52 for DISCOVERED_A_NEW_TERM
2019-09-24 16:57:37,596 INFO  impl.RoleInfo (RoleInfo.java:shutdownLeaderElection(134)) - s2: shutdown LeaderElection
2019-09-24 16:57:37,596 INFO  impl.RaftServerImpl (RaftServerImpl.java:setRole(170)) - s1@group-09A0EF6A68F4: changes role from CANDIDATE to FOLLOWER at term 52 for DISCOVERED_A_NEW_TERM
2019-09-24 16:57:37,596 INFO  impl.RoleInfo (RoleInfo.java:updateAndGet(143)) - s2: start FollowerState
2019-09-24 16:57:37,596 INFO  impl.RoleInfo (RoleInfo.java:shutdownLeaderElection(134)) - s1: shutdown LeaderElection
2019-09-24 16:57:37,597 INFO  impl.RoleInfo (RoleInfo.java:updateAndGet(143)) - s1: start FollowerState
2019-09-24 16:57:37,680 WARN  ratis.RaftTestUtil (JavaUtils.java:attempt(158)) - FAILED "waitForLeader-null-(expectLeader? true)", attempt #62/100: java.lang.IllegalStateException: No leader yet : printing ALL groups
  s0:  RUNNING  FOLLOWER s0@group-09A0EF6A68F4:t52, leader=null, voted=s0, raftlog=s0@group-09A0EF6A68F4-SegmentedRaftLog:OPENED:c-1,f-1,i0, conf=-1: [s0:0.0.0.0:42611, s1:0.0.0.0:39575, s2:0.0.0.0:34382], old=null RUNNING
  s1:  RUNNING  FOLLOWER s1@group-09A0EF6A68F4:t52, leader=null, voted=s1, raftlog=s1@group-09A0EF6A68F4-SegmentedRaftLog:OPENED:c-1,f-1,i0, conf=-1: [s0:0.0.0.0:42611, s1:0.0.0.0:39575, s2:0.0.0.0:34382], old=null RUNNING
  s2:  RUNNING  FOLLOWER s2@group-09A0EF6A68F4:t52, leader=null, voted=s2, raftlog=s2@group-09A0EF6A68F4-SegmentedRaftLog:OPENED:c-1,f-1,i0, conf=-1: [s0:0.0.0.0:42611, s1:0.0.0.0:39575, s2:0.0.0.0:34382], old=null RUNNING, sleep 450ms and then retry.
java.lang.IllegalStateException: No leader yet : printing ALL groups
  s0:  RUNNING  FOLLOWER s0@group-09A0EF6A68F4:t52, leader=null, voted=s0, raftlog=s0@group-09A0EF6A68F4-SegmentedRaftLog:OPENED:c-1,f-1,i0, conf=-1: [s0:0.0.0.0:42611, s1:0.0.0.0:39575, s2:0.0.0.0:34382], old=null RUNNING
  s1:  RUNNING  FOLLOWER s1@group-09A0EF6A68F4:t52, leader=null, voted=s1, raftlog=s1@group-09A0EF6A68F4-SegmentedRaftLog:OPENED:c-1,f-1,i0, conf=-1: [s0:0.0.0.0:42611, s1:0.0.0.0:39575, s2:0.0.0.0:34382], old=null RUNNING
  s2:  RUNNING  FOLLOWER s2@group-09A0EF6A68F4:t52, leader=null, voted=s2, raftlog=s2@group-09A0EF6A68F4-SegmentedRaftLog:OPENED:c-1,f-1,i0, conf=-1: [s0:0.0.0.0:42611, s1:0.0.0.0:39575, s2:0.0.0.0:34382], old=null RUNNING
	at org.apache.ratis.MiniRaftCluster.newIllegalStateExceptionForNoLeaders(MiniRaftCluster.java:506)
	at org.apache.ratis.RaftTestUtil.lambda$waitForLeader$1(RaftTestUtil.java:90)
	at org.apache.ratis.MiniRaftCluster.getLeader(MiniRaftCluster.java:539)
	at org.apache.ratis.MiniRaftCluster.getLeader(MiniRaftCluster.java:532)
	at org.apache.ratis.RaftTestUtil.lambda$waitForLeader$3(RaftTestUtil.java:98)
	at org.apache.ratis.util.JavaUtils.attempt(JavaUtils.java:152)
	at org.apache.ratis.RaftTestUtil.waitForLeader(RaftTestUtil.java:97)
	at org.apache.ratis.RaftTestUtil.waitForLeader(RaftTestUtil.java:77)
	at org.apache.ratis.RaftTestUtil.waitForLeader(RaftTestUtil.java:72)
	at org.apache.ratis.server.impl.RaftStateMachineExceptionTests.runTestRetryOnExceptionDuringReplication(RaftStateMachineExceptionTests.java:149)
	at org.apache.ratis.MiniRaftCluster$Factory$Get.runWithNewCluster(MiniRaftCluster.java:125)
	at org.apache.ratis.MiniRaftCluster$Factory$Get.runWithNewCluster(MiniRaftCluster.java:113)
	at org.apache.ratis.server.impl.RaftStateMachineExceptionTests.testRetryOnExceptionDuringReplication(RaftStateMachineExceptionTests.java:145)
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.lang.reflect.Method.invoke(Method.java:498)
	at org.junit.runners.model.FrameworkMethod$1.runReflectiveCall(FrameworkMethod.java:50)
	at org.junit.internal.runners.model.ReflectiveCallable.run(ReflectiveCallable.java:12)
	at org.junit.runners.model.FrameworkMethod.invokeExplosively(FrameworkMethod.java:47)
	at org.junit.internal.runners.statements.InvokeMethod.evaluate(InvokeMethod.java:17)
	at org.junit.internal.runners.statements.RunAfters.evaluate(RunAfters.java:27)
	at org.junit.internal.runners.statements.FailOnTimeout$CallableStatement.call(FailOnTimeout.java:298)
	at org.junit.internal.runners.statements.FailOnTimeout$CallableStatement.call(FailOnTimeout.java:292)
	at java.util.concurrent.FutureTask.run(FutureTask.java:266)
	at java.lang.Thread.run(Thread.java:748)
2019-09-24 16:57:37,770 INFO  impl.FollowerState (FollowerState.java:run(108)) - s2@group-09A0EF6A68F4-FollowerState: change to CANDIDATE, lastRpcTime:173ms, electionTimeout:173ms
2019-09-24 16:57:37,770 INFO  impl.RoleInfo (RoleInfo.java:shutdownFollowerState(121)) - s2: shutdown FollowerState
2019-09-24 16:57:37,770 INFO  impl.RaftServerImpl (RaftServerImpl.java:setRole(170)) - s2@group-09A0EF6A68F4: changes role from  FOLLOWER to CANDIDATE at term 52 for changeToCandidate
2019-09-24 16:57:37,771 INFO  impl.RoleInfo (RoleInfo.java:updateAndGet(143)) - s2: start LeaderElection
2019-09-24 16:57:37,837 INFO  impl.FollowerState (FollowerState.java:run(108)) - s1@group-09A0EF6A68F4-FollowerState: change to CANDIDATE, lastRpcTime:240ms, electionTimeout:240ms
2019-09-24 16:57:37,837 INFO  impl.RoleInfo (RoleInfo.java:shutdownFollowerState(121)) - s1: shutdown FollowerState
2019-09-24 16:57:37,838 INFO  impl.RaftServerImpl (RaftServerImpl.java:setRole(170)) - s1@group-09A0EF6A68F4: changes role from  FOLLOWER to CANDIDATE at term 52 for changeToCandidate
2019-09-24 16:57:37,838 INFO  impl.RoleInfo (RoleInfo.java:updateAndGet(143)) - s1: start LeaderElection
2019-09-24 16:57:37,867 INFO  impl.FollowerState (FollowerState.java:run(108)) - s0@group-09A0EF6A68F4-FollowerState: change to CANDIDATE, lastRpcTime:271ms, electionTimeout:271ms
2019-09-24 16:57:37,868 INFO  impl.RoleInfo (RoleInfo.java:shutdownFollowerState(121)) - s0: shutdown FollowerState
2019-09-24 16:57:37,868 INFO  impl.RaftServerImpl (RaftServerImpl.java:setRole(170)) - s0@group-09A0EF6A68F4: changes role from  FOLLOWER to CANDIDATE at term 52 for changeToCandidate
2019-09-24 16:57:37,868 INFO  impl.RoleInfo (RoleInfo.java:updateAndGet(143)) - s0: start LeaderElection
2019-09-24 16:57:38,131 WARN  ratis.RaftTestUtil (JavaUtils.java:attempt(158)) - FAILED "waitForLeader-null-(expectLeader? true)", attempt #63/100: java.lang.IllegalStateException: No leader yet : printing ALL groups
  s0:  RUNNING CANDIDATE s0@group-09A0EF6A68F4:t53, leader=null, voted=s0, raftlog=s0@group-09A0EF6A68F4-SegmentedRaftLog:OPENED:c-1,f-1,i0, conf=-1: [s0:0.0.0.0:42611, s1:0.0.0.0:39575, s2:0.0.0.0:34382], old=null RUNNING
  s1:  RUNNING CANDIDATE s1@group-09A0EF6A68F4:t53, leader=null, voted=s1, raftlog=s1@group-09A0EF6A68F4-SegmentedRaftLog:OPENED:c-1,f-1,i0, conf=-1: [s0:0.0.0.0:42611, s1:0.0.0.0:39575, s2:0.0.0.0:34382], old=null RUNNING
  s2:  RUNNING CANDIDATE s2@group-09A0EF6A68F4:t53, leader=null, voted=s2, raftlog=s2@group-09A0EF6A68F4-SegmentedRaftLog:OPENED:c-1,f-1,i0, conf=-1: [s0:0.0.0.0:42611, s1:0.0.0.0:39575, s2:0.0.0.0:34382], old=null RUNNING, sleep 450ms and then retry.
java.lang.IllegalStateException: No leader yet : printing ALL groups
  s0:  RUNNING CANDIDATE s0@group-09A0EF6A68F4:t53, leader=null, voted=s0, raftlog=s0@group-09A0EF6A68F4-SegmentedRaftLog:OPENED:c-1,f-1,i0, conf=-1: [s0:0.0.0.0:42611, s1:0.0.0.0:39575, s2:0.0.0.0:34382], old=null RUNNING
  s1:  RUNNING CANDIDATE s1@group-09A0EF6A68F4:t53, leader=null, voted=s1, raftlog=s1@group-09A0EF6A68F4-SegmentedRaftLog:OPENED:c-1,f-1,i0, conf=-1: [s0:0.0.0.0:42611, s1:0.0.0.0:39575, s2:0.0.0.0:34382], old=null RUNNING
  s2:  RUNNING CANDIDATE s2@group-09A0EF6A68F4:t53, leader=null, voted=s2, raftlog=s2@group-09A0EF6A68F4-SegmentedRaftLog:OPENED:c-1,f-1,i0, conf=-1: [s0:0.0.0.0:42611, s1:0.0.0.0:39575, s2:0.0.0.0:34382], old=null RUNNING
	at org.apache.ratis.MiniRaftCluster.newIllegalStateExceptionForNoLeaders(MiniRaftCluster.java:506)
	at org.apache.ratis.RaftTestUtil.lambda$waitForLeader$1(RaftTestUtil.java:90)
	at org.apache.ratis.MiniRaftCluster.getLeader(MiniRaftCluster.java:539)
	at org.apache.ratis.MiniRaftCluster.getLeader(MiniRaftCluster.java:532)
	at org.apache.ratis.RaftTestUtil.lambda$waitForLeader$3(RaftTestUtil.java:98)
	at org.apache.ratis.util.JavaUtils.attempt(JavaUtils.java:152)
	at org.apache.ratis.RaftTestUtil.waitForLeader(RaftTestUtil.java:97)
	at org.apache.ratis.RaftTestUtil.waitForLeader(RaftTestUtil.java:77)
	at org.apache.ratis.RaftTestUtil.waitForLeader(RaftTestUtil.java:72)
	at org.apache.ratis.server.impl.RaftStateMachineExceptionTests.runTestRetryOnExceptionDuringReplication(RaftStateMachineExceptionTests.java:149)
	at org.apache.ratis.MiniRaftCluster$Factory$Get.runWithNewCluster(MiniRaftCluster.java:125)
	at org.apache.ratis.MiniRaftCluster$Factory$Get.runWithNewCluster(MiniRaftCluster.java:113)
	at org.apache.ratis.server.impl.RaftStateMachineExceptionTests.testRetryOnExceptionDuringReplication(RaftStateMachineExceptionTests.java:145)
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.lang.reflect.Method.invoke(Method.java:498)
	at org.junit.runners.model.FrameworkMethod$1.runReflectiveCall(FrameworkMethod.java:50)
	at org.junit.internal.runners.model.ReflectiveCallable.run(ReflectiveCallable.java:12)
	at org.junit.runners.model.FrameworkMethod.invokeExplosively(FrameworkMethod.java:47)
	at org.junit.internal.runners.statements.InvokeMethod.evaluate(InvokeMethod.java:17)
	at org.junit.internal.runners.statements.RunAfters.evaluate(RunAfters.java:27)
	at org.junit.internal.runners.statements.FailOnTimeout$CallableStatement.call(FailOnTimeout.java:298)
	at org.junit.internal.runners.statements.FailOnTimeout$CallableStatement.call(FailOnTimeout.java:292)
	at java.util.concurrent.FutureTask.run(FutureTask.java:266)
	at java.lang.Thread.run(Thread.java:748)
2019-09-24 16:57:38,179 INFO  impl.LeaderElection (LeaderElection.java:askForVotes(178)) - s1@group-09A0EF6A68F4-LeaderElection128: begin an election at term 53 for -1: [s0:0.0.0.0:42611, s1:0.0.0.0:39575, s2:0.0.0.0:34382], old=null
2019-09-24 16:57:38,179 INFO  impl.LeaderElection (LeaderElection.java:askForVotes(178)) - s0@group-09A0EF6A68F4-LeaderElection129: begin an election at term 53 for -1: [s0:0.0.0.0:42611, s1:0.0.0.0:39575, s2:0.0.0.0:34382], old=null
2019-09-24 16:57:38,179 INFO  impl.LeaderElection (LeaderElection.java:askForVotes(178)) - s2@group-09A0EF6A68F4-LeaderElection127: begin an election at term 53 for -1: [s0:0.0.0.0:42611, s1:0.0.0.0:39575, s2:0.0.0.0:34382], old=null
2019-09-24 16:57:38,180 DEBUG impl.RaftServerImpl (RaftServerImpl.java:requestVote(743)) - s0@group-09A0EF6A68F4: receive requestVote(s1, group-09A0EF6A68F4, 53, (t:0, i:0))
2019-09-24 16:57:38,180 DEBUG impl.RaftServerImpl (RaftServerImpl.java:requestVote(775)) - s0@group-09A0EF6A68F4 replies to vote request: s1<-s0#0:FAIL-t53. Peer's state: s0@group-09A0EF6A68F4:t53, leader=null, voted=s0, raftlog=s0@group-09A0EF6A68F4-SegmentedRaftLog:OPENED:c-1,f-1,i0, conf=-1: [s0:0.0.0.0:42611, s1:0.0.0.0:39575, s2:0.0.0.0:34382], old=null
2019-09-24 16:57:38,180 DEBUG impl.RaftServerImpl (RaftServerImpl.java:requestVote(743)) - s0@group-09A0EF6A68F4: receive requestVote(s2, group-09A0EF6A68F4, 53, (t:0, i:0))
2019-09-24 16:57:38,180 DEBUG impl.RaftServerImpl (RaftServerImpl.java:requestVote(743)) - s2@group-09A0EF6A68F4: receive requestVote(s1, group-09A0EF6A68F4, 53, (t:0, i:0))
2019-09-24 16:57:38,181 DEBUG impl.RaftServerImpl (RaftServerImpl.java:requestVote(743)) - s1@group-09A0EF6A68F4: receive requestVote(s2, group-09A0EF6A68F4, 53, (t:0, i:0))
2019-09-24 16:57:38,181 DEBUG impl.RaftServerImpl (RaftServerImpl.java:requestVote(775)) - s0@group-09A0EF6A68F4 replies to vote request: s2<-s0#0:FAIL-t53. Peer's state: s0@group-09A0EF6A68F4:t53, leader=null, voted=s0, raftlog=s0@group-09A0EF6A68F4-SegmentedRaftLog:OPENED:c-1,f-1,i0, conf=-1: [s0:0.0.0.0:42611, s1:0.0.0.0:39575, s2:0.0.0.0:34382], old=null
2019-09-24 16:57:38,180 DEBUG impl.RaftServerImpl (RaftServerImpl.java:requestVote(743)) - s1@group-09A0EF6A68F4: receive requestVote(s0, group-09A0EF6A68F4, 53, (t:0, i:0))
2019-09-24 16:57:38,181 DEBUG impl.RaftServerImpl (RaftServerImpl.java:requestVote(775)) - s1@group-09A0EF6A68F4 replies to vote request: s2<-s1#0:FAIL-t53. Peer's state: s1@group-09A0EF6A68F4:t53, leader=null, voted=s1, raftlog=s1@group-09A0EF6A68F4-SegmentedRaftLog:OPENED:c-1,f-1,i0, conf=-1: [s0:0.0.0.0:42611, s1:0.0.0.0:39575, s2:0.0.0.0:34382], old=null
2019-09-24 16:57:38,181 DEBUG impl.RaftServerImpl (RaftServerImpl.java:requestVote(743)) - s2@group-09A0EF6A68F4: receive requestVote(s0, group-09A0EF6A68F4, 53, (t:0, i:0))
2019-09-24 16:57:38,181 DEBUG impl.RaftServerImpl (RaftServerImpl.java:requestVote(775)) - s2@group-09A0EF6A68F4 replies to vote request: s1<-s2#0:FAIL-t53. Peer's state: s2@group-09A0EF6A68F4:t53, leader=null, voted=s2, raftlog=s2@group-09A0EF6A68F4-SegmentedRaftLog:OPENED:c-1,f-1,i0, conf=-1: [s0:0.0.0.0:42611, s1:0.0.0.0:39575, s2:0.0.0.0:34382], old=null
2019-09-24 16:57:38,182 INFO  impl.LeaderElection (LeaderElection.java:logAndReturn(56)) - s2@group-09A0EF6A68F4-LeaderElection127: Election REJECTED; received 2 response(s) [s2<-s0#0:FAIL-t53, s2<-s1#0:FAIL-t53] and 0 exception(s); s2@group-09A0EF6A68F4:t53, leader=null, voted=s2, raftlog=s2@group-09A0EF6A68F4-SegmentedRaftLog:OPENED:c-1,f-1,i0, conf=-1: [s0:0.0.0.0:42611, s1:0.0.0.0:39575, s2:0.0.0.0:34382], old=null
2019-09-24 16:57:38,182 DEBUG impl.RaftServerImpl (RaftServerImpl.java:requestVote(775)) - s1@group-09A0EF6A68F4 replies to vote request: s0<-s1#0:FAIL-t53. Peer's state: s1@group-09A0EF6A68F4:t53, leader=null, voted=s1, raftlog=s1@group-09A0EF6A68F4-SegmentedRaftLog:OPENED:c-1,f-1,i0, conf=-1: [s0:0.0.0.0:42611, s1:0.0.0.0:39575, s2:0.0.0.0:34382], old=null
2019-09-24 16:57:38,182 INFO  impl.LeaderElection (LeaderElection.java:logAndReturn(56)) - s1@group-09A0EF6A68F4-LeaderElection128: Election REJECTED; received 2 response(s) [s1<-s0#0:FAIL-t53, s1<-s2#0:FAIL-t53] and 0 exception(s); s1@group-09A0EF6A68F4:t53, leader=null, voted=s1, raftlog=s1@group-09A0EF6A68F4-SegmentedRaftLog:OPENED:c-1,f-1,i0, conf=-1: [s0:0.0.0.0:42611, s1:0.0.0.0:39575, s2:0.0.0.0:34382], old=null
2019-09-24 16:57:38,182 DEBUG impl.RaftServerImpl (RaftServerImpl.java:requestVote(775)) - s2@group-09A0EF6A68F4 replies to vote request: s0<-s2#0:FAIL-t53. Peer's state: s2@group-09A0EF6A68F4:t53, leader=null, voted=s2, raftlog=s2@group-09A0EF6A68F4-SegmentedRaftLog:OPENED:c-1,f-1,i0, conf=-1: [s0:0.0.0.0:42611, s1:0.0.0.0:39575, s2:0.0.0.0:34382], old=null
2019-09-24 16:57:38,182 INFO  impl.RaftServerImpl (RaftServerImpl.java:setRole(170)) - s1@group-09A0EF6A68F4: changes role from CANDIDATE to FOLLOWER at term 53 for DISCOVERED_A_NEW_TERM
2019-09-24 16:57:38,183 INFO  impl.RaftServerImpl (RaftServerImpl.java:setRole(170)) - s2@group-09A0EF6A68F4: changes role from CANDIDATE to FOLLOWER at term 53 for DISCOVERED_A_NEW_TERM
2019-09-24 16:57:38,183 INFO  impl.LeaderElection (LeaderElection.java:logAndReturn(56)) - s0@group-09A0EF6A68F4-LeaderElection129: Election REJECTED; received 2 response(s) [s0<-s1#0:FAIL-t53, s0<-s2#0:FAIL-t53] and 0 exception(s); s0@group-09A0EF6A68F4:t53, leader=null, voted=s0, raftlog=s0@group-09A0EF6A68F4-SegmentedRaftLog:OPENED:c-1,f-1,i0, conf=-1: [s0:0.0.0.0:42611, s1:0.0.0.0:39575, s2:0.0.0.0:34382], old=null
2019-09-24 16:57:38,183 INFO  impl.RoleInfo (RoleInfo.java:shutdownLeaderElection(134)) - s1: shutdown LeaderElection
2019-09-24 16:57:38,183 INFO  impl.RaftServerImpl (RaftServerImpl.java:setRole(170)) - s0@group-09A0EF6A68F4: changes role from CANDIDATE to FOLLOWER at term 53 for DISCOVERED_A_NEW_TERM
2019-09-24 16:57:38,183 INFO  impl.RoleInfo (RoleInfo.java:shutdownLeaderElection(134)) - s2: shutdown LeaderElection
2019-09-24 16:57:38,183 INFO  impl.RoleInfo (RoleInfo.java:shutdownLeaderElection(134)) - s0: shutdown LeaderElection
2019-09-24 16:57:38,183 INFO  impl.RoleInfo (RoleInfo.java:updateAndGet(143)) - s1: start FollowerState
2019-09-24 16:57:38,184 INFO  impl.RoleInfo (RoleInfo.java:updateAndGet(143)) - s0: start FollowerState
2019-09-24 16:57:38,184 INFO  impl.RoleInfo (RoleInfo.java:updateAndGet(143)) - s2: start FollowerState
2019-09-24 16:57:38,341 INFO  impl.FollowerState (FollowerState.java:run(108)) - s2@group-09A0EF6A68F4-FollowerState: change to CANDIDATE, lastRpcTime:157ms, electionTimeout:156ms
2019-09-24 16:57:38,341 INFO  impl.RoleInfo (RoleInfo.java:shutdownFollowerState(121)) - s2: shutdown FollowerState
2019-09-24 16:57:38,341 INFO  impl.RaftServerImpl (RaftServerImpl.java:setRole(170)) - s2@group-09A0EF6A68F4: changes role from  FOLLOWER to CANDIDATE at term 53 for changeToCandidate
2019-09-24 16:57:38,341 INFO  impl.FollowerState (FollowerState.java:run(108)) - s1@group-09A0EF6A68F4-FollowerState: change to CANDIDATE, lastRpcTime:158ms, electionTimeout:157ms
2019-09-24 16:57:38,341 INFO  impl.RoleInfo (RoleInfo.java:updateAndGet(143)) - s2: start LeaderElection
2019-09-24 16:57:38,341 INFO  impl.RoleInfo (RoleInfo.java:shutdownFollowerState(121)) - s1: shutdown FollowerState
2019-09-24 16:57:38,342 INFO  impl.RaftServerImpl (RaftServerImpl.java:setRole(170)) - s1@group-09A0EF6A68F4: changes role from  FOLLOWER to CANDIDATE at term 53 for changeToCandidate
2019-09-24 16:57:38,342 INFO  impl.RoleInfo (RoleInfo.java:updateAndGet(143)) - s1: start LeaderElection
2019-09-24 16:57:38,413 INFO  impl.FollowerState (FollowerState.java:run(108)) - s0@group-09A0EF6A68F4-FollowerState: change to CANDIDATE, lastRpcTime:229ms, electionTimeout:228ms
2019-09-24 16:57:38,413 INFO  impl.RoleInfo (RoleInfo.java:shutdownFollowerState(121)) - s0: shutdown FollowerState
2019-09-24 16:57:38,413 INFO  impl.RaftServerImpl (RaftServerImpl.java:setRole(170)) - s0@group-09A0EF6A68F4: changes role from  FOLLOWER to CANDIDATE at term 53 for changeToCandidate
2019-09-24 16:57:38,413 INFO  impl.RoleInfo (RoleInfo.java:updateAndGet(143)) - s0: start LeaderElection
2019-09-24 16:57:38,583 WARN  ratis.RaftTestUtil (JavaUtils.java:attempt(158)) - FAILED "waitForLeader-null-(expectLeader? true)", attempt #64/100: java.lang.IllegalStateException: No leader yet : printing ALL groups
  s0:  RUNNING CANDIDATE s0@group-09A0EF6A68F4:t54, leader=null, voted=s0, raftlog=s0@group-09A0EF6A68F4-SegmentedRaftLog:OPENED:c-1,f-1,i0, conf=-1: [s0:0.0.0.0:42611, s1:0.0.0.0:39575, s2:0.0.0.0:34382], old=null RUNNING
  s1:  RUNNING CANDIDATE s1@group-09A0EF6A68F4:t54, leader=null, voted=s1, raftlog=s1@group-09A0EF6A68F4-SegmentedRaftLog:OPENED:c-1,f-1,i0, conf=-1: [s0:0.0.0.0:42611, s1:0.0.0.0:39575, s2:0.0.0.0:34382], old=null RUNNING
  s2:  RUNNING CANDIDATE s2@group-09A0EF6A68F4:t54, leader=null, voted=s2, raftlog=s2@group-09A0EF6A68F4-SegmentedRaftLog:OPENED:c-1,f-1,i0, conf=-1: [s0:0.0.0.0:42611, s1:0.0.0.0:39575, s2:0.0.0.0:34382], old=null RUNNING, sleep 450ms and then retry.
java.lang.IllegalStateException: No leader yet : printing ALL groups
  s0:  RUNNING CANDIDATE s0@group-09A0EF6A68F4:t54, leader=null, voted=s0, raftlog=s0@group-09A0EF6A68F4-SegmentedRaftLog:OPENED:c-1,f-1,i0, conf=-1: [s0:0.0.0.0:42611, s1:0.0.0.0:39575, s2:0.0.0.0:34382], old=null RUNNING
  s1:  RUNNING CANDIDATE s1@group-09A0EF6A68F4:t54, leader=null, voted=s1, raftlog=s1@group-09A0EF6A68F4-SegmentedRaftLog:OPENED:c-1,f-1,i0, conf=-1: [s0:0.0.0.0:42611, s1:0.0.0.0:39575, s2:0.0.0.0:34382], old=null RUNNING
  s2:  RUNNING CANDIDATE s2@group-09A0EF6A68F4:t54, leader=null, voted=s2, raftlog=s2@group-09A0EF6A68F4-SegmentedRaftLog:OPENED:c-1,f-1,i0, conf=-1: [s0:0.0.0.0:42611, s1:0.0.0.0:39575, s2:0.0.0.0:34382], old=null RUNNING
	at org.apache.ratis.MiniRaftCluster.newIllegalStateExceptionForNoLeaders(MiniRaftCluster.java:506)
	at org.apache.ratis.RaftTestUtil.lambda$waitForLeader$1(RaftTestUtil.java:90)
	at org.apache.ratis.MiniRaftCluster.getLeader(MiniRaftCluster.java:539)
	at org.apache.ratis.MiniRaftCluster.getLeader(MiniRaftCluster.java:532)
	at org.apache.ratis.RaftTestUtil.lambda$waitForLeader$3(RaftTestUtil.java:98)
	at org.apache.ratis.util.JavaUtils.attempt(JavaUtils.java:152)
	at org.apache.ratis.RaftTestUtil.waitForLeader(RaftTestUtil.java:97)
	at org.apache.ratis.RaftTestUtil.waitForLeader(RaftTestUtil.java:77)
	at org.apache.ratis.RaftTestUtil.waitForLeader(RaftTestUtil.java:72)
	at org.apache.ratis.server.impl.RaftStateMachineExceptionTests.runTestRetryOnExceptionDuringReplication(RaftStateMachineExceptionTests.java:149)
	at org.apache.ratis.MiniRaftCluster$Factory$Get.runWithNewCluster(MiniRaftCluster.java:125)
	at org.apache.ratis.MiniRaftCluster$Factory$Get.runWithNewCluster(MiniRaftCluster.java:113)
	at org.apache.ratis.server.impl.RaftStateMachineExceptionTests.testRetryOnExceptionDuringReplication(RaftStateMachineExceptionTests.java:145)
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.lang.reflect.Method.invoke(Method.java:498)
	at org.junit.runners.model.FrameworkMethod$1.runReflectiveCall(FrameworkMethod.java:50)
	at org.junit.internal.runners.model.ReflectiveCallable.run(ReflectiveCallable.java:12)
	at org.junit.runners.model.FrameworkMethod.invokeExplosively(FrameworkMethod.java:47)
	at org.junit.internal.runners.statements.InvokeMethod.evaluate(InvokeMethod.java:17)
	at org.junit.internal.runners.statements.RunAfters.evaluate(RunAfters.java:27)
	at org.junit.internal.runners.statements.FailOnTimeout$CallableStatement.call(FailOnTimeout.java:298)
	at org.junit.internal.runners.statements.FailOnTimeout$CallableStatement.call(FailOnTimeout.java:292)
	at java.util.concurrent.FutureTask.run(FutureTask.java:266)
	at java.lang.Thread.run(Thread.java:748)
2019-09-24 16:57:38,734 INFO  impl.LeaderElection (LeaderElection.java:askForVotes(178)) - s2@group-09A0EF6A68F4-LeaderElection130: begin an election at term 54 for -1: [s0:0.0.0.0:42611, s1:0.0.0.0:39575, s2:0.0.0.0:34382], old=null
2019-09-24 16:57:38,734 INFO  impl.LeaderElection (LeaderElection.java:askForVotes(178)) - s1@group-09A0EF6A68F4-LeaderElection131: begin an election at term 54 for -1: [s0:0.0.0.0:42611, s1:0.0.0.0:39575, s2:0.0.0.0:34382], old=null
2019-09-24 16:57:38,734 INFO  impl.LeaderElection (LeaderElection.java:askForVotes(178)) - s0@group-09A0EF6A68F4-LeaderElection132: begin an election at term 54 for -1: [s0:0.0.0.0:42611, s1:0.0.0.0:39575, s2:0.0.0.0:34382], old=null
2019-09-24 16:57:38,735 DEBUG impl.RaftServerImpl (RaftServerImpl.java:requestVote(743)) - s0@group-09A0EF6A68F4: receive requestVote(s2, group-09A0EF6A68F4, 54, (t:0, i:0))
2019-09-24 16:57:38,735 DEBUG impl.RaftServerImpl (RaftServerImpl.java:requestVote(743)) - s1@group-09A0EF6A68F4: receive requestVote(s0, group-09A0EF6A68F4, 54, (t:0, i:0))
2019-09-24 16:57:38,735 DEBUG impl.RaftServerImpl (RaftServerImpl.java:requestVote(743)) - s2@group-09A0EF6A68F4: receive requestVote(s1, group-09A0EF6A68F4, 54, (t:0, i:0))
2019-09-24 16:57:38,735 DEBUG impl.RaftServerImpl (RaftServerImpl.java:requestVote(743)) - s0@group-09A0EF6A68F4: receive requestVote(s1, group-09A0EF6A68F4, 54, (t:0, i:0))
2019-09-24 16:57:38,736 DEBUG impl.RaftServerImpl (RaftServerImpl.java:requestVote(743)) - s2@group-09A0EF6A68F4: receive requestVote(s0, group-09A0EF6A68F4, 54, (t:0, i:0))
2019-09-24 16:57:38,736 DEBUG impl.RaftServerImpl (RaftServerImpl.java:requestVote(775)) - s2@group-09A0EF6A68F4 replies to vote request: s1<-s2#0:FAIL-t54. Peer's state: s2@group-09A0EF6A68F4:t54, leader=null, voted=s2, raftlog=s2@group-09A0EF6A68F4-SegmentedRaftLog:OPENED:c-1,f-1,i0, conf=-1: [s0:0.0.0.0:42611, s1:0.0.0.0:39575, s2:0.0.0.0:34382], old=null
2019-09-24 16:57:38,736 DEBUG impl.RaftServerImpl (RaftServerImpl.java:requestVote(743)) - s1@group-09A0EF6A68F4: receive requestVote(s2, group-09A0EF6A68F4, 54, (t:0, i:0))
2019-09-24 16:57:38,736 DEBUG impl.RaftServerImpl (RaftServerImpl.java:requestVote(775)) - s1@group-09A0EF6A68F4 replies to vote request: s0<-s1#0:FAIL-t54. Peer's state: s1@group-09A0EF6A68F4:t54, leader=null, voted=s1, raftlog=s1@group-09A0EF6A68F4-SegmentedRaftLog:OPENED:c-1,f-1,i0, conf=-1: [s0:0.0.0.0:42611, s1:0.0.0.0:39575, s2:0.0.0.0:34382], old=null
2019-09-24 16:57:38,736 DEBUG impl.RaftServerImpl (RaftServerImpl.java:requestVote(775)) - s0@group-09A0EF6A68F4 replies to vote request: s2<-s0#0:FAIL-t54. Peer's state: s0@group-09A0EF6A68F4:t54, leader=null, voted=s0, raftlog=s0@group-09A0EF6A68F4-SegmentedRaftLog:OPENED:c-1,f-1,i0, conf=-1: [s0:0.0.0.0:42611, s1:0.0.0.0:39575, s2:0.0.0.0:34382], old=null
2019-09-24 16:57:38,737 DEBUG impl.RaftServerImpl (RaftServerImpl.java:requestVote(775)) - s1@group-09A0EF6A68F4 replies to vote request: s2<-s1#0:FAIL-t54. Peer's state: s1@group-09A0EF6A68F4:t54, leader=null, voted=s1, raftlog=s1@group-09A0EF6A68F4-SegmentedRaftLog:OPENED:c-1,f-1,i0, conf=-1: [s0:0.0.0.0:42611, s1:0.0.0.0:39575, s2:0.0.0.0:34382], old=null
2019-09-24 16:57:38,736 DEBUG impl.RaftServerImpl (RaftServerImpl.java:requestVote(775)) - s2@group-09A0EF6A68F4 replies to vote request: s0<-s2#0:FAIL-t54. Peer's state: s2@group-09A0EF6A68F4:t54, leader=null, voted=s2, raftlog=s2@group-09A0EF6A68F4-SegmentedRaftLog:OPENED:c-1,f-1,i0, conf=-1: [s0:0.0.0.0:42611, s1:0.0.0.0:39575, s2:0.0.0.0:34382], old=null
2019-09-24 16:57:38,737 DEBUG impl.RaftServerImpl (RaftServerImpl.java:requestVote(775)) - s0@group-09A0EF6A68F4 replies to vote request: s1<-s0#0:FAIL-t54. Peer's state: s0@group-09A0EF6A68F4:t54, leader=null, voted=s0, raftlog=s0@group-09A0EF6A68F4-SegmentedRaftLog:OPENED:c-1,f-1,i0, conf=-1: [s0:0.0.0.0:42611, s1:0.0.0.0:39575, s2:0.0.0.0:34382], old=null
2019-09-24 16:57:38,737 INFO  impl.LeaderElection (LeaderElection.java:logAndReturn(56)) - s2@group-09A0EF6A68F4-LeaderElection130: Election REJECTED; received 2 response(s) [s2<-s0#0:FAIL-t54, s2<-s1#0:FAIL-t54] and 0 exception(s); s2@group-09A0EF6A68F4:t54, leader=null, voted=s2, raftlog=s2@group-09A0EF6A68F4-SegmentedRaftLog:OPENED:c-1,f-1,i0, conf=-1: [s0:0.0.0.0:42611, s1:0.0.0.0:39575, s2:0.0.0.0:34382], old=null
2019-09-24 16:57:38,737 INFO  impl.LeaderElection (LeaderElection.java:logAndReturn(56)) - s0@group-09A0EF6A68F4-LeaderElection132: Election REJECTED; received 2 response(s) [s0<-s1#0:FAIL-t54, s0<-s2#0:FAIL-t54] and 0 exception(s); s0@group-09A0EF6A68F4:t54, leader=null, voted=s0, raftlog=s0@group-09A0EF6A68F4-SegmentedRaftLog:OPENED:c-1,f-1,i0, conf=-1: [s0:0.0.0.0:42611, s1:0.0.0.0:39575, s2:0.0.0.0:34382], old=null
2019-09-24 16:57:38,738 INFO  impl.RaftServerImpl (RaftServerImpl.java:setRole(170)) - s2@group-09A0EF6A68F4: changes role from CANDIDATE to FOLLOWER at term 54 for DISCOVERED_A_NEW_TERM
2019-09-24 16:57:38,737 INFO  impl.LeaderElection (LeaderElection.java:logAndReturn(56)) - s1@group-09A0EF6A68F4-LeaderElection131: Election REJECTED; received 2 response(s) [s1<-s0#0:FAIL-t54, s1<-s2#0:FAIL-t54] and 0 exception(s); s1@group-09A0EF6A68F4:t54, leader=null, voted=s1, raftlog=s1@group-09A0EF6A68F4-SegmentedRaftLog:OPENED:c-1,f-1,i0, conf=-1: [s0:0.0.0.0:42611, s1:0.0.0.0:39575, s2:0.0.0.0:34382], old=null
2019-09-24 16:57:38,738 INFO  impl.RoleInfo (RoleInfo.java:shutdownLeaderElection(134)) - s2: shutdown LeaderElection
2019-09-24 16:57:38,738 INFO  impl.RaftServerImpl (RaftServerImpl.java:setRole(170)) - s0@group-09A0EF6A68F4: changes role from CANDIDATE to FOLLOWER at term 54 for DISCOVERED_A_NEW_TERM
2019-09-24 16:57:38,738 INFO  impl.RoleInfo (RoleInfo.java:updateAndGet(143)) - s2: start FollowerState
2019-09-24 16:57:38,738 INFO  impl.RaftServerImpl (RaftServerImpl.java:setRole(170)) - s1@group-09A0EF6A68F4: changes role from CANDIDATE to FOLLOWER at term 54 for DISCOVERED_A_NEW_TERM
2019-09-24 16:57:38,738 INFO  impl.RoleInfo (RoleInfo.java:shutdownLeaderElection(134)) - s0: shutdown LeaderElection
2019-09-24 16:57:38,739 INFO  impl.RoleInfo (RoleInfo.java:shutdownLeaderElection(134)) - s1: shutdown LeaderElection
2019-09-24 16:57:38,739 INFO  impl.RoleInfo (RoleInfo.java:updateAndGet(143)) - s0: start FollowerState
2019-09-24 16:57:38,739 INFO  impl.RoleInfo (RoleInfo.java:updateAndGet(143)) - s1: start FollowerState
2019-09-24 16:57:38,953 INFO  impl.FollowerState (FollowerState.java:run(108)) - s1@group-09A0EF6A68F4-FollowerState: change to CANDIDATE, lastRpcTime:213ms, electionTimeout:213ms
2019-09-24 16:57:38,953 INFO  impl.RoleInfo (RoleInfo.java:shutdownFollowerState(121)) - s1: shutdown FollowerState
2019-09-24 16:57:38,953 INFO  impl.RaftServerImpl (RaftServerImpl.java:setRole(170)) - s1@group-09A0EF6A68F4: changes role from  FOLLOWER to CANDIDATE at term 54 for changeToCandidate
2019-09-24 16:57:38,954 INFO  impl.RoleInfo (RoleInfo.java:updateAndGet(143)) - s1: start LeaderElection
2019-09-24 16:57:38,988 INFO  impl.FollowerState (FollowerState.java:run(108)) - s2@group-09A0EF6A68F4-FollowerState: change to CANDIDATE, lastRpcTime:249ms, electionTimeout:249ms
2019-09-24 16:57:38,988 INFO  impl.RoleInfo (RoleInfo.java:shutdownFollowerState(121)) - s2: shutdown FollowerState
2019-09-24 16:57:38,988 INFO  impl.RaftServerImpl (RaftServerImpl.java:setRole(170)) - s2@group-09A0EF6A68F4: changes role from  FOLLOWER to CANDIDATE at term 54 for changeToCandidate
2019-09-24 16:57:38,989 INFO  impl.RoleInfo (RoleInfo.java:updateAndGet(143)) - s2: start LeaderElection
2019-09-24 16:57:39,027 INFO  impl.FollowerState (FollowerState.java:run(108)) - s0@group-09A0EF6A68F4-FollowerState: change to CANDIDATE, lastRpcTime:287ms, electionTimeout:287ms
2019-09-24 16:57:39,027 INFO  impl.RoleInfo (RoleInfo.java:shutdownFollowerState(121)) - s0: shutdown FollowerState
2019-09-24 16:57:39,027 INFO  impl.RaftServerImpl (RaftServerImpl.java:setRole(170)) - s0@group-09A0EF6A68F4: changes role from  FOLLOWER to CANDIDATE at term 54 for changeToCandidate
2019-09-24 16:57:39,027 INFO  impl.RoleInfo (RoleInfo.java:updateAndGet(143)) - s0: start LeaderElection
2019-09-24 16:57:39,034 WARN  ratis.RaftTestUtil (JavaUtils.java:attempt(158)) - FAILED "waitForLeader-null-(expectLeader? true)", attempt #65/100: java.lang.IllegalStateException: No leader yet : printing ALL groups
  s0:  RUNNING CANDIDATE s0@group-09A0EF6A68F4:t55, leader=null, voted=s0, raftlog=s0@group-09A0EF6A68F4-SegmentedRaftLog:OPENED:c-1,f-1,i0, conf=-1: [s0:0.0.0.0:42611, s1:0.0.0.0:39575, s2:0.0.0.0:34382], old=null RUNNING
  s1:  RUNNING CANDIDATE s1@group-09A0EF6A68F4:t55, leader=null, voted=s1, raftlog=s1@group-09A0EF6A68F4-SegmentedRaftLog:OPENED:c-1,f-1,i0, conf=-1: [s0:0.0.0.0:42611, s1:0.0.0.0:39575, s2:0.0.0.0:34382], old=null RUNNING
  s2:  RUNNING CANDIDATE s2@group-09A0EF6A68F4:t55, leader=null, voted=s2, raftlog=s2@group-09A0EF6A68F4-SegmentedRaftLog:OPENED:c-1,f-1,i0, conf=-1: [s0:0.0.0.0:42611, s1:0.0.0.0:39575, s2:0.0.0.0:34382], old=null RUNNING, sleep 450ms and then retry.
java.lang.IllegalStateException: No leader yet : printing ALL groups
  s0:  RUNNING CANDIDATE s0@group-09A0EF6A68F4:t55, leader=null, voted=s0, raftlog=s0@group-09A0EF6A68F4-SegmentedRaftLog:OPENED:c-1,f-1,i0, conf=-1: [s0:0.0.0.0:42611, s1:0.0.0.0:39575, s2:0.0.0.0:34382], old=null RUNNING
  s1:  RUNNING CANDIDATE s1@group-09A0EF6A68F4:t55, leader=null, voted=s1, raftlog=s1@group-09A0EF6A68F4-SegmentedRaftLog:OPENED:c-1,f-1,i0, conf=-1: [s0:0.0.0.0:42611, s1:0.0.0.0:39575, s2:0.0.0.0:34382], old=null RUNNING
  s2:  RUNNING CANDIDATE s2@group-09A0EF6A68F4:t55, leader=null, voted=s2, raftlog=s2@group-09A0EF6A68F4-SegmentedRaftLog:OPENED:c-1,f-1,i0, conf=-1: [s0:0.0.0.0:42611, s1:0.0.0.0:39575, s2:0.0.0.0:34382], old=null RUNNING
	at org.apache.ratis.MiniRaftCluster.newIllegalStateExceptionForNoLeaders(MiniRaftCluster.java:506)
	at org.apache.ratis.RaftTestUtil.lambda$waitForLeader$1(RaftTestUtil.java:90)
	at org.apache.ratis.MiniRaftCluster.getLeader(MiniRaftCluster.java:539)
	at org.apache.ratis.MiniRaftCluster.getLeader(MiniRaftCluster.java:532)
	at org.apache.ratis.RaftTestUtil.lambda$waitForLeader$3(RaftTestUtil.java:98)
	at org.apache.ratis.util.JavaUtils.attempt(JavaUtils.java:152)
	at org.apache.ratis.RaftTestUtil.waitForLeader(RaftTestUtil.java:97)
	at org.apache.ratis.RaftTestUtil.waitForLeader(RaftTestUtil.java:77)
	at org.apache.ratis.RaftTestUtil.waitForLeader(RaftTestUtil.java:72)
	at org.apache.ratis.server.impl.RaftStateMachineExceptionTests.runTestRetryOnExceptionDuringReplication(RaftStateMachineExceptionTests.java:149)
	at org.apache.ratis.MiniRaftCluster$Factory$Get.runWithNewCluster(MiniRaftCluster.java:125)
	at org.apache.ratis.MiniRaftCluster$Factory$Get.runWithNewCluster(MiniRaftCluster.java:113)
	at org.apache.ratis.server.impl.RaftStateMachineExceptionTests.testRetryOnExceptionDuringReplication(RaftStateMachineExceptionTests.java:145)
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.lang.reflect.Method.invoke(Method.java:498)
	at org.junit.runners.model.FrameworkMethod$1.runReflectiveCall(FrameworkMethod.java:50)
	at org.junit.internal.runners.model.ReflectiveCallable.run(ReflectiveCallable.java:12)
	at org.junit.runners.model.FrameworkMethod.invokeExplosively(FrameworkMethod.java:47)
	at org.junit.internal.runners.statements.InvokeMethod.evaluate(InvokeMethod.java:17)
	at org.junit.internal.runners.statements.RunAfters.evaluate(RunAfters.java:27)
	at org.junit.internal.runners.statements.FailOnTimeout$CallableStatement.call(FailOnTimeout.java:298)
	at org.junit.internal.runners.statements.FailOnTimeout$CallableStatement.call(FailOnTimeout.java:292)
	at java.util.concurrent.FutureTask.run(FutureTask.java:266)
	at java.lang.Thread.run(Thread.java:748)
2019-09-24 16:57:39,293 INFO  impl.LeaderElection (LeaderElection.java:askForVotes(178)) - s2@group-09A0EF6A68F4-LeaderElection134: begin an election at term 55 for -1: [s0:0.0.0.0:42611, s1:0.0.0.0:39575, s2:0.0.0.0:34382], old=null
2019-09-24 16:57:39,293 INFO  impl.LeaderElection (LeaderElection.java:askForVotes(178)) - s0@group-09A0EF6A68F4-LeaderElection135: begin an election at term 55 for -1: [s0:0.0.0.0:42611, s1:0.0.0.0:39575, s2:0.0.0.0:34382], old=null
2019-09-24 16:57:39,293 INFO  impl.LeaderElection (LeaderElection.java:askForVotes(178)) - s1@group-09A0EF6A68F4-LeaderElection133: begin an election at term 55 for -1: [s0:0.0.0.0:42611, s1:0.0.0.0:39575, s2:0.0.0.0:34382], old=null
2019-09-24 16:57:39,294 DEBUG impl.RaftServerImpl (RaftServerImpl.java:requestVote(743)) - s0@group-09A0EF6A68F4: receive requestVote(s2, group-09A0EF6A68F4, 55, (t:0, i:0))
2019-09-24 16:57:39,294 DEBUG impl.RaftServerImpl (RaftServerImpl.java:requestVote(743)) - s1@group-09A0EF6A68F4: receive requestVote(s0, group-09A0EF6A68F4, 55, (t:0, i:0))
2019-09-24 16:57:39,294 DEBUG impl.RaftServerImpl (RaftServerImpl.java:requestVote(775)) - s0@group-09A0EF6A68F4 replies to vote request: s2<-s0#0:FAIL-t55. Peer's state: s0@group-09A0EF6A68F4:t55, leader=null, voted=s0, raftlog=s0@group-09A0EF6A68F4-SegmentedRaftLog:OPENED:c-1,f-1,i0, conf=-1: [s0:0.0.0.0:42611, s1:0.0.0.0:39575, s2:0.0.0.0:34382], old=null
2019-09-24 16:57:39,294 DEBUG impl.RaftServerImpl (RaftServerImpl.java:requestVote(775)) - s1@group-09A0EF6A68F4 replies to vote request: s0<-s1#0:FAIL-t55. Peer's state: s1@group-09A0EF6A68F4:t55, leader=null, voted=s1, raftlog=s1@group-09A0EF6A68F4-SegmentedRaftLog:OPENED:c-1,f-1,i0, conf=-1: [s0:0.0.0.0:42611, s1:0.0.0.0:39575, s2:0.0.0.0:34382], old=null
2019-09-24 16:57:39,294 DEBUG impl.RaftServerImpl (RaftServerImpl.java:requestVote(743)) - s1@group-09A0EF6A68F4: receive requestVote(s2, group-09A0EF6A68F4, 55, (t:0, i:0))
2019-09-24 16:57:39,294 DEBUG impl.RaftServerImpl (RaftServerImpl.java:requestVote(743)) - s0@group-09A0EF6A68F4: receive requestVote(s1, group-09A0EF6A68F4, 55, (t:0, i:0))
2019-09-24 16:57:39,295 DEBUG impl.RaftServerImpl (RaftServerImpl.java:requestVote(743)) - s2@group-09A0EF6A68F4: receive requestVote(s1, group-09A0EF6A68F4, 55, (t:0, i:0))
2019-09-24 16:57:39,295 DEBUG impl.RaftServerImpl (RaftServerImpl.java:requestVote(775)) - s1@group-09A0EF6A68F4 replies to vote request: s2<-s1#0:FAIL-t55. Peer's state: s1@group-09A0EF6A68F4:t55, leader=null, voted=s1, raftlog=s1@group-09A0EF6A68F4-SegmentedRaftLog:OPENED:c-1,f-1,i0, conf=-1: [s0:0.0.0.0:42611, s1:0.0.0.0:39575, s2:0.0.0.0:34382], old=null
2019-09-24 16:57:39,295 DEBUG impl.RaftServerImpl (RaftServerImpl.java:requestVote(743)) - s2@group-09A0EF6A68F4: receive requestVote(s0, group-09A0EF6A68F4, 55, (t:0, i:0))
2019-09-24 16:57:39,295 DEBUG impl.RaftServerImpl (RaftServerImpl.java:requestVote(775)) - s2@group-09A0EF6A68F4 replies to vote request: s1<-s2#0:FAIL-t55. Peer's state: s2@group-09A0EF6A68F4:t55, leader=null, voted=s2, raftlog=s2@group-09A0EF6A68F4-SegmentedRaftLog:OPENED:c-1,f-1,i0, conf=-1: [s0:0.0.0.0:42611, s1:0.0.0.0:39575, s2:0.0.0.0:34382], old=null
2019-09-24 16:57:39,295 DEBUG impl.RaftServerImpl (RaftServerImpl.java:requestVote(775)) - s0@group-09A0EF6A68F4 replies to vote request: s1<-s0#0:FAIL-t55. Peer's state: s0@group-09A0EF6A68F4:t55, leader=null, voted=s0, raftlog=s0@group-09A0EF6A68F4-SegmentedRaftLog:OPENED:c-1,f-1,i0, conf=-1: [s0:0.0.0.0:42611, s1:0.0.0.0:39575, s2:0.0.0.0:34382], old=null
2019-09-24 16:57:39,296 DEBUG impl.RaftServerImpl (RaftServerImpl.java:requestVote(775)) - s2@group-09A0EF6A68F4 replies to vote request: s0<-s2#0:FAIL-t55. Peer's state: s2@group-09A0EF6A68F4:t55, leader=null, voted=s2, raftlog=s2@group-09A0EF6A68F4-SegmentedRaftLog:OPENED:c-1,f-1,i0, conf=-1: [s0:0.0.0.0:42611, s1:0.0.0.0:39575, s2:0.0.0.0:34382], old=null
2019-09-24 16:57:39,295 INFO  impl.LeaderElection (LeaderElection.java:logAndReturn(56)) - s2@group-09A0EF6A68F4-LeaderElection134: Election REJECTED; received 2 response(s) [s2<-s0#0:FAIL-t55, s2<-s1#0:FAIL-t55] and 0 exception(s); s2@group-09A0EF6A68F4:t55, leader=null, voted=s2, raftlog=s2@group-09A0EF6A68F4-SegmentedRaftLog:OPENED:c-1,f-1,i0, conf=-1: [s0:0.0.0.0:42611, s1:0.0.0.0:39575, s2:0.0.0.0:34382], old=null
2019-09-24 16:57:39,296 INFO  impl.LeaderElection (LeaderElection.java:logAndReturn(56)) - s1@group-09A0EF6A68F4-LeaderElection133: Election REJECTED; received 2 response(s) [s1<-s0#0:FAIL-t55, s1<-s2#0:FAIL-t55] and 0 exception(s); s1@group-09A0EF6A68F4:t55, leader=null, voted=s1, raftlog=s1@group-09A0EF6A68F4-SegmentedRaftLog:OPENED:c-1,f-1,i0, conf=-1: [s0:0.0.0.0:42611, s1:0.0.0.0:39575, s2:0.0.0.0:34382], old=null
2019-09-24 16:57:39,296 INFO  impl.RaftServerImpl (RaftServerImpl.java:setRole(170)) - s2@group-09A0EF6A68F4: changes role from CANDIDATE to FOLLOWER at term 55 for DISCOVERED_A_NEW_TERM
2019-09-24 16:57:39,296 INFO  impl.RoleInfo (RoleInfo.java:shutdownLeaderElection(134)) - s2: shutdown LeaderElection
2019-09-24 16:57:39,296 INFO  impl.LeaderElection (LeaderElection.java:logAndReturn(56)) - s0@group-09A0EF6A68F4-LeaderElection135: Election REJECTED; received 2 response(s) [s0<-s1#0:FAIL-t55, s0<-s2#0:FAIL-t55] and 0 exception(s); s0@group-09A0EF6A68F4:t55, leader=null, voted=s0, raftlog=s0@group-09A0EF6A68F4-SegmentedRaftLog:OPENED:c-1,f-1,i0, conf=-1: [s0:0.0.0.0:42611, s1:0.0.0.0:39575, s2:0.0.0.0:34382], old=null
2019-09-24 16:57:39,297 INFO  impl.RoleInfo (RoleInfo.java:updateAndGet(143)) - s2: start FollowerState
2019-09-24 16:57:39,296 INFO  impl.RaftServerImpl (RaftServerImpl.java:setRole(170)) - s1@group-09A0EF6A68F4: changes role from CANDIDATE to FOLLOWER at term 55 for DISCOVERED_A_NEW_TERM
2019-09-24 16:57:39,297 INFO  impl.RaftServerImpl (RaftServerImpl.java:setRole(170)) - s0@group-09A0EF6A68F4: changes role from CANDIDATE to FOLLOWER at term 55 for DISCOVERED_A_NEW_TERM
2019-09-24 16:57:39,297 INFO  impl.RoleInfo (RoleInfo.java:shutdownLeaderElection(134)) - s1: shutdown LeaderElection
2019-09-24 16:57:39,297 INFO  impl.RoleInfo (RoleInfo.java:shutdownLeaderElection(134)) - s0: shutdown LeaderElection
2019-09-24 16:57:39,298 INFO  impl.RoleInfo (RoleInfo.java:updateAndGet(143)) - s1: start FollowerState
2019-09-24 16:57:39,298 INFO  impl.RoleInfo (RoleInfo.java:updateAndGet(143)) - s0: start FollowerState
2019-09-24 16:57:39,450 INFO  impl.FollowerState (FollowerState.java:run(108)) - s2@group-09A0EF6A68F4-FollowerState: change to CANDIDATE, lastRpcTime:152ms, electionTimeout:152ms
2019-09-24 16:57:39,450 INFO  impl.RoleInfo (RoleInfo.java:shutdownFollowerState(121)) - s2: shutdown FollowerState
2019-09-24 16:57:39,450 INFO  impl.RaftServerImpl (RaftServerImpl.java:setRole(170)) - s2@group-09A0EF6A68F4: changes role from  FOLLOWER to CANDIDATE at term 55 for changeToCandidate
2019-09-24 16:57:39,450 INFO  impl.RoleInfo (RoleInfo.java:updateAndGet(143)) - s2: start LeaderElection
2019-09-24 16:57:39,486 WARN  ratis.RaftTestUtil (JavaUtils.java:attempt(158)) - FAILED "waitForLeader-null-(expectLeader? true)", attempt #66/100: java.lang.IllegalStateException: No leader yet : printing ALL groups
  s0:  RUNNING  FOLLOWER s0@group-09A0EF6A68F4:t55, leader=null, voted=s0, raftlog=s0@group-09A0EF6A68F4-SegmentedRaftLog:OPENED:c-1,f-1,i0, conf=-1: [s0:0.0.0.0:42611, s1:0.0.0.0:39575, s2:0.0.0.0:34382], old=null RUNNING
  s1:  RUNNING  FOLLOWER s1@group-09A0EF6A68F4:t55, leader=null, voted=s1, raftlog=s1@group-09A0EF6A68F4-SegmentedRaftLog:OPENED:c-1,f-1,i0, conf=-1: [s0:0.0.0.0:42611, s1:0.0.0.0:39575, s2:0.0.0.0:34382], old=null RUNNING
  s2:  RUNNING CANDIDATE s2@group-09A0EF6A68F4:t56, leader=null, voted=s2, raftlog=s2@group-09A0EF6A68F4-SegmentedRaftLog:OPENED:c-1,f-1,i0, conf=-1: [s0:0.0.0.0:42611, s1:0.0.0.0:39575, s2:0.0.0.0:34382], old=null RUNNING, sleep 450ms and then retry.
java.lang.IllegalStateException: No leader yet : printing ALL groups
  s0:  RUNNING  FOLLOWER s0@group-09A0EF6A68F4:t55, leader=null, voted=s0, raftlog=s0@group-09A0EF6A68F4-SegmentedRaftLog:OPENED:c-1,f-1,i0, conf=-1: [s0:0.0.0.0:42611, s1:0.0.0.0:39575, s2:0.0.0.0:34382], old=null RUNNING
  s1:  RUNNING  FOLLOWER s1@group-09A0EF6A68F4:t55, leader=null, voted=s1, raftlog=s1@group-09A0EF6A68F4-SegmentedRaftLog:OPENED:c-1,f-1,i0, conf=-1: [s0:0.0.0.0:42611, s1:0.0.0.0:39575, s2:0.0.0.0:34382], old=null RUNNING
  s2:  RUNNING CANDIDATE s2@group-09A0EF6A68F4:t56, leader=null, voted=s2, raftlog=s2@group-09A0EF6A68F4-SegmentedRaftLog:OPENED:c-1,f-1,i0, conf=-1: [s0:0.0.0.0:42611, s1:0.0.0.0:39575, s2:0.0.0.0:34382], old=null RUNNING
	at org.apache.ratis.MiniRaftCluster.newIllegalStateExceptionForNoLeaders(MiniRaftCluster.java:506)
	at org.apache.ratis.RaftTestUtil.lambda$waitForLeader$1(RaftTestUtil.java:90)
	at org.apache.ratis.MiniRaftCluster.getLeader(MiniRaftCluster.java:539)
	at org.apache.ratis.MiniRaftCluster.getLeader(MiniRaftCluster.java:532)
	at org.apache.ratis.RaftTestUtil.lambda$waitForLeader$3(RaftTestUtil.java:98)
	at org.apache.ratis.util.JavaUtils.attempt(JavaUtils.java:152)
	at org.apache.ratis.RaftTestUtil.waitForLeader(RaftTestUtil.java:97)
	at org.apache.ratis.RaftTestUtil.waitForLeader(RaftTestUtil.java:77)
	at org.apache.ratis.RaftTestUtil.waitForLeader(RaftTestUtil.java:72)
	at org.apache.ratis.server.impl.RaftStateMachineExceptionTests.runTestRetryOnExceptionDuringReplication(RaftStateMachineExceptionTests.java:149)
	at org.apache.ratis.MiniRaftCluster$Factory$Get.runWithNewCluster(MiniRaftCluster.java:125)
	at org.apache.ratis.MiniRaftCluster$Factory$Get.runWithNewCluster(MiniRaftCluster.java:113)
	at org.apache.ratis.server.impl.RaftStateMachineExceptionTests.testRetryOnExceptionDuringReplication(RaftStateMachineExceptionTests.java:145)
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.lang.reflect.Method.invoke(Method.java:498)
	at org.junit.runners.model.FrameworkMethod$1.runReflectiveCall(FrameworkMethod.java:50)
	at org.junit.internal.runners.model.ReflectiveCallable.run(ReflectiveCallable.java:12)
	at org.junit.runners.model.FrameworkMethod.invokeExplosively(FrameworkMethod.java:47)
	at org.junit.internal.runners.statements.InvokeMethod.evaluate(InvokeMethod.java:17)
	at org.junit.internal.runners.statements.RunAfters.evaluate(RunAfters.java:27)
	at org.junit.internal.runners.statements.FailOnTimeout$CallableStatement.call(FailOnTimeout.java:298)
	at org.junit.internal.runners.statements.FailOnTimeout$CallableStatement.call(FailOnTimeout.java:292)
	at java.util.concurrent.FutureTask.run(FutureTask.java:266)
	at java.lang.Thread.run(Thread.java:748)
2019-09-24 16:57:39,511 INFO  impl.FollowerState (FollowerState.java:run(108)) - s0@group-09A0EF6A68F4-FollowerState: change to CANDIDATE, lastRpcTime:212ms, electionTimeout:212ms
2019-09-24 16:57:39,511 INFO  impl.RoleInfo (RoleInfo.java:shutdownFollowerState(121)) - s0: shutdown FollowerState
2019-09-24 16:57:39,511 INFO  impl.RaftServerImpl (RaftServerImpl.java:setRole(170)) - s0@group-09A0EF6A68F4: changes role from  FOLLOWER to CANDIDATE at term 55 for changeToCandidate
2019-09-24 16:57:39,511 INFO  impl.RoleInfo (RoleInfo.java:updateAndGet(143)) - s0: start LeaderElection
2019-09-24 16:57:39,580 INFO  impl.FollowerState (FollowerState.java:run(108)) - s1@group-09A0EF6A68F4-FollowerState: change to CANDIDATE, lastRpcTime:282ms, electionTimeout:282ms
2019-09-24 16:57:39,580 INFO  impl.RoleInfo (RoleInfo.java:shutdownFollowerState(121)) - s1: shutdown FollowerState
2019-09-24 16:57:39,580 INFO  impl.RaftServerImpl (RaftServerImpl.java:setRole(170)) - s1@group-09A0EF6A68F4: changes role from  FOLLOWER to CANDIDATE at term 55 for changeToCandidate
2019-09-24 16:57:39,581 INFO  impl.RoleInfo (RoleInfo.java:updateAndGet(143)) - s1: start LeaderElection
2019-09-24 16:57:39,937 WARN  ratis.RaftTestUtil (JavaUtils.java:attempt(158)) - FAILED "waitForLeader-null-(expectLeader? true)", attempt #67/100: java.lang.IllegalStateException: No leader yet : printing ALL groups
  s0:  RUNNING CANDIDATE s0@group-09A0EF6A68F4:t56, leader=null, voted=s0, raftlog=s0@group-09A0EF6A68F4-SegmentedRaftLog:OPENED:c-1,f-1,i0, conf=-1: [s0:0.0.0.0:42611, s1:0.0.0.0:39575, s2:0.0.0.0:34382], old=null RUNNING
  s1:  RUNNING CANDIDATE s1@group-09A0EF6A68F4:t56, leader=null, voted=s1, raftlog=s1@group-09A0EF6A68F4-SegmentedRaftLog:OPENED:c-1,f-1,i0, conf=-1: [s0:0.0.0.0:42611, s1:0.0.0.0:39575, s2:0.0.0.0:34382], old=null RUNNING
  s2:  RUNNING CANDIDATE s2@group-09A0EF6A68F4:t56, leader=null, voted=s2, raftlog=s2@group-09A0EF6A68F4-SegmentedRaftLog:OPENED:c-1,f-1,i0, conf=-1: [s0:0.0.0.0:42611, s1:0.0.0.0:39575, s2:0.0.0.0:34382], old=null RUNNING, sleep 450ms and then retry.
java.lang.IllegalStateException: No leader yet : printing ALL groups
  s0:  RUNNING CANDIDATE s0@group-09A0EF6A68F4:t56, leader=null, voted=s0, raftlog=s0@group-09A0EF6A68F4-SegmentedRaftLog:OPENED:c-1,f-1,i0, conf=-1: [s0:0.0.0.0:42611, s1:0.0.0.0:39575, s2:0.0.0.0:34382], old=null RUNNING
  s1:  RUNNING CANDIDATE s1@group-09A0EF6A68F4:t56, leader=null, voted=s1, raftlog=s1@group-09A0EF6A68F4-SegmentedRaftLog:OPENED:c-1,f-1,i0, conf=-1: [s0:0.0.0.0:42611, s1:0.0.0.0:39575, s2:0.0.0.0:34382], old=null RUNNING
  s2:  RUNNING CANDIDATE s2@group-09A0EF6A68F4:t56, leader=null, voted=s2, raftlog=s2@group-09A0EF6A68F4-SegmentedRaftLog:OPENED:c-1,f-1,i0, conf=-1: [s0:0.0.0.0:42611, s1:0.0.0.0:39575, s2:0.0.0.0:34382], old=null RUNNING
	at org.apache.ratis.MiniRaftCluster.newIllegalStateExceptionForNoLeaders(MiniRaftCluster.java:506)
	at org.apache.ratis.RaftTestUtil.lambda$waitForLeader$1(RaftTestUtil.java:90)
	at org.apache.ratis.MiniRaftCluster.getLeader(MiniRaftCluster.java:539)
	at org.apache.ratis.MiniRaftCluster.getLeader(MiniRaftCluster.java:532)
	at org.apache.ratis.RaftTestUtil.lambda$waitForLeader$3(RaftTestUtil.java:98)
	at org.apache.ratis.util.JavaUtils.attempt(JavaUtils.java:152)
	at org.apache.ratis.RaftTestUtil.waitForLeader(RaftTestUtil.java:97)
	at org.apache.ratis.RaftTestUtil.waitForLeader(RaftTestUtil.java:77)
	at org.apache.ratis.RaftTestUtil.waitForLeader(RaftTestUtil.java:72)
	at org.apache.ratis.server.impl.RaftStateMachineExceptionTests.runTestRetryOnExceptionDuringReplication(RaftStateMachineExceptionTests.java:149)
	at org.apache.ratis.MiniRaftCluster$Factory$Get.runWithNewCluster(MiniRaftCluster.java:125)
	at org.apache.ratis.MiniRaftCluster$Factory$Get.runWithNewCluster(MiniRaftCluster.java:113)
	at org.apache.ratis.server.impl.RaftStateMachineExceptionTests.testRetryOnExceptionDuringReplication(RaftStateMachineExceptionTests.java:145)
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.lang.reflect.Method.invoke(Method.java:498)
	at org.junit.runners.model.FrameworkMethod$1.runReflectiveCall(FrameworkMethod.java:50)
	at org.junit.internal.runners.model.ReflectiveCallable.run(ReflectiveCallable.java:12)
	at org.junit.runners.model.FrameworkMethod.invokeExplosively(FrameworkMethod.java:47)
	at org.junit.internal.runners.statements.InvokeMethod.evaluate(InvokeMethod.java:17)
	at org.junit.internal.runners.statements.RunAfters.evaluate(RunAfters.java:27)
	at org.junit.internal.runners.statements.FailOnTimeout$CallableStatement.call(FailOnTimeout.java:298)
	at org.junit.internal.runners.statements.FailOnTimeout$CallableStatement.call(FailOnTimeout.java:292)
	at java.util.concurrent.FutureTask.run(FutureTask.java:266)
	at java.lang.Thread.run(Thread.java:748)
2019-09-24 16:57:40,127 INFO  ratis.MiniRaftCluster (MiniRaftCluster.java:lambda$null$5(297)) - TIMED-PRINT: printing ALL groups
  s0:  RUNNING CANDIDATE s0@group-09A0EF6A68F4:t56, leader=null, voted=s0, raftlog=s0@group-09A0EF6A68F4-SegmentedRaftLog:OPENED:c-1,f-1,i0, conf=-1: [s0:0.0.0.0:42611, s1:0.0.0.0:39575, s2:0.0.0.0:34382], old=null RUNNING
  s1:  RUNNING CANDIDATE s1@group-09A0EF6A68F4:t56, leader=null, voted=s1, raftlog=s1@group-09A0EF6A68F4-SegmentedRaftLog:OPENED:c-1,f-1,i0, conf=-1: [s0:0.0.0.0:42611, s1:0.0.0.0:39575, s2:0.0.0.0:34382], old=null RUNNING
  s2:  RUNNING CANDIDATE s2@group-09A0EF6A68F4:t56, leader=null, voted=s2, raftlog=s2@group-09A0EF6A68F4-SegmentedRaftLog:OPENED:c-1,f-1,i0, conf=-1: [s0:0.0.0.0:42611, s1:0.0.0.0:39575, s2:0.0.0.0:34382], old=null RUNNING
2019-09-24 16:57:40,388 WARN  ratis.RaftTestUtil (JavaUtils.java:attempt(158)) - FAILED "waitForLeader-null-(expectLeader? true)", attempt #68/100: java.lang.IllegalStateException: No leader yet : printing ALL groups
  s0:  RUNNING CANDIDATE s0@group-09A0EF6A68F4:t56, leader=null, voted=s0, raftlog=s0@group-09A0EF6A68F4-SegmentedRaftLog:OPENED:c-1,f-1,i0, conf=-1: [s0:0.0.0.0:42611, s1:0.0.0.0:39575, s2:0.0.0.0:34382], old=null RUNNING
  s1:  RUNNING CANDIDATE s1@group-09A0EF6A68F4:t56, leader=null, voted=s1, raftlog=s1@group-09A0EF6A68F4-SegmentedRaftLog:OPENED:c-1,f-1,i0, conf=-1: [s0:0.0.0.0:42611, s1:0.0.0.0:39575, s2:0.0.0.0:34382], old=null RUNNING
  s2:  RUNNING CANDIDATE s2@group-09A0EF6A68F4:t56, leader=null, voted=s2, raftlog=s2@group-09A0EF6A68F4-SegmentedRaftLog:OPENED:c-1,f-1,i0, conf=-1: [s0:0.0.0.0:42611, s1:0.0.0.0:39575, s2:0.0.0.0:34382], old=null RUNNING, sleep 450ms and then retry.
java.lang.IllegalStateException: No leader yet : printing ALL groups
  s0:  RUNNING CANDIDATE s0@group-09A0EF6A68F4:t56, leader=null, voted=s0, raftlog=s0@group-09A0EF6A68F4-SegmentedRaftLog:OPENED:c-1,f-1,i0, conf=-1: [s0:0.0.0.0:42611, s1:0.0.0.0:39575, s2:0.0.0.0:34382], old=null RUNNING
  s1:  RUNNING CANDIDATE s1@group-09A0EF6A68F4:t56, leader=null, voted=s1, raftlog=s1@group-09A0EF6A68F4-SegmentedRaftLog:OPENED:c-1,f-1,i0, conf=-1: [s0:0.0.0.0:42611, s1:0.0.0.0:39575, s2:0.0.0.0:34382], old=null RUNNING
  s2:  RUNNING CANDIDATE s2@group-09A0EF6A68F4:t56, leader=null, voted=s2, raftlog=s2@group-09A0EF6A68F4-SegmentedRaftLog:OPENED:c-1,f-1,i0, conf=-1: [s0:0.0.0.0:42611, s1:0.0.0.0:39575, s2:0.0.0.0:34382], old=null RUNNING
	at org.apache.ratis.MiniRaftCluster.newIllegalStateExceptionForNoLeaders(MiniRaftCluster.java:506)
	at org.apache.ratis.RaftTestUtil.lambda$waitForLeader$1(RaftTestUtil.java:90)
	at org.apache.ratis.MiniRaftCluster.getLeader(MiniRaftCluster.java:539)
	at org.apache.ratis.MiniRaftCluster.getLeader(MiniRaftCluster.java:532)
	at org.apache.ratis.RaftTestUtil.lambda$waitForLeader$3(RaftTestUtil.java:98)
	at org.apache.ratis.util.JavaUtils.attempt(JavaUtils.java:152)
	at org.apache.ratis.RaftTestUtil.waitForLeader(RaftTestUtil.java:97)
	at org.apache.ratis.RaftTestUtil.waitForLeader(RaftTestUtil.java:77)
	at org.apache.ratis.RaftTestUtil.waitForLeader(RaftTestUtil.java:72)
	at org.apache.ratis.server.impl.RaftStateMachineExceptionTests.runTestRetryOnExceptionDuringReplication(RaftStateMachineExceptionTests.java:149)
	at org.apache.ratis.MiniRaftCluster$Factory$Get.runWithNewCluster(MiniRaftCluster.java:125)
	at org.apache.ratis.MiniRaftCluster$Factory$Get.runWithNewCluster(MiniRaftCluster.java:113)
	at org.apache.ratis.server.impl.RaftStateMachineExceptionTests.testRetryOnExceptionDuringReplication(RaftStateMachineExceptionTests.java:145)
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.lang.reflect.Method.invoke(Method.java:498)
	at org.junit.runners.model.FrameworkMethod$1.runReflectiveCall(FrameworkMethod.java:50)
	at org.junit.internal.runners.model.ReflectiveCallable.run(ReflectiveCallable.java:12)
	at org.junit.runners.model.FrameworkMethod.invokeExplosively(FrameworkMethod.java:47)
	at org.junit.internal.runners.statements.InvokeMethod.evaluate(InvokeMethod.java:17)
	at org.junit.internal.runners.statements.RunAfters.evaluate(RunAfters.java:27)
	at org.junit.internal.runners.statements.FailOnTimeout$CallableStatement.call(FailOnTimeout.java:298)
	at org.junit.internal.runners.statements.FailOnTimeout$CallableStatement.call(FailOnTimeout.java:292)
	at java.util.concurrent.FutureTask.run(FutureTask.java:266)
	at java.lang.Thread.run(Thread.java:748)
2019-09-24 16:57:40,840 WARN  ratis.RaftTestUtil (JavaUtils.java:attempt(158)) - FAILED "waitForLeader-null-(expectLeader? true)", attempt #69/100: java.lang.IllegalStateException: No leader yet : printing ALL groups
  s0:  RUNNING CANDIDATE s0@group-09A0EF6A68F4:t56, leader=null, voted=s0, raftlog=s0@group-09A0EF6A68F4-SegmentedRaftLog:OPENED:c-1,f-1,i0, conf=-1: [s0:0.0.0.0:42611, s1:0.0.0.0:39575, s2:0.0.0.0:34382], old=null RUNNING
  s1:  RUNNING CANDIDATE s1@group-09A0EF6A68F4:t56, leader=null, voted=s1, raftlog=s1@group-09A0EF6A68F4-SegmentedRaftLog:OPENED:c-1,f-1,i0, conf=-1: [s0:0.0.0.0:42611, s1:0.0.0.0:39575, s2:0.0.0.0:34382], old=null RUNNING
  s2:  RUNNING CANDIDATE s2@group-09A0EF6A68F4:t56, leader=null, voted=s2, raftlog=s2@group-09A0EF6A68F4-SegmentedRaftLog:OPENED:c-1,f-1,i0, conf=-1: [s0:0.0.0.0:42611, s1:0.0.0.0:39575, s2:0.0.0.0:34382], old=null RUNNING, sleep 450ms and then retry.
java.lang.IllegalStateException: No leader yet : printing ALL groups
  s0:  RUNNING CANDIDATE s0@group-09A0EF6A68F4:t56, leader=null, voted=s0, raftlog=s0@group-09A0EF6A68F4-SegmentedRaftLog:OPENED:c-1,f-1,i0, conf=-1: [s0:0.0.0.0:42611, s1:0.0.0.0:39575, s2:0.0.0.0:34382], old=null RUNNING
  s1:  RUNNING CANDIDATE s1@group-09A0EF6A68F4:t56, leader=null, voted=s1, raftlog=s1@group-09A0EF6A68F4-SegmentedRaftLog:OPENED:c-1,f-1,i0, conf=-1: [s0:0.0.0.0:42611, s1:0.0.0.0:39575, s2:0.0.0.0:34382], old=null RUNNING
  s2:  RUNNING CANDIDATE s2@group-09A0EF6A68F4:t56, leader=null, voted=s2, raftlog=s2@group-09A0EF6A68F4-SegmentedRaftLog:OPENED:c-1,f-1,i0, conf=-1: [s0:0.0.0.0:42611, s1:0.0.0.0:39575, s2:0.0.0.0:34382], old=null RUNNING
	at org.apache.ratis.MiniRaftCluster.newIllegalStateExceptionForNoLeaders(MiniRaftCluster.java:506)
	at org.apache.ratis.RaftTestUtil.lambda$waitForLeader$1(RaftTestUtil.java:90)
	at org.apache.ratis.MiniRaftCluster.getLeader(MiniRaftCluster.java:539)
	at org.apache.ratis.MiniRaftCluster.getLeader(MiniRaftCluster.java:532)
	at org.apache.ratis.RaftTestUtil.lambda$waitForLeader$3(RaftTestUtil.java:98)
	at org.apache.ratis.util.JavaUtils.attempt(JavaUtils.java:152)
	at org.apache.ratis.RaftTestUtil.waitForLeader(RaftTestUtil.java:97)
	at org.apache.ratis.RaftTestUtil.waitForLeader(RaftTestUtil.java:77)
	at org.apache.ratis.RaftTestUtil.waitForLeader(RaftTestUtil.java:72)
	at org.apache.ratis.server.impl.RaftStateMachineExceptionTests.runTestRetryOnExceptionDuringReplication(RaftStateMachineExceptionTests.java:149)
	at org.apache.ratis.MiniRaftCluster$Factory$Get.runWithNewCluster(MiniRaftCluster.java:125)
	at org.apache.ratis.MiniRaftCluster$Factory$Get.runWithNewCluster(MiniRaftCluster.java:113)
	at org.apache.ratis.server.impl.RaftStateMachineExceptionTests.testRetryOnExceptionDuringReplication(RaftStateMachineExceptionTests.java:145)
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.lang.reflect.Method.invoke(Method.java:498)
	at org.junit.runners.model.FrameworkMethod$1.runReflectiveCall(FrameworkMethod.java:50)
	at org.junit.internal.runners.model.ReflectiveCallable.run(ReflectiveCallable.java:12)
	at org.junit.runners.model.FrameworkMethod.invokeExplosively(FrameworkMethod.java:47)
	at org.junit.internal.runners.statements.InvokeMethod.evaluate(InvokeMethod.java:17)
	at org.junit.internal.runners.statements.RunAfters.evaluate(RunAfters.java:27)
	at org.junit.internal.runners.statements.FailOnTimeout$CallableStatement.call(FailOnTimeout.java:298)
	at org.junit.internal.runners.statements.FailOnTimeout$CallableStatement.call(FailOnTimeout.java:292)
	at java.util.concurrent.FutureTask.run(FutureTask.java:266)
	at java.lang.Thread.run(Thread.java:748)
2019-09-24 16:57:41,291 WARN  ratis.RaftTestUtil (JavaUtils.java:attempt(158)) - FAILED "waitForLeader-null-(expectLeader? true)", attempt #70/100: java.lang.IllegalStateException: No leader yet : printing ALL groups
  s0:  RUNNING CANDIDATE s0@group-09A0EF6A68F4:t56, leader=null, voted=s0, raftlog=s0@group-09A0EF6A68F4-SegmentedRaftLog:OPENED:c-1,f-1,i0, conf=-1: [s0:0.0.0.0:42611, s1:0.0.0.0:39575, s2:0.0.0.0:34382], old=null RUNNING
  s1:  RUNNING CANDIDATE s1@group-09A0EF6A68F4:t56, leader=null, voted=s1, raftlog=s1@group-09A0EF6A68F4-SegmentedRaftLog:OPENED:c-1,f-1,i0, conf=-1: [s0:0.0.0.0:42611, s1:0.0.0.0:39575, s2:0.0.0.0:34382], old=null RUNNING
  s2:  RUNNING CANDIDATE s2@group-09A0EF6A68F4:t56, leader=null, voted=s2, raftlog=s2@group-09A0EF6A68F4-SegmentedRaftLog:OPENED:c-1,f-1,i0, conf=-1: [s0:0.0.0.0:42611, s1:0.0.0.0:39575, s2:0.0.0.0:34382], old=null RUNNING, sleep 450ms and then retry.
java.lang.IllegalStateException: No leader yet : printing ALL groups
  s0:  RUNNING CANDIDATE s0@group-09A0EF6A68F4:t56, leader=null, voted=s0, raftlog=s0@group-09A0EF6A68F4-SegmentedRaftLog:OPENED:c-1,f-1,i0, conf=-1: [s0:0.0.0.0:42611, s1:0.0.0.0:39575, s2:0.0.0.0:34382], old=null RUNNING
  s1:  RUNNING CANDIDATE s1@group-09A0EF6A68F4:t56, leader=null, voted=s1, raftlog=s1@group-09A0EF6A68F4-SegmentedRaftLog:OPENED:c-1,f-1,i0, conf=-1: [s0:0.0.0.0:42611, s1:0.0.0.0:39575, s2:0.0.0.0:34382], old=null RUNNING
  s2:  RUNNING CANDIDATE s2@group-09A0EF6A68F4:t56, leader=null, voted=s2, raftlog=s2@group-09A0EF6A68F4-SegmentedRaftLog:OPENED:c-1,f-1,i0, conf=-1: [s0:0.0.0.0:42611, s1:0.0.0.0:39575, s2:0.0.0.0:34382], old=null RUNNING
	at org.apache.ratis.MiniRaftCluster.newIllegalStateExceptionForNoLeaders(MiniRaftCluster.java:506)
	at org.apache.ratis.RaftTestUtil.lambda$waitForLeader$1(RaftTestUtil.java:90)
	at org.apache.ratis.MiniRaftCluster.getLeader(MiniRaftCluster.java:539)
	at org.apache.ratis.MiniRaftCluster.getLeader(MiniRaftCluster.java:532)
	at org.apache.ratis.RaftTestUtil.lambda$waitForLeader$3(RaftTestUtil.java:98)
	at org.apache.ratis.util.JavaUtils.attempt(JavaUtils.java:152)
	at org.apache.ratis.RaftTestUtil.waitForLeader(RaftTestUtil.java:97)
	at org.apache.ratis.RaftTestUtil.waitForLeader(RaftTestUtil.java:77)
	at org.apache.ratis.RaftTestUtil.waitForLeader(RaftTestUtil.java:72)
	at org.apache.ratis.server.impl.RaftStateMachineExceptionTests.runTestRetryOnExceptionDuringReplication(RaftStateMachineExceptionTests.java:149)
	at org.apache.ratis.MiniRaftCluster$Factory$Get.runWithNewCluster(MiniRaftCluster.java:125)
	at org.apache.ratis.MiniRaftCluster$Factory$Get.runWithNewCluster(MiniRaftCluster.java:113)
	at org.apache.ratis.server.impl.RaftStateMachineExceptionTests.testRetryOnExceptionDuringReplication(RaftStateMachineExceptionTests.java:145)
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.lang.reflect.Method.invoke(Method.java:498)
	at org.junit.runners.model.FrameworkMethod$1.runReflectiveCall(FrameworkMethod.java:50)
	at org.junit.internal.runners.model.ReflectiveCallable.run(ReflectiveCallable.java:12)
	at org.junit.runners.model.FrameworkMethod.invokeExplosively(FrameworkMethod.java:47)
	at org.junit.internal.runners.statements.InvokeMethod.evaluate(InvokeMethod.java:17)
	at org.junit.internal.runners.statements.RunAfters.evaluate(RunAfters.java:27)
	at org.junit.internal.runners.statements.FailOnTimeout$CallableStatement.call(FailOnTimeout.java:298)
	at org.junit.internal.runners.statements.FailOnTimeout$CallableStatement.call(FailOnTimeout.java:292)
	at java.util.concurrent.FutureTask.run(FutureTask.java:266)
	at java.lang.Thread.run(Thread.java:748)
2019-09-24 16:57:41,743 WARN  ratis.RaftTestUtil (JavaUtils.java:attempt(158)) - FAILED "waitForLeader-null-(expectLeader? true)", attempt #71/100: java.lang.IllegalStateException: No leader yet : printing ALL groups
  s0:  RUNNING CANDIDATE s0@group-09A0EF6A68F4:t56, leader=null, voted=s0, raftlog=s0@group-09A0EF6A68F4-SegmentedRaftLog:OPENED:c-1,f-1,i0, conf=-1: [s0:0.0.0.0:42611, s1:0.0.0.0:39575, s2:0.0.0.0:34382], old=null RUNNING
  s1:  RUNNING CANDIDATE s1@group-09A0EF6A68F4:t56, leader=null, voted=s1, raftlog=s1@group-09A0EF6A68F4-SegmentedRaftLog:OPENED:c-1,f-1,i0, conf=-1: [s0:0.0.0.0:42611, s1:0.0.0.0:39575, s2:0.0.0.0:34382], old=null RUNNING
  s2:  RUNNING CANDIDATE s2@group-09A0EF6A68F4:t56, leader=null, voted=s2, raftlog=s2@group-09A0EF6A68F4-SegmentedRaftLog:OPENED:c-1,f-1,i0, conf=-1: [s0:0.0.0.0:42611, s1:0.0.0.0:39575, s2:0.0.0.0:34382], old=null RUNNING, sleep 450ms and then retry.
java.lang.IllegalStateException: No leader yet : printing ALL groups
  s0:  RUNNING CANDIDATE s0@group-09A0EF6A68F4:t56, leader=null, voted=s0, raftlog=s0@group-09A0EF6A68F4-SegmentedRaftLog:OPENED:c-1,f-1,i0, conf=-1: [s0:0.0.0.0:42611, s1:0.0.0.0:39575, s2:0.0.0.0:34382], old=null RUNNING
  s1:  RUNNING CANDIDATE s1@group-09A0EF6A68F4:t56, leader=null, voted=s1, raftlog=s1@group-09A0EF6A68F4-SegmentedRaftLog:OPENED:c-1,f-1,i0, conf=-1: [s0:0.0.0.0:42611, s1:0.0.0.0:39575, s2:0.0.0.0:34382], old=null RUNNING
  s2:  RUNNING CANDIDATE s2@group-09A0EF6A68F4:t56, leader=null, voted=s2, raftlog=s2@group-09A0EF6A68F4-SegmentedRaftLog:OPENED:c-1,f-1,i0, conf=-1: [s0:0.0.0.0:42611, s1:0.0.0.0:39575, s2:0.0.0.0:34382], old=null RUNNING
	at org.apache.ratis.MiniRaftCluster.newIllegalStateExceptionForNoLeaders(MiniRaftCluster.java:506)
	at org.apache.ratis.RaftTestUtil.lambda$waitForLeader$1(RaftTestUtil.java:90)
	at org.apache.ratis.MiniRaftCluster.getLeader(MiniRaftCluster.java:539)
	at org.apache.ratis.MiniRaftCluster.getLeader(MiniRaftCluster.java:532)
	at org.apache.ratis.RaftTestUtil.lambda$waitForLeader$3(RaftTestUtil.java:98)
	at org.apache.ratis.util.JavaUtils.attempt(JavaUtils.java:152)
	at org.apache.ratis.RaftTestUtil.waitForLeader(RaftTestUtil.java:97)
	at org.apache.ratis.RaftTestUtil.waitForLeader(RaftTestUtil.java:77)
	at org.apache.ratis.RaftTestUtil.waitForLeader(RaftTestUtil.java:72)
	at org.apache.ratis.server.impl.RaftStateMachineExceptionTests.runTestRetryOnExceptionDuringReplication(RaftStateMachineExceptionTests.java:149)
	at org.apache.ratis.MiniRaftCluster$Factory$Get.runWithNewCluster(MiniRaftCluster.java:125)
	at org.apache.ratis.MiniRaftCluster$Factory$Get.runWithNewCluster(MiniRaftCluster.java:113)
	at org.apache.ratis.server.impl.RaftStateMachineExceptionTests.testRetryOnExceptionDuringReplication(RaftStateMachineExceptionTests.java:145)
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.lang.reflect.Method.invoke(Method.java:498)
	at org.junit.runners.model.FrameworkMethod$1.runReflectiveCall(FrameworkMethod.java:50)
	at org.junit.internal.runners.model.ReflectiveCallable.run(ReflectiveCallable.java:12)
	at org.junit.runners.model.FrameworkMethod.invokeExplosively(FrameworkMethod.java:47)
	at org.junit.internal.runners.statements.InvokeMethod.evaluate(InvokeMethod.java:17)
	at org.junit.internal.runners.statements.RunAfters.evaluate(RunAfters.java:27)
	at org.junit.internal.runners.statements.FailOnTimeout$CallableStatement.call(FailOnTimeout.java:298)
	at org.junit.internal.runners.statements.FailOnTimeout$CallableStatement.call(FailOnTimeout.java:292)
	at java.util.concurrent.FutureTask.run(FutureTask.java:266)
	at java.lang.Thread.run(Thread.java:748)
2019-09-24 16:57:41,849 INFO  impl.LeaderElection (LeaderElection.java:askForVotes(178)) - s2@group-09A0EF6A68F4-LeaderElection136: begin an election at term 56 for -1: [s0:0.0.0.0:42611, s1:0.0.0.0:39575, s2:0.0.0.0:34382], old=null
2019-09-24 16:57:41,849 INFO  impl.LeaderElection (LeaderElection.java:askForVotes(178)) - s1@group-09A0EF6A68F4-LeaderElection138: begin an election at term 56 for -1: [s0:0.0.0.0:42611, s1:0.0.0.0:39575, s2:0.0.0.0:34382], old=null
2019-09-24 16:57:41,849 INFO  impl.LeaderElection (LeaderElection.java:askForVotes(178)) - s0@group-09A0EF6A68F4-LeaderElection137: begin an election at term 56 for -1: [s0:0.0.0.0:42611, s1:0.0.0.0:39575, s2:0.0.0.0:34382], old=null
2019-09-24 16:57:41,851 DEBUG impl.RaftServerImpl (RaftServerImpl.java:requestVote(743)) - s0@group-09A0EF6A68F4: receive requestVote(s2, group-09A0EF6A68F4, 56, (t:0, i:0))
2019-09-24 16:57:41,851 DEBUG impl.RaftServerImpl (RaftServerImpl.java:requestVote(743)) - s1@group-09A0EF6A68F4: receive requestVote(s0, group-09A0EF6A68F4, 56, (t:0, i:0))
2019-09-24 16:57:41,851 DEBUG impl.RaftServerImpl (RaftServerImpl.java:requestVote(743)) - s0@group-09A0EF6A68F4: receive requestVote(s1, group-09A0EF6A68F4, 56, (t:0, i:0))
2019-09-24 16:57:41,851 DEBUG impl.RaftServerImpl (RaftServerImpl.java:requestVote(743)) - s2@group-09A0EF6A68F4: receive requestVote(s1, group-09A0EF6A68F4, 56, (t:0, i:0))
2019-09-24 16:57:41,851 DEBUG impl.RaftServerImpl (RaftServerImpl.java:requestVote(775)) - s0@group-09A0EF6A68F4 replies to vote request: s2<-s0#0:FAIL-t56. Peer's state: s0@group-09A0EF6A68F4:t56, leader=null, voted=s0, raftlog=s0@group-09A0EF6A68F4-SegmentedRaftLog:OPENED:c-1,f-1,i0, conf=-1: [s0:0.0.0.0:42611, s1:0.0.0.0:39575, s2:0.0.0.0:34382], old=null
2019-09-24 16:57:41,851 DEBUG impl.RaftServerImpl (RaftServerImpl.java:requestVote(775)) - s2@group-09A0EF6A68F4 replies to vote request: s1<-s2#0:FAIL-t56. Peer's state: s2@group-09A0EF6A68F4:t56, leader=null, voted=s2, raftlog=s2@group-09A0EF6A68F4-SegmentedRaftLog:OPENED:c-1,f-1,i0, conf=-1: [s0:0.0.0.0:42611, s1:0.0.0.0:39575, s2:0.0.0.0:34382], old=null
2019-09-24 16:57:41,851 DEBUG impl.RaftServerImpl (RaftServerImpl.java:requestVote(743)) - s2@group-09A0EF6A68F4: receive requestVote(s0, group-09A0EF6A68F4, 56, (t:0, i:0))
2019-09-24 16:57:41,851 DEBUG impl.RaftServerImpl (RaftServerImpl.java:requestVote(743)) - s1@group-09A0EF6A68F4: receive requestVote(s2, group-09A0EF6A68F4, 56, (t:0, i:0))
2019-09-24 16:57:41,851 DEBUG impl.RaftServerImpl (RaftServerImpl.java:requestVote(775)) - s1@group-09A0EF6A68F4 replies to vote request: s0<-s1#0:FAIL-t56. Peer's state: s1@group-09A0EF6A68F4:t56, leader=null, voted=s1, raftlog=s1@group-09A0EF6A68F4-SegmentedRaftLog:OPENED:c-1,f-1,i0, conf=-1: [s0:0.0.0.0:42611, s1:0.0.0.0:39575, s2:0.0.0.0:34382], old=null
2019-09-24 16:57:41,852 DEBUG impl.RaftServerImpl (RaftServerImpl.java:requestVote(775)) - s2@group-09A0EF6A68F4 replies to vote request: s0<-s2#0:FAIL-t56. Peer's state: s2@group-09A0EF6A68F4:t56, leader=null, voted=s2, raftlog=s2@group-09A0EF6A68F4-SegmentedRaftLog:OPENED:c-1,f-1,i0, conf=-1: [s0:0.0.0.0:42611, s1:0.0.0.0:39575, s2:0.0.0.0:34382], old=null
2019-09-24 16:57:41,852 DEBUG impl.RaftServerImpl (RaftServerImpl.java:requestVote(775)) - s0@group-09A0EF6A68F4 replies to vote request: s1<-s0#0:FAIL-t56. Peer's state: s0@group-09A0EF6A68F4:t56, leader=null, voted=s0, raftlog=s0@group-09A0EF6A68F4-SegmentedRaftLog:OPENED:c-1,f-1,i0, conf=-1: [s0:0.0.0.0:42611, s1:0.0.0.0:39575, s2:0.0.0.0:34382], old=null
2019-09-24 16:57:41,852 INFO  impl.LeaderElection (LeaderElection.java:logAndReturn(56)) - s0@group-09A0EF6A68F4-LeaderElection137: Election REJECTED; received 2 response(s) [s0<-s1#0:FAIL-t56, s0<-s2#0:FAIL-t56] and 0 exception(s); s0@group-09A0EF6A68F4:t56, leader=null, voted=s0, raftlog=s0@group-09A0EF6A68F4-SegmentedRaftLog:OPENED:c-1,f-1,i0, conf=-1: [s0:0.0.0.0:42611, s1:0.0.0.0:39575, s2:0.0.0.0:34382], old=null
2019-09-24 16:57:41,852 DEBUG impl.RaftServerImpl (RaftServerImpl.java:requestVote(775)) - s1@group-09A0EF6A68F4 replies to vote request: s2<-s1#0:FAIL-t56. Peer's state: s1@group-09A0EF6A68F4:t56, leader=null, voted=s1, raftlog=s1@group-09A0EF6A68F4-SegmentedRaftLog:OPENED:c-1,f-1,i0, conf=-1: [s0:0.0.0.0:42611, s1:0.0.0.0:39575, s2:0.0.0.0:34382], old=null
2019-09-24 16:57:41,853 INFO  impl.RaftServerImpl (RaftServerImpl.java:setRole(170)) - s0@group-09A0EF6A68F4: changes role from CANDIDATE to FOLLOWER at term 56 for DISCOVERED_A_NEW_TERM
2019-09-24 16:57:41,853 INFO  impl.LeaderElection (LeaderElection.java:logAndReturn(56)) - s1@group-09A0EF6A68F4-LeaderElection138: Election REJECTED; received 2 response(s) [s1<-s0#0:FAIL-t56, s1<-s2#0:FAIL-t56] and 0 exception(s); s1@group-09A0EF6A68F4:t56, leader=null, voted=s1, raftlog=s1@group-09A0EF6A68F4-SegmentedRaftLog:OPENED:c-1,f-1,i0, conf=-1: [s0:0.0.0.0:42611, s1:0.0.0.0:39575, s2:0.0.0.0:34382], old=null
2019-09-24 16:57:41,853 INFO  impl.RoleInfo (RoleInfo.java:shutdownLeaderElection(134)) - s0: shutdown LeaderElection
2019-09-24 16:57:41,853 INFO  impl.LeaderElection (LeaderElection.java:logAndReturn(56)) - s2@group-09A0EF6A68F4-LeaderElection136: Election REJECTED; received 2 response(s) [s2<-s0#0:FAIL-t56, s2<-s1#0:FAIL-t56] and 0 exception(s); s2@group-09A0EF6A68F4:t56, leader=null, voted=s2, raftlog=s2@group-09A0EF6A68F4-SegmentedRaftLog:OPENED:c-1,f-1,i0, conf=-1: [s0:0.0.0.0:42611, s1:0.0.0.0:39575, s2:0.0.0.0:34382], old=null
2019-09-24 16:57:41,853 INFO  impl.RoleInfo (RoleInfo.java:updateAndGet(143)) - s0: start FollowerState
2019-09-24 16:57:41,853 INFO  impl.RaftServerImpl (RaftServerImpl.java:setRole(170)) - s1@group-09A0EF6A68F4: changes role from CANDIDATE to FOLLOWER at term 56 for DISCOVERED_A_NEW_TERM
2019-09-24 16:57:41,853 INFO  impl.RaftServerImpl (RaftServerImpl.java:setRole(170)) - s2@group-09A0EF6A68F4: changes role from CANDIDATE to FOLLOWER at term 56 for DISCOVERED_A_NEW_TERM
2019-09-24 16:57:41,854 INFO  impl.RoleInfo (RoleInfo.java:shutdownLeaderElection(134)) - s1: shutdown LeaderElection
2019-09-24 16:57:41,854 INFO  impl.RoleInfo (RoleInfo.java:shutdownLeaderElection(134)) - s2: shutdown LeaderElection
2019-09-24 16:57:41,854 INFO  impl.RoleInfo (RoleInfo.java:updateAndGet(143)) - s1: start FollowerState
2019-09-24 16:57:41,854 INFO  impl.RoleInfo (RoleInfo.java:updateAndGet(143)) - s2: start FollowerState
2019-09-24 16:57:42,057 INFO  impl.FollowerState (FollowerState.java:run(108)) - s1@group-09A0EF6A68F4-FollowerState: change to CANDIDATE, lastRpcTime:203ms, electionTimeout:203ms
2019-09-24 16:57:42,058 INFO  impl.RoleInfo (RoleInfo.java:shutdownFollowerState(121)) - s1: shutdown FollowerState
2019-09-24 16:57:42,058 INFO  impl.RaftServerImpl (RaftServerImpl.java:setRole(170)) - s1@group-09A0EF6A68F4: changes role from  FOLLOWER to CANDIDATE at term 56 for changeToCandidate
2019-09-24 16:57:42,058 INFO  impl.RoleInfo (RoleInfo.java:updateAndGet(143)) - s1: start LeaderElection
2019-09-24 16:57:42,101 INFO  impl.FollowerState (FollowerState.java:run(108)) - s0@group-09A0EF6A68F4-FollowerState: change to CANDIDATE, lastRpcTime:247ms, electionTimeout:247ms
2019-09-24 16:57:42,101 INFO  impl.RoleInfo (RoleInfo.java:shutdownFollowerState(121)) - s0: shutdown FollowerState
2019-09-24 16:57:42,101 INFO  impl.RaftServerImpl (RaftServerImpl.java:setRole(170)) - s0@group-09A0EF6A68F4: changes role from  FOLLOWER to CANDIDATE at term 56 for changeToCandidate
2019-09-24 16:57:42,101 INFO  impl.RoleInfo (RoleInfo.java:updateAndGet(143)) - s0: start LeaderElection
2019-09-24 16:57:42,102 INFO  impl.FollowerState (FollowerState.java:run(108)) - s2@group-09A0EF6A68F4-FollowerState: change to CANDIDATE, lastRpcTime:247ms, electionTimeout:247ms
2019-09-24 16:57:42,102 INFO  impl.RoleInfo (RoleInfo.java:shutdownFollowerState(121)) - s2: shutdown FollowerState
2019-09-24 16:57:42,102 INFO  impl.RaftServerImpl (RaftServerImpl.java:setRole(170)) - s2@group-09A0EF6A68F4: changes role from  FOLLOWER to CANDIDATE at term 56 for changeToCandidate
2019-09-24 16:57:42,102 INFO  impl.RoleInfo (RoleInfo.java:updateAndGet(143)) - s2: start LeaderElection
2019-09-24 16:57:42,106 INFO  impl.LeaderElection (LeaderElection.java:askForVotes(178)) - s1@group-09A0EF6A68F4-LeaderElection139: begin an election at term 57 for -1: [s0:0.0.0.0:42611, s1:0.0.0.0:39575, s2:0.0.0.0:34382], old=null
2019-09-24 16:57:42,107 DEBUG impl.RaftServerImpl (RaftServerImpl.java:requestVote(743)) - s0@group-09A0EF6A68F4: receive requestVote(s1, group-09A0EF6A68F4, 57, (t:0, i:0))
2019-09-24 16:57:42,107 DEBUG impl.RaftServerImpl (RaftServerImpl.java:requestVote(743)) - s2@group-09A0EF6A68F4: receive requestVote(s1, group-09A0EF6A68F4, 57, (t:0, i:0))
2019-09-24 16:57:42,140 INFO  impl.LeaderElection (LeaderElection.java:askForVotes(178)) - s0@group-09A0EF6A68F4-LeaderElection140: begin an election at term 57 for -1: [s0:0.0.0.0:42611, s1:0.0.0.0:39575, s2:0.0.0.0:34382], old=null
2019-09-24 16:57:42,140 INFO  impl.LeaderElection (LeaderElection.java:askForVotes(178)) - s2@group-09A0EF6A68F4-LeaderElection141: begin an election at term 57 for -1: [s0:0.0.0.0:42611, s1:0.0.0.0:39575, s2:0.0.0.0:34382], old=null
2019-09-24 16:57:42,140 DEBUG impl.RaftServerImpl (RaftServerImpl.java:requestVote(775)) - s2@group-09A0EF6A68F4 replies to vote request: s1<-s2#0:FAIL-t57. Peer's state: s2@group-09A0EF6A68F4:t57, leader=null, voted=s2, raftlog=s2@group-09A0EF6A68F4-SegmentedRaftLog:OPENED:c-1,f-1,i0, conf=-1: [s0:0.0.0.0:42611, s1:0.0.0.0:39575, s2:0.0.0.0:34382], old=null
2019-09-24 16:57:42,140 DEBUG impl.RaftServerImpl (RaftServerImpl.java:requestVote(775)) - s0@group-09A0EF6A68F4 replies to vote request: s1<-s0#0:FAIL-t57. Peer's state: s0@group-09A0EF6A68F4:t57, leader=null, voted=s0, raftlog=s0@group-09A0EF6A68F4-SegmentedRaftLog:OPENED:c-1,f-1,i0, conf=-1: [s0:0.0.0.0:42611, s1:0.0.0.0:39575, s2:0.0.0.0:34382], old=null
2019-09-24 16:57:42,141 INFO  impl.LeaderElection (LeaderElection.java:logAndReturn(56)) - s1@group-09A0EF6A68F4-LeaderElection139: Election REJECTED; received 2 response(s) [s1<-s0#0:FAIL-t57, s1<-s2#0:FAIL-t57] and 0 exception(s); s1@group-09A0EF6A68F4:t57, leader=null, voted=s1, raftlog=s1@group-09A0EF6A68F4-SegmentedRaftLog:OPENED:c-1,f-1,i0, conf=-1: [s0:0.0.0.0:42611, s1:0.0.0.0:39575, s2:0.0.0.0:34382], old=null
2019-09-24 16:57:42,141 DEBUG impl.RaftServerImpl (RaftServerImpl.java:requestVote(743)) - s0@group-09A0EF6A68F4: receive requestVote(s2, group-09A0EF6A68F4, 57, (t:0, i:0))
2019-09-24 16:57:42,141 DEBUG impl.RaftServerImpl (RaftServerImpl.java:requestVote(743)) - s1@group-09A0EF6A68F4: receive requestVote(s2, group-09A0EF6A68F4, 57, (t:0, i:0))
2019-09-24 16:57:42,142 DEBUG impl.RaftServerImpl (RaftServerImpl.java:requestVote(775)) - s0@group-09A0EF6A68F4 replies to vote request: s2<-s0#0:FAIL-t57. Peer's state: s0@group-09A0EF6A68F4:t57, leader=null, voted=s0, raftlog=s0@group-09A0EF6A68F4-SegmentedRaftLog:OPENED:c-1,f-1,i0, conf=-1: [s0:0.0.0.0:42611, s1:0.0.0.0:39575, s2:0.0.0.0:34382], old=null
2019-09-24 16:57:42,141 INFO  impl.RaftServerImpl (RaftServerImpl.java:setRole(170)) - s1@group-09A0EF6A68F4: changes role from CANDIDATE to FOLLOWER at term 57 for DISCOVERED_A_NEW_TERM
2019-09-24 16:57:42,142 DEBUG impl.RaftServerImpl (RaftServerImpl.java:requestVote(743)) - s2@group-09A0EF6A68F4: receive requestVote(s0, group-09A0EF6A68F4, 57, (t:0, i:0))
2019-09-24 16:57:42,142 DEBUG impl.RaftServerImpl (RaftServerImpl.java:requestVote(743)) - s1@group-09A0EF6A68F4: receive requestVote(s0, group-09A0EF6A68F4, 57, (t:0, i:0))
2019-09-24 16:57:42,142 DEBUG impl.RaftServerImpl (RaftServerImpl.java:requestVote(775)) - s2@group-09A0EF6A68F4 replies to vote request: s0<-s2#0:FAIL-t57. Peer's state: s2@group-09A0EF6A68F4:t57, leader=null, voted=s2, raftlog=s2@group-09A0EF6A68F4-SegmentedRaftLog:OPENED:c-1,f-1,i0, conf=-1: [s0:0.0.0.0:42611, s1:0.0.0.0:39575, s2:0.0.0.0:34382], old=null
2019-09-24 16:57:42,142 INFO  impl.RoleInfo (RoleInfo.java:shutdownLeaderElection(134)) - s1: shutdown LeaderElection
2019-09-24 16:57:42,143 INFO  impl.RoleInfo (RoleInfo.java:updateAndGet(143)) - s1: start FollowerState
2019-09-24 16:57:42,143 DEBUG impl.RaftServerImpl (RaftServerImpl.java:requestVote(775)) - s1@group-09A0EF6A68F4 replies to vote request: s2<-s1#0:FAIL-t57. Peer's state: s1@group-09A0EF6A68F4:t57, leader=null, voted=s1, raftlog=s1@group-09A0EF6A68F4-SegmentedRaftLog:OPENED:c-1,f-1,i0, conf=-1: [s0:0.0.0.0:42611, s1:0.0.0.0:39575, s2:0.0.0.0:34382], old=null
2019-09-24 16:57:42,143 DEBUG impl.RaftServerImpl (RaftServerImpl.java:requestVote(775)) - s1@group-09A0EF6A68F4 replies to vote request: s0<-s1#0:FAIL-t57. Peer's state: s1@group-09A0EF6A68F4:t57, leader=null, voted=s1, raftlog=s1@group-09A0EF6A68F4-SegmentedRaftLog:OPENED:c-1,f-1,i0, conf=-1: [s0:0.0.0.0:42611, s1:0.0.0.0:39575, s2:0.0.0.0:34382], old=null
2019-09-24 16:57:42,143 INFO  impl.LeaderElection (LeaderElection.java:logAndReturn(56)) - s2@group-09A0EF6A68F4-LeaderElection141: Election REJECTED; received 2 response(s) [s2<-s0#0:FAIL-t57, s2<-s1#0:FAIL-t57] and 0 exception(s); s2@group-09A0EF6A68F4:t57, leader=null, voted=s2, raftlog=s2@group-09A0EF6A68F4-SegmentedRaftLog:OPENED:c-1,f-1,i0, conf=-1: [s0:0.0.0.0:42611, s1:0.0.0.0:39575, s2:0.0.0.0:34382], old=null
2019-09-24 16:57:42,144 INFO  impl.LeaderElection (LeaderElection.java:logAndReturn(56)) - s0@group-09A0EF6A68F4-LeaderElection140: Election REJECTED; received 2 response(s) [s0<-s1#0:FAIL-t57, s0<-s2#0:FAIL-t57] and 0 exception(s); s0@group-09A0EF6A68F4:t57, leader=null, voted=s0, raftlog=s0@group-09A0EF6A68F4-SegmentedRaftLog:OPENED:c-1,f-1,i0, conf=-1: [s0:0.0.0.0:42611, s1:0.0.0.0:39575, s2:0.0.0.0:34382], old=null
2019-09-24 16:57:42,144 INFO  impl.RaftServerImpl (RaftServerImpl.java:setRole(170)) - s2@group-09A0EF6A68F4: changes role from CANDIDATE to FOLLOWER at term 57 for DISCOVERED_A_NEW_TERM
2019-09-24 16:57:42,144 INFO  impl.RaftServerImpl (RaftServerImpl.java:setRole(170)) - s0@group-09A0EF6A68F4: changes role from CANDIDATE to FOLLOWER at term 57 for DISCOVERED_A_NEW_TERM
2019-09-24 16:57:42,144 INFO  impl.RoleInfo (RoleInfo.java:shutdownLeaderElection(134)) - s2: shutdown LeaderElection
2019-09-24 16:57:42,144 INFO  impl.RoleInfo (RoleInfo.java:shutdownLeaderElection(134)) - s0: shutdown LeaderElection
2019-09-24 16:57:42,144 INFO  impl.RoleInfo (RoleInfo.java:updateAndGet(143)) - s2: start FollowerState
2019-09-24 16:57:42,145 INFO  impl.RoleInfo (RoleInfo.java:updateAndGet(143)) - s0: start FollowerState
2019-09-24 16:57:42,194 WARN  ratis.RaftTestUtil (JavaUtils.java:attempt(158)) - FAILED "waitForLeader-null-(expectLeader? true)", attempt #72/100: java.lang.IllegalStateException: No leader yet : printing ALL groups
  s0:  RUNNING  FOLLOWER s0@group-09A0EF6A68F4:t57, leader=null, voted=s0, raftlog=s0@group-09A0EF6A68F4-SegmentedRaftLog:OPENED:c-1,f-1,i0, conf=-1: [s0:0.0.0.0:42611, s1:0.0.0.0:39575, s2:0.0.0.0:34382], old=null RUNNING
  s1:  RUNNING  FOLLOWER s1@group-09A0EF6A68F4:t57, leader=null, voted=s1, raftlog=s1@group-09A0EF6A68F4-SegmentedRaftLog:OPENED:c-1,f-1,i0, conf=-1: [s0:0.0.0.0:42611, s1:0.0.0.0:39575, s2:0.0.0.0:34382], old=null RUNNING
  s2:  RUNNING  FOLLOWER s2@group-09A0EF6A68F4:t57, leader=null, voted=s2, raftlog=s2@group-09A0EF6A68F4-SegmentedRaftLog:OPENED:c-1,f-1,i0, conf=-1: [s0:0.0.0.0:42611, s1:0.0.0.0:39575, s2:0.0.0.0:34382], old=null RUNNING, sleep 450ms and then retry.
java.lang.IllegalStateException: No leader yet : printing ALL groups
  s0:  RUNNING  FOLLOWER s0@group-09A0EF6A68F4:t57, leader=null, voted=s0, raftlog=s0@group-09A0EF6A68F4-SegmentedRaftLog:OPENED:c-1,f-1,i0, conf=-1: [s0:0.0.0.0:42611, s1:0.0.0.0:39575, s2:0.0.0.0:34382], old=null RUNNING
  s1:  RUNNING  FOLLOWER s1@group-09A0EF6A68F4:t57, leader=null, voted=s1, raftlog=s1@group-09A0EF6A68F4-SegmentedRaftLog:OPENED:c-1,f-1,i0, conf=-1: [s0:0.0.0.0:42611, s1:0.0.0.0:39575, s2:0.0.0.0:34382], old=null RUNNING
  s2:  RUNNING  FOLLOWER s2@group-09A0EF6A68F4:t57, leader=null, voted=s2, raftlog=s2@group-09A0EF6A68F4-SegmentedRaftLog:OPENED:c-1,f-1,i0, conf=-1: [s0:0.0.0.0:42611, s1:0.0.0.0:39575, s2:0.0.0.0:34382], old=null RUNNING
	at org.apache.ratis.MiniRaftCluster.newIllegalStateExceptionForNoLeaders(MiniRaftCluster.java:506)
	at org.apache.ratis.RaftTestUtil.lambda$waitForLeader$1(RaftTestUtil.java:90)
	at org.apache.ratis.MiniRaftCluster.getLeader(MiniRaftCluster.java:539)
	at org.apache.ratis.MiniRaftCluster.getLeader(MiniRaftCluster.java:532)
	at org.apache.ratis.RaftTestUtil.lambda$waitForLeader$3(RaftTestUtil.java:98)
	at org.apache.ratis.util.JavaUtils.attempt(JavaUtils.java:152)
	at org.apache.ratis.RaftTestUtil.waitForLeader(RaftTestUtil.java:97)
	at org.apache.ratis.RaftTestUtil.waitForLeader(RaftTestUtil.java:77)
	at org.apache.ratis.RaftTestUtil.waitForLeader(RaftTestUtil.java:72)
	at org.apache.ratis.server.impl.RaftStateMachineExceptionTests.runTestRetryOnExceptionDuringReplication(RaftStateMachineExceptionTests.java:149)
	at org.apache.ratis.MiniRaftCluster$Factory$Get.runWithNewCluster(MiniRaftCluster.java:125)
	at org.apache.ratis.MiniRaftCluster$Factory$Get.runWithNewCluster(MiniRaftCluster.java:113)
	at org.apache.ratis.server.impl.RaftStateMachineExceptionTests.testRetryOnExceptionDuringReplication(RaftStateMachineExceptionTests.java:145)
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.lang.reflect.Method.invoke(Method.java:498)
	at org.junit.runners.model.FrameworkMethod$1.runReflectiveCall(FrameworkMethod.java:50)
	at org.junit.internal.runners.model.ReflectiveCallable.run(ReflectiveCallable.java:12)
	at org.junit.runners.model.FrameworkMethod.invokeExplosively(FrameworkMethod.java:47)
	at org.junit.internal.runners.statements.InvokeMethod.evaluate(InvokeMethod.java:17)
	at org.junit.internal.runners.statements.RunAfters.evaluate(RunAfters.java:27)
	at org.junit.internal.runners.statements.FailOnTimeout$CallableStatement.call(FailOnTimeout.java:298)
	at org.junit.internal.runners.statements.FailOnTimeout$CallableStatement.call(FailOnTimeout.java:292)
	at java.util.concurrent.FutureTask.run(FutureTask.java:266)
	at java.lang.Thread.run(Thread.java:748)
2019-09-24 16:57:42,340 INFO  impl.FollowerState (FollowerState.java:run(108)) - s1@group-09A0EF6A68F4-FollowerState: change to CANDIDATE, lastRpcTime:197ms, electionTimeout:197ms
2019-09-24 16:57:42,340 INFO  impl.RoleInfo (RoleInfo.java:shutdownFollowerState(121)) - s1: shutdown FollowerState
2019-09-24 16:57:42,341 INFO  impl.RaftServerImpl (RaftServerImpl.java:setRole(170)) - s1@group-09A0EF6A68F4: changes role from  FOLLOWER to CANDIDATE at term 57 for changeToCandidate
2019-09-24 16:57:42,341 INFO  impl.RoleInfo (RoleInfo.java:updateAndGet(143)) - s1: start LeaderElection
2019-09-24 16:57:42,397 INFO  impl.FollowerState (FollowerState.java:run(108)) - s0@group-09A0EF6A68F4-FollowerState: change to CANDIDATE, lastRpcTime:252ms, electionTimeout:252ms
2019-09-24 16:57:42,398 INFO  impl.RoleInfo (RoleInfo.java:shutdownFollowerState(121)) - s0: shutdown FollowerState
2019-09-24 16:57:42,398 INFO  impl.RaftServerImpl (RaftServerImpl.java:setRole(170)) - s0@group-09A0EF6A68F4: changes role from  FOLLOWER to CANDIDATE at term 57 for changeToCandidate
2019-09-24 16:57:42,398 INFO  impl.RoleInfo (RoleInfo.java:updateAndGet(143)) - s0: start LeaderElection
2019-09-24 16:57:42,436 INFO  impl.FollowerState (FollowerState.java:run(108)) - s2@group-09A0EF6A68F4-FollowerState: change to CANDIDATE, lastRpcTime:291ms, electionTimeout:291ms
2019-09-24 16:57:42,436 INFO  impl.RoleInfo (RoleInfo.java:shutdownFollowerState(121)) - s2: shutdown FollowerState
2019-09-24 16:57:42,436 INFO  impl.RaftServerImpl (RaftServerImpl.java:setRole(170)) - s2@group-09A0EF6A68F4: changes role from  FOLLOWER to CANDIDATE at term 57 for changeToCandidate
2019-09-24 16:57:42,436 INFO  impl.RoleInfo (RoleInfo.java:updateAndGet(143)) - s2: start LeaderElection
2019-09-24 16:57:42,608 INFO  impl.LeaderElection (LeaderElection.java:askForVotes(178)) - s2@group-09A0EF6A68F4-LeaderElection144: begin an election at term 58 for -1: [s0:0.0.0.0:42611, s1:0.0.0.0:39575, s2:0.0.0.0:34382], old=null
2019-09-24 16:57:42,608 INFO  impl.LeaderElection (LeaderElection.java:askForVotes(178)) - s0@group-09A0EF6A68F4-LeaderElection143: begin an election at term 58 for -1: [s0:0.0.0.0:42611, s1:0.0.0.0:39575, s2:0.0.0.0:34382], old=null
2019-09-24 16:57:42,608 INFO  impl.LeaderElection (LeaderElection.java:askForVotes(178)) - s1@group-09A0EF6A68F4-LeaderElection142: begin an election at term 58 for -1: [s0:0.0.0.0:42611, s1:0.0.0.0:39575, s2:0.0.0.0:34382], old=null
2019-09-24 16:57:42,609 DEBUG impl.RaftServerImpl (RaftServerImpl.java:requestVote(743)) - s0@group-09A0EF6A68F4: receive requestVote(s2, group-09A0EF6A68F4, 58, (t:0, i:0))
2019-09-24 16:57:42,609 DEBUG impl.RaftServerImpl (RaftServerImpl.java:requestVote(743)) - s1@group-09A0EF6A68F4: receive requestVote(s0, group-09A0EF6A68F4, 58, (t:0, i:0))
2019-09-24 16:57:42,610 DEBUG impl.RaftServerImpl (RaftServerImpl.java:requestVote(743)) - s1@group-09A0EF6A68F4: receive requestVote(s2, group-09A0EF6A68F4, 58, (t:0, i:0))
2019-09-24 16:57:42,610 DEBUG impl.RaftServerImpl (RaftServerImpl.java:requestVote(775)) - s0@group-09A0EF6A68F4 replies to vote request: s2<-s0#0:FAIL-t58. Peer's state: s0@group-09A0EF6A68F4:t58, leader=null, voted=s0, raftlog=s0@group-09A0EF6A68F4-SegmentedRaftLog:OPENED:c-1,f-1,i0, conf=-1: [s0:0.0.0.0:42611, s1:0.0.0.0:39575, s2:0.0.0.0:34382], old=null
2019-09-24 16:57:42,610 DEBUG impl.RaftServerImpl (RaftServerImpl.java:requestVote(743)) - s2@group-09A0EF6A68F4: receive requestVote(s1, group-09A0EF6A68F4, 58, (t:0, i:0))
2019-09-24 16:57:42,610 DEBUG impl.RaftServerImpl (RaftServerImpl.java:requestVote(743)) - s2@group-09A0EF6A68F4: receive requestVote(s0, group-09A0EF6A68F4, 58, (t:0, i:0))
2019-09-24 16:57:42,610 DEBUG impl.RaftServerImpl (RaftServerImpl.java:requestVote(775)) - s1@group-09A0EF6A68F4 replies to vote request: s0<-s1#0:FAIL-t58. Peer's state: s1@group-09A0EF6A68F4:t58, leader=null, voted=s1, raftlog=s1@group-09A0EF6A68F4-SegmentedRaftLog:OPENED:c-1,f-1,i0, conf=-1: [s0:0.0.0.0:42611, s1:0.0.0.0:39575, s2:0.0.0.0:34382], old=null
2019-09-24 16:57:42,610 DEBUG impl.RaftServerImpl (RaftServerImpl.java:requestVote(743)) - s0@group-09A0EF6A68F4: receive requestVote(s1, group-09A0EF6A68F4, 58, (t:0, i:0))
2019-09-24 16:57:42,611 DEBUG impl.RaftServerImpl (RaftServerImpl.java:requestVote(775)) - s1@group-09A0EF6A68F4 replies to vote request: s2<-s1#0:FAIL-t58. Peer's state: s1@group-09A0EF6A68F4:t58, leader=null, voted=s1, raftlog=s1@group-09A0EF6A68F4-SegmentedRaftLog:OPENED:c-1,f-1,i0, conf=-1: [s0:0.0.0.0:42611, s1:0.0.0.0:39575, s2:0.0.0.0:34382], old=null
2019-09-24 16:57:42,610 DEBUG impl.RaftServerImpl (RaftServerImpl.java:requestVote(775)) - s2@group-09A0EF6A68F4 replies to vote request: s1<-s2#0:FAIL-t58. Peer's state: s2@group-09A0EF6A68F4:t58, leader=null, voted=s2, raftlog=s2@group-09A0EF6A68F4-SegmentedRaftLog:OPENED:c-1,f-1,i0, conf=-1: [s0:0.0.0.0:42611, s1:0.0.0.0:39575, s2:0.0.0.0:34382], old=null
2019-09-24 16:57:42,611 DEBUG impl.RaftServerImpl (RaftServerImpl.java:requestVote(775)) - s0@group-09A0EF6A68F4 replies to vote request: s1<-s0#0:FAIL-t58. Peer's state: s0@group-09A0EF6A68F4:t58, leader=null, voted=s0, raftlog=s0@group-09A0EF6A68F4-SegmentedRaftLog:OPENED:c-1,f-1,i0, conf=-1: [s0:0.0.0.0:42611, s1:0.0.0.0:39575, s2:0.0.0.0:34382], old=null
2019-09-24 16:57:42,611 DEBUG impl.RaftServerImpl (RaftServerImpl.java:requestVote(775)) - s2@group-09A0EF6A68F4 replies to vote request: s0<-s2#0:FAIL-t58. Peer's state: s2@group-09A0EF6A68F4:t58, leader=null, voted=s2, raftlog=s2@group-09A0EF6A68F4-SegmentedRaftLog:OPENED:c-1,f-1,i0, conf=-1: [s0:0.0.0.0:42611, s1:0.0.0.0:39575, s2:0.0.0.0:34382], old=null
2019-09-24 16:57:42,611 INFO  impl.LeaderElection (LeaderElection.java:logAndReturn(56)) - s2@group-09A0EF6A68F4-LeaderElection144: Election REJECTED; received 2 response(s) [s2<-s0#0:FAIL-t58, s2<-s1#0:FAIL-t58] and 0 exception(s); s2@group-09A0EF6A68F4:t58, leader=null, voted=s2, raftlog=s2@group-09A0EF6A68F4-SegmentedRaftLog:OPENED:c-1,f-1,i0, conf=-1: [s0:0.0.0.0:42611, s1:0.0.0.0:39575, s2:0.0.0.0:34382], old=null
2019-09-24 16:57:42,611 INFO  impl.LeaderElection (LeaderElection.java:logAndReturn(56)) - s1@group-09A0EF6A68F4-LeaderElection142: Election REJECTED; received 2 response(s) [s1<-s0#0:FAIL-t58, s1<-s2#0:FAIL-t58] and 0 exception(s); s1@group-09A0EF6A68F4:t58, leader=null, voted=s1, raftlog=s1@group-09A0EF6A68F4-SegmentedRaftLog:OPENED:c-1,f-1,i0, conf=-1: [s0:0.0.0.0:42611, s1:0.0.0.0:39575, s2:0.0.0.0:34382], old=null
2019-09-24 16:57:42,612 INFO  impl.RaftServerImpl (RaftServerImpl.java:setRole(170)) - s2@group-09A0EF6A68F4: changes role from CANDIDATE to FOLLOWER at term 58 for DISCOVERED_A_NEW_TERM
2019-09-24 16:57:42,612 INFO  impl.LeaderElection (LeaderElection.java:logAndReturn(56)) - s0@group-09A0EF6A68F4-LeaderElection143: Election REJECTED; received 2 response(s) [s0<-s1#0:FAIL-t58, s0<-s2#0:FAIL-t58] and 0 exception(s); s0@group-09A0EF6A68F4:t58, leader=null, voted=s0, raftlog=s0@group-09A0EF6A68F4-SegmentedRaftLog:OPENED:c-1,f-1,i0, conf=-1: [s0:0.0.0.0:42611, s1:0.0.0.0:39575, s2:0.0.0.0:34382], old=null
2019-09-24 16:57:42,612 INFO  impl.RoleInfo (RoleInfo.java:shutdownLeaderElection(134)) - s2: shutdown LeaderElection
2019-09-24 16:57:42,612 INFO  impl.RaftServerImpl (RaftServerImpl.java:setRole(170)) - s1@group-09A0EF6A68F4: changes role from CANDIDATE to FOLLOWER at term 58 for DISCOVERED_A_NEW_TERM
2019-09-24 16:57:42,613 INFO  impl.RoleInfo (RoleInfo.java:updateAndGet(143)) - s2: start FollowerState
2019-09-24 16:57:42,612 INFO  impl.RaftServerImpl (RaftServerImpl.java:setRole(170)) - s0@group-09A0EF6A68F4: changes role from CANDIDATE to FOLLOWER at term 58 for DISCOVERED_A_NEW_TERM
2019-09-24 16:57:42,613 INFO  impl.RoleInfo (RoleInfo.java:shutdownLeaderElection(134)) - s1: shutdown LeaderElection
2019-09-24 16:57:42,613 INFO  impl.RoleInfo (RoleInfo.java:shutdownLeaderElection(134)) - s0: shutdown LeaderElection
2019-09-24 16:57:42,613 INFO  impl.RoleInfo (RoleInfo.java:updateAndGet(143)) - s1: start FollowerState
2019-09-24 16:57:42,613 INFO  impl.RoleInfo (RoleInfo.java:updateAndGet(143)) - s0: start FollowerState
2019-09-24 16:57:42,645 WARN  ratis.RaftTestUtil (JavaUtils.java:attempt(158)) - FAILED "waitForLeader-null-(expectLeader? true)", attempt #73/100: java.lang.IllegalStateException: No leader yet : printing ALL groups
  s0:  RUNNING  FOLLOWER s0@group-09A0EF6A68F4:t58, leader=null, voted=s0, raftlog=s0@group-09A0EF6A68F4-SegmentedRaftLog:OPENED:c-1,f-1,i0, conf=-1: [s0:0.0.0.0:42611, s1:0.0.0.0:39575, s2:0.0.0.0:34382], old=null RUNNING
  s1:  RUNNING  FOLLOWER s1@group-09A0EF6A68F4:t58, leader=null, voted=s1, raftlog=s1@group-09A0EF6A68F4-SegmentedRaftLog:OPENED:c-1,f-1,i0, conf=-1: [s0:0.0.0.0:42611, s1:0.0.0.0:39575, s2:0.0.0.0:34382], old=null RUNNING
  s2:  RUNNING  FOLLOWER s2@group-09A0EF6A68F4:t58, leader=null, voted=s2, raftlog=s2@group-09A0EF6A68F4-SegmentedRaftLog:OPENED:c-1,f-1,i0, conf=-1: [s0:0.0.0.0:42611, s1:0.0.0.0:39575, s2:0.0.0.0:34382], old=null RUNNING, sleep 450ms and then retry.
java.lang.IllegalStateException: No leader yet : printing ALL groups
  s0:  RUNNING  FOLLOWER s0@group-09A0EF6A68F4:t58, leader=null, voted=s0, raftlog=s0@group-09A0EF6A68F4-SegmentedRaftLog:OPENED:c-1,f-1,i0, conf=-1: [s0:0.0.0.0:42611, s1:0.0.0.0:39575, s2:0.0.0.0:34382], old=null RUNNING
  s1:  RUNNING  FOLLOWER s1@group-09A0EF6A68F4:t58, leader=null, voted=s1, raftlog=s1@group-09A0EF6A68F4-SegmentedRaftLog:OPENED:c-1,f-1,i0, conf=-1: [s0:0.0.0.0:42611, s1:0.0.0.0:39575, s2:0.0.0.0:34382], old=null RUNNING
  s2:  RUNNING  FOLLOWER s2@group-09A0EF6A68F4:t58, leader=null, voted=s2, raftlog=s2@group-09A0EF6A68F4-SegmentedRaftLog:OPENED:c-1,f-1,i0, conf=-1: [s0:0.0.0.0:42611, s1:0.0.0.0:39575, s2:0.0.0.0:34382], old=null RUNNING
	at org.apache.ratis.MiniRaftCluster.newIllegalStateExceptionForNoLeaders(MiniRaftCluster.java:506)
	at org.apache.ratis.RaftTestUtil.lambda$waitForLeader$1(RaftTestUtil.java:90)
	at org.apache.ratis.MiniRaftCluster.getLeader(MiniRaftCluster.java:539)
	at org.apache.ratis.MiniRaftCluster.getLeader(MiniRaftCluster.java:532)
	at org.apache.ratis.RaftTestUtil.lambda$waitForLeader$3(RaftTestUtil.java:98)
	at org.apache.ratis.util.JavaUtils.attempt(JavaUtils.java:152)
	at org.apache.ratis.RaftTestUtil.waitForLeader(RaftTestUtil.java:97)
	at org.apache.ratis.RaftTestUtil.waitForLeader(RaftTestUtil.java:77)
	at org.apache.ratis.RaftTestUtil.waitForLeader(RaftTestUtil.java:72)
	at org.apache.ratis.server.impl.RaftStateMachineExceptionTests.runTestRetryOnExceptionDuringReplication(RaftStateMachineExceptionTests.java:149)
	at org.apache.ratis.MiniRaftCluster$Factory$Get.runWithNewCluster(MiniRaftCluster.java:125)
	at org.apache.ratis.MiniRaftCluster$Factory$Get.runWithNewCluster(MiniRaftCluster.java:113)
	at org.apache.ratis.server.impl.RaftStateMachineExceptionTests.testRetryOnExceptionDuringReplication(RaftStateMachineExceptionTests.java:145)
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.lang.reflect.Method.invoke(Method.java:498)
	at org.junit.runners.model.FrameworkMethod$1.runReflectiveCall(FrameworkMethod.java:50)
	at org.junit.internal.runners.model.ReflectiveCallable.run(ReflectiveCallable.java:12)
	at org.junit.runners.model.FrameworkMethod.invokeExplosively(FrameworkMethod.java:47)
	at org.junit.internal.runners.statements.InvokeMethod.evaluate(InvokeMethod.java:17)
	at org.junit.internal.runners.statements.RunAfters.evaluate(RunAfters.java:27)
	at org.junit.internal.runners.statements.FailOnTimeout$CallableStatement.call(FailOnTimeout.java:298)
	at org.junit.internal.runners.statements.FailOnTimeout$CallableStatement.call(FailOnTimeout.java:292)
	at java.util.concurrent.FutureTask.run(FutureTask.java:266)
	at java.lang.Thread.run(Thread.java:748)
2019-09-24 16:57:42,777 INFO  impl.FollowerState (FollowerState.java:run(108)) - s0@group-09A0EF6A68F4-FollowerState: change to CANDIDATE, lastRpcTime:163ms, electionTimeout:163ms
2019-09-24 16:57:42,777 INFO  impl.RoleInfo (RoleInfo.java:shutdownFollowerState(121)) - s0: shutdown FollowerState
2019-09-24 16:57:42,778 INFO  impl.RaftServerImpl (RaftServerImpl.java:setRole(170)) - s0@group-09A0EF6A68F4: changes role from  FOLLOWER to CANDIDATE at term 58 for changeToCandidate
2019-09-24 16:57:42,778 INFO  impl.RoleInfo (RoleInfo.java:updateAndGet(143)) - s0: start LeaderElection
2019-09-24 16:57:42,792 INFO  impl.FollowerState (FollowerState.java:run(108)) - s2@group-09A0EF6A68F4-FollowerState: change to CANDIDATE, lastRpcTime:179ms, electionTimeout:179ms
2019-09-24 16:57:42,792 INFO  impl.RoleInfo (RoleInfo.java:shutdownFollowerState(121)) - s2: shutdown FollowerState
2019-09-24 16:57:42,793 INFO  impl.RaftServerImpl (RaftServerImpl.java:setRole(170)) - s2@group-09A0EF6A68F4: changes role from  FOLLOWER to CANDIDATE at term 58 for changeToCandidate
2019-09-24 16:57:42,793 INFO  impl.RoleInfo (RoleInfo.java:updateAndGet(143)) - s2: start LeaderElection
2019-09-24 16:57:42,863 INFO  impl.FollowerState (FollowerState.java:run(108)) - s1@group-09A0EF6A68F4-FollowerState: change to CANDIDATE, lastRpcTime:249ms, electionTimeout:249ms
2019-09-24 16:57:42,863 INFO  impl.RoleInfo (RoleInfo.java:shutdownFollowerState(121)) - s1: shutdown FollowerState
2019-09-24 16:57:42,864 INFO  impl.RaftServerImpl (RaftServerImpl.java:setRole(170)) - s1@group-09A0EF6A68F4: changes role from  FOLLOWER to CANDIDATE at term 58 for changeToCandidate
2019-09-24 16:57:42,864 INFO  impl.RoleInfo (RoleInfo.java:updateAndGet(143)) - s1: start LeaderElection
2019-09-24 16:57:43,097 WARN  ratis.RaftTestUtil (JavaUtils.java:attempt(158)) - FAILED "waitForLeader-null-(expectLeader? true)", attempt #74/100: java.lang.IllegalStateException: No leader yet : printing ALL groups
  s0:  RUNNING CANDIDATE s0@group-09A0EF6A68F4:t59, leader=null, voted=s0, raftlog=s0@group-09A0EF6A68F4-SegmentedRaftLog:OPENED:c-1,f-1,i0, conf=-1: [s0:0.0.0.0:42611, s1:0.0.0.0:39575, s2:0.0.0.0:34382], old=null RUNNING
  s1:  RUNNING CANDIDATE s1@group-09A0EF6A68F4:t59, leader=null, voted=s1, raftlog=s1@group-09A0EF6A68F4-SegmentedRaftLog:OPENED:c-1,f-1,i0, conf=-1: [s0:0.0.0.0:42611, s1:0.0.0.0:39575, s2:0.0.0.0:34382], old=null RUNNING
  s2:  RUNNING CANDIDATE s2@group-09A0EF6A68F4:t59, leader=null, voted=s2, raftlog=s2@group-09A0EF6A68F4-SegmentedRaftLog:OPENED:c-1,f-1,i0, conf=-1: [s0:0.0.0.0:42611, s1:0.0.0.0:39575, s2:0.0.0.0:34382], old=null RUNNING, sleep 450ms and then retry.
java.lang.IllegalStateException: No leader yet : printing ALL groups
  s0:  RUNNING CANDIDATE s0@group-09A0EF6A68F4:t59, leader=null, voted=s0, raftlog=s0@group-09A0EF6A68F4-SegmentedRaftLog:OPENED:c-1,f-1,i0, conf=-1: [s0:0.0.0.0:42611, s1:0.0.0.0:39575, s2:0.0.0.0:34382], old=null RUNNING
  s1:  RUNNING CANDIDATE s1@group-09A0EF6A68F4:t59, leader=null, voted=s1, raftlog=s1@group-09A0EF6A68F4-SegmentedRaftLog:OPENED:c-1,f-1,i0, conf=-1: [s0:0.0.0.0:42611, s1:0.0.0.0:39575, s2:0.0.0.0:34382], old=null RUNNING
  s2:  RUNNING CANDIDATE s2@group-09A0EF6A68F4:t59, leader=null, voted=s2, raftlog=s2@group-09A0EF6A68F4-SegmentedRaftLog:OPENED:c-1,f-1,i0, conf=-1: [s0:0.0.0.0:42611, s1:0.0.0.0:39575, s2:0.0.0.0:34382], old=null RUNNING
	at org.apache.ratis.MiniRaftCluster.newIllegalStateExceptionForNoLeaders(MiniRaftCluster.java:506)
	at org.apache.ratis.RaftTestUtil.lambda$waitForLeader$1(RaftTestUtil.java:90)
	at org.apache.ratis.MiniRaftCluster.getLeader(MiniRaftCluster.java:539)
	at org.apache.ratis.MiniRaftCluster.getLeader(MiniRaftCluster.java:532)
	at org.apache.ratis.RaftTestUtil.lambda$waitForLeader$3(RaftTestUtil.java:98)
	at org.apache.ratis.util.JavaUtils.attempt(JavaUtils.java:152)
	at org.apache.ratis.RaftTestUtil.waitForLeader(RaftTestUtil.java:97)
	at org.apache.ratis.RaftTestUtil.waitForLeader(RaftTestUtil.java:77)
	at org.apache.ratis.RaftTestUtil.waitForLeader(RaftTestUtil.java:72)
	at org.apache.ratis.server.impl.RaftStateMachineExceptionTests.runTestRetryOnExceptionDuringReplication(RaftStateMachineExceptionTests.java:149)
	at org.apache.ratis.MiniRaftCluster$Factory$Get.runWithNewCluster(MiniRaftCluster.java:125)
	at org.apache.ratis.MiniRaftCluster$Factory$Get.runWithNewCluster(MiniRaftCluster.java:113)
	at org.apache.ratis.server.impl.RaftStateMachineExceptionTests.testRetryOnExceptionDuringReplication(RaftStateMachineExceptionTests.java:145)
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.lang.reflect.Method.invoke(Method.java:498)
	at org.junit.runners.model.FrameworkMethod$1.runReflectiveCall(FrameworkMethod.java:50)
	at org.junit.internal.runners.model.ReflectiveCallable.run(ReflectiveCallable.java:12)
	at org.junit.runners.model.FrameworkMethod.invokeExplosively(FrameworkMethod.java:47)
	at org.junit.internal.runners.statements.InvokeMethod.evaluate(InvokeMethod.java:17)
	at org.junit.internal.runners.statements.RunAfters.evaluate(RunAfters.java:27)
	at org.junit.internal.runners.statements.FailOnTimeout$CallableStatement.call(FailOnTimeout.java:298)
	at org.junit.internal.runners.statements.FailOnTimeout$CallableStatement.call(FailOnTimeout.java:292)
	at java.util.concurrent.FutureTask.run(FutureTask.java:266)
	at java.lang.Thread.run(Thread.java:748)
2019-09-24 16:57:43,549 WARN  ratis.RaftTestUtil (JavaUtils.java:attempt(158)) - FAILED "waitForLeader-null-(expectLeader? true)", attempt #75/100: java.lang.IllegalStateException: No leader yet : printing ALL groups
  s0:  RUNNING CANDIDATE s0@group-09A0EF6A68F4:t59, leader=null, voted=s0, raftlog=s0@group-09A0EF6A68F4-SegmentedRaftLog:OPENED:c-1,f-1,i0, conf=-1: [s0:0.0.0.0:42611, s1:0.0.0.0:39575, s2:0.0.0.0:34382], old=null RUNNING
  s1:  RUNNING CANDIDATE s1@group-09A0EF6A68F4:t59, leader=null, voted=s1, raftlog=s1@group-09A0EF6A68F4-SegmentedRaftLog:OPENED:c-1,f-1,i0, conf=-1: [s0:0.0.0.0:42611, s1:0.0.0.0:39575, s2:0.0.0.0:34382], old=null RUNNING
  s2:  RUNNING CANDIDATE s2@group-09A0EF6A68F4:t59, leader=null, voted=s2, raftlog=s2@group-09A0EF6A68F4-SegmentedRaftLog:OPENED:c-1,f-1,i0, conf=-1: [s0:0.0.0.0:42611, s1:0.0.0.0:39575, s2:0.0.0.0:34382], old=null RUNNING, sleep 450ms and then retry.
java.lang.IllegalStateException: No leader yet : printing ALL groups
  s0:  RUNNING CANDIDATE s0@group-09A0EF6A68F4:t59, leader=null, voted=s0, raftlog=s0@group-09A0EF6A68F4-SegmentedRaftLog:OPENED:c-1,f-1,i0, conf=-1: [s0:0.0.0.0:42611, s1:0.0.0.0:39575, s2:0.0.0.0:34382], old=null RUNNING
  s1:  RUNNING CANDIDATE s1@group-09A0EF6A68F4:t59, leader=null, voted=s1, raftlog=s1@group-09A0EF6A68F4-SegmentedRaftLog:OPENED:c-1,f-1,i0, conf=-1: [s0:0.0.0.0:42611, s1:0.0.0.0:39575, s2:0.0.0.0:34382], old=null RUNNING
  s2:  RUNNING CANDIDATE s2@group-09A0EF6A68F4:t59, leader=null, voted=s2, raftlog=s2@group-09A0EF6A68F4-SegmentedRaftLog:OPENED:c-1,f-1,i0, conf=-1: [s0:0.0.0.0:42611, s1:0.0.0.0:39575, s2:0.0.0.0:34382], old=null RUNNING
	at org.apache.ratis.MiniRaftCluster.newIllegalStateExceptionForNoLeaders(MiniRaftCluster.java:506)
	at org.apache.ratis.RaftTestUtil.lambda$waitForLeader$1(RaftTestUtil.java:90)
	at org.apache.ratis.MiniRaftCluster.getLeader(MiniRaftCluster.java:539)
	at org.apache.ratis.MiniRaftCluster.getLeader(MiniRaftCluster.java:532)
	at org.apache.ratis.RaftTestUtil.lambda$waitForLeader$3(RaftTestUtil.java:98)
	at org.apache.ratis.util.JavaUtils.attempt(JavaUtils.java:152)
	at org.apache.ratis.RaftTestUtil.waitForLeader(RaftTestUtil.java:97)
	at org.apache.ratis.RaftTestUtil.waitForLeader(RaftTestUtil.java:77)
	at org.apache.ratis.RaftTestUtil.waitForLeader(RaftTestUtil.java:72)
	at org.apache.ratis.server.impl.RaftStateMachineExceptionTests.runTestRetryOnExceptionDuringReplication(RaftStateMachineExceptionTests.java:149)
	at org.apache.ratis.MiniRaftCluster$Factory$Get.runWithNewCluster(MiniRaftCluster.java:125)
	at org.apache.ratis.MiniRaftCluster$Factory$Get.runWithNewCluster(MiniRaftCluster.java:113)
	at org.apache.ratis.server.impl.RaftStateMachineExceptionTests.testRetryOnExceptionDuringReplication(RaftStateMachineExceptionTests.java:145)
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.lang.reflect.Method.invoke(Method.java:498)
	at org.junit.runners.model.FrameworkMethod$1.runReflectiveCall(FrameworkMethod.java:50)
	at org.junit.internal.runners.model.ReflectiveCallable.run(ReflectiveCallable.java:12)
	at org.junit.runners.model.FrameworkMethod.invokeExplosively(FrameworkMethod.java:47)
	at org.junit.internal.runners.statements.InvokeMethod.evaluate(InvokeMethod.java:17)
	at org.junit.internal.runners.statements.RunAfters.evaluate(RunAfters.java:27)
	at org.junit.internal.runners.statements.FailOnTimeout$CallableStatement.call(FailOnTimeout.java:298)
	at org.junit.internal.runners.statements.FailOnTimeout$CallableStatement.call(FailOnTimeout.java:292)
	at java.util.concurrent.FutureTask.run(FutureTask.java:266)
	at java.lang.Thread.run(Thread.java:748)
2019-09-24 16:57:44,001 WARN  ratis.RaftTestUtil (JavaUtils.java:attempt(158)) - FAILED "waitForLeader-null-(expectLeader? true)", attempt #76/100: java.lang.IllegalStateException: No leader yet : printing ALL groups
  s0:  RUNNING CANDIDATE s0@group-09A0EF6A68F4:t59, leader=null, voted=s0, raftlog=s0@group-09A0EF6A68F4-SegmentedRaftLog:OPENED:c-1,f-1,i0, conf=-1: [s0:0.0.0.0:42611, s1:0.0.0.0:39575, s2:0.0.0.0:34382], old=null RUNNING
  s1:  RUNNING CANDIDATE s1@group-09A0EF6A68F4:t59, leader=null, voted=s1, raftlog=s1@group-09A0EF6A68F4-SegmentedRaftLog:OPENED:c-1,f-1,i0, conf=-1: [s0:0.0.0.0:42611, s1:0.0.0.0:39575, s2:0.0.0.0:34382], old=null RUNNING
  s2:  RUNNING CANDIDATE s2@group-09A0EF6A68F4:t59, leader=null, voted=s2, raftlog=s2@group-09A0EF6A68F4-SegmentedRaftLog:OPENED:c-1,f-1,i0, conf=-1: [s0:0.0.0.0:42611, s1:0.0.0.0:39575, s2:0.0.0.0:34382], old=null RUNNING, sleep 450ms and then retry.
java.lang.IllegalStateException: No leader yet : printing ALL groups
  s0:  RUNNING CANDIDATE s0@group-09A0EF6A68F4:t59, leader=null, voted=s0, raftlog=s0@group-09A0EF6A68F4-SegmentedRaftLog:OPENED:c-1,f-1,i0, conf=-1: [s0:0.0.0.0:42611, s1:0.0.0.0:39575, s2:0.0.0.0:34382], old=null RUNNING
  s1:  RUNNING CANDIDATE s1@group-09A0EF6A68F4:t59, leader=null, voted=s1, raftlog=s1@group-09A0EF6A68F4-SegmentedRaftLog:OPENED:c-1,f-1,i0, conf=-1: [s0:0.0.0.0:42611, s1:0.0.0.0:39575, s2:0.0.0.0:34382], old=null RUNNING
  s2:  RUNNING CANDIDATE s2@group-09A0EF6A68F4:t59, leader=null, voted=s2, raftlog=s2@group-09A0EF6A68F4-SegmentedRaftLog:OPENED:c-1,f-1,i0, conf=-1: [s0:0.0.0.0:42611, s1:0.0.0.0:39575, s2:0.0.0.0:34382], old=null RUNNING
	at org.apache.ratis.MiniRaftCluster.newIllegalStateExceptionForNoLeaders(MiniRaftCluster.java:506)
	at org.apache.ratis.RaftTestUtil.lambda$waitForLeader$1(RaftTestUtil.java:90)
	at org.apache.ratis.MiniRaftCluster.getLeader(MiniRaftCluster.java:539)
	at org.apache.ratis.MiniRaftCluster.getLeader(MiniRaftCluster.java:532)
	at org.apache.ratis.RaftTestUtil.lambda$waitForLeader$3(RaftTestUtil.java:98)
	at org.apache.ratis.util.JavaUtils.attempt(JavaUtils.java:152)
	at org.apache.ratis.RaftTestUtil.waitForLeader(RaftTestUtil.java:97)
	at org.apache.ratis.RaftTestUtil.waitForLeader(RaftTestUtil.java:77)
	at org.apache.ratis.RaftTestUtil.waitForLeader(RaftTestUtil.java:72)
	at org.apache.ratis.server.impl.RaftStateMachineExceptionTests.runTestRetryOnExceptionDuringReplication(RaftStateMachineExceptionTests.java:149)
	at org.apache.ratis.MiniRaftCluster$Factory$Get.runWithNewCluster(MiniRaftCluster.java:125)
	at org.apache.ratis.MiniRaftCluster$Factory$Get.runWithNewCluster(MiniRaftCluster.java:113)
	at org.apache.ratis.server.impl.RaftStateMachineExceptionTests.testRetryOnExceptionDuringReplication(RaftStateMachineExceptionTests.java:145)
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.lang.reflect.Method.invoke(Method.java:498)
	at org.junit.runners.model.FrameworkMethod$1.runReflectiveCall(FrameworkMethod.java:50)
	at org.junit.internal.runners.model.ReflectiveCallable.run(ReflectiveCallable.java:12)
	at org.junit.runners.model.FrameworkMethod.invokeExplosively(FrameworkMethod.java:47)
	at org.junit.internal.runners.statements.InvokeMethod.evaluate(InvokeMethod.java:17)
	at org.junit.internal.runners.statements.RunAfters.evaluate(RunAfters.java:27)
	at org.junit.internal.runners.statements.FailOnTimeout$CallableStatement.call(FailOnTimeout.java:298)
	at org.junit.internal.runners.statements.FailOnTimeout$CallableStatement.call(FailOnTimeout.java:292)
	at java.util.concurrent.FutureTask.run(FutureTask.java:266)
	at java.lang.Thread.run(Thread.java:748)
2019-09-24 16:57:44,453 WARN  ratis.RaftTestUtil (JavaUtils.java:attempt(158)) - FAILED "waitForLeader-null-(expectLeader? true)", attempt #77/100: java.lang.IllegalStateException: No leader yet : printing ALL groups
  s0:  RUNNING CANDIDATE s0@group-09A0EF6A68F4:t59, leader=null, voted=s0, raftlog=s0@group-09A0EF6A68F4-SegmentedRaftLog:OPENED:c-1,f-1,i0, conf=-1: [s0:0.0.0.0:42611, s1:0.0.0.0:39575, s2:0.0.0.0:34382], old=null RUNNING
  s1:  RUNNING CANDIDATE s1@group-09A0EF6A68F4:t59, leader=null, voted=s1, raftlog=s1@group-09A0EF6A68F4-SegmentedRaftLog:OPENED:c-1,f-1,i0, conf=-1: [s0:0.0.0.0:42611, s1:0.0.0.0:39575, s2:0.0.0.0:34382], old=null RUNNING
  s2:  RUNNING CANDIDATE s2@group-09A0EF6A68F4:t59, leader=null, voted=s2, raftlog=s2@group-09A0EF6A68F4-SegmentedRaftLog:OPENED:c-1,f-1,i0, conf=-1: [s0:0.0.0.0:42611, s1:0.0.0.0:39575, s2:0.0.0.0:34382], old=null RUNNING, sleep 450ms and then retry.
java.lang.IllegalStateException: No leader yet : printing ALL groups
  s0:  RUNNING CANDIDATE s0@group-09A0EF6A68F4:t59, leader=null, voted=s0, raftlog=s0@group-09A0EF6A68F4-SegmentedRaftLog:OPENED:c-1,f-1,i0, conf=-1: [s0:0.0.0.0:42611, s1:0.0.0.0:39575, s2:0.0.0.0:34382], old=null RUNNING
  s1:  RUNNING CANDIDATE s1@group-09A0EF6A68F4:t59, leader=null, voted=s1, raftlog=s1@group-09A0EF6A68F4-SegmentedRaftLog:OPENED:c-1,f-1,i0, conf=-1: [s0:0.0.0.0:42611, s1:0.0.0.0:39575, s2:0.0.0.0:34382], old=null RUNNING
  s2:  RUNNING CANDIDATE s2@group-09A0EF6A68F4:t59, leader=null, voted=s2, raftlog=s2@group-09A0EF6A68F4-SegmentedRaftLog:OPENED:c-1,f-1,i0, conf=-1: [s0:0.0.0.0:42611, s1:0.0.0.0:39575, s2:0.0.0.0:34382], old=null RUNNING
	at org.apache.ratis.MiniRaftCluster.newIllegalStateExceptionForNoLeaders(MiniRaftCluster.java:506)
	at org.apache.ratis.RaftTestUtil.lambda$waitForLeader$1(RaftTestUtil.java:90)
	at org.apache.ratis.MiniRaftCluster.getLeader(MiniRaftCluster.java:539)
	at org.apache.ratis.MiniRaftCluster.getLeader(MiniRaftCluster.java:532)
	at org.apache.ratis.RaftTestUtil.lambda$waitForLeader$3(RaftTestUtil.java:98)
	at org.apache.ratis.util.JavaUtils.attempt(JavaUtils.java:152)
	at org.apache.ratis.RaftTestUtil.waitForLeader(RaftTestUtil.java:97)
	at org.apache.ratis.RaftTestUtil.waitForLeader(RaftTestUtil.java:77)
	at org.apache.ratis.RaftTestUtil.waitForLeader(RaftTestUtil.java:72)
	at org.apache.ratis.server.impl.RaftStateMachineExceptionTests.runTestRetryOnExceptionDuringReplication(RaftStateMachineExceptionTests.java:149)
	at org.apache.ratis.MiniRaftCluster$Factory$Get.runWithNewCluster(MiniRaftCluster.java:125)
	at org.apache.ratis.MiniRaftCluster$Factory$Get.runWithNewCluster(MiniRaftCluster.java:113)
	at org.apache.ratis.server.impl.RaftStateMachineExceptionTests.testRetryOnExceptionDuringReplication(RaftStateMachineExceptionTests.java:145)
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.lang.reflect.Method.invoke(Method.java:498)
	at org.junit.runners.model.FrameworkMethod$1.runReflectiveCall(FrameworkMethod.java:50)
	at org.junit.internal.runners.model.ReflectiveCallable.run(ReflectiveCallable.java:12)
	at org.junit.runners.model.FrameworkMethod.invokeExplosively(FrameworkMethod.java:47)
	at org.junit.internal.runners.statements.InvokeMethod.evaluate(InvokeMethod.java:17)
	at org.junit.internal.runners.statements.RunAfters.evaluate(RunAfters.java:27)
	at org.junit.internal.runners.statements.FailOnTimeout$CallableStatement.call(FailOnTimeout.java:298)
	at org.junit.internal.runners.statements.FailOnTimeout$CallableStatement.call(FailOnTimeout.java:292)
	at java.util.concurrent.FutureTask.run(FutureTask.java:266)
	at java.lang.Thread.run(Thread.java:748)
2019-09-24 16:57:44,905 WARN  ratis.RaftTestUtil (JavaUtils.java:attempt(158)) - FAILED "waitForLeader-null-(expectLeader? true)", attempt #78/100: java.lang.IllegalStateException: No leader yet : printing ALL groups
  s0:  RUNNING CANDIDATE s0@group-09A0EF6A68F4:t59, leader=null, voted=s0, raftlog=s0@group-09A0EF6A68F4-SegmentedRaftLog:OPENED:c-1,f-1,i0, conf=-1: [s0:0.0.0.0:42611, s1:0.0.0.0:39575, s2:0.0.0.0:34382], old=null RUNNING
  s1:  RUNNING CANDIDATE s1@group-09A0EF6A68F4:t59, leader=null, voted=s1, raftlog=s1@group-09A0EF6A68F4-SegmentedRaftLog:OPENED:c-1,f-1,i0, conf=-1: [s0:0.0.0.0:42611, s1:0.0.0.0:39575, s2:0.0.0.0:34382], old=null RUNNING
  s2:  RUNNING CANDIDATE s2@group-09A0EF6A68F4:t59, leader=null, voted=s2, raftlog=s2@group-09A0EF6A68F4-SegmentedRaftLog:OPENED:c-1,f-1,i0, conf=-1: [s0:0.0.0.0:42611, s1:0.0.0.0:39575, s2:0.0.0.0:34382], old=null RUNNING, sleep 450ms and then retry.
java.lang.IllegalStateException: No leader yet : printing ALL groups
  s0:  RUNNING CANDIDATE s0@group-09A0EF6A68F4:t59, leader=null, voted=s0, raftlog=s0@group-09A0EF6A68F4-SegmentedRaftLog:OPENED:c-1,f-1,i0, conf=-1: [s0:0.0.0.0:42611, s1:0.0.0.0:39575, s2:0.0.0.0:34382], old=null RUNNING
  s1:  RUNNING CANDIDATE s1@group-09A0EF6A68F4:t59, leader=null, voted=s1, raftlog=s1@group-09A0EF6A68F4-SegmentedRaftLog:OPENED:c-1,f-1,i0, conf=-1: [s0:0.0.0.0:42611, s1:0.0.0.0:39575, s2:0.0.0.0:34382], old=null RUNNING
  s2:  RUNNING CANDIDATE s2@group-09A0EF6A68F4:t59, leader=null, voted=s2, raftlog=s2@group-09A0EF6A68F4-SegmentedRaftLog:OPENED:c-1,f-1,i0, conf=-1: [s0:0.0.0.0:42611, s1:0.0.0.0:39575, s2:0.0.0.0:34382], old=null RUNNING
	at org.apache.ratis.MiniRaftCluster.newIllegalStateExceptionForNoLeaders(MiniRaftCluster.java:506)
	at org.apache.ratis.RaftTestUtil.lambda$waitForLeader$1(RaftTestUtil.java:90)
	at org.apache.ratis.MiniRaftCluster.getLeader(MiniRaftCluster.java:539)
	at org.apache.ratis.MiniRaftCluster.getLeader(MiniRaftCluster.java:532)
	at org.apache.ratis.RaftTestUtil.lambda$waitForLeader$3(RaftTestUtil.java:98)
	at org.apache.ratis.util.JavaUtils.attempt(JavaUtils.java:152)
	at org.apache.ratis.RaftTestUtil.waitForLeader(RaftTestUtil.java:97)
	at org.apache.ratis.RaftTestUtil.waitForLeader(RaftTestUtil.java:77)
	at org.apache.ratis.RaftTestUtil.waitForLeader(RaftTestUtil.java:72)
	at org.apache.ratis.server.impl.RaftStateMachineExceptionTests.runTestRetryOnExceptionDuringReplication(RaftStateMachineExceptionTests.java:149)
	at org.apache.ratis.MiniRaftCluster$Factory$Get.runWithNewCluster(MiniRaftCluster.java:125)
	at org.apache.ratis.MiniRaftCluster$Factory$Get.runWithNewCluster(MiniRaftCluster.java:113)
	at org.apache.ratis.server.impl.RaftStateMachineExceptionTests.testRetryOnExceptionDuringReplication(RaftStateMachineExceptionTests.java:145)
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.lang.reflect.Method.invoke(Method.java:498)
	at org.junit.runners.model.FrameworkMethod$1.runReflectiveCall(FrameworkMethod.java:50)
	at org.junit.internal.runners.model.ReflectiveCallable.run(ReflectiveCallable.java:12)
	at org.junit.runners.model.FrameworkMethod.invokeExplosively(FrameworkMethod.java:47)
	at org.junit.internal.runners.statements.InvokeMethod.evaluate(InvokeMethod.java:17)
	at org.junit.internal.runners.statements.RunAfters.evaluate(RunAfters.java:27)
	at org.junit.internal.runners.statements.FailOnTimeout$CallableStatement.call(FailOnTimeout.java:298)
	at org.junit.internal.runners.statements.FailOnTimeout$CallableStatement.call(FailOnTimeout.java:292)
	at java.util.concurrent.FutureTask.run(FutureTask.java:266)
	at java.lang.Thread.run(Thread.java:748)
2019-09-24 16:57:45,357 WARN  ratis.RaftTestUtil (JavaUtils.java:attempt(158)) - FAILED "waitForLeader-null-(expectLeader? true)", attempt #79/100: java.lang.IllegalStateException: No leader yet : printing ALL groups
  s0:  RUNNING CANDIDATE s0@group-09A0EF6A68F4:t59, leader=null, voted=s0, raftlog=s0@group-09A0EF6A68F4-SegmentedRaftLog:OPENED:c-1,f-1,i0, conf=-1: [s0:0.0.0.0:42611, s1:0.0.0.0:39575, s2:0.0.0.0:34382], old=null RUNNING
  s1:  RUNNING CANDIDATE s1@group-09A0EF6A68F4:t59, leader=null, voted=s1, raftlog=s1@group-09A0EF6A68F4-SegmentedRaftLog:OPENED:c-1,f-1,i0, conf=-1: [s0:0.0.0.0:42611, s1:0.0.0.0:39575, s2:0.0.0.0:34382], old=null RUNNING
  s2:  RUNNING CANDIDATE s2@group-09A0EF6A68F4:t59, leader=null, voted=s2, raftlog=s2@group-09A0EF6A68F4-SegmentedRaftLog:OPENED:c-1,f-1,i0, conf=-1: [s0:0.0.0.0:42611, s1:0.0.0.0:39575, s2:0.0.0.0:34382], old=null RUNNING, sleep 450ms and then retry.
java.lang.IllegalStateException: No leader yet : printing ALL groups
  s0:  RUNNING CANDIDATE s0@group-09A0EF6A68F4:t59, leader=null, voted=s0, raftlog=s0@group-09A0EF6A68F4-SegmentedRaftLog:OPENED:c-1,f-1,i0, conf=-1: [s0:0.0.0.0:42611, s1:0.0.0.0:39575, s2:0.0.0.0:34382], old=null RUNNING
  s1:  RUNNING CANDIDATE s1@group-09A0EF6A68F4:t59, leader=null, voted=s1, raftlog=s1@group-09A0EF6A68F4-SegmentedRaftLog:OPENED:c-1,f-1,i0, conf=-1: [s0:0.0.0.0:42611, s1:0.0.0.0:39575, s2:0.0.0.0:34382], old=null RUNNING
  s2:  RUNNING CANDIDATE s2@group-09A0EF6A68F4:t59, leader=null, voted=s2, raftlog=s2@group-09A0EF6A68F4-SegmentedRaftLog:OPENED:c-1,f-1,i0, conf=-1: [s0:0.0.0.0:42611, s1:0.0.0.0:39575, s2:0.0.0.0:34382], old=null RUNNING
	at org.apache.ratis.MiniRaftCluster.newIllegalStateExceptionForNoLeaders(MiniRaftCluster.java:506)
	at org.apache.ratis.RaftTestUtil.lambda$waitForLeader$1(RaftTestUtil.java:90)
	at org.apache.ratis.MiniRaftCluster.getLeader(MiniRaftCluster.java:539)
	at org.apache.ratis.MiniRaftCluster.getLeader(MiniRaftCluster.java:532)
	at org.apache.ratis.RaftTestUtil.lambda$waitForLeader$3(RaftTestUtil.java:98)
	at org.apache.ratis.util.JavaUtils.attempt(JavaUtils.java:152)
	at org.apache.ratis.RaftTestUtil.waitForLeader(RaftTestUtil.java:97)
	at org.apache.ratis.RaftTestUtil.waitForLeader(RaftTestUtil.java:77)
	at org.apache.ratis.RaftTestUtil.waitForLeader(RaftTestUtil.java:72)
	at org.apache.ratis.server.impl.RaftStateMachineExceptionTests.runTestRetryOnExceptionDuringReplication(RaftStateMachineExceptionTests.java:149)
	at org.apache.ratis.MiniRaftCluster$Factory$Get.runWithNewCluster(MiniRaftCluster.java:125)
	at org.apache.ratis.MiniRaftCluster$Factory$Get.runWithNewCluster(MiniRaftCluster.java:113)
	at org.apache.ratis.server.impl.RaftStateMachineExceptionTests.testRetryOnExceptionDuringReplication(RaftStateMachineExceptionTests.java:145)
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.lang.reflect.Method.invoke(Method.java:498)
	at org.junit.runners.model.FrameworkMethod$1.runReflectiveCall(FrameworkMethod.java:50)
	at org.junit.internal.runners.model.ReflectiveCallable.run(ReflectiveCallable.java:12)
	at org.junit.runners.model.FrameworkMethod.invokeExplosively(FrameworkMethod.java:47)
	at org.junit.internal.runners.statements.InvokeMethod.evaluate(InvokeMethod.java:17)
	at org.junit.internal.runners.statements.RunAfters.evaluate(RunAfters.java:27)
	at org.junit.internal.runners.statements.FailOnTimeout$CallableStatement.call(FailOnTimeout.java:298)
	at org.junit.internal.runners.statements.FailOnTimeout$CallableStatement.call(FailOnTimeout.java:292)
	at java.util.concurrent.FutureTask.run(FutureTask.java:266)
	at java.lang.Thread.run(Thread.java:748)
2019-09-24 16:57:45,808 WARN  ratis.RaftTestUtil (JavaUtils.java:attempt(158)) - FAILED "waitForLeader-null-(expectLeader? true)", attempt #80/100: java.lang.IllegalStateException: No leader yet : printing ALL groups
  s0:  RUNNING CANDIDATE s0@group-09A0EF6A68F4:t59, leader=null, voted=s0, raftlog=s0@group-09A0EF6A68F4-SegmentedRaftLog:OPENED:c-1,f-1,i0, conf=-1: [s0:0.0.0.0:42611, s1:0.0.0.0:39575, s2:0.0.0.0:34382], old=null RUNNING
  s1:  RUNNING CANDIDATE s1@group-09A0EF6A68F4:t59, leader=null, voted=s1, raftlog=s1@group-09A0EF6A68F4-SegmentedRaftLog:OPENED:c-1,f-1,i0, conf=-1: [s0:0.0.0.0:42611, s1:0.0.0.0:39575, s2:0.0.0.0:34382], old=null RUNNING
  s2:  RUNNING CANDIDATE s2@group-09A0EF6A68F4:t59, leader=null, voted=s2, raftlog=s2@group-09A0EF6A68F4-SegmentedRaftLog:OPENED:c-1,f-1,i0, conf=-1: [s0:0.0.0.0:42611, s1:0.0.0.0:39575, s2:0.0.0.0:34382], old=null RUNNING, sleep 450ms and then retry.
java.lang.IllegalStateException: No leader yet : printing ALL groups
  s0:  RUNNING CANDIDATE s0@group-09A0EF6A68F4:t59, leader=null, voted=s0, raftlog=s0@group-09A0EF6A68F4-SegmentedRaftLog:OPENED:c-1,f-1,i0, conf=-1: [s0:0.0.0.0:42611, s1:0.0.0.0:39575, s2:0.0.0.0:34382], old=null RUNNING
  s1:  RUNNING CANDIDATE s1@group-09A0EF6A68F4:t59, leader=null, voted=s1, raftlog=s1@group-09A0EF6A68F4-SegmentedRaftLog:OPENED:c-1,f-1,i0, conf=-1: [s0:0.0.0.0:42611, s1:0.0.0.0:39575, s2:0.0.0.0:34382], old=null RUNNING
  s2:  RUNNING CANDIDATE s2@group-09A0EF6A68F4:t59, leader=null, voted=s2, raftlog=s2@group-09A0EF6A68F4-SegmentedRaftLog:OPENED:c-1,f-1,i0, conf=-1: [s0:0.0.0.0:42611, s1:0.0.0.0:39575, s2:0.0.0.0:34382], old=null RUNNING
	at org.apache.ratis.MiniRaftCluster.newIllegalStateExceptionForNoLeaders(MiniRaftCluster.java:506)
	at org.apache.ratis.RaftTestUtil.lambda$waitForLeader$1(RaftTestUtil.java:90)
	at org.apache.ratis.MiniRaftCluster.getLeader(MiniRaftCluster.java:539)
	at org.apache.ratis.MiniRaftCluster.getLeader(MiniRaftCluster.java:532)
	at org.apache.ratis.RaftTestUtil.lambda$waitForLeader$3(RaftTestUtil.java:98)
	at org.apache.ratis.util.JavaUtils.attempt(JavaUtils.java:152)
	at org.apache.ratis.RaftTestUtil.waitForLeader(RaftTestUtil.java:97)
	at org.apache.ratis.RaftTestUtil.waitForLeader(RaftTestUtil.java:77)
	at org.apache.ratis.RaftTestUtil.waitForLeader(RaftTestUtil.java:72)
	at org.apache.ratis.server.impl.RaftStateMachineExceptionTests.runTestRetryOnExceptionDuringReplication(RaftStateMachineExceptionTests.java:149)
	at org.apache.ratis.MiniRaftCluster$Factory$Get.runWithNewCluster(MiniRaftCluster.java:125)
	at org.apache.ratis.MiniRaftCluster$Factory$Get.runWithNewCluster(MiniRaftCluster.java:113)
	at org.apache.ratis.server.impl.RaftStateMachineExceptionTests.testRetryOnExceptionDuringReplication(RaftStateMachineExceptionTests.java:145)
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.lang.reflect.Method.invoke(Method.java:498)
	at org.junit.runners.model.FrameworkMethod$1.runReflectiveCall(FrameworkMethod.java:50)
	at org.junit.internal.runners.model.ReflectiveCallable.run(ReflectiveCallable.java:12)
	at org.junit.runners.model.FrameworkMethod.invokeExplosively(FrameworkMethod.java:47)
	at org.junit.internal.runners.statements.InvokeMethod.evaluate(InvokeMethod.java:17)
	at org.junit.internal.runners.statements.RunAfters.evaluate(RunAfters.java:27)
	at org.junit.internal.runners.statements.FailOnTimeout$CallableStatement.call(FailOnTimeout.java:298)
	at org.junit.internal.runners.statements.FailOnTimeout$CallableStatement.call(FailOnTimeout.java:292)
	at java.util.concurrent.FutureTask.run(FutureTask.java:266)
	at java.lang.Thread.run(Thread.java:748)
2019-09-24 16:57:46,260 WARN  ratis.RaftTestUtil (JavaUtils.java:attempt(158)) - FAILED "waitForLeader-null-(expectLeader? true)", attempt #81/100: java.lang.IllegalStateException: No leader yet : printing ALL groups
  s0:  RUNNING CANDIDATE s0@group-09A0EF6A68F4:t59, leader=null, voted=s0, raftlog=s0@group-09A0EF6A68F4-SegmentedRaftLog:OPENED:c-1,f-1,i0, conf=-1: [s0:0.0.0.0:42611, s1:0.0.0.0:39575, s2:0.0.0.0:34382], old=null RUNNING
  s1:  RUNNING CANDIDATE s1@group-09A0EF6A68F4:t59, leader=null, voted=s1, raftlog=s1@group-09A0EF6A68F4-SegmentedRaftLog:OPENED:c-1,f-1,i0, conf=-1: [s0:0.0.0.0:42611, s1:0.0.0.0:39575, s2:0.0.0.0:34382], old=null RUNNING
  s2:  RUNNING CANDIDATE s2@group-09A0EF6A68F4:t59, leader=null, voted=s2, raftlog=s2@group-09A0EF6A68F4-SegmentedRaftLog:OPENED:c-1,f-1,i0, conf=-1: [s0:0.0.0.0:42611, s1:0.0.0.0:39575, s2:0.0.0.0:34382], old=null RUNNING, sleep 450ms and then retry.
java.lang.IllegalStateException: No leader yet : printing ALL groups
  s0:  RUNNING CANDIDATE s0@group-09A0EF6A68F4:t59, leader=null, voted=s0, raftlog=s0@group-09A0EF6A68F4-SegmentedRaftLog:OPENED:c-1,f-1,i0, conf=-1: [s0:0.0.0.0:42611, s1:0.0.0.0:39575, s2:0.0.0.0:34382], old=null RUNNING
  s1:  RUNNING CANDIDATE s1@group-09A0EF6A68F4:t59, leader=null, voted=s1, raftlog=s1@group-09A0EF6A68F4-SegmentedRaftLog:OPENED:c-1,f-1,i0, conf=-1: [s0:0.0.0.0:42611, s1:0.0.0.0:39575, s2:0.0.0.0:34382], old=null RUNNING
  s2:  RUNNING CANDIDATE s2@group-09A0EF6A68F4:t59, leader=null, voted=s2, raftlog=s2@group-09A0EF6A68F4-SegmentedRaftLog:OPENED:c-1,f-1,i0, conf=-1: [s0:0.0.0.0:42611, s1:0.0.0.0:39575, s2:0.0.0.0:34382], old=null RUNNING
	at org.apache.ratis.MiniRaftCluster.newIllegalStateExceptionForNoLeaders(MiniRaftCluster.java:506)
	at org.apache.ratis.RaftTestUtil.lambda$waitForLeader$1(RaftTestUtil.java:90)
	at org.apache.ratis.MiniRaftCluster.getLeader(MiniRaftCluster.java:539)
	at org.apache.ratis.MiniRaftCluster.getLeader(MiniRaftCluster.java:532)
	at org.apache.ratis.RaftTestUtil.lambda$waitForLeader$3(RaftTestUtil.java:98)
	at org.apache.ratis.util.JavaUtils.attempt(JavaUtils.java:152)
	at org.apache.ratis.RaftTestUtil.waitForLeader(RaftTestUtil.java:97)
	at org.apache.ratis.RaftTestUtil.waitForLeader(RaftTestUtil.java:77)
	at org.apache.ratis.RaftTestUtil.waitForLeader(RaftTestUtil.java:72)
	at org.apache.ratis.server.impl.RaftStateMachineExceptionTests.runTestRetryOnExceptionDuringReplication(RaftStateMachineExceptionTests.java:149)
	at org.apache.ratis.MiniRaftCluster$Factory$Get.runWithNewCluster(MiniRaftCluster.java:125)
	at org.apache.ratis.MiniRaftCluster$Factory$Get.runWithNewCluster(MiniRaftCluster.java:113)
	at org.apache.ratis.server.impl.RaftStateMachineExceptionTests.testRetryOnExceptionDuringReplication(RaftStateMachineExceptionTests.java:145)
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.lang.reflect.Method.invoke(Method.java:498)
	at org.junit.runners.model.FrameworkMethod$1.runReflectiveCall(FrameworkMethod.java:50)
	at org.junit.internal.runners.model.ReflectiveCallable.run(ReflectiveCallable.java:12)
	at org.junit.runners.model.FrameworkMethod.invokeExplosively(FrameworkMethod.java:47)
	at org.junit.internal.runners.statements.InvokeMethod.evaluate(InvokeMethod.java:17)
	at org.junit.internal.runners.statements.RunAfters.evaluate(RunAfters.java:27)
	at org.junit.internal.runners.statements.FailOnTimeout$CallableStatement.call(FailOnTimeout.java:298)
	at org.junit.internal.runners.statements.FailOnTimeout$CallableStatement.call(FailOnTimeout.java:292)
	at java.util.concurrent.FutureTask.run(FutureTask.java:266)
	at java.lang.Thread.run(Thread.java:748)
2019-09-24 16:57:46,711 WARN  ratis.RaftTestUtil (JavaUtils.java:attempt(158)) - FAILED "waitForLeader-null-(expectLeader? true)", attempt #82/100: java.lang.IllegalStateException: No leader yet : printing ALL groups
  s0:  RUNNING CANDIDATE s0@group-09A0EF6A68F4:t59, leader=null, voted=s0, raftlog=s0@group-09A0EF6A68F4-SegmentedRaftLog:OPENED:c-1,f-1,i0, conf=-1: [s0:0.0.0.0:42611, s1:0.0.0.0:39575, s2:0.0.0.0:34382], old=null RUNNING
  s1:  RUNNING CANDIDATE s1@group-09A0EF6A68F4:t59, leader=null, voted=s1, raftlog=s1@group-09A0EF6A68F4-SegmentedRaftLog:OPENED:c-1,f-1,i0, conf=-1: [s0:0.0.0.0:42611, s1:0.0.0.0:39575, s2:0.0.0.0:34382], old=null RUNNING
  s2:  RUNNING CANDIDATE s2@group-09A0EF6A68F4:t59, leader=null, voted=s2, raftlog=s2@group-09A0EF6A68F4-SegmentedRaftLog:OPENED:c-1,f-1,i0, conf=-1: [s0:0.0.0.0:42611, s1:0.0.0.0:39575, s2:0.0.0.0:34382], old=null RUNNING, sleep 450ms and then retry.
java.lang.IllegalStateException: No leader yet : printing ALL groups
  s0:  RUNNING CANDIDATE s0@group-09A0EF6A68F4:t59, leader=null, voted=s0, raftlog=s0@group-09A0EF6A68F4-SegmentedRaftLog:OPENED:c-1,f-1,i0, conf=-1: [s0:0.0.0.0:42611, s1:0.0.0.0:39575, s2:0.0.0.0:34382], old=null RUNNING
  s1:  RUNNING CANDIDATE s1@group-09A0EF6A68F4:t59, leader=null, voted=s1, raftlog=s1@group-09A0EF6A68F4-SegmentedRaftLog:OPENED:c-1,f-1,i0, conf=-1: [s0:0.0.0.0:42611, s1:0.0.0.0:39575, s2:0.0.0.0:34382], old=null RUNNING
  s2:  RUNNING CANDIDATE s2@group-09A0EF6A68F4:t59, leader=null, voted=s2, raftlog=s2@group-09A0EF6A68F4-SegmentedRaftLog:OPENED:c-1,f-1,i0, conf=-1: [s0:0.0.0.0:42611, s1:0.0.0.0:39575, s2:0.0.0.0:34382], old=null RUNNING
	at org.apache.ratis.MiniRaftCluster.newIllegalStateExceptionForNoLeaders(MiniRaftCluster.java:506)
	at org.apache.ratis.RaftTestUtil.lambda$waitForLeader$1(RaftTestUtil.java:90)
	at org.apache.ratis.MiniRaftCluster.getLeader(MiniRaftCluster.java:539)
	at org.apache.ratis.MiniRaftCluster.getLeader(MiniRaftCluster.java:532)
	at org.apache.ratis.RaftTestUtil.lambda$waitForLeader$3(RaftTestUtil.java:98)
	at org.apache.ratis.util.JavaUtils.attempt(JavaUtils.java:152)
	at org.apache.ratis.RaftTestUtil.waitForLeader(RaftTestUtil.java:97)
	at org.apache.ratis.RaftTestUtil.waitForLeader(RaftTestUtil.java:77)
	at org.apache.ratis.RaftTestUtil.waitForLeader(RaftTestUtil.java:72)
	at org.apache.ratis.server.impl.RaftStateMachineExceptionTests.runTestRetryOnExceptionDuringReplication(RaftStateMachineExceptionTests.java:149)
	at org.apache.ratis.MiniRaftCluster$Factory$Get.runWithNewCluster(MiniRaftCluster.java:125)
	at org.apache.ratis.MiniRaftCluster$Factory$Get.runWithNewCluster(MiniRaftCluster.java:113)
	at org.apache.ratis.server.impl.RaftStateMachineExceptionTests.testRetryOnExceptionDuringReplication(RaftStateMachineExceptionTests.java:145)
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.lang.reflect.Method.invoke(Method.java:498)
	at org.junit.runners.model.FrameworkMethod$1.runReflectiveCall(FrameworkMethod.java:50)
	at org.junit.internal.runners.model.ReflectiveCallable.run(ReflectiveCallable.java:12)
	at org.junit.runners.model.FrameworkMethod.invokeExplosively(FrameworkMethod.java:47)
	at org.junit.internal.runners.statements.InvokeMethod.evaluate(InvokeMethod.java:17)
	at org.junit.internal.runners.statements.RunAfters.evaluate(RunAfters.java:27)
	at org.junit.internal.runners.statements.FailOnTimeout$CallableStatement.call(FailOnTimeout.java:298)
	at org.junit.internal.runners.statements.FailOnTimeout$CallableStatement.call(FailOnTimeout.java:292)
	at java.util.concurrent.FutureTask.run(FutureTask.java:266)
	at java.lang.Thread.run(Thread.java:748)
2019-09-24 16:57:47,163 WARN  ratis.RaftTestUtil (JavaUtils.java:attempt(158)) - FAILED "waitForLeader-null-(expectLeader? true)", attempt #83/100: java.lang.IllegalStateException: No leader yet : printing ALL groups
  s0:  RUNNING CANDIDATE s0@group-09A0EF6A68F4:t59, leader=null, voted=s0, raftlog=s0@group-09A0EF6A68F4-SegmentedRaftLog:OPENED:c-1,f-1,i0, conf=-1: [s0:0.0.0.0:42611, s1:0.0.0.0:39575, s2:0.0.0.0:34382], old=null RUNNING
  s1:  RUNNING CANDIDATE s1@group-09A0EF6A68F4:t59, leader=null, voted=s1, raftlog=s1@group-09A0EF6A68F4-SegmentedRaftLog:OPENED:c-1,f-1,i0, conf=-1: [s0:0.0.0.0:42611, s1:0.0.0.0:39575, s2:0.0.0.0:34382], old=null RUNNING
  s2:  RUNNING CANDIDATE s2@group-09A0EF6A68F4:t59, leader=null, voted=s2, raftlog=s2@group-09A0EF6A68F4-SegmentedRaftLog:OPENED:c-1,f-1,i0, conf=-1: [s0:0.0.0.0:42611, s1:0.0.0.0:39575, s2:0.0.0.0:34382], old=null RUNNING, sleep 450ms and then retry.
java.lang.IllegalStateException: No leader yet : printing ALL groups
  s0:  RUNNING CANDIDATE s0@group-09A0EF6A68F4:t59, leader=null, voted=s0, raftlog=s0@group-09A0EF6A68F4-SegmentedRaftLog:OPENED:c-1,f-1,i0, conf=-1: [s0:0.0.0.0:42611, s1:0.0.0.0:39575, s2:0.0.0.0:34382], old=null RUNNING
  s1:  RUNNING CANDIDATE s1@group-09A0EF6A68F4:t59, leader=null, voted=s1, raftlog=s1@group-09A0EF6A68F4-SegmentedRaftLog:OPENED:c-1,f-1,i0, conf=-1: [s0:0.0.0.0:42611, s1:0.0.0.0:39575, s2:0.0.0.0:34382], old=null RUNNING
  s2:  RUNNING CANDIDATE s2@group-09A0EF6A68F4:t59, leader=null, voted=s2, raftlog=s2@group-09A0EF6A68F4-SegmentedRaftLog:OPENED:c-1,f-1,i0, conf=-1: [s0:0.0.0.0:42611, s1:0.0.0.0:39575, s2:0.0.0.0:34382], old=null RUNNING
	at org.apache.ratis.MiniRaftCluster.newIllegalStateExceptionForNoLeaders(MiniRaftCluster.java:506)
	at org.apache.ratis.RaftTestUtil.lambda$waitForLeader$1(RaftTestUtil.java:90)
	at org.apache.ratis.MiniRaftCluster.getLeader(MiniRaftCluster.java:539)
	at org.apache.ratis.MiniRaftCluster.getLeader(MiniRaftCluster.java:532)
	at org.apache.ratis.RaftTestUtil.lambda$waitForLeader$3(RaftTestUtil.java:98)
	at org.apache.ratis.util.JavaUtils.attempt(JavaUtils.java:152)
	at org.apache.ratis.RaftTestUtil.waitForLeader(RaftTestUtil.java:97)
	at org.apache.ratis.RaftTestUtil.waitForLeader(RaftTestUtil.java:77)
	at org.apache.ratis.RaftTestUtil.waitForLeader(RaftTestUtil.java:72)
	at org.apache.ratis.server.impl.RaftStateMachineExceptionTests.runTestRetryOnExceptionDuringReplication(RaftStateMachineExceptionTests.java:149)
	at org.apache.ratis.MiniRaftCluster$Factory$Get.runWithNewCluster(MiniRaftCluster.java:125)
	at org.apache.ratis.MiniRaftCluster$Factory$Get.runWithNewCluster(MiniRaftCluster.java:113)
	at org.apache.ratis.server.impl.RaftStateMachineExceptionTests.testRetryOnExceptionDuringReplication(RaftStateMachineExceptionTests.java:145)
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.lang.reflect.Method.invoke(Method.java:498)
	at org.junit.runners.model.FrameworkMethod$1.runReflectiveCall(FrameworkMethod.java:50)
	at org.junit.internal.runners.model.ReflectiveCallable.run(ReflectiveCallable.java:12)
	at org.junit.runners.model.FrameworkMethod.invokeExplosively(FrameworkMethod.java:47)
	at org.junit.internal.runners.statements.InvokeMethod.evaluate(InvokeMethod.java:17)
	at org.junit.internal.runners.statements.RunAfters.evaluate(RunAfters.java:27)
	at org.junit.internal.runners.statements.FailOnTimeout$CallableStatement.call(FailOnTimeout.java:298)
	at org.junit.internal.runners.statements.FailOnTimeout$CallableStatement.call(FailOnTimeout.java:292)
	at java.util.concurrent.FutureTask.run(FutureTask.java:266)
	at java.lang.Thread.run(Thread.java:748)
2019-09-24 16:57:47,614 WARN  ratis.RaftTestUtil (JavaUtils.java:attempt(158)) - FAILED "waitForLeader-null-(expectLeader? true)", attempt #84/100: java.lang.IllegalStateException: No leader yet : printing ALL groups
  s0:  RUNNING CANDIDATE s0@group-09A0EF6A68F4:t59, leader=null, voted=s0, raftlog=s0@group-09A0EF6A68F4-SegmentedRaftLog:OPENED:c-1,f-1,i0, conf=-1: [s0:0.0.0.0:42611, s1:0.0.0.0:39575, s2:0.0.0.0:34382], old=null RUNNING
  s1:  RUNNING CANDIDATE s1@group-09A0EF6A68F4:t59, leader=null, voted=s1, raftlog=s1@group-09A0EF6A68F4-SegmentedRaftLog:OPENED:c-1,f-1,i0, conf=-1: [s0:0.0.0.0:42611, s1:0.0.0.0:39575, s2:0.0.0.0:34382], old=null RUNNING
  s2:  RUNNING CANDIDATE s2@group-09A0EF6A68F4:t59, leader=null, voted=s2, raftlog=s2@group-09A0EF6A68F4-SegmentedRaftLog:OPENED:c-1,f-1,i0, conf=-1: [s0:0.0.0.0:42611, s1:0.0.0.0:39575, s2:0.0.0.0:34382], old=null RUNNING, sleep 450ms and then retry.
java.lang.IllegalStateException: No leader yet : printing ALL groups
  s0:  RUNNING CANDIDATE s0@group-09A0EF6A68F4:t59, leader=null, voted=s0, raftlog=s0@group-09A0EF6A68F4-SegmentedRaftLog:OPENED:c-1,f-1,i0, conf=-1: [s0:0.0.0.0:42611, s1:0.0.0.0:39575, s2:0.0.0.0:34382], old=null RUNNING
  s1:  RUNNING CANDIDATE s1@group-09A0EF6A68F4:t59, leader=null, voted=s1, raftlog=s1@group-09A0EF6A68F4-SegmentedRaftLog:OPENED:c-1,f-1,i0, conf=-1: [s0:0.0.0.0:42611, s1:0.0.0.0:39575, s2:0.0.0.0:34382], old=null RUNNING
  s2:  RUNNING CANDIDATE s2@group-09A0EF6A68F4:t59, leader=null, voted=s2, raftlog=s2@group-09A0EF6A68F4-SegmentedRaftLog:OPENED:c-1,f-1,i0, conf=-1: [s0:0.0.0.0:42611, s1:0.0.0.0:39575, s2:0.0.0.0:34382], old=null RUNNING
	at org.apache.ratis.MiniRaftCluster.newIllegalStateExceptionForNoLeaders(MiniRaftCluster.java:506)
	at org.apache.ratis.RaftTestUtil.lambda$waitForLeader$1(RaftTestUtil.java:90)
	at org.apache.ratis.MiniRaftCluster.getLeader(MiniRaftCluster.java:539)
	at org.apache.ratis.MiniRaftCluster.getLeader(MiniRaftCluster.java:532)
	at org.apache.ratis.RaftTestUtil.lambda$waitForLeader$3(RaftTestUtil.java:98)
	at org.apache.ratis.util.JavaUtils.attempt(JavaUtils.java:152)
	at org.apache.ratis.RaftTestUtil.waitForLeader(RaftTestUtil.java:97)
	at org.apache.ratis.RaftTestUtil.waitForLeader(RaftTestUtil.java:77)
	at org.apache.ratis.RaftTestUtil.waitForLeader(RaftTestUtil.java:72)
	at org.apache.ratis.server.impl.RaftStateMachineExceptionTests.runTestRetryOnExceptionDuringReplication(RaftStateMachineExceptionTests.java:149)
	at org.apache.ratis.MiniRaftCluster$Factory$Get.runWithNewCluster(MiniRaftCluster.java:125)
	at org.apache.ratis.MiniRaftCluster$Factory$Get.runWithNewCluster(MiniRaftCluster.java:113)
	at org.apache.ratis.server.impl.RaftStateMachineExceptionTests.testRetryOnExceptionDuringReplication(RaftStateMachineExceptionTests.java:145)
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.lang.reflect.Method.invoke(Method.java:498)
	at org.junit.runners.model.FrameworkMethod$1.runReflectiveCall(FrameworkMethod.java:50)
	at org.junit.internal.runners.model.ReflectiveCallable.run(ReflectiveCallable.java:12)
	at org.junit.runners.model.FrameworkMethod.invokeExplosively(FrameworkMethod.java:47)
	at org.junit.internal.runners.statements.InvokeMethod.evaluate(InvokeMethod.java:17)
	at org.junit.internal.runners.statements.RunAfters.evaluate(RunAfters.java:27)
	at org.junit.internal.runners.statements.FailOnTimeout$CallableStatement.call(FailOnTimeout.java:298)
	at org.junit.internal.runners.statements.FailOnTimeout$CallableStatement.call(FailOnTimeout.java:292)
	at java.util.concurrent.FutureTask.run(FutureTask.java:266)
	at java.lang.Thread.run(Thread.java:748)
2019-09-24 16:57:48,065 WARN  ratis.RaftTestUtil (JavaUtils.java:attempt(158)) - FAILED "waitForLeader-null-(expectLeader? true)", attempt #85/100: java.lang.IllegalStateException: No leader yet : printing ALL groups
  s0:  RUNNING CANDIDATE s0@group-09A0EF6A68F4:t59, leader=null, voted=s0, raftlog=s0@group-09A0EF6A68F4-SegmentedRaftLog:OPENED:c-1,f-1,i0, conf=-1: [s0:0.0.0.0:42611, s1:0.0.0.0:39575, s2:0.0.0.0:34382], old=null RUNNING
  s1:  RUNNING CANDIDATE s1@group-09A0EF6A68F4:t59, leader=null, voted=s1, raftlog=s1@group-09A0EF6A68F4-SegmentedRaftLog:OPENED:c-1,f-1,i0, conf=-1: [s0:0.0.0.0:42611, s1:0.0.0.0:39575, s2:0.0.0.0:34382], old=null RUNNING
  s2:  RUNNING CANDIDATE s2@group-09A0EF6A68F4:t59, leader=null, voted=s2, raftlog=s2@group-09A0EF6A68F4-SegmentedRaftLog:OPENED:c-1,f-1,i0, conf=-1: [s0:0.0.0.0:42611, s1:0.0.0.0:39575, s2:0.0.0.0:34382], old=null RUNNING, sleep 450ms and then retry.
java.lang.IllegalStateException: No leader yet : printing ALL groups
  s0:  RUNNING CANDIDATE s0@group-09A0EF6A68F4:t59, leader=null, voted=s0, raftlog=s0@group-09A0EF6A68F4-SegmentedRaftLog:OPENED:c-1,f-1,i0, conf=-1: [s0:0.0.0.0:42611, s1:0.0.0.0:39575, s2:0.0.0.0:34382], old=null RUNNING
  s1:  RUNNING CANDIDATE s1@group-09A0EF6A68F4:t59, leader=null, voted=s1, raftlog=s1@group-09A0EF6A68F4-SegmentedRaftLog:OPENED:c-1,f-1,i0, conf=-1: [s0:0.0.0.0:42611, s1:0.0.0.0:39575, s2:0.0.0.0:34382], old=null RUNNING
  s2:  RUNNING CANDIDATE s2@group-09A0EF6A68F4:t59, leader=null, voted=s2, raftlog=s2@group-09A0EF6A68F4-SegmentedRaftLog:OPENED:c-1,f-1,i0, conf=-1: [s0:0.0.0.0:42611, s1:0.0.0.0:39575, s2:0.0.0.0:34382], old=null RUNNING
	at org.apache.ratis.MiniRaftCluster.newIllegalStateExceptionForNoLeaders(MiniRaftCluster.java:506)
	at org.apache.ratis.RaftTestUtil.lambda$waitForLeader$1(RaftTestUtil.java:90)
	at org.apache.ratis.MiniRaftCluster.getLeader(MiniRaftCluster.java:539)
	at org.apache.ratis.MiniRaftCluster.getLeader(MiniRaftCluster.java:532)
	at org.apache.ratis.RaftTestUtil.lambda$waitForLeader$3(RaftTestUtil.java:98)
	at org.apache.ratis.util.JavaUtils.attempt(JavaUtils.java:152)
	at org.apache.ratis.RaftTestUtil.waitForLeader(RaftTestUtil.java:97)
	at org.apache.ratis.RaftTestUtil.waitForLeader(RaftTestUtil.java:77)
	at org.apache.ratis.RaftTestUtil.waitForLeader(RaftTestUtil.java:72)
	at org.apache.ratis.server.impl.RaftStateMachineExceptionTests.runTestRetryOnExceptionDuringReplication(RaftStateMachineExceptionTests.java:149)
	at org.apache.ratis.MiniRaftCluster$Factory$Get.runWithNewCluster(MiniRaftCluster.java:125)
	at org.apache.ratis.MiniRaftCluster$Factory$Get.runWithNewCluster(MiniRaftCluster.java:113)
	at org.apache.ratis.server.impl.RaftStateMachineExceptionTests.testRetryOnExceptionDuringReplication(RaftStateMachineExceptionTests.java:145)
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.lang.reflect.Method.invoke(Method.java:498)
	at org.junit.runners.model.FrameworkMethod$1.runReflectiveCall(FrameworkMethod.java:50)
	at org.junit.internal.runners.model.ReflectiveCallable.run(ReflectiveCallable.java:12)
	at org.junit.runners.model.FrameworkMethod.invokeExplosively(FrameworkMethod.java:47)
	at org.junit.internal.runners.statements.InvokeMethod.evaluate(InvokeMethod.java:17)
	at org.junit.internal.runners.statements.RunAfters.evaluate(RunAfters.java:27)
	at org.junit.internal.runners.statements.FailOnTimeout$CallableStatement.call(FailOnTimeout.java:298)
	at org.junit.internal.runners.statements.FailOnTimeout$CallableStatement.call(FailOnTimeout.java:292)
	at java.util.concurrent.FutureTask.run(FutureTask.java:266)
	at java.lang.Thread.run(Thread.java:748)
2019-09-24 16:57:48,517 WARN  ratis.RaftTestUtil (JavaUtils.java:attempt(158)) - FAILED "waitForLeader-null-(expectLeader? true)", attempt #86/100: java.lang.IllegalStateException: No leader yet : printing ALL groups
  s0:  RUNNING CANDIDATE s0@group-09A0EF6A68F4:t59, leader=null, voted=s0, raftlog=s0@group-09A0EF6A68F4-SegmentedRaftLog:OPENED:c-1,f-1,i0, conf=-1: [s0:0.0.0.0:42611, s1:0.0.0.0:39575, s2:0.0.0.0:34382], old=null RUNNING
  s1:  RUNNING CANDIDATE s1@group-09A0EF6A68F4:t59, leader=null, voted=s1, raftlog=s1@group-09A0EF6A68F4-SegmentedRaftLog:OPENED:c-1,f-1,i0, conf=-1: [s0:0.0.0.0:42611, s1:0.0.0.0:39575, s2:0.0.0.0:34382], old=null RUNNING
  s2:  RUNNING CANDIDATE s2@group-09A0EF6A68F4:t59, leader=null, voted=s2, raftlog=s2@group-09A0EF6A68F4-SegmentedRaftLog:OPENED:c-1,f-1,i0, conf=-1: [s0:0.0.0.0:42611, s1:0.0.0.0:39575, s2:0.0.0.0:34382], old=null RUNNING, sleep 450ms and then retry.
java.lang.IllegalStateException: No leader yet : printing ALL groups
  s0:  RUNNING CANDIDATE s0@group-09A0EF6A68F4:t59, leader=null, voted=s0, raftlog=s0@group-09A0EF6A68F4-SegmentedRaftLog:OPENED:c-1,f-1,i0, conf=-1: [s0:0.0.0.0:42611, s1:0.0.0.0:39575, s2:0.0.0.0:34382], old=null RUNNING
  s1:  RUNNING CANDIDATE s1@group-09A0EF6A68F4:t59, leader=null, voted=s1, raftlog=s1@group-09A0EF6A68F4-SegmentedRaftLog:OPENED:c-1,f-1,i0, conf=-1: [s0:0.0.0.0:42611, s1:0.0.0.0:39575, s2:0.0.0.0:34382], old=null RUNNING
  s2:  RUNNING CANDIDATE s2@group-09A0EF6A68F4:t59, leader=null, voted=s2, raftlog=s2@group-09A0EF6A68F4-SegmentedRaftLog:OPENED:c-1,f-1,i0, conf=-1: [s0:0.0.0.0:42611, s1:0.0.0.0:39575, s2:0.0.0.0:34382], old=null RUNNING
	at org.apache.ratis.MiniRaftCluster.newIllegalStateExceptionForNoLeaders(MiniRaftCluster.java:506)
	at org.apache.ratis.RaftTestUtil.lambda$waitForLeader$1(RaftTestUtil.java:90)
	at org.apache.ratis.MiniRaftCluster.getLeader(MiniRaftCluster.java:539)
	at org.apache.ratis.MiniRaftCluster.getLeader(MiniRaftCluster.java:532)
	at org.apache.ratis.RaftTestUtil.lambda$waitForLeader$3(RaftTestUtil.java:98)
	at org.apache.ratis.util.JavaUtils.attempt(JavaUtils.java:152)
	at org.apache.ratis.RaftTestUtil.waitForLeader(RaftTestUtil.java:97)
	at org.apache.ratis.RaftTestUtil.waitForLeader(RaftTestUtil.java:77)
	at org.apache.ratis.RaftTestUtil.waitForLeader(RaftTestUtil.java:72)
	at org.apache.ratis.server.impl.RaftStateMachineExceptionTests.runTestRetryOnExceptionDuringReplication(RaftStateMachineExceptionTests.java:149)
	at org.apache.ratis.MiniRaftCluster$Factory$Get.runWithNewCluster(MiniRaftCluster.java:125)
	at org.apache.ratis.MiniRaftCluster$Factory$Get.runWithNewCluster(MiniRaftCluster.java:113)
	at org.apache.ratis.server.impl.RaftStateMachineExceptionTests.testRetryOnExceptionDuringReplication(RaftStateMachineExceptionTests.java:145)
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.lang.reflect.Method.invoke(Method.java:498)
	at org.junit.runners.model.FrameworkMethod$1.runReflectiveCall(FrameworkMethod.java:50)
	at org.junit.internal.runners.model.ReflectiveCallable.run(ReflectiveCallable.java:12)
	at org.junit.runners.model.FrameworkMethod.invokeExplosively(FrameworkMethod.java:47)
	at org.junit.internal.runners.statements.InvokeMethod.evaluate(InvokeMethod.java:17)
	at org.junit.internal.runners.statements.RunAfters.evaluate(RunAfters.java:27)
	at org.junit.internal.runners.statements.FailOnTimeout$CallableStatement.call(FailOnTimeout.java:298)
	at org.junit.internal.runners.statements.FailOnTimeout$CallableStatement.call(FailOnTimeout.java:292)
	at java.util.concurrent.FutureTask.run(FutureTask.java:266)
	at java.lang.Thread.run(Thread.java:748)
2019-09-24 16:57:48,968 WARN  ratis.RaftTestUtil (JavaUtils.java:attempt(158)) - FAILED "waitForLeader-null-(expectLeader? true)", attempt #87/100: java.lang.IllegalStateException: No leader yet : printing ALL groups
  s0:  RUNNING CANDIDATE s0@group-09A0EF6A68F4:t59, leader=null, voted=s0, raftlog=s0@group-09A0EF6A68F4-SegmentedRaftLog:OPENED:c-1,f-1,i0, conf=-1: [s0:0.0.0.0:42611, s1:0.0.0.0:39575, s2:0.0.0.0:34382], old=null RUNNING
  s1:  RUNNING CANDIDATE s1@group-09A0EF6A68F4:t59, leader=null, voted=s1, raftlog=s1@group-09A0EF6A68F4-SegmentedRaftLog:OPENED:c-1,f-1,i0, conf=-1: [s0:0.0.0.0:42611, s1:0.0.0.0:39575, s2:0.0.0.0:34382], old=null RUNNING
  s2:  RUNNING CANDIDATE s2@group-09A0EF6A68F4:t59, leader=null, voted=s2, raftlog=s2@group-09A0EF6A68F4-SegmentedRaftLog:OPENED:c-1,f-1,i0, conf=-1: [s0:0.0.0.0:42611, s1:0.0.0.0:39575, s2:0.0.0.0:34382], old=null RUNNING, sleep 450ms and then retry.
java.lang.IllegalStateException: No leader yet : printing ALL groups
  s0:  RUNNING CANDIDATE s0@group-09A0EF6A68F4:t59, leader=null, voted=s0, raftlog=s0@group-09A0EF6A68F4-SegmentedRaftLog:OPENED:c-1,f-1,i0, conf=-1: [s0:0.0.0.0:42611, s1:0.0.0.0:39575, s2:0.0.0.0:34382], old=null RUNNING
  s1:  RUNNING CANDIDATE s1@group-09A0EF6A68F4:t59, leader=null, voted=s1, raftlog=s1@group-09A0EF6A68F4-SegmentedRaftLog:OPENED:c-1,f-1,i0, conf=-1: [s0:0.0.0.0:42611, s1:0.0.0.0:39575, s2:0.0.0.0:34382], old=null RUNNING
  s2:  RUNNING CANDIDATE s2@group-09A0EF6A68F4:t59, leader=null, voted=s2, raftlog=s2@group-09A0EF6A68F4-SegmentedRaftLog:OPENED:c-1,f-1,i0, conf=-1: [s0:0.0.0.0:42611, s1:0.0.0.0:39575, s2:0.0.0.0:34382], old=null RUNNING
	at org.apache.ratis.MiniRaftCluster.newIllegalStateExceptionForNoLeaders(MiniRaftCluster.java:506)
	at org.apache.ratis.RaftTestUtil.lambda$waitForLeader$1(RaftTestUtil.java:90)
	at org.apache.ratis.MiniRaftCluster.getLeader(MiniRaftCluster.java:539)
	at org.apache.ratis.MiniRaftCluster.getLeader(MiniRaftCluster.java:532)
	at org.apache.ratis.RaftTestUtil.lambda$waitForLeader$3(RaftTestUtil.java:98)
	at org.apache.ratis.util.JavaUtils.attempt(JavaUtils.java:152)
	at org.apache.ratis.RaftTestUtil.waitForLeader(RaftTestUtil.java:97)
	at org.apache.ratis.RaftTestUtil.waitForLeader(RaftTestUtil.java:77)
	at org.apache.ratis.RaftTestUtil.waitForLeader(RaftTestUtil.java:72)
	at org.apache.ratis.server.impl.RaftStateMachineExceptionTests.runTestRetryOnExceptionDuringReplication(RaftStateMachineExceptionTests.java:149)
	at org.apache.ratis.MiniRaftCluster$Factory$Get.runWithNewCluster(MiniRaftCluster.java:125)
	at org.apache.ratis.MiniRaftCluster$Factory$Get.runWithNewCluster(MiniRaftCluster.java:113)
	at org.apache.ratis.server.impl.RaftStateMachineExceptionTests.testRetryOnExceptionDuringReplication(RaftStateMachineExceptionTests.java:145)
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.lang.reflect.Method.invoke(Method.java:498)
	at org.junit.runners.model.FrameworkMethod$1.runReflectiveCall(FrameworkMethod.java:50)
	at org.junit.internal.runners.model.ReflectiveCallable.run(ReflectiveCallable.java:12)
	at org.junit.runners.model.FrameworkMethod.invokeExplosively(FrameworkMethod.java:47)
	at org.junit.internal.runners.statements.InvokeMethod.evaluate(InvokeMethod.java:17)
	at org.junit.internal.runners.statements.RunAfters.evaluate(RunAfters.java:27)
	at org.junit.internal.runners.statements.FailOnTimeout$CallableStatement.call(FailOnTimeout.java:298)
	at org.junit.internal.runners.statements.FailOnTimeout$CallableStatement.call(FailOnTimeout.java:292)
	at java.util.concurrent.FutureTask.run(FutureTask.java:266)
	at java.lang.Thread.run(Thread.java:748)
2019-09-24 16:57:49,419 WARN  ratis.RaftTestUtil (JavaUtils.java:attempt(158)) - FAILED "waitForLeader-null-(expectLeader? true)", attempt #88/100: java.lang.IllegalStateException: No leader yet : printing ALL groups
  s0:  RUNNING CANDIDATE s0@group-09A0EF6A68F4:t59, leader=null, voted=s0, raftlog=s0@group-09A0EF6A68F4-SegmentedRaftLog:OPENED:c-1,f-1,i0, conf=-1: [s0:0.0.0.0:42611, s1:0.0.0.0:39575, s2:0.0.0.0:34382], old=null RUNNING
  s1:  RUNNING CANDIDATE s1@group-09A0EF6A68F4:t59, leader=null, voted=s1, raftlog=s1@group-09A0EF6A68F4-SegmentedRaftLog:OPENED:c-1,f-1,i0, conf=-1: [s0:0.0.0.0:42611, s1:0.0.0.0:39575, s2:0.0.0.0:34382], old=null RUNNING
  s2:  RUNNING CANDIDATE s2@group-09A0EF6A68F4:t59, leader=null, voted=s2, raftlog=s2@group-09A0EF6A68F4-SegmentedRaftLog:OPENED:c-1,f-1,i0, conf=-1: [s0:0.0.0.0:42611, s1:0.0.0.0:39575, s2:0.0.0.0:34382], old=null RUNNING, sleep 450ms and then retry.
java.lang.IllegalStateException: No leader yet : printing ALL groups
  s0:  RUNNING CANDIDATE s0@group-09A0EF6A68F4:t59, leader=null, voted=s0, raftlog=s0@group-09A0EF6A68F4-SegmentedRaftLog:OPENED:c-1,f-1,i0, conf=-1: [s0:0.0.0.0:42611, s1:0.0.0.0:39575, s2:0.0.0.0:34382], old=null RUNNING
  s1:  RUNNING CANDIDATE s1@group-09A0EF6A68F4:t59, leader=null, voted=s1, raftlog=s1@group-09A0EF6A68F4-SegmentedRaftLog:OPENED:c-1,f-1,i0, conf=-1: [s0:0.0.0.0:42611, s1:0.0.0.0:39575, s2:0.0.0.0:34382], old=null RUNNING
  s2:  RUNNING CANDIDATE s2@group-09A0EF6A68F4:t59, leader=null, voted=s2, raftlog=s2@group-09A0EF6A68F4-SegmentedRaftLog:OPENED:c-1,f-1,i0, conf=-1: [s0:0.0.0.0:42611, s1:0.0.0.0:39575, s2:0.0.0.0:34382], old=null RUNNING
	at org.apache.ratis.MiniRaftCluster.newIllegalStateExceptionForNoLeaders(MiniRaftCluster.java:506)
	at org.apache.ratis.RaftTestUtil.lambda$waitForLeader$1(RaftTestUtil.java:90)
	at org.apache.ratis.MiniRaftCluster.getLeader(MiniRaftCluster.java:539)
	at org.apache.ratis.MiniRaftCluster.getLeader(MiniRaftCluster.java:532)
	at org.apache.ratis.RaftTestUtil.lambda$waitForLeader$3(RaftTestUtil.java:98)
	at org.apache.ratis.util.JavaUtils.attempt(JavaUtils.java:152)
	at org.apache.ratis.RaftTestUtil.waitForLeader(RaftTestUtil.java:97)
	at org.apache.ratis.RaftTestUtil.waitForLeader(RaftTestUtil.java:77)
	at org.apache.ratis.RaftTestUtil.waitForLeader(RaftTestUtil.java:72)
	at org.apache.ratis.server.impl.RaftStateMachineExceptionTests.runTestRetryOnExceptionDuringReplication(RaftStateMachineExceptionTests.java:149)
	at org.apache.ratis.MiniRaftCluster$Factory$Get.runWithNewCluster(MiniRaftCluster.java:125)
	at org.apache.ratis.MiniRaftCluster$Factory$Get.runWithNewCluster(MiniRaftCluster.java:113)
	at org.apache.ratis.server.impl.RaftStateMachineExceptionTests.testRetryOnExceptionDuringReplication(RaftStateMachineExceptionTests.java:145)
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.lang.reflect.Method.invoke(Method.java:498)
	at org.junit.runners.model.FrameworkMethod$1.runReflectiveCall(FrameworkMethod.java:50)
	at org.junit.internal.runners.model.ReflectiveCallable.run(ReflectiveCallable.java:12)
	at org.junit.runners.model.FrameworkMethod.invokeExplosively(FrameworkMethod.java:47)
	at org.junit.internal.runners.statements.InvokeMethod.evaluate(InvokeMethod.java:17)
	at org.junit.internal.runners.statements.RunAfters.evaluate(RunAfters.java:27)
	at org.junit.internal.runners.statements.FailOnTimeout$CallableStatement.call(FailOnTimeout.java:298)
	at org.junit.internal.runners.statements.FailOnTimeout$CallableStatement.call(FailOnTimeout.java:292)
	at java.util.concurrent.FutureTask.run(FutureTask.java:266)
	at java.lang.Thread.run(Thread.java:748)
2019-09-24 16:57:49,871 WARN  ratis.RaftTestUtil (JavaUtils.java:attempt(158)) - FAILED "waitForLeader-null-(expectLeader? true)", attempt #89/100: java.lang.IllegalStateException: No leader yet : printing ALL groups
  s0:  RUNNING CANDIDATE s0@group-09A0EF6A68F4:t59, leader=null, voted=s0, raftlog=s0@group-09A0EF6A68F4-SegmentedRaftLog:OPENED:c-1,f-1,i0, conf=-1: [s0:0.0.0.0:42611, s1:0.0.0.0:39575, s2:0.0.0.0:34382], old=null RUNNING
  s1:  RUNNING CANDIDATE s1@group-09A0EF6A68F4:t59, leader=null, voted=s1, raftlog=s1@group-09A0EF6A68F4-SegmentedRaftLog:OPENED:c-1,f-1,i0, conf=-1: [s0:0.0.0.0:42611, s1:0.0.0.0:39575, s2:0.0.0.0:34382], old=null RUNNING
  s2:  RUNNING CANDIDATE s2@group-09A0EF6A68F4:t59, leader=null, voted=s2, raftlog=s2@group-09A0EF6A68F4-SegmentedRaftLog:OPENED:c-1,f-1,i0, conf=-1: [s0:0.0.0.0:42611, s1:0.0.0.0:39575, s2:0.0.0.0:34382], old=null RUNNING, sleep 450ms and then retry.
java.lang.IllegalStateException: No leader yet : printing ALL groups
  s0:  RUNNING CANDIDATE s0@group-09A0EF6A68F4:t59, leader=null, voted=s0, raftlog=s0@group-09A0EF6A68F4-SegmentedRaftLog:OPENED:c-1,f-1,i0, conf=-1: [s0:0.0.0.0:42611, s1:0.0.0.0:39575, s2:0.0.0.0:34382], old=null RUNNING
  s1:  RUNNING CANDIDATE s1@group-09A0EF6A68F4:t59, leader=null, voted=s1, raftlog=s1@group-09A0EF6A68F4-SegmentedRaftLog:OPENED:c-1,f-1,i0, conf=-1: [s0:0.0.0.0:42611, s1:0.0.0.0:39575, s2:0.0.0.0:34382], old=null RUNNING
  s2:  RUNNING CANDIDATE s2@group-09A0EF6A68F4:t59, leader=null, voted=s2, raftlog=s2@group-09A0EF6A68F4-SegmentedRaftLog:OPENED:c-1,f-1,i0, conf=-1: [s0:0.0.0.0:42611, s1:0.0.0.0:39575, s2:0.0.0.0:34382], old=null RUNNING
	at org.apache.ratis.MiniRaftCluster.newIllegalStateExceptionForNoLeaders(MiniRaftCluster.java:506)
	at org.apache.ratis.RaftTestUtil.lambda$waitForLeader$1(RaftTestUtil.java:90)
	at org.apache.ratis.MiniRaftCluster.getLeader(MiniRaftCluster.java:539)
	at org.apache.ratis.MiniRaftCluster.getLeader(MiniRaftCluster.java:532)
	at org.apache.ratis.RaftTestUtil.lambda$waitForLeader$3(RaftTestUtil.java:98)
	at org.apache.ratis.util.JavaUtils.attempt(JavaUtils.java:152)
	at org.apache.ratis.RaftTestUtil.waitForLeader(RaftTestUtil.java:97)
	at org.apache.ratis.RaftTestUtil.waitForLeader(RaftTestUtil.java:77)
	at org.apache.ratis.RaftTestUtil.waitForLeader(RaftTestUtil.java:72)
	at org.apache.ratis.server.impl.RaftStateMachineExceptionTests.runTestRetryOnExceptionDuringReplication(RaftStateMachineExceptionTests.java:149)
	at org.apache.ratis.MiniRaftCluster$Factory$Get.runWithNewCluster(MiniRaftCluster.java:125)
	at org.apache.ratis.MiniRaftCluster$Factory$Get.runWithNewCluster(MiniRaftCluster.java:113)
	at org.apache.ratis.server.impl.RaftStateMachineExceptionTests.testRetryOnExceptionDuringReplication(RaftStateMachineExceptionTests.java:145)
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.lang.reflect.Method.invoke(Method.java:498)
	at org.junit.runners.model.FrameworkMethod$1.runReflectiveCall(FrameworkMethod.java:50)
	at org.junit.internal.runners.model.ReflectiveCallable.run(ReflectiveCallable.java:12)
	at org.junit.runners.model.FrameworkMethod.invokeExplosively(FrameworkMethod.java:47)
	at org.junit.internal.runners.statements.InvokeMethod.evaluate(InvokeMethod.java:17)
	at org.junit.internal.runners.statements.RunAfters.evaluate(RunAfters.java:27)
	at org.junit.internal.runners.statements.FailOnTimeout$CallableStatement.call(FailOnTimeout.java:298)
	at org.junit.internal.runners.statements.FailOnTimeout$CallableStatement.call(FailOnTimeout.java:292)
	at java.util.concurrent.FutureTask.run(FutureTask.java:266)
	at java.lang.Thread.run(Thread.java:748)
2019-09-24 16:57:49,951 INFO  impl.LeaderElection (LeaderElection.java:askForVotes(178)) - s2@group-09A0EF6A68F4-LeaderElection146: begin an election at term 59 for -1: [s0:0.0.0.0:42611, s1:0.0.0.0:39575, s2:0.0.0.0:34382], old=null
2019-09-24 16:57:49,951 INFO  impl.LeaderElection (LeaderElection.java:askForVotes(178)) - s1@group-09A0EF6A68F4-LeaderElection147: begin an election at term 59 for -1: [s0:0.0.0.0:42611, s1:0.0.0.0:39575, s2:0.0.0.0:34382], old=null
2019-09-24 16:57:49,951 INFO  impl.LeaderElection (LeaderElection.java:askForVotes(178)) - s0@group-09A0EF6A68F4-LeaderElection145: begin an election at term 59 for -1: [s0:0.0.0.0:42611, s1:0.0.0.0:39575, s2:0.0.0.0:34382], old=null
2019-09-24 16:57:49,953 DEBUG impl.RaftServerImpl (RaftServerImpl.java:requestVote(743)) - s0@group-09A0EF6A68F4: receive requestVote(s2, group-09A0EF6A68F4, 59, (t:0, i:0))
2019-09-24 16:57:49,953 DEBUG impl.RaftServerImpl (RaftServerImpl.java:requestVote(743)) - s1@group-09A0EF6A68F4: receive requestVote(s0, group-09A0EF6A68F4, 59, (t:0, i:0))
2019-09-24 16:57:49,953 DEBUG impl.RaftServerImpl (RaftServerImpl.java:requestVote(775)) - s0@group-09A0EF6A68F4 replies to vote request: s2<-s0#0:FAIL-t59. Peer's state: s0@group-09A0EF6A68F4:t59, leader=null, voted=s0, raftlog=s0@group-09A0EF6A68F4-SegmentedRaftLog:OPENED:c-1,f-1,i0, conf=-1: [s0:0.0.0.0:42611, s1:0.0.0.0:39575, s2:0.0.0.0:34382], old=null
2019-09-24 16:57:49,953 DEBUG impl.RaftServerImpl (RaftServerImpl.java:requestVote(775)) - s1@group-09A0EF6A68F4 replies to vote request: s0<-s1#0:FAIL-t59. Peer's state: s1@group-09A0EF6A68F4:t59, leader=null, voted=s1, raftlog=s1@group-09A0EF6A68F4-SegmentedRaftLog:OPENED:c-1,f-1,i0, conf=-1: [s0:0.0.0.0:42611, s1:0.0.0.0:39575, s2:0.0.0.0:34382], old=null
2019-09-24 16:57:49,953 DEBUG impl.RaftServerImpl (RaftServerImpl.java:requestVote(743)) - s2@group-09A0EF6A68F4: receive requestVote(s1, group-09A0EF6A68F4, 59, (t:0, i:0))
2019-09-24 16:57:49,953 DEBUG impl.RaftServerImpl (RaftServerImpl.java:requestVote(743)) - s0@group-09A0EF6A68F4: receive requestVote(s1, group-09A0EF6A68F4, 59, (t:0, i:0))
2019-09-24 16:57:49,954 DEBUG impl.RaftServerImpl (RaftServerImpl.java:requestVote(775)) - s2@group-09A0EF6A68F4 replies to vote request: s1<-s2#0:FAIL-t59. Peer's state: s2@group-09A0EF6A68F4:t59, leader=null, voted=s2, raftlog=s2@group-09A0EF6A68F4-SegmentedRaftLog:OPENED:c-1,f-1,i0, conf=-1: [s0:0.0.0.0:42611, s1:0.0.0.0:39575, s2:0.0.0.0:34382], old=null
2019-09-24 16:57:49,953 DEBUG impl.RaftServerImpl (RaftServerImpl.java:requestVote(743)) - s1@group-09A0EF6A68F4: receive requestVote(s2, group-09A0EF6A68F4, 59, (t:0, i:0))
2019-09-24 16:57:49,953 DEBUG impl.RaftServerImpl (RaftServerImpl.java:requestVote(743)) - s2@group-09A0EF6A68F4: receive requestVote(s0, group-09A0EF6A68F4, 59, (t:0, i:0))
2019-09-24 16:57:49,954 DEBUG impl.RaftServerImpl (RaftServerImpl.java:requestVote(775)) - s1@group-09A0EF6A68F4 replies to vote request: s2<-s1#0:FAIL-t59. Peer's state: s1@group-09A0EF6A68F4:t59, leader=null, voted=s1, raftlog=s1@group-09A0EF6A68F4-SegmentedRaftLog:OPENED:c-1,f-1,i0, conf=-1: [s0:0.0.0.0:42611, s1:0.0.0.0:39575, s2:0.0.0.0:34382], old=null
2019-09-24 16:57:49,954 DEBUG impl.RaftServerImpl (RaftServerImpl.java:requestVote(775)) - s0@group-09A0EF6A68F4 replies to vote request: s1<-s0#0:FAIL-t59. Peer's state: s0@group-09A0EF6A68F4:t59, leader=null, voted=s0, raftlog=s0@group-09A0EF6A68F4-SegmentedRaftLog:OPENED:c-1,f-1,i0, conf=-1: [s0:0.0.0.0:42611, s1:0.0.0.0:39575, s2:0.0.0.0:34382], old=null
2019-09-24 16:57:49,954 DEBUG impl.RaftServerImpl (RaftServerImpl.java:requestVote(775)) - s2@group-09A0EF6A68F4 replies to vote request: s0<-s2#0:FAIL-t59. Peer's state: s2@group-09A0EF6A68F4:t59, leader=null, voted=s2, raftlog=s2@group-09A0EF6A68F4-SegmentedRaftLog:OPENED:c-1,f-1,i0, conf=-1: [s0:0.0.0.0:42611, s1:0.0.0.0:39575, s2:0.0.0.0:34382], old=null
2019-09-24 16:57:49,955 INFO  impl.LeaderElection (LeaderElection.java:logAndReturn(56)) - s1@group-09A0EF6A68F4-LeaderElection147: Election REJECTED; received 2 response(s) [s1<-s0#0:FAIL-t59, s1<-s2#0:FAIL-t59] and 0 exception(s); s1@group-09A0EF6A68F4:t59, leader=null, voted=s1, raftlog=s1@group-09A0EF6A68F4-SegmentedRaftLog:OPENED:c-1,f-1,i0, conf=-1: [s0:0.0.0.0:42611, s1:0.0.0.0:39575, s2:0.0.0.0:34382], old=null
2019-09-24 16:57:49,955 INFO  impl.LeaderElection (LeaderElection.java:logAndReturn(56)) - s2@group-09A0EF6A68F4-LeaderElection146: Election REJECTED; received 2 response(s) [s2<-s0#0:FAIL-t59, s2<-s1#0:FAIL-t59] and 0 exception(s); s2@group-09A0EF6A68F4:t59, leader=null, voted=s2, raftlog=s2@group-09A0EF6A68F4-SegmentedRaftLog:OPENED:c-1,f-1,i0, conf=-1: [s0:0.0.0.0:42611, s1:0.0.0.0:39575, s2:0.0.0.0:34382], old=null
2019-09-24 16:57:49,955 INFO  impl.LeaderElection (LeaderElection.java:logAndReturn(56)) - s0@group-09A0EF6A68F4-LeaderElection145: Election REJECTED; received 2 response(s) [s0<-s1#0:FAIL-t59, s0<-s2#0:FAIL-t59] and 0 exception(s); s0@group-09A0EF6A68F4:t59, leader=null, voted=s0, raftlog=s0@group-09A0EF6A68F4-SegmentedRaftLog:OPENED:c-1,f-1,i0, conf=-1: [s0:0.0.0.0:42611, s1:0.0.0.0:39575, s2:0.0.0.0:34382], old=null
2019-09-24 16:57:49,955 INFO  impl.RaftServerImpl (RaftServerImpl.java:setRole(170)) - s1@group-09A0EF6A68F4: changes role from CANDIDATE to FOLLOWER at term 59 for DISCOVERED_A_NEW_TERM
2019-09-24 16:57:49,956 INFO  impl.RaftServerImpl (RaftServerImpl.java:setRole(170)) - s0@group-09A0EF6A68F4: changes role from CANDIDATE to FOLLOWER at term 59 for DISCOVERED_A_NEW_TERM
2019-09-24 16:57:49,956 INFO  impl.RoleInfo (RoleInfo.java:shutdownLeaderElection(134)) - s0: shutdown LeaderElection
2019-09-24 16:57:49,955 INFO  impl.RaftServerImpl (RaftServerImpl.java:setRole(170)) - s2@group-09A0EF6A68F4: changes role from CANDIDATE to FOLLOWER at term 59 for DISCOVERED_A_NEW_TERM
2019-09-24 16:57:49,956 INFO  impl.RoleInfo (RoleInfo.java:updateAndGet(143)) - s0: start FollowerState
2019-09-24 16:57:49,956 INFO  impl.RoleInfo (RoleInfo.java:shutdownLeaderElection(134)) - s1: shutdown LeaderElection
2019-09-24 16:57:49,956 INFO  impl.RoleInfo (RoleInfo.java:shutdownLeaderElection(134)) - s2: shutdown LeaderElection
2019-09-24 16:57:49,957 INFO  impl.RoleInfo (RoleInfo.java:updateAndGet(143)) - s1: start FollowerState
2019-09-24 16:57:49,957 INFO  impl.RoleInfo (RoleInfo.java:updateAndGet(143)) - s2: start FollowerState
2019-09-24 16:57:50,126 INFO  ratis.MiniRaftCluster (MiniRaftCluster.java:lambda$null$5(297)) - TIMED-PRINT: printing ALL groups
  s0:  RUNNING  FOLLOWER s0@group-09A0EF6A68F4:t59, leader=null, voted=s0, raftlog=s0@group-09A0EF6A68F4-SegmentedRaftLog:OPENED:c-1,f-1,i0, conf=-1: [s0:0.0.0.0:42611, s1:0.0.0.0:39575, s2:0.0.0.0:34382], old=null RUNNING
  s1:  RUNNING  FOLLOWER s1@group-09A0EF6A68F4:t59, leader=null, voted=s1, raftlog=s1@group-09A0EF6A68F4-SegmentedRaftLog:OPENED:c-1,f-1,i0, conf=-1: [s0:0.0.0.0:42611, s1:0.0.0.0:39575, s2:0.0.0.0:34382], old=null RUNNING
  s2:  RUNNING  FOLLOWER s2@group-09A0EF6A68F4:t59, leader=null, voted=s2, raftlog=s2@group-09A0EF6A68F4-SegmentedRaftLog:OPENED:c-1,f-1,i0, conf=-1: [s0:0.0.0.0:42611, s1:0.0.0.0:39575, s2:0.0.0.0:34382], old=null RUNNING
2019-09-24 16:57:50,173 INFO  impl.FollowerState (FollowerState.java:run(108)) - s0@group-09A0EF6A68F4-FollowerState: change to CANDIDATE, lastRpcTime:216ms, electionTimeout:216ms
2019-09-24 16:57:50,173 INFO  impl.RoleInfo (RoleInfo.java:shutdownFollowerState(121)) - s0: shutdown FollowerState
2019-09-24 16:57:50,173 INFO  impl.RaftServerImpl (RaftServerImpl.java:setRole(170)) - s0@group-09A0EF6A68F4: changes role from  FOLLOWER to CANDIDATE at term 59 for changeToCandidate
2019-09-24 16:57:50,174 INFO  impl.RoleInfo (RoleInfo.java:updateAndGet(143)) - s0: start LeaderElection
2019-09-24 16:57:50,188 INFO  impl.LeaderElection (LeaderElection.java:askForVotes(178)) - s0@group-09A0EF6A68F4-LeaderElection148: begin an election at term 60 for -1: [s0:0.0.0.0:42611, s1:0.0.0.0:39575, s2:0.0.0.0:34382], old=null
2019-09-24 16:57:50,188 INFO  impl.FollowerState (FollowerState.java:run(108)) - s2@group-09A0EF6A68F4-FollowerState: change to CANDIDATE, lastRpcTime:230ms, electionTimeout:230ms
2019-09-24 16:57:50,188 INFO  impl.RoleInfo (RoleInfo.java:shutdownFollowerState(121)) - s2: shutdown FollowerState
2019-09-24 16:57:50,188 INFO  impl.RaftServerImpl (RaftServerImpl.java:setRole(170)) - s2@group-09A0EF6A68F4: changes role from  FOLLOWER to CANDIDATE at term 59 for changeToCandidate
2019-09-24 16:57:50,188 INFO  impl.RoleInfo (RoleInfo.java:updateAndGet(143)) - s2: start LeaderElection
2019-09-24 16:57:50,188 DEBUG impl.RaftServerImpl (RaftServerImpl.java:requestVote(743)) - s1@group-09A0EF6A68F4: receive requestVote(s0, group-09A0EF6A68F4, 60, (t:0, i:0))
2019-09-24 16:57:50,189 DEBUG impl.RaftServerImpl (RaftServerImpl.java:requestVote(743)) - s2@group-09A0EF6A68F4: receive requestVote(s0, group-09A0EF6A68F4, 60, (t:0, i:0))
2019-09-24 16:57:50,189 INFO  impl.RaftServerImpl (RaftServerImpl.java:setRole(170)) - s1@group-09A0EF6A68F4: changes role from  FOLLOWER to FOLLOWER at term 60 for recognizeCandidate:s0
2019-09-24 16:57:50,189 INFO  impl.RaftServerImpl (RaftServerImpl.java:setRole(170)) - s2@group-09A0EF6A68F4: changes role from CANDIDATE to FOLLOWER at term 60 for recognizeCandidate:s0
2019-09-24 16:57:50,189 INFO  impl.RoleInfo (RoleInfo.java:shutdownFollowerState(121)) - s1: shutdown FollowerState
2019-09-24 16:57:50,189 INFO  impl.RoleInfo (RoleInfo.java:shutdownLeaderElection(134)) - s2: shutdown LeaderElection
2019-09-24 16:57:50,189 INFO  impl.RoleInfo (RoleInfo.java:updateAndGet(143)) - s1: start FollowerState
2019-09-24 16:57:50,190 INFO  impl.FollowerState (FollowerState.java:run(117)) - s1@group-09A0EF6A68F4-FollowerState was interrupted: java.lang.InterruptedException: sleep interrupted
2019-09-24 16:57:50,190 INFO  impl.RoleInfo (RoleInfo.java:updateAndGet(143)) - s2: start FollowerState
2019-09-24 16:57:50,322 WARN  ratis.RaftTestUtil (JavaUtils.java:attempt(158)) - FAILED "waitForLeader-null-(expectLeader? true)", attempt #90/100: java.lang.IllegalStateException: No leader yet : printing ALL groups
  s0:  RUNNING CANDIDATE s0@group-09A0EF6A68F4:t60, leader=null, voted=s0, raftlog=s0@group-09A0EF6A68F4-SegmentedRaftLog:OPENED:c-1,f-1,i0, conf=-1: [s0:0.0.0.0:42611, s1:0.0.0.0:39575, s2:0.0.0.0:34382], old=null RUNNING
  s1:  RUNNING  FOLLOWER s1@group-09A0EF6A68F4:t60, leader=null, voted=s0, raftlog=s1@group-09A0EF6A68F4-SegmentedRaftLog:OPENED:c-1,f-1,i0, conf=-1: [s0:0.0.0.0:42611, s1:0.0.0.0:39575, s2:0.0.0.0:34382], old=null RUNNING
  s2:  RUNNING  FOLLOWER s2@group-09A0EF6A68F4:t60, leader=null, voted=null, raftlog=s2@group-09A0EF6A68F4-SegmentedRaftLog:OPENED:c-1,f-1,i0, conf=-1: [s0:0.0.0.0:42611, s1:0.0.0.0:39575, s2:0.0.0.0:34382], old=null RUNNING, sleep 450ms and then retry.
java.lang.IllegalStateException: No leader yet : printing ALL groups
  s0:  RUNNING CANDIDATE s0@group-09A0EF6A68F4:t60, leader=null, voted=s0, raftlog=s0@group-09A0EF6A68F4-SegmentedRaftLog:OPENED:c-1,f-1,i0, conf=-1: [s0:0.0.0.0:42611, s1:0.0.0.0:39575, s2:0.0.0.0:34382], old=null RUNNING
  s1:  RUNNING  FOLLOWER s1@group-09A0EF6A68F4:t60, leader=null, voted=s0, raftlog=s1@group-09A0EF6A68F4-SegmentedRaftLog:OPENED:c-1,f-1,i0, conf=-1: [s0:0.0.0.0:42611, s1:0.0.0.0:39575, s2:0.0.0.0:34382], old=null RUNNING
  s2:  RUNNING  FOLLOWER s2@group-09A0EF6A68F4:t60, leader=null, voted=null, raftlog=s2@group-09A0EF6A68F4-SegmentedRaftLog:OPENED:c-1,f-1,i0, conf=-1: [s0:0.0.0.0:42611, s1:0.0.0.0:39575, s2:0.0.0.0:34382], old=null RUNNING
	at org.apache.ratis.MiniRaftCluster.newIllegalStateExceptionForNoLeaders(MiniRaftCluster.java:506)
	at org.apache.ratis.RaftTestUtil.lambda$waitForLeader$1(RaftTestUtil.java:90)
	at org.apache.ratis.MiniRaftCluster.getLeader(MiniRaftCluster.java:539)
	at org.apache.ratis.MiniRaftCluster.getLeader(MiniRaftCluster.java:532)
	at org.apache.ratis.RaftTestUtil.lambda$waitForLeader$3(RaftTestUtil.java:98)
	at org.apache.ratis.util.JavaUtils.attempt(JavaUtils.java:152)
	at org.apache.ratis.RaftTestUtil.waitForLeader(RaftTestUtil.java:97)
	at org.apache.ratis.RaftTestUtil.waitForLeader(RaftTestUtil.java:77)
	at org.apache.ratis.RaftTestUtil.waitForLeader(RaftTestUtil.java:72)
	at org.apache.ratis.server.impl.RaftStateMachineExceptionTests.runTestRetryOnExceptionDuringReplication(RaftStateMachineExceptionTests.java:149)
	at org.apache.ratis.MiniRaftCluster$Factory$Get.runWithNewCluster(MiniRaftCluster.java:125)
	at org.apache.ratis.MiniRaftCluster$Factory$Get.runWithNewCluster(MiniRaftCluster.java:113)
	at org.apache.ratis.server.impl.RaftStateMachineExceptionTests.testRetryOnExceptionDuringReplication(RaftStateMachineExceptionTests.java:145)
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.lang.reflect.Method.invoke(Method.java:498)
	at org.junit.runners.model.FrameworkMethod$1.runReflectiveCall(FrameworkMethod.java:50)
	at org.junit.internal.runners.model.ReflectiveCallable.run(ReflectiveCallable.java:12)
	at org.junit.runners.model.FrameworkMethod.invokeExplosively(FrameworkMethod.java:47)
	at org.junit.internal.runners.statements.InvokeMethod.evaluate(InvokeMethod.java:17)
	at org.junit.internal.runners.statements.RunAfters.evaluate(RunAfters.java:27)
	at org.junit.internal.runners.statements.FailOnTimeout$CallableStatement.call(FailOnTimeout.java:298)
	at org.junit.internal.runners.statements.FailOnTimeout$CallableStatement.call(FailOnTimeout.java:292)
	at java.util.concurrent.FutureTask.run(FutureTask.java:266)
	at java.lang.Thread.run(Thread.java:748)
2019-09-24 16:57:50,480 INFO  impl.LeaderElection (LeaderElection.java:logAndReturn(56)) - s0@group-09A0EF6A68F4-LeaderElection148: Election TIMEOUT; received 0 response(s) [] and 0 exception(s); s0@group-09A0EF6A68F4:t60, leader=null, voted=s0, raftlog=s0@group-09A0EF6A68F4-SegmentedRaftLog:OPENED:c-1,f-1,i0, conf=-1: [s0:0.0.0.0:42611, s1:0.0.0.0:39575, s2:0.0.0.0:34382], old=null
2019-09-24 16:57:50,774 WARN  ratis.RaftTestUtil (JavaUtils.java:attempt(158)) - FAILED "waitForLeader-null-(expectLeader? true)", attempt #91/100: java.lang.IllegalStateException: No leader yet : printing ALL groups
  s0:  RUNNING CANDIDATE s0@group-09A0EF6A68F4:t61, leader=null, voted=s0, raftlog=s0@group-09A0EF6A68F4-SegmentedRaftLog:OPENED:c-1,f-1,i0, conf=-1: [s0:0.0.0.0:42611, s1:0.0.0.0:39575, s2:0.0.0.0:34382], old=null RUNNING
  s1:  RUNNING  FOLLOWER s1@group-09A0EF6A68F4:t60, leader=null, voted=s0, raftlog=s1@group-09A0EF6A68F4-SegmentedRaftLog:OPENED:c-1,f-1,i0, conf=-1: [s0:0.0.0.0:42611, s1:0.0.0.0:39575, s2:0.0.0.0:34382], old=null RUNNING
  s2:  RUNNING  FOLLOWER s2@group-09A0EF6A68F4:t60, leader=null, voted=null, raftlog=s2@group-09A0EF6A68F4-SegmentedRaftLog:OPENED:c-1,f-1,i0, conf=-1: [s0:0.0.0.0:42611, s1:0.0.0.0:39575, s2:0.0.0.0:34382], old=null RUNNING, sleep 450ms and then retry.
java.lang.IllegalStateException: No leader yet : printing ALL groups
  s0:  RUNNING CANDIDATE s0@group-09A0EF6A68F4:t61, leader=null, voted=s0, raftlog=s0@group-09A0EF6A68F4-SegmentedRaftLog:OPENED:c-1,f-1,i0, conf=-1: [s0:0.0.0.0:42611, s1:0.0.0.0:39575, s2:0.0.0.0:34382], old=null RUNNING
  s1:  RUNNING  FOLLOWER s1@group-09A0EF6A68F4:t60, leader=null, voted=s0, raftlog=s1@group-09A0EF6A68F4-SegmentedRaftLog:OPENED:c-1,f-1,i0, conf=-1: [s0:0.0.0.0:42611, s1:0.0.0.0:39575, s2:0.0.0.0:34382], old=null RUNNING
  s2:  RUNNING  FOLLOWER s2@group-09A0EF6A68F4:t60, leader=null, voted=null, raftlog=s2@group-09A0EF6A68F4-SegmentedRaftLog:OPENED:c-1,f-1,i0, conf=-1: [s0:0.0.0.0:42611, s1:0.0.0.0:39575, s2:0.0.0.0:34382], old=null RUNNING
	at org.apache.ratis.MiniRaftCluster.newIllegalStateExceptionForNoLeaders(MiniRaftCluster.java:506)
	at org.apache.ratis.RaftTestUtil.lambda$waitForLeader$1(RaftTestUtil.java:90)
	at org.apache.ratis.MiniRaftCluster.getLeader(MiniRaftCluster.java:539)
	at org.apache.ratis.MiniRaftCluster.getLeader(MiniRaftCluster.java:532)
	at org.apache.ratis.RaftTestUtil.lambda$waitForLeader$3(RaftTestUtil.java:98)
	at org.apache.ratis.util.JavaUtils.attempt(JavaUtils.java:152)
	at org.apache.ratis.RaftTestUtil.waitForLeader(RaftTestUtil.java:97)
	at org.apache.ratis.RaftTestUtil.waitForLeader(RaftTestUtil.java:77)
	at org.apache.ratis.RaftTestUtil.waitForLeader(RaftTestUtil.java:72)
	at org.apache.ratis.server.impl.RaftStateMachineExceptionTests.runTestRetryOnExceptionDuringReplication(RaftStateMachineExceptionTests.java:149)
	at org.apache.ratis.MiniRaftCluster$Factory$Get.runWithNewCluster(MiniRaftCluster.java:125)
	at org.apache.ratis.MiniRaftCluster$Factory$Get.runWithNewCluster(MiniRaftCluster.java:113)
	at org.apache.ratis.server.impl.RaftStateMachineExceptionTests.testRetryOnExceptionDuringReplication(RaftStateMachineExceptionTests.java:145)
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.lang.reflect.Method.invoke(Method.java:498)
	at org.junit.runners.model.FrameworkMethod$1.runReflectiveCall(FrameworkMethod.java:50)
	at org.junit.internal.runners.model.ReflectiveCallable.run(ReflectiveCallable.java:12)
	at org.junit.runners.model.FrameworkMethod.invokeExplosively(FrameworkMethod.java:47)
	at org.junit.internal.runners.statements.InvokeMethod.evaluate(InvokeMethod.java:17)
	at org.junit.internal.runners.statements.RunAfters.evaluate(RunAfters.java:27)
	at org.junit.internal.runners.statements.FailOnTimeout$CallableStatement.call(FailOnTimeout.java:298)
	at org.junit.internal.runners.statements.FailOnTimeout$CallableStatement.call(FailOnTimeout.java:292)
	at java.util.concurrent.FutureTask.run(FutureTask.java:266)
	at java.lang.Thread.run(Thread.java:748)
2019-09-24 16:57:51,225 WARN  ratis.RaftTestUtil (JavaUtils.java:attempt(158)) - FAILED "waitForLeader-null-(expectLeader? true)", attempt #92/100: java.lang.IllegalStateException: No leader yet : printing ALL groups
  s0:  RUNNING CANDIDATE s0@group-09A0EF6A68F4:t61, leader=null, voted=s0, raftlog=s0@group-09A0EF6A68F4-SegmentedRaftLog:OPENED:c-1,f-1,i0, conf=-1: [s0:0.0.0.0:42611, s1:0.0.0.0:39575, s2:0.0.0.0:34382], old=null RUNNING
  s1:  RUNNING  FOLLOWER s1@group-09A0EF6A68F4:t60, leader=null, voted=s0, raftlog=s1@group-09A0EF6A68F4-SegmentedRaftLog:OPENED:c-1,f-1,i0, conf=-1: [s0:0.0.0.0:42611, s1:0.0.0.0:39575, s2:0.0.0.0:34382], old=null RUNNING
  s2:  RUNNING  FOLLOWER s2@group-09A0EF6A68F4:t60, leader=null, voted=null, raftlog=s2@group-09A0EF6A68F4-SegmentedRaftLog:OPENED:c-1,f-1,i0, conf=-1: [s0:0.0.0.0:42611, s1:0.0.0.0:39575, s2:0.0.0.0:34382], old=null RUNNING, sleep 450ms and then retry.
java.lang.IllegalStateException: No leader yet : printing ALL groups
  s0:  RUNNING CANDIDATE s0@group-09A0EF6A68F4:t61, leader=null, voted=s0, raftlog=s0@group-09A0EF6A68F4-SegmentedRaftLog:OPENED:c-1,f-1,i0, conf=-1: [s0:0.0.0.0:42611, s1:0.0.0.0:39575, s2:0.0.0.0:34382], old=null RUNNING
  s1:  RUNNING  FOLLOWER s1@group-09A0EF6A68F4:t60, leader=null, voted=s0, raftlog=s1@group-09A0EF6A68F4-SegmentedRaftLog:OPENED:c-1,f-1,i0, conf=-1: [s0:0.0.0.0:42611, s1:0.0.0.0:39575, s2:0.0.0.0:34382], old=null RUNNING
  s2:  RUNNING  FOLLOWER s2@group-09A0EF6A68F4:t60, leader=null, voted=null, raftlog=s2@group-09A0EF6A68F4-SegmentedRaftLog:OPENED:c-1,f-1,i0, conf=-1: [s0:0.0.0.0:42611, s1:0.0.0.0:39575, s2:0.0.0.0:34382], old=null RUNNING
	at org.apache.ratis.MiniRaftCluster.newIllegalStateExceptionForNoLeaders(MiniRaftCluster.java:506)
	at org.apache.ratis.RaftTestUtil.lambda$waitForLeader$1(RaftTestUtil.java:90)
	at org.apache.ratis.MiniRaftCluster.getLeader(MiniRaftCluster.java:539)
	at org.apache.ratis.MiniRaftCluster.getLeader(MiniRaftCluster.java:532)
	at org.apache.ratis.RaftTestUtil.lambda$waitForLeader$3(RaftTestUtil.java:98)
	at org.apache.ratis.util.JavaUtils.attempt(JavaUtils.java:152)
	at org.apache.ratis.RaftTestUtil.waitForLeader(RaftTestUtil.java:97)
	at org.apache.ratis.RaftTestUtil.waitForLeader(RaftTestUtil.java:77)
	at org.apache.ratis.RaftTestUtil.waitForLeader(RaftTestUtil.java:72)
	at org.apache.ratis.server.impl.RaftStateMachineExceptionTests.runTestRetryOnExceptionDuringReplication(RaftStateMachineExceptionTests.java:149)
	at org.apache.ratis.MiniRaftCluster$Factory$Get.runWithNewCluster(MiniRaftCluster.java:125)
	at org.apache.ratis.MiniRaftCluster$Factory$Get.runWithNewCluster(MiniRaftCluster.java:113)
	at org.apache.ratis.server.impl.RaftStateMachineExceptionTests.testRetryOnExceptionDuringReplication(RaftStateMachineExceptionTests.java:145)
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.lang.reflect.Method.invoke(Method.java:498)
	at org.junit.runners.model.FrameworkMethod$1.runReflectiveCall(FrameworkMethod.java:50)
	at org.junit.internal.runners.model.ReflectiveCallable.run(ReflectiveCallable.java:12)
	at org.junit.runners.model.FrameworkMethod.invokeExplosively(FrameworkMethod.java:47)
	at org.junit.internal.runners.statements.InvokeMethod.evaluate(InvokeMethod.java:17)
	at org.junit.internal.runners.statements.RunAfters.evaluate(RunAfters.java:27)
	at org.junit.internal.runners.statements.FailOnTimeout$CallableStatement.call(FailOnTimeout.java:298)
	at org.junit.internal.runners.statements.FailOnTimeout$CallableStatement.call(FailOnTimeout.java:292)
	at java.util.concurrent.FutureTask.run(FutureTask.java:266)
	at java.lang.Thread.run(Thread.java:748)
2019-09-24 16:57:51,677 WARN  ratis.RaftTestUtil (JavaUtils.java:attempt(158)) - FAILED "waitForLeader-null-(expectLeader? true)", attempt #93/100: java.lang.IllegalStateException: No leader yet : printing ALL groups
  s0:  RUNNING CANDIDATE s0@group-09A0EF6A68F4:t61, leader=null, voted=s0, raftlog=s0@group-09A0EF6A68F4-SegmentedRaftLog:OPENED:c-1,f-1,i0, conf=-1: [s0:0.0.0.0:42611, s1:0.0.0.0:39575, s2:0.0.0.0:34382], old=null RUNNING
  s1:  RUNNING  FOLLOWER s1@group-09A0EF6A68F4:t60, leader=null, voted=s0, raftlog=s1@group-09A0EF6A68F4-SegmentedRaftLog:OPENED:c-1,f-1,i0, conf=-1: [s0:0.0.0.0:42611, s1:0.0.0.0:39575, s2:0.0.0.0:34382], old=null RUNNING
  s2:  RUNNING  FOLLOWER s2@group-09A0EF6A68F4:t60, leader=null, voted=null, raftlog=s2@group-09A0EF6A68F4-SegmentedRaftLog:OPENED:c-1,f-1,i0, conf=-1: [s0:0.0.0.0:42611, s1:0.0.0.0:39575, s2:0.0.0.0:34382], old=null RUNNING, sleep 450ms and then retry.
java.lang.IllegalStateException: No leader yet : printing ALL groups
  s0:  RUNNING CANDIDATE s0@group-09A0EF6A68F4:t61, leader=null, voted=s0, raftlog=s0@group-09A0EF6A68F4-SegmentedRaftLog:OPENED:c-1,f-1,i0, conf=-1: [s0:0.0.0.0:42611, s1:0.0.0.0:39575, s2:0.0.0.0:34382], old=null RUNNING
  s1:  RUNNING  FOLLOWER s1@group-09A0EF6A68F4:t60, leader=null, voted=s0, raftlog=s1@group-09A0EF6A68F4-SegmentedRaftLog:OPENED:c-1,f-1,i0, conf=-1: [s0:0.0.0.0:42611, s1:0.0.0.0:39575, s2:0.0.0.0:34382], old=null RUNNING
  s2:  RUNNING  FOLLOWER s2@group-09A0EF6A68F4:t60, leader=null, voted=null, raftlog=s2@group-09A0EF6A68F4-SegmentedRaftLog:OPENED:c-1,f-1,i0, conf=-1: [s0:0.0.0.0:42611, s1:0.0.0.0:39575, s2:0.0.0.0:34382], old=null RUNNING
	at org.apache.ratis.MiniRaftCluster.newIllegalStateExceptionForNoLeaders(MiniRaftCluster.java:506)
	at org.apache.ratis.RaftTestUtil.lambda$waitForLeader$1(RaftTestUtil.java:90)
	at org.apache.ratis.MiniRaftCluster.getLeader(MiniRaftCluster.java:539)
	at org.apache.ratis.MiniRaftCluster.getLeader(MiniRaftCluster.java:532)
	at org.apache.ratis.RaftTestUtil.lambda$waitForLeader$3(RaftTestUtil.java:98)
	at org.apache.ratis.util.JavaUtils.attempt(JavaUtils.java:152)
	at org.apache.ratis.RaftTestUtil.waitForLeader(RaftTestUtil.java:97)
	at org.apache.ratis.RaftTestUtil.waitForLeader(RaftTestUtil.java:77)
	at org.apache.ratis.RaftTestUtil.waitForLeader(RaftTestUtil.java:72)
	at org.apache.ratis.server.impl.RaftStateMachineExceptionTests.runTestRetryOnExceptionDuringReplication(RaftStateMachineExceptionTests.java:149)
	at org.apache.ratis.MiniRaftCluster$Factory$Get.runWithNewCluster(MiniRaftCluster.java:125)
	at org.apache.ratis.MiniRaftCluster$Factory$Get.runWithNewCluster(MiniRaftCluster.java:113)
	at org.apache.ratis.server.impl.RaftStateMachineExceptionTests.testRetryOnExceptionDuringReplication(RaftStateMachineExceptionTests.java:145)
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.lang.reflect.Method.invoke(Method.java:498)
	at org.junit.runners.model.FrameworkMethod$1.runReflectiveCall(FrameworkMethod.java:50)
	at org.junit.internal.runners.model.ReflectiveCallable.run(ReflectiveCallable.java:12)
	at org.junit.runners.model.FrameworkMethod.invokeExplosively(FrameworkMethod.java:47)
	at org.junit.internal.runners.statements.InvokeMethod.evaluate(InvokeMethod.java:17)
	at org.junit.internal.runners.statements.RunAfters.evaluate(RunAfters.java:27)
	at org.junit.internal.runners.statements.FailOnTimeout$CallableStatement.call(FailOnTimeout.java:298)
	at org.junit.internal.runners.statements.FailOnTimeout$CallableStatement.call(FailOnTimeout.java:292)
	at java.util.concurrent.FutureTask.run(FutureTask.java:266)
	at java.lang.Thread.run(Thread.java:748)
2019-09-24 16:57:52,128 WARN  ratis.RaftTestUtil (JavaUtils.java:attempt(158)) - FAILED "waitForLeader-null-(expectLeader? true)", attempt #94/100: java.lang.IllegalStateException: No leader yet : printing ALL groups
  s0:  RUNNING CANDIDATE s0@group-09A0EF6A68F4:t61, leader=null, voted=s0, raftlog=s0@group-09A0EF6A68F4-SegmentedRaftLog:OPENED:c-1,f-1,i0, conf=-1: [s0:0.0.0.0:42611, s1:0.0.0.0:39575, s2:0.0.0.0:34382], old=null RUNNING
  s1:  RUNNING  FOLLOWER s1@group-09A0EF6A68F4:t60, leader=null, voted=s0, raftlog=s1@group-09A0EF6A68F4-SegmentedRaftLog:OPENED:c-1,f-1,i0, conf=-1: [s0:0.0.0.0:42611, s1:0.0.0.0:39575, s2:0.0.0.0:34382], old=null RUNNING
  s2:  RUNNING  FOLLOWER s2@group-09A0EF6A68F4:t60, leader=null, voted=null, raftlog=s2@group-09A0EF6A68F4-SegmentedRaftLog:OPENED:c-1,f-1,i0, conf=-1: [s0:0.0.0.0:42611, s1:0.0.0.0:39575, s2:0.0.0.0:34382], old=null RUNNING, sleep 450ms and then retry.
java.lang.IllegalStateException: No leader yet : printing ALL groups
  s0:  RUNNING CANDIDATE s0@group-09A0EF6A68F4:t61, leader=null, voted=s0, raftlog=s0@group-09A0EF6A68F4-SegmentedRaftLog:OPENED:c-1,f-1,i0, conf=-1: [s0:0.0.0.0:42611, s1:0.0.0.0:39575, s2:0.0.0.0:34382], old=null RUNNING
  s1:  RUNNING  FOLLOWER s1@group-09A0EF6A68F4:t60, leader=null, voted=s0, raftlog=s1@group-09A0EF6A68F4-SegmentedRaftLog:OPENED:c-1,f-1,i0, conf=-1: [s0:0.0.0.0:42611, s1:0.0.0.0:39575, s2:0.0.0.0:34382], old=null RUNNING
  s2:  RUNNING  FOLLOWER s2@group-09A0EF6A68F4:t60, leader=null, voted=null, raftlog=s2@group-09A0EF6A68F4-SegmentedRaftLog:OPENED:c-1,f-1,i0, conf=-1: [s0:0.0.0.0:42611, s1:0.0.0.0:39575, s2:0.0.0.0:34382], old=null RUNNING
	at org.apache.ratis.MiniRaftCluster.newIllegalStateExceptionForNoLeaders(MiniRaftCluster.java:506)
	at org.apache.ratis.RaftTestUtil.lambda$waitForLeader$1(RaftTestUtil.java:90)
	at org.apache.ratis.MiniRaftCluster.getLeader(MiniRaftCluster.java:539)
	at org.apache.ratis.MiniRaftCluster.getLeader(MiniRaftCluster.java:532)
	at org.apache.ratis.RaftTestUtil.lambda$waitForLeader$3(RaftTestUtil.java:98)
	at org.apache.ratis.util.JavaUtils.attempt(JavaUtils.java:152)
	at org.apache.ratis.RaftTestUtil.waitForLeader(RaftTestUtil.java:97)
	at org.apache.ratis.RaftTestUtil.waitForLeader(RaftTestUtil.java:77)
	at org.apache.ratis.RaftTestUtil.waitForLeader(RaftTestUtil.java:72)
	at org.apache.ratis.server.impl.RaftStateMachineExceptionTests.runTestRetryOnExceptionDuringReplication(RaftStateMachineExceptionTests.java:149)
	at org.apache.ratis.MiniRaftCluster$Factory$Get.runWithNewCluster(MiniRaftCluster.java:125)
	at org.apache.ratis.MiniRaftCluster$Factory$Get.runWithNewCluster(MiniRaftCluster.java:113)
	at org.apache.ratis.server.impl.RaftStateMachineExceptionTests.testRetryOnExceptionDuringReplication(RaftStateMachineExceptionTests.java:145)
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.lang.reflect.Method.invoke(Method.java:498)
	at org.junit.runners.model.FrameworkMethod$1.runReflectiveCall(FrameworkMethod.java:50)
	at org.junit.internal.runners.model.ReflectiveCallable.run(ReflectiveCallable.java:12)
	at org.junit.runners.model.FrameworkMethod.invokeExplosively(FrameworkMethod.java:47)
	at org.junit.internal.runners.statements.InvokeMethod.evaluate(InvokeMethod.java:17)
	at org.junit.internal.runners.statements.RunAfters.evaluate(RunAfters.java:27)
	at org.junit.internal.runners.statements.FailOnTimeout$CallableStatement.call(FailOnTimeout.java:298)
	at org.junit.internal.runners.statements.FailOnTimeout$CallableStatement.call(FailOnTimeout.java:292)
	at java.util.concurrent.FutureTask.run(FutureTask.java:266)
	at java.lang.Thread.run(Thread.java:748)
2019-09-24 16:57:52,580 WARN  ratis.RaftTestUtil (JavaUtils.java:attempt(158)) - FAILED "waitForLeader-null-(expectLeader? true)", attempt #95/100: java.lang.IllegalStateException: No leader yet : printing ALL groups
  s0:  RUNNING CANDIDATE s0@group-09A0EF6A68F4:t61, leader=null, voted=s0, raftlog=s0@group-09A0EF6A68F4-SegmentedRaftLog:OPENED:c-1,f-1,i0, conf=-1: [s0:0.0.0.0:42611, s1:0.0.0.0:39575, s2:0.0.0.0:34382], old=null RUNNING
  s1:  RUNNING  FOLLOWER s1@group-09A0EF6A68F4:t60, leader=null, voted=s0, raftlog=s1@group-09A0EF6A68F4-SegmentedRaftLog:OPENED:c-1,f-1,i0, conf=-1: [s0:0.0.0.0:42611, s1:0.0.0.0:39575, s2:0.0.0.0:34382], old=null RUNNING
  s2:  RUNNING  FOLLOWER s2@group-09A0EF6A68F4:t60, leader=null, voted=null, raftlog=s2@group-09A0EF6A68F4-SegmentedRaftLog:OPENED:c-1,f-1,i0, conf=-1: [s0:0.0.0.0:42611, s1:0.0.0.0:39575, s2:0.0.0.0:34382], old=null RUNNING, sleep 450ms and then retry.
java.lang.IllegalStateException: No leader yet : printing ALL groups
  s0:  RUNNING CANDIDATE s0@group-09A0EF6A68F4:t61, leader=null, voted=s0, raftlog=s0@group-09A0EF6A68F4-SegmentedRaftLog:OPENED:c-1,f-1,i0, conf=-1: [s0:0.0.0.0:42611, s1:0.0.0.0:39575, s2:0.0.0.0:34382], old=null RUNNING
  s1:  RUNNING  FOLLOWER s1@group-09A0EF6A68F4:t60, leader=null, voted=s0, raftlog=s1@group-09A0EF6A68F4-SegmentedRaftLog:OPENED:c-1,f-1,i0, conf=-1: [s0:0.0.0.0:42611, s1:0.0.0.0:39575, s2:0.0.0.0:34382], old=null RUNNING
  s2:  RUNNING  FOLLOWER s2@group-09A0EF6A68F4:t60, leader=null, voted=null, raftlog=s2@group-09A0EF6A68F4-SegmentedRaftLog:OPENED:c-1,f-1,i0, conf=-1: [s0:0.0.0.0:42611, s1:0.0.0.0:39575, s2:0.0.0.0:34382], old=null RUNNING
	at org.apache.ratis.MiniRaftCluster.newIllegalStateExceptionForNoLeaders(MiniRaftCluster.java:506)
	at org.apache.ratis.RaftTestUtil.lambda$waitForLeader$1(RaftTestUtil.java:90)
	at org.apache.ratis.MiniRaftCluster.getLeader(MiniRaftCluster.java:539)
	at org.apache.ratis.MiniRaftCluster.getLeader(MiniRaftCluster.java:532)
	at org.apache.ratis.RaftTestUtil.lambda$waitForLeader$3(RaftTestUtil.java:98)
	at org.apache.ratis.util.JavaUtils.attempt(JavaUtils.java:152)
	at org.apache.ratis.RaftTestUtil.waitForLeader(RaftTestUtil.java:97)
	at org.apache.ratis.RaftTestUtil.waitForLeader(RaftTestUtil.java:77)
	at org.apache.ratis.RaftTestUtil.waitForLeader(RaftTestUtil.java:72)
	at org.apache.ratis.server.impl.RaftStateMachineExceptionTests.runTestRetryOnExceptionDuringReplication(RaftStateMachineExceptionTests.java:149)
	at org.apache.ratis.MiniRaftCluster$Factory$Get.runWithNewCluster(MiniRaftCluster.java:125)
	at org.apache.ratis.MiniRaftCluster$Factory$Get.runWithNewCluster(MiniRaftCluster.java:113)
	at org.apache.ratis.server.impl.RaftStateMachineExceptionTests.testRetryOnExceptionDuringReplication(RaftStateMachineExceptionTests.java:145)
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.lang.reflect.Method.invoke(Method.java:498)
	at org.junit.runners.model.FrameworkMethod$1.runReflectiveCall(FrameworkMethod.java:50)
	at org.junit.internal.runners.model.ReflectiveCallable.run(ReflectiveCallable.java:12)
	at org.junit.runners.model.FrameworkMethod.invokeExplosively(FrameworkMethod.java:47)
	at org.junit.internal.runners.statements.InvokeMethod.evaluate(InvokeMethod.java:17)
	at org.junit.internal.runners.statements.RunAfters.evaluate(RunAfters.java:27)
	at org.junit.internal.runners.statements.FailOnTimeout$CallableStatement.call(FailOnTimeout.java:298)
	at org.junit.internal.runners.statements.FailOnTimeout$CallableStatement.call(FailOnTimeout.java:292)
	at java.util.concurrent.FutureTask.run(FutureTask.java:266)
	at java.lang.Thread.run(Thread.java:748)
2019-09-24 16:57:52,991 DEBUG impl.RaftServerImpl (RaftServerImpl.java:requestVote(775)) - s2@group-09A0EF6A68F4 replies to vote request: s0<-s2#0:FAIL-t60. Peer's state: s2@group-09A0EF6A68F4:t60, leader=null, voted=null, raftlog=s2@group-09A0EF6A68F4-SegmentedRaftLog:OPENED:c-1,f-1,i0, conf=-1: [s0:0.0.0.0:42611, s1:0.0.0.0:39575, s2:0.0.0.0:34382], old=null
2019-09-24 16:57:52,991 DEBUG impl.RaftServerImpl (RaftServerImpl.java:requestVote(775)) - s1@group-09A0EF6A68F4 replies to vote request: s0<-s1#0:OK-t60. Peer's state: s1@group-09A0EF6A68F4:t60, leader=null, voted=s0, raftlog=s1@group-09A0EF6A68F4-SegmentedRaftLog:OPENED:c-1,f-1,i0, conf=-1: [s0:0.0.0.0:42611, s1:0.0.0.0:39575, s2:0.0.0.0:34382], old=null
2019-09-24 16:57:52,991 INFO  impl.FollowerState (FollowerState.java:run(108)) - s2@group-09A0EF6A68F4-FollowerState: change to CANDIDATE, lastRpcTime:2801ms, electionTimeout:264ms
2019-09-24 16:57:52,991 INFO  impl.FollowerState (FollowerState.java:run(108)) - s1@group-09A0EF6A68F4-FollowerState: change to CANDIDATE, lastRpcTime:2801ms, electionTimeout:266ms
2019-09-24 16:57:52,991 INFO  impl.LeaderElection (LeaderElection.java:askForVotes(178)) - s0@group-09A0EF6A68F4-LeaderElection148: begin an election at term 61 for -1: [s0:0.0.0.0:42611, s1:0.0.0.0:39575, s2:0.0.0.0:34382], old=null
2019-09-24 16:57:52,992 INFO  impl.RoleInfo (RoleInfo.java:shutdownFollowerState(121)) - s1: shutdown FollowerState
2019-09-24 16:57:52,991 INFO  impl.RoleInfo (RoleInfo.java:shutdownFollowerState(121)) - s2: shutdown FollowerState
2019-09-24 16:57:52,992 INFO  impl.RaftServerImpl (RaftServerImpl.java:setRole(170)) - s1@group-09A0EF6A68F4: changes role from  FOLLOWER to CANDIDATE at term 60 for changeToCandidate
2019-09-24 16:57:52,992 INFO  impl.RaftServerImpl (RaftServerImpl.java:setRole(170)) - s2@group-09A0EF6A68F4: changes role from  FOLLOWER to CANDIDATE at term 60 for changeToCandidate
2019-09-24 16:57:52,992 INFO  impl.RoleInfo (RoleInfo.java:updateAndGet(143)) - s1: start LeaderElection
2019-09-24 16:57:52,992 INFO  impl.RoleInfo (RoleInfo.java:updateAndGet(143)) - s2: start LeaderElection
2019-09-24 16:57:52,993 DEBUG impl.RaftServerImpl (RaftServerImpl.java:requestVote(743)) - s1@group-09A0EF6A68F4: receive requestVote(s0, group-09A0EF6A68F4, 61, (t:0, i:0))
2019-09-24 16:57:52,993 DEBUG impl.RaftServerImpl (RaftServerImpl.java:requestVote(743)) - s2@group-09A0EF6A68F4: receive requestVote(s0, group-09A0EF6A68F4, 61, (t:0, i:0))
2019-09-24 16:57:52,993 INFO  impl.RaftServerImpl (RaftServerImpl.java:setRole(170)) - s1@group-09A0EF6A68F4: changes role from CANDIDATE to FOLLOWER at term 61 for recognizeCandidate:s0
2019-09-24 16:57:52,993 INFO  impl.RoleInfo (RoleInfo.java:shutdownLeaderElection(134)) - s1: shutdown LeaderElection
2019-09-24 16:57:52,994 INFO  impl.RoleInfo (RoleInfo.java:updateAndGet(143)) - s1: start FollowerState
2019-09-24 16:57:53,007 INFO  impl.LeaderElection (LeaderElection.java:askForVotes(178)) - s2@group-09A0EF6A68F4-LeaderElection149: begin an election at term 61 for -1: [s0:0.0.0.0:42611, s1:0.0.0.0:39575, s2:0.0.0.0:34382], old=null
2019-09-24 16:57:53,007 DEBUG impl.RaftServerImpl (RaftServerImpl.java:requestVote(775)) - s1@group-09A0EF6A68F4 replies to vote request: s0<-s1#0:FAIL-t61. Peer's state: s1@group-09A0EF6A68F4:t61, leader=null, voted=null, raftlog=s1@group-09A0EF6A68F4-SegmentedRaftLog:OPENED:c-1,f-1,i0, conf=-1: [s0:0.0.0.0:42611, s1:0.0.0.0:39575, s2:0.0.0.0:34382], old=null
2019-09-24 16:57:53,020 INFO  impl.LeaderElection (LeaderElection.java:askForVotes(178)) - s1@group-09A0EF6A68F4-LeaderElection150: begin an election at term 62 for -1: [s0:0.0.0.0:42611, s1:0.0.0.0:39575, s2:0.0.0.0:34382], old=null
2019-09-24 16:57:53,020 INFO  impl.LeaderElection (LeaderElection.java:askForVotes(178)) - s2@group-09A0EF6A68F4-LeaderElection151: begin an election at term 62 for -1: [s0:0.0.0.0:42611, s1:0.0.0.0:39575, s2:0.0.0.0:34382], old=null
2019-09-24 16:57:53,020 DEBUG impl.RaftServerImpl (RaftServerImpl.java:requestVote(775)) - s2@group-09A0EF6A68F4 replies to vote request: s0<-s2#0:FAIL-t62. Peer's state: s2@group-09A0EF6A68F4:t62, leader=null, voted=s2, raftlog=s2@group-09A0EF6A68F4-SegmentedRaftLog:OPENED:c-1,f-1,i0, conf=-1: [s0:0.0.0.0:42611, s1:0.0.0.0:39575, s2:0.0.0.0:34382], old=null
2019-09-24 16:57:53,021 INFO  impl.LeaderElection (LeaderElection.java:logAndReturn(56)) - s1@group-09A0EF6A68F4-LeaderElection150: Election REJECTED; received 0 response(s) [] and 0 exception(s); s1@group-09A0EF6A68F4:t62, leader=null, voted=s1, raftlog=s1@group-09A0EF6A68F4-SegmentedRaftLog:OPENED:c-1,f-1,i0, conf=-1: [s0:0.0.0.0:42611, s1:0.0.0.0:39575, s2:0.0.0.0:34382], old=null
2019-09-24 16:57:53,021 INFO  impl.LeaderElection (LeaderElection.java:logAndReturn(56)) - s0@group-09A0EF6A68F4-LeaderElection148: Election DISCOVERED_A_NEW_TERM; received 2 response(s) [s0<-s1#0:FAIL-t61, s0<-s2#0:FAIL-t62] and 0 exception(s); s0@group-09A0EF6A68F4:t61, leader=null, voted=s0, raftlog=s0@group-09A0EF6A68F4-SegmentedRaftLog:OPENED:c-1,f-1,i0, conf=-1: [s0:0.0.0.0:42611, s1:0.0.0.0:39575, s2:0.0.0.0:34382], old=null
2019-09-24 16:57:53,021 DEBUG impl.RaftServerImpl (RaftServerImpl.java:requestVote(743)) - s0@group-09A0EF6A68F4: receive requestVote(s1, group-09A0EF6A68F4, 62, (t:0, i:0))
2019-09-24 16:57:53,021 DEBUG impl.RaftServerImpl (RaftServerImpl.java:requestVote(743)) - s0@group-09A0EF6A68F4: receive requestVote(s2, group-09A0EF6A68F4, 62, (t:0, i:0))
2019-09-24 16:57:53,021 DEBUG impl.RaftServerImpl (RaftServerImpl.java:requestVote(743)) - s2@group-09A0EF6A68F4: receive requestVote(s1, group-09A0EF6A68F4, 62, (t:0, i:0))
2019-09-24 16:57:53,022 INFO  impl.LeaderElection (LeaderElection.java:logAndReturn(56)) - s2@group-09A0EF6A68F4-LeaderElection149: Election REJECTED; received 0 response(s) [] and 0 exception(s); s2@group-09A0EF6A68F4:t62, leader=null, voted=s2, raftlog=s2@group-09A0EF6A68F4-SegmentedRaftLog:OPENED:c-1,f-1,i0, conf=-1: [s0:0.0.0.0:42611, s1:0.0.0.0:39575, s2:0.0.0.0:34382], old=null
2019-09-24 16:57:53,021 INFO  impl.RaftServerImpl (RaftServerImpl.java:setRole(170)) - s0@group-09A0EF6A68F4: changes role from CANDIDATE to FOLLOWER at term 62 for DISCOVERED_A_NEW_TERM
2019-09-24 16:57:53,022 DEBUG impl.RaftServerImpl (RaftServerImpl.java:requestVote(743)) - s1@group-09A0EF6A68F4: receive requestVote(s2, group-09A0EF6A68F4, 62, (t:0, i:0))
2019-09-24 16:57:53,022 DEBUG impl.RaftServerImpl (RaftServerImpl.java:requestVote(743)) - s1@group-09A0EF6A68F4: receive requestVote(s2, group-09A0EF6A68F4, 61, (t:0, i:0))
2019-09-24 16:57:53,022 DEBUG impl.RaftServerImpl (RaftServerImpl.java:requestVote(775)) - s2@group-09A0EF6A68F4 replies to vote request: s1<-s2#0:FAIL-t62. Peer's state: s2@group-09A0EF6A68F4:t62, leader=null, voted=s2, raftlog=s2@group-09A0EF6A68F4-SegmentedRaftLog:OPENED:c-1,f-1,i0, conf=-1: [s0:0.0.0.0:42611, s1:0.0.0.0:39575, s2:0.0.0.0:34382], old=null
2019-09-24 16:57:53,022 DEBUG impl.RaftServerImpl (RaftServerImpl.java:requestVote(743)) - s0@group-09A0EF6A68F4: receive requestVote(s2, group-09A0EF6A68F4, 61, (t:0, i:0))
2019-09-24 16:57:53,022 DEBUG impl.RaftServerImpl (RaftServerImpl.java:requestVote(775)) - s1@group-09A0EF6A68F4 replies to vote request: s2<-s1#0:FAIL-t62. Peer's state: s1@group-09A0EF6A68F4:t62, leader=null, voted=s1, raftlog=s1@group-09A0EF6A68F4-SegmentedRaftLog:OPENED:c-1,f-1,i0, conf=-1: [s0:0.0.0.0:42611, s1:0.0.0.0:39575, s2:0.0.0.0:34382], old=null
2019-09-24 16:57:53,022 INFO  impl.RoleInfo (RoleInfo.java:shutdownLeaderElection(134)) - s0: shutdown LeaderElection
2019-09-24 16:57:53,023 DEBUG impl.RaftServerImpl (RaftServerImpl.java:requestVote(775)) - s1@group-09A0EF6A68F4 replies to vote request: s2<-s1#0:FAIL-t62. Peer's state: s1@group-09A0EF6A68F4:t62, leader=null, voted=s1, raftlog=s1@group-09A0EF6A68F4-SegmentedRaftLog:OPENED:c-1,f-1,i0, conf=-1: [s0:0.0.0.0:42611, s1:0.0.0.0:39575, s2:0.0.0.0:34382], old=null
2019-09-24 16:57:53,023 INFO  impl.RoleInfo (RoleInfo.java:updateAndGet(143)) - s0: start FollowerState
2019-09-24 16:57:53,031 WARN  ratis.RaftTestUtil (JavaUtils.java:attempt(158)) - FAILED "waitForLeader-null-(expectLeader? true)", attempt #96/100: java.lang.IllegalStateException: No leader yet : printing ALL groups
  s0:  RUNNING  FOLLOWER s0@group-09A0EF6A68F4:t62, leader=null, voted=null, raftlog=s0@group-09A0EF6A68F4-SegmentedRaftLog:OPENED:c-1,f-1,i0, conf=-1: [s0:0.0.0.0:42611, s1:0.0.0.0:39575, s2:0.0.0.0:34382], old=null RUNNING
  s1:  RUNNING  FOLLOWER s1@group-09A0EF6A68F4:t62, leader=null, voted=s1, raftlog=s1@group-09A0EF6A68F4-SegmentedRaftLog:OPENED:c-1,f-1,i0, conf=-1: [s0:0.0.0.0:42611, s1:0.0.0.0:39575, s2:0.0.0.0:34382], old=null RUNNING
  s2:  RUNNING CANDIDATE s2@group-09A0EF6A68F4:t62, leader=null, voted=s2, raftlog=s2@group-09A0EF6A68F4-SegmentedRaftLog:OPENED:c-1,f-1,i0, conf=-1: [s0:0.0.0.0:42611, s1:0.0.0.0:39575, s2:0.0.0.0:34382], old=null RUNNING, sleep 450ms and then retry.
java.lang.IllegalStateException: No leader yet : printing ALL groups
  s0:  RUNNING  FOLLOWER s0@group-09A0EF6A68F4:t62, leader=null, voted=null, raftlog=s0@group-09A0EF6A68F4-SegmentedRaftLog:OPENED:c-1,f-1,i0, conf=-1: [s0:0.0.0.0:42611, s1:0.0.0.0:39575, s2:0.0.0.0:34382], old=null RUNNING
  s1:  RUNNING  FOLLOWER s1@group-09A0EF6A68F4:t62, leader=null, voted=s1, raftlog=s1@group-09A0EF6A68F4-SegmentedRaftLog:OPENED:c-1,f-1,i0, conf=-1: [s0:0.0.0.0:42611, s1:0.0.0.0:39575, s2:0.0.0.0:34382], old=null RUNNING
  s2:  RUNNING CANDIDATE s2@group-09A0EF6A68F4:t62, leader=null, voted=s2, raftlog=s2@group-09A0EF6A68F4-SegmentedRaftLog:OPENED:c-1,f-1,i0, conf=-1: [s0:0.0.0.0:42611, s1:0.0.0.0:39575, s2:0.0.0.0:34382], old=null RUNNING
	at org.apache.ratis.MiniRaftCluster.newIllegalStateExceptionForNoLeaders(MiniRaftCluster.java:506)
	at org.apache.ratis.RaftTestUtil.lambda$waitForLeader$1(RaftTestUtil.java:90)
	at org.apache.ratis.MiniRaftCluster.getLeader(MiniRaftCluster.java:539)
	at org.apache.ratis.MiniRaftCluster.getLeader(MiniRaftCluster.java:532)
	at org.apache.ratis.RaftTestUtil.lambda$waitForLeader$3(RaftTestUtil.java:98)
	at org.apache.ratis.util.JavaUtils.attempt(JavaUtils.java:152)
	at org.apache.ratis.RaftTestUtil.waitForLeader(RaftTestUtil.java:97)
	at org.apache.ratis.RaftTestUtil.waitForLeader(RaftTestUtil.java:77)
	at org.apache.ratis.RaftTestUtil.waitForLeader(RaftTestUtil.java:72)
	at org.apache.ratis.server.impl.RaftStateMachineExceptionTests.runTestRetryOnExceptionDuringReplication(RaftStateMachineExceptionTests.java:149)
	at org.apache.ratis.MiniRaftCluster$Factory$Get.runWithNewCluster(MiniRaftCluster.java:125)
	at org.apache.ratis.MiniRaftCluster$Factory$Get.runWithNewCluster(MiniRaftCluster.java:113)
	at org.apache.ratis.server.impl.RaftStateMachineExceptionTests.testRetryOnExceptionDuringReplication(RaftStateMachineExceptionTests.java:145)
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.lang.reflect.Method.invoke(Method.java:498)
	at org.junit.runners.model.FrameworkMethod$1.runReflectiveCall(FrameworkMethod.java:50)
	at org.junit.internal.runners.model.ReflectiveCallable.run(ReflectiveCallable.java:12)
	at org.junit.runners.model.FrameworkMethod.invokeExplosively(FrameworkMethod.java:47)
	at org.junit.internal.runners.statements.InvokeMethod.evaluate(InvokeMethod.java:17)
	at org.junit.internal.runners.statements.RunAfters.evaluate(RunAfters.java:27)
	at org.junit.internal.runners.statements.FailOnTimeout$CallableStatement.call(FailOnTimeout.java:298)
	at org.junit.internal.runners.statements.FailOnTimeout$CallableStatement.call(FailOnTimeout.java:292)
	at java.util.concurrent.FutureTask.run(FutureTask.java:266)
	at java.lang.Thread.run(Thread.java:748)
2019-09-24 16:57:53,042 DEBUG impl.RaftServerImpl (RaftServerImpl.java:requestVote(775)) - s0@group-09A0EF6A68F4 replies to vote request: s2<-s0#0:FAIL-t62. Peer's state: s0@group-09A0EF6A68F4:t62, leader=null, voted=null, raftlog=s0@group-09A0EF6A68F4-SegmentedRaftLog:OPENED:c-1,f-1,i0, conf=-1: [s0:0.0.0.0:42611, s1:0.0.0.0:39575, s2:0.0.0.0:34382], old=null
2019-09-24 16:57:53,042 INFO  impl.RaftServerImpl (RaftServerImpl.java:setRole(170)) - s0@group-09A0EF6A68F4: changes role from  FOLLOWER to FOLLOWER at term 62 for recognizeCandidate:s2
2019-09-24 16:57:53,042 INFO  impl.RoleInfo (RoleInfo.java:shutdownFollowerState(121)) - s0: shutdown FollowerState
2019-09-24 16:57:53,043 INFO  impl.RoleInfo (RoleInfo.java:updateAndGet(143)) - s0: start FollowerState
2019-09-24 16:57:53,043 INFO  impl.FollowerState (FollowerState.java:run(117)) - s0@group-09A0EF6A68F4-FollowerState was interrupted: java.lang.InterruptedException: sleep interrupted
2019-09-24 16:57:53,061 DEBUG impl.RaftServerImpl (RaftServerImpl.java:requestVote(775)) - s0@group-09A0EF6A68F4 replies to vote request: s2<-s0#0:OK-t62. Peer's state: s0@group-09A0EF6A68F4:t62, leader=null, voted=s2, raftlog=s0@group-09A0EF6A68F4-SegmentedRaftLog:OPENED:c-1,f-1,i0, conf=-1: [s0:0.0.0.0:42611, s1:0.0.0.0:39575, s2:0.0.0.0:34382], old=null
2019-09-24 16:57:53,061 DEBUG impl.RaftServerImpl (RaftServerImpl.java:requestVote(775)) - s0@group-09A0EF6A68F4 replies to vote request: s1<-s0#0:FAIL-t62. Peer's state: s0@group-09A0EF6A68F4:t62, leader=null, voted=s2, raftlog=s0@group-09A0EF6A68F4-SegmentedRaftLog:OPENED:c-1,f-1,i0, conf=-1: [s0:0.0.0.0:42611, s1:0.0.0.0:39575, s2:0.0.0.0:34382], old=null
2019-09-24 16:57:53,061 INFO  impl.LeaderElection (LeaderElection.java:logAndReturn(56)) - s2@group-09A0EF6A68F4-LeaderElection151: Election PASSED; received 2 response(s) [s2<-s0#0:OK-t62, s2<-s1#0:FAIL-t62] and 0 exception(s); s2@group-09A0EF6A68F4:t62, leader=null, voted=s2, raftlog=s2@group-09A0EF6A68F4-SegmentedRaftLog:OPENED:c-1,f-1,i0, conf=-1: [s0:0.0.0.0:42611, s1:0.0.0.0:39575, s2:0.0.0.0:34382], old=null
2019-09-24 16:57:53,061 INFO  impl.RoleInfo (RoleInfo.java:shutdownLeaderElection(134)) - s2: shutdown LeaderElection
2019-09-24 16:57:53,062 INFO  impl.RaftServerImpl (RaftServerImpl.java:setRole(170)) - s2@group-09A0EF6A68F4: changes role from CANDIDATE to LEADER at term 62 for changeToLeader
2019-09-24 16:57:53,062 INFO  impl.RaftServerImpl (ServerState.java:setLeader(254)) - s2@group-09A0EF6A68F4: change Leader from null to s2 at term 62 for becomeLeader, leader elected after 42973ms
2019-09-24 16:57:53,062 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.staging.catchup.gap = 1000 (default)
2019-09-24 16:57:53,062 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.rpc.sleep.time = 25ms (default)
2019-09-24 16:57:53,062 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.write.element-limit = 4096 (default)
2019-09-24 16:57:53,063 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.watch.timeout = 10s (default)
2019-09-24 16:57:53,063 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.watch.timeout.denomination = 1s (default)
2019-09-24 16:57:53,063 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.watch.element-limit = 65536 (default)
2019-09-24 16:57:53,068 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.log.appender.snapshot.chunk.size.max = 16MB (=16777216) (default)
2019-09-24 16:57:53,068 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.log.appender.buffer.byte-limit = 4MB (=4194304) (default)
2019-09-24 16:57:53,068 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.log.appender.buffer.element-limit = 0 (default)
2019-09-24 16:57:53,069 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.log.appender.snapshot.chunk.size.max = 16MB (=16777216) (default)
2019-09-24 16:57:53,069 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.log.appender.buffer.byte-limit = 4MB (=4194304) (default)
2019-09-24 16:57:53,069 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.log.appender.buffer.element-limit = 0 (default)
2019-09-24 16:57:53,070 INFO  impl.RoleInfo (RoleInfo.java:updateAndGet(143)) - s2: start LeaderState
2019-09-24 16:57:53,070 DEBUG raftlog.RaftLog (SegmentedRaftLog.java:appendImpl(425)) - truncateIndex=-1, arrayIndex=0
2019-09-24 16:57:53,070 INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:startLogSegment(380)) - s2@group-09A0EF6A68F4-SegmentedRaftLogWorker: Starting segment from index:0
2019-09-24 16:57:53,071 INFO  impl.RaftServerImpl (ServerState.java:setRaftConf(355)) - s2@group-09A0EF6A68F4: set configuration 0: [s0:0.0.0.0:42611, s1:0.0.0.0:39575, s2:0.0.0.0:34382], old=null at 0
2019-09-24 16:57:53,072 INFO  impl.RaftServerImpl (ServerState.java:setLeader(254)) - s0@group-09A0EF6A68F4: change Leader from null to s2 at term 62 for appendEntries, leader elected after 42982ms
2019-09-24 16:57:53,072 INFO  impl.RaftServerImpl (ServerState.java:setLeader(254)) - s1@group-09A0EF6A68F4: change Leader from null to s2 at term 62 for appendEntries, leader elected after 42983ms
2019-09-24 16:57:53,074 DEBUG impl.RaftServerImpl (RaftServerImpl.java:logAppendEntries(850)) - s0@group-09A0EF6A68F4: receive appendEntries(s2, 62, null, -1, false, commits[s2:c-1, s0:c-1, s1:c-1], entries: (t:62, i:0), CONFIGURATIONENTRY
2019-09-24 16:57:53,075 INFO  impl.RaftServerImpl (ServerState.java:setRaftConf(355)) - s0@group-09A0EF6A68F4: set configuration 0: [s0:0.0.0.0:42611, s1:0.0.0.0:39575, s2:0.0.0.0:34382], old=null at 0
2019-09-24 16:57:53,075 DEBUG impl.RaftServerImpl (RaftServerImpl.java:logAppendEntries(850)) - s1@group-09A0EF6A68F4: receive appendEntries(s2, 62, null, -1, false, commits[s2:c-1, s0:c-1, s1:c-1], entries: (t:62, i:0), CONFIGURATIONENTRY
2019-09-24 16:57:53,075 DEBUG raftlog.RaftLog (SegmentedRaftLog.java:appendImpl(425)) - truncateIndex=-1, arrayIndex=0
2019-09-24 16:57:53,075 INFO  impl.RaftServerImpl (ServerState.java:setRaftConf(355)) - s1@group-09A0EF6A68F4: set configuration 0: [s0:0.0.0.0:42611, s1:0.0.0.0:39575, s2:0.0.0.0:34382], old=null at 0
2019-09-24 16:57:53,075 INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:startLogSegment(380)) - s0@group-09A0EF6A68F4-SegmentedRaftLogWorker: Starting segment from index:0
2019-09-24 16:57:53,075 DEBUG raftlog.RaftLog (SegmentedRaftLog.java:appendImpl(425)) - truncateIndex=-1, arrayIndex=0
2019-09-24 16:57:53,076 INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:startLogSegment(380)) - s1@group-09A0EF6A68F4-SegmentedRaftLogWorker: Starting segment from index:0
2019-09-24 16:57:53,398 INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:execute(569)) - s1@group-09A0EF6A68F4-SegmentedRaftLogWorker: created new log segment /workdir/ratis-test/target/test/data/40df402d/MiniRaftClusterWithSimulatedRpc347dd568/s1/9eb3e987-0230-4f29-8879-09a0ef6a68f4/current/log_inprogress_0
2019-09-24 16:57:53,398 INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:execute(569)) - s2@group-09A0EF6A68F4-SegmentedRaftLogWorker: created new log segment /workdir/ratis-test/target/test/data/40df402d/MiniRaftClusterWithSimulatedRpc347dd568/s2/9eb3e987-0230-4f29-8879-09a0ef6a68f4/current/log_inprogress_0
2019-09-24 16:57:53,398 INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:execute(569)) - s0@group-09A0EF6A68F4-SegmentedRaftLogWorker: created new log segment /workdir/ratis-test/target/test/data/40df402d/MiniRaftClusterWithSimulatedRpc347dd568/s0/9eb3e987-0230-4f29-8879-09a0ef6a68f4/current/log_inprogress_0
2019-09-24 16:57:53,482 INFO  ratis.RaftTestUtil (RaftTestUtil.java:waitForLeader(101)) - printing ALL groups
  s0:  RUNNING  FOLLOWER s0@group-09A0EF6A68F4:t62, leader=s2, voted=s2, raftlog=s0@group-09A0EF6A68F4-SegmentedRaftLog:OPENED:c-1,f-1,i0, conf=0: [s0:0.0.0.0:42611, s1:0.0.0.0:39575, s2:0.0.0.0:34382], old=null RUNNING
  s1:  RUNNING  FOLLOWER s1@group-09A0EF6A68F4:t62, leader=s2, voted=s1, raftlog=s1@group-09A0EF6A68F4-SegmentedRaftLog:OPENED:c-1,f-1,i0, conf=0: [s0:0.0.0.0:42611, s1:0.0.0.0:39575, s2:0.0.0.0:34382], old=null RUNNING
  s2:  RUNNING    LEADER s2@group-09A0EF6A68F4:t62, leader=s2, voted=s2, raftlog=s2@group-09A0EF6A68F4-SegmentedRaftLog:OPENED:c-1,f-1,i0, conf=0: [s0:0.0.0.0:42611, s1:0.0.0.0:39575, s2:0.0.0.0:34382], old=null RUNNING
2019-09-24 16:57:53,483 DEBUG client.RaftClient (ConfUtils.java:logGet(43)) - raft.rpc.type = org.apache.ratis.server.simulation.SimulatedRpc (custom)
2019-09-24 16:57:53,483 DEBUG client.RaftClient (RaftClientImpl.java:sendRequest(275)) - client-8C1E33A216DB: send RaftClientRequest:client-8C1E33A216DB->s2@group-09A0EF6A68F4, cid=2, seq=0, RW, first msg to make leader ready
2019-09-24 16:57:53,484 DEBUG impl.RaftServerImpl (RaftServerImpl.java:submitClientRequestAsync(533)) - s2@group-09A0EF6A68F4: receive client request(RaftClientRequest:client-8C1E33A216DB->s2@group-09A0EF6A68F4, cid=2, seq=0, RW, first msg to make leader ready)
2019-09-24 16:57:53,485 DEBUG client.RaftClient (RaftClientImpl.java:sendRequest(285)) - client-8C1E33A216DB: receive RaftClientReply:client-8C1E33A216DB->s2@group-09A0EF6A68F4, cid=2, FAILED org.apache.ratis.protocol.LeaderNotReadyException: s2@group-09A0EF6A68F4 is in LEADER state but not ready yet., logIndex=0, commits[s2:c-1, s0:c-1, s1:c-1]
2019-09-24 16:57:53,585 DEBUG client.RaftClient (RaftClientImpl.java:sendRequest(275)) - client-8C1E33A216DB: send RaftClientRequest:client-8C1E33A216DB->s2@group-09A0EF6A68F4, cid=2, seq=0, RW, first msg to make leader ready
2019-09-24 16:57:53,586 DEBUG impl.RaftServerImpl (RaftServerImpl.java:submitClientRequestAsync(533)) - s2@group-09A0EF6A68F4: receive client request(RaftClientRequest:client-8C1E33A216DB->s2@group-09A0EF6A68F4, cid=2, seq=0, RW, first msg to make leader ready)
2019-09-24 16:57:53,587 DEBUG client.RaftClient (RaftClientImpl.java:sendRequest(285)) - client-8C1E33A216DB: receive RaftClientReply:client-8C1E33A216DB->s2@group-09A0EF6A68F4, cid=2, FAILED org.apache.ratis.protocol.LeaderNotReadyException: s2@group-09A0EF6A68F4 is in LEADER state but not ready yet., logIndex=0, commits[s2:c-1, s0:c-1, s1:c-1]
2019-09-24 16:57:53,687 DEBUG client.RaftClient (RaftClientImpl.java:sendRequest(275)) - client-8C1E33A216DB: send RaftClientRequest:client-8C1E33A216DB->s2@group-09A0EF6A68F4, cid=2, seq=0, RW, first msg to make leader ready
2019-09-24 16:57:53,687 DEBUG impl.RaftServerImpl (RaftServerImpl.java:submitClientRequestAsync(533)) - s2@group-09A0EF6A68F4: receive client request(RaftClientRequest:client-8C1E33A216DB->s2@group-09A0EF6A68F4, cid=2, seq=0, RW, first msg to make leader ready)
2019-09-24 16:57:53,688 DEBUG client.RaftClient (RaftClientImpl.java:sendRequest(285)) - client-8C1E33A216DB: receive RaftClientReply:client-8C1E33A216DB->s2@group-09A0EF6A68F4, cid=2, FAILED org.apache.ratis.protocol.LeaderNotReadyException: s2@group-09A0EF6A68F4 is in LEADER state but not ready yet., logIndex=0, commits[s2:c-1, s0:c-1, s1:c-1]
2019-09-24 16:57:53,789 DEBUG client.RaftClient (RaftClientImpl.java:sendRequest(275)) - client-8C1E33A216DB: send RaftClientRequest:client-8C1E33A216DB->s2@group-09A0EF6A68F4, cid=2, seq=0, RW, first msg to make leader ready
2019-09-24 16:57:53,789 DEBUG impl.RaftServerImpl (RaftServerImpl.java:submitClientRequestAsync(533)) - s2@group-09A0EF6A68F4: receive client request(RaftClientRequest:client-8C1E33A216DB->s2@group-09A0EF6A68F4, cid=2, seq=0, RW, first msg to make leader ready)
2019-09-24 16:57:53,790 DEBUG client.RaftClient (RaftClientImpl.java:sendRequest(285)) - client-8C1E33A216DB: receive RaftClientReply:client-8C1E33A216DB->s2@group-09A0EF6A68F4, cid=2, FAILED org.apache.ratis.protocol.LeaderNotReadyException: s2@group-09A0EF6A68F4 is in LEADER state but not ready yet., logIndex=0, commits[s2:c-1, s0:c-1, s1:c-1]
2019-09-24 16:57:53,890 DEBUG client.RaftClient (RaftClientImpl.java:sendRequest(275)) - client-8C1E33A216DB: send RaftClientRequest:client-8C1E33A216DB->s2@group-09A0EF6A68F4, cid=2, seq=0, RW, first msg to make leader ready
2019-09-24 16:57:53,890 DEBUG impl.RaftServerImpl (RaftServerImpl.java:submitClientRequestAsync(533)) - s2@group-09A0EF6A68F4: receive client request(RaftClientRequest:client-8C1E33A216DB->s2@group-09A0EF6A68F4, cid=2, seq=0, RW, first msg to make leader ready)
2019-09-24 16:57:53,891 DEBUG client.RaftClient (RaftClientImpl.java:sendRequest(285)) - client-8C1E33A216DB: receive RaftClientReply:client-8C1E33A216DB->s2@group-09A0EF6A68F4, cid=2, FAILED org.apache.ratis.protocol.LeaderNotReadyException: s2@group-09A0EF6A68F4 is in LEADER state but not ready yet., logIndex=0, commits[s2:c-1, s0:c-1, s1:c-1]
2019-09-24 16:57:53,991 DEBUG client.RaftClient (RaftClientImpl.java:sendRequest(275)) - client-8C1E33A216DB: send RaftClientRequest:client-8C1E33A216DB->s2@group-09A0EF6A68F4, cid=2, seq=0, RW, first msg to make leader ready
2019-09-24 16:57:53,992 DEBUG impl.RaftServerImpl (RaftServerImpl.java:submitClientRequestAsync(533)) - s2@group-09A0EF6A68F4: receive client request(RaftClientRequest:client-8C1E33A216DB->s2@group-09A0EF6A68F4, cid=2, seq=0, RW, first msg to make leader ready)
2019-09-24 16:57:53,992 DEBUG client.RaftClient (RaftClientImpl.java:sendRequest(285)) - client-8C1E33A216DB: receive RaftClientReply:client-8C1E33A216DB->s2@group-09A0EF6A68F4, cid=2, FAILED org.apache.ratis.protocol.LeaderNotReadyException: s2@group-09A0EF6A68F4 is in LEADER state but not ready yet., logIndex=0, commits[s2:c-1, s0:c-1, s1:c-1]
2019-09-24 16:57:54,093 DEBUG client.RaftClient (RaftClientImpl.java:sendRequest(275)) - client-8C1E33A216DB: send RaftClientRequest:client-8C1E33A216DB->s2@group-09A0EF6A68F4, cid=2, seq=0, RW, first msg to make leader ready
2019-09-24 16:57:54,093 DEBUG impl.RaftServerImpl (RaftServerImpl.java:submitClientRequestAsync(533)) - s2@group-09A0EF6A68F4: receive client request(RaftClientRequest:client-8C1E33A216DB->s2@group-09A0EF6A68F4, cid=2, seq=0, RW, first msg to make leader ready)
2019-09-24 16:57:54,094 DEBUG client.RaftClient (RaftClientImpl.java:sendRequest(285)) - client-8C1E33A216DB: receive RaftClientReply:client-8C1E33A216DB->s2@group-09A0EF6A68F4, cid=2, FAILED org.apache.ratis.protocol.LeaderNotReadyException: s2@group-09A0EF6A68F4 is in LEADER state but not ready yet., logIndex=0, commits[s2:c-1, s0:c-1, s1:c-1]
2019-09-24 16:57:54,194 DEBUG client.RaftClient (RaftClientImpl.java:sendRequest(275)) - client-8C1E33A216DB: send RaftClientRequest:client-8C1E33A216DB->s2@group-09A0EF6A68F4, cid=2, seq=0, RW, first msg to make leader ready
2019-09-24 16:57:54,195 DEBUG impl.RaftServerImpl (RaftServerImpl.java:submitClientRequestAsync(533)) - s2@group-09A0EF6A68F4: receive client request(RaftClientRequest:client-8C1E33A216DB->s2@group-09A0EF6A68F4, cid=2, seq=0, RW, first msg to make leader ready)
2019-09-24 16:57:54,195 DEBUG client.RaftClient (RaftClientImpl.java:sendRequest(285)) - client-8C1E33A216DB: receive RaftClientReply:client-8C1E33A216DB->s2@group-09A0EF6A68F4, cid=2, FAILED org.apache.ratis.protocol.LeaderNotReadyException: s2@group-09A0EF6A68F4 is in LEADER state but not ready yet., logIndex=0, commits[s2:c-1, s0:c-1, s1:c-1]
2019-09-24 16:57:54,296 DEBUG client.RaftClient (RaftClientImpl.java:sendRequest(275)) - client-8C1E33A216DB: send RaftClientRequest:client-8C1E33A216DB->s2@group-09A0EF6A68F4, cid=2, seq=0, RW, first msg to make leader ready
2019-09-24 16:57:54,296 DEBUG impl.RaftServerImpl (RaftServerImpl.java:submitClientRequestAsync(533)) - s2@group-09A0EF6A68F4: receive client request(RaftClientRequest:client-8C1E33A216DB->s2@group-09A0EF6A68F4, cid=2, seq=0, RW, first msg to make leader ready)
2019-09-24 16:57:54,297 DEBUG client.RaftClient (RaftClientImpl.java:sendRequest(285)) - client-8C1E33A216DB: receive RaftClientReply:client-8C1E33A216DB->s2@group-09A0EF6A68F4, cid=2, FAILED org.apache.ratis.protocol.LeaderNotReadyException: s2@group-09A0EF6A68F4 is in LEADER state but not ready yet., logIndex=0, commits[s2:c-1, s0:c-1, s1:c-1]
2019-09-24 16:57:54,397 DEBUG client.RaftClient (RaftClientImpl.java:sendRequest(275)) - client-8C1E33A216DB: send RaftClientRequest:client-8C1E33A216DB->s2@group-09A0EF6A68F4, cid=2, seq=0, RW, first msg to make leader ready
2019-09-24 16:57:54,398 DEBUG impl.RaftServerImpl (RaftServerImpl.java:submitClientRequestAsync(533)) - s2@group-09A0EF6A68F4: receive client request(RaftClientRequest:client-8C1E33A216DB->s2@group-09A0EF6A68F4, cid=2, seq=0, RW, first msg to make leader ready)
2019-09-24 16:57:54,399 DEBUG client.RaftClient (RaftClientImpl.java:sendRequest(285)) - client-8C1E33A216DB: receive RaftClientReply:client-8C1E33A216DB->s2@group-09A0EF6A68F4, cid=2, FAILED org.apache.ratis.protocol.LeaderNotReadyException: s2@group-09A0EF6A68F4 is in LEADER state but not ready yet., logIndex=0, commits[s2:c-1, s0:c-1, s1:c-1]
2019-09-24 16:57:54,499 DEBUG client.RaftClient (RaftClientImpl.java:sendRequest(275)) - client-8C1E33A216DB: send RaftClientRequest:client-8C1E33A216DB->s2@group-09A0EF6A68F4, cid=2, seq=0, RW, first msg to make leader ready
2019-09-24 16:57:54,499 DEBUG impl.RaftServerImpl (RaftServerImpl.java:submitClientRequestAsync(533)) - s2@group-09A0EF6A68F4: receive client request(RaftClientRequest:client-8C1E33A216DB->s2@group-09A0EF6A68F4, cid=2, seq=0, RW, first msg to make leader ready)
2019-09-24 16:57:54,500 DEBUG client.RaftClient (RaftClientImpl.java:sendRequest(285)) - client-8C1E33A216DB: receive RaftClientReply:client-8C1E33A216DB->s2@group-09A0EF6A68F4, cid=2, FAILED org.apache.ratis.protocol.LeaderNotReadyException: s2@group-09A0EF6A68F4 is in LEADER state but not ready yet., logIndex=0, commits[s2:c-1, s0:c-1, s1:c-1]
2019-09-24 16:57:54,600 DEBUG client.RaftClient (RaftClientImpl.java:sendRequest(275)) - client-8C1E33A216DB: send RaftClientRequest:client-8C1E33A216DB->s2@group-09A0EF6A68F4, cid=2, seq=0, RW, first msg to make leader ready
2019-09-24 16:57:54,601 DEBUG impl.RaftServerImpl (RaftServerImpl.java:submitClientRequestAsync(533)) - s2@group-09A0EF6A68F4: receive client request(RaftClientRequest:client-8C1E33A216DB->s2@group-09A0EF6A68F4, cid=2, seq=0, RW, first msg to make leader ready)
2019-09-24 16:57:54,602 DEBUG client.RaftClient (RaftClientImpl.java:sendRequest(285)) - client-8C1E33A216DB: receive RaftClientReply:client-8C1E33A216DB->s2@group-09A0EF6A68F4, cid=2, FAILED org.apache.ratis.protocol.LeaderNotReadyException: s2@group-09A0EF6A68F4 is in LEADER state but not ready yet., logIndex=0, commits[s2:c-1, s0:c-1, s1:c-1]
2019-09-24 16:57:54,702 DEBUG client.RaftClient (RaftClientImpl.java:sendRequest(275)) - client-8C1E33A216DB: send RaftClientRequest:client-8C1E33A216DB->s2@group-09A0EF6A68F4, cid=2, seq=0, RW, first msg to make leader ready
2019-09-24 16:57:54,702 DEBUG impl.RaftServerImpl (RaftServerImpl.java:submitClientRequestAsync(533)) - s2@group-09A0EF6A68F4: receive client request(RaftClientRequest:client-8C1E33A216DB->s2@group-09A0EF6A68F4, cid=2, seq=0, RW, first msg to make leader ready)
2019-09-24 16:57:54,703 DEBUG client.RaftClient (RaftClientImpl.java:sendRequest(285)) - client-8C1E33A216DB: receive RaftClientReply:client-8C1E33A216DB->s2@group-09A0EF6A68F4, cid=2, FAILED org.apache.ratis.protocol.LeaderNotReadyException: s2@group-09A0EF6A68F4 is in LEADER state but not ready yet., logIndex=0, commits[s2:c-1, s0:c-1, s1:c-1]
2019-09-24 16:57:54,804 DEBUG client.RaftClient (RaftClientImpl.java:sendRequest(275)) - client-8C1E33A216DB: send RaftClientRequest:client-8C1E33A216DB->s2@group-09A0EF6A68F4, cid=2, seq=0, RW, first msg to make leader ready
2019-09-24 16:57:54,804 DEBUG impl.RaftServerImpl (RaftServerImpl.java:submitClientRequestAsync(533)) - s2@group-09A0EF6A68F4: receive client request(RaftClientRequest:client-8C1E33A216DB->s2@group-09A0EF6A68F4, cid=2, seq=0, RW, first msg to make leader ready)
2019-09-24 16:57:54,805 DEBUG client.RaftClient (RaftClientImpl.java:sendRequest(285)) - client-8C1E33A216DB: receive RaftClientReply:client-8C1E33A216DB->s2@group-09A0EF6A68F4, cid=2, FAILED org.apache.ratis.protocol.LeaderNotReadyException: s2@group-09A0EF6A68F4 is in LEADER state but not ready yet., logIndex=0, commits[s2:c-1, s0:c-1, s1:c-1]
2019-09-24 16:57:54,905 DEBUG client.RaftClient (RaftClientImpl.java:sendRequest(275)) - client-8C1E33A216DB: send RaftClientRequest:client-8C1E33A216DB->s2@group-09A0EF6A68F4, cid=2, seq=0, RW, first msg to make leader ready
2019-09-24 16:57:54,906 DEBUG impl.RaftServerImpl (RaftServerImpl.java:submitClientRequestAsync(533)) - s2@group-09A0EF6A68F4: receive client request(RaftClientRequest:client-8C1E33A216DB->s2@group-09A0EF6A68F4, cid=2, seq=0, RW, first msg to make leader ready)
2019-09-24 16:57:54,906 DEBUG client.RaftClient (RaftClientImpl.java:sendRequest(285)) - client-8C1E33A216DB: receive RaftClientReply:client-8C1E33A216DB->s2@group-09A0EF6A68F4, cid=2, FAILED org.apache.ratis.protocol.LeaderNotReadyException: s2@group-09A0EF6A68F4 is in LEADER state but not ready yet., logIndex=0, commits[s2:c-1, s0:c-1, s1:c-1]
2019-09-24 16:57:55,007 DEBUG client.RaftClient (RaftClientImpl.java:sendRequest(275)) - client-8C1E33A216DB: send RaftClientRequest:client-8C1E33A216DB->s2@group-09A0EF6A68F4, cid=2, seq=0, RW, first msg to make leader ready
2019-09-24 16:57:55,007 DEBUG impl.RaftServerImpl (RaftServerImpl.java:submitClientRequestAsync(533)) - s2@group-09A0EF6A68F4: receive client request(RaftClientRequest:client-8C1E33A216DB->s2@group-09A0EF6A68F4, cid=2, seq=0, RW, first msg to make leader ready)
2019-09-24 16:57:55,008 DEBUG client.RaftClient (RaftClientImpl.java:sendRequest(285)) - client-8C1E33A216DB: receive RaftClientReply:client-8C1E33A216DB->s2@group-09A0EF6A68F4, cid=2, FAILED org.apache.ratis.protocol.LeaderNotReadyException: s2@group-09A0EF6A68F4 is in LEADER state but not ready yet., logIndex=0, commits[s2:c-1, s0:c-1, s1:c-1]
2019-09-24 16:57:55,108 DEBUG client.RaftClient (RaftClientImpl.java:sendRequest(275)) - client-8C1E33A216DB: send RaftClientRequest:client-8C1E33A216DB->s2@group-09A0EF6A68F4, cid=2, seq=0, RW, first msg to make leader ready
2019-09-24 16:57:55,109 DEBUG impl.RaftServerImpl (RaftServerImpl.java:submitClientRequestAsync(533)) - s2@group-09A0EF6A68F4: receive client request(RaftClientRequest:client-8C1E33A216DB->s2@group-09A0EF6A68F4, cid=2, seq=0, RW, first msg to make leader ready)
2019-09-24 16:57:55,109 DEBUG client.RaftClient (RaftClientImpl.java:sendRequest(285)) - client-8C1E33A216DB: receive RaftClientReply:client-8C1E33A216DB->s2@group-09A0EF6A68F4, cid=2, FAILED org.apache.ratis.protocol.LeaderNotReadyException: s2@group-09A0EF6A68F4 is in LEADER state but not ready yet., logIndex=0, commits[s2:c-1, s0:c-1, s1:c-1]
2019-09-24 16:57:55,210 DEBUG client.RaftClient (RaftClientImpl.java:sendRequest(275)) - client-8C1E33A216DB: send RaftClientRequest:client-8C1E33A216DB->s2@group-09A0EF6A68F4, cid=2, seq=0, RW, first msg to make leader ready
2019-09-24 16:57:55,210 DEBUG impl.RaftServerImpl (RaftServerImpl.java:submitClientRequestAsync(533)) - s2@group-09A0EF6A68F4: receive client request(RaftClientRequest:client-8C1E33A216DB->s2@group-09A0EF6A68F4, cid=2, seq=0, RW, first msg to make leader ready)
2019-09-24 16:57:55,211 DEBUG client.RaftClient (RaftClientImpl.java:sendRequest(285)) - client-8C1E33A216DB: receive RaftClientReply:client-8C1E33A216DB->s2@group-09A0EF6A68F4, cid=2, FAILED org.apache.ratis.protocol.LeaderNotReadyException: s2@group-09A0EF6A68F4 is in LEADER state but not ready yet., logIndex=0, commits[s2:c-1, s0:c-1, s1:c-1]
2019-09-24 16:57:55,311 DEBUG client.RaftClient (RaftClientImpl.java:sendRequest(275)) - client-8C1E33A216DB: send RaftClientRequest:client-8C1E33A216DB->s2@group-09A0EF6A68F4, cid=2, seq=0, RW, first msg to make leader ready
2019-09-24 16:57:55,312 DEBUG impl.RaftServerImpl (RaftServerImpl.java:submitClientRequestAsync(533)) - s2@group-09A0EF6A68F4: receive client request(RaftClientRequest:client-8C1E33A216DB->s2@group-09A0EF6A68F4, cid=2, seq=0, RW, first msg to make leader ready)
2019-09-24 16:57:55,312 DEBUG client.RaftClient (RaftClientImpl.java:sendRequest(285)) - client-8C1E33A216DB: receive RaftClientReply:client-8C1E33A216DB->s2@group-09A0EF6A68F4, cid=2, FAILED org.apache.ratis.protocol.LeaderNotReadyException: s2@group-09A0EF6A68F4 is in LEADER state but not ready yet., logIndex=0, commits[s2:c-1, s0:c-1, s1:c-1]
2019-09-24 16:57:55,413 DEBUG client.RaftClient (RaftClientImpl.java:sendRequest(275)) - client-8C1E33A216DB: send RaftClientRequest:client-8C1E33A216DB->s2@group-09A0EF6A68F4, cid=2, seq=0, RW, first msg to make leader ready
2019-09-24 16:57:55,413 DEBUG impl.RaftServerImpl (RaftServerImpl.java:submitClientRequestAsync(533)) - s2@group-09A0EF6A68F4: receive client request(RaftClientRequest:client-8C1E33A216DB->s2@group-09A0EF6A68F4, cid=2, seq=0, RW, first msg to make leader ready)
2019-09-24 16:57:55,414 DEBUG client.RaftClient (RaftClientImpl.java:sendRequest(285)) - client-8C1E33A216DB: receive RaftClientReply:client-8C1E33A216DB->s2@group-09A0EF6A68F4, cid=2, FAILED org.apache.ratis.protocol.LeaderNotReadyException: s2@group-09A0EF6A68F4 is in LEADER state but not ready yet., logIndex=0, commits[s2:c-1, s0:c-1, s1:c-1]
2019-09-24 16:57:55,514 DEBUG client.RaftClient (RaftClientImpl.java:sendRequest(275)) - client-8C1E33A216DB: send RaftClientRequest:client-8C1E33A216DB->s2@group-09A0EF6A68F4, cid=2, seq=0, RW, first msg to make leader ready
2019-09-24 16:57:55,515 DEBUG impl.RaftServerImpl (RaftServerImpl.java:submitClientRequestAsync(533)) - s2@group-09A0EF6A68F4: receive client request(RaftClientRequest:client-8C1E33A216DB->s2@group-09A0EF6A68F4, cid=2, seq=0, RW, first msg to make leader ready)
2019-09-24 16:57:55,515 DEBUG client.RaftClient (RaftClientImpl.java:sendRequest(285)) - client-8C1E33A216DB: receive RaftClientReply:client-8C1E33A216DB->s2@group-09A0EF6A68F4, cid=2, FAILED org.apache.ratis.protocol.LeaderNotReadyException: s2@group-09A0EF6A68F4 is in LEADER state but not ready yet., logIndex=0, commits[s2:c-1, s0:c-1, s1:c-1]
2019-09-24 16:57:55,615 DEBUG client.RaftClient (RaftClientImpl.java:sendRequest(275)) - client-8C1E33A216DB: send RaftClientRequest:client-8C1E33A216DB->s2@group-09A0EF6A68F4, cid=2, seq=0, RW, first msg to make leader ready
2019-09-24 16:57:55,616 DEBUG impl.RaftServerImpl (RaftServerImpl.java:submitClientRequestAsync(533)) - s2@group-09A0EF6A68F4: receive client request(RaftClientRequest:client-8C1E33A216DB->s2@group-09A0EF6A68F4, cid=2, seq=0, RW, first msg to make leader ready)
2019-09-24 16:57:55,616 DEBUG client.RaftClient (RaftClientImpl.java:sendRequest(285)) - client-8C1E33A216DB: receive RaftClientReply:client-8C1E33A216DB->s2@group-09A0EF6A68F4, cid=2, FAILED org.apache.ratis.protocol.LeaderNotReadyException: s2@group-09A0EF6A68F4 is in LEADER state but not ready yet., logIndex=0, commits[s2:c-1, s0:c-1, s1:c-1]
2019-09-24 16:57:55,717 DEBUG client.RaftClient (RaftClientImpl.java:sendRequest(275)) - client-8C1E33A216DB: send RaftClientRequest:client-8C1E33A216DB->s2@group-09A0EF6A68F4, cid=2, seq=0, RW, first msg to make leader ready
2019-09-24 16:57:55,717 DEBUG impl.RaftServerImpl (RaftServerImpl.java:submitClientRequestAsync(533)) - s2@group-09A0EF6A68F4: receive client request(RaftClientRequest:client-8C1E33A216DB->s2@group-09A0EF6A68F4, cid=2, seq=0, RW, first msg to make leader ready)
2019-09-24 16:57:55,718 DEBUG client.RaftClient (RaftClientImpl.java:sendRequest(285)) - client-8C1E33A216DB: receive RaftClientReply:client-8C1E33A216DB->s2@group-09A0EF6A68F4, cid=2, FAILED org.apache.ratis.protocol.LeaderNotReadyException: s2@group-09A0EF6A68F4 is in LEADER state but not ready yet., logIndex=0, commits[s2:c-1, s0:c-1, s1:c-1]
2019-09-24 16:57:55,818 DEBUG client.RaftClient (RaftClientImpl.java:sendRequest(275)) - client-8C1E33A216DB: send RaftClientRequest:client-8C1E33A216DB->s2@group-09A0EF6A68F4, cid=2, seq=0, RW, first msg to make leader ready
2019-09-24 16:57:55,819 DEBUG impl.RaftServerImpl (RaftServerImpl.java:submitClientRequestAsync(533)) - s2@group-09A0EF6A68F4: receive client request(RaftClientRequest:client-8C1E33A216DB->s2@group-09A0EF6A68F4, cid=2, seq=0, RW, first msg to make leader ready)
2019-09-24 16:57:55,819 DEBUG client.RaftClient (RaftClientImpl.java:sendRequest(285)) - client-8C1E33A216DB: receive RaftClientReply:client-8C1E33A216DB->s2@group-09A0EF6A68F4, cid=2, FAILED org.apache.ratis.protocol.LeaderNotReadyException: s2@group-09A0EF6A68F4 is in LEADER state but not ready yet., logIndex=0, commits[s2:c-1, s0:c-1, s1:c-1]
2019-09-24 16:57:55,920 DEBUG client.RaftClient (RaftClientImpl.java:sendRequest(275)) - client-8C1E33A216DB: send RaftClientRequest:client-8C1E33A216DB->s2@group-09A0EF6A68F4, cid=2, seq=0, RW, first msg to make leader ready
2019-09-24 16:57:55,920 DEBUG impl.RaftServerImpl (RaftServerImpl.java:submitClientRequestAsync(533)) - s2@group-09A0EF6A68F4: receive client request(RaftClientRequest:client-8C1E33A216DB->s2@group-09A0EF6A68F4, cid=2, seq=0, RW, first msg to make leader ready)
2019-09-24 16:57:55,921 DEBUG client.RaftClient (RaftClientImpl.java:sendRequest(285)) - client-8C1E33A216DB: receive RaftClientReply:client-8C1E33A216DB->s2@group-09A0EF6A68F4, cid=2, FAILED org.apache.ratis.protocol.LeaderNotReadyException: s2@group-09A0EF6A68F4 is in LEADER state but not ready yet., logIndex=0, commits[s2:c-1, s0:c-1, s1:c-1]
2019-09-24 16:57:56,021 DEBUG client.RaftClient (RaftClientImpl.java:sendRequest(275)) - client-8C1E33A216DB: send RaftClientRequest:client-8C1E33A216DB->s2@group-09A0EF6A68F4, cid=2, seq=0, RW, first msg to make leader ready
2019-09-24 16:57:56,022 DEBUG impl.RaftServerImpl (RaftServerImpl.java:submitClientRequestAsync(533)) - s2@group-09A0EF6A68F4: receive client request(RaftClientRequest:client-8C1E33A216DB->s2@group-09A0EF6A68F4, cid=2, seq=0, RW, first msg to make leader ready)
2019-09-24 16:57:56,022 DEBUG client.RaftClient (RaftClientImpl.java:sendRequest(285)) - client-8C1E33A216DB: receive RaftClientReply:client-8C1E33A216DB->s2@group-09A0EF6A68F4, cid=2, FAILED org.apache.ratis.protocol.LeaderNotReadyException: s2@group-09A0EF6A68F4 is in LEADER state but not ready yet., logIndex=0, commits[s2:c-1, s0:c-1, s1:c-1]
2019-09-24 16:57:56,075 WARN  impl.LogAppender (LogAppender.java:sendAppendEntriesWithRetries(274)) - s2@group-09A0EF6A68F4->s0-LogAppender: Failed to appendEntries (retry=1): java.io.IOException: Timeout while waiting for reply of request org.apache.ratis.server.simulation.RaftServerRequest@5fecf97
2019-09-24 16:57:56,075 WARN  impl.LogAppender (LogAppender.java:sendAppendEntriesWithRetries(274)) - s2@group-09A0EF6A68F4->s1-LogAppender: Failed to appendEntries (retry=1): java.io.IOException: Timeout while waiting for reply of request org.apache.ratis.server.simulation.RaftServerRequest@7d54ec54
2019-09-24 16:57:56,100 DEBUG impl.RaftServerImpl (RaftServerImpl.java:logAppendEntries(850)) - s0@group-09A0EF6A68F4: receive appendEntries(s2, 62, null, -1, false, commits[s2:c-1, s0:c-1, s1:c-1], entries: (t:62, i:0), CONFIGURATIONENTRY
2019-09-24 16:57:56,100 DEBUG impl.RaftServerImpl (RaftServerImpl.java:logAppendEntries(850)) - s1@group-09A0EF6A68F4: receive appendEntries(s2, 62, null, -1, false, commits[s2:c-1, s0:c-1, s1:c-1], entries: (t:62, i:0), CONFIGURATIONENTRY
2019-09-24 16:57:56,101 INFO  impl.RaftServerImpl (ServerState.java:setRaftConf(355)) - s0@group-09A0EF6A68F4: set configuration 0: [s0:0.0.0.0:42611, s1:0.0.0.0:39575, s2:0.0.0.0:34382], old=null at 0
2019-09-24 16:57:56,101 INFO  impl.RaftServerImpl (ServerState.java:setRaftConf(355)) - s1@group-09A0EF6A68F4: set configuration 0: [s0:0.0.0.0:42611, s1:0.0.0.0:39575, s2:0.0.0.0:34382], old=null at 0
2019-09-24 16:57:56,101 DEBUG raftlog.RaftLog (SegmentedRaftLog.java:appendImpl(425)) - truncateIndex=-1, arrayIndex=1
2019-09-24 16:57:56,101 DEBUG raftlog.RaftLog (SegmentedRaftLog.java:appendImpl(425)) - truncateIndex=-1, arrayIndex=1
2019-09-24 16:57:56,104 DEBUG impl.RaftServerImpl (RaftServerImpl.java:logAppendEntries(850)) - s0@group-09A0EF6A68F4: succeeded to handle AppendEntries. Reply: s2<-s0#0:OK,SUCCESS,nextIndex:1,term:62,followerCommit:-1
2019-09-24 16:57:56,105 DEBUG impl.RaftServerImpl (RaftServerImpl.java:logAppendEntries(850)) - s1@group-09A0EF6A68F4: succeeded to handle AppendEntries. Reply: s2<-s1#0:OK,SUCCESS,nextIndex:1,term:62,followerCommit:-1
2019-09-24 16:57:56,123 DEBUG client.RaftClient (RaftClientImpl.java:sendRequest(275)) - client-8C1E33A216DB: send RaftClientRequest:client-8C1E33A216DB->s2@group-09A0EF6A68F4, cid=2, seq=0, RW, first msg to make leader ready
2019-09-24 16:57:56,123 DEBUG impl.RaftServerImpl (RaftServerImpl.java:submitClientRequestAsync(533)) - s2@group-09A0EF6A68F4: receive client request(RaftClientRequest:client-8C1E33A216DB->s2@group-09A0EF6A68F4, cid=2, seq=0, RW, first msg to make leader ready)
2019-09-24 16:57:56,124 DEBUG client.RaftClient (RaftClientImpl.java:sendRequest(285)) - client-8C1E33A216DB: receive RaftClientReply:client-8C1E33A216DB->s2@group-09A0EF6A68F4, cid=2, FAILED org.apache.ratis.protocol.LeaderNotReadyException: s2@group-09A0EF6A68F4 is in LEADER state but not ready yet., logIndex=0, commits[s2:c-1, s0:c-1, s1:c-1]
2019-09-24 16:57:56,224 DEBUG client.RaftClient (RaftClientImpl.java:sendRequest(275)) - client-8C1E33A216DB: send RaftClientRequest:client-8C1E33A216DB->s2@group-09A0EF6A68F4, cid=2, seq=0, RW, first msg to make leader ready
2019-09-24 16:57:56,224 DEBUG impl.RaftServerImpl (RaftServerImpl.java:submitClientRequestAsync(533)) - s2@group-09A0EF6A68F4: receive client request(RaftClientRequest:client-8C1E33A216DB->s2@group-09A0EF6A68F4, cid=2, seq=0, RW, first msg to make leader ready)
2019-09-24 16:57:56,225 DEBUG client.RaftClient (RaftClientImpl.java:sendRequest(285)) - client-8C1E33A216DB: receive RaftClientReply:client-8C1E33A216DB->s2@group-09A0EF6A68F4, cid=2, FAILED org.apache.ratis.protocol.LeaderNotReadyException: s2@group-09A0EF6A68F4 is in LEADER state but not ready yet., logIndex=0, commits[s2:c-1, s0:c-1, s1:c-1]
2019-09-24 16:57:56,325 DEBUG client.RaftClient (RaftClientImpl.java:sendRequest(275)) - client-8C1E33A216DB: send RaftClientRequest:client-8C1E33A216DB->s2@group-09A0EF6A68F4, cid=2, seq=0, RW, first msg to make leader ready
2019-09-24 16:57:56,325 DEBUG impl.RaftServerImpl (RaftServerImpl.java:submitClientRequestAsync(533)) - s2@group-09A0EF6A68F4: receive client request(RaftClientRequest:client-8C1E33A216DB->s2@group-09A0EF6A68F4, cid=2, seq=0, RW, first msg to make leader ready)
2019-09-24 16:57:56,326 DEBUG client.RaftClient (RaftClientImpl.java:sendRequest(285)) - client-8C1E33A216DB: receive RaftClientReply:client-8C1E33A216DB->s2@group-09A0EF6A68F4, cid=2, FAILED org.apache.ratis.protocol.LeaderNotReadyException: s2@group-09A0EF6A68F4 is in LEADER state but not ready yet., logIndex=0, commits[s2:c-1, s0:c-1, s1:c-1]
2019-09-24 16:57:56,426 DEBUG client.RaftClient (RaftClientImpl.java:sendRequest(275)) - client-8C1E33A216DB: send RaftClientRequest:client-8C1E33A216DB->s2@group-09A0EF6A68F4, cid=2, seq=0, RW, first msg to make leader ready
2019-09-24 16:57:56,427 DEBUG impl.RaftServerImpl (RaftServerImpl.java:submitClientRequestAsync(533)) - s2@group-09A0EF6A68F4: receive client request(RaftClientRequest:client-8C1E33A216DB->s2@group-09A0EF6A68F4, cid=2, seq=0, RW, first msg to make leader ready)
2019-09-24 16:57:56,427 DEBUG client.RaftClient (RaftClientImpl.java:sendRequest(285)) - client-8C1E33A216DB: receive RaftClientReply:client-8C1E33A216DB->s2@group-09A0EF6A68F4, cid=2, FAILED org.apache.ratis.protocol.LeaderNotReadyException: s2@group-09A0EF6A68F4 is in LEADER state but not ready yet., logIndex=0, commits[s2:c-1, s0:c-1, s1:c-1]
2019-09-24 16:57:56,528 DEBUG client.RaftClient (RaftClientImpl.java:sendRequest(275)) - client-8C1E33A216DB: send RaftClientRequest:client-8C1E33A216DB->s2@group-09A0EF6A68F4, cid=2, seq=0, RW, first msg to make leader ready
2019-09-24 16:57:56,528 DEBUG impl.RaftServerImpl (RaftServerImpl.java:submitClientRequestAsync(533)) - s2@group-09A0EF6A68F4: receive client request(RaftClientRequest:client-8C1E33A216DB->s2@group-09A0EF6A68F4, cid=2, seq=0, RW, first msg to make leader ready)
2019-09-24 16:57:56,529 DEBUG client.RaftClient (RaftClientImpl.java:sendRequest(285)) - client-8C1E33A216DB: receive RaftClientReply:client-8C1E33A216DB->s2@group-09A0EF6A68F4, cid=2, FAILED org.apache.ratis.protocol.LeaderNotReadyException: s2@group-09A0EF6A68F4 is in LEADER state but not ready yet., logIndex=0, commits[s2:c-1, s0:c-1, s1:c-1]
2019-09-24 16:57:56,629 DEBUG client.RaftClient (RaftClientImpl.java:sendRequest(275)) - client-8C1E33A216DB: send RaftClientRequest:client-8C1E33A216DB->s2@group-09A0EF6A68F4, cid=2, seq=0, RW, first msg to make leader ready
2019-09-24 16:57:56,630 DEBUG impl.RaftServerImpl (RaftServerImpl.java:submitClientRequestAsync(533)) - s2@group-09A0EF6A68F4: receive client request(RaftClientRequest:client-8C1E33A216DB->s2@group-09A0EF6A68F4, cid=2, seq=0, RW, first msg to make leader ready)
2019-09-24 16:57:56,630 DEBUG client.RaftClient (RaftClientImpl.java:sendRequest(285)) - client-8C1E33A216DB: receive RaftClientReply:client-8C1E33A216DB->s2@group-09A0EF6A68F4, cid=2, FAILED org.apache.ratis.protocol.LeaderNotReadyException: s2@group-09A0EF6A68F4 is in LEADER state but not ready yet., logIndex=0, commits[s2:c-1, s0:c-1, s1:c-1]
2019-09-24 16:57:56,731 DEBUG client.RaftClient (RaftClientImpl.java:sendRequest(275)) - client-8C1E33A216DB: send RaftClientRequest:client-8C1E33A216DB->s2@group-09A0EF6A68F4, cid=2, seq=0, RW, first msg to make leader ready
2019-09-24 16:57:56,731 DEBUG impl.RaftServerImpl (RaftServerImpl.java:submitClientRequestAsync(533)) - s2@group-09A0EF6A68F4: receive client request(RaftClientRequest:client-8C1E33A216DB->s2@group-09A0EF6A68F4, cid=2, seq=0, RW, first msg to make leader ready)
2019-09-24 16:57:56,731 DEBUG client.RaftClient (RaftClientImpl.java:sendRequest(285)) - client-8C1E33A216DB: receive RaftClientReply:client-8C1E33A216DB->s2@group-09A0EF6A68F4, cid=2, FAILED org.apache.ratis.protocol.LeaderNotReadyException: s2@group-09A0EF6A68F4 is in LEADER state but not ready yet., logIndex=0, commits[s2:c-1, s0:c-1, s1:c-1]
2019-09-24 16:57:56,832 DEBUG client.RaftClient (RaftClientImpl.java:sendRequest(275)) - client-8C1E33A216DB: send RaftClientRequest:client-8C1E33A216DB->s2@group-09A0EF6A68F4, cid=2, seq=0, RW, first msg to make leader ready
2019-09-24 16:57:56,832 DEBUG impl.RaftServerImpl (RaftServerImpl.java:submitClientRequestAsync(533)) - s2@group-09A0EF6A68F4: receive client request(RaftClientRequest:client-8C1E33A216DB->s2@group-09A0EF6A68F4, cid=2, seq=0, RW, first msg to make leader ready)
2019-09-24 16:57:56,833 DEBUG client.RaftClient (RaftClientImpl.java:sendRequest(285)) - client-8C1E33A216DB: receive RaftClientReply:client-8C1E33A216DB->s2@group-09A0EF6A68F4, cid=2, FAILED org.apache.ratis.protocol.LeaderNotReadyException: s2@group-09A0EF6A68F4 is in LEADER state but not ready yet., logIndex=0, commits[s2:c-1, s0:c-1, s1:c-1]
2019-09-24 16:57:56,933 DEBUG client.RaftClient (RaftClientImpl.java:sendRequest(275)) - client-8C1E33A216DB: send RaftClientRequest:client-8C1E33A216DB->s2@group-09A0EF6A68F4, cid=2, seq=0, RW, first msg to make leader ready
2019-09-24 16:57:56,934 DEBUG impl.RaftServerImpl (RaftServerImpl.java:submitClientRequestAsync(533)) - s2@group-09A0EF6A68F4: receive client request(RaftClientRequest:client-8C1E33A216DB->s2@group-09A0EF6A68F4, cid=2, seq=0, RW, first msg to make leader ready)
2019-09-24 16:57:56,935 DEBUG client.RaftClient (RaftClientImpl.java:sendRequest(285)) - client-8C1E33A216DB: receive RaftClientReply:client-8C1E33A216DB->s2@group-09A0EF6A68F4, cid=2, FAILED org.apache.ratis.protocol.LeaderNotReadyException: s2@group-09A0EF6A68F4 is in LEADER state but not ready yet., logIndex=0, commits[s2:c-1, s0:c-1, s1:c-1]
2019-09-24 16:57:57,035 DEBUG client.RaftClient (RaftClientImpl.java:sendRequest(275)) - client-8C1E33A216DB: send RaftClientRequest:client-8C1E33A216DB->s2@group-09A0EF6A68F4, cid=2, seq=0, RW, first msg to make leader ready
2019-09-24 16:57:57,036 DEBUG impl.RaftServerImpl (RaftServerImpl.java:submitClientRequestAsync(533)) - s2@group-09A0EF6A68F4: receive client request(RaftClientRequest:client-8C1E33A216DB->s2@group-09A0EF6A68F4, cid=2, seq=0, RW, first msg to make leader ready)
2019-09-24 16:57:57,036 DEBUG client.RaftClient (RaftClientImpl.java:sendRequest(285)) - client-8C1E33A216DB: receive RaftClientReply:client-8C1E33A216DB->s2@group-09A0EF6A68F4, cid=2, FAILED org.apache.ratis.protocol.LeaderNotReadyException: s2@group-09A0EF6A68F4 is in LEADER state but not ready yet., logIndex=0, commits[s2:c-1, s0:c-1, s1:c-1]
2019-09-24 16:57:57,137 DEBUG client.RaftClient (RaftClientImpl.java:sendRequest(275)) - client-8C1E33A216DB: send RaftClientRequest:client-8C1E33A216DB->s2@group-09A0EF6A68F4, cid=2, seq=0, RW, first msg to make leader ready
2019-09-24 16:57:57,137 DEBUG impl.RaftServerImpl (RaftServerImpl.java:submitClientRequestAsync(533)) - s2@group-09A0EF6A68F4: receive client request(RaftClientRequest:client-8C1E33A216DB->s2@group-09A0EF6A68F4, cid=2, seq=0, RW, first msg to make leader ready)
2019-09-24 16:57:57,138 DEBUG client.RaftClient (RaftClientImpl.java:sendRequest(285)) - client-8C1E33A216DB: receive RaftClientReply:client-8C1E33A216DB->s2@group-09A0EF6A68F4, cid=2, FAILED org.apache.ratis.protocol.LeaderNotReadyException: s2@group-09A0EF6A68F4 is in LEADER state but not ready yet., logIndex=0, commits[s2:c-1, s0:c-1, s1:c-1]
2019-09-24 16:57:57,238 DEBUG client.RaftClient (RaftClientImpl.java:sendRequest(275)) - client-8C1E33A216DB: send RaftClientRequest:client-8C1E33A216DB->s2@group-09A0EF6A68F4, cid=2, seq=0, RW, first msg to make leader ready
2019-09-24 16:57:57,238 DEBUG impl.RaftServerImpl (RaftServerImpl.java:submitClientRequestAsync(533)) - s2@group-09A0EF6A68F4: receive client request(RaftClientRequest:client-8C1E33A216DB->s2@group-09A0EF6A68F4, cid=2, seq=0, RW, first msg to make leader ready)
2019-09-24 16:57:57,239 DEBUG client.RaftClient (RaftClientImpl.java:sendRequest(285)) - client-8C1E33A216DB: receive RaftClientReply:client-8C1E33A216DB->s2@group-09A0EF6A68F4, cid=2, FAILED org.apache.ratis.protocol.LeaderNotReadyException: s2@group-09A0EF6A68F4 is in LEADER state but not ready yet., logIndex=0, commits[s2:c-1, s0:c-1, s1:c-1]
2019-09-24 16:57:57,339 DEBUG client.RaftClient (RaftClientImpl.java:sendRequest(275)) - client-8C1E33A216DB: send RaftClientRequest:client-8C1E33A216DB->s2@group-09A0EF6A68F4, cid=2, seq=0, RW, first msg to make leader ready
2019-09-24 16:57:57,340 DEBUG impl.RaftServerImpl (RaftServerImpl.java:submitClientRequestAsync(533)) - s2@group-09A0EF6A68F4: receive client request(RaftClientRequest:client-8C1E33A216DB->s2@group-09A0EF6A68F4, cid=2, seq=0, RW, first msg to make leader ready)
2019-09-24 16:57:57,340 DEBUG client.RaftClient (RaftClientImpl.java:sendRequest(285)) - client-8C1E33A216DB: receive RaftClientReply:client-8C1E33A216DB->s2@group-09A0EF6A68F4, cid=2, FAILED org.apache.ratis.protocol.LeaderNotReadyException: s2@group-09A0EF6A68F4 is in LEADER state but not ready yet., logIndex=0, commits[s2:c-1, s0:c-1, s1:c-1]
2019-09-24 16:57:57,441 DEBUG client.RaftClient (RaftClientImpl.java:sendRequest(275)) - client-8C1E33A216DB: send RaftClientRequest:client-8C1E33A216DB->s2@group-09A0EF6A68F4, cid=2, seq=0, RW, first msg to make leader ready
2019-09-24 16:57:57,441 DEBUG impl.RaftServerImpl (RaftServerImpl.java:submitClientRequestAsync(533)) - s2@group-09A0EF6A68F4: receive client request(RaftClientRequest:client-8C1E33A216DB->s2@group-09A0EF6A68F4, cid=2, seq=0, RW, first msg to make leader ready)
2019-09-24 16:57:57,441 DEBUG client.RaftClient (RaftClientImpl.java:sendRequest(285)) - client-8C1E33A216DB: receive RaftClientReply:client-8C1E33A216DB->s2@group-09A0EF6A68F4, cid=2, FAILED org.apache.ratis.protocol.LeaderNotReadyException: s2@group-09A0EF6A68F4 is in LEADER state but not ready yet., logIndex=0, commits[s2:c-1, s0:c-1, s1:c-1]
2019-09-24 16:57:57,542 DEBUG client.RaftClient (RaftClientImpl.java:sendRequest(275)) - client-8C1E33A216DB: send RaftClientRequest:client-8C1E33A216DB->s2@group-09A0EF6A68F4, cid=2, seq=0, RW, first msg to make leader ready
2019-09-24 16:57:57,542 DEBUG impl.RaftServerImpl (RaftServerImpl.java:submitClientRequestAsync(533)) - s2@group-09A0EF6A68F4: receive client request(RaftClientRequest:client-8C1E33A216DB->s2@group-09A0EF6A68F4, cid=2, seq=0, RW, first msg to make leader ready)
2019-09-24 16:57:57,543 DEBUG client.RaftClient (RaftClientImpl.java:sendRequest(285)) - client-8C1E33A216DB: receive RaftClientReply:client-8C1E33A216DB->s2@group-09A0EF6A68F4, cid=2, FAILED org.apache.ratis.protocol.LeaderNotReadyException: s2@group-09A0EF6A68F4 is in LEADER state but not ready yet., logIndex=0, commits[s2:c-1, s0:c-1, s1:c-1]
2019-09-24 16:57:57,643 DEBUG client.RaftClient (RaftClientImpl.java:sendRequest(275)) - client-8C1E33A216DB: send RaftClientRequest:client-8C1E33A216DB->s2@group-09A0EF6A68F4, cid=2, seq=0, RW, first msg to make leader ready
2019-09-24 16:57:57,644 DEBUG impl.RaftServerImpl (RaftServerImpl.java:submitClientRequestAsync(533)) - s2@group-09A0EF6A68F4: receive client request(RaftClientRequest:client-8C1E33A216DB->s2@group-09A0EF6A68F4, cid=2, seq=0, RW, first msg to make leader ready)
2019-09-24 16:57:57,644 DEBUG client.RaftClient (RaftClientImpl.java:sendRequest(285)) - client-8C1E33A216DB: receive RaftClientReply:client-8C1E33A216DB->s2@group-09A0EF6A68F4, cid=2, FAILED org.apache.ratis.protocol.LeaderNotReadyException: s2@group-09A0EF6A68F4 is in LEADER state but not ready yet., logIndex=0, commits[s2:c-1, s0:c-1, s1:c-1]
2019-09-24 16:57:57,744 DEBUG client.RaftClient (RaftClientImpl.java:sendRequest(275)) - client-8C1E33A216DB: send RaftClientRequest:client-8C1E33A216DB->s2@group-09A0EF6A68F4, cid=2, seq=0, RW, first msg to make leader ready
2019-09-24 16:57:57,745 DEBUG impl.RaftServerImpl (RaftServerImpl.java:submitClientRequestAsync(533)) - s2@group-09A0EF6A68F4: receive client request(RaftClientRequest:client-8C1E33A216DB->s2@group-09A0EF6A68F4, cid=2, seq=0, RW, first msg to make leader ready)
2019-09-24 16:57:57,745 DEBUG client.RaftClient (RaftClientImpl.java:sendRequest(285)) - client-8C1E33A216DB: receive RaftClientReply:client-8C1E33A216DB->s2@group-09A0EF6A68F4, cid=2, FAILED org.apache.ratis.protocol.LeaderNotReadyException: s2@group-09A0EF6A68F4 is in LEADER state but not ready yet., logIndex=0, commits[s2:c-1, s0:c-1, s1:c-1]
2019-09-24 16:57:57,846 DEBUG client.RaftClient (RaftClientImpl.java:sendRequest(275)) - client-8C1E33A216DB: send RaftClientRequest:client-8C1E33A216DB->s2@group-09A0EF6A68F4, cid=2, seq=0, RW, first msg to make leader ready
2019-09-24 16:57:57,846 DEBUG impl.RaftServerImpl (RaftServerImpl.java:submitClientRequestAsync(533)) - s2@group-09A0EF6A68F4: receive client request(RaftClientRequest:client-8C1E33A216DB->s2@group-09A0EF6A68F4, cid=2, seq=0, RW, first msg to make leader ready)
2019-09-24 16:57:57,847 DEBUG client.RaftClient (RaftClientImpl.java:sendRequest(285)) - client-8C1E33A216DB: receive RaftClientReply:client-8C1E33A216DB->s2@group-09A0EF6A68F4, cid=2, FAILED org.apache.ratis.protocol.LeaderNotReadyException: s2@group-09A0EF6A68F4 is in LEADER state but not ready yet., logIndex=0, commits[s2:c-1, s0:c-1, s1:c-1]
2019-09-24 16:57:57,947 DEBUG client.RaftClient (RaftClientImpl.java:sendRequest(275)) - client-8C1E33A216DB: send RaftClientRequest:client-8C1E33A216DB->s2@group-09A0EF6A68F4, cid=2, seq=0, RW, first msg to make leader ready
2019-09-24 16:57:57,948 DEBUG impl.RaftServerImpl (RaftServerImpl.java:submitClientRequestAsync(533)) - s2@group-09A0EF6A68F4: receive client request(RaftClientRequest:client-8C1E33A216DB->s2@group-09A0EF6A68F4, cid=2, seq=0, RW, first msg to make leader ready)
2019-09-24 16:57:57,948 DEBUG client.RaftClient (RaftClientImpl.java:sendRequest(285)) - client-8C1E33A216DB: receive RaftClientReply:client-8C1E33A216DB->s2@group-09A0EF6A68F4, cid=2, FAILED org.apache.ratis.protocol.LeaderNotReadyException: s2@group-09A0EF6A68F4 is in LEADER state but not ready yet., logIndex=0, commits[s2:c-1, s0:c-1, s1:c-1]
2019-09-24 16:57:58,049 DEBUG client.RaftClient (RaftClientImpl.java:sendRequest(275)) - client-8C1E33A216DB: send RaftClientRequest:client-8C1E33A216DB->s2@group-09A0EF6A68F4, cid=2, seq=0, RW, first msg to make leader ready
2019-09-24 16:57:58,049 DEBUG impl.RaftServerImpl (RaftServerImpl.java:submitClientRequestAsync(533)) - s2@group-09A0EF6A68F4: receive client request(RaftClientRequest:client-8C1E33A216DB->s2@group-09A0EF6A68F4, cid=2, seq=0, RW, first msg to make leader ready)
2019-09-24 16:57:58,050 DEBUG client.RaftClient (RaftClientImpl.java:sendRequest(285)) - client-8C1E33A216DB: receive RaftClientReply:client-8C1E33A216DB->s2@group-09A0EF6A68F4, cid=2, FAILED org.apache.ratis.protocol.LeaderNotReadyException: s2@group-09A0EF6A68F4 is in LEADER state but not ready yet., logIndex=0, commits[s2:c-1, s0:c-1, s1:c-1]
2019-09-24 16:57:58,150 DEBUG client.RaftClient (RaftClientImpl.java:sendRequest(275)) - client-8C1E33A216DB: send RaftClientRequest:client-8C1E33A216DB->s2@group-09A0EF6A68F4, cid=2, seq=0, RW, first msg to make leader ready
2019-09-24 16:57:58,150 DEBUG impl.RaftServerImpl (RaftServerImpl.java:submitClientRequestAsync(533)) - s2@group-09A0EF6A68F4: receive client request(RaftClientRequest:client-8C1E33A216DB->s2@group-09A0EF6A68F4, cid=2, seq=0, RW, first msg to make leader ready)
2019-09-24 16:57:58,151 DEBUG client.RaftClient (RaftClientImpl.java:sendRequest(285)) - client-8C1E33A216DB: receive RaftClientReply:client-8C1E33A216DB->s2@group-09A0EF6A68F4, cid=2, FAILED org.apache.ratis.protocol.LeaderNotReadyException: s2@group-09A0EF6A68F4 is in LEADER state but not ready yet., logIndex=0, commits[s2:c-1, s0:c-1, s1:c-1]
2019-09-24 16:57:58,251 DEBUG client.RaftClient (RaftClientImpl.java:sendRequest(275)) - client-8C1E33A216DB: send RaftClientRequest:client-8C1E33A216DB->s2@group-09A0EF6A68F4, cid=2, seq=0, RW, first msg to make leader ready
2019-09-24 16:57:58,252 DEBUG impl.RaftServerImpl (RaftServerImpl.java:submitClientRequestAsync(533)) - s2@group-09A0EF6A68F4: receive client request(RaftClientRequest:client-8C1E33A216DB->s2@group-09A0EF6A68F4, cid=2, seq=0, RW, first msg to make leader ready)
2019-09-24 16:57:58,252 DEBUG client.RaftClient (RaftClientImpl.java:sendRequest(285)) - client-8C1E33A216DB: receive RaftClientReply:client-8C1E33A216DB->s2@group-09A0EF6A68F4, cid=2, FAILED org.apache.ratis.protocol.LeaderNotReadyException: s2@group-09A0EF6A68F4 is in LEADER state but not ready yet., logIndex=0, commits[s2:c-1, s0:c-1, s1:c-1]
2019-09-24 16:57:58,353 DEBUG client.RaftClient (RaftClientImpl.java:sendRequest(275)) - client-8C1E33A216DB: send RaftClientRequest:client-8C1E33A216DB->s2@group-09A0EF6A68F4, cid=2, seq=0, RW, first msg to make leader ready
2019-09-24 16:57:58,353 DEBUG impl.RaftServerImpl (RaftServerImpl.java:submitClientRequestAsync(533)) - s2@group-09A0EF6A68F4: receive client request(RaftClientRequest:client-8C1E33A216DB->s2@group-09A0EF6A68F4, cid=2, seq=0, RW, first msg to make leader ready)
2019-09-24 16:57:58,353 DEBUG client.RaftClient (RaftClientImpl.java:sendRequest(285)) - client-8C1E33A216DB: receive RaftClientReply:client-8C1E33A216DB->s2@group-09A0EF6A68F4, cid=2, FAILED org.apache.ratis.protocol.LeaderNotReadyException: s2@group-09A0EF6A68F4 is in LEADER state but not ready yet., logIndex=0, commits[s2:c-1, s0:c-1, s1:c-1]
2019-09-24 16:57:58,454 DEBUG client.RaftClient (RaftClientImpl.java:sendRequest(275)) - client-8C1E33A216DB: send RaftClientRequest:client-8C1E33A216DB->s2@group-09A0EF6A68F4, cid=2, seq=0, RW, first msg to make leader ready
2019-09-24 16:57:58,454 DEBUG impl.RaftServerImpl (RaftServerImpl.java:submitClientRequestAsync(533)) - s2@group-09A0EF6A68F4: receive client request(RaftClientRequest:client-8C1E33A216DB->s2@group-09A0EF6A68F4, cid=2, seq=0, RW, first msg to make leader ready)
2019-09-24 16:57:58,455 DEBUG client.RaftClient (RaftClientImpl.java:sendRequest(285)) - client-8C1E33A216DB: receive RaftClientReply:client-8C1E33A216DB->s2@group-09A0EF6A68F4, cid=2, FAILED org.apache.ratis.protocol.LeaderNotReadyException: s2@group-09A0EF6A68F4 is in LEADER state but not ready yet., logIndex=0, commits[s2:c-1, s0:c-1, s1:c-1]
2019-09-24 16:57:58,555 DEBUG client.RaftClient (RaftClientImpl.java:sendRequest(275)) - client-8C1E33A216DB: send RaftClientRequest:client-8C1E33A216DB->s2@group-09A0EF6A68F4, cid=2, seq=0, RW, first msg to make leader ready
2019-09-24 16:57:58,555 DEBUG impl.RaftServerImpl (RaftServerImpl.java:submitClientRequestAsync(533)) - s2@group-09A0EF6A68F4: receive client request(RaftClientRequest:client-8C1E33A216DB->s2@group-09A0EF6A68F4, cid=2, seq=0, RW, first msg to make leader ready)
2019-09-24 16:57:58,556 DEBUG client.RaftClient (RaftClientImpl.java:sendRequest(285)) - client-8C1E33A216DB: receive RaftClientReply:client-8C1E33A216DB->s2@group-09A0EF6A68F4, cid=2, FAILED org.apache.ratis.protocol.LeaderNotReadyException: s2@group-09A0EF6A68F4 is in LEADER state but not ready yet., logIndex=0, commits[s2:c-1, s0:c-1, s1:c-1]
2019-09-24 16:57:58,609 DEBUG impl.RaftServerImpl (RaftServerImpl.java:logAppendEntries(850)) - s1@group-09A0EF6A68F4: succeeded to handle AppendEntries. Reply: s2<-s1#0:OK,SUCCESS,nextIndex:1,term:62,followerCommit:-1
2019-09-24 16:57:58,653 DEBUG impl.RaftServerImpl (RaftServerImpl.java:logAppendEntries(850)) - s0@group-09A0EF6A68F4: succeeded to handle AppendEntries. Reply: s2<-s0#0:OK,SUCCESS,nextIndex:1,term:62,followerCommit:-1
2019-09-24 16:57:58,656 DEBUG client.RaftClient (RaftClientImpl.java:sendRequest(275)) - client-8C1E33A216DB: send RaftClientRequest:client-8C1E33A216DB->s2@group-09A0EF6A68F4, cid=2, seq=0, RW, first msg to make leader ready
2019-09-24 16:57:58,657 DEBUG impl.RaftServerImpl (RaftServerImpl.java:submitClientRequestAsync(533)) - s2@group-09A0EF6A68F4: receive client request(RaftClientRequest:client-8C1E33A216DB->s2@group-09A0EF6A68F4, cid=2, seq=0, RW, first msg to make leader ready)
2019-09-24 16:57:58,658 DEBUG impl.RaftServerImpl (LeaderState.java:addPendingRequest(317)) - s2@group-09A0EF6A68F4-LeaderState: addPendingRequest at RaftClientRequest:client-8C1E33A216DB->s2@group-09A0EF6A68F4, cid=2, seq=0, RW, first msg to make leader ready, entry=(t:62, i:1), STATEMACHINELOGENTRY, client-8C1E33A216DB, cid=2
2019-09-24 16:57:58,659 DEBUG impl.RaftServerImpl (RaftServerImpl.java:logAppendEntries(850)) - s1@group-09A0EF6A68F4: receive appendEntries(s2, 62, (t:62, i:0), 0, false, commits[s2:c0, s0:c-1, s1:c-1], entries: (t:62, i:1), STATEMACHINELOGENTRY, client-8C1E33A216DB, cid=2
2019-09-24 16:57:58,659 DEBUG impl.RaftServerImpl (RaftServerImpl.java:logAppendEntries(850)) - s0@group-09A0EF6A68F4: receive appendEntries(s2, 62, (t:62, i:0), 0, false, commits[s2:c0, s0:c-1, s1:c-1], entries: (t:62, i:1), STATEMACHINELOGENTRY, client-8C1E33A216DB, cid=2
2019-09-24 16:57:58,659 DEBUG raftlog.RaftLog (SegmentedRaftLog.java:appendImpl(425)) - truncateIndex=-1, arrayIndex=0
2019-09-24 16:57:58,659 DEBUG raftlog.RaftLog (SegmentedRaftLog.java:appendImpl(425)) - truncateIndex=-1, arrayIndex=0
2019-09-24 16:58:00,126 INFO  ratis.MiniRaftCluster (MiniRaftCluster.java:lambda$null$5(297)) - TIMED-PRINT: printing ALL groups
  s0:  RUNNING  FOLLOWER s0@group-09A0EF6A68F4:t62, leader=s2, voted=s2, raftlog=s0@group-09A0EF6A68F4-SegmentedRaftLog:OPENED:c-1,f0,i1, conf=0: [s0:0.0.0.0:42611, s1:0.0.0.0:39575, s2:0.0.0.0:34382], old=null RUNNING
  s1:  RUNNING  FOLLOWER s1@group-09A0EF6A68F4:t62, leader=s2, voted=s1, raftlog=s1@group-09A0EF6A68F4-SegmentedRaftLog:OPENED:c-1,f0,i1, conf=0: [s0:0.0.0.0:42611, s1:0.0.0.0:39575, s2:0.0.0.0:34382], old=null RUNNING
  s2:  RUNNING    LEADER s2@group-09A0EF6A68F4:t62, leader=s2, voted=s2, raftlog=s2@group-09A0EF6A68F4-SegmentedRaftLog:OPENED:c0,f0,i1, conf=0: [s0:0.0.0.0:42611, s1:0.0.0.0:39575, s2:0.0.0.0:34382], old=null RUNNING
2019-09-24 16:58:00,694 DEBUG impl.RaftServerImpl (RaftServerImpl.java:logAppendEntries(850)) - s0@group-09A0EF6A68F4: succeeded to handle AppendEntries. Reply: s2<-s0#0:OK,SUCCESS,nextIndex:2,term:62,followerCommit:0
2019-09-24 16:58:00,694 DEBUG impl.RaftServerImpl (RaftServerImpl.java:logAppendEntries(850)) - s1@group-09A0EF6A68F4: succeeded to handle AppendEntries. Reply: s2<-s1#0:OK,SUCCESS,nextIndex:2,term:62,followerCommit:0
2019-09-24 16:58:00,695 DEBUG client.RaftClient (RaftClientImpl.java:sendRequest(285)) - client-8C1E33A216DB: receive RaftClientReply:client-8C1E33A216DB->s2@group-09A0EF6A68F4, cid=2, FAILED org.apache.ratis.protocol.StateMachineException: org.apache.ratis.protocol.StateMachineException from Server s2@group-09A0EF6A68F4: Fake Exception, logIndex=1, commits[s2:c1, s0:c0, s1:c0]
2019-09-24 16:58:00,695 DEBUG impl.RaftServerImpl (RaftServerImpl.java:logAppendEntries(850)) - s0@group-09A0EF6A68F4: receive appendEntries(s2, 62, (t:62, i:1), 1, false, commits[s2:c1, s0:c0, s1:c0], entries: (t:62, i:2), METADATAENTRY(c1)
2019-09-24 16:58:00,696 DEBUG client.RaftClient (ConfUtils.java:logGet(43)) - raft.rpc.type = org.apache.ratis.server.simulation.SimulatedRpc (custom)
2019-09-24 16:58:00,695 DEBUG impl.RaftServerImpl (RaftServerImpl.java:logAppendEntries(850)) - s1@group-09A0EF6A68F4: receive appendEntries(s2, 62, (t:62, i:1), 1, false, commits[s2:c1, s0:c0, s1:c0], entries: (t:62, i:2), METADATAENTRY(c1)
2019-09-24 16:58:00,696 DEBUG raftlog.RaftLog (SegmentedRaftLog.java:appendImpl(425)) - truncateIndex=-1, arrayIndex=0
2019-09-24 16:58:00,696 DEBUG impl.RaftServerImpl (RaftServerImpl.java:submitClientRequestAsync(533)) - s2@group-09A0EF6A68F4: receive client request(RaftClientRequest:client-DBD757C720C0->s2@group-09A0EF6A68F4, cid=999, seq=0, RW, message)
2019-09-24 16:58:00,696 DEBUG raftlog.RaftLog (SegmentedRaftLog.java:appendImpl(425)) - truncateIndex=-1, arrayIndex=0
2019-09-24 16:58:00,700 INFO  impl.RaftServerImpl (RaftServerImpl.java:setRole(170)) - s2@group-09A0EF6A68F4: changes role from    LEADER to FOLLOWER at term 62 for stepDown
2019-09-24 16:58:00,700 INFO  impl.RoleInfo (RoleInfo.java:shutdownLeaderState(104)) - s2: shutdown LeaderState
2019-09-24 16:58:00,700 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.rpc.timeout.max = 300ms (default)
2019-09-24 16:58:00,701 INFO  impl.LogAppender (LogAppender.java:run(78)) - s2@group-09A0EF6A68F4->s0-LogAppender-AppenderDaemon was interrupted: java.io.InterruptedIOException: 
2019-09-24 16:58:00,701 INFO  impl.LogAppender (LogAppender.java:run(78)) - s2@group-09A0EF6A68F4->s1-LogAppender-AppenderDaemon was interrupted: java.io.InterruptedIOException: 
2019-09-24 16:58:00,702 INFO  ratis.RaftTestUtil (RaftTestUtil.java:waitForLeader(86)) - printing ALL groups
  s0:  RUNNING  FOLLOWER s0@group-09A0EF6A68F4:t62, leader=s2, voted=s2, raftlog=s0@group-09A0EF6A68F4-SegmentedRaftLog:OPENED:c0,f1,i2, conf=0: [s0:0.0.0.0:42611, s1:0.0.0.0:39575, s2:0.0.0.0:34382], old=null RUNNING
  s1:  RUNNING  FOLLOWER s1@group-09A0EF6A68F4:t62, leader=s2, voted=s1, raftlog=s1@group-09A0EF6A68F4-SegmentedRaftLog:OPENED:c0,f1,i2, conf=0: [s0:0.0.0.0:42611, s1:0.0.0.0:39575, s2:0.0.0.0:34382], old=null RUNNING
  s2:  RUNNING  FOLLOWER s2@group-09A0EF6A68F4:t62, leader=s2, voted=s2, raftlog=s2@group-09A0EF6A68F4-SegmentedRaftLog:OPENED:c1,f1,i2, conf=0: [s0:0.0.0.0:42611, s1:0.0.0.0:39575, s2:0.0.0.0:34382], old=null RUNNING
2019-09-24 16:58:00,702 WARN  ratis.RaftTestUtil (JavaUtils.java:attempt(158)) - FAILED "waitForLeader-null-(expectLeader? true)", attempt #1/100: java.lang.IllegalStateException: No leader yet : printing ALL groups
  s0:  RUNNING  FOLLOWER s0@group-09A0EF6A68F4:t62, leader=s2, voted=s2, raftlog=s0@group-09A0EF6A68F4-SegmentedRaftLog:OPENED:c0,f1,i2, conf=0: [s0:0.0.0.0:42611, s1:0.0.0.0:39575, s2:0.0.0.0:34382], old=null RUNNING
  s1:  RUNNING  FOLLOWER s1@group-09A0EF6A68F4:t62, leader=s2, voted=s1, raftlog=s1@group-09A0EF6A68F4-SegmentedRaftLog:OPENED:c0,f1,i2, conf=0: [s0:0.0.0.0:42611, s1:0.0.0.0:39575, s2:0.0.0.0:34382], old=null RUNNING
  s2:  RUNNING  FOLLOWER s2@group-09A0EF6A68F4:t62, leader=s2, voted=s2, raftlog=s2@group-09A0EF6A68F4-SegmentedRaftLog:OPENED:c1,f1,i2, conf=0: [s0:0.0.0.0:42611, s1:0.0.0.0:39575, s2:0.0.0.0:34382], old=null RUNNING, sleep 450ms and then retry.
java.lang.IllegalStateException: No leader yet : printing ALL groups
  s0:  RUNNING  FOLLOWER s0@group-09A0EF6A68F4:t62, leader=s2, voted=s2, raftlog=s0@group-09A0EF6A68F4-SegmentedRaftLog:OPENED:c0,f1,i2, conf=0: [s0:0.0.0.0:42611, s1:0.0.0.0:39575, s2:0.0.0.0:34382], old=null RUNNING
  s1:  RUNNING  FOLLOWER s1@group-09A0EF6A68F4:t62, leader=s2, voted=s1, raftlog=s1@group-09A0EF6A68F4-SegmentedRaftLog:OPENED:c0,f1,i2, conf=0: [s0:0.0.0.0:42611, s1:0.0.0.0:39575, s2:0.0.0.0:34382], old=null RUNNING
  s2:  RUNNING  FOLLOWER s2@group-09A0EF6A68F4:t62, leader=s2, voted=s2, raftlog=s2@group-09A0EF6A68F4-SegmentedRaftLog:OPENED:c1,f1,i2, conf=0: [s0:0.0.0.0:42611, s1:0.0.0.0:39575, s2:0.0.0.0:34382], old=null RUNNING
	at org.apache.ratis.MiniRaftCluster.newIllegalStateExceptionForNoLeaders(MiniRaftCluster.java:506)
	at org.apache.ratis.RaftTestUtil.lambda$waitForLeader$1(RaftTestUtil.java:90)
	at org.apache.ratis.MiniRaftCluster.getLeader(MiniRaftCluster.java:539)
	at org.apache.ratis.MiniRaftCluster.getLeader(MiniRaftCluster.java:532)
	at org.apache.ratis.RaftTestUtil.lambda$waitForLeader$3(RaftTestUtil.java:98)
	at org.apache.ratis.util.JavaUtils.attempt(JavaUtils.java:152)
	at org.apache.ratis.RaftTestUtil.waitForLeader(RaftTestUtil.java:97)
	at org.apache.ratis.RaftTestUtil.waitForLeader(RaftTestUtil.java:77)
	at org.apache.ratis.RaftTestUtil.waitForLeader(RaftTestUtil.java:72)
	at org.apache.ratis.server.impl.RaftStateMachineExceptionTests.runTestRetryOnExceptionDuringReplication(RaftStateMachineExceptionTests.java:166)
	at org.apache.ratis.MiniRaftCluster$Factory$Get.runWithNewCluster(MiniRaftCluster.java:125)
	at org.apache.ratis.MiniRaftCluster$Factory$Get.runWithNewCluster(MiniRaftCluster.java:113)
	at org.apache.ratis.server.impl.RaftStateMachineExceptionTests.testRetryOnExceptionDuringReplication(RaftStateMachineExceptionTests.java:145)
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.lang.reflect.Method.invoke(Method.java:498)
	at org.junit.runners.model.FrameworkMethod$1.runReflectiveCall(FrameworkMethod.java:50)
	at org.junit.internal.runners.model.ReflectiveCallable.run(ReflectiveCallable.java:12)
	at org.junit.runners.model.FrameworkMethod.invokeExplosively(FrameworkMethod.java:47)
	at org.junit.internal.runners.statements.InvokeMethod.evaluate(InvokeMethod.java:17)
	at org.junit.internal.runners.statements.RunAfters.evaluate(RunAfters.java:27)
	at org.junit.internal.runners.statements.FailOnTimeout$CallableStatement.call(FailOnTimeout.java:298)
	at org.junit.internal.runners.statements.FailOnTimeout$CallableStatement.call(FailOnTimeout.java:292)
	at java.util.concurrent.FutureTask.run(FutureTask.java:266)
	at java.lang.Thread.run(Thread.java:748)
2019-09-24 16:58:00,702 INFO  impl.PendingRequests (PendingRequests.java:sendNotLeaderResponses(202)) - s2@group-09A0EF6A68F4-PendingRequests: sendNotLeaderResponses
2019-09-24 16:58:00,703 INFO  impl.RoleInfo (RoleInfo.java:updateAndGet(143)) - s2: start FollowerState
2019-09-24 16:58:00,721 DEBUG impl.RaftServerImpl (RaftServerImpl.java:logAppendEntries(850)) - s0@group-09A0EF6A68F4: succeeded to handle AppendEntries. Reply: s2<-s0#0:OK,SUCCESS,nextIndex:3,term:62,followerCommit:1
2019-09-24 16:58:00,721 DEBUG impl.RaftServerImpl (RaftServerImpl.java:logAppendEntries(850)) - s1@group-09A0EF6A68F4: succeeded to handle AppendEntries. Reply: s2<-s1#0:OK,SUCCESS,nextIndex:3,term:62,followerCommit:1
2019-09-24 16:58:00,863 INFO  impl.FollowerState (FollowerState.java:run(108)) - s2@group-09A0EF6A68F4-FollowerState: change to CANDIDATE, lastRpcTime:160ms, electionTimeout:159ms
2019-09-24 16:58:00,864 INFO  impl.RoleInfo (RoleInfo.java:shutdownFollowerState(121)) - s2: shutdown FollowerState
2019-09-24 16:58:00,864 INFO  impl.RaftServerImpl (RaftServerImpl.java:setRole(170)) - s2@group-09A0EF6A68F4: changes role from  FOLLOWER to CANDIDATE at term 62 for changeToCandidate
2019-09-24 16:58:00,864 INFO  impl.RoleInfo (RoleInfo.java:updateAndGet(143)) - s2: start LeaderElection
2019-09-24 16:58:00,865 INFO  impl.RaftServerImpl (ServerState.java:setLeader(254)) - s2@group-09A0EF6A68F4: change Leader from s2 to null at term 62 for initElection
2019-09-24 16:58:00,967 INFO  impl.FollowerState (FollowerState.java:run(108)) - s1@group-09A0EF6A68F4-FollowerState: change to CANDIDATE, lastRpcTime:245ms, electionTimeout:201ms
2019-09-24 16:58:00,967 INFO  impl.RoleInfo (RoleInfo.java:shutdownFollowerState(121)) - s1: shutdown FollowerState
2019-09-24 16:58:00,967 INFO  impl.RaftServerImpl (RaftServerImpl.java:setRole(170)) - s1@group-09A0EF6A68F4: changes role from  FOLLOWER to CANDIDATE at term 62 for changeToCandidate
2019-09-24 16:58:00,967 INFO  impl.RoleInfo (RoleInfo.java:updateAndGet(143)) - s1: start LeaderElection
2019-09-24 16:58:00,968 INFO  impl.RaftServerImpl (ServerState.java:setLeader(254)) - s1@group-09A0EF6A68F4: change Leader from s2 to null at term 62 for initElection
2019-09-24 16:58:01,124 INFO  impl.FollowerState (FollowerState.java:run(108)) - s0@group-09A0EF6A68F4-FollowerState: change to CANDIDATE, lastRpcTime:403ms, electionTimeout:200ms
2019-09-24 16:58:01,124 INFO  impl.RoleInfo (RoleInfo.java:shutdownFollowerState(121)) - s0: shutdown FollowerState
2019-09-24 16:58:01,124 INFO  impl.RaftServerImpl (RaftServerImpl.java:setRole(170)) - s0@group-09A0EF6A68F4: changes role from  FOLLOWER to CANDIDATE at term 62 for changeToCandidate
2019-09-24 16:58:01,125 INFO  impl.RoleInfo (RoleInfo.java:updateAndGet(143)) - s0: start LeaderElection
2019-09-24 16:58:01,125 INFO  impl.RaftServerImpl (ServerState.java:setLeader(254)) - s0@group-09A0EF6A68F4: change Leader from s2 to null at term 62 for initElection
2019-09-24 16:58:01,154 WARN  ratis.RaftTestUtil (JavaUtils.java:attempt(158)) - FAILED "waitForLeader-null-(expectLeader? true)", attempt #2/100: java.lang.IllegalStateException: No leader yet : printing ALL groups
  s0:  RUNNING CANDIDATE s0@group-09A0EF6A68F4:t63, leader=null, voted=s0, raftlog=s0@group-09A0EF6A68F4-SegmentedRaftLog:OPENED:c1,f2,i2, conf=0: [s0:0.0.0.0:42611, s1:0.0.0.0:39575, s2:0.0.0.0:34382], old=null RUNNING
  s1:  RUNNING CANDIDATE s1@group-09A0EF6A68F4:t63, leader=null, voted=s1, raftlog=s1@group-09A0EF6A68F4-SegmentedRaftLog:OPENED:c1,f2,i2, conf=0: [s0:0.0.0.0:42611, s1:0.0.0.0:39575, s2:0.0.0.0:34382], old=null RUNNING
  s2:  RUNNING CANDIDATE s2@group-09A0EF6A68F4:t63, leader=null, voted=s2, raftlog=s2@group-09A0EF6A68F4-SegmentedRaftLog:OPENED:c1,f2,i2, conf=0: [s0:0.0.0.0:42611, s1:0.0.0.0:39575, s2:0.0.0.0:34382], old=null RUNNING, sleep 450ms and then retry.
java.lang.IllegalStateException: No leader yet : printing ALL groups
  s0:  RUNNING CANDIDATE s0@group-09A0EF6A68F4:t63, leader=null, voted=s0, raftlog=s0@group-09A0EF6A68F4-SegmentedRaftLog:OPENED:c1,f2,i2, conf=0: [s0:0.0.0.0:42611, s1:0.0.0.0:39575, s2:0.0.0.0:34382], old=null RUNNING
  s1:  RUNNING CANDIDATE s1@group-09A0EF6A68F4:t63, leader=null, voted=s1, raftlog=s1@group-09A0EF6A68F4-SegmentedRaftLog:OPENED:c1,f2,i2, conf=0: [s0:0.0.0.0:42611, s1:0.0.0.0:39575, s2:0.0.0.0:34382], old=null RUNNING
  s2:  RUNNING CANDIDATE s2@group-09A0EF6A68F4:t63, leader=null, voted=s2, raftlog=s2@group-09A0EF6A68F4-SegmentedRaftLog:OPENED:c1,f2,i2, conf=0: [s0:0.0.0.0:42611, s1:0.0.0.0:39575, s2:0.0.0.0:34382], old=null RUNNING
	at org.apache.ratis.MiniRaftCluster.newIllegalStateExceptionForNoLeaders(MiniRaftCluster.java:506)
	at org.apache.ratis.RaftTestUtil.lambda$waitForLeader$1(RaftTestUtil.java:90)
	at org.apache.ratis.MiniRaftCluster.getLeader(MiniRaftCluster.java:539)
	at org.apache.ratis.MiniRaftCluster.getLeader(MiniRaftCluster.java:532)
	at org.apache.ratis.RaftTestUtil.lambda$waitForLeader$3(RaftTestUtil.java:98)
	at org.apache.ratis.util.JavaUtils.attempt(JavaUtils.java:152)
	at org.apache.ratis.RaftTestUtil.waitForLeader(RaftTestUtil.java:97)
	at org.apache.ratis.RaftTestUtil.waitForLeader(RaftTestUtil.java:77)
	at org.apache.ratis.RaftTestUtil.waitForLeader(RaftTestUtil.java:72)
	at org.apache.ratis.server.impl.RaftStateMachineExceptionTests.runTestRetryOnExceptionDuringReplication(RaftStateMachineExceptionTests.java:166)
	at org.apache.ratis.MiniRaftCluster$Factory$Get.runWithNewCluster(MiniRaftCluster.java:125)
	at org.apache.ratis.MiniRaftCluster$Factory$Get.runWithNewCluster(MiniRaftCluster.java:113)
	at org.apache.ratis.server.impl.RaftStateMachineExceptionTests.testRetryOnExceptionDuringReplication(RaftStateMachineExceptionTests.java:145)
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.lang.reflect.Method.invoke(Method.java:498)
	at org.junit.runners.model.FrameworkMethod$1.runReflectiveCall(FrameworkMethod.java:50)
	at org.junit.internal.runners.model.ReflectiveCallable.run(ReflectiveCallable.java:12)
	at org.junit.runners.model.FrameworkMethod.invokeExplosively(FrameworkMethod.java:47)
	at org.junit.internal.runners.statements.InvokeMethod.evaluate(InvokeMethod.java:17)
	at org.junit.internal.runners.statements.RunAfters.evaluate(RunAfters.java:27)
	at org.junit.internal.runners.statements.FailOnTimeout$CallableStatement.call(FailOnTimeout.java:298)
	at org.junit.internal.runners.statements.FailOnTimeout$CallableStatement.call(FailOnTimeout.java:292)
	at java.util.concurrent.FutureTask.run(FutureTask.java:266)
	at java.lang.Thread.run(Thread.java:748)
2019-09-24 16:58:01,605 WARN  ratis.RaftTestUtil (JavaUtils.java:attempt(158)) - FAILED "waitForLeader-null-(expectLeader? true)", attempt #3/100: java.lang.IllegalStateException: No leader yet : printing ALL groups
  s0:  RUNNING CANDIDATE s0@group-09A0EF6A68F4:t63, leader=null, voted=s0, raftlog=s0@group-09A0EF6A68F4-SegmentedRaftLog:OPENED:c1,f2,i2, conf=0: [s0:0.0.0.0:42611, s1:0.0.0.0:39575, s2:0.0.0.0:34382], old=null RUNNING
  s1:  RUNNING CANDIDATE s1@group-09A0EF6A68F4:t63, leader=null, voted=s1, raftlog=s1@group-09A0EF6A68F4-SegmentedRaftLog:OPENED:c1,f2,i2, conf=0: [s0:0.0.0.0:42611, s1:0.0.0.0:39575, s2:0.0.0.0:34382], old=null RUNNING
  s2:  RUNNING CANDIDATE s2@group-09A0EF6A68F4:t63, leader=null, voted=s2, raftlog=s2@group-09A0EF6A68F4-SegmentedRaftLog:OPENED:c1,f2,i2, conf=0: [s0:0.0.0.0:42611, s1:0.0.0.0:39575, s2:0.0.0.0:34382], old=null RUNNING, sleep 450ms and then retry.
java.lang.IllegalStateException: No leader yet : printing ALL groups
  s0:  RUNNING CANDIDATE s0@group-09A0EF6A68F4:t63, leader=null, voted=s0, raftlog=s0@group-09A0EF6A68F4-SegmentedRaftLog:OPENED:c1,f2,i2, conf=0: [s0:0.0.0.0:42611, s1:0.0.0.0:39575, s2:0.0.0.0:34382], old=null RUNNING
  s1:  RUNNING CANDIDATE s1@group-09A0EF6A68F4:t63, leader=null, voted=s1, raftlog=s1@group-09A0EF6A68F4-SegmentedRaftLog:OPENED:c1,f2,i2, conf=0: [s0:0.0.0.0:42611, s1:0.0.0.0:39575, s2:0.0.0.0:34382], old=null RUNNING
  s2:  RUNNING CANDIDATE s2@group-09A0EF6A68F4:t63, leader=null, voted=s2, raftlog=s2@group-09A0EF6A68F4-SegmentedRaftLog:OPENED:c1,f2,i2, conf=0: [s0:0.0.0.0:42611, s1:0.0.0.0:39575, s2:0.0.0.0:34382], old=null RUNNING
	at org.apache.ratis.MiniRaftCluster.newIllegalStateExceptionForNoLeaders(MiniRaftCluster.java:506)
	at org.apache.ratis.RaftTestUtil.lambda$waitForLeader$1(RaftTestUtil.java:90)
	at org.apache.ratis.MiniRaftCluster.getLeader(MiniRaftCluster.java:539)
	at org.apache.ratis.MiniRaftCluster.getLeader(MiniRaftCluster.java:532)
	at org.apache.ratis.RaftTestUtil.lambda$waitForLeader$3(RaftTestUtil.java:98)
	at org.apache.ratis.util.JavaUtils.attempt(JavaUtils.java:152)
	at org.apache.ratis.RaftTestUtil.waitForLeader(RaftTestUtil.java:97)
	at org.apache.ratis.RaftTestUtil.waitForLeader(RaftTestUtil.java:77)
	at org.apache.ratis.RaftTestUtil.waitForLeader(RaftTestUtil.java:72)
	at org.apache.ratis.server.impl.RaftStateMachineExceptionTests.runTestRetryOnExceptionDuringReplication(RaftStateMachineExceptionTests.java:166)
	at org.apache.ratis.MiniRaftCluster$Factory$Get.runWithNewCluster(MiniRaftCluster.java:125)
	at org.apache.ratis.MiniRaftCluster$Factory$Get.runWithNewCluster(MiniRaftCluster.java:113)
	at org.apache.ratis.server.impl.RaftStateMachineExceptionTests.testRetryOnExceptionDuringReplication(RaftStateMachineExceptionTests.java:145)
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.lang.reflect.Method.invoke(Method.java:498)
	at org.junit.runners.model.FrameworkMethod$1.runReflectiveCall(FrameworkMethod.java:50)
	at org.junit.internal.runners.model.ReflectiveCallable.run(ReflectiveCallable.java:12)
	at org.junit.runners.model.FrameworkMethod.invokeExplosively(FrameworkMethod.java:47)
	at org.junit.internal.runners.statements.InvokeMethod.evaluate(InvokeMethod.java:17)
	at org.junit.internal.runners.statements.RunAfters.evaluate(RunAfters.java:27)
	at org.junit.internal.runners.statements.FailOnTimeout$CallableStatement.call(FailOnTimeout.java:298)
	at org.junit.internal.runners.statements.FailOnTimeout$CallableStatement.call(FailOnTimeout.java:292)
	at java.util.concurrent.FutureTask.run(FutureTask.java:266)
	at java.lang.Thread.run(Thread.java:748)
2019-09-24 16:58:02,056 WARN  ratis.RaftTestUtil (JavaUtils.java:attempt(158)) - FAILED "waitForLeader-null-(expectLeader? true)", attempt #4/100: java.lang.IllegalStateException: No leader yet : printing ALL groups
  s0:  RUNNING CANDIDATE s0@group-09A0EF6A68F4:t63, leader=null, voted=s0, raftlog=s0@group-09A0EF6A68F4-SegmentedRaftLog:OPENED:c1,f2,i2, conf=0: [s0:0.0.0.0:42611, s1:0.0.0.0:39575, s2:0.0.0.0:34382], old=null RUNNING
  s1:  RUNNING CANDIDATE s1@group-09A0EF6A68F4:t63, leader=null, voted=s1, raftlog=s1@group-09A0EF6A68F4-SegmentedRaftLog:OPENED:c1,f2,i2, conf=0: [s0:0.0.0.0:42611, s1:0.0.0.0:39575, s2:0.0.0.0:34382], old=null RUNNING
  s2:  RUNNING CANDIDATE s2@group-09A0EF6A68F4:t63, leader=null, voted=s2, raftlog=s2@group-09A0EF6A68F4-SegmentedRaftLog:OPENED:c1,f2,i2, conf=0: [s0:0.0.0.0:42611, s1:0.0.0.0:39575, s2:0.0.0.0:34382], old=null RUNNING, sleep 450ms and then retry.
java.lang.IllegalStateException: No leader yet : printing ALL groups
  s0:  RUNNING CANDIDATE s0@group-09A0EF6A68F4:t63, leader=null, voted=s0, raftlog=s0@group-09A0EF6A68F4-SegmentedRaftLog:OPENED:c1,f2,i2, conf=0: [s0:0.0.0.0:42611, s1:0.0.0.0:39575, s2:0.0.0.0:34382], old=null RUNNING
  s1:  RUNNING CANDIDATE s1@group-09A0EF6A68F4:t63, leader=null, voted=s1, raftlog=s1@group-09A0EF6A68F4-SegmentedRaftLog:OPENED:c1,f2,i2, conf=0: [s0:0.0.0.0:42611, s1:0.0.0.0:39575, s2:0.0.0.0:34382], old=null RUNNING
  s2:  RUNNING CANDIDATE s2@group-09A0EF6A68F4:t63, leader=null, voted=s2, raftlog=s2@group-09A0EF6A68F4-SegmentedRaftLog:OPENED:c1,f2,i2, conf=0: [s0:0.0.0.0:42611, s1:0.0.0.0:39575, s2:0.0.0.0:34382], old=null RUNNING
	at org.apache.ratis.MiniRaftCluster.newIllegalStateExceptionForNoLeaders(MiniRaftCluster.java:506)
	at org.apache.ratis.RaftTestUtil.lambda$waitForLeader$1(RaftTestUtil.java:90)
	at org.apache.ratis.MiniRaftCluster.getLeader(MiniRaftCluster.java:539)
	at org.apache.ratis.MiniRaftCluster.getLeader(MiniRaftCluster.java:532)
	at org.apache.ratis.RaftTestUtil.lambda$waitForLeader$3(RaftTestUtil.java:98)
	at org.apache.ratis.util.JavaUtils.attempt(JavaUtils.java:152)
	at org.apache.ratis.RaftTestUtil.waitForLeader(RaftTestUtil.java:97)
	at org.apache.ratis.RaftTestUtil.waitForLeader(RaftTestUtil.java:77)
	at org.apache.ratis.RaftTestUtil.waitForLeader(RaftTestUtil.java:72)
	at org.apache.ratis.server.impl.RaftStateMachineExceptionTests.runTestRetryOnExceptionDuringReplication(RaftStateMachineExceptionTests.java:166)
	at org.apache.ratis.MiniRaftCluster$Factory$Get.runWithNewCluster(MiniRaftCluster.java:125)
	at org.apache.ratis.MiniRaftCluster$Factory$Get.runWithNewCluster(MiniRaftCluster.java:113)
	at org.apache.ratis.server.impl.RaftStateMachineExceptionTests.testRetryOnExceptionDuringReplication(RaftStateMachineExceptionTests.java:145)
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.lang.reflect.Method.invoke(Method.java:498)
	at org.junit.runners.model.FrameworkMethod$1.runReflectiveCall(FrameworkMethod.java:50)
	at org.junit.internal.runners.model.ReflectiveCallable.run(ReflectiveCallable.java:12)
	at org.junit.runners.model.FrameworkMethod.invokeExplosively(FrameworkMethod.java:47)
	at org.junit.internal.runners.statements.InvokeMethod.evaluate(InvokeMethod.java:17)
	at org.junit.internal.runners.statements.RunAfters.evaluate(RunAfters.java:27)
	at org.junit.internal.runners.statements.FailOnTimeout$CallableStatement.call(FailOnTimeout.java:298)
	at org.junit.internal.runners.statements.FailOnTimeout$CallableStatement.call(FailOnTimeout.java:292)
	at java.util.concurrent.FutureTask.run(FutureTask.java:266)
	at java.lang.Thread.run(Thread.java:748)
2019-09-24 16:58:02,507 WARN  ratis.RaftTestUtil (JavaUtils.java:attempt(158)) - FAILED "waitForLeader-null-(expectLeader? true)", attempt #5/100: java.lang.IllegalStateException: No leader yet : printing ALL groups
  s0:  RUNNING CANDIDATE s0@group-09A0EF6A68F4:t63, leader=null, voted=s0, raftlog=s0@group-09A0EF6A68F4-SegmentedRaftLog:OPENED:c1,f2,i2, conf=0: [s0:0.0.0.0:42611, s1:0.0.0.0:39575, s2:0.0.0.0:34382], old=null RUNNING
  s1:  RUNNING CANDIDATE s1@group-09A0EF6A68F4:t63, leader=null, voted=s1, raftlog=s1@group-09A0EF6A68F4-SegmentedRaftLog:OPENED:c1,f2,i2, conf=0: [s0:0.0.0.0:42611, s1:0.0.0.0:39575, s2:0.0.0.0:34382], old=null RUNNING
  s2:  RUNNING CANDIDATE s2@group-09A0EF6A68F4:t63, leader=null, voted=s2, raftlog=s2@group-09A0EF6A68F4-SegmentedRaftLog:OPENED:c1,f2,i2, conf=0: [s0:0.0.0.0:42611, s1:0.0.0.0:39575, s2:0.0.0.0:34382], old=null RUNNING, sleep 450ms and then retry.
java.lang.IllegalStateException: No leader yet : printing ALL groups
  s0:  RUNNING CANDIDATE s0@group-09A0EF6A68F4:t63, leader=null, voted=s0, raftlog=s0@group-09A0EF6A68F4-SegmentedRaftLog:OPENED:c1,f2,i2, conf=0: [s0:0.0.0.0:42611, s1:0.0.0.0:39575, s2:0.0.0.0:34382], old=null RUNNING
  s1:  RUNNING CANDIDATE s1@group-09A0EF6A68F4:t63, leader=null, voted=s1, raftlog=s1@group-09A0EF6A68F4-SegmentedRaftLog:OPENED:c1,f2,i2, conf=0: [s0:0.0.0.0:42611, s1:0.0.0.0:39575, s2:0.0.0.0:34382], old=null RUNNING
  s2:  RUNNING CANDIDATE s2@group-09A0EF6A68F4:t63, leader=null, voted=s2, raftlog=s2@group-09A0EF6A68F4-SegmentedRaftLog:OPENED:c1,f2,i2, conf=0: [s0:0.0.0.0:42611, s1:0.0.0.0:39575, s2:0.0.0.0:34382], old=null RUNNING
	at org.apache.ratis.MiniRaftCluster.newIllegalStateExceptionForNoLeaders(MiniRaftCluster.java:506)
	at org.apache.ratis.RaftTestUtil.lambda$waitForLeader$1(RaftTestUtil.java:90)
	at org.apache.ratis.MiniRaftCluster.getLeader(MiniRaftCluster.java:539)
	at org.apache.ratis.MiniRaftCluster.getLeader(MiniRaftCluster.java:532)
	at org.apache.ratis.RaftTestUtil.lambda$waitForLeader$3(RaftTestUtil.java:98)
	at org.apache.ratis.util.JavaUtils.attempt(JavaUtils.java:152)
	at org.apache.ratis.RaftTestUtil.waitForLeader(RaftTestUtil.java:97)
	at org.apache.ratis.RaftTestUtil.waitForLeader(RaftTestUtil.java:77)
	at org.apache.ratis.RaftTestUtil.waitForLeader(RaftTestUtil.java:72)
	at org.apache.ratis.server.impl.RaftStateMachineExceptionTests.runTestRetryOnExceptionDuringReplication(RaftStateMachineExceptionTests.java:166)
	at org.apache.ratis.MiniRaftCluster$Factory$Get.runWithNewCluster(MiniRaftCluster.java:125)
	at org.apache.ratis.MiniRaftCluster$Factory$Get.runWithNewCluster(MiniRaftCluster.java:113)
	at org.apache.ratis.server.impl.RaftStateMachineExceptionTests.testRetryOnExceptionDuringReplication(RaftStateMachineExceptionTests.java:145)
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.lang.reflect.Method.invoke(Method.java:498)
	at org.junit.runners.model.FrameworkMethod$1.runReflectiveCall(FrameworkMethod.java:50)
	at org.junit.internal.runners.model.ReflectiveCallable.run(ReflectiveCallable.java:12)
	at org.junit.runners.model.FrameworkMethod.invokeExplosively(FrameworkMethod.java:47)
	at org.junit.internal.runners.statements.InvokeMethod.evaluate(InvokeMethod.java:17)
	at org.junit.internal.runners.statements.RunAfters.evaluate(RunAfters.java:27)
	at org.junit.internal.runners.statements.FailOnTimeout$CallableStatement.call(FailOnTimeout.java:298)
	at org.junit.internal.runners.statements.FailOnTimeout$CallableStatement.call(FailOnTimeout.java:292)
	at java.util.concurrent.FutureTask.run(FutureTask.java:266)
	at java.lang.Thread.run(Thread.java:748)
2019-09-24 16:58:02,959 WARN  ratis.RaftTestUtil (JavaUtils.java:attempt(158)) - FAILED "waitForLeader-null-(expectLeader? true)", attempt #6/100: java.lang.IllegalStateException: No leader yet : printing ALL groups
  s0:  RUNNING CANDIDATE s0@group-09A0EF6A68F4:t63, leader=null, voted=s0, raftlog=s0@group-09A0EF6A68F4-SegmentedRaftLog:OPENED:c1,f2,i2, conf=0: [s0:0.0.0.0:42611, s1:0.0.0.0:39575, s2:0.0.0.0:34382], old=null RUNNING
  s1:  RUNNING CANDIDATE s1@group-09A0EF6A68F4:t63, leader=null, voted=s1, raftlog=s1@group-09A0EF6A68F4-SegmentedRaftLog:OPENED:c1,f2,i2, conf=0: [s0:0.0.0.0:42611, s1:0.0.0.0:39575, s2:0.0.0.0:34382], old=null RUNNING
  s2:  RUNNING CANDIDATE s2@group-09A0EF6A68F4:t63, leader=null, voted=s2, raftlog=s2@group-09A0EF6A68F4-SegmentedRaftLog:OPENED:c1,f2,i2, conf=0: [s0:0.0.0.0:42611, s1:0.0.0.0:39575, s2:0.0.0.0:34382], old=null RUNNING, sleep 450ms and then retry.
java.lang.IllegalStateException: No leader yet : printing ALL groups
  s0:  RUNNING CANDIDATE s0@group-09A0EF6A68F4:t63, leader=null, voted=s0, raftlog=s0@group-09A0EF6A68F4-SegmentedRaftLog:OPENED:c1,f2,i2, conf=0: [s0:0.0.0.0:42611, s1:0.0.0.0:39575, s2:0.0.0.0:34382], old=null RUNNING
  s1:  RUNNING CANDIDATE s1@group-09A0EF6A68F4:t63, leader=null, voted=s1, raftlog=s1@group-09A0EF6A68F4-SegmentedRaftLog:OPENED:c1,f2,i2, conf=0: [s0:0.0.0.0:42611, s1:0.0.0.0:39575, s2:0.0.0.0:34382], old=null RUNNING
  s2:  RUNNING CANDIDATE s2@group-09A0EF6A68F4:t63, leader=null, voted=s2, raftlog=s2@group-09A0EF6A68F4-SegmentedRaftLog:OPENED:c1,f2,i2, conf=0: [s0:0.0.0.0:42611, s1:0.0.0.0:39575, s2:0.0.0.0:34382], old=null RUNNING
	at org.apache.ratis.MiniRaftCluster.newIllegalStateExceptionForNoLeaders(MiniRaftCluster.java:506)
	at org.apache.ratis.RaftTestUtil.lambda$waitForLeader$1(RaftTestUtil.java:90)
	at org.apache.ratis.MiniRaftCluster.getLeader(MiniRaftCluster.java:539)
	at org.apache.ratis.MiniRaftCluster.getLeader(MiniRaftCluster.java:532)
	at org.apache.ratis.RaftTestUtil.lambda$waitForLeader$3(RaftTestUtil.java:98)
	at org.apache.ratis.util.JavaUtils.attempt(JavaUtils.java:152)
	at org.apache.ratis.RaftTestUtil.waitForLeader(RaftTestUtil.java:97)
	at org.apache.ratis.RaftTestUtil.waitForLeader(RaftTestUtil.java:77)
	at org.apache.ratis.RaftTestUtil.waitForLeader(RaftTestUtil.java:72)
	at org.apache.ratis.server.impl.RaftStateMachineExceptionTests.runTestRetryOnExceptionDuringReplication(RaftStateMachineExceptionTests.java:166)
	at org.apache.ratis.MiniRaftCluster$Factory$Get.runWithNewCluster(MiniRaftCluster.java:125)
	at org.apache.ratis.MiniRaftCluster$Factory$Get.runWithNewCluster(MiniRaftCluster.java:113)
	at org.apache.ratis.server.impl.RaftStateMachineExceptionTests.testRetryOnExceptionDuringReplication(RaftStateMachineExceptionTests.java:145)
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.lang.reflect.Method.invoke(Method.java:498)
	at org.junit.runners.model.FrameworkMethod$1.runReflectiveCall(FrameworkMethod.java:50)
	at org.junit.internal.runners.model.ReflectiveCallable.run(ReflectiveCallable.java:12)
	at org.junit.runners.model.FrameworkMethod.invokeExplosively(FrameworkMethod.java:47)
	at org.junit.internal.runners.statements.InvokeMethod.evaluate(InvokeMethod.java:17)
	at org.junit.internal.runners.statements.RunAfters.evaluate(RunAfters.java:27)
	at org.junit.internal.runners.statements.FailOnTimeout$CallableStatement.call(FailOnTimeout.java:298)
	at org.junit.internal.runners.statements.FailOnTimeout$CallableStatement.call(FailOnTimeout.java:292)
	at java.util.concurrent.FutureTask.run(FutureTask.java:266)
	at java.lang.Thread.run(Thread.java:748)
2019-09-24 16:58:03,299 INFO  impl.LeaderElection (LeaderElection.java:askForVotes(178)) - s1@group-09A0EF6A68F4-LeaderElection153: begin an election at term 63 for 0: [s0:0.0.0.0:42611, s1:0.0.0.0:39575, s2:0.0.0.0:34382], old=null
2019-09-24 16:58:03,299 INFO  impl.LeaderElection (LeaderElection.java:askForVotes(178)) - s2@group-09A0EF6A68F4-LeaderElection152: begin an election at term 63 for 0: [s0:0.0.0.0:42611, s1:0.0.0.0:39575, s2:0.0.0.0:34382], old=null
2019-09-24 16:58:03,299 INFO  impl.LeaderElection (LeaderElection.java:askForVotes(178)) - s0@group-09A0EF6A68F4-LeaderElection154: begin an election at term 63 for 0: [s0:0.0.0.0:42611, s1:0.0.0.0:39575, s2:0.0.0.0:34382], old=null
2019-09-24 16:58:03,300 DEBUG impl.RaftServerImpl (RaftServerImpl.java:requestVote(743)) - s0@group-09A0EF6A68F4: receive requestVote(s1, group-09A0EF6A68F4, 63, (t:62, i:2))
2019-09-24 16:58:03,300 DEBUG impl.RaftServerImpl (RaftServerImpl.java:requestVote(743)) - s1@group-09A0EF6A68F4: receive requestVote(s0, group-09A0EF6A68F4, 63, (t:62, i:2))
2019-09-24 16:58:03,300 DEBUG impl.RaftServerImpl (RaftServerImpl.java:requestVote(775)) - s0@group-09A0EF6A68F4 replies to vote request: s1<-s0#0:FAIL-t63. Peer's state: s0@group-09A0EF6A68F4:t63, leader=null, voted=s0, raftlog=s0@group-09A0EF6A68F4-SegmentedRaftLog:OPENED:c1,f2,i2, conf=0: [s0:0.0.0.0:42611, s1:0.0.0.0:39575, s2:0.0.0.0:34382], old=null
2019-09-24 16:58:03,301 DEBUG impl.RaftServerImpl (RaftServerImpl.java:requestVote(743)) - s0@group-09A0EF6A68F4: receive requestVote(s2, group-09A0EF6A68F4, 63, (t:62, i:2))
2019-09-24 16:58:03,301 DEBUG impl.RaftServerImpl (RaftServerImpl.java:requestVote(743)) - s2@group-09A0EF6A68F4: receive requestVote(s1, group-09A0EF6A68F4, 63, (t:62, i:2))
2019-09-24 16:58:03,301 DEBUG impl.RaftServerImpl (RaftServerImpl.java:requestVote(775)) - s1@group-09A0EF6A68F4 replies to vote request: s0<-s1#0:FAIL-t63. Peer's state: s1@group-09A0EF6A68F4:t63, leader=null, voted=s1, raftlog=s1@group-09A0EF6A68F4-SegmentedRaftLog:OPENED:c1,f2,i2, conf=0: [s0:0.0.0.0:42611, s1:0.0.0.0:39575, s2:0.0.0.0:34382], old=null
2019-09-24 16:58:03,301 DEBUG impl.RaftServerImpl (RaftServerImpl.java:requestVote(775)) - s2@group-09A0EF6A68F4 replies to vote request: s1<-s2#0:FAIL-t63. Peer's state: s2@group-09A0EF6A68F4:t63, leader=null, voted=s2, raftlog=s2@group-09A0EF6A68F4-SegmentedRaftLog:OPENED:c1,f2,i2, conf=0: [s0:0.0.0.0:42611, s1:0.0.0.0:39575, s2:0.0.0.0:34382], old=null
2019-09-24 16:58:03,301 DEBUG impl.RaftServerImpl (RaftServerImpl.java:requestVote(775)) - s0@group-09A0EF6A68F4 replies to vote request: s2<-s0#0:FAIL-t63. Peer's state: s0@group-09A0EF6A68F4:t63, leader=null, voted=s0, raftlog=s0@group-09A0EF6A68F4-SegmentedRaftLog:OPENED:c1,f2,i2, conf=0: [s0:0.0.0.0:42611, s1:0.0.0.0:39575, s2:0.0.0.0:34382], old=null
2019-09-24 16:58:03,301 DEBUG impl.RaftServerImpl (RaftServerImpl.java:requestVote(743)) - s1@group-09A0EF6A68F4: receive requestVote(s2, group-09A0EF6A68F4, 63, (t:62, i:2))
2019-09-24 16:58:03,301 DEBUG impl.RaftServerImpl (RaftServerImpl.java:requestVote(743)) - s2@group-09A0EF6A68F4: receive requestVote(s0, group-09A0EF6A68F4, 63, (t:62, i:2))
2019-09-24 16:58:03,302 DEBUG impl.RaftServerImpl (RaftServerImpl.java:requestVote(775)) - s1@group-09A0EF6A68F4 replies to vote request: s2<-s1#0:FAIL-t63. Peer's state: s1@group-09A0EF6A68F4:t63, leader=null, voted=s1, raftlog=s1@group-09A0EF6A68F4-SegmentedRaftLog:OPENED:c1,f2,i2, conf=0: [s0:0.0.0.0:42611, s1:0.0.0.0:39575, s2:0.0.0.0:34382], old=null
2019-09-24 16:58:03,302 INFO  impl.LeaderElection (LeaderElection.java:logAndReturn(56)) - s1@group-09A0EF6A68F4-LeaderElection153: Election REJECTED; received 2 response(s) [s1<-s0#0:FAIL-t63, s1<-s2#0:FAIL-t63] and 0 exception(s); s1@group-09A0EF6A68F4:t63, leader=null, voted=s1, raftlog=s1@group-09A0EF6A68F4-SegmentedRaftLog:OPENED:c1,f2,i2, conf=0: [s0:0.0.0.0:42611, s1:0.0.0.0:39575, s2:0.0.0.0:34382], old=null
2019-09-24 16:58:03,302 DEBUG impl.RaftServerImpl (RaftServerImpl.java:requestVote(775)) - s2@group-09A0EF6A68F4 replies to vote request: s0<-s2#0:FAIL-t63. Peer's state: s2@group-09A0EF6A68F4:t63, leader=null, voted=s2, raftlog=s2@group-09A0EF6A68F4-SegmentedRaftLog:OPENED:c1,f2,i2, conf=0: [s0:0.0.0.0:42611, s1:0.0.0.0:39575, s2:0.0.0.0:34382], old=null
2019-09-24 16:58:03,302 INFO  impl.RaftServerImpl (RaftServerImpl.java:setRole(170)) - s1@group-09A0EF6A68F4: changes role from CANDIDATE to FOLLOWER at term 63 for DISCOVERED_A_NEW_TERM
2019-09-24 16:58:03,302 INFO  impl.LeaderElection (LeaderElection.java:logAndReturn(56)) - s2@group-09A0EF6A68F4-LeaderElection152: Election REJECTED; received 2 response(s) [s2<-s0#0:FAIL-t63, s2<-s1#0:FAIL-t63] and 0 exception(s); s2@group-09A0EF6A68F4:t63, leader=null, voted=s2, raftlog=s2@group-09A0EF6A68F4-SegmentedRaftLog:OPENED:c1,f2,i2, conf=0: [s0:0.0.0.0:42611, s1:0.0.0.0:39575, s2:0.0.0.0:34382], old=null
2019-09-24 16:58:03,303 INFO  impl.LeaderElection (LeaderElection.java:logAndReturn(56)) - s0@group-09A0EF6A68F4-LeaderElection154: Election REJECTED; received 2 response(s) [s0<-s1#0:FAIL-t63, s0<-s2#0:FAIL-t63] and 0 exception(s); s0@group-09A0EF6A68F4:t63, leader=null, voted=s0, raftlog=s0@group-09A0EF6A68F4-SegmentedRaftLog:OPENED:c1,f2,i2, conf=0: [s0:0.0.0.0:42611, s1:0.0.0.0:39575, s2:0.0.0.0:34382], old=null
2019-09-24 16:58:03,303 INFO  impl.RoleInfo (RoleInfo.java:shutdownLeaderElection(134)) - s1: shutdown LeaderElection
2019-09-24 16:58:03,303 INFO  impl.RaftServerImpl (RaftServerImpl.java:setRole(170)) - s0@group-09A0EF6A68F4: changes role from CANDIDATE to FOLLOWER at term 63 for DISCOVERED_A_NEW_TERM
2019-09-24 16:58:03,303 INFO  impl.RoleInfo (RoleInfo.java:shutdownLeaderElection(134)) - s0: shutdown LeaderElection
2019-09-24 16:58:03,303 INFO  impl.RaftServerImpl (RaftServerImpl.java:setRole(170)) - s2@group-09A0EF6A68F4: changes role from CANDIDATE to FOLLOWER at term 63 for DISCOVERED_A_NEW_TERM
2019-09-24 16:58:03,304 INFO  impl.RoleInfo (RoleInfo.java:updateAndGet(143)) - s0: start FollowerState
2019-09-24 16:58:03,303 INFO  impl.RoleInfo (RoleInfo.java:updateAndGet(143)) - s1: start FollowerState
2019-09-24 16:58:03,304 INFO  impl.RoleInfo (RoleInfo.java:shutdownLeaderElection(134)) - s2: shutdown LeaderElection
2019-09-24 16:58:03,304 INFO  impl.RoleInfo (RoleInfo.java:updateAndGet(143)) - s2: start FollowerState
2019-09-24 16:58:03,411 WARN  ratis.RaftTestUtil (JavaUtils.java:attempt(158)) - FAILED "waitForLeader-null-(expectLeader? true)", attempt #7/100: java.lang.IllegalStateException: No leader yet : printing ALL groups
  s0:  RUNNING  FOLLOWER s0@group-09A0EF6A68F4:t63, leader=null, voted=s0, raftlog=s0@group-09A0EF6A68F4-SegmentedRaftLog:OPENED:c1,f2,i2, conf=0: [s0:0.0.0.0:42611, s1:0.0.0.0:39575, s2:0.0.0.0:34382], old=null RUNNING
  s1:  RUNNING  FOLLOWER s1@group-09A0EF6A68F4:t63, leader=null, voted=s1, raftlog=s1@group-09A0EF6A68F4-SegmentedRaftLog:OPENED:c1,f2,i2, conf=0: [s0:0.0.0.0:42611, s1:0.0.0.0:39575, s2:0.0.0.0:34382], old=null RUNNING
  s2:  RUNNING  FOLLOWER s2@group-09A0EF6A68F4:t63, leader=null, voted=s2, raftlog=s2@group-09A0EF6A68F4-SegmentedRaftLog:OPENED:c1,f2,i2, conf=0: [s0:0.0.0.0:42611, s1:0.0.0.0:39575, s2:0.0.0.0:34382], old=null RUNNING, sleep 450ms and then retry.
java.lang.IllegalStateException: No leader yet : printing ALL groups
  s0:  RUNNING  FOLLOWER s0@group-09A0EF6A68F4:t63, leader=null, voted=s0, raftlog=s0@group-09A0EF6A68F4-SegmentedRaftLog:OPENED:c1,f2,i2, conf=0: [s0:0.0.0.0:42611, s1:0.0.0.0:39575, s2:0.0.0.0:34382], old=null RUNNING
  s1:  RUNNING  FOLLOWER s1@group-09A0EF6A68F4:t63, leader=null, voted=s1, raftlog=s1@group-09A0EF6A68F4-SegmentedRaftLog:OPENED:c1,f2,i2, conf=0: [s0:0.0.0.0:42611, s1:0.0.0.0:39575, s2:0.0.0.0:34382], old=null RUNNING
  s2:  RUNNING  FOLLOWER s2@group-09A0EF6A68F4:t63, leader=null, voted=s2, raftlog=s2@group-09A0EF6A68F4-SegmentedRaftLog:OPENED:c1,f2,i2, conf=0: [s0:0.0.0.0:42611, s1:0.0.0.0:39575, s2:0.0.0.0:34382], old=null RUNNING
	at org.apache.ratis.MiniRaftCluster.newIllegalStateExceptionForNoLeaders(MiniRaftCluster.java:506)
	at org.apache.ratis.RaftTestUtil.lambda$waitForLeader$1(RaftTestUtil.java:90)
	at org.apache.ratis.MiniRaftCluster.getLeader(MiniRaftCluster.java:539)
	at org.apache.ratis.MiniRaftCluster.getLeader(MiniRaftCluster.java:532)
	at org.apache.ratis.RaftTestUtil.lambda$waitForLeader$3(RaftTestUtil.java:98)
	at org.apache.ratis.util.JavaUtils.attempt(JavaUtils.java:152)
	at org.apache.ratis.RaftTestUtil.waitForLeader(RaftTestUtil.java:97)
	at org.apache.ratis.RaftTestUtil.waitForLeader(RaftTestUtil.java:77)
	at org.apache.ratis.RaftTestUtil.waitForLeader(RaftTestUtil.java:72)
	at org.apache.ratis.server.impl.RaftStateMachineExceptionTests.runTestRetryOnExceptionDuringReplication(RaftStateMachineExceptionTests.java:166)
	at org.apache.ratis.MiniRaftCluster$Factory$Get.runWithNewCluster(MiniRaftCluster.java:125)
	at org.apache.ratis.MiniRaftCluster$Factory$Get.runWithNewCluster(MiniRaftCluster.java:113)
	at org.apache.ratis.server.impl.RaftStateMachineExceptionTests.testRetryOnExceptionDuringReplication(RaftStateMachineExceptionTests.java:145)
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.lang.reflect.Method.invoke(Method.java:498)
	at org.junit.runners.model.FrameworkMethod$1.runReflectiveCall(FrameworkMethod.java:50)
	at org.junit.internal.runners.model.ReflectiveCallable.run(ReflectiveCallable.java:12)
	at org.junit.runners.model.FrameworkMethod.invokeExplosively(FrameworkMethod.java:47)
	at org.junit.internal.runners.statements.InvokeMethod.evaluate(InvokeMethod.java:17)
	at org.junit.internal.runners.statements.RunAfters.evaluate(RunAfters.java:27)
	at org.junit.internal.runners.statements.FailOnTimeout$CallableStatement.call(FailOnTimeout.java:298)
	at org.junit.internal.runners.statements.FailOnTimeout$CallableStatement.call(FailOnTimeout.java:292)
	at java.util.concurrent.FutureTask.run(FutureTask.java:266)
	at java.lang.Thread.run(Thread.java:748)
2019-09-24 16:58:03,462 INFO  impl.FollowerState (FollowerState.java:run(108)) - s1@group-09A0EF6A68F4-FollowerState: change to CANDIDATE, lastRpcTime:158ms, electionTimeout:157ms
2019-09-24 16:58:03,462 INFO  impl.RoleInfo (RoleInfo.java:shutdownFollowerState(121)) - s1: shutdown FollowerState
2019-09-24 16:58:03,462 INFO  impl.RaftServerImpl (RaftServerImpl.java:setRole(170)) - s1@group-09A0EF6A68F4: changes role from  FOLLOWER to CANDIDATE at term 63 for changeToCandidate
2019-09-24 16:58:03,462 INFO  impl.RoleInfo (RoleInfo.java:updateAndGet(143)) - s1: start LeaderElection
2019-09-24 16:58:03,476 INFO  impl.FollowerState (FollowerState.java:run(108)) - s2@group-09A0EF6A68F4-FollowerState: change to CANDIDATE, lastRpcTime:171ms, electionTimeout:171ms
2019-09-24 16:58:03,476 INFO  impl.RoleInfo (RoleInfo.java:shutdownFollowerState(121)) - s2: shutdown FollowerState
2019-09-24 16:58:03,476 INFO  impl.RaftServerImpl (RaftServerImpl.java:setRole(170)) - s2@group-09A0EF6A68F4: changes role from  FOLLOWER to CANDIDATE at term 63 for changeToCandidate
2019-09-24 16:58:03,476 INFO  impl.RoleInfo (RoleInfo.java:updateAndGet(143)) - s2: start LeaderElection
2019-09-24 16:58:03,499 INFO  impl.FollowerState (FollowerState.java:run(108)) - s0@group-09A0EF6A68F4-FollowerState: change to CANDIDATE, lastRpcTime:195ms, electionTimeout:195ms
2019-09-24 16:58:03,500 INFO  impl.RoleInfo (RoleInfo.java:shutdownFollowerState(121)) - s0: shutdown FollowerState
2019-09-24 16:58:03,500 INFO  impl.RaftServerImpl (RaftServerImpl.java:setRole(170)) - s0@group-09A0EF6A68F4: changes role from  FOLLOWER to CANDIDATE at term 63 for changeToCandidate
2019-09-24 16:58:03,500 INFO  impl.RoleInfo (RoleInfo.java:updateAndGet(143)) - s0: start LeaderElection
2019-09-24 16:58:03,862 WARN  ratis.RaftTestUtil (JavaUtils.java:attempt(158)) - FAILED "waitForLeader-null-(expectLeader? true)", attempt #8/100: java.lang.IllegalStateException: No leader yet : printing ALL groups
  s0:  RUNNING CANDIDATE s0@group-09A0EF6A68F4:t64, leader=null, voted=s0, raftlog=s0@group-09A0EF6A68F4-SegmentedRaftLog:OPENED:c1,f2,i2, conf=0: [s0:0.0.0.0:42611, s1:0.0.0.0:39575, s2:0.0.0.0:34382], old=null RUNNING
  s1:  RUNNING CANDIDATE s1@group-09A0EF6A68F4:t64, leader=null, voted=s1, raftlog=s1@group-09A0EF6A68F4-SegmentedRaftLog:OPENED:c1,f2,i2, conf=0: [s0:0.0.0.0:42611, s1:0.0.0.0:39575, s2:0.0.0.0:34382], old=null RUNNING
  s2:  RUNNING CANDIDATE s2@group-09A0EF6A68F4:t64, leader=null, voted=s2, raftlog=s2@group-09A0EF6A68F4-SegmentedRaftLog:OPENED:c1,f2,i2, conf=0: [s0:0.0.0.0:42611, s1:0.0.0.0:39575, s2:0.0.0.0:34382], old=null RUNNING, sleep 450ms and then retry.
java.lang.IllegalStateException: No leader yet : printing ALL groups
  s0:  RUNNING CANDIDATE s0@group-09A0EF6A68F4:t64, leader=null, voted=s0, raftlog=s0@group-09A0EF6A68F4-SegmentedRaftLog:OPENED:c1,f2,i2, conf=0: [s0:0.0.0.0:42611, s1:0.0.0.0:39575, s2:0.0.0.0:34382], old=null RUNNING
  s1:  RUNNING CANDIDATE s1@group-09A0EF6A68F4:t64, leader=null, voted=s1, raftlog=s1@group-09A0EF6A68F4-SegmentedRaftLog:OPENED:c1,f2,i2, conf=0: [s0:0.0.0.0:42611, s1:0.0.0.0:39575, s2:0.0.0.0:34382], old=null RUNNING
  s2:  RUNNING CANDIDATE s2@group-09A0EF6A68F4:t64, leader=null, voted=s2, raftlog=s2@group-09A0EF6A68F4-SegmentedRaftLog:OPENED:c1,f2,i2, conf=0: [s0:0.0.0.0:42611, s1:0.0.0.0:39575, s2:0.0.0.0:34382], old=null RUNNING
	at org.apache.ratis.MiniRaftCluster.newIllegalStateExceptionForNoLeaders(MiniRaftCluster.java:506)
	at org.apache.ratis.RaftTestUtil.lambda$waitForLeader$1(RaftTestUtil.java:90)
	at org.apache.ratis.MiniRaftCluster.getLeader(MiniRaftCluster.java:539)
	at org.apache.ratis.MiniRaftCluster.getLeader(MiniRaftCluster.java:532)
	at org.apache.ratis.RaftTestUtil.lambda$waitForLeader$3(RaftTestUtil.java:98)
	at org.apache.ratis.util.JavaUtils.attempt(JavaUtils.java:152)
	at org.apache.ratis.RaftTestUtil.waitForLeader(RaftTestUtil.java:97)
	at org.apache.ratis.RaftTestUtil.waitForLeader(RaftTestUtil.java:77)
	at org.apache.ratis.RaftTestUtil.waitForLeader(RaftTestUtil.java:72)
	at org.apache.ratis.server.impl.RaftStateMachineExceptionTests.runTestRetryOnExceptionDuringReplication(RaftStateMachineExceptionTests.java:166)
	at org.apache.ratis.MiniRaftCluster$Factory$Get.runWithNewCluster(MiniRaftCluster.java:125)
	at org.apache.ratis.MiniRaftCluster$Factory$Get.runWithNewCluster(MiniRaftCluster.java:113)
	at org.apache.ratis.server.impl.RaftStateMachineExceptionTests.testRetryOnExceptionDuringReplication(RaftStateMachineExceptionTests.java:145)
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.lang.reflect.Method.invoke(Method.java:498)
	at org.junit.runners.model.FrameworkMethod$1.runReflectiveCall(FrameworkMethod.java:50)
	at org.junit.internal.runners.model.ReflectiveCallable.run(ReflectiveCallable.java:12)
	at org.junit.runners.model.FrameworkMethod.invokeExplosively(FrameworkMethod.java:47)
	at org.junit.internal.runners.statements.InvokeMethod.evaluate(InvokeMethod.java:17)
	at org.junit.internal.runners.statements.RunAfters.evaluate(RunAfters.java:27)
	at org.junit.internal.runners.statements.FailOnTimeout$CallableStatement.call(FailOnTimeout.java:298)
	at org.junit.internal.runners.statements.FailOnTimeout$CallableStatement.call(FailOnTimeout.java:292)
	at java.util.concurrent.FutureTask.run(FutureTask.java:266)
	at java.lang.Thread.run(Thread.java:748)
2019-09-24 16:58:04,314 WARN  ratis.RaftTestUtil (JavaUtils.java:attempt(158)) - FAILED "waitForLeader-null-(expectLeader? true)", attempt #9/100: java.lang.IllegalStateException: No leader yet : printing ALL groups
  s0:  RUNNING CANDIDATE s0@group-09A0EF6A68F4:t64, leader=null, voted=s0, raftlog=s0@group-09A0EF6A68F4-SegmentedRaftLog:OPENED:c1,f2,i2, conf=0: [s0:0.0.0.0:42611, s1:0.0.0.0:39575, s2:0.0.0.0:34382], old=null RUNNING
  s1:  RUNNING CANDIDATE s1@group-09A0EF6A68F4:t64, leader=null, voted=s1, raftlog=s1@group-09A0EF6A68F4-SegmentedRaftLog:OPENED:c1,f2,i2, conf=0: [s0:0.0.0.0:42611, s1:0.0.0.0:39575, s2:0.0.0.0:34382], old=null RUNNING
  s2:  RUNNING CANDIDATE s2@group-09A0EF6A68F4:t64, leader=null, voted=s2, raftlog=s2@group-09A0EF6A68F4-SegmentedRaftLog:OPENED:c1,f2,i2, conf=0: [s0:0.0.0.0:42611, s1:0.0.0.0:39575, s2:0.0.0.0:34382], old=null RUNNING, sleep 450ms and then retry.
java.lang.IllegalStateException: No leader yet : printing ALL groups
  s0:  RUNNING CANDIDATE s0@group-09A0EF6A68F4:t64, leader=null, voted=s0, raftlog=s0@group-09A0EF6A68F4-SegmentedRaftLog:OPENED:c1,f2,i2, conf=0: [s0:0.0.0.0:42611, s1:0.0.0.0:39575, s2:0.0.0.0:34382], old=null RUNNING
  s1:  RUNNING CANDIDATE s1@group-09A0EF6A68F4:t64, leader=null, voted=s1, raftlog=s1@group-09A0EF6A68F4-SegmentedRaftLog:OPENED:c1,f2,i2, conf=0: [s0:0.0.0.0:42611, s1:0.0.0.0:39575, s2:0.0.0.0:34382], old=null RUNNING
  s2:  RUNNING CANDIDATE s2@group-09A0EF6A68F4:t64, leader=null, voted=s2, raftlog=s2@group-09A0EF6A68F4-SegmentedRaftLog:OPENED:c1,f2,i2, conf=0: [s0:0.0.0.0:42611, s1:0.0.0.0:39575, s2:0.0.0.0:34382], old=null RUNNING
	at org.apache.ratis.MiniRaftCluster.newIllegalStateExceptionForNoLeaders(MiniRaftCluster.java:506)
	at org.apache.ratis.RaftTestUtil.lambda$waitForLeader$1(RaftTestUtil.java:90)
	at org.apache.ratis.MiniRaftCluster.getLeader(MiniRaftCluster.java:539)
	at org.apache.ratis.MiniRaftCluster.getLeader(MiniRaftCluster.java:532)
	at org.apache.ratis.RaftTestUtil.lambda$waitForLeader$3(RaftTestUtil.java:98)
	at org.apache.ratis.util.JavaUtils.attempt(JavaUtils.java:152)
	at org.apache.ratis.RaftTestUtil.waitForLeader(RaftTestUtil.java:97)
	at org.apache.ratis.RaftTestUtil.waitForLeader(RaftTestUtil.java:77)
	at org.apache.ratis.RaftTestUtil.waitForLeader(RaftTestUtil.java:72)
	at org.apache.ratis.server.impl.RaftStateMachineExceptionTests.runTestRetryOnExceptionDuringReplication(RaftStateMachineExceptionTests.java:166)
	at org.apache.ratis.MiniRaftCluster$Factory$Get.runWithNewCluster(MiniRaftCluster.java:125)
	at org.apache.ratis.MiniRaftCluster$Factory$Get.runWithNewCluster(MiniRaftCluster.java:113)
	at org.apache.ratis.server.impl.RaftStateMachineExceptionTests.testRetryOnExceptionDuringReplication(RaftStateMachineExceptionTests.java:145)
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.lang.reflect.Method.invoke(Method.java:498)
	at org.junit.runners.model.FrameworkMethod$1.runReflectiveCall(FrameworkMethod.java:50)
	at org.junit.internal.runners.model.ReflectiveCallable.run(ReflectiveCallable.java:12)
	at org.junit.runners.model.FrameworkMethod.invokeExplosively(FrameworkMethod.java:47)
	at org.junit.internal.runners.statements.InvokeMethod.evaluate(InvokeMethod.java:17)
	at org.junit.internal.runners.statements.RunAfters.evaluate(RunAfters.java:27)
	at org.junit.internal.runners.statements.FailOnTimeout$CallableStatement.call(FailOnTimeout.java:298)
	at org.junit.internal.runners.statements.FailOnTimeout$CallableStatement.call(FailOnTimeout.java:292)
	at java.util.concurrent.FutureTask.run(FutureTask.java:266)
	at java.lang.Thread.run(Thread.java:748)
2019-09-24 16:58:04,765 WARN  ratis.RaftTestUtil (JavaUtils.java:attempt(158)) - FAILED "waitForLeader-null-(expectLeader? true)", attempt #10/100: java.lang.IllegalStateException: No leader yet : printing ALL groups
  s0:  RUNNING CANDIDATE s0@group-09A0EF6A68F4:t64, leader=null, voted=s0, raftlog=s0@group-09A0EF6A68F4-SegmentedRaftLog:OPENED:c1,f2,i2, conf=0: [s0:0.0.0.0:42611, s1:0.0.0.0:39575, s2:0.0.0.0:34382], old=null RUNNING
  s1:  RUNNING CANDIDATE s1@group-09A0EF6A68F4:t64, leader=null, voted=s1, raftlog=s1@group-09A0EF6A68F4-SegmentedRaftLog:OPENED:c1,f2,i2, conf=0: [s0:0.0.0.0:42611, s1:0.0.0.0:39575, s2:0.0.0.0:34382], old=null RUNNING
  s2:  RUNNING CANDIDATE s2@group-09A0EF6A68F4:t64, leader=null, voted=s2, raftlog=s2@group-09A0EF6A68F4-SegmentedRaftLog:OPENED:c1,f2,i2, conf=0: [s0:0.0.0.0:42611, s1:0.0.0.0:39575, s2:0.0.0.0:34382], old=null RUNNING, sleep 450ms and then retry.
java.lang.IllegalStateException: No leader yet : printing ALL groups
  s0:  RUNNING CANDIDATE s0@group-09A0EF6A68F4:t64, leader=null, voted=s0, raftlog=s0@group-09A0EF6A68F4-SegmentedRaftLog:OPENED:c1,f2,i2, conf=0: [s0:0.0.0.0:42611, s1:0.0.0.0:39575, s2:0.0.0.0:34382], old=null RUNNING
  s1:  RUNNING CANDIDATE s1@group-09A0EF6A68F4:t64, leader=null, voted=s1, raftlog=s1@group-09A0EF6A68F4-SegmentedRaftLog:OPENED:c1,f2,i2, conf=0: [s0:0.0.0.0:42611, s1:0.0.0.0:39575, s2:0.0.0.0:34382], old=null RUNNING
  s2:  RUNNING CANDIDATE s2@group-09A0EF6A68F4:t64, leader=null, voted=s2, raftlog=s2@group-09A0EF6A68F4-SegmentedRaftLog:OPENED:c1,f2,i2, conf=0: [s0:0.0.0.0:42611, s1:0.0.0.0:39575, s2:0.0.0.0:34382], old=null RUNNING
	at org.apache.ratis.MiniRaftCluster.newIllegalStateExceptionForNoLeaders(MiniRaftCluster.java:506)
	at org.apache.ratis.RaftTestUtil.lambda$waitForLeader$1(RaftTestUtil.java:90)
	at org.apache.ratis.MiniRaftCluster.getLeader(MiniRaftCluster.java:539)
	at org.apache.ratis.MiniRaftCluster.getLeader(MiniRaftCluster.java:532)
	at org.apache.ratis.RaftTestUtil.lambda$waitForLeader$3(RaftTestUtil.java:98)
	at org.apache.ratis.util.JavaUtils.attempt(JavaUtils.java:152)
	at org.apache.ratis.RaftTestUtil.waitForLeader(RaftTestUtil.java:97)
	at org.apache.ratis.RaftTestUtil.waitForLeader(RaftTestUtil.java:77)
	at org.apache.ratis.RaftTestUtil.waitForLeader(RaftTestUtil.java:72)
	at org.apache.ratis.server.impl.RaftStateMachineExceptionTests.runTestRetryOnExceptionDuringReplication(RaftStateMachineExceptionTests.java:166)
	at org.apache.ratis.MiniRaftCluster$Factory$Get.runWithNewCluster(MiniRaftCluster.java:125)
	at org.apache.ratis.MiniRaftCluster$Factory$Get.runWithNewCluster(MiniRaftCluster.java:113)
	at org.apache.ratis.server.impl.RaftStateMachineExceptionTests.testRetryOnExceptionDuringReplication(RaftStateMachineExceptionTests.java:145)
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.lang.reflect.Method.invoke(Method.java:498)
	at org.junit.runners.model.FrameworkMethod$1.runReflectiveCall(FrameworkMethod.java:50)
	at org.junit.internal.runners.model.ReflectiveCallable.run(ReflectiveCallable.java:12)
	at org.junit.runners.model.FrameworkMethod.invokeExplosively(FrameworkMethod.java:47)
	at org.junit.internal.runners.statements.InvokeMethod.evaluate(InvokeMethod.java:17)
	at org.junit.internal.runners.statements.RunAfters.evaluate(RunAfters.java:27)
	at org.junit.internal.runners.statements.FailOnTimeout$CallableStatement.call(FailOnTimeout.java:298)
	at org.junit.internal.runners.statements.FailOnTimeout$CallableStatement.call(FailOnTimeout.java:292)
	at java.util.concurrent.FutureTask.run(FutureTask.java:266)
	at java.lang.Thread.run(Thread.java:748)
2019-09-24 16:58:04,952 INFO  impl.LeaderElection (LeaderElection.java:askForVotes(178)) - s1@group-09A0EF6A68F4-LeaderElection155: begin an election at term 64 for 0: [s0:0.0.0.0:42611, s1:0.0.0.0:39575, s2:0.0.0.0:34382], old=null
2019-09-24 16:58:04,952 INFO  impl.LeaderElection (LeaderElection.java:askForVotes(178)) - s2@group-09A0EF6A68F4-LeaderElection156: begin an election at term 64 for 0: [s0:0.0.0.0:42611, s1:0.0.0.0:39575, s2:0.0.0.0:34382], old=null
2019-09-24 16:58:04,953 INFO  impl.LeaderElection (LeaderElection.java:askForVotes(178)) - s0@group-09A0EF6A68F4-LeaderElection157: begin an election at term 64 for 0: [s0:0.0.0.0:42611, s1:0.0.0.0:39575, s2:0.0.0.0:34382], old=null
2019-09-24 16:58:04,953 DEBUG impl.RaftServerImpl (RaftServerImpl.java:requestVote(743)) - s0@group-09A0EF6A68F4: receive requestVote(s1, group-09A0EF6A68F4, 64, (t:62, i:2))
2019-09-24 16:58:04,953 DEBUG impl.RaftServerImpl (RaftServerImpl.java:requestVote(743)) - s2@group-09A0EF6A68F4: receive requestVote(s1, group-09A0EF6A68F4, 64, (t:62, i:2))
2019-09-24 16:58:04,953 DEBUG impl.RaftServerImpl (RaftServerImpl.java:requestVote(775)) - s0@group-09A0EF6A68F4 replies to vote request: s1<-s0#0:FAIL-t64. Peer's state: s0@group-09A0EF6A68F4:t64, leader=null, voted=s0, raftlog=s0@group-09A0EF6A68F4-SegmentedRaftLog:OPENED:c1,f2,i2, conf=0: [s0:0.0.0.0:42611, s1:0.0.0.0:39575, s2:0.0.0.0:34382], old=null
2019-09-24 16:58:04,953 DEBUG impl.RaftServerImpl (RaftServerImpl.java:requestVote(743)) - s0@group-09A0EF6A68F4: receive requestVote(s2, group-09A0EF6A68F4, 64, (t:62, i:2))
2019-09-24 16:58:04,953 DEBUG impl.RaftServerImpl (RaftServerImpl.java:requestVote(775)) - s2@group-09A0EF6A68F4 replies to vote request: s1<-s2#0:FAIL-t64. Peer's state: s2@group-09A0EF6A68F4:t64, leader=null, voted=s2, raftlog=s2@group-09A0EF6A68F4-SegmentedRaftLog:OPENED:c1,f2,i2, conf=0: [s0:0.0.0.0:42611, s1:0.0.0.0:39575, s2:0.0.0.0:34382], old=null
2019-09-24 16:58:04,953 DEBUG impl.RaftServerImpl (RaftServerImpl.java:requestVote(743)) - s1@group-09A0EF6A68F4: receive requestVote(s2, group-09A0EF6A68F4, 64, (t:62, i:2))
2019-09-24 16:58:04,954 INFO  impl.LeaderElection (LeaderElection.java:logAndReturn(56)) - s1@group-09A0EF6A68F4-LeaderElection155: Election REJECTED; received 2 response(s) [s1<-s0#0:FAIL-t64, s1<-s2#0:FAIL-t64] and 0 exception(s); s1@group-09A0EF6A68F4:t64, leader=null, voted=s1, raftlog=s1@group-09A0EF6A68F4-SegmentedRaftLog:OPENED:c1,f2,i2, conf=0: [s0:0.0.0.0:42611, s1:0.0.0.0:39575, s2:0.0.0.0:34382], old=null
2019-09-24 16:58:04,954 DEBUG impl.RaftServerImpl (RaftServerImpl.java:requestVote(775)) - s0@group-09A0EF6A68F4 replies to vote request: s2<-s0#0:FAIL-t64. Peer's state: s0@group-09A0EF6A68F4:t64, leader=null, voted=s0, raftlog=s0@group-09A0EF6A68F4-SegmentedRaftLog:OPENED:c1,f2,i2, conf=0: [s0:0.0.0.0:42611, s1:0.0.0.0:39575, s2:0.0.0.0:34382], old=null
2019-09-24 16:58:04,954 DEBUG impl.RaftServerImpl (RaftServerImpl.java:requestVote(743)) - s1@group-09A0EF6A68F4: receive requestVote(s0, group-09A0EF6A68F4, 64, (t:62, i:2))
2019-09-24 16:58:04,954 DEBUG impl.RaftServerImpl (RaftServerImpl.java:requestVote(775)) - s1@group-09A0EF6A68F4 replies to vote request: s2<-s1#0:FAIL-t64. Peer's state: s1@group-09A0EF6A68F4:t64, leader=null, voted=s1, raftlog=s1@group-09A0EF6A68F4-SegmentedRaftLog:OPENED:c1,f2,i2, conf=0: [s0:0.0.0.0:42611, s1:0.0.0.0:39575, s2:0.0.0.0:34382], old=null
2019-09-24 16:58:04,954 DEBUG impl.RaftServerImpl (RaftServerImpl.java:requestVote(743)) - s2@group-09A0EF6A68F4: receive requestVote(s0, group-09A0EF6A68F4, 64, (t:62, i:2))
2019-09-24 16:58:04,955 DEBUG impl.RaftServerImpl (RaftServerImpl.java:requestVote(775)) - s1@group-09A0EF6A68F4 replies to vote request: s0<-s1#0:FAIL-t64. Peer's state: s1@group-09A0EF6A68F4:t64, leader=null, voted=s1, raftlog=s1@group-09A0EF6A68F4-SegmentedRaftLog:OPENED:c1,f2,i2, conf=0: [s0:0.0.0.0:42611, s1:0.0.0.0:39575, s2:0.0.0.0:34382], old=null
2019-09-24 16:58:04,955 DEBUG impl.RaftServerImpl (RaftServerImpl.java:requestVote(775)) - s2@group-09A0EF6A68F4 replies to vote request: s0<-s2#0:FAIL-t64. Peer's state: s2@group-09A0EF6A68F4:t64, leader=null, voted=s2, raftlog=s2@group-09A0EF6A68F4-SegmentedRaftLog:OPENED:c1,f2,i2, conf=0: [s0:0.0.0.0:42611, s1:0.0.0.0:39575, s2:0.0.0.0:34382], old=null
2019-09-24 16:58:04,955 INFO  impl.LeaderElection (LeaderElection.java:logAndReturn(56)) - s2@group-09A0EF6A68F4-LeaderElection156: Election REJECTED; received 2 response(s) [s2<-s0#0:FAIL-t64, s2<-s1#0:FAIL-t64] and 0 exception(s); s2@group-09A0EF6A68F4:t64, leader=null, voted=s2, raftlog=s2@group-09A0EF6A68F4-SegmentedRaftLog:OPENED:c1,f2,i2, conf=0: [s0:0.0.0.0:42611, s1:0.0.0.0:39575, s2:0.0.0.0:34382], old=null
2019-09-24 16:58:04,955 INFO  impl.RaftServerImpl (RaftServerImpl.java:setRole(170)) - s1@group-09A0EF6A68F4: changes role from CANDIDATE to FOLLOWER at term 64 for DISCOVERED_A_NEW_TERM
2019-09-24 16:58:04,955 INFO  impl.RaftServerImpl (RaftServerImpl.java:setRole(170)) - s2@group-09A0EF6A68F4: changes role from CANDIDATE to FOLLOWER at term 64 for DISCOVERED_A_NEW_TERM
2019-09-24 16:58:04,955 INFO  impl.LeaderElection (LeaderElection.java:logAndReturn(56)) - s0@group-09A0EF6A68F4-LeaderElection157: Election REJECTED; received 2 response(s) [s0<-s1#0:FAIL-t64, s0<-s2#0:FAIL-t64] and 0 exception(s); s0@group-09A0EF6A68F4:t64, leader=null, voted=s0, raftlog=s0@group-09A0EF6A68F4-SegmentedRaftLog:OPENED:c1,f2,i2, conf=0: [s0:0.0.0.0:42611, s1:0.0.0.0:39575, s2:0.0.0.0:34382], old=null
2019-09-24 16:58:04,955 INFO  impl.RoleInfo (RoleInfo.java:shutdownLeaderElection(134)) - s2: shutdown LeaderElection
2019-09-24 16:58:04,955 INFO  impl.RoleInfo (RoleInfo.java:shutdownLeaderElection(134)) - s1: shutdown LeaderElection
2019-09-24 16:58:04,956 INFO  impl.RoleInfo (RoleInfo.java:updateAndGet(143)) - s2: start FollowerState
2019-09-24 16:58:04,956 INFO  impl.RaftServerImpl (RaftServerImpl.java:setRole(170)) - s0@group-09A0EF6A68F4: changes role from CANDIDATE to FOLLOWER at term 64 for DISCOVERED_A_NEW_TERM
2019-09-24 16:58:04,956 INFO  impl.RoleInfo (RoleInfo.java:updateAndGet(143)) - s1: start FollowerState
2019-09-24 16:58:04,956 INFO  impl.RoleInfo (RoleInfo.java:shutdownLeaderElection(134)) - s0: shutdown LeaderElection
2019-09-24 16:58:04,957 INFO  impl.RoleInfo (RoleInfo.java:updateAndGet(143)) - s0: start FollowerState
2019-09-24 16:58:05,164 INFO  impl.FollowerState (FollowerState.java:run(108)) - s2@group-09A0EF6A68F4-FollowerState: change to CANDIDATE, lastRpcTime:207ms, electionTimeout:207ms
2019-09-24 16:58:05,164 INFO  impl.RoleInfo (RoleInfo.java:shutdownFollowerState(121)) - s2: shutdown FollowerState
2019-09-24 16:58:05,164 INFO  impl.RaftServerImpl (RaftServerImpl.java:setRole(170)) - s2@group-09A0EF6A68F4: changes role from  FOLLOWER to CANDIDATE at term 64 for changeToCandidate
2019-09-24 16:58:05,164 INFO  impl.RoleInfo (RoleInfo.java:updateAndGet(143)) - s2: start LeaderElection
2019-09-24 16:58:05,177 INFO  impl.FollowerState (FollowerState.java:run(108)) - s0@group-09A0EF6A68F4-FollowerState: change to CANDIDATE, lastRpcTime:220ms, electionTimeout:220ms
2019-09-24 16:58:05,178 INFO  impl.RoleInfo (RoleInfo.java:shutdownFollowerState(121)) - s0: shutdown FollowerState
2019-09-24 16:58:05,178 INFO  impl.RaftServerImpl (RaftServerImpl.java:setRole(170)) - s0@group-09A0EF6A68F4: changes role from  FOLLOWER to CANDIDATE at term 64 for changeToCandidate
2019-09-24 16:58:05,178 INFO  impl.RoleInfo (RoleInfo.java:updateAndGet(143)) - s0: start LeaderElection
2019-09-24 16:58:05,203 INFO  impl.FollowerState (FollowerState.java:run(108)) - s1@group-09A0EF6A68F4-FollowerState: change to CANDIDATE, lastRpcTime:246ms, electionTimeout:246ms
2019-09-24 16:58:05,203 INFO  impl.RoleInfo (RoleInfo.java:shutdownFollowerState(121)) - s1: shutdown FollowerState
2019-09-24 16:58:05,203 INFO  impl.RaftServerImpl (RaftServerImpl.java:setRole(170)) - s1@group-09A0EF6A68F4: changes role from  FOLLOWER to CANDIDATE at term 64 for changeToCandidate
2019-09-24 16:58:05,203 INFO  impl.RoleInfo (RoleInfo.java:updateAndGet(143)) - s1: start LeaderElection
2019-09-24 16:58:05,217 WARN  ratis.RaftTestUtil (JavaUtils.java:attempt(158)) - FAILED "waitForLeader-null-(expectLeader? true)", attempt #11/100: java.lang.IllegalStateException: No leader yet : printing ALL groups
  s0:  RUNNING CANDIDATE s0@group-09A0EF6A68F4:t65, leader=null, voted=s0, raftlog=s0@group-09A0EF6A68F4-SegmentedRaftLog:OPENED:c1,f2,i2, conf=0: [s0:0.0.0.0:42611, s1:0.0.0.0:39575, s2:0.0.0.0:34382], old=null RUNNING
  s1:  RUNNING CANDIDATE s1@group-09A0EF6A68F4:t65, leader=null, voted=s1, raftlog=s1@group-09A0EF6A68F4-SegmentedRaftLog:OPENED:c1,f2,i2, conf=0: [s0:0.0.0.0:42611, s1:0.0.0.0:39575, s2:0.0.0.0:34382], old=null RUNNING
  s2:  RUNNING CANDIDATE s2@group-09A0EF6A68F4:t65, leader=null, voted=s2, raftlog=s2@group-09A0EF6A68F4-SegmentedRaftLog:OPENED:c1,f2,i2, conf=0: [s0:0.0.0.0:42611, s1:0.0.0.0:39575, s2:0.0.0.0:34382], old=null RUNNING, sleep 450ms and then retry.
java.lang.IllegalStateException: No leader yet : printing ALL groups
  s0:  RUNNING CANDIDATE s0@group-09A0EF6A68F4:t65, leader=null, voted=s0, raftlog=s0@group-09A0EF6A68F4-SegmentedRaftLog:OPENED:c1,f2,i2, conf=0: [s0:0.0.0.0:42611, s1:0.0.0.0:39575, s2:0.0.0.0:34382], old=null RUNNING
  s1:  RUNNING CANDIDATE s1@group-09A0EF6A68F4:t65, leader=null, voted=s1, raftlog=s1@group-09A0EF6A68F4-SegmentedRaftLog:OPENED:c1,f2,i2, conf=0: [s0:0.0.0.0:42611, s1:0.0.0.0:39575, s2:0.0.0.0:34382], old=null RUNNING
  s2:  RUNNING CANDIDATE s2@group-09A0EF6A68F4:t65, leader=null, voted=s2, raftlog=s2@group-09A0EF6A68F4-SegmentedRaftLog:OPENED:c1,f2,i2, conf=0: [s0:0.0.0.0:42611, s1:0.0.0.0:39575, s2:0.0.0.0:34382], old=null RUNNING
	at org.apache.ratis.MiniRaftCluster.newIllegalStateExceptionForNoLeaders(MiniRaftCluster.java:506)
	at org.apache.ratis.RaftTestUtil.lambda$waitForLeader$1(RaftTestUtil.java:90)
	at org.apache.ratis.MiniRaftCluster.getLeader(MiniRaftCluster.java:539)
	at org.apache.ratis.MiniRaftCluster.getLeader(MiniRaftCluster.java:532)
	at org.apache.ratis.RaftTestUtil.lambda$waitForLeader$3(RaftTestUtil.java:98)
	at org.apache.ratis.util.JavaUtils.attempt(JavaUtils.java:152)
	at org.apache.ratis.RaftTestUtil.waitForLeader(RaftTestUtil.java:97)
	at org.apache.ratis.RaftTestUtil.waitForLeader(RaftTestUtil.java:77)
	at org.apache.ratis.RaftTestUtil.waitForLeader(RaftTestUtil.java:72)
	at org.apache.ratis.server.impl.RaftStateMachineExceptionTests.runTestRetryOnExceptionDuringReplication(RaftStateMachineExceptionTests.java:166)
	at org.apache.ratis.MiniRaftCluster$Factory$Get.runWithNewCluster(MiniRaftCluster.java:125)
	at org.apache.ratis.MiniRaftCluster$Factory$Get.runWithNewCluster(MiniRaftCluster.java:113)
	at org.apache.ratis.server.impl.RaftStateMachineExceptionTests.testRetryOnExceptionDuringReplication(RaftStateMachineExceptionTests.java:145)
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.lang.reflect.Method.invoke(Method.java:498)
	at org.junit.runners.model.FrameworkMethod$1.runReflectiveCall(FrameworkMethod.java:50)
	at org.junit.internal.runners.model.ReflectiveCallable.run(ReflectiveCallable.java:12)
	at org.junit.runners.model.FrameworkMethod.invokeExplosively(FrameworkMethod.java:47)
	at org.junit.internal.runners.statements.InvokeMethod.evaluate(InvokeMethod.java:17)
	at org.junit.internal.runners.statements.RunAfters.evaluate(RunAfters.java:27)
	at org.junit.internal.runners.statements.FailOnTimeout$CallableStatement.call(FailOnTimeout.java:298)
	at org.junit.internal.runners.statements.FailOnTimeout$CallableStatement.call(FailOnTimeout.java:292)
	at java.util.concurrent.FutureTask.run(FutureTask.java:266)
	at java.lang.Thread.run(Thread.java:748)
2019-09-24 16:58:05,668 WARN  ratis.RaftTestUtil (JavaUtils.java:attempt(158)) - FAILED "waitForLeader-null-(expectLeader? true)", attempt #12/100: java.lang.IllegalStateException: No leader yet : printing ALL groups
  s0:  RUNNING CANDIDATE s0@group-09A0EF6A68F4:t65, leader=null, voted=s0, raftlog=s0@group-09A0EF6A68F4-SegmentedRaftLog:OPENED:c1,f2,i2, conf=0: [s0:0.0.0.0:42611, s1:0.0.0.0:39575, s2:0.0.0.0:34382], old=null RUNNING
  s1:  RUNNING CANDIDATE s1@group-09A0EF6A68F4:t65, leader=null, voted=s1, raftlog=s1@group-09A0EF6A68F4-SegmentedRaftLog:OPENED:c1,f2,i2, conf=0: [s0:0.0.0.0:42611, s1:0.0.0.0:39575, s2:0.0.0.0:34382], old=null RUNNING
  s2:  RUNNING CANDIDATE s2@group-09A0EF6A68F4:t65, leader=null, voted=s2, raftlog=s2@group-09A0EF6A68F4-SegmentedRaftLog:OPENED:c1,f2,i2, conf=0: [s0:0.0.0.0:42611, s1:0.0.0.0:39575, s2:0.0.0.0:34382], old=null RUNNING, sleep 450ms and then retry.
java.lang.IllegalStateException: No leader yet : printing ALL groups
  s0:  RUNNING CANDIDATE s0@group-09A0EF6A68F4:t65, leader=null, voted=s0, raftlog=s0@group-09A0EF6A68F4-SegmentedRaftLog:OPENED:c1,f2,i2, conf=0: [s0:0.0.0.0:42611, s1:0.0.0.0:39575, s2:0.0.0.0:34382], old=null RUNNING
  s1:  RUNNING CANDIDATE s1@group-09A0EF6A68F4:t65, leader=null, voted=s1, raftlog=s1@group-09A0EF6A68F4-SegmentedRaftLog:OPENED:c1,f2,i2, conf=0: [s0:0.0.0.0:42611, s1:0.0.0.0:39575, s2:0.0.0.0:34382], old=null RUNNING
  s2:  RUNNING CANDIDATE s2@group-09A0EF6A68F4:t65, leader=null, voted=s2, raftlog=s2@group-09A0EF6A68F4-SegmentedRaftLog:OPENED:c1,f2,i2, conf=0: [s0:0.0.0.0:42611, s1:0.0.0.0:39575, s2:0.0.0.0:34382], old=null RUNNING
	at org.apache.ratis.MiniRaftCluster.newIllegalStateExceptionForNoLeaders(MiniRaftCluster.java:506)
	at org.apache.ratis.RaftTestUtil.lambda$waitForLeader$1(RaftTestUtil.java:90)
	at org.apache.ratis.MiniRaftCluster.getLeader(MiniRaftCluster.java:539)
	at org.apache.ratis.MiniRaftCluster.getLeader(MiniRaftCluster.java:532)
	at org.apache.ratis.RaftTestUtil.lambda$waitForLeader$3(RaftTestUtil.java:98)
	at org.apache.ratis.util.JavaUtils.attempt(JavaUtils.java:152)
	at org.apache.ratis.RaftTestUtil.waitForLeader(RaftTestUtil.java:97)
	at org.apache.ratis.RaftTestUtil.waitForLeader(RaftTestUtil.java:77)
	at org.apache.ratis.RaftTestUtil.waitForLeader(RaftTestUtil.java:72)
	at org.apache.ratis.server.impl.RaftStateMachineExceptionTests.runTestRetryOnExceptionDuringReplication(RaftStateMachineExceptionTests.java:166)
	at org.apache.ratis.MiniRaftCluster$Factory$Get.runWithNewCluster(MiniRaftCluster.java:125)
	at org.apache.ratis.MiniRaftCluster$Factory$Get.runWithNewCluster(MiniRaftCluster.java:113)
	at org.apache.ratis.server.impl.RaftStateMachineExceptionTests.testRetryOnExceptionDuringReplication(RaftStateMachineExceptionTests.java:145)
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.lang.reflect.Method.invoke(Method.java:498)
	at org.junit.runners.model.FrameworkMethod$1.runReflectiveCall(FrameworkMethod.java:50)
	at org.junit.internal.runners.model.ReflectiveCallable.run(ReflectiveCallable.java:12)
	at org.junit.runners.model.FrameworkMethod.invokeExplosively(FrameworkMethod.java:47)
	at org.junit.internal.runners.statements.InvokeMethod.evaluate(InvokeMethod.java:17)
	at org.junit.internal.runners.statements.RunAfters.evaluate(RunAfters.java:27)
	at org.junit.internal.runners.statements.FailOnTimeout$CallableStatement.call(FailOnTimeout.java:298)
	at org.junit.internal.runners.statements.FailOnTimeout$CallableStatement.call(FailOnTimeout.java:292)
	at java.util.concurrent.FutureTask.run(FutureTask.java:266)
	at java.lang.Thread.run(Thread.java:748)
2019-09-24 16:58:06,119 WARN  ratis.RaftTestUtil (JavaUtils.java:attempt(158)) - FAILED "waitForLeader-null-(expectLeader? true)", attempt #13/100: java.lang.IllegalStateException: No leader yet : printing ALL groups
  s0:  RUNNING CANDIDATE s0@group-09A0EF6A68F4:t65, leader=null, voted=s0, raftlog=s0@group-09A0EF6A68F4-SegmentedRaftLog:OPENED:c1,f2,i2, conf=0: [s0:0.0.0.0:42611, s1:0.0.0.0:39575, s2:0.0.0.0:34382], old=null RUNNING
  s1:  RUNNING CANDIDATE s1@group-09A0EF6A68F4:t65, leader=null, voted=s1, raftlog=s1@group-09A0EF6A68F4-SegmentedRaftLog:OPENED:c1,f2,i2, conf=0: [s0:0.0.0.0:42611, s1:0.0.0.0:39575, s2:0.0.0.0:34382], old=null RUNNING
  s2:  RUNNING CANDIDATE s2@group-09A0EF6A68F4:t65, leader=null, voted=s2, raftlog=s2@group-09A0EF6A68F4-SegmentedRaftLog:OPENED:c1,f2,i2, conf=0: [s0:0.0.0.0:42611, s1:0.0.0.0:39575, s2:0.0.0.0:34382], old=null RUNNING, sleep 450ms and then retry.
java.lang.IllegalStateException: No leader yet : printing ALL groups
  s0:  RUNNING CANDIDATE s0@group-09A0EF6A68F4:t65, leader=null, voted=s0, raftlog=s0@group-09A0EF6A68F4-SegmentedRaftLog:OPENED:c1,f2,i2, conf=0: [s0:0.0.0.0:42611, s1:0.0.0.0:39575, s2:0.0.0.0:34382], old=null RUNNING
  s1:  RUNNING CANDIDATE s1@group-09A0EF6A68F4:t65, leader=null, voted=s1, raftlog=s1@group-09A0EF6A68F4-SegmentedRaftLog:OPENED:c1,f2,i2, conf=0: [s0:0.0.0.0:42611, s1:0.0.0.0:39575, s2:0.0.0.0:34382], old=null RUNNING
  s2:  RUNNING CANDIDATE s2@group-09A0EF6A68F4:t65, leader=null, voted=s2, raftlog=s2@group-09A0EF6A68F4-SegmentedRaftLog:OPENED:c1,f2,i2, conf=0: [s0:0.0.0.0:42611, s1:0.0.0.0:39575, s2:0.0.0.0:34382], old=null RUNNING
	at org.apache.ratis.MiniRaftCluster.newIllegalStateExceptionForNoLeaders(MiniRaftCluster.java:506)
	at org.apache.ratis.RaftTestUtil.lambda$waitForLeader$1(RaftTestUtil.java:90)
	at org.apache.ratis.MiniRaftCluster.getLeader(MiniRaftCluster.java:539)
	at org.apache.ratis.MiniRaftCluster.getLeader(MiniRaftCluster.java:532)
	at org.apache.ratis.RaftTestUtil.lambda$waitForLeader$3(RaftTestUtil.java:98)
	at org.apache.ratis.util.JavaUtils.attempt(JavaUtils.java:152)
	at org.apache.ratis.RaftTestUtil.waitForLeader(RaftTestUtil.java:97)
	at org.apache.ratis.RaftTestUtil.waitForLeader(RaftTestUtil.java:77)
	at org.apache.ratis.RaftTestUtil.waitForLeader(RaftTestUtil.java:72)
	at org.apache.ratis.server.impl.RaftStateMachineExceptionTests.runTestRetryOnExceptionDuringReplication(RaftStateMachineExceptionTests.java:166)
	at org.apache.ratis.MiniRaftCluster$Factory$Get.runWithNewCluster(MiniRaftCluster.java:125)
	at org.apache.ratis.MiniRaftCluster$Factory$Get.runWithNewCluster(MiniRaftCluster.java:113)
	at org.apache.ratis.server.impl.RaftStateMachineExceptionTests.testRetryOnExceptionDuringReplication(RaftStateMachineExceptionTests.java:145)
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.lang.reflect.Method.invoke(Method.java:498)
	at org.junit.runners.model.FrameworkMethod$1.runReflectiveCall(FrameworkMethod.java:50)
	at org.junit.internal.runners.model.ReflectiveCallable.run(ReflectiveCallable.java:12)
	at org.junit.runners.model.FrameworkMethod.invokeExplosively(FrameworkMethod.java:47)
	at org.junit.internal.runners.statements.InvokeMethod.evaluate(InvokeMethod.java:17)
	at org.junit.internal.runners.statements.RunAfters.evaluate(RunAfters.java:27)
	at org.junit.internal.runners.statements.FailOnTimeout$CallableStatement.call(FailOnTimeout.java:298)
	at org.junit.internal.runners.statements.FailOnTimeout$CallableStatement.call(FailOnTimeout.java:292)
	at java.util.concurrent.FutureTask.run(FutureTask.java:266)
	at java.lang.Thread.run(Thread.java:748)
2019-09-24 16:58:06,571 WARN  ratis.RaftTestUtil (JavaUtils.java:attempt(158)) - FAILED "waitForLeader-null-(expectLeader? true)", attempt #14/100: java.lang.IllegalStateException: No leader yet : printing ALL groups
  s0:  RUNNING CANDIDATE s0@group-09A0EF6A68F4:t65, leader=null, voted=s0, raftlog=s0@group-09A0EF6A68F4-SegmentedRaftLog:OPENED:c1,f2,i2, conf=0: [s0:0.0.0.0:42611, s1:0.0.0.0:39575, s2:0.0.0.0:34382], old=null RUNNING
  s1:  RUNNING CANDIDATE s1@group-09A0EF6A68F4:t65, leader=null, voted=s1, raftlog=s1@group-09A0EF6A68F4-SegmentedRaftLog:OPENED:c1,f2,i2, conf=0: [s0:0.0.0.0:42611, s1:0.0.0.0:39575, s2:0.0.0.0:34382], old=null RUNNING
  s2:  RUNNING CANDIDATE s2@group-09A0EF6A68F4:t65, leader=null, voted=s2, raftlog=s2@group-09A0EF6A68F4-SegmentedRaftLog:OPENED:c1,f2,i2, conf=0: [s0:0.0.0.0:42611, s1:0.0.0.0:39575, s2:0.0.0.0:34382], old=null RUNNING, sleep 450ms and then retry.
java.lang.IllegalStateException: No leader yet : printing ALL groups
  s0:  RUNNING CANDIDATE s0@group-09A0EF6A68F4:t65, leader=null, voted=s0, raftlog=s0@group-09A0EF6A68F4-SegmentedRaftLog:OPENED:c1,f2,i2, conf=0: [s0:0.0.0.0:42611, s1:0.0.0.0:39575, s2:0.0.0.0:34382], old=null RUNNING
  s1:  RUNNING CANDIDATE s1@group-09A0EF6A68F4:t65, leader=null, voted=s1, raftlog=s1@group-09A0EF6A68F4-SegmentedRaftLog:OPENED:c1,f2,i2, conf=0: [s0:0.0.0.0:42611, s1:0.0.0.0:39575, s2:0.0.0.0:34382], old=null RUNNING
  s2:  RUNNING CANDIDATE s2@group-09A0EF6A68F4:t65, leader=null, voted=s2, raftlog=s2@group-09A0EF6A68F4-SegmentedRaftLog:OPENED:c1,f2,i2, conf=0: [s0:0.0.0.0:42611, s1:0.0.0.0:39575, s2:0.0.0.0:34382], old=null RUNNING
	at org.apache.ratis.MiniRaftCluster.newIllegalStateExceptionForNoLeaders(MiniRaftCluster.java:506)
	at org.apache.ratis.RaftTestUtil.lambda$waitForLeader$1(RaftTestUtil.java:90)
	at org.apache.ratis.MiniRaftCluster.getLeader(MiniRaftCluster.java:539)
	at org.apache.ratis.MiniRaftCluster.getLeader(MiniRaftCluster.java:532)
	at org.apache.ratis.RaftTestUtil.lambda$waitForLeader$3(RaftTestUtil.java:98)
	at org.apache.ratis.util.JavaUtils.attempt(JavaUtils.java:152)
	at org.apache.ratis.RaftTestUtil.waitForLeader(RaftTestUtil.java:97)
	at org.apache.ratis.RaftTestUtil.waitForLeader(RaftTestUtil.java:77)
	at org.apache.ratis.RaftTestUtil.waitForLeader(RaftTestUtil.java:72)
	at org.apache.ratis.server.impl.RaftStateMachineExceptionTests.runTestRetryOnExceptionDuringReplication(RaftStateMachineExceptionTests.java:166)
	at org.apache.ratis.MiniRaftCluster$Factory$Get.runWithNewCluster(MiniRaftCluster.java:125)
	at org.apache.ratis.MiniRaftCluster$Factory$Get.runWithNewCluster(MiniRaftCluster.java:113)
	at org.apache.ratis.server.impl.RaftStateMachineExceptionTests.testRetryOnExceptionDuringReplication(RaftStateMachineExceptionTests.java:145)
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.lang.reflect.Method.invoke(Method.java:498)
	at org.junit.runners.model.FrameworkMethod$1.runReflectiveCall(FrameworkMethod.java:50)
	at org.junit.internal.runners.model.ReflectiveCallable.run(ReflectiveCallable.java:12)
	at org.junit.runners.model.FrameworkMethod.invokeExplosively(FrameworkMethod.java:47)
	at org.junit.internal.runners.statements.InvokeMethod.evaluate(InvokeMethod.java:17)
	at org.junit.internal.runners.statements.RunAfters.evaluate(RunAfters.java:27)
	at org.junit.internal.runners.statements.FailOnTimeout$CallableStatement.call(FailOnTimeout.java:298)
	at org.junit.internal.runners.statements.FailOnTimeout$CallableStatement.call(FailOnTimeout.java:292)
	at java.util.concurrent.FutureTask.run(FutureTask.java:266)
	at java.lang.Thread.run(Thread.java:748)
2019-09-24 16:58:07,022 WARN  ratis.RaftTestUtil (JavaUtils.java:attempt(158)) - FAILED "waitForLeader-null-(expectLeader? true)", attempt #15/100: java.lang.IllegalStateException: No leader yet : printing ALL groups
  s0:  RUNNING CANDIDATE s0@group-09A0EF6A68F4:t65, leader=null, voted=s0, raftlog=s0@group-09A0EF6A68F4-SegmentedRaftLog:OPENED:c1,f2,i2, conf=0: [s0:0.0.0.0:42611, s1:0.0.0.0:39575, s2:0.0.0.0:34382], old=null RUNNING
  s1:  RUNNING CANDIDATE s1@group-09A0EF6A68F4:t65, leader=null, voted=s1, raftlog=s1@group-09A0EF6A68F4-SegmentedRaftLog:OPENED:c1,f2,i2, conf=0: [s0:0.0.0.0:42611, s1:0.0.0.0:39575, s2:0.0.0.0:34382], old=null RUNNING
  s2:  RUNNING CANDIDATE s2@group-09A0EF6A68F4:t65, leader=null, voted=s2, raftlog=s2@group-09A0EF6A68F4-SegmentedRaftLog:OPENED:c1,f2,i2, conf=0: [s0:0.0.0.0:42611, s1:0.0.0.0:39575, s2:0.0.0.0:34382], old=null RUNNING, sleep 450ms and then retry.
java.lang.IllegalStateException: No leader yet : printing ALL groups
  s0:  RUNNING CANDIDATE s0@group-09A0EF6A68F4:t65, leader=null, voted=s0, raftlog=s0@group-09A0EF6A68F4-SegmentedRaftLog:OPENED:c1,f2,i2, conf=0: [s0:0.0.0.0:42611, s1:0.0.0.0:39575, s2:0.0.0.0:34382], old=null RUNNING
  s1:  RUNNING CANDIDATE s1@group-09A0EF6A68F4:t65, leader=null, voted=s1, raftlog=s1@group-09A0EF6A68F4-SegmentedRaftLog:OPENED:c1,f2,i2, conf=0: [s0:0.0.0.0:42611, s1:0.0.0.0:39575, s2:0.0.0.0:34382], old=null RUNNING
  s2:  RUNNING CANDIDATE s2@group-09A0EF6A68F4:t65, leader=null, voted=s2, raftlog=s2@group-09A0EF6A68F4-SegmentedRaftLog:OPENED:c1,f2,i2, conf=0: [s0:0.0.0.0:42611, s1:0.0.0.0:39575, s2:0.0.0.0:34382], old=null RUNNING
	at org.apache.ratis.MiniRaftCluster.newIllegalStateExceptionForNoLeaders(MiniRaftCluster.java:506)
	at org.apache.ratis.RaftTestUtil.lambda$waitForLeader$1(RaftTestUtil.java:90)
	at org.apache.ratis.MiniRaftCluster.getLeader(MiniRaftCluster.java:539)
	at org.apache.ratis.MiniRaftCluster.getLeader(MiniRaftCluster.java:532)
	at org.apache.ratis.RaftTestUtil.lambda$waitForLeader$3(RaftTestUtil.java:98)
	at org.apache.ratis.util.JavaUtils.attempt(JavaUtils.java:152)
	at org.apache.ratis.RaftTestUtil.waitForLeader(RaftTestUtil.java:97)
	at org.apache.ratis.RaftTestUtil.waitForLeader(RaftTestUtil.java:77)
	at org.apache.ratis.RaftTestUtil.waitForLeader(RaftTestUtil.java:72)
	at org.apache.ratis.server.impl.RaftStateMachineExceptionTests.runTestRetryOnExceptionDuringReplication(RaftStateMachineExceptionTests.java:166)
	at org.apache.ratis.MiniRaftCluster$Factory$Get.runWithNewCluster(MiniRaftCluster.java:125)
	at org.apache.ratis.MiniRaftCluster$Factory$Get.runWithNewCluster(MiniRaftCluster.java:113)
	at org.apache.ratis.server.impl.RaftStateMachineExceptionTests.testRetryOnExceptionDuringReplication(RaftStateMachineExceptionTests.java:145)
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.lang.reflect.Method.invoke(Method.java:498)
	at org.junit.runners.model.FrameworkMethod$1.runReflectiveCall(FrameworkMethod.java:50)
	at org.junit.internal.runners.model.ReflectiveCallable.run(ReflectiveCallable.java:12)
	at org.junit.runners.model.FrameworkMethod.invokeExplosively(FrameworkMethod.java:47)
	at org.junit.internal.runners.statements.InvokeMethod.evaluate(InvokeMethod.java:17)
	at org.junit.internal.runners.statements.RunAfters.evaluate(RunAfters.java:27)
	at org.junit.internal.runners.statements.FailOnTimeout$CallableStatement.call(FailOnTimeout.java:298)
	at org.junit.internal.runners.statements.FailOnTimeout$CallableStatement.call(FailOnTimeout.java:292)
	at java.util.concurrent.FutureTask.run(FutureTask.java:266)
	at java.lang.Thread.run(Thread.java:748)
2019-09-24 16:58:07,474 WARN  ratis.RaftTestUtil (JavaUtils.java:attempt(158)) - FAILED "waitForLeader-null-(expectLeader? true)", attempt #16/100: java.lang.IllegalStateException: No leader yet : printing ALL groups
  s0:  RUNNING CANDIDATE s0@group-09A0EF6A68F4:t65, leader=null, voted=s0, raftlog=s0@group-09A0EF6A68F4-SegmentedRaftLog:OPENED:c1,f2,i2, conf=0: [s0:0.0.0.0:42611, s1:0.0.0.0:39575, s2:0.0.0.0:34382], old=null RUNNING
  s1:  RUNNING CANDIDATE s1@group-09A0EF6A68F4:t65, leader=null, voted=s1, raftlog=s1@group-09A0EF6A68F4-SegmentedRaftLog:OPENED:c1,f2,i2, conf=0: [s0:0.0.0.0:42611, s1:0.0.0.0:39575, s2:0.0.0.0:34382], old=null RUNNING
  s2:  RUNNING CANDIDATE s2@group-09A0EF6A68F4:t65, leader=null, voted=s2, raftlog=s2@group-09A0EF6A68F4-SegmentedRaftLog:OPENED:c1,f2,i2, conf=0: [s0:0.0.0.0:42611, s1:0.0.0.0:39575, s2:0.0.0.0:34382], old=null RUNNING, sleep 450ms and then retry.
java.lang.IllegalStateException: No leader yet : printing ALL groups
  s0:  RUNNING CANDIDATE s0@group-09A0EF6A68F4:t65, leader=null, voted=s0, raftlog=s0@group-09A0EF6A68F4-SegmentedRaftLog:OPENED:c1,f2,i2, conf=0: [s0:0.0.0.0:42611, s1:0.0.0.0:39575, s2:0.0.0.0:34382], old=null RUNNING
  s1:  RUNNING CANDIDATE s1@group-09A0EF6A68F4:t65, leader=null, voted=s1, raftlog=s1@group-09A0EF6A68F4-SegmentedRaftLog:OPENED:c1,f2,i2, conf=0: [s0:0.0.0.0:42611, s1:0.0.0.0:39575, s2:0.0.0.0:34382], old=null RUNNING
  s2:  RUNNING CANDIDATE s2@group-09A0EF6A68F4:t65, leader=null, voted=s2, raftlog=s2@group-09A0EF6A68F4-SegmentedRaftLog:OPENED:c1,f2,i2, conf=0: [s0:0.0.0.0:42611, s1:0.0.0.0:39575, s2:0.0.0.0:34382], old=null RUNNING
	at org.apache.ratis.MiniRaftCluster.newIllegalStateExceptionForNoLeaders(MiniRaftCluster.java:506)
	at org.apache.ratis.RaftTestUtil.lambda$waitForLeader$1(RaftTestUtil.java:90)
	at org.apache.ratis.MiniRaftCluster.getLeader(MiniRaftCluster.java:539)
	at org.apache.ratis.MiniRaftCluster.getLeader(MiniRaftCluster.java:532)
	at org.apache.ratis.RaftTestUtil.lambda$waitForLeader$3(RaftTestUtil.java:98)
	at org.apache.ratis.util.JavaUtils.attempt(JavaUtils.java:152)
	at org.apache.ratis.RaftTestUtil.waitForLeader(RaftTestUtil.java:97)
	at org.apache.ratis.RaftTestUtil.waitForLeader(RaftTestUtil.java:77)
	at org.apache.ratis.RaftTestUtil.waitForLeader(RaftTestUtil.java:72)
	at org.apache.ratis.server.impl.RaftStateMachineExceptionTests.runTestRetryOnExceptionDuringReplication(RaftStateMachineExceptionTests.java:166)
	at org.apache.ratis.MiniRaftCluster$Factory$Get.runWithNewCluster(MiniRaftCluster.java:125)
	at org.apache.ratis.MiniRaftCluster$Factory$Get.runWithNewCluster(MiniRaftCluster.java:113)
	at org.apache.ratis.server.impl.RaftStateMachineExceptionTests.testRetryOnExceptionDuringReplication(RaftStateMachineExceptionTests.java:145)
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.lang.reflect.Method.invoke(Method.java:498)
	at org.junit.runners.model.FrameworkMethod$1.runReflectiveCall(FrameworkMethod.java:50)
	at org.junit.internal.runners.model.ReflectiveCallable.run(ReflectiveCallable.java:12)
	at org.junit.runners.model.FrameworkMethod.invokeExplosively(FrameworkMethod.java:47)
	at org.junit.internal.runners.statements.InvokeMethod.evaluate(InvokeMethod.java:17)
	at org.junit.internal.runners.statements.RunAfters.evaluate(RunAfters.java:27)
	at org.junit.internal.runners.statements.FailOnTimeout$CallableStatement.call(FailOnTimeout.java:298)
	at org.junit.internal.runners.statements.FailOnTimeout$CallableStatement.call(FailOnTimeout.java:292)
	at java.util.concurrent.FutureTask.run(FutureTask.java:266)
	at java.lang.Thread.run(Thread.java:748)
2019-09-24 16:58:07,926 WARN  ratis.RaftTestUtil (JavaUtils.java:attempt(158)) - FAILED "waitForLeader-null-(expectLeader? true)", attempt #17/100: java.lang.IllegalStateException: No leader yet : printing ALL groups
  s0:  RUNNING CANDIDATE s0@group-09A0EF6A68F4:t65, leader=null, voted=s0, raftlog=s0@group-09A0EF6A68F4-SegmentedRaftLog:OPENED:c1,f2,i2, conf=0: [s0:0.0.0.0:42611, s1:0.0.0.0:39575, s2:0.0.0.0:34382], old=null RUNNING
  s1:  RUNNING CANDIDATE s1@group-09A0EF6A68F4:t65, leader=null, voted=s1, raftlog=s1@group-09A0EF6A68F4-SegmentedRaftLog:OPENED:c1,f2,i2, conf=0: [s0:0.0.0.0:42611, s1:0.0.0.0:39575, s2:0.0.0.0:34382], old=null RUNNING
  s2:  RUNNING CANDIDATE s2@group-09A0EF6A68F4:t65, leader=null, voted=s2, raftlog=s2@group-09A0EF6A68F4-SegmentedRaftLog:OPENED:c1,f2,i2, conf=0: [s0:0.0.0.0:42611, s1:0.0.0.0:39575, s2:0.0.0.0:34382], old=null RUNNING, sleep 450ms and then retry.
java.lang.IllegalStateException: No leader yet : printing ALL groups
  s0:  RUNNING CANDIDATE s0@group-09A0EF6A68F4:t65, leader=null, voted=s0, raftlog=s0@group-09A0EF6A68F4-SegmentedRaftLog:OPENED:c1,f2,i2, conf=0: [s0:0.0.0.0:42611, s1:0.0.0.0:39575, s2:0.0.0.0:34382], old=null RUNNING
  s1:  RUNNING CANDIDATE s1@group-09A0EF6A68F4:t65, leader=null, voted=s1, raftlog=s1@group-09A0EF6A68F4-SegmentedRaftLog:OPENED:c1,f2,i2, conf=0: [s0:0.0.0.0:42611, s1:0.0.0.0:39575, s2:0.0.0.0:34382], old=null RUNNING
  s2:  RUNNING CANDIDATE s2@group-09A0EF6A68F4:t65, leader=null, voted=s2, raftlog=s2@group-09A0EF6A68F4-SegmentedRaftLog:OPENED:c1,f2,i2, conf=0: [s0:0.0.0.0:42611, s1:0.0.0.0:39575, s2:0.0.0.0:34382], old=null RUNNING
	at org.apache.ratis.MiniRaftCluster.newIllegalStateExceptionForNoLeaders(MiniRaftCluster.java:506)
	at org.apache.ratis.RaftTestUtil.lambda$waitForLeader$1(RaftTestUtil.java:90)
	at org.apache.ratis.MiniRaftCluster.getLeader(MiniRaftCluster.java:539)
	at org.apache.ratis.MiniRaftCluster.getLeader(MiniRaftCluster.java:532)
	at org.apache.ratis.RaftTestUtil.lambda$waitForLeader$3(RaftTestUtil.java:98)
	at org.apache.ratis.util.JavaUtils.attempt(JavaUtils.java:152)
	at org.apache.ratis.RaftTestUtil.waitForLeader(RaftTestUtil.java:97)
	at org.apache.ratis.RaftTestUtil.waitForLeader(RaftTestUtil.java:77)
	at org.apache.ratis.RaftTestUtil.waitForLeader(RaftTestUtil.java:72)
	at org.apache.ratis.server.impl.RaftStateMachineExceptionTests.runTestRetryOnExceptionDuringReplication(RaftStateMachineExceptionTests.java:166)
	at org.apache.ratis.MiniRaftCluster$Factory$Get.runWithNewCluster(MiniRaftCluster.java:125)
	at org.apache.ratis.MiniRaftCluster$Factory$Get.runWithNewCluster(MiniRaftCluster.java:113)
	at org.apache.ratis.server.impl.RaftStateMachineExceptionTests.testRetryOnExceptionDuringReplication(RaftStateMachineExceptionTests.java:145)
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.lang.reflect.Method.invoke(Method.java:498)
	at org.junit.runners.model.FrameworkMethod$1.runReflectiveCall(FrameworkMethod.java:50)
	at org.junit.internal.runners.model.ReflectiveCallable.run(ReflectiveCallable.java:12)
	at org.junit.runners.model.FrameworkMethod.invokeExplosively(FrameworkMethod.java:47)
	at org.junit.internal.runners.statements.InvokeMethod.evaluate(InvokeMethod.java:17)
	at org.junit.internal.runners.statements.RunAfters.evaluate(RunAfters.java:27)
	at org.junit.internal.runners.statements.FailOnTimeout$CallableStatement.call(FailOnTimeout.java:298)
	at org.junit.internal.runners.statements.FailOnTimeout$CallableStatement.call(FailOnTimeout.java:292)
	at java.util.concurrent.FutureTask.run(FutureTask.java:266)
	at java.lang.Thread.run(Thread.java:748)
2019-09-24 16:58:08,377 WARN  ratis.RaftTestUtil (JavaUtils.java:attempt(158)) - FAILED "waitForLeader-null-(expectLeader? true)", attempt #18/100: java.lang.IllegalStateException: No leader yet : printing ALL groups
  s0:  RUNNING CANDIDATE s0@group-09A0EF6A68F4:t65, leader=null, voted=s0, raftlog=s0@group-09A0EF6A68F4-SegmentedRaftLog:OPENED:c1,f2,i2, conf=0: [s0:0.0.0.0:42611, s1:0.0.0.0:39575, s2:0.0.0.0:34382], old=null RUNNING
  s1:  RUNNING CANDIDATE s1@group-09A0EF6A68F4:t65, leader=null, voted=s1, raftlog=s1@group-09A0EF6A68F4-SegmentedRaftLog:OPENED:c1,f2,i2, conf=0: [s0:0.0.0.0:42611, s1:0.0.0.0:39575, s2:0.0.0.0:34382], old=null RUNNING
  s2:  RUNNING CANDIDATE s2@group-09A0EF6A68F4:t65, leader=null, voted=s2, raftlog=s2@group-09A0EF6A68F4-SegmentedRaftLog:OPENED:c1,f2,i2, conf=0: [s0:0.0.0.0:42611, s1:0.0.0.0:39575, s2:0.0.0.0:34382], old=null RUNNING, sleep 450ms and then retry.
java.lang.IllegalStateException: No leader yet : printing ALL groups
  s0:  RUNNING CANDIDATE s0@group-09A0EF6A68F4:t65, leader=null, voted=s0, raftlog=s0@group-09A0EF6A68F4-SegmentedRaftLog:OPENED:c1,f2,i2, conf=0: [s0:0.0.0.0:42611, s1:0.0.0.0:39575, s2:0.0.0.0:34382], old=null RUNNING
  s1:  RUNNING CANDIDATE s1@group-09A0EF6A68F4:t65, leader=null, voted=s1, raftlog=s1@group-09A0EF6A68F4-SegmentedRaftLog:OPENED:c1,f2,i2, conf=0: [s0:0.0.0.0:42611, s1:0.0.0.0:39575, s2:0.0.0.0:34382], old=null RUNNING
  s2:  RUNNING CANDIDATE s2@group-09A0EF6A68F4:t65, leader=null, voted=s2, raftlog=s2@group-09A0EF6A68F4-SegmentedRaftLog:OPENED:c1,f2,i2, conf=0: [s0:0.0.0.0:42611, s1:0.0.0.0:39575, s2:0.0.0.0:34382], old=null RUNNING
	at org.apache.ratis.MiniRaftCluster.newIllegalStateExceptionForNoLeaders(MiniRaftCluster.java:506)
	at org.apache.ratis.RaftTestUtil.lambda$waitForLeader$1(RaftTestUtil.java:90)
	at org.apache.ratis.MiniRaftCluster.getLeader(MiniRaftCluster.java:539)
	at org.apache.ratis.MiniRaftCluster.getLeader(MiniRaftCluster.java:532)
	at org.apache.ratis.RaftTestUtil.lambda$waitForLeader$3(RaftTestUtil.java:98)
	at org.apache.ratis.util.JavaUtils.attempt(JavaUtils.java:152)
	at org.apache.ratis.RaftTestUtil.waitForLeader(RaftTestUtil.java:97)
	at org.apache.ratis.RaftTestUtil.waitForLeader(RaftTestUtil.java:77)
	at org.apache.ratis.RaftTestUtil.waitForLeader(RaftTestUtil.java:72)
	at org.apache.ratis.server.impl.RaftStateMachineExceptionTests.runTestRetryOnExceptionDuringReplication(RaftStateMachineExceptionTests.java:166)
	at org.apache.ratis.MiniRaftCluster$Factory$Get.runWithNewCluster(MiniRaftCluster.java:125)
	at org.apache.ratis.MiniRaftCluster$Factory$Get.runWithNewCluster(MiniRaftCluster.java:113)
	at org.apache.ratis.server.impl.RaftStateMachineExceptionTests.testRetryOnExceptionDuringReplication(RaftStateMachineExceptionTests.java:145)
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.lang.reflect.Method.invoke(Method.java:498)
	at org.junit.runners.model.FrameworkMethod$1.runReflectiveCall(FrameworkMethod.java:50)
	at org.junit.internal.runners.model.ReflectiveCallable.run(ReflectiveCallable.java:12)
	at org.junit.runners.model.FrameworkMethod.invokeExplosively(FrameworkMethod.java:47)
	at org.junit.internal.runners.statements.InvokeMethod.evaluate(InvokeMethod.java:17)
	at org.junit.internal.runners.statements.RunAfters.evaluate(RunAfters.java:27)
	at org.junit.internal.runners.statements.FailOnTimeout$CallableStatement.call(FailOnTimeout.java:298)
	at org.junit.internal.runners.statements.FailOnTimeout$CallableStatement.call(FailOnTimeout.java:292)
	at java.util.concurrent.FutureTask.run(FutureTask.java:266)
	at java.lang.Thread.run(Thread.java:748)
2019-09-24 16:58:08,828 WARN  ratis.RaftTestUtil (JavaUtils.java:attempt(158)) - FAILED "waitForLeader-null-(expectLeader? true)", attempt #19/100: java.lang.IllegalStateException: No leader yet : printing ALL groups
  s0:  RUNNING CANDIDATE s0@group-09A0EF6A68F4:t65, leader=null, voted=s0, raftlog=s0@group-09A0EF6A68F4-SegmentedRaftLog:OPENED:c1,f2,i2, conf=0: [s0:0.0.0.0:42611, s1:0.0.0.0:39575, s2:0.0.0.0:34382], old=null RUNNING
  s1:  RUNNING CANDIDATE s1@group-09A0EF6A68F4:t65, leader=null, voted=s1, raftlog=s1@group-09A0EF6A68F4-SegmentedRaftLog:OPENED:c1,f2,i2, conf=0: [s0:0.0.0.0:42611, s1:0.0.0.0:39575, s2:0.0.0.0:34382], old=null RUNNING
  s2:  RUNNING CANDIDATE s2@group-09A0EF6A68F4:t65, leader=null, voted=s2, raftlog=s2@group-09A0EF6A68F4-SegmentedRaftLog:OPENED:c1,f2,i2, conf=0: [s0:0.0.0.0:42611, s1:0.0.0.0:39575, s2:0.0.0.0:34382], old=null RUNNING, sleep 450ms and then retry.
java.lang.IllegalStateException: No leader yet : printing ALL groups
  s0:  RUNNING CANDIDATE s0@group-09A0EF6A68F4:t65, leader=null, voted=s0, raftlog=s0@group-09A0EF6A68F4-SegmentedRaftLog:OPENED:c1,f2,i2, conf=0: [s0:0.0.0.0:42611, s1:0.0.0.0:39575, s2:0.0.0.0:34382], old=null RUNNING
  s1:  RUNNING CANDIDATE s1@group-09A0EF6A68F4:t65, leader=null, voted=s1, raftlog=s1@group-09A0EF6A68F4-SegmentedRaftLog:OPENED:c1,f2,i2, conf=0: [s0:0.0.0.0:42611, s1:0.0.0.0:39575, s2:0.0.0.0:34382], old=null RUNNING
  s2:  RUNNING CANDIDATE s2@group-09A0EF6A68F4:t65, leader=null, voted=s2, raftlog=s2@group-09A0EF6A68F4-SegmentedRaftLog:OPENED:c1,f2,i2, conf=0: [s0:0.0.0.0:42611, s1:0.0.0.0:39575, s2:0.0.0.0:34382], old=null RUNNING
	at org.apache.ratis.MiniRaftCluster.newIllegalStateExceptionForNoLeaders(MiniRaftCluster.java:506)
	at org.apache.ratis.RaftTestUtil.lambda$waitForLeader$1(RaftTestUtil.java:90)
	at org.apache.ratis.MiniRaftCluster.getLeader(MiniRaftCluster.java:539)
	at org.apache.ratis.MiniRaftCluster.getLeader(MiniRaftCluster.java:532)
	at org.apache.ratis.RaftTestUtil.lambda$waitForLeader$3(RaftTestUtil.java:98)
	at org.apache.ratis.util.JavaUtils.attempt(JavaUtils.java:152)
	at org.apache.ratis.RaftTestUtil.waitForLeader(RaftTestUtil.java:97)
	at org.apache.ratis.RaftTestUtil.waitForLeader(RaftTestUtil.java:77)
	at org.apache.ratis.RaftTestUtil.waitForLeader(RaftTestUtil.java:72)
	at org.apache.ratis.server.impl.RaftStateMachineExceptionTests.runTestRetryOnExceptionDuringReplication(RaftStateMachineExceptionTests.java:166)
	at org.apache.ratis.MiniRaftCluster$Factory$Get.runWithNewCluster(MiniRaftCluster.java:125)
	at org.apache.ratis.MiniRaftCluster$Factory$Get.runWithNewCluster(MiniRaftCluster.java:113)
	at org.apache.ratis.server.impl.RaftStateMachineExceptionTests.testRetryOnExceptionDuringReplication(RaftStateMachineExceptionTests.java:145)
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.lang.reflect.Method.invoke(Method.java:498)
	at org.junit.runners.model.FrameworkMethod$1.runReflectiveCall(FrameworkMethod.java:50)
	at org.junit.internal.runners.model.ReflectiveCallable.run(ReflectiveCallable.java:12)
	at org.junit.runners.model.FrameworkMethod.invokeExplosively(FrameworkMethod.java:47)
	at org.junit.internal.runners.statements.InvokeMethod.evaluate(InvokeMethod.java:17)
	at org.junit.internal.runners.statements.RunAfters.evaluate(RunAfters.java:27)
	at org.junit.internal.runners.statements.FailOnTimeout$CallableStatement.call(FailOnTimeout.java:298)
	at org.junit.internal.runners.statements.FailOnTimeout$CallableStatement.call(FailOnTimeout.java:292)
	at java.util.concurrent.FutureTask.run(FutureTask.java:266)
	at java.lang.Thread.run(Thread.java:748)
2019-09-24 16:58:09,280 WARN  ratis.RaftTestUtil (JavaUtils.java:attempt(158)) - FAILED "waitForLeader-null-(expectLeader? true)", attempt #20/100: java.lang.IllegalStateException: No leader yet : printing ALL groups
  s0:  RUNNING CANDIDATE s0@group-09A0EF6A68F4:t65, leader=null, voted=s0, raftlog=s0@group-09A0EF6A68F4-SegmentedRaftLog:OPENED:c1,f2,i2, conf=0: [s0:0.0.0.0:42611, s1:0.0.0.0:39575, s2:0.0.0.0:34382], old=null RUNNING
  s1:  RUNNING CANDIDATE s1@group-09A0EF6A68F4:t65, leader=null, voted=s1, raftlog=s1@group-09A0EF6A68F4-SegmentedRaftLog:OPENED:c1,f2,i2, conf=0: [s0:0.0.0.0:42611, s1:0.0.0.0:39575, s2:0.0.0.0:34382], old=null RUNNING
  s2:  RUNNING CANDIDATE s2@group-09A0EF6A68F4:t65, leader=null, voted=s2, raftlog=s2@group-09A0EF6A68F4-SegmentedRaftLog:OPENED:c1,f2,i2, conf=0: [s0:0.0.0.0:42611, s1:0.0.0.0:39575, s2:0.0.0.0:34382], old=null RUNNING, sleep 450ms and then retry.
java.lang.IllegalStateException: No leader yet : printing ALL groups
  s0:  RUNNING CANDIDATE s0@group-09A0EF6A68F4:t65, leader=null, voted=s0, raftlog=s0@group-09A0EF6A68F4-SegmentedRaftLog:OPENED:c1,f2,i2, conf=0: [s0:0.0.0.0:42611, s1:0.0.0.0:39575, s2:0.0.0.0:34382], old=null RUNNING
  s1:  RUNNING CANDIDATE s1@group-09A0EF6A68F4:t65, leader=null, voted=s1, raftlog=s1@group-09A0EF6A68F4-SegmentedRaftLog:OPENED:c1,f2,i2, conf=0: [s0:0.0.0.0:42611, s1:0.0.0.0:39575, s2:0.0.0.0:34382], old=null RUNNING
  s2:  RUNNING CANDIDATE s2@group-09A0EF6A68F4:t65, leader=null, voted=s2, raftlog=s2@group-09A0EF6A68F4-SegmentedRaftLog:OPENED:c1,f2,i2, conf=0: [s0:0.0.0.0:42611, s1:0.0.0.0:39575, s2:0.0.0.0:34382], old=null RUNNING
	at org.apache.ratis.MiniRaftCluster.newIllegalStateExceptionForNoLeaders(MiniRaftCluster.java:506)
	at org.apache.ratis.RaftTestUtil.lambda$waitForLeader$1(RaftTestUtil.java:90)
	at org.apache.ratis.MiniRaftCluster.getLeader(MiniRaftCluster.java:539)
	at org.apache.ratis.MiniRaftCluster.getLeader(MiniRaftCluster.java:532)
	at org.apache.ratis.RaftTestUtil.lambda$waitForLeader$3(RaftTestUtil.java:98)
	at org.apache.ratis.util.JavaUtils.attempt(JavaUtils.java:152)
	at org.apache.ratis.RaftTestUtil.waitForLeader(RaftTestUtil.java:97)
	at org.apache.ratis.RaftTestUtil.waitForLeader(RaftTestUtil.java:77)
	at org.apache.ratis.RaftTestUtil.waitForLeader(RaftTestUtil.java:72)
	at org.apache.ratis.server.impl.RaftStateMachineExceptionTests.runTestRetryOnExceptionDuringReplication(RaftStateMachineExceptionTests.java:166)
	at org.apache.ratis.MiniRaftCluster$Factory$Get.runWithNewCluster(MiniRaftCluster.java:125)
	at org.apache.ratis.MiniRaftCluster$Factory$Get.runWithNewCluster(MiniRaftCluster.java:113)
	at org.apache.ratis.server.impl.RaftStateMachineExceptionTests.testRetryOnExceptionDuringReplication(RaftStateMachineExceptionTests.java:145)
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.lang.reflect.Method.invoke(Method.java:498)
	at org.junit.runners.model.FrameworkMethod$1.runReflectiveCall(FrameworkMethod.java:50)
	at org.junit.internal.runners.model.ReflectiveCallable.run(ReflectiveCallable.java:12)
	at org.junit.runners.model.FrameworkMethod.invokeExplosively(FrameworkMethod.java:47)
	at org.junit.internal.runners.statements.InvokeMethod.evaluate(InvokeMethod.java:17)
	at org.junit.internal.runners.statements.RunAfters.evaluate(RunAfters.java:27)
	at org.junit.internal.runners.statements.FailOnTimeout$CallableStatement.call(FailOnTimeout.java:298)
	at org.junit.internal.runners.statements.FailOnTimeout$CallableStatement.call(FailOnTimeout.java:292)
	at java.util.concurrent.FutureTask.run(FutureTask.java:266)
	at java.lang.Thread.run(Thread.java:748)
2019-09-24 16:58:09,732 WARN  ratis.RaftTestUtil (JavaUtils.java:attempt(158)) - FAILED "waitForLeader-null-(expectLeader? true)", attempt #21/100: java.lang.IllegalStateException: No leader yet : printing ALL groups
  s0:  RUNNING CANDIDATE s0@group-09A0EF6A68F4:t65, leader=null, voted=s0, raftlog=s0@group-09A0EF6A68F4-SegmentedRaftLog:OPENED:c1,f2,i2, conf=0: [s0:0.0.0.0:42611, s1:0.0.0.0:39575, s2:0.0.0.0:34382], old=null RUNNING
  s1:  RUNNING CANDIDATE s1@group-09A0EF6A68F4:t65, leader=null, voted=s1, raftlog=s1@group-09A0EF6A68F4-SegmentedRaftLog:OPENED:c1,f2,i2, conf=0: [s0:0.0.0.0:42611, s1:0.0.0.0:39575, s2:0.0.0.0:34382], old=null RUNNING
  s2:  RUNNING CANDIDATE s2@group-09A0EF6A68F4:t65, leader=null, voted=s2, raftlog=s2@group-09A0EF6A68F4-SegmentedRaftLog:OPENED:c1,f2,i2, conf=0: [s0:0.0.0.0:42611, s1:0.0.0.0:39575, s2:0.0.0.0:34382], old=null RUNNING, sleep 450ms and then retry.
java.lang.IllegalStateException: No leader yet : printing ALL groups
  s0:  RUNNING CANDIDATE s0@group-09A0EF6A68F4:t65, leader=null, voted=s0, raftlog=s0@group-09A0EF6A68F4-SegmentedRaftLog:OPENED:c1,f2,i2, conf=0: [s0:0.0.0.0:42611, s1:0.0.0.0:39575, s2:0.0.0.0:34382], old=null RUNNING
  s1:  RUNNING CANDIDATE s1@group-09A0EF6A68F4:t65, leader=null, voted=s1, raftlog=s1@group-09A0EF6A68F4-SegmentedRaftLog:OPENED:c1,f2,i2, conf=0: [s0:0.0.0.0:42611, s1:0.0.0.0:39575, s2:0.0.0.0:34382], old=null RUNNING
  s2:  RUNNING CANDIDATE s2@group-09A0EF6A68F4:t65, leader=null, voted=s2, raftlog=s2@group-09A0EF6A68F4-SegmentedRaftLog:OPENED:c1,f2,i2, conf=0: [s0:0.0.0.0:42611, s1:0.0.0.0:39575, s2:0.0.0.0:34382], old=null RUNNING
	at org.apache.ratis.MiniRaftCluster.newIllegalStateExceptionForNoLeaders(MiniRaftCluster.java:506)
	at org.apache.ratis.RaftTestUtil.lambda$waitForLeader$1(RaftTestUtil.java:90)
	at org.apache.ratis.MiniRaftCluster.getLeader(MiniRaftCluster.java:539)
	at org.apache.ratis.MiniRaftCluster.getLeader(MiniRaftCluster.java:532)
	at org.apache.ratis.RaftTestUtil.lambda$waitForLeader$3(RaftTestUtil.java:98)
	at org.apache.ratis.util.JavaUtils.attempt(JavaUtils.java:152)
	at org.apache.ratis.RaftTestUtil.waitForLeader(RaftTestUtil.java:97)
	at org.apache.ratis.RaftTestUtil.waitForLeader(RaftTestUtil.java:77)
	at org.apache.ratis.RaftTestUtil.waitForLeader(RaftTestUtil.java:72)
	at org.apache.ratis.server.impl.RaftStateMachineExceptionTests.runTestRetryOnExceptionDuringReplication(RaftStateMachineExceptionTests.java:166)
	at org.apache.ratis.MiniRaftCluster$Factory$Get.runWithNewCluster(MiniRaftCluster.java:125)
	at org.apache.ratis.MiniRaftCluster$Factory$Get.runWithNewCluster(MiniRaftCluster.java:113)
	at org.apache.ratis.server.impl.RaftStateMachineExceptionTests.testRetryOnExceptionDuringReplication(RaftStateMachineExceptionTests.java:145)
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.lang.reflect.Method.invoke(Method.java:498)
	at org.junit.runners.model.FrameworkMethod$1.runReflectiveCall(FrameworkMethod.java:50)
	at org.junit.internal.runners.model.ReflectiveCallable.run(ReflectiveCallable.java:12)
	at org.junit.runners.model.FrameworkMethod.invokeExplosively(FrameworkMethod.java:47)
	at org.junit.internal.runners.statements.InvokeMethod.evaluate(InvokeMethod.java:17)
	at org.junit.internal.runners.statements.RunAfters.evaluate(RunAfters.java:27)
	at org.junit.internal.runners.statements.FailOnTimeout$CallableStatement.call(FailOnTimeout.java:298)
	at org.junit.internal.runners.statements.FailOnTimeout$CallableStatement.call(FailOnTimeout.java:292)
	at java.util.concurrent.FutureTask.run(FutureTask.java:266)
	at java.lang.Thread.run(Thread.java:748)
2019-09-24 16:58:10,127 INFO  ratis.MiniRaftCluster (MiniRaftCluster.java:lambda$null$5(297)) - TIMED-PRINT: printing ALL groups
  s0:  RUNNING CANDIDATE s0@group-09A0EF6A68F4:t65, leader=null, voted=s0, raftlog=s0@group-09A0EF6A68F4-SegmentedRaftLog:OPENED:c1,f2,i2, conf=0: [s0:0.0.0.0:42611, s1:0.0.0.0:39575, s2:0.0.0.0:34382], old=null RUNNING
  s1:  RUNNING CANDIDATE s1@group-09A0EF6A68F4:t65, leader=null, voted=s1, raftlog=s1@group-09A0EF6A68F4-SegmentedRaftLog:OPENED:c1,f2,i2, conf=0: [s0:0.0.0.0:42611, s1:0.0.0.0:39575, s2:0.0.0.0:34382], old=null RUNNING
  s2:  RUNNING CANDIDATE s2@group-09A0EF6A68F4:t65, leader=null, voted=s2, raftlog=s2@group-09A0EF6A68F4-SegmentedRaftLog:OPENED:c1,f2,i2, conf=0: [s0:0.0.0.0:42611, s1:0.0.0.0:39575, s2:0.0.0.0:34382], old=null RUNNING
2019-09-24 16:58:10,183 WARN  ratis.RaftTestUtil (JavaUtils.java:attempt(158)) - FAILED "waitForLeader-null-(expectLeader? true)", attempt #22/100: java.lang.IllegalStateException: No leader yet : printing ALL groups
  s0:  RUNNING CANDIDATE s0@group-09A0EF6A68F4:t65, leader=null, voted=s0, raftlog=s0@group-09A0EF6A68F4-SegmentedRaftLog:OPENED:c1,f2,i2, conf=0: [s0:0.0.0.0:42611, s1:0.0.0.0:39575, s2:0.0.0.0:34382], old=null RUNNING
  s1:  RUNNING CANDIDATE s1@group-09A0EF6A68F4:t65, leader=null, voted=s1, raftlog=s1@group-09A0EF6A68F4-SegmentedRaftLog:OPENED:c1,f2,i2, conf=0: [s0:0.0.0.0:42611, s1:0.0.0.0:39575, s2:0.0.0.0:34382], old=null RUNNING
  s2:  RUNNING CANDIDATE s2@group-09A0EF6A68F4:t65, leader=null, voted=s2, raftlog=s2@group-09A0EF6A68F4-SegmentedRaftLog:OPENED:c1,f2,i2, conf=0: [s0:0.0.0.0:42611, s1:0.0.0.0:39575, s2:0.0.0.0:34382], old=null RUNNING, sleep 450ms and then retry.
java.lang.IllegalStateException: No leader yet : printing ALL groups
  s0:  RUNNING CANDIDATE s0@group-09A0EF6A68F4:t65, leader=null, voted=s0, raftlog=s0@group-09A0EF6A68F4-SegmentedRaftLog:OPENED:c1,f2,i2, conf=0: [s0:0.0.0.0:42611, s1:0.0.0.0:39575, s2:0.0.0.0:34382], old=null RUNNING
  s1:  RUNNING CANDIDATE s1@group-09A0EF6A68F4:t65, leader=null, voted=s1, raftlog=s1@group-09A0EF6A68F4-SegmentedRaftLog:OPENED:c1,f2,i2, conf=0: [s0:0.0.0.0:42611, s1:0.0.0.0:39575, s2:0.0.0.0:34382], old=null RUNNING
  s2:  RUNNING CANDIDATE s2@group-09A0EF6A68F4:t65, leader=null, voted=s2, raftlog=s2@group-09A0EF6A68F4-SegmentedRaftLog:OPENED:c1,f2,i2, conf=0: [s0:0.0.0.0:42611, s1:0.0.0.0:39575, s2:0.0.0.0:34382], old=null RUNNING
	at org.apache.ratis.MiniRaftCluster.newIllegalStateExceptionForNoLeaders(MiniRaftCluster.java:506)
	at org.apache.ratis.RaftTestUtil.lambda$waitForLeader$1(RaftTestUtil.java:90)
	at org.apache.ratis.MiniRaftCluster.getLeader(MiniRaftCluster.java:539)
	at org.apache.ratis.MiniRaftCluster.getLeader(MiniRaftCluster.java:532)
	at org.apache.ratis.RaftTestUtil.lambda$waitForLeader$3(RaftTestUtil.java:98)
	at org.apache.ratis.util.JavaUtils.attempt(JavaUtils.java:152)
	at org.apache.ratis.RaftTestUtil.waitForLeader(RaftTestUtil.java:97)
	at org.apache.ratis.RaftTestUtil.waitForLeader(RaftTestUtil.java:77)
	at org.apache.ratis.RaftTestUtil.waitForLeader(RaftTestUtil.java:72)
	at org.apache.ratis.server.impl.RaftStateMachineExceptionTests.runTestRetryOnExceptionDuringReplication(RaftStateMachineExceptionTests.java:166)
	at org.apache.ratis.MiniRaftCluster$Factory$Get.runWithNewCluster(MiniRaftCluster.java:125)
	at org.apache.ratis.MiniRaftCluster$Factory$Get.runWithNewCluster(MiniRaftCluster.java:113)
	at org.apache.ratis.server.impl.RaftStateMachineExceptionTests.testRetryOnExceptionDuringReplication(RaftStateMachineExceptionTests.java:145)
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.lang.reflect.Method.invoke(Method.java:498)
	at org.junit.runners.model.FrameworkMethod$1.runReflectiveCall(FrameworkMethod.java:50)
	at org.junit.internal.runners.model.ReflectiveCallable.run(ReflectiveCallable.java:12)
	at org.junit.runners.model.FrameworkMethod.invokeExplosively(FrameworkMethod.java:47)
	at org.junit.internal.runners.statements.InvokeMethod.evaluate(InvokeMethod.java:17)
	at org.junit.internal.runners.statements.RunAfters.evaluate(RunAfters.java:27)
	at org.junit.internal.runners.statements.FailOnTimeout$CallableStatement.call(FailOnTimeout.java:298)
	at org.junit.internal.runners.statements.FailOnTimeout$CallableStatement.call(FailOnTimeout.java:292)
	at java.util.concurrent.FutureTask.run(FutureTask.java:266)
	at java.lang.Thread.run(Thread.java:748)
2019-09-24 16:58:10,357 INFO  impl.LeaderElection (LeaderElection.java:askForVotes(178)) - s2@group-09A0EF6A68F4-LeaderElection158: begin an election at term 65 for 0: [s0:0.0.0.0:42611, s1:0.0.0.0:39575, s2:0.0.0.0:34382], old=null
2019-09-24 16:58:10,357 INFO  impl.LeaderElection (LeaderElection.java:askForVotes(178)) - s0@group-09A0EF6A68F4-LeaderElection159: begin an election at term 65 for 0: [s0:0.0.0.0:42611, s1:0.0.0.0:39575, s2:0.0.0.0:34382], old=null
2019-09-24 16:58:10,357 INFO  impl.LeaderElection (LeaderElection.java:askForVotes(178)) - s1@group-09A0EF6A68F4-LeaderElection160: begin an election at term 65 for 0: [s0:0.0.0.0:42611, s1:0.0.0.0:39575, s2:0.0.0.0:34382], old=null
2019-09-24 16:58:10,358 DEBUG impl.RaftServerImpl (RaftServerImpl.java:requestVote(743)) - s0@group-09A0EF6A68F4: receive requestVote(s2, group-09A0EF6A68F4, 65, (t:62, i:2))
2019-09-24 16:58:10,358 DEBUG impl.RaftServerImpl (RaftServerImpl.java:requestVote(743)) - s1@group-09A0EF6A68F4: receive requestVote(s0, group-09A0EF6A68F4, 65, (t:62, i:2))
2019-09-24 16:58:10,358 DEBUG impl.RaftServerImpl (RaftServerImpl.java:requestVote(743)) - s1@group-09A0EF6A68F4: receive requestVote(s2, group-09A0EF6A68F4, 65, (t:62, i:2))
2019-09-24 16:58:10,358 DEBUG impl.RaftServerImpl (RaftServerImpl.java:requestVote(775)) - s0@group-09A0EF6A68F4 replies to vote request: s2<-s0#0:FAIL-t65. Peer's state: s0@group-09A0EF6A68F4:t65, leader=null, voted=s0, raftlog=s0@group-09A0EF6A68F4-SegmentedRaftLog:OPENED:c1,f2,i2, conf=0: [s0:0.0.0.0:42611, s1:0.0.0.0:39575, s2:0.0.0.0:34382], old=null
2019-09-24 16:58:10,359 DEBUG impl.RaftServerImpl (RaftServerImpl.java:requestVote(743)) - s0@group-09A0EF6A68F4: receive requestVote(s1, group-09A0EF6A68F4, 65, (t:62, i:2))
2019-09-24 16:58:10,358 DEBUG impl.RaftServerImpl (RaftServerImpl.java:requestVote(775)) - s1@group-09A0EF6A68F4 replies to vote request: s0<-s1#0:FAIL-t65. Peer's state: s1@group-09A0EF6A68F4:t65, leader=null, voted=s1, raftlog=s1@group-09A0EF6A68F4-SegmentedRaftLog:OPENED:c1,f2,i2, conf=0: [s0:0.0.0.0:42611, s1:0.0.0.0:39575, s2:0.0.0.0:34382], old=null
2019-09-24 16:58:10,358 DEBUG impl.RaftServerImpl (RaftServerImpl.java:requestVote(743)) - s2@group-09A0EF6A68F4: receive requestVote(s0, group-09A0EF6A68F4, 65, (t:62, i:2))
2019-09-24 16:58:10,359 DEBUG impl.RaftServerImpl (RaftServerImpl.java:requestVote(775)) - s1@group-09A0EF6A68F4 replies to vote request: s2<-s1#0:FAIL-t65. Peer's state: s1@group-09A0EF6A68F4:t65, leader=null, voted=s1, raftlog=s1@group-09A0EF6A68F4-SegmentedRaftLog:OPENED:c1,f2,i2, conf=0: [s0:0.0.0.0:42611, s1:0.0.0.0:39575, s2:0.0.0.0:34382], old=null
2019-09-24 16:58:10,359 DEBUG impl.RaftServerImpl (RaftServerImpl.java:requestVote(775)) - s0@group-09A0EF6A68F4 replies to vote request: s1<-s0#0:FAIL-t65. Peer's state: s0@group-09A0EF6A68F4:t65, leader=null, voted=s0, raftlog=s0@group-09A0EF6A68F4-SegmentedRaftLog:OPENED:c1,f2,i2, conf=0: [s0:0.0.0.0:42611, s1:0.0.0.0:39575, s2:0.0.0.0:34382], old=null
2019-09-24 16:58:10,359 DEBUG impl.RaftServerImpl (RaftServerImpl.java:requestVote(743)) - s2@group-09A0EF6A68F4: receive requestVote(s1, group-09A0EF6A68F4, 65, (t:62, i:2))
2019-09-24 16:58:10,360 INFO  impl.LeaderElection (LeaderElection.java:logAndReturn(56)) - s2@group-09A0EF6A68F4-LeaderElection158: Election REJECTED; received 2 response(s) [s2<-s0#0:FAIL-t65, s2<-s1#0:FAIL-t65] and 0 exception(s); s2@group-09A0EF6A68F4:t65, leader=null, voted=s2, raftlog=s2@group-09A0EF6A68F4-SegmentedRaftLog:OPENED:c1,f2,i2, conf=0: [s0:0.0.0.0:42611, s1:0.0.0.0:39575, s2:0.0.0.0:34382], old=null
2019-09-24 16:58:10,359 DEBUG impl.RaftServerImpl (RaftServerImpl.java:requestVote(775)) - s2@group-09A0EF6A68F4 replies to vote request: s0<-s2#0:FAIL-t65. Peer's state: s2@group-09A0EF6A68F4:t65, leader=null, voted=s2, raftlog=s2@group-09A0EF6A68F4-SegmentedRaftLog:OPENED:c1,f2,i2, conf=0: [s0:0.0.0.0:42611, s1:0.0.0.0:39575, s2:0.0.0.0:34382], old=null
2019-09-24 16:58:10,360 INFO  impl.RaftServerImpl (RaftServerImpl.java:setRole(170)) - s2@group-09A0EF6A68F4: changes role from CANDIDATE to FOLLOWER at term 65 for DISCOVERED_A_NEW_TERM
2019-09-24 16:58:10,360 INFO  impl.LeaderElection (LeaderElection.java:logAndReturn(56)) - s0@group-09A0EF6A68F4-LeaderElection159: Election REJECTED; received 2 response(s) [s0<-s1#0:FAIL-t65, s0<-s2#0:FAIL-t65] and 0 exception(s); s0@group-09A0EF6A68F4:t65, leader=null, voted=s0, raftlog=s0@group-09A0EF6A68F4-SegmentedRaftLog:OPENED:c1,f2,i2, conf=0: [s0:0.0.0.0:42611, s1:0.0.0.0:39575, s2:0.0.0.0:34382], old=null
2019-09-24 16:58:10,361 INFO  impl.RoleInfo (RoleInfo.java:shutdownLeaderElection(134)) - s2: shutdown LeaderElection
2019-09-24 16:58:10,361 INFO  impl.RaftServerImpl (RaftServerImpl.java:setRole(170)) - s0@group-09A0EF6A68F4: changes role from CANDIDATE to FOLLOWER at term 65 for DISCOVERED_A_NEW_TERM
2019-09-24 16:58:10,361 INFO  impl.RoleInfo (RoleInfo.java:updateAndGet(143)) - s2: start FollowerState
2019-09-24 16:58:10,361 INFO  impl.RoleInfo (RoleInfo.java:shutdownLeaderElection(134)) - s0: shutdown LeaderElection
2019-09-24 16:58:10,361 INFO  impl.RoleInfo (RoleInfo.java:updateAndGet(143)) - s0: start FollowerState
2019-09-24 16:58:10,361 DEBUG impl.RaftServerImpl (RaftServerImpl.java:requestVote(775)) - s2@group-09A0EF6A68F4 replies to vote request: s1<-s2#0:FAIL-t65. Peer's state: s2@group-09A0EF6A68F4:t65, leader=null, voted=s2, raftlog=s2@group-09A0EF6A68F4-SegmentedRaftLog:OPENED:c1,f2,i2, conf=0: [s0:0.0.0.0:42611, s1:0.0.0.0:39575, s2:0.0.0.0:34382], old=null
2019-09-24 16:58:10,362 INFO  impl.LeaderElection (LeaderElection.java:logAndReturn(56)) - s1@group-09A0EF6A68F4-LeaderElection160: Election REJECTED; received 2 response(s) [s1<-s0#0:FAIL-t65, s1<-s2#0:FAIL-t65] and 0 exception(s); s1@group-09A0EF6A68F4:t65, leader=null, voted=s1, raftlog=s1@group-09A0EF6A68F4-SegmentedRaftLog:OPENED:c1,f2,i2, conf=0: [s0:0.0.0.0:42611, s1:0.0.0.0:39575, s2:0.0.0.0:34382], old=null
2019-09-24 16:58:10,362 INFO  impl.RaftServerImpl (RaftServerImpl.java:setRole(170)) - s1@group-09A0EF6A68F4: changes role from CANDIDATE to FOLLOWER at term 65 for DISCOVERED_A_NEW_TERM
2019-09-24 16:58:10,362 INFO  impl.RoleInfo (RoleInfo.java:shutdownLeaderElection(134)) - s1: shutdown LeaderElection
2019-09-24 16:58:10,363 INFO  impl.RoleInfo (RoleInfo.java:updateAndGet(143)) - s1: start FollowerState
2019-09-24 16:58:10,581 INFO  impl.FollowerState (FollowerState.java:run(108)) - s1@group-09A0EF6A68F4-FollowerState: change to CANDIDATE, lastRpcTime:218ms, electionTimeout:218ms
2019-09-24 16:58:10,581 INFO  impl.RoleInfo (RoleInfo.java:shutdownFollowerState(121)) - s1: shutdown FollowerState
2019-09-24 16:58:10,582 INFO  impl.RaftServerImpl (RaftServerImpl.java:setRole(170)) - s1@group-09A0EF6A68F4: changes role from  FOLLOWER to CANDIDATE at term 65 for changeToCandidate
2019-09-24 16:58:10,582 INFO  impl.RoleInfo (RoleInfo.java:updateAndGet(143)) - s1: start LeaderElection
2019-09-24 16:58:10,600 INFO  impl.FollowerState (FollowerState.java:run(108)) - s0@group-09A0EF6A68F4-FollowerState: change to CANDIDATE, lastRpcTime:238ms, electionTimeout:238ms
2019-09-24 16:58:10,600 INFO  impl.RoleInfo (RoleInfo.java:shutdownFollowerState(121)) - s0: shutdown FollowerState
2019-09-24 16:58:10,600 INFO  impl.RaftServerImpl (RaftServerImpl.java:setRole(170)) - s0@group-09A0EF6A68F4: changes role from  FOLLOWER to CANDIDATE at term 65 for changeToCandidate
2019-09-24 16:58:10,601 INFO  impl.RoleInfo (RoleInfo.java:updateAndGet(143)) - s0: start LeaderElection
2019-09-24 16:58:10,634 WARN  ratis.RaftTestUtil (JavaUtils.java:attempt(158)) - FAILED "waitForLeader-null-(expectLeader? true)", attempt #23/100: java.lang.IllegalStateException: No leader yet : printing ALL groups
  s0:  RUNNING CANDIDATE s0@group-09A0EF6A68F4:t66, leader=null, voted=s0, raftlog=s0@group-09A0EF6A68F4-SegmentedRaftLog:OPENED:c1,f2,i2, conf=0: [s0:0.0.0.0:42611, s1:0.0.0.0:39575, s2:0.0.0.0:34382], old=null RUNNING
  s1:  RUNNING CANDIDATE s1@group-09A0EF6A68F4:t66, leader=null, voted=s1, raftlog=s1@group-09A0EF6A68F4-SegmentedRaftLog:OPENED:c1,f2,i2, conf=0: [s0:0.0.0.0:42611, s1:0.0.0.0:39575, s2:0.0.0.0:34382], old=null RUNNING
  s2:  RUNNING  FOLLOWER s2@group-09A0EF6A68F4:t65, leader=null, voted=s2, raftlog=s2@group-09A0EF6A68F4-SegmentedRaftLog:OPENED:c1,f2,i2, conf=0: [s0:0.0.0.0:42611, s1:0.0.0.0:39575, s2:0.0.0.0:34382], old=null RUNNING, sleep 450ms and then retry.
java.lang.IllegalStateException: No leader yet : printing ALL groups
  s0:  RUNNING CANDIDATE s0@group-09A0EF6A68F4:t66, leader=null, voted=s0, raftlog=s0@group-09A0EF6A68F4-SegmentedRaftLog:OPENED:c1,f2,i2, conf=0: [s0:0.0.0.0:42611, s1:0.0.0.0:39575, s2:0.0.0.0:34382], old=null RUNNING
  s1:  RUNNING CANDIDATE s1@group-09A0EF6A68F4:t66, leader=null, voted=s1, raftlog=s1@group-09A0EF6A68F4-SegmentedRaftLog:OPENED:c1,f2,i2, conf=0: [s0:0.0.0.0:42611, s1:0.0.0.0:39575, s2:0.0.0.0:34382], old=null RUNNING
  s2:  RUNNING  FOLLOWER s2@group-09A0EF6A68F4:t65, leader=null, voted=s2, raftlog=s2@group-09A0EF6A68F4-SegmentedRaftLog:OPENED:c1,f2,i2, conf=0: [s0:0.0.0.0:42611, s1:0.0.0.0:39575, s2:0.0.0.0:34382], old=null RUNNING
	at org.apache.ratis.MiniRaftCluster.newIllegalStateExceptionForNoLeaders(MiniRaftCluster.java:506)
	at org.apache.ratis.RaftTestUtil.lambda$waitForLeader$1(RaftTestUtil.java:90)
	at org.apache.ratis.MiniRaftCluster.getLeader(MiniRaftCluster.java:539)
	at org.apache.ratis.MiniRaftCluster.getLeader(MiniRaftCluster.java:532)
	at org.apache.ratis.RaftTestUtil.lambda$waitForLeader$3(RaftTestUtil.java:98)
	at org.apache.ratis.util.JavaUtils.attempt(JavaUtils.java:152)
	at org.apache.ratis.RaftTestUtil.waitForLeader(RaftTestUtil.java:97)
	at org.apache.ratis.RaftTestUtil.waitForLeader(RaftTestUtil.java:77)
	at org.apache.ratis.RaftTestUtil.waitForLeader(RaftTestUtil.java:72)
	at org.apache.ratis.server.impl.RaftStateMachineExceptionTests.runTestRetryOnExceptionDuringReplication(RaftStateMachineExceptionTests.java:166)
	at org.apache.ratis.MiniRaftCluster$Factory$Get.runWithNewCluster(MiniRaftCluster.java:125)
	at org.apache.ratis.MiniRaftCluster$Factory$Get.runWithNewCluster(MiniRaftCluster.java:113)
	at org.apache.ratis.server.impl.RaftStateMachineExceptionTests.testRetryOnExceptionDuringReplication(RaftStateMachineExceptionTests.java:145)
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.lang.reflect.Method.invoke(Method.java:498)
	at org.junit.runners.model.FrameworkMethod$1.runReflectiveCall(FrameworkMethod.java:50)
	at org.junit.internal.runners.model.ReflectiveCallable.run(ReflectiveCallable.java:12)
	at org.junit.runners.model.FrameworkMethod.invokeExplosively(FrameworkMethod.java:47)
	at org.junit.internal.runners.statements.InvokeMethod.evaluate(InvokeMethod.java:17)
	at org.junit.internal.runners.statements.RunAfters.evaluate(RunAfters.java:27)
	at org.junit.internal.runners.statements.FailOnTimeout$CallableStatement.call(FailOnTimeout.java:298)
	at org.junit.internal.runners.statements.FailOnTimeout$CallableStatement.call(FailOnTimeout.java:292)
	at java.util.concurrent.FutureTask.run(FutureTask.java:266)
	at java.lang.Thread.run(Thread.java:748)
2019-09-24 16:58:10,637 INFO  impl.FollowerState (FollowerState.java:run(108)) - s2@group-09A0EF6A68F4-FollowerState: change to CANDIDATE, lastRpcTime:275ms, electionTimeout:275ms
2019-09-24 16:58:10,637 INFO  impl.RoleInfo (RoleInfo.java:shutdownFollowerState(121)) - s2: shutdown FollowerState
2019-09-24 16:58:10,637 INFO  impl.RaftServerImpl (RaftServerImpl.java:setRole(170)) - s2@group-09A0EF6A68F4: changes role from  FOLLOWER to CANDIDATE at term 65 for changeToCandidate
2019-09-24 16:58:10,637 INFO  impl.RoleInfo (RoleInfo.java:updateAndGet(143)) - s2: start LeaderElection
2019-09-24 16:58:11,086 WARN  ratis.RaftTestUtil (JavaUtils.java:attempt(158)) - FAILED "waitForLeader-null-(expectLeader? true)", attempt #24/100: java.lang.IllegalStateException: No leader yet : printing ALL groups
  s0:  RUNNING CANDIDATE s0@group-09A0EF6A68F4:t66, leader=null, voted=s0, raftlog=s0@group-09A0EF6A68F4-SegmentedRaftLog:OPENED:c1,f2,i2, conf=0: [s0:0.0.0.0:42611, s1:0.0.0.0:39575, s2:0.0.0.0:34382], old=null RUNNING
  s1:  RUNNING CANDIDATE s1@group-09A0EF6A68F4:t66, leader=null, voted=s1, raftlog=s1@group-09A0EF6A68F4-SegmentedRaftLog:OPENED:c1,f2,i2, conf=0: [s0:0.0.0.0:42611, s1:0.0.0.0:39575, s2:0.0.0.0:34382], old=null RUNNING
  s2:  RUNNING CANDIDATE s2@group-09A0EF6A68F4:t66, leader=null, voted=s2, raftlog=s2@group-09A0EF6A68F4-SegmentedRaftLog:OPENED:c1,f2,i2, conf=0: [s0:0.0.0.0:42611, s1:0.0.0.0:39575, s2:0.0.0.0:34382], old=null RUNNING, sleep 450ms and then retry.
java.lang.IllegalStateException: No leader yet : printing ALL groups
  s0:  RUNNING CANDIDATE s0@group-09A0EF6A68F4:t66, leader=null, voted=s0, raftlog=s0@group-09A0EF6A68F4-SegmentedRaftLog:OPENED:c1,f2,i2, conf=0: [s0:0.0.0.0:42611, s1:0.0.0.0:39575, s2:0.0.0.0:34382], old=null RUNNING
  s1:  RUNNING CANDIDATE s1@group-09A0EF6A68F4:t66, leader=null, voted=s1, raftlog=s1@group-09A0EF6A68F4-SegmentedRaftLog:OPENED:c1,f2,i2, conf=0: [s0:0.0.0.0:42611, s1:0.0.0.0:39575, s2:0.0.0.0:34382], old=null RUNNING
  s2:  RUNNING CANDIDATE s2@group-09A0EF6A68F4:t66, leader=null, voted=s2, raftlog=s2@group-09A0EF6A68F4-SegmentedRaftLog:OPENED:c1,f2,i2, conf=0: [s0:0.0.0.0:42611, s1:0.0.0.0:39575, s2:0.0.0.0:34382], old=null RUNNING
	at org.apache.ratis.MiniRaftCluster.newIllegalStateExceptionForNoLeaders(MiniRaftCluster.java:506)
	at org.apache.ratis.RaftTestUtil.lambda$waitForLeader$1(RaftTestUtil.java:90)
	at org.apache.ratis.MiniRaftCluster.getLeader(MiniRaftCluster.java:539)
	at org.apache.ratis.MiniRaftCluster.getLeader(MiniRaftCluster.java:532)
	at org.apache.ratis.RaftTestUtil.lambda$waitForLeader$3(RaftTestUtil.java:98)
	at org.apache.ratis.util.JavaUtils.attempt(JavaUtils.java:152)
	at org.apache.ratis.RaftTestUtil.waitForLeader(RaftTestUtil.java:97)
	at org.apache.ratis.RaftTestUtil.waitForLeader(RaftTestUtil.java:77)
	at org.apache.ratis.RaftTestUtil.waitForLeader(RaftTestUtil.java:72)
	at org.apache.ratis.server.impl.RaftStateMachineExceptionTests.runTestRetryOnExceptionDuringReplication(RaftStateMachineExceptionTests.java:166)
	at org.apache.ratis.MiniRaftCluster$Factory$Get.runWithNewCluster(MiniRaftCluster.java:125)
	at org.apache.ratis.MiniRaftCluster$Factory$Get.runWithNewCluster(MiniRaftCluster.java:113)
	at org.apache.ratis.server.impl.RaftStateMachineExceptionTests.testRetryOnExceptionDuringReplication(RaftStateMachineExceptionTests.java:145)
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.lang.reflect.Method.invoke(Method.java:498)
	at org.junit.runners.model.FrameworkMethod$1.runReflectiveCall(FrameworkMethod.java:50)
	at org.junit.internal.runners.model.ReflectiveCallable.run(ReflectiveCallable.java:12)
	at org.junit.runners.model.FrameworkMethod.invokeExplosively(FrameworkMethod.java:47)
	at org.junit.internal.runners.statements.InvokeMethod.evaluate(InvokeMethod.java:17)
	at org.junit.internal.runners.statements.RunAfters.evaluate(RunAfters.java:27)
	at org.junit.internal.runners.statements.FailOnTimeout$CallableStatement.call(FailOnTimeout.java:298)
	at org.junit.internal.runners.statements.FailOnTimeout$CallableStatement.call(FailOnTimeout.java:292)
	at java.util.concurrent.FutureTask.run(FutureTask.java:266)
	at java.lang.Thread.run(Thread.java:748)
2019-09-24 16:58:11,537 WARN  ratis.RaftTestUtil (JavaUtils.java:attempt(158)) - FAILED "waitForLeader-null-(expectLeader? true)", attempt #25/100: java.lang.IllegalStateException: No leader yet : printing ALL groups
  s0:  RUNNING CANDIDATE s0@group-09A0EF6A68F4:t66, leader=null, voted=s0, raftlog=s0@group-09A0EF6A68F4-SegmentedRaftLog:OPENED:c1,f2,i2, conf=0: [s0:0.0.0.0:42611, s1:0.0.0.0:39575, s2:0.0.0.0:34382], old=null RUNNING
  s1:  RUNNING CANDIDATE s1@group-09A0EF6A68F4:t66, leader=null, voted=s1, raftlog=s1@group-09A0EF6A68F4-SegmentedRaftLog:OPENED:c1,f2,i2, conf=0: [s0:0.0.0.0:42611, s1:0.0.0.0:39575, s2:0.0.0.0:34382], old=null RUNNING
  s2:  RUNNING CANDIDATE s2@group-09A0EF6A68F4:t66, leader=null, voted=s2, raftlog=s2@group-09A0EF6A68F4-SegmentedRaftLog:OPENED:c1,f2,i2, conf=0: [s0:0.0.0.0:42611, s1:0.0.0.0:39575, s2:0.0.0.0:34382], old=null RUNNING, sleep 450ms and then retry.
java.lang.IllegalStateException: No leader yet : printing ALL groups
  s0:  RUNNING CANDIDATE s0@group-09A0EF6A68F4:t66, leader=null, voted=s0, raftlog=s0@group-09A0EF6A68F4-SegmentedRaftLog:OPENED:c1,f2,i2, conf=0: [s0:0.0.0.0:42611, s1:0.0.0.0:39575, s2:0.0.0.0:34382], old=null RUNNING
  s1:  RUNNING CANDIDATE s1@group-09A0EF6A68F4:t66, leader=null, voted=s1, raftlog=s1@group-09A0EF6A68F4-SegmentedRaftLog:OPENED:c1,f2,i2, conf=0: [s0:0.0.0.0:42611, s1:0.0.0.0:39575, s2:0.0.0.0:34382], old=null RUNNING
  s2:  RUNNING CANDIDATE s2@group-09A0EF6A68F4:t66, leader=null, voted=s2, raftlog=s2@group-09A0EF6A68F4-SegmentedRaftLog:OPENED:c1,f2,i2, conf=0: [s0:0.0.0.0:42611, s1:0.0.0.0:39575, s2:0.0.0.0:34382], old=null RUNNING
	at org.apache.ratis.MiniRaftCluster.newIllegalStateExceptionForNoLeaders(MiniRaftCluster.java:506)
	at org.apache.ratis.RaftTestUtil.lambda$waitForLeader$1(RaftTestUtil.java:90)
	at org.apache.ratis.MiniRaftCluster.getLeader(MiniRaftCluster.java:539)
	at org.apache.ratis.MiniRaftCluster.getLeader(MiniRaftCluster.java:532)
	at org.apache.ratis.RaftTestUtil.lambda$waitForLeader$3(RaftTestUtil.java:98)
	at org.apache.ratis.util.JavaUtils.attempt(JavaUtils.java:152)
	at org.apache.ratis.RaftTestUtil.waitForLeader(RaftTestUtil.java:97)
	at org.apache.ratis.RaftTestUtil.waitForLeader(RaftTestUtil.java:77)
	at org.apache.ratis.RaftTestUtil.waitForLeader(RaftTestUtil.java:72)
	at org.apache.ratis.server.impl.RaftStateMachineExceptionTests.runTestRetryOnExceptionDuringReplication(RaftStateMachineExceptionTests.java:166)
	at org.apache.ratis.MiniRaftCluster$Factory$Get.runWithNewCluster(MiniRaftCluster.java:125)
	at org.apache.ratis.MiniRaftCluster$Factory$Get.runWithNewCluster(MiniRaftCluster.java:113)
	at org.apache.ratis.server.impl.RaftStateMachineExceptionTests.testRetryOnExceptionDuringReplication(RaftStateMachineExceptionTests.java:145)
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.lang.reflect.Method.invoke(Method.java:498)
	at org.junit.runners.model.FrameworkMethod$1.runReflectiveCall(FrameworkMethod.java:50)
	at org.junit.internal.runners.model.ReflectiveCallable.run(ReflectiveCallable.java:12)
	at org.junit.runners.model.FrameworkMethod.invokeExplosively(FrameworkMethod.java:47)
	at org.junit.internal.runners.statements.InvokeMethod.evaluate(InvokeMethod.java:17)
	at org.junit.internal.runners.statements.RunAfters.evaluate(RunAfters.java:27)
	at org.junit.internal.runners.statements.FailOnTimeout$CallableStatement.call(FailOnTimeout.java:298)
	at org.junit.internal.runners.statements.FailOnTimeout$CallableStatement.call(FailOnTimeout.java:292)
	at java.util.concurrent.FutureTask.run(FutureTask.java:266)
	at java.lang.Thread.run(Thread.java:748)
2019-09-24 16:58:11,988 WARN  ratis.RaftTestUtil (JavaUtils.java:attempt(158)) - FAILED "waitForLeader-null-(expectLeader? true)", attempt #26/100: java.lang.IllegalStateException: No leader yet : printing ALL groups
  s0:  RUNNING CANDIDATE s0@group-09A0EF6A68F4:t66, leader=null, voted=s0, raftlog=s0@group-09A0EF6A68F4-SegmentedRaftLog:OPENED:c1,f2,i2, conf=0: [s0:0.0.0.0:42611, s1:0.0.0.0:39575, s2:0.0.0.0:34382], old=null RUNNING
  s1:  RUNNING CANDIDATE s1@group-09A0EF6A68F4:t66, leader=null, voted=s1, raftlog=s1@group-09A0EF6A68F4-SegmentedRaftLog:OPENED:c1,f2,i2, conf=0: [s0:0.0.0.0:42611, s1:0.0.0.0:39575, s2:0.0.0.0:34382], old=null RUNNING
  s2:  RUNNING CANDIDATE s2@group-09A0EF6A68F4:t66, leader=null, voted=s2, raftlog=s2@group-09A0EF6A68F4-SegmentedRaftLog:OPENED:c1,f2,i2, conf=0: [s0:0.0.0.0:42611, s1:0.0.0.0:39575, s2:0.0.0.0:34382], old=null RUNNING, sleep 450ms and then retry.
java.lang.IllegalStateException: No leader yet : printing ALL groups
  s0:  RUNNING CANDIDATE s0@group-09A0EF6A68F4:t66, leader=null, voted=s0, raftlog=s0@group-09A0EF6A68F4-SegmentedRaftLog:OPENED:c1,f2,i2, conf=0: [s0:0.0.0.0:42611, s1:0.0.0.0:39575, s2:0.0.0.0:34382], old=null RUNNING
  s1:  RUNNING CANDIDATE s1@group-09A0EF6A68F4:t66, leader=null, voted=s1, raftlog=s1@group-09A0EF6A68F4-SegmentedRaftLog:OPENED:c1,f2,i2, conf=0: [s0:0.0.0.0:42611, s1:0.0.0.0:39575, s2:0.0.0.0:34382], old=null RUNNING
  s2:  RUNNING CANDIDATE s2@group-09A0EF6A68F4:t66, leader=null, voted=s2, raftlog=s2@group-09A0EF6A68F4-SegmentedRaftLog:OPENED:c1,f2,i2, conf=0: [s0:0.0.0.0:42611, s1:0.0.0.0:39575, s2:0.0.0.0:34382], old=null RUNNING
	at org.apache.ratis.MiniRaftCluster.newIllegalStateExceptionForNoLeaders(MiniRaftCluster.java:506)
	at org.apache.ratis.RaftTestUtil.lambda$waitForLeader$1(RaftTestUtil.java:90)
	at org.apache.ratis.MiniRaftCluster.getLeader(MiniRaftCluster.java:539)
	at org.apache.ratis.MiniRaftCluster.getLeader(MiniRaftCluster.java:532)
	at org.apache.ratis.RaftTestUtil.lambda$waitForLeader$3(RaftTestUtil.java:98)
	at org.apache.ratis.util.JavaUtils.attempt(JavaUtils.java:152)
	at org.apache.ratis.RaftTestUtil.waitForLeader(RaftTestUtil.java:97)
	at org.apache.ratis.RaftTestUtil.waitForLeader(RaftTestUtil.java:77)
	at org.apache.ratis.RaftTestUtil.waitForLeader(RaftTestUtil.java:72)
	at org.apache.ratis.server.impl.RaftStateMachineExceptionTests.runTestRetryOnExceptionDuringReplication(RaftStateMachineExceptionTests.java:166)
	at org.apache.ratis.MiniRaftCluster$Factory$Get.runWithNewCluster(MiniRaftCluster.java:125)
	at org.apache.ratis.MiniRaftCluster$Factory$Get.runWithNewCluster(MiniRaftCluster.java:113)
	at org.apache.ratis.server.impl.RaftStateMachineExceptionTests.testRetryOnExceptionDuringReplication(RaftStateMachineExceptionTests.java:145)
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.lang.reflect.Method.invoke(Method.java:498)
	at org.junit.runners.model.FrameworkMethod$1.runReflectiveCall(FrameworkMethod.java:50)
	at org.junit.internal.runners.model.ReflectiveCallable.run(ReflectiveCallable.java:12)
	at org.junit.runners.model.FrameworkMethod.invokeExplosively(FrameworkMethod.java:47)
	at org.junit.internal.runners.statements.InvokeMethod.evaluate(InvokeMethod.java:17)
	at org.junit.internal.runners.statements.RunAfters.evaluate(RunAfters.java:27)
	at org.junit.internal.runners.statements.FailOnTimeout$CallableStatement.call(FailOnTimeout.java:298)
	at org.junit.internal.runners.statements.FailOnTimeout$CallableStatement.call(FailOnTimeout.java:292)
	at java.util.concurrent.FutureTask.run(FutureTask.java:266)
	at java.lang.Thread.run(Thread.java:748)
2019-09-24 16:58:12,439 WARN  ratis.RaftTestUtil (JavaUtils.java:attempt(158)) - FAILED "waitForLeader-null-(expectLeader? true)", attempt #27/100: java.lang.IllegalStateException: No leader yet : printing ALL groups
  s0:  RUNNING CANDIDATE s0@group-09A0EF6A68F4:t66, leader=null, voted=s0, raftlog=s0@group-09A0EF6A68F4-SegmentedRaftLog:OPENED:c1,f2,i2, conf=0: [s0:0.0.0.0:42611, s1:0.0.0.0:39575, s2:0.0.0.0:34382], old=null RUNNING
  s1:  RUNNING CANDIDATE s1@group-09A0EF6A68F4:t66, leader=null, voted=s1, raftlog=s1@group-09A0EF6A68F4-SegmentedRaftLog:OPENED:c1,f2,i2, conf=0: [s0:0.0.0.0:42611, s1:0.0.0.0:39575, s2:0.0.0.0:34382], old=null RUNNING
  s2:  RUNNING CANDIDATE s2@group-09A0EF6A68F4:t66, leader=null, voted=s2, raftlog=s2@group-09A0EF6A68F4-SegmentedRaftLog:OPENED:c1,f2,i2, conf=0: [s0:0.0.0.0:42611, s1:0.0.0.0:39575, s2:0.0.0.0:34382], old=null RUNNING, sleep 450ms and then retry.
java.lang.IllegalStateException: No leader yet : printing ALL groups
  s0:  RUNNING CANDIDATE s0@group-09A0EF6A68F4:t66, leader=null, voted=s0, raftlog=s0@group-09A0EF6A68F4-SegmentedRaftLog:OPENED:c1,f2,i2, conf=0: [s0:0.0.0.0:42611, s1:0.0.0.0:39575, s2:0.0.0.0:34382], old=null RUNNING
  s1:  RUNNING CANDIDATE s1@group-09A0EF6A68F4:t66, leader=null, voted=s1, raftlog=s1@group-09A0EF6A68F4-SegmentedRaftLog:OPENED:c1,f2,i2, conf=0: [s0:0.0.0.0:42611, s1:0.0.0.0:39575, s2:0.0.0.0:34382], old=null RUNNING
  s2:  RUNNING CANDIDATE s2@group-09A0EF6A68F4:t66, leader=null, voted=s2, raftlog=s2@group-09A0EF6A68F4-SegmentedRaftLog:OPENED:c1,f2,i2, conf=0: [s0:0.0.0.0:42611, s1:0.0.0.0:39575, s2:0.0.0.0:34382], old=null RUNNING
	at org.apache.ratis.MiniRaftCluster.newIllegalStateExceptionForNoLeaders(MiniRaftCluster.java:506)
	at org.apache.ratis.RaftTestUtil.lambda$waitForLeader$1(RaftTestUtil.java:90)
	at org.apache.ratis.MiniRaftCluster.getLeader(MiniRaftCluster.java:539)
	at org.apache.ratis.MiniRaftCluster.getLeader(MiniRaftCluster.java:532)
	at org.apache.ratis.RaftTestUtil.lambda$waitForLeader$3(RaftTestUtil.java:98)
	at org.apache.ratis.util.JavaUtils.attempt(JavaUtils.java:152)
	at org.apache.ratis.RaftTestUtil.waitForLeader(RaftTestUtil.java:97)
	at org.apache.ratis.RaftTestUtil.waitForLeader(RaftTestUtil.java:77)
	at org.apache.ratis.RaftTestUtil.waitForLeader(RaftTestUtil.java:72)
	at org.apache.ratis.server.impl.RaftStateMachineExceptionTests.runTestRetryOnExceptionDuringReplication(RaftStateMachineExceptionTests.java:166)
	at org.apache.ratis.MiniRaftCluster$Factory$Get.runWithNewCluster(MiniRaftCluster.java:125)
	at org.apache.ratis.MiniRaftCluster$Factory$Get.runWithNewCluster(MiniRaftCluster.java:113)
	at org.apache.ratis.server.impl.RaftStateMachineExceptionTests.testRetryOnExceptionDuringReplication(RaftStateMachineExceptionTests.java:145)
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.lang.reflect.Method.invoke(Method.java:498)
	at org.junit.runners.model.FrameworkMethod$1.runReflectiveCall(FrameworkMethod.java:50)
	at org.junit.internal.runners.model.ReflectiveCallable.run(ReflectiveCallable.java:12)
	at org.junit.runners.model.FrameworkMethod.invokeExplosively(FrameworkMethod.java:47)
	at org.junit.internal.runners.statements.InvokeMethod.evaluate(InvokeMethod.java:17)
	at org.junit.internal.runners.statements.RunAfters.evaluate(RunAfters.java:27)
	at org.junit.internal.runners.statements.FailOnTimeout$CallableStatement.call(FailOnTimeout.java:298)
	at org.junit.internal.runners.statements.FailOnTimeout$CallableStatement.call(FailOnTimeout.java:292)
	at java.util.concurrent.FutureTask.run(FutureTask.java:266)
	at java.lang.Thread.run(Thread.java:748)
2019-09-24 16:58:12,891 WARN  ratis.RaftTestUtil (JavaUtils.java:attempt(158)) - FAILED "waitForLeader-null-(expectLeader? true)", attempt #28/100: java.lang.IllegalStateException: No leader yet : printing ALL groups
  s0:  RUNNING CANDIDATE s0@group-09A0EF6A68F4:t66, leader=null, voted=s0, raftlog=s0@group-09A0EF6A68F4-SegmentedRaftLog:OPENED:c1,f2,i2, conf=0: [s0:0.0.0.0:42611, s1:0.0.0.0:39575, s2:0.0.0.0:34382], old=null RUNNING
  s1:  RUNNING CANDIDATE s1@group-09A0EF6A68F4:t66, leader=null, voted=s1, raftlog=s1@group-09A0EF6A68F4-SegmentedRaftLog:OPENED:c1,f2,i2, conf=0: [s0:0.0.0.0:42611, s1:0.0.0.0:39575, s2:0.0.0.0:34382], old=null RUNNING
  s2:  RUNNING CANDIDATE s2@group-09A0EF6A68F4:t66, leader=null, voted=s2, raftlog=s2@group-09A0EF6A68F4-SegmentedRaftLog:OPENED:c1,f2,i2, conf=0: [s0:0.0.0.0:42611, s1:0.0.0.0:39575, s2:0.0.0.0:34382], old=null RUNNING, sleep 450ms and then retry.
java.lang.IllegalStateException: No leader yet : printing ALL groups
  s0:  RUNNING CANDIDATE s0@group-09A0EF6A68F4:t66, leader=null, voted=s0, raftlog=s0@group-09A0EF6A68F4-SegmentedRaftLog:OPENED:c1,f2,i2, conf=0: [s0:0.0.0.0:42611, s1:0.0.0.0:39575, s2:0.0.0.0:34382], old=null RUNNING
  s1:  RUNNING CANDIDATE s1@group-09A0EF6A68F4:t66, leader=null, voted=s1, raftlog=s1@group-09A0EF6A68F4-SegmentedRaftLog:OPENED:c1,f2,i2, conf=0: [s0:0.0.0.0:42611, s1:0.0.0.0:39575, s2:0.0.0.0:34382], old=null RUNNING
  s2:  RUNNING CANDIDATE s2@group-09A0EF6A68F4:t66, leader=null, voted=s2, raftlog=s2@group-09A0EF6A68F4-SegmentedRaftLog:OPENED:c1,f2,i2, conf=0: [s0:0.0.0.0:42611, s1:0.0.0.0:39575, s2:0.0.0.0:34382], old=null RUNNING
	at org.apache.ratis.MiniRaftCluster.newIllegalStateExceptionForNoLeaders(MiniRaftCluster.java:506)
	at org.apache.ratis.RaftTestUtil.lambda$waitForLeader$1(RaftTestUtil.java:90)
	at org.apache.ratis.MiniRaftCluster.getLeader(MiniRaftCluster.java:539)
	at org.apache.ratis.MiniRaftCluster.getLeader(MiniRaftCluster.java:532)
	at org.apache.ratis.RaftTestUtil.lambda$waitForLeader$3(RaftTestUtil.java:98)
	at org.apache.ratis.util.JavaUtils.attempt(JavaUtils.java:152)
	at org.apache.ratis.RaftTestUtil.waitForLeader(RaftTestUtil.java:97)
	at org.apache.ratis.RaftTestUtil.waitForLeader(RaftTestUtil.java:77)
	at org.apache.ratis.RaftTestUtil.waitForLeader(RaftTestUtil.java:72)
	at org.apache.ratis.server.impl.RaftStateMachineExceptionTests.runTestRetryOnExceptionDuringReplication(RaftStateMachineExceptionTests.java:166)
	at org.apache.ratis.MiniRaftCluster$Factory$Get.runWithNewCluster(MiniRaftCluster.java:125)
	at org.apache.ratis.MiniRaftCluster$Factory$Get.runWithNewCluster(MiniRaftCluster.java:113)
	at org.apache.ratis.server.impl.RaftStateMachineExceptionTests.testRetryOnExceptionDuringReplication(RaftStateMachineExceptionTests.java:145)
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.lang.reflect.Method.invoke(Method.java:498)
	at org.junit.runners.model.FrameworkMethod$1.runReflectiveCall(FrameworkMethod.java:50)
	at org.junit.internal.runners.model.ReflectiveCallable.run(ReflectiveCallable.java:12)
	at org.junit.runners.model.FrameworkMethod.invokeExplosively(FrameworkMethod.java:47)
	at org.junit.internal.runners.statements.InvokeMethod.evaluate(InvokeMethod.java:17)
	at org.junit.internal.runners.statements.RunAfters.evaluate(RunAfters.java:27)
	at org.junit.internal.runners.statements.FailOnTimeout$CallableStatement.call(FailOnTimeout.java:298)
	at org.junit.internal.runners.statements.FailOnTimeout$CallableStatement.call(FailOnTimeout.java:292)
	at java.util.concurrent.FutureTask.run(FutureTask.java:266)
	at java.lang.Thread.run(Thread.java:748)
2019-09-24 16:58:13,342 WARN  ratis.RaftTestUtil (JavaUtils.java:attempt(158)) - FAILED "waitForLeader-null-(expectLeader? true)", attempt #29/100: java.lang.IllegalStateException: No leader yet : printing ALL groups
  s0:  RUNNING CANDIDATE s0@group-09A0EF6A68F4:t66, leader=null, voted=s0, raftlog=s0@group-09A0EF6A68F4-SegmentedRaftLog:OPENED:c1,f2,i2, conf=0: [s0:0.0.0.0:42611, s1:0.0.0.0:39575, s2:0.0.0.0:34382], old=null RUNNING
  s1:  RUNNING CANDIDATE s1@group-09A0EF6A68F4:t66, leader=null, voted=s1, raftlog=s1@group-09A0EF6A68F4-SegmentedRaftLog:OPENED:c1,f2,i2, conf=0: [s0:0.0.0.0:42611, s1:0.0.0.0:39575, s2:0.0.0.0:34382], old=null RUNNING
  s2:  RUNNING CANDIDATE s2@group-09A0EF6A68F4:t66, leader=null, voted=s2, raftlog=s2@group-09A0EF6A68F4-SegmentedRaftLog:OPENED:c1,f2,i2, conf=0: [s0:0.0.0.0:42611, s1:0.0.0.0:39575, s2:0.0.0.0:34382], old=null RUNNING, sleep 450ms and then retry.
java.lang.IllegalStateException: No leader yet : printing ALL groups
  s0:  RUNNING CANDIDATE s0@group-09A0EF6A68F4:t66, leader=null, voted=s0, raftlog=s0@group-09A0EF6A68F4-SegmentedRaftLog:OPENED:c1,f2,i2, conf=0: [s0:0.0.0.0:42611, s1:0.0.0.0:39575, s2:0.0.0.0:34382], old=null RUNNING
  s1:  RUNNING CANDIDATE s1@group-09A0EF6A68F4:t66, leader=null, voted=s1, raftlog=s1@group-09A0EF6A68F4-SegmentedRaftLog:OPENED:c1,f2,i2, conf=0: [s0:0.0.0.0:42611, s1:0.0.0.0:39575, s2:0.0.0.0:34382], old=null RUNNING
  s2:  RUNNING CANDIDATE s2@group-09A0EF6A68F4:t66, leader=null, voted=s2, raftlog=s2@group-09A0EF6A68F4-SegmentedRaftLog:OPENED:c1,f2,i2, conf=0: [s0:0.0.0.0:42611, s1:0.0.0.0:39575, s2:0.0.0.0:34382], old=null RUNNING
	at org.apache.ratis.MiniRaftCluster.newIllegalStateExceptionForNoLeaders(MiniRaftCluster.java:506)
	at org.apache.ratis.RaftTestUtil.lambda$waitForLeader$1(RaftTestUtil.java:90)
	at org.apache.ratis.MiniRaftCluster.getLeader(MiniRaftCluster.java:539)
	at org.apache.ratis.MiniRaftCluster.getLeader(MiniRaftCluster.java:532)
	at org.apache.ratis.RaftTestUtil.lambda$waitForLeader$3(RaftTestUtil.java:98)
	at org.apache.ratis.util.JavaUtils.attempt(JavaUtils.java:152)
	at org.apache.ratis.RaftTestUtil.waitForLeader(RaftTestUtil.java:97)
	at org.apache.ratis.RaftTestUtil.waitForLeader(RaftTestUtil.java:77)
	at org.apache.ratis.RaftTestUtil.waitForLeader(RaftTestUtil.java:72)
	at org.apache.ratis.server.impl.RaftStateMachineExceptionTests.runTestRetryOnExceptionDuringReplication(RaftStateMachineExceptionTests.java:166)
	at org.apache.ratis.MiniRaftCluster$Factory$Get.runWithNewCluster(MiniRaftCluster.java:125)
	at org.apache.ratis.MiniRaftCluster$Factory$Get.runWithNewCluster(MiniRaftCluster.java:113)
	at org.apache.ratis.server.impl.RaftStateMachineExceptionTests.testRetryOnExceptionDuringReplication(RaftStateMachineExceptionTests.java:145)
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.lang.reflect.Method.invoke(Method.java:498)
	at org.junit.runners.model.FrameworkMethod$1.runReflectiveCall(FrameworkMethod.java:50)
	at org.junit.internal.runners.model.ReflectiveCallable.run(ReflectiveCallable.java:12)
	at org.junit.runners.model.FrameworkMethod.invokeExplosively(FrameworkMethod.java:47)
	at org.junit.internal.runners.statements.InvokeMethod.evaluate(InvokeMethod.java:17)
	at org.junit.internal.runners.statements.RunAfters.evaluate(RunAfters.java:27)
	at org.junit.internal.runners.statements.FailOnTimeout$CallableStatement.call(FailOnTimeout.java:298)
	at org.junit.internal.runners.statements.FailOnTimeout$CallableStatement.call(FailOnTimeout.java:292)
	at java.util.concurrent.FutureTask.run(FutureTask.java:266)
	at java.lang.Thread.run(Thread.java:748)
2019-09-24 16:58:13,794 WARN  ratis.RaftTestUtil (JavaUtils.java:attempt(158)) - FAILED "waitForLeader-null-(expectLeader? true)", attempt #30/100: java.lang.IllegalStateException: No leader yet : printing ALL groups
  s0:  RUNNING CANDIDATE s0@group-09A0EF6A68F4:t66, leader=null, voted=s0, raftlog=s0@group-09A0EF6A68F4-SegmentedRaftLog:OPENED:c1,f2,i2, conf=0: [s0:0.0.0.0:42611, s1:0.0.0.0:39575, s2:0.0.0.0:34382], old=null RUNNING
  s1:  RUNNING CANDIDATE s1@group-09A0EF6A68F4:t66, leader=null, voted=s1, raftlog=s1@group-09A0EF6A68F4-SegmentedRaftLog:OPENED:c1,f2,i2, conf=0: [s0:0.0.0.0:42611, s1:0.0.0.0:39575, s2:0.0.0.0:34382], old=null RUNNING
  s2:  RUNNING CANDIDATE s2@group-09A0EF6A68F4:t66, leader=null, voted=s2, raftlog=s2@group-09A0EF6A68F4-SegmentedRaftLog:OPENED:c1,f2,i2, conf=0: [s0:0.0.0.0:42611, s1:0.0.0.0:39575, s2:0.0.0.0:34382], old=null RUNNING, sleep 450ms and then retry.
java.lang.IllegalStateException: No leader yet : printing ALL groups
  s0:  RUNNING CANDIDATE s0@group-09A0EF6A68F4:t66, leader=null, voted=s0, raftlog=s0@group-09A0EF6A68F4-SegmentedRaftLog:OPENED:c1,f2,i2, conf=0: [s0:0.0.0.0:42611, s1:0.0.0.0:39575, s2:0.0.0.0:34382], old=null RUNNING
  s1:  RUNNING CANDIDATE s1@group-09A0EF6A68F4:t66, leader=null, voted=s1, raftlog=s1@group-09A0EF6A68F4-SegmentedRaftLog:OPENED:c1,f2,i2, conf=0: [s0:0.0.0.0:42611, s1:0.0.0.0:39575, s2:0.0.0.0:34382], old=null RUNNING
  s2:  RUNNING CANDIDATE s2@group-09A0EF6A68F4:t66, leader=null, voted=s2, raftlog=s2@group-09A0EF6A68F4-SegmentedRaftLog:OPENED:c1,f2,i2, conf=0: [s0:0.0.0.0:42611, s1:0.0.0.0:39575, s2:0.0.0.0:34382], old=null RUNNING
	at org.apache.ratis.MiniRaftCluster.newIllegalStateExceptionForNoLeaders(MiniRaftCluster.java:506)
	at org.apache.ratis.RaftTestUtil.lambda$waitForLeader$1(RaftTestUtil.java:90)
	at org.apache.ratis.MiniRaftCluster.getLeader(MiniRaftCluster.java:539)
	at org.apache.ratis.MiniRaftCluster.getLeader(MiniRaftCluster.java:532)
	at org.apache.ratis.RaftTestUtil.lambda$waitForLeader$3(RaftTestUtil.java:98)
	at org.apache.ratis.util.JavaUtils.attempt(JavaUtils.java:152)
	at org.apache.ratis.RaftTestUtil.waitForLeader(RaftTestUtil.java:97)
	at org.apache.ratis.RaftTestUtil.waitForLeader(RaftTestUtil.java:77)
	at org.apache.ratis.RaftTestUtil.waitForLeader(RaftTestUtil.java:72)
	at org.apache.ratis.server.impl.RaftStateMachineExceptionTests.runTestRetryOnExceptionDuringReplication(RaftStateMachineExceptionTests.java:166)
	at org.apache.ratis.MiniRaftCluster$Factory$Get.runWithNewCluster(MiniRaftCluster.java:125)
	at org.apache.ratis.MiniRaftCluster$Factory$Get.runWithNewCluster(MiniRaftCluster.java:113)
	at org.apache.ratis.server.impl.RaftStateMachineExceptionTests.testRetryOnExceptionDuringReplication(RaftStateMachineExceptionTests.java:145)
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.lang.reflect.Method.invoke(Method.java:498)
	at org.junit.runners.model.FrameworkMethod$1.runReflectiveCall(FrameworkMethod.java:50)
	at org.junit.internal.runners.model.ReflectiveCallable.run(ReflectiveCallable.java:12)
	at org.junit.runners.model.FrameworkMethod.invokeExplosively(FrameworkMethod.java:47)
	at org.junit.internal.runners.statements.InvokeMethod.evaluate(InvokeMethod.java:17)
	at org.junit.internal.runners.statements.RunAfters.evaluate(RunAfters.java:27)
	at org.junit.internal.runners.statements.FailOnTimeout$CallableStatement.call(FailOnTimeout.java:298)
	at org.junit.internal.runners.statements.FailOnTimeout$CallableStatement.call(FailOnTimeout.java:292)
	at java.util.concurrent.FutureTask.run(FutureTask.java:266)
	at java.lang.Thread.run(Thread.java:748)
2019-09-24 16:58:14,245 WARN  ratis.RaftTestUtil (JavaUtils.java:attempt(158)) - FAILED "waitForLeader-null-(expectLeader? true)", attempt #31/100: java.lang.IllegalStateException: No leader yet : printing ALL groups
  s0:  RUNNING CANDIDATE s0@group-09A0EF6A68F4:t66, leader=null, voted=s0, raftlog=s0@group-09A0EF6A68F4-SegmentedRaftLog:OPENED:c1,f2,i2, conf=0: [s0:0.0.0.0:42611, s1:0.0.0.0:39575, s2:0.0.0.0:34382], old=null RUNNING
  s1:  RUNNING CANDIDATE s1@group-09A0EF6A68F4:t66, leader=null, voted=s1, raftlog=s1@group-09A0EF6A68F4-SegmentedRaftLog:OPENED:c1,f2,i2, conf=0: [s0:0.0.0.0:42611, s1:0.0.0.0:39575, s2:0.0.0.0:34382], old=null RUNNING
  s2:  RUNNING CANDIDATE s2@group-09A0EF6A68F4:t66, leader=null, voted=s2, raftlog=s2@group-09A0EF6A68F4-SegmentedRaftLog:OPENED:c1,f2,i2, conf=0: [s0:0.0.0.0:42611, s1:0.0.0.0:39575, s2:0.0.0.0:34382], old=null RUNNING, sleep 450ms and then retry.
java.lang.IllegalStateException: No leader yet : printing ALL groups
  s0:  RUNNING CANDIDATE s0@group-09A0EF6A68F4:t66, leader=null, voted=s0, raftlog=s0@group-09A0EF6A68F4-SegmentedRaftLog:OPENED:c1,f2,i2, conf=0: [s0:0.0.0.0:42611, s1:0.0.0.0:39575, s2:0.0.0.0:34382], old=null RUNNING
  s1:  RUNNING CANDIDATE s1@group-09A0EF6A68F4:t66, leader=null, voted=s1, raftlog=s1@group-09A0EF6A68F4-SegmentedRaftLog:OPENED:c1,f2,i2, conf=0: [s0:0.0.0.0:42611, s1:0.0.0.0:39575, s2:0.0.0.0:34382], old=null RUNNING
  s2:  RUNNING CANDIDATE s2@group-09A0EF6A68F4:t66, leader=null, voted=s2, raftlog=s2@group-09A0EF6A68F4-SegmentedRaftLog:OPENED:c1,f2,i2, conf=0: [s0:0.0.0.0:42611, s1:0.0.0.0:39575, s2:0.0.0.0:34382], old=null RUNNING
	at org.apache.ratis.MiniRaftCluster.newIllegalStateExceptionForNoLeaders(MiniRaftCluster.java:506)
	at org.apache.ratis.RaftTestUtil.lambda$waitForLeader$1(RaftTestUtil.java:90)
	at org.apache.ratis.MiniRaftCluster.getLeader(MiniRaftCluster.java:539)
	at org.apache.ratis.MiniRaftCluster.getLeader(MiniRaftCluster.java:532)
	at org.apache.ratis.RaftTestUtil.lambda$waitForLeader$3(RaftTestUtil.java:98)
	at org.apache.ratis.util.JavaUtils.attempt(JavaUtils.java:152)
	at org.apache.ratis.RaftTestUtil.waitForLeader(RaftTestUtil.java:97)
	at org.apache.ratis.RaftTestUtil.waitForLeader(RaftTestUtil.java:77)
	at org.apache.ratis.RaftTestUtil.waitForLeader(RaftTestUtil.java:72)
	at org.apache.ratis.server.impl.RaftStateMachineExceptionTests.runTestRetryOnExceptionDuringReplication(RaftStateMachineExceptionTests.java:166)
	at org.apache.ratis.MiniRaftCluster$Factory$Get.runWithNewCluster(MiniRaftCluster.java:125)
	at org.apache.ratis.MiniRaftCluster$Factory$Get.runWithNewCluster(MiniRaftCluster.java:113)
	at org.apache.ratis.server.impl.RaftStateMachineExceptionTests.testRetryOnExceptionDuringReplication(RaftStateMachineExceptionTests.java:145)
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.lang.reflect.Method.invoke(Method.java:498)
	at org.junit.runners.model.FrameworkMethod$1.runReflectiveCall(FrameworkMethod.java:50)
	at org.junit.internal.runners.model.ReflectiveCallable.run(ReflectiveCallable.java:12)
	at org.junit.runners.model.FrameworkMethod.invokeExplosively(FrameworkMethod.java:47)
	at org.junit.internal.runners.statements.InvokeMethod.evaluate(InvokeMethod.java:17)
	at org.junit.internal.runners.statements.RunAfters.evaluate(RunAfters.java:27)
	at org.junit.internal.runners.statements.FailOnTimeout$CallableStatement.call(FailOnTimeout.java:298)
	at org.junit.internal.runners.statements.FailOnTimeout$CallableStatement.call(FailOnTimeout.java:292)
	at java.util.concurrent.FutureTask.run(FutureTask.java:266)
	at java.lang.Thread.run(Thread.java:748)
2019-09-24 16:58:14,697 WARN  ratis.RaftTestUtil (JavaUtils.java:attempt(158)) - FAILED "waitForLeader-null-(expectLeader? true)", attempt #32/100: java.lang.IllegalStateException: No leader yet : printing ALL groups
  s0:  RUNNING CANDIDATE s0@group-09A0EF6A68F4:t66, leader=null, voted=s0, raftlog=s0@group-09A0EF6A68F4-SegmentedRaftLog:OPENED:c1,f2,i2, conf=0: [s0:0.0.0.0:42611, s1:0.0.0.0:39575, s2:0.0.0.0:34382], old=null RUNNING
  s1:  RUNNING CANDIDATE s1@group-09A0EF6A68F4:t66, leader=null, voted=s1, raftlog=s1@group-09A0EF6A68F4-SegmentedRaftLog:OPENED:c1,f2,i2, conf=0: [s0:0.0.0.0:42611, s1:0.0.0.0:39575, s2:0.0.0.0:34382], old=null RUNNING
  s2:  RUNNING CANDIDATE s2@group-09A0EF6A68F4:t66, leader=null, voted=s2, raftlog=s2@group-09A0EF6A68F4-SegmentedRaftLog:OPENED:c1,f2,i2, conf=0: [s0:0.0.0.0:42611, s1:0.0.0.0:39575, s2:0.0.0.0:34382], old=null RUNNING, sleep 450ms and then retry.
java.lang.IllegalStateException: No leader yet : printing ALL groups
  s0:  RUNNING CANDIDATE s0@group-09A0EF6A68F4:t66, leader=null, voted=s0, raftlog=s0@group-09A0EF6A68F4-SegmentedRaftLog:OPENED:c1,f2,i2, conf=0: [s0:0.0.0.0:42611, s1:0.0.0.0:39575, s2:0.0.0.0:34382], old=null RUNNING
  s1:  RUNNING CANDIDATE s1@group-09A0EF6A68F4:t66, leader=null, voted=s1, raftlog=s1@group-09A0EF6A68F4-SegmentedRaftLog:OPENED:c1,f2,i2, conf=0: [s0:0.0.0.0:42611, s1:0.0.0.0:39575, s2:0.0.0.0:34382], old=null RUNNING
  s2:  RUNNING CANDIDATE s2@group-09A0EF6A68F4:t66, leader=null, voted=s2, raftlog=s2@group-09A0EF6A68F4-SegmentedRaftLog:OPENED:c1,f2,i2, conf=0: [s0:0.0.0.0:42611, s1:0.0.0.0:39575, s2:0.0.0.0:34382], old=null RUNNING
	at org.apache.ratis.MiniRaftCluster.newIllegalStateExceptionForNoLeaders(MiniRaftCluster.java:506)
	at org.apache.ratis.RaftTestUtil.lambda$waitForLeader$1(RaftTestUtil.java:90)
	at org.apache.ratis.MiniRaftCluster.getLeader(MiniRaftCluster.java:539)
	at org.apache.ratis.MiniRaftCluster.getLeader(MiniRaftCluster.java:532)
	at org.apache.ratis.RaftTestUtil.lambda$waitForLeader$3(RaftTestUtil.java:98)
	at org.apache.ratis.util.JavaUtils.attempt(JavaUtils.java:152)
	at org.apache.ratis.RaftTestUtil.waitForLeader(RaftTestUtil.java:97)
	at org.apache.ratis.RaftTestUtil.waitForLeader(RaftTestUtil.java:77)
	at org.apache.ratis.RaftTestUtil.waitForLeader(RaftTestUtil.java:72)
	at org.apache.ratis.server.impl.RaftStateMachineExceptionTests.runTestRetryOnExceptionDuringReplication(RaftStateMachineExceptionTests.java:166)
	at org.apache.ratis.MiniRaftCluster$Factory$Get.runWithNewCluster(MiniRaftCluster.java:125)
	at org.apache.ratis.MiniRaftCluster$Factory$Get.runWithNewCluster(MiniRaftCluster.java:113)
	at org.apache.ratis.server.impl.RaftStateMachineExceptionTests.testRetryOnExceptionDuringReplication(RaftStateMachineExceptionTests.java:145)
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.lang.reflect.Method.invoke(Method.java:498)
	at org.junit.runners.model.FrameworkMethod$1.runReflectiveCall(FrameworkMethod.java:50)
	at org.junit.internal.runners.model.ReflectiveCallable.run(ReflectiveCallable.java:12)
	at org.junit.runners.model.FrameworkMethod.invokeExplosively(FrameworkMethod.java:47)
	at org.junit.internal.runners.statements.InvokeMethod.evaluate(InvokeMethod.java:17)
	at org.junit.internal.runners.statements.RunAfters.evaluate(RunAfters.java:27)
	at org.junit.internal.runners.statements.FailOnTimeout$CallableStatement.call(FailOnTimeout.java:298)
	at org.junit.internal.runners.statements.FailOnTimeout$CallableStatement.call(FailOnTimeout.java:292)
	at java.util.concurrent.FutureTask.run(FutureTask.java:266)
	at java.lang.Thread.run(Thread.java:748)
2019-09-24 16:58:15,148 WARN  ratis.RaftTestUtil (JavaUtils.java:attempt(158)) - FAILED "waitForLeader-null-(expectLeader? true)", attempt #33/100: java.lang.IllegalStateException: No leader yet : printing ALL groups
  s0:  RUNNING CANDIDATE s0@group-09A0EF6A68F4:t66, leader=null, voted=s0, raftlog=s0@group-09A0EF6A68F4-SegmentedRaftLog:OPENED:c1,f2,i2, conf=0: [s0:0.0.0.0:42611, s1:0.0.0.0:39575, s2:0.0.0.0:34382], old=null RUNNING
  s1:  RUNNING CANDIDATE s1@group-09A0EF6A68F4:t66, leader=null, voted=s1, raftlog=s1@group-09A0EF6A68F4-SegmentedRaftLog:OPENED:c1,f2,i2, conf=0: [s0:0.0.0.0:42611, s1:0.0.0.0:39575, s2:0.0.0.0:34382], old=null RUNNING
  s2:  RUNNING CANDIDATE s2@group-09A0EF6A68F4:t66, leader=null, voted=s2, raftlog=s2@group-09A0EF6A68F4-SegmentedRaftLog:OPENED:c1,f2,i2, conf=0: [s0:0.0.0.0:42611, s1:0.0.0.0:39575, s2:0.0.0.0:34382], old=null RUNNING, sleep 450ms and then retry.
java.lang.IllegalStateException: No leader yet : printing ALL groups
  s0:  RUNNING CANDIDATE s0@group-09A0EF6A68F4:t66, leader=null, voted=s0, raftlog=s0@group-09A0EF6A68F4-SegmentedRaftLog:OPENED:c1,f2,i2, conf=0: [s0:0.0.0.0:42611, s1:0.0.0.0:39575, s2:0.0.0.0:34382], old=null RUNNING
  s1:  RUNNING CANDIDATE s1@group-09A0EF6A68F4:t66, leader=null, voted=s1, raftlog=s1@group-09A0EF6A68F4-SegmentedRaftLog:OPENED:c1,f2,i2, conf=0: [s0:0.0.0.0:42611, s1:0.0.0.0:39575, s2:0.0.0.0:34382], old=null RUNNING
  s2:  RUNNING CANDIDATE s2@group-09A0EF6A68F4:t66, leader=null, voted=s2, raftlog=s2@group-09A0EF6A68F4-SegmentedRaftLog:OPENED:c1,f2,i2, conf=0: [s0:0.0.0.0:42611, s1:0.0.0.0:39575, s2:0.0.0.0:34382], old=null RUNNING
	at org.apache.ratis.MiniRaftCluster.newIllegalStateExceptionForNoLeaders(MiniRaftCluster.java:506)
	at org.apache.ratis.RaftTestUtil.lambda$waitForLeader$1(RaftTestUtil.java:90)
	at org.apache.ratis.MiniRaftCluster.getLeader(MiniRaftCluster.java:539)
	at org.apache.ratis.MiniRaftCluster.getLeader(MiniRaftCluster.java:532)
	at org.apache.ratis.RaftTestUtil.lambda$waitForLeader$3(RaftTestUtil.java:98)
	at org.apache.ratis.util.JavaUtils.attempt(JavaUtils.java:152)
	at org.apache.ratis.RaftTestUtil.waitForLeader(RaftTestUtil.java:97)
	at org.apache.ratis.RaftTestUtil.waitForLeader(RaftTestUtil.java:77)
	at org.apache.ratis.RaftTestUtil.waitForLeader(RaftTestUtil.java:72)
	at org.apache.ratis.server.impl.RaftStateMachineExceptionTests.runTestRetryOnExceptionDuringReplication(RaftStateMachineExceptionTests.java:166)
	at org.apache.ratis.MiniRaftCluster$Factory$Get.runWithNewCluster(MiniRaftCluster.java:125)
	at org.apache.ratis.MiniRaftCluster$Factory$Get.runWithNewCluster(MiniRaftCluster.java:113)
	at org.apache.ratis.server.impl.RaftStateMachineExceptionTests.testRetryOnExceptionDuringReplication(RaftStateMachineExceptionTests.java:145)
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.lang.reflect.Method.invoke(Method.java:498)
	at org.junit.runners.model.FrameworkMethod$1.runReflectiveCall(FrameworkMethod.java:50)
	at org.junit.internal.runners.model.ReflectiveCallable.run(ReflectiveCallable.java:12)
	at org.junit.runners.model.FrameworkMethod.invokeExplosively(FrameworkMethod.java:47)
	at org.junit.internal.runners.statements.InvokeMethod.evaluate(InvokeMethod.java:17)
	at org.junit.internal.runners.statements.RunAfters.evaluate(RunAfters.java:27)
	at org.junit.internal.runners.statements.FailOnTimeout$CallableStatement.call(FailOnTimeout.java:298)
	at org.junit.internal.runners.statements.FailOnTimeout$CallableStatement.call(FailOnTimeout.java:292)
	at java.util.concurrent.FutureTask.run(FutureTask.java:266)
	at java.lang.Thread.run(Thread.java:748)
2019-09-24 16:58:15,600 WARN  ratis.RaftTestUtil (JavaUtils.java:attempt(158)) - FAILED "waitForLeader-null-(expectLeader? true)", attempt #34/100: java.lang.IllegalStateException: No leader yet : printing ALL groups
  s0:  RUNNING CANDIDATE s0@group-09A0EF6A68F4:t66, leader=null, voted=s0, raftlog=s0@group-09A0EF6A68F4-SegmentedRaftLog:OPENED:c1,f2,i2, conf=0: [s0:0.0.0.0:42611, s1:0.0.0.0:39575, s2:0.0.0.0:34382], old=null RUNNING
  s1:  RUNNING CANDIDATE s1@group-09A0EF6A68F4:t66, leader=null, voted=s1, raftlog=s1@group-09A0EF6A68F4-SegmentedRaftLog:OPENED:c1,f2,i2, conf=0: [s0:0.0.0.0:42611, s1:0.0.0.0:39575, s2:0.0.0.0:34382], old=null RUNNING
  s2:  RUNNING CANDIDATE s2@group-09A0EF6A68F4:t66, leader=null, voted=s2, raftlog=s2@group-09A0EF6A68F4-SegmentedRaftLog:OPENED:c1,f2,i2, conf=0: [s0:0.0.0.0:42611, s1:0.0.0.0:39575, s2:0.0.0.0:34382], old=null RUNNING, sleep 450ms and then retry.
java.lang.IllegalStateException: No leader yet : printing ALL groups
  s0:  RUNNING CANDIDATE s0@group-09A0EF6A68F4:t66, leader=null, voted=s0, raftlog=s0@group-09A0EF6A68F4-SegmentedRaftLog:OPENED:c1,f2,i2, conf=0: [s0:0.0.0.0:42611, s1:0.0.0.0:39575, s2:0.0.0.0:34382], old=null RUNNING
  s1:  RUNNING CANDIDATE s1@group-09A0EF6A68F4:t66, leader=null, voted=s1, raftlog=s1@group-09A0EF6A68F4-SegmentedRaftLog:OPENED:c1,f2,i2, conf=0: [s0:0.0.0.0:42611, s1:0.0.0.0:39575, s2:0.0.0.0:34382], old=null RUNNING
  s2:  RUNNING CANDIDATE s2@group-09A0EF6A68F4:t66, leader=null, voted=s2, raftlog=s2@group-09A0EF6A68F4-SegmentedRaftLog:OPENED:c1,f2,i2, conf=0: [s0:0.0.0.0:42611, s1:0.0.0.0:39575, s2:0.0.0.0:34382], old=null RUNNING
	at org.apache.ratis.MiniRaftCluster.newIllegalStateExceptionForNoLeaders(MiniRaftCluster.java:506)
	at org.apache.ratis.RaftTestUtil.lambda$waitForLeader$1(RaftTestUtil.java:90)
	at org.apache.ratis.MiniRaftCluster.getLeader(MiniRaftCluster.java:539)
	at org.apache.ratis.MiniRaftCluster.getLeader(MiniRaftCluster.java:532)
	at org.apache.ratis.RaftTestUtil.lambda$waitForLeader$3(RaftTestUtil.java:98)
	at org.apache.ratis.util.JavaUtils.attempt(JavaUtils.java:152)
	at org.apache.ratis.RaftTestUtil.waitForLeader(RaftTestUtil.java:97)
	at org.apache.ratis.RaftTestUtil.waitForLeader(RaftTestUtil.java:77)
	at org.apache.ratis.RaftTestUtil.waitForLeader(RaftTestUtil.java:72)
	at org.apache.ratis.server.impl.RaftStateMachineExceptionTests.runTestRetryOnExceptionDuringReplication(RaftStateMachineExceptionTests.java:166)
	at org.apache.ratis.MiniRaftCluster$Factory$Get.runWithNewCluster(MiniRaftCluster.java:125)
	at org.apache.ratis.MiniRaftCluster$Factory$Get.runWithNewCluster(MiniRaftCluster.java:113)
	at org.apache.ratis.server.impl.RaftStateMachineExceptionTests.testRetryOnExceptionDuringReplication(RaftStateMachineExceptionTests.java:145)
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.lang.reflect.Method.invoke(Method.java:498)
	at org.junit.runners.model.FrameworkMethod$1.runReflectiveCall(FrameworkMethod.java:50)
	at org.junit.internal.runners.model.ReflectiveCallable.run(ReflectiveCallable.java:12)
	at org.junit.runners.model.FrameworkMethod.invokeExplosively(FrameworkMethod.java:47)
	at org.junit.internal.runners.statements.InvokeMethod.evaluate(InvokeMethod.java:17)
	at org.junit.internal.runners.statements.RunAfters.evaluate(RunAfters.java:27)
	at org.junit.internal.runners.statements.FailOnTimeout$CallableStatement.call(FailOnTimeout.java:298)
	at org.junit.internal.runners.statements.FailOnTimeout$CallableStatement.call(FailOnTimeout.java:292)
	at java.util.concurrent.FutureTask.run(FutureTask.java:266)
	at java.lang.Thread.run(Thread.java:748)
2019-09-24 16:58:16,051 WARN  ratis.RaftTestUtil (JavaUtils.java:attempt(158)) - FAILED "waitForLeader-null-(expectLeader? true)", attempt #35/100: java.lang.IllegalStateException: No leader yet : printing ALL groups
  s0:  RUNNING CANDIDATE s0@group-09A0EF6A68F4:t66, leader=null, voted=s0, raftlog=s0@group-09A0EF6A68F4-SegmentedRaftLog:OPENED:c1,f2,i2, conf=0: [s0:0.0.0.0:42611, s1:0.0.0.0:39575, s2:0.0.0.0:34382], old=null RUNNING
  s1:  RUNNING CANDIDATE s1@group-09A0EF6A68F4:t66, leader=null, voted=s1, raftlog=s1@group-09A0EF6A68F4-SegmentedRaftLog:OPENED:c1,f2,i2, conf=0: [s0:0.0.0.0:42611, s1:0.0.0.0:39575, s2:0.0.0.0:34382], old=null RUNNING
  s2:  RUNNING CANDIDATE s2@group-09A0EF6A68F4:t66, leader=null, voted=s2, raftlog=s2@group-09A0EF6A68F4-SegmentedRaftLog:OPENED:c1,f2,i2, conf=0: [s0:0.0.0.0:42611, s1:0.0.0.0:39575, s2:0.0.0.0:34382], old=null RUNNING, sleep 450ms and then retry.
java.lang.IllegalStateException: No leader yet : printing ALL groups
  s0:  RUNNING CANDIDATE s0@group-09A0EF6A68F4:t66, leader=null, voted=s0, raftlog=s0@group-09A0EF6A68F4-SegmentedRaftLog:OPENED:c1,f2,i2, conf=0: [s0:0.0.0.0:42611, s1:0.0.0.0:39575, s2:0.0.0.0:34382], old=null RUNNING
  s1:  RUNNING CANDIDATE s1@group-09A0EF6A68F4:t66, leader=null, voted=s1, raftlog=s1@group-09A0EF6A68F4-SegmentedRaftLog:OPENED:c1,f2,i2, conf=0: [s0:0.0.0.0:42611, s1:0.0.0.0:39575, s2:0.0.0.0:34382], old=null RUNNING
  s2:  RUNNING CANDIDATE s2@group-09A0EF6A68F4:t66, leader=null, voted=s2, raftlog=s2@group-09A0EF6A68F4-SegmentedRaftLog:OPENED:c1,f2,i2, conf=0: [s0:0.0.0.0:42611, s1:0.0.0.0:39575, s2:0.0.0.0:34382], old=null RUNNING
	at org.apache.ratis.MiniRaftCluster.newIllegalStateExceptionForNoLeaders(MiniRaftCluster.java:506)
	at org.apache.ratis.RaftTestUtil.lambda$waitForLeader$1(RaftTestUtil.java:90)
	at org.apache.ratis.MiniRaftCluster.getLeader(MiniRaftCluster.java:539)
	at org.apache.ratis.MiniRaftCluster.getLeader(MiniRaftCluster.java:532)
	at org.apache.ratis.RaftTestUtil.lambda$waitForLeader$3(RaftTestUtil.java:98)
	at org.apache.ratis.util.JavaUtils.attempt(JavaUtils.java:152)
	at org.apache.ratis.RaftTestUtil.waitForLeader(RaftTestUtil.java:97)
	at org.apache.ratis.RaftTestUtil.waitForLeader(RaftTestUtil.java:77)
	at org.apache.ratis.RaftTestUtil.waitForLeader(RaftTestUtil.java:72)
	at org.apache.ratis.server.impl.RaftStateMachineExceptionTests.runTestRetryOnExceptionDuringReplication(RaftStateMachineExceptionTests.java:166)
	at org.apache.ratis.MiniRaftCluster$Factory$Get.runWithNewCluster(MiniRaftCluster.java:125)
	at org.apache.ratis.MiniRaftCluster$Factory$Get.runWithNewCluster(MiniRaftCluster.java:113)
	at org.apache.ratis.server.impl.RaftStateMachineExceptionTests.testRetryOnExceptionDuringReplication(RaftStateMachineExceptionTests.java:145)
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.lang.reflect.Method.invoke(Method.java:498)
	at org.junit.runners.model.FrameworkMethod$1.runReflectiveCall(FrameworkMethod.java:50)
	at org.junit.internal.runners.model.ReflectiveCallable.run(ReflectiveCallable.java:12)
	at org.junit.runners.model.FrameworkMethod.invokeExplosively(FrameworkMethod.java:47)
	at org.junit.internal.runners.statements.InvokeMethod.evaluate(InvokeMethod.java:17)
	at org.junit.internal.runners.statements.RunAfters.evaluate(RunAfters.java:27)
	at org.junit.internal.runners.statements.FailOnTimeout$CallableStatement.call(FailOnTimeout.java:298)
	at org.junit.internal.runners.statements.FailOnTimeout$CallableStatement.call(FailOnTimeout.java:292)
	at java.util.concurrent.FutureTask.run(FutureTask.java:266)
	at java.lang.Thread.run(Thread.java:748)
2019-09-24 16:58:16,502 WARN  ratis.RaftTestUtil (JavaUtils.java:attempt(158)) - FAILED "waitForLeader-null-(expectLeader? true)", attempt #36/100: java.lang.IllegalStateException: No leader yet : printing ALL groups
  s0:  RUNNING CANDIDATE s0@group-09A0EF6A68F4:t66, leader=null, voted=s0, raftlog=s0@group-09A0EF6A68F4-SegmentedRaftLog:OPENED:c1,f2,i2, conf=0: [s0:0.0.0.0:42611, s1:0.0.0.0:39575, s2:0.0.0.0:34382], old=null RUNNING
  s1:  RUNNING CANDIDATE s1@group-09A0EF6A68F4:t66, leader=null, voted=s1, raftlog=s1@group-09A0EF6A68F4-SegmentedRaftLog:OPENED:c1,f2,i2, conf=0: [s0:0.0.0.0:42611, s1:0.0.0.0:39575, s2:0.0.0.0:34382], old=null RUNNING
  s2:  RUNNING CANDIDATE s2@group-09A0EF6A68F4:t66, leader=null, voted=s2, raftlog=s2@group-09A0EF6A68F4-SegmentedRaftLog:OPENED:c1,f2,i2, conf=0: [s0:0.0.0.0:42611, s1:0.0.0.0:39575, s2:0.0.0.0:34382], old=null RUNNING, sleep 450ms and then retry.
java.lang.IllegalStateException: No leader yet : printing ALL groups
  s0:  RUNNING CANDIDATE s0@group-09A0EF6A68F4:t66, leader=null, voted=s0, raftlog=s0@group-09A0EF6A68F4-SegmentedRaftLog:OPENED:c1,f2,i2, conf=0: [s0:0.0.0.0:42611, s1:0.0.0.0:39575, s2:0.0.0.0:34382], old=null RUNNING
  s1:  RUNNING CANDIDATE s1@group-09A0EF6A68F4:t66, leader=null, voted=s1, raftlog=s1@group-09A0EF6A68F4-SegmentedRaftLog:OPENED:c1,f2,i2, conf=0: [s0:0.0.0.0:42611, s1:0.0.0.0:39575, s2:0.0.0.0:34382], old=null RUNNING
  s2:  RUNNING CANDIDATE s2@group-09A0EF6A68F4:t66, leader=null, voted=s2, raftlog=s2@group-09A0EF6A68F4-SegmentedRaftLog:OPENED:c1,f2,i2, conf=0: [s0:0.0.0.0:42611, s1:0.0.0.0:39575, s2:0.0.0.0:34382], old=null RUNNING
	at org.apache.ratis.MiniRaftCluster.newIllegalStateExceptionForNoLeaders(MiniRaftCluster.java:506)
	at org.apache.ratis.RaftTestUtil.lambda$waitForLeader$1(RaftTestUtil.java:90)
	at org.apache.ratis.MiniRaftCluster.getLeader(MiniRaftCluster.java:539)
	at org.apache.ratis.MiniRaftCluster.getLeader(MiniRaftCluster.java:532)
	at org.apache.ratis.RaftTestUtil.lambda$waitForLeader$3(RaftTestUtil.java:98)
	at org.apache.ratis.util.JavaUtils.attempt(JavaUtils.java:152)
	at org.apache.ratis.RaftTestUtil.waitForLeader(RaftTestUtil.java:97)
	at org.apache.ratis.RaftTestUtil.waitForLeader(RaftTestUtil.java:77)
	at org.apache.ratis.RaftTestUtil.waitForLeader(RaftTestUtil.java:72)
	at org.apache.ratis.server.impl.RaftStateMachineExceptionTests.runTestRetryOnExceptionDuringReplication(RaftStateMachineExceptionTests.java:166)
	at org.apache.ratis.MiniRaftCluster$Factory$Get.runWithNewCluster(MiniRaftCluster.java:125)
	at org.apache.ratis.MiniRaftCluster$Factory$Get.runWithNewCluster(MiniRaftCluster.java:113)
	at org.apache.ratis.server.impl.RaftStateMachineExceptionTests.testRetryOnExceptionDuringReplication(RaftStateMachineExceptionTests.java:145)
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.lang.reflect.Method.invoke(Method.java:498)
	at org.junit.runners.model.FrameworkMethod$1.runReflectiveCall(FrameworkMethod.java:50)
	at org.junit.internal.runners.model.ReflectiveCallable.run(ReflectiveCallable.java:12)
	at org.junit.runners.model.FrameworkMethod.invokeExplosively(FrameworkMethod.java:47)
	at org.junit.internal.runners.statements.InvokeMethod.evaluate(InvokeMethod.java:17)
	at org.junit.internal.runners.statements.RunAfters.evaluate(RunAfters.java:27)
	at org.junit.internal.runners.statements.FailOnTimeout$CallableStatement.call(FailOnTimeout.java:298)
	at org.junit.internal.runners.statements.FailOnTimeout$CallableStatement.call(FailOnTimeout.java:292)
	at java.util.concurrent.FutureTask.run(FutureTask.java:266)
	at java.lang.Thread.run(Thread.java:748)
2019-09-24 16:58:16,954 WARN  ratis.RaftTestUtil (JavaUtils.java:attempt(158)) - FAILED "waitForLeader-null-(expectLeader? true)", attempt #37/100: java.lang.IllegalStateException: No leader yet : printing ALL groups
  s0:  RUNNING CANDIDATE s0@group-09A0EF6A68F4:t66, leader=null, voted=s0, raftlog=s0@group-09A0EF6A68F4-SegmentedRaftLog:OPENED:c1,f2,i2, conf=0: [s0:0.0.0.0:42611, s1:0.0.0.0:39575, s2:0.0.0.0:34382], old=null RUNNING
  s1:  RUNNING CANDIDATE s1@group-09A0EF6A68F4:t66, leader=null, voted=s1, raftlog=s1@group-09A0EF6A68F4-SegmentedRaftLog:OPENED:c1,f2,i2, conf=0: [s0:0.0.0.0:42611, s1:0.0.0.0:39575, s2:0.0.0.0:34382], old=null RUNNING
  s2:  RUNNING CANDIDATE s2@group-09A0EF6A68F4:t66, leader=null, voted=s2, raftlog=s2@group-09A0EF6A68F4-SegmentedRaftLog:OPENED:c1,f2,i2, conf=0: [s0:0.0.0.0:42611, s1:0.0.0.0:39575, s2:0.0.0.0:34382], old=null RUNNING, sleep 450ms and then retry.
java.lang.IllegalStateException: No leader yet : printing ALL groups
  s0:  RUNNING CANDIDATE s0@group-09A0EF6A68F4:t66, leader=null, voted=s0, raftlog=s0@group-09A0EF6A68F4-SegmentedRaftLog:OPENED:c1,f2,i2, conf=0: [s0:0.0.0.0:42611, s1:0.0.0.0:39575, s2:0.0.0.0:34382], old=null RUNNING
  s1:  RUNNING CANDIDATE s1@group-09A0EF6A68F4:t66, leader=null, voted=s1, raftlog=s1@group-09A0EF6A68F4-SegmentedRaftLog:OPENED:c1,f2,i2, conf=0: [s0:0.0.0.0:42611, s1:0.0.0.0:39575, s2:0.0.0.0:34382], old=null RUNNING
  s2:  RUNNING CANDIDATE s2@group-09A0EF6A68F4:t66, leader=null, voted=s2, raftlog=s2@group-09A0EF6A68F4-SegmentedRaftLog:OPENED:c1,f2,i2, conf=0: [s0:0.0.0.0:42611, s1:0.0.0.0:39575, s2:0.0.0.0:34382], old=null RUNNING
	at org.apache.ratis.MiniRaftCluster.newIllegalStateExceptionForNoLeaders(MiniRaftCluster.java:506)
	at org.apache.ratis.RaftTestUtil.lambda$waitForLeader$1(RaftTestUtil.java:90)
	at org.apache.ratis.MiniRaftCluster.getLeader(MiniRaftCluster.java:539)
	at org.apache.ratis.MiniRaftCluster.getLeader(MiniRaftCluster.java:532)
	at org.apache.ratis.RaftTestUtil.lambda$waitForLeader$3(RaftTestUtil.java:98)
	at org.apache.ratis.util.JavaUtils.attempt(JavaUtils.java:152)
	at org.apache.ratis.RaftTestUtil.waitForLeader(RaftTestUtil.java:97)
	at org.apache.ratis.RaftTestUtil.waitForLeader(RaftTestUtil.java:77)
	at org.apache.ratis.RaftTestUtil.waitForLeader(RaftTestUtil.java:72)
	at org.apache.ratis.server.impl.RaftStateMachineExceptionTests.runTestRetryOnExceptionDuringReplication(RaftStateMachineExceptionTests.java:166)
	at org.apache.ratis.MiniRaftCluster$Factory$Get.runWithNewCluster(MiniRaftCluster.java:125)
	at org.apache.ratis.MiniRaftCluster$Factory$Get.runWithNewCluster(MiniRaftCluster.java:113)
	at org.apache.ratis.server.impl.RaftStateMachineExceptionTests.testRetryOnExceptionDuringReplication(RaftStateMachineExceptionTests.java:145)
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.lang.reflect.Method.invoke(Method.java:498)
	at org.junit.runners.model.FrameworkMethod$1.runReflectiveCall(FrameworkMethod.java:50)
	at org.junit.internal.runners.model.ReflectiveCallable.run(ReflectiveCallable.java:12)
	at org.junit.runners.model.FrameworkMethod.invokeExplosively(FrameworkMethod.java:47)
	at org.junit.internal.runners.statements.InvokeMethod.evaluate(InvokeMethod.java:17)
	at org.junit.internal.runners.statements.RunAfters.evaluate(RunAfters.java:27)
	at org.junit.internal.runners.statements.FailOnTimeout$CallableStatement.call(FailOnTimeout.java:298)
	at org.junit.internal.runners.statements.FailOnTimeout$CallableStatement.call(FailOnTimeout.java:292)
	at java.util.concurrent.FutureTask.run(FutureTask.java:266)
	at java.lang.Thread.run(Thread.java:748)
2019-09-24 16:58:17,405 WARN  ratis.RaftTestUtil (JavaUtils.java:attempt(158)) - FAILED "waitForLeader-null-(expectLeader? true)", attempt #38/100: java.lang.IllegalStateException: No leader yet : printing ALL groups
  s0:  RUNNING CANDIDATE s0@group-09A0EF6A68F4:t66, leader=null, voted=s0, raftlog=s0@group-09A0EF6A68F4-SegmentedRaftLog:OPENED:c1,f2,i2, conf=0: [s0:0.0.0.0:42611, s1:0.0.0.0:39575, s2:0.0.0.0:34382], old=null RUNNING
  s1:  RUNNING CANDIDATE s1@group-09A0EF6A68F4:t66, leader=null, voted=s1, raftlog=s1@group-09A0EF6A68F4-SegmentedRaftLog:OPENED:c1,f2,i2, conf=0: [s0:0.0.0.0:42611, s1:0.0.0.0:39575, s2:0.0.0.0:34382], old=null RUNNING
  s2:  RUNNING CANDIDATE s2@group-09A0EF6A68F4:t66, leader=null, voted=s2, raftlog=s2@group-09A0EF6A68F4-SegmentedRaftLog:OPENED:c1,f2,i2, conf=0: [s0:0.0.0.0:42611, s1:0.0.0.0:39575, s2:0.0.0.0:34382], old=null RUNNING, sleep 450ms and then retry.
java.lang.IllegalStateException: No leader yet : printing ALL groups
  s0:  RUNNING CANDIDATE s0@group-09A0EF6A68F4:t66, leader=null, voted=s0, raftlog=s0@group-09A0EF6A68F4-SegmentedRaftLog:OPENED:c1,f2,i2, conf=0: [s0:0.0.0.0:42611, s1:0.0.0.0:39575, s2:0.0.0.0:34382], old=null RUNNING
  s1:  RUNNING CANDIDATE s1@group-09A0EF6A68F4:t66, leader=null, voted=s1, raftlog=s1@group-09A0EF6A68F4-SegmentedRaftLog:OPENED:c1,f2,i2, conf=0: [s0:0.0.0.0:42611, s1:0.0.0.0:39575, s2:0.0.0.0:34382], old=null RUNNING
  s2:  RUNNING CANDIDATE s2@group-09A0EF6A68F4:t66, leader=null, voted=s2, raftlog=s2@group-09A0EF6A68F4-SegmentedRaftLog:OPENED:c1,f2,i2, conf=0: [s0:0.0.0.0:42611, s1:0.0.0.0:39575, s2:0.0.0.0:34382], old=null RUNNING
	at org.apache.ratis.MiniRaftCluster.newIllegalStateExceptionForNoLeaders(MiniRaftCluster.java:506)
	at org.apache.ratis.RaftTestUtil.lambda$waitForLeader$1(RaftTestUtil.java:90)
	at org.apache.ratis.MiniRaftCluster.getLeader(MiniRaftCluster.java:539)
	at org.apache.ratis.MiniRaftCluster.getLeader(MiniRaftCluster.java:532)
	at org.apache.ratis.RaftTestUtil.lambda$waitForLeader$3(RaftTestUtil.java:98)
	at org.apache.ratis.util.JavaUtils.attempt(JavaUtils.java:152)
	at org.apache.ratis.RaftTestUtil.waitForLeader(RaftTestUtil.java:97)
	at org.apache.ratis.RaftTestUtil.waitForLeader(RaftTestUtil.java:77)
	at org.apache.ratis.RaftTestUtil.waitForLeader(RaftTestUtil.java:72)
	at org.apache.ratis.server.impl.RaftStateMachineExceptionTests.runTestRetryOnExceptionDuringReplication(RaftStateMachineExceptionTests.java:166)
	at org.apache.ratis.MiniRaftCluster$Factory$Get.runWithNewCluster(MiniRaftCluster.java:125)
	at org.apache.ratis.MiniRaftCluster$Factory$Get.runWithNewCluster(MiniRaftCluster.java:113)
	at org.apache.ratis.server.impl.RaftStateMachineExceptionTests.testRetryOnExceptionDuringReplication(RaftStateMachineExceptionTests.java:145)
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.lang.reflect.Method.invoke(Method.java:498)
	at org.junit.runners.model.FrameworkMethod$1.runReflectiveCall(FrameworkMethod.java:50)
	at org.junit.internal.runners.model.ReflectiveCallable.run(ReflectiveCallable.java:12)
	at org.junit.runners.model.FrameworkMethod.invokeExplosively(FrameworkMethod.java:47)
	at org.junit.internal.runners.statements.InvokeMethod.evaluate(InvokeMethod.java:17)
	at org.junit.internal.runners.statements.RunAfters.evaluate(RunAfters.java:27)
	at org.junit.internal.runners.statements.FailOnTimeout$CallableStatement.call(FailOnTimeout.java:298)
	at org.junit.internal.runners.statements.FailOnTimeout$CallableStatement.call(FailOnTimeout.java:292)
	at java.util.concurrent.FutureTask.run(FutureTask.java:266)
	at java.lang.Thread.run(Thread.java:748)
2019-09-24 16:58:17,856 WARN  ratis.RaftTestUtil (JavaUtils.java:attempt(158)) - FAILED "waitForLeader-null-(expectLeader? true)", attempt #39/100: java.lang.IllegalStateException: No leader yet : printing ALL groups
  s0:  RUNNING CANDIDATE s0@group-09A0EF6A68F4:t66, leader=null, voted=s0, raftlog=s0@group-09A0EF6A68F4-SegmentedRaftLog:OPENED:c1,f2,i2, conf=0: [s0:0.0.0.0:42611, s1:0.0.0.0:39575, s2:0.0.0.0:34382], old=null RUNNING
  s1:  RUNNING CANDIDATE s1@group-09A0EF6A68F4:t66, leader=null, voted=s1, raftlog=s1@group-09A0EF6A68F4-SegmentedRaftLog:OPENED:c1,f2,i2, conf=0: [s0:0.0.0.0:42611, s1:0.0.0.0:39575, s2:0.0.0.0:34382], old=null RUNNING
  s2:  RUNNING CANDIDATE s2@group-09A0EF6A68F4:t66, leader=null, voted=s2, raftlog=s2@group-09A0EF6A68F4-SegmentedRaftLog:OPENED:c1,f2,i2, conf=0: [s0:0.0.0.0:42611, s1:0.0.0.0:39575, s2:0.0.0.0:34382], old=null RUNNING, sleep 450ms and then retry.
java.lang.IllegalStateException: No leader yet : printing ALL groups
  s0:  RUNNING CANDIDATE s0@group-09A0EF6A68F4:t66, leader=null, voted=s0, raftlog=s0@group-09A0EF6A68F4-SegmentedRaftLog:OPENED:c1,f2,i2, conf=0: [s0:0.0.0.0:42611, s1:0.0.0.0:39575, s2:0.0.0.0:34382], old=null RUNNING
  s1:  RUNNING CANDIDATE s1@group-09A0EF6A68F4:t66, leader=null, voted=s1, raftlog=s1@group-09A0EF6A68F4-SegmentedRaftLog:OPENED:c1,f2,i2, conf=0: [s0:0.0.0.0:42611, s1:0.0.0.0:39575, s2:0.0.0.0:34382], old=null RUNNING
  s2:  RUNNING CANDIDATE s2@group-09A0EF6A68F4:t66, leader=null, voted=s2, raftlog=s2@group-09A0EF6A68F4-SegmentedRaftLog:OPENED:c1,f2,i2, conf=0: [s0:0.0.0.0:42611, s1:0.0.0.0:39575, s2:0.0.0.0:34382], old=null RUNNING
	at org.apache.ratis.MiniRaftCluster.newIllegalStateExceptionForNoLeaders(MiniRaftCluster.java:506)
	at org.apache.ratis.RaftTestUtil.lambda$waitForLeader$1(RaftTestUtil.java:90)
	at org.apache.ratis.MiniRaftCluster.getLeader(MiniRaftCluster.java:539)
	at org.apache.ratis.MiniRaftCluster.getLeader(MiniRaftCluster.java:532)
	at org.apache.ratis.RaftTestUtil.lambda$waitForLeader$3(RaftTestUtil.java:98)
	at org.apache.ratis.util.JavaUtils.attempt(JavaUtils.java:152)
	at org.apache.ratis.RaftTestUtil.waitForLeader(RaftTestUtil.java:97)
	at org.apache.ratis.RaftTestUtil.waitForLeader(RaftTestUtil.java:77)
	at org.apache.ratis.RaftTestUtil.waitForLeader(RaftTestUtil.java:72)
	at org.apache.ratis.server.impl.RaftStateMachineExceptionTests.runTestRetryOnExceptionDuringReplication(RaftStateMachineExceptionTests.java:166)
	at org.apache.ratis.MiniRaftCluster$Factory$Get.runWithNewCluster(MiniRaftCluster.java:125)
	at org.apache.ratis.MiniRaftCluster$Factory$Get.runWithNewCluster(MiniRaftCluster.java:113)
	at org.apache.ratis.server.impl.RaftStateMachineExceptionTests.testRetryOnExceptionDuringReplication(RaftStateMachineExceptionTests.java:145)
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.lang.reflect.Method.invoke(Method.java:498)
	at org.junit.runners.model.FrameworkMethod$1.runReflectiveCall(FrameworkMethod.java:50)
	at org.junit.internal.runners.model.ReflectiveCallable.run(ReflectiveCallable.java:12)
	at org.junit.runners.model.FrameworkMethod.invokeExplosively(FrameworkMethod.java:47)
	at org.junit.internal.runners.statements.InvokeMethod.evaluate(InvokeMethod.java:17)
	at org.junit.internal.runners.statements.RunAfters.evaluate(RunAfters.java:27)
	at org.junit.internal.runners.statements.FailOnTimeout$CallableStatement.call(FailOnTimeout.java:298)
	at org.junit.internal.runners.statements.FailOnTimeout$CallableStatement.call(FailOnTimeout.java:292)
	at java.util.concurrent.FutureTask.run(FutureTask.java:266)
	at java.lang.Thread.run(Thread.java:748)
2019-09-24 16:58:18,307 WARN  ratis.RaftTestUtil (JavaUtils.java:attempt(158)) - FAILED "waitForLeader-null-(expectLeader? true)", attempt #40/100: java.lang.IllegalStateException: No leader yet : printing ALL groups
  s0:  RUNNING CANDIDATE s0@group-09A0EF6A68F4:t66, leader=null, voted=s0, raftlog=s0@group-09A0EF6A68F4-SegmentedRaftLog:OPENED:c1,f2,i2, conf=0: [s0:0.0.0.0:42611, s1:0.0.0.0:39575, s2:0.0.0.0:34382], old=null RUNNING
  s1:  RUNNING CANDIDATE s1@group-09A0EF6A68F4:t66, leader=null, voted=s1, raftlog=s1@group-09A0EF6A68F4-SegmentedRaftLog:OPENED:c1,f2,i2, conf=0: [s0:0.0.0.0:42611, s1:0.0.0.0:39575, s2:0.0.0.0:34382], old=null RUNNING
  s2:  RUNNING CANDIDATE s2@group-09A0EF6A68F4:t66, leader=null, voted=s2, raftlog=s2@group-09A0EF6A68F4-SegmentedRaftLog:OPENED:c1,f2,i2, conf=0: [s0:0.0.0.0:42611, s1:0.0.0.0:39575, s2:0.0.0.0:34382], old=null RUNNING, sleep 450ms and then retry.
java.lang.IllegalStateException: No leader yet : printing ALL groups
  s0:  RUNNING CANDIDATE s0@group-09A0EF6A68F4:t66, leader=null, voted=s0, raftlog=s0@group-09A0EF6A68F4-SegmentedRaftLog:OPENED:c1,f2,i2, conf=0: [s0:0.0.0.0:42611, s1:0.0.0.0:39575, s2:0.0.0.0:34382], old=null RUNNING
  s1:  RUNNING CANDIDATE s1@group-09A0EF6A68F4:t66, leader=null, voted=s1, raftlog=s1@group-09A0EF6A68F4-SegmentedRaftLog:OPENED:c1,f2,i2, conf=0: [s0:0.0.0.0:42611, s1:0.0.0.0:39575, s2:0.0.0.0:34382], old=null RUNNING
  s2:  RUNNING CANDIDATE s2@group-09A0EF6A68F4:t66, leader=null, voted=s2, raftlog=s2@group-09A0EF6A68F4-SegmentedRaftLog:OPENED:c1,f2,i2, conf=0: [s0:0.0.0.0:42611, s1:0.0.0.0:39575, s2:0.0.0.0:34382], old=null RUNNING
	at org.apache.ratis.MiniRaftCluster.newIllegalStateExceptionForNoLeaders(MiniRaftCluster.java:506)
	at org.apache.ratis.RaftTestUtil.lambda$waitForLeader$1(RaftTestUtil.java:90)
	at org.apache.ratis.MiniRaftCluster.getLeader(MiniRaftCluster.java:539)
	at org.apache.ratis.MiniRaftCluster.getLeader(MiniRaftCluster.java:532)
	at org.apache.ratis.RaftTestUtil.lambda$waitForLeader$3(RaftTestUtil.java:98)
	at org.apache.ratis.util.JavaUtils.attempt(JavaUtils.java:152)
	at org.apache.ratis.RaftTestUtil.waitForLeader(RaftTestUtil.java:97)
	at org.apache.ratis.RaftTestUtil.waitForLeader(RaftTestUtil.java:77)
	at org.apache.ratis.RaftTestUtil.waitForLeader(RaftTestUtil.java:72)
	at org.apache.ratis.server.impl.RaftStateMachineExceptionTests.runTestRetryOnExceptionDuringReplication(RaftStateMachineExceptionTests.java:166)
	at org.apache.ratis.MiniRaftCluster$Factory$Get.runWithNewCluster(MiniRaftCluster.java:125)
	at org.apache.ratis.MiniRaftCluster$Factory$Get.runWithNewCluster(MiniRaftCluster.java:113)
	at org.apache.ratis.server.impl.RaftStateMachineExceptionTests.testRetryOnExceptionDuringReplication(RaftStateMachineExceptionTests.java:145)
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.lang.reflect.Method.invoke(Method.java:498)
	at org.junit.runners.model.FrameworkMethod$1.runReflectiveCall(FrameworkMethod.java:50)
	at org.junit.internal.runners.model.ReflectiveCallable.run(ReflectiveCallable.java:12)
	at org.junit.runners.model.FrameworkMethod.invokeExplosively(FrameworkMethod.java:47)
	at org.junit.internal.runners.statements.InvokeMethod.evaluate(InvokeMethod.java:17)
	at org.junit.internal.runners.statements.RunAfters.evaluate(RunAfters.java:27)
	at org.junit.internal.runners.statements.FailOnTimeout$CallableStatement.call(FailOnTimeout.java:298)
	at org.junit.internal.runners.statements.FailOnTimeout$CallableStatement.call(FailOnTimeout.java:292)
	at java.util.concurrent.FutureTask.run(FutureTask.java:266)
	at java.lang.Thread.run(Thread.java:748)
2019-09-24 16:58:18,759 WARN  ratis.RaftTestUtil (JavaUtils.java:attempt(158)) - FAILED "waitForLeader-null-(expectLeader? true)", attempt #41/100: java.lang.IllegalStateException: No leader yet : printing ALL groups
  s0:  RUNNING CANDIDATE s0@group-09A0EF6A68F4:t66, leader=null, voted=s0, raftlog=s0@group-09A0EF6A68F4-SegmentedRaftLog:OPENED:c1,f2,i2, conf=0: [s0:0.0.0.0:42611, s1:0.0.0.0:39575, s2:0.0.0.0:34382], old=null RUNNING
  s1:  RUNNING CANDIDATE s1@group-09A0EF6A68F4:t66, leader=null, voted=s1, raftlog=s1@group-09A0EF6A68F4-SegmentedRaftLog:OPENED:c1,f2,i2, conf=0: [s0:0.0.0.0:42611, s1:0.0.0.0:39575, s2:0.0.0.0:34382], old=null RUNNING
  s2:  RUNNING CANDIDATE s2@group-09A0EF6A68F4:t66, leader=null, voted=s2, raftlog=s2@group-09A0EF6A68F4-SegmentedRaftLog:OPENED:c1,f2,i2, conf=0: [s0:0.0.0.0:42611, s1:0.0.0.0:39575, s2:0.0.0.0:34382], old=null RUNNING, sleep 450ms and then retry.
java.lang.IllegalStateException: No leader yet : printing ALL groups
  s0:  RUNNING CANDIDATE s0@group-09A0EF6A68F4:t66, leader=null, voted=s0, raftlog=s0@group-09A0EF6A68F4-SegmentedRaftLog:OPENED:c1,f2,i2, conf=0: [s0:0.0.0.0:42611, s1:0.0.0.0:39575, s2:0.0.0.0:34382], old=null RUNNING
  s1:  RUNNING CANDIDATE s1@group-09A0EF6A68F4:t66, leader=null, voted=s1, raftlog=s1@group-09A0EF6A68F4-SegmentedRaftLog:OPENED:c1,f2,i2, conf=0: [s0:0.0.0.0:42611, s1:0.0.0.0:39575, s2:0.0.0.0:34382], old=null RUNNING
  s2:  RUNNING CANDIDATE s2@group-09A0EF6A68F4:t66, leader=null, voted=s2, raftlog=s2@group-09A0EF6A68F4-SegmentedRaftLog:OPENED:c1,f2,i2, conf=0: [s0:0.0.0.0:42611, s1:0.0.0.0:39575, s2:0.0.0.0:34382], old=null RUNNING
	at org.apache.ratis.MiniRaftCluster.newIllegalStateExceptionForNoLeaders(MiniRaftCluster.java:506)
	at org.apache.ratis.RaftTestUtil.lambda$waitForLeader$1(RaftTestUtil.java:90)
	at org.apache.ratis.MiniRaftCluster.getLeader(MiniRaftCluster.java:539)
	at org.apache.ratis.MiniRaftCluster.getLeader(MiniRaftCluster.java:532)
	at org.apache.ratis.RaftTestUtil.lambda$waitForLeader$3(RaftTestUtil.java:98)
	at org.apache.ratis.util.JavaUtils.attempt(JavaUtils.java:152)
	at org.apache.ratis.RaftTestUtil.waitForLeader(RaftTestUtil.java:97)
	at org.apache.ratis.RaftTestUtil.waitForLeader(RaftTestUtil.java:77)
	at org.apache.ratis.RaftTestUtil.waitForLeader(RaftTestUtil.java:72)
	at org.apache.ratis.server.impl.RaftStateMachineExceptionTests.runTestRetryOnExceptionDuringReplication(RaftStateMachineExceptionTests.java:166)
	at org.apache.ratis.MiniRaftCluster$Factory$Get.runWithNewCluster(MiniRaftCluster.java:125)
	at org.apache.ratis.MiniRaftCluster$Factory$Get.runWithNewCluster(MiniRaftCluster.java:113)
	at org.apache.ratis.server.impl.RaftStateMachineExceptionTests.testRetryOnExceptionDuringReplication(RaftStateMachineExceptionTests.java:145)
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.lang.reflect.Method.invoke(Method.java:498)
	at org.junit.runners.model.FrameworkMethod$1.runReflectiveCall(FrameworkMethod.java:50)
	at org.junit.internal.runners.model.ReflectiveCallable.run(ReflectiveCallable.java:12)
	at org.junit.runners.model.FrameworkMethod.invokeExplosively(FrameworkMethod.java:47)
	at org.junit.internal.runners.statements.InvokeMethod.evaluate(InvokeMethod.java:17)
	at org.junit.internal.runners.statements.RunAfters.evaluate(RunAfters.java:27)
	at org.junit.internal.runners.statements.FailOnTimeout$CallableStatement.call(FailOnTimeout.java:298)
	at org.junit.internal.runners.statements.FailOnTimeout$CallableStatement.call(FailOnTimeout.java:292)
	at java.util.concurrent.FutureTask.run(FutureTask.java:266)
	at java.lang.Thread.run(Thread.java:748)
2019-09-24 16:58:19,210 WARN  ratis.RaftTestUtil (JavaUtils.java:attempt(158)) - FAILED "waitForLeader-null-(expectLeader? true)", attempt #42/100: java.lang.IllegalStateException: No leader yet : printing ALL groups
  s0:  RUNNING CANDIDATE s0@group-09A0EF6A68F4:t66, leader=null, voted=s0, raftlog=s0@group-09A0EF6A68F4-SegmentedRaftLog:OPENED:c1,f2,i2, conf=0: [s0:0.0.0.0:42611, s1:0.0.0.0:39575, s2:0.0.0.0:34382], old=null RUNNING
  s1:  RUNNING CANDIDATE s1@group-09A0EF6A68F4:t66, leader=null, voted=s1, raftlog=s1@group-09A0EF6A68F4-SegmentedRaftLog:OPENED:c1,f2,i2, conf=0: [s0:0.0.0.0:42611, s1:0.0.0.0:39575, s2:0.0.0.0:34382], old=null RUNNING
  s2:  RUNNING CANDIDATE s2@group-09A0EF6A68F4:t66, leader=null, voted=s2, raftlog=s2@group-09A0EF6A68F4-SegmentedRaftLog:OPENED:c1,f2,i2, conf=0: [s0:0.0.0.0:42611, s1:0.0.0.0:39575, s2:0.0.0.0:34382], old=null RUNNING, sleep 450ms and then retry.
java.lang.IllegalStateException: No leader yet : printing ALL groups
  s0:  RUNNING CANDIDATE s0@group-09A0EF6A68F4:t66, leader=null, voted=s0, raftlog=s0@group-09A0EF6A68F4-SegmentedRaftLog:OPENED:c1,f2,i2, conf=0: [s0:0.0.0.0:42611, s1:0.0.0.0:39575, s2:0.0.0.0:34382], old=null RUNNING
  s1:  RUNNING CANDIDATE s1@group-09A0EF6A68F4:t66, leader=null, voted=s1, raftlog=s1@group-09A0EF6A68F4-SegmentedRaftLog:OPENED:c1,f2,i2, conf=0: [s0:0.0.0.0:42611, s1:0.0.0.0:39575, s2:0.0.0.0:34382], old=null RUNNING
  s2:  RUNNING CANDIDATE s2@group-09A0EF6A68F4:t66, leader=null, voted=s2, raftlog=s2@group-09A0EF6A68F4-SegmentedRaftLog:OPENED:c1,f2,i2, conf=0: [s0:0.0.0.0:42611, s1:0.0.0.0:39575, s2:0.0.0.0:34382], old=null RUNNING
	at org.apache.ratis.MiniRaftCluster.newIllegalStateExceptionForNoLeaders(MiniRaftCluster.java:506)
	at org.apache.ratis.RaftTestUtil.lambda$waitForLeader$1(RaftTestUtil.java:90)
	at org.apache.ratis.MiniRaftCluster.getLeader(MiniRaftCluster.java:539)
	at org.apache.ratis.MiniRaftCluster.getLeader(MiniRaftCluster.java:532)
	at org.apache.ratis.RaftTestUtil.lambda$waitForLeader$3(RaftTestUtil.java:98)
	at org.apache.ratis.util.JavaUtils.attempt(JavaUtils.java:152)
	at org.apache.ratis.RaftTestUtil.waitForLeader(RaftTestUtil.java:97)
	at org.apache.ratis.RaftTestUtil.waitForLeader(RaftTestUtil.java:77)
	at org.apache.ratis.RaftTestUtil.waitForLeader(RaftTestUtil.java:72)
	at org.apache.ratis.server.impl.RaftStateMachineExceptionTests.runTestRetryOnExceptionDuringReplication(RaftStateMachineExceptionTests.java:166)
	at org.apache.ratis.MiniRaftCluster$Factory$Get.runWithNewCluster(MiniRaftCluster.java:125)
	at org.apache.ratis.MiniRaftCluster$Factory$Get.runWithNewCluster(MiniRaftCluster.java:113)
	at org.apache.ratis.server.impl.RaftStateMachineExceptionTests.testRetryOnExceptionDuringReplication(RaftStateMachineExceptionTests.java:145)
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.lang.reflect.Method.invoke(Method.java:498)
	at org.junit.runners.model.FrameworkMethod$1.runReflectiveCall(FrameworkMethod.java:50)
	at org.junit.internal.runners.model.ReflectiveCallable.run(ReflectiveCallable.java:12)
	at org.junit.runners.model.FrameworkMethod.invokeExplosively(FrameworkMethod.java:47)
	at org.junit.internal.runners.statements.InvokeMethod.evaluate(InvokeMethod.java:17)
	at org.junit.internal.runners.statements.RunAfters.evaluate(RunAfters.java:27)
	at org.junit.internal.runners.statements.FailOnTimeout$CallableStatement.call(FailOnTimeout.java:298)
	at org.junit.internal.runners.statements.FailOnTimeout$CallableStatement.call(FailOnTimeout.java:292)
	at java.util.concurrent.FutureTask.run(FutureTask.java:266)
	at java.lang.Thread.run(Thread.java:748)
2019-09-24 16:58:19,662 WARN  ratis.RaftTestUtil (JavaUtils.java:attempt(158)) - FAILED "waitForLeader-null-(expectLeader? true)", attempt #43/100: java.lang.IllegalStateException: No leader yet : printing ALL groups
  s0:  RUNNING CANDIDATE s0@group-09A0EF6A68F4:t66, leader=null, voted=s0, raftlog=s0@group-09A0EF6A68F4-SegmentedRaftLog:OPENED:c1,f2,i2, conf=0: [s0:0.0.0.0:42611, s1:0.0.0.0:39575, s2:0.0.0.0:34382], old=null RUNNING
  s1:  RUNNING CANDIDATE s1@group-09A0EF6A68F4:t66, leader=null, voted=s1, raftlog=s1@group-09A0EF6A68F4-SegmentedRaftLog:OPENED:c1,f2,i2, conf=0: [s0:0.0.0.0:42611, s1:0.0.0.0:39575, s2:0.0.0.0:34382], old=null RUNNING
  s2:  RUNNING CANDIDATE s2@group-09A0EF6A68F4:t66, leader=null, voted=s2, raftlog=s2@group-09A0EF6A68F4-SegmentedRaftLog:OPENED:c1,f2,i2, conf=0: [s0:0.0.0.0:42611, s1:0.0.0.0:39575, s2:0.0.0.0:34382], old=null RUNNING, sleep 450ms and then retry.
java.lang.IllegalStateException: No leader yet : printing ALL groups
  s0:  RUNNING CANDIDATE s0@group-09A0EF6A68F4:t66, leader=null, voted=s0, raftlog=s0@group-09A0EF6A68F4-SegmentedRaftLog:OPENED:c1,f2,i2, conf=0: [s0:0.0.0.0:42611, s1:0.0.0.0:39575, s2:0.0.0.0:34382], old=null RUNNING
  s1:  RUNNING CANDIDATE s1@group-09A0EF6A68F4:t66, leader=null, voted=s1, raftlog=s1@group-09A0EF6A68F4-SegmentedRaftLog:OPENED:c1,f2,i2, conf=0: [s0:0.0.0.0:42611, s1:0.0.0.0:39575, s2:0.0.0.0:34382], old=null RUNNING
  s2:  RUNNING CANDIDATE s2@group-09A0EF6A68F4:t66, leader=null, voted=s2, raftlog=s2@group-09A0EF6A68F4-SegmentedRaftLog:OPENED:c1,f2,i2, conf=0: [s0:0.0.0.0:42611, s1:0.0.0.0:39575, s2:0.0.0.0:34382], old=null RUNNING
	at org.apache.ratis.MiniRaftCluster.newIllegalStateExceptionForNoLeaders(MiniRaftCluster.java:506)
	at org.apache.ratis.RaftTestUtil.lambda$waitForLeader$1(RaftTestUtil.java:90)
	at org.apache.ratis.MiniRaftCluster.getLeader(MiniRaftCluster.java:539)
	at org.apache.ratis.MiniRaftCluster.getLeader(MiniRaftCluster.java:532)
	at org.apache.ratis.RaftTestUtil.lambda$waitForLeader$3(RaftTestUtil.java:98)
	at org.apache.ratis.util.JavaUtils.attempt(JavaUtils.java:152)
	at org.apache.ratis.RaftTestUtil.waitForLeader(RaftTestUtil.java:97)
	at org.apache.ratis.RaftTestUtil.waitForLeader(RaftTestUtil.java:77)
	at org.apache.ratis.RaftTestUtil.waitForLeader(RaftTestUtil.java:72)
	at org.apache.ratis.server.impl.RaftStateMachineExceptionTests.runTestRetryOnExceptionDuringReplication(RaftStateMachineExceptionTests.java:166)
	at org.apache.ratis.MiniRaftCluster$Factory$Get.runWithNewCluster(MiniRaftCluster.java:125)
	at org.apache.ratis.MiniRaftCluster$Factory$Get.runWithNewCluster(MiniRaftCluster.java:113)
	at org.apache.ratis.server.impl.RaftStateMachineExceptionTests.testRetryOnExceptionDuringReplication(RaftStateMachineExceptionTests.java:145)
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.lang.reflect.Method.invoke(Method.java:498)
	at org.junit.runners.model.FrameworkMethod$1.runReflectiveCall(FrameworkMethod.java:50)
	at org.junit.internal.runners.model.ReflectiveCallable.run(ReflectiveCallable.java:12)
	at org.junit.runners.model.FrameworkMethod.invokeExplosively(FrameworkMethod.java:47)
	at org.junit.internal.runners.statements.InvokeMethod.evaluate(InvokeMethod.java:17)
	at org.junit.internal.runners.statements.RunAfters.evaluate(RunAfters.java:27)
	at org.junit.internal.runners.statements.FailOnTimeout$CallableStatement.call(FailOnTimeout.java:298)
	at org.junit.internal.runners.statements.FailOnTimeout$CallableStatement.call(FailOnTimeout.java:292)
	at java.util.concurrent.FutureTask.run(FutureTask.java:266)
	at java.lang.Thread.run(Thread.java:748)
2019-09-24 16:58:20,113 WARN  ratis.RaftTestUtil (JavaUtils.java:attempt(158)) - FAILED "waitForLeader-null-(expectLeader? true)", attempt #44/100: java.lang.IllegalStateException: No leader yet : printing ALL groups
  s0:  RUNNING CANDIDATE s0@group-09A0EF6A68F4:t66, leader=null, voted=s0, raftlog=s0@group-09A0EF6A68F4-SegmentedRaftLog:OPENED:c1,f2,i2, conf=0: [s0:0.0.0.0:42611, s1:0.0.0.0:39575, s2:0.0.0.0:34382], old=null RUNNING
  s1:  RUNNING CANDIDATE s1@group-09A0EF6A68F4:t66, leader=null, voted=s1, raftlog=s1@group-09A0EF6A68F4-SegmentedRaftLog:OPENED:c1,f2,i2, conf=0: [s0:0.0.0.0:42611, s1:0.0.0.0:39575, s2:0.0.0.0:34382], old=null RUNNING
  s2:  RUNNING CANDIDATE s2@group-09A0EF6A68F4:t66, leader=null, voted=s2, raftlog=s2@group-09A0EF6A68F4-SegmentedRaftLog:OPENED:c1,f2,i2, conf=0: [s0:0.0.0.0:42611, s1:0.0.0.0:39575, s2:0.0.0.0:34382], old=null RUNNING, sleep 450ms and then retry.
java.lang.IllegalStateException: No leader yet : printing ALL groups
  s0:  RUNNING CANDIDATE s0@group-09A0EF6A68F4:t66, leader=null, voted=s0, raftlog=s0@group-09A0EF6A68F4-SegmentedRaftLog:OPENED:c1,f2,i2, conf=0: [s0:0.0.0.0:42611, s1:0.0.0.0:39575, s2:0.0.0.0:34382], old=null RUNNING
  s1:  RUNNING CANDIDATE s1@group-09A0EF6A68F4:t66, leader=null, voted=s1, raftlog=s1@group-09A0EF6A68F4-SegmentedRaftLog:OPENED:c1,f2,i2, conf=0: [s0:0.0.0.0:42611, s1:0.0.0.0:39575, s2:0.0.0.0:34382], old=null RUNNING
  s2:  RUNNING CANDIDATE s2@group-09A0EF6A68F4:t66, leader=null, voted=s2, raftlog=s2@group-09A0EF6A68F4-SegmentedRaftLog:OPENED:c1,f2,i2, conf=0: [s0:0.0.0.0:42611, s1:0.0.0.0:39575, s2:0.0.0.0:34382], old=null RUNNING
	at org.apache.ratis.MiniRaftCluster.newIllegalStateExceptionForNoLeaders(MiniRaftCluster.java:506)
	at org.apache.ratis.RaftTestUtil.lambda$waitForLeader$1(RaftTestUtil.java:90)
	at org.apache.ratis.MiniRaftCluster.getLeader(MiniRaftCluster.java:539)
	at org.apache.ratis.MiniRaftCluster.getLeader(MiniRaftCluster.java:532)
	at org.apache.ratis.RaftTestUtil.lambda$waitForLeader$3(RaftTestUtil.java:98)
	at org.apache.ratis.util.JavaUtils.attempt(JavaUtils.java:152)
	at org.apache.ratis.RaftTestUtil.waitForLeader(RaftTestUtil.java:97)
	at org.apache.ratis.RaftTestUtil.waitForLeader(RaftTestUtil.java:77)
	at org.apache.ratis.RaftTestUtil.waitForLeader(RaftTestUtil.java:72)
	at org.apache.ratis.server.impl.RaftStateMachineExceptionTests.runTestRetryOnExceptionDuringReplication(RaftStateMachineExceptionTests.java:166)
	at org.apache.ratis.MiniRaftCluster$Factory$Get.runWithNewCluster(MiniRaftCluster.java:125)
	at org.apache.ratis.MiniRaftCluster$Factory$Get.runWithNewCluster(MiniRaftCluster.java:113)
	at org.apache.ratis.server.impl.RaftStateMachineExceptionTests.testRetryOnExceptionDuringReplication(RaftStateMachineExceptionTests.java:145)
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.lang.reflect.Method.invoke(Method.java:498)
	at org.junit.runners.model.FrameworkMethod$1.runReflectiveCall(FrameworkMethod.java:50)
	at org.junit.internal.runners.model.ReflectiveCallable.run(ReflectiveCallable.java:12)
	at org.junit.runners.model.FrameworkMethod.invokeExplosively(FrameworkMethod.java:47)
	at org.junit.internal.runners.statements.InvokeMethod.evaluate(InvokeMethod.java:17)
	at org.junit.internal.runners.statements.RunAfters.evaluate(RunAfters.java:27)
	at org.junit.internal.runners.statements.FailOnTimeout$CallableStatement.call(FailOnTimeout.java:298)
	at org.junit.internal.runners.statements.FailOnTimeout$CallableStatement.call(FailOnTimeout.java:292)
	at java.util.concurrent.FutureTask.run(FutureTask.java:266)
	at java.lang.Thread.run(Thread.java:748)
2019-09-24 16:58:20,128 INFO  ratis.MiniRaftCluster (MiniRaftCluster.java:lambda$null$5(297)) - TIMED-PRINT: printing ALL groups
  s0:  RUNNING CANDIDATE s0@group-09A0EF6A68F4:t66, leader=null, voted=s0, raftlog=s0@group-09A0EF6A68F4-SegmentedRaftLog:OPENED:c1,f2,i2, conf=0: [s0:0.0.0.0:42611, s1:0.0.0.0:39575, s2:0.0.0.0:34382], old=null RUNNING
  s1:  RUNNING CANDIDATE s1@group-09A0EF6A68F4:t66, leader=null, voted=s1, raftlog=s1@group-09A0EF6A68F4-SegmentedRaftLog:OPENED:c1,f2,i2, conf=0: [s0:0.0.0.0:42611, s1:0.0.0.0:39575, s2:0.0.0.0:34382], old=null RUNNING
  s2:  RUNNING CANDIDATE s2@group-09A0EF6A68F4:t66, leader=null, voted=s2, raftlog=s2@group-09A0EF6A68F4-SegmentedRaftLog:OPENED:c1,f2,i2, conf=0: [s0:0.0.0.0:42611, s1:0.0.0.0:39575, s2:0.0.0.0:34382], old=null RUNNING
2019-09-24 16:58:20,564 WARN  ratis.RaftTestUtil (JavaUtils.java:attempt(158)) - FAILED "waitForLeader-null-(expectLeader? true)", attempt #45/100: java.lang.IllegalStateException: No leader yet : printing ALL groups
  s0:  RUNNING CANDIDATE s0@group-09A0EF6A68F4:t66, leader=null, voted=s0, raftlog=s0@group-09A0EF6A68F4-SegmentedRaftLog:OPENED:c1,f2,i2, conf=0: [s0:0.0.0.0:42611, s1:0.0.0.0:39575, s2:0.0.0.0:34382], old=null RUNNING
  s1:  RUNNING CANDIDATE s1@group-09A0EF6A68F4:t66, leader=null, voted=s1, raftlog=s1@group-09A0EF6A68F4-SegmentedRaftLog:OPENED:c1,f2,i2, conf=0: [s0:0.0.0.0:42611, s1:0.0.0.0:39575, s2:0.0.0.0:34382], old=null RUNNING
  s2:  RUNNING CANDIDATE s2@group-09A0EF6A68F4:t66, leader=null, voted=s2, raftlog=s2@group-09A0EF6A68F4-SegmentedRaftLog:OPENED:c1,f2,i2, conf=0: [s0:0.0.0.0:42611, s1:0.0.0.0:39575, s2:0.0.0.0:34382], old=null RUNNING, sleep 450ms and then retry.
java.lang.IllegalStateException: No leader yet : printing ALL groups
  s0:  RUNNING CANDIDATE s0@group-09A0EF6A68F4:t66, leader=null, voted=s0, raftlog=s0@group-09A0EF6A68F4-SegmentedRaftLog:OPENED:c1,f2,i2, conf=0: [s0:0.0.0.0:42611, s1:0.0.0.0:39575, s2:0.0.0.0:34382], old=null RUNNING
  s1:  RUNNING CANDIDATE s1@group-09A0EF6A68F4:t66, leader=null, voted=s1, raftlog=s1@group-09A0EF6A68F4-SegmentedRaftLog:OPENED:c1,f2,i2, conf=0: [s0:0.0.0.0:42611, s1:0.0.0.0:39575, s2:0.0.0.0:34382], old=null RUNNING
  s2:  RUNNING CANDIDATE s2@group-09A0EF6A68F4:t66, leader=null, voted=s2, raftlog=s2@group-09A0EF6A68F4-SegmentedRaftLog:OPENED:c1,f2,i2, conf=0: [s0:0.0.0.0:42611, s1:0.0.0.0:39575, s2:0.0.0.0:34382], old=null RUNNING
	at org.apache.ratis.MiniRaftCluster.newIllegalStateExceptionForNoLeaders(MiniRaftCluster.java:506)
	at org.apache.ratis.RaftTestUtil.lambda$waitForLeader$1(RaftTestUtil.java:90)
	at org.apache.ratis.MiniRaftCluster.getLeader(MiniRaftCluster.java:539)
	at org.apache.ratis.MiniRaftCluster.getLeader(MiniRaftCluster.java:532)
	at org.apache.ratis.RaftTestUtil.lambda$waitForLeader$3(RaftTestUtil.java:98)
	at org.apache.ratis.util.JavaUtils.attempt(JavaUtils.java:152)
	at org.apache.ratis.RaftTestUtil.waitForLeader(RaftTestUtil.java:97)
	at org.apache.ratis.RaftTestUtil.waitForLeader(RaftTestUtil.java:77)
	at org.apache.ratis.RaftTestUtil.waitForLeader(RaftTestUtil.java:72)
	at org.apache.ratis.server.impl.RaftStateMachineExceptionTests.runTestRetryOnExceptionDuringReplication(RaftStateMachineExceptionTests.java:166)
	at org.apache.ratis.MiniRaftCluster$Factory$Get.runWithNewCluster(MiniRaftCluster.java:125)
	at org.apache.ratis.MiniRaftCluster$Factory$Get.runWithNewCluster(MiniRaftCluster.java:113)
	at org.apache.ratis.server.impl.RaftStateMachineExceptionTests.testRetryOnExceptionDuringReplication(RaftStateMachineExceptionTests.java:145)
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.lang.reflect.Method.invoke(Method.java:498)
	at org.junit.runners.model.FrameworkMethod$1.runReflectiveCall(FrameworkMethod.java:50)
	at org.junit.internal.runners.model.ReflectiveCallable.run(ReflectiveCallable.java:12)
	at org.junit.runners.model.FrameworkMethod.invokeExplosively(FrameworkMethod.java:47)
	at org.junit.internal.runners.statements.InvokeMethod.evaluate(InvokeMethod.java:17)
	at org.junit.internal.runners.statements.RunAfters.evaluate(RunAfters.java:27)
	at org.junit.internal.runners.statements.FailOnTimeout$CallableStatement.call(FailOnTimeout.java:298)
	at org.junit.internal.runners.statements.FailOnTimeout$CallableStatement.call(FailOnTimeout.java:292)
	at java.util.concurrent.FutureTask.run(FutureTask.java:266)
	at java.lang.Thread.run(Thread.java:748)
2019-09-24 16:58:20,964 INFO  impl.LeaderElection (LeaderElection.java:askForVotes(178)) - s1@group-09A0EF6A68F4-LeaderElection161: begin an election at term 66 for 0: [s0:0.0.0.0:42611, s1:0.0.0.0:39575, s2:0.0.0.0:34382], old=null
2019-09-24 16:58:20,964 INFO  impl.LeaderElection (LeaderElection.java:askForVotes(178)) - s0@group-09A0EF6A68F4-LeaderElection162: begin an election at term 66 for 0: [s0:0.0.0.0:42611, s1:0.0.0.0:39575, s2:0.0.0.0:34382], old=null
2019-09-24 16:58:20,964 INFO  impl.LeaderElection (LeaderElection.java:askForVotes(178)) - s2@group-09A0EF6A68F4-LeaderElection163: begin an election at term 66 for 0: [s0:0.0.0.0:42611, s1:0.0.0.0:39575, s2:0.0.0.0:34382], old=null
2019-09-24 16:58:20,965 DEBUG impl.RaftServerImpl (RaftServerImpl.java:requestVote(743)) - s0@group-09A0EF6A68F4: receive requestVote(s1, group-09A0EF6A68F4, 66, (t:62, i:2))
2019-09-24 16:58:20,965 DEBUG impl.RaftServerImpl (RaftServerImpl.java:requestVote(775)) - s0@group-09A0EF6A68F4 replies to vote request: s1<-s0#0:FAIL-t66. Peer's state: s0@group-09A0EF6A68F4:t66, leader=null, voted=s0, raftlog=s0@group-09A0EF6A68F4-SegmentedRaftLog:OPENED:c1,f2,i2, conf=0: [s0:0.0.0.0:42611, s1:0.0.0.0:39575, s2:0.0.0.0:34382], old=null
2019-09-24 16:58:20,965 DEBUG impl.RaftServerImpl (RaftServerImpl.java:requestVote(743)) - s1@group-09A0EF6A68F4: receive requestVote(s0, group-09A0EF6A68F4, 66, (t:62, i:2))
2019-09-24 16:58:20,966 DEBUG impl.RaftServerImpl (RaftServerImpl.java:requestVote(743)) - s0@group-09A0EF6A68F4: receive requestVote(s2, group-09A0EF6A68F4, 66, (t:62, i:2))
2019-09-24 16:58:20,966 DEBUG impl.RaftServerImpl (RaftServerImpl.java:requestVote(743)) - s2@group-09A0EF6A68F4: receive requestVote(s0, group-09A0EF6A68F4, 66, (t:62, i:2))
2019-09-24 16:58:20,966 DEBUG impl.RaftServerImpl (RaftServerImpl.java:requestVote(775)) - s1@group-09A0EF6A68F4 replies to vote request: s0<-s1#0:FAIL-t66. Peer's state: s1@group-09A0EF6A68F4:t66, leader=null, voted=s1, raftlog=s1@group-09A0EF6A68F4-SegmentedRaftLog:OPENED:c1,f2,i2, conf=0: [s0:0.0.0.0:42611, s1:0.0.0.0:39575, s2:0.0.0.0:34382], old=null
2019-09-24 16:58:20,966 DEBUG impl.RaftServerImpl (RaftServerImpl.java:requestVote(743)) - s2@group-09A0EF6A68F4: receive requestVote(s1, group-09A0EF6A68F4, 66, (t:62, i:2))
2019-09-24 16:58:20,966 DEBUG impl.RaftServerImpl (RaftServerImpl.java:requestVote(775)) - s2@group-09A0EF6A68F4 replies to vote request: s0<-s2#0:FAIL-t66. Peer's state: s2@group-09A0EF6A68F4:t66, leader=null, voted=s2, raftlog=s2@group-09A0EF6A68F4-SegmentedRaftLog:OPENED:c1,f2,i2, conf=0: [s0:0.0.0.0:42611, s1:0.0.0.0:39575, s2:0.0.0.0:34382], old=null
2019-09-24 16:58:20,966 DEBUG impl.RaftServerImpl (RaftServerImpl.java:requestVote(743)) - s1@group-09A0EF6A68F4: receive requestVote(s2, group-09A0EF6A68F4, 66, (t:62, i:2))
2019-09-24 16:58:20,966 DEBUG impl.RaftServerImpl (RaftServerImpl.java:requestVote(775)) - s0@group-09A0EF6A68F4 replies to vote request: s2<-s0#0:FAIL-t66. Peer's state: s0@group-09A0EF6A68F4:t66, leader=null, voted=s0, raftlog=s0@group-09A0EF6A68F4-SegmentedRaftLog:OPENED:c1,f2,i2, conf=0: [s0:0.0.0.0:42611, s1:0.0.0.0:39575, s2:0.0.0.0:34382], old=null
2019-09-24 16:58:20,967 INFO  impl.LeaderElection (LeaderElection.java:logAndReturn(56)) - s0@group-09A0EF6A68F4-LeaderElection162: Election REJECTED; received 2 response(s) [s0<-s1#0:FAIL-t66, s0<-s2#0:FAIL-t66] and 0 exception(s); s0@group-09A0EF6A68F4:t66, leader=null, voted=s0, raftlog=s0@group-09A0EF6A68F4-SegmentedRaftLog:OPENED:c1,f2,i2, conf=0: [s0:0.0.0.0:42611, s1:0.0.0.0:39575, s2:0.0.0.0:34382], old=null
2019-09-24 16:58:20,967 DEBUG impl.RaftServerImpl (RaftServerImpl.java:requestVote(775)) - s1@group-09A0EF6A68F4 replies to vote request: s2<-s1#0:FAIL-t66. Peer's state: s1@group-09A0EF6A68F4:t66, leader=null, voted=s1, raftlog=s1@group-09A0EF6A68F4-SegmentedRaftLog:OPENED:c1,f2,i2, conf=0: [s0:0.0.0.0:42611, s1:0.0.0.0:39575, s2:0.0.0.0:34382], old=null
2019-09-24 16:58:20,966 DEBUG impl.RaftServerImpl (RaftServerImpl.java:requestVote(775)) - s2@group-09A0EF6A68F4 replies to vote request: s1<-s2#0:FAIL-t66. Peer's state: s2@group-09A0EF6A68F4:t66, leader=null, voted=s2, raftlog=s2@group-09A0EF6A68F4-SegmentedRaftLog:OPENED:c1,f2,i2, conf=0: [s0:0.0.0.0:42611, s1:0.0.0.0:39575, s2:0.0.0.0:34382], old=null
2019-09-24 16:58:20,967 INFO  impl.LeaderElection (LeaderElection.java:logAndReturn(56)) - s2@group-09A0EF6A68F4-LeaderElection163: Election REJECTED; received 2 response(s) [s2<-s0#0:FAIL-t66, s2<-s1#0:FAIL-t66] and 0 exception(s); s2@group-09A0EF6A68F4:t66, leader=null, voted=s2, raftlog=s2@group-09A0EF6A68F4-SegmentedRaftLog:OPENED:c1,f2,i2, conf=0: [s0:0.0.0.0:42611, s1:0.0.0.0:39575, s2:0.0.0.0:34382], old=null
2019-09-24 16:58:20,967 INFO  impl.RaftServerImpl (RaftServerImpl.java:setRole(170)) - s0@group-09A0EF6A68F4: changes role from CANDIDATE to FOLLOWER at term 66 for DISCOVERED_A_NEW_TERM
2019-09-24 16:58:20,967 INFO  impl.RaftServerImpl (RaftServerImpl.java:setRole(170)) - s2@group-09A0EF6A68F4: changes role from CANDIDATE to FOLLOWER at term 66 for DISCOVERED_A_NEW_TERM
2019-09-24 16:58:20,967 INFO  impl.LeaderElection (LeaderElection.java:logAndReturn(56)) - s1@group-09A0EF6A68F4-LeaderElection161: Election REJECTED; received 2 response(s) [s1<-s0#0:FAIL-t66, s1<-s2#0:FAIL-t66] and 0 exception(s); s1@group-09A0EF6A68F4:t66, leader=null, voted=s1, raftlog=s1@group-09A0EF6A68F4-SegmentedRaftLog:OPENED:c1,f2,i2, conf=0: [s0:0.0.0.0:42611, s1:0.0.0.0:39575, s2:0.0.0.0:34382], old=null
2019-09-24 16:58:20,968 INFO  impl.RoleInfo (RoleInfo.java:shutdownLeaderElection(134)) - s2: shutdown LeaderElection
2019-09-24 16:58:20,967 INFO  impl.RoleInfo (RoleInfo.java:shutdownLeaderElection(134)) - s0: shutdown LeaderElection
2019-09-24 16:58:20,968 INFO  impl.RoleInfo (RoleInfo.java:updateAndGet(143)) - s2: start FollowerState
2019-09-24 16:58:20,968 INFO  impl.RaftServerImpl (RaftServerImpl.java:setRole(170)) - s1@group-09A0EF6A68F4: changes role from CANDIDATE to FOLLOWER at term 66 for DISCOVERED_A_NEW_TERM
2019-09-24 16:58:20,968 INFO  impl.RoleInfo (RoleInfo.java:updateAndGet(143)) - s0: start FollowerState
2019-09-24 16:58:20,968 INFO  impl.RoleInfo (RoleInfo.java:shutdownLeaderElection(134)) - s1: shutdown LeaderElection
2019-09-24 16:58:20,969 INFO  impl.RoleInfo (RoleInfo.java:updateAndGet(143)) - s1: start FollowerState
2019-09-24 16:58:21,015 WARN  ratis.RaftTestUtil (JavaUtils.java:attempt(158)) - FAILED "waitForLeader-null-(expectLeader? true)", attempt #46/100: java.lang.IllegalStateException: No leader yet : printing ALL groups
  s0:  RUNNING  FOLLOWER s0@group-09A0EF6A68F4:t66, leader=null, voted=s0, raftlog=s0@group-09A0EF6A68F4-SegmentedRaftLog:OPENED:c1,f2,i2, conf=0: [s0:0.0.0.0:42611, s1:0.0.0.0:39575, s2:0.0.0.0:34382], old=null RUNNING
  s1:  RUNNING  FOLLOWER s1@group-09A0EF6A68F4:t66, leader=null, voted=s1, raftlog=s1@group-09A0EF6A68F4-SegmentedRaftLog:OPENED:c1,f2,i2, conf=0: [s0:0.0.0.0:42611, s1:0.0.0.0:39575, s2:0.0.0.0:34382], old=null RUNNING
  s2:  RUNNING  FOLLOWER s2@group-09A0EF6A68F4:t66, leader=null, voted=s2, raftlog=s2@group-09A0EF6A68F4-SegmentedRaftLog:OPENED:c1,f2,i2, conf=0: [s0:0.0.0.0:42611, s1:0.0.0.0:39575, s2:0.0.0.0:34382], old=null RUNNING, sleep 450ms and then retry.
java.lang.IllegalStateException: No leader yet : printing ALL groups
  s0:  RUNNING  FOLLOWER s0@group-09A0EF6A68F4:t66, leader=null, voted=s0, raftlog=s0@group-09A0EF6A68F4-SegmentedRaftLog:OPENED:c1,f2,i2, conf=0: [s0:0.0.0.0:42611, s1:0.0.0.0:39575, s2:0.0.0.0:34382], old=null RUNNING
  s1:  RUNNING  FOLLOWER s1@group-09A0EF6A68F4:t66, leader=null, voted=s1, raftlog=s1@group-09A0EF6A68F4-SegmentedRaftLog:OPENED:c1,f2,i2, conf=0: [s0:0.0.0.0:42611, s1:0.0.0.0:39575, s2:0.0.0.0:34382], old=null RUNNING
  s2:  RUNNING  FOLLOWER s2@group-09A0EF6A68F4:t66, leader=null, voted=s2, raftlog=s2@group-09A0EF6A68F4-SegmentedRaftLog:OPENED:c1,f2,i2, conf=0: [s0:0.0.0.0:42611, s1:0.0.0.0:39575, s2:0.0.0.0:34382], old=null RUNNING
	at org.apache.ratis.MiniRaftCluster.newIllegalStateExceptionForNoLeaders(MiniRaftCluster.java:506)
	at org.apache.ratis.RaftTestUtil.lambda$waitForLeader$1(RaftTestUtil.java:90)
	at org.apache.ratis.MiniRaftCluster.getLeader(MiniRaftCluster.java:539)
	at org.apache.ratis.MiniRaftCluster.getLeader(MiniRaftCluster.java:532)
	at org.apache.ratis.RaftTestUtil.lambda$waitForLeader$3(RaftTestUtil.java:98)
	at org.apache.ratis.util.JavaUtils.attempt(JavaUtils.java:152)
	at org.apache.ratis.RaftTestUtil.waitForLeader(RaftTestUtil.java:97)
	at org.apache.ratis.RaftTestUtil.waitForLeader(RaftTestUtil.java:77)
	at org.apache.ratis.RaftTestUtil.waitForLeader(RaftTestUtil.java:72)
	at org.apache.ratis.server.impl.RaftStateMachineExceptionTests.runTestRetryOnExceptionDuringReplication(RaftStateMachineExceptionTests.java:166)
	at org.apache.ratis.MiniRaftCluster$Factory$Get.runWithNewCluster(MiniRaftCluster.java:125)
	at org.apache.ratis.MiniRaftCluster$Factory$Get.runWithNewCluster(MiniRaftCluster.java:113)
	at org.apache.ratis.server.impl.RaftStateMachineExceptionTests.testRetryOnExceptionDuringReplication(RaftStateMachineExceptionTests.java:145)
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.lang.reflect.Method.invoke(Method.java:498)
	at org.junit.runners.model.FrameworkMethod$1.runReflectiveCall(FrameworkMethod.java:50)
	at org.junit.internal.runners.model.ReflectiveCallable.run(ReflectiveCallable.java:12)
	at org.junit.runners.model.FrameworkMethod.invokeExplosively(FrameworkMethod.java:47)
	at org.junit.internal.runners.statements.InvokeMethod.evaluate(InvokeMethod.java:17)
	at org.junit.internal.runners.statements.RunAfters.evaluate(RunAfters.java:27)
	at org.junit.internal.runners.statements.FailOnTimeout$CallableStatement.call(FailOnTimeout.java:298)
	at org.junit.internal.runners.statements.FailOnTimeout$CallableStatement.call(FailOnTimeout.java:292)
	at java.util.concurrent.FutureTask.run(FutureTask.java:266)
	at java.lang.Thread.run(Thread.java:748)
2019-09-24 16:58:21,148 INFO  impl.FollowerState (FollowerState.java:run(108)) - s2@group-09A0EF6A68F4-FollowerState: change to CANDIDATE, lastRpcTime:179ms, electionTimeout:179ms
2019-09-24 16:58:21,148 INFO  impl.RoleInfo (RoleInfo.java:shutdownFollowerState(121)) - s2: shutdown FollowerState
2019-09-24 16:58:21,148 INFO  impl.RaftServerImpl (RaftServerImpl.java:setRole(170)) - s2@group-09A0EF6A68F4: changes role from  FOLLOWER to CANDIDATE at term 66 for changeToCandidate
2019-09-24 16:58:21,148 INFO  impl.RoleInfo (RoleInfo.java:updateAndGet(143)) - s2: start LeaderElection
2019-09-24 16:58:21,158 INFO  impl.FollowerState (FollowerState.java:run(108)) - s1@group-09A0EF6A68F4-FollowerState: change to CANDIDATE, lastRpcTime:189ms, electionTimeout:189ms
2019-09-24 16:58:21,159 INFO  impl.RoleInfo (RoleInfo.java:shutdownFollowerState(121)) - s1: shutdown FollowerState
2019-09-24 16:58:21,159 INFO  impl.RaftServerImpl (RaftServerImpl.java:setRole(170)) - s1@group-09A0EF6A68F4: changes role from  FOLLOWER to CANDIDATE at term 66 for changeToCandidate
2019-09-24 16:58:21,159 INFO  impl.RoleInfo (RoleInfo.java:updateAndGet(143)) - s1: start LeaderElection
2019-09-24 16:58:21,181 INFO  impl.FollowerState (FollowerState.java:run(108)) - s0@group-09A0EF6A68F4-FollowerState: change to CANDIDATE, lastRpcTime:212ms, electionTimeout:212ms
2019-09-24 16:58:21,181 INFO  impl.RoleInfo (RoleInfo.java:shutdownFollowerState(121)) - s0: shutdown FollowerState
2019-09-24 16:58:21,181 INFO  impl.RaftServerImpl (RaftServerImpl.java:setRole(170)) - s0@group-09A0EF6A68F4: changes role from  FOLLOWER to CANDIDATE at term 66 for changeToCandidate
2019-09-24 16:58:21,181 INFO  impl.RoleInfo (RoleInfo.java:updateAndGet(143)) - s0: start LeaderElection
2019-09-24 16:58:21,466 WARN  ratis.RaftTestUtil (JavaUtils.java:attempt(158)) - FAILED "waitForLeader-null-(expectLeader? true)", attempt #47/100: java.lang.IllegalStateException: No leader yet : printing ALL groups
  s0:  RUNNING CANDIDATE s0@group-09A0EF6A68F4:t67, leader=null, voted=s0, raftlog=s0@group-09A0EF6A68F4-SegmentedRaftLog:OPENED:c1,f2,i2, conf=0: [s0:0.0.0.0:42611, s1:0.0.0.0:39575, s2:0.0.0.0:34382], old=null RUNNING
  s1:  RUNNING CANDIDATE s1@group-09A0EF6A68F4:t67, leader=null, voted=s1, raftlog=s1@group-09A0EF6A68F4-SegmentedRaftLog:OPENED:c1,f2,i2, conf=0: [s0:0.0.0.0:42611, s1:0.0.0.0:39575, s2:0.0.0.0:34382], old=null RUNNING
  s2:  RUNNING CANDIDATE s2@group-09A0EF6A68F4:t67, leader=null, voted=s2, raftlog=s2@group-09A0EF6A68F4-SegmentedRaftLog:OPENED:c1,f2,i2, conf=0: [s0:0.0.0.0:42611, s1:0.0.0.0:39575, s2:0.0.0.0:34382], old=null RUNNING, sleep 450ms and then retry.
java.lang.IllegalStateException: No leader yet : printing ALL groups
  s0:  RUNNING CANDIDATE s0@group-09A0EF6A68F4:t67, leader=null, voted=s0, raftlog=s0@group-09A0EF6A68F4-SegmentedRaftLog:OPENED:c1,f2,i2, conf=0: [s0:0.0.0.0:42611, s1:0.0.0.0:39575, s2:0.0.0.0:34382], old=null RUNNING
  s1:  RUNNING CANDIDATE s1@group-09A0EF6A68F4:t67, leader=null, voted=s1, raftlog=s1@group-09A0EF6A68F4-SegmentedRaftLog:OPENED:c1,f2,i2, conf=0: [s0:0.0.0.0:42611, s1:0.0.0.0:39575, s2:0.0.0.0:34382], old=null RUNNING
  s2:  RUNNING CANDIDATE s2@group-09A0EF6A68F4:t67, leader=null, voted=s2, raftlog=s2@group-09A0EF6A68F4-SegmentedRaftLog:OPENED:c1,f2,i2, conf=0: [s0:0.0.0.0:42611, s1:0.0.0.0:39575, s2:0.0.0.0:34382], old=null RUNNING
	at org.apache.ratis.MiniRaftCluster.newIllegalStateExceptionForNoLeaders(MiniRaftCluster.java:506)
	at org.apache.ratis.RaftTestUtil.lambda$waitForLeader$1(RaftTestUtil.java:90)
	at org.apache.ratis.MiniRaftCluster.getLeader(MiniRaftCluster.java:539)
	at org.apache.ratis.MiniRaftCluster.getLeader(MiniRaftCluster.java:532)
	at org.apache.ratis.RaftTestUtil.lambda$waitForLeader$3(RaftTestUtil.java:98)
	at org.apache.ratis.util.JavaUtils.attempt(JavaUtils.java:152)
	at org.apache.ratis.RaftTestUtil.waitForLeader(RaftTestUtil.java:97)
	at org.apache.ratis.RaftTestUtil.waitForLeader(RaftTestUtil.java:77)
	at org.apache.ratis.RaftTestUtil.waitForLeader(RaftTestUtil.java:72)
	at org.apache.ratis.server.impl.RaftStateMachineExceptionTests.runTestRetryOnExceptionDuringReplication(RaftStateMachineExceptionTests.java:166)
	at org.apache.ratis.MiniRaftCluster$Factory$Get.runWithNewCluster(MiniRaftCluster.java:125)
	at org.apache.ratis.MiniRaftCluster$Factory$Get.runWithNewCluster(MiniRaftCluster.java:113)
	at org.apache.ratis.server.impl.RaftStateMachineExceptionTests.testRetryOnExceptionDuringReplication(RaftStateMachineExceptionTests.java:145)
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.lang.reflect.Method.invoke(Method.java:498)
	at org.junit.runners.model.FrameworkMethod$1.runReflectiveCall(FrameworkMethod.java:50)
	at org.junit.internal.runners.model.ReflectiveCallable.run(ReflectiveCallable.java:12)
	at org.junit.runners.model.FrameworkMethod.invokeExplosively(FrameworkMethod.java:47)
	at org.junit.internal.runners.statements.InvokeMethod.evaluate(InvokeMethod.java:17)
	at org.junit.internal.runners.statements.RunAfters.evaluate(RunAfters.java:27)
	at org.junit.internal.runners.statements.FailOnTimeout$CallableStatement.call(FailOnTimeout.java:298)
	at org.junit.internal.runners.statements.FailOnTimeout$CallableStatement.call(FailOnTimeout.java:292)
	at java.util.concurrent.FutureTask.run(FutureTask.java:266)
	at java.lang.Thread.run(Thread.java:748)
2019-09-24 16:58:21,917 WARN  ratis.RaftTestUtil (JavaUtils.java:attempt(158)) - FAILED "waitForLeader-null-(expectLeader? true)", attempt #48/100: java.lang.IllegalStateException: No leader yet : printing ALL groups
  s0:  RUNNING CANDIDATE s0@group-09A0EF6A68F4:t67, leader=null, voted=s0, raftlog=s0@group-09A0EF6A68F4-SegmentedRaftLog:OPENED:c1,f2,i2, conf=0: [s0:0.0.0.0:42611, s1:0.0.0.0:39575, s2:0.0.0.0:34382], old=null RUNNING
  s1:  RUNNING CANDIDATE s1@group-09A0EF6A68F4:t67, leader=null, voted=s1, raftlog=s1@group-09A0EF6A68F4-SegmentedRaftLog:OPENED:c1,f2,i2, conf=0: [s0:0.0.0.0:42611, s1:0.0.0.0:39575, s2:0.0.0.0:34382], old=null RUNNING
  s2:  RUNNING CANDIDATE s2@group-09A0EF6A68F4:t67, leader=null, voted=s2, raftlog=s2@group-09A0EF6A68F4-SegmentedRaftLog:OPENED:c1,f2,i2, conf=0: [s0:0.0.0.0:42611, s1:0.0.0.0:39575, s2:0.0.0.0:34382], old=null RUNNING, sleep 450ms and then retry.
java.lang.IllegalStateException: No leader yet : printing ALL groups
  s0:  RUNNING CANDIDATE s0@group-09A0EF6A68F4:t67, leader=null, voted=s0, raftlog=s0@group-09A0EF6A68F4-SegmentedRaftLog:OPENED:c1,f2,i2, conf=0: [s0:0.0.0.0:42611, s1:0.0.0.0:39575, s2:0.0.0.0:34382], old=null RUNNING
  s1:  RUNNING CANDIDATE s1@group-09A0EF6A68F4:t67, leader=null, voted=s1, raftlog=s1@group-09A0EF6A68F4-SegmentedRaftLog:OPENED:c1,f2,i2, conf=0: [s0:0.0.0.0:42611, s1:0.0.0.0:39575, s2:0.0.0.0:34382], old=null RUNNING
  s2:  RUNNING CANDIDATE s2@group-09A0EF6A68F4:t67, leader=null, voted=s2, raftlog=s2@group-09A0EF6A68F4-SegmentedRaftLog:OPENED:c1,f2,i2, conf=0: [s0:0.0.0.0:42611, s1:0.0.0.0:39575, s2:0.0.0.0:34382], old=null RUNNING
	at org.apache.ratis.MiniRaftCluster.newIllegalStateExceptionForNoLeaders(MiniRaftCluster.java:506)
	at org.apache.ratis.RaftTestUtil.lambda$waitForLeader$1(RaftTestUtil.java:90)
	at org.apache.ratis.MiniRaftCluster.getLeader(MiniRaftCluster.java:539)
	at org.apache.ratis.MiniRaftCluster.getLeader(MiniRaftCluster.java:532)
	at org.apache.ratis.RaftTestUtil.lambda$waitForLeader$3(RaftTestUtil.java:98)
	at org.apache.ratis.util.JavaUtils.attempt(JavaUtils.java:152)
	at org.apache.ratis.RaftTestUtil.waitForLeader(RaftTestUtil.java:97)
	at org.apache.ratis.RaftTestUtil.waitForLeader(RaftTestUtil.java:77)
	at org.apache.ratis.RaftTestUtil.waitForLeader(RaftTestUtil.java:72)
	at org.apache.ratis.server.impl.RaftStateMachineExceptionTests.runTestRetryOnExceptionDuringReplication(RaftStateMachineExceptionTests.java:166)
	at org.apache.ratis.MiniRaftCluster$Factory$Get.runWithNewCluster(MiniRaftCluster.java:125)
	at org.apache.ratis.MiniRaftCluster$Factory$Get.runWithNewCluster(MiniRaftCluster.java:113)
	at org.apache.ratis.server.impl.RaftStateMachineExceptionTests.testRetryOnExceptionDuringReplication(RaftStateMachineExceptionTests.java:145)
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.lang.reflect.Method.invoke(Method.java:498)
	at org.junit.runners.model.FrameworkMethod$1.runReflectiveCall(FrameworkMethod.java:50)
	at org.junit.internal.runners.model.ReflectiveCallable.run(ReflectiveCallable.java:12)
	at org.junit.runners.model.FrameworkMethod.invokeExplosively(FrameworkMethod.java:47)
	at org.junit.internal.runners.statements.InvokeMethod.evaluate(InvokeMethod.java:17)
	at org.junit.internal.runners.statements.RunAfters.evaluate(RunAfters.java:27)
	at org.junit.internal.runners.statements.FailOnTimeout$CallableStatement.call(FailOnTimeout.java:298)
	at org.junit.internal.runners.statements.FailOnTimeout$CallableStatement.call(FailOnTimeout.java:292)
	at java.util.concurrent.FutureTask.run(FutureTask.java:266)
	at java.lang.Thread.run(Thread.java:748)
2019-09-24 16:58:22,369 WARN  ratis.RaftTestUtil (JavaUtils.java:attempt(158)) - FAILED "waitForLeader-null-(expectLeader? true)", attempt #49/100: java.lang.IllegalStateException: No leader yet : printing ALL groups
  s0:  RUNNING CANDIDATE s0@group-09A0EF6A68F4:t67, leader=null, voted=s0, raftlog=s0@group-09A0EF6A68F4-SegmentedRaftLog:OPENED:c1,f2,i2, conf=0: [s0:0.0.0.0:42611, s1:0.0.0.0:39575, s2:0.0.0.0:34382], old=null RUNNING
  s1:  RUNNING CANDIDATE s1@group-09A0EF6A68F4:t67, leader=null, voted=s1, raftlog=s1@group-09A0EF6A68F4-SegmentedRaftLog:OPENED:c1,f2,i2, conf=0: [s0:0.0.0.0:42611, s1:0.0.0.0:39575, s2:0.0.0.0:34382], old=null RUNNING
  s2:  RUNNING CANDIDATE s2@group-09A0EF6A68F4:t67, leader=null, voted=s2, raftlog=s2@group-09A0EF6A68F4-SegmentedRaftLog:OPENED:c1,f2,i2, conf=0: [s0:0.0.0.0:42611, s1:0.0.0.0:39575, s2:0.0.0.0:34382], old=null RUNNING, sleep 450ms and then retry.
java.lang.IllegalStateException: No leader yet : printing ALL groups
  s0:  RUNNING CANDIDATE s0@group-09A0EF6A68F4:t67, leader=null, voted=s0, raftlog=s0@group-09A0EF6A68F4-SegmentedRaftLog:OPENED:c1,f2,i2, conf=0: [s0:0.0.0.0:42611, s1:0.0.0.0:39575, s2:0.0.0.0:34382], old=null RUNNING
  s1:  RUNNING CANDIDATE s1@group-09A0EF6A68F4:t67, leader=null, voted=s1, raftlog=s1@group-09A0EF6A68F4-SegmentedRaftLog:OPENED:c1,f2,i2, conf=0: [s0:0.0.0.0:42611, s1:0.0.0.0:39575, s2:0.0.0.0:34382], old=null RUNNING
  s2:  RUNNING CANDIDATE s2@group-09A0EF6A68F4:t67, leader=null, voted=s2, raftlog=s2@group-09A0EF6A68F4-SegmentedRaftLog:OPENED:c1,f2,i2, conf=0: [s0:0.0.0.0:42611, s1:0.0.0.0:39575, s2:0.0.0.0:34382], old=null RUNNING
	at org.apache.ratis.MiniRaftCluster.newIllegalStateExceptionForNoLeaders(MiniRaftCluster.java:506)
	at org.apache.ratis.RaftTestUtil.lambda$waitForLeader$1(RaftTestUtil.java:90)
	at org.apache.ratis.MiniRaftCluster.getLeader(MiniRaftCluster.java:539)
	at org.apache.ratis.MiniRaftCluster.getLeader(MiniRaftCluster.java:532)
	at org.apache.ratis.RaftTestUtil.lambda$waitForLeader$3(RaftTestUtil.java:98)
	at org.apache.ratis.util.JavaUtils.attempt(JavaUtils.java:152)
	at org.apache.ratis.RaftTestUtil.waitForLeader(RaftTestUtil.java:97)
	at org.apache.ratis.RaftTestUtil.waitForLeader(RaftTestUtil.java:77)
	at org.apache.ratis.RaftTestUtil.waitForLeader(RaftTestUtil.java:72)
	at org.apache.ratis.server.impl.RaftStateMachineExceptionTests.runTestRetryOnExceptionDuringReplication(RaftStateMachineExceptionTests.java:166)
	at org.apache.ratis.MiniRaftCluster$Factory$Get.runWithNewCluster(MiniRaftCluster.java:125)
	at org.apache.ratis.MiniRaftCluster$Factory$Get.runWithNewCluster(MiniRaftCluster.java:113)
	at org.apache.ratis.server.impl.RaftStateMachineExceptionTests.testRetryOnExceptionDuringReplication(RaftStateMachineExceptionTests.java:145)
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.lang.reflect.Method.invoke(Method.java:498)
	at org.junit.runners.model.FrameworkMethod$1.runReflectiveCall(FrameworkMethod.java:50)
	at org.junit.internal.runners.model.ReflectiveCallable.run(ReflectiveCallable.java:12)
	at org.junit.runners.model.FrameworkMethod.invokeExplosively(FrameworkMethod.java:47)
	at org.junit.internal.runners.statements.InvokeMethod.evaluate(InvokeMethod.java:17)
	at org.junit.internal.runners.statements.RunAfters.evaluate(RunAfters.java:27)
	at org.junit.internal.runners.statements.FailOnTimeout$CallableStatement.call(FailOnTimeout.java:298)
	at org.junit.internal.runners.statements.FailOnTimeout$CallableStatement.call(FailOnTimeout.java:292)
	at java.util.concurrent.FutureTask.run(FutureTask.java:266)
	at java.lang.Thread.run(Thread.java:748)
2019-09-24 16:58:22,820 WARN  ratis.RaftTestUtil (JavaUtils.java:attempt(158)) - FAILED "waitForLeader-null-(expectLeader? true)", attempt #50/100: java.lang.IllegalStateException: No leader yet : printing ALL groups
  s0:  RUNNING CANDIDATE s0@group-09A0EF6A68F4:t67, leader=null, voted=s0, raftlog=s0@group-09A0EF6A68F4-SegmentedRaftLog:OPENED:c1,f2,i2, conf=0: [s0:0.0.0.0:42611, s1:0.0.0.0:39575, s2:0.0.0.0:34382], old=null RUNNING
  s1:  RUNNING CANDIDATE s1@group-09A0EF6A68F4:t67, leader=null, voted=s1, raftlog=s1@group-09A0EF6A68F4-SegmentedRaftLog:OPENED:c1,f2,i2, conf=0: [s0:0.0.0.0:42611, s1:0.0.0.0:39575, s2:0.0.0.0:34382], old=null RUNNING
  s2:  RUNNING CANDIDATE s2@group-09A0EF6A68F4:t67, leader=null, voted=s2, raftlog=s2@group-09A0EF6A68F4-SegmentedRaftLog:OPENED:c1,f2,i2, conf=0: [s0:0.0.0.0:42611, s1:0.0.0.0:39575, s2:0.0.0.0:34382], old=null RUNNING, sleep 450ms and then retry.
java.lang.IllegalStateException: No leader yet : printing ALL groups
  s0:  RUNNING CANDIDATE s0@group-09A0EF6A68F4:t67, leader=null, voted=s0, raftlog=s0@group-09A0EF6A68F4-SegmentedRaftLog:OPENED:c1,f2,i2, conf=0: [s0:0.0.0.0:42611, s1:0.0.0.0:39575, s2:0.0.0.0:34382], old=null RUNNING
  s1:  RUNNING CANDIDATE s1@group-09A0EF6A68F4:t67, leader=null, voted=s1, raftlog=s1@group-09A0EF6A68F4-SegmentedRaftLog:OPENED:c1,f2,i2, conf=0: [s0:0.0.0.0:42611, s1:0.0.0.0:39575, s2:0.0.0.0:34382], old=null RUNNING
  s2:  RUNNING CANDIDATE s2@group-09A0EF6A68F4:t67, leader=null, voted=s2, raftlog=s2@group-09A0EF6A68F4-SegmentedRaftLog:OPENED:c1,f2,i2, conf=0: [s0:0.0.0.0:42611, s1:0.0.0.0:39575, s2:0.0.0.0:34382], old=null RUNNING
	at org.apache.ratis.MiniRaftCluster.newIllegalStateExceptionForNoLeaders(MiniRaftCluster.java:506)
	at org.apache.ratis.RaftTestUtil.lambda$waitForLeader$1(RaftTestUtil.java:90)
	at org.apache.ratis.MiniRaftCluster.getLeader(MiniRaftCluster.java:539)
	at org.apache.ratis.MiniRaftCluster.getLeader(MiniRaftCluster.java:532)
	at org.apache.ratis.RaftTestUtil.lambda$waitForLeader$3(RaftTestUtil.java:98)
	at org.apache.ratis.util.JavaUtils.attempt(JavaUtils.java:152)
	at org.apache.ratis.RaftTestUtil.waitForLeader(RaftTestUtil.java:97)
	at org.apache.ratis.RaftTestUtil.waitForLeader(RaftTestUtil.java:77)
	at org.apache.ratis.RaftTestUtil.waitForLeader(RaftTestUtil.java:72)
	at org.apache.ratis.server.impl.RaftStateMachineExceptionTests.runTestRetryOnExceptionDuringReplication(RaftStateMachineExceptionTests.java:166)
	at org.apache.ratis.MiniRaftCluster$Factory$Get.runWithNewCluster(MiniRaftCluster.java:125)
	at org.apache.ratis.MiniRaftCluster$Factory$Get.runWithNewCluster(MiniRaftCluster.java:113)
	at org.apache.ratis.server.impl.RaftStateMachineExceptionTests.testRetryOnExceptionDuringReplication(RaftStateMachineExceptionTests.java:145)
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.lang.reflect.Method.invoke(Method.java:498)
	at org.junit.runners.model.FrameworkMethod$1.runReflectiveCall(FrameworkMethod.java:50)
	at org.junit.internal.runners.model.ReflectiveCallable.run(ReflectiveCallable.java:12)
	at org.junit.runners.model.FrameworkMethod.invokeExplosively(FrameworkMethod.java:47)
	at org.junit.internal.runners.statements.InvokeMethod.evaluate(InvokeMethod.java:17)
	at org.junit.internal.runners.statements.RunAfters.evaluate(RunAfters.java:27)
	at org.junit.internal.runners.statements.FailOnTimeout$CallableStatement.call(FailOnTimeout.java:298)
	at org.junit.internal.runners.statements.FailOnTimeout$CallableStatement.call(FailOnTimeout.java:292)
	at java.util.concurrent.FutureTask.run(FutureTask.java:266)
	at java.lang.Thread.run(Thread.java:748)
2019-09-24 16:58:23,272 WARN  ratis.RaftTestUtil (JavaUtils.java:attempt(158)) - FAILED "waitForLeader-null-(expectLeader? true)", attempt #51/100: java.lang.IllegalStateException: No leader yet : printing ALL groups
  s0:  RUNNING CANDIDATE s0@group-09A0EF6A68F4:t67, leader=null, voted=s0, raftlog=s0@group-09A0EF6A68F4-SegmentedRaftLog:OPENED:c1,f2,i2, conf=0: [s0:0.0.0.0:42611, s1:0.0.0.0:39575, s2:0.0.0.0:34382], old=null RUNNING
  s1:  RUNNING CANDIDATE s1@group-09A0EF6A68F4:t67, leader=null, voted=s1, raftlog=s1@group-09A0EF6A68F4-SegmentedRaftLog:OPENED:c1,f2,i2, conf=0: [s0:0.0.0.0:42611, s1:0.0.0.0:39575, s2:0.0.0.0:34382], old=null RUNNING
  s2:  RUNNING CANDIDATE s2@group-09A0EF6A68F4:t67, leader=null, voted=s2, raftlog=s2@group-09A0EF6A68F4-SegmentedRaftLog:OPENED:c1,f2,i2, conf=0: [s0:0.0.0.0:42611, s1:0.0.0.0:39575, s2:0.0.0.0:34382], old=null RUNNING, sleep 450ms and then retry.
java.lang.IllegalStateException: No leader yet : printing ALL groups
  s0:  RUNNING CANDIDATE s0@group-09A0EF6A68F4:t67, leader=null, voted=s0, raftlog=s0@group-09A0EF6A68F4-SegmentedRaftLog:OPENED:c1,f2,i2, conf=0: [s0:0.0.0.0:42611, s1:0.0.0.0:39575, s2:0.0.0.0:34382], old=null RUNNING
  s1:  RUNNING CANDIDATE s1@group-09A0EF6A68F4:t67, leader=null, voted=s1, raftlog=s1@group-09A0EF6A68F4-SegmentedRaftLog:OPENED:c1,f2,i2, conf=0: [s0:0.0.0.0:42611, s1:0.0.0.0:39575, s2:0.0.0.0:34382], old=null RUNNING
  s2:  RUNNING CANDIDATE s2@group-09A0EF6A68F4:t67, leader=null, voted=s2, raftlog=s2@group-09A0EF6A68F4-SegmentedRaftLog:OPENED:c1,f2,i2, conf=0: [s0:0.0.0.0:42611, s1:0.0.0.0:39575, s2:0.0.0.0:34382], old=null RUNNING
	at org.apache.ratis.MiniRaftCluster.newIllegalStateExceptionForNoLeaders(MiniRaftCluster.java:506)
	at org.apache.ratis.RaftTestUtil.lambda$waitForLeader$1(RaftTestUtil.java:90)
	at org.apache.ratis.MiniRaftCluster.getLeader(MiniRaftCluster.java:539)
	at org.apache.ratis.MiniRaftCluster.getLeader(MiniRaftCluster.java:532)
	at org.apache.ratis.RaftTestUtil.lambda$waitForLeader$3(RaftTestUtil.java:98)
	at org.apache.ratis.util.JavaUtils.attempt(JavaUtils.java:152)
	at org.apache.ratis.RaftTestUtil.waitForLeader(RaftTestUtil.java:97)
	at org.apache.ratis.RaftTestUtil.waitForLeader(RaftTestUtil.java:77)
	at org.apache.ratis.RaftTestUtil.waitForLeader(RaftTestUtil.java:72)
	at org.apache.ratis.server.impl.RaftStateMachineExceptionTests.runTestRetryOnExceptionDuringReplication(RaftStateMachineExceptionTests.java:166)
	at org.apache.ratis.MiniRaftCluster$Factory$Get.runWithNewCluster(MiniRaftCluster.java:125)
	at org.apache.ratis.MiniRaftCluster$Factory$Get.runWithNewCluster(MiniRaftCluster.java:113)
	at org.apache.ratis.server.impl.RaftStateMachineExceptionTests.testRetryOnExceptionDuringReplication(RaftStateMachineExceptionTests.java:145)
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.lang.reflect.Method.invoke(Method.java:498)
	at org.junit.runners.model.FrameworkMethod$1.runReflectiveCall(FrameworkMethod.java:50)
	at org.junit.internal.runners.model.ReflectiveCallable.run(ReflectiveCallable.java:12)
	at org.junit.runners.model.FrameworkMethod.invokeExplosively(FrameworkMethod.java:47)
	at org.junit.internal.runners.statements.InvokeMethod.evaluate(InvokeMethod.java:17)
	at org.junit.internal.runners.statements.RunAfters.evaluate(RunAfters.java:27)
	at org.junit.internal.runners.statements.FailOnTimeout$CallableStatement.call(FailOnTimeout.java:298)
	at org.junit.internal.runners.statements.FailOnTimeout$CallableStatement.call(FailOnTimeout.java:292)
	at java.util.concurrent.FutureTask.run(FutureTask.java:266)
	at java.lang.Thread.run(Thread.java:748)
2019-09-24 16:58:23,668 INFO  impl.LeaderElection (LeaderElection.java:askForVotes(178)) - s2@group-09A0EF6A68F4-LeaderElection164: begin an election at term 67 for 0: [s0:0.0.0.0:42611, s1:0.0.0.0:39575, s2:0.0.0.0:34382], old=null
2019-09-24 16:58:23,668 INFO  impl.LeaderElection (LeaderElection.java:askForVotes(178)) - s1@group-09A0EF6A68F4-LeaderElection165: begin an election at term 67 for 0: [s0:0.0.0.0:42611, s1:0.0.0.0:39575, s2:0.0.0.0:34382], old=null
2019-09-24 16:58:23,668 INFO  impl.LeaderElection (LeaderElection.java:askForVotes(178)) - s0@group-09A0EF6A68F4-LeaderElection166: begin an election at term 67 for 0: [s0:0.0.0.0:42611, s1:0.0.0.0:39575, s2:0.0.0.0:34382], old=null
2019-09-24 16:58:23,669 DEBUG impl.RaftServerImpl (RaftServerImpl.java:requestVote(743)) - s0@group-09A0EF6A68F4: receive requestVote(s2, group-09A0EF6A68F4, 67, (t:62, i:2))
2019-09-24 16:58:23,670 DEBUG impl.RaftServerImpl (RaftServerImpl.java:requestVote(743)) - s1@group-09A0EF6A68F4: receive requestVote(s0, group-09A0EF6A68F4, 67, (t:62, i:2))
2019-09-24 16:58:23,670 DEBUG impl.RaftServerImpl (RaftServerImpl.java:requestVote(775)) - s0@group-09A0EF6A68F4 replies to vote request: s2<-s0#0:FAIL-t67. Peer's state: s0@group-09A0EF6A68F4:t67, leader=null, voted=s0, raftlog=s0@group-09A0EF6A68F4-SegmentedRaftLog:OPENED:c1,f2,i2, conf=0: [s0:0.0.0.0:42611, s1:0.0.0.0:39575, s2:0.0.0.0:34382], old=null
2019-09-24 16:58:23,670 DEBUG impl.RaftServerImpl (RaftServerImpl.java:requestVote(743)) - s0@group-09A0EF6A68F4: receive requestVote(s1, group-09A0EF6A68F4, 67, (t:62, i:2))
2019-09-24 16:58:23,670 DEBUG impl.RaftServerImpl (RaftServerImpl.java:requestVote(743)) - s2@group-09A0EF6A68F4: receive requestVote(s1, group-09A0EF6A68F4, 67, (t:62, i:2))
2019-09-24 16:58:23,670 DEBUG impl.RaftServerImpl (RaftServerImpl.java:requestVote(775)) - s1@group-09A0EF6A68F4 replies to vote request: s0<-s1#0:FAIL-t67. Peer's state: s1@group-09A0EF6A68F4:t67, leader=null, voted=s1, raftlog=s1@group-09A0EF6A68F4-SegmentedRaftLog:OPENED:c1,f2,i2, conf=0: [s0:0.0.0.0:42611, s1:0.0.0.0:39575, s2:0.0.0.0:34382], old=null
2019-09-24 16:58:23,670 DEBUG impl.RaftServerImpl (RaftServerImpl.java:requestVote(743)) - s1@group-09A0EF6A68F4: receive requestVote(s2, group-09A0EF6A68F4, 67, (t:62, i:2))
2019-09-24 16:58:23,670 DEBUG impl.RaftServerImpl (RaftServerImpl.java:requestVote(775)) - s2@group-09A0EF6A68F4 replies to vote request: s1<-s2#0:FAIL-t67. Peer's state: s2@group-09A0EF6A68F4:t67, leader=null, voted=s2, raftlog=s2@group-09A0EF6A68F4-SegmentedRaftLog:OPENED:c1,f2,i2, conf=0: [s0:0.0.0.0:42611, s1:0.0.0.0:39575, s2:0.0.0.0:34382], old=null
2019-09-24 16:58:23,670 DEBUG impl.RaftServerImpl (RaftServerImpl.java:requestVote(775)) - s0@group-09A0EF6A68F4 replies to vote request: s1<-s0#0:FAIL-t67. Peer's state: s0@group-09A0EF6A68F4:t67, leader=null, voted=s0, raftlog=s0@group-09A0EF6A68F4-SegmentedRaftLog:OPENED:c1,f2,i2, conf=0: [s0:0.0.0.0:42611, s1:0.0.0.0:39575, s2:0.0.0.0:34382], old=null
2019-09-24 16:58:23,670 DEBUG impl.RaftServerImpl (RaftServerImpl.java:requestVote(743)) - s2@group-09A0EF6A68F4: receive requestVote(s0, group-09A0EF6A68F4, 67, (t:62, i:2))
2019-09-24 16:58:23,671 DEBUG impl.RaftServerImpl (RaftServerImpl.java:requestVote(775)) - s1@group-09A0EF6A68F4 replies to vote request: s2<-s1#0:FAIL-t67. Peer's state: s1@group-09A0EF6A68F4:t67, leader=null, voted=s1, raftlog=s1@group-09A0EF6A68F4-SegmentedRaftLog:OPENED:c1,f2,i2, conf=0: [s0:0.0.0.0:42611, s1:0.0.0.0:39575, s2:0.0.0.0:34382], old=null
2019-09-24 16:58:23,671 DEBUG impl.RaftServerImpl (RaftServerImpl.java:requestVote(775)) - s2@group-09A0EF6A68F4 replies to vote request: s0<-s2#0:FAIL-t67. Peer's state: s2@group-09A0EF6A68F4:t67, leader=null, voted=s2, raftlog=s2@group-09A0EF6A68F4-SegmentedRaftLog:OPENED:c1,f2,i2, conf=0: [s0:0.0.0.0:42611, s1:0.0.0.0:39575, s2:0.0.0.0:34382], old=null
2019-09-24 16:58:23,671 INFO  impl.LeaderElection (LeaderElection.java:logAndReturn(56)) - s1@group-09A0EF6A68F4-LeaderElection165: Election REJECTED; received 2 response(s) [s1<-s0#0:FAIL-t67, s1<-s2#0:FAIL-t67] and 0 exception(s); s1@group-09A0EF6A68F4:t67, leader=null, voted=s1, raftlog=s1@group-09A0EF6A68F4-SegmentedRaftLog:OPENED:c1,f2,i2, conf=0: [s0:0.0.0.0:42611, s1:0.0.0.0:39575, s2:0.0.0.0:34382], old=null
2019-09-24 16:58:23,672 INFO  impl.LeaderElection (LeaderElection.java:logAndReturn(56)) - s2@group-09A0EF6A68F4-LeaderElection164: Election REJECTED; received 2 response(s) [s2<-s0#0:FAIL-t67, s2<-s1#0:FAIL-t67] and 0 exception(s); s2@group-09A0EF6A68F4:t67, leader=null, voted=s2, raftlog=s2@group-09A0EF6A68F4-SegmentedRaftLog:OPENED:c1,f2,i2, conf=0: [s0:0.0.0.0:42611, s1:0.0.0.0:39575, s2:0.0.0.0:34382], old=null
2019-09-24 16:58:23,672 INFO  impl.RaftServerImpl (RaftServerImpl.java:setRole(170)) - s1@group-09A0EF6A68F4: changes role from CANDIDATE to FOLLOWER at term 67 for DISCOVERED_A_NEW_TERM
2019-09-24 16:58:23,672 INFO  impl.LeaderElection (LeaderElection.java:logAndReturn(56)) - s0@group-09A0EF6A68F4-LeaderElection166: Election REJECTED; received 2 response(s) [s0<-s1#0:FAIL-t67, s0<-s2#0:FAIL-t67] and 0 exception(s); s0@group-09A0EF6A68F4:t67, leader=null, voted=s0, raftlog=s0@group-09A0EF6A68F4-SegmentedRaftLog:OPENED:c1,f2,i2, conf=0: [s0:0.0.0.0:42611, s1:0.0.0.0:39575, s2:0.0.0.0:34382], old=null
2019-09-24 16:58:23,672 INFO  impl.RoleInfo (RoleInfo.java:shutdownLeaderElection(134)) - s1: shutdown LeaderElection
2019-09-24 16:58:23,672 INFO  impl.RaftServerImpl (RaftServerImpl.java:setRole(170)) - s2@group-09A0EF6A68F4: changes role from CANDIDATE to FOLLOWER at term 67 for DISCOVERED_A_NEW_TERM
2019-09-24 16:58:23,673 INFO  impl.RoleInfo (RoleInfo.java:updateAndGet(143)) - s1: start FollowerState
2019-09-24 16:58:23,673 INFO  impl.RaftServerImpl (RaftServerImpl.java:setRole(170)) - s0@group-09A0EF6A68F4: changes role from CANDIDATE to FOLLOWER at term 67 for DISCOVERED_A_NEW_TERM
2019-09-24 16:58:23,673 INFO  impl.RoleInfo (RoleInfo.java:shutdownLeaderElection(134)) - s0: shutdown LeaderElection
2019-09-24 16:58:23,673 INFO  impl.RoleInfo (RoleInfo.java:shutdownLeaderElection(134)) - s2: shutdown LeaderElection
2019-09-24 16:58:23,673 INFO  impl.RoleInfo (RoleInfo.java:updateAndGet(143)) - s0: start FollowerState
2019-09-24 16:58:23,674 INFO  impl.RoleInfo (RoleInfo.java:updateAndGet(143)) - s2: start FollowerState
2019-09-24 16:58:23,723 WARN  ratis.RaftTestUtil (JavaUtils.java:attempt(158)) - FAILED "waitForLeader-null-(expectLeader? true)", attempt #52/100: java.lang.IllegalStateException: No leader yet : printing ALL groups
  s0:  RUNNING  FOLLOWER s0@group-09A0EF6A68F4:t67, leader=null, voted=s0, raftlog=s0@group-09A0EF6A68F4-SegmentedRaftLog:OPENED:c1,f2,i2, conf=0: [s0:0.0.0.0:42611, s1:0.0.0.0:39575, s2:0.0.0.0:34382], old=null RUNNING
  s1:  RUNNING  FOLLOWER s1@group-09A0EF6A68F4:t67, leader=null, voted=s1, raftlog=s1@group-09A0EF6A68F4-SegmentedRaftLog:OPENED:c1,f2,i2, conf=0: [s0:0.0.0.0:42611, s1:0.0.0.0:39575, s2:0.0.0.0:34382], old=null RUNNING
  s2:  RUNNING  FOLLOWER s2@group-09A0EF6A68F4:t67, leader=null, voted=s2, raftlog=s2@group-09A0EF6A68F4-SegmentedRaftLog:OPENED:c1,f2,i2, conf=0: [s0:0.0.0.0:42611, s1:0.0.0.0:39575, s2:0.0.0.0:34382], old=null RUNNING, sleep 450ms and then retry.
java.lang.IllegalStateException: No leader yet : printing ALL groups
  s0:  RUNNING  FOLLOWER s0@group-09A0EF6A68F4:t67, leader=null, voted=s0, raftlog=s0@group-09A0EF6A68F4-SegmentedRaftLog:OPENED:c1,f2,i2, conf=0: [s0:0.0.0.0:42611, s1:0.0.0.0:39575, s2:0.0.0.0:34382], old=null RUNNING
  s1:  RUNNING  FOLLOWER s1@group-09A0EF6A68F4:t67, leader=null, voted=s1, raftlog=s1@group-09A0EF6A68F4-SegmentedRaftLog:OPENED:c1,f2,i2, conf=0: [s0:0.0.0.0:42611, s1:0.0.0.0:39575, s2:0.0.0.0:34382], old=null RUNNING
  s2:  RUNNING  FOLLOWER s2@group-09A0EF6A68F4:t67, leader=null, voted=s2, raftlog=s2@group-09A0EF6A68F4-SegmentedRaftLog:OPENED:c1,f2,i2, conf=0: [s0:0.0.0.0:42611, s1:0.0.0.0:39575, s2:0.0.0.0:34382], old=null RUNNING
	at org.apache.ratis.MiniRaftCluster.newIllegalStateExceptionForNoLeaders(MiniRaftCluster.java:506)
	at org.apache.ratis.RaftTestUtil.lambda$waitForLeader$1(RaftTestUtil.java:90)
	at org.apache.ratis.MiniRaftCluster.getLeader(MiniRaftCluster.java:539)
	at org.apache.ratis.MiniRaftCluster.getLeader(MiniRaftCluster.java:532)
	at org.apache.ratis.RaftTestUtil.lambda$waitForLeader$3(RaftTestUtil.java:98)
	at org.apache.ratis.util.JavaUtils.attempt(JavaUtils.java:152)
	at org.apache.ratis.RaftTestUtil.waitForLeader(RaftTestUtil.java:97)
	at org.apache.ratis.RaftTestUtil.waitForLeader(RaftTestUtil.java:77)
	at org.apache.ratis.RaftTestUtil.waitForLeader(RaftTestUtil.java:72)
	at org.apache.ratis.server.impl.RaftStateMachineExceptionTests.runTestRetryOnExceptionDuringReplication(RaftStateMachineExceptionTests.java:166)
	at org.apache.ratis.MiniRaftCluster$Factory$Get.runWithNewCluster(MiniRaftCluster.java:125)
	at org.apache.ratis.MiniRaftCluster$Factory$Get.runWithNewCluster(MiniRaftCluster.java:113)
	at org.apache.ratis.server.impl.RaftStateMachineExceptionTests.testRetryOnExceptionDuringReplication(RaftStateMachineExceptionTests.java:145)
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.lang.reflect.Method.invoke(Method.java:498)
	at org.junit.runners.model.FrameworkMethod$1.runReflectiveCall(FrameworkMethod.java:50)
	at org.junit.internal.runners.model.ReflectiveCallable.run(ReflectiveCallable.java:12)
	at org.junit.runners.model.FrameworkMethod.invokeExplosively(FrameworkMethod.java:47)
	at org.junit.internal.runners.statements.InvokeMethod.evaluate(InvokeMethod.java:17)
	at org.junit.internal.runners.statements.RunAfters.evaluate(RunAfters.java:27)
	at org.junit.internal.runners.statements.FailOnTimeout$CallableStatement.call(FailOnTimeout.java:298)
	at org.junit.internal.runners.statements.FailOnTimeout$CallableStatement.call(FailOnTimeout.java:292)
	at java.util.concurrent.FutureTask.run(FutureTask.java:266)
	at java.lang.Thread.run(Thread.java:748)
2019-09-24 16:58:23,843 INFO  impl.FollowerState (FollowerState.java:run(108)) - s1@group-09A0EF6A68F4-FollowerState: change to CANDIDATE, lastRpcTime:169ms, electionTimeout:169ms
2019-09-24 16:58:23,843 INFO  impl.RoleInfo (RoleInfo.java:shutdownFollowerState(121)) - s1: shutdown FollowerState
2019-09-24 16:58:23,843 INFO  impl.RaftServerImpl (RaftServerImpl.java:setRole(170)) - s1@group-09A0EF6A68F4: changes role from  FOLLOWER to CANDIDATE at term 67 for changeToCandidate
2019-09-24 16:58:23,843 INFO  impl.RoleInfo (RoleInfo.java:updateAndGet(143)) - s1: start LeaderElection
2019-09-24 16:58:23,934 INFO  impl.FollowerState (FollowerState.java:run(108)) - s2@group-09A0EF6A68F4-FollowerState: change to CANDIDATE, lastRpcTime:260ms, electionTimeout:260ms
2019-09-24 16:58:23,935 INFO  impl.RoleInfo (RoleInfo.java:shutdownFollowerState(121)) - s2: shutdown FollowerState
2019-09-24 16:58:23,935 INFO  impl.RaftServerImpl (RaftServerImpl.java:setRole(170)) - s2@group-09A0EF6A68F4: changes role from  FOLLOWER to CANDIDATE at term 67 for changeToCandidate
2019-09-24 16:58:23,935 INFO  impl.RoleInfo (RoleInfo.java:updateAndGet(143)) - s2: start LeaderElection
2019-09-24 16:58:23,973 INFO  impl.FollowerState (FollowerState.java:run(108)) - s0@group-09A0EF6A68F4-FollowerState: change to CANDIDATE, lastRpcTime:299ms, electionTimeout:299ms
2019-09-24 16:58:23,973 INFO  impl.RoleInfo (RoleInfo.java:shutdownFollowerState(121)) - s0: shutdown FollowerState
2019-09-24 16:58:23,973 INFO  impl.RaftServerImpl (RaftServerImpl.java:setRole(170)) - s0@group-09A0EF6A68F4: changes role from  FOLLOWER to CANDIDATE at term 67 for changeToCandidate
2019-09-24 16:58:23,974 INFO  impl.RoleInfo (RoleInfo.java:updateAndGet(143)) - s0: start LeaderElection
2019-09-24 16:58:24,174 WARN  ratis.RaftTestUtil (JavaUtils.java:attempt(158)) - FAILED "waitForLeader-null-(expectLeader? true)", attempt #53/100: java.lang.IllegalStateException: No leader yet : printing ALL groups
  s0:  RUNNING CANDIDATE s0@group-09A0EF6A68F4:t68, leader=null, voted=s0, raftlog=s0@group-09A0EF6A68F4-SegmentedRaftLog:OPENED:c1,f2,i2, conf=0: [s0:0.0.0.0:42611, s1:0.0.0.0:39575, s2:0.0.0.0:34382], old=null RUNNING
  s1:  RUNNING CANDIDATE s1@group-09A0EF6A68F4:t68, leader=null, voted=s1, raftlog=s1@group-09A0EF6A68F4-SegmentedRaftLog:OPENED:c1,f2,i2, conf=0: [s0:0.0.0.0:42611, s1:0.0.0.0:39575, s2:0.0.0.0:34382], old=null RUNNING
  s2:  RUNNING CANDIDATE s2@group-09A0EF6A68F4:t68, leader=null, voted=s2, raftlog=s2@group-09A0EF6A68F4-SegmentedRaftLog:OPENED:c1,f2,i2, conf=0: [s0:0.0.0.0:42611, s1:0.0.0.0:39575, s2:0.0.0.0:34382], old=null RUNNING, sleep 450ms and then retry.
java.lang.IllegalStateException: No leader yet : printing ALL groups
  s0:  RUNNING CANDIDATE s0@group-09A0EF6A68F4:t68, leader=null, voted=s0, raftlog=s0@group-09A0EF6A68F4-SegmentedRaftLog:OPENED:c1,f2,i2, conf=0: [s0:0.0.0.0:42611, s1:0.0.0.0:39575, s2:0.0.0.0:34382], old=null RUNNING
  s1:  RUNNING CANDIDATE s1@group-09A0EF6A68F4:t68, leader=null, voted=s1, raftlog=s1@group-09A0EF6A68F4-SegmentedRaftLog:OPENED:c1,f2,i2, conf=0: [s0:0.0.0.0:42611, s1:0.0.0.0:39575, s2:0.0.0.0:34382], old=null RUNNING
  s2:  RUNNING CANDIDATE s2@group-09A0EF6A68F4:t68, leader=null, voted=s2, raftlog=s2@group-09A0EF6A68F4-SegmentedRaftLog:OPENED:c1,f2,i2, conf=0: [s0:0.0.0.0:42611, s1:0.0.0.0:39575, s2:0.0.0.0:34382], old=null RUNNING
	at org.apache.ratis.MiniRaftCluster.newIllegalStateExceptionForNoLeaders(MiniRaftCluster.java:506)
	at org.apache.ratis.RaftTestUtil.lambda$waitForLeader$1(RaftTestUtil.java:90)
	at org.apache.ratis.MiniRaftCluster.getLeader(MiniRaftCluster.java:539)
	at org.apache.ratis.MiniRaftCluster.getLeader(MiniRaftCluster.java:532)
	at org.apache.ratis.RaftTestUtil.lambda$waitForLeader$3(RaftTestUtil.java:98)
	at org.apache.ratis.util.JavaUtils.attempt(JavaUtils.java:152)
	at org.apache.ratis.RaftTestUtil.waitForLeader(RaftTestUtil.java:97)
	at org.apache.ratis.RaftTestUtil.waitForLeader(RaftTestUtil.java:77)
	at org.apache.ratis.RaftTestUtil.waitForLeader(RaftTestUtil.java:72)
	at org.apache.ratis.server.impl.RaftStateMachineExceptionTests.runTestRetryOnExceptionDuringReplication(RaftStateMachineExceptionTests.java:166)
	at org.apache.ratis.MiniRaftCluster$Factory$Get.runWithNewCluster(MiniRaftCluster.java:125)
	at org.apache.ratis.MiniRaftCluster$Factory$Get.runWithNewCluster(MiniRaftCluster.java:113)
	at org.apache.ratis.server.impl.RaftStateMachineExceptionTests.testRetryOnExceptionDuringReplication(RaftStateMachineExceptionTests.java:145)
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.lang.reflect.Method.invoke(Method.java:498)
	at org.junit.runners.model.FrameworkMethod$1.runReflectiveCall(FrameworkMethod.java:50)
	at org.junit.internal.runners.model.ReflectiveCallable.run(ReflectiveCallable.java:12)
	at org.junit.runners.model.FrameworkMethod.invokeExplosively(FrameworkMethod.java:47)
	at org.junit.internal.runners.statements.InvokeMethod.evaluate(InvokeMethod.java:17)
	at org.junit.internal.runners.statements.RunAfters.evaluate(RunAfters.java:27)
	at org.junit.internal.runners.statements.FailOnTimeout$CallableStatement.call(FailOnTimeout.java:298)
	at org.junit.internal.runners.statements.FailOnTimeout$CallableStatement.call(FailOnTimeout.java:292)
	at java.util.concurrent.FutureTask.run(FutureTask.java:266)
	at java.lang.Thread.run(Thread.java:748)
2019-09-24 16:58:24,625 WARN  ratis.RaftTestUtil (JavaUtils.java:attempt(158)) - FAILED "waitForLeader-null-(expectLeader? true)", attempt #54/100: java.lang.IllegalStateException: No leader yet : printing ALL groups
  s0:  RUNNING CANDIDATE s0@group-09A0EF6A68F4:t68, leader=null, voted=s0, raftlog=s0@group-09A0EF6A68F4-SegmentedRaftLog:OPENED:c1,f2,i2, conf=0: [s0:0.0.0.0:42611, s1:0.0.0.0:39575, s2:0.0.0.0:34382], old=null RUNNING
  s1:  RUNNING CANDIDATE s1@group-09A0EF6A68F4:t68, leader=null, voted=s1, raftlog=s1@group-09A0EF6A68F4-SegmentedRaftLog:OPENED:c1,f2,i2, conf=0: [s0:0.0.0.0:42611, s1:0.0.0.0:39575, s2:0.0.0.0:34382], old=null RUNNING
  s2:  RUNNING CANDIDATE s2@group-09A0EF6A68F4:t68, leader=null, voted=s2, raftlog=s2@group-09A0EF6A68F4-SegmentedRaftLog:OPENED:c1,f2,i2, conf=0: [s0:0.0.0.0:42611, s1:0.0.0.0:39575, s2:0.0.0.0:34382], old=null RUNNING, sleep 450ms and then retry.
java.lang.IllegalStateException: No leader yet : printing ALL groups
  s0:  RUNNING CANDIDATE s0@group-09A0EF6A68F4:t68, leader=null, voted=s0, raftlog=s0@group-09A0EF6A68F4-SegmentedRaftLog:OPENED:c1,f2,i2, conf=0: [s0:0.0.0.0:42611, s1:0.0.0.0:39575, s2:0.0.0.0:34382], old=null RUNNING
  s1:  RUNNING CANDIDATE s1@group-09A0EF6A68F4:t68, leader=null, voted=s1, raftlog=s1@group-09A0EF6A68F4-SegmentedRaftLog:OPENED:c1,f2,i2, conf=0: [s0:0.0.0.0:42611, s1:0.0.0.0:39575, s2:0.0.0.0:34382], old=null RUNNING
  s2:  RUNNING CANDIDATE s2@group-09A0EF6A68F4:t68, leader=null, voted=s2, raftlog=s2@group-09A0EF6A68F4-SegmentedRaftLog:OPENED:c1,f2,i2, conf=0: [s0:0.0.0.0:42611, s1:0.0.0.0:39575, s2:0.0.0.0:34382], old=null RUNNING
	at org.apache.ratis.MiniRaftCluster.newIllegalStateExceptionForNoLeaders(MiniRaftCluster.java:506)
	at org.apache.ratis.RaftTestUtil.lambda$waitForLeader$1(RaftTestUtil.java:90)
	at org.apache.ratis.MiniRaftCluster.getLeader(MiniRaftCluster.java:539)
	at org.apache.ratis.MiniRaftCluster.getLeader(MiniRaftCluster.java:532)
	at org.apache.ratis.RaftTestUtil.lambda$waitForLeader$3(RaftTestUtil.java:98)
	at org.apache.ratis.util.JavaUtils.attempt(JavaUtils.java:152)
	at org.apache.ratis.RaftTestUtil.waitForLeader(RaftTestUtil.java:97)
	at org.apache.ratis.RaftTestUtil.waitForLeader(RaftTestUtil.java:77)
	at org.apache.ratis.RaftTestUtil.waitForLeader(RaftTestUtil.java:72)
	at org.apache.ratis.server.impl.RaftStateMachineExceptionTests.runTestRetryOnExceptionDuringReplication(RaftStateMachineExceptionTests.java:166)
	at org.apache.ratis.MiniRaftCluster$Factory$Get.runWithNewCluster(MiniRaftCluster.java:125)
	at org.apache.ratis.MiniRaftCluster$Factory$Get.runWithNewCluster(MiniRaftCluster.java:113)
	at org.apache.ratis.server.impl.RaftStateMachineExceptionTests.testRetryOnExceptionDuringReplication(RaftStateMachineExceptionTests.java:145)
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.lang.reflect.Method.invoke(Method.java:498)
	at org.junit.runners.model.FrameworkMethod$1.runReflectiveCall(FrameworkMethod.java:50)
	at org.junit.internal.runners.model.ReflectiveCallable.run(ReflectiveCallable.java:12)
	at org.junit.runners.model.FrameworkMethod.invokeExplosively(FrameworkMethod.java:47)
	at org.junit.internal.runners.statements.InvokeMethod.evaluate(InvokeMethod.java:17)
	at org.junit.internal.runners.statements.RunAfters.evaluate(RunAfters.java:27)
	at org.junit.internal.runners.statements.FailOnTimeout$CallableStatement.call(FailOnTimeout.java:298)
	at org.junit.internal.runners.statements.FailOnTimeout$CallableStatement.call(FailOnTimeout.java:292)
	at java.util.concurrent.FutureTask.run(FutureTask.java:266)
	at java.lang.Thread.run(Thread.java:748)
2019-09-24 16:58:25,078 WARN  ratis.RaftTestUtil (JavaUtils.java:attempt(158)) - FAILED "waitForLeader-null-(expectLeader? true)", attempt #55/100: java.lang.IllegalStateException: No leader yet : printing ALL groups
  s0:  RUNNING CANDIDATE s0@group-09A0EF6A68F4:t68, leader=null, voted=s0, raftlog=s0@group-09A0EF6A68F4-SegmentedRaftLog:OPENED:c1,f2,i2, conf=0: [s0:0.0.0.0:42611, s1:0.0.0.0:39575, s2:0.0.0.0:34382], old=null RUNNING
  s1:  RUNNING CANDIDATE s1@group-09A0EF6A68F4:t68, leader=null, voted=s1, raftlog=s1@group-09A0EF6A68F4-SegmentedRaftLog:OPENED:c1,f2,i2, conf=0: [s0:0.0.0.0:42611, s1:0.0.0.0:39575, s2:0.0.0.0:34382], old=null RUNNING
  s2:  RUNNING CANDIDATE s2@group-09A0EF6A68F4:t68, leader=null, voted=s2, raftlog=s2@group-09A0EF6A68F4-SegmentedRaftLog:OPENED:c1,f2,i2, conf=0: [s0:0.0.0.0:42611, s1:0.0.0.0:39575, s2:0.0.0.0:34382], old=null RUNNING, sleep 450ms and then retry.
java.lang.IllegalStateException: No leader yet : printing ALL groups
  s0:  RUNNING CANDIDATE s0@group-09A0EF6A68F4:t68, leader=null, voted=s0, raftlog=s0@group-09A0EF6A68F4-SegmentedRaftLog:OPENED:c1,f2,i2, conf=0: [s0:0.0.0.0:42611, s1:0.0.0.0:39575, s2:0.0.0.0:34382], old=null RUNNING
  s1:  RUNNING CANDIDATE s1@group-09A0EF6A68F4:t68, leader=null, voted=s1, raftlog=s1@group-09A0EF6A68F4-SegmentedRaftLog:OPENED:c1,f2,i2, conf=0: [s0:0.0.0.0:42611, s1:0.0.0.0:39575, s2:0.0.0.0:34382], old=null RUNNING
  s2:  RUNNING CANDIDATE s2@group-09A0EF6A68F4:t68, leader=null, voted=s2, raftlog=s2@group-09A0EF6A68F4-SegmentedRaftLog:OPENED:c1,f2,i2, conf=0: [s0:0.0.0.0:42611, s1:0.0.0.0:39575, s2:0.0.0.0:34382], old=null RUNNING
	at org.apache.ratis.MiniRaftCluster.newIllegalStateExceptionForNoLeaders(MiniRaftCluster.java:506)
	at org.apache.ratis.RaftTestUtil.lambda$waitForLeader$1(RaftTestUtil.java:90)
	at org.apache.ratis.MiniRaftCluster.getLeader(MiniRaftCluster.java:539)
	at org.apache.ratis.MiniRaftCluster.getLeader(MiniRaftCluster.java:532)
	at org.apache.ratis.RaftTestUtil.lambda$waitForLeader$3(RaftTestUtil.java:98)
	at org.apache.ratis.util.JavaUtils.attempt(JavaUtils.java:152)
	at org.apache.ratis.RaftTestUtil.waitForLeader(RaftTestUtil.java:97)
	at org.apache.ratis.RaftTestUtil.waitForLeader(RaftTestUtil.java:77)
	at org.apache.ratis.RaftTestUtil.waitForLeader(RaftTestUtil.java:72)
	at org.apache.ratis.server.impl.RaftStateMachineExceptionTests.runTestRetryOnExceptionDuringReplication(RaftStateMachineExceptionTests.java:166)
	at org.apache.ratis.MiniRaftCluster$Factory$Get.runWithNewCluster(MiniRaftCluster.java:125)
	at org.apache.ratis.MiniRaftCluster$Factory$Get.runWithNewCluster(MiniRaftCluster.java:113)
	at org.apache.ratis.server.impl.RaftStateMachineExceptionTests.testRetryOnExceptionDuringReplication(RaftStateMachineExceptionTests.java:145)
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.lang.reflect.Method.invoke(Method.java:498)
	at org.junit.runners.model.FrameworkMethod$1.runReflectiveCall(FrameworkMethod.java:50)
	at org.junit.internal.runners.model.ReflectiveCallable.run(ReflectiveCallable.java:12)
	at org.junit.runners.model.FrameworkMethod.invokeExplosively(FrameworkMethod.java:47)
	at org.junit.internal.runners.statements.InvokeMethod.evaluate(InvokeMethod.java:17)
	at org.junit.internal.runners.statements.RunAfters.evaluate(RunAfters.java:27)
	at org.junit.internal.runners.statements.FailOnTimeout$CallableStatement.call(FailOnTimeout.java:298)
	at org.junit.internal.runners.statements.FailOnTimeout$CallableStatement.call(FailOnTimeout.java:292)
	at java.util.concurrent.FutureTask.run(FutureTask.java:266)
	at java.lang.Thread.run(Thread.java:748)
2019-09-24 16:58:25,529 WARN  ratis.RaftTestUtil (JavaUtils.java:attempt(158)) - FAILED "waitForLeader-null-(expectLeader? true)", attempt #56/100: java.lang.IllegalStateException: No leader yet : printing ALL groups
  s0:  RUNNING CANDIDATE s0@group-09A0EF6A68F4:t68, leader=null, voted=s0, raftlog=s0@group-09A0EF6A68F4-SegmentedRaftLog:OPENED:c1,f2,i2, conf=0: [s0:0.0.0.0:42611, s1:0.0.0.0:39575, s2:0.0.0.0:34382], old=null RUNNING
  s1:  RUNNING CANDIDATE s1@group-09A0EF6A68F4:t68, leader=null, voted=s1, raftlog=s1@group-09A0EF6A68F4-SegmentedRaftLog:OPENED:c1,f2,i2, conf=0: [s0:0.0.0.0:42611, s1:0.0.0.0:39575, s2:0.0.0.0:34382], old=null RUNNING
  s2:  RUNNING CANDIDATE s2@group-09A0EF6A68F4:t68, leader=null, voted=s2, raftlog=s2@group-09A0EF6A68F4-SegmentedRaftLog:OPENED:c1,f2,i2, conf=0: [s0:0.0.0.0:42611, s1:0.0.0.0:39575, s2:0.0.0.0:34382], old=null RUNNING, sleep 450ms and then retry.
java.lang.IllegalStateException: No leader yet : printing ALL groups
  s0:  RUNNING CANDIDATE s0@group-09A0EF6A68F4:t68, leader=null, voted=s0, raftlog=s0@group-09A0EF6A68F4-SegmentedRaftLog:OPENED:c1,f2,i2, conf=0: [s0:0.0.0.0:42611, s1:0.0.0.0:39575, s2:0.0.0.0:34382], old=null RUNNING
  s1:  RUNNING CANDIDATE s1@group-09A0EF6A68F4:t68, leader=null, voted=s1, raftlog=s1@group-09A0EF6A68F4-SegmentedRaftLog:OPENED:c1,f2,i2, conf=0: [s0:0.0.0.0:42611, s1:0.0.0.0:39575, s2:0.0.0.0:34382], old=null RUNNING
  s2:  RUNNING CANDIDATE s2@group-09A0EF6A68F4:t68, leader=null, voted=s2, raftlog=s2@group-09A0EF6A68F4-SegmentedRaftLog:OPENED:c1,f2,i2, conf=0: [s0:0.0.0.0:42611, s1:0.0.0.0:39575, s2:0.0.0.0:34382], old=null RUNNING
	at org.apache.ratis.MiniRaftCluster.newIllegalStateExceptionForNoLeaders(MiniRaftCluster.java:506)
	at org.apache.ratis.RaftTestUtil.lambda$waitForLeader$1(RaftTestUtil.java:90)
	at org.apache.ratis.MiniRaftCluster.getLeader(MiniRaftCluster.java:539)
	at org.apache.ratis.MiniRaftCluster.getLeader(MiniRaftCluster.java:532)
	at org.apache.ratis.RaftTestUtil.lambda$waitForLeader$3(RaftTestUtil.java:98)
	at org.apache.ratis.util.JavaUtils.attempt(JavaUtils.java:152)
	at org.apache.ratis.RaftTestUtil.waitForLeader(RaftTestUtil.java:97)
	at org.apache.ratis.RaftTestUtil.waitForLeader(RaftTestUtil.java:77)
	at org.apache.ratis.RaftTestUtil.waitForLeader(RaftTestUtil.java:72)
	at org.apache.ratis.server.impl.RaftStateMachineExceptionTests.runTestRetryOnExceptionDuringReplication(RaftStateMachineExceptionTests.java:166)
	at org.apache.ratis.MiniRaftCluster$Factory$Get.runWithNewCluster(MiniRaftCluster.java:125)
	at org.apache.ratis.MiniRaftCluster$Factory$Get.runWithNewCluster(MiniRaftCluster.java:113)
	at org.apache.ratis.server.impl.RaftStateMachineExceptionTests.testRetryOnExceptionDuringReplication(RaftStateMachineExceptionTests.java:145)
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.lang.reflect.Method.invoke(Method.java:498)
	at org.junit.runners.model.FrameworkMethod$1.runReflectiveCall(FrameworkMethod.java:50)
	at org.junit.internal.runners.model.ReflectiveCallable.run(ReflectiveCallable.java:12)
	at org.junit.runners.model.FrameworkMethod.invokeExplosively(FrameworkMethod.java:47)
	at org.junit.internal.runners.statements.InvokeMethod.evaluate(InvokeMethod.java:17)
	at org.junit.internal.runners.statements.RunAfters.evaluate(RunAfters.java:27)
	at org.junit.internal.runners.statements.FailOnTimeout$CallableStatement.call(FailOnTimeout.java:298)
	at org.junit.internal.runners.statements.FailOnTimeout$CallableStatement.call(FailOnTimeout.java:292)
	at java.util.concurrent.FutureTask.run(FutureTask.java:266)
	at java.lang.Thread.run(Thread.java:748)
2019-09-24 16:58:25,981 WARN  ratis.RaftTestUtil (JavaUtils.java:attempt(158)) - FAILED "waitForLeader-null-(expectLeader? true)", attempt #57/100: java.lang.IllegalStateException: No leader yet : printing ALL groups
  s0:  RUNNING CANDIDATE s0@group-09A0EF6A68F4:t68, leader=null, voted=s0, raftlog=s0@group-09A0EF6A68F4-SegmentedRaftLog:OPENED:c1,f2,i2, conf=0: [s0:0.0.0.0:42611, s1:0.0.0.0:39575, s2:0.0.0.0:34382], old=null RUNNING
  s1:  RUNNING CANDIDATE s1@group-09A0EF6A68F4:t68, leader=null, voted=s1, raftlog=s1@group-09A0EF6A68F4-SegmentedRaftLog:OPENED:c1,f2,i2, conf=0: [s0:0.0.0.0:42611, s1:0.0.0.0:39575, s2:0.0.0.0:34382], old=null RUNNING
  s2:  RUNNING CANDIDATE s2@group-09A0EF6A68F4:t68, leader=null, voted=s2, raftlog=s2@group-09A0EF6A68F4-SegmentedRaftLog:OPENED:c1,f2,i2, conf=0: [s0:0.0.0.0:42611, s1:0.0.0.0:39575, s2:0.0.0.0:34382], old=null RUNNING, sleep 450ms and then retry.
java.lang.IllegalStateException: No leader yet : printing ALL groups
  s0:  RUNNING CANDIDATE s0@group-09A0EF6A68F4:t68, leader=null, voted=s0, raftlog=s0@group-09A0EF6A68F4-SegmentedRaftLog:OPENED:c1,f2,i2, conf=0: [s0:0.0.0.0:42611, s1:0.0.0.0:39575, s2:0.0.0.0:34382], old=null RUNNING
  s1:  RUNNING CANDIDATE s1@group-09A0EF6A68F4:t68, leader=null, voted=s1, raftlog=s1@group-09A0EF6A68F4-SegmentedRaftLog:OPENED:c1,f2,i2, conf=0: [s0:0.0.0.0:42611, s1:0.0.0.0:39575, s2:0.0.0.0:34382], old=null RUNNING
  s2:  RUNNING CANDIDATE s2@group-09A0EF6A68F4:t68, leader=null, voted=s2, raftlog=s2@group-09A0EF6A68F4-SegmentedRaftLog:OPENED:c1,f2,i2, conf=0: [s0:0.0.0.0:42611, s1:0.0.0.0:39575, s2:0.0.0.0:34382], old=null RUNNING
	at org.apache.ratis.MiniRaftCluster.newIllegalStateExceptionForNoLeaders(MiniRaftCluster.java:506)
	at org.apache.ratis.RaftTestUtil.lambda$waitForLeader$1(RaftTestUtil.java:90)
	at org.apache.ratis.MiniRaftCluster.getLeader(MiniRaftCluster.java:539)
	at org.apache.ratis.MiniRaftCluster.getLeader(MiniRaftCluster.java:532)
	at org.apache.ratis.RaftTestUtil.lambda$waitForLeader$3(RaftTestUtil.java:98)
	at org.apache.ratis.util.JavaUtils.attempt(JavaUtils.java:152)
	at org.apache.ratis.RaftTestUtil.waitForLeader(RaftTestUtil.java:97)
	at org.apache.ratis.RaftTestUtil.waitForLeader(RaftTestUtil.java:77)
	at org.apache.ratis.RaftTestUtil.waitForLeader(RaftTestUtil.java:72)
	at org.apache.ratis.server.impl.RaftStateMachineExceptionTests.runTestRetryOnExceptionDuringReplication(RaftStateMachineExceptionTests.java:166)
	at org.apache.ratis.MiniRaftCluster$Factory$Get.runWithNewCluster(MiniRaftCluster.java:125)
	at org.apache.ratis.MiniRaftCluster$Factory$Get.runWithNewCluster(MiniRaftCluster.java:113)
	at org.apache.ratis.server.impl.RaftStateMachineExceptionTests.testRetryOnExceptionDuringReplication(RaftStateMachineExceptionTests.java:145)
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.lang.reflect.Method.invoke(Method.java:498)
	at org.junit.runners.model.FrameworkMethod$1.runReflectiveCall(FrameworkMethod.java:50)
	at org.junit.internal.runners.model.ReflectiveCallable.run(ReflectiveCallable.java:12)
	at org.junit.runners.model.FrameworkMethod.invokeExplosively(FrameworkMethod.java:47)
	at org.junit.internal.runners.statements.InvokeMethod.evaluate(InvokeMethod.java:17)
	at org.junit.internal.runners.statements.RunAfters.evaluate(RunAfters.java:27)
	at org.junit.internal.runners.statements.FailOnTimeout$CallableStatement.call(FailOnTimeout.java:298)
	at org.junit.internal.runners.statements.FailOnTimeout$CallableStatement.call(FailOnTimeout.java:292)
	at java.util.concurrent.FutureTask.run(FutureTask.java:266)
	at java.lang.Thread.run(Thread.java:748)
2019-09-24 16:58:26,432 WARN  ratis.RaftTestUtil (JavaUtils.java:attempt(158)) - FAILED "waitForLeader-null-(expectLeader? true)", attempt #58/100: java.lang.IllegalStateException: No leader yet : printing ALL groups
  s0:  RUNNING CANDIDATE s0@group-09A0EF6A68F4:t68, leader=null, voted=s0, raftlog=s0@group-09A0EF6A68F4-SegmentedRaftLog:OPENED:c1,f2,i2, conf=0: [s0:0.0.0.0:42611, s1:0.0.0.0:39575, s2:0.0.0.0:34382], old=null RUNNING
  s1:  RUNNING CANDIDATE s1@group-09A0EF6A68F4:t68, leader=null, voted=s1, raftlog=s1@group-09A0EF6A68F4-SegmentedRaftLog:OPENED:c1,f2,i2, conf=0: [s0:0.0.0.0:42611, s1:0.0.0.0:39575, s2:0.0.0.0:34382], old=null RUNNING
  s2:  RUNNING CANDIDATE s2@group-09A0EF6A68F4:t68, leader=null, voted=s2, raftlog=s2@group-09A0EF6A68F4-SegmentedRaftLog:OPENED:c1,f2,i2, conf=0: [s0:0.0.0.0:42611, s1:0.0.0.0:39575, s2:0.0.0.0:34382], old=null RUNNING, sleep 450ms and then retry.
java.lang.IllegalStateException: No leader yet : printing ALL groups
  s0:  RUNNING CANDIDATE s0@group-09A0EF6A68F4:t68, leader=null, voted=s0, raftlog=s0@group-09A0EF6A68F4-SegmentedRaftLog:OPENED:c1,f2,i2, conf=0: [s0:0.0.0.0:42611, s1:0.0.0.0:39575, s2:0.0.0.0:34382], old=null RUNNING
  s1:  RUNNING CANDIDATE s1@group-09A0EF6A68F4:t68, leader=null, voted=s1, raftlog=s1@group-09A0EF6A68F4-SegmentedRaftLog:OPENED:c1,f2,i2, conf=0: [s0:0.0.0.0:42611, s1:0.0.0.0:39575, s2:0.0.0.0:34382], old=null RUNNING
  s2:  RUNNING CANDIDATE s2@group-09A0EF6A68F4:t68, leader=null, voted=s2, raftlog=s2@group-09A0EF6A68F4-SegmentedRaftLog:OPENED:c1,f2,i2, conf=0: [s0:0.0.0.0:42611, s1:0.0.0.0:39575, s2:0.0.0.0:34382], old=null RUNNING
	at org.apache.ratis.MiniRaftCluster.newIllegalStateExceptionForNoLeaders(MiniRaftCluster.java:506)
	at org.apache.ratis.RaftTestUtil.lambda$waitForLeader$1(RaftTestUtil.java:90)
	at org.apache.ratis.MiniRaftCluster.getLeader(MiniRaftCluster.java:539)
	at org.apache.ratis.MiniRaftCluster.getLeader(MiniRaftCluster.java:532)
	at org.apache.ratis.RaftTestUtil.lambda$waitForLeader$3(RaftTestUtil.java:98)
	at org.apache.ratis.util.JavaUtils.attempt(JavaUtils.java:152)
	at org.apache.ratis.RaftTestUtil.waitForLeader(RaftTestUtil.java:97)
	at org.apache.ratis.RaftTestUtil.waitForLeader(RaftTestUtil.java:77)
	at org.apache.ratis.RaftTestUtil.waitForLeader(RaftTestUtil.java:72)
	at org.apache.ratis.server.impl.RaftStateMachineExceptionTests.runTestRetryOnExceptionDuringReplication(RaftStateMachineExceptionTests.java:166)
	at org.apache.ratis.MiniRaftCluster$Factory$Get.runWithNewCluster(MiniRaftCluster.java:125)
	at org.apache.ratis.MiniRaftCluster$Factory$Get.runWithNewCluster(MiniRaftCluster.java:113)
	at org.apache.ratis.server.impl.RaftStateMachineExceptionTests.testRetryOnExceptionDuringReplication(RaftStateMachineExceptionTests.java:145)
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.lang.reflect.Method.invoke(Method.java:498)
	at org.junit.runners.model.FrameworkMethod$1.runReflectiveCall(FrameworkMethod.java:50)
	at org.junit.internal.runners.model.ReflectiveCallable.run(ReflectiveCallable.java:12)
	at org.junit.runners.model.FrameworkMethod.invokeExplosively(FrameworkMethod.java:47)
	at org.junit.internal.runners.statements.InvokeMethod.evaluate(InvokeMethod.java:17)
	at org.junit.internal.runners.statements.RunAfters.evaluate(RunAfters.java:27)
	at org.junit.internal.runners.statements.FailOnTimeout$CallableStatement.call(FailOnTimeout.java:298)
	at org.junit.internal.runners.statements.FailOnTimeout$CallableStatement.call(FailOnTimeout.java:292)
	at java.util.concurrent.FutureTask.run(FutureTask.java:266)
	at java.lang.Thread.run(Thread.java:748)
2019-09-24 16:58:26,883 WARN  ratis.RaftTestUtil (JavaUtils.java:attempt(158)) - FAILED "waitForLeader-null-(expectLeader? true)", attempt #59/100: java.lang.IllegalStateException: No leader yet : printing ALL groups
  s0:  RUNNING CANDIDATE s0@group-09A0EF6A68F4:t68, leader=null, voted=s0, raftlog=s0@group-09A0EF6A68F4-SegmentedRaftLog:OPENED:c1,f2,i2, conf=0: [s0:0.0.0.0:42611, s1:0.0.0.0:39575, s2:0.0.0.0:34382], old=null RUNNING
  s1:  RUNNING CANDIDATE s1@group-09A0EF6A68F4:t68, leader=null, voted=s1, raftlog=s1@group-09A0EF6A68F4-SegmentedRaftLog:OPENED:c1,f2,i2, conf=0: [s0:0.0.0.0:42611, s1:0.0.0.0:39575, s2:0.0.0.0:34382], old=null RUNNING
  s2:  RUNNING CANDIDATE s2@group-09A0EF6A68F4:t68, leader=null, voted=s2, raftlog=s2@group-09A0EF6A68F4-SegmentedRaftLog:OPENED:c1,f2,i2, conf=0: [s0:0.0.0.0:42611, s1:0.0.0.0:39575, s2:0.0.0.0:34382], old=null RUNNING, sleep 450ms and then retry.
java.lang.IllegalStateException: No leader yet : printing ALL groups
  s0:  RUNNING CANDIDATE s0@group-09A0EF6A68F4:t68, leader=null, voted=s0, raftlog=s0@group-09A0EF6A68F4-SegmentedRaftLog:OPENED:c1,f2,i2, conf=0: [s0:0.0.0.0:42611, s1:0.0.0.0:39575, s2:0.0.0.0:34382], old=null RUNNING
  s1:  RUNNING CANDIDATE s1@group-09A0EF6A68F4:t68, leader=null, voted=s1, raftlog=s1@group-09A0EF6A68F4-SegmentedRaftLog:OPENED:c1,f2,i2, conf=0: [s0:0.0.0.0:42611, s1:0.0.0.0:39575, s2:0.0.0.0:34382], old=null RUNNING
  s2:  RUNNING CANDIDATE s2@group-09A0EF6A68F4:t68, leader=null, voted=s2, raftlog=s2@group-09A0EF6A68F4-SegmentedRaftLog:OPENED:c1,f2,i2, conf=0: [s0:0.0.0.0:42611, s1:0.0.0.0:39575, s2:0.0.0.0:34382], old=null RUNNING
	at org.apache.ratis.MiniRaftCluster.newIllegalStateExceptionForNoLeaders(MiniRaftCluster.java:506)
	at org.apache.ratis.RaftTestUtil.lambda$waitForLeader$1(RaftTestUtil.java:90)
	at org.apache.ratis.MiniRaftCluster.getLeader(MiniRaftCluster.java:539)
	at org.apache.ratis.MiniRaftCluster.getLeader(MiniRaftCluster.java:532)
	at org.apache.ratis.RaftTestUtil.lambda$waitForLeader$3(RaftTestUtil.java:98)
	at org.apache.ratis.util.JavaUtils.attempt(JavaUtils.java:152)
	at org.apache.ratis.RaftTestUtil.waitForLeader(RaftTestUtil.java:97)
	at org.apache.ratis.RaftTestUtil.waitForLeader(RaftTestUtil.java:77)
	at org.apache.ratis.RaftTestUtil.waitForLeader(RaftTestUtil.java:72)
	at org.apache.ratis.server.impl.RaftStateMachineExceptionTests.runTestRetryOnExceptionDuringReplication(RaftStateMachineExceptionTests.java:166)
	at org.apache.ratis.MiniRaftCluster$Factory$Get.runWithNewCluster(MiniRaftCluster.java:125)
	at org.apache.ratis.MiniRaftCluster$Factory$Get.runWithNewCluster(MiniRaftCluster.java:113)
	at org.apache.ratis.server.impl.RaftStateMachineExceptionTests.testRetryOnExceptionDuringReplication(RaftStateMachineExceptionTests.java:145)
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.lang.reflect.Method.invoke(Method.java:498)
	at org.junit.runners.model.FrameworkMethod$1.runReflectiveCall(FrameworkMethod.java:50)
	at org.junit.internal.runners.model.ReflectiveCallable.run(ReflectiveCallable.java:12)
	at org.junit.runners.model.FrameworkMethod.invokeExplosively(FrameworkMethod.java:47)
	at org.junit.internal.runners.statements.InvokeMethod.evaluate(InvokeMethod.java:17)
	at org.junit.internal.runners.statements.RunAfters.evaluate(RunAfters.java:27)
	at org.junit.internal.runners.statements.FailOnTimeout$CallableStatement.call(FailOnTimeout.java:298)
	at org.junit.internal.runners.statements.FailOnTimeout$CallableStatement.call(FailOnTimeout.java:292)
	at java.util.concurrent.FutureTask.run(FutureTask.java:266)
	at java.lang.Thread.run(Thread.java:748)
2019-09-24 16:58:27,335 WARN  ratis.RaftTestUtil (JavaUtils.java:attempt(158)) - FAILED "waitForLeader-null-(expectLeader? true)", attempt #60/100: java.lang.IllegalStateException: No leader yet : printing ALL groups
  s0:  RUNNING CANDIDATE s0@group-09A0EF6A68F4:t68, leader=null, voted=s0, raftlog=s0@group-09A0EF6A68F4-SegmentedRaftLog:OPENED:c1,f2,i2, conf=0: [s0:0.0.0.0:42611, s1:0.0.0.0:39575, s2:0.0.0.0:34382], old=null RUNNING
  s1:  RUNNING CANDIDATE s1@group-09A0EF6A68F4:t68, leader=null, voted=s1, raftlog=s1@group-09A0EF6A68F4-SegmentedRaftLog:OPENED:c1,f2,i2, conf=0: [s0:0.0.0.0:42611, s1:0.0.0.0:39575, s2:0.0.0.0:34382], old=null RUNNING
  s2:  RUNNING CANDIDATE s2@group-09A0EF6A68F4:t68, leader=null, voted=s2, raftlog=s2@group-09A0EF6A68F4-SegmentedRaftLog:OPENED:c1,f2,i2, conf=0: [s0:0.0.0.0:42611, s1:0.0.0.0:39575, s2:0.0.0.0:34382], old=null RUNNING, sleep 450ms and then retry.
java.lang.IllegalStateException: No leader yet : printing ALL groups
  s0:  RUNNING CANDIDATE s0@group-09A0EF6A68F4:t68, leader=null, voted=s0, raftlog=s0@group-09A0EF6A68F4-SegmentedRaftLog:OPENED:c1,f2,i2, conf=0: [s0:0.0.0.0:42611, s1:0.0.0.0:39575, s2:0.0.0.0:34382], old=null RUNNING
  s1:  RUNNING CANDIDATE s1@group-09A0EF6A68F4:t68, leader=null, voted=s1, raftlog=s1@group-09A0EF6A68F4-SegmentedRaftLog:OPENED:c1,f2,i2, conf=0: [s0:0.0.0.0:42611, s1:0.0.0.0:39575, s2:0.0.0.0:34382], old=null RUNNING
  s2:  RUNNING CANDIDATE s2@group-09A0EF6A68F4:t68, leader=null, voted=s2, raftlog=s2@group-09A0EF6A68F4-SegmentedRaftLog:OPENED:c1,f2,i2, conf=0: [s0:0.0.0.0:42611, s1:0.0.0.0:39575, s2:0.0.0.0:34382], old=null RUNNING
	at org.apache.ratis.MiniRaftCluster.newIllegalStateExceptionForNoLeaders(MiniRaftCluster.java:506)
	at org.apache.ratis.RaftTestUtil.lambda$waitForLeader$1(RaftTestUtil.java:90)
	at org.apache.ratis.MiniRaftCluster.getLeader(MiniRaftCluster.java:539)
	at org.apache.ratis.MiniRaftCluster.getLeader(MiniRaftCluster.java:532)
	at org.apache.ratis.RaftTestUtil.lambda$waitForLeader$3(RaftTestUtil.java:98)
	at org.apache.ratis.util.JavaUtils.attempt(JavaUtils.java:152)
	at org.apache.ratis.RaftTestUtil.waitForLeader(RaftTestUtil.java:97)
	at org.apache.ratis.RaftTestUtil.waitForLeader(RaftTestUtil.java:77)
	at org.apache.ratis.RaftTestUtil.waitForLeader(RaftTestUtil.java:72)
	at org.apache.ratis.server.impl.RaftStateMachineExceptionTests.runTestRetryOnExceptionDuringReplication(RaftStateMachineExceptionTests.java:166)
	at org.apache.ratis.MiniRaftCluster$Factory$Get.runWithNewCluster(MiniRaftCluster.java:125)
	at org.apache.ratis.MiniRaftCluster$Factory$Get.runWithNewCluster(MiniRaftCluster.java:113)
	at org.apache.ratis.server.impl.RaftStateMachineExceptionTests.testRetryOnExceptionDuringReplication(RaftStateMachineExceptionTests.java:145)
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.lang.reflect.Method.invoke(Method.java:498)
	at org.junit.runners.model.FrameworkMethod$1.runReflectiveCall(FrameworkMethod.java:50)
	at org.junit.internal.runners.model.ReflectiveCallable.run(ReflectiveCallable.java:12)
	at org.junit.runners.model.FrameworkMethod.invokeExplosively(FrameworkMethod.java:47)
	at org.junit.internal.runners.statements.InvokeMethod.evaluate(InvokeMethod.java:17)
	at org.junit.internal.runners.statements.RunAfters.evaluate(RunAfters.java:27)
	at org.junit.internal.runners.statements.FailOnTimeout$CallableStatement.call(FailOnTimeout.java:298)
	at org.junit.internal.runners.statements.FailOnTimeout$CallableStatement.call(FailOnTimeout.java:292)
	at java.util.concurrent.FutureTask.run(FutureTask.java:266)
	at java.lang.Thread.run(Thread.java:748)
2019-09-24 16:58:27,786 WARN  ratis.RaftTestUtil (JavaUtils.java:attempt(158)) - FAILED "waitForLeader-null-(expectLeader? true)", attempt #61/100: java.lang.IllegalStateException: No leader yet : printing ALL groups
  s0:  RUNNING CANDIDATE s0@group-09A0EF6A68F4:t68, leader=null, voted=s0, raftlog=s0@group-09A0EF6A68F4-SegmentedRaftLog:OPENED:c1,f2,i2, conf=0: [s0:0.0.0.0:42611, s1:0.0.0.0:39575, s2:0.0.0.0:34382], old=null RUNNING
  s1:  RUNNING CANDIDATE s1@group-09A0EF6A68F4:t68, leader=null, voted=s1, raftlog=s1@group-09A0EF6A68F4-SegmentedRaftLog:OPENED:c1,f2,i2, conf=0: [s0:0.0.0.0:42611, s1:0.0.0.0:39575, s2:0.0.0.0:34382], old=null RUNNING
  s2:  RUNNING CANDIDATE s2@group-09A0EF6A68F4:t68, leader=null, voted=s2, raftlog=s2@group-09A0EF6A68F4-SegmentedRaftLog:OPENED:c1,f2,i2, conf=0: [s0:0.0.0.0:42611, s1:0.0.0.0:39575, s2:0.0.0.0:34382], old=null RUNNING, sleep 450ms and then retry.
java.lang.IllegalStateException: No leader yet : printing ALL groups
  s0:  RUNNING CANDIDATE s0@group-09A0EF6A68F4:t68, leader=null, voted=s0, raftlog=s0@group-09A0EF6A68F4-SegmentedRaftLog:OPENED:c1,f2,i2, conf=0: [s0:0.0.0.0:42611, s1:0.0.0.0:39575, s2:0.0.0.0:34382], old=null RUNNING
  s1:  RUNNING CANDIDATE s1@group-09A0EF6A68F4:t68, leader=null, voted=s1, raftlog=s1@group-09A0EF6A68F4-SegmentedRaftLog:OPENED:c1,f2,i2, conf=0: [s0:0.0.0.0:42611, s1:0.0.0.0:39575, s2:0.0.0.0:34382], old=null RUNNING
  s2:  RUNNING CANDIDATE s2@group-09A0EF6A68F4:t68, leader=null, voted=s2, raftlog=s2@group-09A0EF6A68F4-SegmentedRaftLog:OPENED:c1,f2,i2, conf=0: [s0:0.0.0.0:42611, s1:0.0.0.0:39575, s2:0.0.0.0:34382], old=null RUNNING
	at org.apache.ratis.MiniRaftCluster.newIllegalStateExceptionForNoLeaders(MiniRaftCluster.java:506)
	at org.apache.ratis.RaftTestUtil.lambda$waitForLeader$1(RaftTestUtil.java:90)
	at org.apache.ratis.MiniRaftCluster.getLeader(MiniRaftCluster.java:539)
	at org.apache.ratis.MiniRaftCluster.getLeader(MiniRaftCluster.java:532)
	at org.apache.ratis.RaftTestUtil.lambda$waitForLeader$3(RaftTestUtil.java:98)
	at org.apache.ratis.util.JavaUtils.attempt(JavaUtils.java:152)
	at org.apache.ratis.RaftTestUtil.waitForLeader(RaftTestUtil.java:97)
	at org.apache.ratis.RaftTestUtil.waitForLeader(RaftTestUtil.java:77)
	at org.apache.ratis.RaftTestUtil.waitForLeader(RaftTestUtil.java:72)
	at org.apache.ratis.server.impl.RaftStateMachineExceptionTests.runTestRetryOnExceptionDuringReplication(RaftStateMachineExceptionTests.java:166)
	at org.apache.ratis.MiniRaftCluster$Factory$Get.runWithNewCluster(MiniRaftCluster.java:125)
	at org.apache.ratis.MiniRaftCluster$Factory$Get.runWithNewCluster(MiniRaftCluster.java:113)
	at org.apache.ratis.server.impl.RaftStateMachineExceptionTests.testRetryOnExceptionDuringReplication(RaftStateMachineExceptionTests.java:145)
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.lang.reflect.Method.invoke(Method.java:498)
	at org.junit.runners.model.FrameworkMethod$1.runReflectiveCall(FrameworkMethod.java:50)
	at org.junit.internal.runners.model.ReflectiveCallable.run(ReflectiveCallable.java:12)
	at org.junit.runners.model.FrameworkMethod.invokeExplosively(FrameworkMethod.java:47)
	at org.junit.internal.runners.statements.InvokeMethod.evaluate(InvokeMethod.java:17)
	at org.junit.internal.runners.statements.RunAfters.evaluate(RunAfters.java:27)
	at org.junit.internal.runners.statements.FailOnTimeout$CallableStatement.call(FailOnTimeout.java:298)
	at org.junit.internal.runners.statements.FailOnTimeout$CallableStatement.call(FailOnTimeout.java:292)
	at java.util.concurrent.FutureTask.run(FutureTask.java:266)
	at java.lang.Thread.run(Thread.java:748)
2019-09-24 16:58:28,237 WARN  ratis.RaftTestUtil (JavaUtils.java:attempt(158)) - FAILED "waitForLeader-null-(expectLeader? true)", attempt #62/100: java.lang.IllegalStateException: No leader yet : printing ALL groups
  s0:  RUNNING CANDIDATE s0@group-09A0EF6A68F4:t68, leader=null, voted=s0, raftlog=s0@group-09A0EF6A68F4-SegmentedRaftLog:OPENED:c1,f2,i2, conf=0: [s0:0.0.0.0:42611, s1:0.0.0.0:39575, s2:0.0.0.0:34382], old=null RUNNING
  s1:  RUNNING CANDIDATE s1@group-09A0EF6A68F4:t68, leader=null, voted=s1, raftlog=s1@group-09A0EF6A68F4-SegmentedRaftLog:OPENED:c1,f2,i2, conf=0: [s0:0.0.0.0:42611, s1:0.0.0.0:39575, s2:0.0.0.0:34382], old=null RUNNING
  s2:  RUNNING CANDIDATE s2@group-09A0EF6A68F4:t68, leader=null, voted=s2, raftlog=s2@group-09A0EF6A68F4-SegmentedRaftLog:OPENED:c1,f2,i2, conf=0: [s0:0.0.0.0:42611, s1:0.0.0.0:39575, s2:0.0.0.0:34382], old=null RUNNING, sleep 450ms and then retry.
java.lang.IllegalStateException: No leader yet : printing ALL groups
  s0:  RUNNING CANDIDATE s0@group-09A0EF6A68F4:t68, leader=null, voted=s0, raftlog=s0@group-09A0EF6A68F4-SegmentedRaftLog:OPENED:c1,f2,i2, conf=0: [s0:0.0.0.0:42611, s1:0.0.0.0:39575, s2:0.0.0.0:34382], old=null RUNNING
  s1:  RUNNING CANDIDATE s1@group-09A0EF6A68F4:t68, leader=null, voted=s1, raftlog=s1@group-09A0EF6A68F4-SegmentedRaftLog:OPENED:c1,f2,i2, conf=0: [s0:0.0.0.0:42611, s1:0.0.0.0:39575, s2:0.0.0.0:34382], old=null RUNNING
  s2:  RUNNING CANDIDATE s2@group-09A0EF6A68F4:t68, leader=null, voted=s2, raftlog=s2@group-09A0EF6A68F4-SegmentedRaftLog:OPENED:c1,f2,i2, conf=0: [s0:0.0.0.0:42611, s1:0.0.0.0:39575, s2:0.0.0.0:34382], old=null RUNNING
	at org.apache.ratis.MiniRaftCluster.newIllegalStateExceptionForNoLeaders(MiniRaftCluster.java:506)
	at org.apache.ratis.RaftTestUtil.lambda$waitForLeader$1(RaftTestUtil.java:90)
	at org.apache.ratis.MiniRaftCluster.getLeader(MiniRaftCluster.java:539)
	at org.apache.ratis.MiniRaftCluster.getLeader(MiniRaftCluster.java:532)
	at org.apache.ratis.RaftTestUtil.lambda$waitForLeader$3(RaftTestUtil.java:98)
	at org.apache.ratis.util.JavaUtils.attempt(JavaUtils.java:152)
	at org.apache.ratis.RaftTestUtil.waitForLeader(RaftTestUtil.java:97)
	at org.apache.ratis.RaftTestUtil.waitForLeader(RaftTestUtil.java:77)
	at org.apache.ratis.RaftTestUtil.waitForLeader(RaftTestUtil.java:72)
	at org.apache.ratis.server.impl.RaftStateMachineExceptionTests.runTestRetryOnExceptionDuringReplication(RaftStateMachineExceptionTests.java:166)
	at org.apache.ratis.MiniRaftCluster$Factory$Get.runWithNewCluster(MiniRaftCluster.java:125)
	at org.apache.ratis.MiniRaftCluster$Factory$Get.runWithNewCluster(MiniRaftCluster.java:113)
	at org.apache.ratis.server.impl.RaftStateMachineExceptionTests.testRetryOnExceptionDuringReplication(RaftStateMachineExceptionTests.java:145)
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.lang.reflect.Method.invoke(Method.java:498)
	at org.junit.runners.model.FrameworkMethod$1.runReflectiveCall(FrameworkMethod.java:50)
	at org.junit.internal.runners.model.ReflectiveCallable.run(ReflectiveCallable.java:12)
	at org.junit.runners.model.FrameworkMethod.invokeExplosively(FrameworkMethod.java:47)
	at org.junit.internal.runners.statements.InvokeMethod.evaluate(InvokeMethod.java:17)
	at org.junit.internal.runners.statements.RunAfters.evaluate(RunAfters.java:27)
	at org.junit.internal.runners.statements.FailOnTimeout$CallableStatement.call(FailOnTimeout.java:298)
	at org.junit.internal.runners.statements.FailOnTimeout$CallableStatement.call(FailOnTimeout.java:292)
	at java.util.concurrent.FutureTask.run(FutureTask.java:266)
	at java.lang.Thread.run(Thread.java:748)
2019-09-24 16:58:28,689 WARN  ratis.RaftTestUtil (JavaUtils.java:attempt(158)) - FAILED "waitForLeader-null-(expectLeader? true)", attempt #63/100: java.lang.IllegalStateException: No leader yet : printing ALL groups
  s0:  RUNNING CANDIDATE s0@group-09A0EF6A68F4:t68, leader=null, voted=s0, raftlog=s0@group-09A0EF6A68F4-SegmentedRaftLog:OPENED:c1,f2,i2, conf=0: [s0:0.0.0.0:42611, s1:0.0.0.0:39575, s2:0.0.0.0:34382], old=null RUNNING
  s1:  RUNNING CANDIDATE s1@group-09A0EF6A68F4:t68, leader=null, voted=s1, raftlog=s1@group-09A0EF6A68F4-SegmentedRaftLog:OPENED:c1,f2,i2, conf=0: [s0:0.0.0.0:42611, s1:0.0.0.0:39575, s2:0.0.0.0:34382], old=null RUNNING
  s2:  RUNNING CANDIDATE s2@group-09A0EF6A68F4:t68, leader=null, voted=s2, raftlog=s2@group-09A0EF6A68F4-SegmentedRaftLog:OPENED:c1,f2,i2, conf=0: [s0:0.0.0.0:42611, s1:0.0.0.0:39575, s2:0.0.0.0:34382], old=null RUNNING, sleep 450ms and then retry.
java.lang.IllegalStateException: No leader yet : printing ALL groups
  s0:  RUNNING CANDIDATE s0@group-09A0EF6A68F4:t68, leader=null, voted=s0, raftlog=s0@group-09A0EF6A68F4-SegmentedRaftLog:OPENED:c1,f2,i2, conf=0: [s0:0.0.0.0:42611, s1:0.0.0.0:39575, s2:0.0.0.0:34382], old=null RUNNING
  s1:  RUNNING CANDIDATE s1@group-09A0EF6A68F4:t68, leader=null, voted=s1, raftlog=s1@group-09A0EF6A68F4-SegmentedRaftLog:OPENED:c1,f2,i2, conf=0: [s0:0.0.0.0:42611, s1:0.0.0.0:39575, s2:0.0.0.0:34382], old=null RUNNING
  s2:  RUNNING CANDIDATE s2@group-09A0EF6A68F4:t68, leader=null, voted=s2, raftlog=s2@group-09A0EF6A68F4-SegmentedRaftLog:OPENED:c1,f2,i2, conf=0: [s0:0.0.0.0:42611, s1:0.0.0.0:39575, s2:0.0.0.0:34382], old=null RUNNING
	at org.apache.ratis.MiniRaftCluster.newIllegalStateExceptionForNoLeaders(MiniRaftCluster.java:506)
	at org.apache.ratis.RaftTestUtil.lambda$waitForLeader$1(RaftTestUtil.java:90)
	at org.apache.ratis.MiniRaftCluster.getLeader(MiniRaftCluster.java:539)
	at org.apache.ratis.MiniRaftCluster.getLeader(MiniRaftCluster.java:532)
	at org.apache.ratis.RaftTestUtil.lambda$waitForLeader$3(RaftTestUtil.java:98)
	at org.apache.ratis.util.JavaUtils.attempt(JavaUtils.java:152)
	at org.apache.ratis.RaftTestUtil.waitForLeader(RaftTestUtil.java:97)
	at org.apache.ratis.RaftTestUtil.waitForLeader(RaftTestUtil.java:77)
	at org.apache.ratis.RaftTestUtil.waitForLeader(RaftTestUtil.java:72)
	at org.apache.ratis.server.impl.RaftStateMachineExceptionTests.runTestRetryOnExceptionDuringReplication(RaftStateMachineExceptionTests.java:166)
	at org.apache.ratis.MiniRaftCluster$Factory$Get.runWithNewCluster(MiniRaftCluster.java:125)
	at org.apache.ratis.MiniRaftCluster$Factory$Get.runWithNewCluster(MiniRaftCluster.java:113)
	at org.apache.ratis.server.impl.RaftStateMachineExceptionTests.testRetryOnExceptionDuringReplication(RaftStateMachineExceptionTests.java:145)
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.lang.reflect.Method.invoke(Method.java:498)
	at org.junit.runners.model.FrameworkMethod$1.runReflectiveCall(FrameworkMethod.java:50)
	at org.junit.internal.runners.model.ReflectiveCallable.run(ReflectiveCallable.java:12)
	at org.junit.runners.model.FrameworkMethod.invokeExplosively(FrameworkMethod.java:47)
	at org.junit.internal.runners.statements.InvokeMethod.evaluate(InvokeMethod.java:17)
	at org.junit.internal.runners.statements.RunAfters.evaluate(RunAfters.java:27)
	at org.junit.internal.runners.statements.FailOnTimeout$CallableStatement.call(FailOnTimeout.java:298)
	at org.junit.internal.runners.statements.FailOnTimeout$CallableStatement.call(FailOnTimeout.java:292)
	at java.util.concurrent.FutureTask.run(FutureTask.java:266)
	at java.lang.Thread.run(Thread.java:748)
2019-09-24 16:58:29,141 WARN  ratis.RaftTestUtil (JavaUtils.java:attempt(158)) - FAILED "waitForLeader-null-(expectLeader? true)", attempt #64/100: java.lang.IllegalStateException: No leader yet : printing ALL groups
  s0:  RUNNING CANDIDATE s0@group-09A0EF6A68F4:t68, leader=null, voted=s0, raftlog=s0@group-09A0EF6A68F4-SegmentedRaftLog:OPENED:c1,f2,i2, conf=0: [s0:0.0.0.0:42611, s1:0.0.0.0:39575, s2:0.0.0.0:34382], old=null RUNNING
  s1:  RUNNING CANDIDATE s1@group-09A0EF6A68F4:t68, leader=null, voted=s1, raftlog=s1@group-09A0EF6A68F4-SegmentedRaftLog:OPENED:c1,f2,i2, conf=0: [s0:0.0.0.0:42611, s1:0.0.0.0:39575, s2:0.0.0.0:34382], old=null RUNNING
  s2:  RUNNING CANDIDATE s2@group-09A0EF6A68F4:t68, leader=null, voted=s2, raftlog=s2@group-09A0EF6A68F4-SegmentedRaftLog:OPENED:c1,f2,i2, conf=0: [s0:0.0.0.0:42611, s1:0.0.0.0:39575, s2:0.0.0.0:34382], old=null RUNNING, sleep 450ms and then retry.
java.lang.IllegalStateException: No leader yet : printing ALL groups
  s0:  RUNNING CANDIDATE s0@group-09A0EF6A68F4:t68, leader=null, voted=s0, raftlog=s0@group-09A0EF6A68F4-SegmentedRaftLog:OPENED:c1,f2,i2, conf=0: [s0:0.0.0.0:42611, s1:0.0.0.0:39575, s2:0.0.0.0:34382], old=null RUNNING
  s1:  RUNNING CANDIDATE s1@group-09A0EF6A68F4:t68, leader=null, voted=s1, raftlog=s1@group-09A0EF6A68F4-SegmentedRaftLog:OPENED:c1,f2,i2, conf=0: [s0:0.0.0.0:42611, s1:0.0.0.0:39575, s2:0.0.0.0:34382], old=null RUNNING
  s2:  RUNNING CANDIDATE s2@group-09A0EF6A68F4:t68, leader=null, voted=s2, raftlog=s2@group-09A0EF6A68F4-SegmentedRaftLog:OPENED:c1,f2,i2, conf=0: [s0:0.0.0.0:42611, s1:0.0.0.0:39575, s2:0.0.0.0:34382], old=null RUNNING
	at org.apache.ratis.MiniRaftCluster.newIllegalStateExceptionForNoLeaders(MiniRaftCluster.java:506)
	at org.apache.ratis.RaftTestUtil.lambda$waitForLeader$1(RaftTestUtil.java:90)
	at org.apache.ratis.MiniRaftCluster.getLeader(MiniRaftCluster.java:539)
	at org.apache.ratis.MiniRaftCluster.getLeader(MiniRaftCluster.java:532)
	at org.apache.ratis.RaftTestUtil.lambda$waitForLeader$3(RaftTestUtil.java:98)
	at org.apache.ratis.util.JavaUtils.attempt(JavaUtils.java:152)
	at org.apache.ratis.RaftTestUtil.waitForLeader(RaftTestUtil.java:97)
	at org.apache.ratis.RaftTestUtil.waitForLeader(RaftTestUtil.java:77)
	at org.apache.ratis.RaftTestUtil.waitForLeader(RaftTestUtil.java:72)
	at org.apache.ratis.server.impl.RaftStateMachineExceptionTests.runTestRetryOnExceptionDuringReplication(RaftStateMachineExceptionTests.java:166)
	at org.apache.ratis.MiniRaftCluster$Factory$Get.runWithNewCluster(MiniRaftCluster.java:125)
	at org.apache.ratis.MiniRaftCluster$Factory$Get.runWithNewCluster(MiniRaftCluster.java:113)
	at org.apache.ratis.server.impl.RaftStateMachineExceptionTests.testRetryOnExceptionDuringReplication(RaftStateMachineExceptionTests.java:145)
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.lang.reflect.Method.invoke(Method.java:498)
	at org.junit.runners.model.FrameworkMethod$1.runReflectiveCall(FrameworkMethod.java:50)
	at org.junit.internal.runners.model.ReflectiveCallable.run(ReflectiveCallable.java:12)
	at org.junit.runners.model.FrameworkMethod.invokeExplosively(FrameworkMethod.java:47)
	at org.junit.internal.runners.statements.InvokeMethod.evaluate(InvokeMethod.java:17)
	at org.junit.internal.runners.statements.RunAfters.evaluate(RunAfters.java:27)
	at org.junit.internal.runners.statements.FailOnTimeout$CallableStatement.call(FailOnTimeout.java:298)
	at org.junit.internal.runners.statements.FailOnTimeout$CallableStatement.call(FailOnTimeout.java:292)
	at java.util.concurrent.FutureTask.run(FutureTask.java:266)
	at java.lang.Thread.run(Thread.java:748)
2019-09-24 16:58:29,592 WARN  ratis.RaftTestUtil (JavaUtils.java:attempt(158)) - FAILED "waitForLeader-null-(expectLeader? true)", attempt #65/100: java.lang.IllegalStateException: No leader yet : printing ALL groups
  s0:  RUNNING CANDIDATE s0@group-09A0EF6A68F4:t68, leader=null, voted=s0, raftlog=s0@group-09A0EF6A68F4-SegmentedRaftLog:OPENED:c1,f2,i2, conf=0: [s0:0.0.0.0:42611, s1:0.0.0.0:39575, s2:0.0.0.0:34382], old=null RUNNING
  s1:  RUNNING CANDIDATE s1@group-09A0EF6A68F4:t68, leader=null, voted=s1, raftlog=s1@group-09A0EF6A68F4-SegmentedRaftLog:OPENED:c1,f2,i2, conf=0: [s0:0.0.0.0:42611, s1:0.0.0.0:39575, s2:0.0.0.0:34382], old=null RUNNING
  s2:  RUNNING CANDIDATE s2@group-09A0EF6A68F4:t68, leader=null, voted=s2, raftlog=s2@group-09A0EF6A68F4-SegmentedRaftLog:OPENED:c1,f2,i2, conf=0: [s0:0.0.0.0:42611, s1:0.0.0.0:39575, s2:0.0.0.0:34382], old=null RUNNING, sleep 450ms and then retry.
java.lang.IllegalStateException: No leader yet : printing ALL groups
  s0:  RUNNING CANDIDATE s0@group-09A0EF6A68F4:t68, leader=null, voted=s0, raftlog=s0@group-09A0EF6A68F4-SegmentedRaftLog:OPENED:c1,f2,i2, conf=0: [s0:0.0.0.0:42611, s1:0.0.0.0:39575, s2:0.0.0.0:34382], old=null RUNNING
  s1:  RUNNING CANDIDATE s1@group-09A0EF6A68F4:t68, leader=null, voted=s1, raftlog=s1@group-09A0EF6A68F4-SegmentedRaftLog:OPENED:c1,f2,i2, conf=0: [s0:0.0.0.0:42611, s1:0.0.0.0:39575, s2:0.0.0.0:34382], old=null RUNNING
  s2:  RUNNING CANDIDATE s2@group-09A0EF6A68F4:t68, leader=null, voted=s2, raftlog=s2@group-09A0EF6A68F4-SegmentedRaftLog:OPENED:c1,f2,i2, conf=0: [s0:0.0.0.0:42611, s1:0.0.0.0:39575, s2:0.0.0.0:34382], old=null RUNNING
	at org.apache.ratis.MiniRaftCluster.newIllegalStateExceptionForNoLeaders(MiniRaftCluster.java:506)
	at org.apache.ratis.RaftTestUtil.lambda$waitForLeader$1(RaftTestUtil.java:90)
	at org.apache.ratis.MiniRaftCluster.getLeader(MiniRaftCluster.java:539)
	at org.apache.ratis.MiniRaftCluster.getLeader(MiniRaftCluster.java:532)
	at org.apache.ratis.RaftTestUtil.lambda$waitForLeader$3(RaftTestUtil.java:98)
	at org.apache.ratis.util.JavaUtils.attempt(JavaUtils.java:152)
	at org.apache.ratis.RaftTestUtil.waitForLeader(RaftTestUtil.java:97)
	at org.apache.ratis.RaftTestUtil.waitForLeader(RaftTestUtil.java:77)
	at org.apache.ratis.RaftTestUtil.waitForLeader(RaftTestUtil.java:72)
	at org.apache.ratis.server.impl.RaftStateMachineExceptionTests.runTestRetryOnExceptionDuringReplication(RaftStateMachineExceptionTests.java:166)
	at org.apache.ratis.MiniRaftCluster$Factory$Get.runWithNewCluster(MiniRaftCluster.java:125)
	at org.apache.ratis.MiniRaftCluster$Factory$Get.runWithNewCluster(MiniRaftCluster.java:113)
	at org.apache.ratis.server.impl.RaftStateMachineExceptionTests.testRetryOnExceptionDuringReplication(RaftStateMachineExceptionTests.java:145)
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.lang.reflect.Method.invoke(Method.java:498)
	at org.junit.runners.model.FrameworkMethod$1.runReflectiveCall(FrameworkMethod.java:50)
	at org.junit.internal.runners.model.ReflectiveCallable.run(ReflectiveCallable.java:12)
	at org.junit.runners.model.FrameworkMethod.invokeExplosively(FrameworkMethod.java:47)
	at org.junit.internal.runners.statements.InvokeMethod.evaluate(InvokeMethod.java:17)
	at org.junit.internal.runners.statements.RunAfters.evaluate(RunAfters.java:27)
	at org.junit.internal.runners.statements.FailOnTimeout$CallableStatement.call(FailOnTimeout.java:298)
	at org.junit.internal.runners.statements.FailOnTimeout$CallableStatement.call(FailOnTimeout.java:292)
	at java.util.concurrent.FutureTask.run(FutureTask.java:266)
	at java.lang.Thread.run(Thread.java:748)
2019-09-24 16:58:30,043 WARN  ratis.RaftTestUtil (JavaUtils.java:attempt(158)) - FAILED "waitForLeader-null-(expectLeader? true)", attempt #66/100: java.lang.IllegalStateException: No leader yet : printing ALL groups
  s0:  RUNNING CANDIDATE s0@group-09A0EF6A68F4:t68, leader=null, voted=s0, raftlog=s0@group-09A0EF6A68F4-SegmentedRaftLog:OPENED:c1,f2,i2, conf=0: [s0:0.0.0.0:42611, s1:0.0.0.0:39575, s2:0.0.0.0:34382], old=null RUNNING
  s1:  RUNNING CANDIDATE s1@group-09A0EF6A68F4:t68, leader=null, voted=s1, raftlog=s1@group-09A0EF6A68F4-SegmentedRaftLog:OPENED:c1,f2,i2, conf=0: [s0:0.0.0.0:42611, s1:0.0.0.0:39575, s2:0.0.0.0:34382], old=null RUNNING
  s2:  RUNNING CANDIDATE s2@group-09A0EF6A68F4:t68, leader=null, voted=s2, raftlog=s2@group-09A0EF6A68F4-SegmentedRaftLog:OPENED:c1,f2,i2, conf=0: [s0:0.0.0.0:42611, s1:0.0.0.0:39575, s2:0.0.0.0:34382], old=null RUNNING, sleep 450ms and then retry.
java.lang.IllegalStateException: No leader yet : printing ALL groups
  s0:  RUNNING CANDIDATE s0@group-09A0EF6A68F4:t68, leader=null, voted=s0, raftlog=s0@group-09A0EF6A68F4-SegmentedRaftLog:OPENED:c1,f2,i2, conf=0: [s0:0.0.0.0:42611, s1:0.0.0.0:39575, s2:0.0.0.0:34382], old=null RUNNING
  s1:  RUNNING CANDIDATE s1@group-09A0EF6A68F4:t68, leader=null, voted=s1, raftlog=s1@group-09A0EF6A68F4-SegmentedRaftLog:OPENED:c1,f2,i2, conf=0: [s0:0.0.0.0:42611, s1:0.0.0.0:39575, s2:0.0.0.0:34382], old=null RUNNING
  s2:  RUNNING CANDIDATE s2@group-09A0EF6A68F4:t68, leader=null, voted=s2, raftlog=s2@group-09A0EF6A68F4-SegmentedRaftLog:OPENED:c1,f2,i2, conf=0: [s0:0.0.0.0:42611, s1:0.0.0.0:39575, s2:0.0.0.0:34382], old=null RUNNING
	at org.apache.ratis.MiniRaftCluster.newIllegalStateExceptionForNoLeaders(MiniRaftCluster.java:506)
	at org.apache.ratis.RaftTestUtil.lambda$waitForLeader$1(RaftTestUtil.java:90)
	at org.apache.ratis.MiniRaftCluster.getLeader(MiniRaftCluster.java:539)
	at org.apache.ratis.MiniRaftCluster.getLeader(MiniRaftCluster.java:532)
	at org.apache.ratis.RaftTestUtil.lambda$waitForLeader$3(RaftTestUtil.java:98)
	at org.apache.ratis.util.JavaUtils.attempt(JavaUtils.java:152)
	at org.apache.ratis.RaftTestUtil.waitForLeader(RaftTestUtil.java:97)
	at org.apache.ratis.RaftTestUtil.waitForLeader(RaftTestUtil.java:77)
	at org.apache.ratis.RaftTestUtil.waitForLeader(RaftTestUtil.java:72)
	at org.apache.ratis.server.impl.RaftStateMachineExceptionTests.runTestRetryOnExceptionDuringReplication(RaftStateMachineExceptionTests.java:166)
	at org.apache.ratis.MiniRaftCluster$Factory$Get.runWithNewCluster(MiniRaftCluster.java:125)
	at org.apache.ratis.MiniRaftCluster$Factory$Get.runWithNewCluster(MiniRaftCluster.java:113)
	at org.apache.ratis.server.impl.RaftStateMachineExceptionTests.testRetryOnExceptionDuringReplication(RaftStateMachineExceptionTests.java:145)
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.lang.reflect.Method.invoke(Method.java:498)
	at org.junit.runners.model.FrameworkMethod$1.runReflectiveCall(FrameworkMethod.java:50)
	at org.junit.internal.runners.model.ReflectiveCallable.run(ReflectiveCallable.java:12)
	at org.junit.runners.model.FrameworkMethod.invokeExplosively(FrameworkMethod.java:47)
	at org.junit.internal.runners.statements.InvokeMethod.evaluate(InvokeMethod.java:17)
	at org.junit.internal.runners.statements.RunAfters.evaluate(RunAfters.java:27)
	at org.junit.internal.runners.statements.FailOnTimeout$CallableStatement.call(FailOnTimeout.java:298)
	at org.junit.internal.runners.statements.FailOnTimeout$CallableStatement.call(FailOnTimeout.java:292)
	at java.util.concurrent.FutureTask.run(FutureTask.java:266)
	at java.lang.Thread.run(Thread.java:748)
2019-09-24 16:58:30,127 INFO  ratis.MiniRaftCluster (MiniRaftCluster.java:lambda$null$5(297)) - TIMED-PRINT: printing ALL groups
  s0:  RUNNING CANDIDATE s0@group-09A0EF6A68F4:t68, leader=null, voted=s0, raftlog=s0@group-09A0EF6A68F4-SegmentedRaftLog:OPENED:c1,f2,i2, conf=0: [s0:0.0.0.0:42611, s1:0.0.0.0:39575, s2:0.0.0.0:34382], old=null RUNNING
  s1:  RUNNING CANDIDATE s1@group-09A0EF6A68F4:t68, leader=null, voted=s1, raftlog=s1@group-09A0EF6A68F4-SegmentedRaftLog:OPENED:c1,f2,i2, conf=0: [s0:0.0.0.0:42611, s1:0.0.0.0:39575, s2:0.0.0.0:34382], old=null RUNNING
  s2:  RUNNING CANDIDATE s2@group-09A0EF6A68F4:t68, leader=null, voted=s2, raftlog=s2@group-09A0EF6A68F4-SegmentedRaftLog:OPENED:c1,f2,i2, conf=0: [s0:0.0.0.0:42611, s1:0.0.0.0:39575, s2:0.0.0.0:34382], old=null RUNNING
2019-09-24 16:58:30,495 WARN  ratis.RaftTestUtil (JavaUtils.java:attempt(158)) - FAILED "waitForLeader-null-(expectLeader? true)", attempt #67/100: java.lang.IllegalStateException: No leader yet : printing ALL groups
  s0:  RUNNING CANDIDATE s0@group-09A0EF6A68F4:t68, leader=null, voted=s0, raftlog=s0@group-09A0EF6A68F4-SegmentedRaftLog:OPENED:c1,f2,i2, conf=0: [s0:0.0.0.0:42611, s1:0.0.0.0:39575, s2:0.0.0.0:34382], old=null RUNNING
  s1:  RUNNING CANDIDATE s1@group-09A0EF6A68F4:t68, leader=null, voted=s1, raftlog=s1@group-09A0EF6A68F4-SegmentedRaftLog:OPENED:c1,f2,i2, conf=0: [s0:0.0.0.0:42611, s1:0.0.0.0:39575, s2:0.0.0.0:34382], old=null RUNNING
  s2:  RUNNING CANDIDATE s2@group-09A0EF6A68F4:t68, leader=null, voted=s2, raftlog=s2@group-09A0EF6A68F4-SegmentedRaftLog:OPENED:c1,f2,i2, conf=0: [s0:0.0.0.0:42611, s1:0.0.0.0:39575, s2:0.0.0.0:34382], old=null RUNNING, sleep 450ms and then retry.
java.lang.IllegalStateException: No leader yet : printing ALL groups
  s0:  RUNNING CANDIDATE s0@group-09A0EF6A68F4:t68, leader=null, voted=s0, raftlog=s0@group-09A0EF6A68F4-SegmentedRaftLog:OPENED:c1,f2,i2, conf=0: [s0:0.0.0.0:42611, s1:0.0.0.0:39575, s2:0.0.0.0:34382], old=null RUNNING
  s1:  RUNNING CANDIDATE s1@group-09A0EF6A68F4:t68, leader=null, voted=s1, raftlog=s1@group-09A0EF6A68F4-SegmentedRaftLog:OPENED:c1,f2,i2, conf=0: [s0:0.0.0.0:42611, s1:0.0.0.0:39575, s2:0.0.0.0:34382], old=null RUNNING
  s2:  RUNNING CANDIDATE s2@group-09A0EF6A68F4:t68, leader=null, voted=s2, raftlog=s2@group-09A0EF6A68F4-SegmentedRaftLog:OPENED:c1,f2,i2, conf=0: [s0:0.0.0.0:42611, s1:0.0.0.0:39575, s2:0.0.0.0:34382], old=null RUNNING
	at org.apache.ratis.MiniRaftCluster.newIllegalStateExceptionForNoLeaders(MiniRaftCluster.java:506)
	at org.apache.ratis.RaftTestUtil.lambda$waitForLeader$1(RaftTestUtil.java:90)
	at org.apache.ratis.MiniRaftCluster.getLeader(MiniRaftCluster.java:539)
	at org.apache.ratis.MiniRaftCluster.getLeader(MiniRaftCluster.java:532)
	at org.apache.ratis.RaftTestUtil.lambda$waitForLeader$3(RaftTestUtil.java:98)
	at org.apache.ratis.util.JavaUtils.attempt(JavaUtils.java:152)
	at org.apache.ratis.RaftTestUtil.waitForLeader(RaftTestUtil.java:97)
	at org.apache.ratis.RaftTestUtil.waitForLeader(RaftTestUtil.java:77)
	at org.apache.ratis.RaftTestUtil.waitForLeader(RaftTestUtil.java:72)
	at org.apache.ratis.server.impl.RaftStateMachineExceptionTests.runTestRetryOnExceptionDuringReplication(RaftStateMachineExceptionTests.java:166)
	at org.apache.ratis.MiniRaftCluster$Factory$Get.runWithNewCluster(MiniRaftCluster.java:125)
	at org.apache.ratis.MiniRaftCluster$Factory$Get.runWithNewCluster(MiniRaftCluster.java:113)
	at org.apache.ratis.server.impl.RaftStateMachineExceptionTests.testRetryOnExceptionDuringReplication(RaftStateMachineExceptionTests.java:145)
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.lang.reflect.Method.invoke(Method.java:498)
	at org.junit.runners.model.FrameworkMethod$1.runReflectiveCall(FrameworkMethod.java:50)
	at org.junit.internal.runners.model.ReflectiveCallable.run(ReflectiveCallable.java:12)
	at org.junit.runners.model.FrameworkMethod.invokeExplosively(FrameworkMethod.java:47)
	at org.junit.internal.runners.statements.InvokeMethod.evaluate(InvokeMethod.java:17)
	at org.junit.internal.runners.statements.RunAfters.evaluate(RunAfters.java:27)
	at org.junit.internal.runners.statements.FailOnTimeout$CallableStatement.call(FailOnTimeout.java:298)
	at org.junit.internal.runners.statements.FailOnTimeout$CallableStatement.call(FailOnTimeout.java:292)
	at java.util.concurrent.FutureTask.run(FutureTask.java:266)
	at java.lang.Thread.run(Thread.java:748)
2019-09-24 16:58:30,946 WARN  ratis.RaftTestUtil (JavaUtils.java:attempt(158)) - FAILED "waitForLeader-null-(expectLeader? true)", attempt #68/100: java.lang.IllegalStateException: No leader yet : printing ALL groups
  s0:  RUNNING CANDIDATE s0@group-09A0EF6A68F4:t68, leader=null, voted=s0, raftlog=s0@group-09A0EF6A68F4-SegmentedRaftLog:OPENED:c1,f2,i2, conf=0: [s0:0.0.0.0:42611, s1:0.0.0.0:39575, s2:0.0.0.0:34382], old=null RUNNING
  s1:  RUNNING CANDIDATE s1@group-09A0EF6A68F4:t68, leader=null, voted=s1, raftlog=s1@group-09A0EF6A68F4-SegmentedRaftLog:OPENED:c1,f2,i2, conf=0: [s0:0.0.0.0:42611, s1:0.0.0.0:39575, s2:0.0.0.0:34382], old=null RUNNING
  s2:  RUNNING CANDIDATE s2@group-09A0EF6A68F4:t68, leader=null, voted=s2, raftlog=s2@group-09A0EF6A68F4-SegmentedRaftLog:OPENED:c1,f2,i2, conf=0: [s0:0.0.0.0:42611, s1:0.0.0.0:39575, s2:0.0.0.0:34382], old=null RUNNING, sleep 450ms and then retry.
java.lang.IllegalStateException: No leader yet : printing ALL groups
  s0:  RUNNING CANDIDATE s0@group-09A0EF6A68F4:t68, leader=null, voted=s0, raftlog=s0@group-09A0EF6A68F4-SegmentedRaftLog:OPENED:c1,f2,i2, conf=0: [s0:0.0.0.0:42611, s1:0.0.0.0:39575, s2:0.0.0.0:34382], old=null RUNNING
  s1:  RUNNING CANDIDATE s1@group-09A0EF6A68F4:t68, leader=null, voted=s1, raftlog=s1@group-09A0EF6A68F4-SegmentedRaftLog:OPENED:c1,f2,i2, conf=0: [s0:0.0.0.0:42611, s1:0.0.0.0:39575, s2:0.0.0.0:34382], old=null RUNNING
  s2:  RUNNING CANDIDATE s2@group-09A0EF6A68F4:t68, leader=null, voted=s2, raftlog=s2@group-09A0EF6A68F4-SegmentedRaftLog:OPENED:c1,f2,i2, conf=0: [s0:0.0.0.0:42611, s1:0.0.0.0:39575, s2:0.0.0.0:34382], old=null RUNNING
	at org.apache.ratis.MiniRaftCluster.newIllegalStateExceptionForNoLeaders(MiniRaftCluster.java:506)
	at org.apache.ratis.RaftTestUtil.lambda$waitForLeader$1(RaftTestUtil.java:90)
	at org.apache.ratis.MiniRaftCluster.getLeader(MiniRaftCluster.java:539)
	at org.apache.ratis.MiniRaftCluster.getLeader(MiniRaftCluster.java:532)
	at org.apache.ratis.RaftTestUtil.lambda$waitForLeader$3(RaftTestUtil.java:98)
	at org.apache.ratis.util.JavaUtils.attempt(JavaUtils.java:152)
	at org.apache.ratis.RaftTestUtil.waitForLeader(RaftTestUtil.java:97)
	at org.apache.ratis.RaftTestUtil.waitForLeader(RaftTestUtil.java:77)
	at org.apache.ratis.RaftTestUtil.waitForLeader(RaftTestUtil.java:72)
	at org.apache.ratis.server.impl.RaftStateMachineExceptionTests.runTestRetryOnExceptionDuringReplication(RaftStateMachineExceptionTests.java:166)
	at org.apache.ratis.MiniRaftCluster$Factory$Get.runWithNewCluster(MiniRaftCluster.java:125)
	at org.apache.ratis.MiniRaftCluster$Factory$Get.runWithNewCluster(MiniRaftCluster.java:113)
	at org.apache.ratis.server.impl.RaftStateMachineExceptionTests.testRetryOnExceptionDuringReplication(RaftStateMachineExceptionTests.java:145)
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.lang.reflect.Method.invoke(Method.java:498)
	at org.junit.runners.model.FrameworkMethod$1.runReflectiveCall(FrameworkMethod.java:50)
	at org.junit.internal.runners.model.ReflectiveCallable.run(ReflectiveCallable.java:12)
	at org.junit.runners.model.FrameworkMethod.invokeExplosively(FrameworkMethod.java:47)
	at org.junit.internal.runners.statements.InvokeMethod.evaluate(InvokeMethod.java:17)
	at org.junit.internal.runners.statements.RunAfters.evaluate(RunAfters.java:27)
	at org.junit.internal.runners.statements.FailOnTimeout$CallableStatement.call(FailOnTimeout.java:298)
	at org.junit.internal.runners.statements.FailOnTimeout$CallableStatement.call(FailOnTimeout.java:292)
	at java.util.concurrent.FutureTask.run(FutureTask.java:266)
	at java.lang.Thread.run(Thread.java:748)
2019-09-24 16:58:31,397 WARN  ratis.RaftTestUtil (JavaUtils.java:attempt(158)) - FAILED "waitForLeader-null-(expectLeader? true)", attempt #69/100: java.lang.IllegalStateException: No leader yet : printing ALL groups
  s0:  RUNNING CANDIDATE s0@group-09A0EF6A68F4:t68, leader=null, voted=s0, raftlog=s0@group-09A0EF6A68F4-SegmentedRaftLog:OPENED:c1,f2,i2, conf=0: [s0:0.0.0.0:42611, s1:0.0.0.0:39575, s2:0.0.0.0:34382], old=null RUNNING
  s1:  RUNNING CANDIDATE s1@group-09A0EF6A68F4:t68, leader=null, voted=s1, raftlog=s1@group-09A0EF6A68F4-SegmentedRaftLog:OPENED:c1,f2,i2, conf=0: [s0:0.0.0.0:42611, s1:0.0.0.0:39575, s2:0.0.0.0:34382], old=null RUNNING
  s2:  RUNNING CANDIDATE s2@group-09A0EF6A68F4:t68, leader=null, voted=s2, raftlog=s2@group-09A0EF6A68F4-SegmentedRaftLog:OPENED:c1,f2,i2, conf=0: [s0:0.0.0.0:42611, s1:0.0.0.0:39575, s2:0.0.0.0:34382], old=null RUNNING, sleep 450ms and then retry.
java.lang.IllegalStateException: No leader yet : printing ALL groups
  s0:  RUNNING CANDIDATE s0@group-09A0EF6A68F4:t68, leader=null, voted=s0, raftlog=s0@group-09A0EF6A68F4-SegmentedRaftLog:OPENED:c1,f2,i2, conf=0: [s0:0.0.0.0:42611, s1:0.0.0.0:39575, s2:0.0.0.0:34382], old=null RUNNING
  s1:  RUNNING CANDIDATE s1@group-09A0EF6A68F4:t68, leader=null, voted=s1, raftlog=s1@group-09A0EF6A68F4-SegmentedRaftLog:OPENED:c1,f2,i2, conf=0: [s0:0.0.0.0:42611, s1:0.0.0.0:39575, s2:0.0.0.0:34382], old=null RUNNING
  s2:  RUNNING CANDIDATE s2@group-09A0EF6A68F4:t68, leader=null, voted=s2, raftlog=s2@group-09A0EF6A68F4-SegmentedRaftLog:OPENED:c1,f2,i2, conf=0: [s0:0.0.0.0:42611, s1:0.0.0.0:39575, s2:0.0.0.0:34382], old=null RUNNING
	at org.apache.ratis.MiniRaftCluster.newIllegalStateExceptionForNoLeaders(MiniRaftCluster.java:506)
	at org.apache.ratis.RaftTestUtil.lambda$waitForLeader$1(RaftTestUtil.java:90)
	at org.apache.ratis.MiniRaftCluster.getLeader(MiniRaftCluster.java:539)
	at org.apache.ratis.MiniRaftCluster.getLeader(MiniRaftCluster.java:532)
	at org.apache.ratis.RaftTestUtil.lambda$waitForLeader$3(RaftTestUtil.java:98)
	at org.apache.ratis.util.JavaUtils.attempt(JavaUtils.java:152)
	at org.apache.ratis.RaftTestUtil.waitForLeader(RaftTestUtil.java:97)
	at org.apache.ratis.RaftTestUtil.waitForLeader(RaftTestUtil.java:77)
	at org.apache.ratis.RaftTestUtil.waitForLeader(RaftTestUtil.java:72)
	at org.apache.ratis.server.impl.RaftStateMachineExceptionTests.runTestRetryOnExceptionDuringReplication(RaftStateMachineExceptionTests.java:166)
	at org.apache.ratis.MiniRaftCluster$Factory$Get.runWithNewCluster(MiniRaftCluster.java:125)
	at org.apache.ratis.MiniRaftCluster$Factory$Get.runWithNewCluster(MiniRaftCluster.java:113)
	at org.apache.ratis.server.impl.RaftStateMachineExceptionTests.testRetryOnExceptionDuringReplication(RaftStateMachineExceptionTests.java:145)
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.lang.reflect.Method.invoke(Method.java:498)
	at org.junit.runners.model.FrameworkMethod$1.runReflectiveCall(FrameworkMethod.java:50)
	at org.junit.internal.runners.model.ReflectiveCallable.run(ReflectiveCallable.java:12)
	at org.junit.runners.model.FrameworkMethod.invokeExplosively(FrameworkMethod.java:47)
	at org.junit.internal.runners.statements.InvokeMethod.evaluate(InvokeMethod.java:17)
	at org.junit.internal.runners.statements.RunAfters.evaluate(RunAfters.java:27)
	at org.junit.internal.runners.statements.FailOnTimeout$CallableStatement.call(FailOnTimeout.java:298)
	at org.junit.internal.runners.statements.FailOnTimeout$CallableStatement.call(FailOnTimeout.java:292)
	at java.util.concurrent.FutureTask.run(FutureTask.java:266)
	at java.lang.Thread.run(Thread.java:748)
2019-09-24 16:58:31,849 WARN  ratis.RaftTestUtil (JavaUtils.java:attempt(158)) - FAILED "waitForLeader-null-(expectLeader? true)", attempt #70/100: java.lang.IllegalStateException: No leader yet : printing ALL groups
  s0:  RUNNING CANDIDATE s0@group-09A0EF6A68F4:t68, leader=null, voted=s0, raftlog=s0@group-09A0EF6A68F4-SegmentedRaftLog:OPENED:c1,f2,i2, conf=0: [s0:0.0.0.0:42611, s1:0.0.0.0:39575, s2:0.0.0.0:34382], old=null RUNNING
  s1:  RUNNING CANDIDATE s1@group-09A0EF6A68F4:t68, leader=null, voted=s1, raftlog=s1@group-09A0EF6A68F4-SegmentedRaftLog:OPENED:c1,f2,i2, conf=0: [s0:0.0.0.0:42611, s1:0.0.0.0:39575, s2:0.0.0.0:34382], old=null RUNNING
  s2:  RUNNING CANDIDATE s2@group-09A0EF6A68F4:t68, leader=null, voted=s2, raftlog=s2@group-09A0EF6A68F4-SegmentedRaftLog:OPENED:c1,f2,i2, conf=0: [s0:0.0.0.0:42611, s1:0.0.0.0:39575, s2:0.0.0.0:34382], old=null RUNNING, sleep 450ms and then retry.
java.lang.IllegalStateException: No leader yet : printing ALL groups
  s0:  RUNNING CANDIDATE s0@group-09A0EF6A68F4:t68, leader=null, voted=s0, raftlog=s0@group-09A0EF6A68F4-SegmentedRaftLog:OPENED:c1,f2,i2, conf=0: [s0:0.0.0.0:42611, s1:0.0.0.0:39575, s2:0.0.0.0:34382], old=null RUNNING
  s1:  RUNNING CANDIDATE s1@group-09A0EF6A68F4:t68, leader=null, voted=s1, raftlog=s1@group-09A0EF6A68F4-SegmentedRaftLog:OPENED:c1,f2,i2, conf=0: [s0:0.0.0.0:42611, s1:0.0.0.0:39575, s2:0.0.0.0:34382], old=null RUNNING
  s2:  RUNNING CANDIDATE s2@group-09A0EF6A68F4:t68, leader=null, voted=s2, raftlog=s2@group-09A0EF6A68F4-SegmentedRaftLog:OPENED:c1,f2,i2, conf=0: [s0:0.0.0.0:42611, s1:0.0.0.0:39575, s2:0.0.0.0:34382], old=null RUNNING
	at org.apache.ratis.MiniRaftCluster.newIllegalStateExceptionForNoLeaders(MiniRaftCluster.java:506)
	at org.apache.ratis.RaftTestUtil.lambda$waitForLeader$1(RaftTestUtil.java:90)
	at org.apache.ratis.MiniRaftCluster.getLeader(MiniRaftCluster.java:539)
	at org.apache.ratis.MiniRaftCluster.getLeader(MiniRaftCluster.java:532)
	at org.apache.ratis.RaftTestUtil.lambda$waitForLeader$3(RaftTestUtil.java:98)
	at org.apache.ratis.util.JavaUtils.attempt(JavaUtils.java:152)
	at org.apache.ratis.RaftTestUtil.waitForLeader(RaftTestUtil.java:97)
	at org.apache.ratis.RaftTestUtil.waitForLeader(RaftTestUtil.java:77)
	at org.apache.ratis.RaftTestUtil.waitForLeader(RaftTestUtil.java:72)
	at org.apache.ratis.server.impl.RaftStateMachineExceptionTests.runTestRetryOnExceptionDuringReplication(RaftStateMachineExceptionTests.java:166)
	at org.apache.ratis.MiniRaftCluster$Factory$Get.runWithNewCluster(MiniRaftCluster.java:125)
	at org.apache.ratis.MiniRaftCluster$Factory$Get.runWithNewCluster(MiniRaftCluster.java:113)
	at org.apache.ratis.server.impl.RaftStateMachineExceptionTests.testRetryOnExceptionDuringReplication(RaftStateMachineExceptionTests.java:145)
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.lang.reflect.Method.invoke(Method.java:498)
	at org.junit.runners.model.FrameworkMethod$1.runReflectiveCall(FrameworkMethod.java:50)
	at org.junit.internal.runners.model.ReflectiveCallable.run(ReflectiveCallable.java:12)
	at org.junit.runners.model.FrameworkMethod.invokeExplosively(FrameworkMethod.java:47)
	at org.junit.internal.runners.statements.InvokeMethod.evaluate(InvokeMethod.java:17)
	at org.junit.internal.runners.statements.RunAfters.evaluate(RunAfters.java:27)
	at org.junit.internal.runners.statements.FailOnTimeout$CallableStatement.call(FailOnTimeout.java:298)
	at org.junit.internal.runners.statements.FailOnTimeout$CallableStatement.call(FailOnTimeout.java:292)
	at java.util.concurrent.FutureTask.run(FutureTask.java:266)
	at java.lang.Thread.run(Thread.java:748)
2019-09-24 16:58:32,300 WARN  ratis.RaftTestUtil (JavaUtils.java:attempt(158)) - FAILED "waitForLeader-null-(expectLeader? true)", attempt #71/100: java.lang.IllegalStateException: No leader yet : printing ALL groups
  s0:  RUNNING CANDIDATE s0@group-09A0EF6A68F4:t68, leader=null, voted=s0, raftlog=s0@group-09A0EF6A68F4-SegmentedRaftLog:OPENED:c1,f2,i2, conf=0: [s0:0.0.0.0:42611, s1:0.0.0.0:39575, s2:0.0.0.0:34382], old=null RUNNING
  s1:  RUNNING CANDIDATE s1@group-09A0EF6A68F4:t68, leader=null, voted=s1, raftlog=s1@group-09A0EF6A68F4-SegmentedRaftLog:OPENED:c1,f2,i2, conf=0: [s0:0.0.0.0:42611, s1:0.0.0.0:39575, s2:0.0.0.0:34382], old=null RUNNING
  s2:  RUNNING CANDIDATE s2@group-09A0EF6A68F4:t68, leader=null, voted=s2, raftlog=s2@group-09A0EF6A68F4-SegmentedRaftLog:OPENED:c1,f2,i2, conf=0: [s0:0.0.0.0:42611, s1:0.0.0.0:39575, s2:0.0.0.0:34382], old=null RUNNING, sleep 450ms and then retry.
java.lang.IllegalStateException: No leader yet : printing ALL groups
  s0:  RUNNING CANDIDATE s0@group-09A0EF6A68F4:t68, leader=null, voted=s0, raftlog=s0@group-09A0EF6A68F4-SegmentedRaftLog:OPENED:c1,f2,i2, conf=0: [s0:0.0.0.0:42611, s1:0.0.0.0:39575, s2:0.0.0.0:34382], old=null RUNNING
  s1:  RUNNING CANDIDATE s1@group-09A0EF6A68F4:t68, leader=null, voted=s1, raftlog=s1@group-09A0EF6A68F4-SegmentedRaftLog:OPENED:c1,f2,i2, conf=0: [s0:0.0.0.0:42611, s1:0.0.0.0:39575, s2:0.0.0.0:34382], old=null RUNNING
  s2:  RUNNING CANDIDATE s2@group-09A0EF6A68F4:t68, leader=null, voted=s2, raftlog=s2@group-09A0EF6A68F4-SegmentedRaftLog:OPENED:c1,f2,i2, conf=0: [s0:0.0.0.0:42611, s1:0.0.0.0:39575, s2:0.0.0.0:34382], old=null RUNNING
	at org.apache.ratis.MiniRaftCluster.newIllegalStateExceptionForNoLeaders(MiniRaftCluster.java:506)
	at org.apache.ratis.RaftTestUtil.lambda$waitForLeader$1(RaftTestUtil.java:90)
	at org.apache.ratis.MiniRaftCluster.getLeader(MiniRaftCluster.java:539)
	at org.apache.ratis.MiniRaftCluster.getLeader(MiniRaftCluster.java:532)
	at org.apache.ratis.RaftTestUtil.lambda$waitForLeader$3(RaftTestUtil.java:98)
	at org.apache.ratis.util.JavaUtils.attempt(JavaUtils.java:152)
	at org.apache.ratis.RaftTestUtil.waitForLeader(RaftTestUtil.java:97)
	at org.apache.ratis.RaftTestUtil.waitForLeader(RaftTestUtil.java:77)
	at org.apache.ratis.RaftTestUtil.waitForLeader(RaftTestUtil.java:72)
	at org.apache.ratis.server.impl.RaftStateMachineExceptionTests.runTestRetryOnExceptionDuringReplication(RaftStateMachineExceptionTests.java:166)
	at org.apache.ratis.MiniRaftCluster$Factory$Get.runWithNewCluster(MiniRaftCluster.java:125)
	at org.apache.ratis.MiniRaftCluster$Factory$Get.runWithNewCluster(MiniRaftCluster.java:113)
	at org.apache.ratis.server.impl.RaftStateMachineExceptionTests.testRetryOnExceptionDuringReplication(RaftStateMachineExceptionTests.java:145)
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.lang.reflect.Method.invoke(Method.java:498)
	at org.junit.runners.model.FrameworkMethod$1.runReflectiveCall(FrameworkMethod.java:50)
	at org.junit.internal.runners.model.ReflectiveCallable.run(ReflectiveCallable.java:12)
	at org.junit.runners.model.FrameworkMethod.invokeExplosively(FrameworkMethod.java:47)
	at org.junit.internal.runners.statements.InvokeMethod.evaluate(InvokeMethod.java:17)
	at org.junit.internal.runners.statements.RunAfters.evaluate(RunAfters.java:27)
	at org.junit.internal.runners.statements.FailOnTimeout$CallableStatement.call(FailOnTimeout.java:298)
	at org.junit.internal.runners.statements.FailOnTimeout$CallableStatement.call(FailOnTimeout.java:292)
	at java.util.concurrent.FutureTask.run(FutureTask.java:266)
	at java.lang.Thread.run(Thread.java:748)
2019-09-24 16:58:32,751 WARN  ratis.RaftTestUtil (JavaUtils.java:attempt(158)) - FAILED "waitForLeader-null-(expectLeader? true)", attempt #72/100: java.lang.IllegalStateException: No leader yet : printing ALL groups
  s0:  RUNNING CANDIDATE s0@group-09A0EF6A68F4:t68, leader=null, voted=s0, raftlog=s0@group-09A0EF6A68F4-SegmentedRaftLog:OPENED:c1,f2,i2, conf=0: [s0:0.0.0.0:42611, s1:0.0.0.0:39575, s2:0.0.0.0:34382], old=null RUNNING
  s1:  RUNNING CANDIDATE s1@group-09A0EF6A68F4:t68, leader=null, voted=s1, raftlog=s1@group-09A0EF6A68F4-SegmentedRaftLog:OPENED:c1,f2,i2, conf=0: [s0:0.0.0.0:42611, s1:0.0.0.0:39575, s2:0.0.0.0:34382], old=null RUNNING
  s2:  RUNNING CANDIDATE s2@group-09A0EF6A68F4:t68, leader=null, voted=s2, raftlog=s2@group-09A0EF6A68F4-SegmentedRaftLog:OPENED:c1,f2,i2, conf=0: [s0:0.0.0.0:42611, s1:0.0.0.0:39575, s2:0.0.0.0:34382], old=null RUNNING, sleep 450ms and then retry.
java.lang.IllegalStateException: No leader yet : printing ALL groups
  s0:  RUNNING CANDIDATE s0@group-09A0EF6A68F4:t68, leader=null, voted=s0, raftlog=s0@group-09A0EF6A68F4-SegmentedRaftLog:OPENED:c1,f2,i2, conf=0: [s0:0.0.0.0:42611, s1:0.0.0.0:39575, s2:0.0.0.0:34382], old=null RUNNING
  s1:  RUNNING CANDIDATE s1@group-09A0EF6A68F4:t68, leader=null, voted=s1, raftlog=s1@group-09A0EF6A68F4-SegmentedRaftLog:OPENED:c1,f2,i2, conf=0: [s0:0.0.0.0:42611, s1:0.0.0.0:39575, s2:0.0.0.0:34382], old=null RUNNING
  s2:  RUNNING CANDIDATE s2@group-09A0EF6A68F4:t68, leader=null, voted=s2, raftlog=s2@group-09A0EF6A68F4-SegmentedRaftLog:OPENED:c1,f2,i2, conf=0: [s0:0.0.0.0:42611, s1:0.0.0.0:39575, s2:0.0.0.0:34382], old=null RUNNING
	at org.apache.ratis.MiniRaftCluster.newIllegalStateExceptionForNoLeaders(MiniRaftCluster.java:506)
	at org.apache.ratis.RaftTestUtil.lambda$waitForLeader$1(RaftTestUtil.java:90)
	at org.apache.ratis.MiniRaftCluster.getLeader(MiniRaftCluster.java:539)
	at org.apache.ratis.MiniRaftCluster.getLeader(MiniRaftCluster.java:532)
	at org.apache.ratis.RaftTestUtil.lambda$waitForLeader$3(RaftTestUtil.java:98)
	at org.apache.ratis.util.JavaUtils.attempt(JavaUtils.java:152)
	at org.apache.ratis.RaftTestUtil.waitForLeader(RaftTestUtil.java:97)
	at org.apache.ratis.RaftTestUtil.waitForLeader(RaftTestUtil.java:77)
	at org.apache.ratis.RaftTestUtil.waitForLeader(RaftTestUtil.java:72)
	at org.apache.ratis.server.impl.RaftStateMachineExceptionTests.runTestRetryOnExceptionDuringReplication(RaftStateMachineExceptionTests.java:166)
	at org.apache.ratis.MiniRaftCluster$Factory$Get.runWithNewCluster(MiniRaftCluster.java:125)
	at org.apache.ratis.MiniRaftCluster$Factory$Get.runWithNewCluster(MiniRaftCluster.java:113)
	at org.apache.ratis.server.impl.RaftStateMachineExceptionTests.testRetryOnExceptionDuringReplication(RaftStateMachineExceptionTests.java:145)
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.lang.reflect.Method.invoke(Method.java:498)
	at org.junit.runners.model.FrameworkMethod$1.runReflectiveCall(FrameworkMethod.java:50)
	at org.junit.internal.runners.model.ReflectiveCallable.run(ReflectiveCallable.java:12)
	at org.junit.runners.model.FrameworkMethod.invokeExplosively(FrameworkMethod.java:47)
	at org.junit.internal.runners.statements.InvokeMethod.evaluate(InvokeMethod.java:17)
	at org.junit.internal.runners.statements.RunAfters.evaluate(RunAfters.java:27)
	at org.junit.internal.runners.statements.FailOnTimeout$CallableStatement.call(FailOnTimeout.java:298)
	at org.junit.internal.runners.statements.FailOnTimeout$CallableStatement.call(FailOnTimeout.java:292)
	at java.util.concurrent.FutureTask.run(FutureTask.java:266)
	at java.lang.Thread.run(Thread.java:748)
2019-09-24 16:58:33,202 WARN  ratis.RaftTestUtil (JavaUtils.java:attempt(158)) - FAILED "waitForLeader-null-(expectLeader? true)", attempt #73/100: java.lang.IllegalStateException: No leader yet : printing ALL groups
  s0:  RUNNING CANDIDATE s0@group-09A0EF6A68F4:t68, leader=null, voted=s0, raftlog=s0@group-09A0EF6A68F4-SegmentedRaftLog:OPENED:c1,f2,i2, conf=0: [s0:0.0.0.0:42611, s1:0.0.0.0:39575, s2:0.0.0.0:34382], old=null RUNNING
  s1:  RUNNING CANDIDATE s1@group-09A0EF6A68F4:t68, leader=null, voted=s1, raftlog=s1@group-09A0EF6A68F4-SegmentedRaftLog:OPENED:c1,f2,i2, conf=0: [s0:0.0.0.0:42611, s1:0.0.0.0:39575, s2:0.0.0.0:34382], old=null RUNNING
  s2:  RUNNING CANDIDATE s2@group-09A0EF6A68F4:t68, leader=null, voted=s2, raftlog=s2@group-09A0EF6A68F4-SegmentedRaftLog:OPENED:c1,f2,i2, conf=0: [s0:0.0.0.0:42611, s1:0.0.0.0:39575, s2:0.0.0.0:34382], old=null RUNNING, sleep 450ms and then retry.
java.lang.IllegalStateException: No leader yet : printing ALL groups
  s0:  RUNNING CANDIDATE s0@group-09A0EF6A68F4:t68, leader=null, voted=s0, raftlog=s0@group-09A0EF6A68F4-SegmentedRaftLog:OPENED:c1,f2,i2, conf=0: [s0:0.0.0.0:42611, s1:0.0.0.0:39575, s2:0.0.0.0:34382], old=null RUNNING
  s1:  RUNNING CANDIDATE s1@group-09A0EF6A68F4:t68, leader=null, voted=s1, raftlog=s1@group-09A0EF6A68F4-SegmentedRaftLog:OPENED:c1,f2,i2, conf=0: [s0:0.0.0.0:42611, s1:0.0.0.0:39575, s2:0.0.0.0:34382], old=null RUNNING
  s2:  RUNNING CANDIDATE s2@group-09A0EF6A68F4:t68, leader=null, voted=s2, raftlog=s2@group-09A0EF6A68F4-SegmentedRaftLog:OPENED:c1,f2,i2, conf=0: [s0:0.0.0.0:42611, s1:0.0.0.0:39575, s2:0.0.0.0:34382], old=null RUNNING
	at org.apache.ratis.MiniRaftCluster.newIllegalStateExceptionForNoLeaders(MiniRaftCluster.java:506)
	at org.apache.ratis.RaftTestUtil.lambda$waitForLeader$1(RaftTestUtil.java:90)
	at org.apache.ratis.MiniRaftCluster.getLeader(MiniRaftCluster.java:539)
	at org.apache.ratis.MiniRaftCluster.getLeader(MiniRaftCluster.java:532)
	at org.apache.ratis.RaftTestUtil.lambda$waitForLeader$3(RaftTestUtil.java:98)
	at org.apache.ratis.util.JavaUtils.attempt(JavaUtils.java:152)
	at org.apache.ratis.RaftTestUtil.waitForLeader(RaftTestUtil.java:97)
	at org.apache.ratis.RaftTestUtil.waitForLeader(RaftTestUtil.java:77)
	at org.apache.ratis.RaftTestUtil.waitForLeader(RaftTestUtil.java:72)
	at org.apache.ratis.server.impl.RaftStateMachineExceptionTests.runTestRetryOnExceptionDuringReplication(RaftStateMachineExceptionTests.java:166)
	at org.apache.ratis.MiniRaftCluster$Factory$Get.runWithNewCluster(MiniRaftCluster.java:125)
	at org.apache.ratis.MiniRaftCluster$Factory$Get.runWithNewCluster(MiniRaftCluster.java:113)
	at org.apache.ratis.server.impl.RaftStateMachineExceptionTests.testRetryOnExceptionDuringReplication(RaftStateMachineExceptionTests.java:145)
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.lang.reflect.Method.invoke(Method.java:498)
	at org.junit.runners.model.FrameworkMethod$1.runReflectiveCall(FrameworkMethod.java:50)
	at org.junit.internal.runners.model.ReflectiveCallable.run(ReflectiveCallable.java:12)
	at org.junit.runners.model.FrameworkMethod.invokeExplosively(FrameworkMethod.java:47)
	at org.junit.internal.runners.statements.InvokeMethod.evaluate(InvokeMethod.java:17)
	at org.junit.internal.runners.statements.RunAfters.evaluate(RunAfters.java:27)
	at org.junit.internal.runners.statements.FailOnTimeout$CallableStatement.call(FailOnTimeout.java:298)
	at org.junit.internal.runners.statements.FailOnTimeout$CallableStatement.call(FailOnTimeout.java:292)
	at java.util.concurrent.FutureTask.run(FutureTask.java:266)
	at java.lang.Thread.run(Thread.java:748)
2019-09-24 16:58:33,654 WARN  ratis.RaftTestUtil (JavaUtils.java:attempt(158)) - FAILED "waitForLeader-null-(expectLeader? true)", attempt #74/100: java.lang.IllegalStateException: No leader yet : printing ALL groups
  s0:  RUNNING CANDIDATE s0@group-09A0EF6A68F4:t68, leader=null, voted=s0, raftlog=s0@group-09A0EF6A68F4-SegmentedRaftLog:OPENED:c1,f2,i2, conf=0: [s0:0.0.0.0:42611, s1:0.0.0.0:39575, s2:0.0.0.0:34382], old=null RUNNING
  s1:  RUNNING CANDIDATE s1@group-09A0EF6A68F4:t68, leader=null, voted=s1, raftlog=s1@group-09A0EF6A68F4-SegmentedRaftLog:OPENED:c1,f2,i2, conf=0: [s0:0.0.0.0:42611, s1:0.0.0.0:39575, s2:0.0.0.0:34382], old=null RUNNING
  s2:  RUNNING CANDIDATE s2@group-09A0EF6A68F4:t68, leader=null, voted=s2, raftlog=s2@group-09A0EF6A68F4-SegmentedRaftLog:OPENED:c1,f2,i2, conf=0: [s0:0.0.0.0:42611, s1:0.0.0.0:39575, s2:0.0.0.0:34382], old=null RUNNING, sleep 450ms and then retry.
java.lang.IllegalStateException: No leader yet : printing ALL groups
  s0:  RUNNING CANDIDATE s0@group-09A0EF6A68F4:t68, leader=null, voted=s0, raftlog=s0@group-09A0EF6A68F4-SegmentedRaftLog:OPENED:c1,f2,i2, conf=0: [s0:0.0.0.0:42611, s1:0.0.0.0:39575, s2:0.0.0.0:34382], old=null RUNNING
  s1:  RUNNING CANDIDATE s1@group-09A0EF6A68F4:t68, leader=null, voted=s1, raftlog=s1@group-09A0EF6A68F4-SegmentedRaftLog:OPENED:c1,f2,i2, conf=0: [s0:0.0.0.0:42611, s1:0.0.0.0:39575, s2:0.0.0.0:34382], old=null RUNNING
  s2:  RUNNING CANDIDATE s2@group-09A0EF6A68F4:t68, leader=null, voted=s2, raftlog=s2@group-09A0EF6A68F4-SegmentedRaftLog:OPENED:c1,f2,i2, conf=0: [s0:0.0.0.0:42611, s1:0.0.0.0:39575, s2:0.0.0.0:34382], old=null RUNNING
	at org.apache.ratis.MiniRaftCluster.newIllegalStateExceptionForNoLeaders(MiniRaftCluster.java:506)
	at org.apache.ratis.RaftTestUtil.lambda$waitForLeader$1(RaftTestUtil.java:90)
	at org.apache.ratis.MiniRaftCluster.getLeader(MiniRaftCluster.java:539)
	at org.apache.ratis.MiniRaftCluster.getLeader(MiniRaftCluster.java:532)
	at org.apache.ratis.RaftTestUtil.lambda$waitForLeader$3(RaftTestUtil.java:98)
	at org.apache.ratis.util.JavaUtils.attempt(JavaUtils.java:152)
	at org.apache.ratis.RaftTestUtil.waitForLeader(RaftTestUtil.java:97)
	at org.apache.ratis.RaftTestUtil.waitForLeader(RaftTestUtil.java:77)
	at org.apache.ratis.RaftTestUtil.waitForLeader(RaftTestUtil.java:72)
	at org.apache.ratis.server.impl.RaftStateMachineExceptionTests.runTestRetryOnExceptionDuringReplication(RaftStateMachineExceptionTests.java:166)
	at org.apache.ratis.MiniRaftCluster$Factory$Get.runWithNewCluster(MiniRaftCluster.java:125)
	at org.apache.ratis.MiniRaftCluster$Factory$Get.runWithNewCluster(MiniRaftCluster.java:113)
	at org.apache.ratis.server.impl.RaftStateMachineExceptionTests.testRetryOnExceptionDuringReplication(RaftStateMachineExceptionTests.java:145)
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.lang.reflect.Method.invoke(Method.java:498)
	at org.junit.runners.model.FrameworkMethod$1.runReflectiveCall(FrameworkMethod.java:50)
	at org.junit.internal.runners.model.ReflectiveCallable.run(ReflectiveCallable.java:12)
	at org.junit.runners.model.FrameworkMethod.invokeExplosively(FrameworkMethod.java:47)
	at org.junit.internal.runners.statements.InvokeMethod.evaluate(InvokeMethod.java:17)
	at org.junit.internal.runners.statements.RunAfters.evaluate(RunAfters.java:27)
	at org.junit.internal.runners.statements.FailOnTimeout$CallableStatement.call(FailOnTimeout.java:298)
	at org.junit.internal.runners.statements.FailOnTimeout$CallableStatement.call(FailOnTimeout.java:292)
	at java.util.concurrent.FutureTask.run(FutureTask.java:266)
	at java.lang.Thread.run(Thread.java:748)
2019-09-24 16:58:34,000 INFO  impl.LeaderElection (LeaderElection.java:askForVotes(178)) - s0@group-09A0EF6A68F4-LeaderElection169: begin an election at term 68 for 0: [s0:0.0.0.0:42611, s1:0.0.0.0:39575, s2:0.0.0.0:34382], old=null
2019-09-24 16:58:34,000 INFO  impl.LeaderElection (LeaderElection.java:askForVotes(178)) - s2@group-09A0EF6A68F4-LeaderElection168: begin an election at term 68 for 0: [s0:0.0.0.0:42611, s1:0.0.0.0:39575, s2:0.0.0.0:34382], old=null
2019-09-24 16:58:34,000 INFO  impl.LeaderElection (LeaderElection.java:askForVotes(178)) - s1@group-09A0EF6A68F4-LeaderElection167: begin an election at term 68 for 0: [s0:0.0.0.0:42611, s1:0.0.0.0:39575, s2:0.0.0.0:34382], old=null
2019-09-24 16:58:34,001 DEBUG impl.RaftServerImpl (RaftServerImpl.java:requestVote(743)) - s1@group-09A0EF6A68F4: receive requestVote(s0, group-09A0EF6A68F4, 68, (t:62, i:2))
2019-09-24 16:58:34,001 DEBUG impl.RaftServerImpl (RaftServerImpl.java:requestVote(743)) - s0@group-09A0EF6A68F4: receive requestVote(s1, group-09A0EF6A68F4, 68, (t:62, i:2))
2019-09-24 16:58:34,001 DEBUG impl.RaftServerImpl (RaftServerImpl.java:requestVote(743)) - s0@group-09A0EF6A68F4: receive requestVote(s2, group-09A0EF6A68F4, 68, (t:62, i:2))
2019-09-24 16:58:34,002 DEBUG impl.RaftServerImpl (RaftServerImpl.java:requestVote(775)) - s0@group-09A0EF6A68F4 replies to vote request: s1<-s0#0:FAIL-t68. Peer's state: s0@group-09A0EF6A68F4:t68, leader=null, voted=s0, raftlog=s0@group-09A0EF6A68F4-SegmentedRaftLog:OPENED:c1,f2,i2, conf=0: [s0:0.0.0.0:42611, s1:0.0.0.0:39575, s2:0.0.0.0:34382], old=null
2019-09-24 16:58:34,002 DEBUG impl.RaftServerImpl (RaftServerImpl.java:requestVote(743)) - s2@group-09A0EF6A68F4: receive requestVote(s1, group-09A0EF6A68F4, 68, (t:62, i:2))
2019-09-24 16:58:34,002 DEBUG impl.RaftServerImpl (RaftServerImpl.java:requestVote(743)) - s1@group-09A0EF6A68F4: receive requestVote(s2, group-09A0EF6A68F4, 68, (t:62, i:2))
2019-09-24 16:58:34,002 DEBUG impl.RaftServerImpl (RaftServerImpl.java:requestVote(775)) - s1@group-09A0EF6A68F4 replies to vote request: s0<-s1#0:FAIL-t68. Peer's state: s1@group-09A0EF6A68F4:t68, leader=null, voted=s1, raftlog=s1@group-09A0EF6A68F4-SegmentedRaftLog:OPENED:c1,f2,i2, conf=0: [s0:0.0.0.0:42611, s1:0.0.0.0:39575, s2:0.0.0.0:34382], old=null
2019-09-24 16:58:34,002 DEBUG impl.RaftServerImpl (RaftServerImpl.java:requestVote(775)) - s2@group-09A0EF6A68F4 replies to vote request: s1<-s2#0:FAIL-t68. Peer's state: s2@group-09A0EF6A68F4:t68, leader=null, voted=s2, raftlog=s2@group-09A0EF6A68F4-SegmentedRaftLog:OPENED:c1,f2,i2, conf=0: [s0:0.0.0.0:42611, s1:0.0.0.0:39575, s2:0.0.0.0:34382], old=null
2019-09-24 16:58:34,002 DEBUG impl.RaftServerImpl (RaftServerImpl.java:requestVote(775)) - s0@group-09A0EF6A68F4 replies to vote request: s2<-s0#0:FAIL-t68. Peer's state: s0@group-09A0EF6A68F4:t68, leader=null, voted=s0, raftlog=s0@group-09A0EF6A68F4-SegmentedRaftLog:OPENED:c1,f2,i2, conf=0: [s0:0.0.0.0:42611, s1:0.0.0.0:39575, s2:0.0.0.0:34382], old=null
2019-09-24 16:58:34,002 DEBUG impl.RaftServerImpl (RaftServerImpl.java:requestVote(743)) - s2@group-09A0EF6A68F4: receive requestVote(s0, group-09A0EF6A68F4, 68, (t:62, i:2))
2019-09-24 16:58:34,003 INFO  impl.LeaderElection (LeaderElection.java:logAndReturn(56)) - s1@group-09A0EF6A68F4-LeaderElection167: Election REJECTED; received 2 response(s) [s1<-s0#0:FAIL-t68, s1<-s2#0:FAIL-t68] and 0 exception(s); s1@group-09A0EF6A68F4:t68, leader=null, voted=s1, raftlog=s1@group-09A0EF6A68F4-SegmentedRaftLog:OPENED:c1,f2,i2, conf=0: [s0:0.0.0.0:42611, s1:0.0.0.0:39575, s2:0.0.0.0:34382], old=null
2019-09-24 16:58:34,003 DEBUG impl.RaftServerImpl (RaftServerImpl.java:requestVote(775)) - s1@group-09A0EF6A68F4 replies to vote request: s2<-s1#0:FAIL-t68. Peer's state: s1@group-09A0EF6A68F4:t68, leader=null, voted=s1, raftlog=s1@group-09A0EF6A68F4-SegmentedRaftLog:OPENED:c1,f2,i2, conf=0: [s0:0.0.0.0:42611, s1:0.0.0.0:39575, s2:0.0.0.0:34382], old=null
2019-09-24 16:58:34,003 DEBUG impl.RaftServerImpl (RaftServerImpl.java:requestVote(775)) - s2@group-09A0EF6A68F4 replies to vote request: s0<-s2#0:FAIL-t68. Peer's state: s2@group-09A0EF6A68F4:t68, leader=null, voted=s2, raftlog=s2@group-09A0EF6A68F4-SegmentedRaftLog:OPENED:c1,f2,i2, conf=0: [s0:0.0.0.0:42611, s1:0.0.0.0:39575, s2:0.0.0.0:34382], old=null
2019-09-24 16:58:34,004 INFO  impl.LeaderElection (LeaderElection.java:logAndReturn(56)) - s2@group-09A0EF6A68F4-LeaderElection168: Election REJECTED; received 2 response(s) [s2<-s0#0:FAIL-t68, s2<-s1#0:FAIL-t68] and 0 exception(s); s2@group-09A0EF6A68F4:t68, leader=null, voted=s2, raftlog=s2@group-09A0EF6A68F4-SegmentedRaftLog:OPENED:c1,f2,i2, conf=0: [s0:0.0.0.0:42611, s1:0.0.0.0:39575, s2:0.0.0.0:34382], old=null
2019-09-24 16:58:34,003 INFO  impl.RaftServerImpl (RaftServerImpl.java:setRole(170)) - s1@group-09A0EF6A68F4: changes role from CANDIDATE to FOLLOWER at term 68 for DISCOVERED_A_NEW_TERM
2019-09-24 16:58:34,004 INFO  impl.LeaderElection (LeaderElection.java:logAndReturn(56)) - s0@group-09A0EF6A68F4-LeaderElection169: Election REJECTED; received 2 response(s) [s0<-s1#0:FAIL-t68, s0<-s2#0:FAIL-t68] and 0 exception(s); s0@group-09A0EF6A68F4:t68, leader=null, voted=s0, raftlog=s0@group-09A0EF6A68F4-SegmentedRaftLog:OPENED:c1,f2,i2, conf=0: [s0:0.0.0.0:42611, s1:0.0.0.0:39575, s2:0.0.0.0:34382], old=null
2019-09-24 16:58:34,004 INFO  impl.RaftServerImpl (RaftServerImpl.java:setRole(170)) - s2@group-09A0EF6A68F4: changes role from CANDIDATE to FOLLOWER at term 68 for DISCOVERED_A_NEW_TERM
2019-09-24 16:58:34,005 INFO  impl.RaftServerImpl (RaftServerImpl.java:setRole(170)) - s0@group-09A0EF6A68F4: changes role from CANDIDATE to FOLLOWER at term 68 for DISCOVERED_A_NEW_TERM
2019-09-24 16:58:34,004 INFO  impl.RoleInfo (RoleInfo.java:shutdownLeaderElection(134)) - s1: shutdown LeaderElection
2019-09-24 16:58:34,005 INFO  impl.RoleInfo (RoleInfo.java:shutdownLeaderElection(134)) - s0: shutdown LeaderElection
2019-09-24 16:58:34,005 INFO  impl.RoleInfo (RoleInfo.java:shutdownLeaderElection(134)) - s2: shutdown LeaderElection
2019-09-24 16:58:34,005 INFO  impl.RoleInfo (RoleInfo.java:updateAndGet(143)) - s0: start FollowerState
2019-09-24 16:58:34,005 INFO  impl.RoleInfo (RoleInfo.java:updateAndGet(143)) - s1: start FollowerState
2019-09-24 16:58:34,005 INFO  impl.RoleInfo (RoleInfo.java:updateAndGet(143)) - s2: start FollowerState
2019-09-24 16:58:34,105 WARN  ratis.RaftTestUtil (JavaUtils.java:attempt(158)) - FAILED "waitForLeader-null-(expectLeader? true)", attempt #75/100: java.lang.IllegalStateException: No leader yet : printing ALL groups
  s0:  RUNNING  FOLLOWER s0@group-09A0EF6A68F4:t68, leader=null, voted=s0, raftlog=s0@group-09A0EF6A68F4-SegmentedRaftLog:OPENED:c1,f2,i2, conf=0: [s0:0.0.0.0:42611, s1:0.0.0.0:39575, s2:0.0.0.0:34382], old=null RUNNING
  s1:  RUNNING  FOLLOWER s1@group-09A0EF6A68F4:t68, leader=null, voted=s1, raftlog=s1@group-09A0EF6A68F4-SegmentedRaftLog:OPENED:c1,f2,i2, conf=0: [s0:0.0.0.0:42611, s1:0.0.0.0:39575, s2:0.0.0.0:34382], old=null RUNNING
  s2:  RUNNING  FOLLOWER s2@group-09A0EF6A68F4:t68, leader=null, voted=s2, raftlog=s2@group-09A0EF6A68F4-SegmentedRaftLog:OPENED:c1,f2,i2, conf=0: [s0:0.0.0.0:42611, s1:0.0.0.0:39575, s2:0.0.0.0:34382], old=null RUNNING, sleep 450ms and then retry.
java.lang.IllegalStateException: No leader yet : printing ALL groups
  s0:  RUNNING  FOLLOWER s0@group-09A0EF6A68F4:t68, leader=null, voted=s0, raftlog=s0@group-09A0EF6A68F4-SegmentedRaftLog:OPENED:c1,f2,i2, conf=0: [s0:0.0.0.0:42611, s1:0.0.0.0:39575, s2:0.0.0.0:34382], old=null RUNNING
  s1:  RUNNING  FOLLOWER s1@group-09A0EF6A68F4:t68, leader=null, voted=s1, raftlog=s1@group-09A0EF6A68F4-SegmentedRaftLog:OPENED:c1,f2,i2, conf=0: [s0:0.0.0.0:42611, s1:0.0.0.0:39575, s2:0.0.0.0:34382], old=null RUNNING
  s2:  RUNNING  FOLLOWER s2@group-09A0EF6A68F4:t68, leader=null, voted=s2, raftlog=s2@group-09A0EF6A68F4-SegmentedRaftLog:OPENED:c1,f2,i2, conf=0: [s0:0.0.0.0:42611, s1:0.0.0.0:39575, s2:0.0.0.0:34382], old=null RUNNING
	at org.apache.ratis.MiniRaftCluster.newIllegalStateExceptionForNoLeaders(MiniRaftCluster.java:506)
	at org.apache.ratis.RaftTestUtil.lambda$waitForLeader$1(RaftTestUtil.java:90)
	at org.apache.ratis.MiniRaftCluster.getLeader(MiniRaftCluster.java:539)
	at org.apache.ratis.MiniRaftCluster.getLeader(MiniRaftCluster.java:532)
	at org.apache.ratis.RaftTestUtil.lambda$waitForLeader$3(RaftTestUtil.java:98)
	at org.apache.ratis.util.JavaUtils.attempt(JavaUtils.java:152)
	at org.apache.ratis.RaftTestUtil.waitForLeader(RaftTestUtil.java:97)
	at org.apache.ratis.RaftTestUtil.waitForLeader(RaftTestUtil.java:77)
	at org.apache.ratis.RaftTestUtil.waitForLeader(RaftTestUtil.java:72)
	at org.apache.ratis.server.impl.RaftStateMachineExceptionTests.runTestRetryOnExceptionDuringReplication(RaftStateMachineExceptionTests.java:166)
	at org.apache.ratis.MiniRaftCluster$Factory$Get.runWithNewCluster(MiniRaftCluster.java:125)
	at org.apache.ratis.MiniRaftCluster$Factory$Get.runWithNewCluster(MiniRaftCluster.java:113)
	at org.apache.ratis.server.impl.RaftStateMachineExceptionTests.testRetryOnExceptionDuringReplication(RaftStateMachineExceptionTests.java:145)
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.lang.reflect.Method.invoke(Method.java:498)
	at org.junit.runners.model.FrameworkMethod$1.runReflectiveCall(FrameworkMethod.java:50)
	at org.junit.internal.runners.model.ReflectiveCallable.run(ReflectiveCallable.java:12)
	at org.junit.runners.model.FrameworkMethod.invokeExplosively(FrameworkMethod.java:47)
	at org.junit.internal.runners.statements.InvokeMethod.evaluate(InvokeMethod.java:17)
	at org.junit.internal.runners.statements.RunAfters.evaluate(RunAfters.java:27)
	at org.junit.internal.runners.statements.FailOnTimeout$CallableStatement.call(FailOnTimeout.java:298)
	at org.junit.internal.runners.statements.FailOnTimeout$CallableStatement.call(FailOnTimeout.java:292)
	at java.util.concurrent.FutureTask.run(FutureTask.java:266)
	at java.lang.Thread.run(Thread.java:748)
2019-09-24 16:58:34,208 INFO  impl.FollowerState (FollowerState.java:run(108)) - s1@group-09A0EF6A68F4-FollowerState: change to CANDIDATE, lastRpcTime:203ms, electionTimeout:202ms
2019-09-24 16:58:34,208 INFO  impl.RoleInfo (RoleInfo.java:shutdownFollowerState(121)) - s1: shutdown FollowerState
2019-09-24 16:58:34,209 INFO  impl.RaftServerImpl (RaftServerImpl.java:setRole(170)) - s1@group-09A0EF6A68F4: changes role from  FOLLOWER to CANDIDATE at term 68 for changeToCandidate
2019-09-24 16:58:34,209 INFO  impl.RoleInfo (RoleInfo.java:updateAndGet(143)) - s1: start LeaderElection
2019-09-24 16:58:34,219 INFO  impl.FollowerState (FollowerState.java:run(108)) - s0@group-09A0EF6A68F4-FollowerState: change to CANDIDATE, lastRpcTime:213ms, electionTimeout:213ms
2019-09-24 16:58:34,219 INFO  impl.RoleInfo (RoleInfo.java:shutdownFollowerState(121)) - s0: shutdown FollowerState
2019-09-24 16:58:34,219 INFO  impl.RaftServerImpl (RaftServerImpl.java:setRole(170)) - s0@group-09A0EF6A68F4: changes role from  FOLLOWER to CANDIDATE at term 68 for changeToCandidate
2019-09-24 16:58:34,220 INFO  impl.RoleInfo (RoleInfo.java:updateAndGet(143)) - s0: start LeaderElection
2019-09-24 16:58:34,299 INFO  impl.FollowerState (FollowerState.java:run(108)) - s2@group-09A0EF6A68F4-FollowerState: change to CANDIDATE, lastRpcTime:293ms, electionTimeout:293ms
2019-09-24 16:58:34,299 INFO  impl.RoleInfo (RoleInfo.java:shutdownFollowerState(121)) - s2: shutdown FollowerState
2019-09-24 16:58:34,300 INFO  impl.RaftServerImpl (RaftServerImpl.java:setRole(170)) - s2@group-09A0EF6A68F4: changes role from  FOLLOWER to CANDIDATE at term 68 for changeToCandidate
2019-09-24 16:58:34,300 INFO  impl.RoleInfo (RoleInfo.java:updateAndGet(143)) - s2: start LeaderElection
2019-09-24 16:58:34,556 WARN  ratis.RaftTestUtil (JavaUtils.java:attempt(158)) - FAILED "waitForLeader-null-(expectLeader? true)", attempt #76/100: java.lang.IllegalStateException: No leader yet : printing ALL groups
  s0:  RUNNING CANDIDATE s0@group-09A0EF6A68F4:t69, leader=null, voted=s0, raftlog=s0@group-09A0EF6A68F4-SegmentedRaftLog:OPENED:c1,f2,i2, conf=0: [s0:0.0.0.0:42611, s1:0.0.0.0:39575, s2:0.0.0.0:34382], old=null RUNNING
  s1:  RUNNING CANDIDATE s1@group-09A0EF6A68F4:t69, leader=null, voted=s1, raftlog=s1@group-09A0EF6A68F4-SegmentedRaftLog:OPENED:c1,f2,i2, conf=0: [s0:0.0.0.0:42611, s1:0.0.0.0:39575, s2:0.0.0.0:34382], old=null RUNNING
  s2:  RUNNING CANDIDATE s2@group-09A0EF6A68F4:t69, leader=null, voted=s2, raftlog=s2@group-09A0EF6A68F4-SegmentedRaftLog:OPENED:c1,f2,i2, conf=0: [s0:0.0.0.0:42611, s1:0.0.0.0:39575, s2:0.0.0.0:34382], old=null RUNNING, sleep 450ms and then retry.
java.lang.IllegalStateException: No leader yet : printing ALL groups
  s0:  RUNNING CANDIDATE s0@group-09A0EF6A68F4:t69, leader=null, voted=s0, raftlog=s0@group-09A0EF6A68F4-SegmentedRaftLog:OPENED:c1,f2,i2, conf=0: [s0:0.0.0.0:42611, s1:0.0.0.0:39575, s2:0.0.0.0:34382], old=null RUNNING
  s1:  RUNNING CANDIDATE s1@group-09A0EF6A68F4:t69, leader=null, voted=s1, raftlog=s1@group-09A0EF6A68F4-SegmentedRaftLog:OPENED:c1,f2,i2, conf=0: [s0:0.0.0.0:42611, s1:0.0.0.0:39575, s2:0.0.0.0:34382], old=null RUNNING
  s2:  RUNNING CANDIDATE s2@group-09A0EF6A68F4:t69, leader=null, voted=s2, raftlog=s2@group-09A0EF6A68F4-SegmentedRaftLog:OPENED:c1,f2,i2, conf=0: [s0:0.0.0.0:42611, s1:0.0.0.0:39575, s2:0.0.0.0:34382], old=null RUNNING
	at org.apache.ratis.MiniRaftCluster.newIllegalStateExceptionForNoLeaders(MiniRaftCluster.java:506)
	at org.apache.ratis.RaftTestUtil.lambda$waitForLeader$1(RaftTestUtil.java:90)
	at org.apache.ratis.MiniRaftCluster.getLeader(MiniRaftCluster.java:539)
	at org.apache.ratis.MiniRaftCluster.getLeader(MiniRaftCluster.java:532)
	at org.apache.ratis.RaftTestUtil.lambda$waitForLeader$3(RaftTestUtil.java:98)
	at org.apache.ratis.util.JavaUtils.attempt(JavaUtils.java:152)
	at org.apache.ratis.RaftTestUtil.waitForLeader(RaftTestUtil.java:97)
	at org.apache.ratis.RaftTestUtil.waitForLeader(RaftTestUtil.java:77)
	at org.apache.ratis.RaftTestUtil.waitForLeader(RaftTestUtil.java:72)
	at org.apache.ratis.server.impl.RaftStateMachineExceptionTests.runTestRetryOnExceptionDuringReplication(RaftStateMachineExceptionTests.java:166)
	at org.apache.ratis.MiniRaftCluster$Factory$Get.runWithNewCluster(MiniRaftCluster.java:125)
	at org.apache.ratis.MiniRaftCluster$Factory$Get.runWithNewCluster(MiniRaftCluster.java:113)
	at org.apache.ratis.server.impl.RaftStateMachineExceptionTests.testRetryOnExceptionDuringReplication(RaftStateMachineExceptionTests.java:145)
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.lang.reflect.Method.invoke(Method.java:498)
	at org.junit.runners.model.FrameworkMethod$1.runReflectiveCall(FrameworkMethod.java:50)
	at org.junit.internal.runners.model.ReflectiveCallable.run(ReflectiveCallable.java:12)
	at org.junit.runners.model.FrameworkMethod.invokeExplosively(FrameworkMethod.java:47)
	at org.junit.internal.runners.statements.InvokeMethod.evaluate(InvokeMethod.java:17)
	at org.junit.internal.runners.statements.RunAfters.evaluate(RunAfters.java:27)
	at org.junit.internal.runners.statements.FailOnTimeout$CallableStatement.call(FailOnTimeout.java:298)
	at org.junit.internal.runners.statements.FailOnTimeout$CallableStatement.call(FailOnTimeout.java:292)
	at java.util.concurrent.FutureTask.run(FutureTask.java:266)
	at java.lang.Thread.run(Thread.java:748)
2019-09-24 16:58:35,007 WARN  ratis.RaftTestUtil (JavaUtils.java:attempt(158)) - FAILED "waitForLeader-null-(expectLeader? true)", attempt #77/100: java.lang.IllegalStateException: No leader yet : printing ALL groups
  s0:  RUNNING CANDIDATE s0@group-09A0EF6A68F4:t69, leader=null, voted=s0, raftlog=s0@group-09A0EF6A68F4-SegmentedRaftLog:OPENED:c1,f2,i2, conf=0: [s0:0.0.0.0:42611, s1:0.0.0.0:39575, s2:0.0.0.0:34382], old=null RUNNING
  s1:  RUNNING CANDIDATE s1@group-09A0EF6A68F4:t69, leader=null, voted=s1, raftlog=s1@group-09A0EF6A68F4-SegmentedRaftLog:OPENED:c1,f2,i2, conf=0: [s0:0.0.0.0:42611, s1:0.0.0.0:39575, s2:0.0.0.0:34382], old=null RUNNING
  s2:  RUNNING CANDIDATE s2@group-09A0EF6A68F4:t69, leader=null, voted=s2, raftlog=s2@group-09A0EF6A68F4-SegmentedRaftLog:OPENED:c1,f2,i2, conf=0: [s0:0.0.0.0:42611, s1:0.0.0.0:39575, s2:0.0.0.0:34382], old=null RUNNING, sleep 450ms and then retry.
java.lang.IllegalStateException: No leader yet : printing ALL groups
  s0:  RUNNING CANDIDATE s0@group-09A0EF6A68F4:t69, leader=null, voted=s0, raftlog=s0@group-09A0EF6A68F4-SegmentedRaftLog:OPENED:c1,f2,i2, conf=0: [s0:0.0.0.0:42611, s1:0.0.0.0:39575, s2:0.0.0.0:34382], old=null RUNNING
  s1:  RUNNING CANDIDATE s1@group-09A0EF6A68F4:t69, leader=null, voted=s1, raftlog=s1@group-09A0EF6A68F4-SegmentedRaftLog:OPENED:c1,f2,i2, conf=0: [s0:0.0.0.0:42611, s1:0.0.0.0:39575, s2:0.0.0.0:34382], old=null RUNNING
  s2:  RUNNING CANDIDATE s2@group-09A0EF6A68F4:t69, leader=null, voted=s2, raftlog=s2@group-09A0EF6A68F4-SegmentedRaftLog:OPENED:c1,f2,i2, conf=0: [s0:0.0.0.0:42611, s1:0.0.0.0:39575, s2:0.0.0.0:34382], old=null RUNNING
	at org.apache.ratis.MiniRaftCluster.newIllegalStateExceptionForNoLeaders(MiniRaftCluster.java:506)
	at org.apache.ratis.RaftTestUtil.lambda$waitForLeader$1(RaftTestUtil.java:90)
	at org.apache.ratis.MiniRaftCluster.getLeader(MiniRaftCluster.java:539)
	at org.apache.ratis.MiniRaftCluster.getLeader(MiniRaftCluster.java:532)
	at org.apache.ratis.RaftTestUtil.lambda$waitForLeader$3(RaftTestUtil.java:98)
	at org.apache.ratis.util.JavaUtils.attempt(JavaUtils.java:152)
	at org.apache.ratis.RaftTestUtil.waitForLeader(RaftTestUtil.java:97)
	at org.apache.ratis.RaftTestUtil.waitForLeader(RaftTestUtil.java:77)
	at org.apache.ratis.RaftTestUtil.waitForLeader(RaftTestUtil.java:72)
	at org.apache.ratis.server.impl.RaftStateMachineExceptionTests.runTestRetryOnExceptionDuringReplication(RaftStateMachineExceptionTests.java:166)
	at org.apache.ratis.MiniRaftCluster$Factory$Get.runWithNewCluster(MiniRaftCluster.java:125)
	at org.apache.ratis.MiniRaftCluster$Factory$Get.runWithNewCluster(MiniRaftCluster.java:113)
	at org.apache.ratis.server.impl.RaftStateMachineExceptionTests.testRetryOnExceptionDuringReplication(RaftStateMachineExceptionTests.java:145)
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.lang.reflect.Method.invoke(Method.java:498)
	at org.junit.runners.model.FrameworkMethod$1.runReflectiveCall(FrameworkMethod.java:50)
	at org.junit.internal.runners.model.ReflectiveCallable.run(ReflectiveCallable.java:12)
	at org.junit.runners.model.FrameworkMethod.invokeExplosively(FrameworkMethod.java:47)
	at org.junit.internal.runners.statements.InvokeMethod.evaluate(InvokeMethod.java:17)
	at org.junit.internal.runners.statements.RunAfters.evaluate(RunAfters.java:27)
	at org.junit.internal.runners.statements.FailOnTimeout$CallableStatement.call(FailOnTimeout.java:298)
	at org.junit.internal.runners.statements.FailOnTimeout$CallableStatement.call(FailOnTimeout.java:292)
	at java.util.concurrent.FutureTask.run(FutureTask.java:266)
	at java.lang.Thread.run(Thread.java:748)
2019-09-24 16:58:35,459 WARN  ratis.RaftTestUtil (JavaUtils.java:attempt(158)) - FAILED "waitForLeader-null-(expectLeader? true)", attempt #78/100: java.lang.IllegalStateException: No leader yet : printing ALL groups
  s0:  RUNNING CANDIDATE s0@group-09A0EF6A68F4:t69, leader=null, voted=s0, raftlog=s0@group-09A0EF6A68F4-SegmentedRaftLog:OPENED:c1,f2,i2, conf=0: [s0:0.0.0.0:42611, s1:0.0.0.0:39575, s2:0.0.0.0:34382], old=null RUNNING
  s1:  RUNNING CANDIDATE s1@group-09A0EF6A68F4:t69, leader=null, voted=s1, raftlog=s1@group-09A0EF6A68F4-SegmentedRaftLog:OPENED:c1,f2,i2, conf=0: [s0:0.0.0.0:42611, s1:0.0.0.0:39575, s2:0.0.0.0:34382], old=null RUNNING
  s2:  RUNNING CANDIDATE s2@group-09A0EF6A68F4:t69, leader=null, voted=s2, raftlog=s2@group-09A0EF6A68F4-SegmentedRaftLog:OPENED:c1,f2,i2, conf=0: [s0:0.0.0.0:42611, s1:0.0.0.0:39575, s2:0.0.0.0:34382], old=null RUNNING, sleep 450ms and then retry.
java.lang.IllegalStateException: No leader yet : printing ALL groups
  s0:  RUNNING CANDIDATE s0@group-09A0EF6A68F4:t69, leader=null, voted=s0, raftlog=s0@group-09A0EF6A68F4-SegmentedRaftLog:OPENED:c1,f2,i2, conf=0: [s0:0.0.0.0:42611, s1:0.0.0.0:39575, s2:0.0.0.0:34382], old=null RUNNING
  s1:  RUNNING CANDIDATE s1@group-09A0EF6A68F4:t69, leader=null, voted=s1, raftlog=s1@group-09A0EF6A68F4-SegmentedRaftLog:OPENED:c1,f2,i2, conf=0: [s0:0.0.0.0:42611, s1:0.0.0.0:39575, s2:0.0.0.0:34382], old=null RUNNING
  s2:  RUNNING CANDIDATE s2@group-09A0EF6A68F4:t69, leader=null, voted=s2, raftlog=s2@group-09A0EF6A68F4-SegmentedRaftLog:OPENED:c1,f2,i2, conf=0: [s0:0.0.0.0:42611, s1:0.0.0.0:39575, s2:0.0.0.0:34382], old=null RUNNING
	at org.apache.ratis.MiniRaftCluster.newIllegalStateExceptionForNoLeaders(MiniRaftCluster.java:506)
	at org.apache.ratis.RaftTestUtil.lambda$waitForLeader$1(RaftTestUtil.java:90)
	at org.apache.ratis.MiniRaftCluster.getLeader(MiniRaftCluster.java:539)
	at org.apache.ratis.MiniRaftCluster.getLeader(MiniRaftCluster.java:532)
	at org.apache.ratis.RaftTestUtil.lambda$waitForLeader$3(RaftTestUtil.java:98)
	at org.apache.ratis.util.JavaUtils.attempt(JavaUtils.java:152)
	at org.apache.ratis.RaftTestUtil.waitForLeader(RaftTestUtil.java:97)
	at org.apache.ratis.RaftTestUtil.waitForLeader(RaftTestUtil.java:77)
	at org.apache.ratis.RaftTestUtil.waitForLeader(RaftTestUtil.java:72)
	at org.apache.ratis.server.impl.RaftStateMachineExceptionTests.runTestRetryOnExceptionDuringReplication(RaftStateMachineExceptionTests.java:166)
	at org.apache.ratis.MiniRaftCluster$Factory$Get.runWithNewCluster(MiniRaftCluster.java:125)
	at org.apache.ratis.MiniRaftCluster$Factory$Get.runWithNewCluster(MiniRaftCluster.java:113)
	at org.apache.ratis.server.impl.RaftStateMachineExceptionTests.testRetryOnExceptionDuringReplication(RaftStateMachineExceptionTests.java:145)
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.lang.reflect.Method.invoke(Method.java:498)
	at org.junit.runners.model.FrameworkMethod$1.runReflectiveCall(FrameworkMethod.java:50)
	at org.junit.internal.runners.model.ReflectiveCallable.run(ReflectiveCallable.java:12)
	at org.junit.runners.model.FrameworkMethod.invokeExplosively(FrameworkMethod.java:47)
	at org.junit.internal.runners.statements.InvokeMethod.evaluate(InvokeMethod.java:17)
	at org.junit.internal.runners.statements.RunAfters.evaluate(RunAfters.java:27)
	at org.junit.internal.runners.statements.FailOnTimeout$CallableStatement.call(FailOnTimeout.java:298)
	at org.junit.internal.runners.statements.FailOnTimeout$CallableStatement.call(FailOnTimeout.java:292)
	at java.util.concurrent.FutureTask.run(FutureTask.java:266)
	at java.lang.Thread.run(Thread.java:748)
2019-09-24 16:58:35,910 WARN  ratis.RaftTestUtil (JavaUtils.java:attempt(158)) - FAILED "waitForLeader-null-(expectLeader? true)", attempt #79/100: java.lang.IllegalStateException: No leader yet : printing ALL groups
  s0:  RUNNING CANDIDATE s0@group-09A0EF6A68F4:t69, leader=null, voted=s0, raftlog=s0@group-09A0EF6A68F4-SegmentedRaftLog:OPENED:c1,f2,i2, conf=0: [s0:0.0.0.0:42611, s1:0.0.0.0:39575, s2:0.0.0.0:34382], old=null RUNNING
  s1:  RUNNING CANDIDATE s1@group-09A0EF6A68F4:t69, leader=null, voted=s1, raftlog=s1@group-09A0EF6A68F4-SegmentedRaftLog:OPENED:c1,f2,i2, conf=0: [s0:0.0.0.0:42611, s1:0.0.0.0:39575, s2:0.0.0.0:34382], old=null RUNNING
  s2:  RUNNING CANDIDATE s2@group-09A0EF6A68F4:t69, leader=null, voted=s2, raftlog=s2@group-09A0EF6A68F4-SegmentedRaftLog:OPENED:c1,f2,i2, conf=0: [s0:0.0.0.0:42611, s1:0.0.0.0:39575, s2:0.0.0.0:34382], old=null RUNNING, sleep 450ms and then retry.
java.lang.IllegalStateException: No leader yet : printing ALL groups
  s0:  RUNNING CANDIDATE s0@group-09A0EF6A68F4:t69, leader=null, voted=s0, raftlog=s0@group-09A0EF6A68F4-SegmentedRaftLog:OPENED:c1,f2,i2, conf=0: [s0:0.0.0.0:42611, s1:0.0.0.0:39575, s2:0.0.0.0:34382], old=null RUNNING
  s1:  RUNNING CANDIDATE s1@group-09A0EF6A68F4:t69, leader=null, voted=s1, raftlog=s1@group-09A0EF6A68F4-SegmentedRaftLog:OPENED:c1,f2,i2, conf=0: [s0:0.0.0.0:42611, s1:0.0.0.0:39575, s2:0.0.0.0:34382], old=null RUNNING
  s2:  RUNNING CANDIDATE s2@group-09A0EF6A68F4:t69, leader=null, voted=s2, raftlog=s2@group-09A0EF6A68F4-SegmentedRaftLog:OPENED:c1,f2,i2, conf=0: [s0:0.0.0.0:42611, s1:0.0.0.0:39575, s2:0.0.0.0:34382], old=null RUNNING
	at org.apache.ratis.MiniRaftCluster.newIllegalStateExceptionForNoLeaders(MiniRaftCluster.java:506)
	at org.apache.ratis.RaftTestUtil.lambda$waitForLeader$1(RaftTestUtil.java:90)
	at org.apache.ratis.MiniRaftCluster.getLeader(MiniRaftCluster.java:539)
	at org.apache.ratis.MiniRaftCluster.getLeader(MiniRaftCluster.java:532)
	at org.apache.ratis.RaftTestUtil.lambda$waitForLeader$3(RaftTestUtil.java:98)
	at org.apache.ratis.util.JavaUtils.attempt(JavaUtils.java:152)
	at org.apache.ratis.RaftTestUtil.waitForLeader(RaftTestUtil.java:97)
	at org.apache.ratis.RaftTestUtil.waitForLeader(RaftTestUtil.java:77)
	at org.apache.ratis.RaftTestUtil.waitForLeader(RaftTestUtil.java:72)
	at org.apache.ratis.server.impl.RaftStateMachineExceptionTests.runTestRetryOnExceptionDuringReplication(RaftStateMachineExceptionTests.java:166)
	at org.apache.ratis.MiniRaftCluster$Factory$Get.runWithNewCluster(MiniRaftCluster.java:125)
	at org.apache.ratis.MiniRaftCluster$Factory$Get.runWithNewCluster(MiniRaftCluster.java:113)
	at org.apache.ratis.server.impl.RaftStateMachineExceptionTests.testRetryOnExceptionDuringReplication(RaftStateMachineExceptionTests.java:145)
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.lang.reflect.Method.invoke(Method.java:498)
	at org.junit.runners.model.FrameworkMethod$1.runReflectiveCall(FrameworkMethod.java:50)
	at org.junit.internal.runners.model.ReflectiveCallable.run(ReflectiveCallable.java:12)
	at org.junit.runners.model.FrameworkMethod.invokeExplosively(FrameworkMethod.java:47)
	at org.junit.internal.runners.statements.InvokeMethod.evaluate(InvokeMethod.java:17)
	at org.junit.internal.runners.statements.RunAfters.evaluate(RunAfters.java:27)
	at org.junit.internal.runners.statements.FailOnTimeout$CallableStatement.call(FailOnTimeout.java:298)
	at org.junit.internal.runners.statements.FailOnTimeout$CallableStatement.call(FailOnTimeout.java:292)
	at java.util.concurrent.FutureTask.run(FutureTask.java:266)
	at java.lang.Thread.run(Thread.java:748)
2019-09-24 16:58:36,362 WARN  ratis.RaftTestUtil (JavaUtils.java:attempt(158)) - FAILED "waitForLeader-null-(expectLeader? true)", attempt #80/100: java.lang.IllegalStateException: No leader yet : printing ALL groups
  s0:  RUNNING CANDIDATE s0@group-09A0EF6A68F4:t69, leader=null, voted=s0, raftlog=s0@group-09A0EF6A68F4-SegmentedRaftLog:OPENED:c1,f2,i2, conf=0: [s0:0.0.0.0:42611, s1:0.0.0.0:39575, s2:0.0.0.0:34382], old=null RUNNING
  s1:  RUNNING CANDIDATE s1@group-09A0EF6A68F4:t69, leader=null, voted=s1, raftlog=s1@group-09A0EF6A68F4-SegmentedRaftLog:OPENED:c1,f2,i2, conf=0: [s0:0.0.0.0:42611, s1:0.0.0.0:39575, s2:0.0.0.0:34382], old=null RUNNING
  s2:  RUNNING CANDIDATE s2@group-09A0EF6A68F4:t69, leader=null, voted=s2, raftlog=s2@group-09A0EF6A68F4-SegmentedRaftLog:OPENED:c1,f2,i2, conf=0: [s0:0.0.0.0:42611, s1:0.0.0.0:39575, s2:0.0.0.0:34382], old=null RUNNING, sleep 450ms and then retry.
java.lang.IllegalStateException: No leader yet : printing ALL groups
  s0:  RUNNING CANDIDATE s0@group-09A0EF6A68F4:t69, leader=null, voted=s0, raftlog=s0@group-09A0EF6A68F4-SegmentedRaftLog:OPENED:c1,f2,i2, conf=0: [s0:0.0.0.0:42611, s1:0.0.0.0:39575, s2:0.0.0.0:34382], old=null RUNNING
  s1:  RUNNING CANDIDATE s1@group-09A0EF6A68F4:t69, leader=null, voted=s1, raftlog=s1@group-09A0EF6A68F4-SegmentedRaftLog:OPENED:c1,f2,i2, conf=0: [s0:0.0.0.0:42611, s1:0.0.0.0:39575, s2:0.0.0.0:34382], old=null RUNNING
  s2:  RUNNING CANDIDATE s2@group-09A0EF6A68F4:t69, leader=null, voted=s2, raftlog=s2@group-09A0EF6A68F4-SegmentedRaftLog:OPENED:c1,f2,i2, conf=0: [s0:0.0.0.0:42611, s1:0.0.0.0:39575, s2:0.0.0.0:34382], old=null RUNNING
	at org.apache.ratis.MiniRaftCluster.newIllegalStateExceptionForNoLeaders(MiniRaftCluster.java:506)
	at org.apache.ratis.RaftTestUtil.lambda$waitForLeader$1(RaftTestUtil.java:90)
	at org.apache.ratis.MiniRaftCluster.getLeader(MiniRaftCluster.java:539)
	at org.apache.ratis.MiniRaftCluster.getLeader(MiniRaftCluster.java:532)
	at org.apache.ratis.RaftTestUtil.lambda$waitForLeader$3(RaftTestUtil.java:98)
	at org.apache.ratis.util.JavaUtils.attempt(JavaUtils.java:152)
	at org.apache.ratis.RaftTestUtil.waitForLeader(RaftTestUtil.java:97)
	at org.apache.ratis.RaftTestUtil.waitForLeader(RaftTestUtil.java:77)
	at org.apache.ratis.RaftTestUtil.waitForLeader(RaftTestUtil.java:72)
	at org.apache.ratis.server.impl.RaftStateMachineExceptionTests.runTestRetryOnExceptionDuringReplication(RaftStateMachineExceptionTests.java:166)
	at org.apache.ratis.MiniRaftCluster$Factory$Get.runWithNewCluster(MiniRaftCluster.java:125)
	at org.apache.ratis.MiniRaftCluster$Factory$Get.runWithNewCluster(MiniRaftCluster.java:113)
	at org.apache.ratis.server.impl.RaftStateMachineExceptionTests.testRetryOnExceptionDuringReplication(RaftStateMachineExceptionTests.java:145)
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.lang.reflect.Method.invoke(Method.java:498)
	at org.junit.runners.model.FrameworkMethod$1.runReflectiveCall(FrameworkMethod.java:50)
	at org.junit.internal.runners.model.ReflectiveCallable.run(ReflectiveCallable.java:12)
	at org.junit.runners.model.FrameworkMethod.invokeExplosively(FrameworkMethod.java:47)
	at org.junit.internal.runners.statements.InvokeMethod.evaluate(InvokeMethod.java:17)
	at org.junit.internal.runners.statements.RunAfters.evaluate(RunAfters.java:27)
	at org.junit.internal.runners.statements.FailOnTimeout$CallableStatement.call(FailOnTimeout.java:298)
	at org.junit.internal.runners.statements.FailOnTimeout$CallableStatement.call(FailOnTimeout.java:292)
	at java.util.concurrent.FutureTask.run(FutureTask.java:266)
	at java.lang.Thread.run(Thread.java:748)
2019-09-24 16:58:36,813 WARN  ratis.RaftTestUtil (JavaUtils.java:attempt(158)) - FAILED "waitForLeader-null-(expectLeader? true)", attempt #81/100: java.lang.IllegalStateException: No leader yet : printing ALL groups
  s0:  RUNNING CANDIDATE s0@group-09A0EF6A68F4:t69, leader=null, voted=s0, raftlog=s0@group-09A0EF6A68F4-SegmentedRaftLog:OPENED:c1,f2,i2, conf=0: [s0:0.0.0.0:42611, s1:0.0.0.0:39575, s2:0.0.0.0:34382], old=null RUNNING
  s1:  RUNNING CANDIDATE s1@group-09A0EF6A68F4:t69, leader=null, voted=s1, raftlog=s1@group-09A0EF6A68F4-SegmentedRaftLog:OPENED:c1,f2,i2, conf=0: [s0:0.0.0.0:42611, s1:0.0.0.0:39575, s2:0.0.0.0:34382], old=null RUNNING
  s2:  RUNNING CANDIDATE s2@group-09A0EF6A68F4:t69, leader=null, voted=s2, raftlog=s2@group-09A0EF6A68F4-SegmentedRaftLog:OPENED:c1,f2,i2, conf=0: [s0:0.0.0.0:42611, s1:0.0.0.0:39575, s2:0.0.0.0:34382], old=null RUNNING, sleep 450ms and then retry.
java.lang.IllegalStateException: No leader yet : printing ALL groups
  s0:  RUNNING CANDIDATE s0@group-09A0EF6A68F4:t69, leader=null, voted=s0, raftlog=s0@group-09A0EF6A68F4-SegmentedRaftLog:OPENED:c1,f2,i2, conf=0: [s0:0.0.0.0:42611, s1:0.0.0.0:39575, s2:0.0.0.0:34382], old=null RUNNING
  s1:  RUNNING CANDIDATE s1@group-09A0EF6A68F4:t69, leader=null, voted=s1, raftlog=s1@group-09A0EF6A68F4-SegmentedRaftLog:OPENED:c1,f2,i2, conf=0: [s0:0.0.0.0:42611, s1:0.0.0.0:39575, s2:0.0.0.0:34382], old=null RUNNING
  s2:  RUNNING CANDIDATE s2@group-09A0EF6A68F4:t69, leader=null, voted=s2, raftlog=s2@group-09A0EF6A68F4-SegmentedRaftLog:OPENED:c1,f2,i2, conf=0: [s0:0.0.0.0:42611, s1:0.0.0.0:39575, s2:0.0.0.0:34382], old=null RUNNING
	at org.apache.ratis.MiniRaftCluster.newIllegalStateExceptionForNoLeaders(MiniRaftCluster.java:506)
	at org.apache.ratis.RaftTestUtil.lambda$waitForLeader$1(RaftTestUtil.java:90)
	at org.apache.ratis.MiniRaftCluster.getLeader(MiniRaftCluster.java:539)
	at org.apache.ratis.MiniRaftCluster.getLeader(MiniRaftCluster.java:532)
	at org.apache.ratis.RaftTestUtil.lambda$waitForLeader$3(RaftTestUtil.java:98)
	at org.apache.ratis.util.JavaUtils.attempt(JavaUtils.java:152)
	at org.apache.ratis.RaftTestUtil.waitForLeader(RaftTestUtil.java:97)
	at org.apache.ratis.RaftTestUtil.waitForLeader(RaftTestUtil.java:77)
	at org.apache.ratis.RaftTestUtil.waitForLeader(RaftTestUtil.java:72)
	at org.apache.ratis.server.impl.RaftStateMachineExceptionTests.runTestRetryOnExceptionDuringReplication(RaftStateMachineExceptionTests.java:166)
	at org.apache.ratis.MiniRaftCluster$Factory$Get.runWithNewCluster(MiniRaftCluster.java:125)
	at org.apache.ratis.MiniRaftCluster$Factory$Get.runWithNewCluster(MiniRaftCluster.java:113)
	at org.apache.ratis.server.impl.RaftStateMachineExceptionTests.testRetryOnExceptionDuringReplication(RaftStateMachineExceptionTests.java:145)
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.lang.reflect.Method.invoke(Method.java:498)
	at org.junit.runners.model.FrameworkMethod$1.runReflectiveCall(FrameworkMethod.java:50)
	at org.junit.internal.runners.model.ReflectiveCallable.run(ReflectiveCallable.java:12)
	at org.junit.runners.model.FrameworkMethod.invokeExplosively(FrameworkMethod.java:47)
	at org.junit.internal.runners.statements.InvokeMethod.evaluate(InvokeMethod.java:17)
	at org.junit.internal.runners.statements.RunAfters.evaluate(RunAfters.java:27)
	at org.junit.internal.runners.statements.FailOnTimeout$CallableStatement.call(FailOnTimeout.java:298)
	at org.junit.internal.runners.statements.FailOnTimeout$CallableStatement.call(FailOnTimeout.java:292)
	at java.util.concurrent.FutureTask.run(FutureTask.java:266)
	at java.lang.Thread.run(Thread.java:748)
2019-09-24 16:58:37,265 WARN  ratis.RaftTestUtil (JavaUtils.java:attempt(158)) - FAILED "waitForLeader-null-(expectLeader? true)", attempt #82/100: java.lang.IllegalStateException: No leader yet : printing ALL groups
  s0:  RUNNING CANDIDATE s0@group-09A0EF6A68F4:t69, leader=null, voted=s0, raftlog=s0@group-09A0EF6A68F4-SegmentedRaftLog:OPENED:c1,f2,i2, conf=0: [s0:0.0.0.0:42611, s1:0.0.0.0:39575, s2:0.0.0.0:34382], old=null RUNNING
  s1:  RUNNING CANDIDATE s1@group-09A0EF6A68F4:t69, leader=null, voted=s1, raftlog=s1@group-09A0EF6A68F4-SegmentedRaftLog:OPENED:c1,f2,i2, conf=0: [s0:0.0.0.0:42611, s1:0.0.0.0:39575, s2:0.0.0.0:34382], old=null RUNNING
  s2:  RUNNING CANDIDATE s2@group-09A0EF6A68F4:t69, leader=null, voted=s2, raftlog=s2@group-09A0EF6A68F4-SegmentedRaftLog:OPENED:c1,f2,i2, conf=0: [s0:0.0.0.0:42611, s1:0.0.0.0:39575, s2:0.0.0.0:34382], old=null RUNNING, sleep 450ms and then retry.
java.lang.IllegalStateException: No leader yet : printing ALL groups
  s0:  RUNNING CANDIDATE s0@group-09A0EF6A68F4:t69, leader=null, voted=s0, raftlog=s0@group-09A0EF6A68F4-SegmentedRaftLog:OPENED:c1,f2,i2, conf=0: [s0:0.0.0.0:42611, s1:0.0.0.0:39575, s2:0.0.0.0:34382], old=null RUNNING
  s1:  RUNNING CANDIDATE s1@group-09A0EF6A68F4:t69, leader=null, voted=s1, raftlog=s1@group-09A0EF6A68F4-SegmentedRaftLog:OPENED:c1,f2,i2, conf=0: [s0:0.0.0.0:42611, s1:0.0.0.0:39575, s2:0.0.0.0:34382], old=null RUNNING
  s2:  RUNNING CANDIDATE s2@group-09A0EF6A68F4:t69, leader=null, voted=s2, raftlog=s2@group-09A0EF6A68F4-SegmentedRaftLog:OPENED:c1,f2,i2, conf=0: [s0:0.0.0.0:42611, s1:0.0.0.0:39575, s2:0.0.0.0:34382], old=null RUNNING
	at org.apache.ratis.MiniRaftCluster.newIllegalStateExceptionForNoLeaders(MiniRaftCluster.java:506)
	at org.apache.ratis.RaftTestUtil.lambda$waitForLeader$1(RaftTestUtil.java:90)
	at org.apache.ratis.MiniRaftCluster.getLeader(MiniRaftCluster.java:539)
	at org.apache.ratis.MiniRaftCluster.getLeader(MiniRaftCluster.java:532)
	at org.apache.ratis.RaftTestUtil.lambda$waitForLeader$3(RaftTestUtil.java:98)
	at org.apache.ratis.util.JavaUtils.attempt(JavaUtils.java:152)
	at org.apache.ratis.RaftTestUtil.waitForLeader(RaftTestUtil.java:97)
	at org.apache.ratis.RaftTestUtil.waitForLeader(RaftTestUtil.java:77)
	at org.apache.ratis.RaftTestUtil.waitForLeader(RaftTestUtil.java:72)
	at org.apache.ratis.server.impl.RaftStateMachineExceptionTests.runTestRetryOnExceptionDuringReplication(RaftStateMachineExceptionTests.java:166)
	at org.apache.ratis.MiniRaftCluster$Factory$Get.runWithNewCluster(MiniRaftCluster.java:125)
	at org.apache.ratis.MiniRaftCluster$Factory$Get.runWithNewCluster(MiniRaftCluster.java:113)
	at org.apache.ratis.server.impl.RaftStateMachineExceptionTests.testRetryOnExceptionDuringReplication(RaftStateMachineExceptionTests.java:145)
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.lang.reflect.Method.invoke(Method.java:498)
	at org.junit.runners.model.FrameworkMethod$1.runReflectiveCall(FrameworkMethod.java:50)
	at org.junit.internal.runners.model.ReflectiveCallable.run(ReflectiveCallable.java:12)
	at org.junit.runners.model.FrameworkMethod.invokeExplosively(FrameworkMethod.java:47)
	at org.junit.internal.runners.statements.InvokeMethod.evaluate(InvokeMethod.java:17)
	at org.junit.internal.runners.statements.RunAfters.evaluate(RunAfters.java:27)
	at org.junit.internal.runners.statements.FailOnTimeout$CallableStatement.call(FailOnTimeout.java:298)
	at org.junit.internal.runners.statements.FailOnTimeout$CallableStatement.call(FailOnTimeout.java:292)
	at java.util.concurrent.FutureTask.run(FutureTask.java:266)
	at java.lang.Thread.run(Thread.java:748)
2019-09-24 16:58:37,716 WARN  ratis.RaftTestUtil (JavaUtils.java:attempt(158)) - FAILED "waitForLeader-null-(expectLeader? true)", attempt #83/100: java.lang.IllegalStateException: No leader yet : printing ALL groups
  s0:  RUNNING CANDIDATE s0@group-09A0EF6A68F4:t69, leader=null, voted=s0, raftlog=s0@group-09A0EF6A68F4-SegmentedRaftLog:OPENED:c1,f2,i2, conf=0: [s0:0.0.0.0:42611, s1:0.0.0.0:39575, s2:0.0.0.0:34382], old=null RUNNING
  s1:  RUNNING CANDIDATE s1@group-09A0EF6A68F4:t69, leader=null, voted=s1, raftlog=s1@group-09A0EF6A68F4-SegmentedRaftLog:OPENED:c1,f2,i2, conf=0: [s0:0.0.0.0:42611, s1:0.0.0.0:39575, s2:0.0.0.0:34382], old=null RUNNING
  s2:  RUNNING CANDIDATE s2@group-09A0EF6A68F4:t69, leader=null, voted=s2, raftlog=s2@group-09A0EF6A68F4-SegmentedRaftLog:OPENED:c1,f2,i2, conf=0: [s0:0.0.0.0:42611, s1:0.0.0.0:39575, s2:0.0.0.0:34382], old=null RUNNING, sleep 450ms and then retry.
java.lang.IllegalStateException: No leader yet : printing ALL groups
  s0:  RUNNING CANDIDATE s0@group-09A0EF6A68F4:t69, leader=null, voted=s0, raftlog=s0@group-09A0EF6A68F4-SegmentedRaftLog:OPENED:c1,f2,i2, conf=0: [s0:0.0.0.0:42611, s1:0.0.0.0:39575, s2:0.0.0.0:34382], old=null RUNNING
  s1:  RUNNING CANDIDATE s1@group-09A0EF6A68F4:t69, leader=null, voted=s1, raftlog=s1@group-09A0EF6A68F4-SegmentedRaftLog:OPENED:c1,f2,i2, conf=0: [s0:0.0.0.0:42611, s1:0.0.0.0:39575, s2:0.0.0.0:34382], old=null RUNNING
  s2:  RUNNING CANDIDATE s2@group-09A0EF6A68F4:t69, leader=null, voted=s2, raftlog=s2@group-09A0EF6A68F4-SegmentedRaftLog:OPENED:c1,f2,i2, conf=0: [s0:0.0.0.0:42611, s1:0.0.0.0:39575, s2:0.0.0.0:34382], old=null RUNNING
	at org.apache.ratis.MiniRaftCluster.newIllegalStateExceptionForNoLeaders(MiniRaftCluster.java:506)
	at org.apache.ratis.RaftTestUtil.lambda$waitForLeader$1(RaftTestUtil.java:90)
	at org.apache.ratis.MiniRaftCluster.getLeader(MiniRaftCluster.java:539)
	at org.apache.ratis.MiniRaftCluster.getLeader(MiniRaftCluster.java:532)
	at org.apache.ratis.RaftTestUtil.lambda$waitForLeader$3(RaftTestUtil.java:98)
	at org.apache.ratis.util.JavaUtils.attempt(JavaUtils.java:152)
	at org.apache.ratis.RaftTestUtil.waitForLeader(RaftTestUtil.java:97)
	at org.apache.ratis.RaftTestUtil.waitForLeader(RaftTestUtil.java:77)
	at org.apache.ratis.RaftTestUtil.waitForLeader(RaftTestUtil.java:72)
	at org.apache.ratis.server.impl.RaftStateMachineExceptionTests.runTestRetryOnExceptionDuringReplication(RaftStateMachineExceptionTests.java:166)
	at org.apache.ratis.MiniRaftCluster$Factory$Get.runWithNewCluster(MiniRaftCluster.java:125)
	at org.apache.ratis.MiniRaftCluster$Factory$Get.runWithNewCluster(MiniRaftCluster.java:113)
	at org.apache.ratis.server.impl.RaftStateMachineExceptionTests.testRetryOnExceptionDuringReplication(RaftStateMachineExceptionTests.java:145)
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.lang.reflect.Method.invoke(Method.java:498)
	at org.junit.runners.model.FrameworkMethod$1.runReflectiveCall(FrameworkMethod.java:50)
	at org.junit.internal.runners.model.ReflectiveCallable.run(ReflectiveCallable.java:12)
	at org.junit.runners.model.FrameworkMethod.invokeExplosively(FrameworkMethod.java:47)
	at org.junit.internal.runners.statements.InvokeMethod.evaluate(InvokeMethod.java:17)
	at org.junit.internal.runners.statements.RunAfters.evaluate(RunAfters.java:27)
	at org.junit.internal.runners.statements.FailOnTimeout$CallableStatement.call(FailOnTimeout.java:298)
	at org.junit.internal.runners.statements.FailOnTimeout$CallableStatement.call(FailOnTimeout.java:292)
	at java.util.concurrent.FutureTask.run(FutureTask.java:266)
	at java.lang.Thread.run(Thread.java:748)
2019-09-24 16:58:38,168 WARN  ratis.RaftTestUtil (JavaUtils.java:attempt(158)) - FAILED "waitForLeader-null-(expectLeader? true)", attempt #84/100: java.lang.IllegalStateException: No leader yet : printing ALL groups
  s0:  RUNNING CANDIDATE s0@group-09A0EF6A68F4:t69, leader=null, voted=s0, raftlog=s0@group-09A0EF6A68F4-SegmentedRaftLog:OPENED:c1,f2,i2, conf=0: [s0:0.0.0.0:42611, s1:0.0.0.0:39575, s2:0.0.0.0:34382], old=null RUNNING
  s1:  RUNNING CANDIDATE s1@group-09A0EF6A68F4:t69, leader=null, voted=s1, raftlog=s1@group-09A0EF6A68F4-SegmentedRaftLog:OPENED:c1,f2,i2, conf=0: [s0:0.0.0.0:42611, s1:0.0.0.0:39575, s2:0.0.0.0:34382], old=null RUNNING
  s2:  RUNNING CANDIDATE s2@group-09A0EF6A68F4:t69, leader=null, voted=s2, raftlog=s2@group-09A0EF6A68F4-SegmentedRaftLog:OPENED:c1,f2,i2, conf=0: [s0:0.0.0.0:42611, s1:0.0.0.0:39575, s2:0.0.0.0:34382], old=null RUNNING, sleep 450ms and then retry.
java.lang.IllegalStateException: No leader yet : printing ALL groups
  s0:  RUNNING CANDIDATE s0@group-09A0EF6A68F4:t69, leader=null, voted=s0, raftlog=s0@group-09A0EF6A68F4-SegmentedRaftLog:OPENED:c1,f2,i2, conf=0: [s0:0.0.0.0:42611, s1:0.0.0.0:39575, s2:0.0.0.0:34382], old=null RUNNING
  s1:  RUNNING CANDIDATE s1@group-09A0EF6A68F4:t69, leader=null, voted=s1, raftlog=s1@group-09A0EF6A68F4-SegmentedRaftLog:OPENED:c1,f2,i2, conf=0: [s0:0.0.0.0:42611, s1:0.0.0.0:39575, s2:0.0.0.0:34382], old=null RUNNING
  s2:  RUNNING CANDIDATE s2@group-09A0EF6A68F4:t69, leader=null, voted=s2, raftlog=s2@group-09A0EF6A68F4-SegmentedRaftLog:OPENED:c1,f2,i2, conf=0: [s0:0.0.0.0:42611, s1:0.0.0.0:39575, s2:0.0.0.0:34382], old=null RUNNING
	at org.apache.ratis.MiniRaftCluster.newIllegalStateExceptionForNoLeaders(MiniRaftCluster.java:506)
	at org.apache.ratis.RaftTestUtil.lambda$waitForLeader$1(RaftTestUtil.java:90)
	at org.apache.ratis.MiniRaftCluster.getLeader(MiniRaftCluster.java:539)
	at org.apache.ratis.MiniRaftCluster.getLeader(MiniRaftCluster.java:532)
	at org.apache.ratis.RaftTestUtil.lambda$waitForLeader$3(RaftTestUtil.java:98)
	at org.apache.ratis.util.JavaUtils.attempt(JavaUtils.java:152)
	at org.apache.ratis.RaftTestUtil.waitForLeader(RaftTestUtil.java:97)
	at org.apache.ratis.RaftTestUtil.waitForLeader(RaftTestUtil.java:77)
	at org.apache.ratis.RaftTestUtil.waitForLeader(RaftTestUtil.java:72)
	at org.apache.ratis.server.impl.RaftStateMachineExceptionTests.runTestRetryOnExceptionDuringReplication(RaftStateMachineExceptionTests.java:166)
	at org.apache.ratis.MiniRaftCluster$Factory$Get.runWithNewCluster(MiniRaftCluster.java:125)
	at org.apache.ratis.MiniRaftCluster$Factory$Get.runWithNewCluster(MiniRaftCluster.java:113)
	at org.apache.ratis.server.impl.RaftStateMachineExceptionTests.testRetryOnExceptionDuringReplication(RaftStateMachineExceptionTests.java:145)
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.lang.reflect.Method.invoke(Method.java:498)
	at org.junit.runners.model.FrameworkMethod$1.runReflectiveCall(FrameworkMethod.java:50)
	at org.junit.internal.runners.model.ReflectiveCallable.run(ReflectiveCallable.java:12)
	at org.junit.runners.model.FrameworkMethod.invokeExplosively(FrameworkMethod.java:47)
	at org.junit.internal.runners.statements.InvokeMethod.evaluate(InvokeMethod.java:17)
	at org.junit.internal.runners.statements.RunAfters.evaluate(RunAfters.java:27)
	at org.junit.internal.runners.statements.FailOnTimeout$CallableStatement.call(FailOnTimeout.java:298)
	at org.junit.internal.runners.statements.FailOnTimeout$CallableStatement.call(FailOnTimeout.java:292)
	at java.util.concurrent.FutureTask.run(FutureTask.java:266)
	at java.lang.Thread.run(Thread.java:748)
2019-09-24 16:58:38,619 WARN  ratis.RaftTestUtil (JavaUtils.java:attempt(158)) - FAILED "waitForLeader-null-(expectLeader? true)", attempt #85/100: java.lang.IllegalStateException: No leader yet : printing ALL groups
  s0:  RUNNING CANDIDATE s0@group-09A0EF6A68F4:t69, leader=null, voted=s0, raftlog=s0@group-09A0EF6A68F4-SegmentedRaftLog:OPENED:c1,f2,i2, conf=0: [s0:0.0.0.0:42611, s1:0.0.0.0:39575, s2:0.0.0.0:34382], old=null RUNNING
  s1:  RUNNING CANDIDATE s1@group-09A0EF6A68F4:t69, leader=null, voted=s1, raftlog=s1@group-09A0EF6A68F4-SegmentedRaftLog:OPENED:c1,f2,i2, conf=0: [s0:0.0.0.0:42611, s1:0.0.0.0:39575, s2:0.0.0.0:34382], old=null RUNNING
  s2:  RUNNING CANDIDATE s2@group-09A0EF6A68F4:t69, leader=null, voted=s2, raftlog=s2@group-09A0EF6A68F4-SegmentedRaftLog:OPENED:c1,f2,i2, conf=0: [s0:0.0.0.0:42611, s1:0.0.0.0:39575, s2:0.0.0.0:34382], old=null RUNNING, sleep 450ms and then retry.
java.lang.IllegalStateException: No leader yet : printing ALL groups
  s0:  RUNNING CANDIDATE s0@group-09A0EF6A68F4:t69, leader=null, voted=s0, raftlog=s0@group-09A0EF6A68F4-SegmentedRaftLog:OPENED:c1,f2,i2, conf=0: [s0:0.0.0.0:42611, s1:0.0.0.0:39575, s2:0.0.0.0:34382], old=null RUNNING
  s1:  RUNNING CANDIDATE s1@group-09A0EF6A68F4:t69, leader=null, voted=s1, raftlog=s1@group-09A0EF6A68F4-SegmentedRaftLog:OPENED:c1,f2,i2, conf=0: [s0:0.0.0.0:42611, s1:0.0.0.0:39575, s2:0.0.0.0:34382], old=null RUNNING
  s2:  RUNNING CANDIDATE s2@group-09A0EF6A68F4:t69, leader=null, voted=s2, raftlog=s2@group-09A0EF6A68F4-SegmentedRaftLog:OPENED:c1,f2,i2, conf=0: [s0:0.0.0.0:42611, s1:0.0.0.0:39575, s2:0.0.0.0:34382], old=null RUNNING
	at org.apache.ratis.MiniRaftCluster.newIllegalStateExceptionForNoLeaders(MiniRaftCluster.java:506)
	at org.apache.ratis.RaftTestUtil.lambda$waitForLeader$1(RaftTestUtil.java:90)
	at org.apache.ratis.MiniRaftCluster.getLeader(MiniRaftCluster.java:539)
	at org.apache.ratis.MiniRaftCluster.getLeader(MiniRaftCluster.java:532)
	at org.apache.ratis.RaftTestUtil.lambda$waitForLeader$3(RaftTestUtil.java:98)
	at org.apache.ratis.util.JavaUtils.attempt(JavaUtils.java:152)
	at org.apache.ratis.RaftTestUtil.waitForLeader(RaftTestUtil.java:97)
	at org.apache.ratis.RaftTestUtil.waitForLeader(RaftTestUtil.java:77)
	at org.apache.ratis.RaftTestUtil.waitForLeader(RaftTestUtil.java:72)
	at org.apache.ratis.server.impl.RaftStateMachineExceptionTests.runTestRetryOnExceptionDuringReplication(RaftStateMachineExceptionTests.java:166)
	at org.apache.ratis.MiniRaftCluster$Factory$Get.runWithNewCluster(MiniRaftCluster.java:125)
	at org.apache.ratis.MiniRaftCluster$Factory$Get.runWithNewCluster(MiniRaftCluster.java:113)
	at org.apache.ratis.server.impl.RaftStateMachineExceptionTests.testRetryOnExceptionDuringReplication(RaftStateMachineExceptionTests.java:145)
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.lang.reflect.Method.invoke(Method.java:498)
	at org.junit.runners.model.FrameworkMethod$1.runReflectiveCall(FrameworkMethod.java:50)
	at org.junit.internal.runners.model.ReflectiveCallable.run(ReflectiveCallable.java:12)
	at org.junit.runners.model.FrameworkMethod.invokeExplosively(FrameworkMethod.java:47)
	at org.junit.internal.runners.statements.InvokeMethod.evaluate(InvokeMethod.java:17)
	at org.junit.internal.runners.statements.RunAfters.evaluate(RunAfters.java:27)
	at org.junit.internal.runners.statements.FailOnTimeout$CallableStatement.call(FailOnTimeout.java:298)
	at org.junit.internal.runners.statements.FailOnTimeout$CallableStatement.call(FailOnTimeout.java:292)
	at java.util.concurrent.FutureTask.run(FutureTask.java:266)
	at java.lang.Thread.run(Thread.java:748)
2019-09-24 16:58:39,070 WARN  ratis.RaftTestUtil (JavaUtils.java:attempt(158)) - FAILED "waitForLeader-null-(expectLeader? true)", attempt #86/100: java.lang.IllegalStateException: No leader yet : printing ALL groups
  s0:  RUNNING CANDIDATE s0@group-09A0EF6A68F4:t69, leader=null, voted=s0, raftlog=s0@group-09A0EF6A68F4-SegmentedRaftLog:OPENED:c1,f2,i2, conf=0: [s0:0.0.0.0:42611, s1:0.0.0.0:39575, s2:0.0.0.0:34382], old=null RUNNING
  s1:  RUNNING CANDIDATE s1@group-09A0EF6A68F4:t69, leader=null, voted=s1, raftlog=s1@group-09A0EF6A68F4-SegmentedRaftLog:OPENED:c1,f2,i2, conf=0: [s0:0.0.0.0:42611, s1:0.0.0.0:39575, s2:0.0.0.0:34382], old=null RUNNING
  s2:  RUNNING CANDIDATE s2@group-09A0EF6A68F4:t69, leader=null, voted=s2, raftlog=s2@group-09A0EF6A68F4-SegmentedRaftLog:OPENED:c1,f2,i2, conf=0: [s0:0.0.0.0:42611, s1:0.0.0.0:39575, s2:0.0.0.0:34382], old=null RUNNING, sleep 450ms and then retry.
java.lang.IllegalStateException: No leader yet : printing ALL groups
  s0:  RUNNING CANDIDATE s0@group-09A0EF6A68F4:t69, leader=null, voted=s0, raftlog=s0@group-09A0EF6A68F4-SegmentedRaftLog:OPENED:c1,f2,i2, conf=0: [s0:0.0.0.0:42611, s1:0.0.0.0:39575, s2:0.0.0.0:34382], old=null RUNNING
  s1:  RUNNING CANDIDATE s1@group-09A0EF6A68F4:t69, leader=null, voted=s1, raftlog=s1@group-09A0EF6A68F4-SegmentedRaftLog:OPENED:c1,f2,i2, conf=0: [s0:0.0.0.0:42611, s1:0.0.0.0:39575, s2:0.0.0.0:34382], old=null RUNNING
  s2:  RUNNING CANDIDATE s2@group-09A0EF6A68F4:t69, leader=null, voted=s2, raftlog=s2@group-09A0EF6A68F4-SegmentedRaftLog:OPENED:c1,f2,i2, conf=0: [s0:0.0.0.0:42611, s1:0.0.0.0:39575, s2:0.0.0.0:34382], old=null RUNNING
	at org.apache.ratis.MiniRaftCluster.newIllegalStateExceptionForNoLeaders(MiniRaftCluster.java:506)
	at org.apache.ratis.RaftTestUtil.lambda$waitForLeader$1(RaftTestUtil.java:90)
	at org.apache.ratis.MiniRaftCluster.getLeader(MiniRaftCluster.java:539)
	at org.apache.ratis.MiniRaftCluster.getLeader(MiniRaftCluster.java:532)
	at org.apache.ratis.RaftTestUtil.lambda$waitForLeader$3(RaftTestUtil.java:98)
	at org.apache.ratis.util.JavaUtils.attempt(JavaUtils.java:152)
	at org.apache.ratis.RaftTestUtil.waitForLeader(RaftTestUtil.java:97)
	at org.apache.ratis.RaftTestUtil.waitForLeader(RaftTestUtil.java:77)
	at org.apache.ratis.RaftTestUtil.waitForLeader(RaftTestUtil.java:72)
	at org.apache.ratis.server.impl.RaftStateMachineExceptionTests.runTestRetryOnExceptionDuringReplication(RaftStateMachineExceptionTests.java:166)
	at org.apache.ratis.MiniRaftCluster$Factory$Get.runWithNewCluster(MiniRaftCluster.java:125)
	at org.apache.ratis.MiniRaftCluster$Factory$Get.runWithNewCluster(MiniRaftCluster.java:113)
	at org.apache.ratis.server.impl.RaftStateMachineExceptionTests.testRetryOnExceptionDuringReplication(RaftStateMachineExceptionTests.java:145)
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.lang.reflect.Method.invoke(Method.java:498)
	at org.junit.runners.model.FrameworkMethod$1.runReflectiveCall(FrameworkMethod.java:50)
	at org.junit.internal.runners.model.ReflectiveCallable.run(ReflectiveCallable.java:12)
	at org.junit.runners.model.FrameworkMethod.invokeExplosively(FrameworkMethod.java:47)
	at org.junit.internal.runners.statements.InvokeMethod.evaluate(InvokeMethod.java:17)
	at org.junit.internal.runners.statements.RunAfters.evaluate(RunAfters.java:27)
	at org.junit.internal.runners.statements.FailOnTimeout$CallableStatement.call(FailOnTimeout.java:298)
	at org.junit.internal.runners.statements.FailOnTimeout$CallableStatement.call(FailOnTimeout.java:292)
	at java.util.concurrent.FutureTask.run(FutureTask.java:266)
	at java.lang.Thread.run(Thread.java:748)
2019-09-24 16:58:39,405 INFO  impl.LeaderElection (LeaderElection.java:askForVotes(178)) - s0@group-09A0EF6A68F4-LeaderElection171: begin an election at term 69 for 0: [s0:0.0.0.0:42611, s1:0.0.0.0:39575, s2:0.0.0.0:34382], old=null
2019-09-24 16:58:39,405 INFO  impl.LeaderElection (LeaderElection.java:askForVotes(178)) - s2@group-09A0EF6A68F4-LeaderElection172: begin an election at term 69 for 0: [s0:0.0.0.0:42611, s1:0.0.0.0:39575, s2:0.0.0.0:34382], old=null
2019-09-24 16:58:39,405 INFO  impl.LeaderElection (LeaderElection.java:askForVotes(178)) - s1@group-09A0EF6A68F4-LeaderElection170: begin an election at term 69 for 0: [s0:0.0.0.0:42611, s1:0.0.0.0:39575, s2:0.0.0.0:34382], old=null
2019-09-24 16:58:39,406 DEBUG impl.RaftServerImpl (RaftServerImpl.java:requestVote(743)) - s1@group-09A0EF6A68F4: receive requestVote(s0, group-09A0EF6A68F4, 69, (t:62, i:2))
2019-09-24 16:58:39,406 DEBUG impl.RaftServerImpl (RaftServerImpl.java:requestVote(743)) - s0@group-09A0EF6A68F4: receive requestVote(s2, group-09A0EF6A68F4, 69, (t:62, i:2))
2019-09-24 16:58:39,407 DEBUG impl.RaftServerImpl (RaftServerImpl.java:requestVote(775)) - s1@group-09A0EF6A68F4 replies to vote request: s0<-s1#0:FAIL-t69. Peer's state: s1@group-09A0EF6A68F4:t69, leader=null, voted=s1, raftlog=s1@group-09A0EF6A68F4-SegmentedRaftLog:OPENED:c1,f2,i2, conf=0: [s0:0.0.0.0:42611, s1:0.0.0.0:39575, s2:0.0.0.0:34382], old=null
2019-09-24 16:58:39,407 DEBUG impl.RaftServerImpl (RaftServerImpl.java:requestVote(743)) - s0@group-09A0EF6A68F4: receive requestVote(s1, group-09A0EF6A68F4, 69, (t:62, i:2))
2019-09-24 16:58:39,407 DEBUG impl.RaftServerImpl (RaftServerImpl.java:requestVote(743)) - s2@group-09A0EF6A68F4: receive requestVote(s1, group-09A0EF6A68F4, 69, (t:62, i:2))
2019-09-24 16:58:39,407 DEBUG impl.RaftServerImpl (RaftServerImpl.java:requestVote(775)) - s0@group-09A0EF6A68F4 replies to vote request: s2<-s0#0:FAIL-t69. Peer's state: s0@group-09A0EF6A68F4:t69, leader=null, voted=s0, raftlog=s0@group-09A0EF6A68F4-SegmentedRaftLog:OPENED:c1,f2,i2, conf=0: [s0:0.0.0.0:42611, s1:0.0.0.0:39575, s2:0.0.0.0:34382], old=null
2019-09-24 16:58:39,407 DEBUG impl.RaftServerImpl (RaftServerImpl.java:requestVote(743)) - s2@group-09A0EF6A68F4: receive requestVote(s0, group-09A0EF6A68F4, 69, (t:62, i:2))
2019-09-24 16:58:39,408 DEBUG impl.RaftServerImpl (RaftServerImpl.java:requestVote(775)) - s0@group-09A0EF6A68F4 replies to vote request: s1<-s0#0:FAIL-t69. Peer's state: s0@group-09A0EF6A68F4:t69, leader=null, voted=s0, raftlog=s0@group-09A0EF6A68F4-SegmentedRaftLog:OPENED:c1,f2,i2, conf=0: [s0:0.0.0.0:42611, s1:0.0.0.0:39575, s2:0.0.0.0:34382], old=null
2019-09-24 16:58:39,407 DEBUG impl.RaftServerImpl (RaftServerImpl.java:requestVote(775)) - s2@group-09A0EF6A68F4 replies to vote request: s1<-s2#0:FAIL-t69. Peer's state: s2@group-09A0EF6A68F4:t69, leader=null, voted=s2, raftlog=s2@group-09A0EF6A68F4-SegmentedRaftLog:OPENED:c1,f2,i2, conf=0: [s0:0.0.0.0:42611, s1:0.0.0.0:39575, s2:0.0.0.0:34382], old=null
2019-09-24 16:58:39,407 DEBUG impl.RaftServerImpl (RaftServerImpl.java:requestVote(743)) - s1@group-09A0EF6A68F4: receive requestVote(s2, group-09A0EF6A68F4, 69, (t:62, i:2))
2019-09-24 16:58:39,408 INFO  impl.LeaderElection (LeaderElection.java:logAndReturn(56)) - s1@group-09A0EF6A68F4-LeaderElection170: Election REJECTED; received 2 response(s) [s1<-s0#0:FAIL-t69, s1<-s2#0:FAIL-t69] and 0 exception(s); s1@group-09A0EF6A68F4:t69, leader=null, voted=s1, raftlog=s1@group-09A0EF6A68F4-SegmentedRaftLog:OPENED:c1,f2,i2, conf=0: [s0:0.0.0.0:42611, s1:0.0.0.0:39575, s2:0.0.0.0:34382], old=null
2019-09-24 16:58:39,408 DEBUG impl.RaftServerImpl (RaftServerImpl.java:requestVote(775)) - s2@group-09A0EF6A68F4 replies to vote request: s0<-s2#0:FAIL-t69. Peer's state: s2@group-09A0EF6A68F4:t69, leader=null, voted=s2, raftlog=s2@group-09A0EF6A68F4-SegmentedRaftLog:OPENED:c1,f2,i2, conf=0: [s0:0.0.0.0:42611, s1:0.0.0.0:39575, s2:0.0.0.0:34382], old=null
2019-09-24 16:58:39,408 DEBUG impl.RaftServerImpl (RaftServerImpl.java:requestVote(775)) - s1@group-09A0EF6A68F4 replies to vote request: s2<-s1#0:FAIL-t69. Peer's state: s1@group-09A0EF6A68F4:t69, leader=null, voted=s1, raftlog=s1@group-09A0EF6A68F4-SegmentedRaftLog:OPENED:c1,f2,i2, conf=0: [s0:0.0.0.0:42611, s1:0.0.0.0:39575, s2:0.0.0.0:34382], old=null
2019-09-24 16:58:39,409 INFO  impl.LeaderElection (LeaderElection.java:logAndReturn(56)) - s0@group-09A0EF6A68F4-LeaderElection171: Election REJECTED; received 2 response(s) [s0<-s1#0:FAIL-t69, s0<-s2#0:FAIL-t69] and 0 exception(s); s0@group-09A0EF6A68F4:t69, leader=null, voted=s0, raftlog=s0@group-09A0EF6A68F4-SegmentedRaftLog:OPENED:c1,f2,i2, conf=0: [s0:0.0.0.0:42611, s1:0.0.0.0:39575, s2:0.0.0.0:34382], old=null
2019-09-24 16:58:39,409 INFO  impl.LeaderElection (LeaderElection.java:logAndReturn(56)) - s2@group-09A0EF6A68F4-LeaderElection172: Election REJECTED; received 2 response(s) [s2<-s0#0:FAIL-t69, s2<-s1#0:FAIL-t69] and 0 exception(s); s2@group-09A0EF6A68F4:t69, leader=null, voted=s2, raftlog=s2@group-09A0EF6A68F4-SegmentedRaftLog:OPENED:c1,f2,i2, conf=0: [s0:0.0.0.0:42611, s1:0.0.0.0:39575, s2:0.0.0.0:34382], old=null
2019-09-24 16:58:39,409 INFO  impl.RaftServerImpl (RaftServerImpl.java:setRole(170)) - s1@group-09A0EF6A68F4: changes role from CANDIDATE to FOLLOWER at term 69 for DISCOVERED_A_NEW_TERM
2019-09-24 16:58:39,409 INFO  impl.RaftServerImpl (RaftServerImpl.java:setRole(170)) - s2@group-09A0EF6A68F4: changes role from CANDIDATE to FOLLOWER at term 69 for DISCOVERED_A_NEW_TERM
2019-09-24 16:58:39,410 INFO  impl.RoleInfo (RoleInfo.java:shutdownLeaderElection(134)) - s2: shutdown LeaderElection
2019-09-24 16:58:39,409 INFO  impl.RaftServerImpl (RaftServerImpl.java:setRole(170)) - s0@group-09A0EF6A68F4: changes role from CANDIDATE to FOLLOWER at term 69 for DISCOVERED_A_NEW_TERM
2019-09-24 16:58:39,410 INFO  impl.RoleInfo (RoleInfo.java:updateAndGet(143)) - s2: start FollowerState
2019-09-24 16:58:39,409 INFO  impl.RoleInfo (RoleInfo.java:shutdownLeaderElection(134)) - s1: shutdown LeaderElection
2019-09-24 16:58:39,410 INFO  impl.RoleInfo (RoleInfo.java:shutdownLeaderElection(134)) - s0: shutdown LeaderElection
2019-09-24 16:58:39,410 INFO  impl.RoleInfo (RoleInfo.java:updateAndGet(143)) - s1: start FollowerState
2019-09-24 16:58:39,410 INFO  impl.RoleInfo (RoleInfo.java:updateAndGet(143)) - s0: start FollowerState
2019-09-24 16:58:39,522 WARN  ratis.RaftTestUtil (JavaUtils.java:attempt(158)) - FAILED "waitForLeader-null-(expectLeader? true)", attempt #87/100: java.lang.IllegalStateException: No leader yet : printing ALL groups
  s0:  RUNNING  FOLLOWER s0@group-09A0EF6A68F4:t69, leader=null, voted=s0, raftlog=s0@group-09A0EF6A68F4-SegmentedRaftLog:OPENED:c1,f2,i2, conf=0: [s0:0.0.0.0:42611, s1:0.0.0.0:39575, s2:0.0.0.0:34382], old=null RUNNING
  s1:  RUNNING  FOLLOWER s1@group-09A0EF6A68F4:t69, leader=null, voted=s1, raftlog=s1@group-09A0EF6A68F4-SegmentedRaftLog:OPENED:c1,f2,i2, conf=0: [s0:0.0.0.0:42611, s1:0.0.0.0:39575, s2:0.0.0.0:34382], old=null RUNNING
  s2:  RUNNING  FOLLOWER s2@group-09A0EF6A68F4:t69, leader=null, voted=s2, raftlog=s2@group-09A0EF6A68F4-SegmentedRaftLog:OPENED:c1,f2,i2, conf=0: [s0:0.0.0.0:42611, s1:0.0.0.0:39575, s2:0.0.0.0:34382], old=null RUNNING, sleep 450ms and then retry.
java.lang.IllegalStateException: No leader yet : printing ALL groups
  s0:  RUNNING  FOLLOWER s0@group-09A0EF6A68F4:t69, leader=null, voted=s0, raftlog=s0@group-09A0EF6A68F4-SegmentedRaftLog:OPENED:c1,f2,i2, conf=0: [s0:0.0.0.0:42611, s1:0.0.0.0:39575, s2:0.0.0.0:34382], old=null RUNNING
  s1:  RUNNING  FOLLOWER s1@group-09A0EF6A68F4:t69, leader=null, voted=s1, raftlog=s1@group-09A0EF6A68F4-SegmentedRaftLog:OPENED:c1,f2,i2, conf=0: [s0:0.0.0.0:42611, s1:0.0.0.0:39575, s2:0.0.0.0:34382], old=null RUNNING
  s2:  RUNNING  FOLLOWER s2@group-09A0EF6A68F4:t69, leader=null, voted=s2, raftlog=s2@group-09A0EF6A68F4-SegmentedRaftLog:OPENED:c1,f2,i2, conf=0: [s0:0.0.0.0:42611, s1:0.0.0.0:39575, s2:0.0.0.0:34382], old=null RUNNING
	at org.apache.ratis.MiniRaftCluster.newIllegalStateExceptionForNoLeaders(MiniRaftCluster.java:506)
	at org.apache.ratis.RaftTestUtil.lambda$waitForLeader$1(RaftTestUtil.java:90)
	at org.apache.ratis.MiniRaftCluster.getLeader(MiniRaftCluster.java:539)
	at org.apache.ratis.MiniRaftCluster.getLeader(MiniRaftCluster.java:532)
	at org.apache.ratis.RaftTestUtil.lambda$waitForLeader$3(RaftTestUtil.java:98)
	at org.apache.ratis.util.JavaUtils.attempt(JavaUtils.java:152)
	at org.apache.ratis.RaftTestUtil.waitForLeader(RaftTestUtil.java:97)
	at org.apache.ratis.RaftTestUtil.waitForLeader(RaftTestUtil.java:77)
	at org.apache.ratis.RaftTestUtil.waitForLeader(RaftTestUtil.java:72)
	at org.apache.ratis.server.impl.RaftStateMachineExceptionTests.runTestRetryOnExceptionDuringReplication(RaftStateMachineExceptionTests.java:166)
	at org.apache.ratis.MiniRaftCluster$Factory$Get.runWithNewCluster(MiniRaftCluster.java:125)
	at org.apache.ratis.MiniRaftCluster$Factory$Get.runWithNewCluster(MiniRaftCluster.java:113)
	at org.apache.ratis.server.impl.RaftStateMachineExceptionTests.testRetryOnExceptionDuringReplication(RaftStateMachineExceptionTests.java:145)
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.lang.reflect.Method.invoke(Method.java:498)
	at org.junit.runners.model.FrameworkMethod$1.runReflectiveCall(FrameworkMethod.java:50)
	at org.junit.internal.runners.model.ReflectiveCallable.run(ReflectiveCallable.java:12)
	at org.junit.runners.model.FrameworkMethod.invokeExplosively(FrameworkMethod.java:47)
	at org.junit.internal.runners.statements.InvokeMethod.evaluate(InvokeMethod.java:17)
	at org.junit.internal.runners.statements.RunAfters.evaluate(RunAfters.java:27)
	at org.junit.internal.runners.statements.FailOnTimeout$CallableStatement.call(FailOnTimeout.java:298)
	at org.junit.internal.runners.statements.FailOnTimeout$CallableStatement.call(FailOnTimeout.java:292)
	at java.util.concurrent.FutureTask.run(FutureTask.java:266)
	at java.lang.Thread.run(Thread.java:748)
2019-09-24 16:58:39,577 INFO  impl.FollowerState (FollowerState.java:run(108)) - s1@group-09A0EF6A68F4-FollowerState: change to CANDIDATE, lastRpcTime:166ms, electionTimeout:166ms
2019-09-24 16:58:39,577 INFO  impl.RoleInfo (RoleInfo.java:shutdownFollowerState(121)) - s1: shutdown FollowerState
2019-09-24 16:58:39,577 INFO  impl.RaftServerImpl (RaftServerImpl.java:setRole(170)) - s1@group-09A0EF6A68F4: changes role from  FOLLOWER to CANDIDATE at term 69 for changeToCandidate
2019-09-24 16:58:39,578 INFO  impl.RoleInfo (RoleInfo.java:updateAndGet(143)) - s1: start LeaderElection
2019-09-24 16:58:39,600 INFO  impl.FollowerState (FollowerState.java:run(108)) - s2@group-09A0EF6A68F4-FollowerState: change to CANDIDATE, lastRpcTime:189ms, electionTimeout:189ms
2019-09-24 16:58:39,600 INFO  impl.RoleInfo (RoleInfo.java:shutdownFollowerState(121)) - s2: shutdown FollowerState
2019-09-24 16:58:39,600 INFO  impl.RaftServerImpl (RaftServerImpl.java:setRole(170)) - s2@group-09A0EF6A68F4: changes role from  FOLLOWER to CANDIDATE at term 69 for changeToCandidate
2019-09-24 16:58:39,600 INFO  impl.RoleInfo (RoleInfo.java:updateAndGet(143)) - s2: start LeaderElection
2019-09-24 16:58:39,673 INFO  impl.FollowerState (FollowerState.java:run(108)) - s0@group-09A0EF6A68F4-FollowerState: change to CANDIDATE, lastRpcTime:262ms, electionTimeout:262ms
2019-09-24 16:58:39,673 INFO  impl.RoleInfo (RoleInfo.java:shutdownFollowerState(121)) - s0: shutdown FollowerState
2019-09-24 16:58:39,674 INFO  impl.RaftServerImpl (RaftServerImpl.java:setRole(170)) - s0@group-09A0EF6A68F4: changes role from  FOLLOWER to CANDIDATE at term 69 for changeToCandidate
2019-09-24 16:58:39,674 INFO  impl.RoleInfo (RoleInfo.java:updateAndGet(143)) - s0: start LeaderElection
2019-09-24 16:58:39,973 WARN  ratis.RaftTestUtil (JavaUtils.java:attempt(158)) - FAILED "waitForLeader-null-(expectLeader? true)", attempt #88/100: java.lang.IllegalStateException: No leader yet : printing ALL groups
  s0:  RUNNING CANDIDATE s0@group-09A0EF6A68F4:t70, leader=null, voted=s0, raftlog=s0@group-09A0EF6A68F4-SegmentedRaftLog:OPENED:c1,f2,i2, conf=0: [s0:0.0.0.0:42611, s1:0.0.0.0:39575, s2:0.0.0.0:34382], old=null RUNNING
  s1:  RUNNING CANDIDATE s1@group-09A0EF6A68F4:t70, leader=null, voted=s1, raftlog=s1@group-09A0EF6A68F4-SegmentedRaftLog:OPENED:c1,f2,i2, conf=0: [s0:0.0.0.0:42611, s1:0.0.0.0:39575, s2:0.0.0.0:34382], old=null RUNNING
  s2:  RUNNING CANDIDATE s2@group-09A0EF6A68F4:t70, leader=null, voted=s2, raftlog=s2@group-09A0EF6A68F4-SegmentedRaftLog:OPENED:c1,f2,i2, conf=0: [s0:0.0.0.0:42611, s1:0.0.0.0:39575, s2:0.0.0.0:34382], old=null RUNNING, sleep 450ms and then retry.
java.lang.IllegalStateException: No leader yet : printing ALL groups
  s0:  RUNNING CANDIDATE s0@group-09A0EF6A68F4:t70, leader=null, voted=s0, raftlog=s0@group-09A0EF6A68F4-SegmentedRaftLog:OPENED:c1,f2,i2, conf=0: [s0:0.0.0.0:42611, s1:0.0.0.0:39575, s2:0.0.0.0:34382], old=null RUNNING
  s1:  RUNNING CANDIDATE s1@group-09A0EF6A68F4:t70, leader=null, voted=s1, raftlog=s1@group-09A0EF6A68F4-SegmentedRaftLog:OPENED:c1,f2,i2, conf=0: [s0:0.0.0.0:42611, s1:0.0.0.0:39575, s2:0.0.0.0:34382], old=null RUNNING
  s2:  RUNNING CANDIDATE s2@group-09A0EF6A68F4:t70, leader=null, voted=s2, raftlog=s2@group-09A0EF6A68F4-SegmentedRaftLog:OPENED:c1,f2,i2, conf=0: [s0:0.0.0.0:42611, s1:0.0.0.0:39575, s2:0.0.0.0:34382], old=null RUNNING
	at org.apache.ratis.MiniRaftCluster.newIllegalStateExceptionForNoLeaders(MiniRaftCluster.java:506)
	at org.apache.ratis.RaftTestUtil.lambda$waitForLeader$1(RaftTestUtil.java:90)
	at org.apache.ratis.MiniRaftCluster.getLeader(MiniRaftCluster.java:539)
	at org.apache.ratis.MiniRaftCluster.getLeader(MiniRaftCluster.java:532)
	at org.apache.ratis.RaftTestUtil.lambda$waitForLeader$3(RaftTestUtil.java:98)
	at org.apache.ratis.util.JavaUtils.attempt(JavaUtils.java:152)
	at org.apache.ratis.RaftTestUtil.waitForLeader(RaftTestUtil.java:97)
	at org.apache.ratis.RaftTestUtil.waitForLeader(RaftTestUtil.java:77)
	at org.apache.ratis.RaftTestUtil.waitForLeader(RaftTestUtil.java:72)
	at org.apache.ratis.server.impl.RaftStateMachineExceptionTests.runTestRetryOnExceptionDuringReplication(RaftStateMachineExceptionTests.java:166)
	at org.apache.ratis.MiniRaftCluster$Factory$Get.runWithNewCluster(MiniRaftCluster.java:125)
	at org.apache.ratis.MiniRaftCluster$Factory$Get.runWithNewCluster(MiniRaftCluster.java:113)
	at org.apache.ratis.server.impl.RaftStateMachineExceptionTests.testRetryOnExceptionDuringReplication(RaftStateMachineExceptionTests.java:145)
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.lang.reflect.Method.invoke(Method.java:498)
	at org.junit.runners.model.FrameworkMethod$1.runReflectiveCall(FrameworkMethod.java:50)
	at org.junit.internal.runners.model.ReflectiveCallable.run(ReflectiveCallable.java:12)
	at org.junit.runners.model.FrameworkMethod.invokeExplosively(FrameworkMethod.java:47)
	at org.junit.internal.runners.statements.InvokeMethod.evaluate(InvokeMethod.java:17)
	at org.junit.internal.runners.statements.RunAfters.evaluate(RunAfters.java:27)
	at org.junit.internal.runners.statements.FailOnTimeout$CallableStatement.call(FailOnTimeout.java:298)
	at org.junit.internal.runners.statements.FailOnTimeout$CallableStatement.call(FailOnTimeout.java:292)
	at java.util.concurrent.FutureTask.run(FutureTask.java:266)
	at java.lang.Thread.run(Thread.java:748)
2019-09-24 16:58:40,127 INFO  ratis.MiniRaftCluster (MiniRaftCluster.java:lambda$null$5(297)) - TIMED-PRINT: printing ALL groups
  s0:  RUNNING CANDIDATE s0@group-09A0EF6A68F4:t70, leader=null, voted=s0, raftlog=s0@group-09A0EF6A68F4-SegmentedRaftLog:OPENED:c1,f2,i2, conf=0: [s0:0.0.0.0:42611, s1:0.0.0.0:39575, s2:0.0.0.0:34382], old=null RUNNING
  s1:  RUNNING CANDIDATE s1@group-09A0EF6A68F4:t70, leader=null, voted=s1, raftlog=s1@group-09A0EF6A68F4-SegmentedRaftLog:OPENED:c1,f2,i2, conf=0: [s0:0.0.0.0:42611, s1:0.0.0.0:39575, s2:0.0.0.0:34382], old=null RUNNING
  s2:  RUNNING CANDIDATE s2@group-09A0EF6A68F4:t70, leader=null, voted=s2, raftlog=s2@group-09A0EF6A68F4-SegmentedRaftLog:OPENED:c1,f2,i2, conf=0: [s0:0.0.0.0:42611, s1:0.0.0.0:39575, s2:0.0.0.0:34382], old=null RUNNING
2019-09-24 16:58:40,424 WARN  ratis.RaftTestUtil (JavaUtils.java:attempt(158)) - FAILED "waitForLeader-null-(expectLeader? true)", attempt #89/100: java.lang.IllegalStateException: No leader yet : printing ALL groups
  s0:  RUNNING CANDIDATE s0@group-09A0EF6A68F4:t70, leader=null, voted=s0, raftlog=s0@group-09A0EF6A68F4-SegmentedRaftLog:OPENED:c1,f2,i2, conf=0: [s0:0.0.0.0:42611, s1:0.0.0.0:39575, s2:0.0.0.0:34382], old=null RUNNING
  s1:  RUNNING CANDIDATE s1@group-09A0EF6A68F4:t70, leader=null, voted=s1, raftlog=s1@group-09A0EF6A68F4-SegmentedRaftLog:OPENED:c1,f2,i2, conf=0: [s0:0.0.0.0:42611, s1:0.0.0.0:39575, s2:0.0.0.0:34382], old=null RUNNING
  s2:  RUNNING CANDIDATE s2@group-09A0EF6A68F4:t70, leader=null, voted=s2, raftlog=s2@group-09A0EF6A68F4-SegmentedRaftLog:OPENED:c1,f2,i2, conf=0: [s0:0.0.0.0:42611, s1:0.0.0.0:39575, s2:0.0.0.0:34382], old=null RUNNING, sleep 450ms and then retry.
java.lang.IllegalStateException: No leader yet : printing ALL groups
  s0:  RUNNING CANDIDATE s0@group-09A0EF6A68F4:t70, leader=null, voted=s0, raftlog=s0@group-09A0EF6A68F4-SegmentedRaftLog:OPENED:c1,f2,i2, conf=0: [s0:0.0.0.0:42611, s1:0.0.0.0:39575, s2:0.0.0.0:34382], old=null RUNNING
  s1:  RUNNING CANDIDATE s1@group-09A0EF6A68F4:t70, leader=null, voted=s1, raftlog=s1@group-09A0EF6A68F4-SegmentedRaftLog:OPENED:c1,f2,i2, conf=0: [s0:0.0.0.0:42611, s1:0.0.0.0:39575, s2:0.0.0.0:34382], old=null RUNNING
  s2:  RUNNING CANDIDATE s2@group-09A0EF6A68F4:t70, leader=null, voted=s2, raftlog=s2@group-09A0EF6A68F4-SegmentedRaftLog:OPENED:c1,f2,i2, conf=0: [s0:0.0.0.0:42611, s1:0.0.0.0:39575, s2:0.0.0.0:34382], old=null RUNNING
	at org.apache.ratis.MiniRaftCluster.newIllegalStateExceptionForNoLeaders(MiniRaftCluster.java:506)
	at org.apache.ratis.RaftTestUtil.lambda$waitForLeader$1(RaftTestUtil.java:90)
	at org.apache.ratis.MiniRaftCluster.getLeader(MiniRaftCluster.java:539)
	at org.apache.ratis.MiniRaftCluster.getLeader(MiniRaftCluster.java:532)
	at org.apache.ratis.RaftTestUtil.lambda$waitForLeader$3(RaftTestUtil.java:98)
	at org.apache.ratis.util.JavaUtils.attempt(JavaUtils.java:152)
	at org.apache.ratis.RaftTestUtil.waitForLeader(RaftTestUtil.java:97)
	at org.apache.ratis.RaftTestUtil.waitForLeader(RaftTestUtil.java:77)
	at org.apache.ratis.RaftTestUtil.waitForLeader(RaftTestUtil.java:72)
	at org.apache.ratis.server.impl.RaftStateMachineExceptionTests.runTestRetryOnExceptionDuringReplication(RaftStateMachineExceptionTests.java:166)
	at org.apache.ratis.MiniRaftCluster$Factory$Get.runWithNewCluster(MiniRaftCluster.java:125)
	at org.apache.ratis.MiniRaftCluster$Factory$Get.runWithNewCluster(MiniRaftCluster.java:113)
	at org.apache.ratis.server.impl.RaftStateMachineExceptionTests.testRetryOnExceptionDuringReplication(RaftStateMachineExceptionTests.java:145)
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.lang.reflect.Method.invoke(Method.java:498)
	at org.junit.runners.model.FrameworkMethod$1.runReflectiveCall(FrameworkMethod.java:50)
	at org.junit.internal.runners.model.ReflectiveCallable.run(ReflectiveCallable.java:12)
	at org.junit.runners.model.FrameworkMethod.invokeExplosively(FrameworkMethod.java:47)
	at org.junit.internal.runners.statements.InvokeMethod.evaluate(InvokeMethod.java:17)
	at org.junit.internal.runners.statements.RunAfters.evaluate(RunAfters.java:27)
	at org.junit.internal.runners.statements.FailOnTimeout$CallableStatement.call(FailOnTimeout.java:298)
	at org.junit.internal.runners.statements.FailOnTimeout$CallableStatement.call(FailOnTimeout.java:292)
	at java.util.concurrent.FutureTask.run(FutureTask.java:266)
	at java.lang.Thread.run(Thread.java:748)
2019-09-24 16:58:40,876 WARN  ratis.RaftTestUtil (JavaUtils.java:attempt(158)) - FAILED "waitForLeader-null-(expectLeader? true)", attempt #90/100: java.lang.IllegalStateException: No leader yet : printing ALL groups
  s0:  RUNNING CANDIDATE s0@group-09A0EF6A68F4:t70, leader=null, voted=s0, raftlog=s0@group-09A0EF6A68F4-SegmentedRaftLog:OPENED:c1,f2,i2, conf=0: [s0:0.0.0.0:42611, s1:0.0.0.0:39575, s2:0.0.0.0:34382], old=null RUNNING
  s1:  RUNNING CANDIDATE s1@group-09A0EF6A68F4:t70, leader=null, voted=s1, raftlog=s1@group-09A0EF6A68F4-SegmentedRaftLog:OPENED:c1,f2,i2, conf=0: [s0:0.0.0.0:42611, s1:0.0.0.0:39575, s2:0.0.0.0:34382], old=null RUNNING
  s2:  RUNNING CANDIDATE s2@group-09A0EF6A68F4:t70, leader=null, voted=s2, raftlog=s2@group-09A0EF6A68F4-SegmentedRaftLog:OPENED:c1,f2,i2, conf=0: [s0:0.0.0.0:42611, s1:0.0.0.0:39575, s2:0.0.0.0:34382], old=null RUNNING, sleep 450ms and then retry.
java.lang.IllegalStateException: No leader yet : printing ALL groups
  s0:  RUNNING CANDIDATE s0@group-09A0EF6A68F4:t70, leader=null, voted=s0, raftlog=s0@group-09A0EF6A68F4-SegmentedRaftLog:OPENED:c1,f2,i2, conf=0: [s0:0.0.0.0:42611, s1:0.0.0.0:39575, s2:0.0.0.0:34382], old=null RUNNING
  s1:  RUNNING CANDIDATE s1@group-09A0EF6A68F4:t70, leader=null, voted=s1, raftlog=s1@group-09A0EF6A68F4-SegmentedRaftLog:OPENED:c1,f2,i2, conf=0: [s0:0.0.0.0:42611, s1:0.0.0.0:39575, s2:0.0.0.0:34382], old=null RUNNING
  s2:  RUNNING CANDIDATE s2@group-09A0EF6A68F4:t70, leader=null, voted=s2, raftlog=s2@group-09A0EF6A68F4-SegmentedRaftLog:OPENED:c1,f2,i2, conf=0: [s0:0.0.0.0:42611, s1:0.0.0.0:39575, s2:0.0.0.0:34382], old=null RUNNING
	at org.apache.ratis.MiniRaftCluster.newIllegalStateExceptionForNoLeaders(MiniRaftCluster.java:506)
	at org.apache.ratis.RaftTestUtil.lambda$waitForLeader$1(RaftTestUtil.java:90)
	at org.apache.ratis.MiniRaftCluster.getLeader(MiniRaftCluster.java:539)
	at org.apache.ratis.MiniRaftCluster.getLeader(MiniRaftCluster.java:532)
	at org.apache.ratis.RaftTestUtil.lambda$waitForLeader$3(RaftTestUtil.java:98)
	at org.apache.ratis.util.JavaUtils.attempt(JavaUtils.java:152)
	at org.apache.ratis.RaftTestUtil.waitForLeader(RaftTestUtil.java:97)
	at org.apache.ratis.RaftTestUtil.waitForLeader(RaftTestUtil.java:77)
	at org.apache.ratis.RaftTestUtil.waitForLeader(RaftTestUtil.java:72)
	at org.apache.ratis.server.impl.RaftStateMachineExceptionTests.runTestRetryOnExceptionDuringReplication(RaftStateMachineExceptionTests.java:166)
	at org.apache.ratis.MiniRaftCluster$Factory$Get.runWithNewCluster(MiniRaftCluster.java:125)
	at org.apache.ratis.MiniRaftCluster$Factory$Get.runWithNewCluster(MiniRaftCluster.java:113)
	at org.apache.ratis.server.impl.RaftStateMachineExceptionTests.testRetryOnExceptionDuringReplication(RaftStateMachineExceptionTests.java:145)
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.lang.reflect.Method.invoke(Method.java:498)
	at org.junit.runners.model.FrameworkMethod$1.runReflectiveCall(FrameworkMethod.java:50)
	at org.junit.internal.runners.model.ReflectiveCallable.run(ReflectiveCallable.java:12)
	at org.junit.runners.model.FrameworkMethod.invokeExplosively(FrameworkMethod.java:47)
	at org.junit.internal.runners.statements.InvokeMethod.evaluate(InvokeMethod.java:17)
	at org.junit.internal.runners.statements.RunAfters.evaluate(RunAfters.java:27)
	at org.junit.internal.runners.statements.FailOnTimeout$CallableStatement.call(FailOnTimeout.java:298)
	at org.junit.internal.runners.statements.FailOnTimeout$CallableStatement.call(FailOnTimeout.java:292)
	at java.util.concurrent.FutureTask.run(FutureTask.java:266)
	at java.lang.Thread.run(Thread.java:748)
2019-09-24 16:58:41,327 WARN  ratis.RaftTestUtil (JavaUtils.java:attempt(158)) - FAILED "waitForLeader-null-(expectLeader? true)", attempt #91/100: java.lang.IllegalStateException: No leader yet : printing ALL groups
  s0:  RUNNING CANDIDATE s0@group-09A0EF6A68F4:t70, leader=null, voted=s0, raftlog=s0@group-09A0EF6A68F4-SegmentedRaftLog:OPENED:c1,f2,i2, conf=0: [s0:0.0.0.0:42611, s1:0.0.0.0:39575, s2:0.0.0.0:34382], old=null RUNNING
  s1:  RUNNING CANDIDATE s1@group-09A0EF6A68F4:t70, leader=null, voted=s1, raftlog=s1@group-09A0EF6A68F4-SegmentedRaftLog:OPENED:c1,f2,i2, conf=0: [s0:0.0.0.0:42611, s1:0.0.0.0:39575, s2:0.0.0.0:34382], old=null RUNNING
  s2:  RUNNING CANDIDATE s2@group-09A0EF6A68F4:t70, leader=null, voted=s2, raftlog=s2@group-09A0EF6A68F4-SegmentedRaftLog:OPENED:c1,f2,i2, conf=0: [s0:0.0.0.0:42611, s1:0.0.0.0:39575, s2:0.0.0.0:34382], old=null RUNNING, sleep 450ms and then retry.
java.lang.IllegalStateException: No leader yet : printing ALL groups
  s0:  RUNNING CANDIDATE s0@group-09A0EF6A68F4:t70, leader=null, voted=s0, raftlog=s0@group-09A0EF6A68F4-SegmentedRaftLog:OPENED:c1,f2,i2, conf=0: [s0:0.0.0.0:42611, s1:0.0.0.0:39575, s2:0.0.0.0:34382], old=null RUNNING
  s1:  RUNNING CANDIDATE s1@group-09A0EF6A68F4:t70, leader=null, voted=s1, raftlog=s1@group-09A0EF6A68F4-SegmentedRaftLog:OPENED:c1,f2,i2, conf=0: [s0:0.0.0.0:42611, s1:0.0.0.0:39575, s2:0.0.0.0:34382], old=null RUNNING
  s2:  RUNNING CANDIDATE s2@group-09A0EF6A68F4:t70, leader=null, voted=s2, raftlog=s2@group-09A0EF6A68F4-SegmentedRaftLog:OPENED:c1,f2,i2, conf=0: [s0:0.0.0.0:42611, s1:0.0.0.0:39575, s2:0.0.0.0:34382], old=null RUNNING
	at org.apache.ratis.MiniRaftCluster.newIllegalStateExceptionForNoLeaders(MiniRaftCluster.java:506)
	at org.apache.ratis.RaftTestUtil.lambda$waitForLeader$1(RaftTestUtil.java:90)
	at org.apache.ratis.MiniRaftCluster.getLeader(MiniRaftCluster.java:539)
	at org.apache.ratis.MiniRaftCluster.getLeader(MiniRaftCluster.java:532)
	at org.apache.ratis.RaftTestUtil.lambda$waitForLeader$3(RaftTestUtil.java:98)
	at org.apache.ratis.util.JavaUtils.attempt(JavaUtils.java:152)
	at org.apache.ratis.RaftTestUtil.waitForLeader(RaftTestUtil.java:97)
	at org.apache.ratis.RaftTestUtil.waitForLeader(RaftTestUtil.java:77)
	at org.apache.ratis.RaftTestUtil.waitForLeader(RaftTestUtil.java:72)
	at org.apache.ratis.server.impl.RaftStateMachineExceptionTests.runTestRetryOnExceptionDuringReplication(RaftStateMachineExceptionTests.java:166)
	at org.apache.ratis.MiniRaftCluster$Factory$Get.runWithNewCluster(MiniRaftCluster.java:125)
	at org.apache.ratis.MiniRaftCluster$Factory$Get.runWithNewCluster(MiniRaftCluster.java:113)
	at org.apache.ratis.server.impl.RaftStateMachineExceptionTests.testRetryOnExceptionDuringReplication(RaftStateMachineExceptionTests.java:145)
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.lang.reflect.Method.invoke(Method.java:498)
	at org.junit.runners.model.FrameworkMethod$1.runReflectiveCall(FrameworkMethod.java:50)
	at org.junit.internal.runners.model.ReflectiveCallable.run(ReflectiveCallable.java:12)
	at org.junit.runners.model.FrameworkMethod.invokeExplosively(FrameworkMethod.java:47)
	at org.junit.internal.runners.statements.InvokeMethod.evaluate(InvokeMethod.java:17)
	at org.junit.internal.runners.statements.RunAfters.evaluate(RunAfters.java:27)
	at org.junit.internal.runners.statements.FailOnTimeout$CallableStatement.call(FailOnTimeout.java:298)
	at org.junit.internal.runners.statements.FailOnTimeout$CallableStatement.call(FailOnTimeout.java:292)
	at java.util.concurrent.FutureTask.run(FutureTask.java:266)
	at java.lang.Thread.run(Thread.java:748)
2019-09-24 16:58:41,657 INFO  impl.LeaderElection (LeaderElection.java:askForVotes(178)) - s2@group-09A0EF6A68F4-LeaderElection174: begin an election at term 70 for 0: [s0:0.0.0.0:42611, s1:0.0.0.0:39575, s2:0.0.0.0:34382], old=null
2019-09-24 16:58:41,657 INFO  impl.LeaderElection (LeaderElection.java:askForVotes(178)) - s0@group-09A0EF6A68F4-LeaderElection175: begin an election at term 70 for 0: [s0:0.0.0.0:42611, s1:0.0.0.0:39575, s2:0.0.0.0:34382], old=null
2019-09-24 16:58:41,657 INFO  impl.LeaderElection (LeaderElection.java:askForVotes(178)) - s1@group-09A0EF6A68F4-LeaderElection173: begin an election at term 70 for 0: [s0:0.0.0.0:42611, s1:0.0.0.0:39575, s2:0.0.0.0:34382], old=null
2019-09-24 16:58:41,658 DEBUG impl.RaftServerImpl (RaftServerImpl.java:requestVote(743)) - s0@group-09A0EF6A68F4: receive requestVote(s2, group-09A0EF6A68F4, 70, (t:62, i:2))
2019-09-24 16:58:41,658 DEBUG impl.RaftServerImpl (RaftServerImpl.java:requestVote(743)) - s1@group-09A0EF6A68F4: receive requestVote(s0, group-09A0EF6A68F4, 70, (t:62, i:2))
2019-09-24 16:58:41,659 DEBUG impl.RaftServerImpl (RaftServerImpl.java:requestVote(775)) - s0@group-09A0EF6A68F4 replies to vote request: s2<-s0#0:FAIL-t70. Peer's state: s0@group-09A0EF6A68F4:t70, leader=null, voted=s0, raftlog=s0@group-09A0EF6A68F4-SegmentedRaftLog:OPENED:c1,f2,i2, conf=0: [s0:0.0.0.0:42611, s1:0.0.0.0:39575, s2:0.0.0.0:34382], old=null
2019-09-24 16:58:41,659 DEBUG impl.RaftServerImpl (RaftServerImpl.java:requestVote(743)) - s0@group-09A0EF6A68F4: receive requestVote(s1, group-09A0EF6A68F4, 70, (t:62, i:2))
2019-09-24 16:58:41,659 DEBUG impl.RaftServerImpl (RaftServerImpl.java:requestVote(743)) - s2@group-09A0EF6A68F4: receive requestVote(s1, group-09A0EF6A68F4, 70, (t:62, i:2))
2019-09-24 16:58:41,659 DEBUG impl.RaftServerImpl (RaftServerImpl.java:requestVote(743)) - s2@group-09A0EF6A68F4: receive requestVote(s0, group-09A0EF6A68F4, 70, (t:62, i:2))
2019-09-24 16:58:41,659 DEBUG impl.RaftServerImpl (RaftServerImpl.java:requestVote(775)) - s1@group-09A0EF6A68F4 replies to vote request: s0<-s1#0:FAIL-t70. Peer's state: s1@group-09A0EF6A68F4:t70, leader=null, voted=s1, raftlog=s1@group-09A0EF6A68F4-SegmentedRaftLog:OPENED:c1,f2,i2, conf=0: [s0:0.0.0.0:42611, s1:0.0.0.0:39575, s2:0.0.0.0:34382], old=null
2019-09-24 16:58:41,659 DEBUG impl.RaftServerImpl (RaftServerImpl.java:requestVote(743)) - s1@group-09A0EF6A68F4: receive requestVote(s2, group-09A0EF6A68F4, 70, (t:62, i:2))
2019-09-24 16:58:41,659 DEBUG impl.RaftServerImpl (RaftServerImpl.java:requestVote(775)) - s2@group-09A0EF6A68F4 replies to vote request: s1<-s2#0:FAIL-t70. Peer's state: s2@group-09A0EF6A68F4:t70, leader=null, voted=s2, raftlog=s2@group-09A0EF6A68F4-SegmentedRaftLog:OPENED:c1,f2,i2, conf=0: [s0:0.0.0.0:42611, s1:0.0.0.0:39575, s2:0.0.0.0:34382], old=null
2019-09-24 16:58:41,659 DEBUG impl.RaftServerImpl (RaftServerImpl.java:requestVote(775)) - s0@group-09A0EF6A68F4 replies to vote request: s1<-s0#0:FAIL-t70. Peer's state: s0@group-09A0EF6A68F4:t70, leader=null, voted=s0, raftlog=s0@group-09A0EF6A68F4-SegmentedRaftLog:OPENED:c1,f2,i2, conf=0: [s0:0.0.0.0:42611, s1:0.0.0.0:39575, s2:0.0.0.0:34382], old=null
2019-09-24 16:58:41,660 DEBUG impl.RaftServerImpl (RaftServerImpl.java:requestVote(775)) - s1@group-09A0EF6A68F4 replies to vote request: s2<-s1#0:FAIL-t70. Peer's state: s1@group-09A0EF6A68F4:t70, leader=null, voted=s1, raftlog=s1@group-09A0EF6A68F4-SegmentedRaftLog:OPENED:c1,f2,i2, conf=0: [s0:0.0.0.0:42611, s1:0.0.0.0:39575, s2:0.0.0.0:34382], old=null
2019-09-24 16:58:41,660 DEBUG impl.RaftServerImpl (RaftServerImpl.java:requestVote(775)) - s2@group-09A0EF6A68F4 replies to vote request: s0<-s2#0:FAIL-t70. Peer's state: s2@group-09A0EF6A68F4:t70, leader=null, voted=s2, raftlog=s2@group-09A0EF6A68F4-SegmentedRaftLog:OPENED:c1,f2,i2, conf=0: [s0:0.0.0.0:42611, s1:0.0.0.0:39575, s2:0.0.0.0:34382], old=null
2019-09-24 16:58:41,661 INFO  impl.LeaderElection (LeaderElection.java:logAndReturn(56)) - s2@group-09A0EF6A68F4-LeaderElection174: Election REJECTED; received 2 response(s) [s2<-s0#0:FAIL-t70, s2<-s1#0:FAIL-t70] and 0 exception(s); s2@group-09A0EF6A68F4:t70, leader=null, voted=s2, raftlog=s2@group-09A0EF6A68F4-SegmentedRaftLog:OPENED:c1,f2,i2, conf=0: [s0:0.0.0.0:42611, s1:0.0.0.0:39575, s2:0.0.0.0:34382], old=null
2019-09-24 16:58:41,660 INFO  impl.LeaderElection (LeaderElection.java:logAndReturn(56)) - s1@group-09A0EF6A68F4-LeaderElection173: Election REJECTED; received 2 response(s) [s1<-s0#0:FAIL-t70, s1<-s2#0:FAIL-t70] and 0 exception(s); s1@group-09A0EF6A68F4:t70, leader=null, voted=s1, raftlog=s1@group-09A0EF6A68F4-SegmentedRaftLog:OPENED:c1,f2,i2, conf=0: [s0:0.0.0.0:42611, s1:0.0.0.0:39575, s2:0.0.0.0:34382], old=null
2019-09-24 16:58:41,661 INFO  impl.RaftServerImpl (RaftServerImpl.java:setRole(170)) - s2@group-09A0EF6A68F4: changes role from CANDIDATE to FOLLOWER at term 70 for DISCOVERED_A_NEW_TERM
2019-09-24 16:58:41,661 INFO  impl.LeaderElection (LeaderElection.java:logAndReturn(56)) - s0@group-09A0EF6A68F4-LeaderElection175: Election REJECTED; received 2 response(s) [s0<-s1#0:FAIL-t70, s0<-s2#0:FAIL-t70] and 0 exception(s); s0@group-09A0EF6A68F4:t70, leader=null, voted=s0, raftlog=s0@group-09A0EF6A68F4-SegmentedRaftLog:OPENED:c1,f2,i2, conf=0: [s0:0.0.0.0:42611, s1:0.0.0.0:39575, s2:0.0.0.0:34382], old=null
2019-09-24 16:58:41,661 INFO  impl.RoleInfo (RoleInfo.java:shutdownLeaderElection(134)) - s2: shutdown LeaderElection
2019-09-24 16:58:41,661 INFO  impl.RaftServerImpl (RaftServerImpl.java:setRole(170)) - s1@group-09A0EF6A68F4: changes role from CANDIDATE to FOLLOWER at term 70 for DISCOVERED_A_NEW_TERM
2019-09-24 16:58:41,662 INFO  impl.RoleInfo (RoleInfo.java:updateAndGet(143)) - s2: start FollowerState
2019-09-24 16:58:41,661 INFO  impl.RaftServerImpl (RaftServerImpl.java:setRole(170)) - s0@group-09A0EF6A68F4: changes role from CANDIDATE to FOLLOWER at term 70 for DISCOVERED_A_NEW_TERM
2019-09-24 16:58:41,662 INFO  impl.RoleInfo (RoleInfo.java:shutdownLeaderElection(134)) - s1: shutdown LeaderElection
2019-09-24 16:58:41,662 INFO  impl.RoleInfo (RoleInfo.java:shutdownLeaderElection(134)) - s0: shutdown LeaderElection
2019-09-24 16:58:41,662 INFO  impl.RoleInfo (RoleInfo.java:updateAndGet(143)) - s1: start FollowerState
2019-09-24 16:58:41,662 INFO  impl.RoleInfo (RoleInfo.java:updateAndGet(143)) - s0: start FollowerState
2019-09-24 16:58:41,778 WARN  ratis.RaftTestUtil (JavaUtils.java:attempt(158)) - FAILED "waitForLeader-null-(expectLeader? true)", attempt #92/100: java.lang.IllegalStateException: No leader yet : printing ALL groups
  s0:  RUNNING  FOLLOWER s0@group-09A0EF6A68F4:t70, leader=null, voted=s0, raftlog=s0@group-09A0EF6A68F4-SegmentedRaftLog:OPENED:c1,f2,i2, conf=0: [s0:0.0.0.0:42611, s1:0.0.0.0:39575, s2:0.0.0.0:34382], old=null RUNNING
  s1:  RUNNING  FOLLOWER s1@group-09A0EF6A68F4:t70, leader=null, voted=s1, raftlog=s1@group-09A0EF6A68F4-SegmentedRaftLog:OPENED:c1,f2,i2, conf=0: [s0:0.0.0.0:42611, s1:0.0.0.0:39575, s2:0.0.0.0:34382], old=null RUNNING
  s2:  RUNNING  FOLLOWER s2@group-09A0EF6A68F4:t70, leader=null, voted=s2, raftlog=s2@group-09A0EF6A68F4-SegmentedRaftLog:OPENED:c1,f2,i2, conf=0: [s0:0.0.0.0:42611, s1:0.0.0.0:39575, s2:0.0.0.0:34382], old=null RUNNING, sleep 450ms and then retry.
java.lang.IllegalStateException: No leader yet : printing ALL groups
  s0:  RUNNING  FOLLOWER s0@group-09A0EF6A68F4:t70, leader=null, voted=s0, raftlog=s0@group-09A0EF6A68F4-SegmentedRaftLog:OPENED:c1,f2,i2, conf=0: [s0:0.0.0.0:42611, s1:0.0.0.0:39575, s2:0.0.0.0:34382], old=null RUNNING
  s1:  RUNNING  FOLLOWER s1@group-09A0EF6A68F4:t70, leader=null, voted=s1, raftlog=s1@group-09A0EF6A68F4-SegmentedRaftLog:OPENED:c1,f2,i2, conf=0: [s0:0.0.0.0:42611, s1:0.0.0.0:39575, s2:0.0.0.0:34382], old=null RUNNING
  s2:  RUNNING  FOLLOWER s2@group-09A0EF6A68F4:t70, leader=null, voted=s2, raftlog=s2@group-09A0EF6A68F4-SegmentedRaftLog:OPENED:c1,f2,i2, conf=0: [s0:0.0.0.0:42611, s1:0.0.0.0:39575, s2:0.0.0.0:34382], old=null RUNNING
	at org.apache.ratis.MiniRaftCluster.newIllegalStateExceptionForNoLeaders(MiniRaftCluster.java:506)
	at org.apache.ratis.RaftTestUtil.lambda$waitForLeader$1(RaftTestUtil.java:90)
	at org.apache.ratis.MiniRaftCluster.getLeader(MiniRaftCluster.java:539)
	at org.apache.ratis.MiniRaftCluster.getLeader(MiniRaftCluster.java:532)
	at org.apache.ratis.RaftTestUtil.lambda$waitForLeader$3(RaftTestUtil.java:98)
	at org.apache.ratis.util.JavaUtils.attempt(JavaUtils.java:152)
	at org.apache.ratis.RaftTestUtil.waitForLeader(RaftTestUtil.java:97)
	at org.apache.ratis.RaftTestUtil.waitForLeader(RaftTestUtil.java:77)
	at org.apache.ratis.RaftTestUtil.waitForLeader(RaftTestUtil.java:72)
	at org.apache.ratis.server.impl.RaftStateMachineExceptionTests.runTestRetryOnExceptionDuringReplication(RaftStateMachineExceptionTests.java:166)
	at org.apache.ratis.MiniRaftCluster$Factory$Get.runWithNewCluster(MiniRaftCluster.java:125)
	at org.apache.ratis.MiniRaftCluster$Factory$Get.runWithNewCluster(MiniRaftCluster.java:113)
	at org.apache.ratis.server.impl.RaftStateMachineExceptionTests.testRetryOnExceptionDuringReplication(RaftStateMachineExceptionTests.java:145)
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.lang.reflect.Method.invoke(Method.java:498)
	at org.junit.runners.model.FrameworkMethod$1.runReflectiveCall(FrameworkMethod.java:50)
	at org.junit.internal.runners.model.ReflectiveCallable.run(ReflectiveCallable.java:12)
	at org.junit.runners.model.FrameworkMethod.invokeExplosively(FrameworkMethod.java:47)
	at org.junit.internal.runners.statements.InvokeMethod.evaluate(InvokeMethod.java:17)
	at org.junit.internal.runners.statements.RunAfters.evaluate(RunAfters.java:27)
	at org.junit.internal.runners.statements.FailOnTimeout$CallableStatement.call(FailOnTimeout.java:298)
	at org.junit.internal.runners.statements.FailOnTimeout$CallableStatement.call(FailOnTimeout.java:292)
	at java.util.concurrent.FutureTask.run(FutureTask.java:266)
	at java.lang.Thread.run(Thread.java:748)
2019-09-24 16:58:41,901 INFO  impl.FollowerState (FollowerState.java:run(108)) - s2@group-09A0EF6A68F4-FollowerState: change to CANDIDATE, lastRpcTime:239ms, electionTimeout:239ms
2019-09-24 16:58:41,902 INFO  impl.RoleInfo (RoleInfo.java:shutdownFollowerState(121)) - s2: shutdown FollowerState
2019-09-24 16:58:41,902 INFO  impl.RaftServerImpl (RaftServerImpl.java:setRole(170)) - s2@group-09A0EF6A68F4: changes role from  FOLLOWER to CANDIDATE at term 70 for changeToCandidate
2019-09-24 16:58:41,902 INFO  impl.RoleInfo (RoleInfo.java:updateAndGet(143)) - s2: start LeaderElection
2019-09-24 16:58:41,915 INFO  impl.LeaderElection (LeaderElection.java:askForVotes(178)) - s2@group-09A0EF6A68F4-LeaderElection176: begin an election at term 71 for 0: [s0:0.0.0.0:42611, s1:0.0.0.0:39575, s2:0.0.0.0:34382], old=null
2019-09-24 16:58:41,916 DEBUG impl.RaftServerImpl (RaftServerImpl.java:requestVote(743)) - s0@group-09A0EF6A68F4: receive requestVote(s2, group-09A0EF6A68F4, 71, (t:62, i:2))
2019-09-24 16:58:41,916 DEBUG impl.RaftServerImpl (RaftServerImpl.java:requestVote(743)) - s1@group-09A0EF6A68F4: receive requestVote(s2, group-09A0EF6A68F4, 71, (t:62, i:2))
2019-09-24 16:58:41,917 INFO  impl.RaftServerImpl (RaftServerImpl.java:setRole(170)) - s0@group-09A0EF6A68F4: changes role from  FOLLOWER to FOLLOWER at term 71 for recognizeCandidate:s2
2019-09-24 16:58:41,917 INFO  impl.RaftServerImpl (RaftServerImpl.java:setRole(170)) - s1@group-09A0EF6A68F4: changes role from  FOLLOWER to FOLLOWER at term 71 for recognizeCandidate:s2
2019-09-24 16:58:41,917 INFO  impl.RoleInfo (RoleInfo.java:shutdownFollowerState(121)) - s0: shutdown FollowerState
2019-09-24 16:58:41,917 INFO  impl.RoleInfo (RoleInfo.java:shutdownFollowerState(121)) - s1: shutdown FollowerState
2019-09-24 16:58:41,917 INFO  impl.FollowerState (FollowerState.java:run(117)) - s0@group-09A0EF6A68F4-FollowerState was interrupted: java.lang.InterruptedException: sleep interrupted
2019-09-24 16:58:41,917 INFO  impl.RoleInfo (RoleInfo.java:updateAndGet(143)) - s1: start FollowerState
2019-09-24 16:58:41,917 INFO  impl.RoleInfo (RoleInfo.java:updateAndGet(143)) - s0: start FollowerState
2019-09-24 16:58:41,917 INFO  impl.FollowerState (FollowerState.java:run(117)) - s1@group-09A0EF6A68F4-FollowerState was interrupted: java.lang.InterruptedException: sleep interrupted
2019-09-24 16:58:42,090 INFO  impl.LeaderElection (LeaderElection.java:logAndReturn(56)) - s2@group-09A0EF6A68F4-LeaderElection176: Election TIMEOUT; received 0 response(s) [] and 0 exception(s); s2@group-09A0EF6A68F4:t71, leader=null, voted=s2, raftlog=s2@group-09A0EF6A68F4-SegmentedRaftLog:OPENED:c1,f2,i2, conf=0: [s0:0.0.0.0:42611, s1:0.0.0.0:39575, s2:0.0.0.0:34382], old=null
2019-09-24 16:58:42,140 INFO  impl.LeaderElection (LeaderElection.java:askForVotes(178)) - s2@group-09A0EF6A68F4-LeaderElection176: begin an election at term 72 for 0: [s0:0.0.0.0:42611, s1:0.0.0.0:39575, s2:0.0.0.0:34382], old=null
2019-09-24 16:58:42,140 DEBUG impl.RaftServerImpl (RaftServerImpl.java:requestVote(775)) - s0@group-09A0EF6A68F4 replies to vote request: s2<-s0#0:OK-t71. Peer's state: s0@group-09A0EF6A68F4:t71, leader=null, voted=s2, raftlog=s0@group-09A0EF6A68F4-SegmentedRaftLog:OPENED:c1,f2,i2, conf=0: [s0:0.0.0.0:42611, s1:0.0.0.0:39575, s2:0.0.0.0:34382], old=null
2019-09-24 16:58:42,141 DEBUG impl.RaftServerImpl (RaftServerImpl.java:requestVote(775)) - s1@group-09A0EF6A68F4 replies to vote request: s2<-s1#0:OK-t71. Peer's state: s1@group-09A0EF6A68F4:t71, leader=null, voted=s2, raftlog=s1@group-09A0EF6A68F4-SegmentedRaftLog:OPENED:c1,f2,i2, conf=0: [s0:0.0.0.0:42611, s1:0.0.0.0:39575, s2:0.0.0.0:34382], old=null
2019-09-24 16:58:42,141 INFO  impl.FollowerState (FollowerState.java:run(108)) - s0@group-09A0EF6A68F4-FollowerState: change to CANDIDATE, lastRpcTime:223ms, electionTimeout:189ms
2019-09-24 16:58:42,141 INFO  impl.FollowerState (FollowerState.java:run(108)) - s1@group-09A0EF6A68F4-FollowerState: change to CANDIDATE, lastRpcTime:223ms, electionTimeout:198ms
2019-09-24 16:58:42,141 DEBUG impl.RaftServerImpl (RaftServerImpl.java:requestVote(743)) - s0@group-09A0EF6A68F4: receive requestVote(s2, group-09A0EF6A68F4, 72, (t:62, i:2))
2019-09-24 16:58:42,141 INFO  impl.RoleInfo (RoleInfo.java:shutdownFollowerState(121)) - s0: shutdown FollowerState
2019-09-24 16:58:42,141 DEBUG impl.RaftServerImpl (RaftServerImpl.java:requestVote(743)) - s1@group-09A0EF6A68F4: receive requestVote(s2, group-09A0EF6A68F4, 72, (t:62, i:2))
2019-09-24 16:58:42,141 INFO  impl.RoleInfo (RoleInfo.java:shutdownFollowerState(121)) - s1: shutdown FollowerState
2019-09-24 16:58:42,142 INFO  impl.RaftServerImpl (RaftServerImpl.java:setRole(170)) - s0@group-09A0EF6A68F4: changes role from  FOLLOWER to CANDIDATE at term 71 for changeToCandidate
2019-09-24 16:58:42,142 INFO  impl.RaftServerImpl (RaftServerImpl.java:setRole(170)) - s1@group-09A0EF6A68F4: changes role from  FOLLOWER to CANDIDATE at term 71 for changeToCandidate
2019-09-24 16:58:42,142 INFO  impl.RoleInfo (RoleInfo.java:updateAndGet(143)) - s0: start LeaderElection
2019-09-24 16:58:42,142 INFO  impl.RoleInfo (RoleInfo.java:updateAndGet(143)) - s1: start LeaderElection
2019-09-24 16:58:42,143 INFO  impl.RaftServerImpl (RaftServerImpl.java:setRole(170)) - s0@group-09A0EF6A68F4: changes role from CANDIDATE to FOLLOWER at term 72 for recognizeCandidate:s2
2019-09-24 16:58:42,143 INFO  impl.RaftServerImpl (RaftServerImpl.java:setRole(170)) - s1@group-09A0EF6A68F4: changes role from CANDIDATE to FOLLOWER at term 72 for recognizeCandidate:s2
2019-09-24 16:58:42,143 INFO  impl.RoleInfo (RoleInfo.java:shutdownLeaderElection(134)) - s0: shutdown LeaderElection
2019-09-24 16:58:42,143 INFO  impl.RoleInfo (RoleInfo.java:shutdownLeaderElection(134)) - s1: shutdown LeaderElection
2019-09-24 16:58:42,143 INFO  impl.RoleInfo (RoleInfo.java:updateAndGet(143)) - s0: start FollowerState
2019-09-24 16:58:42,144 INFO  impl.RoleInfo (RoleInfo.java:updateAndGet(143)) - s1: start FollowerState
2019-09-24 16:58:42,159 DEBUG impl.RaftServerImpl (RaftServerImpl.java:requestVote(775)) - s1@group-09A0EF6A68F4 replies to vote request: s2<-s1#0:FAIL-t72. Peer's state: s1@group-09A0EF6A68F4:t72, leader=null, voted=null, raftlog=s1@group-09A0EF6A68F4-SegmentedRaftLog:OPENED:c1,f2,i2, conf=0: [s0:0.0.0.0:42611, s1:0.0.0.0:39575, s2:0.0.0.0:34382], old=null
2019-09-24 16:58:42,159 DEBUG impl.RaftServerImpl (RaftServerImpl.java:requestVote(775)) - s0@group-09A0EF6A68F4 replies to vote request: s2<-s0#0:FAIL-t72. Peer's state: s0@group-09A0EF6A68F4:t72, leader=null, voted=null, raftlog=s0@group-09A0EF6A68F4-SegmentedRaftLog:OPENED:c1,f2,i2, conf=0: [s0:0.0.0.0:42611, s1:0.0.0.0:39575, s2:0.0.0.0:34382], old=null
2019-09-24 16:58:42,159 INFO  impl.LeaderElection (LeaderElection.java:logAndReturn(56)) - s2@group-09A0EF6A68F4-LeaderElection176: Election REJECTED; received 2 response(s) [s2<-s0#0:FAIL-t72, s2<-s1#0:FAIL-t72] and 0 exception(s); s2@group-09A0EF6A68F4:t72, leader=null, voted=s2, raftlog=s2@group-09A0EF6A68F4-SegmentedRaftLog:OPENED:c1,f2,i2, conf=0: [s0:0.0.0.0:42611, s1:0.0.0.0:39575, s2:0.0.0.0:34382], old=null
2019-09-24 16:58:42,159 INFO  impl.RaftServerImpl (RaftServerImpl.java:setRole(170)) - s2@group-09A0EF6A68F4: changes role from CANDIDATE to FOLLOWER at term 72 for DISCOVERED_A_NEW_TERM
2019-09-24 16:58:42,160 INFO  impl.RoleInfo (RoleInfo.java:shutdownLeaderElection(134)) - s2: shutdown LeaderElection
2019-09-24 16:58:42,160 INFO  impl.RoleInfo (RoleInfo.java:updateAndGet(143)) - s2: start FollowerState
2019-09-24 16:58:42,172 INFO  impl.LeaderElection (LeaderElection.java:askForVotes(178)) - s0@group-09A0EF6A68F4-LeaderElection177: begin an election at term 73 for 0: [s0:0.0.0.0:42611, s1:0.0.0.0:39575, s2:0.0.0.0:34382], old=null
2019-09-24 16:58:42,172 INFO  impl.LeaderElection (LeaderElection.java:askForVotes(178)) - s1@group-09A0EF6A68F4-LeaderElection178: begin an election at term 73 for 0: [s0:0.0.0.0:42611, s1:0.0.0.0:39575, s2:0.0.0.0:34382], old=null
2019-09-24 16:58:42,173 DEBUG impl.RaftServerImpl (RaftServerImpl.java:requestVote(743)) - s1@group-09A0EF6A68F4: receive requestVote(s0, group-09A0EF6A68F4, 73, (t:62, i:2))
2019-09-24 16:58:42,173 INFO  impl.LeaderElection (LeaderElection.java:logAndReturn(56)) - s1@group-09A0EF6A68F4-LeaderElection178: Election REJECTED; received 0 response(s) [] and 0 exception(s); s1@group-09A0EF6A68F4:t73, leader=null, voted=s1, raftlog=s1@group-09A0EF6A68F4-SegmentedRaftLog:OPENED:c1,f2,i2, conf=0: [s0:0.0.0.0:42611, s1:0.0.0.0:39575, s2:0.0.0.0:34382], old=null
2019-09-24 16:58:42,173 INFO  impl.LeaderElection (LeaderElection.java:logAndReturn(56)) - s0@group-09A0EF6A68F4-LeaderElection177: Election REJECTED; received 0 response(s) [] and 0 exception(s); s0@group-09A0EF6A68F4:t73, leader=null, voted=s0, raftlog=s0@group-09A0EF6A68F4-SegmentedRaftLog:OPENED:c1,f2,i2, conf=0: [s0:0.0.0.0:42611, s1:0.0.0.0:39575, s2:0.0.0.0:34382], old=null
2019-09-24 16:58:42,173 DEBUG impl.RaftServerImpl (RaftServerImpl.java:requestVote(743)) - s2@group-09A0EF6A68F4: receive requestVote(s0, group-09A0EF6A68F4, 73, (t:62, i:2))
2019-09-24 16:58:42,173 DEBUG impl.RaftServerImpl (RaftServerImpl.java:requestVote(743)) - s0@group-09A0EF6A68F4: receive requestVote(s1, group-09A0EF6A68F4, 73, (t:62, i:2))
2019-09-24 16:58:42,174 INFO  impl.RaftServerImpl (RaftServerImpl.java:setRole(170)) - s2@group-09A0EF6A68F4: changes role from  FOLLOWER to FOLLOWER at term 73 for recognizeCandidate:s0
2019-09-24 16:58:42,173 DEBUG impl.RaftServerImpl (RaftServerImpl.java:requestVote(743)) - s2@group-09A0EF6A68F4: receive requestVote(s1, group-09A0EF6A68F4, 73, (t:62, i:2))
2019-09-24 16:58:42,173 DEBUG impl.RaftServerImpl (RaftServerImpl.java:requestVote(775)) - s1@group-09A0EF6A68F4 replies to vote request: s0<-s1#0:FAIL-t73. Peer's state: s1@group-09A0EF6A68F4:t73, leader=null, voted=s1, raftlog=s1@group-09A0EF6A68F4-SegmentedRaftLog:OPENED:c1,f2,i2, conf=0: [s0:0.0.0.0:42611, s1:0.0.0.0:39575, s2:0.0.0.0:34382], old=null
2019-09-24 16:58:42,174 INFO  impl.RoleInfo (RoleInfo.java:shutdownFollowerState(121)) - s2: shutdown FollowerState
2019-09-24 16:58:42,174 DEBUG impl.RaftServerImpl (RaftServerImpl.java:requestVote(775)) - s0@group-09A0EF6A68F4 replies to vote request: s1<-s0#0:FAIL-t73. Peer's state: s0@group-09A0EF6A68F4:t73, leader=null, voted=s0, raftlog=s0@group-09A0EF6A68F4-SegmentedRaftLog:OPENED:c1,f2,i2, conf=0: [s0:0.0.0.0:42611, s1:0.0.0.0:39575, s2:0.0.0.0:34382], old=null
2019-09-24 16:58:42,174 INFO  impl.FollowerState (FollowerState.java:run(117)) - s2@group-09A0EF6A68F4-FollowerState was interrupted: java.lang.InterruptedException: sleep interrupted
2019-09-24 16:58:42,174 INFO  impl.RoleInfo (RoleInfo.java:updateAndGet(143)) - s2: start FollowerState
2019-09-24 16:58:42,212 DEBUG impl.RaftServerImpl (RaftServerImpl.java:requestVote(775)) - s2@group-09A0EF6A68F4 replies to vote request: s0<-s2#0:OK-t73. Peer's state: s2@group-09A0EF6A68F4:t73, leader=null, voted=s0, raftlog=s2@group-09A0EF6A68F4-SegmentedRaftLog:OPENED:c1,f2,i2, conf=0: [s0:0.0.0.0:42611, s1:0.0.0.0:39575, s2:0.0.0.0:34382], old=null
2019-09-24 16:58:42,212 DEBUG impl.RaftServerImpl (RaftServerImpl.java:requestVote(775)) - s2@group-09A0EF6A68F4 replies to vote request: s1<-s2#0:FAIL-t73. Peer's state: s2@group-09A0EF6A68F4:t73, leader=null, voted=s0, raftlog=s2@group-09A0EF6A68F4-SegmentedRaftLog:OPENED:c1,f2,i2, conf=0: [s0:0.0.0.0:42611, s1:0.0.0.0:39575, s2:0.0.0.0:34382], old=null
2019-09-24 16:58:42,230 WARN  ratis.RaftTestUtil (JavaUtils.java:attempt(158)) - FAILED "waitForLeader-null-(expectLeader? true)", attempt #93/100: java.lang.IllegalStateException: No leader yet : printing ALL groups
  s0:  RUNNING  FOLLOWER s0@group-09A0EF6A68F4:t73, leader=null, voted=s0, raftlog=s0@group-09A0EF6A68F4-SegmentedRaftLog:OPENED:c1,f2,i2, conf=0: [s0:0.0.0.0:42611, s1:0.0.0.0:39575, s2:0.0.0.0:34382], old=null RUNNING
  s1:  RUNNING  FOLLOWER s1@group-09A0EF6A68F4:t73, leader=null, voted=s1, raftlog=s1@group-09A0EF6A68F4-SegmentedRaftLog:OPENED:c1,f2,i2, conf=0: [s0:0.0.0.0:42611, s1:0.0.0.0:39575, s2:0.0.0.0:34382], old=null RUNNING
  s2:  RUNNING  FOLLOWER s2@group-09A0EF6A68F4:t73, leader=null, voted=s0, raftlog=s2@group-09A0EF6A68F4-SegmentedRaftLog:OPENED:c1,f2,i2, conf=0: [s0:0.0.0.0:42611, s1:0.0.0.0:39575, s2:0.0.0.0:34382], old=null RUNNING, sleep 450ms and then retry.
java.lang.IllegalStateException: No leader yet : printing ALL groups
  s0:  RUNNING  FOLLOWER s0@group-09A0EF6A68F4:t73, leader=null, voted=s0, raftlog=s0@group-09A0EF6A68F4-SegmentedRaftLog:OPENED:c1,f2,i2, conf=0: [s0:0.0.0.0:42611, s1:0.0.0.0:39575, s2:0.0.0.0:34382], old=null RUNNING
  s1:  RUNNING  FOLLOWER s1@group-09A0EF6A68F4:t73, leader=null, voted=s1, raftlog=s1@group-09A0EF6A68F4-SegmentedRaftLog:OPENED:c1,f2,i2, conf=0: [s0:0.0.0.0:42611, s1:0.0.0.0:39575, s2:0.0.0.0:34382], old=null RUNNING
  s2:  RUNNING  FOLLOWER s2@group-09A0EF6A68F4:t73, leader=null, voted=s0, raftlog=s2@group-09A0EF6A68F4-SegmentedRaftLog:OPENED:c1,f2,i2, conf=0: [s0:0.0.0.0:42611, s1:0.0.0.0:39575, s2:0.0.0.0:34382], old=null RUNNING
	at org.apache.ratis.MiniRaftCluster.newIllegalStateExceptionForNoLeaders(MiniRaftCluster.java:506)
	at org.apache.ratis.RaftTestUtil.lambda$waitForLeader$1(RaftTestUtil.java:90)
	at org.apache.ratis.MiniRaftCluster.getLeader(MiniRaftCluster.java:539)
	at org.apache.ratis.MiniRaftCluster.getLeader(MiniRaftCluster.java:532)
	at org.apache.ratis.RaftTestUtil.lambda$waitForLeader$3(RaftTestUtil.java:98)
	at org.apache.ratis.util.JavaUtils.attempt(JavaUtils.java:152)
	at org.apache.ratis.RaftTestUtil.waitForLeader(RaftTestUtil.java:97)
	at org.apache.ratis.RaftTestUtil.waitForLeader(RaftTestUtil.java:77)
	at org.apache.ratis.RaftTestUtil.waitForLeader(RaftTestUtil.java:72)
	at org.apache.ratis.server.impl.RaftStateMachineExceptionTests.runTestRetryOnExceptionDuringReplication(RaftStateMachineExceptionTests.java:166)
	at org.apache.ratis.MiniRaftCluster$Factory$Get.runWithNewCluster(MiniRaftCluster.java:125)
	at org.apache.ratis.MiniRaftCluster$Factory$Get.runWithNewCluster(MiniRaftCluster.java:113)
	at org.apache.ratis.server.impl.RaftStateMachineExceptionTests.testRetryOnExceptionDuringReplication(RaftStateMachineExceptionTests.java:145)
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.lang.reflect.Method.invoke(Method.java:498)
	at org.junit.runners.model.FrameworkMethod$1.runReflectiveCall(FrameworkMethod.java:50)
	at org.junit.internal.runners.model.ReflectiveCallable.run(ReflectiveCallable.java:12)
	at org.junit.runners.model.FrameworkMethod.invokeExplosively(FrameworkMethod.java:47)
	at org.junit.internal.runners.statements.InvokeMethod.evaluate(InvokeMethod.java:17)
	at org.junit.internal.runners.statements.RunAfters.evaluate(RunAfters.java:27)
	at org.junit.internal.runners.statements.FailOnTimeout$CallableStatement.call(FailOnTimeout.java:298)
	at org.junit.internal.runners.statements.FailOnTimeout$CallableStatement.call(FailOnTimeout.java:292)
	at java.util.concurrent.FutureTask.run(FutureTask.java:266)
	at java.lang.Thread.run(Thread.java:748)
2019-09-24 16:58:42,398 INFO  impl.FollowerState (FollowerState.java:run(108)) - s1@group-09A0EF6A68F4-FollowerState: change to CANDIDATE, lastRpcTime:254ms, electionTimeout:254ms
2019-09-24 16:58:42,399 INFO  impl.RoleInfo (RoleInfo.java:shutdownFollowerState(121)) - s1: shutdown FollowerState
2019-09-24 16:58:42,399 INFO  impl.RaftServerImpl (RaftServerImpl.java:setRole(170)) - s1@group-09A0EF6A68F4: changes role from  FOLLOWER to CANDIDATE at term 73 for changeToCandidate
2019-09-24 16:58:42,399 INFO  impl.RoleInfo (RoleInfo.java:updateAndGet(143)) - s1: start LeaderElection
2019-09-24 16:58:42,413 INFO  impl.LeaderElection (LeaderElection.java:askForVotes(178)) - s1@group-09A0EF6A68F4-LeaderElection179: begin an election at term 74 for 0: [s0:0.0.0.0:42611, s1:0.0.0.0:39575, s2:0.0.0.0:34382], old=null
2019-09-24 16:58:42,414 DEBUG impl.RaftServerImpl (RaftServerImpl.java:requestVote(743)) - s0@group-09A0EF6A68F4: receive requestVote(s1, group-09A0EF6A68F4, 74, (t:62, i:2))
2019-09-24 16:58:42,414 DEBUG impl.RaftServerImpl (RaftServerImpl.java:requestVote(743)) - s2@group-09A0EF6A68F4: receive requestVote(s1, group-09A0EF6A68F4, 74, (t:62, i:2))
2019-09-24 16:58:42,414 INFO  impl.RaftServerImpl (RaftServerImpl.java:setRole(170)) - s0@group-09A0EF6A68F4: changes role from  FOLLOWER to FOLLOWER at term 74 for recognizeCandidate:s1
2019-09-24 16:58:42,414 INFO  impl.RaftServerImpl (RaftServerImpl.java:setRole(170)) - s2@group-09A0EF6A68F4: changes role from  FOLLOWER to FOLLOWER at term 74 for recognizeCandidate:s1
2019-09-24 16:58:42,414 INFO  impl.RoleInfo (RoleInfo.java:shutdownFollowerState(121)) - s0: shutdown FollowerState
2019-09-24 16:58:42,415 INFO  impl.RoleInfo (RoleInfo.java:shutdownFollowerState(121)) - s2: shutdown FollowerState
2019-09-24 16:58:42,415 INFO  impl.FollowerState (FollowerState.java:run(117)) - s0@group-09A0EF6A68F4-FollowerState was interrupted: java.lang.InterruptedException: sleep interrupted
2019-09-24 16:58:42,415 INFO  impl.RoleInfo (RoleInfo.java:updateAndGet(143)) - s0: start FollowerState
2019-09-24 16:58:42,415 INFO  impl.FollowerState (FollowerState.java:run(117)) - s2@group-09A0EF6A68F4-FollowerState was interrupted: java.lang.InterruptedException: sleep interrupted
2019-09-24 16:58:42,415 INFO  impl.RoleInfo (RoleInfo.java:updateAndGet(143)) - s2: start FollowerState
2019-09-24 16:58:42,569 DEBUG impl.RaftServerImpl (RaftServerImpl.java:requestVote(775)) - s0@group-09A0EF6A68F4 replies to vote request: s1<-s0#0:OK-t74. Peer's state: s0@group-09A0EF6A68F4:t74, leader=null, voted=s1, raftlog=s0@group-09A0EF6A68F4-SegmentedRaftLog:OPENED:c1,f2,i2, conf=0: [s0:0.0.0.0:42611, s1:0.0.0.0:39575, s2:0.0.0.0:34382], old=null
2019-09-24 16:58:42,569 DEBUG impl.RaftServerImpl (RaftServerImpl.java:requestVote(775)) - s2@group-09A0EF6A68F4 replies to vote request: s1<-s2#0:OK-t74. Peer's state: s2@group-09A0EF6A68F4:t74, leader=null, voted=s1, raftlog=s2@group-09A0EF6A68F4-SegmentedRaftLog:OPENED:c1,f2,i2, conf=0: [s0:0.0.0.0:42611, s1:0.0.0.0:39575, s2:0.0.0.0:34382], old=null
2019-09-24 16:58:42,570 INFO  impl.LeaderElection (LeaderElection.java:logAndReturn(56)) - s1@group-09A0EF6A68F4-LeaderElection179: Election PASSED; received 1 response(s) [s1<-s0#0:OK-t74] and 0 exception(s); s1@group-09A0EF6A68F4:t74, leader=null, voted=s1, raftlog=s1@group-09A0EF6A68F4-SegmentedRaftLog:OPENED:c1,f2,i2, conf=0: [s0:0.0.0.0:42611, s1:0.0.0.0:39575, s2:0.0.0.0:34382], old=null
2019-09-24 16:58:42,570 INFO  impl.RoleInfo (RoleInfo.java:shutdownLeaderElection(134)) - s1: shutdown LeaderElection
2019-09-24 16:58:42,570 INFO  impl.RaftServerImpl (RaftServerImpl.java:setRole(170)) - s1@group-09A0EF6A68F4: changes role from CANDIDATE to LEADER at term 74 for changeToLeader
2019-09-24 16:58:42,571 INFO  impl.RaftServerImpl (ServerState.java:setLeader(254)) - s1@group-09A0EF6A68F4: change Leader from null to s1 at term 74 for becomeLeader, leader elected after 41602ms
2019-09-24 16:58:42,571 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.staging.catchup.gap = 1000 (default)
2019-09-24 16:58:42,571 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.rpc.sleep.time = 25ms (default)
2019-09-24 16:58:42,571 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.write.element-limit = 4096 (default)
2019-09-24 16:58:42,571 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.watch.timeout = 10s (default)
2019-09-24 16:58:42,572 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.watch.timeout.denomination = 1s (default)
2019-09-24 16:58:42,572 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.watch.element-limit = 65536 (default)
2019-09-24 16:58:42,575 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.log.appender.snapshot.chunk.size.max = 16MB (=16777216) (default)
2019-09-24 16:58:42,576 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.log.appender.buffer.byte-limit = 4MB (=4194304) (default)
2019-09-24 16:58:42,576 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.log.appender.buffer.element-limit = 0 (default)
2019-09-24 16:58:42,576 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.log.appender.snapshot.chunk.size.max = 16MB (=16777216) (default)
2019-09-24 16:58:42,576 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.log.appender.buffer.byte-limit = 4MB (=4194304) (default)
2019-09-24 16:58:42,577 INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.log.appender.buffer.element-limit = 0 (default)
2019-09-24 16:58:42,577 INFO  impl.RoleInfo (RoleInfo.java:updateAndGet(143)) - s1: start LeaderState
2019-09-24 16:58:42,577 DEBUG raftlog.RaftLog (SegmentedRaftLog.java:appendImpl(425)) - truncateIndex=-1, arrayIndex=0
2019-09-24 16:58:42,578 INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:rollLogSegment(385)) - s1@group-09A0EF6A68F4-SegmentedRaftLogWorker: Rolling segment log-0_2 to index:2
2019-09-24 16:58:42,585 TRACE util.FileUtils (LogUtils.java:runAndLog(61)) - Successfully ran Files.move /workdir/ratis-test/target/test/data/40df402d/MiniRaftClusterWithSimulatedRpc347dd568/s1/9eb3e987-0230-4f29-8879-09a0ef6a68f4/current/log_inprogress_0 to /workdir/ratis-test/target/test/data/40df402d/MiniRaftClusterWithSimulatedRpc347dd568/s1/9eb3e987-0230-4f29-8879-09a0ef6a68f4/current/log_0-2
2019-09-24 16:58:42,585 INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:execute(526)) - s1@group-09A0EF6A68F4-SegmentedRaftLogWorker: Rolled log segment from /workdir/ratis-test/target/test/data/40df402d/MiniRaftClusterWithSimulatedRpc347dd568/s1/9eb3e987-0230-4f29-8879-09a0ef6a68f4/current/log_inprogress_0 to /workdir/ratis-test/target/test/data/40df402d/MiniRaftClusterWithSimulatedRpc347dd568/s1/9eb3e987-0230-4f29-8879-09a0ef6a68f4/current/log_0-2
2019-09-24 16:58:42,586 INFO  impl.RaftServerImpl (ServerState.java:setRaftConf(355)) - s1@group-09A0EF6A68F4: set configuration 3: [s0:0.0.0.0:42611, s1:0.0.0.0:39575, s2:0.0.0.0:34382], old=null at 3
2019-09-24 16:58:42,587 INFO  impl.RaftServerImpl (ServerState.java:setLeader(254)) - s0@group-09A0EF6A68F4: change Leader from null to s1 at term 74 for appendEntries, leader elected after 41461ms
2019-09-24 16:58:42,587 INFO  impl.RaftServerImpl (ServerState.java:setLeader(254)) - s2@group-09A0EF6A68F4: change Leader from null to s1 at term 74 for appendEntries, leader elected after 41721ms
2019-09-24 16:58:42,588 DEBUG impl.RaftServerImpl (RaftServerImpl.java:logAppendEntries(850)) - s0@group-09A0EF6A68F4: receive appendEntries(s1, 74, (t:62, i:2), 1, false, commits[s1:c1, s0:c1, s2:c1], entries: (t:74, i:3), CONFIGURATIONENTRY
2019-09-24 16:58:42,589 DEBUG impl.RaftServerImpl (RaftServerImpl.java:logAppendEntries(850)) - s2@group-09A0EF6A68F4: receive appendEntries(s1, 74, (t:62, i:2), 1, false, commits[s1:c1, s0:c1, s2:c1], entries: (t:74, i:3), CONFIGURATIONENTRY
2019-09-24 16:58:42,589 INFO  impl.RaftServerImpl (ServerState.java:setRaftConf(355)) - s0@group-09A0EF6A68F4: set configuration 3: [s0:0.0.0.0:42611, s1:0.0.0.0:39575, s2:0.0.0.0:34382], old=null at 3
2019-09-24 16:58:42,589 INFO  impl.RaftServerImpl (ServerState.java:setRaftConf(355)) - s2@group-09A0EF6A68F4: set configuration 3: [s0:0.0.0.0:42611, s1:0.0.0.0:39575, s2:0.0.0.0:34382], old=null at 3
2019-09-24 16:58:42,589 DEBUG raftlog.RaftLog (SegmentedRaftLog.java:appendImpl(425)) - truncateIndex=-1, arrayIndex=0
2019-09-24 16:58:42,589 DEBUG raftlog.RaftLog (SegmentedRaftLog.java:appendImpl(425)) - truncateIndex=-1, arrayIndex=0
2019-09-24 16:58:42,590 INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:rollLogSegment(385)) - s0@group-09A0EF6A68F4-SegmentedRaftLogWorker: Rolling segment log-0_2 to index:2
2019-09-24 16:58:42,590 INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:rollLogSegment(385)) - s2@group-09A0EF6A68F4-SegmentedRaftLogWorker: Rolling segment log-0_2 to index:2
2019-09-24 16:58:42,592 TRACE util.FileUtils (LogUtils.java:runAndLog(61)) - Successfully ran Files.move /workdir/ratis-test/target/test/data/40df402d/MiniRaftClusterWithSimulatedRpc347dd568/s0/9eb3e987-0230-4f29-8879-09a0ef6a68f4/current/log_inprogress_0 to /workdir/ratis-test/target/test/data/40df402d/MiniRaftClusterWithSimulatedRpc347dd568/s0/9eb3e987-0230-4f29-8879-09a0ef6a68f4/current/log_0-2
2019-09-24 16:58:42,592 INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:execute(526)) - s0@group-09A0EF6A68F4-SegmentedRaftLogWorker: Rolled log segment from /workdir/ratis-test/target/test/data/40df402d/MiniRaftClusterWithSimulatedRpc347dd568/s0/9eb3e987-0230-4f29-8879-09a0ef6a68f4/current/log_inprogress_0 to /workdir/ratis-test/target/test/data/40df402d/MiniRaftClusterWithSimulatedRpc347dd568/s0/9eb3e987-0230-4f29-8879-09a0ef6a68f4/current/log_0-2
2019-09-24 16:58:42,593 TRACE util.FileUtils (LogUtils.java:runAndLog(61)) - Successfully ran Files.move /workdir/ratis-test/target/test/data/40df402d/MiniRaftClusterWithSimulatedRpc347dd568/s2/9eb3e987-0230-4f29-8879-09a0ef6a68f4/current/log_inprogress_0 to /workdir/ratis-test/target/test/data/40df402d/MiniRaftClusterWithSimulatedRpc347dd568/s2/9eb3e987-0230-4f29-8879-09a0ef6a68f4/current/log_0-2
2019-09-24 16:58:42,593 INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:execute(526)) - s2@group-09A0EF6A68F4-SegmentedRaftLogWorker: Rolled log segment from /workdir/ratis-test/target/test/data/40df402d/MiniRaftClusterWithSimulatedRpc347dd568/s2/9eb3e987-0230-4f29-8879-09a0ef6a68f4/current/log_inprogress_0 to /workdir/ratis-test/target/test/data/40df402d/MiniRaftClusterWithSimulatedRpc347dd568/s2/9eb3e987-0230-4f29-8879-09a0ef6a68f4/current/log_0-2
2019-09-24 16:58:42,681 INFO  ratis.RaftTestUtil (RaftTestUtil.java:waitForLeader(101)) - printing ALL groups
  s0:  RUNNING  FOLLOWER s0@group-09A0EF6A68F4:t74, leader=s1, voted=s1, raftlog=s0@group-09A0EF6A68F4-SegmentedRaftLog:OPENED:c1,f2,i3, conf=3: [s0:0.0.0.0:42611, s1:0.0.0.0:39575, s2:0.0.0.0:34382], old=null RUNNING
  s1:  RUNNING    LEADER s1@group-09A0EF6A68F4:t74, leader=s1, voted=s1, raftlog=s1@group-09A0EF6A68F4-SegmentedRaftLog:OPENED:c1,f2,i3, conf=3: [s0:0.0.0.0:42611, s1:0.0.0.0:39575, s2:0.0.0.0:34382], old=null RUNNING
  s2:  RUNNING  FOLLOWER s2@group-09A0EF6A68F4:t74, leader=s1, voted=s1, raftlog=s2@group-09A0EF6A68F4-SegmentedRaftLog:OPENED:c1,f2,i3, conf=3: [s0:0.0.0.0:42611, s1:0.0.0.0:39575, s2:0.0.0.0:34382], old=null RUNNING
2019-09-24 16:58:42,681 DEBUG impl.RaftServerImpl (RaftServerImpl.java:submitClientRequestAsync(533)) - s1@group-09A0EF6A68F4: receive client request(RaftClientRequest:client-DBD757C720C0->s1@group-09A0EF6A68F4, cid=999, seq=0, RW, message)
2019-09-24 16:58:42,683 INFO  ratis.MiniRaftCluster (MiniRaftCluster.java:runWithNewCluster(127)) - printing ALL groups
  s0:  RUNNING  FOLLOWER s0@group-09A0EF6A68F4:t74, leader=s1, voted=s1, raftlog=s0@group-09A0EF6A68F4-SegmentedRaftLog:OPENED:c1,f2,i3, conf=3: [s0:0.0.0.0:42611, s1:0.0.0.0:39575, s2:0.0.0.0:34382], old=null RUNNING
  s1:  RUNNING    LEADER s1@group-09A0EF6A68F4:t74, leader=s1, voted=s1, raftlog=s1@group-09A0EF6A68F4-SegmentedRaftLog:OPENED:c1,f2,i3, conf=3: [s0:0.0.0.0:42611, s1:0.0.0.0:39575, s2:0.0.0.0:34382], old=null RUNNING
  s2:  RUNNING  FOLLOWER s2@group-09A0EF6A68F4:t74, leader=s1, voted=s1, raftlog=s2@group-09A0EF6A68F4-SegmentedRaftLog:OPENED:c1,f2,i3, conf=3: [s0:0.0.0.0:42611, s1:0.0.0.0:39575, s2:0.0.0.0:34382], old=null RUNNING
2019-09-24 16:58:42,683 ERROR ratis.MiniRaftCluster (MiniRaftCluster.java:runWithNewCluster(128)) - Failed org.apache.ratis.MiniRaftCluster$Factory$Get.runWithNewCluster(MiniRaftCluster.java:113)
java.lang.NullPointerException
	at java.util.Objects.requireNonNull(Objects.java:203)
	at org.apache.ratis.server.impl.RaftStateMachineExceptionTests.runTestRetryOnExceptionDuringReplication(RaftStateMachineExceptionTests.java:170)
	at org.apache.ratis.MiniRaftCluster$Factory$Get.runWithNewCluster(MiniRaftCluster.java:125)
	at org.apache.ratis.MiniRaftCluster$Factory$Get.runWithNewCluster(MiniRaftCluster.java:113)
	at org.apache.ratis.server.impl.RaftStateMachineExceptionTests.testRetryOnExceptionDuringReplication(RaftStateMachineExceptionTests.java:145)
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.lang.reflect.Method.invoke(Method.java:498)
	at org.junit.runners.model.FrameworkMethod$1.runReflectiveCall(FrameworkMethod.java:50)
	at org.junit.internal.runners.model.ReflectiveCallable.run(ReflectiveCallable.java:12)
	at org.junit.runners.model.FrameworkMethod.invokeExplosively(FrameworkMethod.java:47)
	at org.junit.internal.runners.statements.InvokeMethod.evaluate(InvokeMethod.java:17)
	at org.junit.internal.runners.statements.RunAfters.evaluate(RunAfters.java:27)
	at org.junit.internal.runners.statements.FailOnTimeout$CallableStatement.call(FailOnTimeout.java:298)
	at org.junit.internal.runners.statements.FailOnTimeout$CallableStatement.call(FailOnTimeout.java:292)
	at java.util.concurrent.FutureTask.run(FutureTask.java:266)
	at java.lang.Thread.run(Thread.java:748)
2019-09-24 16:58:42,684 INFO  ratis.MiniRaftCluster (MiniRaftCluster.java:shutdown(700)) - ************************************************************** 
2019-09-24 16:58:42,684 INFO  ratis.MiniRaftCluster (MiniRaftCluster.java:shutdown(701)) - *** 
2019-09-24 16:58:42,684 INFO  ratis.MiniRaftCluster (MiniRaftCluster.java:shutdown(702)) - ***     Stopping MiniRaftClusterWithSimulatedRpc
2019-09-24 16:58:42,684 INFO  ratis.MiniRaftCluster (MiniRaftCluster.java:shutdown(703)) - *** 
2019-09-24 16:58:42,684 INFO  ratis.MiniRaftCluster (MiniRaftCluster.java:shutdown(704)) - ************************************************************** 
2019-09-24 16:58:42,685 INFO  ratis.MiniRaftCluster (MiniRaftCluster.java:shutdown(705)) - printing ALL groups
  s0:  RUNNING  FOLLOWER s0@group-09A0EF6A68F4:t74, leader=s1, voted=s1, raftlog=s0@group-09A0EF6A68F4-SegmentedRaftLog:OPENED:c1,f2,i3, conf=3: [s0:0.0.0.0:42611, s1:0.0.0.0:39575, s2:0.0.0.0:34382], old=null RUNNING
  s1:  RUNNING    LEADER s1@group-09A0EF6A68F4:t74, leader=s1, voted=s1, raftlog=s1@group-09A0EF6A68F4-SegmentedRaftLog:OPENED:c1,f2,i3, conf=3: [s0:0.0.0.0:42611, s1:0.0.0.0:39575, s2:0.0.0.0:34382], old=null RUNNING
  s2:  RUNNING  FOLLOWER s2@group-09A0EF6A68F4:t74, leader=s1, voted=s1, raftlog=s2@group-09A0EF6A68F4-SegmentedRaftLog:OPENED:c1,f2,i3, conf=3: [s0:0.0.0.0:42611, s1:0.0.0.0:39575, s2:0.0.0.0:34382], old=null RUNNING
2019-09-24 16:58:42,687 INFO  impl.RaftServerProxy (RaftServerProxy.java:lambda$close$4(314)) - s0: close
2019-09-24 16:58:42,688 INFO  impl.RaftServerProxy (RaftServerProxy.java:lambda$close$4(314)) - s2: close
2019-09-24 16:58:42,687 INFO  impl.RaftServerProxy (RaftServerProxy.java:lambda$close$4(314)) - s1: close
2019-09-24 16:58:42,688 INFO  impl.RaftServerImpl (RaftServerImpl.java:lambda$shutdown$3(247)) - s1@group-09A0EF6A68F4: shutdown
2019-09-24 16:58:42,688 INFO  impl.RaftServerImpl (RaftServerImpl.java:lambda$shutdown$3(247)) - s2@group-09A0EF6A68F4: shutdown
2019-09-24 16:58:42,688 INFO  impl.RaftServerImpl (RaftServerImpl.java:lambda$shutdown$3(247)) - s0@group-09A0EF6A68F4: shutdown
2019-09-24 16:58:42,689 INFO  util.JmxRegister (JmxRegister.java:unregister(73)) - Successfully un-registered JMX Bean with object name Ratis:service=RaftServer,group=group-09A0EF6A68F4,id=s2
2019-09-24 16:58:42,689 INFO  util.JmxRegister (JmxRegister.java:unregister(73)) - Successfully un-registered JMX Bean with object name Ratis:service=RaftServer,group=group-09A0EF6A68F4,id=s1
2019-09-24 16:58:42,690 INFO  impl.RoleInfo (RoleInfo.java:shutdownLeaderState(104)) - s1: shutdown LeaderState
2019-09-24 16:58:42,690 INFO  impl.RoleInfo (RoleInfo.java:shutdownFollowerState(121)) - s2: shutdown FollowerState
2019-09-24 16:58:42,689 INFO  util.JmxRegister (JmxRegister.java:unregister(73)) - Successfully un-registered JMX Bean with object name Ratis:service=RaftServer,group=group-09A0EF6A68F4,id=s0
2019-09-24 16:58:42,692 INFO  impl.FollowerState (FollowerState.java:run(117)) - s2@group-09A0EF6A68F4-FollowerState was interrupted: java.lang.InterruptedException: sleep interrupted
2019-09-24 16:58:42,692 INFO  impl.StateMachineUpdater (StateMachineUpdater.java:stopAndJoin(136)) - s2@group-09A0EF6A68F4-StateMachineUpdater: set stopIndex = 1
2019-09-24 16:58:42,692 INFO  impl.LogAppender (LogAppender.java:run(78)) - s1@group-09A0EF6A68F4->s2-LogAppender-AppenderDaemon was interrupted: java.io.InterruptedIOException: 
2019-09-24 16:58:42,692 INFO  impl.PendingRequests (PendingRequests.java:sendNotLeaderResponses(202)) - s1@group-09A0EF6A68F4-PendingRequests: sendNotLeaderResponses
2019-09-24 16:58:42,692 INFO  impl.LogAppender (LogAppender.java:run(78)) - s1@group-09A0EF6A68F4->s0-LogAppender-AppenderDaemon was interrupted: java.io.InterruptedIOException: 
2019-09-24 16:58:42,693 INFO  impl.RaftServerImpl (ServerState.java:close(386)) - s2@group-09A0EF6A68F4: closes. applyIndex: 1
2019-09-24 16:58:42,692 INFO  impl.RoleInfo (RoleInfo.java:shutdownFollowerState(121)) - s0: shutdown FollowerState
2019-09-24 16:58:42,694 INFO  impl.StateMachineUpdater (StateMachineUpdater.java:stopAndJoin(136)) - s1@group-09A0EF6A68F4-StateMachineUpdater: set stopIndex = 1
2019-09-24 16:58:42,695 INFO  impl.FollowerState (FollowerState.java:run(117)) - s0@group-09A0EF6A68F4-FollowerState was interrupted: java.lang.InterruptedException: sleep interrupted
2019-09-24 16:58:42,695 INFO  impl.StateMachineUpdater (StateMachineUpdater.java:stopAndJoin(136)) - s0@group-09A0EF6A68F4-StateMachineUpdater: set stopIndex = 1
2019-09-24 16:58:42,696 INFO  impl.RaftServerImpl (ServerState.java:close(386)) - s0@group-09A0EF6A68F4: closes. applyIndex: 1
2019-09-24 16:58:42,695 INFO  impl.RaftServerImpl (ServerState.java:close(386)) - s1@group-09A0EF6A68F4: closes. applyIndex: 1
2019-09-24 16:58:42,893 WARN  segmented.SegmentedRaftLogOutputStream (SegmentedRaftLogOutputStream.java:<init>(77)) - Hit IOException while creating log segment /workdir/ratis-test/target/test/data/40df402d/MiniRaftClusterWithSimulatedRpc347dd568/s0/9eb3e987-0230-4f29-8879-09a0ef6a68f4/current/log_inprogress_3, delete the partial file.
2019-09-24 16:58:42,893 WARN  segmented.SegmentedRaftLogOutputStream (SegmentedRaftLogOutputStream.java:<init>(77)) - Hit IOException while creating log segment /workdir/ratis-test/target/test/data/40df402d/MiniRaftClusterWithSimulatedRpc347dd568/s2/9eb3e987-0230-4f29-8879-09a0ef6a68f4/current/log_inprogress_3, delete the partial file.
2019-09-24 16:58:42,893 WARN  segmented.SegmentedRaftLogOutputStream (SegmentedRaftLogOutputStream.java:<init>(77)) - Hit IOException while creating log segment /workdir/ratis-test/target/test/data/40df402d/MiniRaftClusterWithSimulatedRpc347dd568/s1/9eb3e987-0230-4f29-8879-09a0ef6a68f4/current/log_inprogress_3, delete the partial file.
2019-09-24 16:58:42,893 TRACE util.FileUtils (FileUtils.java:deleteFully(88)) - deleteFully /workdir/ratis-test/target/test/data/40df402d/MiniRaftClusterWithSimulatedRpc347dd568/s2/9eb3e987-0230-4f29-8879-09a0ef6a68f4/current/log_inprogress_3
2019-09-24 16:58:42,893 TRACE util.FileUtils (FileUtils.java:deleteFully(88)) - deleteFully /workdir/ratis-test/target/test/data/40df402d/MiniRaftClusterWithSimulatedRpc347dd568/s0/9eb3e987-0230-4f29-8879-09a0ef6a68f4/current/log_inprogress_3
2019-09-24 16:58:42,893 TRACE util.FileUtils (FileUtils.java:deleteFully(88)) - deleteFully /workdir/ratis-test/target/test/data/40df402d/MiniRaftClusterWithSimulatedRpc347dd568/s1/9eb3e987-0230-4f29-8879-09a0ef6a68f4/current/log_inprogress_3
2019-09-24 16:58:42,899 TRACE util.FileUtils (LogUtils.java:runAndLog(61)) - Successfully ran Files.delete /workdir/ratis-test/target/test/data/40df402d/MiniRaftClusterWithSimulatedRpc347dd568/s1/9eb3e987-0230-4f29-8879-09a0ef6a68f4/current/log_inprogress_3
2019-09-24 16:58:42,899 TRACE util.FileUtils (LogUtils.java:runAndLog(61)) - Successfully ran Files.delete /workdir/ratis-test/target/test/data/40df402d/MiniRaftClusterWithSimulatedRpc347dd568/s0/9eb3e987-0230-4f29-8879-09a0ef6a68f4/current/log_inprogress_3
2019-09-24 16:58:42,899 TRACE util.FileUtils (LogUtils.java:runAndLog(61)) - Successfully ran Files.delete /workdir/ratis-test/target/test/data/40df402d/MiniRaftClusterWithSimulatedRpc347dd568/s2/9eb3e987-0230-4f29-8879-09a0ef6a68f4/current/log_inprogress_3
2019-09-24 16:58:42,900 INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:close(228)) - s2@group-09A0EF6A68F4-SegmentedRaftLogWorker close()
2019-09-24 16:58:42,900 INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:close(228)) - s0@group-09A0EF6A68F4-SegmentedRaftLogWorker close()
2019-09-24 16:58:42,900 INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:close(228)) - s1@group-09A0EF6A68F4-SegmentedRaftLogWorker close()
2019-09-24 16:58:42,901 INFO  simulation.RequestHandler (RequestHandler.java:run(126)) - s0.clientHandler2 is interrupted by java.io.InterruptedIOException: 
2019-09-24 16:58:42,901 INFO  simulation.RequestHandler (RequestHandler.java:run(126)) - s0.clientHandler1 is interrupted by java.io.InterruptedIOException: 
2019-09-24 16:58:42,901 INFO  simulation.RequestHandler (RequestHandler.java:run(126)) - s0.clientHandler0 is interrupted by java.io.InterruptedIOException: 
2019-09-24 16:58:42,901 INFO  simulation.RequestHandler (RequestHandler.java:run(126)) - s2.clientHandler2 is interrupted by java.io.InterruptedIOException: 
2019-09-24 16:58:42,901 INFO  simulation.RequestHandler (RequestHandler.java:run(126)) - s0.serverHandler0 is interrupted by java.io.InterruptedIOException: 
2019-09-24 16:58:42,901 INFO  simulation.RequestHandler (RequestHandler.java:run(126)) - s2.clientHandler0 is interrupted by java.io.InterruptedIOException: 
2019-09-24 16:58:42,901 INFO  simulation.RequestHandler (RequestHandler.java:run(126)) - s2.clientHandler1 is interrupted by java.io.InterruptedIOException: 
2019-09-24 16:58:42,901 INFO  simulation.RequestHandler (RequestHandler.java:run(126)) - s0.serverHandler2 is interrupted by java.io.InterruptedIOException: 
2019-09-24 16:58:42,901 INFO  simulation.RequestHandler (RequestHandler.java:run(126)) - s1.clientHandler2 is interrupted by java.io.InterruptedIOException: 
2019-09-24 16:58:42,901 INFO  simulation.RequestHandler (RequestHandler.java:run(126)) - s1.clientHandler1 is interrupted by java.io.InterruptedIOException: 
2019-09-24 16:58:42,901 INFO  simulation.RequestHandler (RequestHandler.java:run(126)) - s1.clientHandler0 is interrupted by java.io.InterruptedIOException: 
2019-09-24 16:58:42,902 INFO  simulation.RequestHandler (RequestHandler.java:run(126)) - s2.serverHandler1 is interrupted by java.io.InterruptedIOException: 
2019-09-24 16:58:42,902 INFO  simulation.RequestHandler (RequestHandler.java:run(126)) - s2.serverHandler0 is interrupted by java.io.InterruptedIOException: 
2019-09-24 16:58:42,902 INFO  simulation.RequestHandler (RequestHandler.java:run(126)) - s1.serverHandler2 is interrupted by java.io.InterruptedIOException: 
2019-09-24 16:58:42,902 INFO  simulation.RequestHandler (RequestHandler.java:run(126)) - s1.serverHandler1 is interrupted by java.io.InterruptedIOException: 
2019-09-24 16:58:42,902 INFO  simulation.RequestHandler (RequestHandler.java:run(126)) - s1.serverHandler0 is interrupted by java.io.InterruptedIOException: 
2019-09-24 16:58:43,903 INFO  ratis.MiniRaftCluster (MiniRaftCluster.java:shutdown(722)) - MiniRaftClusterWithSimulatedRpc shutdown completed
