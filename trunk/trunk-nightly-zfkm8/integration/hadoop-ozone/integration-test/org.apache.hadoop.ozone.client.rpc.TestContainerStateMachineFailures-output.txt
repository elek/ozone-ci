2019-08-23 05:26:35,881 [main] WARN  server.ServerUtils (ServerUtils.java:getScmDbDir(145)) - ozone.scm.db.dirs is not configured. We recommend adding this setting. Falling back to ozone.metadata.dirs instead.
2019-08-23 05:26:35,991 [main] WARN  server.ServerUtils (ServerUtils.java:getScmDbDir(145)) - ozone.scm.db.dirs is not configured. We recommend adding this setting. Falling back to ozone.metadata.dirs instead.
2019-08-23 05:26:35,994 [main] WARN  server.ServerUtils (ServerUtils.java:getScmDbDir(145)) - ozone.scm.db.dirs is not configured. We recommend adding this setting. Falling back to ozone.metadata.dirs instead.
2019-08-23 05:26:36,012 [main] INFO  util.log (Log.java:initialized(192)) - Logging initialized @924ms
2019-08-23 05:26:36,115 [main] INFO  db.DBStoreBuilder (DBStoreBuilder.java:addTable(110)) - using custom profile for table: deletedBlocks
2019-08-23 05:26:36,116 [main] INFO  db.DBStoreBuilder (DBStoreBuilder.java:processTables(161)) - Using default column profile:DBProfile.DISK for Table:deletedBlocks
2019-08-23 05:26:36,116 [main] INFO  db.DBStoreBuilder (DBStoreBuilder.java:addTable(110)) - using custom profile for table: validCerts
2019-08-23 05:26:36,116 [main] INFO  db.DBStoreBuilder (DBStoreBuilder.java:processTables(161)) - Using default column profile:DBProfile.DISK for Table:validCerts
2019-08-23 05:26:36,117 [main] INFO  db.DBStoreBuilder (DBStoreBuilder.java:addTable(110)) - using custom profile for table: revokedCerts
2019-08-23 05:26:36,117 [main] INFO  db.DBStoreBuilder (DBStoreBuilder.java:processTables(161)) - Using default column profile:DBProfile.DISK for Table:revokedCerts
2019-08-23 05:26:36,131 [main] INFO  db.DBStoreBuilder (DBStoreBuilder.java:addTable(110)) - using custom profile for table: default
2019-08-23 05:26:36,131 [main] INFO  db.DBStoreBuilder (DBStoreBuilder.java:processTables(167)) - Using default column profile:DBProfile.DISK for Table:default
2019-08-23 05:26:36,133 [main] INFO  db.DBStoreBuilder (DBStoreBuilder.java:getDbProfile(198)) - Using default options. DBProfile.DISK
2019-08-23 05:26:36,319 [main] INFO  net.NodeSchemaLoader (NodeSchemaLoader.java:loadSchemaFromFile(125)) - Loading file from sun.misc.CompoundEnumeration@6a192cfe
2019-08-23 05:26:36,322 [main] INFO  net.NodeSchemaLoader (NodeSchemaLoader.java:loadSchema(171)) - Loading network topology layer schema file
2019-08-23 05:26:36,424 [main] INFO  node.SCMNodeManager (SCMNodeManager.java:<init>(121)) - Entering startup safe mode.
2019-08-23 05:26:36,499 [main] INFO  algorithms.ContainerPlacementPolicyFactory (ContainerPlacementPolicyFactory.java:getPolicy(55)) - Create container placement policy of type org.apache.hadoop.hdds.scm.container.placement.algorithms.SCMContainerPlacementRandom
2019-08-23 05:26:36,514 [main] WARN  server.ServerUtils (ServerUtils.java:getScmDbDir(145)) - ozone.scm.db.dirs is not configured. We recommend adding this setting. Falling back to ozone.metadata.dirs instead.
2019-08-23 05:26:36,580 [main] INFO  pipeline.SCMPipelineManager (SCMPipelineManager.java:initializePipelineState(126)) - No pipeline exists in current db
2019-08-23 05:26:36,583 [main] WARN  server.ServerUtils (ServerUtils.java:getScmDbDir(145)) - ozone.scm.db.dirs is not configured. We recommend adding this setting. Falling back to ozone.metadata.dirs instead.
2019-08-23 05:26:36,697 [main] WARN  events.EventQueue (EventQueue.java:fireEvent(175)) - No event handler registered for event TypedEvent{payloadType=SafeModeStatus, name='SafeModeStatus'}
2019-08-23 05:26:37,203 [main] INFO  ipc.CallQueueManager (CallQueueManager.java:<init>(84)) - Using callQueue: class java.util.concurrent.LinkedBlockingQueue, queueCapacity: 2000, scheduler: class org.apache.hadoop.ipc.DefaultRpcScheduler, ipcBackoff: false.
2019-08-23 05:26:37,556 [Socket Reader #1 for port 43671] INFO  ipc.Server (Server.java:run(1074)) - Starting Socket Reader #1 for port 43671
2019-08-23 05:26:37,584 [main] INFO  ipc.CallQueueManager (CallQueueManager.java:<init>(84)) - Using callQueue: class java.util.concurrent.LinkedBlockingQueue, queueCapacity: 2000, scheduler: class org.apache.hadoop.ipc.DefaultRpcScheduler, ipcBackoff: false.
2019-08-23 05:26:37,585 [Socket Reader #1 for port 33177] INFO  ipc.Server (Server.java:run(1074)) - Starting Socket Reader #1 for port 33177
2019-08-23 05:26:37,592 [main] INFO  ipc.CallQueueManager (CallQueueManager.java:<init>(84)) - Using callQueue: class java.util.concurrent.LinkedBlockingQueue, queueCapacity: 2000, scheduler: class org.apache.hadoop.ipc.DefaultRpcScheduler, ipcBackoff: false.
2019-08-23 05:26:37,593 [Socket Reader #1 for port 44384] INFO  ipc.Server (Server.java:run(1074)) - Starting Socket Reader #1 for port 44384
2019-08-23 05:26:37,615 [main] INFO  hdfs.DFSUtil (DFSUtil.java:httpServerTemplateForNNAndJN(1641)) - Starting Web-server for scm at: http://0.0.0.0:0
2019-08-23 05:26:37,790 [main] INFO  server.AuthenticationFilter (AuthenticationFilter.java:constructSecretProvider(240)) - Unable to initialize FileSignerSecretProvider, falling back to use random secrets.
2019-08-23 05:26:37,799 [main] WARN  http.HttpRequestLog (HttpRequestLog.java:getRequestLog(97)) - Jetty request log can only be enabled using Log4j
2019-08-23 05:26:37,807 [main] INFO  http.HttpServer2 (HttpServer2.java:addGlobalFilter(975)) - Added global filter 'safety' (class=org.apache.hadoop.http.HttpServer2$QuotingInputFilter)
2019-08-23 05:26:37,809 [main] INFO  http.HttpServer2 (HttpServer2.java:addFilter(948)) - Added filter static_user_filter (class=org.apache.hadoop.http.lib.StaticUserWebFilter$StaticUserFilter) to context scm
2019-08-23 05:26:37,809 [main] INFO  http.HttpServer2 (HttpServer2.java:addFilter(958)) - Added filter static_user_filter (class=org.apache.hadoop.http.lib.StaticUserWebFilter$StaticUserFilter) to context logs
2019-08-23 05:26:37,810 [main] INFO  http.HttpServer2 (HttpServer2.java:addFilter(958)) - Added filter static_user_filter (class=org.apache.hadoop.http.lib.StaticUserWebFilter$StaticUserFilter) to context static
2019-08-23 05:26:37,839 [main] INFO  server.StorageContainerManager (StorageContainerManager.java:start(759)) - StorageContainerLocationProtocol RPC server is listening at /0.0.0.0:44384
2019-08-23 05:26:37,898 [main] WARN  impl.MetricsConfig (MetricsConfig.java:loadFirst(134)) - Cannot locate configuration: tried hadoop-metrics2-storagecontainermanager.properties,hadoop-metrics2.properties
2019-08-23 05:26:37,909 [main] INFO  impl.MetricsSystemImpl (MetricsSystemImpl.java:startTimer(374)) - Scheduled Metric snapshot period at 10 second(s).
2019-08-23 05:26:37,909 [main] INFO  impl.MetricsSystemImpl (MetricsSystemImpl.java:start(191)) - StorageContainerManager metrics system started
2019-08-23 05:26:38,111 [main] INFO  server.SCMClientProtocolServer (SCMClientProtocolServer.java:start(151)) - RPC server for Client  is listening at /0.0.0.0:44384
2019-08-23 05:26:38,111 [IPC Server Responder] INFO  ipc.Server (Server.java:run(1314)) - IPC Server Responder: starting
2019-08-23 05:26:38,111 [IPC Server listener on 44384] INFO  ipc.Server (Server.java:run(1153)) - IPC Server listener on 44384: starting
2019-08-23 05:26:38,114 [main] INFO  server.StorageContainerManager (StorageContainerManager.java:start(769)) - ScmBlockLocationProtocol RPC server is listening at /0.0.0.0:33177
2019-08-23 05:26:38,114 [main] INFO  server.SCMBlockProtocolServer (SCMBlockProtocolServer.java:start(140)) - RPC server for Block Protocol is listening at /0.0.0.0:33177
2019-08-23 05:26:38,115 [IPC Server Responder] INFO  ipc.Server (Server.java:run(1314)) - IPC Server Responder: starting
2019-08-23 05:26:38,115 [IPC Server listener on 33177] INFO  ipc.Server (Server.java:run(1153)) - IPC Server listener on 33177: starting
2019-08-23 05:26:38,117 [main] INFO  server.StorageContainerManager (StorageContainerManager.java:start(773)) - ScmDatanodeProtocl RPC server is listening at /0.0.0.0:43671
2019-08-23 05:26:38,117 [main] INFO  server.SCMDatanodeProtocolServer (SCMDatanodeProtocolServer.java:start(191)) - RPC server for DataNodes is listening at /0.0.0.0:43671
2019-08-23 05:26:38,117 [IPC Server Responder] INFO  ipc.Server (Server.java:run(1314)) - IPC Server Responder: starting
2019-08-23 05:26:38,117 [IPC Server listener on 43671] INFO  ipc.Server (Server.java:run(1153)) - IPC Server listener on 43671: starting
2019-08-23 05:26:38,121 [main] INFO  http.HttpServer2 (HttpServer2.java:bindListener(1191)) - Jetty bound to port 45827
2019-08-23 05:26:38,122 [main] INFO  server.Server (Server.java:doStart(351)) - jetty-9.3.24.v20180605, build timestamp: 2018-06-05T17:11:56Z, git hash: 84205aa28f11a4f31f2a3b86d1bba2cc8ab69827
2019-08-23 05:26:38,153 [main] INFO  handler.ContextHandler (ContextHandler.java:doStart(781)) - Started o.e.j.s.ServletContextHandler@1af687fe{/logs,file:///workdir/hadoop-ozone/integration-test/target/log,AVAILABLE}
2019-08-23 05:26:38,154 [main] INFO  handler.ContextHandler (ContextHandler.java:doStart(781)) - Started o.e.j.s.ServletContextHandler@3f390d63{/static,file:///workdir/hadoop-ozone/integration-test/target/test-classes/webapps/static,AVAILABLE}
2019-08-23 05:26:38,184 [main] INFO  handler.ContextHandler (ContextHandler.java:doStart(781)) - Started o.e.j.w.WebAppContext@d1f74b8{/,file:///workdir/hadoop-ozone/integration-test/target/test-classes/webapps/scm/,AVAILABLE}{/scm}
2019-08-23 05:26:38,189 [main] INFO  server.AbstractConnector (AbstractConnector.java:doStart(278)) - Started ServerConnector@7072bc39{HTTP/1.1,[http/1.1]}{0.0.0.0:45827}
2019-08-23 05:26:38,189 [main] INFO  server.Server (Server.java:doStart(419)) - Started @3102ms
2019-08-23 05:26:38,190 [main] INFO  server.BaseHttpServer (BaseHttpServer.java:updateConnectorAddress(213)) - HTTP server of SCM is listening at http://0.0.0.0:45827
2019-08-23 05:26:38,195 [org.apache.hadoop.util.JvmPauseMonitor$Monitor@24be2d9c] INFO  util.JvmPauseMonitor (JvmPauseMonitor.java:run(188)) - Starting JVM pause monitor
2019-08-23 05:26:38,197 [main] WARN  server.ServerUtils (ServerUtils.java:getDBPath(222)) - ozone.om.db.dirs is not configured. We recommend adding this setting. Falling back to ozone.metadata.dirs instead.
2019-08-23 05:26:38,284 [main] WARN  server.ServerUtils (ServerUtils.java:getDBPath(222)) - ozone.om.db.dirs is not configured. We recommend adding this setting. Falling back to ozone.metadata.dirs instead.
2019-08-23 05:26:38,284 [main] WARN  server.ServerUtils (ServerUtils.java:getDBPath(222)) - ozone.om.db.dirs is not configured. We recommend adding this setting. Falling back to ozone.metadata.dirs instead.
2019-08-23 05:26:38,285 [main] INFO  om.OzoneManager (OzoneManager.java:setOMNodeDetails(648)) - OM Service ID is not set. Setting it to the default ID: omServiceIdDefault
2019-08-23 05:26:38,286 [main] INFO  om.OzoneManager (OzoneManager.java:setOMNodeDetails(654)) - OM Node ID is not set. Setting it to the OmStorage's OmID: 96f60ba8-c0cb-4e72-a3ab-88ae4c67f145
2019-08-23 05:26:38,287 [main] INFO  om.OzoneManager (OzoneManager.java:loadOMHAConfigs(605)) - Found matching OM address with OMServiceId: null, OMNodeId: null, RPC Address: localhost:0 and Ratis port: 9872
2019-08-23 05:26:38,551 | INFO  | SCMAudit | user=jenkins1000 | ip=192.168.5.178 | op=GET_SCM_INFO null | ret=SUCCESS |  
2019-08-23 05:26:39,014 [main] WARN  server.ServerUtils (ServerUtils.java:getDBPath(222)) - ozone.om.db.dirs is not configured. We recommend adding this setting. Falling back to ozone.metadata.dirs instead.
2019-08-23 05:26:39,022 [main] INFO  db.DBStoreBuilder (DBStoreBuilder.java:addTable(110)) - using custom profile for table: userTable
2019-08-23 05:26:39,022 [main] INFO  db.DBStoreBuilder (DBStoreBuilder.java:processTables(161)) - Using default column profile:DBProfile.DISK for Table:userTable
2019-08-23 05:26:39,022 [main] INFO  db.DBStoreBuilder (DBStoreBuilder.java:addTable(110)) - using custom profile for table: volumeTable
2019-08-23 05:26:39,022 [main] INFO  db.DBStoreBuilder (DBStoreBuilder.java:processTables(161)) - Using default column profile:DBProfile.DISK for Table:volumeTable
2019-08-23 05:26:39,023 [main] INFO  db.DBStoreBuilder (DBStoreBuilder.java:addTable(110)) - using custom profile for table: bucketTable
2019-08-23 05:26:39,023 [main] INFO  db.DBStoreBuilder (DBStoreBuilder.java:processTables(161)) - Using default column profile:DBProfile.DISK for Table:bucketTable
2019-08-23 05:26:39,023 [main] INFO  db.DBStoreBuilder (DBStoreBuilder.java:addTable(110)) - using custom profile for table: keyTable
2019-08-23 05:26:39,023 [main] INFO  db.DBStoreBuilder (DBStoreBuilder.java:processTables(161)) - Using default column profile:DBProfile.DISK for Table:keyTable
2019-08-23 05:26:39,024 [main] INFO  db.DBStoreBuilder (DBStoreBuilder.java:addTable(110)) - using custom profile for table: deletedTable
2019-08-23 05:26:39,024 [main] INFO  db.DBStoreBuilder (DBStoreBuilder.java:processTables(161)) - Using default column profile:DBProfile.DISK for Table:deletedTable
2019-08-23 05:26:39,024 [main] INFO  db.DBStoreBuilder (DBStoreBuilder.java:addTable(110)) - using custom profile for table: openKeyTable
2019-08-23 05:26:39,024 [main] INFO  db.DBStoreBuilder (DBStoreBuilder.java:processTables(161)) - Using default column profile:DBProfile.DISK for Table:openKeyTable
2019-08-23 05:26:39,025 [main] INFO  db.DBStoreBuilder (DBStoreBuilder.java:addTable(110)) - using custom profile for table: s3Table
2019-08-23 05:26:39,025 [main] INFO  db.DBStoreBuilder (DBStoreBuilder.java:processTables(161)) - Using default column profile:DBProfile.DISK for Table:s3Table
2019-08-23 05:26:39,025 [main] INFO  db.DBStoreBuilder (DBStoreBuilder.java:addTable(110)) - using custom profile for table: multipartInfoTable
2019-08-23 05:26:39,025 [main] INFO  db.DBStoreBuilder (DBStoreBuilder.java:processTables(161)) - Using default column profile:DBProfile.DISK for Table:multipartInfoTable
2019-08-23 05:26:39,026 [main] INFO  db.DBStoreBuilder (DBStoreBuilder.java:addTable(110)) - using custom profile for table: dTokenTable
2019-08-23 05:26:39,026 [main] INFO  db.DBStoreBuilder (DBStoreBuilder.java:processTables(161)) - Using default column profile:DBProfile.DISK for Table:dTokenTable
2019-08-23 05:26:39,026 [main] INFO  db.DBStoreBuilder (DBStoreBuilder.java:addTable(110)) - using custom profile for table: s3SecretTable
2019-08-23 05:26:39,026 [main] INFO  db.DBStoreBuilder (DBStoreBuilder.java:processTables(161)) - Using default column profile:DBProfile.DISK for Table:s3SecretTable
2019-08-23 05:26:39,027 [main] INFO  db.DBStoreBuilder (DBStoreBuilder.java:addTable(110)) - using custom profile for table: prefixTable
2019-08-23 05:26:39,027 [main] INFO  db.DBStoreBuilder (DBStoreBuilder.java:processTables(161)) - Using default column profile:DBProfile.DISK for Table:prefixTable
2019-08-23 05:26:39,027 [main] INFO  db.DBStoreBuilder (DBStoreBuilder.java:addTable(110)) - using custom profile for table: default
2019-08-23 05:26:39,027 [main] INFO  db.DBStoreBuilder (DBStoreBuilder.java:processTables(167)) - Using default column profile:DBProfile.DISK for Table:default
2019-08-23 05:26:39,027 [main] INFO  db.DBStoreBuilder (DBStoreBuilder.java:getDbProfile(198)) - Using default options. DBProfile.DISK
2019-08-23 05:26:39,407 [main] INFO  ipc.CallQueueManager (CallQueueManager.java:<init>(84)) - Using callQueue: class java.util.concurrent.LinkedBlockingQueue, queueCapacity: 2000, scheduler: class org.apache.hadoop.ipc.DefaultRpcScheduler, ipcBackoff: false.
2019-08-23 05:26:39,407 [Socket Reader #1 for port 37868] INFO  ipc.Server (Server.java:run(1074)) - Starting Socket Reader #1 for port 37868
2019-08-23 05:26:39,428 [main] INFO  om.OzoneManager (OzoneManager.java:start(1259)) - OzoneManager RPC server is listening at localhost/127.0.0.1:37868
2019-08-23 05:26:39,428 [main] INFO  impl.MetricsSystemImpl (MetricsSystemImpl.java:init(158)) - OzoneManager metrics system started (again)
2019-08-23 05:26:39,429 [IPC Server Responder] INFO  ipc.Server (Server.java:run(1314)) - IPC Server Responder: starting
2019-08-23 05:26:39,429 [IPC Server listener on 37868] INFO  ipc.Server (Server.java:run(1153)) - IPC Server listener on 37868: starting
2019-08-23 05:26:39,435 [main] INFO  hdfs.DFSUtil (DFSUtil.java:httpServerTemplateForNNAndJN(1641)) - Starting Web-server for ozoneManager at: http://0.0.0.0:0
2019-08-23 05:26:39,437 [main] INFO  server.AuthenticationFilter (AuthenticationFilter.java:constructSecretProvider(240)) - Unable to initialize FileSignerSecretProvider, falling back to use random secrets.
2019-08-23 05:26:39,437 [main] WARN  http.HttpRequestLog (HttpRequestLog.java:getRequestLog(97)) - Jetty request log can only be enabled using Log4j
2019-08-23 05:26:39,439 [main] INFO  http.HttpServer2 (HttpServer2.java:addGlobalFilter(975)) - Added global filter 'safety' (class=org.apache.hadoop.http.HttpServer2$QuotingInputFilter)
2019-08-23 05:26:39,440 [main] INFO  http.HttpServer2 (HttpServer2.java:addFilter(948)) - Added filter static_user_filter (class=org.apache.hadoop.http.lib.StaticUserWebFilter$StaticUserFilter) to context ozoneManager
2019-08-23 05:26:39,440 [main] INFO  http.HttpServer2 (HttpServer2.java:addFilter(958)) - Added filter static_user_filter (class=org.apache.hadoop.http.lib.StaticUserWebFilter$StaticUserFilter) to context static
2019-08-23 05:26:39,440 [main] INFO  http.HttpServer2 (HttpServer2.java:addFilter(958)) - Added filter static_user_filter (class=org.apache.hadoop.http.lib.StaticUserWebFilter$StaticUserFilter) to context logs
2019-08-23 05:26:39,442 [main] INFO  http.HttpServer2 (HttpServer2.java:bindListener(1191)) - Jetty bound to port 40332
2019-08-23 05:26:39,443 [main] INFO  server.Server (Server.java:doStart(351)) - jetty-9.3.24.v20180605, build timestamp: 2018-06-05T17:11:56Z, git hash: 84205aa28f11a4f31f2a3b86d1bba2cc8ab69827
2019-08-23 05:26:39,444 [main] INFO  handler.ContextHandler (ContextHandler.java:doStart(781)) - Started o.e.j.s.ServletContextHandler@325bb9a6{/logs,file:///workdir/hadoop-ozone/integration-test/target/log,AVAILABLE}
2019-08-23 05:26:39,445 [main] INFO  handler.ContextHandler (ContextHandler.java:doStart(781)) - Started o.e.j.s.ServletContextHandler@72fe8a4f{/static,file:///workdir/hadoop-ozone/integration-test/target/test-classes/webapps/static,AVAILABLE}
2019-08-23 05:26:39,450 [main] INFO  handler.ContextHandler (ContextHandler.java:doStart(781)) - Started o.e.j.w.WebAppContext@65bb9029{/,file:///workdir/hadoop-ozone/integration-test/target/test-classes/webapps/ozoneManager/,AVAILABLE}{/ozoneManager}
2019-08-23 05:26:39,451 [main] INFO  server.AbstractConnector (AbstractConnector.java:doStart(278)) - Started ServerConnector@1bfe3203{HTTP/1.1,[http/1.1]}{0.0.0.0:40332}
2019-08-23 05:26:39,452 [main] INFO  server.Server (Server.java:doStart(419)) - Started @4363ms
2019-08-23 05:26:39,455 [main] INFO  server.BaseHttpServer (BaseHttpServer.java:updateConnectorAddress(213)) - HTTP server of OZONEMANAGER is listening at http://0.0.0.0:40332
2019-08-23 05:26:39,854 [main] INFO  impl.MetricsSystemImpl (MetricsSystemImpl.java:init(158)) - HddsDatanode metrics system started (again)
2019-08-23 05:26:39,956 [main] INFO  ozone.HddsDatanodeService (HddsDatanodeService.java:start(184)) - HddsDatanodeService host:trunk-nightly-zfkm8-417691344 ip:192.168.5.178
2019-08-23 05:26:39,990 [main] INFO  volume.HddsVolume (HddsVolume.java:<init>(176)) - Creating Volume: /workdir/hadoop-ozone/integration-test/target/test-dir/MiniOzoneClusterImpl-4df9fbe8-bd9f-48ff-b9d2-b0c93ccc846c/datanode-0/data/containers/hdds of  storage type : DISK and capacity : 1482555576320
2019-08-23 05:26:39,992 [main] INFO  volume.VolumeSet (VolumeSet.java:initializeVolumeSet(170)) - Added Volume : /workdir/hadoop-ozone/integration-test/target/test-dir/MiniOzoneClusterImpl-4df9fbe8-bd9f-48ff-b9d2-b0c93ccc846c/datanode-0/data/containers/hdds to VolumeSet
2019-08-23 05:26:39,995 [main] INFO  volume.ThrottledAsyncChecker (ThrottledAsyncChecker.java:schedule(140)) - Scheduling a check for org.apache.hadoop.ozone.container.common.volume.HddsVolume@20749d9
2019-08-23 05:26:40,014 [main] INFO  volume.HddsVolumeChecker (HddsVolumeChecker.java:checkAllVolumes(203)) - Scheduled health check for volume org.apache.hadoop.ozone.container.common.volume.HddsVolume@20749d9
2019-08-23 05:26:40,153 [main] INFO  impl.RaftServerProxy (ConfUtils.java:logGet(43)) - raft.rpc.type = GRPC (default)
2019-08-23 05:26:40,225 [main] INFO  grpc.GrpcFactory (GrpcFactory.java:checkPooledByteBufAllocatorUseCacheForAllThreads(45)) - PERFORMANCE WARNING: useCacheForAllThreads is true that may cause Netty to create a lot garbage objects and, as a result, trigger GC.
	It is recommended to disable useCacheForAllThreads by setting -Dorg.apache.ratis.thirdparty.io.netty.allocator.useCacheForAllThreads=false in command line.
2019-08-23 05:26:40,229 [main] INFO  grpc.GrpcConfigKeys$Server (ConfUtils.java:logGet(43)) - raft.grpc.server.port = 0 (default)
2019-08-23 05:26:40,230 [main] INFO  server.GrpcService (ConfUtils.java:logGet(43)) - raft.grpc.message.size.max = 33570816 (custom)
2019-08-23 05:26:40,232 [main] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.log.appender.buffer.byte-limit = 33554432 (custom)
2019-08-23 05:26:40,233 [main] INFO  server.GrpcService (ConfUtils.java:logGet(43)) - raft.grpc.flow.control.window = 1MB (=1048576) (default)
2019-08-23 05:26:40,234 [main] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.rpc.request.timeout = 3000ms (default)
2019-08-23 05:26:40,393 [main] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.storage.dir = [/workdir/hadoop-ozone/integration-test/target/test-dir/MiniOzoneClusterImpl-4df9fbe8-bd9f-48ff-b9d2-b0c93ccc846c/datanode-0/data/ratis] (custom)
2019-08-23 05:26:40,430 [main] INFO  replication.SimpleContainerDownloader (SimpleContainerDownloader.java:<init>(72)) - Starting container downloader service to copy containers to replicate.
2019-08-23 05:26:40,443 [main] INFO  hdfs.DFSUtil (DFSUtil.java:httpServerTemplateForNNAndJN(1641)) - Starting Web-server for hddsDatanode at: http://0.0.0.0:0
2019-08-23 05:26:40,446 [main] INFO  server.AuthenticationFilter (AuthenticationFilter.java:constructSecretProvider(240)) - Unable to initialize FileSignerSecretProvider, falling back to use random secrets.
2019-08-23 05:26:40,448 [main] WARN  http.HttpRequestLog (HttpRequestLog.java:getRequestLog(97)) - Jetty request log can only be enabled using Log4j
2019-08-23 05:26:40,452 [main] INFO  http.HttpServer2 (HttpServer2.java:addGlobalFilter(975)) - Added global filter 'safety' (class=org.apache.hadoop.http.HttpServer2$QuotingInputFilter)
2019-08-23 05:26:40,453 [main] INFO  http.HttpServer2 (HttpServer2.java:addFilter(948)) - Added filter static_user_filter (class=org.apache.hadoop.http.lib.StaticUserWebFilter$StaticUserFilter) to context hddsDatanode
2019-08-23 05:26:40,453 [main] INFO  http.HttpServer2 (HttpServer2.java:addFilter(958)) - Added filter static_user_filter (class=org.apache.hadoop.http.lib.StaticUserWebFilter$StaticUserFilter) to context static
2019-08-23 05:26:40,454 [main] INFO  http.HttpServer2 (HttpServer2.java:addFilter(958)) - Added filter static_user_filter (class=org.apache.hadoop.http.lib.StaticUserWebFilter$StaticUserFilter) to context logs
2019-08-23 05:26:40,455 [main] INFO  http.HttpServer2 (HttpServer2.java:bindListener(1191)) - Jetty bound to port 45799
2019-08-23 05:26:40,456 [main] INFO  server.Server (Server.java:doStart(351)) - jetty-9.3.24.v20180605, build timestamp: 2018-06-05T17:11:56Z, git hash: 84205aa28f11a4f31f2a3b86d1bba2cc8ab69827
2019-08-23 05:26:40,459 [main] INFO  handler.ContextHandler (ContextHandler.java:doStart(781)) - Started o.e.j.s.ServletContextHandler@3a082ff4{/logs,file:///workdir/hadoop-ozone/integration-test/target/log,AVAILABLE}
2019-08-23 05:26:40,460 [main] INFO  handler.ContextHandler (ContextHandler.java:doStart(781)) - Started o.e.j.s.ServletContextHandler@3f0d6038{/static,jar:file:/home/user/.m2/repository/org/apache/hadoop/hadoop-hdds-container-service/0.5.0-SNAPSHOT/hadoop-hdds-container-service-0.5.0-SNAPSHOT.jar!/webapps/static,AVAILABLE}
2019-08-23 05:26:40,511 [main] INFO  handler.ContextHandler (ContextHandler.java:doStart(781)) - Started o.e.j.w.WebAppContext@250a500b{/,file:///tmp/jetty-0.0.0.0-45799-hddsDatanode-_-any-2307380345948445213.dir/webapp/,AVAILABLE}{/hddsDatanode}
2019-08-23 05:26:40,512 [main] INFO  server.AbstractConnector (AbstractConnector.java:doStart(278)) - Started ServerConnector@75d982d3{HTTP/1.1,[http/1.1]}{0.0.0.0:45799}
2019-08-23 05:26:40,513 [main] INFO  server.Server (Server.java:doStart(419)) - Started @5425ms
2019-08-23 05:26:40,515 [main] INFO  server.BaseHttpServer (BaseHttpServer.java:updateConnectorAddress(213)) - HTTP server of HDDSDATANODE is listening at http://0.0.0.0:45799
Aug 23, 2019 5:26:40 AM com.sun.jersey.server.impl.application.WebApplicationImpl _initiate
INFO: Initiating Jersey application, version 'Jersey: 1.19 02/11/2015 03:25 AM'
2019-08-23 05:26:41,588 | INFO  | ObjectStoreRestHttpServer | Listening HDDS REST traffic on /0.0.0.0:42778 |  
2019-08-23 05:26:41,589 [main] INFO  ozone.HddsDatanodeService (HddsDatanodeService.java:startPlugins(395)) - Started plug-in org.apache.hadoop.ozone.web.OzoneHddsDatanodeService@4b765e92
2019-08-23 05:26:41,592 [main] INFO  ozone.MiniOzoneClusterImpl (MiniOzoneClusterImpl.java:lambda$waitForClusterToBeReady$0(142)) - Waiting for cluster to be ready. Got 0 of 1 DN Heartbeats.
2019-08-23 05:26:41,600 [org.apache.hadoop.util.JvmPauseMonitor$Monitor@27364ddd] INFO  util.JvmPauseMonitor (JvmPauseMonitor.java:run(188)) - Starting JVM pause monitor
2019-08-23 05:26:41,716 [Datanode State Machine Thread - 0] INFO  datanode.InitDatanodeState (InitDatanodeState.java:persistContainerDatanodeDetails(140)) - DatanodeDetails is persisted to /workdir/hadoop-ozone/integration-test/target/test-dir/MiniOzoneClusterImpl-4df9fbe8-bd9f-48ff-b9d2-b0c93ccc846c/datanode-0/meta/datanode.id
2019-08-23 05:26:42,593 [main] INFO  ozone.MiniOzoneClusterImpl (MiniOzoneClusterImpl.java:lambda$waitForClusterToBeReady$0(142)) - Waiting for cluster to be ready. Got 0 of 1 DN Heartbeats.
2019-08-23 05:26:43,593 [main] INFO  ozone.MiniOzoneClusterImpl (MiniOzoneClusterImpl.java:lambda$waitForClusterToBeReady$0(142)) - Waiting for cluster to be ready. Got 0 of 1 DN Heartbeats.
2019-08-23 05:26:43,635 | INFO  | SCMAudit | user=jenkins1000 | ip=192.168.5.178 | op=GET_VERSION null | ret=SUCCESS |  
2019-08-23 05:26:43,655 [Datanode State Machine Thread - 0] INFO  ozoneimpl.OzoneContainer (OzoneContainer.java:start(186)) - Attempting to start container services.
2019-08-23 05:26:43,656 [Datanode State Machine Thread - 0] INFO  ozoneimpl.OzoneContainer (OzoneContainer.java:startContainerScrub(160)) - Background container scrubber has been disabled by hdds.containerscrub.enabled
2019-08-23 05:26:43,656 [Datanode State Machine Thread - 0] INFO  ratis.XceiverServerRatis (XceiverServerRatis.java:start(404)) - Starting XceiverServerRatis 9512c027-07d3-4387-8ec6-d2a1b2e801d5 at port 0
2019-08-23 05:26:43,678 [Datanode State Machine Thread - 0] INFO  impl.RaftServerProxy (RaftServerProxy.java:lambda$start$3(299)) - 9512c027-07d3-4387-8ec6-d2a1b2e801d5: start RPC server
2019-08-23 05:26:43,817 [Datanode State Machine Thread - 0] INFO  server.GrpcService (GrpcService.java:startImpl(149)) - 9512c027-07d3-4387-8ec6-d2a1b2e801d5: GrpcService started, listening on 0.0.0.0/0.0.0.0:42859
2019-08-23 05:26:43,818 [Datanode State Machine Thread - 0] INFO  ratis.XceiverServerRatis (XceiverServerRatis.java:start(414)) - XceiverServerRatis 9512c027-07d3-4387-8ec6-d2a1b2e801d5 is started using port 42859
2019-08-23 05:26:43,820 [Datanode State Machine Thread - 0] INFO  server.XceiverServerGrpc (XceiverServerGrpc.java:start(161)) - XceiverServerGrpc 9512c027-07d3-4387-8ec6-d2a1b2e801d5 is started using port 43798
2019-08-23 05:26:44,594 [main] INFO  ozone.MiniOzoneClusterImpl (MiniOzoneClusterImpl.java:lambda$waitForClusterToBeReady$0(142)) - Waiting for cluster to be ready. Got 0 of 1 DN Heartbeats.
2019-08-23 05:26:45,595 [main] INFO  ozone.MiniOzoneClusterImpl (MiniOzoneClusterImpl.java:lambda$waitForClusterToBeReady$0(142)) - Waiting for cluster to be ready. Got 0 of 1 DN Heartbeats.
2019-08-23 05:26:45,639 [IPC Server handler 0 on 43671] INFO  net.NetworkTopology (NetworkTopologyImpl.java:add(110)) - Added a new node: /default-rack/9512c027-07d3-4387-8ec6-d2a1b2e801d5
2019-08-23 05:26:45,639 [IPC Server handler 0 on 43671] INFO  node.SCMNodeManager (SCMNodeManager.java:register(273)) - Registered Data node : 9512c027-07d3-4387-8ec6-d2a1b2e801d5{ip: 192.168.5.178, host: trunk-nightly-zfkm8-417691344, networkLocation: /default-rack, certSerialId: null}
2019-08-23 05:26:45,644 [EventQueue-NodeRegistrationContainerReportForDataNodeSafeModeRule] INFO  safemode.SCMSafeModeManager (DataNodeSafeModeRule.java:process(71)) - SCM in safe mode. 1 DataNodes registered, 1 required.
2019-08-23 05:26:45,645 [EventQueue-NodeRegistrationContainerReportForDataNodeSafeModeRule] INFO  safemode.SCMSafeModeManager (SCMSafeModeManager.java:validateSafeModeExitRules(177)) - ScmSafeModeManager, all rules are successfully validated
2019-08-23 05:26:45,645 [EventQueue-NodeRegistrationContainerReportForDataNodeSafeModeRule] INFO  safemode.SCMSafeModeManager (SCMSafeModeManager.java:exitSafeMode(193)) - SCM exiting safe mode.
2019-08-23 05:26:45,653 | INFO  | SCMAudit | user=jenkins1000 | ip=192.168.5.178 | op=REGISTER {datanodeDetails=9512c027-07d3-4387-8ec6-d2a1b2e801d5{ip: 192.168.5.178, host: trunk-nightly-zfkm8-417691344, networkLocation: /default-rack, certSerialId: null}} | ret=SUCCESS |  
2019-08-23 05:26:46,595 [main] INFO  ozone.MiniOzoneClusterImpl (MiniOzoneClusterImpl.java:lambda$waitForClusterToBeReady$0(142)) - Cluster is ready. Got 1 of 1 DN Heartbeats.
2019-08-23 05:26:46,598 [grpc-default-executor-0] INFO  impl.RaftServerProxy (RaftServerProxy.java:addNew(89)) - 9512c027-07d3-4387-8ec6-d2a1b2e801d5: addNew group-2D6ED9C726C4:[9512c027-07d3-4387-8ec6-d2a1b2e801d5:192.168.5.178:42859] returns group-2D6ED9C726C4:java.util.concurrent.CompletableFuture@61faac7a[Not completed]
2019-08-23 05:26:46,615 [pool-27-thread-1] INFO  impl.RaftServerImpl (RaftServerImpl.java:<init>(93)) - 9512c027-07d3-4387-8ec6-d2a1b2e801d5: new RaftServerImpl for group-2D6ED9C726C4:[9512c027-07d3-4387-8ec6-d2a1b2e801d5:192.168.5.178:42859] with ContainerStateMachine:uninitialized
2019-08-23 05:26:46,618 [pool-27-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.rpc.timeout.min = 5s (custom)
2019-08-23 05:26:46,619 [pool-27-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.rpc.timeout.max = 5200ms (custom)
2019-08-23 05:26:46,619 [pool-27-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.rpcslowness.timeout = 120s (custom)
2019-08-23 05:26:46,620 [pool-27-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.sleep.deviation.threshold = 300 (default)
2019-08-23 05:26:46,621 [pool-27-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.log.appender.install.snapshot.enabled = false (custom)
2019-08-23 05:26:46,630 [pool-27-thread-1] INFO  impl.RaftServerImpl (ServerState.java:<init>(105)) - 9512c027-07d3-4387-8ec6-d2a1b2e801d5:group-2D6ED9C726C4 ConfigurationManager, init=-1: [9512c027-07d3-4387-8ec6-d2a1b2e801d5:192.168.5.178:42859], old=null, confs=<EMPTY_MAP>
2019-08-23 05:26:46,630 [pool-27-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.storage.dir = [/workdir/hadoop-ozone/integration-test/target/test-dir/MiniOzoneClusterImpl-4df9fbe8-bd9f-48ff-b9d2-b0c93ccc846c/datanode-0/data/ratis] (custom)
2019-08-23 05:26:46,638 [pool-27-thread-1] INFO  storage.RaftStorageDirectory (RaftStorageDirectory.java:analyzeStorage(246)) - The storage directory /workdir/hadoop-ozone/integration-test/target/test-dir/MiniOzoneClusterImpl-4df9fbe8-bd9f-48ff-b9d2-b0c93ccc846c/datanode-0/data/ratis/285deb85-539f-4427-b2c1-2d6ed9c726c4 does not exist. Creating ...
2019-08-23 05:26:46,656 [pool-27-thread-1] INFO  storage.RaftStorageDirectory (RaftStorageDirectory.java:tryLock(328)) - Lock on /workdir/hadoop-ozone/integration-test/target/test-dir/MiniOzoneClusterImpl-4df9fbe8-bd9f-48ff-b9d2-b0c93ccc846c/datanode-0/data/ratis/285deb85-539f-4427-b2c1-2d6ed9c726c4/in_use.lock acquired by nodename 21553@trunk-nightly-zfkm8-417691344
2019-08-23 05:26:46,670 [pool-27-thread-1] INFO  storage.RaftStorage (RaftStorage.java:format(72)) - Storage directory /workdir/hadoop-ozone/integration-test/target/test-dir/MiniOzoneClusterImpl-4df9fbe8-bd9f-48ff-b9d2-b0c93ccc846c/datanode-0/data/ratis/285deb85-539f-4427-b2c1-2d6ed9c726c4 has been successfully formatted.
2019-08-23 05:26:46,674 [pool-27-thread-1] INFO  ratis.ContainerStateMachine (ContainerStateMachine.java:loadSnapshot(226)) - group-2D6ED9C726C4: The snapshot info is null. Setting the last applied indexto:(t:0, i:~)
2019-08-23 05:26:46,675 [pool-27-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.leader.election.timeout = 120s (custom)
2019-08-23 05:26:46,678 [pool-27-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.log.use.memory = false (default)
2019-08-23 05:26:46,686 [pool-27-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.log.purge.gap = 1000000 (custom)
2019-08-23 05:26:46,687 [pool-27-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.log.appender.buffer.byte-limit = 33554432 (custom)
2019-08-23 05:26:46,689 [pool-27-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.log.segment.size.max = 1048576 (custom)
2019-08-23 05:26:46,696 [pool-27-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.log.segment.cache.num.max = 2 (custom)
2019-08-23 05:26:46,705 [pool-27-thread-1] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:<init>(172)) - new 9512c027-07d3-4387-8ec6-d2a1b2e801d5-SegmentedRaftLogWorker:Storage Directory /workdir/hadoop-ozone/integration-test/target/test-dir/MiniOzoneClusterImpl-4df9fbe8-bd9f-48ff-b9d2-b0c93ccc846c/datanode-0/data/ratis/285deb85-539f-4427-b2c1-2d6ed9c726c4 for RaftStorage:Storage Directory /workdir/hadoop-ozone/integration-test/target/test-dir/MiniOzoneClusterImpl-4df9fbe8-bd9f-48ff-b9d2-b0c93ccc846c/datanode-0/data/ratis/285deb85-539f-4427-b2c1-2d6ed9c726c4
2019-08-23 05:26:46,721 [pool-27-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.log.queue.byte-limit = 2147483647 (custom)
2019-08-23 05:26:46,722 [pool-27-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.log.queue.element-limit = 1024 (custom)
2019-08-23 05:26:46,728 [pool-27-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.log.segment.size.max = 1048576 (custom)
2019-08-23 05:26:46,729 [pool-27-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.log.preallocated.size = 16384 (custom)
2019-08-23 05:26:46,729 [pool-27-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.log.write.buffer.size = 33554432 (custom)
2019-08-23 05:26:46,730 [pool-27-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.log.force.sync.num = 128 (default)
2019-08-23 05:26:46,731 [pool-27-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.log.statemachine.data.sync = true (default)
2019-08-23 05:26:46,732 [pool-27-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.log.statemachine.data.sync.timeout = 10s (default)
2019-08-23 05:26:46,732 [pool-27-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.log.statemachine.data.sync.timeout.retry = -1 (default)
2019-08-23 05:26:46,746 [pool-27-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.log.statemachine.data.caching.enabled = true (custom)
2019-08-23 05:26:46,751 [pool-27-thread-1] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:lambda$new$0(132)) - 9512c027-07d3-4387-8ec6-d2a1b2e801d5-SegmentedRaftLogWorker:Storage Directory /workdir/hadoop-ozone/integration-test/target/test-dir/MiniOzoneClusterImpl-4df9fbe8-bd9f-48ff-b9d2-b0c93ccc846c/datanode-0/data/ratis/285deb85-539f-4427-b2c1-2d6ed9c726c4: flushIndex: setUnconditionally 0 -> -1
2019-08-23 05:26:46,756 [pool-27-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.snapshot.auto.trigger.enabled = true (custom)
2019-08-23 05:26:46,757 [pool-27-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.snapshot.auto.trigger.threshold = 1 (custom)
2019-08-23 05:26:46,758 [pool-27-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.retrycache.expirytime = 600000ms (custom)
2019-08-23 05:26:46,782 [pool-27-thread-1] INFO  impl.RaftServerImpl (RaftServerImpl.java:start(180)) - 9512c027-07d3-4387-8ec6-d2a1b2e801d5: start group-2D6ED9C726C4
2019-08-23 05:26:46,783 [pool-27-thread-1] INFO  impl.RaftServerImpl (RaftServerImpl.java:setRole(171)) - 9512c027-07d3-4387-8ec6-d2a1b2e801d5:group-2D6ED9C726C4 changes role from null to FOLLOWER at term 0 for startAsFollower
2019-08-23 05:26:46,785 [pool-27-thread-1] INFO  impl.RoleInfo (RoleInfo.java:updateAndGet(143)) - 9512c027-07d3-4387-8ec6-d2a1b2e801d5: start FollowerState
2019-08-23 05:26:46,786 [pool-27-thread-1] INFO  util.JmxRegister (JmxRegister.java:tryRegister(44)) - Successfully registered JMX Bean with object name Ratis:service=RaftServer,group=group-2D6ED9C726C4,id=9512c027-07d3-4387-8ec6-d2a1b2e801d5
2019-08-23 05:26:46,854 [RatisPipelineUtilsThread] INFO  pipeline.PipelineStateManager (PipelineStateManager.java:addPipeline(56)) - Created pipeline Pipeline[ Id: 285deb85-539f-4427-b2c1-2d6ed9c726c4, Nodes: 9512c027-07d3-4387-8ec6-d2a1b2e801d5{ip: 192.168.5.178, host: trunk-nightly-zfkm8-417691344, networkLocation: /default-rack, certSerialId: null}, Type:RATIS, Factor:ONE, State:OPEN]
2019-08-23 05:26:46,914 [main] INFO  rpc.RpcClient (RpcClient.java:createVolume(293)) - Creating Volume: testcontainerstatemachinefailures, with jenkins1000 as owner.
2019-08-23 05:26:46,935 | INFO  | OMAudit | user=jenkins1000 | ip=127.0.0.1 | op=CREATE_VOLUME {admin=jenkins1000, owner=jenkins1000, volume=testcontainerstatemachinefailures, creationTime=1566538006930, quotaInBytes=1152921504606846976} | ret=SUCCESS |  
2019-08-23 05:26:46,945 | INFO  | OMAudit | user=jenkins1000 | ip=127.0.0.1 | op=READ_VOLUME {volume=testcontainerstatemachinefailures} | ret=SUCCESS |  
2019-08-23 05:26:46,950 [main] INFO  rpc.RpcClient (RpcClient.java:createBucket(432)) - Creating Bucket: testcontainerstatemachinefailures/testcontainerstatemachinefailures, with Versioning false and Storage Type set to DISK and Encryption set to false 
2019-08-23 05:26:46,965 | INFO  | OMAudit | user=jenkins1000 | ip=127.0.0.1 | op=CREATE_BUCKET {volume=testcontainerstatemachinefailures, bucket=testcontainerstatemachinefailures, acls=[user:jenkins1000:a[ACCESS], group:default:a[ACCESS]], isVersionEnabled=false, storageType=DISK, creationTime=0} | ret=SUCCESS |  
2019-08-23 05:26:46,970 | INFO  | OMAudit | user=jenkins1000 | ip=127.0.0.1 | op=READ_VOLUME {volume=testcontainerstatemachinefailures} | ret=SUCCESS |  
2019-08-23 05:26:46,976 | INFO  | OMAudit | user=jenkins1000 | ip=127.0.0.1 | op=READ_BUCKET {volume=testcontainerstatemachinefailures, bucket=testcontainerstatemachinefailures} | ret=SUCCESS |  
2019-08-23 05:26:47,019 | INFO  | SCMAudit | user=jenkins1000 | ip=192.168.5.178 | op=ALLOCATE_BLOCK {owner=96f60ba8-c0cb-4e72-a3ab-88ae4c67f145, size=4194304, type=RATIS, factor=ONE} | ret=SUCCESS |  
2019-08-23 05:26:47,041 | INFO  | OMAudit | user=jenkins1000 | ip=127.0.0.1 | op=ALLOCATE_KEY {volume=testcontainerstatemachinefailures, bucket=testcontainerstatemachinefailures, key=ratis, dataSize=1024, replicationType=RATIS, replicationFactor=ONE, keyLocationInfo=null} | ret=SUCCESS |  
2019-08-23 05:26:47,069 [main] INFO  impl.MetricsSystemImpl (MetricsSystemImpl.java:init(158)) - XceiverClientMetrics metrics system started (again)
2019-08-23 05:26:47,173 [grpc-default-executor-0] INFO  client.GrpcClientProtocolClient (GrpcClientProtocolClient.java:onNext(255)) - client-7AA06D388C63->9512c027-07d3-4387-8ec6-d2a1b2e801d5: receive RaftClientReply:client-7AA06D388C63->9512c027-07d3-4387-8ec6-d2a1b2e801d5@group-2D6ED9C726C4, cid=1, FAILED org.apache.ratis.protocol.NotLeaderException: Server 9512c027-07d3-4387-8ec6-d2a1b2e801d5 is not the leader (null). Request must be sent to leader., logIndex=0, commits[9512c027-07d3-4387-8ec6-d2a1b2e801d5:c-1]
2019-08-23 05:26:47,637 | INFO  | SCMAudit | user=jenkins1000 | ip=192.168.5.178 | op=SEND_HEARTBEAT {datanodeUUID=9512c027-07d3-4387-8ec6-d2a1b2e801d5, command=[]} | ret=SUCCESS |  
2019-08-23 05:26:47,801 | INFO  | SCMAudit | user=jenkins1000 | ip=192.168.5.178 | op=SEND_HEARTBEAT {datanodeUUID=9512c027-07d3-4387-8ec6-d2a1b2e801d5, command=[]} | ret=SUCCESS |  
2019-08-23 05:26:48,001 | INFO  | SCMAudit | user=jenkins1000 | ip=192.168.5.178 | op=SEND_HEARTBEAT {datanodeUUID=9512c027-07d3-4387-8ec6-d2a1b2e801d5, command=[]} | ret=SUCCESS |  
2019-08-23 05:26:48,202 | INFO  | SCMAudit | user=jenkins1000 | ip=192.168.5.178 | op=SEND_HEARTBEAT {datanodeUUID=9512c027-07d3-4387-8ec6-d2a1b2e801d5, command=[]} | ret=SUCCESS |  
2019-08-23 05:26:48,403 | INFO  | SCMAudit | user=jenkins1000 | ip=192.168.5.178 | op=SEND_HEARTBEAT {datanodeUUID=9512c027-07d3-4387-8ec6-d2a1b2e801d5, command=[]} | ret=SUCCESS |  
2019-08-23 05:26:48,603 | INFO  | SCMAudit | user=jenkins1000 | ip=192.168.5.178 | op=SEND_HEARTBEAT {datanodeUUID=9512c027-07d3-4387-8ec6-d2a1b2e801d5, command=[]} | ret=SUCCESS |  
2019-08-23 05:26:48,647 [Thread-147] INFO  container.ReplicationManager (ReplicationManager.java:start(152)) - Starting Replication Monitor Thread.
2019-08-23 05:26:48,654 [ReplicationMonitor] INFO  container.ReplicationManager (ReplicationManager.java:run(215)) - Replication Monitor Thread took 6 milliseconds for processing 1 containers.
2019-08-23 05:26:48,803 | INFO  | SCMAudit | user=jenkins1000 | ip=192.168.5.178 | op=SEND_HEARTBEAT {datanodeUUID=9512c027-07d3-4387-8ec6-d2a1b2e801d5, command=[]} | ret=SUCCESS |  
2019-08-23 05:26:49,004 | INFO  | SCMAudit | user=jenkins1000 | ip=192.168.5.178 | op=SEND_HEARTBEAT {datanodeUUID=9512c027-07d3-4387-8ec6-d2a1b2e801d5, command=[]} | ret=SUCCESS |  
2019-08-23 05:26:49,207 | INFO  | SCMAudit | user=jenkins1000 | ip=192.168.5.178 | op=SEND_HEARTBEAT {datanodeUUID=9512c027-07d3-4387-8ec6-d2a1b2e801d5, command=[]} | ret=SUCCESS |  
2019-08-23 05:26:49,207 [grpc-default-executor-0] INFO  client.GrpcClientProtocolClient (GrpcClientProtocolClient.java:onNext(255)) - client-7AA06D388C63->9512c027-07d3-4387-8ec6-d2a1b2e801d5: receive RaftClientReply:client-7AA06D388C63->9512c027-07d3-4387-8ec6-d2a1b2e801d5@group-2D6ED9C726C4, cid=1, FAILED org.apache.ratis.protocol.NotLeaderException: Server 9512c027-07d3-4387-8ec6-d2a1b2e801d5 is not the leader (null). Request must be sent to leader., logIndex=0, commits[9512c027-07d3-4387-8ec6-d2a1b2e801d5:c-1]
2019-08-23 05:26:49,404 | INFO  | SCMAudit | user=jenkins1000 | ip=192.168.5.178 | op=SEND_HEARTBEAT {datanodeUUID=9512c027-07d3-4387-8ec6-d2a1b2e801d5, command=[]} | ret=SUCCESS |  
2019-08-23 05:26:49,605 | INFO  | SCMAudit | user=jenkins1000 | ip=192.168.5.178 | op=SEND_HEARTBEAT {datanodeUUID=9512c027-07d3-4387-8ec6-d2a1b2e801d5, command=[]} | ret=SUCCESS |  
2019-08-23 05:26:49,805 | INFO  | SCMAudit | user=jenkins1000 | ip=192.168.5.178 | op=SEND_HEARTBEAT {datanodeUUID=9512c027-07d3-4387-8ec6-d2a1b2e801d5, command=[]} | ret=SUCCESS |  
2019-08-23 05:26:50,004 | INFO  | SCMAudit | user=jenkins1000 | ip=192.168.5.178 | op=SEND_HEARTBEAT {datanodeUUID=9512c027-07d3-4387-8ec6-d2a1b2e801d5, command=[]} | ret=SUCCESS |  
2019-08-23 05:26:50,205 | INFO  | SCMAudit | user=jenkins1000 | ip=192.168.5.178 | op=SEND_HEARTBEAT {datanodeUUID=9512c027-07d3-4387-8ec6-d2a1b2e801d5, command=[]} | ret=SUCCESS |  
2019-08-23 05:26:50,406 | INFO  | SCMAudit | user=jenkins1000 | ip=192.168.5.178 | op=SEND_HEARTBEAT {datanodeUUID=9512c027-07d3-4387-8ec6-d2a1b2e801d5, command=[]} | ret=SUCCESS |  
2019-08-23 05:26:50,606 | INFO  | SCMAudit | user=jenkins1000 | ip=192.168.5.178 | op=SEND_HEARTBEAT {datanodeUUID=9512c027-07d3-4387-8ec6-d2a1b2e801d5, command=[]} | ret=SUCCESS |  
2019-08-23 05:26:50,806 | INFO  | SCMAudit | user=jenkins1000 | ip=192.168.5.178 | op=SEND_HEARTBEAT {datanodeUUID=9512c027-07d3-4387-8ec6-d2a1b2e801d5, command=[]} | ret=SUCCESS |  
2019-08-23 05:26:51,007 | INFO  | SCMAudit | user=jenkins1000 | ip=192.168.5.178 | op=SEND_HEARTBEAT {datanodeUUID=9512c027-07d3-4387-8ec6-d2a1b2e801d5, command=[]} | ret=SUCCESS |  
2019-08-23 05:26:51,206 | INFO  | SCMAudit | user=jenkins1000 | ip=192.168.5.178 | op=SEND_HEARTBEAT {datanodeUUID=9512c027-07d3-4387-8ec6-d2a1b2e801d5, command=[]} | ret=SUCCESS |  
2019-08-23 05:26:51,235 [grpc-default-executor-1] INFO  client.GrpcClientProtocolClient (GrpcClientProtocolClient.java:onNext(255)) - client-7AA06D388C63->9512c027-07d3-4387-8ec6-d2a1b2e801d5: receive RaftClientReply:client-7AA06D388C63->9512c027-07d3-4387-8ec6-d2a1b2e801d5@group-2D6ED9C726C4, cid=1, FAILED org.apache.ratis.protocol.NotLeaderException: Server 9512c027-07d3-4387-8ec6-d2a1b2e801d5 is not the leader (null). Request must be sent to leader., logIndex=0, commits[9512c027-07d3-4387-8ec6-d2a1b2e801d5:c-1]
2019-08-23 05:26:51,406 | INFO  | SCMAudit | user=jenkins1000 | ip=192.168.5.178 | op=SEND_HEARTBEAT {datanodeUUID=9512c027-07d3-4387-8ec6-d2a1b2e801d5, command=[]} | ret=SUCCESS |  
2019-08-23 05:26:51,609 | INFO  | SCMAudit | user=jenkins1000 | ip=192.168.5.178 | op=SEND_HEARTBEAT {datanodeUUID=9512c027-07d3-4387-8ec6-d2a1b2e801d5, command=[]} | ret=SUCCESS |  
2019-08-23 05:26:51,805 | INFO  | SCMAudit | user=jenkins1000 | ip=192.168.5.178 | op=SEND_HEARTBEAT {datanodeUUID=9512c027-07d3-4387-8ec6-d2a1b2e801d5, command=[]} | ret=SUCCESS |  
2019-08-23 05:26:51,959 [Thread-150] INFO  impl.FollowerState (FollowerState.java:run(106)) - 9512c027-07d3-4387-8ec6-d2a1b2e801d5:group-2D6ED9C726C4 changes to CANDIDATE, lastRpcTime:5175, electionTimeout:5174ms
2019-08-23 05:26:51,961 [Thread-150] INFO  impl.RoleInfo (RoleInfo.java:shutdownFollowerState(121)) - 9512c027-07d3-4387-8ec6-d2a1b2e801d5: shutdown FollowerState
2019-08-23 05:26:51,962 [Thread-150] INFO  impl.RaftServerImpl (RaftServerImpl.java:setRole(171)) - 9512c027-07d3-4387-8ec6-d2a1b2e801d5:group-2D6ED9C726C4 changes role from FOLLOWER to CANDIDATE at term 0 for changeToCandidate
2019-08-23 05:26:51,967 [Thread-150] INFO  impl.RoleInfo (RoleInfo.java:updateAndGet(143)) - 9512c027-07d3-4387-8ec6-d2a1b2e801d5: start LeaderElection
2019-08-23 05:26:51,984 [9512c027-07d3-4387-8ec6-d2a1b2e801d5:group-2D6ED9C726C4:LeaderElection1] INFO  impl.LeaderElection (LeaderElection.java:askForVotes(181)) - 9512c027-07d3-4387-8ec6-d2a1b2e801d5:group-2D6ED9C726C4:LeaderElection1: begin an election at term 1 for -1: [9512c027-07d3-4387-8ec6-d2a1b2e801d5:192.168.5.178:42859], old=null
2019-08-23 05:26:51,986 [9512c027-07d3-4387-8ec6-d2a1b2e801d5:group-2D6ED9C726C4:LeaderElection1] INFO  impl.RoleInfo (RoleInfo.java:shutdownLeaderElection(134)) - 9512c027-07d3-4387-8ec6-d2a1b2e801d5: shutdown LeaderElection
2019-08-23 05:26:51,987 [9512c027-07d3-4387-8ec6-d2a1b2e801d5:group-2D6ED9C726C4:LeaderElection1] INFO  impl.RaftServerImpl (RaftServerImpl.java:setRole(171)) - 9512c027-07d3-4387-8ec6-d2a1b2e801d5:group-2D6ED9C726C4 changes role from CANDIDATE to LEADER at term 1 for changeToLeader
2019-08-23 05:26:51,987 [9512c027-07d3-4387-8ec6-d2a1b2e801d5:group-2D6ED9C726C4:LeaderElection1] INFO  impl.RaftServerImpl (ServerState.java:setLeader(263)) - 9512c027-07d3-4387-8ec6-d2a1b2e801d5:group-2D6ED9C726C4 change Leader from null to 9512c027-07d3-4387-8ec6-d2a1b2e801d5 at term 1 for becomeLeader, leader elected after 5312ms
2019-08-23 05:26:51,995 [9512c027-07d3-4387-8ec6-d2a1b2e801d5:group-2D6ED9C726C4:LeaderElection1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.staging.catchup.gap = 1000 (default)
2019-08-23 05:26:51,995 [9512c027-07d3-4387-8ec6-d2a1b2e801d5:group-2D6ED9C726C4:LeaderElection1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.rpc.sleep.time = 25ms (default)
2019-08-23 05:26:51,999 [9512c027-07d3-4387-8ec6-d2a1b2e801d5:group-2D6ED9C726C4:LeaderElection1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.write.element-limit = 4096 (default)
2019-08-23 05:26:52,002 [9512c027-07d3-4387-8ec6-d2a1b2e801d5:group-2D6ED9C726C4:LeaderElection1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.watch.timeout = 10s (default)
2019-08-23 05:26:52,003 [9512c027-07d3-4387-8ec6-d2a1b2e801d5:group-2D6ED9C726C4:LeaderElection1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.watch.timeout.denomination = 1s (default)
2019-08-23 05:26:52,005 [9512c027-07d3-4387-8ec6-d2a1b2e801d5:group-2D6ED9C726C4:LeaderElection1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.watch.element-limit = 65536 (default)
2019-08-23 05:26:52,006 | INFO  | SCMAudit | user=jenkins1000 | ip=192.168.5.178 | op=SEND_HEARTBEAT {datanodeUUID=9512c027-07d3-4387-8ec6-d2a1b2e801d5, command=[]} | ret=SUCCESS |  
2019-08-23 05:26:52,015 [9512c027-07d3-4387-8ec6-d2a1b2e801d5:group-2D6ED9C726C4:LeaderElection1] INFO  impl.RoleInfo (RoleInfo.java:updateAndGet(143)) - 9512c027-07d3-4387-8ec6-d2a1b2e801d5: start LeaderState
2019-08-23 05:26:52,041 [9512c027-07d3-4387-8ec6-d2a1b2e801d5:group-2D6ED9C726C4:LeaderElection1] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:startLogSegment(380)) - 9512c027-07d3-4387-8ec6-d2a1b2e801d5-SegmentedRaftLogWorker:Storage Directory /workdir/hadoop-ozone/integration-test/target/test-dir/MiniOzoneClusterImpl-4df9fbe8-bd9f-48ff-b9d2-b0c93ccc846c/datanode-0/data/ratis/285deb85-539f-4427-b2c1-2d6ed9c726c4: Starting segment from index:0
2019-08-23 05:26:52,052 [9512c027-07d3-4387-8ec6-d2a1b2e801d5:group-2D6ED9C726C4:LeaderElection1] INFO  impl.RaftServerImpl (ServerState.java:setRaftConf(361)) - 9512c027-07d3-4387-8ec6-d2a1b2e801d5:group-2D6ED9C726C4 set configuration 0: [9512c027-07d3-4387-8ec6-d2a1b2e801d5:192.168.5.178:42859], old=null at 0
2019-08-23 05:26:52,206 | INFO  | SCMAudit | user=jenkins1000 | ip=192.168.5.178 | op=SEND_HEARTBEAT {datanodeUUID=9512c027-07d3-4387-8ec6-d2a1b2e801d5, command=[]} | ret=SUCCESS |  
2019-08-23 05:26:52,250 [9512c027-07d3-4387-8ec6-d2a1b2e801d5-SegmentedRaftLogWorker:Storage Directory /workdir/hadoop-ozone/integration-test/target/test-dir/MiniOzoneClusterImpl-4df9fbe8-bd9f-48ff-b9d2-b0c93ccc846c/datanode-0/data/ratis/285deb85-539f-4427-b2c1-2d6ed9c726c4] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:execute(569)) - 9512c027-07d3-4387-8ec6-d2a1b2e801d5-SegmentedRaftLogWorker:Storage Directory /workdir/hadoop-ozone/integration-test/target/test-dir/MiniOzoneClusterImpl-4df9fbe8-bd9f-48ff-b9d2-b0c93ccc846c/datanode-0/data/ratis/285deb85-539f-4427-b2c1-2d6ed9c726c4: created new log segment /workdir/hadoop-ozone/integration-test/target/test-dir/MiniOzoneClusterImpl-4df9fbe8-bd9f-48ff-b9d2-b0c93ccc846c/datanode-0/data/ratis/285deb85-539f-4427-b2c1-2d6ed9c726c4/current/log_inprogress_0
2019-08-23 05:26:52,407 | INFO  | SCMAudit | user=jenkins1000 | ip=192.168.5.178 | op=SEND_HEARTBEAT {datanodeUUID=9512c027-07d3-4387-8ec6-d2a1b2e801d5, command=[]} | ret=SUCCESS |  
2019-08-23 05:26:52,608 | INFO  | SCMAudit | user=jenkins1000 | ip=192.168.5.178 | op=SEND_HEARTBEAT {datanodeUUID=9512c027-07d3-4387-8ec6-d2a1b2e801d5, command=[]} | ret=SUCCESS |  
2019-08-23 05:26:52,808 | INFO  | SCMAudit | user=jenkins1000 | ip=192.168.5.178 | op=SEND_HEARTBEAT {datanodeUUID=9512c027-07d3-4387-8ec6-d2a1b2e801d5, command=[]} | ret=SUCCESS |  
2019-08-23 05:26:53,007 | INFO  | SCMAudit | user=jenkins1000 | ip=192.168.5.178 | op=SEND_HEARTBEAT {datanodeUUID=9512c027-07d3-4387-8ec6-d2a1b2e801d5, command=[]} | ret=SUCCESS |  
2019-08-23 05:26:53,210 | INFO  | SCMAudit | user=jenkins1000 | ip=192.168.5.178 | op=SEND_HEARTBEAT {datanodeUUID=9512c027-07d3-4387-8ec6-d2a1b2e801d5, command=[]} | ret=SUCCESS |  
2019-08-23 05:26:53,382 | INFO  | SCMAudit | user=jenkins1000 | ip=192.168.5.178 | op=SEND_HEARTBEAT {datanodeUUID=9512c027-07d3-4387-8ec6-d2a1b2e801d5, command=[]} | ret=SUCCESS |  
2019-08-23 05:26:53,403 | INFO  | DNAudit | user=null | ip=null | op=WRITE_CHUNK {blockData=conID: 1 locID: 102664634827866113 bcsId: 0} | ret=SUCCESS |  
2019-08-23 05:26:53,419 | INFO  | DNAudit | user=null | ip=null | op=WRITE_CHUNK {blockData=conID: 1 locID: 102664634827866113 bcsId: 0} | ret=SUCCESS |  
2019-08-23 05:26:53,425 [StateMachineUpdater:9512c027-07d3-4387-8ec6-d2a1b2e801d5:group-2D6ED9C726C4] INFO  ratis.ContainerStateMachine (ContainerStateMachine.java:takeSnapshot(283)) - group-2D6ED9C726C4: Taking a snapshot at:(t:1, i:1) file /workdir/hadoop-ozone/integration-test/target/test-dir/MiniOzoneClusterImpl-4df9fbe8-bd9f-48ff-b9d2-b0c93ccc846c/datanode-0/data/ratis/285deb85-539f-4427-b2c1-2d6ed9c726c4/sm/snapshot.1_1
2019-08-23 05:26:53,429 [grpc-default-executor-0] INFO  client.GrpcClientProtocolClient (GrpcClientProtocolClient.java:onNext(255)) - client-7AA06D388C63->9512c027-07d3-4387-8ec6-d2a1b2e801d5: receive RaftClientReply:client-7AA06D388C63->9512c027-07d3-4387-8ec6-d2a1b2e801d5@group-2D6ED9C726C4, cid=1, SUCCESS, logIndex=1, commits[9512c027-07d3-4387-8ec6-d2a1b2e801d5:c1]
2019-08-23 05:26:53,448 [StateMachineUpdater:9512c027-07d3-4387-8ec6-d2a1b2e801d5:group-2D6ED9C726C4] INFO  ratis.ContainerStateMachine (ContainerStateMachine.java:takeSnapshot(294)) - group-2D6ED9C726C4: Finished taking a snapshot at:(t:1, i:1) file:/workdir/hadoop-ozone/integration-test/target/test-dir/MiniOzoneClusterImpl-4df9fbe8-bd9f-48ff-b9d2-b0c93ccc846c/datanode-0/data/ratis/285deb85-539f-4427-b2c1-2d6ed9c726c4/sm/snapshot.1_1 time:24
2019-08-23 05:26:53,449 [StateMachineUpdater:9512c027-07d3-4387-8ec6-d2a1b2e801d5:group-2D6ED9C726C4] INFO  impl.StateMachineUpdater (StateMachineUpdater.java:takeSnapshot(242)) - StateMachineUpdater:9512c027-07d3-4387-8ec6-d2a1b2e801d5:group-2D6ED9C726C4: Took a snapshot at index 1
2019-08-23 05:26:53,449 [StateMachineUpdater:9512c027-07d3-4387-8ec6-d2a1b2e801d5:group-2D6ED9C726C4] INFO  impl.StateMachineUpdater (StateMachineUpdater.java:lambda$new$0(80)) - StateMachineUpdater:9512c027-07d3-4387-8ec6-d2a1b2e801d5:group-2D6ED9C726C4: snapshotIndex: updateIncreasingly -1 -> 1
2019-08-23 05:26:53,505 | INFO  | DNAudit | user=null | ip=null | op=PUT_BLOCK {blockData=[blockId=conID: 1 locID: 102664634827866113 bcsId: 0,size=5]} | ret=SUCCESS |  
2019-08-23 05:26:53,507 [StateMachineUpdater:9512c027-07d3-4387-8ec6-d2a1b2e801d5:group-2D6ED9C726C4] INFO  ratis.ContainerStateMachine (ContainerStateMachine.java:takeSnapshot(283)) - group-2D6ED9C726C4: Taking a snapshot at:(t:1, i:4) file /workdir/hadoop-ozone/integration-test/target/test-dir/MiniOzoneClusterImpl-4df9fbe8-bd9f-48ff-b9d2-b0c93ccc846c/datanode-0/data/ratis/285deb85-539f-4427-b2c1-2d6ed9c726c4/sm/snapshot.1_4
2019-08-23 05:26:53,512 [grpc-default-executor-0] INFO  client.GrpcClientProtocolClient (GrpcClientProtocolClient.java:onNext(255)) - client-7AA06D388C63->9512c027-07d3-4387-8ec6-d2a1b2e801d5: receive RaftClientReply:client-7AA06D388C63->9512c027-07d3-4387-8ec6-d2a1b2e801d5@group-2D6ED9C726C4, cid=2, SUCCESS, logIndex=3, commits[9512c027-07d3-4387-8ec6-d2a1b2e801d5:c4]
2019-08-23 05:26:53,520 [StateMachineUpdater:9512c027-07d3-4387-8ec6-d2a1b2e801d5:group-2D6ED9C726C4] INFO  ratis.ContainerStateMachine (ContainerStateMachine.java:takeSnapshot(294)) - group-2D6ED9C726C4: Finished taking a snapshot at:(t:1, i:4) file:/workdir/hadoop-ozone/integration-test/target/test-dir/MiniOzoneClusterImpl-4df9fbe8-bd9f-48ff-b9d2-b0c93ccc846c/datanode-0/data/ratis/285deb85-539f-4427-b2c1-2d6ed9c726c4/sm/snapshot.1_4 time:12
2019-08-23 05:26:53,520 [StateMachineUpdater:9512c027-07d3-4387-8ec6-d2a1b2e801d5:group-2D6ED9C726C4] INFO  impl.StateMachineUpdater (StateMachineUpdater.java:takeSnapshot(242)) - StateMachineUpdater:9512c027-07d3-4387-8ec6-d2a1b2e801d5:group-2D6ED9C726C4: Took a snapshot at index 4
2019-08-23 05:26:53,520 [StateMachineUpdater:9512c027-07d3-4387-8ec6-d2a1b2e801d5:group-2D6ED9C726C4] INFO  impl.StateMachineUpdater (StateMachineUpdater.java:lambda$new$0(80)) - StateMachineUpdater:9512c027-07d3-4387-8ec6-d2a1b2e801d5:group-2D6ED9C726C4: snapshotIndex: updateIncreasingly 1 -> 4
2019-08-23 05:26:53,524 [pool-26-thread-2] ERROR impl.ChunkManagerImpl (ChunkUtils.java:getChunkFile(249)) - Chunks path does not exist
2019-08-23 05:26:53,525 [pool-26-thread-2] INFO  keyvalue.KeyValueHandler (ContainerUtils.java:logAndReturnError(146)) - Operation: WriteChunk : Trace ID: cccc44d3829ab4af:cccc44d3829ab4af:0:0 : Message: Unable to get Chunks directory. : Result: UNABLE_TO_FIND_DATA_DIR
2019-08-23 05:26:53,528 [pool-26-thread-2] WARN  keyvalue.KeyValueHandler (KeyValueHandler.java:markContainerUnhealthy(909)) - Unexpected error while marking container 1 as unhealthy
org.apache.hadoop.hdds.scm.container.common.helpers.StorageContainerException: Error while creating/ updating .container file. ContainerID: 1
	at org.apache.hadoop.ozone.container.keyvalue.KeyValueContainer.writeToContainerFile(KeyValueContainer.java:231)
	at org.apache.hadoop.ozone.container.keyvalue.KeyValueContainer.updateContainerFile(KeyValueContainer.java:251)
	at org.apache.hadoop.ozone.container.keyvalue.KeyValueContainer.updateContainerData(KeyValueContainer.java:339)
	at org.apache.hadoop.ozone.container.keyvalue.KeyValueContainer.markContainerUnhealthy(KeyValueContainer.java:292)
	at org.apache.hadoop.ozone.container.keyvalue.KeyValueHandler.markContainerUnhealthy(KeyValueHandler.java:904)
	at org.apache.hadoop.ozone.container.common.impl.HddsDispatcher.dispatchRequest(HddsDispatcher.java:303)
	at org.apache.hadoop.ozone.container.common.impl.HddsDispatcher.dispatch(HddsDispatcher.java:148)
	at org.apache.hadoop.ozone.container.common.transport.server.ratis.ContainerStateMachine.dispatchCommand(ContainerStateMachine.java:395)
	at org.apache.hadoop.ozone.container.common.transport.server.ratis.ContainerStateMachine.runCommand(ContainerStateMachine.java:403)
	at org.apache.hadoop.ozone.container.common.transport.server.ratis.ContainerStateMachine.lambda$handleWriteChunk$1(ContainerStateMachine.java:435)
	at java.util.concurrent.CompletableFuture$AsyncSupply.run(CompletableFuture.java:1590)
	at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1149)
	at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:624)
	at java.lang.Thread.run(Thread.java:748)
Caused by: java.io.IOException: No such file or directory
	at java.io.UnixFileSystem.createFileExclusively(Native Method)
	at java.io.File.createTempFile(File.java:2024)
	at org.apache.hadoop.ozone.container.keyvalue.KeyValueContainer.createTempFile(KeyValueContainer.java:707)
	at org.apache.hadoop.ozone.container.keyvalue.KeyValueContainer.writeToContainerFile(KeyValueContainer.java:216)
	... 13 more
2019-08-23 05:26:53,533 | ERROR | DNAudit | user=null | ip=null | op=PUT_BLOCK {blockData=[blockId=conID: 1 locID: 102664634827866113 bcsId: 0,size=10]} | ret=FAILURE | org.apache.hadoop.hdds.scm.container.common.helpers.ContainerNotOpenException: Container 1 in UNHEALTHY state
	at org.apache.hadoop.ozone.container.common.impl.HddsDispatcher.validateContainerCommand(HddsDispatcher.java:408)
	at org.apache.hadoop.ozone.container.common.transport.server.ratis.ContainerStateMachine.startTransaction(ContainerStateMachine.java:309) 
2019-08-23 05:26:53,534 | INFO  | SCMAudit | user=jenkins1000 | ip=192.168.5.178 | op=SEND_HEARTBEAT {datanodeUUID=9512c027-07d3-4387-8ec6-d2a1b2e801d5, command=[]} | ret=SUCCESS |  
2019-08-23 05:26:53,539 [EventQueue-IncrementalContainerReportForIncrementalContainerReportHandler] WARN  container.IncrementalContainerReportHandler (AbstractContainerReportHandler.java:updateContainerState(143)) - Container #1 is in OPEN state, but the datanode 9512c027-07d3-4387-8ec6-d2a1b2e801d5{ip: 192.168.5.178, host: trunk-nightly-zfkm8-417691344, networkLocation: /default-rack, certSerialId: null} reports an UNHEALTHY replica.
2019-08-23 05:26:53,541 | ERROR | DNAudit | user=null | ip=null | op=WRITE_CHUNK {blockData=conID: 1 locID: 102664634827866113 bcsId: 3} | ret=FAILURE | java.lang.Exception: Unable to get Chunks directory.
	at org.apache.hadoop.ozone.container.common.impl.HddsDispatcher.dispatchRequest(HddsDispatcher.java:320)
	at org.apache.hadoop.ozone.container.common.impl.HddsDispatcher.dispatch(HddsDispatcher.java:148) 
2019-08-23 05:26:53,542 [pool-26-thread-2] ERROR ratis.ContainerStateMachine (ContainerStateMachine.java:lambda$handleWriteChunk$2(449)) - group-2D6ED9C726C4: writeChunk writeStateMachineData failed: blockIdcontainerID: 1
localID: 102664634827866113
blockCommitSequenceId: 3
 logIndex 5 chunkName 102664634827866113_chunk_2 Error message: Unable to get Chunks directory. Container Result: UNABLE_TO_FIND_DATA_DIR
2019-08-23 05:26:53,550 [9512c027-07d3-4387-8ec6-d2a1b2e801d5-SegmentedRaftLogWorker:Storage Directory /workdir/hadoop-ozone/integration-test/target/test-dir/MiniOzoneClusterImpl-4df9fbe8-bd9f-48ff-b9d2-b0c93ccc846c/datanode-0/data/ratis/285deb85-539f-4427-b2c1-2d6ed9c726c4] ERROR ratis.XceiverServerRatis (XceiverServerRatis.java:triggerPipelineClose(561)) - pipeline Action CLOSE  on pipeline PipelineID=285deb85-539f-4427-b2c1-2d6ed9c726c4.Reason : Unable to get Chunks directory.
2019-08-23 05:26:53,555 | INFO  | SCMAudit | user=jenkins1000 | ip=192.168.5.178 | op=SEND_HEARTBEAT {datanodeUUID=9512c027-07d3-4387-8ec6-d2a1b2e801d5, command=[]} | ret=SUCCESS |  
2019-08-23 05:26:53,556 [EventQueue-PipelineActionsForPipelineActionHandler] ERROR pipeline.PipelineActionHandler (PipelineActionHandler.java:onMessage(60)) - Received pipeline action CLOSE for Pipeline[ Id: 285deb85-539f-4427-b2c1-2d6ed9c726c4, Nodes: 9512c027-07d3-4387-8ec6-d2a1b2e801d5{ip: 192.168.5.178, host: trunk-nightly-zfkm8-417691344, networkLocation: /default-rack, certSerialId: null}, Type:RATIS, Factor:ONE, State:OPEN] from datanode 9512c027-07d3-4387-8ec6-d2a1b2e801d5{ip: 192.168.5.178, host: trunk-nightly-zfkm8-417691344, networkLocation: /default-rack, certSerialId: null}. Reason : Unable to get Chunks directory.
2019-08-23 05:26:53,556 [EventQueue-PipelineActionsForPipelineActionHandler] INFO  pipeline.SCMPipelineManager (SCMPipelineManager.java:finalizeAndDestroyPipeline(309)) - destroying pipeline:Pipeline[ Id: 285deb85-539f-4427-b2c1-2d6ed9c726c4, Nodes: 9512c027-07d3-4387-8ec6-d2a1b2e801d5{ip: 192.168.5.178, host: trunk-nightly-zfkm8-417691344, networkLocation: /default-rack, certSerialId: null}, Type:RATIS, Factor:ONE, State:OPEN]
2019-08-23 05:26:53,557 [EventQueue-CloseContainerForCloseContainerEventHandler] INFO  container.CloseContainerEventHandler (CloseContainerEventHandler.java:onMessage(61)) - Close container Event triggered for container : #1
2019-08-23 05:26:53,558 [EventQueue-PipelineActionsForPipelineActionHandler] INFO  pipeline.PipelineStateManager (PipelineStateManager.java:finalizePipeline(123)) - Pipeline Pipeline[ Id: 285deb85-539f-4427-b2c1-2d6ed9c726c4, Nodes: 9512c027-07d3-4387-8ec6-d2a1b2e801d5{ip: 192.168.5.178, host: trunk-nightly-zfkm8-417691344, networkLocation: /default-rack, certSerialId: null}, Type:RATIS, Factor:ONE, State:CLOSED] moved to CLOSED state
2019-08-23 05:26:53,563 [EventQueue-CloseContainerForCloseContainerEventHandler] INFO  container.CloseContainerEventHandler (CloseContainerEventHandler.java:onMessage(61)) - Close container Event triggered for container : #1
2019-08-23 05:26:53,779 | INFO  | SCMAudit | user=jenkins1000 | ip=192.168.5.178 | op=SEND_HEARTBEAT {datanodeUUID=9512c027-07d3-4387-8ec6-d2a1b2e801d5, command=[commandType: closeContainerCommand closeContainerCommandProto { containerID: 1 pipelineID { id: "285deb85-539f-4427-b2c1-2d6ed9c726c4" } cmdId: 1 force: false } , commandType: closeContainerCommand closeContainerCommandProto { containerID: 1 pipelineID { id: "285deb85-539f-4427-b2c1-2d6ed9c726c4" } cmdId: 1 force: false } ]} | ret=SUCCESS |  
2019-08-23 05:26:53,810 [9512c027-07d3-4387-8ec6-d2a1b2e801d5-SegmentedRaftLogWorker:Storage Directory /workdir/hadoop-ozone/integration-test/target/test-dir/MiniOzoneClusterImpl-4df9fbe8-bd9f-48ff-b9d2-b0c93ccc846c/datanode-0/data/ratis/285deb85-539f-4427-b2c1-2d6ed9c726c4] ERROR ratis.XceiverServerRatis (XceiverServerRatis.java:triggerPipelineClose(561)) - pipeline Action CLOSE  on pipeline PipelineID=285deb85-539f-4427-b2c1-2d6ed9c726c4.Reason : Log already failed at index 5 for task WriteLog:5: (t:1, i:5), STATEMACHINELOGENTRY, client-7AA06D388C63, cid=3
2019-08-23 05:26:53,812 [EventQueue-PipelineActionsForPipelineActionHandler] ERROR pipeline.PipelineActionHandler (PipelineActionHandler.java:onMessage(60)) - Received pipeline action CLOSE for Pipeline[ Id: 285deb85-539f-4427-b2c1-2d6ed9c726c4, Nodes: 9512c027-07d3-4387-8ec6-d2a1b2e801d5{ip: 192.168.5.178, host: trunk-nightly-zfkm8-417691344, networkLocation: /default-rack, certSerialId: null}, Type:RATIS, Factor:ONE, State:CLOSED] from datanode 9512c027-07d3-4387-8ec6-d2a1b2e801d5{ip: 192.168.5.178, host: trunk-nightly-zfkm8-417691344, networkLocation: /default-rack, certSerialId: null}. Reason : Log already failed at index 5 for task WriteLog:5: (t:1, i:5), STATEMACHINELOGENTRY, client-7AA06D388C63, cid=3
2019-08-23 05:26:53,812 | INFO  | SCMAudit | user=jenkins1000 | ip=192.168.5.178 | op=SEND_HEARTBEAT {datanodeUUID=9512c027-07d3-4387-8ec6-d2a1b2e801d5, command=[]} | ret=SUCCESS |  
2019-08-23 05:26:53,812 [EventQueue-PipelineActionsForPipelineActionHandler] INFO  pipeline.SCMPipelineManager (SCMPipelineManager.java:finalizeAndDestroyPipeline(309)) - destroying pipeline:Pipeline[ Id: 285deb85-539f-4427-b2c1-2d6ed9c726c4, Nodes: 9512c027-07d3-4387-8ec6-d2a1b2e801d5{ip: 192.168.5.178, host: trunk-nightly-zfkm8-417691344, networkLocation: /default-rack, certSerialId: null}, Type:RATIS, Factor:ONE, State:CLOSED]
2019-08-23 05:26:54,012 | INFO  | SCMAudit | user=jenkins1000 | ip=192.168.5.178 | op=SEND_HEARTBEAT {datanodeUUID=9512c027-07d3-4387-8ec6-d2a1b2e801d5, command=[]} | ret=SUCCESS |  
2019-08-23 05:26:54,217 | INFO  | SCMAudit | user=jenkins1000 | ip=192.168.5.178 | op=SEND_HEARTBEAT {datanodeUUID=9512c027-07d3-4387-8ec6-d2a1b2e801d5, command=[]} | ret=SUCCESS |  
2019-08-23 05:26:54,414 | INFO  | SCMAudit | user=jenkins1000 | ip=192.168.5.178 | op=SEND_HEARTBEAT {datanodeUUID=9512c027-07d3-4387-8ec6-d2a1b2e801d5, command=[]} | ret=SUCCESS |  
2019-08-23 05:26:54,614 | INFO  | SCMAudit | user=jenkins1000 | ip=192.168.5.178 | op=SEND_HEARTBEAT {datanodeUUID=9512c027-07d3-4387-8ec6-d2a1b2e801d5, command=[]} | ret=SUCCESS |  
2019-08-23 05:26:54,814 | INFO  | SCMAudit | user=jenkins1000 | ip=192.168.5.178 | op=SEND_HEARTBEAT {datanodeUUID=9512c027-07d3-4387-8ec6-d2a1b2e801d5, command=[]} | ret=SUCCESS |  
2019-08-23 05:26:55,014 | INFO  | SCMAudit | user=jenkins1000 | ip=192.168.5.178 | op=SEND_HEARTBEAT {datanodeUUID=9512c027-07d3-4387-8ec6-d2a1b2e801d5, command=[]} | ret=SUCCESS |  
2019-08-23 05:26:55,213 | INFO  | SCMAudit | user=jenkins1000 | ip=192.168.5.178 | op=SEND_HEARTBEAT {datanodeUUID=9512c027-07d3-4387-8ec6-d2a1b2e801d5, command=[]} | ret=SUCCESS |  
2019-08-23 05:26:55,414 | INFO  | SCMAudit | user=jenkins1000 | ip=192.168.5.178 | op=SEND_HEARTBEAT {datanodeUUID=9512c027-07d3-4387-8ec6-d2a1b2e801d5, command=[]} | ret=SUCCESS |  
2019-08-23 05:26:55,614 | INFO  | SCMAudit | user=jenkins1000 | ip=192.168.5.178 | op=SEND_HEARTBEAT {datanodeUUID=9512c027-07d3-4387-8ec6-d2a1b2e801d5, command=[]} | ret=SUCCESS |  
2019-08-23 05:26:55,814 | INFO  | SCMAudit | user=jenkins1000 | ip=192.168.5.178 | op=SEND_HEARTBEAT {datanodeUUID=9512c027-07d3-4387-8ec6-d2a1b2e801d5, command=[]} | ret=SUCCESS |  
2019-08-23 05:26:56,013 | INFO  | SCMAudit | user=jenkins1000 | ip=192.168.5.178 | op=SEND_HEARTBEAT {datanodeUUID=9512c027-07d3-4387-8ec6-d2a1b2e801d5, command=[]} | ret=SUCCESS |  
2019-08-23 05:26:56,213 | INFO  | SCMAudit | user=jenkins1000 | ip=192.168.5.178 | op=SEND_HEARTBEAT {datanodeUUID=9512c027-07d3-4387-8ec6-d2a1b2e801d5, command=[]} | ret=SUCCESS |  
2019-08-23 05:26:56,414 | INFO  | SCMAudit | user=jenkins1000 | ip=192.168.5.178 | op=SEND_HEARTBEAT {datanodeUUID=9512c027-07d3-4387-8ec6-d2a1b2e801d5, command=[]} | ret=SUCCESS |  
2019-08-23 05:26:56,614 | INFO  | SCMAudit | user=jenkins1000 | ip=192.168.5.178 | op=SEND_HEARTBEAT {datanodeUUID=9512c027-07d3-4387-8ec6-d2a1b2e801d5, command=[]} | ret=SUCCESS |  
2019-08-23 05:26:56,813 | INFO  | SCMAudit | user=jenkins1000 | ip=192.168.5.178 | op=SEND_HEARTBEAT {datanodeUUID=9512c027-07d3-4387-8ec6-d2a1b2e801d5, command=[]} | ret=SUCCESS |  
2019-08-23 05:26:57,014 | INFO  | SCMAudit | user=jenkins1000 | ip=192.168.5.178 | op=SEND_HEARTBEAT {datanodeUUID=9512c027-07d3-4387-8ec6-d2a1b2e801d5, command=[]} | ret=SUCCESS |  
2019-08-23 05:26:57,214 | INFO  | SCMAudit | user=jenkins1000 | ip=192.168.5.178 | op=SEND_HEARTBEAT {datanodeUUID=9512c027-07d3-4387-8ec6-d2a1b2e801d5, command=[]} | ret=SUCCESS |  
2019-08-23 05:26:57,414 | INFO  | SCMAudit | user=jenkins1000 | ip=192.168.5.178 | op=SEND_HEARTBEAT {datanodeUUID=9512c027-07d3-4387-8ec6-d2a1b2e801d5, command=[]} | ret=SUCCESS |  
2019-08-23 05:26:57,613 | INFO  | SCMAudit | user=jenkins1000 | ip=192.168.5.178 | op=SEND_HEARTBEAT {datanodeUUID=9512c027-07d3-4387-8ec6-d2a1b2e801d5, command=[]} | ret=SUCCESS |  
2019-08-23 05:26:57,814 | INFO  | SCMAudit | user=jenkins1000 | ip=192.168.5.178 | op=SEND_HEARTBEAT {datanodeUUID=9512c027-07d3-4387-8ec6-d2a1b2e801d5, command=[]} | ret=SUCCESS |  
2019-08-23 05:26:58,014 | INFO  | SCMAudit | user=jenkins1000 | ip=192.168.5.178 | op=SEND_HEARTBEAT {datanodeUUID=9512c027-07d3-4387-8ec6-d2a1b2e801d5, command=[]} | ret=SUCCESS |  
2019-08-23 05:26:58,214 | INFO  | SCMAudit | user=jenkins1000 | ip=192.168.5.178 | op=SEND_HEARTBEAT {datanodeUUID=9512c027-07d3-4387-8ec6-d2a1b2e801d5, command=[]} | ret=SUCCESS |  
2019-08-23 05:26:58,414 | INFO  | SCMAudit | user=jenkins1000 | ip=192.168.5.178 | op=SEND_HEARTBEAT {datanodeUUID=9512c027-07d3-4387-8ec6-d2a1b2e801d5, command=[]} | ret=SUCCESS |  
2019-08-23 05:26:58,614 | INFO  | SCMAudit | user=jenkins1000 | ip=192.168.5.178 | op=SEND_HEARTBEAT {datanodeUUID=9512c027-07d3-4387-8ec6-d2a1b2e801d5, command=[]} | ret=SUCCESS |  
2019-08-23 05:26:58,815 | INFO  | SCMAudit | user=jenkins1000 | ip=192.168.5.178 | op=SEND_HEARTBEAT {datanodeUUID=9512c027-07d3-4387-8ec6-d2a1b2e801d5, command=[]} | ret=SUCCESS |  
2019-08-23 05:26:59,015 | INFO  | SCMAudit | user=jenkins1000 | ip=192.168.5.178 | op=SEND_HEARTBEAT {datanodeUUID=9512c027-07d3-4387-8ec6-d2a1b2e801d5, command=[]} | ret=SUCCESS |  
2019-08-23 05:26:59,215 | INFO  | SCMAudit | user=jenkins1000 | ip=192.168.5.178 | op=SEND_HEARTBEAT {datanodeUUID=9512c027-07d3-4387-8ec6-d2a1b2e801d5, command=[]} | ret=SUCCESS |  
2019-08-23 05:26:59,415 | INFO  | SCMAudit | user=jenkins1000 | ip=192.168.5.178 | op=SEND_HEARTBEAT {datanodeUUID=9512c027-07d3-4387-8ec6-d2a1b2e801d5, command=[]} | ret=SUCCESS |  
2019-08-23 05:26:59,614 | INFO  | SCMAudit | user=jenkins1000 | ip=192.168.5.178 | op=SEND_HEARTBEAT {datanodeUUID=9512c027-07d3-4387-8ec6-d2a1b2e801d5, command=[]} | ret=SUCCESS |  
2019-08-23 05:26:59,815 | INFO  | SCMAudit | user=jenkins1000 | ip=192.168.5.178 | op=SEND_HEARTBEAT {datanodeUUID=9512c027-07d3-4387-8ec6-d2a1b2e801d5, command=[]} | ret=SUCCESS |  
2019-08-23 05:27:00,015 | INFO  | SCMAudit | user=jenkins1000 | ip=192.168.5.178 | op=SEND_HEARTBEAT {datanodeUUID=9512c027-07d3-4387-8ec6-d2a1b2e801d5, command=[]} | ret=SUCCESS |  
2019-08-23 05:27:00,215 | INFO  | SCMAudit | user=jenkins1000 | ip=192.168.5.178 | op=SEND_HEARTBEAT {datanodeUUID=9512c027-07d3-4387-8ec6-d2a1b2e801d5, command=[]} | ret=SUCCESS |  
2019-08-23 05:27:00,415 | INFO  | SCMAudit | user=jenkins1000 | ip=192.168.5.178 | op=SEND_HEARTBEAT {datanodeUUID=9512c027-07d3-4387-8ec6-d2a1b2e801d5, command=[]} | ret=SUCCESS |  
2019-08-23 05:27:00,615 | INFO  | SCMAudit | user=jenkins1000 | ip=192.168.5.178 | op=SEND_HEARTBEAT {datanodeUUID=9512c027-07d3-4387-8ec6-d2a1b2e801d5, command=[]} | ret=SUCCESS |  
2019-08-23 05:27:00,815 | INFO  | SCMAudit | user=jenkins1000 | ip=192.168.5.178 | op=SEND_HEARTBEAT {datanodeUUID=9512c027-07d3-4387-8ec6-d2a1b2e801d5, command=[]} | ret=SUCCESS |  
2019-08-23 05:27:01,016 | INFO  | SCMAudit | user=jenkins1000 | ip=192.168.5.178 | op=SEND_HEARTBEAT {datanodeUUID=9512c027-07d3-4387-8ec6-d2a1b2e801d5, command=[]} | ret=SUCCESS |  
2019-08-23 05:27:01,216 | INFO  | SCMAudit | user=jenkins1000 | ip=192.168.5.178 | op=SEND_HEARTBEAT {datanodeUUID=9512c027-07d3-4387-8ec6-d2a1b2e801d5, command=[]} | ret=SUCCESS |  
2019-08-23 05:27:01,415 | INFO  | SCMAudit | user=jenkins1000 | ip=192.168.5.178 | op=SEND_HEARTBEAT {datanodeUUID=9512c027-07d3-4387-8ec6-d2a1b2e801d5, command=[]} | ret=SUCCESS |  
2019-08-23 05:27:01,616 | INFO  | SCMAudit | user=jenkins1000 | ip=192.168.5.178 | op=SEND_HEARTBEAT {datanodeUUID=9512c027-07d3-4387-8ec6-d2a1b2e801d5, command=[]} | ret=SUCCESS |  
2019-08-23 05:27:01,816 | INFO  | SCMAudit | user=jenkins1000 | ip=192.168.5.178 | op=SEND_HEARTBEAT {datanodeUUID=9512c027-07d3-4387-8ec6-d2a1b2e801d5, command=[]} | ret=SUCCESS |  
2019-08-23 05:27:02,016 | INFO  | SCMAudit | user=jenkins1000 | ip=192.168.5.178 | op=SEND_HEARTBEAT {datanodeUUID=9512c027-07d3-4387-8ec6-d2a1b2e801d5, command=[]} | ret=SUCCESS |  
2019-08-23 05:27:02,216 | INFO  | SCMAudit | user=jenkins1000 | ip=192.168.5.178 | op=SEND_HEARTBEAT {datanodeUUID=9512c027-07d3-4387-8ec6-d2a1b2e801d5, command=[]} | ret=SUCCESS |  
2019-08-23 05:27:02,417 | INFO  | SCMAudit | user=jenkins1000 | ip=192.168.5.178 | op=SEND_HEARTBEAT {datanodeUUID=9512c027-07d3-4387-8ec6-d2a1b2e801d5, command=[]} | ret=SUCCESS |  
2019-08-23 05:27:02,617 | INFO  | SCMAudit | user=jenkins1000 | ip=192.168.5.178 | op=SEND_HEARTBEAT {datanodeUUID=9512c027-07d3-4387-8ec6-d2a1b2e801d5, command=[]} | ret=SUCCESS |  
2019-08-23 05:27:02,817 | INFO  | SCMAudit | user=jenkins1000 | ip=192.168.5.178 | op=SEND_HEARTBEAT {datanodeUUID=9512c027-07d3-4387-8ec6-d2a1b2e801d5, command=[]} | ret=SUCCESS |  
2019-08-23 05:27:03,017 | INFO  | SCMAudit | user=jenkins1000 | ip=192.168.5.178 | op=SEND_HEARTBEAT {datanodeUUID=9512c027-07d3-4387-8ec6-d2a1b2e801d5, command=[]} | ret=SUCCESS |  
2019-08-23 05:27:03,217 | INFO  | SCMAudit | user=jenkins1000 | ip=192.168.5.178 | op=SEND_HEARTBEAT {datanodeUUID=9512c027-07d3-4387-8ec6-d2a1b2e801d5, command=[]} | ret=SUCCESS |  
2019-08-23 05:27:03,417 | INFO  | SCMAudit | user=jenkins1000 | ip=192.168.5.178 | op=SEND_HEARTBEAT {datanodeUUID=9512c027-07d3-4387-8ec6-d2a1b2e801d5, command=[]} | ret=SUCCESS |  
2019-08-23 05:27:03,588 [grpc-default-executor-1] INFO  impl.RaftServerProxy (RaftServerProxy.java:remove(95)) - 9512c027-07d3-4387-8ec6-d2a1b2e801d5: remove   LEADER group-2D6ED9C726C4 9512c027-07d3-4387-8ec6-d2a1b2e801d5:t1, leader=9512c027-07d3-4387-8ec6-d2a1b2e801d5, voted=9512c027-07d3-4387-8ec6-d2a1b2e801d5, raftlog=9512c027-07d3-4387-8ec6-d2a1b2e801d5-SegmentedRaftLog:OPENED:c4,f4,i6, conf=0: [9512c027-07d3-4387-8ec6-d2a1b2e801d5:192.168.5.178:42859], old=null RUNNING
2019-08-23 05:27:03,592 [grpc-default-executor-1] INFO  impl.RaftServerImpl (RaftServerImpl.java:lambda$shutdown$3(245)) - 9512c027-07d3-4387-8ec6-d2a1b2e801d5: shutdown group-2D6ED9C726C4
2019-08-23 05:27:03,593 [grpc-default-executor-1] INFO  util.JmxRegister (JmxRegister.java:unregister(73)) - Successfully un-registered JMX Bean with object name Ratis:service=RaftServer,group=group-2D6ED9C726C4,id=9512c027-07d3-4387-8ec6-d2a1b2e801d5
2019-08-23 05:27:03,594 [grpc-default-executor-1] INFO  impl.RoleInfo (RoleInfo.java:shutdownLeaderState(104)) - 9512c027-07d3-4387-8ec6-d2a1b2e801d5: shutdown LeaderState
2019-08-23 05:27:03,595 [grpc-default-executor-1] INFO  impl.PendingRequests (PendingRequests.java:sendNotLeaderResponses(202)) - 9512c027-07d3-4387-8ec6-d2a1b2e801d5-PendingRequests: sendNotLeaderResponses
2019-08-23 05:27:03,597 [Command processor thread] ERROR commandhandler.CloseContainerCommandHandler (CloseContainerCommandHandler.java:handle(124)) - Can't close container #1
org.apache.hadoop.hdds.scm.container.common.helpers.StorageContainerException: Cannot quasi close container #1 while in UNHEALTHY state.
	at org.apache.hadoop.ozone.container.keyvalue.KeyValueHandler.quasiCloseContainer(KeyValueHandler.java:930)
	at org.apache.hadoop.ozone.container.ozoneimpl.ContainerController.quasiCloseContainer(ContainerController.java:107)
	at org.apache.hadoop.ozone.container.common.statemachine.commandhandler.CloseContainerCommandHandler.handle(CloseContainerCommandHandler.java:116)
	at org.apache.hadoop.ozone.container.common.statemachine.commandhandler.CommandDispatcher.handle(CommandDispatcher.java:93)
	at org.apache.hadoop.ozone.container.common.statemachine.DatanodeStateMachine.lambda$initCommandHandlerThread$1(DatanodeStateMachine.java:432)
	at java.lang.Thread.run(Thread.java:748)
2019-08-23 05:27:03,603 [grpc-default-executor-1] INFO  impl.StateMachineUpdater (StateMachineUpdater.java:stopAndJoin(115)) - StateMachineUpdater:9512c027-07d3-4387-8ec6-d2a1b2e801d5:group-2D6ED9C726C4: set stopIndex = 4
2019-08-23 05:27:03,604 [StateMachineUpdater:9512c027-07d3-4387-8ec6-d2a1b2e801d5:group-2D6ED9C726C4] INFO  ratis.ContainerStateMachine (ContainerStateMachine.java:takeSnapshot(283)) - group-2D6ED9C726C4: Taking a snapshot at:(t:1, i:4) file /workdir/hadoop-ozone/integration-test/target/test-dir/MiniOzoneClusterImpl-4df9fbe8-bd9f-48ff-b9d2-b0c93ccc846c/datanode-0/data/ratis/285deb85-539f-4427-b2c1-2d6ed9c726c4/sm/snapshot.1_4
2019-08-23 05:27:03,616 | INFO  | SCMAudit | user=jenkins1000 | ip=192.168.5.178 | op=SEND_HEARTBEAT {datanodeUUID=9512c027-07d3-4387-8ec6-d2a1b2e801d5, command=[]} | ret=SUCCESS |  
2019-08-23 05:27:03,626 [StateMachineUpdater:9512c027-07d3-4387-8ec6-d2a1b2e801d5:group-2D6ED9C726C4] INFO  ratis.ContainerStateMachine (ContainerStateMachine.java:takeSnapshot(294)) - group-2D6ED9C726C4: Finished taking a snapshot at:(t:1, i:4) file:/workdir/hadoop-ozone/integration-test/target/test-dir/MiniOzoneClusterImpl-4df9fbe8-bd9f-48ff-b9d2-b0c93ccc846c/datanode-0/data/ratis/285deb85-539f-4427-b2c1-2d6ed9c726c4/sm/snapshot.1_4 time:22
2019-08-23 05:27:03,627 [StateMachineUpdater:9512c027-07d3-4387-8ec6-d2a1b2e801d5:group-2D6ED9C726C4] INFO  impl.StateMachineUpdater (StateMachineUpdater.java:takeSnapshot(242)) - StateMachineUpdater:9512c027-07d3-4387-8ec6-d2a1b2e801d5:group-2D6ED9C726C4: Took a snapshot at index 4
2019-08-23 05:27:03,627 [StateMachineUpdater:9512c027-07d3-4387-8ec6-d2a1b2e801d5:group-2D6ED9C726C4] INFO  impl.StateMachineUpdater (StateMachineUpdater.java:lambda$new$0(80)) - StateMachineUpdater:9512c027-07d3-4387-8ec6-d2a1b2e801d5:group-2D6ED9C726C4: snapshotIndex: updateIncreasingly 4 -> 4
2019-08-23 05:27:03,628 [grpc-default-executor-1] INFO  impl.RaftServerImpl (ServerState.java:close(394)) - 9512c027-07d3-4387-8ec6-d2a1b2e801d5:group-2D6ED9C726C4 closes. The last applied log index is 4
2019-08-23 05:27:03,632 [9512c027-07d3-4387-8ec6-d2a1b2e801d5-SegmentedRaftLogWorker:Storage Directory /workdir/hadoop-ozone/integration-test/target/test-dir/MiniOzoneClusterImpl-4df9fbe8-bd9f-48ff-b9d2-b0c93ccc846c/datanode-0/data/ratis/285deb85-539f-4427-b2c1-2d6ed9c726c4] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:run(313)) - 9512c027-07d3-4387-8ec6-d2a1b2e801d5-SegmentedRaftLogWorker:Storage Directory /workdir/hadoop-ozone/integration-test/target/test-dir/MiniOzoneClusterImpl-4df9fbe8-bd9f-48ff-b9d2-b0c93ccc846c/datanode-0/data/ratis/285deb85-539f-4427-b2c1-2d6ed9c726c4 was interrupted, exiting. There are 0 tasks remaining in the queue.
2019-08-23 05:27:03,634 [grpc-default-executor-1] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:close(228)) - 9512c027-07d3-4387-8ec6-d2a1b2e801d5-SegmentedRaftLogWorker:Storage Directory /workdir/hadoop-ozone/integration-test/target/test-dir/MiniOzoneClusterImpl-4df9fbe8-bd9f-48ff-b9d2-b0c93ccc846c/datanode-0/data/ratis/285deb85-539f-4427-b2c1-2d6ed9c726c4 close()
2019-08-23 05:27:03,652 [RatisPipelineUtilsThread] INFO  pipeline.PipelineStateManager (PipelineStateManager.java:removePipeline(108)) - Pipeline Pipeline[ Id: 285deb85-539f-4427-b2c1-2d6ed9c726c4, Nodes: 9512c027-07d3-4387-8ec6-d2a1b2e801d5{ip: 192.168.5.178, host: trunk-nightly-zfkm8-417691344, networkLocation: /default-rack, certSerialId: null}, Type:RATIS, Factor:ONE, State:CLOSED] removed from db
2019-08-23 05:27:03,665 [grpc-default-executor-1] INFO  impl.RaftServerProxy (RaftServerProxy.java:addNew(89)) - 9512c027-07d3-4387-8ec6-d2a1b2e801d5: addNew group-DBCBEFC69B77:[9512c027-07d3-4387-8ec6-d2a1b2e801d5:192.168.5.178:42859] returns group-DBCBEFC69B77:java.util.concurrent.CompletableFuture@77b719a0[Not completed]
2019-08-23 05:27:03,668 [pool-27-thread-1] INFO  impl.RaftServerImpl (RaftServerImpl.java:<init>(93)) - 9512c027-07d3-4387-8ec6-d2a1b2e801d5: new RaftServerImpl for group-DBCBEFC69B77:[9512c027-07d3-4387-8ec6-d2a1b2e801d5:192.168.5.178:42859] with ContainerStateMachine:uninitialized
2019-08-23 05:27:03,668 [pool-27-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.rpc.timeout.min = 5s (custom)
2019-08-23 05:27:03,669 [pool-27-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.rpc.timeout.max = 5200ms (custom)
2019-08-23 05:27:03,669 [pool-27-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.rpcslowness.timeout = 120s (custom)
2019-08-23 05:27:03,669 [pool-27-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.sleep.deviation.threshold = 300 (default)
2019-08-23 05:27:03,669 [pool-27-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.log.appender.install.snapshot.enabled = false (custom)
2019-08-23 05:27:03,670 [pool-27-thread-1] INFO  impl.RaftServerImpl (ServerState.java:<init>(105)) - 9512c027-07d3-4387-8ec6-d2a1b2e801d5:group-DBCBEFC69B77 ConfigurationManager, init=-1: [9512c027-07d3-4387-8ec6-d2a1b2e801d5:192.168.5.178:42859], old=null, confs=<EMPTY_MAP>
2019-08-23 05:27:03,670 [pool-27-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.storage.dir = [/workdir/hadoop-ozone/integration-test/target/test-dir/MiniOzoneClusterImpl-4df9fbe8-bd9f-48ff-b9d2-b0c93ccc846c/datanode-0/data/ratis] (custom)
2019-08-23 05:27:03,671 [pool-27-thread-1] INFO  storage.RaftStorageDirectory (RaftStorageDirectory.java:analyzeStorage(246)) - The storage directory /workdir/hadoop-ozone/integration-test/target/test-dir/MiniOzoneClusterImpl-4df9fbe8-bd9f-48ff-b9d2-b0c93ccc846c/datanode-0/data/ratis/d440be17-bfeb-4cb5-9468-dbcbefc69b77 does not exist. Creating ...
2019-08-23 05:27:03,684 [pool-27-thread-1] INFO  storage.RaftStorageDirectory (RaftStorageDirectory.java:tryLock(328)) - Lock on /workdir/hadoop-ozone/integration-test/target/test-dir/MiniOzoneClusterImpl-4df9fbe8-bd9f-48ff-b9d2-b0c93ccc846c/datanode-0/data/ratis/d440be17-bfeb-4cb5-9468-dbcbefc69b77/in_use.lock acquired by nodename 21553@trunk-nightly-zfkm8-417691344
2019-08-23 05:27:03,697 [pool-27-thread-1] INFO  storage.RaftStorage (RaftStorage.java:format(72)) - Storage directory /workdir/hadoop-ozone/integration-test/target/test-dir/MiniOzoneClusterImpl-4df9fbe8-bd9f-48ff-b9d2-b0c93ccc846c/datanode-0/data/ratis/d440be17-bfeb-4cb5-9468-dbcbefc69b77 has been successfully formatted.
2019-08-23 05:27:03,697 [pool-27-thread-1] INFO  ratis.ContainerStateMachine (ContainerStateMachine.java:loadSnapshot(226)) - group-DBCBEFC69B77: The snapshot info is null. Setting the last applied indexto:(t:0, i:~)
2019-08-23 05:27:03,697 [pool-27-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.leader.election.timeout = 120s (custom)
2019-08-23 05:27:03,698 [pool-27-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.log.use.memory = false (default)
2019-08-23 05:27:03,698 [pool-27-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.log.purge.gap = 1000000 (custom)
2019-08-23 05:27:03,698 [pool-27-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.log.appender.buffer.byte-limit = 33554432 (custom)
2019-08-23 05:27:03,698 [pool-27-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.log.segment.size.max = 1048576 (custom)
2019-08-23 05:27:03,699 [pool-27-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.log.segment.cache.num.max = 2 (custom)
2019-08-23 05:27:03,699 [pool-27-thread-1] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:<init>(172)) - new 9512c027-07d3-4387-8ec6-d2a1b2e801d5-SegmentedRaftLogWorker:Storage Directory /workdir/hadoop-ozone/integration-test/target/test-dir/MiniOzoneClusterImpl-4df9fbe8-bd9f-48ff-b9d2-b0c93ccc846c/datanode-0/data/ratis/d440be17-bfeb-4cb5-9468-dbcbefc69b77 for RaftStorage:Storage Directory /workdir/hadoop-ozone/integration-test/target/test-dir/MiniOzoneClusterImpl-4df9fbe8-bd9f-48ff-b9d2-b0c93ccc846c/datanode-0/data/ratis/d440be17-bfeb-4cb5-9468-dbcbefc69b77
2019-08-23 05:27:03,699 [pool-27-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.log.queue.byte-limit = 2147483647 (custom)
2019-08-23 05:27:03,700 [pool-27-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.log.queue.element-limit = 1024 (custom)
2019-08-23 05:27:03,700 [pool-27-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.log.segment.size.max = 1048576 (custom)
2019-08-23 05:27:03,700 [pool-27-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.log.preallocated.size = 16384 (custom)
2019-08-23 05:27:03,700 [pool-27-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.log.write.buffer.size = 33554432 (custom)
2019-08-23 05:27:03,701 [pool-27-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.log.force.sync.num = 128 (default)
2019-08-23 05:27:03,701 [pool-27-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.log.statemachine.data.sync = true (default)
2019-08-23 05:27:03,701 [pool-27-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.log.statemachine.data.sync.timeout = 10s (default)
2019-08-23 05:27:03,701 [pool-27-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.log.statemachine.data.sync.timeout.retry = -1 (default)
2019-08-23 05:27:03,702 [pool-27-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.log.statemachine.data.caching.enabled = true (custom)
2019-08-23 05:27:03,702 [pool-27-thread-1] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:lambda$new$0(132)) - 9512c027-07d3-4387-8ec6-d2a1b2e801d5-SegmentedRaftLogWorker:Storage Directory /workdir/hadoop-ozone/integration-test/target/test-dir/MiniOzoneClusterImpl-4df9fbe8-bd9f-48ff-b9d2-b0c93ccc846c/datanode-0/data/ratis/d440be17-bfeb-4cb5-9468-dbcbefc69b77: flushIndex: setUnconditionally 0 -> -1
2019-08-23 05:27:03,703 [pool-27-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.snapshot.auto.trigger.enabled = true (custom)
2019-08-23 05:27:03,704 [pool-27-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.snapshot.auto.trigger.threshold = 1 (custom)
2019-08-23 05:27:03,705 [pool-27-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.retrycache.expirytime = 600000ms (custom)
2019-08-23 05:27:03,705 [pool-27-thread-1] INFO  impl.RaftServerImpl (RaftServerImpl.java:start(180)) - 9512c027-07d3-4387-8ec6-d2a1b2e801d5: start group-DBCBEFC69B77
2019-08-23 05:27:03,706 [pool-27-thread-1] INFO  impl.RaftServerImpl (RaftServerImpl.java:setRole(171)) - 9512c027-07d3-4387-8ec6-d2a1b2e801d5:group-DBCBEFC69B77 changes role from null to FOLLOWER at term 0 for startAsFollower
2019-08-23 05:27:03,706 [pool-27-thread-1] INFO  impl.RoleInfo (RoleInfo.java:updateAndGet(143)) - 9512c027-07d3-4387-8ec6-d2a1b2e801d5: start FollowerState
2019-08-23 05:27:03,707 [pool-27-thread-1] INFO  util.JmxRegister (JmxRegister.java:tryRegister(44)) - Successfully registered JMX Bean with object name Ratis:service=RaftServer,group=group-DBCBEFC69B77,id=9512c027-07d3-4387-8ec6-d2a1b2e801d5
2019-08-23 05:27:03,717 [RatisPipelineUtilsThread] INFO  pipeline.PipelineStateManager (PipelineStateManager.java:addPipeline(56)) - Created pipeline Pipeline[ Id: d440be17-bfeb-4cb5-9468-dbcbefc69b77, Nodes: 9512c027-07d3-4387-8ec6-d2a1b2e801d5{ip: 192.168.5.178, host: trunk-nightly-zfkm8-417691344, networkLocation: /default-rack, certSerialId: null}, Type:RATIS, Factor:ONE, State:OPEN]
2019-08-23 05:27:03,818 | INFO  | SCMAudit | user=jenkins1000 | ip=192.168.5.178 | op=SEND_HEARTBEAT {datanodeUUID=9512c027-07d3-4387-8ec6-d2a1b2e801d5, command=[]} | ret=SUCCESS |  
2019-08-23 05:27:03,827 [grpc-default-executor-1] INFO  impl.RaftServerProxy (RaftServerProxy.java:remove(95)) - 9512c027-07d3-4387-8ec6-d2a1b2e801d5: remove group-2D6ED9C726C4:null
2019-08-23 05:27:03,845 [RatisPipelineUtilsThread] WARN  pipeline.RatisPipelineUtils (RatisPipelineUtils.java:destroyPipeline(66)) - Pipeline destroy failed for pipeline=PipelineID=285deb85-539f-4427-b2c1-2d6ed9c726c4 dn=9512c027-07d3-4387-8ec6-d2a1b2e801d5{ip: 192.168.5.178, host: trunk-nightly-zfkm8-417691344, networkLocation: /default-rack, certSerialId: null}
2019-08-23 05:27:03,846 [RatisPipelineUtilsThread] ERROR pipeline.SCMPipelineManager (Scheduler.java:lambda$schedule$1(70)) - Destroy pipeline failed for pipeline:Pipeline[ Id: 285deb85-539f-4427-b2c1-2d6ed9c726c4, Nodes: 9512c027-07d3-4387-8ec6-d2a1b2e801d5{ip: 192.168.5.178, host: trunk-nightly-zfkm8-417691344, networkLocation: /default-rack, certSerialId: null}, Type:RATIS, Factor:ONE, State:CLOSED]
org.apache.hadoop.hdds.scm.pipeline.PipelineNotFoundException: PipelineID=285deb85-539f-4427-b2c1-2d6ed9c726c4 not found
	at org.apache.hadoop.hdds.scm.pipeline.PipelineStateMap.getPipeline(PipelineStateMap.java:132)
	at org.apache.hadoop.hdds.scm.pipeline.PipelineStateMap.removePipeline(PipelineStateMap.java:322)
	at org.apache.hadoop.hdds.scm.pipeline.PipelineStateManager.removePipeline(PipelineStateManager.java:107)
	at org.apache.hadoop.hdds.scm.pipeline.SCMPipelineManager.removePipeline(SCMPipelineManager.java:397)
	at org.apache.hadoop.hdds.scm.pipeline.SCMPipelineManager.destroyPipeline(SCMPipelineManager.java:383)
	at org.apache.hadoop.hdds.scm.pipeline.SCMPipelineManager.lambda$finalizeAndDestroyPipeline$0(SCMPipelineManager.java:316)
	at org.apache.hadoop.utils.Scheduler.lambda$schedule$1(Scheduler.java:68)
	at java.util.concurrent.Executors$RunnableAdapter.call(Executors.java:511)
	at java.util.concurrent.FutureTask.run(FutureTask.java:266)
	at java.util.concurrent.ScheduledThreadPoolExecutor$ScheduledFutureTask.access$201(ScheduledThreadPoolExecutor.java:180)
	at java.util.concurrent.ScheduledThreadPoolExecutor$ScheduledFutureTask.run(ScheduledThreadPoolExecutor.java:293)
	at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1149)
	at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:624)
	at java.lang.Thread.run(Thread.java:748)
2019-08-23 05:27:04,017 | INFO  | SCMAudit | user=jenkins1000 | ip=192.168.5.178 | op=SEND_HEARTBEAT {datanodeUUID=9512c027-07d3-4387-8ec6-d2a1b2e801d5, command=[]} | ret=SUCCESS |  
2019-08-23 05:27:04,217 | INFO  | SCMAudit | user=jenkins1000 | ip=192.168.5.178 | op=SEND_HEARTBEAT {datanodeUUID=9512c027-07d3-4387-8ec6-d2a1b2e801d5, command=[]} | ret=SUCCESS |  
2019-08-23 05:27:04,417 | INFO  | SCMAudit | user=jenkins1000 | ip=192.168.5.178 | op=SEND_HEARTBEAT {datanodeUUID=9512c027-07d3-4387-8ec6-d2a1b2e801d5, command=[]} | ret=SUCCESS |  
2019-08-23 05:27:04,617 | INFO  | SCMAudit | user=jenkins1000 | ip=192.168.5.178 | op=SEND_HEARTBEAT {datanodeUUID=9512c027-07d3-4387-8ec6-d2a1b2e801d5, command=[]} | ret=SUCCESS |  
2019-08-23 05:27:04,817 | INFO  | SCMAudit | user=jenkins1000 | ip=192.168.5.178 | op=SEND_HEARTBEAT {datanodeUUID=9512c027-07d3-4387-8ec6-d2a1b2e801d5, command=[]} | ret=SUCCESS |  
2019-08-23 05:27:05,017 | INFO  | SCMAudit | user=jenkins1000 | ip=192.168.5.178 | op=SEND_HEARTBEAT {datanodeUUID=9512c027-07d3-4387-8ec6-d2a1b2e801d5, command=[]} | ret=SUCCESS |  
2019-08-23 05:27:05,216 | INFO  | SCMAudit | user=jenkins1000 | ip=192.168.5.178 | op=SEND_HEARTBEAT {datanodeUUID=9512c027-07d3-4387-8ec6-d2a1b2e801d5, command=[]} | ret=SUCCESS |  
2019-08-23 05:27:05,418 | INFO  | SCMAudit | user=jenkins1000 | ip=192.168.5.178 | op=SEND_HEARTBEAT {datanodeUUID=9512c027-07d3-4387-8ec6-d2a1b2e801d5, command=[]} | ret=SUCCESS |  
2019-08-23 05:27:05,621 | INFO  | SCMAudit | user=jenkins1000 | ip=192.168.5.178 | op=SEND_HEARTBEAT {datanodeUUID=9512c027-07d3-4387-8ec6-d2a1b2e801d5, command=[]} | ret=SUCCESS |  
2019-08-23 05:27:05,621 [main] WARN  io.KeyOutputStream (KeyOutputStream.java:handleException(276)) - Encountered exception java.io.IOException: Unexpected Storage Container Exception: java.util.concurrent.CompletionException: java.util.concurrent.CompletionException: org.apache.ratis.protocol.GroupMismatchException: 9512c027-07d3-4387-8ec6-d2a1b2e801d5: group-2D6ED9C726C4 not found. on the pipeline Pipeline[ Id: 285deb85-539f-4427-b2c1-2d6ed9c726c4, Nodes: 9512c027-07d3-4387-8ec6-d2a1b2e801d5{ip: 192.168.5.178, host: trunk-nightly-zfkm8-417691344, networkLocation: /default-rack, certSerialId: null}, Type:RATIS, Factor:ONE, State:OPEN]. The last committed block length is 5, uncommitted data length is 5 retry count 0
2019-08-23 05:27:05,648 | INFO  | SCMAudit | user=jenkins1000 | ip=192.168.5.178 | op=ALLOCATE_BLOCK {owner=96f60ba8-c0cb-4e72-a3ab-88ae4c67f145, size=4194304, type=RATIS, factor=ONE} | ret=SUCCESS |  
2019-08-23 05:27:05,650 | INFO  | OMAudit | user=jenkins1000 | ip=127.0.0.1 | op=ALLOCATE_BLOCK {volume=testcontainerstatemachinefailures, bucket=testcontainerstatemachinefailures, key=ratis, dataSize=0, replicationType=null, replicationFactor=null, keyLocationInfo=null, clientID=102664634826031104} | ret=SUCCESS |  
2019-08-23 05:27:05,667 [grpc-default-executor-1] INFO  client.GrpcClientProtocolClient (GrpcClientProtocolClient.java:onNext(255)) - client-0812A2E232A7->9512c027-07d3-4387-8ec6-d2a1b2e801d5: receive RaftClientReply:client-0812A2E232A7->9512c027-07d3-4387-8ec6-d2a1b2e801d5@group-DBCBEFC69B77, cid=8, FAILED org.apache.ratis.protocol.NotLeaderException: Server 9512c027-07d3-4387-8ec6-d2a1b2e801d5 is not the leader (null). Request must be sent to leader., logIndex=0, commits[9512c027-07d3-4387-8ec6-d2a1b2e801d5:c-1]
2019-08-23 05:27:05,817 | INFO  | SCMAudit | user=jenkins1000 | ip=192.168.5.178 | op=SEND_HEARTBEAT {datanodeUUID=9512c027-07d3-4387-8ec6-d2a1b2e801d5, command=[]} | ret=SUCCESS |  
2019-08-23 05:27:06,017 | INFO  | SCMAudit | user=jenkins1000 | ip=192.168.5.178 | op=SEND_HEARTBEAT {datanodeUUID=9512c027-07d3-4387-8ec6-d2a1b2e801d5, command=[]} | ret=SUCCESS |  
2019-08-23 05:27:06,218 | INFO  | SCMAudit | user=jenkins1000 | ip=192.168.5.178 | op=SEND_HEARTBEAT {datanodeUUID=9512c027-07d3-4387-8ec6-d2a1b2e801d5, command=[]} | ret=SUCCESS |  
2019-08-23 05:27:06,419 | INFO  | SCMAudit | user=jenkins1000 | ip=192.168.5.178 | op=SEND_HEARTBEAT {datanodeUUID=9512c027-07d3-4387-8ec6-d2a1b2e801d5, command=[]} | ret=SUCCESS |  
2019-08-23 05:27:06,620 | INFO  | SCMAudit | user=jenkins1000 | ip=192.168.5.178 | op=SEND_HEARTBEAT {datanodeUUID=9512c027-07d3-4387-8ec6-d2a1b2e801d5, command=[]} | ret=SUCCESS |  
2019-08-23 05:27:06,820 | INFO  | SCMAudit | user=jenkins1000 | ip=192.168.5.178 | op=SEND_HEARTBEAT {datanodeUUID=9512c027-07d3-4387-8ec6-d2a1b2e801d5, command=[]} | ret=SUCCESS |  
2019-08-23 05:27:07,020 | INFO  | SCMAudit | user=jenkins1000 | ip=192.168.5.178 | op=SEND_HEARTBEAT {datanodeUUID=9512c027-07d3-4387-8ec6-d2a1b2e801d5, command=[]} | ret=SUCCESS |  
2019-08-23 05:27:07,219 | INFO  | SCMAudit | user=jenkins1000 | ip=192.168.5.178 | op=SEND_HEARTBEAT {datanodeUUID=9512c027-07d3-4387-8ec6-d2a1b2e801d5, command=[]} | ret=SUCCESS |  
2019-08-23 05:27:07,420 | INFO  | SCMAudit | user=jenkins1000 | ip=192.168.5.178 | op=SEND_HEARTBEAT {datanodeUUID=9512c027-07d3-4387-8ec6-d2a1b2e801d5, command=[]} | ret=SUCCESS |  
2019-08-23 05:27:07,619 | INFO  | SCMAudit | user=jenkins1000 | ip=192.168.5.178 | op=SEND_HEARTBEAT {datanodeUUID=9512c027-07d3-4387-8ec6-d2a1b2e801d5, command=[]} | ret=SUCCESS |  
2019-08-23 05:27:07,688 [grpc-default-executor-1] INFO  client.GrpcClientProtocolClient (GrpcClientProtocolClient.java:onNext(255)) - client-0812A2E232A7->9512c027-07d3-4387-8ec6-d2a1b2e801d5: receive RaftClientReply:client-0812A2E232A7->9512c027-07d3-4387-8ec6-d2a1b2e801d5@group-DBCBEFC69B77, cid=8, FAILED org.apache.ratis.protocol.NotLeaderException: Server 9512c027-07d3-4387-8ec6-d2a1b2e801d5 is not the leader (null). Request must be sent to leader., logIndex=0, commits[9512c027-07d3-4387-8ec6-d2a1b2e801d5:c-1]
2019-08-23 05:27:07,820 | INFO  | SCMAudit | user=jenkins1000 | ip=192.168.5.178 | op=SEND_HEARTBEAT {datanodeUUID=9512c027-07d3-4387-8ec6-d2a1b2e801d5, command=[]} | ret=SUCCESS |  
2019-08-23 05:27:08,021 | INFO  | SCMAudit | user=jenkins1000 | ip=192.168.5.178 | op=SEND_HEARTBEAT {datanodeUUID=9512c027-07d3-4387-8ec6-d2a1b2e801d5, command=[]} | ret=SUCCESS |  
2019-08-23 05:27:08,221 | INFO  | SCMAudit | user=jenkins1000 | ip=192.168.5.178 | op=SEND_HEARTBEAT {datanodeUUID=9512c027-07d3-4387-8ec6-d2a1b2e801d5, command=[]} | ret=SUCCESS |  
2019-08-23 05:27:08,421 | INFO  | SCMAudit | user=jenkins1000 | ip=192.168.5.178 | op=SEND_HEARTBEAT {datanodeUUID=9512c027-07d3-4387-8ec6-d2a1b2e801d5, command=[]} | ret=SUCCESS |  
2019-08-23 05:27:08,620 | INFO  | SCMAudit | user=jenkins1000 | ip=192.168.5.178 | op=SEND_HEARTBEAT {datanodeUUID=9512c027-07d3-4387-8ec6-d2a1b2e801d5, command=[]} | ret=SUCCESS |  
2019-08-23 05:27:08,707 [Thread-187] INFO  impl.FollowerState (FollowerState.java:run(106)) - 9512c027-07d3-4387-8ec6-d2a1b2e801d5:group-DBCBEFC69B77 changes to CANDIDATE, lastRpcTime:5000, electionTimeout:5000ms
2019-08-23 05:27:08,708 [Thread-187] INFO  impl.RoleInfo (RoleInfo.java:shutdownFollowerState(121)) - 9512c027-07d3-4387-8ec6-d2a1b2e801d5: shutdown FollowerState
2019-08-23 05:27:08,708 [Thread-187] INFO  impl.RaftServerImpl (RaftServerImpl.java:setRole(171)) - 9512c027-07d3-4387-8ec6-d2a1b2e801d5:group-DBCBEFC69B77 changes role from FOLLOWER to CANDIDATE at term 0 for changeToCandidate
2019-08-23 05:27:08,709 [Thread-187] INFO  impl.RoleInfo (RoleInfo.java:updateAndGet(143)) - 9512c027-07d3-4387-8ec6-d2a1b2e801d5: start LeaderElection
2019-08-23 05:27:08,724 [9512c027-07d3-4387-8ec6-d2a1b2e801d5:group-DBCBEFC69B77:LeaderElection2] INFO  impl.LeaderElection (LeaderElection.java:askForVotes(181)) - 9512c027-07d3-4387-8ec6-d2a1b2e801d5:group-DBCBEFC69B77:LeaderElection2: begin an election at term 1 for -1: [9512c027-07d3-4387-8ec6-d2a1b2e801d5:192.168.5.178:42859], old=null
2019-08-23 05:27:08,726 [9512c027-07d3-4387-8ec6-d2a1b2e801d5:group-DBCBEFC69B77:LeaderElection2] INFO  impl.RoleInfo (RoleInfo.java:shutdownLeaderElection(134)) - 9512c027-07d3-4387-8ec6-d2a1b2e801d5: shutdown LeaderElection
2019-08-23 05:27:08,726 [9512c027-07d3-4387-8ec6-d2a1b2e801d5:group-DBCBEFC69B77:LeaderElection2] INFO  impl.RaftServerImpl (RaftServerImpl.java:setRole(171)) - 9512c027-07d3-4387-8ec6-d2a1b2e801d5:group-DBCBEFC69B77 changes role from CANDIDATE to LEADER at term 1 for changeToLeader
2019-08-23 05:27:08,726 [9512c027-07d3-4387-8ec6-d2a1b2e801d5:group-DBCBEFC69B77:LeaderElection2] INFO  impl.RaftServerImpl (ServerState.java:setLeader(263)) - 9512c027-07d3-4387-8ec6-d2a1b2e801d5:group-DBCBEFC69B77 change Leader from null to 9512c027-07d3-4387-8ec6-d2a1b2e801d5 at term 1 for becomeLeader, leader elected after 5028ms
2019-08-23 05:27:08,727 [9512c027-07d3-4387-8ec6-d2a1b2e801d5:group-DBCBEFC69B77:LeaderElection2] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.staging.catchup.gap = 1000 (default)
2019-08-23 05:27:08,727 [9512c027-07d3-4387-8ec6-d2a1b2e801d5:group-DBCBEFC69B77:LeaderElection2] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.rpc.sleep.time = 25ms (default)
2019-08-23 05:27:08,727 [9512c027-07d3-4387-8ec6-d2a1b2e801d5:group-DBCBEFC69B77:LeaderElection2] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.write.element-limit = 4096 (default)
2019-08-23 05:27:08,727 [9512c027-07d3-4387-8ec6-d2a1b2e801d5:group-DBCBEFC69B77:LeaderElection2] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.watch.timeout = 10s (default)
2019-08-23 05:27:08,727 [9512c027-07d3-4387-8ec6-d2a1b2e801d5:group-DBCBEFC69B77:LeaderElection2] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.watch.timeout.denomination = 1s (default)
2019-08-23 05:27:08,727 [9512c027-07d3-4387-8ec6-d2a1b2e801d5:group-DBCBEFC69B77:LeaderElection2] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.watch.element-limit = 65536 (default)
2019-08-23 05:27:08,728 [9512c027-07d3-4387-8ec6-d2a1b2e801d5:group-DBCBEFC69B77:LeaderElection2] INFO  impl.RoleInfo (RoleInfo.java:updateAndGet(143)) - 9512c027-07d3-4387-8ec6-d2a1b2e801d5: start LeaderState
2019-08-23 05:27:08,728 [9512c027-07d3-4387-8ec6-d2a1b2e801d5:group-DBCBEFC69B77:LeaderElection2] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:startLogSegment(380)) - 9512c027-07d3-4387-8ec6-d2a1b2e801d5-SegmentedRaftLogWorker:Storage Directory /workdir/hadoop-ozone/integration-test/target/test-dir/MiniOzoneClusterImpl-4df9fbe8-bd9f-48ff-b9d2-b0c93ccc846c/datanode-0/data/ratis/d440be17-bfeb-4cb5-9468-dbcbefc69b77: Starting segment from index:0
2019-08-23 05:27:08,729 [9512c027-07d3-4387-8ec6-d2a1b2e801d5:group-DBCBEFC69B77:LeaderElection2] INFO  impl.RaftServerImpl (ServerState.java:setRaftConf(361)) - 9512c027-07d3-4387-8ec6-d2a1b2e801d5:group-DBCBEFC69B77 set configuration 0: [9512c027-07d3-4387-8ec6-d2a1b2e801d5:192.168.5.178:42859], old=null at 0
2019-08-23 05:27:08,785 [9512c027-07d3-4387-8ec6-d2a1b2e801d5-SegmentedRaftLogWorker:Storage Directory /workdir/hadoop-ozone/integration-test/target/test-dir/MiniOzoneClusterImpl-4df9fbe8-bd9f-48ff-b9d2-b0c93ccc846c/datanode-0/data/ratis/d440be17-bfeb-4cb5-9468-dbcbefc69b77] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:execute(569)) - 9512c027-07d3-4387-8ec6-d2a1b2e801d5-SegmentedRaftLogWorker:Storage Directory /workdir/hadoop-ozone/integration-test/target/test-dir/MiniOzoneClusterImpl-4df9fbe8-bd9f-48ff-b9d2-b0c93ccc846c/datanode-0/data/ratis/d440be17-bfeb-4cb5-9468-dbcbefc69b77: created new log segment /workdir/hadoop-ozone/integration-test/target/test-dir/MiniOzoneClusterImpl-4df9fbe8-bd9f-48ff-b9d2-b0c93ccc846c/datanode-0/data/ratis/d440be17-bfeb-4cb5-9468-dbcbefc69b77/current/log_inprogress_0
2019-08-23 05:27:08,821 | INFO  | SCMAudit | user=jenkins1000 | ip=192.168.5.178 | op=SEND_HEARTBEAT {datanodeUUID=9512c027-07d3-4387-8ec6-d2a1b2e801d5, command=[]} | ret=SUCCESS |  
2019-08-23 05:27:09,021 | INFO  | SCMAudit | user=jenkins1000 | ip=192.168.5.178 | op=SEND_HEARTBEAT {datanodeUUID=9512c027-07d3-4387-8ec6-d2a1b2e801d5, command=[]} | ret=SUCCESS |  
2019-08-23 05:27:09,221 | INFO  | SCMAudit | user=jenkins1000 | ip=192.168.5.178 | op=SEND_HEARTBEAT {datanodeUUID=9512c027-07d3-4387-8ec6-d2a1b2e801d5, command=[]} | ret=SUCCESS |  
2019-08-23 05:27:09,421 | INFO  | SCMAudit | user=jenkins1000 | ip=192.168.5.178 | op=SEND_HEARTBEAT {datanodeUUID=9512c027-07d3-4387-8ec6-d2a1b2e801d5, command=[]} | ret=SUCCESS |  
2019-08-23 05:27:09,621 | INFO  | SCMAudit | user=jenkins1000 | ip=192.168.5.178 | op=SEND_HEARTBEAT {datanodeUUID=9512c027-07d3-4387-8ec6-d2a1b2e801d5, command=[]} | ret=SUCCESS |  
2019-08-23 05:27:09,775 | INFO  | DNAudit | user=null | ip=null | op=WRITE_CHUNK {blockData=conID: 2 locID: 102664636048801794 bcsId: 0} | ret=SUCCESS |  
2019-08-23 05:27:09,776 | INFO  | SCMAudit | user=jenkins1000 | ip=192.168.5.178 | op=SEND_HEARTBEAT {datanodeUUID=9512c027-07d3-4387-8ec6-d2a1b2e801d5, command=[]} | ret=SUCCESS |  
2019-08-23 05:27:09,788 | INFO  | DNAudit | user=null | ip=null | op=WRITE_CHUNK {blockData=conID: 2 locID: 102664636048801794 bcsId: 0} | ret=SUCCESS |  
2019-08-23 05:27:09,790 [StateMachineUpdater:9512c027-07d3-4387-8ec6-d2a1b2e801d5:group-DBCBEFC69B77] INFO  ratis.ContainerStateMachine (ContainerStateMachine.java:takeSnapshot(283)) - group-DBCBEFC69B77: Taking a snapshot at:(t:1, i:1) file /workdir/hadoop-ozone/integration-test/target/test-dir/MiniOzoneClusterImpl-4df9fbe8-bd9f-48ff-b9d2-b0c93ccc846c/datanode-0/data/ratis/d440be17-bfeb-4cb5-9468-dbcbefc69b77/sm/snapshot.1_1
2019-08-23 05:27:09,795 [grpc-default-executor-0] INFO  client.GrpcClientProtocolClient (GrpcClientProtocolClient.java:onNext(255)) - client-0812A2E232A7->9512c027-07d3-4387-8ec6-d2a1b2e801d5: receive RaftClientReply:client-0812A2E232A7->9512c027-07d3-4387-8ec6-d2a1b2e801d5@group-DBCBEFC69B77, cid=8, SUCCESS, logIndex=1, commits[9512c027-07d3-4387-8ec6-d2a1b2e801d5:c1]
2019-08-23 05:27:09,799 [StateMachineUpdater:9512c027-07d3-4387-8ec6-d2a1b2e801d5:group-DBCBEFC69B77] INFO  ratis.ContainerStateMachine (ContainerStateMachine.java:takeSnapshot(294)) - group-DBCBEFC69B77: Finished taking a snapshot at:(t:1, i:1) file:/workdir/hadoop-ozone/integration-test/target/test-dir/MiniOzoneClusterImpl-4df9fbe8-bd9f-48ff-b9d2-b0c93ccc846c/datanode-0/data/ratis/d440be17-bfeb-4cb5-9468-dbcbefc69b77/sm/snapshot.1_1 time:9
2019-08-23 05:27:09,800 [StateMachineUpdater:9512c027-07d3-4387-8ec6-d2a1b2e801d5:group-DBCBEFC69B77] INFO  impl.StateMachineUpdater (StateMachineUpdater.java:takeSnapshot(242)) - StateMachineUpdater:9512c027-07d3-4387-8ec6-d2a1b2e801d5:group-DBCBEFC69B77: Took a snapshot at index 1
2019-08-23 05:27:09,800 [StateMachineUpdater:9512c027-07d3-4387-8ec6-d2a1b2e801d5:group-DBCBEFC69B77] INFO  impl.StateMachineUpdater (StateMachineUpdater.java:lambda$new$0(80)) - StateMachineUpdater:9512c027-07d3-4387-8ec6-d2a1b2e801d5:group-DBCBEFC69B77: snapshotIndex: updateIncreasingly -1 -> 1
2019-08-23 05:27:09,800 [StateMachineUpdater:9512c027-07d3-4387-8ec6-d2a1b2e801d5:group-DBCBEFC69B77] INFO  ratis.ContainerStateMachine (ContainerStateMachine.java:takeSnapshot(283)) - group-DBCBEFC69B77: Taking a snapshot at:(t:1, i:1) file /workdir/hadoop-ozone/integration-test/target/test-dir/MiniOzoneClusterImpl-4df9fbe8-bd9f-48ff-b9d2-b0c93ccc846c/datanode-0/data/ratis/d440be17-bfeb-4cb5-9468-dbcbefc69b77/sm/snapshot.1_1
2019-08-23 05:27:09,824 [StateMachineUpdater:9512c027-07d3-4387-8ec6-d2a1b2e801d5:group-DBCBEFC69B77] INFO  ratis.ContainerStateMachine (ContainerStateMachine.java:takeSnapshot(294)) - group-DBCBEFC69B77: Finished taking a snapshot at:(t:1, i:1) file:/workdir/hadoop-ozone/integration-test/target/test-dir/MiniOzoneClusterImpl-4df9fbe8-bd9f-48ff-b9d2-b0c93ccc846c/datanode-0/data/ratis/d440be17-bfeb-4cb5-9468-dbcbefc69b77/sm/snapshot.1_1 time:24
2019-08-23 05:27:09,824 [StateMachineUpdater:9512c027-07d3-4387-8ec6-d2a1b2e801d5:group-DBCBEFC69B77] INFO  impl.StateMachineUpdater (StateMachineUpdater.java:takeSnapshot(242)) - StateMachineUpdater:9512c027-07d3-4387-8ec6-d2a1b2e801d5:group-DBCBEFC69B77: Took a snapshot at index 1
2019-08-23 05:27:09,824 [StateMachineUpdater:9512c027-07d3-4387-8ec6-d2a1b2e801d5:group-DBCBEFC69B77] INFO  impl.StateMachineUpdater (StateMachineUpdater.java:lambda$new$0(80)) - StateMachineUpdater:9512c027-07d3-4387-8ec6-d2a1b2e801d5:group-DBCBEFC69B77: snapshotIndex: updateIncreasingly 1 -> 1
2019-08-23 05:27:09,867 | INFO  | DNAudit | user=null | ip=null | op=PUT_BLOCK {blockData=[blockId=conID: 2 locID: 102664636048801794 bcsId: 0,size=5]} | ret=SUCCESS |  
2019-08-23 05:27:09,869 [StateMachineUpdater:9512c027-07d3-4387-8ec6-d2a1b2e801d5:group-DBCBEFC69B77] INFO  ratis.ContainerStateMachine (ContainerStateMachine.java:takeSnapshot(283)) - group-DBCBEFC69B77: Taking a snapshot at:(t:1, i:3) file /workdir/hadoop-ozone/integration-test/target/test-dir/MiniOzoneClusterImpl-4df9fbe8-bd9f-48ff-b9d2-b0c93ccc846c/datanode-0/data/ratis/d440be17-bfeb-4cb5-9468-dbcbefc69b77/sm/snapshot.1_3
2019-08-23 05:27:09,873 [StateMachineUpdater:9512c027-07d3-4387-8ec6-d2a1b2e801d5:group-DBCBEFC69B77] INFO  ratis.ContainerStateMachine (ContainerStateMachine.java:takeSnapshot(294)) - group-DBCBEFC69B77: Finished taking a snapshot at:(t:1, i:3) file:/workdir/hadoop-ozone/integration-test/target/test-dir/MiniOzoneClusterImpl-4df9fbe8-bd9f-48ff-b9d2-b0c93ccc846c/datanode-0/data/ratis/d440be17-bfeb-4cb5-9468-dbcbefc69b77/sm/snapshot.1_3 time:4
2019-08-23 05:27:09,873 [StateMachineUpdater:9512c027-07d3-4387-8ec6-d2a1b2e801d5:group-DBCBEFC69B77] INFO  impl.StateMachineUpdater (StateMachineUpdater.java:takeSnapshot(242)) - StateMachineUpdater:9512c027-07d3-4387-8ec6-d2a1b2e801d5:group-DBCBEFC69B77: Took a snapshot at index 3
2019-08-23 05:27:09,873 [grpc-default-executor-0] INFO  client.GrpcClientProtocolClient (GrpcClientProtocolClient.java:onNext(255)) - client-0812A2E232A7->9512c027-07d3-4387-8ec6-d2a1b2e801d5: receive RaftClientReply:client-0812A2E232A7->9512c027-07d3-4387-8ec6-d2a1b2e801d5@group-DBCBEFC69B77, cid=9, SUCCESS, logIndex=3, commits[9512c027-07d3-4387-8ec6-d2a1b2e801d5:c4]
2019-08-23 05:27:09,873 [StateMachineUpdater:9512c027-07d3-4387-8ec6-d2a1b2e801d5:group-DBCBEFC69B77] INFO  impl.StateMachineUpdater (StateMachineUpdater.java:lambda$new$0(80)) - StateMachineUpdater:9512c027-07d3-4387-8ec6-d2a1b2e801d5:group-DBCBEFC69B77: snapshotIndex: updateIncreasingly 1 -> 3
2019-08-23 05:27:09,873 [StateMachineUpdater:9512c027-07d3-4387-8ec6-d2a1b2e801d5:group-DBCBEFC69B77] INFO  ratis.ContainerStateMachine (ContainerStateMachine.java:takeSnapshot(283)) - group-DBCBEFC69B77: Taking a snapshot at:(t:1, i:3) file /workdir/hadoop-ozone/integration-test/target/test-dir/MiniOzoneClusterImpl-4df9fbe8-bd9f-48ff-b9d2-b0c93ccc846c/datanode-0/data/ratis/d440be17-bfeb-4cb5-9468-dbcbefc69b77/sm/snapshot.1_3
2019-08-23 05:27:09,876 [StateMachineUpdater:9512c027-07d3-4387-8ec6-d2a1b2e801d5:group-DBCBEFC69B77] INFO  ratis.ContainerStateMachine (ContainerStateMachine.java:takeSnapshot(294)) - group-DBCBEFC69B77: Finished taking a snapshot at:(t:1, i:3) file:/workdir/hadoop-ozone/integration-test/target/test-dir/MiniOzoneClusterImpl-4df9fbe8-bd9f-48ff-b9d2-b0c93ccc846c/datanode-0/data/ratis/d440be17-bfeb-4cb5-9468-dbcbefc69b77/sm/snapshot.1_3 time:3
2019-08-23 05:27:09,876 [StateMachineUpdater:9512c027-07d3-4387-8ec6-d2a1b2e801d5:group-DBCBEFC69B77] INFO  impl.StateMachineUpdater (StateMachineUpdater.java:takeSnapshot(242)) - StateMachineUpdater:9512c027-07d3-4387-8ec6-d2a1b2e801d5:group-DBCBEFC69B77: Took a snapshot at index 3
2019-08-23 05:27:09,876 [StateMachineUpdater:9512c027-07d3-4387-8ec6-d2a1b2e801d5:group-DBCBEFC69B77] INFO  impl.StateMachineUpdater (StateMachineUpdater.java:lambda$new$0(80)) - StateMachineUpdater:9512c027-07d3-4387-8ec6-d2a1b2e801d5:group-DBCBEFC69B77: snapshotIndex: updateIncreasingly 3 -> 3
2019-08-23 05:27:09,887 | INFO  | OMAudit | user=jenkins1000 | ip=127.0.0.1 | op=COMMIT_KEY {volume=testcontainerstatemachinefailures, bucket=testcontainerstatemachinefailures, key=ratis, dataSize=10, replicationType=null, replicationFactor=null, keyLocationInfo=[{blockID={containerID=1, localID=102664634827866113}, length=5, offset=0, token=null, pipeline=Pipeline[ Id: 285deb85-539f-4427-b2c1-2d6ed9c726c4, Nodes: 9512c027-07d3-4387-8ec6-d2a1b2e801d5{ip: 192.168.5.178, host: trunk-nightly-zfkm8-417691344, networkLocation: /default-rack, certSerialId: null}, Type:RATIS, Factor:ONE, State:OPEN], createVersion=0}, {blockID={containerID=2, localID=102664636048801794}, length=5, offset=0, token=null, pipeline=Pipeline[ Id: d440be17-bfeb-4cb5-9468-dbcbefc69b77, Nodes: 9512c027-07d3-4387-8ec6-d2a1b2e801d5{ip: 192.168.5.178, host: trunk-nightly-zfkm8-417691344, networkLocation: /default-rack, certSerialId: null}, Type:RATIS, Factor:ONE, State:OPEN], createVersion=0}], clientID=102664634826031104} | ret=SUCCESS |  
2019-08-23 05:27:09,889 [main] INFO  datanode.ObjectStoreHandler (ObjectStoreHandler.java:close(155)) - Closing ObjectStoreHandler.
2019-08-23 05:27:09,890 [main] INFO  ozone.HddsDatanodeService (HddsDatanodeService.java:stop(451)) - Stopped plug-in org.apache.hadoop.ozone.web.OzoneHddsDatanodeService@4b765e92
2019-08-23 05:27:09,974 [Datanode State Machine Thread - 0] INFO  statemachine.DatanodeStateMachine (DatanodeStateMachine.java:lambda$startDaemon$0(350)) - Ozone container server started.
2019-08-23 05:27:12,869 [EventQueue-StaleNodeForStaleNodeHandler] INFO  node.StaleNodeHandler (StaleNodeHandler.java:onMessage(58)) - Datanode 9512c027-07d3-4387-8ec6-d2a1b2e801d5{ip: 192.168.5.178, host: trunk-nightly-zfkm8-417691344, networkLocation: /default-rack, certSerialId: null} moved to stale state. Finalizing its pipelines [PipelineID=d440be17-bfeb-4cb5-9468-dbcbefc69b77]
2019-08-23 05:27:12,870 [EventQueue-StaleNodeForStaleNodeHandler] INFO  pipeline.SCMPipelineManager (SCMPipelineManager.java:finalizeAndDestroyPipeline(309)) - destroying pipeline:Pipeline[ Id: d440be17-bfeb-4cb5-9468-dbcbefc69b77, Nodes: 9512c027-07d3-4387-8ec6-d2a1b2e801d5{ip: 192.168.5.178, host: trunk-nightly-zfkm8-417691344, networkLocation: /default-rack, certSerialId: null}, Type:RATIS, Factor:ONE, State:OPEN]
2019-08-23 05:27:12,870 [EventQueue-StaleNodeForStaleNodeHandler] INFO  pipeline.PipelineStateManager (PipelineStateManager.java:finalizePipeline(123)) - Pipeline Pipeline[ Id: d440be17-bfeb-4cb5-9468-dbcbefc69b77, Nodes: 9512c027-07d3-4387-8ec6-d2a1b2e801d5{ip: 192.168.5.178, host: trunk-nightly-zfkm8-417691344, networkLocation: /default-rack, certSerialId: null}, Type:RATIS, Factor:ONE, State:CLOSED] moved to CLOSED state
2019-08-23 05:27:12,870 [EventQueue-CloseContainerForCloseContainerEventHandler] INFO  container.CloseContainerEventHandler (CloseContainerEventHandler.java:onMessage(61)) - Close container Event triggered for container : #2
2019-08-23 05:27:14,892 [main] INFO  ozoneimpl.OzoneContainer (OzoneContainer.java:stop(199)) - Attempting to stop container services.
2019-08-23 05:27:14,895 [main] INFO  impl.RaftServerProxy (RaftServerProxy.java:lambda$close$4(314)) - 9512c027-07d3-4387-8ec6-d2a1b2e801d5: close
2019-08-23 05:27:14,896 [main] INFO  impl.RaftServerImpl (RaftServerImpl.java:lambda$shutdown$3(245)) - 9512c027-07d3-4387-8ec6-d2a1b2e801d5: shutdown group-DBCBEFC69B77
2019-08-23 05:27:14,897 [main] INFO  util.JmxRegister (JmxRegister.java:unregister(73)) - Successfully un-registered JMX Bean with object name Ratis:service=RaftServer,group=group-DBCBEFC69B77,id=9512c027-07d3-4387-8ec6-d2a1b2e801d5
2019-08-23 05:27:14,897 [main] INFO  impl.RoleInfo (RoleInfo.java:shutdownLeaderState(104)) - 9512c027-07d3-4387-8ec6-d2a1b2e801d5: shutdown LeaderState
2019-08-23 05:27:14,898 [main] INFO  impl.PendingRequests (PendingRequests.java:sendNotLeaderResponses(202)) - 9512c027-07d3-4387-8ec6-d2a1b2e801d5-PendingRequests: sendNotLeaderResponses
2019-08-23 05:27:14,903 [main] INFO  impl.StateMachineUpdater (StateMachineUpdater.java:stopAndJoin(115)) - StateMachineUpdater:9512c027-07d3-4387-8ec6-d2a1b2e801d5:group-DBCBEFC69B77: set stopIndex = 4
2019-08-23 05:27:14,903 [StateMachineUpdater:9512c027-07d3-4387-8ec6-d2a1b2e801d5:group-DBCBEFC69B77] INFO  ratis.ContainerStateMachine (ContainerStateMachine.java:takeSnapshot(283)) - group-DBCBEFC69B77: Taking a snapshot at:(t:1, i:3) file /workdir/hadoop-ozone/integration-test/target/test-dir/MiniOzoneClusterImpl-4df9fbe8-bd9f-48ff-b9d2-b0c93ccc846c/datanode-0/data/ratis/d440be17-bfeb-4cb5-9468-dbcbefc69b77/sm/snapshot.1_3
2019-08-23 05:27:14,964 [StateMachineUpdater:9512c027-07d3-4387-8ec6-d2a1b2e801d5:group-DBCBEFC69B77] INFO  ratis.ContainerStateMachine (ContainerStateMachine.java:takeSnapshot(294)) - group-DBCBEFC69B77: Finished taking a snapshot at:(t:1, i:3) file:/workdir/hadoop-ozone/integration-test/target/test-dir/MiniOzoneClusterImpl-4df9fbe8-bd9f-48ff-b9d2-b0c93ccc846c/datanode-0/data/ratis/d440be17-bfeb-4cb5-9468-dbcbefc69b77/sm/snapshot.1_3 time:60
2019-08-23 05:27:14,964 [StateMachineUpdater:9512c027-07d3-4387-8ec6-d2a1b2e801d5:group-DBCBEFC69B77] INFO  impl.StateMachineUpdater (StateMachineUpdater.java:takeSnapshot(242)) - StateMachineUpdater:9512c027-07d3-4387-8ec6-d2a1b2e801d5:group-DBCBEFC69B77: Took a snapshot at index 3
2019-08-23 05:27:14,964 [StateMachineUpdater:9512c027-07d3-4387-8ec6-d2a1b2e801d5:group-DBCBEFC69B77] INFO  impl.StateMachineUpdater (StateMachineUpdater.java:lambda$new$0(80)) - StateMachineUpdater:9512c027-07d3-4387-8ec6-d2a1b2e801d5:group-DBCBEFC69B77: snapshotIndex: updateIncreasingly 3 -> 3
2019-08-23 05:27:14,965 [main] INFO  impl.RaftServerImpl (ServerState.java:close(394)) - 9512c027-07d3-4387-8ec6-d2a1b2e801d5:group-DBCBEFC69B77 closes. The last applied log index is 4
2019-08-23 05:27:14,967 [9512c027-07d3-4387-8ec6-d2a1b2e801d5-SegmentedRaftLogWorker:Storage Directory /workdir/hadoop-ozone/integration-test/target/test-dir/MiniOzoneClusterImpl-4df9fbe8-bd9f-48ff-b9d2-b0c93ccc846c/datanode-0/data/ratis/d440be17-bfeb-4cb5-9468-dbcbefc69b77] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:run(313)) - 9512c027-07d3-4387-8ec6-d2a1b2e801d5-SegmentedRaftLogWorker:Storage Directory /workdir/hadoop-ozone/integration-test/target/test-dir/MiniOzoneClusterImpl-4df9fbe8-bd9f-48ff-b9d2-b0c93ccc846c/datanode-0/data/ratis/d440be17-bfeb-4cb5-9468-dbcbefc69b77 was interrupted, exiting. There are 0 tasks remaining in the queue.
2019-08-23 05:27:14,969 [main] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:close(228)) - 9512c027-07d3-4387-8ec6-d2a1b2e801d5-SegmentedRaftLogWorker:Storage Directory /workdir/hadoop-ozone/integration-test/target/test-dir/MiniOzoneClusterImpl-4df9fbe8-bd9f-48ff-b9d2-b0c93ccc846c/datanode-0/data/ratis/d440be17-bfeb-4cb5-9468-dbcbefc69b77 close()
2019-08-23 05:27:14,972 [main] INFO  server.GrpcService (GrpcService.java:closeImpl(155)) - 9512c027-07d3-4387-8ec6-d2a1b2e801d5: shutdown server with port 42859 now
2019-08-23 05:27:14,976 [main] INFO  server.GrpcService (GrpcService.java:closeImpl(163)) - 9512c027-07d3-4387-8ec6-d2a1b2e801d5: shutdown server with port 42859 successfully
2019-08-23 05:27:14,985 [main] INFO  utils.BackgroundService (BackgroundService.java:shutdown(148)) - Shutting down service BlockDeletingService
2019-08-23 05:27:14,987 [refreshUsed-/workdir/hadoop-ozone/integration-test/target/test-dir/MiniOzoneClusterImpl-4df9fbe8-bd9f-48ff-b9d2-b0c93ccc846c/datanode-0/data/containers] WARN  fs.CachingGetSpaceUsed (CachingGetSpaceUsed.java:run(183)) - Thread Interrupted waiting to refresh disk information: sleep interrupted
2019-08-23 05:27:15,014 [main] INFO  statemachine.DatanodeStateMachine (DatanodeStateMachine.java:stopDaemon(395)) - Ozone container server stopped.
2019-08-23 05:27:15,019 [main] INFO  handler.ContextHandler (ContextHandler.java:doStop(910)) - Stopped o.e.j.w.WebAppContext@250a500b{/,null,UNAVAILABLE}{/hddsDatanode}
2019-08-23 05:27:15,027 [main] INFO  server.AbstractConnector (AbstractConnector.java:doStop(318)) - Stopped ServerConnector@75d982d3{HTTP/1.1,[http/1.1]}{0.0.0.0:0}
2019-08-23 05:27:15,027 [main] INFO  handler.ContextHandler (ContextHandler.java:doStop(910)) - Stopped o.e.j.s.ServletContextHandler@3f0d6038{/static,jar:file:/home/user/.m2/repository/org/apache/hadoop/hadoop-hdds-container-service/0.5.0-SNAPSHOT/hadoop-hdds-container-service-0.5.0-SNAPSHOT.jar!/webapps/static,UNAVAILABLE}
2019-08-23 05:27:15,028 [main] INFO  handler.ContextHandler (ContextHandler.java:doStop(910)) - Stopped o.e.j.s.ServletContextHandler@3a082ff4{/logs,file:///workdir/hadoop-ozone/integration-test/target/log,UNAVAILABLE}
2019-08-23 05:27:15,030 [main] INFO  ozone.MiniOzoneClusterImpl (MiniOzoneClusterImpl.java:lambda$waitForClusterToBeReady$0(142)) - Cluster is ready. Got 0 of 0 DN Heartbeats.
2019-08-23 05:27:15,034 [main] INFO  impl.MetricsSystemImpl (MetricsSystemImpl.java:init(158)) - HddsDatanode metrics system started (again)
2019-08-23 05:27:15,088 [main] INFO  ozone.HddsDatanodeService (HddsDatanodeService.java:start(184)) - HddsDatanodeService host:trunk-nightly-zfkm8-417691344 ip:192.168.5.178
2019-08-23 05:27:15,092 [main] INFO  volume.VolumeUsage (VolumeUsage.java:loadScmUsed(144)) - Cached ScmUsed found for /workdir/hadoop-ozone/integration-test/target/test-dir/MiniOzoneClusterImpl-4df9fbe8-bd9f-48ff-b9d2-b0c93ccc846c/datanode-0/data/containers : 4096 
2019-08-23 05:27:15,092 [main] INFO  volume.HddsVolume (HddsVolume.java:<init>(176)) - Creating Volume: /workdir/hadoop-ozone/integration-test/target/test-dir/MiniOzoneClusterImpl-4df9fbe8-bd9f-48ff-b9d2-b0c93ccc846c/datanode-0/data/containers/hdds of  storage type : DISK and capacity : 1482555576320
2019-08-23 05:27:15,093 [main] INFO  volume.VolumeSet (VolumeSet.java:initializeVolumeSet(170)) - Added Volume : /workdir/hadoop-ozone/integration-test/target/test-dir/MiniOzoneClusterImpl-4df9fbe8-bd9f-48ff-b9d2-b0c93ccc846c/datanode-0/data/containers/hdds to VolumeSet
2019-08-23 05:27:15,093 [main] INFO  volume.ThrottledAsyncChecker (ThrottledAsyncChecker.java:schedule(140)) - Scheduling a check for org.apache.hadoop.ozone.container.common.volume.HddsVolume@281b2dfd
2019-08-23 05:27:15,094 [main] INFO  volume.HddsVolumeChecker (HddsVolumeChecker.java:checkAllVolumes(203)) - Scheduled health check for volume org.apache.hadoop.ozone.container.common.volume.HddsVolume@281b2dfd
2019-08-23 05:27:15,137 [main] INFO  impl.RaftServerProxy (ConfUtils.java:logGet(43)) - raft.rpc.type = GRPC (default)
2019-08-23 05:27:15,138 [main] INFO  grpc.GrpcFactory (GrpcFactory.java:checkPooledByteBufAllocatorUseCacheForAllThreads(45)) - PERFORMANCE WARNING: useCacheForAllThreads is true that may cause Netty to create a lot garbage objects and, as a result, trigger GC.
	It is recommended to disable useCacheForAllThreads by setting -Dorg.apache.ratis.thirdparty.io.netty.allocator.useCacheForAllThreads=false in command line.
2019-08-23 05:27:15,138 [main] INFO  grpc.GrpcConfigKeys$Server (ConfUtils.java:logGet(43)) - raft.grpc.server.port = 42859 (custom)
2019-08-23 05:27:15,138 [main] INFO  server.GrpcService (ConfUtils.java:logGet(43)) - raft.grpc.message.size.max = 33570816 (custom)
2019-08-23 05:27:15,139 [main] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.log.appender.buffer.byte-limit = 33554432 (custom)
2019-08-23 05:27:15,139 [main] INFO  server.GrpcService (ConfUtils.java:logGet(43)) - raft.grpc.flow.control.window = 1MB (=1048576) (default)
2019-08-23 05:27:15,139 [main] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.rpc.request.timeout = 3000ms (default)
2019-08-23 05:27:15,140 [main] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.storage.dir = [/workdir/hadoop-ozone/integration-test/target/test-dir/MiniOzoneClusterImpl-4df9fbe8-bd9f-48ff-b9d2-b0c93ccc846c/datanode-0/data/ratis] (custom)
2019-08-23 05:27:15,141 [main] INFO  impl.RaftServerProxy (RaftServerProxy.java:lambda$null$0(191)) - 9512c027-07d3-4387-8ec6-d2a1b2e801d5: found a subdirectory /workdir/hadoop-ozone/integration-test/target/test-dir/MiniOzoneClusterImpl-4df9fbe8-bd9f-48ff-b9d2-b0c93ccc846c/datanode-0/data/ratis/d440be17-bfeb-4cb5-9468-dbcbefc69b77
2019-08-23 05:27:15,143 [main] INFO  impl.RaftServerProxy (RaftServerProxy.java:addNew(89)) - 9512c027-07d3-4387-8ec6-d2a1b2e801d5: addNew group-DBCBEFC69B77:[] returns group-DBCBEFC69B77:java.util.concurrent.CompletableFuture@1f916219[Not completed]
2019-08-23 05:27:15,144 [main] INFO  replication.SimpleContainerDownloader (SimpleContainerDownloader.java:<init>(72)) - Starting container downloader service to copy containers to replicate.
2019-08-23 05:27:15,153 [main] INFO  hdfs.DFSUtil (DFSUtil.java:httpServerTemplateForNNAndJN(1641)) - Starting Web-server for hddsDatanode at: http://0.0.0.0:45799
2019-08-23 05:27:15,164 [pool-42-thread-1] INFO  impl.RaftServerImpl (RaftServerImpl.java:<init>(93)) - 9512c027-07d3-4387-8ec6-d2a1b2e801d5: new RaftServerImpl for group-DBCBEFC69B77:[] with ContainerStateMachine:uninitialized
2019-08-23 05:27:15,164 [main] INFO  server.AuthenticationFilter (AuthenticationFilter.java:constructSecretProvider(240)) - Unable to initialize FileSignerSecretProvider, falling back to use random secrets.
2019-08-23 05:27:15,165 [pool-42-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.rpc.timeout.min = 5s (custom)
2019-08-23 05:27:15,165 [pool-42-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.rpc.timeout.max = 5200ms (custom)
2019-08-23 05:27:15,165 [pool-42-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.rpcslowness.timeout = 120s (custom)
2019-08-23 05:27:15,165 [main] WARN  http.HttpRequestLog (HttpRequestLog.java:getRequestLog(97)) - Jetty request log can only be enabled using Log4j
2019-08-23 05:27:15,166 [pool-42-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.sleep.deviation.threshold = 300 (default)
2019-08-23 05:27:15,166 [pool-42-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.log.appender.install.snapshot.enabled = false (custom)
2019-08-23 05:27:15,166 [pool-42-thread-1] INFO  impl.RaftServerImpl (ServerState.java:<init>(105)) - 9512c027-07d3-4387-8ec6-d2a1b2e801d5:group-DBCBEFC69B77 ConfigurationManager, init=-1: [], old=null, confs=<EMPTY_MAP>
2019-08-23 05:27:15,167 [pool-42-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.storage.dir = [/workdir/hadoop-ozone/integration-test/target/test-dir/MiniOzoneClusterImpl-4df9fbe8-bd9f-48ff-b9d2-b0c93ccc846c/datanode-0/data/ratis] (custom)
2019-08-23 05:27:15,168 [main] INFO  http.HttpServer2 (HttpServer2.java:addGlobalFilter(975)) - Added global filter 'safety' (class=org.apache.hadoop.http.HttpServer2$QuotingInputFilter)
2019-08-23 05:27:15,169 [main] INFO  http.HttpServer2 (HttpServer2.java:addFilter(948)) - Added filter static_user_filter (class=org.apache.hadoop.http.lib.StaticUserWebFilter$StaticUserFilter) to context hddsDatanode
2019-08-23 05:27:15,169 [main] INFO  http.HttpServer2 (HttpServer2.java:addFilter(958)) - Added filter static_user_filter (class=org.apache.hadoop.http.lib.StaticUserWebFilter$StaticUserFilter) to context static
2019-08-23 05:27:15,169 [main] INFO  http.HttpServer2 (HttpServer2.java:addFilter(958)) - Added filter static_user_filter (class=org.apache.hadoop.http.lib.StaticUserWebFilter$StaticUserFilter) to context logs
2019-08-23 05:27:15,171 [main] INFO  http.HttpServer2 (HttpServer2.java:bindListener(1191)) - Jetty bound to port 45799
2019-08-23 05:27:15,171 [main] INFO  server.Server (Server.java:doStart(351)) - jetty-9.3.24.v20180605, build timestamp: 2018-06-05T17:11:56Z, git hash: 84205aa28f11a4f31f2a3b86d1bba2cc8ab69827
2019-08-23 05:27:15,174 [main] INFO  handler.ContextHandler (ContextHandler.java:doStart(781)) - Started o.e.j.s.ServletContextHandler@1e226bcd{/logs,file:///workdir/hadoop-ozone/integration-test/target/log,AVAILABLE}
2019-08-23 05:27:15,175 [main] INFO  handler.ContextHandler (ContextHandler.java:doStart(781)) - Started o.e.j.s.ServletContextHandler@2322e56f{/static,jar:file:/home/user/.m2/repository/org/apache/hadoop/hadoop-hdds-container-service/0.5.0-SNAPSHOT/hadoop-hdds-container-service-0.5.0-SNAPSHOT.jar!/webapps/static,AVAILABLE}
2019-08-23 05:27:15,182 [pool-42-thread-1] INFO  storage.RaftStorageDirectory (RaftStorageDirectory.java:tryLock(328)) - Lock on /workdir/hadoop-ozone/integration-test/target/test-dir/MiniOzoneClusterImpl-4df9fbe8-bd9f-48ff-b9d2-b0c93ccc846c/datanode-0/data/ratis/d440be17-bfeb-4cb5-9468-dbcbefc69b77/in_use.lock acquired by nodename 21553@trunk-nightly-zfkm8-417691344
2019-08-23 05:27:15,188 [pool-42-thread-1] INFO  ratis.ContainerStateMachine (ContainerStateMachine.java:loadSnapshot(235)) - group-DBCBEFC69B77: Setting the last applied index to (t:1, i:3)
2019-08-23 05:27:15,193 [pool-42-thread-1] INFO  impl.RaftServerImpl (ServerState.java:setRaftConf(361)) - 9512c027-07d3-4387-8ec6-d2a1b2e801d5:group-DBCBEFC69B77 set configuration 0: [9512c027-07d3-4387-8ec6-d2a1b2e801d5:192.168.5.178:42859], old=null at 0
2019-08-23 05:27:15,193 [pool-42-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.leader.election.timeout = 120s (custom)
2019-08-23 05:27:15,193 [pool-42-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.log.use.memory = false (default)
2019-08-23 05:27:15,193 [pool-42-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.log.purge.gap = 1000000 (custom)
2019-08-23 05:27:15,193 [pool-42-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.log.appender.buffer.byte-limit = 33554432 (custom)
2019-08-23 05:27:15,194 [pool-42-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.log.segment.size.max = 1048576 (custom)
2019-08-23 05:27:15,194 [pool-42-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.log.segment.cache.num.max = 2 (custom)
2019-08-23 05:27:15,194 [pool-42-thread-1] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:<init>(172)) - new 9512c027-07d3-4387-8ec6-d2a1b2e801d5-SegmentedRaftLogWorker:Storage Directory /workdir/hadoop-ozone/integration-test/target/test-dir/MiniOzoneClusterImpl-4df9fbe8-bd9f-48ff-b9d2-b0c93ccc846c/datanode-0/data/ratis/d440be17-bfeb-4cb5-9468-dbcbefc69b77 for RaftStorage:Storage Directory /workdir/hadoop-ozone/integration-test/target/test-dir/MiniOzoneClusterImpl-4df9fbe8-bd9f-48ff-b9d2-b0c93ccc846c/datanode-0/data/ratis/d440be17-bfeb-4cb5-9468-dbcbefc69b77
2019-08-23 05:27:15,194 [pool-42-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.log.queue.byte-limit = 2147483647 (custom)
2019-08-23 05:27:15,195 [pool-42-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.log.queue.element-limit = 1024 (custom)
2019-08-23 05:27:15,195 [pool-42-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.log.segment.size.max = 1048576 (custom)
2019-08-23 05:27:15,195 [pool-42-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.log.preallocated.size = 16384 (custom)
2019-08-23 05:27:15,195 [pool-42-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.log.write.buffer.size = 33554432 (custom)
2019-08-23 05:27:15,195 [pool-42-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.log.force.sync.num = 128 (default)
2019-08-23 05:27:15,196 [pool-42-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.log.statemachine.data.sync = true (default)
2019-08-23 05:27:15,196 [pool-42-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.log.statemachine.data.sync.timeout = 10s (default)
2019-08-23 05:27:15,196 [pool-42-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.log.statemachine.data.sync.timeout.retry = -1 (default)
2019-08-23 05:27:15,196 [pool-42-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.log.statemachine.data.caching.enabled = true (custom)
2019-08-23 05:27:15,205 [pool-42-thread-1] INFO  impl.RaftServerImpl (ServerState.java:setRaftConf(361)) - 9512c027-07d3-4387-8ec6-d2a1b2e801d5:group-DBCBEFC69B77 set configuration 0: [9512c027-07d3-4387-8ec6-d2a1b2e801d5:192.168.5.178:42859], old=null at 0
2019-08-23 05:27:15,206 [pool-42-thread-1] INFO  segmented.LogSegment (LogSegment.java:loadSegment(145)) - Successfully read 5 entries from segment file /workdir/hadoop-ozone/integration-test/target/test-dir/MiniOzoneClusterImpl-4df9fbe8-bd9f-48ff-b9d2-b0c93ccc846c/datanode-0/data/ratis/d440be17-bfeb-4cb5-9468-dbcbefc69b77/current/log_inprogress_0
2019-08-23 05:27:15,207 [pool-42-thread-1] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:lambda$new$0(132)) - 9512c027-07d3-4387-8ec6-d2a1b2e801d5-SegmentedRaftLogWorker:Storage Directory /workdir/hadoop-ozone/integration-test/target/test-dir/MiniOzoneClusterImpl-4df9fbe8-bd9f-48ff-b9d2-b0c93ccc846c/datanode-0/data/ratis/d440be17-bfeb-4cb5-9468-dbcbefc69b77: flushIndex: setUnconditionally 0 -> 4
2019-08-23 05:27:15,215 [main] INFO  handler.ContextHandler (ContextHandler.java:doStart(781)) - Started o.e.j.w.WebAppContext@1bd8afc8{/,file:///tmp/jetty-0.0.0.0-45799-hddsDatanode-_-any-1788303697021863092.dir/webapp/,AVAILABLE}{/hddsDatanode}
2019-08-23 05:27:15,245 [main] INFO  server.AbstractConnector (AbstractConnector.java:doStart(278)) - Started ServerConnector@24134cbc{HTTP/1.1,[http/1.1]}{0.0.0.0:45799}
2019-08-23 05:27:15,245 [main] INFO  server.Server (Server.java:doStart(419)) - Started @40157ms
2019-08-23 05:27:15,247 [main] INFO  server.BaseHttpServer (BaseHttpServer.java:updateConnectorAddress(213)) - HTTP server of HDDSDATANODE is listening at http://0.0.0.0:45799
2019-08-23 05:27:15,247 [pool-42-thread-1] INFO  raftlog.RaftLog (RaftLog.java:lambda$new$0(62)) - 9512c027-07d3-4387-8ec6-d2a1b2e801d5: commitIndex: updateToMax old=3, new=3, updated? false
2019-08-23 05:27:15,248 [pool-42-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.snapshot.auto.trigger.enabled = true (custom)
2019-08-23 05:27:15,248 [pool-42-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.snapshot.auto.trigger.threshold = 1 (custom)
2019-08-23 05:27:15,248 [pool-42-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.retrycache.expirytime = 600000ms (custom)
Aug 23, 2019 5:27:15 AM com.sun.jersey.server.impl.application.WebApplicationImpl _initiate
INFO: Initiating Jersey application, version 'Jersey: 1.19 02/11/2015 03:25 AM'
2019-08-23 05:27:15,414 | INFO  | ObjectStoreRestHttpServer | Listening HDDS REST traffic on /0.0.0.0:36602 |  
2019-08-23 05:27:15,414 [main] INFO  ozone.HddsDatanodeService (HddsDatanodeService.java:startPlugins(395)) - Started plug-in org.apache.hadoop.ozone.web.OzoneHddsDatanodeService@106c988
2019-08-23 05:27:15,415 [main] INFO  ozone.MiniOzoneClusterImpl (MiniOzoneClusterImpl.java:lambda$waitForClusterToBeReady$0(142)) - Waiting for cluster to be ready. Got 0 of 1 DN Heartbeats.
2019-08-23 05:27:15,417 [org.apache.hadoop.util.JvmPauseMonitor$Monitor@56fa4111] INFO  util.JvmPauseMonitor (JvmPauseMonitor.java:run(188)) - Starting JVM pause monitor
2019-08-23 05:27:16,415 [main] INFO  ozone.MiniOzoneClusterImpl (MiniOzoneClusterImpl.java:lambda$waitForClusterToBeReady$0(142)) - Waiting for cluster to be ready. Got 0 of 1 DN Heartbeats.
2019-08-23 05:27:17,416 [main] INFO  ozone.MiniOzoneClusterImpl (MiniOzoneClusterImpl.java:lambda$waitForClusterToBeReady$0(142)) - Waiting for cluster to be ready. Got 0 of 1 DN Heartbeats.
2019-08-23 05:27:17,418 | INFO  | SCMAudit | user=jenkins1000 | ip=192.168.5.178 | op=GET_VERSION null | ret=SUCCESS |  
2019-08-23 05:27:17,419 [Datanode State Machine Thread - 0] INFO  ozoneimpl.OzoneContainer (OzoneContainer.java:start(186)) - Attempting to start container services.
2019-08-23 05:27:17,419 [Datanode State Machine Thread - 0] INFO  ozoneimpl.OzoneContainer (OzoneContainer.java:startContainerScrub(160)) - Background container scrubber has been disabled by hdds.containerscrub.enabled
2019-08-23 05:27:17,419 [Datanode State Machine Thread - 0] INFO  ratis.XceiverServerRatis (XceiverServerRatis.java:start(404)) - Starting XceiverServerRatis 9512c027-07d3-4387-8ec6-d2a1b2e801d5 at port 42859
2019-08-23 05:27:17,430 [Datanode State Machine Thread - 0] INFO  impl.RaftServerImpl (RaftServerImpl.java:start(180)) - 9512c027-07d3-4387-8ec6-d2a1b2e801d5: start group-DBCBEFC69B77
2019-08-23 05:27:17,431 [Datanode State Machine Thread - 0] INFO  impl.RaftServerImpl (RaftServerImpl.java:setRole(171)) - 9512c027-07d3-4387-8ec6-d2a1b2e801d5:group-DBCBEFC69B77 changes role from null to FOLLOWER at term 1 for startAsFollower
2019-08-23 05:27:17,431 [Datanode State Machine Thread - 0] INFO  impl.RoleInfo (RoleInfo.java:updateAndGet(143)) - 9512c027-07d3-4387-8ec6-d2a1b2e801d5: start FollowerState
2019-08-23 05:27:17,432 [Datanode State Machine Thread - 0] INFO  util.JmxRegister (JmxRegister.java:tryRegister(44)) - Successfully registered JMX Bean with object name Ratis:service=RaftServer,group=group-DBCBEFC69B77,id=9512c027-07d3-4387-8ec6-d2a1b2e801d5
2019-08-23 05:27:17,433 [Datanode State Machine Thread - 0] INFO  impl.RaftServerProxy (RaftServerProxy.java:lambda$start$3(299)) - 9512c027-07d3-4387-8ec6-d2a1b2e801d5: start RPC server
2019-08-23 05:27:17,436 [Datanode State Machine Thread - 0] INFO  server.GrpcService (GrpcService.java:startImpl(149)) - 9512c027-07d3-4387-8ec6-d2a1b2e801d5: GrpcService started, listening on 0.0.0.0/0.0.0.0:42859
2019-08-23 05:27:18,416 [main] INFO  ozone.MiniOzoneClusterImpl (MiniOzoneClusterImpl.java:lambda$waitForClusterToBeReady$0(142)) - Waiting for cluster to be ready. Got 0 of 1 DN Heartbeats.
2019-08-23 05:27:19,417 [main] INFO  ozone.MiniOzoneClusterImpl (MiniOzoneClusterImpl.java:lambda$waitForClusterToBeReady$0(142)) - Waiting for cluster to be ready. Got 0 of 1 DN Heartbeats.
2019-08-23 05:27:19,424 | INFO  | SCMAudit | user=jenkins1000 | ip=192.168.5.178 | op=REGISTER {datanodeDetails=9512c027-07d3-4387-8ec6-d2a1b2e801d5{ip: 192.168.5.178, host: trunk-nightly-zfkm8-417691344, networkLocation: /default-rack, certSerialId: null}} | ret=SUCCESS |  
2019-08-23 05:27:20,418 [main] INFO  ozone.MiniOzoneClusterImpl (MiniOzoneClusterImpl.java:lambda$waitForClusterToBeReady$0(142)) - Waiting for cluster to be ready. Got 0 of 1 DN Heartbeats.
2019-08-23 05:27:21,418 [main] INFO  ozone.MiniOzoneClusterImpl (MiniOzoneClusterImpl.java:lambda$waitForClusterToBeReady$0(142)) - Waiting for cluster to be ready. Got 0 of 1 DN Heartbeats.
2019-08-23 05:27:21,420 | INFO  | SCMAudit | user=jenkins1000 | ip=192.168.5.178 | op=SEND_HEARTBEAT {datanodeUUID=9512c027-07d3-4387-8ec6-d2a1b2e801d5, command=[commandType: closeContainerCommand closeContainerCommandProto { containerID: 2 pipelineID { id: "d440be17-bfeb-4cb5-9468-dbcbefc69b77" } cmdId: 2 force: false } ]} | ret=SUCCESS |  
2019-08-23 05:27:21,501 [grpc-default-executor-0] INFO  impl.RaftServerProxy (RaftServerProxy.java:addNew(89)) - 9512c027-07d3-4387-8ec6-d2a1b2e801d5: addNew group-08DC236449BA:[9512c027-07d3-4387-8ec6-d2a1b2e801d5:192.168.5.178:42859] returns group-08DC236449BA:java.util.concurrent.CompletableFuture@58dfbf0e[Not completed]
2019-08-23 05:27:21,503 [pool-42-thread-1] INFO  impl.RaftServerImpl (RaftServerImpl.java:<init>(93)) - 9512c027-07d3-4387-8ec6-d2a1b2e801d5: new RaftServerImpl for group-08DC236449BA:[9512c027-07d3-4387-8ec6-d2a1b2e801d5:192.168.5.178:42859] with ContainerStateMachine:uninitialized
2019-08-23 05:27:21,503 [pool-42-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.rpc.timeout.min = 5s (custom)
2019-08-23 05:27:21,503 [pool-42-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.rpc.timeout.max = 5200ms (custom)
2019-08-23 05:27:21,503 [pool-42-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.rpcslowness.timeout = 120s (custom)
2019-08-23 05:27:21,503 [pool-42-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.sleep.deviation.threshold = 300 (default)
2019-08-23 05:27:21,504 [pool-42-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.log.appender.install.snapshot.enabled = false (custom)
2019-08-23 05:27:21,504 [pool-42-thread-1] INFO  impl.RaftServerImpl (ServerState.java:<init>(105)) - 9512c027-07d3-4387-8ec6-d2a1b2e801d5:group-08DC236449BA ConfigurationManager, init=-1: [9512c027-07d3-4387-8ec6-d2a1b2e801d5:192.168.5.178:42859], old=null, confs=<EMPTY_MAP>
2019-08-23 05:27:21,504 [pool-42-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.storage.dir = [/workdir/hadoop-ozone/integration-test/target/test-dir/MiniOzoneClusterImpl-4df9fbe8-bd9f-48ff-b9d2-b0c93ccc846c/datanode-0/data/ratis] (custom)
2019-08-23 05:27:21,505 [pool-42-thread-1] INFO  storage.RaftStorageDirectory (RaftStorageDirectory.java:analyzeStorage(246)) - The storage directory /workdir/hadoop-ozone/integration-test/target/test-dir/MiniOzoneClusterImpl-4df9fbe8-bd9f-48ff-b9d2-b0c93ccc846c/datanode-0/data/ratis/947e3c68-616f-4943-ac54-08dc236449ba does not exist. Creating ...
2019-08-23 05:27:21,512 [pool-42-thread-1] INFO  storage.RaftStorageDirectory (RaftStorageDirectory.java:tryLock(328)) - Lock on /workdir/hadoop-ozone/integration-test/target/test-dir/MiniOzoneClusterImpl-4df9fbe8-bd9f-48ff-b9d2-b0c93ccc846c/datanode-0/data/ratis/947e3c68-616f-4943-ac54-08dc236449ba/in_use.lock acquired by nodename 21553@trunk-nightly-zfkm8-417691344
2019-08-23 05:27:21,516 [pool-42-thread-1] INFO  storage.RaftStorage (RaftStorage.java:format(72)) - Storage directory /workdir/hadoop-ozone/integration-test/target/test-dir/MiniOzoneClusterImpl-4df9fbe8-bd9f-48ff-b9d2-b0c93ccc846c/datanode-0/data/ratis/947e3c68-616f-4943-ac54-08dc236449ba has been successfully formatted.
2019-08-23 05:27:21,517 [pool-42-thread-1] INFO  ratis.ContainerStateMachine (ContainerStateMachine.java:loadSnapshot(226)) - group-08DC236449BA: The snapshot info is null. Setting the last applied indexto:(t:0, i:~)
2019-08-23 05:27:21,518 [pool-42-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.leader.election.timeout = 120s (custom)
2019-08-23 05:27:21,518 [pool-42-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.log.use.memory = false (default)
2019-08-23 05:27:21,518 [pool-42-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.log.purge.gap = 1000000 (custom)
2019-08-23 05:27:21,518 [pool-42-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.log.appender.buffer.byte-limit = 33554432 (custom)
2019-08-23 05:27:21,519 [pool-42-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.log.segment.size.max = 1048576 (custom)
2019-08-23 05:27:21,519 [pool-42-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.log.segment.cache.num.max = 2 (custom)
2019-08-23 05:27:21,519 [pool-42-thread-1] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:<init>(172)) - new 9512c027-07d3-4387-8ec6-d2a1b2e801d5-SegmentedRaftLogWorker:Storage Directory /workdir/hadoop-ozone/integration-test/target/test-dir/MiniOzoneClusterImpl-4df9fbe8-bd9f-48ff-b9d2-b0c93ccc846c/datanode-0/data/ratis/947e3c68-616f-4943-ac54-08dc236449ba for RaftStorage:Storage Directory /workdir/hadoop-ozone/integration-test/target/test-dir/MiniOzoneClusterImpl-4df9fbe8-bd9f-48ff-b9d2-b0c93ccc846c/datanode-0/data/ratis/947e3c68-616f-4943-ac54-08dc236449ba
2019-08-23 05:27:21,519 [pool-42-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.log.queue.byte-limit = 2147483647 (custom)
2019-08-23 05:27:21,520 [pool-42-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.log.queue.element-limit = 1024 (custom)
2019-08-23 05:27:21,520 [pool-42-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.log.segment.size.max = 1048576 (custom)
2019-08-23 05:27:21,520 [pool-42-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.log.preallocated.size = 16384 (custom)
2019-08-23 05:27:21,520 [pool-42-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.log.write.buffer.size = 33554432 (custom)
2019-08-23 05:27:21,521 [pool-42-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.log.force.sync.num = 128 (default)
2019-08-23 05:27:21,521 [pool-42-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.log.statemachine.data.sync = true (default)
2019-08-23 05:27:21,521 [pool-42-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.log.statemachine.data.sync.timeout = 10s (default)
2019-08-23 05:27:21,521 [pool-42-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.log.statemachine.data.sync.timeout.retry = -1 (default)
2019-08-23 05:27:21,522 [pool-42-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.log.statemachine.data.caching.enabled = true (custom)
2019-08-23 05:27:21,522 [pool-42-thread-1] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:lambda$new$0(132)) - 9512c027-07d3-4387-8ec6-d2a1b2e801d5-SegmentedRaftLogWorker:Storage Directory /workdir/hadoop-ozone/integration-test/target/test-dir/MiniOzoneClusterImpl-4df9fbe8-bd9f-48ff-b9d2-b0c93ccc846c/datanode-0/data/ratis/947e3c68-616f-4943-ac54-08dc236449ba: flushIndex: setUnconditionally 0 -> -1
2019-08-23 05:27:21,523 [pool-42-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.snapshot.auto.trigger.enabled = true (custom)
2019-08-23 05:27:21,523 [pool-42-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.snapshot.auto.trigger.threshold = 1 (custom)
2019-08-23 05:27:21,523 [pool-42-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.retrycache.expirytime = 600000ms (custom)
2019-08-23 05:27:21,523 [pool-42-thread-1] INFO  impl.RaftServerImpl (RaftServerImpl.java:start(180)) - 9512c027-07d3-4387-8ec6-d2a1b2e801d5: start group-08DC236449BA
2019-08-23 05:27:21,524 [pool-42-thread-1] INFO  impl.RaftServerImpl (RaftServerImpl.java:setRole(171)) - 9512c027-07d3-4387-8ec6-d2a1b2e801d5:group-08DC236449BA changes role from null to FOLLOWER at term 0 for startAsFollower
2019-08-23 05:27:21,524 [pool-42-thread-1] INFO  impl.RoleInfo (RoleInfo.java:updateAndGet(143)) - 9512c027-07d3-4387-8ec6-d2a1b2e801d5: start FollowerState
2019-08-23 05:27:21,524 [pool-42-thread-1] INFO  util.JmxRegister (JmxRegister.java:tryRegister(44)) - Successfully registered JMX Bean with object name Ratis:service=RaftServer,group=group-08DC236449BA,id=9512c027-07d3-4387-8ec6-d2a1b2e801d5
2019-08-23 05:27:21,535 [RatisPipelineUtilsThread] INFO  pipeline.PipelineStateManager (PipelineStateManager.java:addPipeline(56)) - Created pipeline Pipeline[ Id: 947e3c68-616f-4943-ac54-08dc236449ba, Nodes: 9512c027-07d3-4387-8ec6-d2a1b2e801d5{ip: 192.168.5.178, host: trunk-nightly-zfkm8-417691344, networkLocation: /default-rack, certSerialId: null}, Type:RATIS, Factor:ONE, State:OPEN]
2019-08-23 05:27:21,618 | INFO  | SCMAudit | user=jenkins1000 | ip=192.168.5.178 | op=SEND_HEARTBEAT {datanodeUUID=9512c027-07d3-4387-8ec6-d2a1b2e801d5, command=[]} | ret=SUCCESS |  
2019-08-23 05:27:21,818 | INFO  | SCMAudit | user=jenkins1000 | ip=192.168.5.178 | op=SEND_HEARTBEAT {datanodeUUID=9512c027-07d3-4387-8ec6-d2a1b2e801d5, command=[]} | ret=SUCCESS |  
2019-08-23 05:27:22,018 | INFO  | SCMAudit | user=jenkins1000 | ip=192.168.5.178 | op=SEND_HEARTBEAT {datanodeUUID=9512c027-07d3-4387-8ec6-d2a1b2e801d5, command=[]} | ret=SUCCESS |  
2019-08-23 05:27:22,218 | INFO  | SCMAudit | user=jenkins1000 | ip=192.168.5.178 | op=SEND_HEARTBEAT {datanodeUUID=9512c027-07d3-4387-8ec6-d2a1b2e801d5, command=[]} | ret=SUCCESS |  
2019-08-23 05:27:22,418 | INFO  | SCMAudit | user=jenkins1000 | ip=192.168.5.178 | op=SEND_HEARTBEAT {datanodeUUID=9512c027-07d3-4387-8ec6-d2a1b2e801d5, command=[]} | ret=SUCCESS |  
2019-08-23 05:27:22,419 [main] INFO  ozone.MiniOzoneClusterImpl (MiniOzoneClusterImpl.java:lambda$waitForClusterToBeReady$0(142)) - Cluster is ready. Got 1 of 1 DN Heartbeats.
2019-08-23 05:27:22,426 | INFO  | OMAudit | user=jenkins1000 | ip=127.0.0.1 | op=READ_VOLUME {volume=testcontainerstatemachinefailures} | ret=SUCCESS |  
2019-08-23 05:27:22,428 | INFO  | OMAudit | user=jenkins1000 | ip=127.0.0.1 | op=READ_BUCKET {volume=testcontainerstatemachinefailures, bucket=testcontainerstatemachinefailures} | ret=SUCCESS |  
2019-08-23 05:27:22,434 | INFO  | SCMAudit | user=jenkins1000 | ip=192.168.5.178 | op=SEND_HEARTBEAT {datanodeUUID=9512c027-07d3-4387-8ec6-d2a1b2e801d5, command=[]} | ret=SUCCESS |  
2019-08-23 05:27:22,444 | INFO  | SCMAudit | user=jenkins1000 | ip=192.168.5.178 | op=ALLOCATE_BLOCK {owner=96f60ba8-c0cb-4e72-a3ab-88ae4c67f145, size=4194304, type=RATIS, factor=ONE} | ret=SUCCESS |  
2019-08-23 05:27:22,447 | INFO  | OMAudit | user=jenkins1000 | ip=127.0.0.1 | op=ALLOCATE_KEY {volume=testcontainerstatemachinefailures, bucket=testcontainerstatemachinefailures, key=ratis, dataSize=1024, replicationType=RATIS, replicationFactor=ONE, keyLocationInfo=null} | ret=SUCCESS |  
2019-08-23 05:27:22,472 [grpc-default-executor-0] INFO  client.GrpcClientProtocolClient (GrpcClientProtocolClient.java:onNext(255)) - client-812E9175864C->9512c027-07d3-4387-8ec6-d2a1b2e801d5: receive RaftClientReply:client-812E9175864C->9512c027-07d3-4387-8ec6-d2a1b2e801d5@group-08DC236449BA, cid=11, FAILED org.apache.ratis.protocol.NotLeaderException: Server 9512c027-07d3-4387-8ec6-d2a1b2e801d5 is not the leader (null). Request must be sent to leader., logIndex=0, commits[9512c027-07d3-4387-8ec6-d2a1b2e801d5:c-1]
2019-08-23 05:27:22,625 [Thread-227] INFO  impl.FollowerState (FollowerState.java:run(106)) - 9512c027-07d3-4387-8ec6-d2a1b2e801d5:group-DBCBEFC69B77 changes to CANDIDATE, lastRpcTime:5193, electionTimeout:5193ms
2019-08-23 05:27:22,625 [Thread-227] INFO  impl.RoleInfo (RoleInfo.java:shutdownFollowerState(121)) - 9512c027-07d3-4387-8ec6-d2a1b2e801d5: shutdown FollowerState
2019-08-23 05:27:22,625 [Thread-227] INFO  impl.RaftServerImpl (RaftServerImpl.java:setRole(171)) - 9512c027-07d3-4387-8ec6-d2a1b2e801d5:group-DBCBEFC69B77 changes role from FOLLOWER to CANDIDATE at term 1 for changeToCandidate
2019-08-23 05:27:22,626 [Thread-227] INFO  impl.RoleInfo (RoleInfo.java:updateAndGet(143)) - 9512c027-07d3-4387-8ec6-d2a1b2e801d5: start LeaderElection
2019-08-23 05:27:22,634 | INFO  | SCMAudit | user=jenkins1000 | ip=192.168.5.178 | op=SEND_HEARTBEAT {datanodeUUID=9512c027-07d3-4387-8ec6-d2a1b2e801d5, command=[]} | ret=SUCCESS |  
2019-08-23 05:27:22,642 [9512c027-07d3-4387-8ec6-d2a1b2e801d5:group-DBCBEFC69B77:LeaderElection3] INFO  impl.LeaderElection (LeaderElection.java:askForVotes(181)) - 9512c027-07d3-4387-8ec6-d2a1b2e801d5:group-DBCBEFC69B77:LeaderElection3: begin an election at term 2 for 0: [9512c027-07d3-4387-8ec6-d2a1b2e801d5:192.168.5.178:42859], old=null
2019-08-23 05:27:22,643 [9512c027-07d3-4387-8ec6-d2a1b2e801d5:group-DBCBEFC69B77:LeaderElection3] INFO  impl.RoleInfo (RoleInfo.java:shutdownLeaderElection(134)) - 9512c027-07d3-4387-8ec6-d2a1b2e801d5: shutdown LeaderElection
2019-08-23 05:27:22,643 [9512c027-07d3-4387-8ec6-d2a1b2e801d5:group-DBCBEFC69B77:LeaderElection3] INFO  impl.RaftServerImpl (RaftServerImpl.java:setRole(171)) - 9512c027-07d3-4387-8ec6-d2a1b2e801d5:group-DBCBEFC69B77 changes role from CANDIDATE to LEADER at term 2 for changeToLeader
2019-08-23 05:27:22,644 [9512c027-07d3-4387-8ec6-d2a1b2e801d5:group-DBCBEFC69B77:LeaderElection3] INFO  impl.RaftServerImpl (ServerState.java:setLeader(263)) - 9512c027-07d3-4387-8ec6-d2a1b2e801d5:group-DBCBEFC69B77 change Leader from null to 9512c027-07d3-4387-8ec6-d2a1b2e801d5 at term 2 for becomeLeader, leader elected after 7450ms
2019-08-23 05:27:22,644 [9512c027-07d3-4387-8ec6-d2a1b2e801d5:group-DBCBEFC69B77:LeaderElection3] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.staging.catchup.gap = 1000 (default)
2019-08-23 05:27:22,644 [9512c027-07d3-4387-8ec6-d2a1b2e801d5:group-DBCBEFC69B77:LeaderElection3] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.rpc.sleep.time = 25ms (default)
2019-08-23 05:27:22,644 [9512c027-07d3-4387-8ec6-d2a1b2e801d5:group-DBCBEFC69B77:LeaderElection3] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.write.element-limit = 4096 (default)
2019-08-23 05:27:22,645 [9512c027-07d3-4387-8ec6-d2a1b2e801d5:group-DBCBEFC69B77:LeaderElection3] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.watch.timeout = 10s (default)
2019-08-23 05:27:22,645 [9512c027-07d3-4387-8ec6-d2a1b2e801d5:group-DBCBEFC69B77:LeaderElection3] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.watch.timeout.denomination = 1s (default)
2019-08-23 05:27:22,645 [9512c027-07d3-4387-8ec6-d2a1b2e801d5:group-DBCBEFC69B77:LeaderElection3] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.watch.element-limit = 65536 (default)
2019-08-23 05:27:22,646 [9512c027-07d3-4387-8ec6-d2a1b2e801d5:group-DBCBEFC69B77:LeaderElection3] INFO  impl.RoleInfo (RoleInfo.java:updateAndGet(143)) - 9512c027-07d3-4387-8ec6-d2a1b2e801d5: start LeaderState
2019-08-23 05:27:22,646 [9512c027-07d3-4387-8ec6-d2a1b2e801d5:group-DBCBEFC69B77:LeaderElection3] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:rollLogSegment(385)) - 9512c027-07d3-4387-8ec6-d2a1b2e801d5-SegmentedRaftLogWorker:Storage Directory /workdir/hadoop-ozone/integration-test/target/test-dir/MiniOzoneClusterImpl-4df9fbe8-bd9f-48ff-b9d2-b0c93ccc846c/datanode-0/data/ratis/d440be17-bfeb-4cb5-9468-dbcbefc69b77: Rolling segment log-0_4 to index:4
2019-08-23 05:27:22,649 [9512c027-07d3-4387-8ec6-d2a1b2e801d5:group-DBCBEFC69B77:LeaderElection3] INFO  impl.RaftServerImpl (ServerState.java:setRaftConf(361)) - 9512c027-07d3-4387-8ec6-d2a1b2e801d5:group-DBCBEFC69B77 set configuration 5: [9512c027-07d3-4387-8ec6-d2a1b2e801d5:192.168.5.178:42859], old=null at 5
2019-08-23 05:27:22,651 [9512c027-07d3-4387-8ec6-d2a1b2e801d5-SegmentedRaftLogWorker:Storage Directory /workdir/hadoop-ozone/integration-test/target/test-dir/MiniOzoneClusterImpl-4df9fbe8-bd9f-48ff-b9d2-b0c93ccc846c/datanode-0/data/ratis/d440be17-bfeb-4cb5-9468-dbcbefc69b77] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:execute(526)) - 9512c027-07d3-4387-8ec6-d2a1b2e801d5-SegmentedRaftLogWorker:Storage Directory /workdir/hadoop-ozone/integration-test/target/test-dir/MiniOzoneClusterImpl-4df9fbe8-bd9f-48ff-b9d2-b0c93ccc846c/datanode-0/data/ratis/d440be17-bfeb-4cb5-9468-dbcbefc69b77: Rolled log segment from /workdir/hadoop-ozone/integration-test/target/test-dir/MiniOzoneClusterImpl-4df9fbe8-bd9f-48ff-b9d2-b0c93ccc846c/datanode-0/data/ratis/d440be17-bfeb-4cb5-9468-dbcbefc69b77/current/log_inprogress_0 to /workdir/hadoop-ozone/integration-test/target/test-dir/MiniOzoneClusterImpl-4df9fbe8-bd9f-48ff-b9d2-b0c93ccc846c/datanode-0/data/ratis/d440be17-bfeb-4cb5-9468-dbcbefc69b77/current/log_0-4
2019-08-23 05:27:22,706 [9512c027-07d3-4387-8ec6-d2a1b2e801d5-SegmentedRaftLogWorker:Storage Directory /workdir/hadoop-ozone/integration-test/target/test-dir/MiniOzoneClusterImpl-4df9fbe8-bd9f-48ff-b9d2-b0c93ccc846c/datanode-0/data/ratis/d440be17-bfeb-4cb5-9468-dbcbefc69b77] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:execute(569)) - 9512c027-07d3-4387-8ec6-d2a1b2e801d5-SegmentedRaftLogWorker:Storage Directory /workdir/hadoop-ozone/integration-test/target/test-dir/MiniOzoneClusterImpl-4df9fbe8-bd9f-48ff-b9d2-b0c93ccc846c/datanode-0/data/ratis/d440be17-bfeb-4cb5-9468-dbcbefc69b77: created new log segment /workdir/hadoop-ozone/integration-test/target/test-dir/MiniOzoneClusterImpl-4df9fbe8-bd9f-48ff-b9d2-b0c93ccc846c/datanode-0/data/ratis/d440be17-bfeb-4cb5-9468-dbcbefc69b77/current/log_inprogress_5
2019-08-23 05:27:22,718 [StateMachineUpdater:9512c027-07d3-4387-8ec6-d2a1b2e801d5:group-DBCBEFC69B77] INFO  ratis.ContainerStateMachine (ContainerStateMachine.java:takeSnapshot(283)) - group-DBCBEFC69B77: Taking a snapshot at:(t:1, i:3) file /workdir/hadoop-ozone/integration-test/target/test-dir/MiniOzoneClusterImpl-4df9fbe8-bd9f-48ff-b9d2-b0c93ccc846c/datanode-0/data/ratis/d440be17-bfeb-4cb5-9468-dbcbefc69b77/sm/snapshot.1_3
2019-08-23 05:27:22,742 [StateMachineUpdater:9512c027-07d3-4387-8ec6-d2a1b2e801d5:group-DBCBEFC69B77] INFO  ratis.ContainerStateMachine (ContainerStateMachine.java:takeSnapshot(294)) - group-DBCBEFC69B77: Finished taking a snapshot at:(t:1, i:3) file:/workdir/hadoop-ozone/integration-test/target/test-dir/MiniOzoneClusterImpl-4df9fbe8-bd9f-48ff-b9d2-b0c93ccc846c/datanode-0/data/ratis/d440be17-bfeb-4cb5-9468-dbcbefc69b77/sm/snapshot.1_3 time:23
2019-08-23 05:27:22,742 [StateMachineUpdater:9512c027-07d3-4387-8ec6-d2a1b2e801d5:group-DBCBEFC69B77] INFO  impl.StateMachineUpdater (StateMachineUpdater.java:takeSnapshot(242)) - StateMachineUpdater:9512c027-07d3-4387-8ec6-d2a1b2e801d5:group-DBCBEFC69B77: Took a snapshot at index 3
2019-08-23 05:27:22,742 [StateMachineUpdater:9512c027-07d3-4387-8ec6-d2a1b2e801d5:group-DBCBEFC69B77] INFO  impl.StateMachineUpdater (StateMachineUpdater.java:lambda$new$0(80)) - StateMachineUpdater:9512c027-07d3-4387-8ec6-d2a1b2e801d5:group-DBCBEFC69B77: snapshotIndex: updateIncreasingly 3 -> 3
2019-08-23 05:27:22,742 [StateMachineUpdater:9512c027-07d3-4387-8ec6-d2a1b2e801d5:group-DBCBEFC69B77] INFO  ratis.ContainerStateMachine (ContainerStateMachine.java:takeSnapshot(283)) - group-DBCBEFC69B77: Taking a snapshot at:(t:1, i:3) file /workdir/hadoop-ozone/integration-test/target/test-dir/MiniOzoneClusterImpl-4df9fbe8-bd9f-48ff-b9d2-b0c93ccc846c/datanode-0/data/ratis/d440be17-bfeb-4cb5-9468-dbcbefc69b77/sm/snapshot.1_3
2019-08-23 05:27:22,755 [StateMachineUpdater:9512c027-07d3-4387-8ec6-d2a1b2e801d5:group-DBCBEFC69B77] INFO  ratis.ContainerStateMachine (ContainerStateMachine.java:takeSnapshot(294)) - group-DBCBEFC69B77: Finished taking a snapshot at:(t:1, i:3) file:/workdir/hadoop-ozone/integration-test/target/test-dir/MiniOzoneClusterImpl-4df9fbe8-bd9f-48ff-b9d2-b0c93ccc846c/datanode-0/data/ratis/d440be17-bfeb-4cb5-9468-dbcbefc69b77/sm/snapshot.1_3 time:12
2019-08-23 05:27:22,755 [StateMachineUpdater:9512c027-07d3-4387-8ec6-d2a1b2e801d5:group-DBCBEFC69B77] INFO  impl.StateMachineUpdater (StateMachineUpdater.java:takeSnapshot(242)) - StateMachineUpdater:9512c027-07d3-4387-8ec6-d2a1b2e801d5:group-DBCBEFC69B77: Took a snapshot at index 3
2019-08-23 05:27:22,755 [StateMachineUpdater:9512c027-07d3-4387-8ec6-d2a1b2e801d5:group-DBCBEFC69B77] INFO  impl.StateMachineUpdater (StateMachineUpdater.java:lambda$new$0(80)) - StateMachineUpdater:9512c027-07d3-4387-8ec6-d2a1b2e801d5:group-DBCBEFC69B77: snapshotIndex: updateIncreasingly 3 -> 3
2019-08-23 05:27:22,835 | INFO  | SCMAudit | user=jenkins1000 | ip=192.168.5.178 | op=SEND_HEARTBEAT {datanodeUUID=9512c027-07d3-4387-8ec6-d2a1b2e801d5, command=[]} | ret=SUCCESS |  
2019-08-23 05:27:22,883 [grpc-default-executor-0] INFO  impl.RaftServerProxy (RaftServerProxy.java:remove(95)) - 9512c027-07d3-4387-8ec6-d2a1b2e801d5: remove   LEADER group-DBCBEFC69B77 9512c027-07d3-4387-8ec6-d2a1b2e801d5:t2, leader=9512c027-07d3-4387-8ec6-d2a1b2e801d5, voted=9512c027-07d3-4387-8ec6-d2a1b2e801d5, raftlog=9512c027-07d3-4387-8ec6-d2a1b2e801d5-SegmentedRaftLog:OPENED:c6,f6,i6, conf=5: [9512c027-07d3-4387-8ec6-d2a1b2e801d5:192.168.5.178:42859], old=null RUNNING
2019-08-23 05:27:22,885 [grpc-default-executor-0] INFO  impl.RaftServerImpl (RaftServerImpl.java:lambda$shutdown$3(245)) - 9512c027-07d3-4387-8ec6-d2a1b2e801d5: shutdown group-DBCBEFC69B77
2019-08-23 05:27:22,885 [grpc-default-executor-0] INFO  util.JmxRegister (JmxRegister.java:unregister(73)) - Successfully un-registered JMX Bean with object name Ratis:service=RaftServer,group=group-DBCBEFC69B77,id=9512c027-07d3-4387-8ec6-d2a1b2e801d5
2019-08-23 05:27:22,885 [grpc-default-executor-0] INFO  impl.RoleInfo (RoleInfo.java:shutdownLeaderState(104)) - 9512c027-07d3-4387-8ec6-d2a1b2e801d5: shutdown LeaderState
2019-08-23 05:27:22,886 [grpc-default-executor-0] INFO  impl.PendingRequests (PendingRequests.java:sendNotLeaderResponses(202)) - 9512c027-07d3-4387-8ec6-d2a1b2e801d5-PendingRequests: sendNotLeaderResponses
2019-08-23 05:27:22,889 [grpc-default-executor-0] INFO  impl.StateMachineUpdater (StateMachineUpdater.java:stopAndJoin(115)) - StateMachineUpdater:9512c027-07d3-4387-8ec6-d2a1b2e801d5:group-DBCBEFC69B77: set stopIndex = 6
2019-08-23 05:27:22,889 [StateMachineUpdater:9512c027-07d3-4387-8ec6-d2a1b2e801d5:group-DBCBEFC69B77] INFO  ratis.ContainerStateMachine (ContainerStateMachine.java:takeSnapshot(283)) - group-DBCBEFC69B77: Taking a snapshot at:(t:1, i:3) file /workdir/hadoop-ozone/integration-test/target/test-dir/MiniOzoneClusterImpl-4df9fbe8-bd9f-48ff-b9d2-b0c93ccc846c/datanode-0/data/ratis/d440be17-bfeb-4cb5-9468-dbcbefc69b77/sm/snapshot.1_3
2019-08-23 05:27:22,902 [StateMachineUpdater:9512c027-07d3-4387-8ec6-d2a1b2e801d5:group-DBCBEFC69B77] INFO  ratis.ContainerStateMachine (ContainerStateMachine.java:takeSnapshot(294)) - group-DBCBEFC69B77: Finished taking a snapshot at:(t:1, i:3) file:/workdir/hadoop-ozone/integration-test/target/test-dir/MiniOzoneClusterImpl-4df9fbe8-bd9f-48ff-b9d2-b0c93ccc846c/datanode-0/data/ratis/d440be17-bfeb-4cb5-9468-dbcbefc69b77/sm/snapshot.1_3 time:13
2019-08-23 05:27:22,902 [StateMachineUpdater:9512c027-07d3-4387-8ec6-d2a1b2e801d5:group-DBCBEFC69B77] INFO  impl.StateMachineUpdater (StateMachineUpdater.java:takeSnapshot(242)) - StateMachineUpdater:9512c027-07d3-4387-8ec6-d2a1b2e801d5:group-DBCBEFC69B77: Took a snapshot at index 3
2019-08-23 05:27:22,902 [StateMachineUpdater:9512c027-07d3-4387-8ec6-d2a1b2e801d5:group-DBCBEFC69B77] INFO  impl.StateMachineUpdater (StateMachineUpdater.java:lambda$new$0(80)) - StateMachineUpdater:9512c027-07d3-4387-8ec6-d2a1b2e801d5:group-DBCBEFC69B77: snapshotIndex: updateIncreasingly 3 -> 3
2019-08-23 05:27:22,902 [grpc-default-executor-0] INFO  impl.RaftServerImpl (ServerState.java:close(394)) - 9512c027-07d3-4387-8ec6-d2a1b2e801d5:group-DBCBEFC69B77 closes. The last applied log index is 6
2019-08-23 05:27:22,904 [9512c027-07d3-4387-8ec6-d2a1b2e801d5-SegmentedRaftLogWorker:Storage Directory /workdir/hadoop-ozone/integration-test/target/test-dir/MiniOzoneClusterImpl-4df9fbe8-bd9f-48ff-b9d2-b0c93ccc846c/datanode-0/data/ratis/d440be17-bfeb-4cb5-9468-dbcbefc69b77] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:run(313)) - 9512c027-07d3-4387-8ec6-d2a1b2e801d5-SegmentedRaftLogWorker:Storage Directory /workdir/hadoop-ozone/integration-test/target/test-dir/MiniOzoneClusterImpl-4df9fbe8-bd9f-48ff-b9d2-b0c93ccc846c/datanode-0/data/ratis/d440be17-bfeb-4cb5-9468-dbcbefc69b77 was interrupted, exiting. There are 0 tasks remaining in the queue.
2019-08-23 05:27:22,905 [grpc-default-executor-0] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:close(228)) - 9512c027-07d3-4387-8ec6-d2a1b2e801d5-SegmentedRaftLogWorker:Storage Directory /workdir/hadoop-ozone/integration-test/target/test-dir/MiniOzoneClusterImpl-4df9fbe8-bd9f-48ff-b9d2-b0c93ccc846c/datanode-0/data/ratis/d440be17-bfeb-4cb5-9468-dbcbefc69b77 close()
2019-08-23 05:27:22,917 [RatisPipelineUtilsThread] INFO  pipeline.PipelineStateManager (PipelineStateManager.java:removePipeline(108)) - Pipeline Pipeline[ Id: d440be17-bfeb-4cb5-9468-dbcbefc69b77, Nodes: 9512c027-07d3-4387-8ec6-d2a1b2e801d5{ip: 192.168.5.178, host: trunk-nightly-zfkm8-417691344, networkLocation: /default-rack, certSerialId: null}, Type:RATIS, Factor:ONE, State:CLOSED] removed from db
2019-08-23 05:27:23,035 | INFO  | SCMAudit | user=jenkins1000 | ip=192.168.5.178 | op=SEND_HEARTBEAT {datanodeUUID=9512c027-07d3-4387-8ec6-d2a1b2e801d5, command=[]} | ret=SUCCESS |  
2019-08-23 05:27:23,235 | INFO  | SCMAudit | user=jenkins1000 | ip=192.168.5.178 | op=SEND_HEARTBEAT {datanodeUUID=9512c027-07d3-4387-8ec6-d2a1b2e801d5, command=[]} | ret=SUCCESS |  
2019-08-23 05:27:23,434 | INFO  | SCMAudit | user=jenkins1000 | ip=192.168.5.178 | op=SEND_HEARTBEAT {datanodeUUID=9512c027-07d3-4387-8ec6-d2a1b2e801d5, command=[]} | ret=SUCCESS |  
2019-08-23 05:27:23,635 | INFO  | SCMAudit | user=jenkins1000 | ip=192.168.5.178 | op=SEND_HEARTBEAT {datanodeUUID=9512c027-07d3-4387-8ec6-d2a1b2e801d5, command=[]} | ret=SUCCESS |  
2019-08-23 05:27:23,835 | INFO  | SCMAudit | user=jenkins1000 | ip=192.168.5.178 | op=SEND_HEARTBEAT {datanodeUUID=9512c027-07d3-4387-8ec6-d2a1b2e801d5, command=[]} | ret=SUCCESS |  
2019-08-23 05:27:24,035 | INFO  | SCMAudit | user=jenkins1000 | ip=192.168.5.178 | op=SEND_HEARTBEAT {datanodeUUID=9512c027-07d3-4387-8ec6-d2a1b2e801d5, command=[]} | ret=SUCCESS |  
2019-08-23 05:27:24,235 | INFO  | SCMAudit | user=jenkins1000 | ip=192.168.5.178 | op=SEND_HEARTBEAT {datanodeUUID=9512c027-07d3-4387-8ec6-d2a1b2e801d5, command=[]} | ret=SUCCESS |  
2019-08-23 05:27:24,436 | INFO  | SCMAudit | user=jenkins1000 | ip=192.168.5.178 | op=SEND_HEARTBEAT {datanodeUUID=9512c027-07d3-4387-8ec6-d2a1b2e801d5, command=[]} | ret=SUCCESS |  
2019-08-23 05:27:24,499 [grpc-default-executor-1] INFO  client.GrpcClientProtocolClient (GrpcClientProtocolClient.java:onNext(255)) - client-812E9175864C->9512c027-07d3-4387-8ec6-d2a1b2e801d5: receive RaftClientReply:client-812E9175864C->9512c027-07d3-4387-8ec6-d2a1b2e801d5@group-08DC236449BA, cid=11, FAILED org.apache.ratis.protocol.NotLeaderException: Server 9512c027-07d3-4387-8ec6-d2a1b2e801d5 is not the leader (null). Request must be sent to leader., logIndex=0, commits[9512c027-07d3-4387-8ec6-d2a1b2e801d5:c-1]
2019-08-23 05:27:24,636 | INFO  | SCMAudit | user=jenkins1000 | ip=192.168.5.178 | op=SEND_HEARTBEAT {datanodeUUID=9512c027-07d3-4387-8ec6-d2a1b2e801d5, command=[]} | ret=SUCCESS |  
2019-08-23 05:27:24,837 | INFO  | SCMAudit | user=jenkins1000 | ip=192.168.5.178 | op=SEND_HEARTBEAT {datanodeUUID=9512c027-07d3-4387-8ec6-d2a1b2e801d5, command=[]} | ret=SUCCESS |  
2019-08-23 05:27:25,037 | INFO  | SCMAudit | user=jenkins1000 | ip=192.168.5.178 | op=SEND_HEARTBEAT {datanodeUUID=9512c027-07d3-4387-8ec6-d2a1b2e801d5, command=[]} | ret=SUCCESS |  
2019-08-23 05:27:25,236 | INFO  | SCMAudit | user=jenkins1000 | ip=192.168.5.178 | op=SEND_HEARTBEAT {datanodeUUID=9512c027-07d3-4387-8ec6-d2a1b2e801d5, command=[]} | ret=SUCCESS |  
2019-08-23 05:27:25,437 | INFO  | SCMAudit | user=jenkins1000 | ip=192.168.5.178 | op=SEND_HEARTBEAT {datanodeUUID=9512c027-07d3-4387-8ec6-d2a1b2e801d5, command=[]} | ret=SUCCESS |  
2019-08-23 05:27:25,636 | INFO  | SCMAudit | user=jenkins1000 | ip=192.168.5.178 | op=SEND_HEARTBEAT {datanodeUUID=9512c027-07d3-4387-8ec6-d2a1b2e801d5, command=[]} | ret=SUCCESS |  
2019-08-23 05:27:25,836 | INFO  | SCMAudit | user=jenkins1000 | ip=192.168.5.178 | op=SEND_HEARTBEAT {datanodeUUID=9512c027-07d3-4387-8ec6-d2a1b2e801d5, command=[]} | ret=SUCCESS |  
2019-08-23 05:27:26,036 | INFO  | SCMAudit | user=jenkins1000 | ip=192.168.5.178 | op=SEND_HEARTBEAT {datanodeUUID=9512c027-07d3-4387-8ec6-d2a1b2e801d5, command=[]} | ret=SUCCESS |  
2019-08-23 05:27:26,236 | INFO  | SCMAudit | user=jenkins1000 | ip=192.168.5.178 | op=SEND_HEARTBEAT {datanodeUUID=9512c027-07d3-4387-8ec6-d2a1b2e801d5, command=[]} | ret=SUCCESS |  
2019-08-23 05:27:26,437 | INFO  | SCMAudit | user=jenkins1000 | ip=192.168.5.178 | op=SEND_HEARTBEAT {datanodeUUID=9512c027-07d3-4387-8ec6-d2a1b2e801d5, command=[]} | ret=SUCCESS |  
2019-08-23 05:27:26,524 [grpc-default-executor-0] INFO  client.GrpcClientProtocolClient (GrpcClientProtocolClient.java:onNext(255)) - client-812E9175864C->9512c027-07d3-4387-8ec6-d2a1b2e801d5: receive RaftClientReply:client-812E9175864C->9512c027-07d3-4387-8ec6-d2a1b2e801d5@group-08DC236449BA, cid=11, FAILED org.apache.ratis.protocol.NotLeaderException: Server 9512c027-07d3-4387-8ec6-d2a1b2e801d5 is not the leader (null). Request must be sent to leader., logIndex=0, commits[9512c027-07d3-4387-8ec6-d2a1b2e801d5:c-1]
2019-08-23 05:27:26,599 [Thread-230] INFO  impl.FollowerState (FollowerState.java:run(106)) - 9512c027-07d3-4387-8ec6-d2a1b2e801d5:group-08DC236449BA changes to CANDIDATE, lastRpcTime:5074, electionTimeout:5074ms
2019-08-23 05:27:26,603 [Thread-230] INFO  impl.RoleInfo (RoleInfo.java:shutdownFollowerState(121)) - 9512c027-07d3-4387-8ec6-d2a1b2e801d5: shutdown FollowerState
2019-08-23 05:27:26,603 [Thread-230] INFO  impl.RaftServerImpl (RaftServerImpl.java:setRole(171)) - 9512c027-07d3-4387-8ec6-d2a1b2e801d5:group-08DC236449BA changes role from FOLLOWER to CANDIDATE at term 0 for changeToCandidate
2019-08-23 05:27:26,603 [Thread-230] INFO  impl.RoleInfo (RoleInfo.java:updateAndGet(143)) - 9512c027-07d3-4387-8ec6-d2a1b2e801d5: start LeaderElection
2019-08-23 05:27:26,631 [9512c027-07d3-4387-8ec6-d2a1b2e801d5:group-08DC236449BA:LeaderElection4] INFO  impl.LeaderElection (LeaderElection.java:askForVotes(181)) - 9512c027-07d3-4387-8ec6-d2a1b2e801d5:group-08DC236449BA:LeaderElection4: begin an election at term 1 for -1: [9512c027-07d3-4387-8ec6-d2a1b2e801d5:192.168.5.178:42859], old=null
2019-08-23 05:27:26,632 [9512c027-07d3-4387-8ec6-d2a1b2e801d5:group-08DC236449BA:LeaderElection4] INFO  impl.RoleInfo (RoleInfo.java:shutdownLeaderElection(134)) - 9512c027-07d3-4387-8ec6-d2a1b2e801d5: shutdown LeaderElection
2019-08-23 05:27:26,632 [9512c027-07d3-4387-8ec6-d2a1b2e801d5:group-08DC236449BA:LeaderElection4] INFO  impl.RaftServerImpl (RaftServerImpl.java:setRole(171)) - 9512c027-07d3-4387-8ec6-d2a1b2e801d5:group-08DC236449BA changes role from CANDIDATE to LEADER at term 1 for changeToLeader
2019-08-23 05:27:26,632 [9512c027-07d3-4387-8ec6-d2a1b2e801d5:group-08DC236449BA:LeaderElection4] INFO  impl.RaftServerImpl (ServerState.java:setLeader(263)) - 9512c027-07d3-4387-8ec6-d2a1b2e801d5:group-08DC236449BA change Leader from null to 9512c027-07d3-4387-8ec6-d2a1b2e801d5 at term 1 for becomeLeader, leader elected after 5114ms
2019-08-23 05:27:26,633 [9512c027-07d3-4387-8ec6-d2a1b2e801d5:group-08DC236449BA:LeaderElection4] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.staging.catchup.gap = 1000 (default)
2019-08-23 05:27:26,633 [9512c027-07d3-4387-8ec6-d2a1b2e801d5:group-08DC236449BA:LeaderElection4] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.rpc.sleep.time = 25ms (default)
2019-08-23 05:27:26,633 [9512c027-07d3-4387-8ec6-d2a1b2e801d5:group-08DC236449BA:LeaderElection4] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.write.element-limit = 4096 (default)
2019-08-23 05:27:26,633 [9512c027-07d3-4387-8ec6-d2a1b2e801d5:group-08DC236449BA:LeaderElection4] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.watch.timeout = 10s (default)
2019-08-23 05:27:26,634 [9512c027-07d3-4387-8ec6-d2a1b2e801d5:group-08DC236449BA:LeaderElection4] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.watch.timeout.denomination = 1s (default)
2019-08-23 05:27:26,634 [9512c027-07d3-4387-8ec6-d2a1b2e801d5:group-08DC236449BA:LeaderElection4] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.watch.element-limit = 65536 (default)
2019-08-23 05:27:26,634 [9512c027-07d3-4387-8ec6-d2a1b2e801d5:group-08DC236449BA:LeaderElection4] INFO  impl.RoleInfo (RoleInfo.java:updateAndGet(143)) - 9512c027-07d3-4387-8ec6-d2a1b2e801d5: start LeaderState
2019-08-23 05:27:26,634 [9512c027-07d3-4387-8ec6-d2a1b2e801d5:group-08DC236449BA:LeaderElection4] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:startLogSegment(380)) - 9512c027-07d3-4387-8ec6-d2a1b2e801d5-SegmentedRaftLogWorker:Storage Directory /workdir/hadoop-ozone/integration-test/target/test-dir/MiniOzoneClusterImpl-4df9fbe8-bd9f-48ff-b9d2-b0c93ccc846c/datanode-0/data/ratis/947e3c68-616f-4943-ac54-08dc236449ba: Starting segment from index:0
2019-08-23 05:27:26,635 [9512c027-07d3-4387-8ec6-d2a1b2e801d5:group-08DC236449BA:LeaderElection4] INFO  impl.RaftServerImpl (ServerState.java:setRaftConf(361)) - 9512c027-07d3-4387-8ec6-d2a1b2e801d5:group-08DC236449BA set configuration 0: [9512c027-07d3-4387-8ec6-d2a1b2e801d5:192.168.5.178:42859], old=null at 0
2019-08-23 05:27:26,673 | INFO  | SCMAudit | user=jenkins1000 | ip=192.168.5.178 | op=SEND_HEARTBEAT {datanodeUUID=9512c027-07d3-4387-8ec6-d2a1b2e801d5, command=[]} | ret=SUCCESS |  
2019-08-23 05:27:26,684 [9512c027-07d3-4387-8ec6-d2a1b2e801d5-SegmentedRaftLogWorker:Storage Directory /workdir/hadoop-ozone/integration-test/target/test-dir/MiniOzoneClusterImpl-4df9fbe8-bd9f-48ff-b9d2-b0c93ccc846c/datanode-0/data/ratis/947e3c68-616f-4943-ac54-08dc236449ba] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:execute(569)) - 9512c027-07d3-4387-8ec6-d2a1b2e801d5-SegmentedRaftLogWorker:Storage Directory /workdir/hadoop-ozone/integration-test/target/test-dir/MiniOzoneClusterImpl-4df9fbe8-bd9f-48ff-b9d2-b0c93ccc846c/datanode-0/data/ratis/947e3c68-616f-4943-ac54-08dc236449ba: created new log segment /workdir/hadoop-ozone/integration-test/target/test-dir/MiniOzoneClusterImpl-4df9fbe8-bd9f-48ff-b9d2-b0c93ccc846c/datanode-0/data/ratis/947e3c68-616f-4943-ac54-08dc236449ba/current/log_inprogress_0
2019-08-23 05:27:26,837 | INFO  | SCMAudit | user=jenkins1000 | ip=192.168.5.178 | op=SEND_HEARTBEAT {datanodeUUID=9512c027-07d3-4387-8ec6-d2a1b2e801d5, command=[]} | ret=SUCCESS |  
2019-08-23 05:27:27,038 | INFO  | SCMAudit | user=jenkins1000 | ip=192.168.5.178 | op=SEND_HEARTBEAT {datanodeUUID=9512c027-07d3-4387-8ec6-d2a1b2e801d5, command=[]} | ret=SUCCESS |  
2019-08-23 05:27:27,238 | INFO  | SCMAudit | user=jenkins1000 | ip=192.168.5.178 | op=SEND_HEARTBEAT {datanodeUUID=9512c027-07d3-4387-8ec6-d2a1b2e801d5, command=[]} | ret=SUCCESS |  
2019-08-23 05:27:27,438 | INFO  | SCMAudit | user=jenkins1000 | ip=192.168.5.178 | op=SEND_HEARTBEAT {datanodeUUID=9512c027-07d3-4387-8ec6-d2a1b2e801d5, command=[]} | ret=SUCCESS |  
2019-08-23 05:27:27,639 | INFO  | SCMAudit | user=jenkins1000 | ip=192.168.5.178 | op=SEND_HEARTBEAT {datanodeUUID=9512c027-07d3-4387-8ec6-d2a1b2e801d5, command=[]} | ret=SUCCESS |  
2019-08-23 05:27:27,840 | INFO  | SCMAudit | user=jenkins1000 | ip=192.168.5.178 | op=SEND_HEARTBEAT {datanodeUUID=9512c027-07d3-4387-8ec6-d2a1b2e801d5, command=[]} | ret=SUCCESS |  
2019-08-23 05:27:28,040 | INFO  | SCMAudit | user=jenkins1000 | ip=192.168.5.178 | op=SEND_HEARTBEAT {datanodeUUID=9512c027-07d3-4387-8ec6-d2a1b2e801d5, command=[]} | ret=SUCCESS |  
2019-08-23 05:27:28,241 | INFO  | SCMAudit | user=jenkins1000 | ip=192.168.5.178 | op=SEND_HEARTBEAT {datanodeUUID=9512c027-07d3-4387-8ec6-d2a1b2e801d5, command=[]} | ret=SUCCESS |  
2019-08-23 05:27:28,441 | INFO  | SCMAudit | user=jenkins1000 | ip=192.168.5.178 | op=SEND_HEARTBEAT {datanodeUUID=9512c027-07d3-4387-8ec6-d2a1b2e801d5, command=[]} | ret=SUCCESS |  
2019-08-23 05:27:28,642 | INFO  | SCMAudit | user=jenkins1000 | ip=192.168.5.178 | op=SEND_HEARTBEAT {datanodeUUID=9512c027-07d3-4387-8ec6-d2a1b2e801d5, command=[]} | ret=SUCCESS |  
2019-08-23 05:27:28,653 | INFO  | DNAudit | user=null | ip=null | op=WRITE_CHUNK {blockData=conID: 3 locID: 102664637149609988 bcsId: 0} | ret=SUCCESS |  
2019-08-23 05:27:28,654 | INFO  | SCMAudit | user=jenkins1000 | ip=192.168.5.178 | op=SEND_HEARTBEAT {datanodeUUID=9512c027-07d3-4387-8ec6-d2a1b2e801d5, command=[]} | ret=SUCCESS |  
2019-08-23 05:27:28,667 | INFO  | DNAudit | user=null | ip=null | op=WRITE_CHUNK {blockData=conID: 3 locID: 102664637149609988 bcsId: 0} | ret=SUCCESS |  
2019-08-23 05:27:28,669 [StateMachineUpdater:9512c027-07d3-4387-8ec6-d2a1b2e801d5:group-08DC236449BA] INFO  ratis.ContainerStateMachine (ContainerStateMachine.java:takeSnapshot(283)) - group-08DC236449BA: Taking a snapshot at:(t:1, i:1) file /workdir/hadoop-ozone/integration-test/target/test-dir/MiniOzoneClusterImpl-4df9fbe8-bd9f-48ff-b9d2-b0c93ccc846c/datanode-0/data/ratis/947e3c68-616f-4943-ac54-08dc236449ba/sm/snapshot.1_1
2019-08-23 05:27:28,675 [grpc-default-executor-1] INFO  client.GrpcClientProtocolClient (GrpcClientProtocolClient.java:onNext(255)) - client-812E9175864C->9512c027-07d3-4387-8ec6-d2a1b2e801d5: receive RaftClientReply:client-812E9175864C->9512c027-07d3-4387-8ec6-d2a1b2e801d5@group-08DC236449BA, cid=11, SUCCESS, logIndex=1, commits[9512c027-07d3-4387-8ec6-d2a1b2e801d5:c1]
2019-08-23 05:27:28,679 [StateMachineUpdater:9512c027-07d3-4387-8ec6-d2a1b2e801d5:group-08DC236449BA] INFO  ratis.ContainerStateMachine (ContainerStateMachine.java:takeSnapshot(294)) - group-08DC236449BA: Finished taking a snapshot at:(t:1, i:1) file:/workdir/hadoop-ozone/integration-test/target/test-dir/MiniOzoneClusterImpl-4df9fbe8-bd9f-48ff-b9d2-b0c93ccc846c/datanode-0/data/ratis/947e3c68-616f-4943-ac54-08dc236449ba/sm/snapshot.1_1 time:9
2019-08-23 05:27:28,679 [StateMachineUpdater:9512c027-07d3-4387-8ec6-d2a1b2e801d5:group-08DC236449BA] INFO  impl.StateMachineUpdater (StateMachineUpdater.java:takeSnapshot(242)) - StateMachineUpdater:9512c027-07d3-4387-8ec6-d2a1b2e801d5:group-08DC236449BA: Took a snapshot at index 1
2019-08-23 05:27:28,680 [StateMachineUpdater:9512c027-07d3-4387-8ec6-d2a1b2e801d5:group-08DC236449BA] INFO  impl.StateMachineUpdater (StateMachineUpdater.java:lambda$new$0(80)) - StateMachineUpdater:9512c027-07d3-4387-8ec6-d2a1b2e801d5:group-08DC236449BA: snapshotIndex: updateIncreasingly -1 -> 1
2019-08-23 05:27:28,680 [StateMachineUpdater:9512c027-07d3-4387-8ec6-d2a1b2e801d5:group-08DC236449BA] INFO  ratis.ContainerStateMachine (ContainerStateMachine.java:takeSnapshot(283)) - group-08DC236449BA: Taking a snapshot at:(t:1, i:1) file /workdir/hadoop-ozone/integration-test/target/test-dir/MiniOzoneClusterImpl-4df9fbe8-bd9f-48ff-b9d2-b0c93ccc846c/datanode-0/data/ratis/947e3c68-616f-4943-ac54-08dc236449ba/sm/snapshot.1_1
2019-08-23 05:27:28,685 [StateMachineUpdater:9512c027-07d3-4387-8ec6-d2a1b2e801d5:group-08DC236449BA] INFO  ratis.ContainerStateMachine (ContainerStateMachine.java:takeSnapshot(294)) - group-08DC236449BA: Finished taking a snapshot at:(t:1, i:1) file:/workdir/hadoop-ozone/integration-test/target/test-dir/MiniOzoneClusterImpl-4df9fbe8-bd9f-48ff-b9d2-b0c93ccc846c/datanode-0/data/ratis/947e3c68-616f-4943-ac54-08dc236449ba/sm/snapshot.1_1 time:5
2019-08-23 05:27:28,686 [StateMachineUpdater:9512c027-07d3-4387-8ec6-d2a1b2e801d5:group-08DC236449BA] INFO  impl.StateMachineUpdater (StateMachineUpdater.java:takeSnapshot(242)) - StateMachineUpdater:9512c027-07d3-4387-8ec6-d2a1b2e801d5:group-08DC236449BA: Took a snapshot at index 1
2019-08-23 05:27:28,686 [StateMachineUpdater:9512c027-07d3-4387-8ec6-d2a1b2e801d5:group-08DC236449BA] INFO  impl.StateMachineUpdater (StateMachineUpdater.java:lambda$new$0(80)) - StateMachineUpdater:9512c027-07d3-4387-8ec6-d2a1b2e801d5:group-08DC236449BA: snapshotIndex: updateIncreasingly 1 -> 1
2019-08-23 05:27:28,706 | INFO  | DNAudit | user=null | ip=null | op=PUT_BLOCK {blockData=[blockId=conID: 3 locID: 102664637149609988 bcsId: 0,size=5]} | ret=SUCCESS |  
2019-08-23 05:27:28,707 [StateMachineUpdater:9512c027-07d3-4387-8ec6-d2a1b2e801d5:group-08DC236449BA] INFO  ratis.ContainerStateMachine (ContainerStateMachine.java:takeSnapshot(283)) - group-08DC236449BA: Taking a snapshot at:(t:1, i:3) file /workdir/hadoop-ozone/integration-test/target/test-dir/MiniOzoneClusterImpl-4df9fbe8-bd9f-48ff-b9d2-b0c93ccc846c/datanode-0/data/ratis/947e3c68-616f-4943-ac54-08dc236449ba/sm/snapshot.1_3
2019-08-23 05:27:28,710 [grpc-default-executor-1] INFO  client.GrpcClientProtocolClient (GrpcClientProtocolClient.java:onNext(255)) - client-812E9175864C->9512c027-07d3-4387-8ec6-d2a1b2e801d5: receive RaftClientReply:client-812E9175864C->9512c027-07d3-4387-8ec6-d2a1b2e801d5@group-08DC236449BA, cid=12, SUCCESS, logIndex=3, commits[9512c027-07d3-4387-8ec6-d2a1b2e801d5:c4]
2019-08-23 05:27:28,711 [StateMachineUpdater:9512c027-07d3-4387-8ec6-d2a1b2e801d5:group-08DC236449BA] INFO  ratis.ContainerStateMachine (ContainerStateMachine.java:takeSnapshot(294)) - group-08DC236449BA: Finished taking a snapshot at:(t:1, i:3) file:/workdir/hadoop-ozone/integration-test/target/test-dir/MiniOzoneClusterImpl-4df9fbe8-bd9f-48ff-b9d2-b0c93ccc846c/datanode-0/data/ratis/947e3c68-616f-4943-ac54-08dc236449ba/sm/snapshot.1_3 time:3
2019-08-23 05:27:28,711 [StateMachineUpdater:9512c027-07d3-4387-8ec6-d2a1b2e801d5:group-08DC236449BA] INFO  impl.StateMachineUpdater (StateMachineUpdater.java:takeSnapshot(242)) - StateMachineUpdater:9512c027-07d3-4387-8ec6-d2a1b2e801d5:group-08DC236449BA: Took a snapshot at index 3
2019-08-23 05:27:28,711 [StateMachineUpdater:9512c027-07d3-4387-8ec6-d2a1b2e801d5:group-08DC236449BA] INFO  impl.StateMachineUpdater (StateMachineUpdater.java:lambda$new$0(80)) - StateMachineUpdater:9512c027-07d3-4387-8ec6-d2a1b2e801d5:group-08DC236449BA: snapshotIndex: updateIncreasingly 1 -> 3
2019-08-23 05:27:28,711 [StateMachineUpdater:9512c027-07d3-4387-8ec6-d2a1b2e801d5:group-08DC236449BA] INFO  ratis.ContainerStateMachine (ContainerStateMachine.java:takeSnapshot(283)) - group-08DC236449BA: Taking a snapshot at:(t:1, i:3) file /workdir/hadoop-ozone/integration-test/target/test-dir/MiniOzoneClusterImpl-4df9fbe8-bd9f-48ff-b9d2-b0c93ccc846c/datanode-0/data/ratis/947e3c68-616f-4943-ac54-08dc236449ba/sm/snapshot.1_3
2019-08-23 05:27:28,714 [StateMachineUpdater:9512c027-07d3-4387-8ec6-d2a1b2e801d5:group-08DC236449BA] INFO  ratis.ContainerStateMachine (ContainerStateMachine.java:takeSnapshot(294)) - group-08DC236449BA: Finished taking a snapshot at:(t:1, i:3) file:/workdir/hadoop-ozone/integration-test/target/test-dir/MiniOzoneClusterImpl-4df9fbe8-bd9f-48ff-b9d2-b0c93ccc846c/datanode-0/data/ratis/947e3c68-616f-4943-ac54-08dc236449ba/sm/snapshot.1_3 time:3
2019-08-23 05:27:28,714 [StateMachineUpdater:9512c027-07d3-4387-8ec6-d2a1b2e801d5:group-08DC236449BA] INFO  impl.StateMachineUpdater (StateMachineUpdater.java:takeSnapshot(242)) - StateMachineUpdater:9512c027-07d3-4387-8ec6-d2a1b2e801d5:group-08DC236449BA: Took a snapshot at index 3
2019-08-23 05:27:28,714 [StateMachineUpdater:9512c027-07d3-4387-8ec6-d2a1b2e801d5:group-08DC236449BA] INFO  impl.StateMachineUpdater (StateMachineUpdater.java:lambda$new$0(80)) - StateMachineUpdater:9512c027-07d3-4387-8ec6-d2a1b2e801d5:group-08DC236449BA: snapshotIndex: updateIncreasingly 3 -> 3
2019-08-23 05:27:28,715 [pool-41-thread-2] ERROR impl.ChunkManagerImpl (ChunkUtils.java:getChunkFile(249)) - Chunks path does not exist
2019-08-23 05:27:28,716 [pool-41-thread-2] INFO  keyvalue.KeyValueHandler (ContainerUtils.java:logAndReturnError(146)) - Operation: WriteChunk : Trace ID: 7f9196c413324088:7f9196c413324088:0:0 : Message: Unable to get Chunks directory. : Result: UNABLE_TO_FIND_DATA_DIR
2019-08-23 05:27:28,720 | ERROR | DNAudit | user=null | ip=null | op=PUT_BLOCK {blockData=[blockId=conID: 3 locID: 102664637149609988 bcsId: 0,size=10]} | ret=FAILURE | org.apache.hadoop.hdds.scm.container.common.helpers.ContainerNotOpenException: Container 3 in UNHEALTHY state
	at org.apache.hadoop.ozone.container.common.impl.HddsDispatcher.validateContainerCommand(HddsDispatcher.java:408)
	at org.apache.hadoop.ozone.container.common.transport.server.ratis.ContainerStateMachine.startTransaction(ContainerStateMachine.java:309) 
2019-08-23 05:27:28,730 | ERROR | DNAudit | user=null | ip=null | op=WRITE_CHUNK {blockData=conID: 3 locID: 102664637149609988 bcsId: 3} | ret=FAILURE | java.lang.Exception: Unable to get Chunks directory.
	at org.apache.hadoop.ozone.container.common.impl.HddsDispatcher.dispatchRequest(HddsDispatcher.java:320)
	at org.apache.hadoop.ozone.container.common.impl.HddsDispatcher.dispatch(HddsDispatcher.java:148) 
2019-08-23 05:27:28,731 [pool-41-thread-2] ERROR ratis.ContainerStateMachine (ContainerStateMachine.java:lambda$handleWriteChunk$2(449)) - group-08DC236449BA: writeChunk writeStateMachineData failed: blockIdcontainerID: 3
localID: 102664637149609988
blockCommitSequenceId: 3
 logIndex 5 chunkName 102664637149609988_chunk_2 Error message: Unable to get Chunks directory. Container Result: UNABLE_TO_FIND_DATA_DIR
2019-08-23 05:27:28,732 [9512c027-07d3-4387-8ec6-d2a1b2e801d5-SegmentedRaftLogWorker:Storage Directory /workdir/hadoop-ozone/integration-test/target/test-dir/MiniOzoneClusterImpl-4df9fbe8-bd9f-48ff-b9d2-b0c93ccc846c/datanode-0/data/ratis/947e3c68-616f-4943-ac54-08dc236449ba] ERROR ratis.XceiverServerRatis (XceiverServerRatis.java:triggerPipelineClose(561)) - pipeline Action CLOSE  on pipeline PipelineID=947e3c68-616f-4943-ac54-08dc236449ba.Reason : Unable to get Chunks directory.
2019-08-23 05:27:28,733 | INFO  | SCMAudit | user=jenkins1000 | ip=192.168.5.178 | op=SEND_HEARTBEAT {datanodeUUID=9512c027-07d3-4387-8ec6-d2a1b2e801d5, command=[]} | ret=SUCCESS |  
2019-08-23 05:27:28,733 [EventQueue-IncrementalContainerReportForIncrementalContainerReportHandler] WARN  container.IncrementalContainerReportHandler (AbstractContainerReportHandler.java:updateContainerState(143)) - Container #3 is in OPEN state, but the datanode 9512c027-07d3-4387-8ec6-d2a1b2e801d5{ip: 192.168.5.178, host: trunk-nightly-zfkm8-417691344, networkLocation: /default-rack, certSerialId: null} reports an UNHEALTHY replica.
2019-08-23 05:27:28,733 [EventQueue-CloseContainerForCloseContainerEventHandler] INFO  container.CloseContainerEventHandler (CloseContainerEventHandler.java:onMessage(61)) - Close container Event triggered for container : #3
2019-08-23 05:27:28,734 [EventQueue-PipelineActionsForPipelineActionHandler] ERROR pipeline.PipelineActionHandler (PipelineActionHandler.java:onMessage(60)) - Received pipeline action CLOSE for Pipeline[ Id: 947e3c68-616f-4943-ac54-08dc236449ba, Nodes: 9512c027-07d3-4387-8ec6-d2a1b2e801d5{ip: 192.168.5.178, host: trunk-nightly-zfkm8-417691344, networkLocation: /default-rack, certSerialId: null}, Type:RATIS, Factor:ONE, State:OPEN] from datanode 9512c027-07d3-4387-8ec6-d2a1b2e801d5{ip: 192.168.5.178, host: trunk-nightly-zfkm8-417691344, networkLocation: /default-rack, certSerialId: null}. Reason : Unable to get Chunks directory.
2019-08-23 05:27:28,735 [EventQueue-PipelineActionsForPipelineActionHandler] INFO  pipeline.SCMPipelineManager (SCMPipelineManager.java:finalizeAndDestroyPipeline(309)) - destroying pipeline:Pipeline[ Id: 947e3c68-616f-4943-ac54-08dc236449ba, Nodes: 9512c027-07d3-4387-8ec6-d2a1b2e801d5{ip: 192.168.5.178, host: trunk-nightly-zfkm8-417691344, networkLocation: /default-rack, certSerialId: null}, Type:RATIS, Factor:ONE, State:OPEN]
2019-08-23 05:27:28,735 [EventQueue-PipelineActionsForPipelineActionHandler] INFO  pipeline.PipelineStateManager (PipelineStateManager.java:finalizePipeline(123)) - Pipeline Pipeline[ Id: 947e3c68-616f-4943-ac54-08dc236449ba, Nodes: 9512c027-07d3-4387-8ec6-d2a1b2e801d5{ip: 192.168.5.178, host: trunk-nightly-zfkm8-417691344, networkLocation: /default-rack, certSerialId: null}, Type:RATIS, Factor:ONE, State:CLOSED] moved to CLOSED state
2019-08-23 05:27:28,735 | INFO  | SCMAudit | user=jenkins1000 | ip=192.168.5.178 | op=SEND_HEARTBEAT {datanodeUUID=9512c027-07d3-4387-8ec6-d2a1b2e801d5, command=[commandType: closeContainerCommand closeContainerCommandProto { containerID: 3 pipelineID { id: "947e3c68-616f-4943-ac54-08dc236449ba" } cmdId: 3 force: false } ]} | ret=SUCCESS |  
2019-08-23 05:27:28,841 [9512c027-07d3-4387-8ec6-d2a1b2e801d5-SegmentedRaftLogWorker:Storage Directory /workdir/hadoop-ozone/integration-test/target/test-dir/MiniOzoneClusterImpl-4df9fbe8-bd9f-48ff-b9d2-b0c93ccc846c/datanode-0/data/ratis/947e3c68-616f-4943-ac54-08dc236449ba] ERROR ratis.XceiverServerRatis (XceiverServerRatis.java:triggerPipelineClose(561)) - pipeline Action CLOSE  on pipeline PipelineID=947e3c68-616f-4943-ac54-08dc236449ba.Reason : Log already failed at index 5 for task WriteLog:5: (t:1, i:5), STATEMACHINELOGENTRY, client-812E9175864C, cid=14
2019-08-23 05:27:28,844 | INFO  | SCMAudit | user=jenkins1000 | ip=192.168.5.178 | op=SEND_HEARTBEAT {datanodeUUID=9512c027-07d3-4387-8ec6-d2a1b2e801d5, command=[]} | ret=SUCCESS |  
2019-08-23 05:27:28,843 [EventQueue-PipelineActionsForPipelineActionHandler] ERROR pipeline.PipelineActionHandler (PipelineActionHandler.java:onMessage(60)) - Received pipeline action CLOSE for Pipeline[ Id: 947e3c68-616f-4943-ac54-08dc236449ba, Nodes: 9512c027-07d3-4387-8ec6-d2a1b2e801d5{ip: 192.168.5.178, host: trunk-nightly-zfkm8-417691344, networkLocation: /default-rack, certSerialId: null}, Type:RATIS, Factor:ONE, State:CLOSED] from datanode 9512c027-07d3-4387-8ec6-d2a1b2e801d5{ip: 192.168.5.178, host: trunk-nightly-zfkm8-417691344, networkLocation: /default-rack, certSerialId: null}. Reason : Log already failed at index 5 for task WriteLog:5: (t:1, i:5), STATEMACHINELOGENTRY, client-812E9175864C, cid=14
2019-08-23 05:27:28,844 [EventQueue-PipelineActionsForPipelineActionHandler] INFO  pipeline.SCMPipelineManager (SCMPipelineManager.java:finalizeAndDestroyPipeline(309)) - destroying pipeline:Pipeline[ Id: 947e3c68-616f-4943-ac54-08dc236449ba, Nodes: 9512c027-07d3-4387-8ec6-d2a1b2e801d5{ip: 192.168.5.178, host: trunk-nightly-zfkm8-417691344, networkLocation: /default-rack, certSerialId: null}, Type:RATIS, Factor:ONE, State:CLOSED]
2019-08-23 05:27:29,044 | INFO  | SCMAudit | user=jenkins1000 | ip=192.168.5.178 | op=SEND_HEARTBEAT {datanodeUUID=9512c027-07d3-4387-8ec6-d2a1b2e801d5, command=[]} | ret=SUCCESS |  
2019-08-23 05:27:29,243 | INFO  | SCMAudit | user=jenkins1000 | ip=192.168.5.178 | op=SEND_HEARTBEAT {datanodeUUID=9512c027-07d3-4387-8ec6-d2a1b2e801d5, command=[]} | ret=SUCCESS |  
2019-08-23 05:27:29,443 | INFO  | SCMAudit | user=jenkins1000 | ip=192.168.5.178 | op=SEND_HEARTBEAT {datanodeUUID=9512c027-07d3-4387-8ec6-d2a1b2e801d5, command=[]} | ret=SUCCESS |  
2019-08-23 05:27:29,644 | INFO  | SCMAudit | user=jenkins1000 | ip=192.168.5.178 | op=SEND_HEARTBEAT {datanodeUUID=9512c027-07d3-4387-8ec6-d2a1b2e801d5, command=[]} | ret=SUCCESS |  
2019-08-23 05:27:29,844 | INFO  | SCMAudit | user=jenkins1000 | ip=192.168.5.178 | op=SEND_HEARTBEAT {datanodeUUID=9512c027-07d3-4387-8ec6-d2a1b2e801d5, command=[]} | ret=SUCCESS |  
2019-08-23 05:27:30,044 | INFO  | SCMAudit | user=jenkins1000 | ip=192.168.5.178 | op=SEND_HEARTBEAT {datanodeUUID=9512c027-07d3-4387-8ec6-d2a1b2e801d5, command=[]} | ret=SUCCESS |  
2019-08-23 05:27:30,243 | INFO  | SCMAudit | user=jenkins1000 | ip=192.168.5.178 | op=SEND_HEARTBEAT {datanodeUUID=9512c027-07d3-4387-8ec6-d2a1b2e801d5, command=[]} | ret=SUCCESS |  
2019-08-23 05:27:30,443 | INFO  | SCMAudit | user=jenkins1000 | ip=192.168.5.178 | op=SEND_HEARTBEAT {datanodeUUID=9512c027-07d3-4387-8ec6-d2a1b2e801d5, command=[]} | ret=SUCCESS |  
2019-08-23 05:27:30,643 | INFO  | SCMAudit | user=jenkins1000 | ip=192.168.5.178 | op=SEND_HEARTBEAT {datanodeUUID=9512c027-07d3-4387-8ec6-d2a1b2e801d5, command=[]} | ret=SUCCESS |  
2019-08-23 05:27:30,843 | INFO  | SCMAudit | user=jenkins1000 | ip=192.168.5.178 | op=SEND_HEARTBEAT {datanodeUUID=9512c027-07d3-4387-8ec6-d2a1b2e801d5, command=[]} | ret=SUCCESS |  
2019-08-23 05:27:31,044 | INFO  | SCMAudit | user=jenkins1000 | ip=192.168.5.178 | op=SEND_HEARTBEAT {datanodeUUID=9512c027-07d3-4387-8ec6-d2a1b2e801d5, command=[]} | ret=SUCCESS |  
2019-08-23 05:27:31,246 | INFO  | SCMAudit | user=jenkins1000 | ip=192.168.5.178 | op=SEND_HEARTBEAT {datanodeUUID=9512c027-07d3-4387-8ec6-d2a1b2e801d5, command=[]} | ret=SUCCESS |  
2019-08-23 05:27:31,445 | INFO  | SCMAudit | user=jenkins1000 | ip=192.168.5.178 | op=SEND_HEARTBEAT {datanodeUUID=9512c027-07d3-4387-8ec6-d2a1b2e801d5, command=[]} | ret=SUCCESS |  
2019-08-23 05:27:31,645 | INFO  | SCMAudit | user=jenkins1000 | ip=192.168.5.178 | op=SEND_HEARTBEAT {datanodeUUID=9512c027-07d3-4387-8ec6-d2a1b2e801d5, command=[]} | ret=SUCCESS |  
2019-08-23 05:27:31,846 | INFO  | SCMAudit | user=jenkins1000 | ip=192.168.5.178 | op=SEND_HEARTBEAT {datanodeUUID=9512c027-07d3-4387-8ec6-d2a1b2e801d5, command=[]} | ret=SUCCESS |  
2019-08-23 05:27:32,047 | INFO  | SCMAudit | user=jenkins1000 | ip=192.168.5.178 | op=SEND_HEARTBEAT {datanodeUUID=9512c027-07d3-4387-8ec6-d2a1b2e801d5, command=[]} | ret=SUCCESS |  
2019-08-23 05:27:32,246 | INFO  | SCMAudit | user=jenkins1000 | ip=192.168.5.178 | op=SEND_HEARTBEAT {datanodeUUID=9512c027-07d3-4387-8ec6-d2a1b2e801d5, command=[]} | ret=SUCCESS |  
2019-08-23 05:27:32,448 | INFO  | SCMAudit | user=jenkins1000 | ip=192.168.5.178 | op=SEND_HEARTBEAT {datanodeUUID=9512c027-07d3-4387-8ec6-d2a1b2e801d5, command=[]} | ret=SUCCESS |  
2019-08-23 05:27:32,647 | INFO  | SCMAudit | user=jenkins1000 | ip=192.168.5.178 | op=SEND_HEARTBEAT {datanodeUUID=9512c027-07d3-4387-8ec6-d2a1b2e801d5, command=[]} | ret=SUCCESS |  
2019-08-23 05:27:32,848 | INFO  | SCMAudit | user=jenkins1000 | ip=192.168.5.178 | op=SEND_HEARTBEAT {datanodeUUID=9512c027-07d3-4387-8ec6-d2a1b2e801d5, command=[]} | ret=SUCCESS |  
2019-08-23 05:27:33,048 | INFO  | SCMAudit | user=jenkins1000 | ip=192.168.5.178 | op=SEND_HEARTBEAT {datanodeUUID=9512c027-07d3-4387-8ec6-d2a1b2e801d5, command=[]} | ret=SUCCESS |  
2019-08-23 05:27:33,248 | INFO  | SCMAudit | user=jenkins1000 | ip=192.168.5.178 | op=SEND_HEARTBEAT {datanodeUUID=9512c027-07d3-4387-8ec6-d2a1b2e801d5, command=[]} | ret=SUCCESS |  
2019-08-23 05:27:33,447 | INFO  | SCMAudit | user=jenkins1000 | ip=192.168.5.178 | op=SEND_HEARTBEAT {datanodeUUID=9512c027-07d3-4387-8ec6-d2a1b2e801d5, command=[]} | ret=SUCCESS |  
2019-08-23 05:27:33,647 | INFO  | SCMAudit | user=jenkins1000 | ip=192.168.5.178 | op=SEND_HEARTBEAT {datanodeUUID=9512c027-07d3-4387-8ec6-d2a1b2e801d5, command=[]} | ret=SUCCESS |  
2019-08-23 05:27:33,847 | INFO  | SCMAudit | user=jenkins1000 | ip=192.168.5.178 | op=SEND_HEARTBEAT {datanodeUUID=9512c027-07d3-4387-8ec6-d2a1b2e801d5, command=[]} | ret=SUCCESS |  
2019-08-23 05:27:34,048 | INFO  | SCMAudit | user=jenkins1000 | ip=192.168.5.178 | op=SEND_HEARTBEAT {datanodeUUID=9512c027-07d3-4387-8ec6-d2a1b2e801d5, command=[]} | ret=SUCCESS |  
2019-08-23 05:27:34,248 | INFO  | SCMAudit | user=jenkins1000 | ip=192.168.5.178 | op=SEND_HEARTBEAT {datanodeUUID=9512c027-07d3-4387-8ec6-d2a1b2e801d5, command=[]} | ret=SUCCESS |  
2019-08-23 05:27:34,448 | INFO  | SCMAudit | user=jenkins1000 | ip=192.168.5.178 | op=SEND_HEARTBEAT {datanodeUUID=9512c027-07d3-4387-8ec6-d2a1b2e801d5, command=[]} | ret=SUCCESS |  
2019-08-23 05:27:34,649 | INFO  | SCMAudit | user=jenkins1000 | ip=192.168.5.178 | op=SEND_HEARTBEAT {datanodeUUID=9512c027-07d3-4387-8ec6-d2a1b2e801d5, command=[]} | ret=SUCCESS |  
2019-08-23 05:27:34,849 | INFO  | SCMAudit | user=jenkins1000 | ip=192.168.5.178 | op=SEND_HEARTBEAT {datanodeUUID=9512c027-07d3-4387-8ec6-d2a1b2e801d5, command=[]} | ret=SUCCESS |  
2019-08-23 05:27:35,049 | INFO  | SCMAudit | user=jenkins1000 | ip=192.168.5.178 | op=SEND_HEARTBEAT {datanodeUUID=9512c027-07d3-4387-8ec6-d2a1b2e801d5, command=[]} | ret=SUCCESS |  
2019-08-23 05:27:35,249 | INFO  | SCMAudit | user=jenkins1000 | ip=192.168.5.178 | op=SEND_HEARTBEAT {datanodeUUID=9512c027-07d3-4387-8ec6-d2a1b2e801d5, command=[]} | ret=SUCCESS |  
2019-08-23 05:27:35,450 | INFO  | SCMAudit | user=jenkins1000 | ip=192.168.5.178 | op=SEND_HEARTBEAT {datanodeUUID=9512c027-07d3-4387-8ec6-d2a1b2e801d5, command=[]} | ret=SUCCESS |  
2019-08-23 05:27:35,650 | INFO  | SCMAudit | user=jenkins1000 | ip=192.168.5.178 | op=SEND_HEARTBEAT {datanodeUUID=9512c027-07d3-4387-8ec6-d2a1b2e801d5, command=[]} | ret=SUCCESS |  
2019-08-23 05:27:35,849 | INFO  | SCMAudit | user=jenkins1000 | ip=192.168.5.178 | op=SEND_HEARTBEAT {datanodeUUID=9512c027-07d3-4387-8ec6-d2a1b2e801d5, command=[]} | ret=SUCCESS |  
2019-08-23 05:27:36,050 | INFO  | SCMAudit | user=jenkins1000 | ip=192.168.5.178 | op=SEND_HEARTBEAT {datanodeUUID=9512c027-07d3-4387-8ec6-d2a1b2e801d5, command=[]} | ret=SUCCESS |  
2019-08-23 05:27:36,251 | INFO  | SCMAudit | user=jenkins1000 | ip=192.168.5.178 | op=SEND_HEARTBEAT {datanodeUUID=9512c027-07d3-4387-8ec6-d2a1b2e801d5, command=[]} | ret=SUCCESS |  
2019-08-23 05:27:36,452 | INFO  | SCMAudit | user=jenkins1000 | ip=192.168.5.178 | op=SEND_HEARTBEAT {datanodeUUID=9512c027-07d3-4387-8ec6-d2a1b2e801d5, command=[]} | ret=SUCCESS |  
2019-08-23 05:27:36,651 | INFO  | SCMAudit | user=jenkins1000 | ip=192.168.5.178 | op=SEND_HEARTBEAT {datanodeUUID=9512c027-07d3-4387-8ec6-d2a1b2e801d5, command=[]} | ret=SUCCESS |  
2019-08-23 05:27:36,852 | INFO  | SCMAudit | user=jenkins1000 | ip=192.168.5.178 | op=SEND_HEARTBEAT {datanodeUUID=9512c027-07d3-4387-8ec6-d2a1b2e801d5, command=[]} | ret=SUCCESS |  
2019-08-23 05:27:37,052 | INFO  | SCMAudit | user=jenkins1000 | ip=192.168.5.178 | op=SEND_HEARTBEAT {datanodeUUID=9512c027-07d3-4387-8ec6-d2a1b2e801d5, command=[]} | ret=SUCCESS |  
2019-08-23 05:27:37,252 | INFO  | SCMAudit | user=jenkins1000 | ip=192.168.5.178 | op=SEND_HEARTBEAT {datanodeUUID=9512c027-07d3-4387-8ec6-d2a1b2e801d5, command=[]} | ret=SUCCESS |  
2019-08-23 05:27:37,452 | INFO  | SCMAudit | user=jenkins1000 | ip=192.168.5.178 | op=SEND_HEARTBEAT {datanodeUUID=9512c027-07d3-4387-8ec6-d2a1b2e801d5, command=[]} | ret=SUCCESS |  
2019-08-23 05:27:37,651 | INFO  | SCMAudit | user=jenkins1000 | ip=192.168.5.178 | op=SEND_HEARTBEAT {datanodeUUID=9512c027-07d3-4387-8ec6-d2a1b2e801d5, command=[]} | ret=SUCCESS |  
2019-08-23 05:27:37,851 | INFO  | SCMAudit | user=jenkins1000 | ip=192.168.5.178 | op=SEND_HEARTBEAT {datanodeUUID=9512c027-07d3-4387-8ec6-d2a1b2e801d5, command=[]} | ret=SUCCESS |  
2019-08-23 05:27:38,051 | INFO  | SCMAudit | user=jenkins1000 | ip=192.168.5.178 | op=SEND_HEARTBEAT {datanodeUUID=9512c027-07d3-4387-8ec6-d2a1b2e801d5, command=[]} | ret=SUCCESS |  
2019-08-23 05:27:38,252 | INFO  | SCMAudit | user=jenkins1000 | ip=192.168.5.178 | op=SEND_HEARTBEAT {datanodeUUID=9512c027-07d3-4387-8ec6-d2a1b2e801d5, command=[]} | ret=SUCCESS |  
2019-08-23 05:27:38,452 | INFO  | SCMAudit | user=jenkins1000 | ip=192.168.5.178 | op=SEND_HEARTBEAT {datanodeUUID=9512c027-07d3-4387-8ec6-d2a1b2e801d5, command=[]} | ret=SUCCESS |  
2019-08-23 05:27:38,651 | INFO  | SCMAudit | user=jenkins1000 | ip=192.168.5.178 | op=SEND_HEARTBEAT {datanodeUUID=9512c027-07d3-4387-8ec6-d2a1b2e801d5, command=[]} | ret=SUCCESS |  
2019-08-23 05:27:38,751 [grpc-default-executor-1] INFO  impl.RaftServerProxy (RaftServerProxy.java:remove(95)) - 9512c027-07d3-4387-8ec6-d2a1b2e801d5: remove   LEADER group-08DC236449BA 9512c027-07d3-4387-8ec6-d2a1b2e801d5:t1, leader=9512c027-07d3-4387-8ec6-d2a1b2e801d5, voted=9512c027-07d3-4387-8ec6-d2a1b2e801d5, raftlog=9512c027-07d3-4387-8ec6-d2a1b2e801d5-SegmentedRaftLog:OPENED:c4,f4,i6, conf=0: [9512c027-07d3-4387-8ec6-d2a1b2e801d5:192.168.5.178:42859], old=null RUNNING
2019-08-23 05:27:38,753 [grpc-default-executor-1] INFO  impl.RaftServerImpl (RaftServerImpl.java:lambda$shutdown$3(245)) - 9512c027-07d3-4387-8ec6-d2a1b2e801d5: shutdown group-08DC236449BA
2019-08-23 05:27:38,753 [grpc-default-executor-1] INFO  util.JmxRegister (JmxRegister.java:unregister(73)) - Successfully un-registered JMX Bean with object name Ratis:service=RaftServer,group=group-08DC236449BA,id=9512c027-07d3-4387-8ec6-d2a1b2e801d5
2019-08-23 05:27:38,753 [grpc-default-executor-1] INFO  impl.RoleInfo (RoleInfo.java:shutdownLeaderState(104)) - 9512c027-07d3-4387-8ec6-d2a1b2e801d5: shutdown LeaderState
2019-08-23 05:27:38,754 [grpc-default-executor-1] INFO  impl.PendingRequests (PendingRequests.java:sendNotLeaderResponses(202)) - 9512c027-07d3-4387-8ec6-d2a1b2e801d5-PendingRequests: sendNotLeaderResponses
2019-08-23 05:27:38,758 [grpc-default-executor-1] INFO  impl.StateMachineUpdater (StateMachineUpdater.java:stopAndJoin(115)) - StateMachineUpdater:9512c027-07d3-4387-8ec6-d2a1b2e801d5:group-08DC236449BA: set stopIndex = 4
2019-08-23 05:27:38,758 [StateMachineUpdater:9512c027-07d3-4387-8ec6-d2a1b2e801d5:group-08DC236449BA] INFO  ratis.ContainerStateMachine (ContainerStateMachine.java:takeSnapshot(283)) - group-08DC236449BA: Taking a snapshot at:(t:1, i:3) file /workdir/hadoop-ozone/integration-test/target/test-dir/MiniOzoneClusterImpl-4df9fbe8-bd9f-48ff-b9d2-b0c93ccc846c/datanode-0/data/ratis/947e3c68-616f-4943-ac54-08dc236449ba/sm/snapshot.1_3
2019-08-23 05:27:38,773 [StateMachineUpdater:9512c027-07d3-4387-8ec6-d2a1b2e801d5:group-08DC236449BA] INFO  ratis.ContainerStateMachine (ContainerStateMachine.java:takeSnapshot(294)) - group-08DC236449BA: Finished taking a snapshot at:(t:1, i:3) file:/workdir/hadoop-ozone/integration-test/target/test-dir/MiniOzoneClusterImpl-4df9fbe8-bd9f-48ff-b9d2-b0c93ccc846c/datanode-0/data/ratis/947e3c68-616f-4943-ac54-08dc236449ba/sm/snapshot.1_3 time:14
2019-08-23 05:27:38,773 [StateMachineUpdater:9512c027-07d3-4387-8ec6-d2a1b2e801d5:group-08DC236449BA] INFO  impl.StateMachineUpdater (StateMachineUpdater.java:takeSnapshot(242)) - StateMachineUpdater:9512c027-07d3-4387-8ec6-d2a1b2e801d5:group-08DC236449BA: Took a snapshot at index 3
2019-08-23 05:27:38,773 [StateMachineUpdater:9512c027-07d3-4387-8ec6-d2a1b2e801d5:group-08DC236449BA] INFO  impl.StateMachineUpdater (StateMachineUpdater.java:lambda$new$0(80)) - StateMachineUpdater:9512c027-07d3-4387-8ec6-d2a1b2e801d5:group-08DC236449BA: snapshotIndex: updateIncreasingly 3 -> 3
2019-08-23 05:27:38,773 [grpc-default-executor-1] INFO  impl.RaftServerImpl (ServerState.java:close(394)) - 9512c027-07d3-4387-8ec6-d2a1b2e801d5:group-08DC236449BA closes. The last applied log index is 4
2019-08-23 05:27:38,774 [9512c027-07d3-4387-8ec6-d2a1b2e801d5-SegmentedRaftLogWorker:Storage Directory /workdir/hadoop-ozone/integration-test/target/test-dir/MiniOzoneClusterImpl-4df9fbe8-bd9f-48ff-b9d2-b0c93ccc846c/datanode-0/data/ratis/947e3c68-616f-4943-ac54-08dc236449ba] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:run(313)) - 9512c027-07d3-4387-8ec6-d2a1b2e801d5-SegmentedRaftLogWorker:Storage Directory /workdir/hadoop-ozone/integration-test/target/test-dir/MiniOzoneClusterImpl-4df9fbe8-bd9f-48ff-b9d2-b0c93ccc846c/datanode-0/data/ratis/947e3c68-616f-4943-ac54-08dc236449ba was interrupted, exiting. There are 0 tasks remaining in the queue.
2019-08-23 05:27:38,775 [grpc-default-executor-1] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:close(228)) - 9512c027-07d3-4387-8ec6-d2a1b2e801d5-SegmentedRaftLogWorker:Storage Directory /workdir/hadoop-ozone/integration-test/target/test-dir/MiniOzoneClusterImpl-4df9fbe8-bd9f-48ff-b9d2-b0c93ccc846c/datanode-0/data/ratis/947e3c68-616f-4943-ac54-08dc236449ba close()
2019-08-23 05:27:38,788 [RatisPipelineUtilsThread] INFO  pipeline.PipelineStateManager (PipelineStateManager.java:removePipeline(108)) - Pipeline Pipeline[ Id: 947e3c68-616f-4943-ac54-08dc236449ba, Nodes: 9512c027-07d3-4387-8ec6-d2a1b2e801d5{ip: 192.168.5.178, host: trunk-nightly-zfkm8-417691344, networkLocation: /default-rack, certSerialId: null}, Type:RATIS, Factor:ONE, State:CLOSED] removed from db
2019-08-23 05:27:38,801 [grpc-default-executor-1] INFO  impl.RaftServerProxy (RaftServerProxy.java:addNew(89)) - 9512c027-07d3-4387-8ec6-d2a1b2e801d5: addNew group-0F385D95E4A0:[9512c027-07d3-4387-8ec6-d2a1b2e801d5:192.168.5.178:42859] returns group-0F385D95E4A0:java.util.concurrent.CompletableFuture@2eb6ffd[Not completed]
2019-08-23 05:27:38,806 [pool-42-thread-1] INFO  impl.RaftServerImpl (RaftServerImpl.java:<init>(93)) - 9512c027-07d3-4387-8ec6-d2a1b2e801d5: new RaftServerImpl for group-0F385D95E4A0:[9512c027-07d3-4387-8ec6-d2a1b2e801d5:192.168.5.178:42859] with ContainerStateMachine:uninitialized
2019-08-23 05:27:38,807 [pool-42-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.rpc.timeout.min = 5s (custom)
2019-08-23 05:27:38,807 [pool-42-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.rpc.timeout.max = 5200ms (custom)
2019-08-23 05:27:38,808 [pool-42-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.rpcslowness.timeout = 120s (custom)
2019-08-23 05:27:38,808 [pool-42-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.sleep.deviation.threshold = 300 (default)
2019-08-23 05:27:38,808 [pool-42-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.log.appender.install.snapshot.enabled = false (custom)
2019-08-23 05:27:38,809 [pool-42-thread-1] INFO  impl.RaftServerImpl (ServerState.java:<init>(105)) - 9512c027-07d3-4387-8ec6-d2a1b2e801d5:group-0F385D95E4A0 ConfigurationManager, init=-1: [9512c027-07d3-4387-8ec6-d2a1b2e801d5:192.168.5.178:42859], old=null, confs=<EMPTY_MAP>
2019-08-23 05:27:38,809 [pool-42-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.storage.dir = [/workdir/hadoop-ozone/integration-test/target/test-dir/MiniOzoneClusterImpl-4df9fbe8-bd9f-48ff-b9d2-b0c93ccc846c/datanode-0/data/ratis] (custom)
2019-08-23 05:27:38,810 [pool-42-thread-1] INFO  storage.RaftStorageDirectory (RaftStorageDirectory.java:analyzeStorage(246)) - The storage directory /workdir/hadoop-ozone/integration-test/target/test-dir/MiniOzoneClusterImpl-4df9fbe8-bd9f-48ff-b9d2-b0c93ccc846c/datanode-0/data/ratis/983d7be0-cb06-498a-b24b-0f385d95e4a0 does not exist. Creating ...
2019-08-23 05:27:38,824 [pool-42-thread-1] INFO  storage.RaftStorageDirectory (RaftStorageDirectory.java:tryLock(328)) - Lock on /workdir/hadoop-ozone/integration-test/target/test-dir/MiniOzoneClusterImpl-4df9fbe8-bd9f-48ff-b9d2-b0c93ccc846c/datanode-0/data/ratis/983d7be0-cb06-498a-b24b-0f385d95e4a0/in_use.lock acquired by nodename 21553@trunk-nightly-zfkm8-417691344
2019-08-23 05:27:38,837 [pool-42-thread-1] INFO  storage.RaftStorage (RaftStorage.java:format(72)) - Storage directory /workdir/hadoop-ozone/integration-test/target/test-dir/MiniOzoneClusterImpl-4df9fbe8-bd9f-48ff-b9d2-b0c93ccc846c/datanode-0/data/ratis/983d7be0-cb06-498a-b24b-0f385d95e4a0 has been successfully formatted.
2019-08-23 05:27:38,837 [pool-42-thread-1] INFO  ratis.ContainerStateMachine (ContainerStateMachine.java:loadSnapshot(226)) - group-0F385D95E4A0: The snapshot info is null. Setting the last applied indexto:(t:0, i:~)
2019-08-23 05:27:38,838 [pool-42-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.leader.election.timeout = 120s (custom)
2019-08-23 05:27:38,838 [pool-42-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.log.use.memory = false (default)
2019-08-23 05:27:38,838 [pool-42-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.log.purge.gap = 1000000 (custom)
2019-08-23 05:27:38,838 [pool-42-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.log.appender.buffer.byte-limit = 33554432 (custom)
2019-08-23 05:27:38,839 [pool-42-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.log.segment.size.max = 1048576 (custom)
2019-08-23 05:27:38,839 [pool-42-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.log.segment.cache.num.max = 2 (custom)
2019-08-23 05:27:38,839 [pool-42-thread-1] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:<init>(172)) - new 9512c027-07d3-4387-8ec6-d2a1b2e801d5-SegmentedRaftLogWorker:Storage Directory /workdir/hadoop-ozone/integration-test/target/test-dir/MiniOzoneClusterImpl-4df9fbe8-bd9f-48ff-b9d2-b0c93ccc846c/datanode-0/data/ratis/983d7be0-cb06-498a-b24b-0f385d95e4a0 for RaftStorage:Storage Directory /workdir/hadoop-ozone/integration-test/target/test-dir/MiniOzoneClusterImpl-4df9fbe8-bd9f-48ff-b9d2-b0c93ccc846c/datanode-0/data/ratis/983d7be0-cb06-498a-b24b-0f385d95e4a0
2019-08-23 05:27:38,839 [pool-42-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.log.queue.byte-limit = 2147483647 (custom)
2019-08-23 05:27:38,840 [pool-42-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.log.queue.element-limit = 1024 (custom)
2019-08-23 05:27:38,840 [pool-42-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.log.segment.size.max = 1048576 (custom)
2019-08-23 05:27:38,840 [pool-42-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.log.preallocated.size = 16384 (custom)
2019-08-23 05:27:38,840 [pool-42-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.log.write.buffer.size = 33554432 (custom)
2019-08-23 05:27:38,841 [pool-42-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.log.force.sync.num = 128 (default)
2019-08-23 05:27:38,841 [pool-42-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.log.statemachine.data.sync = true (default)
2019-08-23 05:27:38,841 [pool-42-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.log.statemachine.data.sync.timeout = 10s (default)
2019-08-23 05:27:38,841 [pool-42-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.log.statemachine.data.sync.timeout.retry = -1 (default)
2019-08-23 05:27:38,842 [pool-42-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.log.statemachine.data.caching.enabled = true (custom)
2019-08-23 05:27:38,842 [pool-42-thread-1] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:lambda$new$0(132)) - 9512c027-07d3-4387-8ec6-d2a1b2e801d5-SegmentedRaftLogWorker:Storage Directory /workdir/hadoop-ozone/integration-test/target/test-dir/MiniOzoneClusterImpl-4df9fbe8-bd9f-48ff-b9d2-b0c93ccc846c/datanode-0/data/ratis/983d7be0-cb06-498a-b24b-0f385d95e4a0: flushIndex: setUnconditionally 0 -> -1
2019-08-23 05:27:38,843 [pool-42-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.snapshot.auto.trigger.enabled = true (custom)
2019-08-23 05:27:38,843 [pool-42-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.snapshot.auto.trigger.threshold = 1 (custom)
2019-08-23 05:27:38,843 [pool-42-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.retrycache.expirytime = 600000ms (custom)
2019-08-23 05:27:38,843 [pool-42-thread-1] INFO  impl.RaftServerImpl (RaftServerImpl.java:start(180)) - 9512c027-07d3-4387-8ec6-d2a1b2e801d5: start group-0F385D95E4A0
2019-08-23 05:27:38,844 [pool-42-thread-1] INFO  impl.RaftServerImpl (RaftServerImpl.java:setRole(171)) - 9512c027-07d3-4387-8ec6-d2a1b2e801d5:group-0F385D95E4A0 changes role from null to FOLLOWER at term 0 for startAsFollower
2019-08-23 05:27:38,844 [pool-42-thread-1] INFO  impl.RoleInfo (RoleInfo.java:updateAndGet(143)) - 9512c027-07d3-4387-8ec6-d2a1b2e801d5: start FollowerState
2019-08-23 05:27:38,845 [pool-42-thread-1] INFO  util.JmxRegister (JmxRegister.java:tryRegister(44)) - Successfully registered JMX Bean with object name Ratis:service=RaftServer,group=group-0F385D95E4A0,id=9512c027-07d3-4387-8ec6-d2a1b2e801d5
2019-08-23 05:27:38,854 [RatisPipelineUtilsThread] INFO  pipeline.PipelineStateManager (PipelineStateManager.java:addPipeline(56)) - Created pipeline Pipeline[ Id: 983d7be0-cb06-498a-b24b-0f385d95e4a0, Nodes: 9512c027-07d3-4387-8ec6-d2a1b2e801d5{ip: 192.168.5.178, host: trunk-nightly-zfkm8-417691344, networkLocation: /default-rack, certSerialId: null}, Type:RATIS, Factor:ONE, State:OPEN]
2019-08-23 05:27:38,855 | INFO  | SCMAudit | user=jenkins1000 | ip=192.168.5.178 | op=SEND_HEARTBEAT {datanodeUUID=9512c027-07d3-4387-8ec6-d2a1b2e801d5, command=[]} | ret=SUCCESS |  
2019-08-23 05:27:38,865 [grpc-default-executor-1] INFO  impl.RaftServerProxy (RaftServerProxy.java:remove(95)) - 9512c027-07d3-4387-8ec6-d2a1b2e801d5: remove group-08DC236449BA:null
2019-08-23 05:27:38,877 [RatisPipelineUtilsThread] WARN  pipeline.RatisPipelineUtils (RatisPipelineUtils.java:destroyPipeline(66)) - Pipeline destroy failed for pipeline=PipelineID=947e3c68-616f-4943-ac54-08dc236449ba dn=9512c027-07d3-4387-8ec6-d2a1b2e801d5{ip: 192.168.5.178, host: trunk-nightly-zfkm8-417691344, networkLocation: /default-rack, certSerialId: null}
2019-08-23 05:27:38,878 [RatisPipelineUtilsThread] ERROR pipeline.SCMPipelineManager (Scheduler.java:lambda$schedule$1(70)) - Destroy pipeline failed for pipeline:Pipeline[ Id: 947e3c68-616f-4943-ac54-08dc236449ba, Nodes: 9512c027-07d3-4387-8ec6-d2a1b2e801d5{ip: 192.168.5.178, host: trunk-nightly-zfkm8-417691344, networkLocation: /default-rack, certSerialId: null}, Type:RATIS, Factor:ONE, State:CLOSED]
org.apache.hadoop.hdds.scm.pipeline.PipelineNotFoundException: PipelineID=947e3c68-616f-4943-ac54-08dc236449ba not found
	at org.apache.hadoop.hdds.scm.pipeline.PipelineStateMap.getPipeline(PipelineStateMap.java:132)
	at org.apache.hadoop.hdds.scm.pipeline.PipelineStateMap.removePipeline(PipelineStateMap.java:322)
	at org.apache.hadoop.hdds.scm.pipeline.PipelineStateManager.removePipeline(PipelineStateManager.java:107)
	at org.apache.hadoop.hdds.scm.pipeline.SCMPipelineManager.removePipeline(SCMPipelineManager.java:397)
	at org.apache.hadoop.hdds.scm.pipeline.SCMPipelineManager.destroyPipeline(SCMPipelineManager.java:383)
	at org.apache.hadoop.hdds.scm.pipeline.SCMPipelineManager.lambda$finalizeAndDestroyPipeline$0(SCMPipelineManager.java:316)
	at org.apache.hadoop.utils.Scheduler.lambda$schedule$1(Scheduler.java:68)
	at java.util.concurrent.Executors$RunnableAdapter.call(Executors.java:511)
	at java.util.concurrent.FutureTask.run(FutureTask.java:266)
	at java.util.concurrent.ScheduledThreadPoolExecutor$ScheduledFutureTask.access$201(ScheduledThreadPoolExecutor.java:180)
	at java.util.concurrent.ScheduledThreadPoolExecutor$ScheduledFutureTask.run(ScheduledThreadPoolExecutor.java:293)
	at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1149)
	at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:624)
	at java.lang.Thread.run(Thread.java:748)
2019-08-23 05:27:39,052 | INFO  | SCMAudit | user=jenkins1000 | ip=192.168.5.178 | op=SEND_HEARTBEAT {datanodeUUID=9512c027-07d3-4387-8ec6-d2a1b2e801d5, command=[]} | ret=SUCCESS |  
2019-08-23 05:27:39,251 | INFO  | SCMAudit | user=jenkins1000 | ip=192.168.5.178 | op=SEND_HEARTBEAT {datanodeUUID=9512c027-07d3-4387-8ec6-d2a1b2e801d5, command=[]} | ret=SUCCESS |  
2019-08-23 05:27:39,451 | INFO  | SCMAudit | user=jenkins1000 | ip=192.168.5.178 | op=SEND_HEARTBEAT {datanodeUUID=9512c027-07d3-4387-8ec6-d2a1b2e801d5, command=[]} | ret=SUCCESS |  
2019-08-23 05:27:39,652 | INFO  | SCMAudit | user=jenkins1000 | ip=192.168.5.178 | op=SEND_HEARTBEAT {datanodeUUID=9512c027-07d3-4387-8ec6-d2a1b2e801d5, command=[]} | ret=SUCCESS |  
2019-08-23 05:27:39,852 | INFO  | SCMAudit | user=jenkins1000 | ip=192.168.5.178 | op=SEND_HEARTBEAT {datanodeUUID=9512c027-07d3-4387-8ec6-d2a1b2e801d5, command=[]} | ret=SUCCESS |  
2019-08-23 05:27:40,052 | INFO  | SCMAudit | user=jenkins1000 | ip=192.168.5.178 | op=SEND_HEARTBEAT {datanodeUUID=9512c027-07d3-4387-8ec6-d2a1b2e801d5, command=[]} | ret=SUCCESS |  
2019-08-23 05:27:40,252 | INFO  | SCMAudit | user=jenkins1000 | ip=192.168.5.178 | op=SEND_HEARTBEAT {datanodeUUID=9512c027-07d3-4387-8ec6-d2a1b2e801d5, command=[]} | ret=SUCCESS |  
2019-08-23 05:27:40,451 | INFO  | SCMAudit | user=jenkins1000 | ip=192.168.5.178 | op=SEND_HEARTBEAT {datanodeUUID=9512c027-07d3-4387-8ec6-d2a1b2e801d5, command=[]} | ret=SUCCESS |  
2019-08-23 05:27:40,651 | INFO  | SCMAudit | user=jenkins1000 | ip=192.168.5.178 | op=SEND_HEARTBEAT {datanodeUUID=9512c027-07d3-4387-8ec6-d2a1b2e801d5, command=[]} | ret=SUCCESS |  
2019-08-23 05:27:40,771 [main] WARN  io.KeyOutputStream (KeyOutputStream.java:handleException(276)) - Encountered exception java.io.IOException: Unexpected Storage Container Exception: java.util.concurrent.CompletionException: java.util.concurrent.CompletionException: org.apache.ratis.protocol.GroupMismatchException: 9512c027-07d3-4387-8ec6-d2a1b2e801d5: group-08DC236449BA not found. on the pipeline Pipeline[ Id: 947e3c68-616f-4943-ac54-08dc236449ba, Nodes: 9512c027-07d3-4387-8ec6-d2a1b2e801d5{ip: 192.168.5.178, host: trunk-nightly-zfkm8-417691344, networkLocation: /default-rack, certSerialId: null}, Type:RATIS, Factor:ONE, State:OPEN]. The last committed block length is 5, uncommitted data length is 5 retry count 0
2019-08-23 05:27:40,789 | INFO  | SCMAudit | user=jenkins1000 | ip=192.168.5.178 | op=ALLOCATE_BLOCK {owner=96f60ba8-c0cb-4e72-a3ab-88ae4c67f145, size=4194304, type=RATIS, factor=ONE} | ret=SUCCESS |  
2019-08-23 05:27:40,791 | INFO  | OMAudit | user=jenkins1000 | ip=127.0.0.1 | op=ALLOCATE_BLOCK {volume=testcontainerstatemachinefailures, bucket=testcontainerstatemachinefailures, key=ratis, dataSize=0, replicationType=null, replicationFactor=null, keyLocationInfo=null, clientID=102664637148758019} | ret=SUCCESS |  
2019-08-23 05:27:40,808 [grpc-default-executor-1] INFO  client.GrpcClientProtocolClient (GrpcClientProtocolClient.java:onNext(255)) - client-7B7916CCEB46->9512c027-07d3-4387-8ec6-d2a1b2e801d5: receive RaftClientReply:client-7B7916CCEB46->9512c027-07d3-4387-8ec6-d2a1b2e801d5@group-0F385D95E4A0, cid=19, FAILED org.apache.ratis.protocol.NotLeaderException: Server 9512c027-07d3-4387-8ec6-d2a1b2e801d5 is not the leader (null). Request must be sent to leader., logIndex=0, commits[9512c027-07d3-4387-8ec6-d2a1b2e801d5:c-1]
2019-08-23 05:27:40,852 | INFO  | SCMAudit | user=jenkins1000 | ip=192.168.5.178 | op=SEND_HEARTBEAT {datanodeUUID=9512c027-07d3-4387-8ec6-d2a1b2e801d5, command=[]} | ret=SUCCESS |  
2019-08-23 05:27:41,052 | INFO  | SCMAudit | user=jenkins1000 | ip=192.168.5.178 | op=SEND_HEARTBEAT {datanodeUUID=9512c027-07d3-4387-8ec6-d2a1b2e801d5, command=[]} | ret=SUCCESS |  
2019-08-23 05:27:41,252 | INFO  | SCMAudit | user=jenkins1000 | ip=192.168.5.178 | op=SEND_HEARTBEAT {datanodeUUID=9512c027-07d3-4387-8ec6-d2a1b2e801d5, command=[]} | ret=SUCCESS |  
2019-08-23 05:27:41,453 | INFO  | SCMAudit | user=jenkins1000 | ip=192.168.5.178 | op=SEND_HEARTBEAT {datanodeUUID=9512c027-07d3-4387-8ec6-d2a1b2e801d5, command=[]} | ret=SUCCESS |  
2019-08-23 05:27:41,653 | INFO  | SCMAudit | user=jenkins1000 | ip=192.168.5.178 | op=SEND_HEARTBEAT {datanodeUUID=9512c027-07d3-4387-8ec6-d2a1b2e801d5, command=[]} | ret=SUCCESS |  
2019-08-23 05:27:41,852 | INFO  | SCMAudit | user=jenkins1000 | ip=192.168.5.178 | op=SEND_HEARTBEAT {datanodeUUID=9512c027-07d3-4387-8ec6-d2a1b2e801d5, command=[]} | ret=SUCCESS |  
2019-08-23 05:27:42,052 | INFO  | SCMAudit | user=jenkins1000 | ip=192.168.5.178 | op=SEND_HEARTBEAT {datanodeUUID=9512c027-07d3-4387-8ec6-d2a1b2e801d5, command=[]} | ret=SUCCESS |  
2019-08-23 05:27:42,253 | INFO  | SCMAudit | user=jenkins1000 | ip=192.168.5.178 | op=SEND_HEARTBEAT {datanodeUUID=9512c027-07d3-4387-8ec6-d2a1b2e801d5, command=[]} | ret=SUCCESS |  
2019-08-23 05:27:42,453 | INFO  | SCMAudit | user=jenkins1000 | ip=192.168.5.178 | op=SEND_HEARTBEAT {datanodeUUID=9512c027-07d3-4387-8ec6-d2a1b2e801d5, command=[]} | ret=SUCCESS |  
2019-08-23 05:27:42,653 | INFO  | SCMAudit | user=jenkins1000 | ip=192.168.5.178 | op=SEND_HEARTBEAT {datanodeUUID=9512c027-07d3-4387-8ec6-d2a1b2e801d5, command=[]} | ret=SUCCESS |  
2019-08-23 05:27:42,831 [grpc-default-executor-0] INFO  client.GrpcClientProtocolClient (GrpcClientProtocolClient.java:onNext(255)) - client-7B7916CCEB46->9512c027-07d3-4387-8ec6-d2a1b2e801d5: receive RaftClientReply:client-7B7916CCEB46->9512c027-07d3-4387-8ec6-d2a1b2e801d5@group-0F385D95E4A0, cid=19, FAILED org.apache.ratis.protocol.NotLeaderException: Server 9512c027-07d3-4387-8ec6-d2a1b2e801d5 is not the leader (null). Request must be sent to leader., logIndex=0, commits[9512c027-07d3-4387-8ec6-d2a1b2e801d5:c-1]
2019-08-23 05:27:42,853 | INFO  | SCMAudit | user=jenkins1000 | ip=192.168.5.178 | op=SEND_HEARTBEAT {datanodeUUID=9512c027-07d3-4387-8ec6-d2a1b2e801d5, command=[]} | ret=SUCCESS |  
2019-08-23 05:27:43,053 | INFO  | SCMAudit | user=jenkins1000 | ip=192.168.5.178 | op=SEND_HEARTBEAT {datanodeUUID=9512c027-07d3-4387-8ec6-d2a1b2e801d5, command=[]} | ret=SUCCESS |  
2019-08-23 05:27:43,252 | INFO  | SCMAudit | user=jenkins1000 | ip=192.168.5.178 | op=SEND_HEARTBEAT {datanodeUUID=9512c027-07d3-4387-8ec6-d2a1b2e801d5, command=[]} | ret=SUCCESS |  
2019-08-23 05:27:43,453 | INFO  | SCMAudit | user=jenkins1000 | ip=192.168.5.178 | op=SEND_HEARTBEAT {datanodeUUID=9512c027-07d3-4387-8ec6-d2a1b2e801d5, command=[]} | ret=SUCCESS |  
2019-08-23 05:27:43,653 | INFO  | SCMAudit | user=jenkins1000 | ip=192.168.5.178 | op=SEND_HEARTBEAT {datanodeUUID=9512c027-07d3-4387-8ec6-d2a1b2e801d5, command=[]} | ret=SUCCESS |  
2019-08-23 05:27:43,853 | INFO  | SCMAudit | user=jenkins1000 | ip=192.168.5.178 | op=SEND_HEARTBEAT {datanodeUUID=9512c027-07d3-4387-8ec6-d2a1b2e801d5, command=[]} | ret=SUCCESS |  
2019-08-23 05:27:44,003 [Thread-264] INFO  impl.FollowerState (FollowerState.java:run(106)) - 9512c027-07d3-4387-8ec6-d2a1b2e801d5:group-0F385D95E4A0 changes to CANDIDATE, lastRpcTime:5158, electionTimeout:5158ms
2019-08-23 05:27:44,004 [Thread-264] INFO  impl.RoleInfo (RoleInfo.java:shutdownFollowerState(121)) - 9512c027-07d3-4387-8ec6-d2a1b2e801d5: shutdown FollowerState
2019-08-23 05:27:44,004 [Thread-264] INFO  impl.RaftServerImpl (RaftServerImpl.java:setRole(171)) - 9512c027-07d3-4387-8ec6-d2a1b2e801d5:group-0F385D95E4A0 changes role from FOLLOWER to CANDIDATE at term 0 for changeToCandidate
2019-08-23 05:27:44,004 [Thread-264] INFO  impl.RoleInfo (RoleInfo.java:updateAndGet(143)) - 9512c027-07d3-4387-8ec6-d2a1b2e801d5: start LeaderElection
2019-08-23 05:27:44,021 [9512c027-07d3-4387-8ec6-d2a1b2e801d5:group-0F385D95E4A0:LeaderElection5] INFO  impl.LeaderElection (LeaderElection.java:askForVotes(181)) - 9512c027-07d3-4387-8ec6-d2a1b2e801d5:group-0F385D95E4A0:LeaderElection5: begin an election at term 1 for -1: [9512c027-07d3-4387-8ec6-d2a1b2e801d5:192.168.5.178:42859], old=null
2019-08-23 05:27:44,022 [9512c027-07d3-4387-8ec6-d2a1b2e801d5:group-0F385D95E4A0:LeaderElection5] INFO  impl.RoleInfo (RoleInfo.java:shutdownLeaderElection(134)) - 9512c027-07d3-4387-8ec6-d2a1b2e801d5: shutdown LeaderElection
2019-08-23 05:27:44,022 [9512c027-07d3-4387-8ec6-d2a1b2e801d5:group-0F385D95E4A0:LeaderElection5] INFO  impl.RaftServerImpl (RaftServerImpl.java:setRole(171)) - 9512c027-07d3-4387-8ec6-d2a1b2e801d5:group-0F385D95E4A0 changes role from CANDIDATE to LEADER at term 1 for changeToLeader
2019-08-23 05:27:44,022 [9512c027-07d3-4387-8ec6-d2a1b2e801d5:group-0F385D95E4A0:LeaderElection5] INFO  impl.RaftServerImpl (ServerState.java:setLeader(263)) - 9512c027-07d3-4387-8ec6-d2a1b2e801d5:group-0F385D95E4A0 change Leader from null to 9512c027-07d3-4387-8ec6-d2a1b2e801d5 at term 1 for becomeLeader, leader elected after 5184ms
2019-08-23 05:27:44,022 [9512c027-07d3-4387-8ec6-d2a1b2e801d5:group-0F385D95E4A0:LeaderElection5] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.staging.catchup.gap = 1000 (default)
2019-08-23 05:27:44,023 [9512c027-07d3-4387-8ec6-d2a1b2e801d5:group-0F385D95E4A0:LeaderElection5] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.rpc.sleep.time = 25ms (default)
2019-08-23 05:27:44,023 [9512c027-07d3-4387-8ec6-d2a1b2e801d5:group-0F385D95E4A0:LeaderElection5] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.write.element-limit = 4096 (default)
2019-08-23 05:27:44,023 [9512c027-07d3-4387-8ec6-d2a1b2e801d5:group-0F385D95E4A0:LeaderElection5] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.watch.timeout = 10s (default)
2019-08-23 05:27:44,023 [9512c027-07d3-4387-8ec6-d2a1b2e801d5:group-0F385D95E4A0:LeaderElection5] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.watch.timeout.denomination = 1s (default)
2019-08-23 05:27:44,023 [9512c027-07d3-4387-8ec6-d2a1b2e801d5:group-0F385D95E4A0:LeaderElection5] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.watch.element-limit = 65536 (default)
2019-08-23 05:27:44,024 [9512c027-07d3-4387-8ec6-d2a1b2e801d5:group-0F385D95E4A0:LeaderElection5] INFO  impl.RoleInfo (RoleInfo.java:updateAndGet(143)) - 9512c027-07d3-4387-8ec6-d2a1b2e801d5: start LeaderState
2019-08-23 05:27:44,024 [9512c027-07d3-4387-8ec6-d2a1b2e801d5:group-0F385D95E4A0:LeaderElection5] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:startLogSegment(380)) - 9512c027-07d3-4387-8ec6-d2a1b2e801d5-SegmentedRaftLogWorker:Storage Directory /workdir/hadoop-ozone/integration-test/target/test-dir/MiniOzoneClusterImpl-4df9fbe8-bd9f-48ff-b9d2-b0c93ccc846c/datanode-0/data/ratis/983d7be0-cb06-498a-b24b-0f385d95e4a0: Starting segment from index:0
2019-08-23 05:27:44,025 [9512c027-07d3-4387-8ec6-d2a1b2e801d5:group-0F385D95E4A0:LeaderElection5] INFO  impl.RaftServerImpl (ServerState.java:setRaftConf(361)) - 9512c027-07d3-4387-8ec6-d2a1b2e801d5:group-0F385D95E4A0 set configuration 0: [9512c027-07d3-4387-8ec6-d2a1b2e801d5:192.168.5.178:42859], old=null at 0
2019-08-23 05:27:44,056 | INFO  | SCMAudit | user=jenkins1000 | ip=192.168.5.178 | op=SEND_HEARTBEAT {datanodeUUID=9512c027-07d3-4387-8ec6-d2a1b2e801d5, command=[]} | ret=SUCCESS |  
2019-08-23 05:27:44,058 [9512c027-07d3-4387-8ec6-d2a1b2e801d5-SegmentedRaftLogWorker:Storage Directory /workdir/hadoop-ozone/integration-test/target/test-dir/MiniOzoneClusterImpl-4df9fbe8-bd9f-48ff-b9d2-b0c93ccc846c/datanode-0/data/ratis/983d7be0-cb06-498a-b24b-0f385d95e4a0] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:execute(569)) - 9512c027-07d3-4387-8ec6-d2a1b2e801d5-SegmentedRaftLogWorker:Storage Directory /workdir/hadoop-ozone/integration-test/target/test-dir/MiniOzoneClusterImpl-4df9fbe8-bd9f-48ff-b9d2-b0c93ccc846c/datanode-0/data/ratis/983d7be0-cb06-498a-b24b-0f385d95e4a0: created new log segment /workdir/hadoop-ozone/integration-test/target/test-dir/MiniOzoneClusterImpl-4df9fbe8-bd9f-48ff-b9d2-b0c93ccc846c/datanode-0/data/ratis/983d7be0-cb06-498a-b24b-0f385d95e4a0/current/log_inprogress_0
2019-08-23 05:27:44,256 | INFO  | SCMAudit | user=jenkins1000 | ip=192.168.5.178 | op=SEND_HEARTBEAT {datanodeUUID=9512c027-07d3-4387-8ec6-d2a1b2e801d5, command=[]} | ret=SUCCESS |  
2019-08-23 05:27:44,456 | INFO  | SCMAudit | user=jenkins1000 | ip=192.168.5.178 | op=SEND_HEARTBEAT {datanodeUUID=9512c027-07d3-4387-8ec6-d2a1b2e801d5, command=[]} | ret=SUCCESS |  
2019-08-23 05:27:44,657 | INFO  | SCMAudit | user=jenkins1000 | ip=192.168.5.178 | op=SEND_HEARTBEAT {datanodeUUID=9512c027-07d3-4387-8ec6-d2a1b2e801d5, command=[]} | ret=SUCCESS |  
2019-08-23 05:27:44,857 | INFO  | SCMAudit | user=jenkins1000 | ip=192.168.5.178 | op=SEND_HEARTBEAT {datanodeUUID=9512c027-07d3-4387-8ec6-d2a1b2e801d5, command=[]} | ret=SUCCESS |  
2019-08-23 05:27:44,898 | INFO  | DNAudit | user=null | ip=null | op=WRITE_CHUNK {blockData=conID: 4 locID: 102664638351802373 bcsId: 0} | ret=SUCCESS |  
2019-08-23 05:27:44,899 | INFO  | SCMAudit | user=jenkins1000 | ip=192.168.5.178 | op=SEND_HEARTBEAT {datanodeUUID=9512c027-07d3-4387-8ec6-d2a1b2e801d5, command=[]} | ret=SUCCESS |  
2019-08-23 05:27:44,902 | INFO  | DNAudit | user=null | ip=null | op=WRITE_CHUNK {blockData=conID: 4 locID: 102664638351802373 bcsId: 0} | ret=SUCCESS |  
2019-08-23 05:27:44,905 [StateMachineUpdater:9512c027-07d3-4387-8ec6-d2a1b2e801d5:group-0F385D95E4A0] INFO  ratis.ContainerStateMachine (ContainerStateMachine.java:takeSnapshot(283)) - group-0F385D95E4A0: Taking a snapshot at:(t:1, i:1) file /workdir/hadoop-ozone/integration-test/target/test-dir/MiniOzoneClusterImpl-4df9fbe8-bd9f-48ff-b9d2-b0c93ccc846c/datanode-0/data/ratis/983d7be0-cb06-498a-b24b-0f385d95e4a0/sm/snapshot.1_1
2019-08-23 05:27:44,912 [StateMachineUpdater:9512c027-07d3-4387-8ec6-d2a1b2e801d5:group-0F385D95E4A0] INFO  ratis.ContainerStateMachine (ContainerStateMachine.java:takeSnapshot(294)) - group-0F385D95E4A0: Finished taking a snapshot at:(t:1, i:1) file:/workdir/hadoop-ozone/integration-test/target/test-dir/MiniOzoneClusterImpl-4df9fbe8-bd9f-48ff-b9d2-b0c93ccc846c/datanode-0/data/ratis/983d7be0-cb06-498a-b24b-0f385d95e4a0/sm/snapshot.1_1 time:7
2019-08-23 05:27:44,913 [StateMachineUpdater:9512c027-07d3-4387-8ec6-d2a1b2e801d5:group-0F385D95E4A0] INFO  impl.StateMachineUpdater (StateMachineUpdater.java:takeSnapshot(242)) - StateMachineUpdater:9512c027-07d3-4387-8ec6-d2a1b2e801d5:group-0F385D95E4A0: Took a snapshot at index 1
2019-08-23 05:27:44,913 [StateMachineUpdater:9512c027-07d3-4387-8ec6-d2a1b2e801d5:group-0F385D95E4A0] INFO  impl.StateMachineUpdater (StateMachineUpdater.java:lambda$new$0(80)) - StateMachineUpdater:9512c027-07d3-4387-8ec6-d2a1b2e801d5:group-0F385D95E4A0: snapshotIndex: updateIncreasingly -1 -> 1
2019-08-23 05:27:44,913 [StateMachineUpdater:9512c027-07d3-4387-8ec6-d2a1b2e801d5:group-0F385D95E4A0] INFO  ratis.ContainerStateMachine (ContainerStateMachine.java:takeSnapshot(283)) - group-0F385D95E4A0: Taking a snapshot at:(t:1, i:1) file /workdir/hadoop-ozone/integration-test/target/test-dir/MiniOzoneClusterImpl-4df9fbe8-bd9f-48ff-b9d2-b0c93ccc846c/datanode-0/data/ratis/983d7be0-cb06-498a-b24b-0f385d95e4a0/sm/snapshot.1_1
2019-08-23 05:27:44,916 [grpc-default-executor-0] INFO  client.GrpcClientProtocolClient (GrpcClientProtocolClient.java:onNext(255)) - client-7B7916CCEB46->9512c027-07d3-4387-8ec6-d2a1b2e801d5: receive RaftClientReply:client-7B7916CCEB46->9512c027-07d3-4387-8ec6-d2a1b2e801d5@group-0F385D95E4A0, cid=19, SUCCESS, logIndex=1, commits[9512c027-07d3-4387-8ec6-d2a1b2e801d5:c2]
2019-08-23 05:27:44,918 [StateMachineUpdater:9512c027-07d3-4387-8ec6-d2a1b2e801d5:group-0F385D95E4A0] INFO  ratis.ContainerStateMachine (ContainerStateMachine.java:takeSnapshot(294)) - group-0F385D95E4A0: Finished taking a snapshot at:(t:1, i:1) file:/workdir/hadoop-ozone/integration-test/target/test-dir/MiniOzoneClusterImpl-4df9fbe8-bd9f-48ff-b9d2-b0c93ccc846c/datanode-0/data/ratis/983d7be0-cb06-498a-b24b-0f385d95e4a0/sm/snapshot.1_1 time:4
2019-08-23 05:27:44,918 [StateMachineUpdater:9512c027-07d3-4387-8ec6-d2a1b2e801d5:group-0F385D95E4A0] INFO  impl.StateMachineUpdater (StateMachineUpdater.java:takeSnapshot(242)) - StateMachineUpdater:9512c027-07d3-4387-8ec6-d2a1b2e801d5:group-0F385D95E4A0: Took a snapshot at index 1
2019-08-23 05:27:44,918 [StateMachineUpdater:9512c027-07d3-4387-8ec6-d2a1b2e801d5:group-0F385D95E4A0] INFO  impl.StateMachineUpdater (StateMachineUpdater.java:lambda$new$0(80)) - StateMachineUpdater:9512c027-07d3-4387-8ec6-d2a1b2e801d5:group-0F385D95E4A0: snapshotIndex: updateIncreasingly 1 -> 1
2019-08-23 05:27:44,955 | INFO  | DNAudit | user=null | ip=null | op=PUT_BLOCK {blockData=[blockId=conID: 4 locID: 102664638351802373 bcsId: 0,size=5]} | ret=SUCCESS |  
2019-08-23 05:27:44,960 [StateMachineUpdater:9512c027-07d3-4387-8ec6-d2a1b2e801d5:group-0F385D95E4A0] INFO  ratis.ContainerStateMachine (ContainerStateMachine.java:takeSnapshot(283)) - group-0F385D95E4A0: Taking a snapshot at:(t:1, i:3) file /workdir/hadoop-ozone/integration-test/target/test-dir/MiniOzoneClusterImpl-4df9fbe8-bd9f-48ff-b9d2-b0c93ccc846c/datanode-0/data/ratis/983d7be0-cb06-498a-b24b-0f385d95e4a0/sm/snapshot.1_3
2019-08-23 05:27:44,964 [StateMachineUpdater:9512c027-07d3-4387-8ec6-d2a1b2e801d5:group-0F385D95E4A0] INFO  ratis.ContainerStateMachine (ContainerStateMachine.java:takeSnapshot(294)) - group-0F385D95E4A0: Finished taking a snapshot at:(t:1, i:3) file:/workdir/hadoop-ozone/integration-test/target/test-dir/MiniOzoneClusterImpl-4df9fbe8-bd9f-48ff-b9d2-b0c93ccc846c/datanode-0/data/ratis/983d7be0-cb06-498a-b24b-0f385d95e4a0/sm/snapshot.1_3 time:4
2019-08-23 05:27:44,964 [grpc-default-executor-0] INFO  client.GrpcClientProtocolClient (GrpcClientProtocolClient.java:onNext(255)) - client-7B7916CCEB46->9512c027-07d3-4387-8ec6-d2a1b2e801d5: receive RaftClientReply:client-7B7916CCEB46->9512c027-07d3-4387-8ec6-d2a1b2e801d5@group-0F385D95E4A0, cid=20, SUCCESS, logIndex=3, commits[9512c027-07d3-4387-8ec6-d2a1b2e801d5:c4]
2019-08-23 05:27:44,964 [StateMachineUpdater:9512c027-07d3-4387-8ec6-d2a1b2e801d5:group-0F385D95E4A0] INFO  impl.StateMachineUpdater (StateMachineUpdater.java:takeSnapshot(242)) - StateMachineUpdater:9512c027-07d3-4387-8ec6-d2a1b2e801d5:group-0F385D95E4A0: Took a snapshot at index 3
2019-08-23 05:27:44,965 [StateMachineUpdater:9512c027-07d3-4387-8ec6-d2a1b2e801d5:group-0F385D95E4A0] INFO  impl.StateMachineUpdater (StateMachineUpdater.java:lambda$new$0(80)) - StateMachineUpdater:9512c027-07d3-4387-8ec6-d2a1b2e801d5:group-0F385D95E4A0: snapshotIndex: updateIncreasingly 1 -> 3
2019-08-23 05:27:44,965 [StateMachineUpdater:9512c027-07d3-4387-8ec6-d2a1b2e801d5:group-0F385D95E4A0] INFO  ratis.ContainerStateMachine (ContainerStateMachine.java:takeSnapshot(283)) - group-0F385D95E4A0: Taking a snapshot at:(t:1, i:3) file /workdir/hadoop-ozone/integration-test/target/test-dir/MiniOzoneClusterImpl-4df9fbe8-bd9f-48ff-b9d2-b0c93ccc846c/datanode-0/data/ratis/983d7be0-cb06-498a-b24b-0f385d95e4a0/sm/snapshot.1_3
2019-08-23 05:27:44,968 [StateMachineUpdater:9512c027-07d3-4387-8ec6-d2a1b2e801d5:group-0F385D95E4A0] INFO  ratis.ContainerStateMachine (ContainerStateMachine.java:takeSnapshot(294)) - group-0F385D95E4A0: Finished taking a snapshot at:(t:1, i:3) file:/workdir/hadoop-ozone/integration-test/target/test-dir/MiniOzoneClusterImpl-4df9fbe8-bd9f-48ff-b9d2-b0c93ccc846c/datanode-0/data/ratis/983d7be0-cb06-498a-b24b-0f385d95e4a0/sm/snapshot.1_3 time:3
2019-08-23 05:27:44,969 [StateMachineUpdater:9512c027-07d3-4387-8ec6-d2a1b2e801d5:group-0F385D95E4A0] INFO  impl.StateMachineUpdater (StateMachineUpdater.java:takeSnapshot(242)) - StateMachineUpdater:9512c027-07d3-4387-8ec6-d2a1b2e801d5:group-0F385D95E4A0: Took a snapshot at index 3
2019-08-23 05:27:44,969 [StateMachineUpdater:9512c027-07d3-4387-8ec6-d2a1b2e801d5:group-0F385D95E4A0] INFO  impl.StateMachineUpdater (StateMachineUpdater.java:lambda$new$0(80)) - StateMachineUpdater:9512c027-07d3-4387-8ec6-d2a1b2e801d5:group-0F385D95E4A0: snapshotIndex: updateIncreasingly 3 -> 3
2019-08-23 05:27:44,970 | INFO  | OMAudit | user=jenkins1000 | ip=127.0.0.1 | op=COMMIT_KEY {volume=testcontainerstatemachinefailures, bucket=testcontainerstatemachinefailures, key=ratis, dataSize=10, replicationType=null, replicationFactor=null, keyLocationInfo=[{blockID={containerID=3, localID=102664637149609988}, length=5, offset=0, token=null, pipeline=Pipeline[ Id: 947e3c68-616f-4943-ac54-08dc236449ba, Nodes: 9512c027-07d3-4387-8ec6-d2a1b2e801d5{ip: 192.168.5.178, host: trunk-nightly-zfkm8-417691344, networkLocation: /default-rack, certSerialId: null}, Type:RATIS, Factor:ONE, State:OPEN], createVersion=0}, {blockID={containerID=4, localID=102664638351802373}, length=5, offset=0, token=null, pipeline=Pipeline[ Id: 983d7be0-cb06-498a-b24b-0f385d95e4a0, Nodes: 9512c027-07d3-4387-8ec6-d2a1b2e801d5{ip: 192.168.5.178, host: trunk-nightly-zfkm8-417691344, networkLocation: /default-rack, certSerialId: null}, Type:RATIS, Factor:ONE, State:OPEN], createVersion=0}], clientID=102664637148758019} | ret=SUCCESS |  
2019-08-23 05:27:44,979 [main] INFO  datanode.ObjectStoreHandler (ObjectStoreHandler.java:close(155)) - Closing ObjectStoreHandler.
2019-08-23 05:27:44,979 [main] INFO  ozone.HddsDatanodeService (HddsDatanodeService.java:stop(451)) - Stopped plug-in org.apache.hadoop.ozone.web.OzoneHddsDatanodeService@106c988
2019-08-23 05:27:45,098 [Datanode State Machine Thread - 0] INFO  statemachine.DatanodeStateMachine (DatanodeStateMachine.java:lambda$startDaemon$0(350)) - Ozone container server started.
2019-08-23 05:27:47,925 [EventQueue-StaleNodeForStaleNodeHandler] INFO  node.StaleNodeHandler (StaleNodeHandler.java:onMessage(58)) - Datanode 9512c027-07d3-4387-8ec6-d2a1b2e801d5{ip: 192.168.5.178, host: trunk-nightly-zfkm8-417691344, networkLocation: /default-rack, certSerialId: null} moved to stale state. Finalizing its pipelines [PipelineID=983d7be0-cb06-498a-b24b-0f385d95e4a0]
2019-08-23 05:27:47,926 [EventQueue-StaleNodeForStaleNodeHandler] INFO  pipeline.SCMPipelineManager (SCMPipelineManager.java:finalizeAndDestroyPipeline(309)) - destroying pipeline:Pipeline[ Id: 983d7be0-cb06-498a-b24b-0f385d95e4a0, Nodes: 9512c027-07d3-4387-8ec6-d2a1b2e801d5{ip: 192.168.5.178, host: trunk-nightly-zfkm8-417691344, networkLocation: /default-rack, certSerialId: null}, Type:RATIS, Factor:ONE, State:OPEN]
2019-08-23 05:27:47,926 [EventQueue-StaleNodeForStaleNodeHandler] INFO  pipeline.PipelineStateManager (PipelineStateManager.java:finalizePipeline(123)) - Pipeline Pipeline[ Id: 983d7be0-cb06-498a-b24b-0f385d95e4a0, Nodes: 9512c027-07d3-4387-8ec6-d2a1b2e801d5{ip: 192.168.5.178, host: trunk-nightly-zfkm8-417691344, networkLocation: /default-rack, certSerialId: null}, Type:RATIS, Factor:ONE, State:CLOSED] moved to CLOSED state
2019-08-23 05:27:47,926 [EventQueue-CloseContainerForCloseContainerEventHandler] INFO  container.CloseContainerEventHandler (CloseContainerEventHandler.java:onMessage(61)) - Close container Event triggered for container : #4
2019-08-23 05:27:49,982 [main] INFO  ozoneimpl.OzoneContainer (OzoneContainer.java:stop(199)) - Attempting to stop container services.
2019-08-23 05:27:49,983 [main] INFO  impl.RaftServerProxy (RaftServerProxy.java:lambda$close$4(314)) - 9512c027-07d3-4387-8ec6-d2a1b2e801d5: close
2019-08-23 05:27:49,983 [main] INFO  impl.RaftServerImpl (RaftServerImpl.java:lambda$shutdown$3(245)) - 9512c027-07d3-4387-8ec6-d2a1b2e801d5: shutdown group-0F385D95E4A0
2019-08-23 05:27:49,984 [main] INFO  util.JmxRegister (JmxRegister.java:unregister(73)) - Successfully un-registered JMX Bean with object name Ratis:service=RaftServer,group=group-0F385D95E4A0,id=9512c027-07d3-4387-8ec6-d2a1b2e801d5
2019-08-23 05:27:49,984 [main] INFO  impl.RoleInfo (RoleInfo.java:shutdownLeaderState(104)) - 9512c027-07d3-4387-8ec6-d2a1b2e801d5: shutdown LeaderState
2019-08-23 05:27:49,985 [main] INFO  impl.PendingRequests (PendingRequests.java:sendNotLeaderResponses(202)) - 9512c027-07d3-4387-8ec6-d2a1b2e801d5-PendingRequests: sendNotLeaderResponses
2019-08-23 05:27:49,993 [main] INFO  impl.StateMachineUpdater (StateMachineUpdater.java:stopAndJoin(115)) - StateMachineUpdater:9512c027-07d3-4387-8ec6-d2a1b2e801d5:group-0F385D95E4A0: set stopIndex = 4
2019-08-23 05:27:49,993 [StateMachineUpdater:9512c027-07d3-4387-8ec6-d2a1b2e801d5:group-0F385D95E4A0] INFO  ratis.ContainerStateMachine (ContainerStateMachine.java:takeSnapshot(283)) - group-0F385D95E4A0: Taking a snapshot at:(t:1, i:3) file /workdir/hadoop-ozone/integration-test/target/test-dir/MiniOzoneClusterImpl-4df9fbe8-bd9f-48ff-b9d2-b0c93ccc846c/datanode-0/data/ratis/983d7be0-cb06-498a-b24b-0f385d95e4a0/sm/snapshot.1_3
2019-08-23 05:27:50,020 [StateMachineUpdater:9512c027-07d3-4387-8ec6-d2a1b2e801d5:group-0F385D95E4A0] INFO  ratis.ContainerStateMachine (ContainerStateMachine.java:takeSnapshot(294)) - group-0F385D95E4A0: Finished taking a snapshot at:(t:1, i:3) file:/workdir/hadoop-ozone/integration-test/target/test-dir/MiniOzoneClusterImpl-4df9fbe8-bd9f-48ff-b9d2-b0c93ccc846c/datanode-0/data/ratis/983d7be0-cb06-498a-b24b-0f385d95e4a0/sm/snapshot.1_3 time:27
2019-08-23 05:27:50,020 [StateMachineUpdater:9512c027-07d3-4387-8ec6-d2a1b2e801d5:group-0F385D95E4A0] INFO  impl.StateMachineUpdater (StateMachineUpdater.java:takeSnapshot(242)) - StateMachineUpdater:9512c027-07d3-4387-8ec6-d2a1b2e801d5:group-0F385D95E4A0: Took a snapshot at index 3
2019-08-23 05:27:50,020 [StateMachineUpdater:9512c027-07d3-4387-8ec6-d2a1b2e801d5:group-0F385D95E4A0] INFO  impl.StateMachineUpdater (StateMachineUpdater.java:lambda$new$0(80)) - StateMachineUpdater:9512c027-07d3-4387-8ec6-d2a1b2e801d5:group-0F385D95E4A0: snapshotIndex: updateIncreasingly 3 -> 3
2019-08-23 05:27:50,021 [main] INFO  impl.RaftServerImpl (ServerState.java:close(394)) - 9512c027-07d3-4387-8ec6-d2a1b2e801d5:group-0F385D95E4A0 closes. The last applied log index is 4
2019-08-23 05:27:50,030 [9512c027-07d3-4387-8ec6-d2a1b2e801d5-SegmentedRaftLogWorker:Storage Directory /workdir/hadoop-ozone/integration-test/target/test-dir/MiniOzoneClusterImpl-4df9fbe8-bd9f-48ff-b9d2-b0c93ccc846c/datanode-0/data/ratis/983d7be0-cb06-498a-b24b-0f385d95e4a0] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:run(313)) - 9512c027-07d3-4387-8ec6-d2a1b2e801d5-SegmentedRaftLogWorker:Storage Directory /workdir/hadoop-ozone/integration-test/target/test-dir/MiniOzoneClusterImpl-4df9fbe8-bd9f-48ff-b9d2-b0c93ccc846c/datanode-0/data/ratis/983d7be0-cb06-498a-b24b-0f385d95e4a0 was interrupted, exiting. There are 0 tasks remaining in the queue.
2019-08-23 05:27:50,032 [main] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:close(228)) - 9512c027-07d3-4387-8ec6-d2a1b2e801d5-SegmentedRaftLogWorker:Storage Directory /workdir/hadoop-ozone/integration-test/target/test-dir/MiniOzoneClusterImpl-4df9fbe8-bd9f-48ff-b9d2-b0c93ccc846c/datanode-0/data/ratis/983d7be0-cb06-498a-b24b-0f385d95e4a0 close()
2019-08-23 05:27:50,034 [main] INFO  server.GrpcService (GrpcService.java:closeImpl(155)) - 9512c027-07d3-4387-8ec6-d2a1b2e801d5: shutdown server with port 42859 now
2019-08-23 05:27:50,036 [main] INFO  server.GrpcService (GrpcService.java:closeImpl(163)) - 9512c027-07d3-4387-8ec6-d2a1b2e801d5: shutdown server with port 42859 successfully
2019-08-23 05:27:50,039 [main] INFO  utils.BackgroundService (BackgroundService.java:shutdown(148)) - Shutting down service BlockDeletingService
2019-08-23 05:27:50,042 [refreshUsed-/workdir/hadoop-ozone/integration-test/target/test-dir/MiniOzoneClusterImpl-4df9fbe8-bd9f-48ff-b9d2-b0c93ccc846c/datanode-0/data/containers] WARN  fs.CachingGetSpaceUsed (CachingGetSpaceUsed.java:run(183)) - Thread Interrupted waiting to refresh disk information: sleep interrupted
2019-08-23 05:27:50,070 [main] INFO  statemachine.DatanodeStateMachine (DatanodeStateMachine.java:stopDaemon(395)) - Ozone container server stopped.
2019-08-23 05:27:50,072 [main] INFO  handler.ContextHandler (ContextHandler.java:doStop(910)) - Stopped o.e.j.w.WebAppContext@1bd8afc8{/,null,UNAVAILABLE}{/hddsDatanode}
2019-08-23 05:27:50,073 [main] INFO  server.AbstractConnector (AbstractConnector.java:doStop(318)) - Stopped ServerConnector@24134cbc{HTTP/1.1,[http/1.1]}{0.0.0.0:45799}
2019-08-23 05:27:50,073 [main] INFO  handler.ContextHandler (ContextHandler.java:doStop(910)) - Stopped o.e.j.s.ServletContextHandler@2322e56f{/static,jar:file:/home/user/.m2/repository/org/apache/hadoop/hadoop-hdds-container-service/0.5.0-SNAPSHOT/hadoop-hdds-container-service-0.5.0-SNAPSHOT.jar!/webapps/static,UNAVAILABLE}
2019-08-23 05:27:50,074 [main] INFO  handler.ContextHandler (ContextHandler.java:doStop(910)) - Stopped o.e.j.s.ServletContextHandler@1e226bcd{/logs,file:///workdir/hadoop-ozone/integration-test/target/log,UNAVAILABLE}
2019-08-23 05:27:50,075 [main] INFO  ozone.MiniOzoneClusterImpl (MiniOzoneClusterImpl.java:lambda$waitForClusterToBeReady$0(142)) - Cluster is ready. Got 0 of 0 DN Heartbeats.
2019-08-23 05:27:50,079 [main] INFO  impl.MetricsSystemImpl (MetricsSystemImpl.java:init(158)) - HddsDatanode metrics system started (again)
2019-08-23 05:27:50,084 [main] INFO  ozone.HddsDatanodeService (HddsDatanodeService.java:start(184)) - HddsDatanodeService host:trunk-nightly-zfkm8-417691344 ip:192.168.5.178
2019-08-23 05:27:50,087 [main] INFO  volume.VolumeUsage (VolumeUsage.java:loadScmUsed(144)) - Cached ScmUsed found for /workdir/hadoop-ozone/integration-test/target/test-dir/MiniOzoneClusterImpl-4df9fbe8-bd9f-48ff-b9d2-b0c93ccc846c/datanode-0/data/containers : 4096 
2019-08-23 05:27:50,088 [main] INFO  volume.HddsVolume (HddsVolume.java:<init>(176)) - Creating Volume: /workdir/hadoop-ozone/integration-test/target/test-dir/MiniOzoneClusterImpl-4df9fbe8-bd9f-48ff-b9d2-b0c93ccc846c/datanode-0/data/containers/hdds of  storage type : DISK and capacity : 1482555576320
2019-08-23 05:27:50,088 [main] INFO  volume.VolumeSet (VolumeSet.java:initializeVolumeSet(170)) - Added Volume : /workdir/hadoop-ozone/integration-test/target/test-dir/MiniOzoneClusterImpl-4df9fbe8-bd9f-48ff-b9d2-b0c93ccc846c/datanode-0/data/containers/hdds to VolumeSet
2019-08-23 05:27:50,089 [main] INFO  volume.ThrottledAsyncChecker (ThrottledAsyncChecker.java:schedule(140)) - Scheduling a check for org.apache.hadoop.ozone.container.common.volume.HddsVolume@1e495414
2019-08-23 05:27:50,089 [main] INFO  volume.HddsVolumeChecker (HddsVolumeChecker.java:checkAllVolumes(203)) - Scheduled health check for volume org.apache.hadoop.ozone.container.common.volume.HddsVolume@1e495414
2019-08-23 05:27:50,131 [main] INFO  impl.RaftServerProxy (ConfUtils.java:logGet(43)) - raft.rpc.type = GRPC (default)
2019-08-23 05:27:50,132 [main] INFO  grpc.GrpcFactory (GrpcFactory.java:checkPooledByteBufAllocatorUseCacheForAllThreads(45)) - PERFORMANCE WARNING: useCacheForAllThreads is true that may cause Netty to create a lot garbage objects and, as a result, trigger GC.
	It is recommended to disable useCacheForAllThreads by setting -Dorg.apache.ratis.thirdparty.io.netty.allocator.useCacheForAllThreads=false in command line.
2019-08-23 05:27:50,133 [main] INFO  grpc.GrpcConfigKeys$Server (ConfUtils.java:logGet(43)) - raft.grpc.server.port = 42859 (custom)
2019-08-23 05:27:50,133 [main] INFO  server.GrpcService (ConfUtils.java:logGet(43)) - raft.grpc.message.size.max = 33570816 (custom)
2019-08-23 05:27:50,133 [main] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.log.appender.buffer.byte-limit = 33554432 (custom)
2019-08-23 05:27:50,133 [main] INFO  server.GrpcService (ConfUtils.java:logGet(43)) - raft.grpc.flow.control.window = 1MB (=1048576) (default)
2019-08-23 05:27:50,134 [main] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.rpc.request.timeout = 3000ms (default)
2019-08-23 05:27:50,134 [main] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.storage.dir = [/workdir/hadoop-ozone/integration-test/target/test-dir/MiniOzoneClusterImpl-4df9fbe8-bd9f-48ff-b9d2-b0c93ccc846c/datanode-0/data/ratis] (custom)
2019-08-23 05:27:50,135 [main] INFO  impl.RaftServerProxy (RaftServerProxy.java:lambda$null$0(191)) - 9512c027-07d3-4387-8ec6-d2a1b2e801d5: found a subdirectory /workdir/hadoop-ozone/integration-test/target/test-dir/MiniOzoneClusterImpl-4df9fbe8-bd9f-48ff-b9d2-b0c93ccc846c/datanode-0/data/ratis/983d7be0-cb06-498a-b24b-0f385d95e4a0
2019-08-23 05:27:50,135 [main] INFO  impl.RaftServerProxy (RaftServerProxy.java:addNew(89)) - 9512c027-07d3-4387-8ec6-d2a1b2e801d5: addNew group-0F385D95E4A0:[] returns group-0F385D95E4A0:java.util.concurrent.CompletableFuture@25a5c8e[Not completed]
2019-08-23 05:27:50,136 [main] INFO  replication.SimpleContainerDownloader (SimpleContainerDownloader.java:<init>(72)) - Starting container downloader service to copy containers to replicate.
2019-08-23 05:27:50,143 [main] INFO  hdfs.DFSUtil (DFSUtil.java:httpServerTemplateForNNAndJN(1641)) - Starting Web-server for hddsDatanode at: http://0.0.0.0:45799
2019-08-23 05:27:50,146 [pool-55-thread-1] INFO  impl.RaftServerImpl (RaftServerImpl.java:<init>(93)) - 9512c027-07d3-4387-8ec6-d2a1b2e801d5: new RaftServerImpl for group-0F385D95E4A0:[] with ContainerStateMachine:uninitialized
2019-08-23 05:27:50,146 [main] INFO  server.AuthenticationFilter (AuthenticationFilter.java:constructSecretProvider(240)) - Unable to initialize FileSignerSecretProvider, falling back to use random secrets.
2019-08-23 05:27:50,147 [pool-55-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.rpc.timeout.min = 5s (custom)
2019-08-23 05:27:50,147 [pool-55-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.rpc.timeout.max = 5200ms (custom)
2019-08-23 05:27:50,148 [main] WARN  http.HttpRequestLog (HttpRequestLog.java:getRequestLog(97)) - Jetty request log can only be enabled using Log4j
2019-08-23 05:27:50,148 [pool-55-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.rpcslowness.timeout = 120s (custom)
2019-08-23 05:27:50,148 [pool-55-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.sleep.deviation.threshold = 300 (default)
2019-08-23 05:27:50,148 [pool-55-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.log.appender.install.snapshot.enabled = false (custom)
2019-08-23 05:27:50,148 [pool-55-thread-1] INFO  impl.RaftServerImpl (ServerState.java:<init>(105)) - 9512c027-07d3-4387-8ec6-d2a1b2e801d5:group-0F385D95E4A0 ConfigurationManager, init=-1: [], old=null, confs=<EMPTY_MAP>
2019-08-23 05:27:50,149 [pool-55-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.storage.dir = [/workdir/hadoop-ozone/integration-test/target/test-dir/MiniOzoneClusterImpl-4df9fbe8-bd9f-48ff-b9d2-b0c93ccc846c/datanode-0/data/ratis] (custom)
2019-08-23 05:27:50,149 [main] INFO  http.HttpServer2 (HttpServer2.java:addGlobalFilter(975)) - Added global filter 'safety' (class=org.apache.hadoop.http.HttpServer2$QuotingInputFilter)
2019-08-23 05:27:50,150 [main] INFO  http.HttpServer2 (HttpServer2.java:addFilter(948)) - Added filter static_user_filter (class=org.apache.hadoop.http.lib.StaticUserWebFilter$StaticUserFilter) to context hddsDatanode
2019-08-23 05:27:50,150 [main] INFO  http.HttpServer2 (HttpServer2.java:addFilter(958)) - Added filter static_user_filter (class=org.apache.hadoop.http.lib.StaticUserWebFilter$StaticUserFilter) to context logs
2019-08-23 05:27:50,151 [main] INFO  http.HttpServer2 (HttpServer2.java:addFilter(958)) - Added filter static_user_filter (class=org.apache.hadoop.http.lib.StaticUserWebFilter$StaticUserFilter) to context static
2019-08-23 05:27:50,153 [main] INFO  http.HttpServer2 (HttpServer2.java:bindListener(1191)) - Jetty bound to port 45799
2019-08-23 05:27:50,153 [main] INFO  server.Server (Server.java:doStart(351)) - jetty-9.3.24.v20180605, build timestamp: 2018-06-05T17:11:56Z, git hash: 84205aa28f11a4f31f2a3b86d1bba2cc8ab69827
2019-08-23 05:27:50,159 [main] INFO  handler.ContextHandler (ContextHandler.java:doStart(781)) - Started o.e.j.s.ServletContextHandler@5329f6b3{/logs,file:///workdir/hadoop-ozone/integration-test/target/log,AVAILABLE}
2019-08-23 05:27:50,160 [main] INFO  handler.ContextHandler (ContextHandler.java:doStart(781)) - Started o.e.j.s.ServletContextHandler@77324a58{/static,jar:file:/home/user/.m2/repository/org/apache/hadoop/hadoop-hdds-container-service/0.5.0-SNAPSHOT/hadoop-hdds-container-service-0.5.0-SNAPSHOT.jar!/webapps/static,AVAILABLE}
2019-08-23 05:27:50,173 [pool-55-thread-1] INFO  storage.RaftStorageDirectory (RaftStorageDirectory.java:tryLock(328)) - Lock on /workdir/hadoop-ozone/integration-test/target/test-dir/MiniOzoneClusterImpl-4df9fbe8-bd9f-48ff-b9d2-b0c93ccc846c/datanode-0/data/ratis/983d7be0-cb06-498a-b24b-0f385d95e4a0/in_use.lock acquired by nodename 21553@trunk-nightly-zfkm8-417691344
2019-08-23 05:27:50,175 [pool-55-thread-1] INFO  ratis.ContainerStateMachine (ContainerStateMachine.java:loadSnapshot(235)) - group-0F385D95E4A0: Setting the last applied index to (t:1, i:3)
2019-08-23 05:27:50,176 [pool-55-thread-1] INFO  impl.RaftServerImpl (ServerState.java:setRaftConf(361)) - 9512c027-07d3-4387-8ec6-d2a1b2e801d5:group-0F385D95E4A0 set configuration 0: [9512c027-07d3-4387-8ec6-d2a1b2e801d5:192.168.5.178:42859], old=null at 0
2019-08-23 05:27:50,176 [pool-55-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.leader.election.timeout = 120s (custom)
2019-08-23 05:27:50,176 [pool-55-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.log.use.memory = false (default)
2019-08-23 05:27:50,176 [pool-55-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.log.purge.gap = 1000000 (custom)
2019-08-23 05:27:50,177 [pool-55-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.log.appender.buffer.byte-limit = 33554432 (custom)
2019-08-23 05:27:50,177 [pool-55-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.log.segment.size.max = 1048576 (custom)
2019-08-23 05:27:50,177 [pool-55-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.log.segment.cache.num.max = 2 (custom)
2019-08-23 05:27:50,177 [pool-55-thread-1] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:<init>(172)) - new 9512c027-07d3-4387-8ec6-d2a1b2e801d5-SegmentedRaftLogWorker:Storage Directory /workdir/hadoop-ozone/integration-test/target/test-dir/MiniOzoneClusterImpl-4df9fbe8-bd9f-48ff-b9d2-b0c93ccc846c/datanode-0/data/ratis/983d7be0-cb06-498a-b24b-0f385d95e4a0 for RaftStorage:Storage Directory /workdir/hadoop-ozone/integration-test/target/test-dir/MiniOzoneClusterImpl-4df9fbe8-bd9f-48ff-b9d2-b0c93ccc846c/datanode-0/data/ratis/983d7be0-cb06-498a-b24b-0f385d95e4a0
2019-08-23 05:27:50,178 [pool-55-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.log.queue.byte-limit = 2147483647 (custom)
2019-08-23 05:27:50,178 [pool-55-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.log.queue.element-limit = 1024 (custom)
2019-08-23 05:27:50,178 [pool-55-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.log.segment.size.max = 1048576 (custom)
2019-08-23 05:27:50,179 [pool-55-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.log.preallocated.size = 16384 (custom)
2019-08-23 05:27:50,179 [pool-55-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.log.write.buffer.size = 33554432 (custom)
2019-08-23 05:27:50,179 [pool-55-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.log.force.sync.num = 128 (default)
2019-08-23 05:27:50,179 [pool-55-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.log.statemachine.data.sync = true (default)
2019-08-23 05:27:50,179 [pool-55-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.log.statemachine.data.sync.timeout = 10s (default)
2019-08-23 05:27:50,180 [pool-55-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.log.statemachine.data.sync.timeout.retry = -1 (default)
2019-08-23 05:27:50,180 [pool-55-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.log.statemachine.data.caching.enabled = true (custom)
2019-08-23 05:27:50,181 [pool-55-thread-1] INFO  impl.RaftServerImpl (ServerState.java:setRaftConf(361)) - 9512c027-07d3-4387-8ec6-d2a1b2e801d5:group-0F385D95E4A0 set configuration 0: [9512c027-07d3-4387-8ec6-d2a1b2e801d5:192.168.5.178:42859], old=null at 0
2019-08-23 05:27:50,182 [pool-55-thread-1] INFO  segmented.LogSegment (LogSegment.java:loadSegment(145)) - Successfully read 5 entries from segment file /workdir/hadoop-ozone/integration-test/target/test-dir/MiniOzoneClusterImpl-4df9fbe8-bd9f-48ff-b9d2-b0c93ccc846c/datanode-0/data/ratis/983d7be0-cb06-498a-b24b-0f385d95e4a0/current/log_inprogress_0
2019-08-23 05:27:50,182 [pool-55-thread-1] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:lambda$new$0(132)) - 9512c027-07d3-4387-8ec6-d2a1b2e801d5-SegmentedRaftLogWorker:Storage Directory /workdir/hadoop-ozone/integration-test/target/test-dir/MiniOzoneClusterImpl-4df9fbe8-bd9f-48ff-b9d2-b0c93ccc846c/datanode-0/data/ratis/983d7be0-cb06-498a-b24b-0f385d95e4a0: flushIndex: setUnconditionally 0 -> 4
2019-08-23 05:27:50,190 [main] INFO  handler.ContextHandler (ContextHandler.java:doStart(781)) - Started o.e.j.w.WebAppContext@35563e4c{/,file:///tmp/jetty-0.0.0.0-45799-hddsDatanode-_-any-3723640899677214367.dir/webapp/,AVAILABLE}{/hddsDatanode}
2019-08-23 05:27:50,220 [pool-55-thread-1] INFO  raftlog.RaftLog (RaftLog.java:lambda$new$0(62)) - 9512c027-07d3-4387-8ec6-d2a1b2e801d5: commitIndex: updateToMax old=3, new=3, updated? false
2019-08-23 05:27:50,220 [main] INFO  server.AbstractConnector (AbstractConnector.java:doStart(278)) - Started ServerConnector@6dd79214{HTTP/1.1,[http/1.1]}{0.0.0.0:45799}
2019-08-23 05:27:50,222 [main] INFO  server.Server (Server.java:doStart(419)) - Started @75134ms
2019-08-23 05:27:50,222 [pool-55-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.snapshot.auto.trigger.enabled = true (custom)
2019-08-23 05:27:50,222 [pool-55-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.snapshot.auto.trigger.threshold = 1 (custom)
2019-08-23 05:27:50,222 [pool-55-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.retrycache.expirytime = 600000ms (custom)
2019-08-23 05:27:50,223 [main] INFO  server.BaseHttpServer (BaseHttpServer.java:updateConnectorAddress(213)) - HTTP server of HDDSDATANODE is listening at http://0.0.0.0:45799
Aug 23, 2019 5:27:50 AM com.sun.jersey.server.impl.application.WebApplicationImpl _initiate
INFO: Initiating Jersey application, version 'Jersey: 1.19 02/11/2015 03:25 AM'
2019-08-23 05:27:50,427 | INFO  | ObjectStoreRestHttpServer | Listening HDDS REST traffic on /0.0.0.0:34519 |  
2019-08-23 05:27:50,428 [main] INFO  ozone.HddsDatanodeService (HddsDatanodeService.java:startPlugins(395)) - Started plug-in org.apache.hadoop.ozone.web.OzoneHddsDatanodeService@712cd5d3
2019-08-23 05:27:50,428 [main] INFO  ozone.MiniOzoneClusterImpl (MiniOzoneClusterImpl.java:lambda$waitForClusterToBeReady$0(142)) - Waiting for cluster to be ready. Got 0 of 1 DN Heartbeats.
2019-08-23 05:27:50,430 [org.apache.hadoop.util.JvmPauseMonitor$Monitor@179abaa9] INFO  util.JvmPauseMonitor (JvmPauseMonitor.java:run(188)) - Starting JVM pause monitor
2019-08-23 05:27:51,429 [main] INFO  ozone.MiniOzoneClusterImpl (MiniOzoneClusterImpl.java:lambda$waitForClusterToBeReady$0(142)) - Waiting for cluster to be ready. Got 0 of 1 DN Heartbeats.
2019-08-23 05:27:52,429 [main] INFO  ozone.MiniOzoneClusterImpl (MiniOzoneClusterImpl.java:lambda$waitForClusterToBeReady$0(142)) - Waiting for cluster to be ready. Got 0 of 1 DN Heartbeats.
2019-08-23 05:27:52,432 | INFO  | SCMAudit | user=jenkins1000 | ip=192.168.5.178 | op=GET_VERSION null | ret=SUCCESS |  
2019-08-23 05:27:52,433 [Datanode State Machine Thread - 0] INFO  ozoneimpl.OzoneContainer (OzoneContainer.java:start(186)) - Attempting to start container services.
2019-08-23 05:27:52,433 [Datanode State Machine Thread - 0] INFO  ozoneimpl.OzoneContainer (OzoneContainer.java:startContainerScrub(160)) - Background container scrubber has been disabled by hdds.containerscrub.enabled
2019-08-23 05:27:52,433 [Datanode State Machine Thread - 0] INFO  ratis.XceiverServerRatis (XceiverServerRatis.java:start(404)) - Starting XceiverServerRatis 9512c027-07d3-4387-8ec6-d2a1b2e801d5 at port 42859
2019-08-23 05:27:52,446 [Datanode State Machine Thread - 0] INFO  impl.RaftServerImpl (RaftServerImpl.java:start(180)) - 9512c027-07d3-4387-8ec6-d2a1b2e801d5: start group-0F385D95E4A0
2019-08-23 05:27:52,447 [Datanode State Machine Thread - 0] INFO  impl.RaftServerImpl (RaftServerImpl.java:setRole(171)) - 9512c027-07d3-4387-8ec6-d2a1b2e801d5:group-0F385D95E4A0 changes role from null to FOLLOWER at term 1 for startAsFollower
2019-08-23 05:27:52,447 [Datanode State Machine Thread - 0] INFO  impl.RoleInfo (RoleInfo.java:updateAndGet(143)) - 9512c027-07d3-4387-8ec6-d2a1b2e801d5: start FollowerState
2019-08-23 05:27:52,448 [Datanode State Machine Thread - 0] INFO  util.JmxRegister (JmxRegister.java:tryRegister(44)) - Successfully registered JMX Bean with object name Ratis:service=RaftServer,group=group-0F385D95E4A0,id=9512c027-07d3-4387-8ec6-d2a1b2e801d5
2019-08-23 05:27:52,450 [Datanode State Machine Thread - 0] INFO  impl.RaftServerProxy (RaftServerProxy.java:lambda$start$3(299)) - 9512c027-07d3-4387-8ec6-d2a1b2e801d5: start RPC server
2019-08-23 05:27:52,452 [Datanode State Machine Thread - 0] INFO  server.GrpcService (GrpcService.java:startImpl(149)) - 9512c027-07d3-4387-8ec6-d2a1b2e801d5: GrpcService started, listening on 0.0.0.0/0.0.0.0:42859
2019-08-23 05:27:53,430 [main] INFO  ozone.MiniOzoneClusterImpl (MiniOzoneClusterImpl.java:lambda$waitForClusterToBeReady$0(142)) - Waiting for cluster to be ready. Got 0 of 1 DN Heartbeats.
2019-08-23 05:27:54,431 [main] INFO  ozone.MiniOzoneClusterImpl (MiniOzoneClusterImpl.java:lambda$waitForClusterToBeReady$0(142)) - Waiting for cluster to be ready. Got 0 of 1 DN Heartbeats.
2019-08-23 05:27:54,433 | INFO  | SCMAudit | user=jenkins1000 | ip=192.168.5.178 | op=REGISTER {datanodeDetails=9512c027-07d3-4387-8ec6-d2a1b2e801d5{ip: 192.168.5.178, host: trunk-nightly-zfkm8-417691344, networkLocation: /default-rack, certSerialId: null}} | ret=SUCCESS |  
2019-08-23 05:27:55,431 [main] INFO  ozone.MiniOzoneClusterImpl (MiniOzoneClusterImpl.java:lambda$waitForClusterToBeReady$0(142)) - Waiting for cluster to be ready. Got 0 of 1 DN Heartbeats.
2019-08-23 05:27:56,432 [main] INFO  ozone.MiniOzoneClusterImpl (MiniOzoneClusterImpl.java:lambda$waitForClusterToBeReady$0(142)) - Waiting for cluster to be ready. Got 0 of 1 DN Heartbeats.
2019-08-23 05:27:56,436 | INFO  | SCMAudit | user=jenkins1000 | ip=192.168.5.178 | op=SEND_HEARTBEAT {datanodeUUID=9512c027-07d3-4387-8ec6-d2a1b2e801d5, command=[commandType: closeContainerCommand closeContainerCommandProto { containerID: 4 pipelineID { id: "983d7be0-cb06-498a-b24b-0f385d95e4a0" } cmdId: 4 force: false } ]} | ret=SUCCESS |  
2019-08-23 05:27:56,450 [grpc-default-executor-1] INFO  impl.RaftServerProxy (RaftServerProxy.java:addNew(89)) - 9512c027-07d3-4387-8ec6-d2a1b2e801d5: addNew group-59F1B566F9DD:[9512c027-07d3-4387-8ec6-d2a1b2e801d5:192.168.5.178:42859] returns group-59F1B566F9DD:java.util.concurrent.CompletableFuture@7d59a864[Not completed]
2019-08-23 05:27:56,452 [pool-55-thread-1] INFO  impl.RaftServerImpl (RaftServerImpl.java:<init>(93)) - 9512c027-07d3-4387-8ec6-d2a1b2e801d5: new RaftServerImpl for group-59F1B566F9DD:[9512c027-07d3-4387-8ec6-d2a1b2e801d5:192.168.5.178:42859] with ContainerStateMachine:uninitialized
2019-08-23 05:27:56,453 [pool-55-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.rpc.timeout.min = 5s (custom)
2019-08-23 05:27:56,453 [pool-55-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.rpc.timeout.max = 5200ms (custom)
2019-08-23 05:27:56,453 [pool-55-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.rpcslowness.timeout = 120s (custom)
2019-08-23 05:27:56,453 [pool-55-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.sleep.deviation.threshold = 300 (default)
2019-08-23 05:27:56,453 [pool-55-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.log.appender.install.snapshot.enabled = false (custom)
2019-08-23 05:27:56,454 [pool-55-thread-1] INFO  impl.RaftServerImpl (ServerState.java:<init>(105)) - 9512c027-07d3-4387-8ec6-d2a1b2e801d5:group-59F1B566F9DD ConfigurationManager, init=-1: [9512c027-07d3-4387-8ec6-d2a1b2e801d5:192.168.5.178:42859], old=null, confs=<EMPTY_MAP>
2019-08-23 05:27:56,454 [pool-55-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.storage.dir = [/workdir/hadoop-ozone/integration-test/target/test-dir/MiniOzoneClusterImpl-4df9fbe8-bd9f-48ff-b9d2-b0c93ccc846c/datanode-0/data/ratis] (custom)
2019-08-23 05:27:56,454 [pool-55-thread-1] INFO  storage.RaftStorageDirectory (RaftStorageDirectory.java:analyzeStorage(246)) - The storage directory /workdir/hadoop-ozone/integration-test/target/test-dir/MiniOzoneClusterImpl-4df9fbe8-bd9f-48ff-b9d2-b0c93ccc846c/datanode-0/data/ratis/32382e46-3c56-4153-891a-59f1b566f9dd does not exist. Creating ...
2019-08-23 05:27:56,479 [pool-55-thread-1] INFO  storage.RaftStorageDirectory (RaftStorageDirectory.java:tryLock(328)) - Lock on /workdir/hadoop-ozone/integration-test/target/test-dir/MiniOzoneClusterImpl-4df9fbe8-bd9f-48ff-b9d2-b0c93ccc846c/datanode-0/data/ratis/32382e46-3c56-4153-891a-59f1b566f9dd/in_use.lock acquired by nodename 21553@trunk-nightly-zfkm8-417691344
2019-08-23 05:27:56,492 [pool-55-thread-1] INFO  storage.RaftStorage (RaftStorage.java:format(72)) - Storage directory /workdir/hadoop-ozone/integration-test/target/test-dir/MiniOzoneClusterImpl-4df9fbe8-bd9f-48ff-b9d2-b0c93ccc846c/datanode-0/data/ratis/32382e46-3c56-4153-891a-59f1b566f9dd has been successfully formatted.
2019-08-23 05:27:56,492 [pool-55-thread-1] INFO  ratis.ContainerStateMachine (ContainerStateMachine.java:loadSnapshot(226)) - group-59F1B566F9DD: The snapshot info is null. Setting the last applied indexto:(t:0, i:~)
2019-08-23 05:27:56,492 [pool-55-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.leader.election.timeout = 120s (custom)
2019-08-23 05:27:56,492 [pool-55-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.log.use.memory = false (default)
2019-08-23 05:27:56,492 [pool-55-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.log.purge.gap = 1000000 (custom)
2019-08-23 05:27:56,493 [pool-55-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.log.appender.buffer.byte-limit = 33554432 (custom)
2019-08-23 05:27:56,493 [pool-55-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.log.segment.size.max = 1048576 (custom)
2019-08-23 05:27:56,493 [pool-55-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.log.segment.cache.num.max = 2 (custom)
2019-08-23 05:27:56,493 [pool-55-thread-1] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:<init>(172)) - new 9512c027-07d3-4387-8ec6-d2a1b2e801d5-SegmentedRaftLogWorker:Storage Directory /workdir/hadoop-ozone/integration-test/target/test-dir/MiniOzoneClusterImpl-4df9fbe8-bd9f-48ff-b9d2-b0c93ccc846c/datanode-0/data/ratis/32382e46-3c56-4153-891a-59f1b566f9dd for RaftStorage:Storage Directory /workdir/hadoop-ozone/integration-test/target/test-dir/MiniOzoneClusterImpl-4df9fbe8-bd9f-48ff-b9d2-b0c93ccc846c/datanode-0/data/ratis/32382e46-3c56-4153-891a-59f1b566f9dd
2019-08-23 05:27:56,493 [pool-55-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.log.queue.byte-limit = 2147483647 (custom)
2019-08-23 05:27:56,494 [pool-55-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.log.queue.element-limit = 1024 (custom)
2019-08-23 05:27:56,494 [pool-55-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.log.segment.size.max = 1048576 (custom)
2019-08-23 05:27:56,494 [pool-55-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.log.preallocated.size = 16384 (custom)
2019-08-23 05:27:56,494 [pool-55-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.log.write.buffer.size = 33554432 (custom)
2019-08-23 05:27:56,494 [pool-55-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.log.force.sync.num = 128 (default)
2019-08-23 05:27:56,495 [pool-55-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.log.statemachine.data.sync = true (default)
2019-08-23 05:27:56,495 [pool-55-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.log.statemachine.data.sync.timeout = 10s (default)
2019-08-23 05:27:56,495 [pool-55-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.log.statemachine.data.sync.timeout.retry = -1 (default)
2019-08-23 05:27:56,495 [pool-55-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.log.statemachine.data.caching.enabled = true (custom)
2019-08-23 05:27:56,496 [pool-55-thread-1] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:lambda$new$0(132)) - 9512c027-07d3-4387-8ec6-d2a1b2e801d5-SegmentedRaftLogWorker:Storage Directory /workdir/hadoop-ozone/integration-test/target/test-dir/MiniOzoneClusterImpl-4df9fbe8-bd9f-48ff-b9d2-b0c93ccc846c/datanode-0/data/ratis/32382e46-3c56-4153-891a-59f1b566f9dd: flushIndex: setUnconditionally 0 -> -1
2019-08-23 05:27:56,496 [pool-55-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.snapshot.auto.trigger.enabled = true (custom)
2019-08-23 05:27:56,496 [pool-55-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.snapshot.auto.trigger.threshold = 1 (custom)
2019-08-23 05:27:56,496 [pool-55-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.retrycache.expirytime = 600000ms (custom)
2019-08-23 05:27:56,497 [pool-55-thread-1] INFO  impl.RaftServerImpl (RaftServerImpl.java:start(180)) - 9512c027-07d3-4387-8ec6-d2a1b2e801d5: start group-59F1B566F9DD
2019-08-23 05:27:56,497 [pool-55-thread-1] INFO  impl.RaftServerImpl (RaftServerImpl.java:setRole(171)) - 9512c027-07d3-4387-8ec6-d2a1b2e801d5:group-59F1B566F9DD changes role from null to FOLLOWER at term 0 for startAsFollower
2019-08-23 05:27:56,497 [pool-55-thread-1] INFO  impl.RoleInfo (RoleInfo.java:updateAndGet(143)) - 9512c027-07d3-4387-8ec6-d2a1b2e801d5: start FollowerState
2019-08-23 05:27:56,497 [pool-55-thread-1] INFO  util.JmxRegister (JmxRegister.java:tryRegister(44)) - Successfully registered JMX Bean with object name Ratis:service=RaftServer,group=group-59F1B566F9DD,id=9512c027-07d3-4387-8ec6-d2a1b2e801d5
2019-08-23 05:27:56,503 [RatisPipelineUtilsThread] INFO  pipeline.PipelineStateManager (PipelineStateManager.java:addPipeline(56)) - Created pipeline Pipeline[ Id: 32382e46-3c56-4153-891a-59f1b566f9dd, Nodes: 9512c027-07d3-4387-8ec6-d2a1b2e801d5{ip: 192.168.5.178, host: trunk-nightly-zfkm8-417691344, networkLocation: /default-rack, certSerialId: null}, Type:RATIS, Factor:ONE, State:OPEN]
2019-08-23 05:27:56,634 | INFO  | SCMAudit | user=jenkins1000 | ip=192.168.5.178 | op=SEND_HEARTBEAT {datanodeUUID=9512c027-07d3-4387-8ec6-d2a1b2e801d5, command=[]} | ret=SUCCESS |  
2019-08-23 05:27:56,834 | INFO  | SCMAudit | user=jenkins1000 | ip=192.168.5.178 | op=SEND_HEARTBEAT {datanodeUUID=9512c027-07d3-4387-8ec6-d2a1b2e801d5, command=[]} | ret=SUCCESS |  
2019-08-23 05:27:57,034 | INFO  | SCMAudit | user=jenkins1000 | ip=192.168.5.178 | op=SEND_HEARTBEAT {datanodeUUID=9512c027-07d3-4387-8ec6-d2a1b2e801d5, command=[]} | ret=SUCCESS |  
2019-08-23 05:27:57,234 | INFO  | SCMAudit | user=jenkins1000 | ip=192.168.5.178 | op=SEND_HEARTBEAT {datanodeUUID=9512c027-07d3-4387-8ec6-d2a1b2e801d5, command=[]} | ret=SUCCESS |  
2019-08-23 05:27:57,432 [main] INFO  ozone.MiniOzoneClusterImpl (MiniOzoneClusterImpl.java:lambda$waitForClusterToBeReady$0(142)) - Cluster is ready. Got 1 of 1 DN Heartbeats.
2019-08-23 05:27:57,434 | INFO  | SCMAudit | user=jenkins1000 | ip=192.168.5.178 | op=SEND_HEARTBEAT {datanodeUUID=9512c027-07d3-4387-8ec6-d2a1b2e801d5, command=[]} | ret=SUCCESS |  
2019-08-23 05:27:57,438 [main] INFO  keyvalue.KeyValueHandler (ContainerUtils.java:logAndReturnError(146)) - Operation: CloseContainer : Trace ID:  : Message: Cannot close container #3 while in UNHEALTHY state. : Result: CONTAINER_UNHEALTHY
2019-08-23 05:27:57,439 | ERROR | DNAudit | user=null | ip=null | op=CLOSE_CONTAINER {containerID=3} | ret=FAILURE | java.lang.Exception: Cannot close container #3 while in UNHEALTHY state.
	at org.apache.hadoop.ozone.container.common.impl.HddsDispatcher.dispatchRequest(HddsDispatcher.java:320)
	at org.apache.hadoop.ozone.container.common.impl.HddsDispatcher.dispatch(HddsDispatcher.java:148) 
2019-08-23 05:27:57,447 | INFO  | OMAudit | user=jenkins1000 | ip=127.0.0.1 | op=READ_VOLUME {volume=testcontainerstatemachinefailures} | ret=SUCCESS |  
2019-08-23 05:27:57,451 | INFO  | OMAudit | user=jenkins1000 | ip=127.0.0.1 | op=READ_BUCKET {volume=testcontainerstatemachinefailures, bucket=testcontainerstatemachinefailures} | ret=SUCCESS |  
2019-08-23 05:27:57,467 | INFO  | SCMAudit | user=jenkins1000 | ip=192.168.5.178 | op=SEND_HEARTBEAT {datanodeUUID=9512c027-07d3-4387-8ec6-d2a1b2e801d5, command=[]} | ret=SUCCESS |  
2019-08-23 05:27:57,467 | INFO  | SCMAudit | user=jenkins1000 | ip=192.168.5.178 | op=ALLOCATE_BLOCK {owner=96f60ba8-c0cb-4e72-a3ab-88ae4c67f145, size=4194304, type=RATIS, factor=ONE} | ret=SUCCESS |  
2019-08-23 05:27:57,467 [EventQueue-CloseContainerForCloseContainerEventHandler] INFO  container.CloseContainerEventHandler (CloseContainerEventHandler.java:onMessage(61)) - Close container Event triggered for container : #3
2019-08-23 05:27:57,470 | INFO  | OMAudit | user=jenkins1000 | ip=127.0.0.1 | op=ALLOCATE_KEY {volume=testcontainerstatemachinefailures, bucket=testcontainerstatemachinefailures, key=ratis, dataSize=1024, replicationType=RATIS, replicationFactor=ONE, keyLocationInfo=null} | ret=SUCCESS |  
2019-08-23 05:27:57,497 [grpc-default-executor-1] INFO  client.GrpcClientProtocolClient (GrpcClientProtocolClient.java:onNext(255)) - client-5D6704742745->9512c027-07d3-4387-8ec6-d2a1b2e801d5: receive RaftClientReply:client-5D6704742745->9512c027-07d3-4387-8ec6-d2a1b2e801d5@group-59F1B566F9DD, cid=22, FAILED org.apache.ratis.protocol.NotLeaderException: Server 9512c027-07d3-4387-8ec6-d2a1b2e801d5 is not the leader (null). Request must be sent to leader., logIndex=0, commits[9512c027-07d3-4387-8ec6-d2a1b2e801d5:c-1]
2019-08-23 05:27:57,528 [Thread-303] INFO  impl.FollowerState (FollowerState.java:run(106)) - 9512c027-07d3-4387-8ec6-d2a1b2e801d5:group-0F385D95E4A0 changes to CANDIDATE, lastRpcTime:5080, electionTimeout:5080ms
2019-08-23 05:27:57,529 [Thread-303] INFO  impl.RoleInfo (RoleInfo.java:shutdownFollowerState(121)) - 9512c027-07d3-4387-8ec6-d2a1b2e801d5: shutdown FollowerState
2019-08-23 05:27:57,529 [Thread-303] INFO  impl.RaftServerImpl (RaftServerImpl.java:setRole(171)) - 9512c027-07d3-4387-8ec6-d2a1b2e801d5:group-0F385D95E4A0 changes role from FOLLOWER to CANDIDATE at term 1 for changeToCandidate
2019-08-23 05:27:57,529 [Thread-303] INFO  impl.RoleInfo (RoleInfo.java:updateAndGet(143)) - 9512c027-07d3-4387-8ec6-d2a1b2e801d5: start LeaderElection
2019-08-23 05:27:57,553 [9512c027-07d3-4387-8ec6-d2a1b2e801d5:group-0F385D95E4A0:LeaderElection6] INFO  impl.LeaderElection (LeaderElection.java:askForVotes(181)) - 9512c027-07d3-4387-8ec6-d2a1b2e801d5:group-0F385D95E4A0:LeaderElection6: begin an election at term 2 for 0: [9512c027-07d3-4387-8ec6-d2a1b2e801d5:192.168.5.178:42859], old=null
2019-08-23 05:27:57,554 [9512c027-07d3-4387-8ec6-d2a1b2e801d5:group-0F385D95E4A0:LeaderElection6] INFO  impl.RoleInfo (RoleInfo.java:shutdownLeaderElection(134)) - 9512c027-07d3-4387-8ec6-d2a1b2e801d5: shutdown LeaderElection
2019-08-23 05:27:57,554 [9512c027-07d3-4387-8ec6-d2a1b2e801d5:group-0F385D95E4A0:LeaderElection6] INFO  impl.RaftServerImpl (RaftServerImpl.java:setRole(171)) - 9512c027-07d3-4387-8ec6-d2a1b2e801d5:group-0F385D95E4A0 changes role from CANDIDATE to LEADER at term 2 for changeToLeader
2019-08-23 05:27:57,555 [9512c027-07d3-4387-8ec6-d2a1b2e801d5:group-0F385D95E4A0:LeaderElection6] INFO  impl.RaftServerImpl (ServerState.java:setLeader(263)) - 9512c027-07d3-4387-8ec6-d2a1b2e801d5:group-0F385D95E4A0 change Leader from null to 9512c027-07d3-4387-8ec6-d2a1b2e801d5 at term 2 for becomeLeader, leader elected after 7378ms
2019-08-23 05:27:57,555 [9512c027-07d3-4387-8ec6-d2a1b2e801d5:group-0F385D95E4A0:LeaderElection6] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.staging.catchup.gap = 1000 (default)
2019-08-23 05:27:57,555 [9512c027-07d3-4387-8ec6-d2a1b2e801d5:group-0F385D95E4A0:LeaderElection6] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.rpc.sleep.time = 25ms (default)
2019-08-23 05:27:57,555 [9512c027-07d3-4387-8ec6-d2a1b2e801d5:group-0F385D95E4A0:LeaderElection6] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.write.element-limit = 4096 (default)
2019-08-23 05:27:57,556 [9512c027-07d3-4387-8ec6-d2a1b2e801d5:group-0F385D95E4A0:LeaderElection6] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.watch.timeout = 10s (default)
2019-08-23 05:27:57,556 [9512c027-07d3-4387-8ec6-d2a1b2e801d5:group-0F385D95E4A0:LeaderElection6] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.watch.timeout.denomination = 1s (default)
2019-08-23 05:27:57,556 [9512c027-07d3-4387-8ec6-d2a1b2e801d5:group-0F385D95E4A0:LeaderElection6] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.watch.element-limit = 65536 (default)
2019-08-23 05:27:57,556 [9512c027-07d3-4387-8ec6-d2a1b2e801d5:group-0F385D95E4A0:LeaderElection6] INFO  impl.RoleInfo (RoleInfo.java:updateAndGet(143)) - 9512c027-07d3-4387-8ec6-d2a1b2e801d5: start LeaderState
2019-08-23 05:27:57,557 [9512c027-07d3-4387-8ec6-d2a1b2e801d5:group-0F385D95E4A0:LeaderElection6] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:rollLogSegment(385)) - 9512c027-07d3-4387-8ec6-d2a1b2e801d5-SegmentedRaftLogWorker:Storage Directory /workdir/hadoop-ozone/integration-test/target/test-dir/MiniOzoneClusterImpl-4df9fbe8-bd9f-48ff-b9d2-b0c93ccc846c/datanode-0/data/ratis/983d7be0-cb06-498a-b24b-0f385d95e4a0: Rolling segment log-0_4 to index:4
2019-08-23 05:27:57,558 [9512c027-07d3-4387-8ec6-d2a1b2e801d5:group-0F385D95E4A0:LeaderElection6] INFO  impl.RaftServerImpl (ServerState.java:setRaftConf(361)) - 9512c027-07d3-4387-8ec6-d2a1b2e801d5:group-0F385D95E4A0 set configuration 5: [9512c027-07d3-4387-8ec6-d2a1b2e801d5:192.168.5.178:42859], old=null at 5
2019-08-23 05:27:57,560 [9512c027-07d3-4387-8ec6-d2a1b2e801d5-SegmentedRaftLogWorker:Storage Directory /workdir/hadoop-ozone/integration-test/target/test-dir/MiniOzoneClusterImpl-4df9fbe8-bd9f-48ff-b9d2-b0c93ccc846c/datanode-0/data/ratis/983d7be0-cb06-498a-b24b-0f385d95e4a0] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:execute(526)) - 9512c027-07d3-4387-8ec6-d2a1b2e801d5-SegmentedRaftLogWorker:Storage Directory /workdir/hadoop-ozone/integration-test/target/test-dir/MiniOzoneClusterImpl-4df9fbe8-bd9f-48ff-b9d2-b0c93ccc846c/datanode-0/data/ratis/983d7be0-cb06-498a-b24b-0f385d95e4a0: Rolled log segment from /workdir/hadoop-ozone/integration-test/target/test-dir/MiniOzoneClusterImpl-4df9fbe8-bd9f-48ff-b9d2-b0c93ccc846c/datanode-0/data/ratis/983d7be0-cb06-498a-b24b-0f385d95e4a0/current/log_inprogress_0 to /workdir/hadoop-ozone/integration-test/target/test-dir/MiniOzoneClusterImpl-4df9fbe8-bd9f-48ff-b9d2-b0c93ccc846c/datanode-0/data/ratis/983d7be0-cb06-498a-b24b-0f385d95e4a0/current/log_0-4
2019-08-23 05:27:57,610 [9512c027-07d3-4387-8ec6-d2a1b2e801d5-SegmentedRaftLogWorker:Storage Directory /workdir/hadoop-ozone/integration-test/target/test-dir/MiniOzoneClusterImpl-4df9fbe8-bd9f-48ff-b9d2-b0c93ccc846c/datanode-0/data/ratis/983d7be0-cb06-498a-b24b-0f385d95e4a0] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:execute(569)) - 9512c027-07d3-4387-8ec6-d2a1b2e801d5-SegmentedRaftLogWorker:Storage Directory /workdir/hadoop-ozone/integration-test/target/test-dir/MiniOzoneClusterImpl-4df9fbe8-bd9f-48ff-b9d2-b0c93ccc846c/datanode-0/data/ratis/983d7be0-cb06-498a-b24b-0f385d95e4a0: created new log segment /workdir/hadoop-ozone/integration-test/target/test-dir/MiniOzoneClusterImpl-4df9fbe8-bd9f-48ff-b9d2-b0c93ccc846c/datanode-0/data/ratis/983d7be0-cb06-498a-b24b-0f385d95e4a0/current/log_inprogress_5
2019-08-23 05:27:57,622 [StateMachineUpdater:9512c027-07d3-4387-8ec6-d2a1b2e801d5:group-0F385D95E4A0] INFO  ratis.ContainerStateMachine (ContainerStateMachine.java:takeSnapshot(283)) - group-0F385D95E4A0: Taking a snapshot at:(t:1, i:3) file /workdir/hadoop-ozone/integration-test/target/test-dir/MiniOzoneClusterImpl-4df9fbe8-bd9f-48ff-b9d2-b0c93ccc846c/datanode-0/data/ratis/983d7be0-cb06-498a-b24b-0f385d95e4a0/sm/snapshot.1_3
2019-08-23 05:27:57,645 [StateMachineUpdater:9512c027-07d3-4387-8ec6-d2a1b2e801d5:group-0F385D95E4A0] INFO  ratis.ContainerStateMachine (ContainerStateMachine.java:takeSnapshot(294)) - group-0F385D95E4A0: Finished taking a snapshot at:(t:1, i:3) file:/workdir/hadoop-ozone/integration-test/target/test-dir/MiniOzoneClusterImpl-4df9fbe8-bd9f-48ff-b9d2-b0c93ccc846c/datanode-0/data/ratis/983d7be0-cb06-498a-b24b-0f385d95e4a0/sm/snapshot.1_3 time:23
2019-08-23 05:27:57,646 [StateMachineUpdater:9512c027-07d3-4387-8ec6-d2a1b2e801d5:group-0F385D95E4A0] INFO  impl.StateMachineUpdater (StateMachineUpdater.java:takeSnapshot(242)) - StateMachineUpdater:9512c027-07d3-4387-8ec6-d2a1b2e801d5:group-0F385D95E4A0: Took a snapshot at index 3
2019-08-23 05:27:57,646 [StateMachineUpdater:9512c027-07d3-4387-8ec6-d2a1b2e801d5:group-0F385D95E4A0] INFO  impl.StateMachineUpdater (StateMachineUpdater.java:lambda$new$0(80)) - StateMachineUpdater:9512c027-07d3-4387-8ec6-d2a1b2e801d5:group-0F385D95E4A0: snapshotIndex: updateIncreasingly 3 -> 3
2019-08-23 05:27:57,646 [StateMachineUpdater:9512c027-07d3-4387-8ec6-d2a1b2e801d5:group-0F385D95E4A0] INFO  ratis.ContainerStateMachine (ContainerStateMachine.java:takeSnapshot(283)) - group-0F385D95E4A0: Taking a snapshot at:(t:1, i:3) file /workdir/hadoop-ozone/integration-test/target/test-dir/MiniOzoneClusterImpl-4df9fbe8-bd9f-48ff-b9d2-b0c93ccc846c/datanode-0/data/ratis/983d7be0-cb06-498a-b24b-0f385d95e4a0/sm/snapshot.1_3
2019-08-23 05:27:57,658 [StateMachineUpdater:9512c027-07d3-4387-8ec6-d2a1b2e801d5:group-0F385D95E4A0] INFO  ratis.ContainerStateMachine (ContainerStateMachine.java:takeSnapshot(294)) - group-0F385D95E4A0: Finished taking a snapshot at:(t:1, i:3) file:/workdir/hadoop-ozone/integration-test/target/test-dir/MiniOzoneClusterImpl-4df9fbe8-bd9f-48ff-b9d2-b0c93ccc846c/datanode-0/data/ratis/983d7be0-cb06-498a-b24b-0f385d95e4a0/sm/snapshot.1_3 time:12
2019-08-23 05:27:57,659 [StateMachineUpdater:9512c027-07d3-4387-8ec6-d2a1b2e801d5:group-0F385D95E4A0] INFO  impl.StateMachineUpdater (StateMachineUpdater.java:takeSnapshot(242)) - StateMachineUpdater:9512c027-07d3-4387-8ec6-d2a1b2e801d5:group-0F385D95E4A0: Took a snapshot at index 3
2019-08-23 05:27:57,659 [StateMachineUpdater:9512c027-07d3-4387-8ec6-d2a1b2e801d5:group-0F385D95E4A0] INFO  impl.StateMachineUpdater (StateMachineUpdater.java:lambda$new$0(80)) - StateMachineUpdater:9512c027-07d3-4387-8ec6-d2a1b2e801d5:group-0F385D95E4A0: snapshotIndex: updateIncreasingly 3 -> 3
2019-08-23 05:27:57,668 | INFO  | SCMAudit | user=jenkins1000 | ip=192.168.5.178 | op=SEND_HEARTBEAT {datanodeUUID=9512c027-07d3-4387-8ec6-d2a1b2e801d5, command=[commandType: closeContainerCommand closeContainerCommandProto { containerID: 3 pipelineID { id: "947e3c68-616f-4943-ac54-08dc236449ba" } cmdId: 3 force: false } ]} | ret=SUCCESS |  
2019-08-23 05:27:57,867 | INFO  | SCMAudit | user=jenkins1000 | ip=192.168.5.178 | op=SEND_HEARTBEAT {datanodeUUID=9512c027-07d3-4387-8ec6-d2a1b2e801d5, command=[]} | ret=SUCCESS |  
2019-08-23 05:27:57,937 [grpc-default-executor-1] INFO  impl.RaftServerProxy (RaftServerProxy.java:remove(95)) - 9512c027-07d3-4387-8ec6-d2a1b2e801d5: remove   LEADER group-0F385D95E4A0 9512c027-07d3-4387-8ec6-d2a1b2e801d5:t2, leader=9512c027-07d3-4387-8ec6-d2a1b2e801d5, voted=9512c027-07d3-4387-8ec6-d2a1b2e801d5, raftlog=9512c027-07d3-4387-8ec6-d2a1b2e801d5-SegmentedRaftLog:OPENED:c6,f6,i6, conf=5: [9512c027-07d3-4387-8ec6-d2a1b2e801d5:192.168.5.178:42859], old=null RUNNING
2019-08-23 05:27:57,939 [grpc-default-executor-1] INFO  impl.RaftServerImpl (RaftServerImpl.java:lambda$shutdown$3(245)) - 9512c027-07d3-4387-8ec6-d2a1b2e801d5: shutdown group-0F385D95E4A0
2019-08-23 05:27:57,939 [grpc-default-executor-1] INFO  util.JmxRegister (JmxRegister.java:unregister(73)) - Successfully un-registered JMX Bean with object name Ratis:service=RaftServer,group=group-0F385D95E4A0,id=9512c027-07d3-4387-8ec6-d2a1b2e801d5
2019-08-23 05:27:57,939 [grpc-default-executor-1] INFO  impl.RoleInfo (RoleInfo.java:shutdownLeaderState(104)) - 9512c027-07d3-4387-8ec6-d2a1b2e801d5: shutdown LeaderState
2019-08-23 05:27:57,939 [grpc-default-executor-1] INFO  impl.PendingRequests (PendingRequests.java:sendNotLeaderResponses(202)) - 9512c027-07d3-4387-8ec6-d2a1b2e801d5-PendingRequests: sendNotLeaderResponses
2019-08-23 05:27:57,943 [grpc-default-executor-1] INFO  impl.StateMachineUpdater (StateMachineUpdater.java:stopAndJoin(115)) - StateMachineUpdater:9512c027-07d3-4387-8ec6-d2a1b2e801d5:group-0F385D95E4A0: set stopIndex = 6
2019-08-23 05:27:57,944 [StateMachineUpdater:9512c027-07d3-4387-8ec6-d2a1b2e801d5:group-0F385D95E4A0] INFO  ratis.ContainerStateMachine (ContainerStateMachine.java:takeSnapshot(283)) - group-0F385D95E4A0: Taking a snapshot at:(t:1, i:3) file /workdir/hadoop-ozone/integration-test/target/test-dir/MiniOzoneClusterImpl-4df9fbe8-bd9f-48ff-b9d2-b0c93ccc846c/datanode-0/data/ratis/983d7be0-cb06-498a-b24b-0f385d95e4a0/sm/snapshot.1_3
2019-08-23 05:27:57,968 [StateMachineUpdater:9512c027-07d3-4387-8ec6-d2a1b2e801d5:group-0F385D95E4A0] INFO  ratis.ContainerStateMachine (ContainerStateMachine.java:takeSnapshot(294)) - group-0F385D95E4A0: Finished taking a snapshot at:(t:1, i:3) file:/workdir/hadoop-ozone/integration-test/target/test-dir/MiniOzoneClusterImpl-4df9fbe8-bd9f-48ff-b9d2-b0c93ccc846c/datanode-0/data/ratis/983d7be0-cb06-498a-b24b-0f385d95e4a0/sm/snapshot.1_3 time:25
2019-08-23 05:27:57,968 [StateMachineUpdater:9512c027-07d3-4387-8ec6-d2a1b2e801d5:group-0F385D95E4A0] INFO  impl.StateMachineUpdater (StateMachineUpdater.java:takeSnapshot(242)) - StateMachineUpdater:9512c027-07d3-4387-8ec6-d2a1b2e801d5:group-0F385D95E4A0: Took a snapshot at index 3
2019-08-23 05:27:57,968 [StateMachineUpdater:9512c027-07d3-4387-8ec6-d2a1b2e801d5:group-0F385D95E4A0] INFO  impl.StateMachineUpdater (StateMachineUpdater.java:lambda$new$0(80)) - StateMachineUpdater:9512c027-07d3-4387-8ec6-d2a1b2e801d5:group-0F385D95E4A0: snapshotIndex: updateIncreasingly 3 -> 3
2019-08-23 05:27:57,969 [grpc-default-executor-1] INFO  impl.RaftServerImpl (ServerState.java:close(394)) - 9512c027-07d3-4387-8ec6-d2a1b2e801d5:group-0F385D95E4A0 closes. The last applied log index is 6
2019-08-23 05:27:57,969 [9512c027-07d3-4387-8ec6-d2a1b2e801d5-SegmentedRaftLogWorker:Storage Directory /workdir/hadoop-ozone/integration-test/target/test-dir/MiniOzoneClusterImpl-4df9fbe8-bd9f-48ff-b9d2-b0c93ccc846c/datanode-0/data/ratis/983d7be0-cb06-498a-b24b-0f385d95e4a0] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:run(313)) - 9512c027-07d3-4387-8ec6-d2a1b2e801d5-SegmentedRaftLogWorker:Storage Directory /workdir/hadoop-ozone/integration-test/target/test-dir/MiniOzoneClusterImpl-4df9fbe8-bd9f-48ff-b9d2-b0c93ccc846c/datanode-0/data/ratis/983d7be0-cb06-498a-b24b-0f385d95e4a0 was interrupted, exiting. There are 0 tasks remaining in the queue.
2019-08-23 05:27:57,970 [grpc-default-executor-1] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:close(228)) - 9512c027-07d3-4387-8ec6-d2a1b2e801d5-SegmentedRaftLogWorker:Storage Directory /workdir/hadoop-ozone/integration-test/target/test-dir/MiniOzoneClusterImpl-4df9fbe8-bd9f-48ff-b9d2-b0c93ccc846c/datanode-0/data/ratis/983d7be0-cb06-498a-b24b-0f385d95e4a0 close()
2019-08-23 05:27:57,978 [RatisPipelineUtilsThread] INFO  pipeline.PipelineStateManager (PipelineStateManager.java:removePipeline(108)) - Pipeline Pipeline[ Id: 983d7be0-cb06-498a-b24b-0f385d95e4a0, Nodes: 9512c027-07d3-4387-8ec6-d2a1b2e801d5{ip: 192.168.5.178, host: trunk-nightly-zfkm8-417691344, networkLocation: /default-rack, certSerialId: null}, Type:RATIS, Factor:ONE, State:CLOSED] removed from db
2019-08-23 05:27:58,067 | INFO  | SCMAudit | user=jenkins1000 | ip=192.168.5.178 | op=SEND_HEARTBEAT {datanodeUUID=9512c027-07d3-4387-8ec6-d2a1b2e801d5, command=[]} | ret=SUCCESS |  
2019-08-23 05:27:58,268 | INFO  | SCMAudit | user=jenkins1000 | ip=192.168.5.178 | op=SEND_HEARTBEAT {datanodeUUID=9512c027-07d3-4387-8ec6-d2a1b2e801d5, command=[]} | ret=SUCCESS |  
2019-08-23 05:27:58,468 | INFO  | SCMAudit | user=jenkins1000 | ip=192.168.5.178 | op=SEND_HEARTBEAT {datanodeUUID=9512c027-07d3-4387-8ec6-d2a1b2e801d5, command=[]} | ret=SUCCESS |  
2019-08-23 05:27:58,667 [Command processor thread] ERROR commandhandler.CloseContainerCommandHandler (CloseContainerCommandHandler.java:handle(124)) - Can't close container #3
org.apache.hadoop.hdds.scm.container.common.helpers.StorageContainerException: Cannot quasi close container #3 while in UNHEALTHY state.
	at org.apache.hadoop.ozone.container.keyvalue.KeyValueHandler.quasiCloseContainer(KeyValueHandler.java:930)
	at org.apache.hadoop.ozone.container.ozoneimpl.ContainerController.quasiCloseContainer(ContainerController.java:107)
	at org.apache.hadoop.ozone.container.common.statemachine.commandhandler.CloseContainerCommandHandler.handle(CloseContainerCommandHandler.java:116)
	at org.apache.hadoop.ozone.container.common.statemachine.commandhandler.CommandDispatcher.handle(CommandDispatcher.java:93)
	at org.apache.hadoop.ozone.container.common.statemachine.DatanodeStateMachine.lambda$initCommandHandlerThread$1(DatanodeStateMachine.java:432)
	at java.lang.Thread.run(Thread.java:748)
2019-08-23 05:27:58,668 | INFO  | SCMAudit | user=jenkins1000 | ip=192.168.5.178 | op=SEND_HEARTBEAT {datanodeUUID=9512c027-07d3-4387-8ec6-d2a1b2e801d5, command=[]} | ret=SUCCESS |  
2019-08-23 05:27:58,870 | INFO  | SCMAudit | user=jenkins1000 | ip=192.168.5.178 | op=SEND_HEARTBEAT {datanodeUUID=9512c027-07d3-4387-8ec6-d2a1b2e801d5, command=[]} | ret=SUCCESS |  
2019-08-23 05:27:59,069 | INFO  | SCMAudit | user=jenkins1000 | ip=192.168.5.178 | op=SEND_HEARTBEAT {datanodeUUID=9512c027-07d3-4387-8ec6-d2a1b2e801d5, command=[]} | ret=SUCCESS |  
2019-08-23 05:27:59,268 | INFO  | SCMAudit | user=jenkins1000 | ip=192.168.5.178 | op=SEND_HEARTBEAT {datanodeUUID=9512c027-07d3-4387-8ec6-d2a1b2e801d5, command=[]} | ret=SUCCESS |  
2019-08-23 05:27:59,468 | INFO  | SCMAudit | user=jenkins1000 | ip=192.168.5.178 | op=SEND_HEARTBEAT {datanodeUUID=9512c027-07d3-4387-8ec6-d2a1b2e801d5, command=[]} | ret=SUCCESS |  
2019-08-23 05:27:59,517 [grpc-default-executor-0] INFO  client.GrpcClientProtocolClient (GrpcClientProtocolClient.java:onNext(255)) - client-5D6704742745->9512c027-07d3-4387-8ec6-d2a1b2e801d5: receive RaftClientReply:client-5D6704742745->9512c027-07d3-4387-8ec6-d2a1b2e801d5@group-59F1B566F9DD, cid=22, FAILED org.apache.ratis.protocol.NotLeaderException: Server 9512c027-07d3-4387-8ec6-d2a1b2e801d5 is not the leader (null). Request must be sent to leader., logIndex=0, commits[9512c027-07d3-4387-8ec6-d2a1b2e801d5:c-1]
2019-08-23 05:27:59,669 | INFO  | SCMAudit | user=jenkins1000 | ip=192.168.5.178 | op=SEND_HEARTBEAT {datanodeUUID=9512c027-07d3-4387-8ec6-d2a1b2e801d5, command=[]} | ret=SUCCESS |  
2019-08-23 05:27:59,869 | INFO  | SCMAudit | user=jenkins1000 | ip=192.168.5.178 | op=SEND_HEARTBEAT {datanodeUUID=9512c027-07d3-4387-8ec6-d2a1b2e801d5, command=[]} | ret=SUCCESS |  
2019-08-23 05:28:00,068 | INFO  | SCMAudit | user=jenkins1000 | ip=192.168.5.178 | op=SEND_HEARTBEAT {datanodeUUID=9512c027-07d3-4387-8ec6-d2a1b2e801d5, command=[]} | ret=SUCCESS |  
2019-08-23 05:28:00,268 | INFO  | SCMAudit | user=jenkins1000 | ip=192.168.5.178 | op=SEND_HEARTBEAT {datanodeUUID=9512c027-07d3-4387-8ec6-d2a1b2e801d5, command=[]} | ret=SUCCESS |  
2019-08-23 05:28:00,468 | INFO  | SCMAudit | user=jenkins1000 | ip=192.168.5.178 | op=SEND_HEARTBEAT {datanodeUUID=9512c027-07d3-4387-8ec6-d2a1b2e801d5, command=[]} | ret=SUCCESS |  
2019-08-23 05:28:00,669 | INFO  | SCMAudit | user=jenkins1000 | ip=192.168.5.178 | op=SEND_HEARTBEAT {datanodeUUID=9512c027-07d3-4387-8ec6-d2a1b2e801d5, command=[]} | ret=SUCCESS |  
2019-08-23 05:28:00,869 | INFO  | SCMAudit | user=jenkins1000 | ip=192.168.5.178 | op=SEND_HEARTBEAT {datanodeUUID=9512c027-07d3-4387-8ec6-d2a1b2e801d5, command=[]} | ret=SUCCESS |  
2019-08-23 05:28:01,069 | INFO  | SCMAudit | user=jenkins1000 | ip=192.168.5.178 | op=SEND_HEARTBEAT {datanodeUUID=9512c027-07d3-4387-8ec6-d2a1b2e801d5, command=[]} | ret=SUCCESS |  
2019-08-23 05:28:01,270 | INFO  | SCMAudit | user=jenkins1000 | ip=192.168.5.178 | op=SEND_HEARTBEAT {datanodeUUID=9512c027-07d3-4387-8ec6-d2a1b2e801d5, command=[]} | ret=SUCCESS |  
2019-08-23 05:28:01,469 | INFO  | SCMAudit | user=jenkins1000 | ip=192.168.5.178 | op=SEND_HEARTBEAT {datanodeUUID=9512c027-07d3-4387-8ec6-d2a1b2e801d5, command=[]} | ret=SUCCESS |  
2019-08-23 05:28:01,541 [grpc-default-executor-1] INFO  client.GrpcClientProtocolClient (GrpcClientProtocolClient.java:onNext(255)) - client-5D6704742745->9512c027-07d3-4387-8ec6-d2a1b2e801d5: receive RaftClientReply:client-5D6704742745->9512c027-07d3-4387-8ec6-d2a1b2e801d5@group-59F1B566F9DD, cid=22, FAILED org.apache.ratis.protocol.NotLeaderException: Server 9512c027-07d3-4387-8ec6-d2a1b2e801d5 is not the leader (null). Request must be sent to leader., logIndex=0, commits[9512c027-07d3-4387-8ec6-d2a1b2e801d5:c-1]
2019-08-23 05:28:01,564 [Thread-305] INFO  impl.FollowerState (FollowerState.java:run(106)) - 9512c027-07d3-4387-8ec6-d2a1b2e801d5:group-59F1B566F9DD changes to CANDIDATE, lastRpcTime:5067, electionTimeout:5067ms
2019-08-23 05:28:01,565 [Thread-305] INFO  impl.RoleInfo (RoleInfo.java:shutdownFollowerState(121)) - 9512c027-07d3-4387-8ec6-d2a1b2e801d5: shutdown FollowerState
2019-08-23 05:28:01,565 [Thread-305] INFO  impl.RaftServerImpl (RaftServerImpl.java:setRole(171)) - 9512c027-07d3-4387-8ec6-d2a1b2e801d5:group-59F1B566F9DD changes role from FOLLOWER to CANDIDATE at term 0 for changeToCandidate
2019-08-23 05:28:01,565 [Thread-305] INFO  impl.RoleInfo (RoleInfo.java:updateAndGet(143)) - 9512c027-07d3-4387-8ec6-d2a1b2e801d5: start LeaderElection
2019-08-23 05:28:01,593 [9512c027-07d3-4387-8ec6-d2a1b2e801d5:group-59F1B566F9DD:LeaderElection7] INFO  impl.LeaderElection (LeaderElection.java:askForVotes(181)) - 9512c027-07d3-4387-8ec6-d2a1b2e801d5:group-59F1B566F9DD:LeaderElection7: begin an election at term 1 for -1: [9512c027-07d3-4387-8ec6-d2a1b2e801d5:192.168.5.178:42859], old=null
2019-08-23 05:28:01,595 [9512c027-07d3-4387-8ec6-d2a1b2e801d5:group-59F1B566F9DD:LeaderElection7] INFO  impl.RoleInfo (RoleInfo.java:shutdownLeaderElection(134)) - 9512c027-07d3-4387-8ec6-d2a1b2e801d5: shutdown LeaderElection
2019-08-23 05:28:01,595 [9512c027-07d3-4387-8ec6-d2a1b2e801d5:group-59F1B566F9DD:LeaderElection7] INFO  impl.RaftServerImpl (RaftServerImpl.java:setRole(171)) - 9512c027-07d3-4387-8ec6-d2a1b2e801d5:group-59F1B566F9DD changes role from CANDIDATE to LEADER at term 1 for changeToLeader
2019-08-23 05:28:01,595 [9512c027-07d3-4387-8ec6-d2a1b2e801d5:group-59F1B566F9DD:LeaderElection7] INFO  impl.RaftServerImpl (ServerState.java:setLeader(263)) - 9512c027-07d3-4387-8ec6-d2a1b2e801d5:group-59F1B566F9DD change Leader from null to 9512c027-07d3-4387-8ec6-d2a1b2e801d5 at term 1 for becomeLeader, leader elected after 5103ms
2019-08-23 05:28:01,596 [9512c027-07d3-4387-8ec6-d2a1b2e801d5:group-59F1B566F9DD:LeaderElection7] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.staging.catchup.gap = 1000 (default)
2019-08-23 05:28:01,596 [9512c027-07d3-4387-8ec6-d2a1b2e801d5:group-59F1B566F9DD:LeaderElection7] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.rpc.sleep.time = 25ms (default)
2019-08-23 05:28:01,596 [9512c027-07d3-4387-8ec6-d2a1b2e801d5:group-59F1B566F9DD:LeaderElection7] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.write.element-limit = 4096 (default)
2019-08-23 05:28:01,596 [9512c027-07d3-4387-8ec6-d2a1b2e801d5:group-59F1B566F9DD:LeaderElection7] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.watch.timeout = 10s (default)
2019-08-23 05:28:01,596 [9512c027-07d3-4387-8ec6-d2a1b2e801d5:group-59F1B566F9DD:LeaderElection7] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.watch.timeout.denomination = 1s (default)
2019-08-23 05:28:01,597 [9512c027-07d3-4387-8ec6-d2a1b2e801d5:group-59F1B566F9DD:LeaderElection7] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.watch.element-limit = 65536 (default)
2019-08-23 05:28:01,597 [9512c027-07d3-4387-8ec6-d2a1b2e801d5:group-59F1B566F9DD:LeaderElection7] INFO  impl.RoleInfo (RoleInfo.java:updateAndGet(143)) - 9512c027-07d3-4387-8ec6-d2a1b2e801d5: start LeaderState
2019-08-23 05:28:01,597 [9512c027-07d3-4387-8ec6-d2a1b2e801d5:group-59F1B566F9DD:LeaderElection7] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:startLogSegment(380)) - 9512c027-07d3-4387-8ec6-d2a1b2e801d5-SegmentedRaftLogWorker:Storage Directory /workdir/hadoop-ozone/integration-test/target/test-dir/MiniOzoneClusterImpl-4df9fbe8-bd9f-48ff-b9d2-b0c93ccc846c/datanode-0/data/ratis/32382e46-3c56-4153-891a-59f1b566f9dd: Starting segment from index:0
2019-08-23 05:28:01,598 [9512c027-07d3-4387-8ec6-d2a1b2e801d5:group-59F1B566F9DD:LeaderElection7] INFO  impl.RaftServerImpl (ServerState.java:setRaftConf(361)) - 9512c027-07d3-4387-8ec6-d2a1b2e801d5:group-59F1B566F9DD set configuration 0: [9512c027-07d3-4387-8ec6-d2a1b2e801d5:192.168.5.178:42859], old=null at 0
2019-08-23 05:28:01,643 [9512c027-07d3-4387-8ec6-d2a1b2e801d5-SegmentedRaftLogWorker:Storage Directory /workdir/hadoop-ozone/integration-test/target/test-dir/MiniOzoneClusterImpl-4df9fbe8-bd9f-48ff-b9d2-b0c93ccc846c/datanode-0/data/ratis/32382e46-3c56-4153-891a-59f1b566f9dd] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:execute(569)) - 9512c027-07d3-4387-8ec6-d2a1b2e801d5-SegmentedRaftLogWorker:Storage Directory /workdir/hadoop-ozone/integration-test/target/test-dir/MiniOzoneClusterImpl-4df9fbe8-bd9f-48ff-b9d2-b0c93ccc846c/datanode-0/data/ratis/32382e46-3c56-4153-891a-59f1b566f9dd: created new log segment /workdir/hadoop-ozone/integration-test/target/test-dir/MiniOzoneClusterImpl-4df9fbe8-bd9f-48ff-b9d2-b0c93ccc846c/datanode-0/data/ratis/32382e46-3c56-4153-891a-59f1b566f9dd/current/log_inprogress_0
2019-08-23 05:28:01,670 | INFO  | SCMAudit | user=jenkins1000 | ip=192.168.5.178 | op=SEND_HEARTBEAT {datanodeUUID=9512c027-07d3-4387-8ec6-d2a1b2e801d5, command=[]} | ret=SUCCESS |  
2019-08-23 05:28:01,871 | INFO  | SCMAudit | user=jenkins1000 | ip=192.168.5.178 | op=SEND_HEARTBEAT {datanodeUUID=9512c027-07d3-4387-8ec6-d2a1b2e801d5, command=[]} | ret=SUCCESS |  
2019-08-23 05:28:02,070 | INFO  | SCMAudit | user=jenkins1000 | ip=192.168.5.178 | op=SEND_HEARTBEAT {datanodeUUID=9512c027-07d3-4387-8ec6-d2a1b2e801d5, command=[]} | ret=SUCCESS |  
2019-08-23 05:28:02,271 | INFO  | SCMAudit | user=jenkins1000 | ip=192.168.5.178 | op=SEND_HEARTBEAT {datanodeUUID=9512c027-07d3-4387-8ec6-d2a1b2e801d5, command=[]} | ret=SUCCESS |  
2019-08-23 05:28:02,471 | INFO  | SCMAudit | user=jenkins1000 | ip=192.168.5.178 | op=SEND_HEARTBEAT {datanodeUUID=9512c027-07d3-4387-8ec6-d2a1b2e801d5, command=[]} | ret=SUCCESS |  
2019-08-23 05:28:02,672 | INFO  | SCMAudit | user=jenkins1000 | ip=192.168.5.178 | op=SEND_HEARTBEAT {datanodeUUID=9512c027-07d3-4387-8ec6-d2a1b2e801d5, command=[]} | ret=SUCCESS |  
2019-08-23 05:28:02,872 | INFO  | SCMAudit | user=jenkins1000 | ip=192.168.5.178 | op=SEND_HEARTBEAT {datanodeUUID=9512c027-07d3-4387-8ec6-d2a1b2e801d5, command=[]} | ret=SUCCESS |  
2019-08-23 05:28:03,072 | INFO  | SCMAudit | user=jenkins1000 | ip=192.168.5.178 | op=SEND_HEARTBEAT {datanodeUUID=9512c027-07d3-4387-8ec6-d2a1b2e801d5, command=[]} | ret=SUCCESS |  
2019-08-23 05:28:03,272 | INFO  | SCMAudit | user=jenkins1000 | ip=192.168.5.178 | op=SEND_HEARTBEAT {datanodeUUID=9512c027-07d3-4387-8ec6-d2a1b2e801d5, command=[]} | ret=SUCCESS |  
2019-08-23 05:28:03,471 | INFO  | SCMAudit | user=jenkins1000 | ip=192.168.5.178 | op=SEND_HEARTBEAT {datanodeUUID=9512c027-07d3-4387-8ec6-d2a1b2e801d5, command=[]} | ret=SUCCESS |  
2019-08-23 05:28:03,656 | INFO  | DNAudit | user=null | ip=null | op=WRITE_CHUNK {blockData=conID: 5 locID: 102664639444877319 bcsId: 0} | ret=SUCCESS |  
2019-08-23 05:28:03,657 | INFO  | SCMAudit | user=jenkins1000 | ip=192.168.5.178 | op=SEND_HEARTBEAT {datanodeUUID=9512c027-07d3-4387-8ec6-d2a1b2e801d5, command=[]} | ret=SUCCESS |  
2019-08-23 05:28:03,670 | INFO  | DNAudit | user=null | ip=null | op=WRITE_CHUNK {blockData=conID: 5 locID: 102664639444877319 bcsId: 0} | ret=SUCCESS |  
2019-08-23 05:28:03,676 [grpc-default-executor-2] INFO  client.GrpcClientProtocolClient (GrpcClientProtocolClient.java:onNext(255)) - client-5D6704742745->9512c027-07d3-4387-8ec6-d2a1b2e801d5: receive RaftClientReply:client-5D6704742745->9512c027-07d3-4387-8ec6-d2a1b2e801d5@group-59F1B566F9DD, cid=22, SUCCESS, logIndex=1, commits[9512c027-07d3-4387-8ec6-d2a1b2e801d5:c1]
2019-08-23 05:28:03,681 [StateMachineUpdater:9512c027-07d3-4387-8ec6-d2a1b2e801d5:group-59F1B566F9DD] INFO  ratis.ContainerStateMachine (ContainerStateMachine.java:takeSnapshot(283)) - group-59F1B566F9DD: Taking a snapshot at:(t:1, i:1) file /workdir/hadoop-ozone/integration-test/target/test-dir/MiniOzoneClusterImpl-4df9fbe8-bd9f-48ff-b9d2-b0c93ccc846c/datanode-0/data/ratis/32382e46-3c56-4153-891a-59f1b566f9dd/sm/snapshot.1_1
2019-08-23 05:28:03,707 [StateMachineUpdater:9512c027-07d3-4387-8ec6-d2a1b2e801d5:group-59F1B566F9DD] INFO  ratis.ContainerStateMachine (ContainerStateMachine.java:takeSnapshot(294)) - group-59F1B566F9DD: Finished taking a snapshot at:(t:1, i:1) file:/workdir/hadoop-ozone/integration-test/target/test-dir/MiniOzoneClusterImpl-4df9fbe8-bd9f-48ff-b9d2-b0c93ccc846c/datanode-0/data/ratis/32382e46-3c56-4153-891a-59f1b566f9dd/sm/snapshot.1_1 time:27
2019-08-23 05:28:03,708 [StateMachineUpdater:9512c027-07d3-4387-8ec6-d2a1b2e801d5:group-59F1B566F9DD] INFO  impl.StateMachineUpdater (StateMachineUpdater.java:takeSnapshot(242)) - StateMachineUpdater:9512c027-07d3-4387-8ec6-d2a1b2e801d5:group-59F1B566F9DD: Took a snapshot at index 1
2019-08-23 05:28:03,708 [StateMachineUpdater:9512c027-07d3-4387-8ec6-d2a1b2e801d5:group-59F1B566F9DD] INFO  impl.StateMachineUpdater (StateMachineUpdater.java:lambda$new$0(80)) - StateMachineUpdater:9512c027-07d3-4387-8ec6-d2a1b2e801d5:group-59F1B566F9DD: snapshotIndex: updateIncreasingly -1 -> 1
2019-08-23 05:28:03,731 | INFO  | DNAudit | user=null | ip=null | op=PUT_BLOCK {blockData=[blockId=conID: 5 locID: 102664639444877319 bcsId: 0,size=5]} | ret=SUCCESS |  
2019-08-23 05:28:03,733 [StateMachineUpdater:9512c027-07d3-4387-8ec6-d2a1b2e801d5:group-59F1B566F9DD] INFO  ratis.ContainerStateMachine (ContainerStateMachine.java:takeSnapshot(283)) - group-59F1B566F9DD: Taking a snapshot at:(t:1, i:4) file /workdir/hadoop-ozone/integration-test/target/test-dir/MiniOzoneClusterImpl-4df9fbe8-bd9f-48ff-b9d2-b0c93ccc846c/datanode-0/data/ratis/32382e46-3c56-4153-891a-59f1b566f9dd/sm/snapshot.1_4
2019-08-23 05:28:03,735 [grpc-default-executor-2] INFO  client.GrpcClientProtocolClient (GrpcClientProtocolClient.java:onNext(255)) - client-5D6704742745->9512c027-07d3-4387-8ec6-d2a1b2e801d5: receive RaftClientReply:client-5D6704742745->9512c027-07d3-4387-8ec6-d2a1b2e801d5@group-59F1B566F9DD, cid=23, SUCCESS, logIndex=3, commits[9512c027-07d3-4387-8ec6-d2a1b2e801d5:c4]
2019-08-23 05:28:03,737 [StateMachineUpdater:9512c027-07d3-4387-8ec6-d2a1b2e801d5:group-59F1B566F9DD] INFO  ratis.ContainerStateMachine (ContainerStateMachine.java:takeSnapshot(294)) - group-59F1B566F9DD: Finished taking a snapshot at:(t:1, i:4) file:/workdir/hadoop-ozone/integration-test/target/test-dir/MiniOzoneClusterImpl-4df9fbe8-bd9f-48ff-b9d2-b0c93ccc846c/datanode-0/data/ratis/32382e46-3c56-4153-891a-59f1b566f9dd/sm/snapshot.1_4 time:4
2019-08-23 05:28:03,737 [StateMachineUpdater:9512c027-07d3-4387-8ec6-d2a1b2e801d5:group-59F1B566F9DD] INFO  impl.StateMachineUpdater (StateMachineUpdater.java:takeSnapshot(242)) - StateMachineUpdater:9512c027-07d3-4387-8ec6-d2a1b2e801d5:group-59F1B566F9DD: Took a snapshot at index 4
2019-08-23 05:28:03,737 [StateMachineUpdater:9512c027-07d3-4387-8ec6-d2a1b2e801d5:group-59F1B566F9DD] INFO  impl.StateMachineUpdater (StateMachineUpdater.java:lambda$new$0(80)) - StateMachineUpdater:9512c027-07d3-4387-8ec6-d2a1b2e801d5:group-59F1B566F9DD: snapshotIndex: updateIncreasingly 1 -> 4
2019-08-23 05:28:03,741 | INFO  | DNAudit | user=null | ip=null | op=WRITE_CHUNK {blockData=conID: 5 locID: 102664639444877319 bcsId: 3} | ret=SUCCESS |  
2019-08-23 05:28:03,756 | INFO  | DNAudit | user=null | ip=null | op=WRITE_CHUNK {blockData=conID: 5 locID: 102664639444877319 bcsId: 3} | ret=SUCCESS |  
2019-08-23 05:28:03,757 | INFO  | DNAudit | user=null | ip=null | op=PUT_BLOCK {blockData=[blockId=conID: 5 locID: 102664639444877319 bcsId: 0,size=10]} | ret=SUCCESS |  
2019-08-23 05:28:03,758 [StateMachineUpdater:9512c027-07d3-4387-8ec6-d2a1b2e801d5:group-59F1B566F9DD] INFO  ratis.ContainerStateMachine (ContainerStateMachine.java:takeSnapshot(283)) - group-59F1B566F9DD: Taking a snapshot at:(t:1, i:6) file /workdir/hadoop-ozone/integration-test/target/test-dir/MiniOzoneClusterImpl-4df9fbe8-bd9f-48ff-b9d2-b0c93ccc846c/datanode-0/data/ratis/32382e46-3c56-4153-891a-59f1b566f9dd/sm/snapshot.1_6
2019-08-23 05:28:03,758 [grpc-default-executor-2] INFO  client.GrpcClientProtocolClient (GrpcClientProtocolClient.java:onNext(255)) - client-5D6704742745->9512c027-07d3-4387-8ec6-d2a1b2e801d5: receive RaftClientReply:client-5D6704742745->9512c027-07d3-4387-8ec6-d2a1b2e801d5@group-59F1B566F9DD, cid=25, SUCCESS, logIndex=5, commits[9512c027-07d3-4387-8ec6-d2a1b2e801d5:c6]
2019-08-23 05:28:03,759 [grpc-default-executor-2] INFO  client.GrpcClientProtocolClient (GrpcClientProtocolClient.java:onNext(255)) - client-5D6704742745->9512c027-07d3-4387-8ec6-d2a1b2e801d5: receive RaftClientReply:client-5D6704742745->9512c027-07d3-4387-8ec6-d2a1b2e801d5@group-59F1B566F9DD, cid=26, SUCCESS, logIndex=6, commits[9512c027-07d3-4387-8ec6-d2a1b2e801d5:c7]
2019-08-23 05:28:03,762 [StateMachineUpdater:9512c027-07d3-4387-8ec6-d2a1b2e801d5:group-59F1B566F9DD] INFO  ratis.ContainerStateMachine (ContainerStateMachine.java:takeSnapshot(294)) - group-59F1B566F9DD: Finished taking a snapshot at:(t:1, i:6) file:/workdir/hadoop-ozone/integration-test/target/test-dir/MiniOzoneClusterImpl-4df9fbe8-bd9f-48ff-b9d2-b0c93ccc846c/datanode-0/data/ratis/32382e46-3c56-4153-891a-59f1b566f9dd/sm/snapshot.1_6 time:4
2019-08-23 05:28:03,762 [StateMachineUpdater:9512c027-07d3-4387-8ec6-d2a1b2e801d5:group-59F1B566F9DD] INFO  impl.StateMachineUpdater (StateMachineUpdater.java:takeSnapshot(242)) - StateMachineUpdater:9512c027-07d3-4387-8ec6-d2a1b2e801d5:group-59F1B566F9DD: Took a snapshot at index 6
2019-08-23 05:28:03,762 [StateMachineUpdater:9512c027-07d3-4387-8ec6-d2a1b2e801d5:group-59F1B566F9DD] INFO  impl.StateMachineUpdater (StateMachineUpdater.java:lambda$new$0(80)) - StateMachineUpdater:9512c027-07d3-4387-8ec6-d2a1b2e801d5:group-59F1B566F9DD: snapshotIndex: updateIncreasingly 4 -> 6
2019-08-23 05:28:03,762 [StateMachineUpdater:9512c027-07d3-4387-8ec6-d2a1b2e801d5:group-59F1B566F9DD] INFO  ratis.ContainerStateMachine (ContainerStateMachine.java:takeSnapshot(283)) - group-59F1B566F9DD: Taking a snapshot at:(t:1, i:6) file /workdir/hadoop-ozone/integration-test/target/test-dir/MiniOzoneClusterImpl-4df9fbe8-bd9f-48ff-b9d2-b0c93ccc846c/datanode-0/data/ratis/32382e46-3c56-4153-891a-59f1b566f9dd/sm/snapshot.1_6
2019-08-23 05:28:03,765 [StateMachineUpdater:9512c027-07d3-4387-8ec6-d2a1b2e801d5:group-59F1B566F9DD] INFO  ratis.ContainerStateMachine (ContainerStateMachine.java:takeSnapshot(294)) - group-59F1B566F9DD: Finished taking a snapshot at:(t:1, i:6) file:/workdir/hadoop-ozone/integration-test/target/test-dir/MiniOzoneClusterImpl-4df9fbe8-bd9f-48ff-b9d2-b0c93ccc846c/datanode-0/data/ratis/32382e46-3c56-4153-891a-59f1b566f9dd/sm/snapshot.1_6 time:3
2019-08-23 05:28:03,765 [StateMachineUpdater:9512c027-07d3-4387-8ec6-d2a1b2e801d5:group-59F1B566F9DD] INFO  impl.StateMachineUpdater (StateMachineUpdater.java:takeSnapshot(242)) - StateMachineUpdater:9512c027-07d3-4387-8ec6-d2a1b2e801d5:group-59F1B566F9DD: Took a snapshot at index 6
2019-08-23 05:28:03,765 [StateMachineUpdater:9512c027-07d3-4387-8ec6-d2a1b2e801d5:group-59F1B566F9DD] INFO  impl.StateMachineUpdater (StateMachineUpdater.java:lambda$new$0(80)) - StateMachineUpdater:9512c027-07d3-4387-8ec6-d2a1b2e801d5:group-59F1B566F9DD: snapshotIndex: updateIncreasingly 6 -> 6
2019-08-23 05:28:03,766 | INFO  | OMAudit | user=jenkins1000 | ip=127.0.0.1 | op=COMMIT_KEY {volume=testcontainerstatemachinefailures, bucket=testcontainerstatemachinefailures, key=ratis, dataSize=10, replicationType=null, replicationFactor=null, keyLocationInfo=[{blockID={containerID=5, localID=102664639444877319}, length=10, offset=0, token=null, pipeline=Pipeline[ Id: 32382e46-3c56-4153-891a-59f1b566f9dd, Nodes: 9512c027-07d3-4387-8ec6-d2a1b2e801d5{ip: 192.168.5.178, host: trunk-nightly-zfkm8-417691344, networkLocation: /default-rack, certSerialId: null}, Type:RATIS, Factor:ONE, State:OPEN], createVersion=0}], clientID=102664639444090886} | ret=SUCCESS |  
2019-08-23 05:28:03,776 [main] INFO  ozone.MiniOzoneClusterImpl (MiniOzoneClusterImpl.java:getStorageContainerLocationClient(241)) - Creating StorageContainerLocationProtocol RPC client with address /0.0.0.0:44384
2019-08-23 05:28:03,785 | INFO  | SCMAudit | user=jenkins1000 | ip=192.168.5.178 | op=GET_CONTAINER_WITH_PIPELINE {containerID=#5} | ret=SUCCESS |  
2019-08-23 05:28:03,818 [RatisApplyTransactionExecutor 5] INFO  keyvalue.KeyValueHandler (ContainerUtils.java:logAndReturnError(146)) - Operation: CloseContainer : Trace ID: 50f16e0ae6591dc5:50f16e0ae6591dc5:0:0 : Message: Error while creating/ updating .container file. ContainerID: 5 : Result: CONTAINER_FILES_CREATE_ERROR
2019-08-23 05:28:03,819 [RatisApplyTransactionExecutor 5] WARN  keyvalue.KeyValueHandler (KeyValueHandler.java:markContainerUnhealthy(909)) - Unexpected error while marking container 5 as unhealthy
org.apache.hadoop.hdds.scm.container.common.helpers.StorageContainerException: Error while creating/ updating .container file. ContainerID: 5
	at org.apache.hadoop.ozone.container.keyvalue.KeyValueContainer.writeToContainerFile(KeyValueContainer.java:231)
	at org.apache.hadoop.ozone.container.keyvalue.KeyValueContainer.updateContainerFile(KeyValueContainer.java:251)
	at org.apache.hadoop.ozone.container.keyvalue.KeyValueContainer.updateContainerData(KeyValueContainer.java:339)
	at org.apache.hadoop.ozone.container.keyvalue.KeyValueContainer.markContainerUnhealthy(KeyValueContainer.java:292)
	at org.apache.hadoop.ozone.container.keyvalue.KeyValueHandler.markContainerUnhealthy(KeyValueHandler.java:904)
	at org.apache.hadoop.ozone.container.common.impl.HddsDispatcher.dispatchRequest(HddsDispatcher.java:303)
	at org.apache.hadoop.ozone.container.common.impl.HddsDispatcher.dispatch(HddsDispatcher.java:148)
	at org.apache.hadoop.ozone.container.common.transport.server.ratis.ContainerStateMachine.dispatchCommand(ContainerStateMachine.java:395)
	at org.apache.hadoop.ozone.container.common.transport.server.ratis.ContainerStateMachine.runCommand(ContainerStateMachine.java:403)
	at org.apache.hadoop.ozone.container.common.transport.server.ratis.ContainerStateMachine.lambda$applyTransaction$6(ContainerStateMachine.java:691)
	at java.util.concurrent.CompletableFuture$AsyncSupply.run(CompletableFuture.java:1590)
	at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1149)
	at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:624)
	at java.lang.Thread.run(Thread.java:748)
Caused by: java.io.IOException: No such file or directory
	at java.io.UnixFileSystem.createFileExclusively(Native Method)
	at java.io.File.createTempFile(File.java:2024)
	at org.apache.hadoop.ozone.container.keyvalue.KeyValueContainer.createTempFile(KeyValueContainer.java:707)
	at org.apache.hadoop.ozone.container.keyvalue.KeyValueContainer.writeToContainerFile(KeyValueContainer.java:216)
	... 13 more
2019-08-23 05:28:03,820 | ERROR | DNAudit | user=null | ip=null | op=CLOSE_CONTAINER {containerID=5} | ret=FAILURE | java.lang.Exception: Error while creating/ updating .container file. ContainerID: 5
	at org.apache.hadoop.ozone.container.common.impl.HddsDispatcher.dispatchRequest(HddsDispatcher.java:320)
	at org.apache.hadoop.ozone.container.common.impl.HddsDispatcher.dispatch(HddsDispatcher.java:148) 
2019-08-23 05:28:03,822 [RatisApplyTransactionExecutor 5] ERROR ratis.ContainerStateMachine (ContainerStateMachine.java:lambda$applyTransaction$7(702)) - gid group-59F1B566F9DD : ApplyTransaction failed. cmd CloseContainer logIndex 8 msg : Error while creating/ updating .container file. ContainerID: 5 Container Result: CONTAINER_FILES_CREATE_ERROR
2019-08-23 05:28:03,825 | INFO  | SCMAudit | user=jenkins1000 | ip=192.168.5.178 | op=SEND_HEARTBEAT {datanodeUUID=9512c027-07d3-4387-8ec6-d2a1b2e801d5, command=[]} | ret=SUCCESS |  
2019-08-23 05:28:03,825 [StateMachineUpdater:9512c027-07d3-4387-8ec6-d2a1b2e801d5:group-59F1B566F9DD] ERROR impl.StateMachineUpdater (StateMachineUpdater.java:run(168)) - StateMachineUpdater:9512c027-07d3-4387-8ec6-d2a1b2e801d5:group-59F1B566F9DD: the StateMachineUpdater hits Throwable
java.util.concurrent.ExecutionException: org.apache.hadoop.hdds.scm.container.common.helpers.StorageContainerException: Error while creating/ updating .container file. ContainerID: 5
	at java.util.concurrent.CompletableFuture.reportGet(CompletableFuture.java:357)
	at java.util.concurrent.CompletableFuture.get(CompletableFuture.java:1895)
	at org.apache.ratis.server.impl.StateMachineUpdater.run(StateMachineUpdater.java:149)
	at java.lang.Thread.run(Thread.java:748)
Caused by: org.apache.hadoop.hdds.scm.container.common.helpers.StorageContainerException: Error while creating/ updating .container file. ContainerID: 5
	at org.apache.hadoop.ozone.container.common.transport.server.ratis.ContainerStateMachine.lambda$applyTransaction$7(ContainerStateMachine.java:701)
	at java.util.concurrent.CompletableFuture.uniApply(CompletableFuture.java:602)
	at java.util.concurrent.CompletableFuture$UniApply.tryFire(CompletableFuture.java:577)
	at java.util.concurrent.CompletableFuture.postComplete(CompletableFuture.java:474)
	at java.util.concurrent.CompletableFuture$AsyncSupply.run(CompletableFuture.java:1595)
	at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1149)
	at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:624)
	... 1 more
2019-08-23 05:28:03,833 [EventQueue-CloseContainerForCloseContainerEventHandler] INFO  container.CloseContainerEventHandler (CloseContainerEventHandler.java:onMessage(61)) - Close container Event triggered for container : #5
2019-08-23 05:28:03,825 [EventQueue-IncrementalContainerReportForIncrementalContainerReportHandler] WARN  container.IncrementalContainerReportHandler (AbstractContainerReportHandler.java:updateContainerState(143)) - Container #5 is in OPEN state, but the datanode 9512c027-07d3-4387-8ec6-d2a1b2e801d5{ip: 192.168.5.178, host: trunk-nightly-zfkm8-417691344, networkLocation: /default-rack, certSerialId: null} reports an UNHEALTHY replica.
2019-08-23 05:28:03,827 [RatisApplyTransactionExecutor 5] ERROR ratis.XceiverServerRatis (XceiverServerRatis.java:triggerPipelineClose(561)) - pipeline Action CLOSE  on pipeline PipelineID=32382e46-3c56-4153-891a-59f1b566f9dd.Reason : Ratis Transaction failure in datanode 9512c027-07d3-4387-8ec6-d2a1b2e801d5 with role LEADER .Triggering pipeline close action.
2019-08-23 05:28:03,837 [StateMachineUpdater:9512c027-07d3-4387-8ec6-d2a1b2e801d5:group-59F1B566F9DD] INFO  impl.RaftServerImpl (RaftServerImpl.java:lambda$shutdown$3(245)) - 9512c027-07d3-4387-8ec6-d2a1b2e801d5: shutdown group-59F1B566F9DD
2019-08-23 05:28:03,839 [StateMachineUpdater:9512c027-07d3-4387-8ec6-d2a1b2e801d5:group-59F1B566F9DD] INFO  util.JmxRegister (JmxRegister.java:unregister(73)) - Successfully un-registered JMX Bean with object name Ratis:service=RaftServer,group=group-59F1B566F9DD,id=9512c027-07d3-4387-8ec6-d2a1b2e801d5
2019-08-23 05:28:03,839 [StateMachineUpdater:9512c027-07d3-4387-8ec6-d2a1b2e801d5:group-59F1B566F9DD] INFO  impl.RoleInfo (RoleInfo.java:shutdownLeaderState(104)) - 9512c027-07d3-4387-8ec6-d2a1b2e801d5: shutdown LeaderState
2019-08-23 05:28:03,840 [EventQueue-PipelineActionsForPipelineActionHandler] ERROR pipeline.PipelineActionHandler (PipelineActionHandler.java:onMessage(60)) - Received pipeline action CLOSE for Pipeline[ Id: 32382e46-3c56-4153-891a-59f1b566f9dd, Nodes: 9512c027-07d3-4387-8ec6-d2a1b2e801d5{ip: 192.168.5.178, host: trunk-nightly-zfkm8-417691344, networkLocation: /default-rack, certSerialId: null}, Type:RATIS, Factor:ONE, State:OPEN] from datanode 9512c027-07d3-4387-8ec6-d2a1b2e801d5{ip: 192.168.5.178, host: trunk-nightly-zfkm8-417691344, networkLocation: /default-rack, certSerialId: null}. Reason : Ratis Transaction failure in datanode 9512c027-07d3-4387-8ec6-d2a1b2e801d5 with role LEADER .Triggering pipeline close action.
2019-08-23 05:28:03,840 [StateMachineUpdater:9512c027-07d3-4387-8ec6-d2a1b2e801d5:group-59F1B566F9DD] INFO  impl.PendingRequests (PendingRequests.java:sendNotLeaderResponses(202)) - 9512c027-07d3-4387-8ec6-d2a1b2e801d5-PendingRequests: sendNotLeaderResponses
2019-08-23 05:28:03,840 [EventQueue-PipelineActionsForPipelineActionHandler] INFO  pipeline.SCMPipelineManager (SCMPipelineManager.java:finalizeAndDestroyPipeline(309)) - destroying pipeline:Pipeline[ Id: 32382e46-3c56-4153-891a-59f1b566f9dd, Nodes: 9512c027-07d3-4387-8ec6-d2a1b2e801d5{ip: 192.168.5.178, host: trunk-nightly-zfkm8-417691344, networkLocation: /default-rack, certSerialId: null}, Type:RATIS, Factor:ONE, State:OPEN]
2019-08-23 05:28:03,842 [EventQueue-PipelineActionsForPipelineActionHandler] INFO  pipeline.PipelineStateManager (PipelineStateManager.java:finalizePipeline(123)) - Pipeline Pipeline[ Id: 32382e46-3c56-4153-891a-59f1b566f9dd, Nodes: 9512c027-07d3-4387-8ec6-d2a1b2e801d5{ip: 192.168.5.178, host: trunk-nightly-zfkm8-417691344, networkLocation: /default-rack, certSerialId: null}, Type:RATIS, Factor:ONE, State:CLOSED] moved to CLOSED state
2019-08-23 05:28:03,846 | INFO  | SCMAudit | user=jenkins1000 | ip=192.168.5.178 | op=SEND_HEARTBEAT {datanodeUUID=9512c027-07d3-4387-8ec6-d2a1b2e801d5, command=[commandType: closeContainerCommand closeContainerCommandProto { containerID: 5 pipelineID { id: "32382e46-3c56-4153-891a-59f1b566f9dd" } cmdId: 5 force: false } ]} | ret=SUCCESS |  
2019-08-23 05:28:03,847 [StateMachineUpdater:9512c027-07d3-4387-8ec6-d2a1b2e801d5:group-59F1B566F9DD] INFO  impl.StateMachineUpdater (StateMachineUpdater.java:stopAndJoin(115)) - StateMachineUpdater:9512c027-07d3-4387-8ec6-d2a1b2e801d5:group-59F1B566F9DD: set stopIndex = 9
2019-08-23 05:28:03,850 [grpc-default-executor-2] INFO  client.GrpcClientProtocolClient (GrpcClientProtocolClient.java:onNext(255)) - client-5DBF6E03B025->9512c027-07d3-4387-8ec6-d2a1b2e801d5: receive RaftClientReply:client-5DBF6E03B025->9512c027-07d3-4387-8ec6-d2a1b2e801d5@group-59F1B566F9DD, cid=27, FAILED org.apache.ratis.protocol.StateMachineException: org.apache.hadoop.hdds.scm.container.common.helpers.StorageContainerException: Error while creating/ updating .container file. ContainerID: 5, logIndex=8, commits[9512c027-07d3-4387-8ec6-d2a1b2e801d5:c9]
2019-08-23 05:28:03,896 [main] INFO  ozone.MiniOzoneClusterImpl (MiniOzoneClusterImpl.java:shutdown(321)) - Shutting down the Mini Ozone Cluster
2019-08-23 05:28:03,897 | INFO  | SCMAudit | user=null | ip=null | op=GET_SCM_INFO null | ret=SUCCESS |  
2019-08-23 05:28:03,897 [main] INFO  ozone.MiniOzoneClusterImpl (MiniOzoneClusterImpl.java:stop(336)) - Stopping the Mini Ozone Cluster
2019-08-23 05:28:03,897 [main] INFO  ozone.MiniOzoneClusterImpl (MiniOzoneClusterImpl.java:stop(338)) - Stopping the OzoneManager
2019-08-23 05:28:03,897 [main] INFO  ipc.Server (Server.java:stop(3082)) - Stopping server on 37868
2019-08-23 05:28:03,908 [IPC Server listener on 37868] INFO  ipc.Server (Server.java:run(1185)) - Stopping IPC Server listener on 37868
2019-08-23 05:28:03,909 [main] INFO  ratis.OzoneManagerDoubleBuffer (OzoneManagerDoubleBuffer.java:stop(248)) - Stopping OMDoubleBuffer flush thread
2019-08-23 05:28:03,911 [IPC Server Responder] INFO  ipc.Server (Server.java:run(1319)) - Stopping IPC Server Responder
2019-08-23 05:28:03,918 [OMDoubleBufferFlushThread] INFO  ratis.OzoneManagerDoubleBuffer (OzoneManagerDoubleBuffer.java:flushTransactions(191)) - OMDoubleBuffer flush thread OMDoubleBufferFlushThread is interrupted and will exit. OMDoubleBufferFlushThread
2019-08-23 05:28:03,920 [main] INFO  utils.BackgroundService (BackgroundService.java:shutdown(148)) - Shutting down service KeyDeletingService
2019-08-23 05:28:03,921 [main] INFO  handler.ContextHandler (ContextHandler.java:doStop(910)) - Stopped o.e.j.w.WebAppContext@65bb9029{/,null,UNAVAILABLE}{/ozoneManager}
2019-08-23 05:28:03,921 [main] INFO  server.AbstractConnector (AbstractConnector.java:doStop(318)) - Stopped ServerConnector@1bfe3203{HTTP/1.1,[http/1.1]}{0.0.0.0:0}
2019-08-23 05:28:03,922 [main] INFO  handler.ContextHandler (ContextHandler.java:doStop(910)) - Stopped o.e.j.s.ServletContextHandler@72fe8a4f{/static,file:///workdir/hadoop-ozone/integration-test/target/test-classes/webapps/static,UNAVAILABLE}
2019-08-23 05:28:03,922 [main] INFO  handler.ContextHandler (ContextHandler.java:doStop(910)) - Stopped o.e.j.s.ServletContextHandler@325bb9a6{/logs,file:///workdir/hadoop-ozone/integration-test/target/log,UNAVAILABLE}
2019-08-23 05:28:03,925 [main] INFO  ozone.MiniOzoneClusterImpl (MiniOzoneClusterImpl.java:stop(344)) - Shutting the HddsDatanodes
2019-08-23 05:28:03,925 [main] INFO  datanode.ObjectStoreHandler (ObjectStoreHandler.java:close(155)) - Closing ObjectStoreHandler.
2019-08-23 05:28:03,926 [main] INFO  ozone.HddsDatanodeService (HddsDatanodeService.java:stop(451)) - Stopped plug-in org.apache.hadoop.ozone.web.OzoneHddsDatanodeService@712cd5d3
2019-08-23 05:28:04,027 [Datanode State Machine Thread - 0] INFO  statemachine.DatanodeStateMachine (DatanodeStateMachine.java:lambda$startDaemon$0(350)) - Ozone container server started.
2019-08-23 05:28:06,857 [EventQueue-StaleNodeForStaleNodeHandler] INFO  node.StaleNodeHandler (StaleNodeHandler.java:onMessage(58)) - Datanode 9512c027-07d3-4387-8ec6-d2a1b2e801d5{ip: 192.168.5.178, host: trunk-nightly-zfkm8-417691344, networkLocation: /default-rack, certSerialId: null} moved to stale state. Finalizing its pipelines [PipelineID=32382e46-3c56-4153-891a-59f1b566f9dd]
2019-08-23 05:28:06,857 [EventQueue-StaleNodeForStaleNodeHandler] INFO  pipeline.SCMPipelineManager (SCMPipelineManager.java:finalizeAndDestroyPipeline(309)) - destroying pipeline:Pipeline[ Id: 32382e46-3c56-4153-891a-59f1b566f9dd, Nodes: 9512c027-07d3-4387-8ec6-d2a1b2e801d5{ip: 192.168.5.178, host: trunk-nightly-zfkm8-417691344, networkLocation: /default-rack, certSerialId: null}, Type:RATIS, Factor:ONE, State:CLOSED]
2019-08-23 05:28:08,927 [main] INFO  ozoneimpl.OzoneContainer (OzoneContainer.java:stop(199)) - Attempting to stop container services.
2019-08-23 05:28:08,928 [main] INFO  impl.RaftServerProxy (RaftServerProxy.java:lambda$close$4(314)) - 9512c027-07d3-4387-8ec6-d2a1b2e801d5: close
2019-08-23 05:28:08,928 [main] INFO  server.GrpcService (GrpcService.java:closeImpl(155)) - 9512c027-07d3-4387-8ec6-d2a1b2e801d5: shutdown server with port 42859 now
2019-08-23 05:28:08,930 [main] INFO  server.GrpcService (GrpcService.java:closeImpl(163)) - 9512c027-07d3-4387-8ec6-d2a1b2e801d5: shutdown server with port 42859 successfully
2019-08-23 05:28:08,934 [main] INFO  utils.BackgroundService (BackgroundService.java:shutdown(148)) - Shutting down service BlockDeletingService
2019-08-23 05:28:08,942 [refreshUsed-/workdir/hadoop-ozone/integration-test/target/test-dir/MiniOzoneClusterImpl-4df9fbe8-bd9f-48ff-b9d2-b0c93ccc846c/datanode-0/data/containers] WARN  fs.CachingGetSpaceUsed (CachingGetSpaceUsed.java:run(183)) - Thread Interrupted waiting to refresh disk information: sleep interrupted
2019-08-23 05:28:08,965 [main] INFO  statemachine.DatanodeStateMachine (DatanodeStateMachine.java:stopDaemon(395)) - Ozone container server stopped.
2019-08-23 05:28:08,966 [main] INFO  handler.ContextHandler (ContextHandler.java:doStop(910)) - Stopped o.e.j.w.WebAppContext@35563e4c{/,null,UNAVAILABLE}{/hddsDatanode}
2019-08-23 05:28:08,967 [main] INFO  server.AbstractConnector (AbstractConnector.java:doStop(318)) - Stopped ServerConnector@6dd79214{HTTP/1.1,[http/1.1]}{0.0.0.0:45799}
2019-08-23 05:28:08,967 [main] INFO  handler.ContextHandler (ContextHandler.java:doStop(910)) - Stopped o.e.j.s.ServletContextHandler@77324a58{/static,jar:file:/home/user/.m2/repository/org/apache/hadoop/hadoop-hdds-container-service/0.5.0-SNAPSHOT/hadoop-hdds-container-service-0.5.0-SNAPSHOT.jar!/webapps/static,UNAVAILABLE}
2019-08-23 05:28:08,968 [main] INFO  handler.ContextHandler (ContextHandler.java:doStop(910)) - Stopped o.e.j.s.ServletContextHandler@5329f6b3{/logs,file:///workdir/hadoop-ozone/integration-test/target/log,UNAVAILABLE}
2019-08-23 05:28:08,969 [main] INFO  ozone.MiniOzoneClusterImpl (MiniOzoneClusterImpl.java:stop(353)) - Stopping the StorageContainerManager
2019-08-23 05:28:08,969 [main] INFO  server.StorageContainerManager (StorageContainerManager.java:stop(797)) - Stopping Replication Manager Service.
2019-08-23 05:28:08,969 [main] INFO  container.ReplicationManager (ReplicationManager.java:stop(193)) - Stopping Replication Monitor Thread.
2019-08-23 05:28:08,970 [main] INFO  server.StorageContainerManager (StorageContainerManager.java:stop(804)) - Stopping Lease Manager of the command watchers
2019-08-23 05:28:08,970 [main] INFO  server.StorageContainerManager (StorageContainerManager.java:stop(811)) - Stopping datanode service RPC server
2019-08-23 05:28:08,970 [main] INFO  server.SCMDatanodeProtocolServer (SCMDatanodeProtocolServer.java:stop(367)) - Stopping the RPC server for DataNodes
2019-08-23 05:28:08,971 [main] INFO  ipc.Server (Server.java:stop(3082)) - Stopping server on 43671
2019-08-23 05:28:08,974 [IPC Server listener on 43671] INFO  ipc.Server (Server.java:run(1185)) - Stopping IPC Server listener on 43671
2019-08-23 05:28:08,974 [IPC Server Responder] INFO  ipc.Server (Server.java:run(1319)) - Stopping IPC Server Responder
2019-08-23 05:28:09,060 [SCM Heartbeat Processing Thread - 0] WARN  node.NodeStateManager (NodeStateManager.java:scheduleNextHealthCheck(646)) - Current Thread is interrupted, shutting down HB processing thread for Node Manager.
2019-08-23 05:28:09,060 [main] INFO  server.StorageContainerManager (StorageContainerManager.java:stop(819)) - Stopping block service RPC server
2019-08-23 05:28:09,061 [main] INFO  server.SCMBlockProtocolServer (SCMBlockProtocolServer.java:stop(148)) - Stopping the RPC server for Block Protocol
2019-08-23 05:28:09,061 [main] INFO  ipc.Server (Server.java:stop(3082)) - Stopping server on 33177
2019-08-23 05:28:09,062 [IPC Server listener on 33177] INFO  ipc.Server (Server.java:run(1185)) - Stopping IPC Server listener on 33177
2019-08-23 05:28:09,062 [main] INFO  server.StorageContainerManager (StorageContainerManager.java:stop(826)) - Stopping the StorageContainerLocationProtocol RPC server
2019-08-23 05:28:09,062 [main] INFO  server.SCMClientProtocolServer (SCMClientProtocolServer.java:stop(159)) - Stopping the RPC server for Client Protocol
2019-08-23 05:28:09,063 [main] INFO  ipc.Server (Server.java:stop(3082)) - Stopping server on 44384
2019-08-23 05:28:09,063 [IPC Server Responder] INFO  ipc.Server (Server.java:run(1319)) - Stopping IPC Server Responder
2019-08-23 05:28:09,064 [IPC Server listener on 44384] INFO  ipc.Server (Server.java:run(1185)) - Stopping IPC Server listener on 44384
2019-08-23 05:28:09,064 [main] INFO  server.StorageContainerManager (StorageContainerManager.java:stop(833)) - Stopping Storage Container Manager HTTP server.
2019-08-23 05:28:09,065 [IPC Server Responder] INFO  ipc.Server (Server.java:run(1319)) - Stopping IPC Server Responder
2019-08-23 05:28:09,067 [main] INFO  handler.ContextHandler (ContextHandler.java:doStop(910)) - Stopped o.e.j.w.WebAppContext@d1f74b8{/,null,UNAVAILABLE}{/scm}
2019-08-23 05:28:09,068 [main] INFO  server.AbstractConnector (AbstractConnector.java:doStop(318)) - Stopped ServerConnector@7072bc39{HTTP/1.1,[http/1.1]}{0.0.0.0:0}
2019-08-23 05:28:09,068 [main] INFO  handler.ContextHandler (ContextHandler.java:doStop(910)) - Stopped o.e.j.s.ServletContextHandler@3f390d63{/static,file:///workdir/hadoop-ozone/integration-test/target/test-classes/webapps/static,UNAVAILABLE}
2019-08-23 05:28:09,069 [main] INFO  handler.ContextHandler (ContextHandler.java:doStop(910)) - Stopped o.e.j.s.ServletContextHandler@1af687fe{/logs,file:///workdir/hadoop-ozone/integration-test/target/log,UNAVAILABLE}
2019-08-23 05:28:09,070 [main] INFO  server.StorageContainerManager (StorageContainerManager.java:stop(844)) - Stopping Block Manager Service.
2019-08-23 05:28:09,070 [main] INFO  utils.BackgroundService (BackgroundService.java:shutdown(148)) - Shutting down service SCMBlockDeletingService
2019-08-23 05:28:09,071 [main] INFO  utils.BackgroundService (BackgroundService.java:shutdown(148)) - Shutting down service SCMBlockDeletingService
2019-08-23 05:28:09,071 [main] INFO  server.StorageContainerManager (StorageContainerManager.java:stop(866)) - Stopping SCM Event Queue.
2019-08-23 05:28:09,080 [main] INFO  impl.MetricsSystemImpl (MetricsSystemImpl.java:stop(210)) - Stopping HddsDatanode metrics system...
2019-08-23 05:28:09,085 [main] INFO  impl.MetricsSystemImpl (MetricsSystemImpl.java:stop(216)) - HddsDatanode metrics system stopped.
