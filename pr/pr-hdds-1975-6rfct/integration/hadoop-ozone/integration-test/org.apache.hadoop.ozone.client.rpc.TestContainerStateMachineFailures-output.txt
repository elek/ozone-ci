2019-08-22 22:38:43,157 [main] WARN  server.ServerUtils (ServerUtils.java:getScmDbDir(145)) - ozone.scm.db.dirs is not configured. We recommend adding this setting. Falling back to ozone.metadata.dirs instead.
2019-08-22 22:38:43,820 [main] WARN  server.ServerUtils (ServerUtils.java:getScmDbDir(145)) - ozone.scm.db.dirs is not configured. We recommend adding this setting. Falling back to ozone.metadata.dirs instead.
2019-08-22 22:38:43,823 [main] WARN  server.ServerUtils (ServerUtils.java:getScmDbDir(145)) - ozone.scm.db.dirs is not configured. We recommend adding this setting. Falling back to ozone.metadata.dirs instead.
2019-08-22 22:38:43,844 [main] INFO  util.log (Log.java:initialized(192)) - Logging initialized @1423ms
2019-08-22 22:38:43,947 [main] INFO  db.DBStoreBuilder (DBStoreBuilder.java:addTable(110)) - using custom profile for table: deletedBlocks
2019-08-22 22:38:43,947 [main] INFO  db.DBStoreBuilder (DBStoreBuilder.java:processTables(161)) - Using default column profile:DBProfile.DISK for Table:deletedBlocks
2019-08-22 22:38:43,948 [main] INFO  db.DBStoreBuilder (DBStoreBuilder.java:addTable(110)) - using custom profile for table: validCerts
2019-08-22 22:38:43,948 [main] INFO  db.DBStoreBuilder (DBStoreBuilder.java:processTables(161)) - Using default column profile:DBProfile.DISK for Table:validCerts
2019-08-22 22:38:43,948 [main] INFO  db.DBStoreBuilder (DBStoreBuilder.java:addTable(110)) - using custom profile for table: revokedCerts
2019-08-22 22:38:43,948 [main] INFO  db.DBStoreBuilder (DBStoreBuilder.java:processTables(161)) - Using default column profile:DBProfile.DISK for Table:revokedCerts
2019-08-22 22:38:43,960 [main] INFO  db.DBStoreBuilder (DBStoreBuilder.java:addTable(110)) - using custom profile for table: default
2019-08-22 22:38:43,961 [main] INFO  db.DBStoreBuilder (DBStoreBuilder.java:processTables(167)) - Using default column profile:DBProfile.DISK for Table:default
2019-08-22 22:38:43,962 [main] INFO  db.DBStoreBuilder (DBStoreBuilder.java:getDbProfile(198)) - Using default options. DBProfile.DISK
2019-08-22 22:38:44,229 [main] INFO  net.NodeSchemaLoader (NodeSchemaLoader.java:loadSchemaFromFile(125)) - Loading file from sun.misc.CompoundEnumeration@6a192cfe
2019-08-22 22:38:44,232 [main] INFO  net.NodeSchemaLoader (NodeSchemaLoader.java:loadSchema(171)) - Loading network topology layer schema file
2019-08-22 22:38:44,341 [main] INFO  node.SCMNodeManager (SCMNodeManager.java:<init>(121)) - Entering startup safe mode.
2019-08-22 22:38:44,446 [main] INFO  algorithms.ContainerPlacementPolicyFactory (ContainerPlacementPolicyFactory.java:getPolicy(55)) - Create container placement policy of type org.apache.hadoop.hdds.scm.container.placement.algorithms.SCMContainerPlacementRandom
2019-08-22 22:38:44,462 [main] WARN  server.ServerUtils (ServerUtils.java:getScmDbDir(145)) - ozone.scm.db.dirs is not configured. We recommend adding this setting. Falling back to ozone.metadata.dirs instead.
2019-08-22 22:38:44,547 [main] INFO  pipeline.SCMPipelineManager (SCMPipelineManager.java:initializePipelineState(126)) - No pipeline exists in current db
2019-08-22 22:38:44,550 [main] WARN  server.ServerUtils (ServerUtils.java:getScmDbDir(145)) - ozone.scm.db.dirs is not configured. We recommend adding this setting. Falling back to ozone.metadata.dirs instead.
2019-08-22 22:38:44,746 [main] WARN  events.EventQueue (EventQueue.java:fireEvent(175)) - No event handler registered for event TypedEvent{payloadType=SafeModeStatus, name='SafeModeStatus'}
2019-08-22 22:38:45,145 [main] INFO  ipc.CallQueueManager (CallQueueManager.java:<init>(84)) - Using callQueue: class java.util.concurrent.LinkedBlockingQueue, queueCapacity: 2000, scheduler: class org.apache.hadoop.ipc.DefaultRpcScheduler, ipcBackoff: false.
2019-08-22 22:38:45,483 [Socket Reader #1 for port 37863] INFO  ipc.Server (Server.java:run(1074)) - Starting Socket Reader #1 for port 37863
2019-08-22 22:38:45,517 [main] INFO  ipc.CallQueueManager (CallQueueManager.java:<init>(84)) - Using callQueue: class java.util.concurrent.LinkedBlockingQueue, queueCapacity: 2000, scheduler: class org.apache.hadoop.ipc.DefaultRpcScheduler, ipcBackoff: false.
2019-08-22 22:38:45,518 [Socket Reader #1 for port 34596] INFO  ipc.Server (Server.java:run(1074)) - Starting Socket Reader #1 for port 34596
2019-08-22 22:38:45,527 [main] INFO  ipc.CallQueueManager (CallQueueManager.java:<init>(84)) - Using callQueue: class java.util.concurrent.LinkedBlockingQueue, queueCapacity: 2000, scheduler: class org.apache.hadoop.ipc.DefaultRpcScheduler, ipcBackoff: false.
2019-08-22 22:38:45,528 [Socket Reader #1 for port 40914] INFO  ipc.Server (Server.java:run(1074)) - Starting Socket Reader #1 for port 40914
2019-08-22 22:38:45,552 [main] INFO  hdfs.DFSUtil (DFSUtil.java:httpServerTemplateForNNAndJN(1641)) - Starting Web-server for scm at: http://0.0.0.0:0
2019-08-22 22:38:45,734 [main] INFO  server.AuthenticationFilter (AuthenticationFilter.java:constructSecretProvider(240)) - Unable to initialize FileSignerSecretProvider, falling back to use random secrets.
2019-08-22 22:38:45,744 [main] WARN  http.HttpRequestLog (HttpRequestLog.java:getRequestLog(97)) - Jetty request log can only be enabled using Log4j
2019-08-22 22:38:45,752 [main] INFO  http.HttpServer2 (HttpServer2.java:addGlobalFilter(975)) - Added global filter 'safety' (class=org.apache.hadoop.http.HttpServer2$QuotingInputFilter)
2019-08-22 22:38:45,755 [main] INFO  http.HttpServer2 (HttpServer2.java:addFilter(948)) - Added filter static_user_filter (class=org.apache.hadoop.http.lib.StaticUserWebFilter$StaticUserFilter) to context scm
2019-08-22 22:38:45,755 [main] INFO  http.HttpServer2 (HttpServer2.java:addFilter(958)) - Added filter static_user_filter (class=org.apache.hadoop.http.lib.StaticUserWebFilter$StaticUserFilter) to context logs
2019-08-22 22:38:45,755 [main] INFO  http.HttpServer2 (HttpServer2.java:addFilter(958)) - Added filter static_user_filter (class=org.apache.hadoop.http.lib.StaticUserWebFilter$StaticUserFilter) to context static
2019-08-22 22:38:45,783 [main] INFO  server.StorageContainerManager (StorageContainerManager.java:start(759)) - StorageContainerLocationProtocol RPC server is listening at /0.0.0.0:40914
2019-08-22 22:38:45,852 [main] WARN  impl.MetricsConfig (MetricsConfig.java:loadFirst(134)) - Cannot locate configuration: tried hadoop-metrics2-storagecontainermanager.properties,hadoop-metrics2.properties
2019-08-22 22:38:45,866 [main] INFO  impl.MetricsSystemImpl (MetricsSystemImpl.java:startTimer(374)) - Scheduled Metric snapshot period at 10 second(s).
2019-08-22 22:38:45,866 [main] INFO  impl.MetricsSystemImpl (MetricsSystemImpl.java:start(191)) - StorageContainerManager metrics system started
2019-08-22 22:38:46,140 [main] INFO  server.SCMClientProtocolServer (SCMClientProtocolServer.java:start(151)) - RPC server for Client  is listening at /0.0.0.0:40914
2019-08-22 22:38:46,141 [IPC Server Responder] INFO  ipc.Server (Server.java:run(1314)) - IPC Server Responder: starting
2019-08-22 22:38:46,141 [IPC Server listener on 40914] INFO  ipc.Server (Server.java:run(1153)) - IPC Server listener on 40914: starting
2019-08-22 22:38:46,144 [main] INFO  server.StorageContainerManager (StorageContainerManager.java:start(769)) - ScmBlockLocationProtocol RPC server is listening at /0.0.0.0:34596
2019-08-22 22:38:46,144 [main] INFO  server.SCMBlockProtocolServer (SCMBlockProtocolServer.java:start(140)) - RPC server for Block Protocol is listening at /0.0.0.0:34596
2019-08-22 22:38:46,145 [IPC Server Responder] INFO  ipc.Server (Server.java:run(1314)) - IPC Server Responder: starting
2019-08-22 22:38:46,145 [IPC Server listener on 34596] INFO  ipc.Server (Server.java:run(1153)) - IPC Server listener on 34596: starting
2019-08-22 22:38:46,147 [main] INFO  server.StorageContainerManager (StorageContainerManager.java:start(773)) - ScmDatanodeProtocl RPC server is listening at /0.0.0.0:37863
2019-08-22 22:38:46,147 [main] INFO  server.SCMDatanodeProtocolServer (SCMDatanodeProtocolServer.java:start(191)) - RPC server for DataNodes is listening at /0.0.0.0:37863
2019-08-22 22:38:46,148 [IPC Server Responder] INFO  ipc.Server (Server.java:run(1314)) - IPC Server Responder: starting
2019-08-22 22:38:46,148 [IPC Server listener on 37863] INFO  ipc.Server (Server.java:run(1153)) - IPC Server listener on 37863: starting
2019-08-22 22:38:46,154 [main] INFO  http.HttpServer2 (HttpServer2.java:bindListener(1191)) - Jetty bound to port 36508
2019-08-22 22:38:46,157 [main] INFO  server.Server (Server.java:doStart(351)) - jetty-9.3.24.v20180605, build timestamp: 2018-06-05T17:11:56Z, git hash: 84205aa28f11a4f31f2a3b86d1bba2cc8ab69827
2019-08-22 22:38:46,214 [main] INFO  handler.ContextHandler (ContextHandler.java:doStart(781)) - Started o.e.j.s.ServletContextHandler@1af687fe{/logs,file:///workdir/hadoop-ozone/integration-test/target/log,AVAILABLE}
2019-08-22 22:38:46,215 [main] INFO  handler.ContextHandler (ContextHandler.java:doStart(781)) - Started o.e.j.s.ServletContextHandler@3f390d63{/static,file:///workdir/hadoop-ozone/integration-test/target/test-classes/webapps/static,AVAILABLE}
2019-08-22 22:38:46,255 [main] INFO  handler.ContextHandler (ContextHandler.java:doStart(781)) - Started o.e.j.w.WebAppContext@d1f74b8{/,file:///workdir/hadoop-ozone/integration-test/target/test-classes/webapps/scm/,AVAILABLE}{/scm}
2019-08-22 22:38:46,261 [main] INFO  server.AbstractConnector (AbstractConnector.java:doStart(278)) - Started ServerConnector@7072bc39{HTTP/1.1,[http/1.1]}{0.0.0.0:36508}
2019-08-22 22:38:46,261 [main] INFO  server.Server (Server.java:doStart(419)) - Started @3840ms
2019-08-22 22:38:46,262 [main] INFO  server.BaseHttpServer (BaseHttpServer.java:updateConnectorAddress(213)) - HTTP server of SCM is listening at http://0.0.0.0:36508
2019-08-22 22:38:46,271 [org.apache.hadoop.util.JvmPauseMonitor$Monitor@24be2d9c] INFO  util.JvmPauseMonitor (JvmPauseMonitor.java:run(188)) - Starting JVM pause monitor
2019-08-22 22:38:46,276 [main] WARN  server.ServerUtils (ServerUtils.java:getDBPath(222)) - ozone.om.db.dirs is not configured. We recommend adding this setting. Falling back to ozone.metadata.dirs instead.
2019-08-22 22:38:46,623 [main] WARN  server.ServerUtils (ServerUtils.java:getDBPath(222)) - ozone.om.db.dirs is not configured. We recommend adding this setting. Falling back to ozone.metadata.dirs instead.
2019-08-22 22:38:46,624 [main] WARN  server.ServerUtils (ServerUtils.java:getDBPath(222)) - ozone.om.db.dirs is not configured. We recommend adding this setting. Falling back to ozone.metadata.dirs instead.
2019-08-22 22:38:46,626 [main] INFO  om.OzoneManager (OzoneManager.java:setOMNodeDetails(648)) - OM Service ID is not set. Setting it to the default ID: omServiceIdDefault
2019-08-22 22:38:46,626 [main] INFO  om.OzoneManager (OzoneManager.java:setOMNodeDetails(654)) - OM Node ID is not set. Setting it to the OmStorage's OmID: 088bfb83-49b8-4493-b777-1791b5c1ac58
2019-08-22 22:38:46,628 [main] INFO  om.OzoneManager (OzoneManager.java:loadOMHAConfigs(605)) - Found matching OM address with OMServiceId: null, OMNodeId: null, RPC Address: localhost:0 and Ratis port: 9872
2019-08-22 22:38:46,899 | INFO  | SCMAudit | user=jenkins1000 | ip=192.168.36.125 | op=GET_SCM_INFO null | ret=SUCCESS |  
2019-08-22 22:38:47,397 [main] WARN  server.ServerUtils (ServerUtils.java:getDBPath(222)) - ozone.om.db.dirs is not configured. We recommend adding this setting. Falling back to ozone.metadata.dirs instead.
2019-08-22 22:38:47,405 [main] INFO  db.DBStoreBuilder (DBStoreBuilder.java:addTable(110)) - using custom profile for table: userTable
2019-08-22 22:38:47,405 [main] INFO  db.DBStoreBuilder (DBStoreBuilder.java:processTables(161)) - Using default column profile:DBProfile.DISK for Table:userTable
2019-08-22 22:38:47,406 [main] INFO  db.DBStoreBuilder (DBStoreBuilder.java:addTable(110)) - using custom profile for table: volumeTable
2019-08-22 22:38:47,406 [main] INFO  db.DBStoreBuilder (DBStoreBuilder.java:processTables(161)) - Using default column profile:DBProfile.DISK for Table:volumeTable
2019-08-22 22:38:47,406 [main] INFO  db.DBStoreBuilder (DBStoreBuilder.java:addTable(110)) - using custom profile for table: bucketTable
2019-08-22 22:38:47,406 [main] INFO  db.DBStoreBuilder (DBStoreBuilder.java:processTables(161)) - Using default column profile:DBProfile.DISK for Table:bucketTable
2019-08-22 22:38:47,407 [main] INFO  db.DBStoreBuilder (DBStoreBuilder.java:addTable(110)) - using custom profile for table: keyTable
2019-08-22 22:38:47,407 [main] INFO  db.DBStoreBuilder (DBStoreBuilder.java:processTables(161)) - Using default column profile:DBProfile.DISK for Table:keyTable
2019-08-22 22:38:47,407 [main] INFO  db.DBStoreBuilder (DBStoreBuilder.java:addTable(110)) - using custom profile for table: deletedTable
2019-08-22 22:38:47,407 [main] INFO  db.DBStoreBuilder (DBStoreBuilder.java:processTables(161)) - Using default column profile:DBProfile.DISK for Table:deletedTable
2019-08-22 22:38:47,407 [main] INFO  db.DBStoreBuilder (DBStoreBuilder.java:addTable(110)) - using custom profile for table: openKeyTable
2019-08-22 22:38:47,408 [main] INFO  db.DBStoreBuilder (DBStoreBuilder.java:processTables(161)) - Using default column profile:DBProfile.DISK for Table:openKeyTable
2019-08-22 22:38:47,408 [main] INFO  db.DBStoreBuilder (DBStoreBuilder.java:addTable(110)) - using custom profile for table: s3Table
2019-08-22 22:38:47,408 [main] INFO  db.DBStoreBuilder (DBStoreBuilder.java:processTables(161)) - Using default column profile:DBProfile.DISK for Table:s3Table
2019-08-22 22:38:47,408 [main] INFO  db.DBStoreBuilder (DBStoreBuilder.java:addTable(110)) - using custom profile for table: multipartInfoTable
2019-08-22 22:38:47,409 [main] INFO  db.DBStoreBuilder (DBStoreBuilder.java:processTables(161)) - Using default column profile:DBProfile.DISK for Table:multipartInfoTable
2019-08-22 22:38:47,409 [main] INFO  db.DBStoreBuilder (DBStoreBuilder.java:addTable(110)) - using custom profile for table: dTokenTable
2019-08-22 22:38:47,409 [main] INFO  db.DBStoreBuilder (DBStoreBuilder.java:processTables(161)) - Using default column profile:DBProfile.DISK for Table:dTokenTable
2019-08-22 22:38:47,409 [main] INFO  db.DBStoreBuilder (DBStoreBuilder.java:addTable(110)) - using custom profile for table: s3SecretTable
2019-08-22 22:38:47,410 [main] INFO  db.DBStoreBuilder (DBStoreBuilder.java:processTables(161)) - Using default column profile:DBProfile.DISK for Table:s3SecretTable
2019-08-22 22:38:47,410 [main] INFO  db.DBStoreBuilder (DBStoreBuilder.java:addTable(110)) - using custom profile for table: prefixTable
2019-08-22 22:38:47,410 [main] INFO  db.DBStoreBuilder (DBStoreBuilder.java:processTables(161)) - Using default column profile:DBProfile.DISK for Table:prefixTable
2019-08-22 22:38:47,410 [main] INFO  db.DBStoreBuilder (DBStoreBuilder.java:addTable(110)) - using custom profile for table: default
2019-08-22 22:38:47,411 [main] INFO  db.DBStoreBuilder (DBStoreBuilder.java:processTables(167)) - Using default column profile:DBProfile.DISK for Table:default
2019-08-22 22:38:47,411 [main] INFO  db.DBStoreBuilder (DBStoreBuilder.java:getDbProfile(198)) - Using default options. DBProfile.DISK
2019-08-22 22:38:48,166 [main] INFO  ipc.CallQueueManager (CallQueueManager.java:<init>(84)) - Using callQueue: class java.util.concurrent.LinkedBlockingQueue, queueCapacity: 2000, scheduler: class org.apache.hadoop.ipc.DefaultRpcScheduler, ipcBackoff: false.
2019-08-22 22:38:48,167 [Socket Reader #1 for port 33468] INFO  ipc.Server (Server.java:run(1074)) - Starting Socket Reader #1 for port 33468
2019-08-22 22:38:48,190 [main] INFO  om.OzoneManager (OzoneManager.java:start(1259)) - OzoneManager RPC server is listening at localhost/127.0.0.1:33468
2019-08-22 22:38:48,190 [main] INFO  impl.MetricsSystemImpl (MetricsSystemImpl.java:init(158)) - OzoneManager metrics system started (again)
2019-08-22 22:38:48,192 [IPC Server Responder] INFO  ipc.Server (Server.java:run(1314)) - IPC Server Responder: starting
2019-08-22 22:38:48,192 [IPC Server listener on 33468] INFO  ipc.Server (Server.java:run(1153)) - IPC Server listener on 33468: starting
2019-08-22 22:38:48,201 [main] INFO  hdfs.DFSUtil (DFSUtil.java:httpServerTemplateForNNAndJN(1641)) - Starting Web-server for ozoneManager at: http://0.0.0.0:0
2019-08-22 22:38:48,203 [main] INFO  server.AuthenticationFilter (AuthenticationFilter.java:constructSecretProvider(240)) - Unable to initialize FileSignerSecretProvider, falling back to use random secrets.
2019-08-22 22:38:48,204 [main] WARN  http.HttpRequestLog (HttpRequestLog.java:getRequestLog(97)) - Jetty request log can only be enabled using Log4j
2019-08-22 22:38:48,207 [main] INFO  http.HttpServer2 (HttpServer2.java:addGlobalFilter(975)) - Added global filter 'safety' (class=org.apache.hadoop.http.HttpServer2$QuotingInputFilter)
2019-08-22 22:38:48,208 [main] INFO  http.HttpServer2 (HttpServer2.java:addFilter(948)) - Added filter static_user_filter (class=org.apache.hadoop.http.lib.StaticUserWebFilter$StaticUserFilter) to context ozoneManager
2019-08-22 22:38:48,208 [main] INFO  http.HttpServer2 (HttpServer2.java:addFilter(958)) - Added filter static_user_filter (class=org.apache.hadoop.http.lib.StaticUserWebFilter$StaticUserFilter) to context static
2019-08-22 22:38:48,209 [main] INFO  http.HttpServer2 (HttpServer2.java:addFilter(958)) - Added filter static_user_filter (class=org.apache.hadoop.http.lib.StaticUserWebFilter$StaticUserFilter) to context logs
2019-08-22 22:38:48,212 [main] INFO  http.HttpServer2 (HttpServer2.java:bindListener(1191)) - Jetty bound to port 35774
2019-08-22 22:38:48,212 [main] INFO  server.Server (Server.java:doStart(351)) - jetty-9.3.24.v20180605, build timestamp: 2018-06-05T17:11:56Z, git hash: 84205aa28f11a4f31f2a3b86d1bba2cc8ab69827
2019-08-22 22:38:48,388 [main] INFO  handler.ContextHandler (ContextHandler.java:doStart(781)) - Started o.e.j.s.ServletContextHandler@325bb9a6{/logs,file:///workdir/hadoop-ozone/integration-test/target/log,AVAILABLE}
2019-08-22 22:38:48,390 [main] INFO  handler.ContextHandler (ContextHandler.java:doStart(781)) - Started o.e.j.s.ServletContextHandler@72fe8a4f{/static,file:///workdir/hadoop-ozone/integration-test/target/test-classes/webapps/static,AVAILABLE}
2019-08-22 22:38:48,398 [main] INFO  handler.ContextHandler (ContextHandler.java:doStart(781)) - Started o.e.j.w.WebAppContext@65bb9029{/,file:///workdir/hadoop-ozone/integration-test/target/test-classes/webapps/ozoneManager/,AVAILABLE}{/ozoneManager}
2019-08-22 22:38:48,400 [main] INFO  server.AbstractConnector (AbstractConnector.java:doStart(278)) - Started ServerConnector@1bfe3203{HTTP/1.1,[http/1.1]}{0.0.0.0:35774}
2019-08-22 22:38:48,400 [main] INFO  server.Server (Server.java:doStart(419)) - Started @5979ms
2019-08-22 22:38:48,401 [main] INFO  server.BaseHttpServer (BaseHttpServer.java:updateConnectorAddress(213)) - HTTP server of OZONEMANAGER is listening at http://0.0.0.0:35774
2019-08-22 22:38:48,555 [main] INFO  impl.MetricsSystemImpl (MetricsSystemImpl.java:init(158)) - HddsDatanode metrics system started (again)
2019-08-22 22:38:48,672 [main] INFO  ozone.HddsDatanodeService (HddsDatanodeService.java:start(184)) - HddsDatanodeService host:pr-hdds-1975-6rfct-3228563268 ip:192.168.36.125
2019-08-22 22:38:48,719 [main] INFO  volume.HddsVolume (HddsVolume.java:<init>(176)) - Creating Volume: /workdir/hadoop-ozone/integration-test/target/test-dir/MiniOzoneClusterImpl-f0450dcd-a238-40b4-8f72-c6c0c5421345/datanode-0/data/containers/hdds of  storage type : DISK and capacity : 1482555576320
2019-08-22 22:38:48,721 [main] INFO  volume.VolumeSet (VolumeSet.java:initializeVolumeSet(170)) - Added Volume : /workdir/hadoop-ozone/integration-test/target/test-dir/MiniOzoneClusterImpl-f0450dcd-a238-40b4-8f72-c6c0c5421345/datanode-0/data/containers/hdds to VolumeSet
2019-08-22 22:38:48,725 [main] INFO  volume.ThrottledAsyncChecker (ThrottledAsyncChecker.java:schedule(140)) - Scheduling a check for org.apache.hadoop.ozone.container.common.volume.HddsVolume@20749d9
2019-08-22 22:38:48,744 [main] INFO  volume.HddsVolumeChecker (HddsVolumeChecker.java:checkAllVolumes(203)) - Scheduled health check for volume org.apache.hadoop.ozone.container.common.volume.HddsVolume@20749d9
2019-08-22 22:38:48,863 [main] INFO  impl.RaftServerProxy (ConfUtils.java:logGet(43)) - raft.rpc.type = GRPC (default)
2019-08-22 22:38:48,943 [main] INFO  grpc.GrpcFactory (GrpcFactory.java:checkPooledByteBufAllocatorUseCacheForAllThreads(45)) - PERFORMANCE WARNING: useCacheForAllThreads is true that may cause Netty to create a lot garbage objects and, as a result, trigger GC.
	It is recommended to disable useCacheForAllThreads by setting -Dorg.apache.ratis.thirdparty.io.netty.allocator.useCacheForAllThreads=false in command line.
2019-08-22 22:38:48,948 [main] INFO  grpc.GrpcConfigKeys$Server (ConfUtils.java:logGet(43)) - raft.grpc.server.port = 0 (default)
2019-08-22 22:38:48,949 [main] INFO  server.GrpcService (ConfUtils.java:logGet(43)) - raft.grpc.message.size.max = 33570816 (custom)
2019-08-22 22:38:48,950 [main] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.log.appender.buffer.byte-limit = 33554432 (custom)
2019-08-22 22:38:48,951 [main] INFO  server.GrpcService (ConfUtils.java:logGet(43)) - raft.grpc.flow.control.window = 1MB (=1048576) (default)
2019-08-22 22:38:48,952 [main] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.rpc.request.timeout = 3000ms (default)
2019-08-22 22:38:49,163 [main] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.storage.dir = [/workdir/hadoop-ozone/integration-test/target/test-dir/MiniOzoneClusterImpl-f0450dcd-a238-40b4-8f72-c6c0c5421345/datanode-0/data/ratis] (custom)
2019-08-22 22:38:49,204 [main] INFO  replication.SimpleContainerDownloader (SimpleContainerDownloader.java:<init>(72)) - Starting container downloader service to copy containers to replicate.
2019-08-22 22:38:49,219 [main] INFO  hdfs.DFSUtil (DFSUtil.java:httpServerTemplateForNNAndJN(1641)) - Starting Web-server for hddsDatanode at: http://0.0.0.0:0
2019-08-22 22:38:49,225 [main] INFO  server.AuthenticationFilter (AuthenticationFilter.java:constructSecretProvider(240)) - Unable to initialize FileSignerSecretProvider, falling back to use random secrets.
2019-08-22 22:38:49,226 [main] WARN  http.HttpRequestLog (HttpRequestLog.java:getRequestLog(97)) - Jetty request log can only be enabled using Log4j
2019-08-22 22:38:49,229 [main] INFO  http.HttpServer2 (HttpServer2.java:addGlobalFilter(975)) - Added global filter 'safety' (class=org.apache.hadoop.http.HttpServer2$QuotingInputFilter)
2019-08-22 22:38:49,230 [main] INFO  http.HttpServer2 (HttpServer2.java:addFilter(948)) - Added filter static_user_filter (class=org.apache.hadoop.http.lib.StaticUserWebFilter$StaticUserFilter) to context hddsDatanode
2019-08-22 22:38:49,231 [main] INFO  http.HttpServer2 (HttpServer2.java:addFilter(958)) - Added filter static_user_filter (class=org.apache.hadoop.http.lib.StaticUserWebFilter$StaticUserFilter) to context static
2019-08-22 22:38:49,231 [main] INFO  http.HttpServer2 (HttpServer2.java:addFilter(958)) - Added filter static_user_filter (class=org.apache.hadoop.http.lib.StaticUserWebFilter$StaticUserFilter) to context logs
2019-08-22 22:38:49,233 [main] INFO  http.HttpServer2 (HttpServer2.java:bindListener(1191)) - Jetty bound to port 39400
2019-08-22 22:38:49,234 [main] INFO  server.Server (Server.java:doStart(351)) - jetty-9.3.24.v20180605, build timestamp: 2018-06-05T17:11:56Z, git hash: 84205aa28f11a4f31f2a3b86d1bba2cc8ab69827
2019-08-22 22:38:49,237 [main] INFO  handler.ContextHandler (ContextHandler.java:doStart(781)) - Started o.e.j.s.ServletContextHandler@3a082ff4{/logs,file:///workdir/hadoop-ozone/integration-test/target/log,AVAILABLE}
2019-08-22 22:38:49,238 [main] INFO  handler.ContextHandler (ContextHandler.java:doStart(781)) - Started o.e.j.s.ServletContextHandler@3f0d6038{/static,jar:file:/home/user/.m2/repository/org/apache/hadoop/hadoop-hdds-container-service/0.5.0-SNAPSHOT/hadoop-hdds-container-service-0.5.0-SNAPSHOT.jar!/webapps/static,AVAILABLE}
2019-08-22 22:38:49,283 [main] INFO  handler.ContextHandler (ContextHandler.java:doStart(781)) - Started o.e.j.w.WebAppContext@250a500b{/,file:///tmp/jetty-0.0.0.0-39400-hddsDatanode-_-any-4061060301836133413.dir/webapp/,AVAILABLE}{/hddsDatanode}
2019-08-22 22:38:49,284 [main] INFO  server.AbstractConnector (AbstractConnector.java:doStart(278)) - Started ServerConnector@75d982d3{HTTP/1.1,[http/1.1]}{0.0.0.0:39400}
2019-08-22 22:38:49,285 [main] INFO  server.Server (Server.java:doStart(419)) - Started @6864ms
2019-08-22 22:38:49,286 [main] INFO  server.BaseHttpServer (BaseHttpServer.java:updateConnectorAddress(213)) - HTTP server of HDDSDATANODE is listening at http://0.0.0.0:39400
Aug 22, 2019 10:38:49 PM com.sun.jersey.server.impl.application.WebApplicationImpl _initiate
INFO: Initiating Jersey application, version 'Jersey: 1.19 02/11/2015 03:25 AM'
2019-08-22 22:38:50,456 | INFO  | ObjectStoreRestHttpServer | Listening HDDS REST traffic on /0.0.0.0:35740 |  
2019-08-22 22:38:50,458 [main] INFO  ozone.HddsDatanodeService (HddsDatanodeService.java:startPlugins(395)) - Started plug-in org.apache.hadoop.ozone.web.OzoneHddsDatanodeService@9df564f
2019-08-22 22:38:50,461 [main] INFO  ozone.MiniOzoneClusterImpl (MiniOzoneClusterImpl.java:lambda$waitForClusterToBeReady$0(142)) - Waiting for cluster to be ready. Got 0 of 1 DN Heartbeats.
2019-08-22 22:38:50,465 [org.apache.hadoop.util.JvmPauseMonitor$Monitor@181c5d9a] INFO  util.JvmPauseMonitor (JvmPauseMonitor.java:run(188)) - Starting JVM pause monitor
2019-08-22 22:38:50,597 [Datanode State Machine Thread - 0] INFO  datanode.InitDatanodeState (InitDatanodeState.java:persistContainerDatanodeDetails(140)) - DatanodeDetails is persisted to /workdir/hadoop-ozone/integration-test/target/test-dir/MiniOzoneClusterImpl-f0450dcd-a238-40b4-8f72-c6c0c5421345/datanode-0/meta/datanode.id
2019-08-22 22:38:51,461 [main] INFO  ozone.MiniOzoneClusterImpl (MiniOzoneClusterImpl.java:lambda$waitForClusterToBeReady$0(142)) - Waiting for cluster to be ready. Got 0 of 1 DN Heartbeats.
2019-08-22 22:38:52,462 [main] INFO  ozone.MiniOzoneClusterImpl (MiniOzoneClusterImpl.java:lambda$waitForClusterToBeReady$0(142)) - Waiting for cluster to be ready. Got 0 of 1 DN Heartbeats.
2019-08-22 22:38:52,496 | INFO  | SCMAudit | user=jenkins1000 | ip=192.168.36.125 | op=GET_VERSION null | ret=SUCCESS |  
2019-08-22 22:38:52,560 [Datanode State Machine Thread - 0] INFO  ozoneimpl.OzoneContainer (OzoneContainer.java:start(186)) - Attempting to start container services.
2019-08-22 22:38:52,561 [Datanode State Machine Thread - 0] INFO  ozoneimpl.OzoneContainer (OzoneContainer.java:startContainerScrub(160)) - Background container scrubber has been disabled by hdds.containerscrub.enabled
2019-08-22 22:38:52,562 [Datanode State Machine Thread - 0] INFO  ratis.XceiverServerRatis (XceiverServerRatis.java:start(404)) - Starting XceiverServerRatis 8f59fcec-3de7-4ca1-83cc-1c3fdc9009a8 at port 0
2019-08-22 22:38:52,587 [Datanode State Machine Thread - 0] INFO  impl.RaftServerProxy (RaftServerProxy.java:lambda$start$3(299)) - 8f59fcec-3de7-4ca1-83cc-1c3fdc9009a8: start RPC server
2019-08-22 22:38:52,723 [Datanode State Machine Thread - 0] INFO  server.GrpcService (GrpcService.java:startImpl(149)) - 8f59fcec-3de7-4ca1-83cc-1c3fdc9009a8: GrpcService started, listening on 0.0.0.0/0.0.0.0:43977
2019-08-22 22:38:52,723 [Datanode State Machine Thread - 0] INFO  ratis.XceiverServerRatis (XceiverServerRatis.java:start(414)) - XceiverServerRatis 8f59fcec-3de7-4ca1-83cc-1c3fdc9009a8 is started using port 43977
2019-08-22 22:38:52,725 [Datanode State Machine Thread - 0] INFO  server.XceiverServerGrpc (XceiverServerGrpc.java:start(161)) - XceiverServerGrpc 8f59fcec-3de7-4ca1-83cc-1c3fdc9009a8 is started using port 40741
2019-08-22 22:38:53,462 [main] INFO  ozone.MiniOzoneClusterImpl (MiniOzoneClusterImpl.java:lambda$waitForClusterToBeReady$0(142)) - Waiting for cluster to be ready. Got 0 of 1 DN Heartbeats.
2019-08-22 22:38:54,463 [main] INFO  ozone.MiniOzoneClusterImpl (MiniOzoneClusterImpl.java:lambda$waitForClusterToBeReady$0(142)) - Waiting for cluster to be ready. Got 0 of 1 DN Heartbeats.
2019-08-22 22:38:54,496 [IPC Server handler 0 on 37863] INFO  net.NetworkTopology (NetworkTopologyImpl.java:add(110)) - Added a new node: /default-rack/8f59fcec-3de7-4ca1-83cc-1c3fdc9009a8
2019-08-22 22:38:54,497 [IPC Server handler 0 on 37863] INFO  node.SCMNodeManager (SCMNodeManager.java:register(273)) - Registered Data node : 8f59fcec-3de7-4ca1-83cc-1c3fdc9009a8{ip: 192.168.36.125, host: pr-hdds-1975-6rfct-3228563268, networkLocation: /default-rack, certSerialId: null}
2019-08-22 22:38:54,501 [EventQueue-NodeRegistrationContainerReportForDataNodeSafeModeRule] INFO  safemode.SCMSafeModeManager (DataNodeSafeModeRule.java:process(71)) - SCM in safe mode. 1 DataNodes registered, 1 required.
2019-08-22 22:38:54,502 [EventQueue-NodeRegistrationContainerReportForDataNodeSafeModeRule] INFO  safemode.SCMSafeModeManager (SCMSafeModeManager.java:validateSafeModeExitRules(177)) - ScmSafeModeManager, all rules are successfully validated
2019-08-22 22:38:54,502 [EventQueue-NodeRegistrationContainerReportForDataNodeSafeModeRule] INFO  safemode.SCMSafeModeManager (SCMSafeModeManager.java:exitSafeMode(193)) - SCM exiting safe mode.
2019-08-22 22:38:54,507 | INFO  | SCMAudit | user=jenkins1000 | ip=192.168.36.125 | op=REGISTER {datanodeDetails=8f59fcec-3de7-4ca1-83cc-1c3fdc9009a8{ip: 192.168.36.125, host: pr-hdds-1975-6rfct-3228563268, networkLocation: /default-rack, certSerialId: null}} | ret=SUCCESS |  
2019-08-22 22:38:55,355 [grpc-default-executor-0] INFO  impl.RaftServerProxy (RaftServerProxy.java:addNew(89)) - 8f59fcec-3de7-4ca1-83cc-1c3fdc9009a8: addNew group-110F2DE23C75:[8f59fcec-3de7-4ca1-83cc-1c3fdc9009a8:192.168.36.125:43977] returns group-110F2DE23C75:java.util.concurrent.CompletableFuture@766537d9[Not completed]
2019-08-22 22:38:55,370 [pool-27-thread-1] INFO  impl.RaftServerImpl (RaftServerImpl.java:<init>(93)) - 8f59fcec-3de7-4ca1-83cc-1c3fdc9009a8: new RaftServerImpl for group-110F2DE23C75:[8f59fcec-3de7-4ca1-83cc-1c3fdc9009a8:192.168.36.125:43977] with ContainerStateMachine:uninitialized
2019-08-22 22:38:55,374 [pool-27-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.rpc.timeout.min = 5s (custom)
2019-08-22 22:38:55,375 [pool-27-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.rpc.timeout.max = 5200ms (custom)
2019-08-22 22:38:55,376 [pool-27-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.rpcslowness.timeout = 120s (custom)
2019-08-22 22:38:55,377 [pool-27-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.sleep.deviation.threshold = 300 (default)
2019-08-22 22:38:55,377 [pool-27-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.log.appender.install.snapshot.enabled = false (custom)
2019-08-22 22:38:55,385 [pool-27-thread-1] INFO  impl.RaftServerImpl (ServerState.java:<init>(105)) - 8f59fcec-3de7-4ca1-83cc-1c3fdc9009a8:group-110F2DE23C75 ConfigurationManager, init=-1: [8f59fcec-3de7-4ca1-83cc-1c3fdc9009a8:192.168.36.125:43977], old=null, confs=<EMPTY_MAP>
2019-08-22 22:38:55,386 [pool-27-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.storage.dir = [/workdir/hadoop-ozone/integration-test/target/test-dir/MiniOzoneClusterImpl-f0450dcd-a238-40b4-8f72-c6c0c5421345/datanode-0/data/ratis] (custom)
2019-08-22 22:38:55,393 [pool-27-thread-1] INFO  storage.RaftStorageDirectory (RaftStorageDirectory.java:analyzeStorage(246)) - The storage directory /workdir/hadoop-ozone/integration-test/target/test-dir/MiniOzoneClusterImpl-f0450dcd-a238-40b4-8f72-c6c0c5421345/datanode-0/data/ratis/f0fe2bc2-1a30-4141-8c45-110f2de23c75 does not exist. Creating ...
2019-08-22 22:38:55,410 [pool-27-thread-1] INFO  storage.RaftStorageDirectory (RaftStorageDirectory.java:tryLock(328)) - Lock on /workdir/hadoop-ozone/integration-test/target/test-dir/MiniOzoneClusterImpl-f0450dcd-a238-40b4-8f72-c6c0c5421345/datanode-0/data/ratis/f0fe2bc2-1a30-4141-8c45-110f2de23c75/in_use.lock acquired by nodename 26847@pr-hdds-1975-6rfct-3228563268
2019-08-22 22:38:55,459 [pool-27-thread-1] INFO  storage.RaftStorage (RaftStorage.java:format(72)) - Storage directory /workdir/hadoop-ozone/integration-test/target/test-dir/MiniOzoneClusterImpl-f0450dcd-a238-40b4-8f72-c6c0c5421345/datanode-0/data/ratis/f0fe2bc2-1a30-4141-8c45-110f2de23c75 has been successfully formatted.
2019-08-22 22:38:55,462 [pool-27-thread-1] INFO  ratis.ContainerStateMachine (ContainerStateMachine.java:loadSnapshot(226)) - group-110F2DE23C75: The snapshot info is null. Setting the last applied indexto:(t:0, i:~)
2019-08-22 22:38:55,462 [pool-27-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.leader.election.timeout = 120s (custom)
2019-08-22 22:38:55,464 [main] INFO  ozone.MiniOzoneClusterImpl (MiniOzoneClusterImpl.java:lambda$waitForClusterToBeReady$0(142)) - Cluster is ready. Got 1 of 1 DN Heartbeats.
2019-08-22 22:38:55,465 [pool-27-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.log.use.memory = false (default)
2019-08-22 22:38:55,470 [pool-27-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.log.purge.gap = 1000000 (custom)
2019-08-22 22:38:55,470 [pool-27-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.log.appender.buffer.byte-limit = 33554432 (custom)
2019-08-22 22:38:55,472 [pool-27-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.log.segment.size.max = 1048576 (custom)
2019-08-22 22:38:55,476 [pool-27-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.log.segment.cache.num.max = 2 (custom)
2019-08-22 22:38:55,482 [pool-27-thread-1] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:<init>(172)) - new 8f59fcec-3de7-4ca1-83cc-1c3fdc9009a8-SegmentedRaftLogWorker:Storage Directory /workdir/hadoop-ozone/integration-test/target/test-dir/MiniOzoneClusterImpl-f0450dcd-a238-40b4-8f72-c6c0c5421345/datanode-0/data/ratis/f0fe2bc2-1a30-4141-8c45-110f2de23c75 for RaftStorage:Storage Directory /workdir/hadoop-ozone/integration-test/target/test-dir/MiniOzoneClusterImpl-f0450dcd-a238-40b4-8f72-c6c0c5421345/datanode-0/data/ratis/f0fe2bc2-1a30-4141-8c45-110f2de23c75
2019-08-22 22:38:55,494 [pool-27-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.log.queue.byte-limit = 2147483647 (custom)
2019-08-22 22:38:55,494 [pool-27-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.log.queue.element-limit = 1024 (custom)
2019-08-22 22:38:55,499 [pool-27-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.log.segment.size.max = 1048576 (custom)
2019-08-22 22:38:55,500 [pool-27-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.log.preallocated.size = 16384 (custom)
2019-08-22 22:38:55,500 [pool-27-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.log.write.buffer.size = 33554432 (custom)
2019-08-22 22:38:55,501 [pool-27-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.log.force.sync.num = 128 (default)
2019-08-22 22:38:55,502 [pool-27-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.log.statemachine.data.sync = true (default)
2019-08-22 22:38:55,502 [pool-27-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.log.statemachine.data.sync.timeout = 10s (default)
2019-08-22 22:38:55,503 [pool-27-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.log.statemachine.data.sync.timeout.retry = -1 (default)
2019-08-22 22:38:55,514 [pool-27-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.log.statemachine.data.caching.enabled = true (custom)
2019-08-22 22:38:55,519 [pool-27-thread-1] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:lambda$new$0(132)) - 8f59fcec-3de7-4ca1-83cc-1c3fdc9009a8-SegmentedRaftLogWorker:Storage Directory /workdir/hadoop-ozone/integration-test/target/test-dir/MiniOzoneClusterImpl-f0450dcd-a238-40b4-8f72-c6c0c5421345/datanode-0/data/ratis/f0fe2bc2-1a30-4141-8c45-110f2de23c75: flushIndex: setUnconditionally 0 -> -1
2019-08-22 22:38:55,524 [pool-27-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.snapshot.auto.trigger.enabled = true (custom)
2019-08-22 22:38:55,525 [pool-27-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.snapshot.auto.trigger.threshold = 1 (custom)
2019-08-22 22:38:55,525 [pool-27-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.retrycache.expirytime = 600000ms (custom)
2019-08-22 22:38:55,550 [pool-27-thread-1] INFO  impl.RaftServerImpl (RaftServerImpl.java:start(180)) - 8f59fcec-3de7-4ca1-83cc-1c3fdc9009a8: start group-110F2DE23C75
2019-08-22 22:38:55,551 [pool-27-thread-1] INFO  impl.RaftServerImpl (RaftServerImpl.java:setRole(171)) - 8f59fcec-3de7-4ca1-83cc-1c3fdc9009a8:group-110F2DE23C75 changes role from null to FOLLOWER at term 0 for startAsFollower
2019-08-22 22:38:55,553 [pool-27-thread-1] INFO  impl.RoleInfo (RoleInfo.java:updateAndGet(143)) - 8f59fcec-3de7-4ca1-83cc-1c3fdc9009a8: start FollowerState
2019-08-22 22:38:55,555 [pool-27-thread-1] INFO  util.JmxRegister (JmxRegister.java:tryRegister(44)) - Successfully registered JMX Bean with object name Ratis:service=RaftServer,group=group-110F2DE23C75,id=8f59fcec-3de7-4ca1-83cc-1c3fdc9009a8
2019-08-22 22:38:55,611 [RatisPipelineUtilsThread] INFO  pipeline.PipelineStateManager (PipelineStateManager.java:addPipeline(56)) - Created pipeline Pipeline[ Id: f0fe2bc2-1a30-4141-8c45-110f2de23c75, Nodes: 8f59fcec-3de7-4ca1-83cc-1c3fdc9009a8{ip: 192.168.36.125, host: pr-hdds-1975-6rfct-3228563268, networkLocation: /default-rack, certSerialId: null}, Type:RATIS, Factor:ONE, State:OPEN]
2019-08-22 22:38:55,745 [main] INFO  rpc.RpcClient (RpcClient.java:createVolume(293)) - Creating Volume: testcontainerstatemachinefailures, with jenkins1000 as owner.
2019-08-22 22:38:55,770 | INFO  | OMAudit | user=jenkins1000 | ip=127.0.0.1 | op=CREATE_VOLUME {admin=jenkins1000, owner=jenkins1000, volume=testcontainerstatemachinefailures, creationTime=1566513535765, quotaInBytes=1152921504606846976} | ret=SUCCESS |  
2019-08-22 22:38:55,784 | INFO  | OMAudit | user=jenkins1000 | ip=127.0.0.1 | op=READ_VOLUME {volume=testcontainerstatemachinefailures} | ret=SUCCESS |  
2019-08-22 22:38:55,790 [main] INFO  rpc.RpcClient (RpcClient.java:createBucket(432)) - Creating Bucket: testcontainerstatemachinefailures/testcontainerstatemachinefailures, with Versioning false and Storage Type set to DISK and Encryption set to false 
2019-08-22 22:38:55,807 | INFO  | OMAudit | user=jenkins1000 | ip=127.0.0.1 | op=CREATE_BUCKET {volume=testcontainerstatemachinefailures, bucket=testcontainerstatemachinefailures, acls=[user:jenkins1000:a[ACCESS], group:default:a[ACCESS]], isVersionEnabled=false, storageType=DISK, creationTime=0} | ret=SUCCESS |  
2019-08-22 22:38:55,814 | INFO  | OMAudit | user=jenkins1000 | ip=127.0.0.1 | op=READ_VOLUME {volume=testcontainerstatemachinefailures} | ret=SUCCESS |  
2019-08-22 22:38:55,821 | INFO  | OMAudit | user=jenkins1000 | ip=127.0.0.1 | op=READ_BUCKET {volume=testcontainerstatemachinefailures, bucket=testcontainerstatemachinefailures} | ret=SUCCESS |  
2019-08-22 22:38:55,877 | INFO  | SCMAudit | user=jenkins1000 | ip=192.168.36.125 | op=ALLOCATE_BLOCK {owner=088bfb83-49b8-4493-b777-1791b5c1ac58, size=4194304, type=RATIS, factor=ONE} | ret=SUCCESS |  
2019-08-22 22:38:55,904 | INFO  | OMAudit | user=jenkins1000 | ip=127.0.0.1 | op=ALLOCATE_KEY {volume=testcontainerstatemachinefailures, bucket=testcontainerstatemachinefailures, key=ratis, dataSize=1024, replicationType=RATIS, replicationFactor=ONE, keyLocationInfo=null} | ret=SUCCESS |  
2019-08-22 22:38:55,935 [main] INFO  impl.MetricsSystemImpl (MetricsSystemImpl.java:init(158)) - XceiverClientMetrics metrics system started (again)
2019-08-22 22:38:56,051 [grpc-default-executor-0] INFO  client.GrpcClientProtocolClient (GrpcClientProtocolClient.java:onNext(255)) - client-8B312FBDD780->8f59fcec-3de7-4ca1-83cc-1c3fdc9009a8: receive RaftClientReply:client-8B312FBDD780->8f59fcec-3de7-4ca1-83cc-1c3fdc9009a8@group-110F2DE23C75, cid=1, FAILED org.apache.ratis.protocol.NotLeaderException: Server 8f59fcec-3de7-4ca1-83cc-1c3fdc9009a8 is not the leader (null). Request must be sent to leader., logIndex=0, commits[8f59fcec-3de7-4ca1-83cc-1c3fdc9009a8:c-1]
2019-08-22 22:38:56,498 | INFO  | SCMAudit | user=jenkins1000 | ip=192.168.36.125 | op=SEND_HEARTBEAT {datanodeUUID=8f59fcec-3de7-4ca1-83cc-1c3fdc9009a8, command=[]} | ret=SUCCESS |  
2019-08-22 22:38:56,668 | INFO  | SCMAudit | user=jenkins1000 | ip=192.168.36.125 | op=SEND_HEARTBEAT {datanodeUUID=8f59fcec-3de7-4ca1-83cc-1c3fdc9009a8, command=[]} | ret=SUCCESS |  
2019-08-22 22:38:56,869 | INFO  | SCMAudit | user=jenkins1000 | ip=192.168.36.125 | op=SEND_HEARTBEAT {datanodeUUID=8f59fcec-3de7-4ca1-83cc-1c3fdc9009a8, command=[]} | ret=SUCCESS |  
2019-08-22 22:38:57,068 | INFO  | SCMAudit | user=jenkins1000 | ip=192.168.36.125 | op=SEND_HEARTBEAT {datanodeUUID=8f59fcec-3de7-4ca1-83cc-1c3fdc9009a8, command=[]} | ret=SUCCESS |  
2019-08-22 22:38:57,271 | INFO  | SCMAudit | user=jenkins1000 | ip=192.168.36.125 | op=SEND_HEARTBEAT {datanodeUUID=8f59fcec-3de7-4ca1-83cc-1c3fdc9009a8, command=[]} | ret=SUCCESS |  
2019-08-22 22:38:57,469 | INFO  | SCMAudit | user=jenkins1000 | ip=192.168.36.125 | op=SEND_HEARTBEAT {datanodeUUID=8f59fcec-3de7-4ca1-83cc-1c3fdc9009a8, command=[]} | ret=SUCCESS |  
2019-08-22 22:38:57,504 [Thread-147] INFO  container.ReplicationManager (ReplicationManager.java:start(152)) - Starting Replication Monitor Thread.
2019-08-22 22:38:57,511 [ReplicationMonitor] INFO  container.ReplicationManager (ReplicationManager.java:run(215)) - Replication Monitor Thread took 5 milliseconds for processing 1 containers.
2019-08-22 22:38:57,670 | INFO  | SCMAudit | user=jenkins1000 | ip=192.168.36.125 | op=SEND_HEARTBEAT {datanodeUUID=8f59fcec-3de7-4ca1-83cc-1c3fdc9009a8, command=[]} | ret=SUCCESS |  
2019-08-22 22:38:57,873 | INFO  | SCMAudit | user=jenkins1000 | ip=192.168.36.125 | op=SEND_HEARTBEAT {datanodeUUID=8f59fcec-3de7-4ca1-83cc-1c3fdc9009a8, command=[]} | ret=SUCCESS |  
2019-08-22 22:38:58,072 | INFO  | SCMAudit | user=jenkins1000 | ip=192.168.36.125 | op=SEND_HEARTBEAT {datanodeUUID=8f59fcec-3de7-4ca1-83cc-1c3fdc9009a8, command=[]} | ret=SUCCESS |  
2019-08-22 22:38:58,083 [grpc-default-executor-1] INFO  client.GrpcClientProtocolClient (GrpcClientProtocolClient.java:onNext(255)) - client-8B312FBDD780->8f59fcec-3de7-4ca1-83cc-1c3fdc9009a8: receive RaftClientReply:client-8B312FBDD780->8f59fcec-3de7-4ca1-83cc-1c3fdc9009a8@group-110F2DE23C75, cid=1, FAILED org.apache.ratis.protocol.NotLeaderException: Server 8f59fcec-3de7-4ca1-83cc-1c3fdc9009a8 is not the leader (null). Request must be sent to leader., logIndex=0, commits[8f59fcec-3de7-4ca1-83cc-1c3fdc9009a8:c-1]
2019-08-22 22:38:58,270 | INFO  | SCMAudit | user=jenkins1000 | ip=192.168.36.125 | op=SEND_HEARTBEAT {datanodeUUID=8f59fcec-3de7-4ca1-83cc-1c3fdc9009a8, command=[]} | ret=SUCCESS |  
2019-08-22 22:38:58,470 | INFO  | SCMAudit | user=jenkins1000 | ip=192.168.36.125 | op=SEND_HEARTBEAT {datanodeUUID=8f59fcec-3de7-4ca1-83cc-1c3fdc9009a8, command=[]} | ret=SUCCESS |  
2019-08-22 22:38:58,671 | INFO  | SCMAudit | user=jenkins1000 | ip=192.168.36.125 | op=SEND_HEARTBEAT {datanodeUUID=8f59fcec-3de7-4ca1-83cc-1c3fdc9009a8, command=[]} | ret=SUCCESS |  
2019-08-22 22:38:58,870 | INFO  | SCMAudit | user=jenkins1000 | ip=192.168.36.125 | op=SEND_HEARTBEAT {datanodeUUID=8f59fcec-3de7-4ca1-83cc-1c3fdc9009a8, command=[]} | ret=SUCCESS |  
2019-08-22 22:38:59,070 | INFO  | SCMAudit | user=jenkins1000 | ip=192.168.36.125 | op=SEND_HEARTBEAT {datanodeUUID=8f59fcec-3de7-4ca1-83cc-1c3fdc9009a8, command=[]} | ret=SUCCESS |  
2019-08-22 22:38:59,270 | INFO  | SCMAudit | user=jenkins1000 | ip=192.168.36.125 | op=SEND_HEARTBEAT {datanodeUUID=8f59fcec-3de7-4ca1-83cc-1c3fdc9009a8, command=[]} | ret=SUCCESS |  
2019-08-22 22:38:59,470 | INFO  | SCMAudit | user=jenkins1000 | ip=192.168.36.125 | op=SEND_HEARTBEAT {datanodeUUID=8f59fcec-3de7-4ca1-83cc-1c3fdc9009a8, command=[]} | ret=SUCCESS |  
2019-08-22 22:38:59,671 | INFO  | SCMAudit | user=jenkins1000 | ip=192.168.36.125 | op=SEND_HEARTBEAT {datanodeUUID=8f59fcec-3de7-4ca1-83cc-1c3fdc9009a8, command=[]} | ret=SUCCESS |  
2019-08-22 22:38:59,870 | INFO  | SCMAudit | user=jenkins1000 | ip=192.168.36.125 | op=SEND_HEARTBEAT {datanodeUUID=8f59fcec-3de7-4ca1-83cc-1c3fdc9009a8, command=[]} | ret=SUCCESS |  
2019-08-22 22:39:00,071 | INFO  | SCMAudit | user=jenkins1000 | ip=192.168.36.125 | op=SEND_HEARTBEAT {datanodeUUID=8f59fcec-3de7-4ca1-83cc-1c3fdc9009a8, command=[]} | ret=SUCCESS |  
2019-08-22 22:39:00,102 [grpc-default-executor-1] INFO  client.GrpcClientProtocolClient (GrpcClientProtocolClient.java:onNext(255)) - client-8B312FBDD780->8f59fcec-3de7-4ca1-83cc-1c3fdc9009a8: receive RaftClientReply:client-8B312FBDD780->8f59fcec-3de7-4ca1-83cc-1c3fdc9009a8@group-110F2DE23C75, cid=1, FAILED org.apache.ratis.protocol.NotLeaderException: Server 8f59fcec-3de7-4ca1-83cc-1c3fdc9009a8 is not the leader (null). Request must be sent to leader., logIndex=0, commits[8f59fcec-3de7-4ca1-83cc-1c3fdc9009a8:c-1]
2019-08-22 22:39:00,270 | INFO  | SCMAudit | user=jenkins1000 | ip=192.168.36.125 | op=SEND_HEARTBEAT {datanodeUUID=8f59fcec-3de7-4ca1-83cc-1c3fdc9009a8, command=[]} | ret=SUCCESS |  
2019-08-22 22:39:00,471 | INFO  | SCMAudit | user=jenkins1000 | ip=192.168.36.125 | op=SEND_HEARTBEAT {datanodeUUID=8f59fcec-3de7-4ca1-83cc-1c3fdc9009a8, command=[]} | ret=SUCCESS |  
2019-08-22 22:39:00,563 [Thread-150] INFO  impl.FollowerState (FollowerState.java:run(106)) - 8f59fcec-3de7-4ca1-83cc-1c3fdc9009a8:group-110F2DE23C75 changes to CANDIDATE, lastRpcTime:5010, electionTimeout:5009ms
2019-08-22 22:39:00,564 [Thread-150] INFO  impl.RoleInfo (RoleInfo.java:shutdownFollowerState(121)) - 8f59fcec-3de7-4ca1-83cc-1c3fdc9009a8: shutdown FollowerState
2019-08-22 22:39:00,564 [Thread-150] INFO  impl.RaftServerImpl (RaftServerImpl.java:setRole(171)) - 8f59fcec-3de7-4ca1-83cc-1c3fdc9009a8:group-110F2DE23C75 changes role from FOLLOWER to CANDIDATE at term 0 for changeToCandidate
2019-08-22 22:39:00,568 [Thread-150] INFO  impl.RoleInfo (RoleInfo.java:updateAndGet(143)) - 8f59fcec-3de7-4ca1-83cc-1c3fdc9009a8: start LeaderElection
2019-08-22 22:39:00,611 [8f59fcec-3de7-4ca1-83cc-1c3fdc9009a8:group-110F2DE23C75:LeaderElection1] INFO  impl.LeaderElection (LeaderElection.java:askForVotes(181)) - 8f59fcec-3de7-4ca1-83cc-1c3fdc9009a8:group-110F2DE23C75:LeaderElection1: begin an election at term 1 for -1: [8f59fcec-3de7-4ca1-83cc-1c3fdc9009a8:192.168.36.125:43977], old=null
2019-08-22 22:39:00,614 [8f59fcec-3de7-4ca1-83cc-1c3fdc9009a8:group-110F2DE23C75:LeaderElection1] INFO  impl.RoleInfo (RoleInfo.java:shutdownLeaderElection(134)) - 8f59fcec-3de7-4ca1-83cc-1c3fdc9009a8: shutdown LeaderElection
2019-08-22 22:39:00,614 [8f59fcec-3de7-4ca1-83cc-1c3fdc9009a8:group-110F2DE23C75:LeaderElection1] INFO  impl.RaftServerImpl (RaftServerImpl.java:setRole(171)) - 8f59fcec-3de7-4ca1-83cc-1c3fdc9009a8:group-110F2DE23C75 changes role from CANDIDATE to LEADER at term 1 for changeToLeader
2019-08-22 22:39:00,614 [8f59fcec-3de7-4ca1-83cc-1c3fdc9009a8:group-110F2DE23C75:LeaderElection1] INFO  impl.RaftServerImpl (ServerState.java:setLeader(263)) - 8f59fcec-3de7-4ca1-83cc-1c3fdc9009a8:group-110F2DE23C75 change Leader from null to 8f59fcec-3de7-4ca1-83cc-1c3fdc9009a8 at term 1 for becomeLeader, leader elected after 5152ms
2019-08-22 22:39:00,620 [8f59fcec-3de7-4ca1-83cc-1c3fdc9009a8:group-110F2DE23C75:LeaderElection1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.staging.catchup.gap = 1000 (default)
2019-08-22 22:39:00,621 [8f59fcec-3de7-4ca1-83cc-1c3fdc9009a8:group-110F2DE23C75:LeaderElection1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.rpc.sleep.time = 25ms (default)
2019-08-22 22:39:00,623 [8f59fcec-3de7-4ca1-83cc-1c3fdc9009a8:group-110F2DE23C75:LeaderElection1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.write.element-limit = 4096 (default)
2019-08-22 22:39:00,626 [8f59fcec-3de7-4ca1-83cc-1c3fdc9009a8:group-110F2DE23C75:LeaderElection1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.watch.timeout = 10s (default)
2019-08-22 22:39:00,626 [8f59fcec-3de7-4ca1-83cc-1c3fdc9009a8:group-110F2DE23C75:LeaderElection1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.watch.timeout.denomination = 1s (default)
2019-08-22 22:39:00,627 [8f59fcec-3de7-4ca1-83cc-1c3fdc9009a8:group-110F2DE23C75:LeaderElection1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.watch.element-limit = 65536 (default)
2019-08-22 22:39:00,636 [8f59fcec-3de7-4ca1-83cc-1c3fdc9009a8:group-110F2DE23C75:LeaderElection1] INFO  impl.RoleInfo (RoleInfo.java:updateAndGet(143)) - 8f59fcec-3de7-4ca1-83cc-1c3fdc9009a8: start LeaderState
2019-08-22 22:39:00,655 [8f59fcec-3de7-4ca1-83cc-1c3fdc9009a8:group-110F2DE23C75:LeaderElection1] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:startLogSegment(380)) - 8f59fcec-3de7-4ca1-83cc-1c3fdc9009a8-SegmentedRaftLogWorker:Storage Directory /workdir/hadoop-ozone/integration-test/target/test-dir/MiniOzoneClusterImpl-f0450dcd-a238-40b4-8f72-c6c0c5421345/datanode-0/data/ratis/f0fe2bc2-1a30-4141-8c45-110f2de23c75: Starting segment from index:0
2019-08-22 22:39:00,664 [8f59fcec-3de7-4ca1-83cc-1c3fdc9009a8:group-110F2DE23C75:LeaderElection1] INFO  impl.RaftServerImpl (ServerState.java:setRaftConf(361)) - 8f59fcec-3de7-4ca1-83cc-1c3fdc9009a8:group-110F2DE23C75 set configuration 0: [8f59fcec-3de7-4ca1-83cc-1c3fdc9009a8:192.168.36.125:43977], old=null at 0
2019-08-22 22:39:00,670 | INFO  | SCMAudit | user=jenkins1000 | ip=192.168.36.125 | op=SEND_HEARTBEAT {datanodeUUID=8f59fcec-3de7-4ca1-83cc-1c3fdc9009a8, command=[]} | ret=SUCCESS |  
2019-08-22 22:39:00,853 [8f59fcec-3de7-4ca1-83cc-1c3fdc9009a8-SegmentedRaftLogWorker:Storage Directory /workdir/hadoop-ozone/integration-test/target/test-dir/MiniOzoneClusterImpl-f0450dcd-a238-40b4-8f72-c6c0c5421345/datanode-0/data/ratis/f0fe2bc2-1a30-4141-8c45-110f2de23c75] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:execute(569)) - 8f59fcec-3de7-4ca1-83cc-1c3fdc9009a8-SegmentedRaftLogWorker:Storage Directory /workdir/hadoop-ozone/integration-test/target/test-dir/MiniOzoneClusterImpl-f0450dcd-a238-40b4-8f72-c6c0c5421345/datanode-0/data/ratis/f0fe2bc2-1a30-4141-8c45-110f2de23c75: created new log segment /workdir/hadoop-ozone/integration-test/target/test-dir/MiniOzoneClusterImpl-f0450dcd-a238-40b4-8f72-c6c0c5421345/datanode-0/data/ratis/f0fe2bc2-1a30-4141-8c45-110f2de23c75/current/log_inprogress_0
2019-08-22 22:39:00,871 | INFO  | SCMAudit | user=jenkins1000 | ip=192.168.36.125 | op=SEND_HEARTBEAT {datanodeUUID=8f59fcec-3de7-4ca1-83cc-1c3fdc9009a8, command=[]} | ret=SUCCESS |  
2019-08-22 22:39:01,070 | INFO  | SCMAudit | user=jenkins1000 | ip=192.168.36.125 | op=SEND_HEARTBEAT {datanodeUUID=8f59fcec-3de7-4ca1-83cc-1c3fdc9009a8, command=[]} | ret=SUCCESS |  
2019-08-22 22:39:01,271 | INFO  | SCMAudit | user=jenkins1000 | ip=192.168.36.125 | op=SEND_HEARTBEAT {datanodeUUID=8f59fcec-3de7-4ca1-83cc-1c3fdc9009a8, command=[]} | ret=SUCCESS |  
2019-08-22 22:39:01,471 | INFO  | SCMAudit | user=jenkins1000 | ip=192.168.36.125 | op=SEND_HEARTBEAT {datanodeUUID=8f59fcec-3de7-4ca1-83cc-1c3fdc9009a8, command=[]} | ret=SUCCESS |  
2019-08-22 22:39:01,671 | INFO  | SCMAudit | user=jenkins1000 | ip=192.168.36.125 | op=SEND_HEARTBEAT {datanodeUUID=8f59fcec-3de7-4ca1-83cc-1c3fdc9009a8, command=[]} | ret=SUCCESS |  
2019-08-22 22:39:01,874 | INFO  | SCMAudit | user=jenkins1000 | ip=192.168.36.125 | op=SEND_HEARTBEAT {datanodeUUID=8f59fcec-3de7-4ca1-83cc-1c3fdc9009a8, command=[]} | ret=SUCCESS |  
2019-08-22 22:39:02,071 | INFO  | SCMAudit | user=jenkins1000 | ip=192.168.36.125 | op=SEND_HEARTBEAT {datanodeUUID=8f59fcec-3de7-4ca1-83cc-1c3fdc9009a8, command=[]} | ret=SUCCESS |  
2019-08-22 22:39:02,271 | INFO  | SCMAudit | user=jenkins1000 | ip=192.168.36.125 | op=SEND_HEARTBEAT {datanodeUUID=8f59fcec-3de7-4ca1-83cc-1c3fdc9009a8, command=[]} | ret=SUCCESS |  
2019-08-22 22:39:02,323 | INFO  | SCMAudit | user=jenkins1000 | ip=192.168.36.125 | op=SEND_HEARTBEAT {datanodeUUID=8f59fcec-3de7-4ca1-83cc-1c3fdc9009a8, command=[]} | ret=SUCCESS |  
2019-08-22 22:39:02,349 | INFO  | DNAudit | user=null | ip=null | op=WRITE_CHUNK {blockData=conID: 1 locID: 102663031087104001 bcsId: 0} | ret=SUCCESS |  
2019-08-22 22:39:02,363 | INFO  | DNAudit | user=null | ip=null | op=WRITE_CHUNK {blockData=conID: 1 locID: 102663031087104001 bcsId: 0} | ret=SUCCESS |  
2019-08-22 22:39:02,373 [StateMachineUpdater:8f59fcec-3de7-4ca1-83cc-1c3fdc9009a8:group-110F2DE23C75] INFO  ratis.ContainerStateMachine (ContainerStateMachine.java:takeSnapshot(283)) - group-110F2DE23C75: Taking a snapshot at:(t:1, i:1) file /workdir/hadoop-ozone/integration-test/target/test-dir/MiniOzoneClusterImpl-f0450dcd-a238-40b4-8f72-c6c0c5421345/datanode-0/data/ratis/f0fe2bc2-1a30-4141-8c45-110f2de23c75/sm/snapshot.1_1
2019-08-22 22:39:02,379 [grpc-default-executor-0] INFO  client.GrpcClientProtocolClient (GrpcClientProtocolClient.java:onNext(255)) - client-8B312FBDD780->8f59fcec-3de7-4ca1-83cc-1c3fdc9009a8: receive RaftClientReply:client-8B312FBDD780->8f59fcec-3de7-4ca1-83cc-1c3fdc9009a8@group-110F2DE23C75, cid=1, SUCCESS, logIndex=1, commits[8f59fcec-3de7-4ca1-83cc-1c3fdc9009a8:c2]
2019-08-22 22:39:02,418 [StateMachineUpdater:8f59fcec-3de7-4ca1-83cc-1c3fdc9009a8:group-110F2DE23C75] INFO  ratis.ContainerStateMachine (ContainerStateMachine.java:takeSnapshot(294)) - group-110F2DE23C75: Finished taking a snapshot at:(t:1, i:1) file:/workdir/hadoop-ozone/integration-test/target/test-dir/MiniOzoneClusterImpl-f0450dcd-a238-40b4-8f72-c6c0c5421345/datanode-0/data/ratis/f0fe2bc2-1a30-4141-8c45-110f2de23c75/sm/snapshot.1_1 time:45
2019-08-22 22:39:02,418 [StateMachineUpdater:8f59fcec-3de7-4ca1-83cc-1c3fdc9009a8:group-110F2DE23C75] INFO  impl.StateMachineUpdater (StateMachineUpdater.java:takeSnapshot(242)) - StateMachineUpdater:8f59fcec-3de7-4ca1-83cc-1c3fdc9009a8:group-110F2DE23C75: Took a snapshot at index 1
2019-08-22 22:39:02,418 [StateMachineUpdater:8f59fcec-3de7-4ca1-83cc-1c3fdc9009a8:group-110F2DE23C75] INFO  impl.StateMachineUpdater (StateMachineUpdater.java:lambda$new$0(80)) - StateMachineUpdater:8f59fcec-3de7-4ca1-83cc-1c3fdc9009a8:group-110F2DE23C75: snapshotIndex: updateIncreasingly -1 -> 1
2019-08-22 22:39:02,523 | INFO  | SCMAudit | user=jenkins1000 | ip=192.168.36.125 | op=SEND_HEARTBEAT {datanodeUUID=8f59fcec-3de7-4ca1-83cc-1c3fdc9009a8, command=[]} | ret=SUCCESS |  
2019-08-22 22:39:02,528 | INFO  | DNAudit | user=null | ip=null | op=PUT_BLOCK {blockData=[blockId=conID: 1 locID: 102663031087104001 bcsId: 0,size=5]} | ret=SUCCESS |  
2019-08-22 22:39:02,530 [StateMachineUpdater:8f59fcec-3de7-4ca1-83cc-1c3fdc9009a8:group-110F2DE23C75] INFO  ratis.ContainerStateMachine (ContainerStateMachine.java:takeSnapshot(283)) - group-110F2DE23C75: Taking a snapshot at:(t:1, i:1) file /workdir/hadoop-ozone/integration-test/target/test-dir/MiniOzoneClusterImpl-f0450dcd-a238-40b4-8f72-c6c0c5421345/datanode-0/data/ratis/f0fe2bc2-1a30-4141-8c45-110f2de23c75/sm/snapshot.1_1
2019-08-22 22:39:02,534 [grpc-default-executor-0] INFO  client.GrpcClientProtocolClient (GrpcClientProtocolClient.java:onNext(255)) - client-8B312FBDD780->8f59fcec-3de7-4ca1-83cc-1c3fdc9009a8: receive RaftClientReply:client-8B312FBDD780->8f59fcec-3de7-4ca1-83cc-1c3fdc9009a8@group-110F2DE23C75, cid=2, SUCCESS, logIndex=3, commits[8f59fcec-3de7-4ca1-83cc-1c3fdc9009a8:c4]
2019-08-22 22:39:02,547 [StateMachineUpdater:8f59fcec-3de7-4ca1-83cc-1c3fdc9009a8:group-110F2DE23C75] INFO  ratis.ContainerStateMachine (ContainerStateMachine.java:takeSnapshot(294)) - group-110F2DE23C75: Finished taking a snapshot at:(t:1, i:1) file:/workdir/hadoop-ozone/integration-test/target/test-dir/MiniOzoneClusterImpl-f0450dcd-a238-40b4-8f72-c6c0c5421345/datanode-0/data/ratis/f0fe2bc2-1a30-4141-8c45-110f2de23c75/sm/snapshot.1_1 time:17
2019-08-22 22:39:02,547 [StateMachineUpdater:8f59fcec-3de7-4ca1-83cc-1c3fdc9009a8:group-110F2DE23C75] INFO  impl.StateMachineUpdater (StateMachineUpdater.java:takeSnapshot(242)) - StateMachineUpdater:8f59fcec-3de7-4ca1-83cc-1c3fdc9009a8:group-110F2DE23C75: Took a snapshot at index 1
2019-08-22 22:39:02,547 [StateMachineUpdater:8f59fcec-3de7-4ca1-83cc-1c3fdc9009a8:group-110F2DE23C75] INFO  impl.StateMachineUpdater (StateMachineUpdater.java:lambda$new$0(80)) - StateMachineUpdater:8f59fcec-3de7-4ca1-83cc-1c3fdc9009a8:group-110F2DE23C75: snapshotIndex: updateIncreasingly 1 -> 1
2019-08-22 22:39:02,551 [pool-26-thread-2] ERROR impl.ChunkManagerImpl (ChunkUtils.java:getChunkFile(249)) - Chunks path does not exist
2019-08-22 22:39:02,552 [pool-26-thread-2] INFO  keyvalue.KeyValueHandler (ContainerUtils.java:logAndReturnError(146)) - Operation: WriteChunk : Trace ID: 24cfa118b112f249:24cfa118b112f249:0:0 : Message: Unable to get Chunks directory. : Result: UNABLE_TO_FIND_DATA_DIR
2019-08-22 22:39:02,553 | ERROR | DNAudit | user=null | ip=null | op=PUT_BLOCK {blockData=[blockId=conID: 1 locID: 102663031087104001 bcsId: 0,size=10]} | ret=FAILURE | org.apache.hadoop.hdds.scm.container.common.helpers.ContainerNotOpenException: Container 1 in UNHEALTHY state
	at org.apache.hadoop.ozone.container.common.impl.HddsDispatcher.validateContainerCommand(HddsDispatcher.java:408)
	at org.apache.hadoop.ozone.container.common.transport.server.ratis.ContainerStateMachine.startTransaction(ContainerStateMachine.java:309) 
2019-08-22 22:39:02,553 [pool-26-thread-2] WARN  keyvalue.KeyValueHandler (KeyValueHandler.java:markContainerUnhealthy(909)) - Unexpected error while marking container 1 as unhealthy
org.apache.hadoop.hdds.scm.container.common.helpers.StorageContainerException: Error while creating/ updating .container file. ContainerID: 1
	at org.apache.hadoop.ozone.container.keyvalue.KeyValueContainer.writeToContainerFile(KeyValueContainer.java:231)
	at org.apache.hadoop.ozone.container.keyvalue.KeyValueContainer.updateContainerFile(KeyValueContainer.java:251)
	at org.apache.hadoop.ozone.container.keyvalue.KeyValueContainer.updateContainerData(KeyValueContainer.java:339)
	at org.apache.hadoop.ozone.container.keyvalue.KeyValueContainer.markContainerUnhealthy(KeyValueContainer.java:292)
	at org.apache.hadoop.ozone.container.keyvalue.KeyValueHandler.markContainerUnhealthy(KeyValueHandler.java:904)
	at org.apache.hadoop.ozone.container.common.impl.HddsDispatcher.dispatchRequest(HddsDispatcher.java:303)
	at org.apache.hadoop.ozone.container.common.impl.HddsDispatcher.dispatch(HddsDispatcher.java:148)
	at org.apache.hadoop.ozone.container.common.transport.server.ratis.ContainerStateMachine.dispatchCommand(ContainerStateMachine.java:395)
	at org.apache.hadoop.ozone.container.common.transport.server.ratis.ContainerStateMachine.runCommand(ContainerStateMachine.java:403)
	at org.apache.hadoop.ozone.container.common.transport.server.ratis.ContainerStateMachine.lambda$handleWriteChunk$1(ContainerStateMachine.java:435)
	at java.util.concurrent.CompletableFuture$AsyncSupply.run(CompletableFuture.java:1590)
	at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1149)
	at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:624)
	at java.lang.Thread.run(Thread.java:748)
Caused by: java.io.IOException: No such file or directory
	at java.io.UnixFileSystem.createFileExclusively(Native Method)
	at java.io.File.createTempFile(File.java:2024)
	at org.apache.hadoop.ozone.container.keyvalue.KeyValueContainer.createTempFile(KeyValueContainer.java:707)
	at org.apache.hadoop.ozone.container.keyvalue.KeyValueContainer.writeToContainerFile(KeyValueContainer.java:216)
	... 13 more
2019-08-22 22:39:02,558 | INFO  | SCMAudit | user=jenkins1000 | ip=192.168.36.125 | op=SEND_HEARTBEAT {datanodeUUID=8f59fcec-3de7-4ca1-83cc-1c3fdc9009a8, command=[]} | ret=SUCCESS |  
2019-08-22 22:39:02,558 [EventQueue-IncrementalContainerReportForIncrementalContainerReportHandler] WARN  container.IncrementalContainerReportHandler (AbstractContainerReportHandler.java:updateContainerState(143)) - Container #1 is in OPEN state, but the datanode 8f59fcec-3de7-4ca1-83cc-1c3fdc9009a8{ip: 192.168.36.125, host: pr-hdds-1975-6rfct-3228563268, networkLocation: /default-rack, certSerialId: null} reports an UNHEALTHY replica.
2019-08-22 22:39:02,561 | ERROR | DNAudit | user=null | ip=null | op=WRITE_CHUNK {blockData=conID: 1 locID: 102663031087104001 bcsId: 3} | ret=FAILURE | java.lang.Exception: Unable to get Chunks directory.
	at org.apache.hadoop.ozone.container.common.impl.HddsDispatcher.dispatchRequest(HddsDispatcher.java:320)
	at org.apache.hadoop.ozone.container.common.impl.HddsDispatcher.dispatch(HddsDispatcher.java:148) 
2019-08-22 22:39:02,562 [pool-26-thread-2] ERROR ratis.ContainerStateMachine (ContainerStateMachine.java:lambda$handleWriteChunk$2(449)) - group-110F2DE23C75: writeChunk writeStateMachineData failed: blockIdcontainerID: 1
localID: 102663031087104001
blockCommitSequenceId: 3
 logIndex 5 chunkName 102663031087104001_chunk_2 Error message: Unable to get Chunks directory. Container Result: UNABLE_TO_FIND_DATA_DIR
2019-08-22 22:39:02,573 [8f59fcec-3de7-4ca1-83cc-1c3fdc9009a8-SegmentedRaftLogWorker:Storage Directory /workdir/hadoop-ozone/integration-test/target/test-dir/MiniOzoneClusterImpl-f0450dcd-a238-40b4-8f72-c6c0c5421345/datanode-0/data/ratis/f0fe2bc2-1a30-4141-8c45-110f2de23c75] ERROR ratis.XceiverServerRatis (XceiverServerRatis.java:triggerPipelineClose(561)) - pipeline Action CLOSE  on pipeline PipelineID=f0fe2bc2-1a30-4141-8c45-110f2de23c75.Reason : Unable to get Chunks directory.
2019-08-22 22:39:02,576 | INFO  | SCMAudit | user=jenkins1000 | ip=192.168.36.125 | op=SEND_HEARTBEAT {datanodeUUID=8f59fcec-3de7-4ca1-83cc-1c3fdc9009a8, command=[]} | ret=SUCCESS |  
2019-08-22 22:39:02,577 [EventQueue-PipelineActionsForPipelineActionHandler] ERROR pipeline.PipelineActionHandler (PipelineActionHandler.java:onMessage(60)) - Received pipeline action CLOSE for Pipeline[ Id: f0fe2bc2-1a30-4141-8c45-110f2de23c75, Nodes: 8f59fcec-3de7-4ca1-83cc-1c3fdc9009a8{ip: 192.168.36.125, host: pr-hdds-1975-6rfct-3228563268, networkLocation: /default-rack, certSerialId: null}, Type:RATIS, Factor:ONE, State:OPEN] from datanode 8f59fcec-3de7-4ca1-83cc-1c3fdc9009a8{ip: 192.168.36.125, host: pr-hdds-1975-6rfct-3228563268, networkLocation: /default-rack, certSerialId: null}. Reason : Unable to get Chunks directory.
2019-08-22 22:39:02,577 [EventQueue-PipelineActionsForPipelineActionHandler] INFO  pipeline.SCMPipelineManager (SCMPipelineManager.java:finalizeAndDestroyPipeline(309)) - destroying pipeline:Pipeline[ Id: f0fe2bc2-1a30-4141-8c45-110f2de23c75, Nodes: 8f59fcec-3de7-4ca1-83cc-1c3fdc9009a8{ip: 192.168.36.125, host: pr-hdds-1975-6rfct-3228563268, networkLocation: /default-rack, certSerialId: null}, Type:RATIS, Factor:ONE, State:OPEN]
2019-08-22 22:39:02,578 [EventQueue-CloseContainerForCloseContainerEventHandler] INFO  container.CloseContainerEventHandler (CloseContainerEventHandler.java:onMessage(61)) - Close container Event triggered for container : #1
2019-08-22 22:39:02,579 [EventQueue-PipelineActionsForPipelineActionHandler] INFO  pipeline.PipelineStateManager (PipelineStateManager.java:finalizePipeline(123)) - Pipeline Pipeline[ Id: f0fe2bc2-1a30-4141-8c45-110f2de23c75, Nodes: 8f59fcec-3de7-4ca1-83cc-1c3fdc9009a8{ip: 192.168.36.125, host: pr-hdds-1975-6rfct-3228563268, networkLocation: /default-rack, certSerialId: null}, Type:RATIS, Factor:ONE, State:CLOSED] moved to CLOSED state
2019-08-22 22:39:02,581 [EventQueue-CloseContainerForCloseContainerEventHandler] INFO  container.CloseContainerEventHandler (CloseContainerEventHandler.java:onMessage(61)) - Close container Event triggered for container : #1
2019-08-22 22:39:02,805 | INFO  | SCMAudit | user=jenkins1000 | ip=192.168.36.125 | op=SEND_HEARTBEAT {datanodeUUID=8f59fcec-3de7-4ca1-83cc-1c3fdc9009a8, command=[commandType: closeContainerCommand closeContainerCommandProto { containerID: 1 pipelineID { id: "f0fe2bc2-1a30-4141-8c45-110f2de23c75" } cmdId: 1 force: false } , commandType: closeContainerCommand closeContainerCommandProto { containerID: 1 pipelineID { id: "f0fe2bc2-1a30-4141-8c45-110f2de23c75" } cmdId: 1 force: false } ]} | ret=SUCCESS |  
2019-08-22 22:39:02,975 | INFO  | SCMAudit | user=jenkins1000 | ip=192.168.36.125 | op=SEND_HEARTBEAT {datanodeUUID=8f59fcec-3de7-4ca1-83cc-1c3fdc9009a8, command=[]} | ret=SUCCESS |  
2019-08-22 22:39:03,072 [8f59fcec-3de7-4ca1-83cc-1c3fdc9009a8-SegmentedRaftLogWorker:Storage Directory /workdir/hadoop-ozone/integration-test/target/test-dir/MiniOzoneClusterImpl-f0450dcd-a238-40b4-8f72-c6c0c5421345/datanode-0/data/ratis/f0fe2bc2-1a30-4141-8c45-110f2de23c75] ERROR ratis.XceiverServerRatis (XceiverServerRatis.java:triggerPipelineClose(561)) - pipeline Action CLOSE  on pipeline PipelineID=f0fe2bc2-1a30-4141-8c45-110f2de23c75.Reason : Log already failed at index 5 for task WriteLog:5: (t:1, i:5), STATEMACHINELOGENTRY, client-8B312FBDD780, cid=3
2019-08-22 22:39:03,074 | INFO  | SCMAudit | user=jenkins1000 | ip=192.168.36.125 | op=SEND_HEARTBEAT {datanodeUUID=8f59fcec-3de7-4ca1-83cc-1c3fdc9009a8, command=[]} | ret=SUCCESS |  
2019-08-22 22:39:03,074 [EventQueue-PipelineActionsForPipelineActionHandler] ERROR pipeline.PipelineActionHandler (PipelineActionHandler.java:onMessage(60)) - Received pipeline action CLOSE for Pipeline[ Id: f0fe2bc2-1a30-4141-8c45-110f2de23c75, Nodes: 8f59fcec-3de7-4ca1-83cc-1c3fdc9009a8{ip: 192.168.36.125, host: pr-hdds-1975-6rfct-3228563268, networkLocation: /default-rack, certSerialId: null}, Type:RATIS, Factor:ONE, State:CLOSED] from datanode 8f59fcec-3de7-4ca1-83cc-1c3fdc9009a8{ip: 192.168.36.125, host: pr-hdds-1975-6rfct-3228563268, networkLocation: /default-rack, certSerialId: null}. Reason : Log already failed at index 5 for task WriteLog:5: (t:1, i:5), STATEMACHINELOGENTRY, client-8B312FBDD780, cid=3
2019-08-22 22:39:03,074 [EventQueue-PipelineActionsForPipelineActionHandler] INFO  pipeline.SCMPipelineManager (SCMPipelineManager.java:finalizeAndDestroyPipeline(309)) - destroying pipeline:Pipeline[ Id: f0fe2bc2-1a30-4141-8c45-110f2de23c75, Nodes: 8f59fcec-3de7-4ca1-83cc-1c3fdc9009a8{ip: 192.168.36.125, host: pr-hdds-1975-6rfct-3228563268, networkLocation: /default-rack, certSerialId: null}, Type:RATIS, Factor:ONE, State:CLOSED]
2019-08-22 22:39:03,275 | INFO  | SCMAudit | user=jenkins1000 | ip=192.168.36.125 | op=SEND_HEARTBEAT {datanodeUUID=8f59fcec-3de7-4ca1-83cc-1c3fdc9009a8, command=[]} | ret=SUCCESS |  
2019-08-22 22:39:03,473 | INFO  | SCMAudit | user=jenkins1000 | ip=192.168.36.125 | op=SEND_HEARTBEAT {datanodeUUID=8f59fcec-3de7-4ca1-83cc-1c3fdc9009a8, command=[]} | ret=SUCCESS |  
2019-08-22 22:39:03,673 | INFO  | SCMAudit | user=jenkins1000 | ip=192.168.36.125 | op=SEND_HEARTBEAT {datanodeUUID=8f59fcec-3de7-4ca1-83cc-1c3fdc9009a8, command=[]} | ret=SUCCESS |  
2019-08-22 22:39:03,873 | INFO  | SCMAudit | user=jenkins1000 | ip=192.168.36.125 | op=SEND_HEARTBEAT {datanodeUUID=8f59fcec-3de7-4ca1-83cc-1c3fdc9009a8, command=[]} | ret=SUCCESS |  
2019-08-22 22:39:04,073 | INFO  | SCMAudit | user=jenkins1000 | ip=192.168.36.125 | op=SEND_HEARTBEAT {datanodeUUID=8f59fcec-3de7-4ca1-83cc-1c3fdc9009a8, command=[]} | ret=SUCCESS |  
2019-08-22 22:39:04,273 | INFO  | SCMAudit | user=jenkins1000 | ip=192.168.36.125 | op=SEND_HEARTBEAT {datanodeUUID=8f59fcec-3de7-4ca1-83cc-1c3fdc9009a8, command=[]} | ret=SUCCESS |  
2019-08-22 22:39:04,474 | INFO  | SCMAudit | user=jenkins1000 | ip=192.168.36.125 | op=SEND_HEARTBEAT {datanodeUUID=8f59fcec-3de7-4ca1-83cc-1c3fdc9009a8, command=[]} | ret=SUCCESS |  
2019-08-22 22:39:04,675 | INFO  | SCMAudit | user=jenkins1000 | ip=192.168.36.125 | op=SEND_HEARTBEAT {datanodeUUID=8f59fcec-3de7-4ca1-83cc-1c3fdc9009a8, command=[]} | ret=SUCCESS |  
2019-08-22 22:39:04,874 | INFO  | SCMAudit | user=jenkins1000 | ip=192.168.36.125 | op=SEND_HEARTBEAT {datanodeUUID=8f59fcec-3de7-4ca1-83cc-1c3fdc9009a8, command=[]} | ret=SUCCESS |  
2019-08-22 22:39:05,074 | INFO  | SCMAudit | user=jenkins1000 | ip=192.168.36.125 | op=SEND_HEARTBEAT {datanodeUUID=8f59fcec-3de7-4ca1-83cc-1c3fdc9009a8, command=[]} | ret=SUCCESS |  
2019-08-22 22:39:05,274 | INFO  | SCMAudit | user=jenkins1000 | ip=192.168.36.125 | op=SEND_HEARTBEAT {datanodeUUID=8f59fcec-3de7-4ca1-83cc-1c3fdc9009a8, command=[]} | ret=SUCCESS |  
2019-08-22 22:39:05,475 | INFO  | SCMAudit | user=jenkins1000 | ip=192.168.36.125 | op=SEND_HEARTBEAT {datanodeUUID=8f59fcec-3de7-4ca1-83cc-1c3fdc9009a8, command=[]} | ret=SUCCESS |  
2019-08-22 22:39:05,676 | INFO  | SCMAudit | user=jenkins1000 | ip=192.168.36.125 | op=SEND_HEARTBEAT {datanodeUUID=8f59fcec-3de7-4ca1-83cc-1c3fdc9009a8, command=[]} | ret=SUCCESS |  
2019-08-22 22:39:05,875 | INFO  | SCMAudit | user=jenkins1000 | ip=192.168.36.125 | op=SEND_HEARTBEAT {datanodeUUID=8f59fcec-3de7-4ca1-83cc-1c3fdc9009a8, command=[]} | ret=SUCCESS |  
2019-08-22 22:39:06,075 | INFO  | SCMAudit | user=jenkins1000 | ip=192.168.36.125 | op=SEND_HEARTBEAT {datanodeUUID=8f59fcec-3de7-4ca1-83cc-1c3fdc9009a8, command=[]} | ret=SUCCESS |  
2019-08-22 22:39:06,275 | INFO  | SCMAudit | user=jenkins1000 | ip=192.168.36.125 | op=SEND_HEARTBEAT {datanodeUUID=8f59fcec-3de7-4ca1-83cc-1c3fdc9009a8, command=[]} | ret=SUCCESS |  
2019-08-22 22:39:06,476 | INFO  | SCMAudit | user=jenkins1000 | ip=192.168.36.125 | op=SEND_HEARTBEAT {datanodeUUID=8f59fcec-3de7-4ca1-83cc-1c3fdc9009a8, command=[]} | ret=SUCCESS |  
2019-08-22 22:39:06,676 | INFO  | SCMAudit | user=jenkins1000 | ip=192.168.36.125 | op=SEND_HEARTBEAT {datanodeUUID=8f59fcec-3de7-4ca1-83cc-1c3fdc9009a8, command=[]} | ret=SUCCESS |  
2019-08-22 22:39:06,875 | INFO  | SCMAudit | user=jenkins1000 | ip=192.168.36.125 | op=SEND_HEARTBEAT {datanodeUUID=8f59fcec-3de7-4ca1-83cc-1c3fdc9009a8, command=[]} | ret=SUCCESS |  
2019-08-22 22:39:07,076 | INFO  | SCMAudit | user=jenkins1000 | ip=192.168.36.125 | op=SEND_HEARTBEAT {datanodeUUID=8f59fcec-3de7-4ca1-83cc-1c3fdc9009a8, command=[]} | ret=SUCCESS |  
2019-08-22 22:39:07,278 | INFO  | SCMAudit | user=jenkins1000 | ip=192.168.36.125 | op=SEND_HEARTBEAT {datanodeUUID=8f59fcec-3de7-4ca1-83cc-1c3fdc9009a8, command=[]} | ret=SUCCESS |  
2019-08-22 22:39:07,476 | INFO  | SCMAudit | user=jenkins1000 | ip=192.168.36.125 | op=SEND_HEARTBEAT {datanodeUUID=8f59fcec-3de7-4ca1-83cc-1c3fdc9009a8, command=[]} | ret=SUCCESS |  
2019-08-22 22:39:07,677 | INFO  | SCMAudit | user=jenkins1000 | ip=192.168.36.125 | op=SEND_HEARTBEAT {datanodeUUID=8f59fcec-3de7-4ca1-83cc-1c3fdc9009a8, command=[]} | ret=SUCCESS |  
2019-08-22 22:39:07,878 | INFO  | SCMAudit | user=jenkins1000 | ip=192.168.36.125 | op=SEND_HEARTBEAT {datanodeUUID=8f59fcec-3de7-4ca1-83cc-1c3fdc9009a8, command=[]} | ret=SUCCESS |  
2019-08-22 22:39:08,078 | INFO  | SCMAudit | user=jenkins1000 | ip=192.168.36.125 | op=SEND_HEARTBEAT {datanodeUUID=8f59fcec-3de7-4ca1-83cc-1c3fdc9009a8, command=[]} | ret=SUCCESS |  
2019-08-22 22:39:08,278 | INFO  | SCMAudit | user=jenkins1000 | ip=192.168.36.125 | op=SEND_HEARTBEAT {datanodeUUID=8f59fcec-3de7-4ca1-83cc-1c3fdc9009a8, command=[]} | ret=SUCCESS |  
2019-08-22 22:39:08,478 | INFO  | SCMAudit | user=jenkins1000 | ip=192.168.36.125 | op=SEND_HEARTBEAT {datanodeUUID=8f59fcec-3de7-4ca1-83cc-1c3fdc9009a8, command=[]} | ret=SUCCESS |  
2019-08-22 22:39:08,678 | INFO  | SCMAudit | user=jenkins1000 | ip=192.168.36.125 | op=SEND_HEARTBEAT {datanodeUUID=8f59fcec-3de7-4ca1-83cc-1c3fdc9009a8, command=[]} | ret=SUCCESS |  
2019-08-22 22:39:08,877 | INFO  | SCMAudit | user=jenkins1000 | ip=192.168.36.125 | op=SEND_HEARTBEAT {datanodeUUID=8f59fcec-3de7-4ca1-83cc-1c3fdc9009a8, command=[]} | ret=SUCCESS |  
2019-08-22 22:39:09,078 | INFO  | SCMAudit | user=jenkins1000 | ip=192.168.36.125 | op=SEND_HEARTBEAT {datanodeUUID=8f59fcec-3de7-4ca1-83cc-1c3fdc9009a8, command=[]} | ret=SUCCESS |  
2019-08-22 22:39:09,278 | INFO  | SCMAudit | user=jenkins1000 | ip=192.168.36.125 | op=SEND_HEARTBEAT {datanodeUUID=8f59fcec-3de7-4ca1-83cc-1c3fdc9009a8, command=[]} | ret=SUCCESS |  
2019-08-22 22:39:09,479 | INFO  | SCMAudit | user=jenkins1000 | ip=192.168.36.125 | op=SEND_HEARTBEAT {datanodeUUID=8f59fcec-3de7-4ca1-83cc-1c3fdc9009a8, command=[]} | ret=SUCCESS |  
2019-08-22 22:39:09,679 | INFO  | SCMAudit | user=jenkins1000 | ip=192.168.36.125 | op=SEND_HEARTBEAT {datanodeUUID=8f59fcec-3de7-4ca1-83cc-1c3fdc9009a8, command=[]} | ret=SUCCESS |  
2019-08-22 22:39:09,878 | INFO  | SCMAudit | user=jenkins1000 | ip=192.168.36.125 | op=SEND_HEARTBEAT {datanodeUUID=8f59fcec-3de7-4ca1-83cc-1c3fdc9009a8, command=[]} | ret=SUCCESS |  
2019-08-22 22:39:10,079 | INFO  | SCMAudit | user=jenkins1000 | ip=192.168.36.125 | op=SEND_HEARTBEAT {datanodeUUID=8f59fcec-3de7-4ca1-83cc-1c3fdc9009a8, command=[]} | ret=SUCCESS |  
2019-08-22 22:39:10,279 | INFO  | SCMAudit | user=jenkins1000 | ip=192.168.36.125 | op=SEND_HEARTBEAT {datanodeUUID=8f59fcec-3de7-4ca1-83cc-1c3fdc9009a8, command=[]} | ret=SUCCESS |  
2019-08-22 22:39:10,478 | INFO  | SCMAudit | user=jenkins1000 | ip=192.168.36.125 | op=SEND_HEARTBEAT {datanodeUUID=8f59fcec-3de7-4ca1-83cc-1c3fdc9009a8, command=[]} | ret=SUCCESS |  
2019-08-22 22:39:10,679 | INFO  | SCMAudit | user=jenkins1000 | ip=192.168.36.125 | op=SEND_HEARTBEAT {datanodeUUID=8f59fcec-3de7-4ca1-83cc-1c3fdc9009a8, command=[]} | ret=SUCCESS |  
2019-08-22 22:39:10,879 | INFO  | SCMAudit | user=jenkins1000 | ip=192.168.36.125 | op=SEND_HEARTBEAT {datanodeUUID=8f59fcec-3de7-4ca1-83cc-1c3fdc9009a8, command=[]} | ret=SUCCESS |  
2019-08-22 22:39:11,080 | INFO  | SCMAudit | user=jenkins1000 | ip=192.168.36.125 | op=SEND_HEARTBEAT {datanodeUUID=8f59fcec-3de7-4ca1-83cc-1c3fdc9009a8, command=[]} | ret=SUCCESS |  
2019-08-22 22:39:11,280 | INFO  | SCMAudit | user=jenkins1000 | ip=192.168.36.125 | op=SEND_HEARTBEAT {datanodeUUID=8f59fcec-3de7-4ca1-83cc-1c3fdc9009a8, command=[]} | ret=SUCCESS |  
2019-08-22 22:39:11,480 | INFO  | SCMAudit | user=jenkins1000 | ip=192.168.36.125 | op=SEND_HEARTBEAT {datanodeUUID=8f59fcec-3de7-4ca1-83cc-1c3fdc9009a8, command=[]} | ret=SUCCESS |  
2019-08-22 22:39:11,680 | INFO  | SCMAudit | user=jenkins1000 | ip=192.168.36.125 | op=SEND_HEARTBEAT {datanodeUUID=8f59fcec-3de7-4ca1-83cc-1c3fdc9009a8, command=[]} | ret=SUCCESS |  
2019-08-22 22:39:11,880 | INFO  | SCMAudit | user=jenkins1000 | ip=192.168.36.125 | op=SEND_HEARTBEAT {datanodeUUID=8f59fcec-3de7-4ca1-83cc-1c3fdc9009a8, command=[]} | ret=SUCCESS |  
2019-08-22 22:39:12,079 | INFO  | SCMAudit | user=jenkins1000 | ip=192.168.36.125 | op=SEND_HEARTBEAT {datanodeUUID=8f59fcec-3de7-4ca1-83cc-1c3fdc9009a8, command=[]} | ret=SUCCESS |  
2019-08-22 22:39:12,280 | INFO  | SCMAudit | user=jenkins1000 | ip=192.168.36.125 | op=SEND_HEARTBEAT {datanodeUUID=8f59fcec-3de7-4ca1-83cc-1c3fdc9009a8, command=[]} | ret=SUCCESS |  
2019-08-22 22:39:12,480 | INFO  | SCMAudit | user=jenkins1000 | ip=192.168.36.125 | op=SEND_HEARTBEAT {datanodeUUID=8f59fcec-3de7-4ca1-83cc-1c3fdc9009a8, command=[]} | ret=SUCCESS |  
2019-08-22 22:39:12,610 [grpc-default-executor-0] INFO  impl.RaftServerProxy (RaftServerProxy.java:remove(95)) - 8f59fcec-3de7-4ca1-83cc-1c3fdc9009a8: remove   LEADER group-110F2DE23C75 8f59fcec-3de7-4ca1-83cc-1c3fdc9009a8:t1, leader=8f59fcec-3de7-4ca1-83cc-1c3fdc9009a8, voted=8f59fcec-3de7-4ca1-83cc-1c3fdc9009a8, raftlog=8f59fcec-3de7-4ca1-83cc-1c3fdc9009a8-SegmentedRaftLog:OPENED:c4,f4,i6, conf=0: [8f59fcec-3de7-4ca1-83cc-1c3fdc9009a8:192.168.36.125:43977], old=null RUNNING
2019-08-22 22:39:12,615 [grpc-default-executor-0] INFO  impl.RaftServerImpl (RaftServerImpl.java:lambda$shutdown$3(245)) - 8f59fcec-3de7-4ca1-83cc-1c3fdc9009a8: shutdown group-110F2DE23C75
2019-08-22 22:39:12,616 [grpc-default-executor-0] INFO  util.JmxRegister (JmxRegister.java:unregister(73)) - Successfully un-registered JMX Bean with object name Ratis:service=RaftServer,group=group-110F2DE23C75,id=8f59fcec-3de7-4ca1-83cc-1c3fdc9009a8
2019-08-22 22:39:12,617 [grpc-default-executor-0] INFO  impl.RoleInfo (RoleInfo.java:shutdownLeaderState(104)) - 8f59fcec-3de7-4ca1-83cc-1c3fdc9009a8: shutdown LeaderState
2019-08-22 22:39:12,618 [grpc-default-executor-0] INFO  impl.PendingRequests (PendingRequests.java:sendNotLeaderResponses(202)) - 8f59fcec-3de7-4ca1-83cc-1c3fdc9009a8-PendingRequests: sendNotLeaderResponses
2019-08-22 22:39:12,622 [Command processor thread] ERROR commandhandler.CloseContainerCommandHandler (CloseContainerCommandHandler.java:handle(124)) - Can't close container #1
org.apache.hadoop.hdds.scm.container.common.helpers.StorageContainerException: Cannot quasi close container #1 while in UNHEALTHY state.
	at org.apache.hadoop.ozone.container.keyvalue.KeyValueHandler.quasiCloseContainer(KeyValueHandler.java:930)
	at org.apache.hadoop.ozone.container.ozoneimpl.ContainerController.quasiCloseContainer(ContainerController.java:107)
	at org.apache.hadoop.ozone.container.common.statemachine.commandhandler.CloseContainerCommandHandler.handle(CloseContainerCommandHandler.java:116)
	at org.apache.hadoop.ozone.container.common.statemachine.commandhandler.CommandDispatcher.handle(CommandDispatcher.java:93)
	at org.apache.hadoop.ozone.container.common.statemachine.DatanodeStateMachine.lambda$initCommandHandlerThread$1(DatanodeStateMachine.java:432)
	at java.lang.Thread.run(Thread.java:748)
2019-08-22 22:39:12,635 [grpc-default-executor-0] INFO  impl.StateMachineUpdater (StateMachineUpdater.java:stopAndJoin(115)) - StateMachineUpdater:8f59fcec-3de7-4ca1-83cc-1c3fdc9009a8:group-110F2DE23C75: set stopIndex = 4
2019-08-22 22:39:12,636 [StateMachineUpdater:8f59fcec-3de7-4ca1-83cc-1c3fdc9009a8:group-110F2DE23C75] INFO  ratis.ContainerStateMachine (ContainerStateMachine.java:takeSnapshot(283)) - group-110F2DE23C75: Taking a snapshot at:(t:1, i:4) file /workdir/hadoop-ozone/integration-test/target/test-dir/MiniOzoneClusterImpl-f0450dcd-a238-40b4-8f72-c6c0c5421345/datanode-0/data/ratis/f0fe2bc2-1a30-4141-8c45-110f2de23c75/sm/snapshot.1_4
2019-08-22 22:39:12,680 | INFO  | SCMAudit | user=jenkins1000 | ip=192.168.36.125 | op=SEND_HEARTBEAT {datanodeUUID=8f59fcec-3de7-4ca1-83cc-1c3fdc9009a8, command=[]} | ret=SUCCESS |  
2019-08-22 22:39:12,881 | INFO  | SCMAudit | user=jenkins1000 | ip=192.168.36.125 | op=SEND_HEARTBEAT {datanodeUUID=8f59fcec-3de7-4ca1-83cc-1c3fdc9009a8, command=[]} | ret=SUCCESS |  
2019-08-22 22:39:13,080 | INFO  | SCMAudit | user=jenkins1000 | ip=192.168.36.125 | op=SEND_HEARTBEAT {datanodeUUID=8f59fcec-3de7-4ca1-83cc-1c3fdc9009a8, command=[]} | ret=SUCCESS |  
2019-08-22 22:39:13,280 | INFO  | SCMAudit | user=jenkins1000 | ip=192.168.36.125 | op=SEND_HEARTBEAT {datanodeUUID=8f59fcec-3de7-4ca1-83cc-1c3fdc9009a8, command=[]} | ret=SUCCESS |  
2019-08-22 22:39:13,480 | INFO  | SCMAudit | user=jenkins1000 | ip=192.168.36.125 | op=SEND_HEARTBEAT {datanodeUUID=8f59fcec-3de7-4ca1-83cc-1c3fdc9009a8, command=[]} | ret=SUCCESS |  
2019-08-22 22:39:13,680 | INFO  | SCMAudit | user=jenkins1000 | ip=192.168.36.125 | op=SEND_HEARTBEAT {datanodeUUID=8f59fcec-3de7-4ca1-83cc-1c3fdc9009a8, command=[]} | ret=SUCCESS |  
2019-08-22 22:39:13,881 | INFO  | SCMAudit | user=jenkins1000 | ip=192.168.36.125 | op=SEND_HEARTBEAT {datanodeUUID=8f59fcec-3de7-4ca1-83cc-1c3fdc9009a8, command=[]} | ret=SUCCESS |  
2019-08-22 22:39:14,080 | INFO  | SCMAudit | user=jenkins1000 | ip=192.168.36.125 | op=SEND_HEARTBEAT {datanodeUUID=8f59fcec-3de7-4ca1-83cc-1c3fdc9009a8, command=[]} | ret=SUCCESS |  
2019-08-22 22:39:14,281 | INFO  | SCMAudit | user=jenkins1000 | ip=192.168.36.125 | op=SEND_HEARTBEAT {datanodeUUID=8f59fcec-3de7-4ca1-83cc-1c3fdc9009a8, command=[]} | ret=SUCCESS |  
2019-08-22 22:39:14,482 | INFO  | SCMAudit | user=jenkins1000 | ip=192.168.36.125 | op=SEND_HEARTBEAT {datanodeUUID=8f59fcec-3de7-4ca1-83cc-1c3fdc9009a8, command=[]} | ret=SUCCESS |  
2019-08-22 22:39:14,684 [main] WARN  io.KeyOutputStream (KeyOutputStream.java:handleException(276)) - Encountered exception java.io.IOException: Unexpected Storage Container Exception: java.util.concurrent.CompletionException: java.util.concurrent.CompletionException: org.apache.ratis.protocol.GroupMismatchException: 8f59fcec-3de7-4ca1-83cc-1c3fdc9009a8: group-110F2DE23C75 not found. on the pipeline Pipeline[ Id: f0fe2bc2-1a30-4141-8c45-110f2de23c75, Nodes: 8f59fcec-3de7-4ca1-83cc-1c3fdc9009a8{ip: 192.168.36.125, host: pr-hdds-1975-6rfct-3228563268, networkLocation: /default-rack, certSerialId: null}, Type:RATIS, Factor:ONE, State:OPEN]. The last committed block length is 5, uncommitted data length is 5 retry count 0
2019-08-22 22:39:14,684 | INFO  | SCMAudit | user=jenkins1000 | ip=192.168.36.125 | op=SEND_HEARTBEAT {datanodeUUID=8f59fcec-3de7-4ca1-83cc-1c3fdc9009a8, command=[]} | ret=SUCCESS |  
2019-08-22 22:39:14,733 [grpc-default-executor-1] INFO  impl.RaftServerProxy (RaftServerProxy.java:addNew(89)) - 8f59fcec-3de7-4ca1-83cc-1c3fdc9009a8: addNew group-05D52854D8B6:[8f59fcec-3de7-4ca1-83cc-1c3fdc9009a8:192.168.36.125:43977] returns group-05D52854D8B6:java.util.concurrent.CompletableFuture@2f5b16d9[Not completed]
2019-08-22 22:39:14,737 [pool-27-thread-1] INFO  impl.RaftServerImpl (RaftServerImpl.java:<init>(93)) - 8f59fcec-3de7-4ca1-83cc-1c3fdc9009a8: new RaftServerImpl for group-05D52854D8B6:[8f59fcec-3de7-4ca1-83cc-1c3fdc9009a8:192.168.36.125:43977] with ContainerStateMachine:uninitialized
2019-08-22 22:39:14,738 [pool-27-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.rpc.timeout.min = 5s (custom)
2019-08-22 22:39:14,739 [pool-27-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.rpc.timeout.max = 5200ms (custom)
2019-08-22 22:39:14,739 [pool-27-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.rpcslowness.timeout = 120s (custom)
2019-08-22 22:39:14,739 [pool-27-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.sleep.deviation.threshold = 300 (default)
2019-08-22 22:39:14,740 [pool-27-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.log.appender.install.snapshot.enabled = false (custom)
2019-08-22 22:39:14,740 [pool-27-thread-1] INFO  impl.RaftServerImpl (ServerState.java:<init>(105)) - 8f59fcec-3de7-4ca1-83cc-1c3fdc9009a8:group-05D52854D8B6 ConfigurationManager, init=-1: [8f59fcec-3de7-4ca1-83cc-1c3fdc9009a8:192.168.36.125:43977], old=null, confs=<EMPTY_MAP>
2019-08-22 22:39:14,740 [pool-27-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.storage.dir = [/workdir/hadoop-ozone/integration-test/target/test-dir/MiniOzoneClusterImpl-f0450dcd-a238-40b4-8f72-c6c0c5421345/datanode-0/data/ratis] (custom)
2019-08-22 22:39:14,741 [pool-27-thread-1] INFO  storage.RaftStorageDirectory (RaftStorageDirectory.java:analyzeStorage(246)) - The storage directory /workdir/hadoop-ozone/integration-test/target/test-dir/MiniOzoneClusterImpl-f0450dcd-a238-40b4-8f72-c6c0c5421345/datanode-0/data/ratis/0faaf2d6-0f8c-4d9b-be73-05d52854d8b6 does not exist. Creating ...
2019-08-22 22:39:14,881 | INFO  | SCMAudit | user=jenkins1000 | ip=192.168.36.125 | op=SEND_HEARTBEAT {datanodeUUID=8f59fcec-3de7-4ca1-83cc-1c3fdc9009a8, command=[]} | ret=SUCCESS |  
2019-08-22 22:39:15,082 | INFO  | SCMAudit | user=jenkins1000 | ip=192.168.36.125 | op=SEND_HEARTBEAT {datanodeUUID=8f59fcec-3de7-4ca1-83cc-1c3fdc9009a8, command=[]} | ret=SUCCESS |  
2019-08-22 22:39:15,282 | INFO  | SCMAudit | user=jenkins1000 | ip=192.168.36.125 | op=SEND_HEARTBEAT {datanodeUUID=8f59fcec-3de7-4ca1-83cc-1c3fdc9009a8, command=[]} | ret=SUCCESS |  
2019-08-22 22:39:15,482 | INFO  | SCMAudit | user=jenkins1000 | ip=192.168.36.125 | op=SEND_HEARTBEAT {datanodeUUID=8f59fcec-3de7-4ca1-83cc-1c3fdc9009a8, command=[]} | ret=SUCCESS |  
2019-08-22 22:39:15,598 [RatisPipelineUtilsThread] WARN  pipeline.RatisPipelineUtils (RatisPipelineUtils.java:destroyPipeline(66)) - Pipeline destroy failed for pipeline=PipelineID=f0fe2bc2-1a30-4141-8c45-110f2de23c75 dn=8f59fcec-3de7-4ca1-83cc-1c3fdc9009a8{ip: 192.168.36.125, host: pr-hdds-1975-6rfct-3228563268, networkLocation: /default-rack, certSerialId: null}
2019-08-22 22:39:15,681 | INFO  | SCMAudit | user=jenkins1000 | ip=192.168.36.125 | op=SEND_HEARTBEAT {datanodeUUID=8f59fcec-3de7-4ca1-83cc-1c3fdc9009a8, command=[]} | ret=SUCCESS |  
2019-08-22 22:39:15,881 | INFO  | SCMAudit | user=jenkins1000 | ip=192.168.36.125 | op=SEND_HEARTBEAT {datanodeUUID=8f59fcec-3de7-4ca1-83cc-1c3fdc9009a8, command=[]} | ret=SUCCESS |  
2019-08-22 22:39:16,082 | INFO  | SCMAudit | user=jenkins1000 | ip=192.168.36.125 | op=SEND_HEARTBEAT {datanodeUUID=8f59fcec-3de7-4ca1-83cc-1c3fdc9009a8, command=[]} | ret=SUCCESS |  
2019-08-22 22:39:16,281 | INFO  | SCMAudit | user=jenkins1000 | ip=192.168.36.125 | op=SEND_HEARTBEAT {datanodeUUID=8f59fcec-3de7-4ca1-83cc-1c3fdc9009a8, command=[]} | ret=SUCCESS |  
2019-08-22 22:39:16,481 | INFO  | SCMAudit | user=jenkins1000 | ip=192.168.36.125 | op=SEND_HEARTBEAT {datanodeUUID=8f59fcec-3de7-4ca1-83cc-1c3fdc9009a8, command=[]} | ret=SUCCESS |  
2019-08-22 22:39:16,540 [pool-27-thread-1] INFO  storage.RaftStorageDirectory (RaftStorageDirectory.java:tryLock(328)) - Lock on /workdir/hadoop-ozone/integration-test/target/test-dir/MiniOzoneClusterImpl-f0450dcd-a238-40b4-8f72-c6c0c5421345/datanode-0/data/ratis/0faaf2d6-0f8c-4d9b-be73-05d52854d8b6/in_use.lock acquired by nodename 26847@pr-hdds-1975-6rfct-3228563268
2019-08-22 22:39:16,540 [StateMachineUpdater:8f59fcec-3de7-4ca1-83cc-1c3fdc9009a8:group-110F2DE23C75] INFO  ratis.ContainerStateMachine (ContainerStateMachine.java:takeSnapshot(294)) - group-110F2DE23C75: Finished taking a snapshot at:(t:1, i:4) file:/workdir/hadoop-ozone/integration-test/target/test-dir/MiniOzoneClusterImpl-f0450dcd-a238-40b4-8f72-c6c0c5421345/datanode-0/data/ratis/f0fe2bc2-1a30-4141-8c45-110f2de23c75/sm/snapshot.1_4 time:3904
2019-08-22 22:39:16,540 [StateMachineUpdater:8f59fcec-3de7-4ca1-83cc-1c3fdc9009a8:group-110F2DE23C75] INFO  impl.StateMachineUpdater (StateMachineUpdater.java:takeSnapshot(242)) - StateMachineUpdater:8f59fcec-3de7-4ca1-83cc-1c3fdc9009a8:group-110F2DE23C75: Took a snapshot at index 4
2019-08-22 22:39:16,541 [StateMachineUpdater:8f59fcec-3de7-4ca1-83cc-1c3fdc9009a8:group-110F2DE23C75] INFO  impl.StateMachineUpdater (StateMachineUpdater.java:lambda$new$0(80)) - StateMachineUpdater:8f59fcec-3de7-4ca1-83cc-1c3fdc9009a8:group-110F2DE23C75: snapshotIndex: updateIncreasingly 1 -> 4
2019-08-22 22:39:16,542 [grpc-default-executor-0] INFO  impl.RaftServerImpl (ServerState.java:close(394)) - 8f59fcec-3de7-4ca1-83cc-1c3fdc9009a8:group-110F2DE23C75 closes. The last applied log index is 4
2019-08-22 22:39:16,546 [8f59fcec-3de7-4ca1-83cc-1c3fdc9009a8-SegmentedRaftLogWorker:Storage Directory /workdir/hadoop-ozone/integration-test/target/test-dir/MiniOzoneClusterImpl-f0450dcd-a238-40b4-8f72-c6c0c5421345/datanode-0/data/ratis/f0fe2bc2-1a30-4141-8c45-110f2de23c75] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:run(313)) - 8f59fcec-3de7-4ca1-83cc-1c3fdc9009a8-SegmentedRaftLogWorker:Storage Directory /workdir/hadoop-ozone/integration-test/target/test-dir/MiniOzoneClusterImpl-f0450dcd-a238-40b4-8f72-c6c0c5421345/datanode-0/data/ratis/f0fe2bc2-1a30-4141-8c45-110f2de23c75 was interrupted, exiting. There are 0 tasks remaining in the queue.
2019-08-22 22:39:16,548 [grpc-default-executor-0] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:close(228)) - 8f59fcec-3de7-4ca1-83cc-1c3fdc9009a8-SegmentedRaftLogWorker:Storage Directory /workdir/hadoop-ozone/integration-test/target/test-dir/MiniOzoneClusterImpl-f0450dcd-a238-40b4-8f72-c6c0c5421345/datanode-0/data/ratis/f0fe2bc2-1a30-4141-8c45-110f2de23c75 close()
2019-08-22 22:39:16,681 | INFO  | SCMAudit | user=jenkins1000 | ip=192.168.36.125 | op=SEND_HEARTBEAT {datanodeUUID=8f59fcec-3de7-4ca1-83cc-1c3fdc9009a8, command=[]} | ret=SUCCESS |  
2019-08-22 22:39:16,809 [pool-27-thread-1] INFO  storage.RaftStorage (RaftStorage.java:format(72)) - Storage directory /workdir/hadoop-ozone/integration-test/target/test-dir/MiniOzoneClusterImpl-f0450dcd-a238-40b4-8f72-c6c0c5421345/datanode-0/data/ratis/0faaf2d6-0f8c-4d9b-be73-05d52854d8b6 has been successfully formatted.
2019-08-22 22:39:16,811 [pool-27-thread-1] INFO  ratis.ContainerStateMachine (ContainerStateMachine.java:loadSnapshot(226)) - group-05D52854D8B6: The snapshot info is null. Setting the last applied indexto:(t:0, i:~)
2019-08-22 22:39:16,812 [pool-27-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.leader.election.timeout = 120s (custom)
2019-08-22 22:39:16,812 [pool-27-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.log.use.memory = false (default)
2019-08-22 22:39:16,812 [pool-27-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.log.purge.gap = 1000000 (custom)
2019-08-22 22:39:16,812 [pool-27-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.log.appender.buffer.byte-limit = 33554432 (custom)
2019-08-22 22:39:16,813 [pool-27-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.log.segment.size.max = 1048576 (custom)
2019-08-22 22:39:16,813 [pool-27-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.log.segment.cache.num.max = 2 (custom)
2019-08-22 22:39:16,813 [pool-27-thread-1] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:<init>(172)) - new 8f59fcec-3de7-4ca1-83cc-1c3fdc9009a8-SegmentedRaftLogWorker:Storage Directory /workdir/hadoop-ozone/integration-test/target/test-dir/MiniOzoneClusterImpl-f0450dcd-a238-40b4-8f72-c6c0c5421345/datanode-0/data/ratis/0faaf2d6-0f8c-4d9b-be73-05d52854d8b6 for RaftStorage:Storage Directory /workdir/hadoop-ozone/integration-test/target/test-dir/MiniOzoneClusterImpl-f0450dcd-a238-40b4-8f72-c6c0c5421345/datanode-0/data/ratis/0faaf2d6-0f8c-4d9b-be73-05d52854d8b6
2019-08-22 22:39:16,814 [pool-27-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.log.queue.byte-limit = 2147483647 (custom)
2019-08-22 22:39:16,814 [pool-27-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.log.queue.element-limit = 1024 (custom)
2019-08-22 22:39:16,814 [pool-27-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.log.segment.size.max = 1048576 (custom)
2019-08-22 22:39:16,815 [pool-27-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.log.preallocated.size = 16384 (custom)
2019-08-22 22:39:16,815 [pool-27-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.log.write.buffer.size = 33554432 (custom)
2019-08-22 22:39:16,815 [pool-27-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.log.force.sync.num = 128 (default)
2019-08-22 22:39:16,815 [pool-27-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.log.statemachine.data.sync = true (default)
2019-08-22 22:39:16,816 [pool-27-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.log.statemachine.data.sync.timeout = 10s (default)
2019-08-22 22:39:16,816 [pool-27-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.log.statemachine.data.sync.timeout.retry = -1 (default)
2019-08-22 22:39:16,816 [pool-27-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.log.statemachine.data.caching.enabled = true (custom)
2019-08-22 22:39:16,817 [pool-27-thread-1] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:lambda$new$0(132)) - 8f59fcec-3de7-4ca1-83cc-1c3fdc9009a8-SegmentedRaftLogWorker:Storage Directory /workdir/hadoop-ozone/integration-test/target/test-dir/MiniOzoneClusterImpl-f0450dcd-a238-40b4-8f72-c6c0c5421345/datanode-0/data/ratis/0faaf2d6-0f8c-4d9b-be73-05d52854d8b6: flushIndex: setUnconditionally 0 -> -1
2019-08-22 22:39:16,818 [pool-27-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.snapshot.auto.trigger.enabled = true (custom)
2019-08-22 22:39:16,818 [pool-27-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.snapshot.auto.trigger.threshold = 1 (custom)
2019-08-22 22:39:16,818 [pool-27-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.retrycache.expirytime = 600000ms (custom)
2019-08-22 22:39:16,819 [pool-27-thread-1] INFO  impl.RaftServerImpl (RaftServerImpl.java:start(180)) - 8f59fcec-3de7-4ca1-83cc-1c3fdc9009a8: start group-05D52854D8B6
2019-08-22 22:39:16,819 [pool-27-thread-1] INFO  impl.RaftServerImpl (RaftServerImpl.java:setRole(171)) - 8f59fcec-3de7-4ca1-83cc-1c3fdc9009a8:group-05D52854D8B6 changes role from null to FOLLOWER at term 0 for startAsFollower
2019-08-22 22:39:16,819 [pool-27-thread-1] INFO  impl.RoleInfo (RoleInfo.java:updateAndGet(143)) - 8f59fcec-3de7-4ca1-83cc-1c3fdc9009a8: start FollowerState
2019-08-22 22:39:16,820 [pool-27-thread-1] INFO  util.JmxRegister (JmxRegister.java:tryRegister(44)) - Successfully registered JMX Bean with object name Ratis:service=RaftServer,group=group-05D52854D8B6,id=8f59fcec-3de7-4ca1-83cc-1c3fdc9009a8
2019-08-22 22:39:16,830 [IPC Server handler 15 on 34596] INFO  pipeline.PipelineStateManager (PipelineStateManager.java:addPipeline(56)) - Created pipeline Pipeline[ Id: 0faaf2d6-0f8c-4d9b-be73-05d52854d8b6, Nodes: 8f59fcec-3de7-4ca1-83cc-1c3fdc9009a8{ip: 192.168.36.125, host: pr-hdds-1975-6rfct-3228563268, networkLocation: /default-rack, certSerialId: null}, Type:RATIS, Factor:ONE, State:OPEN]
2019-08-22 22:39:16,831 [RatisPipelineUtilsThread] INFO  pipeline.PipelineStateManager (PipelineStateManager.java:removePipeline(108)) - Pipeline Pipeline[ Id: f0fe2bc2-1a30-4141-8c45-110f2de23c75, Nodes: 8f59fcec-3de7-4ca1-83cc-1c3fdc9009a8{ip: 192.168.36.125, host: pr-hdds-1975-6rfct-3228563268, networkLocation: /default-rack, certSerialId: null}, Type:RATIS, Factor:ONE, State:CLOSED] removed from db
2019-08-22 22:39:16,833 | INFO  | SCMAudit | user=jenkins1000 | ip=192.168.36.125 | op=ALLOCATE_BLOCK {owner=088bfb83-49b8-4493-b777-1791b5c1ac58, size=4194304, type=RATIS, factor=ONE} | ret=SUCCESS |  
2019-08-22 22:39:16,838 | INFO  | OMAudit | user=jenkins1000 | ip=127.0.0.1 | op=ALLOCATE_BLOCK {volume=testcontainerstatemachinefailures, bucket=testcontainerstatemachinefailures, key=ratis, dataSize=0, replicationType=null, replicationFactor=null, keyLocationInfo=null, clientID=102663031084679168} | ret=SUCCESS |  
2019-08-22 22:39:16,844 [grpc-default-executor-0] INFO  impl.RaftServerProxy (RaftServerProxy.java:remove(95)) - 8f59fcec-3de7-4ca1-83cc-1c3fdc9009a8: remove group-110F2DE23C75:null
2019-08-22 22:39:16,860 [RatisPipelineUtilsThread] WARN  pipeline.RatisPipelineUtils (RatisPipelineUtils.java:destroyPipeline(66)) - Pipeline destroy failed for pipeline=PipelineID=f0fe2bc2-1a30-4141-8c45-110f2de23c75 dn=8f59fcec-3de7-4ca1-83cc-1c3fdc9009a8{ip: 192.168.36.125, host: pr-hdds-1975-6rfct-3228563268, networkLocation: /default-rack, certSerialId: null}
2019-08-22 22:39:16,861 [RatisPipelineUtilsThread] ERROR pipeline.SCMPipelineManager (Scheduler.java:lambda$schedule$1(70)) - Destroy pipeline failed for pipeline:Pipeline[ Id: f0fe2bc2-1a30-4141-8c45-110f2de23c75, Nodes: 8f59fcec-3de7-4ca1-83cc-1c3fdc9009a8{ip: 192.168.36.125, host: pr-hdds-1975-6rfct-3228563268, networkLocation: /default-rack, certSerialId: null}, Type:RATIS, Factor:ONE, State:CLOSED]
org.apache.hadoop.hdds.scm.pipeline.PipelineNotFoundException: PipelineID=f0fe2bc2-1a30-4141-8c45-110f2de23c75 not found
	at org.apache.hadoop.hdds.scm.pipeline.PipelineStateMap.getPipeline(PipelineStateMap.java:132)
	at org.apache.hadoop.hdds.scm.pipeline.PipelineStateMap.removePipeline(PipelineStateMap.java:322)
	at org.apache.hadoop.hdds.scm.pipeline.PipelineStateManager.removePipeline(PipelineStateManager.java:107)
	at org.apache.hadoop.hdds.scm.pipeline.SCMPipelineManager.removePipeline(SCMPipelineManager.java:397)
	at org.apache.hadoop.hdds.scm.pipeline.SCMPipelineManager.destroyPipeline(SCMPipelineManager.java:383)
	at org.apache.hadoop.hdds.scm.pipeline.SCMPipelineManager.lambda$finalizeAndDestroyPipeline$0(SCMPipelineManager.java:316)
	at org.apache.hadoop.utils.Scheduler.lambda$schedule$1(Scheduler.java:68)
	at java.util.concurrent.Executors$RunnableAdapter.call(Executors.java:511)
	at java.util.concurrent.FutureTask.run(FutureTask.java:266)
	at java.util.concurrent.ScheduledThreadPoolExecutor$ScheduledFutureTask.access$201(ScheduledThreadPoolExecutor.java:180)
	at java.util.concurrent.ScheduledThreadPoolExecutor$ScheduledFutureTask.run(ScheduledThreadPoolExecutor.java:293)
	at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1149)
	at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:624)
	at java.lang.Thread.run(Thread.java:748)
2019-08-22 22:39:16,865 [grpc-default-executor-0] INFO  client.GrpcClientProtocolClient (GrpcClientProtocolClient.java:onNext(255)) - client-925A7FF55346->8f59fcec-3de7-4ca1-83cc-1c3fdc9009a8: receive RaftClientReply:client-925A7FF55346->8f59fcec-3de7-4ca1-83cc-1c3fdc9009a8@group-05D52854D8B6, cid=8, FAILED org.apache.ratis.protocol.NotLeaderException: Server 8f59fcec-3de7-4ca1-83cc-1c3fdc9009a8 is not the leader (null). Request must be sent to leader., logIndex=0, commits[8f59fcec-3de7-4ca1-83cc-1c3fdc9009a8:c-1]
2019-08-22 22:39:16,881 | INFO  | SCMAudit | user=jenkins1000 | ip=192.168.36.125 | op=SEND_HEARTBEAT {datanodeUUID=8f59fcec-3de7-4ca1-83cc-1c3fdc9009a8, command=[]} | ret=SUCCESS |  
2019-08-22 22:39:17,082 | INFO  | SCMAudit | user=jenkins1000 | ip=192.168.36.125 | op=SEND_HEARTBEAT {datanodeUUID=8f59fcec-3de7-4ca1-83cc-1c3fdc9009a8, command=[]} | ret=SUCCESS |  
2019-08-22 22:39:17,282 | INFO  | SCMAudit | user=jenkins1000 | ip=192.168.36.125 | op=SEND_HEARTBEAT {datanodeUUID=8f59fcec-3de7-4ca1-83cc-1c3fdc9009a8, command=[]} | ret=SUCCESS |  
2019-08-22 22:39:17,483 | INFO  | SCMAudit | user=jenkins1000 | ip=192.168.36.125 | op=SEND_HEARTBEAT {datanodeUUID=8f59fcec-3de7-4ca1-83cc-1c3fdc9009a8, command=[]} | ret=SUCCESS |  
2019-08-22 22:39:17,683 | INFO  | SCMAudit | user=jenkins1000 | ip=192.168.36.125 | op=SEND_HEARTBEAT {datanodeUUID=8f59fcec-3de7-4ca1-83cc-1c3fdc9009a8, command=[]} | ret=SUCCESS |  
2019-08-22 22:39:17,883 | INFO  | SCMAudit | user=jenkins1000 | ip=192.168.36.125 | op=SEND_HEARTBEAT {datanodeUUID=8f59fcec-3de7-4ca1-83cc-1c3fdc9009a8, command=[]} | ret=SUCCESS |  
2019-08-22 22:39:18,083 | INFO  | SCMAudit | user=jenkins1000 | ip=192.168.36.125 | op=SEND_HEARTBEAT {datanodeUUID=8f59fcec-3de7-4ca1-83cc-1c3fdc9009a8, command=[]} | ret=SUCCESS |  
2019-08-22 22:39:18,283 | INFO  | SCMAudit | user=jenkins1000 | ip=192.168.36.125 | op=SEND_HEARTBEAT {datanodeUUID=8f59fcec-3de7-4ca1-83cc-1c3fdc9009a8, command=[]} | ret=SUCCESS |  
2019-08-22 22:39:18,483 | INFO  | SCMAudit | user=jenkins1000 | ip=192.168.36.125 | op=SEND_HEARTBEAT {datanodeUUID=8f59fcec-3de7-4ca1-83cc-1c3fdc9009a8, command=[]} | ret=SUCCESS |  
2019-08-22 22:39:18,683 | INFO  | SCMAudit | user=jenkins1000 | ip=192.168.36.125 | op=SEND_HEARTBEAT {datanodeUUID=8f59fcec-3de7-4ca1-83cc-1c3fdc9009a8, command=[]} | ret=SUCCESS |  
2019-08-22 22:39:18,882 | INFO  | SCMAudit | user=jenkins1000 | ip=192.168.36.125 | op=SEND_HEARTBEAT {datanodeUUID=8f59fcec-3de7-4ca1-83cc-1c3fdc9009a8, command=[]} | ret=SUCCESS |  
2019-08-22 22:39:18,887 [grpc-default-executor-1] INFO  client.GrpcClientProtocolClient (GrpcClientProtocolClient.java:onNext(255)) - client-925A7FF55346->8f59fcec-3de7-4ca1-83cc-1c3fdc9009a8: receive RaftClientReply:client-925A7FF55346->8f59fcec-3de7-4ca1-83cc-1c3fdc9009a8@group-05D52854D8B6, cid=8, FAILED org.apache.ratis.protocol.NotLeaderException: Server 8f59fcec-3de7-4ca1-83cc-1c3fdc9009a8 is not the leader (null). Request must be sent to leader., logIndex=0, commits[8f59fcec-3de7-4ca1-83cc-1c3fdc9009a8:c-1]
2019-08-22 22:39:19,083 | INFO  | SCMAudit | user=jenkins1000 | ip=192.168.36.125 | op=SEND_HEARTBEAT {datanodeUUID=8f59fcec-3de7-4ca1-83cc-1c3fdc9009a8, command=[]} | ret=SUCCESS |  
2019-08-22 22:39:19,283 | INFO  | SCMAudit | user=jenkins1000 | ip=192.168.36.125 | op=SEND_HEARTBEAT {datanodeUUID=8f59fcec-3de7-4ca1-83cc-1c3fdc9009a8, command=[]} | ret=SUCCESS |  
2019-08-22 22:39:19,483 | INFO  | SCMAudit | user=jenkins1000 | ip=192.168.36.125 | op=SEND_HEARTBEAT {datanodeUUID=8f59fcec-3de7-4ca1-83cc-1c3fdc9009a8, command=[]} | ret=SUCCESS |  
2019-08-22 22:39:19,682 | INFO  | SCMAudit | user=jenkins1000 | ip=192.168.36.125 | op=SEND_HEARTBEAT {datanodeUUID=8f59fcec-3de7-4ca1-83cc-1c3fdc9009a8, command=[]} | ret=SUCCESS |  
2019-08-22 22:39:19,883 | INFO  | SCMAudit | user=jenkins1000 | ip=192.168.36.125 | op=SEND_HEARTBEAT {datanodeUUID=8f59fcec-3de7-4ca1-83cc-1c3fdc9009a8, command=[]} | ret=SUCCESS |  
2019-08-22 22:39:20,083 | INFO  | SCMAudit | user=jenkins1000 | ip=192.168.36.125 | op=SEND_HEARTBEAT {datanodeUUID=8f59fcec-3de7-4ca1-83cc-1c3fdc9009a8, command=[]} | ret=SUCCESS |  
2019-08-22 22:39:20,284 | INFO  | SCMAudit | user=jenkins1000 | ip=192.168.36.125 | op=SEND_HEARTBEAT {datanodeUUID=8f59fcec-3de7-4ca1-83cc-1c3fdc9009a8, command=[]} | ret=SUCCESS |  
2019-08-22 22:39:20,484 | INFO  | SCMAudit | user=jenkins1000 | ip=192.168.36.125 | op=SEND_HEARTBEAT {datanodeUUID=8f59fcec-3de7-4ca1-83cc-1c3fdc9009a8, command=[]} | ret=SUCCESS |  
2019-08-22 22:39:20,683 | INFO  | SCMAudit | user=jenkins1000 | ip=192.168.36.125 | op=SEND_HEARTBEAT {datanodeUUID=8f59fcec-3de7-4ca1-83cc-1c3fdc9009a8, command=[]} | ret=SUCCESS |  
2019-08-22 22:39:20,884 | INFO  | SCMAudit | user=jenkins1000 | ip=192.168.36.125 | op=SEND_HEARTBEAT {datanodeUUID=8f59fcec-3de7-4ca1-83cc-1c3fdc9009a8, command=[]} | ret=SUCCESS |  
2019-08-22 22:39:20,910 [grpc-default-executor-0] INFO  client.GrpcClientProtocolClient (GrpcClientProtocolClient.java:onNext(255)) - client-925A7FF55346->8f59fcec-3de7-4ca1-83cc-1c3fdc9009a8: receive RaftClientReply:client-925A7FF55346->8f59fcec-3de7-4ca1-83cc-1c3fdc9009a8@group-05D52854D8B6, cid=8, FAILED org.apache.ratis.protocol.NotLeaderException: Server 8f59fcec-3de7-4ca1-83cc-1c3fdc9009a8 is not the leader (null). Request must be sent to leader., logIndex=0, commits[8f59fcec-3de7-4ca1-83cc-1c3fdc9009a8:c-1]
2019-08-22 22:39:21,084 | INFO  | SCMAudit | user=jenkins1000 | ip=192.168.36.125 | op=SEND_HEARTBEAT {datanodeUUID=8f59fcec-3de7-4ca1-83cc-1c3fdc9009a8, command=[]} | ret=SUCCESS |  
2019-08-22 22:39:21,284 | INFO  | SCMAudit | user=jenkins1000 | ip=192.168.36.125 | op=SEND_HEARTBEAT {datanodeUUID=8f59fcec-3de7-4ca1-83cc-1c3fdc9009a8, command=[]} | ret=SUCCESS |  
2019-08-22 22:39:21,484 | INFO  | SCMAudit | user=jenkins1000 | ip=192.168.36.125 | op=SEND_HEARTBEAT {datanodeUUID=8f59fcec-3de7-4ca1-83cc-1c3fdc9009a8, command=[]} | ret=SUCCESS |  
2019-08-22 22:39:21,683 | INFO  | SCMAudit | user=jenkins1000 | ip=192.168.36.125 | op=SEND_HEARTBEAT {datanodeUUID=8f59fcec-3de7-4ca1-83cc-1c3fdc9009a8, command=[]} | ret=SUCCESS |  
2019-08-22 22:39:21,883 | INFO  | SCMAudit | user=jenkins1000 | ip=192.168.36.125 | op=SEND_HEARTBEAT {datanodeUUID=8f59fcec-3de7-4ca1-83cc-1c3fdc9009a8, command=[]} | ret=SUCCESS |  
2019-08-22 22:39:21,992 [Thread-190] INFO  impl.FollowerState (FollowerState.java:run(106)) - 8f59fcec-3de7-4ca1-83cc-1c3fdc9009a8:group-05D52854D8B6 changes to CANDIDATE, lastRpcTime:5172, electionTimeout:5172ms
2019-08-22 22:39:21,994 [Thread-190] INFO  impl.RoleInfo (RoleInfo.java:shutdownFollowerState(121)) - 8f59fcec-3de7-4ca1-83cc-1c3fdc9009a8: shutdown FollowerState
2019-08-22 22:39:21,994 [Thread-190] INFO  impl.RaftServerImpl (RaftServerImpl.java:setRole(171)) - 8f59fcec-3de7-4ca1-83cc-1c3fdc9009a8:group-05D52854D8B6 changes role from FOLLOWER to CANDIDATE at term 0 for changeToCandidate
2019-08-22 22:39:21,995 [Thread-190] INFO  impl.RoleInfo (RoleInfo.java:updateAndGet(143)) - 8f59fcec-3de7-4ca1-83cc-1c3fdc9009a8: start LeaderElection
2019-08-22 22:39:22,083 | INFO  | SCMAudit | user=jenkins1000 | ip=192.168.36.125 | op=SEND_HEARTBEAT {datanodeUUID=8f59fcec-3de7-4ca1-83cc-1c3fdc9009a8, command=[]} | ret=SUCCESS |  
2019-08-22 22:39:22,284 | INFO  | SCMAudit | user=jenkins1000 | ip=192.168.36.125 | op=SEND_HEARTBEAT {datanodeUUID=8f59fcec-3de7-4ca1-83cc-1c3fdc9009a8, command=[]} | ret=SUCCESS |  
2019-08-22 22:39:22,483 | INFO  | SCMAudit | user=jenkins1000 | ip=192.168.36.125 | op=SEND_HEARTBEAT {datanodeUUID=8f59fcec-3de7-4ca1-83cc-1c3fdc9009a8, command=[]} | ret=SUCCESS |  
2019-08-22 22:39:22,683 | INFO  | SCMAudit | user=jenkins1000 | ip=192.168.36.125 | op=SEND_HEARTBEAT {datanodeUUID=8f59fcec-3de7-4ca1-83cc-1c3fdc9009a8, command=[]} | ret=SUCCESS |  
2019-08-22 22:39:22,884 | INFO  | SCMAudit | user=jenkins1000 | ip=192.168.36.125 | op=SEND_HEARTBEAT {datanodeUUID=8f59fcec-3de7-4ca1-83cc-1c3fdc9009a8, command=[]} | ret=SUCCESS |  
2019-08-22 22:39:22,932 [grpc-default-executor-0] INFO  client.GrpcClientProtocolClient (GrpcClientProtocolClient.java:onNext(255)) - client-925A7FF55346->8f59fcec-3de7-4ca1-83cc-1c3fdc9009a8: receive RaftClientReply:client-925A7FF55346->8f59fcec-3de7-4ca1-83cc-1c3fdc9009a8@group-05D52854D8B6, cid=8, FAILED org.apache.ratis.protocol.NotLeaderException: Server 8f59fcec-3de7-4ca1-83cc-1c3fdc9009a8 is not the leader (null). Request must be sent to leader., logIndex=0, commits[8f59fcec-3de7-4ca1-83cc-1c3fdc9009a8:c-1]
2019-08-22 22:39:22,983 [8f59fcec-3de7-4ca1-83cc-1c3fdc9009a8:group-05D52854D8B6:LeaderElection2] INFO  impl.LeaderElection (LeaderElection.java:askForVotes(181)) - 8f59fcec-3de7-4ca1-83cc-1c3fdc9009a8:group-05D52854D8B6:LeaderElection2: begin an election at term 1 for -1: [8f59fcec-3de7-4ca1-83cc-1c3fdc9009a8:192.168.36.125:43977], old=null
2019-08-22 22:39:22,985 [8f59fcec-3de7-4ca1-83cc-1c3fdc9009a8:group-05D52854D8B6:LeaderElection2] INFO  impl.RoleInfo (RoleInfo.java:shutdownLeaderElection(134)) - 8f59fcec-3de7-4ca1-83cc-1c3fdc9009a8: shutdown LeaderElection
2019-08-22 22:39:22,985 [8f59fcec-3de7-4ca1-83cc-1c3fdc9009a8:group-05D52854D8B6:LeaderElection2] INFO  impl.RaftServerImpl (RaftServerImpl.java:setRole(171)) - 8f59fcec-3de7-4ca1-83cc-1c3fdc9009a8:group-05D52854D8B6 changes role from CANDIDATE to LEADER at term 1 for changeToLeader
2019-08-22 22:39:22,985 [8f59fcec-3de7-4ca1-83cc-1c3fdc9009a8:group-05D52854D8B6:LeaderElection2] INFO  impl.RaftServerImpl (ServerState.java:setLeader(263)) - 8f59fcec-3de7-4ca1-83cc-1c3fdc9009a8:group-05D52854D8B6 change Leader from null to 8f59fcec-3de7-4ca1-83cc-1c3fdc9009a8 at term 1 for becomeLeader, leader elected after 6173ms
2019-08-22 22:39:22,986 [8f59fcec-3de7-4ca1-83cc-1c3fdc9009a8:group-05D52854D8B6:LeaderElection2] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.staging.catchup.gap = 1000 (default)
2019-08-22 22:39:22,986 [8f59fcec-3de7-4ca1-83cc-1c3fdc9009a8:group-05D52854D8B6:LeaderElection2] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.rpc.sleep.time = 25ms (default)
2019-08-22 22:39:22,987 [8f59fcec-3de7-4ca1-83cc-1c3fdc9009a8:group-05D52854D8B6:LeaderElection2] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.write.element-limit = 4096 (default)
2019-08-22 22:39:22,988 [8f59fcec-3de7-4ca1-83cc-1c3fdc9009a8:group-05D52854D8B6:LeaderElection2] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.watch.timeout = 10s (default)
2019-08-22 22:39:22,988 [8f59fcec-3de7-4ca1-83cc-1c3fdc9009a8:group-05D52854D8B6:LeaderElection2] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.watch.timeout.denomination = 1s (default)
2019-08-22 22:39:22,989 [8f59fcec-3de7-4ca1-83cc-1c3fdc9009a8:group-05D52854D8B6:LeaderElection2] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.watch.element-limit = 65536 (default)
2019-08-22 22:39:22,989 [8f59fcec-3de7-4ca1-83cc-1c3fdc9009a8:group-05D52854D8B6:LeaderElection2] INFO  impl.RoleInfo (RoleInfo.java:updateAndGet(143)) - 8f59fcec-3de7-4ca1-83cc-1c3fdc9009a8: start LeaderState
2019-08-22 22:39:22,991 [8f59fcec-3de7-4ca1-83cc-1c3fdc9009a8:group-05D52854D8B6:LeaderElection2] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:startLogSegment(380)) - 8f59fcec-3de7-4ca1-83cc-1c3fdc9009a8-SegmentedRaftLogWorker:Storage Directory /workdir/hadoop-ozone/integration-test/target/test-dir/MiniOzoneClusterImpl-f0450dcd-a238-40b4-8f72-c6c0c5421345/datanode-0/data/ratis/0faaf2d6-0f8c-4d9b-be73-05d52854d8b6: Starting segment from index:0
2019-08-22 22:39:22,992 [8f59fcec-3de7-4ca1-83cc-1c3fdc9009a8:group-05D52854D8B6:LeaderElection2] INFO  impl.RaftServerImpl (ServerState.java:setRaftConf(361)) - 8f59fcec-3de7-4ca1-83cc-1c3fdc9009a8:group-05D52854D8B6 set configuration 0: [8f59fcec-3de7-4ca1-83cc-1c3fdc9009a8:192.168.36.125:43977], old=null at 0
2019-08-22 22:39:23,073 [8f59fcec-3de7-4ca1-83cc-1c3fdc9009a8-SegmentedRaftLogWorker:Storage Directory /workdir/hadoop-ozone/integration-test/target/test-dir/MiniOzoneClusterImpl-f0450dcd-a238-40b4-8f72-c6c0c5421345/datanode-0/data/ratis/0faaf2d6-0f8c-4d9b-be73-05d52854d8b6] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:execute(569)) - 8f59fcec-3de7-4ca1-83cc-1c3fdc9009a8-SegmentedRaftLogWorker:Storage Directory /workdir/hadoop-ozone/integration-test/target/test-dir/MiniOzoneClusterImpl-f0450dcd-a238-40b4-8f72-c6c0c5421345/datanode-0/data/ratis/0faaf2d6-0f8c-4d9b-be73-05d52854d8b6: created new log segment /workdir/hadoop-ozone/integration-test/target/test-dir/MiniOzoneClusterImpl-f0450dcd-a238-40b4-8f72-c6c0c5421345/datanode-0/data/ratis/0faaf2d6-0f8c-4d9b-be73-05d52854d8b6/current/log_inprogress_0
2019-08-22 22:39:23,085 | INFO  | SCMAudit | user=jenkins1000 | ip=192.168.36.125 | op=SEND_HEARTBEAT {datanodeUUID=8f59fcec-3de7-4ca1-83cc-1c3fdc9009a8, command=[]} | ret=SUCCESS |  
2019-08-22 22:39:23,284 | INFO  | SCMAudit | user=jenkins1000 | ip=192.168.36.125 | op=SEND_HEARTBEAT {datanodeUUID=8f59fcec-3de7-4ca1-83cc-1c3fdc9009a8, command=[]} | ret=SUCCESS |  
2019-08-22 22:39:23,485 | INFO  | SCMAudit | user=jenkins1000 | ip=192.168.36.125 | op=SEND_HEARTBEAT {datanodeUUID=8f59fcec-3de7-4ca1-83cc-1c3fdc9009a8, command=[]} | ret=SUCCESS |  
2019-08-22 22:39:23,685 | INFO  | SCMAudit | user=jenkins1000 | ip=192.168.36.125 | op=SEND_HEARTBEAT {datanodeUUID=8f59fcec-3de7-4ca1-83cc-1c3fdc9009a8, command=[]} | ret=SUCCESS |  
2019-08-22 22:39:23,885 | INFO  | SCMAudit | user=jenkins1000 | ip=192.168.36.125 | op=SEND_HEARTBEAT {datanodeUUID=8f59fcec-3de7-4ca1-83cc-1c3fdc9009a8, command=[]} | ret=SUCCESS |  
2019-08-22 22:39:24,087 | INFO  | SCMAudit | user=jenkins1000 | ip=192.168.36.125 | op=SEND_HEARTBEAT {datanodeUUID=8f59fcec-3de7-4ca1-83cc-1c3fdc9009a8, command=[]} | ret=SUCCESS |  
2019-08-22 22:39:24,286 | INFO  | SCMAudit | user=jenkins1000 | ip=192.168.36.125 | op=SEND_HEARTBEAT {datanodeUUID=8f59fcec-3de7-4ca1-83cc-1c3fdc9009a8, command=[]} | ret=SUCCESS |  
2019-08-22 22:39:24,486 | INFO  | SCMAudit | user=jenkins1000 | ip=192.168.36.125 | op=SEND_HEARTBEAT {datanodeUUID=8f59fcec-3de7-4ca1-83cc-1c3fdc9009a8, command=[]} | ret=SUCCESS |  
2019-08-22 22:39:24,686 | INFO  | SCMAudit | user=jenkins1000 | ip=192.168.36.125 | op=SEND_HEARTBEAT {datanodeUUID=8f59fcec-3de7-4ca1-83cc-1c3fdc9009a8, command=[]} | ret=SUCCESS |  
2019-08-22 22:39:24,887 | INFO  | SCMAudit | user=jenkins1000 | ip=192.168.36.125 | op=SEND_HEARTBEAT {datanodeUUID=8f59fcec-3de7-4ca1-83cc-1c3fdc9009a8, command=[]} | ret=SUCCESS |  
2019-08-22 22:39:25,082 | INFO  | DNAudit | user=null | ip=null | op=WRITE_CHUNK {blockData=conID: 2 locID: 102663032460607490 bcsId: 0} | ret=SUCCESS |  
2019-08-22 22:39:25,083 | INFO  | SCMAudit | user=jenkins1000 | ip=192.168.36.125 | op=SEND_HEARTBEAT {datanodeUUID=8f59fcec-3de7-4ca1-83cc-1c3fdc9009a8, command=[]} | ret=SUCCESS |  
2019-08-22 22:39:25,096 | INFO  | DNAudit | user=null | ip=null | op=WRITE_CHUNK {blockData=conID: 2 locID: 102663032460607490 bcsId: 0} | ret=SUCCESS |  
2019-08-22 22:39:25,099 [StateMachineUpdater:8f59fcec-3de7-4ca1-83cc-1c3fdc9009a8:group-05D52854D8B6] INFO  ratis.ContainerStateMachine (ContainerStateMachine.java:takeSnapshot(283)) - group-05D52854D8B6: Taking a snapshot at:(t:1, i:1) file /workdir/hadoop-ozone/integration-test/target/test-dir/MiniOzoneClusterImpl-f0450dcd-a238-40b4-8f72-c6c0c5421345/datanode-0/data/ratis/0faaf2d6-0f8c-4d9b-be73-05d52854d8b6/sm/snapshot.1_1
2019-08-22 22:39:25,104 [grpc-default-executor-0] INFO  client.GrpcClientProtocolClient (GrpcClientProtocolClient.java:onNext(255)) - client-925A7FF55346->8f59fcec-3de7-4ca1-83cc-1c3fdc9009a8: receive RaftClientReply:client-925A7FF55346->8f59fcec-3de7-4ca1-83cc-1c3fdc9009a8@group-05D52854D8B6, cid=8, SUCCESS, logIndex=1, commits[8f59fcec-3de7-4ca1-83cc-1c3fdc9009a8:c1]
2019-08-22 22:39:25,119 [StateMachineUpdater:8f59fcec-3de7-4ca1-83cc-1c3fdc9009a8:group-05D52854D8B6] INFO  ratis.ContainerStateMachine (ContainerStateMachine.java:takeSnapshot(294)) - group-05D52854D8B6: Finished taking a snapshot at:(t:1, i:1) file:/workdir/hadoop-ozone/integration-test/target/test-dir/MiniOzoneClusterImpl-f0450dcd-a238-40b4-8f72-c6c0c5421345/datanode-0/data/ratis/0faaf2d6-0f8c-4d9b-be73-05d52854d8b6/sm/snapshot.1_1 time:20
2019-08-22 22:39:25,119 [StateMachineUpdater:8f59fcec-3de7-4ca1-83cc-1c3fdc9009a8:group-05D52854D8B6] INFO  impl.StateMachineUpdater (StateMachineUpdater.java:takeSnapshot(242)) - StateMachineUpdater:8f59fcec-3de7-4ca1-83cc-1c3fdc9009a8:group-05D52854D8B6: Took a snapshot at index 1
2019-08-22 22:39:25,120 [StateMachineUpdater:8f59fcec-3de7-4ca1-83cc-1c3fdc9009a8:group-05D52854D8B6] INFO  impl.StateMachineUpdater (StateMachineUpdater.java:lambda$new$0(80)) - StateMachineUpdater:8f59fcec-3de7-4ca1-83cc-1c3fdc9009a8:group-05D52854D8B6: snapshotIndex: updateIncreasingly -1 -> 1
2019-08-22 22:39:25,120 [StateMachineUpdater:8f59fcec-3de7-4ca1-83cc-1c3fdc9009a8:group-05D52854D8B6] INFO  ratis.ContainerStateMachine (ContainerStateMachine.java:takeSnapshot(283)) - group-05D52854D8B6: Taking a snapshot at:(t:1, i:1) file /workdir/hadoop-ozone/integration-test/target/test-dir/MiniOzoneClusterImpl-f0450dcd-a238-40b4-8f72-c6c0c5421345/datanode-0/data/ratis/0faaf2d6-0f8c-4d9b-be73-05d52854d8b6/sm/snapshot.1_1
2019-08-22 22:39:25,156 [StateMachineUpdater:8f59fcec-3de7-4ca1-83cc-1c3fdc9009a8:group-05D52854D8B6] INFO  ratis.ContainerStateMachine (ContainerStateMachine.java:takeSnapshot(294)) - group-05D52854D8B6: Finished taking a snapshot at:(t:1, i:1) file:/workdir/hadoop-ozone/integration-test/target/test-dir/MiniOzoneClusterImpl-f0450dcd-a238-40b4-8f72-c6c0c5421345/datanode-0/data/ratis/0faaf2d6-0f8c-4d9b-be73-05d52854d8b6/sm/snapshot.1_1 time:36
2019-08-22 22:39:25,156 [StateMachineUpdater:8f59fcec-3de7-4ca1-83cc-1c3fdc9009a8:group-05D52854D8B6] INFO  impl.StateMachineUpdater (StateMachineUpdater.java:takeSnapshot(242)) - StateMachineUpdater:8f59fcec-3de7-4ca1-83cc-1c3fdc9009a8:group-05D52854D8B6: Took a snapshot at index 1
2019-08-22 22:39:25,157 [StateMachineUpdater:8f59fcec-3de7-4ca1-83cc-1c3fdc9009a8:group-05D52854D8B6] INFO  impl.StateMachineUpdater (StateMachineUpdater.java:lambda$new$0(80)) - StateMachineUpdater:8f59fcec-3de7-4ca1-83cc-1c3fdc9009a8:group-05D52854D8B6: snapshotIndex: updateIncreasingly 1 -> 1
2019-08-22 22:39:25,232 | INFO  | DNAudit | user=null | ip=null | op=PUT_BLOCK {blockData=[blockId=conID: 2 locID: 102663032460607490 bcsId: 0,size=5]} | ret=SUCCESS |  
2019-08-22 22:39:25,233 [StateMachineUpdater:8f59fcec-3de7-4ca1-83cc-1c3fdc9009a8:group-05D52854D8B6] INFO  ratis.ContainerStateMachine (ContainerStateMachine.java:takeSnapshot(283)) - group-05D52854D8B6: Taking a snapshot at:(t:1, i:4) file /workdir/hadoop-ozone/integration-test/target/test-dir/MiniOzoneClusterImpl-f0450dcd-a238-40b4-8f72-c6c0c5421345/datanode-0/data/ratis/0faaf2d6-0f8c-4d9b-be73-05d52854d8b6/sm/snapshot.1_4
2019-08-22 22:39:25,237 [grpc-default-executor-0] INFO  client.GrpcClientProtocolClient (GrpcClientProtocolClient.java:onNext(255)) - client-925A7FF55346->8f59fcec-3de7-4ca1-83cc-1c3fdc9009a8: receive RaftClientReply:client-925A7FF55346->8f59fcec-3de7-4ca1-83cc-1c3fdc9009a8@group-05D52854D8B6, cid=9, SUCCESS, logIndex=3, commits[8f59fcec-3de7-4ca1-83cc-1c3fdc9009a8:c4]
2019-08-22 22:39:25,255 | INFO  | OMAudit | user=jenkins1000 | ip=127.0.0.1 | op=COMMIT_KEY {volume=testcontainerstatemachinefailures, bucket=testcontainerstatemachinefailures, key=ratis, dataSize=10, replicationType=null, replicationFactor=null, keyLocationInfo=[{blockID={containerID=1, localID=102663031087104001}, length=5, offset=0, token=null, pipeline=Pipeline[ Id: f0fe2bc2-1a30-4141-8c45-110f2de23c75, Nodes: 8f59fcec-3de7-4ca1-83cc-1c3fdc9009a8{ip: 192.168.36.125, host: pr-hdds-1975-6rfct-3228563268, networkLocation: /default-rack, certSerialId: null}, Type:RATIS, Factor:ONE, State:OPEN], createVersion=0}, {blockID={containerID=2, localID=102663032460607490}, length=5, offset=0, token=null, pipeline=Pipeline[ Id: 0faaf2d6-0f8c-4d9b-be73-05d52854d8b6, Nodes: 8f59fcec-3de7-4ca1-83cc-1c3fdc9009a8{ip: 192.168.36.125, host: pr-hdds-1975-6rfct-3228563268, networkLocation: /default-rack, certSerialId: null}, Type:RATIS, Factor:ONE, State:OPEN], createVersion=0}], clientID=102663031084679168} | ret=SUCCESS |  
2019-08-22 22:39:25,256 [main] INFO  datanode.ObjectStoreHandler (ObjectStoreHandler.java:close(155)) - Closing ObjectStoreHandler.
2019-08-22 22:39:25,258 [main] INFO  ozone.HddsDatanodeService (HddsDatanodeService.java:stop(451)) - Stopped plug-in org.apache.hadoop.ozone.web.OzoneHddsDatanodeService@9df564f
2019-08-22 22:39:25,263 [StateMachineUpdater:8f59fcec-3de7-4ca1-83cc-1c3fdc9009a8:group-05D52854D8B6] INFO  ratis.ContainerStateMachine (ContainerStateMachine.java:takeSnapshot(294)) - group-05D52854D8B6: Finished taking a snapshot at:(t:1, i:4) file:/workdir/hadoop-ozone/integration-test/target/test-dir/MiniOzoneClusterImpl-f0450dcd-a238-40b4-8f72-c6c0c5421345/datanode-0/data/ratis/0faaf2d6-0f8c-4d9b-be73-05d52854d8b6/sm/snapshot.1_4 time:30
2019-08-22 22:39:25,263 [StateMachineUpdater:8f59fcec-3de7-4ca1-83cc-1c3fdc9009a8:group-05D52854D8B6] INFO  impl.StateMachineUpdater (StateMachineUpdater.java:takeSnapshot(242)) - StateMachineUpdater:8f59fcec-3de7-4ca1-83cc-1c3fdc9009a8:group-05D52854D8B6: Took a snapshot at index 4
2019-08-22 22:39:25,263 [StateMachineUpdater:8f59fcec-3de7-4ca1-83cc-1c3fdc9009a8:group-05D52854D8B6] INFO  impl.StateMachineUpdater (StateMachineUpdater.java:lambda$new$0(80)) - StateMachineUpdater:8f59fcec-3de7-4ca1-83cc-1c3fdc9009a8:group-05D52854D8B6: snapshotIndex: updateIncreasingly 1 -> 4
2019-08-22 22:39:25,281 [Datanode State Machine Thread - 0] INFO  statemachine.DatanodeStateMachine (DatanodeStateMachine.java:lambda$startDaemon$0(350)) - Ozone container server started.
2019-08-22 22:39:28,139 [EventQueue-StaleNodeForStaleNodeHandler] INFO  node.StaleNodeHandler (StaleNodeHandler.java:onMessage(58)) - Datanode 8f59fcec-3de7-4ca1-83cc-1c3fdc9009a8{ip: 192.168.36.125, host: pr-hdds-1975-6rfct-3228563268, networkLocation: /default-rack, certSerialId: null} moved to stale state. Finalizing its pipelines [PipelineID=0faaf2d6-0f8c-4d9b-be73-05d52854d8b6]
2019-08-22 22:39:28,139 [EventQueue-StaleNodeForStaleNodeHandler] INFO  pipeline.SCMPipelineManager (SCMPipelineManager.java:finalizeAndDestroyPipeline(309)) - destroying pipeline:Pipeline[ Id: 0faaf2d6-0f8c-4d9b-be73-05d52854d8b6, Nodes: 8f59fcec-3de7-4ca1-83cc-1c3fdc9009a8{ip: 192.168.36.125, host: pr-hdds-1975-6rfct-3228563268, networkLocation: /default-rack, certSerialId: null}, Type:RATIS, Factor:ONE, State:OPEN]
2019-08-22 22:39:28,139 [EventQueue-StaleNodeForStaleNodeHandler] INFO  pipeline.PipelineStateManager (PipelineStateManager.java:finalizePipeline(123)) - Pipeline Pipeline[ Id: 0faaf2d6-0f8c-4d9b-be73-05d52854d8b6, Nodes: 8f59fcec-3de7-4ca1-83cc-1c3fdc9009a8{ip: 192.168.36.125, host: pr-hdds-1975-6rfct-3228563268, networkLocation: /default-rack, certSerialId: null}, Type:RATIS, Factor:ONE, State:CLOSED] moved to CLOSED state
2019-08-22 22:39:28,140 [EventQueue-CloseContainerForCloseContainerEventHandler] INFO  container.CloseContainerEventHandler (CloseContainerEventHandler.java:onMessage(61)) - Close container Event triggered for container : #2
2019-08-22 22:39:30,261 [main] INFO  ozoneimpl.OzoneContainer (OzoneContainer.java:stop(199)) - Attempting to stop container services.
2019-08-22 22:39:30,265 [main] INFO  impl.RaftServerProxy (RaftServerProxy.java:lambda$close$4(314)) - 8f59fcec-3de7-4ca1-83cc-1c3fdc9009a8: close
2019-08-22 22:39:30,267 [main] INFO  impl.RaftServerImpl (RaftServerImpl.java:lambda$shutdown$3(245)) - 8f59fcec-3de7-4ca1-83cc-1c3fdc9009a8: shutdown group-05D52854D8B6
2019-08-22 22:39:30,267 [main] INFO  util.JmxRegister (JmxRegister.java:unregister(73)) - Successfully un-registered JMX Bean with object name Ratis:service=RaftServer,group=group-05D52854D8B6,id=8f59fcec-3de7-4ca1-83cc-1c3fdc9009a8
2019-08-22 22:39:30,268 [main] INFO  impl.RoleInfo (RoleInfo.java:shutdownLeaderState(104)) - 8f59fcec-3de7-4ca1-83cc-1c3fdc9009a8: shutdown LeaderState
2019-08-22 22:39:30,269 [main] INFO  impl.PendingRequests (PendingRequests.java:sendNotLeaderResponses(202)) - 8f59fcec-3de7-4ca1-83cc-1c3fdc9009a8-PendingRequests: sendNotLeaderResponses
2019-08-22 22:39:30,277 [main] INFO  impl.StateMachineUpdater (StateMachineUpdater.java:stopAndJoin(115)) - StateMachineUpdater:8f59fcec-3de7-4ca1-83cc-1c3fdc9009a8:group-05D52854D8B6: set stopIndex = 4
2019-08-22 22:39:30,277 [StateMachineUpdater:8f59fcec-3de7-4ca1-83cc-1c3fdc9009a8:group-05D52854D8B6] INFO  ratis.ContainerStateMachine (ContainerStateMachine.java:takeSnapshot(283)) - group-05D52854D8B6: Taking a snapshot at:(t:1, i:4) file /workdir/hadoop-ozone/integration-test/target/test-dir/MiniOzoneClusterImpl-f0450dcd-a238-40b4-8f72-c6c0c5421345/datanode-0/data/ratis/0faaf2d6-0f8c-4d9b-be73-05d52854d8b6/sm/snapshot.1_4
2019-08-22 22:39:30,313 [StateMachineUpdater:8f59fcec-3de7-4ca1-83cc-1c3fdc9009a8:group-05D52854D8B6] INFO  ratis.ContainerStateMachine (ContainerStateMachine.java:takeSnapshot(294)) - group-05D52854D8B6: Finished taking a snapshot at:(t:1, i:4) file:/workdir/hadoop-ozone/integration-test/target/test-dir/MiniOzoneClusterImpl-f0450dcd-a238-40b4-8f72-c6c0c5421345/datanode-0/data/ratis/0faaf2d6-0f8c-4d9b-be73-05d52854d8b6/sm/snapshot.1_4 time:36
2019-08-22 22:39:30,313 [StateMachineUpdater:8f59fcec-3de7-4ca1-83cc-1c3fdc9009a8:group-05D52854D8B6] INFO  impl.StateMachineUpdater (StateMachineUpdater.java:takeSnapshot(242)) - StateMachineUpdater:8f59fcec-3de7-4ca1-83cc-1c3fdc9009a8:group-05D52854D8B6: Took a snapshot at index 4
2019-08-22 22:39:30,313 [StateMachineUpdater:8f59fcec-3de7-4ca1-83cc-1c3fdc9009a8:group-05D52854D8B6] INFO  impl.StateMachineUpdater (StateMachineUpdater.java:lambda$new$0(80)) - StateMachineUpdater:8f59fcec-3de7-4ca1-83cc-1c3fdc9009a8:group-05D52854D8B6: snapshotIndex: updateIncreasingly 4 -> 4
2019-08-22 22:39:30,314 [main] INFO  impl.RaftServerImpl (ServerState.java:close(394)) - 8f59fcec-3de7-4ca1-83cc-1c3fdc9009a8:group-05D52854D8B6 closes. The last applied log index is 4
2019-08-22 22:39:30,316 [8f59fcec-3de7-4ca1-83cc-1c3fdc9009a8-SegmentedRaftLogWorker:Storage Directory /workdir/hadoop-ozone/integration-test/target/test-dir/MiniOzoneClusterImpl-f0450dcd-a238-40b4-8f72-c6c0c5421345/datanode-0/data/ratis/0faaf2d6-0f8c-4d9b-be73-05d52854d8b6] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:run(313)) - 8f59fcec-3de7-4ca1-83cc-1c3fdc9009a8-SegmentedRaftLogWorker:Storage Directory /workdir/hadoop-ozone/integration-test/target/test-dir/MiniOzoneClusterImpl-f0450dcd-a238-40b4-8f72-c6c0c5421345/datanode-0/data/ratis/0faaf2d6-0f8c-4d9b-be73-05d52854d8b6 was interrupted, exiting. There are 0 tasks remaining in the queue.
2019-08-22 22:39:30,317 [main] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:close(228)) - 8f59fcec-3de7-4ca1-83cc-1c3fdc9009a8-SegmentedRaftLogWorker:Storage Directory /workdir/hadoop-ozone/integration-test/target/test-dir/MiniOzoneClusterImpl-f0450dcd-a238-40b4-8f72-c6c0c5421345/datanode-0/data/ratis/0faaf2d6-0f8c-4d9b-be73-05d52854d8b6 close()
2019-08-22 22:39:30,320 [main] INFO  server.GrpcService (GrpcService.java:closeImpl(155)) - 8f59fcec-3de7-4ca1-83cc-1c3fdc9009a8: shutdown server with port 43977 now
2019-08-22 22:39:30,324 [main] INFO  server.GrpcService (GrpcService.java:closeImpl(163)) - 8f59fcec-3de7-4ca1-83cc-1c3fdc9009a8: shutdown server with port 43977 successfully
2019-08-22 22:39:30,335 [main] INFO  utils.BackgroundService (BackgroundService.java:shutdown(148)) - Shutting down service BlockDeletingService
2019-08-22 22:39:30,338 [refreshUsed-/workdir/hadoop-ozone/integration-test/target/test-dir/MiniOzoneClusterImpl-f0450dcd-a238-40b4-8f72-c6c0c5421345/datanode-0/data/containers] WARN  fs.CachingGetSpaceUsed (CachingGetSpaceUsed.java:run(183)) - Thread Interrupted waiting to refresh disk information: sleep interrupted
2019-08-22 22:39:30,356 [main] INFO  statemachine.DatanodeStateMachine (DatanodeStateMachine.java:stopDaemon(395)) - Ozone container server stopped.
2019-08-22 22:39:30,363 [main] INFO  handler.ContextHandler (ContextHandler.java:doStop(910)) - Stopped o.e.j.w.WebAppContext@250a500b{/,null,UNAVAILABLE}{/hddsDatanode}
2019-08-22 22:39:30,371 [main] INFO  server.AbstractConnector (AbstractConnector.java:doStop(318)) - Stopped ServerConnector@75d982d3{HTTP/1.1,[http/1.1]}{0.0.0.0:0}
2019-08-22 22:39:30,372 [main] INFO  handler.ContextHandler (ContextHandler.java:doStop(910)) - Stopped o.e.j.s.ServletContextHandler@3f0d6038{/static,jar:file:/home/user/.m2/repository/org/apache/hadoop/hadoop-hdds-container-service/0.5.0-SNAPSHOT/hadoop-hdds-container-service-0.5.0-SNAPSHOT.jar!/webapps/static,UNAVAILABLE}
2019-08-22 22:39:30,372 [main] INFO  handler.ContextHandler (ContextHandler.java:doStop(910)) - Stopped o.e.j.s.ServletContextHandler@3a082ff4{/logs,file:///workdir/hadoop-ozone/integration-test/target/log,UNAVAILABLE}
2019-08-22 22:39:30,375 [main] INFO  ozone.MiniOzoneClusterImpl (MiniOzoneClusterImpl.java:lambda$waitForClusterToBeReady$0(142)) - Cluster is ready. Got 0 of 0 DN Heartbeats.
2019-08-22 22:39:30,379 [main] INFO  impl.MetricsSystemImpl (MetricsSystemImpl.java:init(158)) - HddsDatanode metrics system started (again)
2019-08-22 22:39:30,422 [main] INFO  ozone.HddsDatanodeService (HddsDatanodeService.java:start(184)) - HddsDatanodeService host:pr-hdds-1975-6rfct-3228563268 ip:192.168.36.125
2019-08-22 22:39:30,425 [main] INFO  volume.VolumeUsage (VolumeUsage.java:loadScmUsed(144)) - Cached ScmUsed found for /workdir/hadoop-ozone/integration-test/target/test-dir/MiniOzoneClusterImpl-f0450dcd-a238-40b4-8f72-c6c0c5421345/datanode-0/data/containers : 4096 
2019-08-22 22:39:30,426 [main] INFO  volume.HddsVolume (HddsVolume.java:<init>(176)) - Creating Volume: /workdir/hadoop-ozone/integration-test/target/test-dir/MiniOzoneClusterImpl-f0450dcd-a238-40b4-8f72-c6c0c5421345/datanode-0/data/containers/hdds of  storage type : DISK and capacity : 1482555576320
2019-08-22 22:39:30,427 [main] INFO  volume.VolumeSet (VolumeSet.java:initializeVolumeSet(170)) - Added Volume : /workdir/hadoop-ozone/integration-test/target/test-dir/MiniOzoneClusterImpl-f0450dcd-a238-40b4-8f72-c6c0c5421345/datanode-0/data/containers/hdds to VolumeSet
2019-08-22 22:39:30,427 [main] INFO  volume.ThrottledAsyncChecker (ThrottledAsyncChecker.java:schedule(140)) - Scheduling a check for org.apache.hadoop.ozone.container.common.volume.HddsVolume@30f28b5
2019-08-22 22:39:30,429 [main] INFO  volume.HddsVolumeChecker (HddsVolumeChecker.java:checkAllVolumes(203)) - Scheduled health check for volume org.apache.hadoop.ozone.container.common.volume.HddsVolume@30f28b5
2019-08-22 22:39:30,478 [main] INFO  impl.RaftServerProxy (ConfUtils.java:logGet(43)) - raft.rpc.type = GRPC (default)
2019-08-22 22:39:30,479 [main] INFO  grpc.GrpcFactory (GrpcFactory.java:checkPooledByteBufAllocatorUseCacheForAllThreads(45)) - PERFORMANCE WARNING: useCacheForAllThreads is true that may cause Netty to create a lot garbage objects and, as a result, trigger GC.
	It is recommended to disable useCacheForAllThreads by setting -Dorg.apache.ratis.thirdparty.io.netty.allocator.useCacheForAllThreads=false in command line.
2019-08-22 22:39:30,479 [main] INFO  grpc.GrpcConfigKeys$Server (ConfUtils.java:logGet(43)) - raft.grpc.server.port = 43977 (custom)
2019-08-22 22:39:30,479 [main] INFO  server.GrpcService (ConfUtils.java:logGet(43)) - raft.grpc.message.size.max = 33570816 (custom)
2019-08-22 22:39:30,480 [main] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.log.appender.buffer.byte-limit = 33554432 (custom)
2019-08-22 22:39:30,480 [main] INFO  server.GrpcService (ConfUtils.java:logGet(43)) - raft.grpc.flow.control.window = 1MB (=1048576) (default)
2019-08-22 22:39:30,481 [main] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.rpc.request.timeout = 3000ms (default)
2019-08-22 22:39:30,482 [main] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.storage.dir = [/workdir/hadoop-ozone/integration-test/target/test-dir/MiniOzoneClusterImpl-f0450dcd-a238-40b4-8f72-c6c0c5421345/datanode-0/data/ratis] (custom)
2019-08-22 22:39:30,482 [main] INFO  impl.RaftServerProxy (RaftServerProxy.java:lambda$null$0(191)) - 8f59fcec-3de7-4ca1-83cc-1c3fdc9009a8: found a subdirectory /workdir/hadoop-ozone/integration-test/target/test-dir/MiniOzoneClusterImpl-f0450dcd-a238-40b4-8f72-c6c0c5421345/datanode-0/data/ratis/0faaf2d6-0f8c-4d9b-be73-05d52854d8b6
2019-08-22 22:39:30,484 [main] INFO  impl.RaftServerProxy (RaftServerProxy.java:addNew(89)) - 8f59fcec-3de7-4ca1-83cc-1c3fdc9009a8: addNew group-05D52854D8B6:[] returns group-05D52854D8B6:java.util.concurrent.CompletableFuture@6d69a0d3[Not completed]
2019-08-22 22:39:30,485 [main] INFO  replication.SimpleContainerDownloader (SimpleContainerDownloader.java:<init>(72)) - Starting container downloader service to copy containers to replicate.
2019-08-22 22:39:30,495 [main] INFO  hdfs.DFSUtil (DFSUtil.java:httpServerTemplateForNNAndJN(1641)) - Starting Web-server for hddsDatanode at: http://0.0.0.0:39400
2019-08-22 22:39:30,510 [pool-42-thread-1] INFO  impl.RaftServerImpl (RaftServerImpl.java:<init>(93)) - 8f59fcec-3de7-4ca1-83cc-1c3fdc9009a8: new RaftServerImpl for group-05D52854D8B6:[] with ContainerStateMachine:uninitialized
2019-08-22 22:39:30,511 [main] INFO  server.AuthenticationFilter (AuthenticationFilter.java:constructSecretProvider(240)) - Unable to initialize FileSignerSecretProvider, falling back to use random secrets.
2019-08-22 22:39:30,511 [pool-42-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.rpc.timeout.min = 5s (custom)
2019-08-22 22:39:30,512 [pool-42-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.rpc.timeout.max = 5200ms (custom)
2019-08-22 22:39:30,512 [pool-42-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.rpcslowness.timeout = 120s (custom)
2019-08-22 22:39:30,512 [main] WARN  http.HttpRequestLog (HttpRequestLog.java:getRequestLog(97)) - Jetty request log can only be enabled using Log4j
2019-08-22 22:39:30,512 [pool-42-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.sleep.deviation.threshold = 300 (default)
2019-08-22 22:39:30,513 [pool-42-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.log.appender.install.snapshot.enabled = false (custom)
2019-08-22 22:39:30,513 [pool-42-thread-1] INFO  impl.RaftServerImpl (ServerState.java:<init>(105)) - 8f59fcec-3de7-4ca1-83cc-1c3fdc9009a8:group-05D52854D8B6 ConfigurationManager, init=-1: [], old=null, confs=<EMPTY_MAP>
2019-08-22 22:39:30,513 [pool-42-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.storage.dir = [/workdir/hadoop-ozone/integration-test/target/test-dir/MiniOzoneClusterImpl-f0450dcd-a238-40b4-8f72-c6c0c5421345/datanode-0/data/ratis] (custom)
2019-08-22 22:39:30,515 [main] INFO  http.HttpServer2 (HttpServer2.java:addGlobalFilter(975)) - Added global filter 'safety' (class=org.apache.hadoop.http.HttpServer2$QuotingInputFilter)
2019-08-22 22:39:30,516 [main] INFO  http.HttpServer2 (HttpServer2.java:addFilter(948)) - Added filter static_user_filter (class=org.apache.hadoop.http.lib.StaticUserWebFilter$StaticUserFilter) to context hddsDatanode
2019-08-22 22:39:30,516 [main] INFO  http.HttpServer2 (HttpServer2.java:addFilter(958)) - Added filter static_user_filter (class=org.apache.hadoop.http.lib.StaticUserWebFilter$StaticUserFilter) to context logs
2019-08-22 22:39:30,516 [main] INFO  http.HttpServer2 (HttpServer2.java:addFilter(958)) - Added filter static_user_filter (class=org.apache.hadoop.http.lib.StaticUserWebFilter$StaticUserFilter) to context static
2019-08-22 22:39:30,518 [main] INFO  http.HttpServer2 (HttpServer2.java:bindListener(1191)) - Jetty bound to port 39400
2019-08-22 22:39:30,518 [main] INFO  server.Server (Server.java:doStart(351)) - jetty-9.3.24.v20180605, build timestamp: 2018-06-05T17:11:56Z, git hash: 84205aa28f11a4f31f2a3b86d1bba2cc8ab69827
2019-08-22 22:39:30,521 [main] INFO  handler.ContextHandler (ContextHandler.java:doStart(781)) - Started o.e.j.s.ServletContextHandler@3b088163{/logs,file:///workdir/hadoop-ozone/integration-test/target/log,AVAILABLE}
2019-08-22 22:39:30,521 [main] INFO  handler.ContextHandler (ContextHandler.java:doStart(781)) - Started o.e.j.s.ServletContextHandler@611d0763{/static,jar:file:/home/user/.m2/repository/org/apache/hadoop/hadoop-hdds-container-service/0.5.0-SNAPSHOT/hadoop-hdds-container-service-0.5.0-SNAPSHOT.jar!/webapps/static,AVAILABLE}
2019-08-22 22:39:30,537 [pool-42-thread-1] INFO  storage.RaftStorageDirectory (RaftStorageDirectory.java:tryLock(328)) - Lock on /workdir/hadoop-ozone/integration-test/target/test-dir/MiniOzoneClusterImpl-f0450dcd-a238-40b4-8f72-c6c0c5421345/datanode-0/data/ratis/0faaf2d6-0f8c-4d9b-be73-05d52854d8b6/in_use.lock acquired by nodename 26847@pr-hdds-1975-6rfct-3228563268
2019-08-22 22:39:30,544 [pool-42-thread-1] INFO  ratis.ContainerStateMachine (ContainerStateMachine.java:loadSnapshot(235)) - group-05D52854D8B6: Setting the last applied index to (t:1, i:4)
2019-08-22 22:39:30,548 [pool-42-thread-1] INFO  impl.RaftServerImpl (ServerState.java:setRaftConf(361)) - 8f59fcec-3de7-4ca1-83cc-1c3fdc9009a8:group-05D52854D8B6 set configuration 0: [8f59fcec-3de7-4ca1-83cc-1c3fdc9009a8:192.168.36.125:43977], old=null at 0
2019-08-22 22:39:30,549 [pool-42-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.leader.election.timeout = 120s (custom)
2019-08-22 22:39:30,549 [pool-42-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.log.use.memory = false (default)
2019-08-22 22:39:30,549 [pool-42-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.log.purge.gap = 1000000 (custom)
2019-08-22 22:39:30,549 [pool-42-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.log.appender.buffer.byte-limit = 33554432 (custom)
2019-08-22 22:39:30,550 [pool-42-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.log.segment.size.max = 1048576 (custom)
2019-08-22 22:39:30,550 [pool-42-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.log.segment.cache.num.max = 2 (custom)
2019-08-22 22:39:30,550 [pool-42-thread-1] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:<init>(172)) - new 8f59fcec-3de7-4ca1-83cc-1c3fdc9009a8-SegmentedRaftLogWorker:Storage Directory /workdir/hadoop-ozone/integration-test/target/test-dir/MiniOzoneClusterImpl-f0450dcd-a238-40b4-8f72-c6c0c5421345/datanode-0/data/ratis/0faaf2d6-0f8c-4d9b-be73-05d52854d8b6 for RaftStorage:Storage Directory /workdir/hadoop-ozone/integration-test/target/test-dir/MiniOzoneClusterImpl-f0450dcd-a238-40b4-8f72-c6c0c5421345/datanode-0/data/ratis/0faaf2d6-0f8c-4d9b-be73-05d52854d8b6
2019-08-22 22:39:30,550 [pool-42-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.log.queue.byte-limit = 2147483647 (custom)
2019-08-22 22:39:30,551 [pool-42-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.log.queue.element-limit = 1024 (custom)
2019-08-22 22:39:30,551 [pool-42-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.log.segment.size.max = 1048576 (custom)
2019-08-22 22:39:30,551 [pool-42-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.log.preallocated.size = 16384 (custom)
2019-08-22 22:39:30,551 [pool-42-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.log.write.buffer.size = 33554432 (custom)
2019-08-22 22:39:30,552 [pool-42-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.log.force.sync.num = 128 (default)
2019-08-22 22:39:30,552 [pool-42-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.log.statemachine.data.sync = true (default)
2019-08-22 22:39:30,552 [pool-42-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.log.statemachine.data.sync.timeout = 10s (default)
2019-08-22 22:39:30,552 [pool-42-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.log.statemachine.data.sync.timeout.retry = -1 (default)
2019-08-22 22:39:30,553 [pool-42-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.log.statemachine.data.caching.enabled = true (custom)
2019-08-22 22:39:30,561 [main] INFO  handler.ContextHandler (ContextHandler.java:doStart(781)) - Started o.e.j.w.WebAppContext@2a0b901c{/,file:///tmp/jetty-0.0.0.0-39400-hddsDatanode-_-any-6517320833278019709.dir/webapp/,AVAILABLE}{/hddsDatanode}
2019-08-22 22:39:30,562 [pool-42-thread-1] INFO  impl.RaftServerImpl (ServerState.java:setRaftConf(361)) - 8f59fcec-3de7-4ca1-83cc-1c3fdc9009a8:group-05D52854D8B6 set configuration 0: [8f59fcec-3de7-4ca1-83cc-1c3fdc9009a8:192.168.36.125:43977], old=null at 0
2019-08-22 22:39:30,562 [main] INFO  server.AbstractConnector (AbstractConnector.java:doStart(278)) - Started ServerConnector@3d104c9b{HTTP/1.1,[http/1.1]}{0.0.0.0:39400}
2019-08-22 22:39:30,563 [main] INFO  server.Server (Server.java:doStart(419)) - Started @48142ms
2019-08-22 22:39:30,564 [main] INFO  server.BaseHttpServer (BaseHttpServer.java:updateConnectorAddress(213)) - HTTP server of HDDSDATANODE is listening at http://0.0.0.0:39400
2019-08-22 22:39:30,564 [pool-42-thread-1] INFO  segmented.LogSegment (LogSegment.java:loadSegment(145)) - Successfully read 5 entries from segment file /workdir/hadoop-ozone/integration-test/target/test-dir/MiniOzoneClusterImpl-f0450dcd-a238-40b4-8f72-c6c0c5421345/datanode-0/data/ratis/0faaf2d6-0f8c-4d9b-be73-05d52854d8b6/current/log_inprogress_0
2019-08-22 22:39:30,565 [pool-42-thread-1] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:lambda$new$0(132)) - 8f59fcec-3de7-4ca1-83cc-1c3fdc9009a8-SegmentedRaftLogWorker:Storage Directory /workdir/hadoop-ozone/integration-test/target/test-dir/MiniOzoneClusterImpl-f0450dcd-a238-40b4-8f72-c6c0c5421345/datanode-0/data/ratis/0faaf2d6-0f8c-4d9b-be73-05d52854d8b6: flushIndex: setUnconditionally 0 -> 4
Aug 22, 2019 10:39:30 PM com.sun.jersey.server.impl.application.WebApplicationImpl _initiate
INFO: Initiating Jersey application, version 'Jersey: 1.19 02/11/2015 03:25 AM'
2019-08-22 22:39:30,600 [pool-42-thread-1] INFO  raftlog.RaftLog (RaftLog.java:lambda$new$0(62)) - 8f59fcec-3de7-4ca1-83cc-1c3fdc9009a8: commitIndex: updateToMax old=4, new=3, updated? false
2019-08-22 22:39:30,601 [pool-42-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.snapshot.auto.trigger.enabled = true (custom)
2019-08-22 22:39:30,601 [pool-42-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.snapshot.auto.trigger.threshold = 1 (custom)
2019-08-22 22:39:30,601 [pool-42-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.retrycache.expirytime = 600000ms (custom)
2019-08-22 22:39:30,750 | INFO  | ObjectStoreRestHttpServer | Listening HDDS REST traffic on /0.0.0.0:41035 |  
2019-08-22 22:39:30,750 [main] INFO  ozone.HddsDatanodeService (HddsDatanodeService.java:startPlugins(395)) - Started plug-in org.apache.hadoop.ozone.web.OzoneHddsDatanodeService@7ea42c82
2019-08-22 22:39:30,750 [main] INFO  ozone.MiniOzoneClusterImpl (MiniOzoneClusterImpl.java:lambda$waitForClusterToBeReady$0(142)) - Waiting for cluster to be ready. Got 0 of 1 DN Heartbeats.
2019-08-22 22:39:30,752 [org.apache.hadoop.util.JvmPauseMonitor$Monitor@36cdf47e] INFO  util.JvmPauseMonitor (JvmPauseMonitor.java:run(188)) - Starting JVM pause monitor
2019-08-22 22:39:31,751 [main] INFO  ozone.MiniOzoneClusterImpl (MiniOzoneClusterImpl.java:lambda$waitForClusterToBeReady$0(142)) - Waiting for cluster to be ready. Got 0 of 1 DN Heartbeats.
2019-08-22 22:39:32,752 [main] INFO  ozone.MiniOzoneClusterImpl (MiniOzoneClusterImpl.java:lambda$waitForClusterToBeReady$0(142)) - Waiting for cluster to be ready. Got 0 of 1 DN Heartbeats.
2019-08-22 22:39:32,753 | INFO  | SCMAudit | user=jenkins1000 | ip=192.168.36.125 | op=GET_VERSION null | ret=SUCCESS |  
2019-08-22 22:39:32,755 [Datanode State Machine Thread - 0] INFO  ozoneimpl.OzoneContainer (OzoneContainer.java:start(186)) - Attempting to start container services.
2019-08-22 22:39:32,755 [Datanode State Machine Thread - 0] INFO  ozoneimpl.OzoneContainer (OzoneContainer.java:startContainerScrub(160)) - Background container scrubber has been disabled by hdds.containerscrub.enabled
2019-08-22 22:39:32,755 [Datanode State Machine Thread - 0] INFO  ratis.XceiverServerRatis (XceiverServerRatis.java:start(404)) - Starting XceiverServerRatis 8f59fcec-3de7-4ca1-83cc-1c3fdc9009a8 at port 43977
2019-08-22 22:39:32,768 [Datanode State Machine Thread - 0] INFO  impl.RaftServerImpl (RaftServerImpl.java:start(180)) - 8f59fcec-3de7-4ca1-83cc-1c3fdc9009a8: start group-05D52854D8B6
2019-08-22 22:39:32,769 [Datanode State Machine Thread - 0] INFO  impl.RaftServerImpl (RaftServerImpl.java:setRole(171)) - 8f59fcec-3de7-4ca1-83cc-1c3fdc9009a8:group-05D52854D8B6 changes role from null to FOLLOWER at term 1 for startAsFollower
2019-08-22 22:39:32,769 [Datanode State Machine Thread - 0] INFO  impl.RoleInfo (RoleInfo.java:updateAndGet(143)) - 8f59fcec-3de7-4ca1-83cc-1c3fdc9009a8: start FollowerState
2019-08-22 22:39:32,770 [Datanode State Machine Thread - 0] INFO  util.JmxRegister (JmxRegister.java:tryRegister(44)) - Successfully registered JMX Bean with object name Ratis:service=RaftServer,group=group-05D52854D8B6,id=8f59fcec-3de7-4ca1-83cc-1c3fdc9009a8
2019-08-22 22:39:32,772 [Datanode State Machine Thread - 0] INFO  impl.RaftServerProxy (RaftServerProxy.java:lambda$start$3(299)) - 8f59fcec-3de7-4ca1-83cc-1c3fdc9009a8: start RPC server
2019-08-22 22:39:32,775 [Datanode State Machine Thread - 0] INFO  server.GrpcService (GrpcService.java:startImpl(149)) - 8f59fcec-3de7-4ca1-83cc-1c3fdc9009a8: GrpcService started, listening on 0.0.0.0/0.0.0.0:43977
2019-08-22 22:39:33,752 [main] INFO  ozone.MiniOzoneClusterImpl (MiniOzoneClusterImpl.java:lambda$waitForClusterToBeReady$0(142)) - Waiting for cluster to be ready. Got 0 of 1 DN Heartbeats.
2019-08-22 22:39:34,753 [main] INFO  ozone.MiniOzoneClusterImpl (MiniOzoneClusterImpl.java:lambda$waitForClusterToBeReady$0(142)) - Waiting for cluster to be ready. Got 0 of 1 DN Heartbeats.
2019-08-22 22:39:34,762 | INFO  | SCMAudit | user=jenkins1000 | ip=192.168.36.125 | op=REGISTER {datanodeDetails=8f59fcec-3de7-4ca1-83cc-1c3fdc9009a8{ip: 192.168.36.125, host: pr-hdds-1975-6rfct-3228563268, networkLocation: /default-rack, certSerialId: null}} | ret=SUCCESS |  
2019-08-22 22:39:35,754 [main] INFO  ozone.MiniOzoneClusterImpl (MiniOzoneClusterImpl.java:lambda$waitForClusterToBeReady$0(142)) - Waiting for cluster to be ready. Got 0 of 1 DN Heartbeats.
2019-08-22 22:39:36,755 | INFO  | SCMAudit | user=jenkins1000 | ip=192.168.36.125 | op=SEND_HEARTBEAT {datanodeUUID=8f59fcec-3de7-4ca1-83cc-1c3fdc9009a8, command=[commandType: closeContainerCommand closeContainerCommandProto { containerID: 2 pipelineID { id: "0faaf2d6-0f8c-4d9b-be73-05d52854d8b6" } cmdId: 2 force: false } ]} | ret=SUCCESS |  
2019-08-22 22:39:36,754 [main] INFO  ozone.MiniOzoneClusterImpl (MiniOzoneClusterImpl.java:lambda$waitForClusterToBeReady$0(142)) - Waiting for cluster to be ready. Got 0 of 1 DN Heartbeats.
2019-08-22 22:39:36,870 [grpc-default-executor-0] INFO  impl.RaftServerProxy (RaftServerProxy.java:addNew(89)) - 8f59fcec-3de7-4ca1-83cc-1c3fdc9009a8: addNew group-D90353CAB7FF:[8f59fcec-3de7-4ca1-83cc-1c3fdc9009a8:192.168.36.125:43977] returns group-D90353CAB7FF:java.util.concurrent.CompletableFuture@2376b993[Not completed]
2019-08-22 22:39:36,872 [pool-42-thread-1] INFO  impl.RaftServerImpl (RaftServerImpl.java:<init>(93)) - 8f59fcec-3de7-4ca1-83cc-1c3fdc9009a8: new RaftServerImpl for group-D90353CAB7FF:[8f59fcec-3de7-4ca1-83cc-1c3fdc9009a8:192.168.36.125:43977] with ContainerStateMachine:uninitialized
2019-08-22 22:39:36,873 [pool-42-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.rpc.timeout.min = 5s (custom)
2019-08-22 22:39:36,873 [pool-42-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.rpc.timeout.max = 5200ms (custom)
2019-08-22 22:39:36,873 [pool-42-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.rpcslowness.timeout = 120s (custom)
2019-08-22 22:39:36,873 [pool-42-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.sleep.deviation.threshold = 300 (default)
2019-08-22 22:39:36,873 [pool-42-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.log.appender.install.snapshot.enabled = false (custom)
2019-08-22 22:39:36,874 [pool-42-thread-1] INFO  impl.RaftServerImpl (ServerState.java:<init>(105)) - 8f59fcec-3de7-4ca1-83cc-1c3fdc9009a8:group-D90353CAB7FF ConfigurationManager, init=-1: [8f59fcec-3de7-4ca1-83cc-1c3fdc9009a8:192.168.36.125:43977], old=null, confs=<EMPTY_MAP>
2019-08-22 22:39:36,874 [pool-42-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.storage.dir = [/workdir/hadoop-ozone/integration-test/target/test-dir/MiniOzoneClusterImpl-f0450dcd-a238-40b4-8f72-c6c0c5421345/datanode-0/data/ratis] (custom)
2019-08-22 22:39:36,875 [pool-42-thread-1] INFO  storage.RaftStorageDirectory (RaftStorageDirectory.java:analyzeStorage(246)) - The storage directory /workdir/hadoop-ozone/integration-test/target/test-dir/MiniOzoneClusterImpl-f0450dcd-a238-40b4-8f72-c6c0c5421345/datanode-0/data/ratis/958be55f-2478-40a0-b15b-d90353cab7ff does not exist. Creating ...
2019-08-22 22:39:36,898 [pool-42-thread-1] INFO  storage.RaftStorageDirectory (RaftStorageDirectory.java:tryLock(328)) - Lock on /workdir/hadoop-ozone/integration-test/target/test-dir/MiniOzoneClusterImpl-f0450dcd-a238-40b4-8f72-c6c0c5421345/datanode-0/data/ratis/958be55f-2478-40a0-b15b-d90353cab7ff/in_use.lock acquired by nodename 26847@pr-hdds-1975-6rfct-3228563268
2019-08-22 22:39:36,914 [pool-42-thread-1] INFO  storage.RaftStorage (RaftStorage.java:format(72)) - Storage directory /workdir/hadoop-ozone/integration-test/target/test-dir/MiniOzoneClusterImpl-f0450dcd-a238-40b4-8f72-c6c0c5421345/datanode-0/data/ratis/958be55f-2478-40a0-b15b-d90353cab7ff has been successfully formatted.
2019-08-22 22:39:36,915 [pool-42-thread-1] INFO  ratis.ContainerStateMachine (ContainerStateMachine.java:loadSnapshot(226)) - group-D90353CAB7FF: The snapshot info is null. Setting the last applied indexto:(t:0, i:~)
2019-08-22 22:39:36,915 [pool-42-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.leader.election.timeout = 120s (custom)
2019-08-22 22:39:36,915 [pool-42-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.log.use.memory = false (default)
2019-08-22 22:39:36,916 [pool-42-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.log.purge.gap = 1000000 (custom)
2019-08-22 22:39:36,916 [pool-42-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.log.appender.buffer.byte-limit = 33554432 (custom)
2019-08-22 22:39:36,916 [pool-42-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.log.segment.size.max = 1048576 (custom)
2019-08-22 22:39:36,916 [pool-42-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.log.segment.cache.num.max = 2 (custom)
2019-08-22 22:39:36,917 [pool-42-thread-1] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:<init>(172)) - new 8f59fcec-3de7-4ca1-83cc-1c3fdc9009a8-SegmentedRaftLogWorker:Storage Directory /workdir/hadoop-ozone/integration-test/target/test-dir/MiniOzoneClusterImpl-f0450dcd-a238-40b4-8f72-c6c0c5421345/datanode-0/data/ratis/958be55f-2478-40a0-b15b-d90353cab7ff for RaftStorage:Storage Directory /workdir/hadoop-ozone/integration-test/target/test-dir/MiniOzoneClusterImpl-f0450dcd-a238-40b4-8f72-c6c0c5421345/datanode-0/data/ratis/958be55f-2478-40a0-b15b-d90353cab7ff
2019-08-22 22:39:36,917 [pool-42-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.log.queue.byte-limit = 2147483647 (custom)
2019-08-22 22:39:36,917 [pool-42-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.log.queue.element-limit = 1024 (custom)
2019-08-22 22:39:36,917 [pool-42-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.log.segment.size.max = 1048576 (custom)
2019-08-22 22:39:36,917 [pool-42-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.log.preallocated.size = 16384 (custom)
2019-08-22 22:39:36,918 [pool-42-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.log.write.buffer.size = 33554432 (custom)
2019-08-22 22:39:36,918 [pool-42-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.log.force.sync.num = 128 (default)
2019-08-22 22:39:36,918 [pool-42-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.log.statemachine.data.sync = true (default)
2019-08-22 22:39:36,918 [pool-42-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.log.statemachine.data.sync.timeout = 10s (default)
2019-08-22 22:39:36,918 [pool-42-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.log.statemachine.data.sync.timeout.retry = -1 (default)
2019-08-22 22:39:36,919 [pool-42-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.log.statemachine.data.caching.enabled = true (custom)
2019-08-22 22:39:36,919 [pool-42-thread-1] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:lambda$new$0(132)) - 8f59fcec-3de7-4ca1-83cc-1c3fdc9009a8-SegmentedRaftLogWorker:Storage Directory /workdir/hadoop-ozone/integration-test/target/test-dir/MiniOzoneClusterImpl-f0450dcd-a238-40b4-8f72-c6c0c5421345/datanode-0/data/ratis/958be55f-2478-40a0-b15b-d90353cab7ff: flushIndex: setUnconditionally 0 -> -1
2019-08-22 22:39:36,920 [pool-42-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.snapshot.auto.trigger.enabled = true (custom)
2019-08-22 22:39:36,920 [pool-42-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.snapshot.auto.trigger.threshold = 1 (custom)
2019-08-22 22:39:36,920 [pool-42-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.retrycache.expirytime = 600000ms (custom)
2019-08-22 22:39:36,920 [pool-42-thread-1] INFO  impl.RaftServerImpl (RaftServerImpl.java:start(180)) - 8f59fcec-3de7-4ca1-83cc-1c3fdc9009a8: start group-D90353CAB7FF
2019-08-22 22:39:36,920 [pool-42-thread-1] INFO  impl.RaftServerImpl (RaftServerImpl.java:setRole(171)) - 8f59fcec-3de7-4ca1-83cc-1c3fdc9009a8:group-D90353CAB7FF changes role from null to FOLLOWER at term 0 for startAsFollower
2019-08-22 22:39:36,921 [pool-42-thread-1] INFO  impl.RoleInfo (RoleInfo.java:updateAndGet(143)) - 8f59fcec-3de7-4ca1-83cc-1c3fdc9009a8: start FollowerState
2019-08-22 22:39:36,921 [pool-42-thread-1] INFO  util.JmxRegister (JmxRegister.java:tryRegister(44)) - Successfully registered JMX Bean with object name Ratis:service=RaftServer,group=group-D90353CAB7FF,id=8f59fcec-3de7-4ca1-83cc-1c3fdc9009a8
2019-08-22 22:39:36,930 [RatisPipelineUtilsThread] INFO  pipeline.PipelineStateManager (PipelineStateManager.java:addPipeline(56)) - Created pipeline Pipeline[ Id: 958be55f-2478-40a0-b15b-d90353cab7ff, Nodes: 8f59fcec-3de7-4ca1-83cc-1c3fdc9009a8{ip: 192.168.36.125, host: pr-hdds-1975-6rfct-3228563268, networkLocation: /default-rack, certSerialId: null}, Type:RATIS, Factor:ONE, State:OPEN]
2019-08-22 22:39:36,953 | INFO  | SCMAudit | user=jenkins1000 | ip=192.168.36.125 | op=SEND_HEARTBEAT {datanodeUUID=8f59fcec-3de7-4ca1-83cc-1c3fdc9009a8, command=[]} | ret=SUCCESS |  
2019-08-22 22:39:37,154 | INFO  | SCMAudit | user=jenkins1000 | ip=192.168.36.125 | op=SEND_HEARTBEAT {datanodeUUID=8f59fcec-3de7-4ca1-83cc-1c3fdc9009a8, command=[]} | ret=SUCCESS |  
2019-08-22 22:39:37,354 | INFO  | SCMAudit | user=jenkins1000 | ip=192.168.36.125 | op=SEND_HEARTBEAT {datanodeUUID=8f59fcec-3de7-4ca1-83cc-1c3fdc9009a8, command=[]} | ret=SUCCESS |  
2019-08-22 22:39:37,554 | INFO  | SCMAudit | user=jenkins1000 | ip=192.168.36.125 | op=SEND_HEARTBEAT {datanodeUUID=8f59fcec-3de7-4ca1-83cc-1c3fdc9009a8, command=[]} | ret=SUCCESS |  
2019-08-22 22:39:37,755 | INFO  | SCMAudit | user=jenkins1000 | ip=192.168.36.125 | op=SEND_HEARTBEAT {datanodeUUID=8f59fcec-3de7-4ca1-83cc-1c3fdc9009a8, command=[]} | ret=SUCCESS |  
2019-08-22 22:39:37,755 [main] INFO  ozone.MiniOzoneClusterImpl (MiniOzoneClusterImpl.java:lambda$waitForClusterToBeReady$0(142)) - Cluster is ready. Got 1 of 1 DN Heartbeats.
2019-08-22 22:39:37,763 | INFO  | OMAudit | user=jenkins1000 | ip=127.0.0.1 | op=READ_VOLUME {volume=testcontainerstatemachinefailures} | ret=SUCCESS |  
2019-08-22 22:39:37,766 | INFO  | OMAudit | user=jenkins1000 | ip=127.0.0.1 | op=READ_BUCKET {volume=testcontainerstatemachinefailures, bucket=testcontainerstatemachinefailures} | ret=SUCCESS |  
2019-08-22 22:39:37,778 | INFO  | SCMAudit | user=jenkins1000 | ip=192.168.36.125 | op=ALLOCATE_BLOCK {owner=088bfb83-49b8-4493-b777-1791b5c1ac58, size=4194304, type=RATIS, factor=ONE} | ret=SUCCESS |  
2019-08-22 22:39:37,780 | INFO  | OMAudit | user=jenkins1000 | ip=127.0.0.1 | op=ALLOCATE_KEY {volume=testcontainerstatemachinefailures, bucket=testcontainerstatemachinefailures, key=ratis, dataSize=1024, replicationType=RATIS, replicationFactor=ONE, keyLocationInfo=null} | ret=SUCCESS |  
2019-08-22 22:39:37,781 | INFO  | SCMAudit | user=jenkins1000 | ip=192.168.36.125 | op=SEND_HEARTBEAT {datanodeUUID=8f59fcec-3de7-4ca1-83cc-1c3fdc9009a8, command=[]} | ret=SUCCESS |  
2019-08-22 22:39:37,805 [grpc-default-executor-0] INFO  client.GrpcClientProtocolClient (GrpcClientProtocolClient.java:onNext(255)) - client-0846B453F515->8f59fcec-3de7-4ca1-83cc-1c3fdc9009a8: receive RaftClientReply:client-0846B453F515->8f59fcec-3de7-4ca1-83cc-1c3fdc9009a8@group-D90353CAB7FF, cid=11, FAILED org.apache.ratis.protocol.NotLeaderException: Server 8f59fcec-3de7-4ca1-83cc-1c3fdc9009a8 is not the leader (null). Request must be sent to leader., logIndex=0, commits[8f59fcec-3de7-4ca1-83cc-1c3fdc9009a8:c-1]
2019-08-22 22:39:37,809 [Thread-234] INFO  impl.FollowerState (FollowerState.java:run(106)) - 8f59fcec-3de7-4ca1-83cc-1c3fdc9009a8:group-05D52854D8B6 changes to CANDIDATE, lastRpcTime:5039, electionTimeout:5039ms
2019-08-22 22:39:37,809 [Thread-234] INFO  impl.RoleInfo (RoleInfo.java:shutdownFollowerState(121)) - 8f59fcec-3de7-4ca1-83cc-1c3fdc9009a8: shutdown FollowerState
2019-08-22 22:39:37,810 [Thread-234] INFO  impl.RaftServerImpl (RaftServerImpl.java:setRole(171)) - 8f59fcec-3de7-4ca1-83cc-1c3fdc9009a8:group-05D52854D8B6 changes role from FOLLOWER to CANDIDATE at term 1 for changeToCandidate
2019-08-22 22:39:37,810 [Thread-234] INFO  impl.RoleInfo (RoleInfo.java:updateAndGet(143)) - 8f59fcec-3de7-4ca1-83cc-1c3fdc9009a8: start LeaderElection
2019-08-22 22:39:37,836 [8f59fcec-3de7-4ca1-83cc-1c3fdc9009a8:group-05D52854D8B6:LeaderElection3] INFO  impl.LeaderElection (LeaderElection.java:askForVotes(181)) - 8f59fcec-3de7-4ca1-83cc-1c3fdc9009a8:group-05D52854D8B6:LeaderElection3: begin an election at term 2 for 0: [8f59fcec-3de7-4ca1-83cc-1c3fdc9009a8:192.168.36.125:43977], old=null
2019-08-22 22:39:37,837 [8f59fcec-3de7-4ca1-83cc-1c3fdc9009a8:group-05D52854D8B6:LeaderElection3] INFO  impl.RoleInfo (RoleInfo.java:shutdownLeaderElection(134)) - 8f59fcec-3de7-4ca1-83cc-1c3fdc9009a8: shutdown LeaderElection
2019-08-22 22:39:37,837 [8f59fcec-3de7-4ca1-83cc-1c3fdc9009a8:group-05D52854D8B6:LeaderElection3] INFO  impl.RaftServerImpl (RaftServerImpl.java:setRole(171)) - 8f59fcec-3de7-4ca1-83cc-1c3fdc9009a8:group-05D52854D8B6 changes role from CANDIDATE to LEADER at term 2 for changeToLeader
2019-08-22 22:39:37,837 [8f59fcec-3de7-4ca1-83cc-1c3fdc9009a8:group-05D52854D8B6:LeaderElection3] INFO  impl.RaftServerImpl (ServerState.java:setLeader(263)) - 8f59fcec-3de7-4ca1-83cc-1c3fdc9009a8:group-05D52854D8B6 change Leader from null to 8f59fcec-3de7-4ca1-83cc-1c3fdc9009a8 at term 2 for becomeLeader, leader elected after 7288ms
2019-08-22 22:39:37,837 [8f59fcec-3de7-4ca1-83cc-1c3fdc9009a8:group-05D52854D8B6:LeaderElection3] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.staging.catchup.gap = 1000 (default)
2019-08-22 22:39:37,838 [8f59fcec-3de7-4ca1-83cc-1c3fdc9009a8:group-05D52854D8B6:LeaderElection3] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.rpc.sleep.time = 25ms (default)
2019-08-22 22:39:37,838 [8f59fcec-3de7-4ca1-83cc-1c3fdc9009a8:group-05D52854D8B6:LeaderElection3] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.write.element-limit = 4096 (default)
2019-08-22 22:39:37,838 [8f59fcec-3de7-4ca1-83cc-1c3fdc9009a8:group-05D52854D8B6:LeaderElection3] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.watch.timeout = 10s (default)
2019-08-22 22:39:37,838 [8f59fcec-3de7-4ca1-83cc-1c3fdc9009a8:group-05D52854D8B6:LeaderElection3] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.watch.timeout.denomination = 1s (default)
2019-08-22 22:39:37,838 [8f59fcec-3de7-4ca1-83cc-1c3fdc9009a8:group-05D52854D8B6:LeaderElection3] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.watch.element-limit = 65536 (default)
2019-08-22 22:39:37,839 [8f59fcec-3de7-4ca1-83cc-1c3fdc9009a8:group-05D52854D8B6:LeaderElection3] INFO  impl.RoleInfo (RoleInfo.java:updateAndGet(143)) - 8f59fcec-3de7-4ca1-83cc-1c3fdc9009a8: start LeaderState
2019-08-22 22:39:37,839 [8f59fcec-3de7-4ca1-83cc-1c3fdc9009a8:group-05D52854D8B6:LeaderElection3] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:rollLogSegment(385)) - 8f59fcec-3de7-4ca1-83cc-1c3fdc9009a8-SegmentedRaftLogWorker:Storage Directory /workdir/hadoop-ozone/integration-test/target/test-dir/MiniOzoneClusterImpl-f0450dcd-a238-40b4-8f72-c6c0c5421345/datanode-0/data/ratis/0faaf2d6-0f8c-4d9b-be73-05d52854d8b6: Rolling segment log-0_4 to index:4
2019-08-22 22:39:37,842 [8f59fcec-3de7-4ca1-83cc-1c3fdc9009a8:group-05D52854D8B6:LeaderElection3] INFO  impl.RaftServerImpl (ServerState.java:setRaftConf(361)) - 8f59fcec-3de7-4ca1-83cc-1c3fdc9009a8:group-05D52854D8B6 set configuration 5: [8f59fcec-3de7-4ca1-83cc-1c3fdc9009a8:192.168.36.125:43977], old=null at 5
2019-08-22 22:39:37,843 [8f59fcec-3de7-4ca1-83cc-1c3fdc9009a8-SegmentedRaftLogWorker:Storage Directory /workdir/hadoop-ozone/integration-test/target/test-dir/MiniOzoneClusterImpl-f0450dcd-a238-40b4-8f72-c6c0c5421345/datanode-0/data/ratis/0faaf2d6-0f8c-4d9b-be73-05d52854d8b6] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:execute(526)) - 8f59fcec-3de7-4ca1-83cc-1c3fdc9009a8-SegmentedRaftLogWorker:Storage Directory /workdir/hadoop-ozone/integration-test/target/test-dir/MiniOzoneClusterImpl-f0450dcd-a238-40b4-8f72-c6c0c5421345/datanode-0/data/ratis/0faaf2d6-0f8c-4d9b-be73-05d52854d8b6: Rolled log segment from /workdir/hadoop-ozone/integration-test/target/test-dir/MiniOzoneClusterImpl-f0450dcd-a238-40b4-8f72-c6c0c5421345/datanode-0/data/ratis/0faaf2d6-0f8c-4d9b-be73-05d52854d8b6/current/log_inprogress_0 to /workdir/hadoop-ozone/integration-test/target/test-dir/MiniOzoneClusterImpl-f0450dcd-a238-40b4-8f72-c6c0c5421345/datanode-0/data/ratis/0faaf2d6-0f8c-4d9b-be73-05d52854d8b6/current/log_0-4
2019-08-22 22:39:37,898 [8f59fcec-3de7-4ca1-83cc-1c3fdc9009a8-SegmentedRaftLogWorker:Storage Directory /workdir/hadoop-ozone/integration-test/target/test-dir/MiniOzoneClusterImpl-f0450dcd-a238-40b4-8f72-c6c0c5421345/datanode-0/data/ratis/0faaf2d6-0f8c-4d9b-be73-05d52854d8b6] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:execute(569)) - 8f59fcec-3de7-4ca1-83cc-1c3fdc9009a8-SegmentedRaftLogWorker:Storage Directory /workdir/hadoop-ozone/integration-test/target/test-dir/MiniOzoneClusterImpl-f0450dcd-a238-40b4-8f72-c6c0c5421345/datanode-0/data/ratis/0faaf2d6-0f8c-4d9b-be73-05d52854d8b6: created new log segment /workdir/hadoop-ozone/integration-test/target/test-dir/MiniOzoneClusterImpl-f0450dcd-a238-40b4-8f72-c6c0c5421345/datanode-0/data/ratis/0faaf2d6-0f8c-4d9b-be73-05d52854d8b6/current/log_inprogress_5
2019-08-22 22:39:37,910 [StateMachineUpdater:8f59fcec-3de7-4ca1-83cc-1c3fdc9009a8:group-05D52854D8B6] INFO  ratis.ContainerStateMachine (ContainerStateMachine.java:takeSnapshot(283)) - group-05D52854D8B6: Taking a snapshot at:(t:1, i:4) file /workdir/hadoop-ozone/integration-test/target/test-dir/MiniOzoneClusterImpl-f0450dcd-a238-40b4-8f72-c6c0c5421345/datanode-0/data/ratis/0faaf2d6-0f8c-4d9b-be73-05d52854d8b6/sm/snapshot.1_4
2019-08-22 22:39:37,933 [StateMachineUpdater:8f59fcec-3de7-4ca1-83cc-1c3fdc9009a8:group-05D52854D8B6] INFO  ratis.ContainerStateMachine (ContainerStateMachine.java:takeSnapshot(294)) - group-05D52854D8B6: Finished taking a snapshot at:(t:1, i:4) file:/workdir/hadoop-ozone/integration-test/target/test-dir/MiniOzoneClusterImpl-f0450dcd-a238-40b4-8f72-c6c0c5421345/datanode-0/data/ratis/0faaf2d6-0f8c-4d9b-be73-05d52854d8b6/sm/snapshot.1_4 time:22
2019-08-22 22:39:37,933 [StateMachineUpdater:8f59fcec-3de7-4ca1-83cc-1c3fdc9009a8:group-05D52854D8B6] INFO  impl.StateMachineUpdater (StateMachineUpdater.java:takeSnapshot(242)) - StateMachineUpdater:8f59fcec-3de7-4ca1-83cc-1c3fdc9009a8:group-05D52854D8B6: Took a snapshot at index 4
2019-08-22 22:39:37,933 [StateMachineUpdater:8f59fcec-3de7-4ca1-83cc-1c3fdc9009a8:group-05D52854D8B6] INFO  impl.StateMachineUpdater (StateMachineUpdater.java:lambda$new$0(80)) - StateMachineUpdater:8f59fcec-3de7-4ca1-83cc-1c3fdc9009a8:group-05D52854D8B6: snapshotIndex: updateIncreasingly 4 -> 4
2019-08-22 22:39:37,933 [StateMachineUpdater:8f59fcec-3de7-4ca1-83cc-1c3fdc9009a8:group-05D52854D8B6] INFO  ratis.ContainerStateMachine (ContainerStateMachine.java:takeSnapshot(283)) - group-05D52854D8B6: Taking a snapshot at:(t:1, i:4) file /workdir/hadoop-ozone/integration-test/target/test-dir/MiniOzoneClusterImpl-f0450dcd-a238-40b4-8f72-c6c0c5421345/datanode-0/data/ratis/0faaf2d6-0f8c-4d9b-be73-05d52854d8b6/sm/snapshot.1_4
2019-08-22 22:39:37,947 [StateMachineUpdater:8f59fcec-3de7-4ca1-83cc-1c3fdc9009a8:group-05D52854D8B6] INFO  ratis.ContainerStateMachine (ContainerStateMachine.java:takeSnapshot(294)) - group-05D52854D8B6: Finished taking a snapshot at:(t:1, i:4) file:/workdir/hadoop-ozone/integration-test/target/test-dir/MiniOzoneClusterImpl-f0450dcd-a238-40b4-8f72-c6c0c5421345/datanode-0/data/ratis/0faaf2d6-0f8c-4d9b-be73-05d52854d8b6/sm/snapshot.1_4 time:14
2019-08-22 22:39:37,947 [StateMachineUpdater:8f59fcec-3de7-4ca1-83cc-1c3fdc9009a8:group-05D52854D8B6] INFO  impl.StateMachineUpdater (StateMachineUpdater.java:takeSnapshot(242)) - StateMachineUpdater:8f59fcec-3de7-4ca1-83cc-1c3fdc9009a8:group-05D52854D8B6: Took a snapshot at index 4
2019-08-22 22:39:37,947 [StateMachineUpdater:8f59fcec-3de7-4ca1-83cc-1c3fdc9009a8:group-05D52854D8B6] INFO  impl.StateMachineUpdater (StateMachineUpdater.java:lambda$new$0(80)) - StateMachineUpdater:8f59fcec-3de7-4ca1-83cc-1c3fdc9009a8:group-05D52854D8B6: snapshotIndex: updateIncreasingly 4 -> 4
2019-08-22 22:39:37,981 | INFO  | SCMAudit | user=jenkins1000 | ip=192.168.36.125 | op=SEND_HEARTBEAT {datanodeUUID=8f59fcec-3de7-4ca1-83cc-1c3fdc9009a8, command=[]} | ret=SUCCESS |  
2019-08-22 22:39:38,156 [grpc-default-executor-0] INFO  impl.RaftServerProxy (RaftServerProxy.java:remove(95)) - 8f59fcec-3de7-4ca1-83cc-1c3fdc9009a8: remove   LEADER group-05D52854D8B6 8f59fcec-3de7-4ca1-83cc-1c3fdc9009a8:t2, leader=8f59fcec-3de7-4ca1-83cc-1c3fdc9009a8, voted=8f59fcec-3de7-4ca1-83cc-1c3fdc9009a8, raftlog=8f59fcec-3de7-4ca1-83cc-1c3fdc9009a8-SegmentedRaftLog:OPENED:c6,f6,i6, conf=5: [8f59fcec-3de7-4ca1-83cc-1c3fdc9009a8:192.168.36.125:43977], old=null RUNNING
2019-08-22 22:39:38,158 [grpc-default-executor-0] INFO  impl.RaftServerImpl (RaftServerImpl.java:lambda$shutdown$3(245)) - 8f59fcec-3de7-4ca1-83cc-1c3fdc9009a8: shutdown group-05D52854D8B6
2019-08-22 22:39:38,158 [grpc-default-executor-0] INFO  util.JmxRegister (JmxRegister.java:unregister(73)) - Successfully un-registered JMX Bean with object name Ratis:service=RaftServer,group=group-05D52854D8B6,id=8f59fcec-3de7-4ca1-83cc-1c3fdc9009a8
2019-08-22 22:39:38,158 [grpc-default-executor-0] INFO  impl.RoleInfo (RoleInfo.java:shutdownLeaderState(104)) - 8f59fcec-3de7-4ca1-83cc-1c3fdc9009a8: shutdown LeaderState
2019-08-22 22:39:38,158 [grpc-default-executor-0] INFO  impl.PendingRequests (PendingRequests.java:sendNotLeaderResponses(202)) - 8f59fcec-3de7-4ca1-83cc-1c3fdc9009a8-PendingRequests: sendNotLeaderResponses
2019-08-22 22:39:38,161 [grpc-default-executor-0] INFO  impl.StateMachineUpdater (StateMachineUpdater.java:stopAndJoin(115)) - StateMachineUpdater:8f59fcec-3de7-4ca1-83cc-1c3fdc9009a8:group-05D52854D8B6: set stopIndex = 6
2019-08-22 22:39:38,162 [StateMachineUpdater:8f59fcec-3de7-4ca1-83cc-1c3fdc9009a8:group-05D52854D8B6] INFO  ratis.ContainerStateMachine (ContainerStateMachine.java:takeSnapshot(283)) - group-05D52854D8B6: Taking a snapshot at:(t:1, i:4) file /workdir/hadoop-ozone/integration-test/target/test-dir/MiniOzoneClusterImpl-f0450dcd-a238-40b4-8f72-c6c0c5421345/datanode-0/data/ratis/0faaf2d6-0f8c-4d9b-be73-05d52854d8b6/sm/snapshot.1_4
2019-08-22 22:39:38,180 | INFO  | SCMAudit | user=jenkins1000 | ip=192.168.36.125 | op=SEND_HEARTBEAT {datanodeUUID=8f59fcec-3de7-4ca1-83cc-1c3fdc9009a8, command=[]} | ret=SUCCESS |  
2019-08-22 22:39:38,196 [StateMachineUpdater:8f59fcec-3de7-4ca1-83cc-1c3fdc9009a8:group-05D52854D8B6] INFO  ratis.ContainerStateMachine (ContainerStateMachine.java:takeSnapshot(294)) - group-05D52854D8B6: Finished taking a snapshot at:(t:1, i:4) file:/workdir/hadoop-ozone/integration-test/target/test-dir/MiniOzoneClusterImpl-f0450dcd-a238-40b4-8f72-c6c0c5421345/datanode-0/data/ratis/0faaf2d6-0f8c-4d9b-be73-05d52854d8b6/sm/snapshot.1_4 time:34
2019-08-22 22:39:38,196 [StateMachineUpdater:8f59fcec-3de7-4ca1-83cc-1c3fdc9009a8:group-05D52854D8B6] INFO  impl.StateMachineUpdater (StateMachineUpdater.java:takeSnapshot(242)) - StateMachineUpdater:8f59fcec-3de7-4ca1-83cc-1c3fdc9009a8:group-05D52854D8B6: Took a snapshot at index 4
2019-08-22 22:39:38,196 [StateMachineUpdater:8f59fcec-3de7-4ca1-83cc-1c3fdc9009a8:group-05D52854D8B6] INFO  impl.StateMachineUpdater (StateMachineUpdater.java:lambda$new$0(80)) - StateMachineUpdater:8f59fcec-3de7-4ca1-83cc-1c3fdc9009a8:group-05D52854D8B6: snapshotIndex: updateIncreasingly 4 -> 4
2019-08-22 22:39:38,196 [grpc-default-executor-0] INFO  impl.RaftServerImpl (ServerState.java:close(394)) - 8f59fcec-3de7-4ca1-83cc-1c3fdc9009a8:group-05D52854D8B6 closes. The last applied log index is 6
2019-08-22 22:39:38,198 [8f59fcec-3de7-4ca1-83cc-1c3fdc9009a8-SegmentedRaftLogWorker:Storage Directory /workdir/hadoop-ozone/integration-test/target/test-dir/MiniOzoneClusterImpl-f0450dcd-a238-40b4-8f72-c6c0c5421345/datanode-0/data/ratis/0faaf2d6-0f8c-4d9b-be73-05d52854d8b6] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:run(313)) - 8f59fcec-3de7-4ca1-83cc-1c3fdc9009a8-SegmentedRaftLogWorker:Storage Directory /workdir/hadoop-ozone/integration-test/target/test-dir/MiniOzoneClusterImpl-f0450dcd-a238-40b4-8f72-c6c0c5421345/datanode-0/data/ratis/0faaf2d6-0f8c-4d9b-be73-05d52854d8b6 was interrupted, exiting. There are 0 tasks remaining in the queue.
2019-08-22 22:39:38,199 [grpc-default-executor-0] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:close(228)) - 8f59fcec-3de7-4ca1-83cc-1c3fdc9009a8-SegmentedRaftLogWorker:Storage Directory /workdir/hadoop-ozone/integration-test/target/test-dir/MiniOzoneClusterImpl-f0450dcd-a238-40b4-8f72-c6c0c5421345/datanode-0/data/ratis/0faaf2d6-0f8c-4d9b-be73-05d52854d8b6 close()
2019-08-22 22:39:38,208 [RatisPipelineUtilsThread] INFO  pipeline.PipelineStateManager (PipelineStateManager.java:removePipeline(108)) - Pipeline Pipeline[ Id: 0faaf2d6-0f8c-4d9b-be73-05d52854d8b6, Nodes: 8f59fcec-3de7-4ca1-83cc-1c3fdc9009a8{ip: 192.168.36.125, host: pr-hdds-1975-6rfct-3228563268, networkLocation: /default-rack, certSerialId: null}, Type:RATIS, Factor:ONE, State:CLOSED] removed from db
2019-08-22 22:39:38,381 | INFO  | SCMAudit | user=jenkins1000 | ip=192.168.36.125 | op=SEND_HEARTBEAT {datanodeUUID=8f59fcec-3de7-4ca1-83cc-1c3fdc9009a8, command=[]} | ret=SUCCESS |  
2019-08-22 22:39:38,581 | INFO  | SCMAudit | user=jenkins1000 | ip=192.168.36.125 | op=SEND_HEARTBEAT {datanodeUUID=8f59fcec-3de7-4ca1-83cc-1c3fdc9009a8, command=[]} | ret=SUCCESS |  
2019-08-22 22:39:38,780 | INFO  | SCMAudit | user=jenkins1000 | ip=192.168.36.125 | op=SEND_HEARTBEAT {datanodeUUID=8f59fcec-3de7-4ca1-83cc-1c3fdc9009a8, command=[]} | ret=SUCCESS |  
2019-08-22 22:39:38,980 | INFO  | SCMAudit | user=jenkins1000 | ip=192.168.36.125 | op=SEND_HEARTBEAT {datanodeUUID=8f59fcec-3de7-4ca1-83cc-1c3fdc9009a8, command=[]} | ret=SUCCESS |  
2019-08-22 22:39:39,181 | INFO  | SCMAudit | user=jenkins1000 | ip=192.168.36.125 | op=SEND_HEARTBEAT {datanodeUUID=8f59fcec-3de7-4ca1-83cc-1c3fdc9009a8, command=[]} | ret=SUCCESS |  
2019-08-22 22:39:39,382 | INFO  | SCMAudit | user=jenkins1000 | ip=192.168.36.125 | op=SEND_HEARTBEAT {datanodeUUID=8f59fcec-3de7-4ca1-83cc-1c3fdc9009a8, command=[]} | ret=SUCCESS |  
2019-08-22 22:39:39,582 | INFO  | SCMAudit | user=jenkins1000 | ip=192.168.36.125 | op=SEND_HEARTBEAT {datanodeUUID=8f59fcec-3de7-4ca1-83cc-1c3fdc9009a8, command=[]} | ret=SUCCESS |  
2019-08-22 22:39:39,783 | INFO  | SCMAudit | user=jenkins1000 | ip=192.168.36.125 | op=SEND_HEARTBEAT {datanodeUUID=8f59fcec-3de7-4ca1-83cc-1c3fdc9009a8, command=[]} | ret=SUCCESS |  
2019-08-22 22:39:39,832 [grpc-default-executor-1] INFO  client.GrpcClientProtocolClient (GrpcClientProtocolClient.java:onNext(255)) - client-0846B453F515->8f59fcec-3de7-4ca1-83cc-1c3fdc9009a8: receive RaftClientReply:client-0846B453F515->8f59fcec-3de7-4ca1-83cc-1c3fdc9009a8@group-D90353CAB7FF, cid=11, FAILED org.apache.ratis.protocol.NotLeaderException: Server 8f59fcec-3de7-4ca1-83cc-1c3fdc9009a8 is not the leader (null). Request must be sent to leader., logIndex=0, commits[8f59fcec-3de7-4ca1-83cc-1c3fdc9009a8:c-1]
2019-08-22 22:39:39,983 | INFO  | SCMAudit | user=jenkins1000 | ip=192.168.36.125 | op=SEND_HEARTBEAT {datanodeUUID=8f59fcec-3de7-4ca1-83cc-1c3fdc9009a8, command=[]} | ret=SUCCESS |  
2019-08-22 22:39:40,184 | INFO  | SCMAudit | user=jenkins1000 | ip=192.168.36.125 | op=SEND_HEARTBEAT {datanodeUUID=8f59fcec-3de7-4ca1-83cc-1c3fdc9009a8, command=[]} | ret=SUCCESS |  
2019-08-22 22:39:40,384 | INFO  | SCMAudit | user=jenkins1000 | ip=192.168.36.125 | op=SEND_HEARTBEAT {datanodeUUID=8f59fcec-3de7-4ca1-83cc-1c3fdc9009a8, command=[]} | ret=SUCCESS |  
2019-08-22 22:39:40,585 | INFO  | SCMAudit | user=jenkins1000 | ip=192.168.36.125 | op=SEND_HEARTBEAT {datanodeUUID=8f59fcec-3de7-4ca1-83cc-1c3fdc9009a8, command=[]} | ret=SUCCESS |  
2019-08-22 22:39:40,784 | INFO  | SCMAudit | user=jenkins1000 | ip=192.168.36.125 | op=SEND_HEARTBEAT {datanodeUUID=8f59fcec-3de7-4ca1-83cc-1c3fdc9009a8, command=[]} | ret=SUCCESS |  
2019-08-22 22:39:40,984 | INFO  | SCMAudit | user=jenkins1000 | ip=192.168.36.125 | op=SEND_HEARTBEAT {datanodeUUID=8f59fcec-3de7-4ca1-83cc-1c3fdc9009a8, command=[]} | ret=SUCCESS |  
2019-08-22 22:39:41,185 | INFO  | SCMAudit | user=jenkins1000 | ip=192.168.36.125 | op=SEND_HEARTBEAT {datanodeUUID=8f59fcec-3de7-4ca1-83cc-1c3fdc9009a8, command=[]} | ret=SUCCESS |  
2019-08-22 22:39:41,384 | INFO  | SCMAudit | user=jenkins1000 | ip=192.168.36.125 | op=SEND_HEARTBEAT {datanodeUUID=8f59fcec-3de7-4ca1-83cc-1c3fdc9009a8, command=[]} | ret=SUCCESS |  
2019-08-22 22:39:41,584 | INFO  | SCMAudit | user=jenkins1000 | ip=192.168.36.125 | op=SEND_HEARTBEAT {datanodeUUID=8f59fcec-3de7-4ca1-83cc-1c3fdc9009a8, command=[]} | ret=SUCCESS |  
2019-08-22 22:39:41,785 | INFO  | SCMAudit | user=jenkins1000 | ip=192.168.36.125 | op=SEND_HEARTBEAT {datanodeUUID=8f59fcec-3de7-4ca1-83cc-1c3fdc9009a8, command=[]} | ret=SUCCESS |  
2019-08-22 22:39:41,852 [grpc-default-executor-1] INFO  client.GrpcClientProtocolClient (GrpcClientProtocolClient.java:onNext(255)) - client-0846B453F515->8f59fcec-3de7-4ca1-83cc-1c3fdc9009a8: receive RaftClientReply:client-0846B453F515->8f59fcec-3de7-4ca1-83cc-1c3fdc9009a8@group-D90353CAB7FF, cid=11, FAILED org.apache.ratis.protocol.NotLeaderException: Server 8f59fcec-3de7-4ca1-83cc-1c3fdc9009a8 is not the leader (null). Request must be sent to leader., logIndex=0, commits[8f59fcec-3de7-4ca1-83cc-1c3fdc9009a8:c-1]
2019-08-22 22:39:41,984 | INFO  | SCMAudit | user=jenkins1000 | ip=192.168.36.125 | op=SEND_HEARTBEAT {datanodeUUID=8f59fcec-3de7-4ca1-83cc-1c3fdc9009a8, command=[]} | ret=SUCCESS |  
2019-08-22 22:39:42,064 [Thread-237] INFO  impl.FollowerState (FollowerState.java:run(106)) - 8f59fcec-3de7-4ca1-83cc-1c3fdc9009a8:group-D90353CAB7FF changes to CANDIDATE, lastRpcTime:5143, electionTimeout:5143ms
2019-08-22 22:39:42,066 [Thread-237] INFO  impl.RoleInfo (RoleInfo.java:shutdownFollowerState(121)) - 8f59fcec-3de7-4ca1-83cc-1c3fdc9009a8: shutdown FollowerState
2019-08-22 22:39:42,066 [Thread-237] INFO  impl.RaftServerImpl (RaftServerImpl.java:setRole(171)) - 8f59fcec-3de7-4ca1-83cc-1c3fdc9009a8:group-D90353CAB7FF changes role from FOLLOWER to CANDIDATE at term 0 for changeToCandidate
2019-08-22 22:39:42,067 [Thread-237] INFO  impl.RoleInfo (RoleInfo.java:updateAndGet(143)) - 8f59fcec-3de7-4ca1-83cc-1c3fdc9009a8: start LeaderElection
2019-08-22 22:39:42,120 [8f59fcec-3de7-4ca1-83cc-1c3fdc9009a8:group-D90353CAB7FF:LeaderElection4] INFO  impl.LeaderElection (LeaderElection.java:askForVotes(181)) - 8f59fcec-3de7-4ca1-83cc-1c3fdc9009a8:group-D90353CAB7FF:LeaderElection4: begin an election at term 1 for -1: [8f59fcec-3de7-4ca1-83cc-1c3fdc9009a8:192.168.36.125:43977], old=null
2019-08-22 22:39:42,122 [8f59fcec-3de7-4ca1-83cc-1c3fdc9009a8:group-D90353CAB7FF:LeaderElection4] INFO  impl.RoleInfo (RoleInfo.java:shutdownLeaderElection(134)) - 8f59fcec-3de7-4ca1-83cc-1c3fdc9009a8: shutdown LeaderElection
2019-08-22 22:39:42,122 [8f59fcec-3de7-4ca1-83cc-1c3fdc9009a8:group-D90353CAB7FF:LeaderElection4] INFO  impl.RaftServerImpl (RaftServerImpl.java:setRole(171)) - 8f59fcec-3de7-4ca1-83cc-1c3fdc9009a8:group-D90353CAB7FF changes role from CANDIDATE to LEADER at term 1 for changeToLeader
2019-08-22 22:39:42,122 [8f59fcec-3de7-4ca1-83cc-1c3fdc9009a8:group-D90353CAB7FF:LeaderElection4] INFO  impl.RaftServerImpl (ServerState.java:setLeader(263)) - 8f59fcec-3de7-4ca1-83cc-1c3fdc9009a8:group-D90353CAB7FF change Leader from null to 8f59fcec-3de7-4ca1-83cc-1c3fdc9009a8 at term 1 for becomeLeader, leader elected after 5207ms
2019-08-22 22:39:42,123 [8f59fcec-3de7-4ca1-83cc-1c3fdc9009a8:group-D90353CAB7FF:LeaderElection4] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.staging.catchup.gap = 1000 (default)
2019-08-22 22:39:42,123 [8f59fcec-3de7-4ca1-83cc-1c3fdc9009a8:group-D90353CAB7FF:LeaderElection4] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.rpc.sleep.time = 25ms (default)
2019-08-22 22:39:42,123 [8f59fcec-3de7-4ca1-83cc-1c3fdc9009a8:group-D90353CAB7FF:LeaderElection4] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.write.element-limit = 4096 (default)
2019-08-22 22:39:42,123 [8f59fcec-3de7-4ca1-83cc-1c3fdc9009a8:group-D90353CAB7FF:LeaderElection4] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.watch.timeout = 10s (default)
2019-08-22 22:39:42,124 [8f59fcec-3de7-4ca1-83cc-1c3fdc9009a8:group-D90353CAB7FF:LeaderElection4] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.watch.timeout.denomination = 1s (default)
2019-08-22 22:39:42,124 [8f59fcec-3de7-4ca1-83cc-1c3fdc9009a8:group-D90353CAB7FF:LeaderElection4] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.watch.element-limit = 65536 (default)
2019-08-22 22:39:42,124 [8f59fcec-3de7-4ca1-83cc-1c3fdc9009a8:group-D90353CAB7FF:LeaderElection4] INFO  impl.RoleInfo (RoleInfo.java:updateAndGet(143)) - 8f59fcec-3de7-4ca1-83cc-1c3fdc9009a8: start LeaderState
2019-08-22 22:39:42,124 [8f59fcec-3de7-4ca1-83cc-1c3fdc9009a8:group-D90353CAB7FF:LeaderElection4] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:startLogSegment(380)) - 8f59fcec-3de7-4ca1-83cc-1c3fdc9009a8-SegmentedRaftLogWorker:Storage Directory /workdir/hadoop-ozone/integration-test/target/test-dir/MiniOzoneClusterImpl-f0450dcd-a238-40b4-8f72-c6c0c5421345/datanode-0/data/ratis/958be55f-2478-40a0-b15b-d90353cab7ff: Starting segment from index:0
2019-08-22 22:39:42,125 [8f59fcec-3de7-4ca1-83cc-1c3fdc9009a8:group-D90353CAB7FF:LeaderElection4] INFO  impl.RaftServerImpl (ServerState.java:setRaftConf(361)) - 8f59fcec-3de7-4ca1-83cc-1c3fdc9009a8:group-D90353CAB7FF set configuration 0: [8f59fcec-3de7-4ca1-83cc-1c3fdc9009a8:192.168.36.125:43977], old=null at 0
2019-08-22 22:39:42,174 [8f59fcec-3de7-4ca1-83cc-1c3fdc9009a8-SegmentedRaftLogWorker:Storage Directory /workdir/hadoop-ozone/integration-test/target/test-dir/MiniOzoneClusterImpl-f0450dcd-a238-40b4-8f72-c6c0c5421345/datanode-0/data/ratis/958be55f-2478-40a0-b15b-d90353cab7ff] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:execute(569)) - 8f59fcec-3de7-4ca1-83cc-1c3fdc9009a8-SegmentedRaftLogWorker:Storage Directory /workdir/hadoop-ozone/integration-test/target/test-dir/MiniOzoneClusterImpl-f0450dcd-a238-40b4-8f72-c6c0c5421345/datanode-0/data/ratis/958be55f-2478-40a0-b15b-d90353cab7ff: created new log segment /workdir/hadoop-ozone/integration-test/target/test-dir/MiniOzoneClusterImpl-f0450dcd-a238-40b4-8f72-c6c0c5421345/datanode-0/data/ratis/958be55f-2478-40a0-b15b-d90353cab7ff/current/log_inprogress_0
2019-08-22 22:39:42,184 | INFO  | SCMAudit | user=jenkins1000 | ip=192.168.36.125 | op=SEND_HEARTBEAT {datanodeUUID=8f59fcec-3de7-4ca1-83cc-1c3fdc9009a8, command=[]} | ret=SUCCESS |  
2019-08-22 22:39:42,385 | INFO  | SCMAudit | user=jenkins1000 | ip=192.168.36.125 | op=SEND_HEARTBEAT {datanodeUUID=8f59fcec-3de7-4ca1-83cc-1c3fdc9009a8, command=[]} | ret=SUCCESS |  
2019-08-22 22:39:42,584 | INFO  | SCMAudit | user=jenkins1000 | ip=192.168.36.125 | op=SEND_HEARTBEAT {datanodeUUID=8f59fcec-3de7-4ca1-83cc-1c3fdc9009a8, command=[]} | ret=SUCCESS |  
2019-08-22 22:39:42,785 | INFO  | SCMAudit | user=jenkins1000 | ip=192.168.36.125 | op=SEND_HEARTBEAT {datanodeUUID=8f59fcec-3de7-4ca1-83cc-1c3fdc9009a8, command=[]} | ret=SUCCESS |  
2019-08-22 22:39:42,985 | INFO  | SCMAudit | user=jenkins1000 | ip=192.168.36.125 | op=SEND_HEARTBEAT {datanodeUUID=8f59fcec-3de7-4ca1-83cc-1c3fdc9009a8, command=[]} | ret=SUCCESS |  
2019-08-22 22:39:43,186 | INFO  | SCMAudit | user=jenkins1000 | ip=192.168.36.125 | op=SEND_HEARTBEAT {datanodeUUID=8f59fcec-3de7-4ca1-83cc-1c3fdc9009a8, command=[]} | ret=SUCCESS |  
2019-08-22 22:39:43,385 | INFO  | SCMAudit | user=jenkins1000 | ip=192.168.36.125 | op=SEND_HEARTBEAT {datanodeUUID=8f59fcec-3de7-4ca1-83cc-1c3fdc9009a8, command=[]} | ret=SUCCESS |  
2019-08-22 22:39:43,585 | INFO  | SCMAudit | user=jenkins1000 | ip=192.168.36.125 | op=SEND_HEARTBEAT {datanodeUUID=8f59fcec-3de7-4ca1-83cc-1c3fdc9009a8, command=[]} | ret=SUCCESS |  
2019-08-22 22:39:43,785 | INFO  | SCMAudit | user=jenkins1000 | ip=192.168.36.125 | op=SEND_HEARTBEAT {datanodeUUID=8f59fcec-3de7-4ca1-83cc-1c3fdc9009a8, command=[]} | ret=SUCCESS |  
2019-08-22 22:39:43,985 | INFO  | SCMAudit | user=jenkins1000 | ip=192.168.36.125 | op=SEND_HEARTBEAT {datanodeUUID=8f59fcec-3de7-4ca1-83cc-1c3fdc9009a8, command=[]} | ret=SUCCESS |  
2019-08-22 22:39:44,001 | INFO  | DNAudit | user=null | ip=null | op=WRITE_CHUNK {blockData=conID: 3 locID: 102663033833259012 bcsId: 0} | ret=SUCCESS |  
2019-08-22 22:39:44,002 | INFO  | SCMAudit | user=jenkins1000 | ip=192.168.36.125 | op=SEND_HEARTBEAT {datanodeUUID=8f59fcec-3de7-4ca1-83cc-1c3fdc9009a8, command=[]} | ret=SUCCESS |  
2019-08-22 22:39:44,009 | INFO  | DNAudit | user=null | ip=null | op=WRITE_CHUNK {blockData=conID: 3 locID: 102663033833259012 bcsId: 0} | ret=SUCCESS |  
2019-08-22 22:39:44,011 [StateMachineUpdater:8f59fcec-3de7-4ca1-83cc-1c3fdc9009a8:group-D90353CAB7FF] INFO  ratis.ContainerStateMachine (ContainerStateMachine.java:takeSnapshot(283)) - group-D90353CAB7FF: Taking a snapshot at:(t:1, i:1) file /workdir/hadoop-ozone/integration-test/target/test-dir/MiniOzoneClusterImpl-f0450dcd-a238-40b4-8f72-c6c0c5421345/datanode-0/data/ratis/958be55f-2478-40a0-b15b-d90353cab7ff/sm/snapshot.1_1
2019-08-22 22:39:44,017 [grpc-default-executor-1] INFO  client.GrpcClientProtocolClient (GrpcClientProtocolClient.java:onNext(255)) - client-0846B453F515->8f59fcec-3de7-4ca1-83cc-1c3fdc9009a8: receive RaftClientReply:client-0846B453F515->8f59fcec-3de7-4ca1-83cc-1c3fdc9009a8@group-D90353CAB7FF, cid=11, SUCCESS, logIndex=1, commits[8f59fcec-3de7-4ca1-83cc-1c3fdc9009a8:c1]
2019-08-22 22:39:44,031 [StateMachineUpdater:8f59fcec-3de7-4ca1-83cc-1c3fdc9009a8:group-D90353CAB7FF] INFO  ratis.ContainerStateMachine (ContainerStateMachine.java:takeSnapshot(294)) - group-D90353CAB7FF: Finished taking a snapshot at:(t:1, i:1) file:/workdir/hadoop-ozone/integration-test/target/test-dir/MiniOzoneClusterImpl-f0450dcd-a238-40b4-8f72-c6c0c5421345/datanode-0/data/ratis/958be55f-2478-40a0-b15b-d90353cab7ff/sm/snapshot.1_1 time:20
2019-08-22 22:39:44,031 [StateMachineUpdater:8f59fcec-3de7-4ca1-83cc-1c3fdc9009a8:group-D90353CAB7FF] INFO  impl.StateMachineUpdater (StateMachineUpdater.java:takeSnapshot(242)) - StateMachineUpdater:8f59fcec-3de7-4ca1-83cc-1c3fdc9009a8:group-D90353CAB7FF: Took a snapshot at index 1
2019-08-22 22:39:44,031 [StateMachineUpdater:8f59fcec-3de7-4ca1-83cc-1c3fdc9009a8:group-D90353CAB7FF] INFO  impl.StateMachineUpdater (StateMachineUpdater.java:lambda$new$0(80)) - StateMachineUpdater:8f59fcec-3de7-4ca1-83cc-1c3fdc9009a8:group-D90353CAB7FF: snapshotIndex: updateIncreasingly -1 -> 1
2019-08-22 22:39:44,031 [StateMachineUpdater:8f59fcec-3de7-4ca1-83cc-1c3fdc9009a8:group-D90353CAB7FF] INFO  ratis.ContainerStateMachine (ContainerStateMachine.java:takeSnapshot(283)) - group-D90353CAB7FF: Taking a snapshot at:(t:1, i:1) file /workdir/hadoop-ozone/integration-test/target/test-dir/MiniOzoneClusterImpl-f0450dcd-a238-40b4-8f72-c6c0c5421345/datanode-0/data/ratis/958be55f-2478-40a0-b15b-d90353cab7ff/sm/snapshot.1_1
2019-08-22 22:39:44,066 [StateMachineUpdater:8f59fcec-3de7-4ca1-83cc-1c3fdc9009a8:group-D90353CAB7FF] INFO  ratis.ContainerStateMachine (ContainerStateMachine.java:takeSnapshot(294)) - group-D90353CAB7FF: Finished taking a snapshot at:(t:1, i:1) file:/workdir/hadoop-ozone/integration-test/target/test-dir/MiniOzoneClusterImpl-f0450dcd-a238-40b4-8f72-c6c0c5421345/datanode-0/data/ratis/958be55f-2478-40a0-b15b-d90353cab7ff/sm/snapshot.1_1 time:34
2019-08-22 22:39:44,066 [StateMachineUpdater:8f59fcec-3de7-4ca1-83cc-1c3fdc9009a8:group-D90353CAB7FF] INFO  impl.StateMachineUpdater (StateMachineUpdater.java:takeSnapshot(242)) - StateMachineUpdater:8f59fcec-3de7-4ca1-83cc-1c3fdc9009a8:group-D90353CAB7FF: Took a snapshot at index 1
2019-08-22 22:39:44,066 [StateMachineUpdater:8f59fcec-3de7-4ca1-83cc-1c3fdc9009a8:group-D90353CAB7FF] INFO  impl.StateMachineUpdater (StateMachineUpdater.java:lambda$new$0(80)) - StateMachineUpdater:8f59fcec-3de7-4ca1-83cc-1c3fdc9009a8:group-D90353CAB7FF: snapshotIndex: updateIncreasingly 1 -> 1
2019-08-22 22:39:44,148 | INFO  | DNAudit | user=null | ip=null | op=PUT_BLOCK {blockData=[blockId=conID: 3 locID: 102663033833259012 bcsId: 0,size=5]} | ret=SUCCESS |  
2019-08-22 22:39:44,149 [StateMachineUpdater:8f59fcec-3de7-4ca1-83cc-1c3fdc9009a8:group-D90353CAB7FF] INFO  ratis.ContainerStateMachine (ContainerStateMachine.java:takeSnapshot(283)) - group-D90353CAB7FF: Taking a snapshot at:(t:1, i:3) file /workdir/hadoop-ozone/integration-test/target/test-dir/MiniOzoneClusterImpl-f0450dcd-a238-40b4-8f72-c6c0c5421345/datanode-0/data/ratis/958be55f-2478-40a0-b15b-d90353cab7ff/sm/snapshot.1_3
2019-08-22 22:39:44,153 [grpc-default-executor-1] INFO  client.GrpcClientProtocolClient (GrpcClientProtocolClient.java:onNext(255)) - client-0846B453F515->8f59fcec-3de7-4ca1-83cc-1c3fdc9009a8: receive RaftClientReply:client-0846B453F515->8f59fcec-3de7-4ca1-83cc-1c3fdc9009a8@group-D90353CAB7FF, cid=12, SUCCESS, logIndex=3, commits[8f59fcec-3de7-4ca1-83cc-1c3fdc9009a8:c4]
2019-08-22 22:39:44,159 [pool-41-thread-2] ERROR impl.ChunkManagerImpl (ChunkUtils.java:getChunkFile(249)) - Chunks path does not exist
2019-08-22 22:39:44,160 [pool-41-thread-2] INFO  keyvalue.KeyValueHandler (ContainerUtils.java:logAndReturnError(146)) - Operation: WriteChunk : Trace ID: c68c4b6c275ee92c:c68c4b6c275ee92c:0:0 : Message: Unable to get Chunks directory. : Result: UNABLE_TO_FIND_DATA_DIR
2019-08-22 22:39:44,165 | ERROR | DNAudit | user=null | ip=null | op=PUT_BLOCK {blockData=[blockId=conID: 3 locID: 102663033833259012 bcsId: 0,size=10]} | ret=FAILURE | org.apache.hadoop.hdds.scm.container.common.helpers.ContainerNotOpenException: Container 3 in UNHEALTHY state
	at org.apache.hadoop.ozone.container.common.impl.HddsDispatcher.validateContainerCommand(HddsDispatcher.java:408)
	at org.apache.hadoop.ozone.container.common.transport.server.ratis.ContainerStateMachine.startTransaction(ContainerStateMachine.java:309) 
2019-08-22 22:39:44,168 [StateMachineUpdater:8f59fcec-3de7-4ca1-83cc-1c3fdc9009a8:group-D90353CAB7FF] INFO  ratis.ContainerStateMachine (ContainerStateMachine.java:takeSnapshot(294)) - group-D90353CAB7FF: Finished taking a snapshot at:(t:1, i:3) file:/workdir/hadoop-ozone/integration-test/target/test-dir/MiniOzoneClusterImpl-f0450dcd-a238-40b4-8f72-c6c0c5421345/datanode-0/data/ratis/958be55f-2478-40a0-b15b-d90353cab7ff/sm/snapshot.1_3 time:19
2019-08-22 22:39:44,168 [StateMachineUpdater:8f59fcec-3de7-4ca1-83cc-1c3fdc9009a8:group-D90353CAB7FF] INFO  impl.StateMachineUpdater (StateMachineUpdater.java:takeSnapshot(242)) - StateMachineUpdater:8f59fcec-3de7-4ca1-83cc-1c3fdc9009a8:group-D90353CAB7FF: Took a snapshot at index 3
2019-08-22 22:39:44,168 [StateMachineUpdater:8f59fcec-3de7-4ca1-83cc-1c3fdc9009a8:group-D90353CAB7FF] INFO  impl.StateMachineUpdater (StateMachineUpdater.java:lambda$new$0(80)) - StateMachineUpdater:8f59fcec-3de7-4ca1-83cc-1c3fdc9009a8:group-D90353CAB7FF: snapshotIndex: updateIncreasingly 1 -> 3
2019-08-22 22:39:44,169 [StateMachineUpdater:8f59fcec-3de7-4ca1-83cc-1c3fdc9009a8:group-D90353CAB7FF] INFO  ratis.ContainerStateMachine (ContainerStateMachine.java:takeSnapshot(283)) - group-D90353CAB7FF: Taking a snapshot at:(t:1, i:3) file /workdir/hadoop-ozone/integration-test/target/test-dir/MiniOzoneClusterImpl-f0450dcd-a238-40b4-8f72-c6c0c5421345/datanode-0/data/ratis/958be55f-2478-40a0-b15b-d90353cab7ff/sm/snapshot.1_3
2019-08-22 22:39:44,182 [StateMachineUpdater:8f59fcec-3de7-4ca1-83cc-1c3fdc9009a8:group-D90353CAB7FF] INFO  ratis.ContainerStateMachine (ContainerStateMachine.java:takeSnapshot(294)) - group-D90353CAB7FF: Finished taking a snapshot at:(t:1, i:3) file:/workdir/hadoop-ozone/integration-test/target/test-dir/MiniOzoneClusterImpl-f0450dcd-a238-40b4-8f72-c6c0c5421345/datanode-0/data/ratis/958be55f-2478-40a0-b15b-d90353cab7ff/sm/snapshot.1_3 time:13
2019-08-22 22:39:44,182 [StateMachineUpdater:8f59fcec-3de7-4ca1-83cc-1c3fdc9009a8:group-D90353CAB7FF] INFO  impl.StateMachineUpdater (StateMachineUpdater.java:takeSnapshot(242)) - StateMachineUpdater:8f59fcec-3de7-4ca1-83cc-1c3fdc9009a8:group-D90353CAB7FF: Took a snapshot at index 3
2019-08-22 22:39:44,182 [StateMachineUpdater:8f59fcec-3de7-4ca1-83cc-1c3fdc9009a8:group-D90353CAB7FF] INFO  impl.StateMachineUpdater (StateMachineUpdater.java:lambda$new$0(80)) - StateMachineUpdater:8f59fcec-3de7-4ca1-83cc-1c3fdc9009a8:group-D90353CAB7FF: snapshotIndex: updateIncreasingly 3 -> 3
2019-08-22 22:39:44,195 | ERROR | DNAudit | user=null | ip=null | op=WRITE_CHUNK {blockData=conID: 3 locID: 102663033833259012 bcsId: 3} | ret=FAILURE | java.lang.Exception: Unable to get Chunks directory.
	at org.apache.hadoop.ozone.container.common.impl.HddsDispatcher.dispatchRequest(HddsDispatcher.java:320)
	at org.apache.hadoop.ozone.container.common.impl.HddsDispatcher.dispatch(HddsDispatcher.java:148) 
2019-08-22 22:39:44,196 [pool-41-thread-2] ERROR ratis.ContainerStateMachine (ContainerStateMachine.java:lambda$handleWriteChunk$2(449)) - group-D90353CAB7FF: writeChunk writeStateMachineData failed: blockIdcontainerID: 3
localID: 102663033833259012
blockCommitSequenceId: 3
 logIndex 5 chunkName 102663033833259012_chunk_2 Error message: Unable to get Chunks directory. Container Result: UNABLE_TO_FIND_DATA_DIR
2019-08-22 22:39:44,198 [8f59fcec-3de7-4ca1-83cc-1c3fdc9009a8-SegmentedRaftLogWorker:Storage Directory /workdir/hadoop-ozone/integration-test/target/test-dir/MiniOzoneClusterImpl-f0450dcd-a238-40b4-8f72-c6c0c5421345/datanode-0/data/ratis/958be55f-2478-40a0-b15b-d90353cab7ff] ERROR ratis.XceiverServerRatis (XceiverServerRatis.java:triggerPipelineClose(561)) - pipeline Action CLOSE  on pipeline PipelineID=958be55f-2478-40a0-b15b-d90353cab7ff.Reason : Unable to get Chunks directory.
2019-08-22 22:39:44,198 | INFO  | SCMAudit | user=jenkins1000 | ip=192.168.36.125 | op=SEND_HEARTBEAT {datanodeUUID=8f59fcec-3de7-4ca1-83cc-1c3fdc9009a8, command=[]} | ret=SUCCESS |  
2019-08-22 22:39:44,198 [EventQueue-CloseContainerForCloseContainerEventHandler] INFO  container.CloseContainerEventHandler (CloseContainerEventHandler.java:onMessage(61)) - Close container Event triggered for container : #3
2019-08-22 22:39:44,198 [EventQueue-IncrementalContainerReportForIncrementalContainerReportHandler] WARN  container.IncrementalContainerReportHandler (AbstractContainerReportHandler.java:updateContainerState(143)) - Container #3 is in OPEN state, but the datanode 8f59fcec-3de7-4ca1-83cc-1c3fdc9009a8{ip: 192.168.36.125, host: pr-hdds-1975-6rfct-3228563268, networkLocation: /default-rack, certSerialId: null} reports an UNHEALTHY replica.
2019-08-22 22:39:44,201 [EventQueue-PipelineActionsForPipelineActionHandler] ERROR pipeline.PipelineActionHandler (PipelineActionHandler.java:onMessage(60)) - Received pipeline action CLOSE for Pipeline[ Id: 958be55f-2478-40a0-b15b-d90353cab7ff, Nodes: 8f59fcec-3de7-4ca1-83cc-1c3fdc9009a8{ip: 192.168.36.125, host: pr-hdds-1975-6rfct-3228563268, networkLocation: /default-rack, certSerialId: null}, Type:RATIS, Factor:ONE, State:OPEN] from datanode 8f59fcec-3de7-4ca1-83cc-1c3fdc9009a8{ip: 192.168.36.125, host: pr-hdds-1975-6rfct-3228563268, networkLocation: /default-rack, certSerialId: null}. Reason : Unable to get Chunks directory.
2019-08-22 22:39:44,201 [EventQueue-PipelineActionsForPipelineActionHandler] INFO  pipeline.SCMPipelineManager (SCMPipelineManager.java:finalizeAndDestroyPipeline(309)) - destroying pipeline:Pipeline[ Id: 958be55f-2478-40a0-b15b-d90353cab7ff, Nodes: 8f59fcec-3de7-4ca1-83cc-1c3fdc9009a8{ip: 192.168.36.125, host: pr-hdds-1975-6rfct-3228563268, networkLocation: /default-rack, certSerialId: null}, Type:RATIS, Factor:ONE, State:OPEN]
2019-08-22 22:39:44,202 | INFO  | SCMAudit | user=jenkins1000 | ip=192.168.36.125 | op=SEND_HEARTBEAT {datanodeUUID=8f59fcec-3de7-4ca1-83cc-1c3fdc9009a8, command=[commandType: closeContainerCommand closeContainerCommandProto { containerID: 3 pipelineID { id: "958be55f-2478-40a0-b15b-d90353cab7ff" } cmdId: 3 force: false } ]} | ret=SUCCESS |  
2019-08-22 22:39:44,202 [EventQueue-PipelineActionsForPipelineActionHandler] INFO  pipeline.PipelineStateManager (PipelineStateManager.java:finalizePipeline(123)) - Pipeline Pipeline[ Id: 958be55f-2478-40a0-b15b-d90353cab7ff, Nodes: 8f59fcec-3de7-4ca1-83cc-1c3fdc9009a8{ip: 192.168.36.125, host: pr-hdds-1975-6rfct-3228563268, networkLocation: /default-rack, certSerialId: null}, Type:RATIS, Factor:ONE, State:CLOSED] moved to CLOSED state
2019-08-22 22:39:44,386 [8f59fcec-3de7-4ca1-83cc-1c3fdc9009a8-SegmentedRaftLogWorker:Storage Directory /workdir/hadoop-ozone/integration-test/target/test-dir/MiniOzoneClusterImpl-f0450dcd-a238-40b4-8f72-c6c0c5421345/datanode-0/data/ratis/958be55f-2478-40a0-b15b-d90353cab7ff] ERROR ratis.XceiverServerRatis (XceiverServerRatis.java:triggerPipelineClose(561)) - pipeline Action CLOSE  on pipeline PipelineID=958be55f-2478-40a0-b15b-d90353cab7ff.Reason : Log already failed at index 5 for task WriteLog:5: (t:1, i:5), STATEMACHINELOGENTRY, client-0846B453F515, cid=14
2019-08-22 22:39:44,389 | INFO  | SCMAudit | user=jenkins1000 | ip=192.168.36.125 | op=SEND_HEARTBEAT {datanodeUUID=8f59fcec-3de7-4ca1-83cc-1c3fdc9009a8, command=[]} | ret=SUCCESS |  
2019-08-22 22:39:44,389 [EventQueue-PipelineActionsForPipelineActionHandler] ERROR pipeline.PipelineActionHandler (PipelineActionHandler.java:onMessage(60)) - Received pipeline action CLOSE for Pipeline[ Id: 958be55f-2478-40a0-b15b-d90353cab7ff, Nodes: 8f59fcec-3de7-4ca1-83cc-1c3fdc9009a8{ip: 192.168.36.125, host: pr-hdds-1975-6rfct-3228563268, networkLocation: /default-rack, certSerialId: null}, Type:RATIS, Factor:ONE, State:CLOSED] from datanode 8f59fcec-3de7-4ca1-83cc-1c3fdc9009a8{ip: 192.168.36.125, host: pr-hdds-1975-6rfct-3228563268, networkLocation: /default-rack, certSerialId: null}. Reason : Log already failed at index 5 for task WriteLog:5: (t:1, i:5), STATEMACHINELOGENTRY, client-0846B453F515, cid=14
2019-08-22 22:39:44,389 [EventQueue-PipelineActionsForPipelineActionHandler] INFO  pipeline.SCMPipelineManager (SCMPipelineManager.java:finalizeAndDestroyPipeline(309)) - destroying pipeline:Pipeline[ Id: 958be55f-2478-40a0-b15b-d90353cab7ff, Nodes: 8f59fcec-3de7-4ca1-83cc-1c3fdc9009a8{ip: 192.168.36.125, host: pr-hdds-1975-6rfct-3228563268, networkLocation: /default-rack, certSerialId: null}, Type:RATIS, Factor:ONE, State:CLOSED]
2019-08-22 22:39:44,589 | INFO  | SCMAudit | user=jenkins1000 | ip=192.168.36.125 | op=SEND_HEARTBEAT {datanodeUUID=8f59fcec-3de7-4ca1-83cc-1c3fdc9009a8, command=[]} | ret=SUCCESS |  
2019-08-22 22:39:44,789 | INFO  | SCMAudit | user=jenkins1000 | ip=192.168.36.125 | op=SEND_HEARTBEAT {datanodeUUID=8f59fcec-3de7-4ca1-83cc-1c3fdc9009a8, command=[]} | ret=SUCCESS |  
2019-08-22 22:39:44,989 | INFO  | SCMAudit | user=jenkins1000 | ip=192.168.36.125 | op=SEND_HEARTBEAT {datanodeUUID=8f59fcec-3de7-4ca1-83cc-1c3fdc9009a8, command=[]} | ret=SUCCESS |  
2019-08-22 22:39:45,189 | INFO  | SCMAudit | user=jenkins1000 | ip=192.168.36.125 | op=SEND_HEARTBEAT {datanodeUUID=8f59fcec-3de7-4ca1-83cc-1c3fdc9009a8, command=[]} | ret=SUCCESS |  
2019-08-22 22:39:45,390 | INFO  | SCMAudit | user=jenkins1000 | ip=192.168.36.125 | op=SEND_HEARTBEAT {datanodeUUID=8f59fcec-3de7-4ca1-83cc-1c3fdc9009a8, command=[]} | ret=SUCCESS |  
2019-08-22 22:39:45,590 | INFO  | SCMAudit | user=jenkins1000 | ip=192.168.36.125 | op=SEND_HEARTBEAT {datanodeUUID=8f59fcec-3de7-4ca1-83cc-1c3fdc9009a8, command=[]} | ret=SUCCESS |  
2019-08-22 22:39:45,791 | INFO  | SCMAudit | user=jenkins1000 | ip=192.168.36.125 | op=SEND_HEARTBEAT {datanodeUUID=8f59fcec-3de7-4ca1-83cc-1c3fdc9009a8, command=[]} | ret=SUCCESS |  
2019-08-22 22:39:45,991 | INFO  | SCMAudit | user=jenkins1000 | ip=192.168.36.125 | op=SEND_HEARTBEAT {datanodeUUID=8f59fcec-3de7-4ca1-83cc-1c3fdc9009a8, command=[]} | ret=SUCCESS |  
2019-08-22 22:39:46,191 | INFO  | SCMAudit | user=jenkins1000 | ip=192.168.36.125 | op=SEND_HEARTBEAT {datanodeUUID=8f59fcec-3de7-4ca1-83cc-1c3fdc9009a8, command=[]} | ret=SUCCESS |  
2019-08-22 22:39:46,391 | INFO  | SCMAudit | user=jenkins1000 | ip=192.168.36.125 | op=SEND_HEARTBEAT {datanodeUUID=8f59fcec-3de7-4ca1-83cc-1c3fdc9009a8, command=[]} | ret=SUCCESS |  
2019-08-22 22:39:46,591 | INFO  | SCMAudit | user=jenkins1000 | ip=192.168.36.125 | op=SEND_HEARTBEAT {datanodeUUID=8f59fcec-3de7-4ca1-83cc-1c3fdc9009a8, command=[]} | ret=SUCCESS |  
2019-08-22 22:39:46,792 | INFO  | SCMAudit | user=jenkins1000 | ip=192.168.36.125 | op=SEND_HEARTBEAT {datanodeUUID=8f59fcec-3de7-4ca1-83cc-1c3fdc9009a8, command=[]} | ret=SUCCESS |  
2019-08-22 22:39:46,993 | INFO  | SCMAudit | user=jenkins1000 | ip=192.168.36.125 | op=SEND_HEARTBEAT {datanodeUUID=8f59fcec-3de7-4ca1-83cc-1c3fdc9009a8, command=[]} | ret=SUCCESS |  
2019-08-22 22:39:47,192 | INFO  | SCMAudit | user=jenkins1000 | ip=192.168.36.125 | op=SEND_HEARTBEAT {datanodeUUID=8f59fcec-3de7-4ca1-83cc-1c3fdc9009a8, command=[]} | ret=SUCCESS |  
2019-08-22 22:39:47,393 | INFO  | SCMAudit | user=jenkins1000 | ip=192.168.36.125 | op=SEND_HEARTBEAT {datanodeUUID=8f59fcec-3de7-4ca1-83cc-1c3fdc9009a8, command=[]} | ret=SUCCESS |  
2019-08-22 22:39:47,593 | INFO  | SCMAudit | user=jenkins1000 | ip=192.168.36.125 | op=SEND_HEARTBEAT {datanodeUUID=8f59fcec-3de7-4ca1-83cc-1c3fdc9009a8, command=[]} | ret=SUCCESS |  
2019-08-22 22:39:47,793 | INFO  | SCMAudit | user=jenkins1000 | ip=192.168.36.125 | op=SEND_HEARTBEAT {datanodeUUID=8f59fcec-3de7-4ca1-83cc-1c3fdc9009a8, command=[]} | ret=SUCCESS |  
2019-08-22 22:39:47,993 | INFO  | SCMAudit | user=jenkins1000 | ip=192.168.36.125 | op=SEND_HEARTBEAT {datanodeUUID=8f59fcec-3de7-4ca1-83cc-1c3fdc9009a8, command=[]} | ret=SUCCESS |  
2019-08-22 22:39:48,193 | INFO  | SCMAudit | user=jenkins1000 | ip=192.168.36.125 | op=SEND_HEARTBEAT {datanodeUUID=8f59fcec-3de7-4ca1-83cc-1c3fdc9009a8, command=[]} | ret=SUCCESS |  
2019-08-22 22:39:48,393 | INFO  | SCMAudit | user=jenkins1000 | ip=192.168.36.125 | op=SEND_HEARTBEAT {datanodeUUID=8f59fcec-3de7-4ca1-83cc-1c3fdc9009a8, command=[]} | ret=SUCCESS |  
2019-08-22 22:39:48,595 | INFO  | SCMAudit | user=jenkins1000 | ip=192.168.36.125 | op=SEND_HEARTBEAT {datanodeUUID=8f59fcec-3de7-4ca1-83cc-1c3fdc9009a8, command=[]} | ret=SUCCESS |  
2019-08-22 22:39:48,795 | INFO  | SCMAudit | user=jenkins1000 | ip=192.168.36.125 | op=SEND_HEARTBEAT {datanodeUUID=8f59fcec-3de7-4ca1-83cc-1c3fdc9009a8, command=[]} | ret=SUCCESS |  
2019-08-22 22:39:48,995 | INFO  | SCMAudit | user=jenkins1000 | ip=192.168.36.125 | op=SEND_HEARTBEAT {datanodeUUID=8f59fcec-3de7-4ca1-83cc-1c3fdc9009a8, command=[]} | ret=SUCCESS |  
2019-08-22 22:39:49,195 | INFO  | SCMAudit | user=jenkins1000 | ip=192.168.36.125 | op=SEND_HEARTBEAT {datanodeUUID=8f59fcec-3de7-4ca1-83cc-1c3fdc9009a8, command=[]} | ret=SUCCESS |  
2019-08-22 22:39:49,394 | INFO  | SCMAudit | user=jenkins1000 | ip=192.168.36.125 | op=SEND_HEARTBEAT {datanodeUUID=8f59fcec-3de7-4ca1-83cc-1c3fdc9009a8, command=[]} | ret=SUCCESS |  
2019-08-22 22:39:49,595 | INFO  | SCMAudit | user=jenkins1000 | ip=192.168.36.125 | op=SEND_HEARTBEAT {datanodeUUID=8f59fcec-3de7-4ca1-83cc-1c3fdc9009a8, command=[]} | ret=SUCCESS |  
2019-08-22 22:39:49,794 | INFO  | SCMAudit | user=jenkins1000 | ip=192.168.36.125 | op=SEND_HEARTBEAT {datanodeUUID=8f59fcec-3de7-4ca1-83cc-1c3fdc9009a8, command=[]} | ret=SUCCESS |  
2019-08-22 22:39:49,994 | INFO  | SCMAudit | user=jenkins1000 | ip=192.168.36.125 | op=SEND_HEARTBEAT {datanodeUUID=8f59fcec-3de7-4ca1-83cc-1c3fdc9009a8, command=[]} | ret=SUCCESS |  
2019-08-22 22:39:50,195 | INFO  | SCMAudit | user=jenkins1000 | ip=192.168.36.125 | op=SEND_HEARTBEAT {datanodeUUID=8f59fcec-3de7-4ca1-83cc-1c3fdc9009a8, command=[]} | ret=SUCCESS |  
2019-08-22 22:39:50,395 | INFO  | SCMAudit | user=jenkins1000 | ip=192.168.36.125 | op=SEND_HEARTBEAT {datanodeUUID=8f59fcec-3de7-4ca1-83cc-1c3fdc9009a8, command=[]} | ret=SUCCESS |  
2019-08-22 22:39:50,594 | INFO  | SCMAudit | user=jenkins1000 | ip=192.168.36.125 | op=SEND_HEARTBEAT {datanodeUUID=8f59fcec-3de7-4ca1-83cc-1c3fdc9009a8, command=[]} | ret=SUCCESS |  
2019-08-22 22:39:50,795 | INFO  | SCMAudit | user=jenkins1000 | ip=192.168.36.125 | op=SEND_HEARTBEAT {datanodeUUID=8f59fcec-3de7-4ca1-83cc-1c3fdc9009a8, command=[]} | ret=SUCCESS |  
2019-08-22 22:39:50,995 | INFO  | SCMAudit | user=jenkins1000 | ip=192.168.36.125 | op=SEND_HEARTBEAT {datanodeUUID=8f59fcec-3de7-4ca1-83cc-1c3fdc9009a8, command=[]} | ret=SUCCESS |  
2019-08-22 22:39:51,195 | INFO  | SCMAudit | user=jenkins1000 | ip=192.168.36.125 | op=SEND_HEARTBEAT {datanodeUUID=8f59fcec-3de7-4ca1-83cc-1c3fdc9009a8, command=[]} | ret=SUCCESS |  
2019-08-22 22:39:51,396 | INFO  | SCMAudit | user=jenkins1000 | ip=192.168.36.125 | op=SEND_HEARTBEAT {datanodeUUID=8f59fcec-3de7-4ca1-83cc-1c3fdc9009a8, command=[]} | ret=SUCCESS |  
2019-08-22 22:39:51,596 | INFO  | SCMAudit | user=jenkins1000 | ip=192.168.36.125 | op=SEND_HEARTBEAT {datanodeUUID=8f59fcec-3de7-4ca1-83cc-1c3fdc9009a8, command=[]} | ret=SUCCESS |  
2019-08-22 22:39:51,796 | INFO  | SCMAudit | user=jenkins1000 | ip=192.168.36.125 | op=SEND_HEARTBEAT {datanodeUUID=8f59fcec-3de7-4ca1-83cc-1c3fdc9009a8, command=[]} | ret=SUCCESS |  
2019-08-22 22:39:51,997 | INFO  | SCMAudit | user=jenkins1000 | ip=192.168.36.125 | op=SEND_HEARTBEAT {datanodeUUID=8f59fcec-3de7-4ca1-83cc-1c3fdc9009a8, command=[]} | ret=SUCCESS |  
2019-08-22 22:39:52,198 | INFO  | SCMAudit | user=jenkins1000 | ip=192.168.36.125 | op=SEND_HEARTBEAT {datanodeUUID=8f59fcec-3de7-4ca1-83cc-1c3fdc9009a8, command=[]} | ret=SUCCESS |  
2019-08-22 22:39:52,398 | INFO  | SCMAudit | user=jenkins1000 | ip=192.168.36.125 | op=SEND_HEARTBEAT {datanodeUUID=8f59fcec-3de7-4ca1-83cc-1c3fdc9009a8, command=[]} | ret=SUCCESS |  
2019-08-22 22:39:52,598 | INFO  | SCMAudit | user=jenkins1000 | ip=192.168.36.125 | op=SEND_HEARTBEAT {datanodeUUID=8f59fcec-3de7-4ca1-83cc-1c3fdc9009a8, command=[]} | ret=SUCCESS |  
2019-08-22 22:39:52,798 | INFO  | SCMAudit | user=jenkins1000 | ip=192.168.36.125 | op=SEND_HEARTBEAT {datanodeUUID=8f59fcec-3de7-4ca1-83cc-1c3fdc9009a8, command=[]} | ret=SUCCESS |  
2019-08-22 22:39:52,998 | INFO  | SCMAudit | user=jenkins1000 | ip=192.168.36.125 | op=SEND_HEARTBEAT {datanodeUUID=8f59fcec-3de7-4ca1-83cc-1c3fdc9009a8, command=[]} | ret=SUCCESS |  
2019-08-22 22:39:53,198 | INFO  | SCMAudit | user=jenkins1000 | ip=192.168.36.125 | op=SEND_HEARTBEAT {datanodeUUID=8f59fcec-3de7-4ca1-83cc-1c3fdc9009a8, command=[]} | ret=SUCCESS |  
2019-08-22 22:39:53,399 | INFO  | SCMAudit | user=jenkins1000 | ip=192.168.36.125 | op=SEND_HEARTBEAT {datanodeUUID=8f59fcec-3de7-4ca1-83cc-1c3fdc9009a8, command=[]} | ret=SUCCESS |  
2019-08-22 22:39:53,599 | INFO  | SCMAudit | user=jenkins1000 | ip=192.168.36.125 | op=SEND_HEARTBEAT {datanodeUUID=8f59fcec-3de7-4ca1-83cc-1c3fdc9009a8, command=[]} | ret=SUCCESS |  
2019-08-22 22:39:53,799 | INFO  | SCMAudit | user=jenkins1000 | ip=192.168.36.125 | op=SEND_HEARTBEAT {datanodeUUID=8f59fcec-3de7-4ca1-83cc-1c3fdc9009a8, command=[]} | ret=SUCCESS |  
2019-08-22 22:39:54,000 | INFO  | SCMAudit | user=jenkins1000 | ip=192.168.36.125 | op=SEND_HEARTBEAT {datanodeUUID=8f59fcec-3de7-4ca1-83cc-1c3fdc9009a8, command=[]} | ret=SUCCESS |  
2019-08-22 22:39:54,199 | INFO  | SCMAudit | user=jenkins1000 | ip=192.168.36.125 | op=SEND_HEARTBEAT {datanodeUUID=8f59fcec-3de7-4ca1-83cc-1c3fdc9009a8, command=[]} | ret=SUCCESS |  
2019-08-22 22:39:54,212 [grpc-default-executor-1] INFO  impl.RaftServerProxy (RaftServerProxy.java:remove(95)) - 8f59fcec-3de7-4ca1-83cc-1c3fdc9009a8: remove   LEADER group-D90353CAB7FF 8f59fcec-3de7-4ca1-83cc-1c3fdc9009a8:t1, leader=8f59fcec-3de7-4ca1-83cc-1c3fdc9009a8, voted=8f59fcec-3de7-4ca1-83cc-1c3fdc9009a8, raftlog=8f59fcec-3de7-4ca1-83cc-1c3fdc9009a8-SegmentedRaftLog:OPENED:c4,f4,i6, conf=0: [8f59fcec-3de7-4ca1-83cc-1c3fdc9009a8:192.168.36.125:43977], old=null RUNNING
2019-08-22 22:39:54,213 [grpc-default-executor-1] INFO  impl.RaftServerImpl (RaftServerImpl.java:lambda$shutdown$3(245)) - 8f59fcec-3de7-4ca1-83cc-1c3fdc9009a8: shutdown group-D90353CAB7FF
2019-08-22 22:39:54,214 [grpc-default-executor-1] INFO  util.JmxRegister (JmxRegister.java:unregister(73)) - Successfully un-registered JMX Bean with object name Ratis:service=RaftServer,group=group-D90353CAB7FF,id=8f59fcec-3de7-4ca1-83cc-1c3fdc9009a8
2019-08-22 22:39:54,214 [grpc-default-executor-1] INFO  impl.RoleInfo (RoleInfo.java:shutdownLeaderState(104)) - 8f59fcec-3de7-4ca1-83cc-1c3fdc9009a8: shutdown LeaderState
2019-08-22 22:39:54,214 [grpc-default-executor-1] INFO  impl.PendingRequests (PendingRequests.java:sendNotLeaderResponses(202)) - 8f59fcec-3de7-4ca1-83cc-1c3fdc9009a8-PendingRequests: sendNotLeaderResponses
2019-08-22 22:39:54,228 [grpc-default-executor-1] INFO  impl.StateMachineUpdater (StateMachineUpdater.java:stopAndJoin(115)) - StateMachineUpdater:8f59fcec-3de7-4ca1-83cc-1c3fdc9009a8:group-D90353CAB7FF: set stopIndex = 4
2019-08-22 22:39:54,228 [StateMachineUpdater:8f59fcec-3de7-4ca1-83cc-1c3fdc9009a8:group-D90353CAB7FF] INFO  ratis.ContainerStateMachine (ContainerStateMachine.java:takeSnapshot(283)) - group-D90353CAB7FF: Taking a snapshot at:(t:1, i:3) file /workdir/hadoop-ozone/integration-test/target/test-dir/MiniOzoneClusterImpl-f0450dcd-a238-40b4-8f72-c6c0c5421345/datanode-0/data/ratis/958be55f-2478-40a0-b15b-d90353cab7ff/sm/snapshot.1_3
2019-08-22 22:39:54,400 | INFO  | SCMAudit | user=jenkins1000 | ip=192.168.36.125 | op=SEND_HEARTBEAT {datanodeUUID=8f59fcec-3de7-4ca1-83cc-1c3fdc9009a8, command=[]} | ret=SUCCESS |  
2019-08-22 22:39:54,599 | INFO  | SCMAudit | user=jenkins1000 | ip=192.168.36.125 | op=SEND_HEARTBEAT {datanodeUUID=8f59fcec-3de7-4ca1-83cc-1c3fdc9009a8, command=[]} | ret=SUCCESS |  
2019-08-22 22:39:54,799 | INFO  | SCMAudit | user=jenkins1000 | ip=192.168.36.125 | op=SEND_HEARTBEAT {datanodeUUID=8f59fcec-3de7-4ca1-83cc-1c3fdc9009a8, command=[]} | ret=SUCCESS |  
2019-08-22 22:39:54,999 | INFO  | SCMAudit | user=jenkins1000 | ip=192.168.36.125 | op=SEND_HEARTBEAT {datanodeUUID=8f59fcec-3de7-4ca1-83cc-1c3fdc9009a8, command=[]} | ret=SUCCESS |  
2019-08-22 22:39:55,199 | INFO  | SCMAudit | user=jenkins1000 | ip=192.168.36.125 | op=SEND_HEARTBEAT {datanodeUUID=8f59fcec-3de7-4ca1-83cc-1c3fdc9009a8, command=[]} | ret=SUCCESS |  
2019-08-22 22:39:55,400 | INFO  | SCMAudit | user=jenkins1000 | ip=192.168.36.125 | op=SEND_HEARTBEAT {datanodeUUID=8f59fcec-3de7-4ca1-83cc-1c3fdc9009a8, command=[]} | ret=SUCCESS |  
2019-08-22 22:39:55,599 | INFO  | SCMAudit | user=jenkins1000 | ip=192.168.36.125 | op=SEND_HEARTBEAT {datanodeUUID=8f59fcec-3de7-4ca1-83cc-1c3fdc9009a8, command=[]} | ret=SUCCESS |  
2019-08-22 22:39:55,800 | INFO  | SCMAudit | user=jenkins1000 | ip=192.168.36.125 | op=SEND_HEARTBEAT {datanodeUUID=8f59fcec-3de7-4ca1-83cc-1c3fdc9009a8, command=[]} | ret=SUCCESS |  
2019-08-22 22:39:56,000 | INFO  | SCMAudit | user=jenkins1000 | ip=192.168.36.125 | op=SEND_HEARTBEAT {datanodeUUID=8f59fcec-3de7-4ca1-83cc-1c3fdc9009a8, command=[]} | ret=SUCCESS |  
2019-08-22 22:39:56,201 | INFO  | SCMAudit | user=jenkins1000 | ip=192.168.36.125 | op=SEND_HEARTBEAT {datanodeUUID=8f59fcec-3de7-4ca1-83cc-1c3fdc9009a8, command=[]} | ret=SUCCESS |  
2019-08-22 22:39:56,220 [main] WARN  io.KeyOutputStream (KeyOutputStream.java:handleException(276)) - Encountered exception java.io.IOException: Unexpected Storage Container Exception: java.util.concurrent.CompletionException: java.util.concurrent.CompletionException: org.apache.ratis.protocol.GroupMismatchException: 8f59fcec-3de7-4ca1-83cc-1c3fdc9009a8: group-D90353CAB7FF not found. on the pipeline Pipeline[ Id: 958be55f-2478-40a0-b15b-d90353cab7ff, Nodes: 8f59fcec-3de7-4ca1-83cc-1c3fdc9009a8{ip: 192.168.36.125, host: pr-hdds-1975-6rfct-3228563268, networkLocation: /default-rack, certSerialId: null}, Type:RATIS, Factor:ONE, State:OPEN]. The last committed block length is 5, uncommitted data length is 5 retry count 0
2019-08-22 22:39:56,256 [grpc-default-executor-0] INFO  impl.RaftServerProxy (RaftServerProxy.java:addNew(89)) - 8f59fcec-3de7-4ca1-83cc-1c3fdc9009a8: addNew group-D8F2A2E5A2B3:[8f59fcec-3de7-4ca1-83cc-1c3fdc9009a8:192.168.36.125:43977] returns group-D8F2A2E5A2B3:java.util.concurrent.CompletableFuture@1f4d799e[Not completed]
2019-08-22 22:39:56,259 [pool-42-thread-1] INFO  impl.RaftServerImpl (RaftServerImpl.java:<init>(93)) - 8f59fcec-3de7-4ca1-83cc-1c3fdc9009a8: new RaftServerImpl for group-D8F2A2E5A2B3:[8f59fcec-3de7-4ca1-83cc-1c3fdc9009a8:192.168.36.125:43977] with ContainerStateMachine:uninitialized
2019-08-22 22:39:56,260 [pool-42-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.rpc.timeout.min = 5s (custom)
2019-08-22 22:39:56,261 [pool-42-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.rpc.timeout.max = 5200ms (custom)
2019-08-22 22:39:56,261 [pool-42-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.rpcslowness.timeout = 120s (custom)
2019-08-22 22:39:56,261 [pool-42-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.sleep.deviation.threshold = 300 (default)
2019-08-22 22:39:56,261 [pool-42-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.log.appender.install.snapshot.enabled = false (custom)
2019-08-22 22:39:56,261 [pool-42-thread-1] INFO  impl.RaftServerImpl (ServerState.java:<init>(105)) - 8f59fcec-3de7-4ca1-83cc-1c3fdc9009a8:group-D8F2A2E5A2B3 ConfigurationManager, init=-1: [8f59fcec-3de7-4ca1-83cc-1c3fdc9009a8:192.168.36.125:43977], old=null, confs=<EMPTY_MAP>
2019-08-22 22:39:56,262 [pool-42-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.storage.dir = [/workdir/hadoop-ozone/integration-test/target/test-dir/MiniOzoneClusterImpl-f0450dcd-a238-40b4-8f72-c6c0c5421345/datanode-0/data/ratis] (custom)
2019-08-22 22:39:56,401 | INFO  | SCMAudit | user=jenkins1000 | ip=192.168.36.125 | op=SEND_HEARTBEAT {datanodeUUID=8f59fcec-3de7-4ca1-83cc-1c3fdc9009a8, command=[]} | ret=SUCCESS |  
2019-08-22 22:39:56,603 | INFO  | SCMAudit | user=jenkins1000 | ip=192.168.36.125 | op=SEND_HEARTBEAT {datanodeUUID=8f59fcec-3de7-4ca1-83cc-1c3fdc9009a8, command=[]} | ret=SUCCESS |  
2019-08-22 22:39:56,802 | INFO  | SCMAudit | user=jenkins1000 | ip=192.168.36.125 | op=SEND_HEARTBEAT {datanodeUUID=8f59fcec-3de7-4ca1-83cc-1c3fdc9009a8, command=[]} | ret=SUCCESS |  
2019-08-22 22:39:57,002 | INFO  | SCMAudit | user=jenkins1000 | ip=192.168.36.125 | op=SEND_HEARTBEAT {datanodeUUID=8f59fcec-3de7-4ca1-83cc-1c3fdc9009a8, command=[]} | ret=SUCCESS |  
2019-08-22 22:39:57,202 | INFO  | SCMAudit | user=jenkins1000 | ip=192.168.36.125 | op=SEND_HEARTBEAT {datanodeUUID=8f59fcec-3de7-4ca1-83cc-1c3fdc9009a8, command=[]} | ret=SUCCESS |  
2019-08-22 22:39:57,209 [RatisPipelineUtilsThread] WARN  pipeline.RatisPipelineUtils (RatisPipelineUtils.java:destroyPipeline(66)) - Pipeline destroy failed for pipeline=PipelineID=958be55f-2478-40a0-b15b-d90353cab7ff dn=8f59fcec-3de7-4ca1-83cc-1c3fdc9009a8{ip: 192.168.36.125, host: pr-hdds-1975-6rfct-3228563268, networkLocation: /default-rack, certSerialId: null}
2019-08-22 22:39:57,401 | INFO  | SCMAudit | user=jenkins1000 | ip=192.168.36.125 | op=SEND_HEARTBEAT {datanodeUUID=8f59fcec-3de7-4ca1-83cc-1c3fdc9009a8, command=[]} | ret=SUCCESS |  
2019-08-22 22:39:57,602 | INFO  | SCMAudit | user=jenkins1000 | ip=192.168.36.125 | op=SEND_HEARTBEAT {datanodeUUID=8f59fcec-3de7-4ca1-83cc-1c3fdc9009a8, command=[]} | ret=SUCCESS |  
2019-08-22 22:39:57,803 | INFO  | SCMAudit | user=jenkins1000 | ip=192.168.36.125 | op=SEND_HEARTBEAT {datanodeUUID=8f59fcec-3de7-4ca1-83cc-1c3fdc9009a8, command=[]} | ret=SUCCESS |  
2019-08-22 22:39:58,003 | INFO  | SCMAudit | user=jenkins1000 | ip=192.168.36.125 | op=SEND_HEARTBEAT {datanodeUUID=8f59fcec-3de7-4ca1-83cc-1c3fdc9009a8, command=[]} | ret=SUCCESS |  
2019-08-22 22:39:58,202 | INFO  | SCMAudit | user=jenkins1000 | ip=192.168.36.125 | op=SEND_HEARTBEAT {datanodeUUID=8f59fcec-3de7-4ca1-83cc-1c3fdc9009a8, command=[]} | ret=SUCCESS |  
2019-08-22 22:39:58,402 | INFO  | SCMAudit | user=jenkins1000 | ip=192.168.36.125 | op=SEND_HEARTBEAT {datanodeUUID=8f59fcec-3de7-4ca1-83cc-1c3fdc9009a8, command=[]} | ret=SUCCESS |  
2019-08-22 22:39:58,602 | INFO  | SCMAudit | user=jenkins1000 | ip=192.168.36.125 | op=SEND_HEARTBEAT {datanodeUUID=8f59fcec-3de7-4ca1-83cc-1c3fdc9009a8, command=[]} | ret=SUCCESS |  
2019-08-22 22:39:58,754 [pool-42-thread-1] INFO  storage.RaftStorageDirectory (RaftStorageDirectory.java:analyzeStorage(246)) - The storage directory /workdir/hadoop-ozone/integration-test/target/test-dir/MiniOzoneClusterImpl-f0450dcd-a238-40b4-8f72-c6c0c5421345/datanode-0/data/ratis/7a1afc87-1d10-44ae-970a-d8f2a2e5a2b3 does not exist. Creating ...
2019-08-22 22:39:58,802 | INFO  | SCMAudit | user=jenkins1000 | ip=192.168.36.125 | op=SEND_HEARTBEAT {datanodeUUID=8f59fcec-3de7-4ca1-83cc-1c3fdc9009a8, command=[]} | ret=SUCCESS |  
2019-08-22 22:39:59,003 | INFO  | SCMAudit | user=jenkins1000 | ip=192.168.36.125 | op=SEND_HEARTBEAT {datanodeUUID=8f59fcec-3de7-4ca1-83cc-1c3fdc9009a8, command=[]} | ret=SUCCESS |  
2019-08-22 22:39:59,203 | INFO  | SCMAudit | user=jenkins1000 | ip=192.168.36.125 | op=SEND_HEARTBEAT {datanodeUUID=8f59fcec-3de7-4ca1-83cc-1c3fdc9009a8, command=[]} | ret=SUCCESS |  
2019-08-22 22:39:59,253 [RATISCREATEPIPELINE0] ERROR pipeline.RatisPipelineProvider (RatisPipelineProvider.java:lambda$null$5(235)) - Failed invoke Ratis rpc org.apache.hadoop.hdds.scm.pipeline.RatisPipelineProvider$$Lambda$172/1180028783@4377520c for 8f59fcec-3de7-4ca1-83cc-1c3fdc9009a8
org.apache.ratis.protocol.TimeoutIOException: deadline exceeded after 2999571470ns
	at org.apache.ratis.grpc.GrpcUtil.tryUnwrapException(GrpcUtil.java:82)
	at org.apache.ratis.grpc.GrpcUtil.unwrapException(GrpcUtil.java:75)
	at org.apache.ratis.grpc.client.GrpcClientProtocolClient.blockingCall(GrpcClientProtocolClient.java:169)
	at org.apache.ratis.grpc.client.GrpcClientProtocolClient.groupAdd(GrpcClientProtocolClient.java:138)
	at org.apache.ratis.grpc.client.GrpcClientRpc.sendRequest(GrpcClientRpc.java:94)
	at org.apache.ratis.client.impl.RaftClientImpl.sendRequest(RaftClientImpl.java:279)
	at org.apache.ratis.client.impl.RaftClientImpl.groupAdd(RaftClientImpl.java:206)
	at org.apache.hadoop.hdds.scm.pipeline.RatisPipelineProvider.lambda$initializePipeline$4(RatisPipelineProvider.java:194)
	at org.apache.hadoop.hdds.scm.pipeline.RatisPipelineProvider.lambda$null$5(RatisPipelineProvider.java:231)
	at java.util.stream.ForEachOps$ForEachOp$OfRef.accept(ForEachOps.java:184)
	at java.util.ArrayList$ArrayListSpliterator.forEachRemaining(ArrayList.java:1382)
	at java.util.stream.AbstractPipeline.copyInto(AbstractPipeline.java:482)
	at java.util.stream.ForEachOps$ForEachTask.compute(ForEachOps.java:291)
	at java.util.concurrent.CountedCompleter.exec(CountedCompleter.java:731)
	at java.util.concurrent.ForkJoinTask.doExec(ForkJoinTask.java:289)
	at java.util.concurrent.ForkJoinTask.doInvoke(ForkJoinTask.java:401)
	at java.util.concurrent.ForkJoinTask.invoke(ForkJoinTask.java:734)
	at java.util.stream.ForEachOps$ForEachOp.evaluateParallel(ForEachOps.java:160)
	at java.util.stream.ForEachOps$ForEachOp$OfRef.evaluateParallel(ForEachOps.java:174)
	at java.util.stream.AbstractPipeline.evaluate(AbstractPipeline.java:233)
	at java.util.stream.ReferencePipeline.forEach(ReferencePipeline.java:418)
	at java.util.stream.ReferencePipeline$Head.forEach(ReferencePipeline.java:583)
	at org.apache.hadoop.hdds.scm.pipeline.RatisPipelineProvider.lambda$callRatisRpc$6(RatisPipelineProvider.java:225)
	at java.util.concurrent.ForkJoinTask$AdaptedRunnableAction.exec(ForkJoinTask.java:1386)
	at java.util.concurrent.ForkJoinTask.doExec(ForkJoinTask.java:289)
	at java.util.concurrent.ForkJoinPool$WorkQueue.runTask(ForkJoinPool.java:1056)
	at java.util.concurrent.ForkJoinPool.runWorker(ForkJoinPool.java:1692)
	at java.util.concurrent.ForkJoinWorkerThread.run(ForkJoinWorkerThread.java:157)
Caused by: org.apache.ratis.thirdparty.io.grpc.StatusRuntimeException: DEADLINE_EXCEEDED: deadline exceeded after 2999571470ns
	at org.apache.ratis.thirdparty.io.grpc.stub.ClientCalls.toStatusRuntimeException(ClientCalls.java:233)
	at org.apache.ratis.thirdparty.io.grpc.stub.ClientCalls.getUnchecked(ClientCalls.java:214)
	at org.apache.ratis.thirdparty.io.grpc.stub.ClientCalls.blockingUnaryCall(ClientCalls.java:139)
	at org.apache.ratis.proto.grpc.AdminProtocolServiceGrpc$AdminProtocolServiceBlockingStub.groupManagement(AdminProtocolServiceGrpc.java:274)
	at org.apache.ratis.grpc.client.GrpcClientProtocolClient.lambda$groupAdd$3(GrpcClientProtocolClient.java:140)
	at org.apache.ratis.grpc.client.GrpcClientProtocolClient.blockingCall(GrpcClientProtocolClient.java:167)
	... 25 more
2019-08-22 22:39:59,259 [IPC Server handler 9 on 34596] WARN  block.BlockManagerImpl (BlockManagerImpl.java:allocateBlock(192)) - Pipeline creation failed for type:RATIS factor:ONE. Retrying get pipelines call once.
java.io.IOException: Failed invoke Ratis rpc org.apache.hadoop.hdds.scm.pipeline.RatisPipelineProvider$$Lambda$172/1180028783@4377520c for 8f59fcec-3de7-4ca1-83cc-1c3fdc9009a8
	at org.apache.hadoop.hdds.scm.pipeline.RatisPipelineProvider.lambda$null$5(RatisPipelineProvider.java:236)
	at java.util.stream.ForEachOps$ForEachOp$OfRef.accept(ForEachOps.java:184)
	at java.util.ArrayList$ArrayListSpliterator.forEachRemaining(ArrayList.java:1382)
	at java.util.stream.AbstractPipeline.copyInto(AbstractPipeline.java:482)
	at java.util.stream.ForEachOps$ForEachTask.compute(ForEachOps.java:291)
	at java.util.concurrent.CountedCompleter.exec(CountedCompleter.java:731)
	at java.util.concurrent.ForkJoinTask.doExec(ForkJoinTask.java:289)
	at java.util.concurrent.ForkJoinTask.doInvoke(ForkJoinTask.java:401)
	at java.util.concurrent.ForkJoinTask.invoke(ForkJoinTask.java:734)
	at java.util.stream.ForEachOps$ForEachOp.evaluateParallel(ForEachOps.java:160)
	at java.util.stream.ForEachOps$ForEachOp$OfRef.evaluateParallel(ForEachOps.java:174)
	at java.util.stream.AbstractPipeline.evaluate(AbstractPipeline.java:233)
	at java.util.stream.ReferencePipeline.forEach(ReferencePipeline.java:418)
	at java.util.stream.ReferencePipeline$Head.forEach(ReferencePipeline.java:583)
	at org.apache.hadoop.hdds.scm.pipeline.RatisPipelineProvider.lambda$callRatisRpc$6(RatisPipelineProvider.java:225)
	at java.util.concurrent.ForkJoinTask$AdaptedRunnableAction.exec(ForkJoinTask.java:1386)
	at java.util.concurrent.ForkJoinTask.doExec(ForkJoinTask.java:289)
	at java.util.concurrent.ForkJoinPool$WorkQueue.runTask(ForkJoinPool.java:1056)
	at java.util.concurrent.ForkJoinPool.runWorker(ForkJoinPool.java:1692)
	at java.util.concurrent.ForkJoinWorkerThread.run(ForkJoinWorkerThread.java:157)
Caused by: org.apache.ratis.protocol.TimeoutIOException: deadline exceeded after 2999571470ns
	at org.apache.ratis.grpc.GrpcUtil.tryUnwrapException(GrpcUtil.java:82)
	at org.apache.ratis.grpc.GrpcUtil.unwrapException(GrpcUtil.java:75)
	at org.apache.ratis.grpc.client.GrpcClientProtocolClient.blockingCall(GrpcClientProtocolClient.java:169)
	at org.apache.ratis.grpc.client.GrpcClientProtocolClient.groupAdd(GrpcClientProtocolClient.java:138)
	at org.apache.ratis.grpc.client.GrpcClientRpc.sendRequest(GrpcClientRpc.java:94)
	at org.apache.ratis.client.impl.RaftClientImpl.sendRequest(RaftClientImpl.java:279)
	at org.apache.ratis.client.impl.RaftClientImpl.groupAdd(RaftClientImpl.java:206)
	at org.apache.hadoop.hdds.scm.pipeline.RatisPipelineProvider.lambda$initializePipeline$4(RatisPipelineProvider.java:194)
	at org.apache.hadoop.hdds.scm.pipeline.RatisPipelineProvider.lambda$null$5(RatisPipelineProvider.java:231)
	... 19 more
Caused by: org.apache.ratis.thirdparty.io.grpc.StatusRuntimeException: DEADLINE_EXCEEDED: deadline exceeded after 2999571470ns
	at org.apache.ratis.thirdparty.io.grpc.stub.ClientCalls.toStatusRuntimeException(ClientCalls.java:233)
	at org.apache.ratis.thirdparty.io.grpc.stub.ClientCalls.getUnchecked(ClientCalls.java:214)
	at org.apache.ratis.thirdparty.io.grpc.stub.ClientCalls.blockingUnaryCall(ClientCalls.java:139)
	at org.apache.ratis.proto.grpc.AdminProtocolServiceGrpc$AdminProtocolServiceBlockingStub.groupManagement(AdminProtocolServiceGrpc.java:274)
	at org.apache.ratis.grpc.client.GrpcClientProtocolClient.lambda$groupAdd$3(GrpcClientProtocolClient.java:140)
	at org.apache.ratis.grpc.client.GrpcClientProtocolClient.blockingCall(GrpcClientProtocolClient.java:167)
	... 25 more
2019-08-22 22:39:59,259 [RatisPipelineUtilsThread] INFO  pipeline.PipelineStateManager (PipelineStateManager.java:removePipeline(108)) - Pipeline Pipeline[ Id: 958be55f-2478-40a0-b15b-d90353cab7ff, Nodes: 8f59fcec-3de7-4ca1-83cc-1c3fdc9009a8{ip: 192.168.36.125, host: pr-hdds-1975-6rfct-3228563268, networkLocation: /default-rack, certSerialId: null}, Type:RATIS, Factor:ONE, State:CLOSED] removed from db
2019-08-22 22:39:59,262 [IPC Server handler 9 on 34596] INFO  block.BlockManagerImpl (BlockManagerImpl.java:allocateBlock(198)) - Could not find available pipeline of type:RATIS and factor:ONE even after retrying
2019-08-22 22:39:59,262 [IPC Server handler 9 on 34596] ERROR block.BlockManagerImpl (BlockManagerImpl.java:allocateBlock(222)) - Unable to allocate a block for the size: 4194304, type: RATIS, factor: ONE
2019-08-22 22:39:59,262 | INFO  | SCMAudit | user=jenkins1000 | ip=192.168.36.125 | op=ALLOCATE_BLOCK {owner=088bfb83-49b8-4493-b777-1791b5c1ac58, size=4194304, type=RATIS, factor=ONE} | ret=SUCCESS |  
2019-08-22 22:39:59,267 | ERROR | OMAudit | user=jenkins1000 | ip=127.0.0.1 | op=ALLOCATE_BLOCK {volume=testcontainerstatemachinefailures, bucket=testcontainerstatemachinefailures, key=ratis, dataSize=0, replicationType=null, replicationFactor=null, keyLocationInfo=null, clientID=102663033832734723} | ret=FAILURE | org.apache.hadoop.hdds.scm.exceptions.SCMException: Allocated 0 blocks. Requested 1 blocks
	at org.apache.hadoop.hdds.scm.protocolPB.ScmBlockLocationProtocolClientSideTranslatorPB.handleError(ScmBlockLocationProtocolClientSideTranslatorPB.java:118)
	at org.apache.hadoop.hdds.scm.protocolPB.ScmBlockLocationProtocolClientSideTranslatorPB.allocateBlock(ScmBlockLocationProtocolClientSideTranslatorPB.java:156) 
2019-08-22 22:39:59,272 [main] ERROR io.BlockOutputStreamEntryPool (BlockOutputStreamEntryPool.java:allocateBlockIfNeeded(299)) - Try to allocate more blocks for write failed, already allocated 0 blocks for this write.
INTERNAL_ERROR org.apache.hadoop.ozone.om.exceptions.OMException: Allocated 0 blocks. Requested 1 blocks
	at org.apache.hadoop.ozone.om.protocolPB.OzoneManagerProtocolClientSideTranslatorPB.handleError(OzoneManagerProtocolClientSideTranslatorPB.java:725)
	at org.apache.hadoop.ozone.om.protocolPB.OzoneManagerProtocolClientSideTranslatorPB.allocateBlock(OzoneManagerProtocolClientSideTranslatorPB.java:757)
	at org.apache.hadoop.ozone.client.io.BlockOutputStreamEntryPool.allocateNewBlock(BlockOutputStreamEntryPool.java:248)
	at org.apache.hadoop.ozone.client.io.BlockOutputStreamEntryPool.allocateBlockIfNeeded(BlockOutputStreamEntryPool.java:296)
	at org.apache.hadoop.ozone.client.io.KeyOutputStream.handleWrite(KeyOutputStream.java:201)
	at org.apache.hadoop.ozone.client.io.KeyOutputStream.handleRetry(KeyOutputStream.java:376)
	at org.apache.hadoop.ozone.client.io.KeyOutputStream.handleException(KeyOutputStream.java:325)
	at org.apache.hadoop.ozone.client.io.KeyOutputStream.handleFlushOrClose(KeyOutputStream.java:448)
	at org.apache.hadoop.ozone.client.io.KeyOutputStream.close(KeyOutputStream.java:472)
	at org.apache.hadoop.ozone.client.io.OzoneOutputStream.close(OzoneOutputStream.java:60)
	at org.apache.hadoop.ozone.client.rpc.TestContainerStateMachineFailures.testUnhealthyContainer(TestContainerStateMachineFailures.java:228)
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.lang.reflect.Method.invoke(Method.java:498)
	at org.junit.runners.model.FrameworkMethod$1.runReflectiveCall(FrameworkMethod.java:47)
	at org.junit.internal.runners.model.ReflectiveCallable.run(ReflectiveCallable.java:12)
	at org.junit.runners.model.FrameworkMethod.invokeExplosively(FrameworkMethod.java:44)
	at org.junit.internal.runners.statements.InvokeMethod.evaluate(InvokeMethod.java:17)
	at org.junit.runners.ParentRunner.runLeaf(ParentRunner.java:271)
	at org.junit.runners.BlockJUnit4ClassRunner.runChild(BlockJUnit4ClassRunner.java:70)
	at org.junit.runners.BlockJUnit4ClassRunner.runChild(BlockJUnit4ClassRunner.java:50)
	at org.junit.runners.ParentRunner$3.run(ParentRunner.java:238)
	at org.junit.runners.ParentRunner$1.schedule(ParentRunner.java:63)
	at org.junit.runners.ParentRunner.runChildren(ParentRunner.java:236)
	at org.junit.runners.ParentRunner.access$000(ParentRunner.java:53)
	at org.junit.runners.ParentRunner$2.evaluate(ParentRunner.java:229)
	at org.junit.internal.runners.statements.RunBefores.evaluate(RunBefores.java:26)
	at org.junit.internal.runners.statements.RunAfters.evaluate(RunAfters.java:27)
	at org.junit.runners.ParentRunner.run(ParentRunner.java:309)
	at org.apache.maven.surefire.junit4.JUnit4Provider.execute(JUnit4Provider.java:365)
	at org.apache.maven.surefire.junit4.JUnit4Provider.executeWithRerun(JUnit4Provider.java:273)
	at org.apache.maven.surefire.junit4.JUnit4Provider.executeTestSet(JUnit4Provider.java:238)
	at org.apache.maven.surefire.junit4.JUnit4Provider.invoke(JUnit4Provider.java:159)
	at org.apache.maven.surefire.booter.ForkedBooter.invokeProviderInSameClassLoader(ForkedBooter.java:384)
	at org.apache.maven.surefire.booter.ForkedBooter.runSuitesInProcess(ForkedBooter.java:345)
	at org.apache.maven.surefire.booter.ForkedBooter.execute(ForkedBooter.java:126)
	at org.apache.maven.surefire.booter.ForkedBooter.main(ForkedBooter.java:418)
2019-08-22 22:39:59,272 [grpc-default-executor-2] INFO  impl.RaftServerProxy (RaftServerProxy.java:remove(95)) - 8f59fcec-3de7-4ca1-83cc-1c3fdc9009a8: remove group-D90353CAB7FF:null
2019-08-22 22:39:59,284 [main] INFO  datanode.ObjectStoreHandler (ObjectStoreHandler.java:close(155)) - Closing ObjectStoreHandler.
2019-08-22 22:39:59,285 [RatisPipelineUtilsThread] WARN  pipeline.RatisPipelineUtils (RatisPipelineUtils.java:destroyPipeline(66)) - Pipeline destroy failed for pipeline=PipelineID=958be55f-2478-40a0-b15b-d90353cab7ff dn=8f59fcec-3de7-4ca1-83cc-1c3fdc9009a8{ip: 192.168.36.125, host: pr-hdds-1975-6rfct-3228563268, networkLocation: /default-rack, certSerialId: null}
2019-08-22 22:39:59,287 [main] INFO  ozone.HddsDatanodeService (HddsDatanodeService.java:stop(451)) - Stopped plug-in org.apache.hadoop.ozone.web.OzoneHddsDatanodeService@7ea42c82
2019-08-22 22:39:59,287 [RatisPipelineUtilsThread] ERROR pipeline.SCMPipelineManager (Scheduler.java:lambda$schedule$1(70)) - Destroy pipeline failed for pipeline:Pipeline[ Id: 958be55f-2478-40a0-b15b-d90353cab7ff, Nodes: 8f59fcec-3de7-4ca1-83cc-1c3fdc9009a8{ip: 192.168.36.125, host: pr-hdds-1975-6rfct-3228563268, networkLocation: /default-rack, certSerialId: null}, Type:RATIS, Factor:ONE, State:CLOSED]
org.apache.hadoop.hdds.scm.pipeline.PipelineNotFoundException: PipelineID=958be55f-2478-40a0-b15b-d90353cab7ff not found
	at org.apache.hadoop.hdds.scm.pipeline.PipelineStateMap.getPipeline(PipelineStateMap.java:132)
	at org.apache.hadoop.hdds.scm.pipeline.PipelineStateMap.removePipeline(PipelineStateMap.java:322)
	at org.apache.hadoop.hdds.scm.pipeline.PipelineStateManager.removePipeline(PipelineStateManager.java:107)
	at org.apache.hadoop.hdds.scm.pipeline.SCMPipelineManager.removePipeline(SCMPipelineManager.java:397)
	at org.apache.hadoop.hdds.scm.pipeline.SCMPipelineManager.destroyPipeline(SCMPipelineManager.java:383)
	at org.apache.hadoop.hdds.scm.pipeline.SCMPipelineManager.lambda$finalizeAndDestroyPipeline$0(SCMPipelineManager.java:316)
	at org.apache.hadoop.utils.Scheduler.lambda$schedule$1(Scheduler.java:68)
	at java.util.concurrent.Executors$RunnableAdapter.call(Executors.java:511)
	at java.util.concurrent.FutureTask.run(FutureTask.java:266)
	at java.util.concurrent.ScheduledThreadPoolExecutor$ScheduledFutureTask.access$201(ScheduledThreadPoolExecutor.java:180)
	at java.util.concurrent.ScheduledThreadPoolExecutor$ScheduledFutureTask.run(ScheduledThreadPoolExecutor.java:293)
	at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1149)
	at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:624)
	at java.lang.Thread.run(Thread.java:748)
2019-08-22 22:39:59,297 [grpc-default-executor-2] INFO  impl.RaftServerProxy (RaftServerProxy.java:addNew(89)) - 8f59fcec-3de7-4ca1-83cc-1c3fdc9009a8: addNew group-765E214D7C1B:[8f59fcec-3de7-4ca1-83cc-1c3fdc9009a8:192.168.36.125:43977] returns group-765E214D7C1B:java.util.concurrent.CompletableFuture@3df91151[Not completed]
2019-08-22 22:39:59,401 [Datanode State Machine Thread - 0] INFO  statemachine.DatanodeStateMachine (DatanodeStateMachine.java:lambda$startDaemon$0(350)) - Ozone container server started.
2019-08-22 22:39:59,947 [pool-42-thread-1] INFO  storage.RaftStorageDirectory (RaftStorageDirectory.java:tryLock(328)) - Lock on /workdir/hadoop-ozone/integration-test/target/test-dir/MiniOzoneClusterImpl-f0450dcd-a238-40b4-8f72-c6c0c5421345/datanode-0/data/ratis/7a1afc87-1d10-44ae-970a-d8f2a2e5a2b3/in_use.lock acquired by nodename 26847@pr-hdds-1975-6rfct-3228563268
2019-08-22 22:39:59,947 [StateMachineUpdater:8f59fcec-3de7-4ca1-83cc-1c3fdc9009a8:group-D90353CAB7FF] INFO  ratis.ContainerStateMachine (ContainerStateMachine.java:takeSnapshot(294)) - group-D90353CAB7FF: Finished taking a snapshot at:(t:1, i:3) file:/workdir/hadoop-ozone/integration-test/target/test-dir/MiniOzoneClusterImpl-f0450dcd-a238-40b4-8f72-c6c0c5421345/datanode-0/data/ratis/958be55f-2478-40a0-b15b-d90353cab7ff/sm/snapshot.1_3 time:5719
2019-08-22 22:39:59,947 [StateMachineUpdater:8f59fcec-3de7-4ca1-83cc-1c3fdc9009a8:group-D90353CAB7FF] INFO  impl.StateMachineUpdater (StateMachineUpdater.java:takeSnapshot(242)) - StateMachineUpdater:8f59fcec-3de7-4ca1-83cc-1c3fdc9009a8:group-D90353CAB7FF: Took a snapshot at index 3
2019-08-22 22:39:59,948 [StateMachineUpdater:8f59fcec-3de7-4ca1-83cc-1c3fdc9009a8:group-D90353CAB7FF] INFO  impl.StateMachineUpdater (StateMachineUpdater.java:lambda$new$0(80)) - StateMachineUpdater:8f59fcec-3de7-4ca1-83cc-1c3fdc9009a8:group-D90353CAB7FF: snapshotIndex: updateIncreasingly 3 -> 3
2019-08-22 22:39:59,948 [grpc-default-executor-1] INFO  impl.RaftServerImpl (ServerState.java:close(394)) - 8f59fcec-3de7-4ca1-83cc-1c3fdc9009a8:group-D90353CAB7FF closes. The last applied log index is 4
2019-08-22 22:39:59,951 [8f59fcec-3de7-4ca1-83cc-1c3fdc9009a8-SegmentedRaftLogWorker:Storage Directory /workdir/hadoop-ozone/integration-test/target/test-dir/MiniOzoneClusterImpl-f0450dcd-a238-40b4-8f72-c6c0c5421345/datanode-0/data/ratis/958be55f-2478-40a0-b15b-d90353cab7ff] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:run(313)) - 8f59fcec-3de7-4ca1-83cc-1c3fdc9009a8-SegmentedRaftLogWorker:Storage Directory /workdir/hadoop-ozone/integration-test/target/test-dir/MiniOzoneClusterImpl-f0450dcd-a238-40b4-8f72-c6c0c5421345/datanode-0/data/ratis/958be55f-2478-40a0-b15b-d90353cab7ff was interrupted, exiting. There are 0 tasks remaining in the queue.
2019-08-22 22:39:59,952 [grpc-default-executor-1] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:close(228)) - 8f59fcec-3de7-4ca1-83cc-1c3fdc9009a8-SegmentedRaftLogWorker:Storage Directory /workdir/hadoop-ozone/integration-test/target/test-dir/MiniOzoneClusterImpl-f0450dcd-a238-40b4-8f72-c6c0c5421345/datanode-0/data/ratis/958be55f-2478-40a0-b15b-d90353cab7ff close()
2019-08-22 22:40:00,030 [pool-42-thread-1] INFO  storage.RaftStorage (RaftStorage.java:format(72)) - Storage directory /workdir/hadoop-ozone/integration-test/target/test-dir/MiniOzoneClusterImpl-f0450dcd-a238-40b4-8f72-c6c0c5421345/datanode-0/data/ratis/7a1afc87-1d10-44ae-970a-d8f2a2e5a2b3 has been successfully formatted.
2019-08-22 22:40:00,031 [pool-42-thread-1] INFO  ratis.ContainerStateMachine (ContainerStateMachine.java:loadSnapshot(226)) - group-D8F2A2E5A2B3: The snapshot info is null. Setting the last applied indexto:(t:0, i:~)
2019-08-22 22:40:00,031 [pool-42-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.leader.election.timeout = 120s (custom)
2019-08-22 22:40:00,032 [pool-42-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.log.use.memory = false (default)
2019-08-22 22:40:00,032 [pool-42-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.log.purge.gap = 1000000 (custom)
2019-08-22 22:40:00,032 [pool-42-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.log.appender.buffer.byte-limit = 33554432 (custom)
2019-08-22 22:40:00,032 [pool-42-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.log.segment.size.max = 1048576 (custom)
2019-08-22 22:40:00,033 [pool-42-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.log.segment.cache.num.max = 2 (custom)
2019-08-22 22:40:00,033 [pool-42-thread-1] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:<init>(172)) - new 8f59fcec-3de7-4ca1-83cc-1c3fdc9009a8-SegmentedRaftLogWorker:Storage Directory /workdir/hadoop-ozone/integration-test/target/test-dir/MiniOzoneClusterImpl-f0450dcd-a238-40b4-8f72-c6c0c5421345/datanode-0/data/ratis/7a1afc87-1d10-44ae-970a-d8f2a2e5a2b3 for RaftStorage:Storage Directory /workdir/hadoop-ozone/integration-test/target/test-dir/MiniOzoneClusterImpl-f0450dcd-a238-40b4-8f72-c6c0c5421345/datanode-0/data/ratis/7a1afc87-1d10-44ae-970a-d8f2a2e5a2b3
2019-08-22 22:40:00,033 [pool-42-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.log.queue.byte-limit = 2147483647 (custom)
2019-08-22 22:40:00,034 [pool-42-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.log.queue.element-limit = 1024 (custom)
2019-08-22 22:40:00,034 [pool-42-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.log.segment.size.max = 1048576 (custom)
2019-08-22 22:40:00,034 [pool-42-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.log.preallocated.size = 16384 (custom)
2019-08-22 22:40:00,034 [pool-42-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.log.write.buffer.size = 33554432 (custom)
2019-08-22 22:40:00,034 [pool-42-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.log.force.sync.num = 128 (default)
2019-08-22 22:40:00,035 [pool-42-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.log.statemachine.data.sync = true (default)
2019-08-22 22:40:00,035 [pool-42-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.log.statemachine.data.sync.timeout = 10s (default)
2019-08-22 22:40:00,035 [pool-42-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.log.statemachine.data.sync.timeout.retry = -1 (default)
2019-08-22 22:40:00,036 [pool-42-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.log.statemachine.data.caching.enabled = true (custom)
2019-08-22 22:40:00,036 [pool-42-thread-1] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:lambda$new$0(132)) - 8f59fcec-3de7-4ca1-83cc-1c3fdc9009a8-SegmentedRaftLogWorker:Storage Directory /workdir/hadoop-ozone/integration-test/target/test-dir/MiniOzoneClusterImpl-f0450dcd-a238-40b4-8f72-c6c0c5421345/datanode-0/data/ratis/7a1afc87-1d10-44ae-970a-d8f2a2e5a2b3: flushIndex: setUnconditionally 0 -> -1
2019-08-22 22:40:00,037 [pool-42-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.snapshot.auto.trigger.enabled = true (custom)
2019-08-22 22:40:00,037 [pool-42-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.snapshot.auto.trigger.threshold = 1 (custom)
2019-08-22 22:40:00,037 [pool-42-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.retrycache.expirytime = 600000ms (custom)
2019-08-22 22:40:00,041 [pool-42-thread-1] INFO  impl.RaftServerImpl (RaftServerImpl.java:<init>(93)) - 8f59fcec-3de7-4ca1-83cc-1c3fdc9009a8: new RaftServerImpl for group-765E214D7C1B:[8f59fcec-3de7-4ca1-83cc-1c3fdc9009a8:192.168.36.125:43977] with ContainerStateMachine:uninitialized
2019-08-22 22:40:00,041 [pool-42-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.rpc.timeout.min = 5s (custom)
2019-08-22 22:40:00,041 [pool-42-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.rpc.timeout.max = 5200ms (custom)
2019-08-22 22:40:00,041 [pool-42-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.rpcslowness.timeout = 120s (custom)
2019-08-22 22:40:00,041 [pool-42-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.sleep.deviation.threshold = 300 (default)
2019-08-22 22:40:00,042 [pool-42-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.log.appender.install.snapshot.enabled = false (custom)
2019-08-22 22:40:00,042 [pool-42-thread-1] INFO  impl.RaftServerImpl (ServerState.java:<init>(105)) - 8f59fcec-3de7-4ca1-83cc-1c3fdc9009a8:group-765E214D7C1B ConfigurationManager, init=-1: [8f59fcec-3de7-4ca1-83cc-1c3fdc9009a8:192.168.36.125:43977], old=null, confs=<EMPTY_MAP>
2019-08-22 22:40:00,042 [pool-42-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.storage.dir = [/workdir/hadoop-ozone/integration-test/target/test-dir/MiniOzoneClusterImpl-f0450dcd-a238-40b4-8f72-c6c0c5421345/datanode-0/data/ratis] (custom)
2019-08-22 22:40:00,043 [pool-42-thread-1] INFO  storage.RaftStorageDirectory (RaftStorageDirectory.java:analyzeStorage(246)) - The storage directory /workdir/hadoop-ozone/integration-test/target/test-dir/MiniOzoneClusterImpl-f0450dcd-a238-40b4-8f72-c6c0c5421345/datanode-0/data/ratis/bcf7039b-521c-4607-93bc-765e214d7c1b does not exist. Creating ...
2019-08-22 22:40:00,064 [pool-42-thread-1] INFO  storage.RaftStorageDirectory (RaftStorageDirectory.java:tryLock(328)) - Lock on /workdir/hadoop-ozone/integration-test/target/test-dir/MiniOzoneClusterImpl-f0450dcd-a238-40b4-8f72-c6c0c5421345/datanode-0/data/ratis/bcf7039b-521c-4607-93bc-765e214d7c1b/in_use.lock acquired by nodename 26847@pr-hdds-1975-6rfct-3228563268
2019-08-22 22:40:00,096 [pool-42-thread-1] INFO  storage.RaftStorage (RaftStorage.java:format(72)) - Storage directory /workdir/hadoop-ozone/integration-test/target/test-dir/MiniOzoneClusterImpl-f0450dcd-a238-40b4-8f72-c6c0c5421345/datanode-0/data/ratis/bcf7039b-521c-4607-93bc-765e214d7c1b has been successfully formatted.
2019-08-22 22:40:00,096 [pool-42-thread-1] INFO  ratis.ContainerStateMachine (ContainerStateMachine.java:loadSnapshot(226)) - group-765E214D7C1B: The snapshot info is null. Setting the last applied indexto:(t:0, i:~)
2019-08-22 22:40:00,096 [pool-42-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.leader.election.timeout = 120s (custom)
2019-08-22 22:40:00,097 [pool-42-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.log.use.memory = false (default)
2019-08-22 22:40:00,097 [pool-42-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.log.purge.gap = 1000000 (custom)
2019-08-22 22:40:00,097 [pool-42-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.log.appender.buffer.byte-limit = 33554432 (custom)
2019-08-22 22:40:00,097 [pool-42-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.log.segment.size.max = 1048576 (custom)
2019-08-22 22:40:00,097 [pool-42-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.log.segment.cache.num.max = 2 (custom)
2019-08-22 22:40:00,098 [pool-42-thread-1] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:<init>(172)) - new 8f59fcec-3de7-4ca1-83cc-1c3fdc9009a8-SegmentedRaftLogWorker:Storage Directory /workdir/hadoop-ozone/integration-test/target/test-dir/MiniOzoneClusterImpl-f0450dcd-a238-40b4-8f72-c6c0c5421345/datanode-0/data/ratis/bcf7039b-521c-4607-93bc-765e214d7c1b for RaftStorage:Storage Directory /workdir/hadoop-ozone/integration-test/target/test-dir/MiniOzoneClusterImpl-f0450dcd-a238-40b4-8f72-c6c0c5421345/datanode-0/data/ratis/bcf7039b-521c-4607-93bc-765e214d7c1b
2019-08-22 22:40:00,098 [pool-42-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.log.queue.byte-limit = 2147483647 (custom)
2019-08-22 22:40:00,098 [pool-42-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.log.queue.element-limit = 1024 (custom)
2019-08-22 22:40:00,098 [pool-42-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.log.segment.size.max = 1048576 (custom)
2019-08-22 22:40:00,099 [pool-42-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.log.preallocated.size = 16384 (custom)
2019-08-22 22:40:00,099 [pool-42-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.log.write.buffer.size = 33554432 (custom)
2019-08-22 22:40:00,099 [pool-42-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.log.force.sync.num = 128 (default)
2019-08-22 22:40:00,099 [pool-42-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.log.statemachine.data.sync = true (default)
2019-08-22 22:40:00,099 [pool-42-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.log.statemachine.data.sync.timeout = 10s (default)
2019-08-22 22:40:00,100 [pool-42-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.log.statemachine.data.sync.timeout.retry = -1 (default)
2019-08-22 22:40:00,100 [pool-42-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.log.statemachine.data.caching.enabled = true (custom)
2019-08-22 22:40:00,100 [pool-42-thread-1] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:lambda$new$0(132)) - 8f59fcec-3de7-4ca1-83cc-1c3fdc9009a8-SegmentedRaftLogWorker:Storage Directory /workdir/hadoop-ozone/integration-test/target/test-dir/MiniOzoneClusterImpl-f0450dcd-a238-40b4-8f72-c6c0c5421345/datanode-0/data/ratis/bcf7039b-521c-4607-93bc-765e214d7c1b: flushIndex: setUnconditionally 0 -> -1
2019-08-22 22:40:00,101 [pool-42-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.snapshot.auto.trigger.enabled = true (custom)
2019-08-22 22:40:00,101 [pool-42-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.snapshot.auto.trigger.threshold = 1 (custom)
2019-08-22 22:40:00,101 [pool-42-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.retrycache.expirytime = 600000ms (custom)
2019-08-22 22:40:00,101 [pool-42-thread-1] INFO  impl.RaftServerImpl (RaftServerImpl.java:start(180)) - 8f59fcec-3de7-4ca1-83cc-1c3fdc9009a8: start group-D8F2A2E5A2B3
2019-08-22 22:40:00,102 [pool-42-thread-1] INFO  impl.RaftServerImpl (RaftServerImpl.java:setRole(171)) - 8f59fcec-3de7-4ca1-83cc-1c3fdc9009a8:group-D8F2A2E5A2B3 changes role from null to FOLLOWER at term 0 for startAsFollower
2019-08-22 22:40:00,102 [pool-42-thread-1] INFO  impl.RoleInfo (RoleInfo.java:updateAndGet(143)) - 8f59fcec-3de7-4ca1-83cc-1c3fdc9009a8: start FollowerState
2019-08-22 22:40:00,103 [pool-42-thread-1] INFO  util.JmxRegister (JmxRegister.java:tryRegister(44)) - Successfully registered JMX Bean with object name Ratis:service=RaftServer,group=group-D8F2A2E5A2B3,id=8f59fcec-3de7-4ca1-83cc-1c3fdc9009a8
2019-08-22 22:40:00,103 [pool-42-thread-1] INFO  impl.RaftServerImpl (RaftServerImpl.java:start(180)) - 8f59fcec-3de7-4ca1-83cc-1c3fdc9009a8: start group-765E214D7C1B
2019-08-22 22:40:00,103 [pool-42-thread-1] INFO  impl.RaftServerImpl (RaftServerImpl.java:setRole(171)) - 8f59fcec-3de7-4ca1-83cc-1c3fdc9009a8:group-765E214D7C1B changes role from null to FOLLOWER at term 0 for startAsFollower
2019-08-22 22:40:00,105 [pool-42-thread-1] INFO  impl.RoleInfo (RoleInfo.java:updateAndGet(143)) - 8f59fcec-3de7-4ca1-83cc-1c3fdc9009a8: start FollowerState
2019-08-22 22:40:00,105 [pool-42-thread-1] INFO  util.JmxRegister (JmxRegister.java:tryRegister(44)) - Successfully registered JMX Bean with object name Ratis:service=RaftServer,group=group-765E214D7C1B,id=8f59fcec-3de7-4ca1-83cc-1c3fdc9009a8
2019-08-22 22:40:00,113 [RatisPipelineUtilsThread] INFO  pipeline.PipelineStateManager (PipelineStateManager.java:addPipeline(56)) - Created pipeline Pipeline[ Id: bcf7039b-521c-4607-93bc-765e214d7c1b, Nodes: 8f59fcec-3de7-4ca1-83cc-1c3fdc9009a8{ip: 192.168.36.125, host: pr-hdds-1975-6rfct-3228563268, networkLocation: /default-rack, certSerialId: null}, Type:RATIS, Factor:ONE, State:OPEN]
2019-08-22 22:40:02,294 [EventQueue-StaleNodeForStaleNodeHandler] INFO  node.StaleNodeHandler (StaleNodeHandler.java:onMessage(58)) - Datanode 8f59fcec-3de7-4ca1-83cc-1c3fdc9009a8{ip: 192.168.36.125, host: pr-hdds-1975-6rfct-3228563268, networkLocation: /default-rack, certSerialId: null} moved to stale state. Finalizing its pipelines [PipelineID=bcf7039b-521c-4607-93bc-765e214d7c1b]
2019-08-22 22:40:02,295 [EventQueue-StaleNodeForStaleNodeHandler] INFO  pipeline.SCMPipelineManager (SCMPipelineManager.java:finalizeAndDestroyPipeline(309)) - destroying pipeline:Pipeline[ Id: bcf7039b-521c-4607-93bc-765e214d7c1b, Nodes: 8f59fcec-3de7-4ca1-83cc-1c3fdc9009a8{ip: 192.168.36.125, host: pr-hdds-1975-6rfct-3228563268, networkLocation: /default-rack, certSerialId: null}, Type:RATIS, Factor:ONE, State:OPEN]
2019-08-22 22:40:02,295 [EventQueue-StaleNodeForStaleNodeHandler] INFO  pipeline.PipelineStateManager (PipelineStateManager.java:finalizePipeline(123)) - Pipeline Pipeline[ Id: bcf7039b-521c-4607-93bc-765e214d7c1b, Nodes: 8f59fcec-3de7-4ca1-83cc-1c3fdc9009a8{ip: 192.168.36.125, host: pr-hdds-1975-6rfct-3228563268, networkLocation: /default-rack, certSerialId: null}, Type:RATIS, Factor:ONE, State:CLOSED] moved to CLOSED state
2019-08-22 22:40:04,289 [main] INFO  ozoneimpl.OzoneContainer (OzoneContainer.java:stop(199)) - Attempting to stop container services.
2019-08-22 22:40:04,290 [main] INFO  impl.RaftServerProxy (RaftServerProxy.java:lambda$close$4(314)) - 8f59fcec-3de7-4ca1-83cc-1c3fdc9009a8: close
2019-08-22 22:40:04,291 [main] INFO  impl.RaftServerImpl (RaftServerImpl.java:lambda$shutdown$3(245)) - 8f59fcec-3de7-4ca1-83cc-1c3fdc9009a8: shutdown group-765E214D7C1B
2019-08-22 22:40:04,291 [ForkJoinPool.commonPool-worker-1] INFO  impl.RaftServerImpl (RaftServerImpl.java:lambda$shutdown$3(245)) - 8f59fcec-3de7-4ca1-83cc-1c3fdc9009a8: shutdown group-D8F2A2E5A2B3
2019-08-22 22:40:04,291 [main] INFO  util.JmxRegister (JmxRegister.java:unregister(73)) - Successfully un-registered JMX Bean with object name Ratis:service=RaftServer,group=group-765E214D7C1B,id=8f59fcec-3de7-4ca1-83cc-1c3fdc9009a8
2019-08-22 22:40:04,292 [ForkJoinPool.commonPool-worker-1] INFO  util.JmxRegister (JmxRegister.java:unregister(73)) - Successfully un-registered JMX Bean with object name Ratis:service=RaftServer,group=group-D8F2A2E5A2B3,id=8f59fcec-3de7-4ca1-83cc-1c3fdc9009a8
2019-08-22 22:40:04,292 [main] INFO  impl.RoleInfo (RoleInfo.java:shutdownFollowerState(121)) - 8f59fcec-3de7-4ca1-83cc-1c3fdc9009a8: shutdown FollowerState
2019-08-22 22:40:04,292 [ForkJoinPool.commonPool-worker-1] INFO  impl.RoleInfo (RoleInfo.java:shutdownFollowerState(121)) - 8f59fcec-3de7-4ca1-83cc-1c3fdc9009a8: shutdown FollowerState
2019-08-22 22:40:04,293 [main] INFO  impl.StateMachineUpdater (StateMachineUpdater.java:stopAndJoin(115)) - StateMachineUpdater:8f59fcec-3de7-4ca1-83cc-1c3fdc9009a8:group-765E214D7C1B: set stopIndex = -1
2019-08-22 22:40:04,294 [Thread-277] INFO  impl.FollowerState (FollowerState.java:run(114)) - 8f59fcec-3de7-4ca1-83cc-1c3fdc9009a8: FollowerState was interrupted: java.lang.InterruptedException: sleep interrupted
2019-08-22 22:40:04,294 [Thread-279] INFO  impl.FollowerState (FollowerState.java:run(114)) - 8f59fcec-3de7-4ca1-83cc-1c3fdc9009a8: FollowerState was interrupted: java.lang.InterruptedException: sleep interrupted
2019-08-22 22:40:04,293 [ForkJoinPool.commonPool-worker-1] INFO  impl.StateMachineUpdater (StateMachineUpdater.java:stopAndJoin(115)) - StateMachineUpdater:8f59fcec-3de7-4ca1-83cc-1c3fdc9009a8:group-D8F2A2E5A2B3: set stopIndex = -1
2019-08-22 22:40:04,298 [ForkJoinPool.commonPool-worker-1] INFO  impl.RaftServerImpl (ServerState.java:close(394)) - 8f59fcec-3de7-4ca1-83cc-1c3fdc9009a8:group-D8F2A2E5A2B3 closes. The last applied log index is -1
2019-08-22 22:40:04,295 [main] INFO  impl.RaftServerImpl (ServerState.java:close(394)) - 8f59fcec-3de7-4ca1-83cc-1c3fdc9009a8:group-765E214D7C1B closes. The last applied log index is -1
2019-08-22 22:40:04,299 [8f59fcec-3de7-4ca1-83cc-1c3fdc9009a8-SegmentedRaftLogWorker:Storage Directory /workdir/hadoop-ozone/integration-test/target/test-dir/MiniOzoneClusterImpl-f0450dcd-a238-40b4-8f72-c6c0c5421345/datanode-0/data/ratis/7a1afc87-1d10-44ae-970a-d8f2a2e5a2b3] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:run(313)) - 8f59fcec-3de7-4ca1-83cc-1c3fdc9009a8-SegmentedRaftLogWorker:Storage Directory /workdir/hadoop-ozone/integration-test/target/test-dir/MiniOzoneClusterImpl-f0450dcd-a238-40b4-8f72-c6c0c5421345/datanode-0/data/ratis/7a1afc87-1d10-44ae-970a-d8f2a2e5a2b3 was interrupted, exiting. There are 0 tasks remaining in the queue.
2019-08-22 22:40:04,300 [8f59fcec-3de7-4ca1-83cc-1c3fdc9009a8-SegmentedRaftLogWorker:Storage Directory /workdir/hadoop-ozone/integration-test/target/test-dir/MiniOzoneClusterImpl-f0450dcd-a238-40b4-8f72-c6c0c5421345/datanode-0/data/ratis/bcf7039b-521c-4607-93bc-765e214d7c1b] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:run(313)) - 8f59fcec-3de7-4ca1-83cc-1c3fdc9009a8-SegmentedRaftLogWorker:Storage Directory /workdir/hadoop-ozone/integration-test/target/test-dir/MiniOzoneClusterImpl-f0450dcd-a238-40b4-8f72-c6c0c5421345/datanode-0/data/ratis/bcf7039b-521c-4607-93bc-765e214d7c1b was interrupted, exiting. There are 0 tasks remaining in the queue.
2019-08-22 22:40:04,300 [ForkJoinPool.commonPool-worker-1] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:close(228)) - 8f59fcec-3de7-4ca1-83cc-1c3fdc9009a8-SegmentedRaftLogWorker:Storage Directory /workdir/hadoop-ozone/integration-test/target/test-dir/MiniOzoneClusterImpl-f0450dcd-a238-40b4-8f72-c6c0c5421345/datanode-0/data/ratis/7a1afc87-1d10-44ae-970a-d8f2a2e5a2b3 close()
2019-08-22 22:40:04,301 [main] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:close(228)) - 8f59fcec-3de7-4ca1-83cc-1c3fdc9009a8-SegmentedRaftLogWorker:Storage Directory /workdir/hadoop-ozone/integration-test/target/test-dir/MiniOzoneClusterImpl-f0450dcd-a238-40b4-8f72-c6c0c5421345/datanode-0/data/ratis/bcf7039b-521c-4607-93bc-765e214d7c1b close()
2019-08-22 22:40:04,305 [main] INFO  server.GrpcService (GrpcService.java:closeImpl(155)) - 8f59fcec-3de7-4ca1-83cc-1c3fdc9009a8: shutdown server with port 43977 now
2019-08-22 22:40:04,307 [main] INFO  server.GrpcService (GrpcService.java:closeImpl(163)) - 8f59fcec-3de7-4ca1-83cc-1c3fdc9009a8: shutdown server with port 43977 successfully
2019-08-22 22:40:04,309 [main] INFO  utils.BackgroundService (BackgroundService.java:shutdown(148)) - Shutting down service BlockDeletingService
2019-08-22 22:40:04,315 [refreshUsed-/workdir/hadoop-ozone/integration-test/target/test-dir/MiniOzoneClusterImpl-f0450dcd-a238-40b4-8f72-c6c0c5421345/datanode-0/data/containers] WARN  fs.CachingGetSpaceUsed (CachingGetSpaceUsed.java:run(183)) - Thread Interrupted waiting to refresh disk information: sleep interrupted
2019-08-22 22:40:04,342 [main] INFO  statemachine.DatanodeStateMachine (DatanodeStateMachine.java:stopDaemon(395)) - Ozone container server stopped.
2019-08-22 22:40:04,343 [main] INFO  handler.ContextHandler (ContextHandler.java:doStop(910)) - Stopped o.e.j.w.WebAppContext@2a0b901c{/,null,UNAVAILABLE}{/hddsDatanode}
2019-08-22 22:40:04,344 [main] INFO  server.AbstractConnector (AbstractConnector.java:doStop(318)) - Stopped ServerConnector@3d104c9b{HTTP/1.1,[http/1.1]}{0.0.0.0:39400}
2019-08-22 22:40:04,345 [main] INFO  handler.ContextHandler (ContextHandler.java:doStop(910)) - Stopped o.e.j.s.ServletContextHandler@611d0763{/static,jar:file:/home/user/.m2/repository/org/apache/hadoop/hadoop-hdds-container-service/0.5.0-SNAPSHOT/hadoop-hdds-container-service-0.5.0-SNAPSHOT.jar!/webapps/static,UNAVAILABLE}
2019-08-22 22:40:04,345 [main] INFO  handler.ContextHandler (ContextHandler.java:doStop(910)) - Stopped o.e.j.s.ServletContextHandler@3b088163{/logs,file:///workdir/hadoop-ozone/integration-test/target/log,UNAVAILABLE}
2019-08-22 22:40:04,347 [main] INFO  ozone.MiniOzoneClusterImpl (MiniOzoneClusterImpl.java:lambda$waitForClusterToBeReady$0(142)) - Cluster is ready. Got 0 of 0 DN Heartbeats.
2019-08-22 22:40:04,351 [main] INFO  impl.MetricsSystemImpl (MetricsSystemImpl.java:init(158)) - HddsDatanode metrics system started (again)
2019-08-22 22:40:04,356 [main] INFO  ozone.HddsDatanodeService (HddsDatanodeService.java:start(184)) - HddsDatanodeService host:pr-hdds-1975-6rfct-3228563268 ip:192.168.36.125
2019-08-22 22:40:04,360 [main] INFO  volume.VolumeUsage (VolumeUsage.java:loadScmUsed(144)) - Cached ScmUsed found for /workdir/hadoop-ozone/integration-test/target/test-dir/MiniOzoneClusterImpl-f0450dcd-a238-40b4-8f72-c6c0c5421345/datanode-0/data/containers : 4096 
2019-08-22 22:40:04,361 [main] INFO  volume.HddsVolume (HddsVolume.java:<init>(176)) - Creating Volume: /workdir/hadoop-ozone/integration-test/target/test-dir/MiniOzoneClusterImpl-f0450dcd-a238-40b4-8f72-c6c0c5421345/datanode-0/data/containers/hdds of  storage type : DISK and capacity : 1482555576320
2019-08-22 22:40:04,361 [main] INFO  volume.VolumeSet (VolumeSet.java:initializeVolumeSet(170)) - Added Volume : /workdir/hadoop-ozone/integration-test/target/test-dir/MiniOzoneClusterImpl-f0450dcd-a238-40b4-8f72-c6c0c5421345/datanode-0/data/containers/hdds to VolumeSet
2019-08-22 22:40:04,362 [main] INFO  volume.ThrottledAsyncChecker (ThrottledAsyncChecker.java:schedule(140)) - Scheduling a check for org.apache.hadoop.ozone.container.common.volume.HddsVolume@7be94cd6
2019-08-22 22:40:04,362 [main] INFO  volume.HddsVolumeChecker (HddsVolumeChecker.java:checkAllVolumes(203)) - Scheduled health check for volume org.apache.hadoop.ozone.container.common.volume.HddsVolume@7be94cd6
2019-08-22 22:40:04,395 [main] INFO  impl.RaftServerProxy (ConfUtils.java:logGet(43)) - raft.rpc.type = GRPC (default)
2019-08-22 22:40:04,396 [main] INFO  grpc.GrpcFactory (GrpcFactory.java:checkPooledByteBufAllocatorUseCacheForAllThreads(45)) - PERFORMANCE WARNING: useCacheForAllThreads is true that may cause Netty to create a lot garbage objects and, as a result, trigger GC.
	It is recommended to disable useCacheForAllThreads by setting -Dorg.apache.ratis.thirdparty.io.netty.allocator.useCacheForAllThreads=false in command line.
2019-08-22 22:40:04,397 [main] INFO  grpc.GrpcConfigKeys$Server (ConfUtils.java:logGet(43)) - raft.grpc.server.port = 43977 (custom)
2019-08-22 22:40:04,397 [main] INFO  server.GrpcService (ConfUtils.java:logGet(43)) - raft.grpc.message.size.max = 33570816 (custom)
2019-08-22 22:40:04,397 [main] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.log.appender.buffer.byte-limit = 33554432 (custom)
2019-08-22 22:40:04,397 [main] INFO  server.GrpcService (ConfUtils.java:logGet(43)) - raft.grpc.flow.control.window = 1MB (=1048576) (default)
2019-08-22 22:40:04,398 [main] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.rpc.request.timeout = 3000ms (default)
2019-08-22 22:40:04,398 [main] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.storage.dir = [/workdir/hadoop-ozone/integration-test/target/test-dir/MiniOzoneClusterImpl-f0450dcd-a238-40b4-8f72-c6c0c5421345/datanode-0/data/ratis] (custom)
2019-08-22 22:40:04,399 [main] INFO  impl.RaftServerProxy (RaftServerProxy.java:lambda$null$0(191)) - 8f59fcec-3de7-4ca1-83cc-1c3fdc9009a8: found a subdirectory /workdir/hadoop-ozone/integration-test/target/test-dir/MiniOzoneClusterImpl-f0450dcd-a238-40b4-8f72-c6c0c5421345/datanode-0/data/ratis/7a1afc87-1d10-44ae-970a-d8f2a2e5a2b3
2019-08-22 22:40:04,399 [main] INFO  impl.RaftServerProxy (RaftServerProxy.java:addNew(89)) - 8f59fcec-3de7-4ca1-83cc-1c3fdc9009a8: addNew group-D8F2A2E5A2B3:[] returns group-D8F2A2E5A2B3:java.util.concurrent.CompletableFuture@2f09e6b2[Not completed]
2019-08-22 22:40:04,400 [main] INFO  impl.RaftServerProxy (RaftServerProxy.java:lambda$null$0(191)) - 8f59fcec-3de7-4ca1-83cc-1c3fdc9009a8: found a subdirectory /workdir/hadoop-ozone/integration-test/target/test-dir/MiniOzoneClusterImpl-f0450dcd-a238-40b4-8f72-c6c0c5421345/datanode-0/data/ratis/bcf7039b-521c-4607-93bc-765e214d7c1b
2019-08-22 22:40:04,400 [main] INFO  impl.RaftServerProxy (RaftServerProxy.java:addNew(89)) - 8f59fcec-3de7-4ca1-83cc-1c3fdc9009a8: addNew group-765E214D7C1B:[] returns group-765E214D7C1B:java.util.concurrent.CompletableFuture@1bee0085[Not completed]
2019-08-22 22:40:04,408 [main] INFO  replication.SimpleContainerDownloader (SimpleContainerDownloader.java:<init>(72)) - Starting container downloader service to copy containers to replicate.
2019-08-22 22:40:04,410 [pool-54-thread-1] INFO  impl.RaftServerImpl (RaftServerImpl.java:<init>(93)) - 8f59fcec-3de7-4ca1-83cc-1c3fdc9009a8: new RaftServerImpl for group-D8F2A2E5A2B3:[] with ContainerStateMachine:uninitialized
2019-08-22 22:40:04,411 [pool-54-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.rpc.timeout.min = 5s (custom)
2019-08-22 22:40:04,411 [pool-54-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.rpc.timeout.max = 5200ms (custom)
2019-08-22 22:40:04,412 [pool-54-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.rpcslowness.timeout = 120s (custom)
2019-08-22 22:40:04,412 [pool-54-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.sleep.deviation.threshold = 300 (default)
2019-08-22 22:40:04,412 [pool-54-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.log.appender.install.snapshot.enabled = false (custom)
2019-08-22 22:40:04,412 [pool-54-thread-1] INFO  impl.RaftServerImpl (ServerState.java:<init>(105)) - 8f59fcec-3de7-4ca1-83cc-1c3fdc9009a8:group-D8F2A2E5A2B3 ConfigurationManager, init=-1: [], old=null, confs=<EMPTY_MAP>
2019-08-22 22:40:04,412 [pool-54-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.storage.dir = [/workdir/hadoop-ozone/integration-test/target/test-dir/MiniOzoneClusterImpl-f0450dcd-a238-40b4-8f72-c6c0c5421345/datanode-0/data/ratis] (custom)
2019-08-22 22:40:04,413 [main] INFO  hdfs.DFSUtil (DFSUtil.java:httpServerTemplateForNNAndJN(1641)) - Starting Web-server for hddsDatanode at: http://0.0.0.0:39400
2019-08-22 22:40:04,415 [main] INFO  server.AuthenticationFilter (AuthenticationFilter.java:constructSecretProvider(240)) - Unable to initialize FileSignerSecretProvider, falling back to use random secrets.
2019-08-22 22:40:04,416 [main] WARN  http.HttpRequestLog (HttpRequestLog.java:getRequestLog(97)) - Jetty request log can only be enabled using Log4j
2019-08-22 22:40:04,419 [main] INFO  http.HttpServer2 (HttpServer2.java:addGlobalFilter(975)) - Added global filter 'safety' (class=org.apache.hadoop.http.HttpServer2$QuotingInputFilter)
2019-08-22 22:40:04,420 [main] INFO  http.HttpServer2 (HttpServer2.java:addFilter(948)) - Added filter static_user_filter (class=org.apache.hadoop.http.lib.StaticUserWebFilter$StaticUserFilter) to context hddsDatanode
2019-08-22 22:40:04,420 [main] INFO  http.HttpServer2 (HttpServer2.java:addFilter(958)) - Added filter static_user_filter (class=org.apache.hadoop.http.lib.StaticUserWebFilter$StaticUserFilter) to context logs
2019-08-22 22:40:04,421 [main] INFO  http.HttpServer2 (HttpServer2.java:addFilter(958)) - Added filter static_user_filter (class=org.apache.hadoop.http.lib.StaticUserWebFilter$StaticUserFilter) to context static
2019-08-22 22:40:04,422 [main] INFO  http.HttpServer2 (HttpServer2.java:bindListener(1191)) - Jetty bound to port 39400
2019-08-22 22:40:04,422 [main] INFO  server.Server (Server.java:doStart(351)) - jetty-9.3.24.v20180605, build timestamp: 2018-06-05T17:11:56Z, git hash: 84205aa28f11a4f31f2a3b86d1bba2cc8ab69827
2019-08-22 22:40:04,428 [main] INFO  handler.ContextHandler (ContextHandler.java:doStart(781)) - Started o.e.j.s.ServletContextHandler@34f7b44f{/logs,file:///workdir/hadoop-ozone/integration-test/target/log,AVAILABLE}
2019-08-22 22:40:04,429 [main] INFO  handler.ContextHandler (ContextHandler.java:doStart(781)) - Started o.e.j.s.ServletContextHandler@5175d9ad{/static,jar:file:/home/user/.m2/repository/org/apache/hadoop/hadoop-hdds-container-service/0.5.0-SNAPSHOT/hadoop-hdds-container-service-0.5.0-SNAPSHOT.jar!/webapps/static,AVAILABLE}
2019-08-22 22:40:04,436 [pool-54-thread-1] INFO  storage.RaftStorageDirectory (RaftStorageDirectory.java:tryLock(328)) - Lock on /workdir/hadoop-ozone/integration-test/target/test-dir/MiniOzoneClusterImpl-f0450dcd-a238-40b4-8f72-c6c0c5421345/datanode-0/data/ratis/7a1afc87-1d10-44ae-970a-d8f2a2e5a2b3/in_use.lock acquired by nodename 26847@pr-hdds-1975-6rfct-3228563268
2019-08-22 22:40:04,437 [pool-54-thread-1] INFO  ratis.ContainerStateMachine (ContainerStateMachine.java:loadSnapshot(226)) - group-D8F2A2E5A2B3: The snapshot info is null. Setting the last applied indexto:(t:0, i:~)
2019-08-22 22:40:04,437 [pool-54-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.leader.election.timeout = 120s (custom)
2019-08-22 22:40:04,437 [pool-54-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.log.use.memory = false (default)
2019-08-22 22:40:04,437 [pool-54-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.log.purge.gap = 1000000 (custom)
2019-08-22 22:40:04,438 [pool-54-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.log.appender.buffer.byte-limit = 33554432 (custom)
2019-08-22 22:40:04,438 [pool-54-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.log.segment.size.max = 1048576 (custom)
2019-08-22 22:40:04,438 [pool-54-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.log.segment.cache.num.max = 2 (custom)
2019-08-22 22:40:04,438 [pool-54-thread-1] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:<init>(172)) - new 8f59fcec-3de7-4ca1-83cc-1c3fdc9009a8-SegmentedRaftLogWorker:Storage Directory /workdir/hadoop-ozone/integration-test/target/test-dir/MiniOzoneClusterImpl-f0450dcd-a238-40b4-8f72-c6c0c5421345/datanode-0/data/ratis/7a1afc87-1d10-44ae-970a-d8f2a2e5a2b3 for RaftStorage:Storage Directory /workdir/hadoop-ozone/integration-test/target/test-dir/MiniOzoneClusterImpl-f0450dcd-a238-40b4-8f72-c6c0c5421345/datanode-0/data/ratis/7a1afc87-1d10-44ae-970a-d8f2a2e5a2b3
2019-08-22 22:40:04,438 [pool-54-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.log.queue.byte-limit = 2147483647 (custom)
2019-08-22 22:40:04,439 [pool-54-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.log.queue.element-limit = 1024 (custom)
2019-08-22 22:40:04,439 [pool-54-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.log.segment.size.max = 1048576 (custom)
2019-08-22 22:40:04,439 [pool-54-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.log.preallocated.size = 16384 (custom)
2019-08-22 22:40:04,439 [pool-54-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.log.write.buffer.size = 33554432 (custom)
2019-08-22 22:40:04,439 [pool-54-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.log.force.sync.num = 128 (default)
2019-08-22 22:40:04,440 [pool-54-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.log.statemachine.data.sync = true (default)
2019-08-22 22:40:04,440 [pool-54-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.log.statemachine.data.sync.timeout = 10s (default)
2019-08-22 22:40:04,440 [pool-54-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.log.statemachine.data.sync.timeout.retry = -1 (default)
2019-08-22 22:40:04,440 [pool-54-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.log.statemachine.data.caching.enabled = true (custom)
2019-08-22 22:40:04,441 [pool-54-thread-1] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:lambda$new$0(132)) - 8f59fcec-3de7-4ca1-83cc-1c3fdc9009a8-SegmentedRaftLogWorker:Storage Directory /workdir/hadoop-ozone/integration-test/target/test-dir/MiniOzoneClusterImpl-f0450dcd-a238-40b4-8f72-c6c0c5421345/datanode-0/data/ratis/7a1afc87-1d10-44ae-970a-d8f2a2e5a2b3: flushIndex: setUnconditionally 0 -> -1
2019-08-22 22:40:04,441 [pool-54-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.snapshot.auto.trigger.enabled = true (custom)
2019-08-22 22:40:04,441 [pool-54-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.snapshot.auto.trigger.threshold = 1 (custom)
2019-08-22 22:40:04,442 [pool-54-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.retrycache.expirytime = 600000ms (custom)
2019-08-22 22:40:04,444 [pool-54-thread-1] INFO  impl.RaftServerImpl (RaftServerImpl.java:<init>(93)) - 8f59fcec-3de7-4ca1-83cc-1c3fdc9009a8: new RaftServerImpl for group-765E214D7C1B:[] with ContainerStateMachine:uninitialized
2019-08-22 22:40:04,444 [pool-54-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.rpc.timeout.min = 5s (custom)
2019-08-22 22:40:04,444 [pool-54-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.rpc.timeout.max = 5200ms (custom)
2019-08-22 22:40:04,445 [pool-54-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.rpcslowness.timeout = 120s (custom)
2019-08-22 22:40:04,445 [pool-54-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.sleep.deviation.threshold = 300 (default)
2019-08-22 22:40:04,445 [pool-54-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.log.appender.install.snapshot.enabled = false (custom)
2019-08-22 22:40:04,445 [pool-54-thread-1] INFO  impl.RaftServerImpl (ServerState.java:<init>(105)) - 8f59fcec-3de7-4ca1-83cc-1c3fdc9009a8:group-765E214D7C1B ConfigurationManager, init=-1: [], old=null, confs=<EMPTY_MAP>
2019-08-22 22:40:04,445 [pool-54-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.storage.dir = [/workdir/hadoop-ozone/integration-test/target/test-dir/MiniOzoneClusterImpl-f0450dcd-a238-40b4-8f72-c6c0c5421345/datanode-0/data/ratis] (custom)
2019-08-22 22:40:04,468 [pool-54-thread-1] INFO  storage.RaftStorageDirectory (RaftStorageDirectory.java:tryLock(328)) - Lock on /workdir/hadoop-ozone/integration-test/target/test-dir/MiniOzoneClusterImpl-f0450dcd-a238-40b4-8f72-c6c0c5421345/datanode-0/data/ratis/bcf7039b-521c-4607-93bc-765e214d7c1b/in_use.lock acquired by nodename 26847@pr-hdds-1975-6rfct-3228563268
2019-08-22 22:40:04,469 [pool-54-thread-1] INFO  ratis.ContainerStateMachine (ContainerStateMachine.java:loadSnapshot(226)) - group-765E214D7C1B: The snapshot info is null. Setting the last applied indexto:(t:0, i:~)
2019-08-22 22:40:04,469 [pool-54-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.leader.election.timeout = 120s (custom)
2019-08-22 22:40:04,469 [pool-54-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.log.use.memory = false (default)
2019-08-22 22:40:04,470 [pool-54-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.log.purge.gap = 1000000 (custom)
2019-08-22 22:40:04,470 [pool-54-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.log.appender.buffer.byte-limit = 33554432 (custom)
2019-08-22 22:40:04,470 [pool-54-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.log.segment.size.max = 1048576 (custom)
2019-08-22 22:40:04,470 [pool-54-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.log.segment.cache.num.max = 2 (custom)
2019-08-22 22:40:04,470 [pool-54-thread-1] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:<init>(172)) - new 8f59fcec-3de7-4ca1-83cc-1c3fdc9009a8-SegmentedRaftLogWorker:Storage Directory /workdir/hadoop-ozone/integration-test/target/test-dir/MiniOzoneClusterImpl-f0450dcd-a238-40b4-8f72-c6c0c5421345/datanode-0/data/ratis/bcf7039b-521c-4607-93bc-765e214d7c1b for RaftStorage:Storage Directory /workdir/hadoop-ozone/integration-test/target/test-dir/MiniOzoneClusterImpl-f0450dcd-a238-40b4-8f72-c6c0c5421345/datanode-0/data/ratis/bcf7039b-521c-4607-93bc-765e214d7c1b
2019-08-22 22:40:04,471 [pool-54-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.log.queue.byte-limit = 2147483647 (custom)
2019-08-22 22:40:04,471 [pool-54-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.log.queue.element-limit = 1024 (custom)
2019-08-22 22:40:04,471 [pool-54-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.log.segment.size.max = 1048576 (custom)
2019-08-22 22:40:04,471 [main] INFO  handler.ContextHandler (ContextHandler.java:doStart(781)) - Started o.e.j.w.WebAppContext@2e0ad709{/,file:///tmp/jetty-0.0.0.0-39400-hddsDatanode-_-any-745846555542945668.dir/webapp/,AVAILABLE}{/hddsDatanode}
2019-08-22 22:40:04,471 [pool-54-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.log.preallocated.size = 16384 (custom)
2019-08-22 22:40:04,473 [pool-54-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.log.write.buffer.size = 33554432 (custom)
2019-08-22 22:40:04,473 [main] INFO  server.AbstractConnector (AbstractConnector.java:doStart(278)) - Started ServerConnector@1fe8f5e8{HTTP/1.1,[http/1.1]}{0.0.0.0:39400}
2019-08-22 22:40:04,474 [pool-54-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.log.force.sync.num = 128 (default)
2019-08-22 22:40:04,474 [main] INFO  server.Server (Server.java:doStart(419)) - Started @82053ms
2019-08-22 22:40:04,474 [pool-54-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.log.statemachine.data.sync = true (default)
2019-08-22 22:40:04,474 [pool-54-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.log.statemachine.data.sync.timeout = 10s (default)
2019-08-22 22:40:04,475 [pool-54-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.log.statemachine.data.sync.timeout.retry = -1 (default)
2019-08-22 22:40:04,475 [main] INFO  server.BaseHttpServer (BaseHttpServer.java:updateConnectorAddress(213)) - HTTP server of HDDSDATANODE is listening at http://0.0.0.0:39400
2019-08-22 22:40:04,475 [pool-54-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.log.statemachine.data.caching.enabled = true (custom)
2019-08-22 22:40:04,475 [pool-54-thread-1] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:lambda$new$0(132)) - 8f59fcec-3de7-4ca1-83cc-1c3fdc9009a8-SegmentedRaftLogWorker:Storage Directory /workdir/hadoop-ozone/integration-test/target/test-dir/MiniOzoneClusterImpl-f0450dcd-a238-40b4-8f72-c6c0c5421345/datanode-0/data/ratis/bcf7039b-521c-4607-93bc-765e214d7c1b: flushIndex: setUnconditionally 0 -> -1
2019-08-22 22:40:04,476 [pool-54-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.snapshot.auto.trigger.enabled = true (custom)
2019-08-22 22:40:04,476 [pool-54-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.snapshot.auto.trigger.threshold = 1 (custom)
2019-08-22 22:40:04,476 [pool-54-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.retrycache.expirytime = 600000ms (custom)
Aug 22, 2019 10:40:04 PM com.sun.jersey.server.impl.application.WebApplicationImpl _initiate
INFO: Initiating Jersey application, version 'Jersey: 1.19 02/11/2015 03:25 AM'
2019-08-22 22:40:04,668 | INFO  | ObjectStoreRestHttpServer | Listening HDDS REST traffic on /0.0.0.0:37101 |  
2019-08-22 22:40:04,669 [main] INFO  ozone.HddsDatanodeService (HddsDatanodeService.java:startPlugins(395)) - Started plug-in org.apache.hadoop.ozone.web.OzoneHddsDatanodeService@402b4f81
2019-08-22 22:40:04,669 [main] INFO  ozone.MiniOzoneClusterImpl (MiniOzoneClusterImpl.java:lambda$waitForClusterToBeReady$0(142)) - Waiting for cluster to be ready. Got 0 of 1 DN Heartbeats.
2019-08-22 22:40:04,671 [org.apache.hadoop.util.JvmPauseMonitor$Monitor@349f84d5] INFO  util.JvmPauseMonitor (JvmPauseMonitor.java:run(188)) - Starting JVM pause monitor
2019-08-22 22:40:05,669 [main] INFO  ozone.MiniOzoneClusterImpl (MiniOzoneClusterImpl.java:lambda$waitForClusterToBeReady$0(142)) - Waiting for cluster to be ready. Got 0 of 1 DN Heartbeats.
2019-08-22 22:40:06,670 [main] INFO  ozone.MiniOzoneClusterImpl (MiniOzoneClusterImpl.java:lambda$waitForClusterToBeReady$0(142)) - Waiting for cluster to be ready. Got 0 of 1 DN Heartbeats.
2019-08-22 22:40:06,672 | INFO  | SCMAudit | user=jenkins1000 | ip=192.168.36.125 | op=GET_VERSION null | ret=SUCCESS |  
2019-08-22 22:40:06,674 [Datanode State Machine Thread - 0] INFO  ozoneimpl.OzoneContainer (OzoneContainer.java:start(186)) - Attempting to start container services.
2019-08-22 22:40:06,674 [Datanode State Machine Thread - 0] INFO  ozoneimpl.OzoneContainer (OzoneContainer.java:startContainerScrub(160)) - Background container scrubber has been disabled by hdds.containerscrub.enabled
2019-08-22 22:40:06,674 [Datanode State Machine Thread - 0] INFO  ratis.XceiverServerRatis (XceiverServerRatis.java:start(404)) - Starting XceiverServerRatis 8f59fcec-3de7-4ca1-83cc-1c3fdc9009a8 at port 43977
2019-08-22 22:40:06,687 [Datanode State Machine Thread - 0] INFO  impl.RaftServerImpl (RaftServerImpl.java:start(180)) - 8f59fcec-3de7-4ca1-83cc-1c3fdc9009a8: start group-D8F2A2E5A2B3
2019-08-22 22:40:06,687 [ForkJoinPool.commonPool-worker-0] INFO  impl.RaftServerImpl (RaftServerImpl.java:start(180)) - 8f59fcec-3de7-4ca1-83cc-1c3fdc9009a8: start group-765E214D7C1B
2019-08-22 22:40:06,688 [Datanode State Machine Thread - 0] INFO  impl.RaftServerImpl (RaftServerImpl.java:setRole(171)) - 8f59fcec-3de7-4ca1-83cc-1c3fdc9009a8:group-D8F2A2E5A2B3 changes role from null to FOLLOWER at term 0 for startInitializing
2019-08-22 22:40:06,689 [ForkJoinPool.commonPool-worker-0] INFO  impl.RaftServerImpl (RaftServerImpl.java:setRole(171)) - 8f59fcec-3de7-4ca1-83cc-1c3fdc9009a8:group-765E214D7C1B changes role from null to FOLLOWER at term 0 for startInitializing
2019-08-22 22:40:06,690 [Datanode State Machine Thread - 0] INFO  util.JmxRegister (JmxRegister.java:tryRegister(44)) - Successfully registered JMX Bean with object name Ratis:service=RaftServer,group=group-D8F2A2E5A2B3,id=8f59fcec-3de7-4ca1-83cc-1c3fdc9009a8
2019-08-22 22:40:06,690 [ForkJoinPool.commonPool-worker-0] INFO  util.JmxRegister (JmxRegister.java:tryRegister(44)) - Successfully registered JMX Bean with object name Ratis:service=RaftServer,group=group-765E214D7C1B,id=8f59fcec-3de7-4ca1-83cc-1c3fdc9009a8
2019-08-22 22:40:06,692 [Datanode State Machine Thread - 0] INFO  impl.RaftServerProxy (RaftServerProxy.java:lambda$start$3(299)) - 8f59fcec-3de7-4ca1-83cc-1c3fdc9009a8: start RPC server
2019-08-22 22:40:06,694 [Datanode State Machine Thread - 0] INFO  server.GrpcService (GrpcService.java:startImpl(149)) - 8f59fcec-3de7-4ca1-83cc-1c3fdc9009a8: GrpcService started, listening on 0.0.0.0/0.0.0.0:43977
2019-08-22 22:40:07,671 [main] INFO  ozone.MiniOzoneClusterImpl (MiniOzoneClusterImpl.java:lambda$waitForClusterToBeReady$0(142)) - Waiting for cluster to be ready. Got 0 of 1 DN Heartbeats.
2019-08-22 22:40:08,672 [main] INFO  ozone.MiniOzoneClusterImpl (MiniOzoneClusterImpl.java:lambda$waitForClusterToBeReady$0(142)) - Waiting for cluster to be ready. Got 0 of 1 DN Heartbeats.
2019-08-22 22:40:08,673 | INFO  | SCMAudit | user=jenkins1000 | ip=192.168.36.125 | op=REGISTER {datanodeDetails=8f59fcec-3de7-4ca1-83cc-1c3fdc9009a8{ip: 192.168.36.125, host: pr-hdds-1975-6rfct-3228563268, networkLocation: /default-rack, certSerialId: null}} | ret=SUCCESS |  
2019-08-22 22:40:08,687 [grpc-default-executor-1] INFO  impl.RaftServerProxy (RaftServerProxy.java:remove(95)) - 8f59fcec-3de7-4ca1-83cc-1c3fdc9009a8: remove FOLLOWER group-D8F2A2E5A2B3 8f59fcec-3de7-4ca1-83cc-1c3fdc9009a8:t0, leader=null, voted=null, raftlog=8f59fcec-3de7-4ca1-83cc-1c3fdc9009a8-SegmentedRaftLog:OPENED:c-1,f-1,i0, conf=-1: [], old=null STARTING
2019-08-22 22:40:08,689 [grpc-default-executor-1] INFO  impl.RaftServerImpl (RaftServerImpl.java:lambda$shutdown$3(245)) - 8f59fcec-3de7-4ca1-83cc-1c3fdc9009a8: shutdown group-D8F2A2E5A2B3
2019-08-22 22:40:08,690 [grpc-default-executor-1] INFO  util.JmxRegister (JmxRegister.java:unregister(73)) - Successfully un-registered JMX Bean with object name Ratis:service=RaftServer,group=group-D8F2A2E5A2B3,id=8f59fcec-3de7-4ca1-83cc-1c3fdc9009a8
2019-08-22 22:40:08,691 [grpc-default-executor-1] INFO  impl.StateMachineUpdater (StateMachineUpdater.java:stopAndJoin(115)) - StateMachineUpdater:8f59fcec-3de7-4ca1-83cc-1c3fdc9009a8:group-D8F2A2E5A2B3: set stopIndex = -1
2019-08-22 22:40:08,691 [grpc-default-executor-1] INFO  impl.RaftServerImpl (ServerState.java:close(394)) - 8f59fcec-3de7-4ca1-83cc-1c3fdc9009a8:group-D8F2A2E5A2B3 closes. The last applied log index is -1
2019-08-22 22:40:08,691 [8f59fcec-3de7-4ca1-83cc-1c3fdc9009a8-SegmentedRaftLogWorker:Storage Directory /workdir/hadoop-ozone/integration-test/target/test-dir/MiniOzoneClusterImpl-f0450dcd-a238-40b4-8f72-c6c0c5421345/datanode-0/data/ratis/7a1afc87-1d10-44ae-970a-d8f2a2e5a2b3] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:run(313)) - 8f59fcec-3de7-4ca1-83cc-1c3fdc9009a8-SegmentedRaftLogWorker:Storage Directory /workdir/hadoop-ozone/integration-test/target/test-dir/MiniOzoneClusterImpl-f0450dcd-a238-40b4-8f72-c6c0c5421345/datanode-0/data/ratis/7a1afc87-1d10-44ae-970a-d8f2a2e5a2b3 was interrupted, exiting. There are 0 tasks remaining in the queue.
2019-08-22 22:40:08,692 [grpc-default-executor-1] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:close(228)) - 8f59fcec-3de7-4ca1-83cc-1c3fdc9009a8-SegmentedRaftLogWorker:Storage Directory /workdir/hadoop-ozone/integration-test/target/test-dir/MiniOzoneClusterImpl-f0450dcd-a238-40b4-8f72-c6c0c5421345/datanode-0/data/ratis/7a1afc87-1d10-44ae-970a-d8f2a2e5a2b3 close()
2019-08-22 22:40:09,672 [main] INFO  ozone.MiniOzoneClusterImpl (MiniOzoneClusterImpl.java:lambda$waitForClusterToBeReady$0(142)) - Waiting for cluster to be ready. Got 0 of 1 DN Heartbeats.
2019-08-22 22:40:10,675 [main] INFO  ozone.MiniOzoneClusterImpl (MiniOzoneClusterImpl.java:lambda$waitForClusterToBeReady$0(142)) - Waiting for cluster to be ready. Got 0 of 1 DN Heartbeats.
2019-08-22 22:40:10,678 | INFO  | SCMAudit | user=jenkins1000 | ip=192.168.36.125 | op=SEND_HEARTBEAT {datanodeUUID=8f59fcec-3de7-4ca1-83cc-1c3fdc9009a8, command=[]} | ret=SUCCESS |  
2019-08-22 22:40:10,722 [grpc-default-executor-2] INFO  impl.RaftServerProxy (RaftServerProxy.java:addNew(89)) - 8f59fcec-3de7-4ca1-83cc-1c3fdc9009a8: addNew group-2A52DA802827:[8f59fcec-3de7-4ca1-83cc-1c3fdc9009a8:192.168.36.125:43977] returns group-2A52DA802827:java.util.concurrent.CompletableFuture@78fb888a[Not completed]
2019-08-22 22:40:10,725 [pool-54-thread-1] INFO  impl.RaftServerImpl (RaftServerImpl.java:<init>(93)) - 8f59fcec-3de7-4ca1-83cc-1c3fdc9009a8: new RaftServerImpl for group-2A52DA802827:[8f59fcec-3de7-4ca1-83cc-1c3fdc9009a8:192.168.36.125:43977] with ContainerStateMachine:uninitialized
2019-08-22 22:40:10,725 [pool-54-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.rpc.timeout.min = 5s (custom)
2019-08-22 22:40:10,726 [pool-54-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.rpc.timeout.max = 5200ms (custom)
2019-08-22 22:40:10,726 [pool-54-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.rpcslowness.timeout = 120s (custom)
2019-08-22 22:40:10,726 [pool-54-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.sleep.deviation.threshold = 300 (default)
2019-08-22 22:40:10,726 [pool-54-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.log.appender.install.snapshot.enabled = false (custom)
2019-08-22 22:40:10,726 [pool-54-thread-1] INFO  impl.RaftServerImpl (ServerState.java:<init>(105)) - 8f59fcec-3de7-4ca1-83cc-1c3fdc9009a8:group-2A52DA802827 ConfigurationManager, init=-1: [8f59fcec-3de7-4ca1-83cc-1c3fdc9009a8:192.168.36.125:43977], old=null, confs=<EMPTY_MAP>
2019-08-22 22:40:10,727 [pool-54-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.storage.dir = [/workdir/hadoop-ozone/integration-test/target/test-dir/MiniOzoneClusterImpl-f0450dcd-a238-40b4-8f72-c6c0c5421345/datanode-0/data/ratis] (custom)
2019-08-22 22:40:10,727 [pool-54-thread-1] INFO  storage.RaftStorageDirectory (RaftStorageDirectory.java:analyzeStorage(246)) - The storage directory /workdir/hadoop-ozone/integration-test/target/test-dir/MiniOzoneClusterImpl-f0450dcd-a238-40b4-8f72-c6c0c5421345/datanode-0/data/ratis/f5124a48-1560-4e84-96f8-2a52da802827 does not exist. Creating ...
2019-08-22 22:40:10,743 [pool-54-thread-1] INFO  storage.RaftStorageDirectory (RaftStorageDirectory.java:tryLock(328)) - Lock on /workdir/hadoop-ozone/integration-test/target/test-dir/MiniOzoneClusterImpl-f0450dcd-a238-40b4-8f72-c6c0c5421345/datanode-0/data/ratis/f5124a48-1560-4e84-96f8-2a52da802827/in_use.lock acquired by nodename 26847@pr-hdds-1975-6rfct-3228563268
2019-08-22 22:40:10,768 [pool-54-thread-1] INFO  storage.RaftStorage (RaftStorage.java:format(72)) - Storage directory /workdir/hadoop-ozone/integration-test/target/test-dir/MiniOzoneClusterImpl-f0450dcd-a238-40b4-8f72-c6c0c5421345/datanode-0/data/ratis/f5124a48-1560-4e84-96f8-2a52da802827 has been successfully formatted.
2019-08-22 22:40:10,769 [pool-54-thread-1] INFO  ratis.ContainerStateMachine (ContainerStateMachine.java:loadSnapshot(226)) - group-2A52DA802827: The snapshot info is null. Setting the last applied indexto:(t:0, i:~)
2019-08-22 22:40:10,769 [pool-54-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.leader.election.timeout = 120s (custom)
2019-08-22 22:40:10,769 [pool-54-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.log.use.memory = false (default)
2019-08-22 22:40:10,769 [pool-54-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.log.purge.gap = 1000000 (custom)
2019-08-22 22:40:10,769 [pool-54-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.log.appender.buffer.byte-limit = 33554432 (custom)
2019-08-22 22:40:10,770 [pool-54-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.log.segment.size.max = 1048576 (custom)
2019-08-22 22:40:10,770 [pool-54-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.log.segment.cache.num.max = 2 (custom)
2019-08-22 22:40:10,770 [pool-54-thread-1] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:<init>(172)) - new 8f59fcec-3de7-4ca1-83cc-1c3fdc9009a8-SegmentedRaftLogWorker:Storage Directory /workdir/hadoop-ozone/integration-test/target/test-dir/MiniOzoneClusterImpl-f0450dcd-a238-40b4-8f72-c6c0c5421345/datanode-0/data/ratis/f5124a48-1560-4e84-96f8-2a52da802827 for RaftStorage:Storage Directory /workdir/hadoop-ozone/integration-test/target/test-dir/MiniOzoneClusterImpl-f0450dcd-a238-40b4-8f72-c6c0c5421345/datanode-0/data/ratis/f5124a48-1560-4e84-96f8-2a52da802827
2019-08-22 22:40:10,770 [pool-54-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.log.queue.byte-limit = 2147483647 (custom)
2019-08-22 22:40:10,770 [pool-54-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.log.queue.element-limit = 1024 (custom)
2019-08-22 22:40:10,771 [pool-54-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.log.segment.size.max = 1048576 (custom)
2019-08-22 22:40:10,771 [pool-54-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.log.preallocated.size = 16384 (custom)
2019-08-22 22:40:10,771 [pool-54-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.log.write.buffer.size = 33554432 (custom)
2019-08-22 22:40:10,771 [pool-54-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.log.force.sync.num = 128 (default)
2019-08-22 22:40:10,771 [pool-54-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.log.statemachine.data.sync = true (default)
2019-08-22 22:40:10,771 [pool-54-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.log.statemachine.data.sync.timeout = 10s (default)
2019-08-22 22:40:10,772 [pool-54-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.log.statemachine.data.sync.timeout.retry = -1 (default)
2019-08-22 22:40:10,772 [pool-54-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.log.statemachine.data.caching.enabled = true (custom)
2019-08-22 22:40:10,772 [pool-54-thread-1] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:lambda$new$0(132)) - 8f59fcec-3de7-4ca1-83cc-1c3fdc9009a8-SegmentedRaftLogWorker:Storage Directory /workdir/hadoop-ozone/integration-test/target/test-dir/MiniOzoneClusterImpl-f0450dcd-a238-40b4-8f72-c6c0c5421345/datanode-0/data/ratis/f5124a48-1560-4e84-96f8-2a52da802827: flushIndex: setUnconditionally 0 -> -1
2019-08-22 22:40:10,773 [pool-54-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.snapshot.auto.trigger.enabled = true (custom)
2019-08-22 22:40:10,773 [pool-54-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.snapshot.auto.trigger.threshold = 1 (custom)
2019-08-22 22:40:10,773 [pool-54-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.retrycache.expirytime = 600000ms (custom)
2019-08-22 22:40:10,774 [pool-54-thread-1] INFO  impl.RaftServerImpl (RaftServerImpl.java:start(180)) - 8f59fcec-3de7-4ca1-83cc-1c3fdc9009a8: start group-2A52DA802827
2019-08-22 22:40:10,774 [pool-54-thread-1] INFO  impl.RaftServerImpl (RaftServerImpl.java:setRole(171)) - 8f59fcec-3de7-4ca1-83cc-1c3fdc9009a8:group-2A52DA802827 changes role from null to FOLLOWER at term 0 for startAsFollower
2019-08-22 22:40:10,774 [pool-54-thread-1] INFO  impl.RoleInfo (RoleInfo.java:updateAndGet(143)) - 8f59fcec-3de7-4ca1-83cc-1c3fdc9009a8: start FollowerState
2019-08-22 22:40:10,775 [pool-54-thread-1] INFO  util.JmxRegister (JmxRegister.java:tryRegister(44)) - Successfully registered JMX Bean with object name Ratis:service=RaftServer,group=group-2A52DA802827,id=8f59fcec-3de7-4ca1-83cc-1c3fdc9009a8
2019-08-22 22:40:10,785 [RatisPipelineUtilsThread] INFO  pipeline.PipelineStateManager (PipelineStateManager.java:addPipeline(56)) - Created pipeline Pipeline[ Id: f5124a48-1560-4e84-96f8-2a52da802827, Nodes: 8f59fcec-3de7-4ca1-83cc-1c3fdc9009a8{ip: 192.168.36.125, host: pr-hdds-1975-6rfct-3228563268, networkLocation: /default-rack, certSerialId: null}, Type:RATIS, Factor:ONE, State:OPEN]
2019-08-22 22:40:10,873 | INFO  | SCMAudit | user=jenkins1000 | ip=192.168.36.125 | op=SEND_HEARTBEAT {datanodeUUID=8f59fcec-3de7-4ca1-83cc-1c3fdc9009a8, command=[]} | ret=SUCCESS |  
2019-08-22 22:40:11,072 | INFO  | SCMAudit | user=jenkins1000 | ip=192.168.36.125 | op=SEND_HEARTBEAT {datanodeUUID=8f59fcec-3de7-4ca1-83cc-1c3fdc9009a8, command=[]} | ret=SUCCESS |  
2019-08-22 22:40:11,272 | INFO  | SCMAudit | user=jenkins1000 | ip=192.168.36.125 | op=SEND_HEARTBEAT {datanodeUUID=8f59fcec-3de7-4ca1-83cc-1c3fdc9009a8, command=[]} | ret=SUCCESS |  
2019-08-22 22:40:11,472 | INFO  | SCMAudit | user=jenkins1000 | ip=192.168.36.125 | op=SEND_HEARTBEAT {datanodeUUID=8f59fcec-3de7-4ca1-83cc-1c3fdc9009a8, command=[]} | ret=SUCCESS |  
2019-08-22 22:40:11,676 [main] INFO  ozone.MiniOzoneClusterImpl (MiniOzoneClusterImpl.java:lambda$waitForClusterToBeReady$0(142)) - Cluster is ready. Got 1 of 1 DN Heartbeats.
2019-08-22 22:40:11,680 | INFO  | SCMAudit | user=jenkins1000 | ip=192.168.36.125 | op=SEND_HEARTBEAT {datanodeUUID=8f59fcec-3de7-4ca1-83cc-1c3fdc9009a8, command=[]} | ret=SUCCESS |  
2019-08-22 22:40:11,707 [main] INFO  keyvalue.KeyValueHandler (ContainerUtils.java:logAndReturnError(146)) - Operation: CloseContainer : Trace ID:  : Message: Cannot close container #3 while in UNHEALTHY state. : Result: CONTAINER_UNHEALTHY
2019-08-22 22:40:11,708 | ERROR | DNAudit | user=null | ip=null | op=CLOSE_CONTAINER {containerID=3} | ret=FAILURE | java.lang.Exception: Cannot close container #3 while in UNHEALTHY state.
	at org.apache.hadoop.ozone.container.common.impl.HddsDispatcher.dispatchRequest(HddsDispatcher.java:320)
	at org.apache.hadoop.ozone.container.common.impl.HddsDispatcher.dispatch(HddsDispatcher.java:148) 
2019-08-22 22:40:11,716 | INFO  | OMAudit | user=jenkins1000 | ip=127.0.0.1 | op=READ_VOLUME {volume=testcontainerstatemachinefailures} | ret=SUCCESS |  
2019-08-22 22:40:11,719 | INFO  | OMAudit | user=jenkins1000 | ip=127.0.0.1 | op=READ_BUCKET {volume=testcontainerstatemachinefailures, bucket=testcontainerstatemachinefailures} | ret=SUCCESS |  
2019-08-22 22:40:11,736 | INFO  | SCMAudit | user=jenkins1000 | ip=192.168.36.125 | op=ALLOCATE_BLOCK {owner=088bfb83-49b8-4493-b777-1791b5c1ac58, size=4194304, type=RATIS, factor=ONE} | ret=SUCCESS |  
2019-08-22 22:40:11,738 | INFO  | OMAudit | user=jenkins1000 | ip=127.0.0.1 | op=ALLOCATE_KEY {volume=testcontainerstatemachinefailures, bucket=testcontainerstatemachinefailures, key=ratis, dataSize=1024, replicationType=RATIS, replicationFactor=ONE, keyLocationInfo=null} | ret=SUCCESS |  
2019-08-22 22:40:11,757 [grpc-default-executor-2] INFO  client.GrpcClientProtocolClient (GrpcClientProtocolClient.java:onNext(255)) - client-6184C8D3F256->8f59fcec-3de7-4ca1-83cc-1c3fdc9009a8: receive RaftClientReply:client-6184C8D3F256->8f59fcec-3de7-4ca1-83cc-1c3fdc9009a8@group-2A52DA802827, cid=22, FAILED org.apache.ratis.protocol.NotLeaderException: Server 8f59fcec-3de7-4ca1-83cc-1c3fdc9009a8 is not the leader (null). Request must be sent to leader., logIndex=0, commits[8f59fcec-3de7-4ca1-83cc-1c3fdc9009a8:c-1]
2019-08-22 22:40:11,873 | INFO  | SCMAudit | user=jenkins1000 | ip=192.168.36.125 | op=SEND_HEARTBEAT {datanodeUUID=8f59fcec-3de7-4ca1-83cc-1c3fdc9009a8, command=[]} | ret=SUCCESS |  
2019-08-22 22:40:11,873 [EventQueue-CloseContainerForCloseContainerEventHandler] INFO  container.CloseContainerEventHandler (CloseContainerEventHandler.java:onMessage(61)) - Close container Event triggered for container : #3
2019-08-22 22:40:12,073 | INFO  | SCMAudit | user=jenkins1000 | ip=192.168.36.125 | op=SEND_HEARTBEAT {datanodeUUID=8f59fcec-3de7-4ca1-83cc-1c3fdc9009a8, command=[commandType: closeContainerCommand closeContainerCommandProto { containerID: 3 pipelineID { id: "958be55f-2478-40a0-b15b-d90353cab7ff" } cmdId: 3 force: false } ]} | ret=SUCCESS |  
2019-08-22 22:40:12,273 | INFO  | SCMAudit | user=jenkins1000 | ip=192.168.36.125 | op=SEND_HEARTBEAT {datanodeUUID=8f59fcec-3de7-4ca1-83cc-1c3fdc9009a8, command=[]} | ret=SUCCESS |  
2019-08-22 22:40:12,307 [grpc-default-executor-2] INFO  impl.RaftServerProxy (RaftServerProxy.java:remove(95)) - 8f59fcec-3de7-4ca1-83cc-1c3fdc9009a8: remove FOLLOWER group-765E214D7C1B 8f59fcec-3de7-4ca1-83cc-1c3fdc9009a8:t0, leader=null, voted=null, raftlog=8f59fcec-3de7-4ca1-83cc-1c3fdc9009a8-SegmentedRaftLog:OPENED:c-1,f-1,i0, conf=-1: [], old=null STARTING
2019-08-22 22:40:12,309 [grpc-default-executor-2] INFO  impl.RaftServerImpl (RaftServerImpl.java:lambda$shutdown$3(245)) - 8f59fcec-3de7-4ca1-83cc-1c3fdc9009a8: shutdown group-765E214D7C1B
2019-08-22 22:40:12,309 [grpc-default-executor-2] INFO  util.JmxRegister (JmxRegister.java:unregister(73)) - Successfully un-registered JMX Bean with object name Ratis:service=RaftServer,group=group-765E214D7C1B,id=8f59fcec-3de7-4ca1-83cc-1c3fdc9009a8
2019-08-22 22:40:12,310 [grpc-default-executor-2] INFO  impl.StateMachineUpdater (StateMachineUpdater.java:stopAndJoin(115)) - StateMachineUpdater:8f59fcec-3de7-4ca1-83cc-1c3fdc9009a8:group-765E214D7C1B: set stopIndex = -1
2019-08-22 22:40:12,310 [grpc-default-executor-2] INFO  impl.RaftServerImpl (ServerState.java:close(394)) - 8f59fcec-3de7-4ca1-83cc-1c3fdc9009a8:group-765E214D7C1B closes. The last applied log index is -1
2019-08-22 22:40:12,310 [8f59fcec-3de7-4ca1-83cc-1c3fdc9009a8-SegmentedRaftLogWorker:Storage Directory /workdir/hadoop-ozone/integration-test/target/test-dir/MiniOzoneClusterImpl-f0450dcd-a238-40b4-8f72-c6c0c5421345/datanode-0/data/ratis/bcf7039b-521c-4607-93bc-765e214d7c1b] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:run(313)) - 8f59fcec-3de7-4ca1-83cc-1c3fdc9009a8-SegmentedRaftLogWorker:Storage Directory /workdir/hadoop-ozone/integration-test/target/test-dir/MiniOzoneClusterImpl-f0450dcd-a238-40b4-8f72-c6c0c5421345/datanode-0/data/ratis/bcf7039b-521c-4607-93bc-765e214d7c1b was interrupted, exiting. There are 0 tasks remaining in the queue.
2019-08-22 22:40:12,311 [grpc-default-executor-2] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:close(228)) - 8f59fcec-3de7-4ca1-83cc-1c3fdc9009a8-SegmentedRaftLogWorker:Storage Directory /workdir/hadoop-ozone/integration-test/target/test-dir/MiniOzoneClusterImpl-f0450dcd-a238-40b4-8f72-c6c0c5421345/datanode-0/data/ratis/bcf7039b-521c-4607-93bc-765e214d7c1b close()
2019-08-22 22:40:12,325 [RatisPipelineUtilsThread] INFO  pipeline.PipelineStateManager (PipelineStateManager.java:removePipeline(108)) - Pipeline Pipeline[ Id: bcf7039b-521c-4607-93bc-765e214d7c1b, Nodes: 8f59fcec-3de7-4ca1-83cc-1c3fdc9009a8{ip: 192.168.36.125, host: pr-hdds-1975-6rfct-3228563268, networkLocation: /default-rack, certSerialId: null}, Type:RATIS, Factor:ONE, State:CLOSED] removed from db
2019-08-22 22:40:12,472 | INFO  | SCMAudit | user=jenkins1000 | ip=192.168.36.125 | op=SEND_HEARTBEAT {datanodeUUID=8f59fcec-3de7-4ca1-83cc-1c3fdc9009a8, command=[]} | ret=SUCCESS |  
2019-08-22 22:40:12,673 | INFO  | SCMAudit | user=jenkins1000 | ip=192.168.36.125 | op=SEND_HEARTBEAT {datanodeUUID=8f59fcec-3de7-4ca1-83cc-1c3fdc9009a8, command=[]} | ret=SUCCESS |  
2019-08-22 22:40:12,872 | INFO  | SCMAudit | user=jenkins1000 | ip=192.168.36.125 | op=SEND_HEARTBEAT {datanodeUUID=8f59fcec-3de7-4ca1-83cc-1c3fdc9009a8, command=[]} | ret=SUCCESS |  
2019-08-22 22:40:12,871 [Command processor thread] ERROR commandhandler.CloseContainerCommandHandler (CloseContainerCommandHandler.java:handle(124)) - Can't close container #3
org.apache.hadoop.hdds.scm.container.common.helpers.StorageContainerException: Cannot quasi close container #3 while in UNHEALTHY state.
	at org.apache.hadoop.ozone.container.keyvalue.KeyValueHandler.quasiCloseContainer(KeyValueHandler.java:930)
	at org.apache.hadoop.ozone.container.ozoneimpl.ContainerController.quasiCloseContainer(ContainerController.java:107)
	at org.apache.hadoop.ozone.container.common.statemachine.commandhandler.CloseContainerCommandHandler.handle(CloseContainerCommandHandler.java:116)
	at org.apache.hadoop.ozone.container.common.statemachine.commandhandler.CommandDispatcher.handle(CommandDispatcher.java:93)
	at org.apache.hadoop.ozone.container.common.statemachine.DatanodeStateMachine.lambda$initCommandHandlerThread$1(DatanodeStateMachine.java:432)
	at java.lang.Thread.run(Thread.java:748)
2019-08-22 22:40:13,072 | INFO  | SCMAudit | user=jenkins1000 | ip=192.168.36.125 | op=SEND_HEARTBEAT {datanodeUUID=8f59fcec-3de7-4ca1-83cc-1c3fdc9009a8, command=[]} | ret=SUCCESS |  
2019-08-22 22:40:13,272 | INFO  | SCMAudit | user=jenkins1000 | ip=192.168.36.125 | op=SEND_HEARTBEAT {datanodeUUID=8f59fcec-3de7-4ca1-83cc-1c3fdc9009a8, command=[]} | ret=SUCCESS |  
2019-08-22 22:40:13,473 | INFO  | SCMAudit | user=jenkins1000 | ip=192.168.36.125 | op=SEND_HEARTBEAT {datanodeUUID=8f59fcec-3de7-4ca1-83cc-1c3fdc9009a8, command=[]} | ret=SUCCESS |  
2019-08-22 22:40:13,674 | INFO  | SCMAudit | user=jenkins1000 | ip=192.168.36.125 | op=SEND_HEARTBEAT {datanodeUUID=8f59fcec-3de7-4ca1-83cc-1c3fdc9009a8, command=[]} | ret=SUCCESS |  
2019-08-22 22:40:13,781 [grpc-default-executor-1] INFO  client.GrpcClientProtocolClient (GrpcClientProtocolClient.java:onNext(255)) - client-6184C8D3F256->8f59fcec-3de7-4ca1-83cc-1c3fdc9009a8: receive RaftClientReply:client-6184C8D3F256->8f59fcec-3de7-4ca1-83cc-1c3fdc9009a8@group-2A52DA802827, cid=22, FAILED org.apache.ratis.protocol.NotLeaderException: Server 8f59fcec-3de7-4ca1-83cc-1c3fdc9009a8 is not the leader (null). Request must be sent to leader., logIndex=0, commits[8f59fcec-3de7-4ca1-83cc-1c3fdc9009a8:c-1]
2019-08-22 22:40:13,873 | INFO  | SCMAudit | user=jenkins1000 | ip=192.168.36.125 | op=SEND_HEARTBEAT {datanodeUUID=8f59fcec-3de7-4ca1-83cc-1c3fdc9009a8, command=[]} | ret=SUCCESS |  
2019-08-22 22:40:14,073 | INFO  | SCMAudit | user=jenkins1000 | ip=192.168.36.125 | op=SEND_HEARTBEAT {datanodeUUID=8f59fcec-3de7-4ca1-83cc-1c3fdc9009a8, command=[]} | ret=SUCCESS |  
2019-08-22 22:40:14,273 | INFO  | SCMAudit | user=jenkins1000 | ip=192.168.36.125 | op=SEND_HEARTBEAT {datanodeUUID=8f59fcec-3de7-4ca1-83cc-1c3fdc9009a8, command=[]} | ret=SUCCESS |  
2019-08-22 22:40:14,473 | INFO  | SCMAudit | user=jenkins1000 | ip=192.168.36.125 | op=SEND_HEARTBEAT {datanodeUUID=8f59fcec-3de7-4ca1-83cc-1c3fdc9009a8, command=[]} | ret=SUCCESS |  
2019-08-22 22:40:14,673 | INFO  | SCMAudit | user=jenkins1000 | ip=192.168.36.125 | op=SEND_HEARTBEAT {datanodeUUID=8f59fcec-3de7-4ca1-83cc-1c3fdc9009a8, command=[]} | ret=SUCCESS |  
2019-08-22 22:40:14,874 | INFO  | SCMAudit | user=jenkins1000 | ip=192.168.36.125 | op=SEND_HEARTBEAT {datanodeUUID=8f59fcec-3de7-4ca1-83cc-1c3fdc9009a8, command=[]} | ret=SUCCESS |  
2019-08-22 22:40:15,075 | INFO  | SCMAudit | user=jenkins1000 | ip=192.168.36.125 | op=SEND_HEARTBEAT {datanodeUUID=8f59fcec-3de7-4ca1-83cc-1c3fdc9009a8, command=[]} | ret=SUCCESS |  
2019-08-22 22:40:15,274 | INFO  | SCMAudit | user=jenkins1000 | ip=192.168.36.125 | op=SEND_HEARTBEAT {datanodeUUID=8f59fcec-3de7-4ca1-83cc-1c3fdc9009a8, command=[]} | ret=SUCCESS |  
2019-08-22 22:40:15,475 | INFO  | SCMAudit | user=jenkins1000 | ip=192.168.36.125 | op=SEND_HEARTBEAT {datanodeUUID=8f59fcec-3de7-4ca1-83cc-1c3fdc9009a8, command=[]} | ret=SUCCESS |  
2019-08-22 22:40:15,674 | INFO  | SCMAudit | user=jenkins1000 | ip=192.168.36.125 | op=SEND_HEARTBEAT {datanodeUUID=8f59fcec-3de7-4ca1-83cc-1c3fdc9009a8, command=[]} | ret=SUCCESS |  
2019-08-22 22:40:15,801 [grpc-default-executor-1] INFO  client.GrpcClientProtocolClient (GrpcClientProtocolClient.java:onNext(255)) - client-6184C8D3F256->8f59fcec-3de7-4ca1-83cc-1c3fdc9009a8: receive RaftClientReply:client-6184C8D3F256->8f59fcec-3de7-4ca1-83cc-1c3fdc9009a8@group-2A52DA802827, cid=22, FAILED org.apache.ratis.protocol.NotLeaderException: Server 8f59fcec-3de7-4ca1-83cc-1c3fdc9009a8 is not the leader (null). Request must be sent to leader., logIndex=0, commits[8f59fcec-3de7-4ca1-83cc-1c3fdc9009a8:c-1]
2019-08-22 22:40:15,876 | INFO  | SCMAudit | user=jenkins1000 | ip=192.168.36.125 | op=SEND_HEARTBEAT {datanodeUUID=8f59fcec-3de7-4ca1-83cc-1c3fdc9009a8, command=[]} | ret=SUCCESS |  
2019-08-22 22:40:15,895 [Thread-299] INFO  impl.FollowerState (FollowerState.java:run(106)) - 8f59fcec-3de7-4ca1-83cc-1c3fdc9009a8:group-2A52DA802827 changes to CANDIDATE, lastRpcTime:5120, electionTimeout:5120ms
2019-08-22 22:40:15,897 [Thread-299] INFO  impl.RoleInfo (RoleInfo.java:shutdownFollowerState(121)) - 8f59fcec-3de7-4ca1-83cc-1c3fdc9009a8: shutdown FollowerState
2019-08-22 22:40:15,897 [Thread-299] INFO  impl.RaftServerImpl (RaftServerImpl.java:setRole(171)) - 8f59fcec-3de7-4ca1-83cc-1c3fdc9009a8:group-2A52DA802827 changes role from FOLLOWER to CANDIDATE at term 0 for changeToCandidate
2019-08-22 22:40:15,897 [Thread-299] INFO  impl.RoleInfo (RoleInfo.java:updateAndGet(143)) - 8f59fcec-3de7-4ca1-83cc-1c3fdc9009a8: start LeaderElection
2019-08-22 22:40:15,933 [8f59fcec-3de7-4ca1-83cc-1c3fdc9009a8:group-2A52DA802827:LeaderElection5] INFO  impl.LeaderElection (LeaderElection.java:askForVotes(181)) - 8f59fcec-3de7-4ca1-83cc-1c3fdc9009a8:group-2A52DA802827:LeaderElection5: begin an election at term 1 for -1: [8f59fcec-3de7-4ca1-83cc-1c3fdc9009a8:192.168.36.125:43977], old=null
2019-08-22 22:40:15,935 [8f59fcec-3de7-4ca1-83cc-1c3fdc9009a8:group-2A52DA802827:LeaderElection5] INFO  impl.RoleInfo (RoleInfo.java:shutdownLeaderElection(134)) - 8f59fcec-3de7-4ca1-83cc-1c3fdc9009a8: shutdown LeaderElection
2019-08-22 22:40:15,935 [8f59fcec-3de7-4ca1-83cc-1c3fdc9009a8:group-2A52DA802827:LeaderElection5] INFO  impl.RaftServerImpl (RaftServerImpl.java:setRole(171)) - 8f59fcec-3de7-4ca1-83cc-1c3fdc9009a8:group-2A52DA802827 changes role from CANDIDATE to LEADER at term 1 for changeToLeader
2019-08-22 22:40:15,935 [8f59fcec-3de7-4ca1-83cc-1c3fdc9009a8:group-2A52DA802827:LeaderElection5] INFO  impl.RaftServerImpl (ServerState.java:setLeader(263)) - 8f59fcec-3de7-4ca1-83cc-1c3fdc9009a8:group-2A52DA802827 change Leader from null to 8f59fcec-3de7-4ca1-83cc-1c3fdc9009a8 at term 1 for becomeLeader, leader elected after 5166ms
2019-08-22 22:40:15,935 [8f59fcec-3de7-4ca1-83cc-1c3fdc9009a8:group-2A52DA802827:LeaderElection5] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.staging.catchup.gap = 1000 (default)
2019-08-22 22:40:15,935 [8f59fcec-3de7-4ca1-83cc-1c3fdc9009a8:group-2A52DA802827:LeaderElection5] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.rpc.sleep.time = 25ms (default)
2019-08-22 22:40:15,936 [8f59fcec-3de7-4ca1-83cc-1c3fdc9009a8:group-2A52DA802827:LeaderElection5] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.write.element-limit = 4096 (default)
2019-08-22 22:40:15,936 [8f59fcec-3de7-4ca1-83cc-1c3fdc9009a8:group-2A52DA802827:LeaderElection5] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.watch.timeout = 10s (default)
2019-08-22 22:40:15,936 [8f59fcec-3de7-4ca1-83cc-1c3fdc9009a8:group-2A52DA802827:LeaderElection5] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.watch.timeout.denomination = 1s (default)
2019-08-22 22:40:15,936 [8f59fcec-3de7-4ca1-83cc-1c3fdc9009a8:group-2A52DA802827:LeaderElection5] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.watch.element-limit = 65536 (default)
2019-08-22 22:40:15,937 [8f59fcec-3de7-4ca1-83cc-1c3fdc9009a8:group-2A52DA802827:LeaderElection5] INFO  impl.RoleInfo (RoleInfo.java:updateAndGet(143)) - 8f59fcec-3de7-4ca1-83cc-1c3fdc9009a8: start LeaderState
2019-08-22 22:40:15,937 [8f59fcec-3de7-4ca1-83cc-1c3fdc9009a8:group-2A52DA802827:LeaderElection5] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:startLogSegment(380)) - 8f59fcec-3de7-4ca1-83cc-1c3fdc9009a8-SegmentedRaftLogWorker:Storage Directory /workdir/hadoop-ozone/integration-test/target/test-dir/MiniOzoneClusterImpl-f0450dcd-a238-40b4-8f72-c6c0c5421345/datanode-0/data/ratis/f5124a48-1560-4e84-96f8-2a52da802827: Starting segment from index:0
2019-08-22 22:40:15,938 [8f59fcec-3de7-4ca1-83cc-1c3fdc9009a8:group-2A52DA802827:LeaderElection5] INFO  impl.RaftServerImpl (ServerState.java:setRaftConf(361)) - 8f59fcec-3de7-4ca1-83cc-1c3fdc9009a8:group-2A52DA802827 set configuration 0: [8f59fcec-3de7-4ca1-83cc-1c3fdc9009a8:192.168.36.125:43977], old=null at 0
2019-08-22 22:40:15,996 [8f59fcec-3de7-4ca1-83cc-1c3fdc9009a8-SegmentedRaftLogWorker:Storage Directory /workdir/hadoop-ozone/integration-test/target/test-dir/MiniOzoneClusterImpl-f0450dcd-a238-40b4-8f72-c6c0c5421345/datanode-0/data/ratis/f5124a48-1560-4e84-96f8-2a52da802827] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:execute(569)) - 8f59fcec-3de7-4ca1-83cc-1c3fdc9009a8-SegmentedRaftLogWorker:Storage Directory /workdir/hadoop-ozone/integration-test/target/test-dir/MiniOzoneClusterImpl-f0450dcd-a238-40b4-8f72-c6c0c5421345/datanode-0/data/ratis/f5124a48-1560-4e84-96f8-2a52da802827: created new log segment /workdir/hadoop-ozone/integration-test/target/test-dir/MiniOzoneClusterImpl-f0450dcd-a238-40b4-8f72-c6c0c5421345/datanode-0/data/ratis/f5124a48-1560-4e84-96f8-2a52da802827/current/log_inprogress_0
2019-08-22 22:40:16,075 | INFO  | SCMAudit | user=jenkins1000 | ip=192.168.36.125 | op=SEND_HEARTBEAT {datanodeUUID=8f59fcec-3de7-4ca1-83cc-1c3fdc9009a8, command=[]} | ret=SUCCESS |  
2019-08-22 22:40:16,276 | INFO  | SCMAudit | user=jenkins1000 | ip=192.168.36.125 | op=SEND_HEARTBEAT {datanodeUUID=8f59fcec-3de7-4ca1-83cc-1c3fdc9009a8, command=[]} | ret=SUCCESS |  
2019-08-22 22:40:16,475 | INFO  | SCMAudit | user=jenkins1000 | ip=192.168.36.125 | op=SEND_HEARTBEAT {datanodeUUID=8f59fcec-3de7-4ca1-83cc-1c3fdc9009a8, command=[]} | ret=SUCCESS |  
2019-08-22 22:40:16,675 | INFO  | SCMAudit | user=jenkins1000 | ip=192.168.36.125 | op=SEND_HEARTBEAT {datanodeUUID=8f59fcec-3de7-4ca1-83cc-1c3fdc9009a8, command=[]} | ret=SUCCESS |  
2019-08-22 22:40:16,876 | INFO  | SCMAudit | user=jenkins1000 | ip=192.168.36.125 | op=SEND_HEARTBEAT {datanodeUUID=8f59fcec-3de7-4ca1-83cc-1c3fdc9009a8, command=[]} | ret=SUCCESS |  
2019-08-22 22:40:17,076 | INFO  | SCMAudit | user=jenkins1000 | ip=192.168.36.125 | op=SEND_HEARTBEAT {datanodeUUID=8f59fcec-3de7-4ca1-83cc-1c3fdc9009a8, command=[]} | ret=SUCCESS |  
2019-08-22 22:40:17,276 | INFO  | SCMAudit | user=jenkins1000 | ip=192.168.36.125 | op=SEND_HEARTBEAT {datanodeUUID=8f59fcec-3de7-4ca1-83cc-1c3fdc9009a8, command=[]} | ret=SUCCESS |  
2019-08-22 22:40:17,476 | INFO  | SCMAudit | user=jenkins1000 | ip=192.168.36.125 | op=SEND_HEARTBEAT {datanodeUUID=8f59fcec-3de7-4ca1-83cc-1c3fdc9009a8, command=[]} | ret=SUCCESS |  
2019-08-22 22:40:17,677 | INFO  | SCMAudit | user=jenkins1000 | ip=192.168.36.125 | op=SEND_HEARTBEAT {datanodeUUID=8f59fcec-3de7-4ca1-83cc-1c3fdc9009a8, command=[]} | ret=SUCCESS |  
2019-08-22 22:40:17,877 | INFO  | SCMAudit | user=jenkins1000 | ip=192.168.36.125 | op=SEND_HEARTBEAT {datanodeUUID=8f59fcec-3de7-4ca1-83cc-1c3fdc9009a8, command=[]} | ret=SUCCESS |  
2019-08-22 22:40:17,935 | INFO  | DNAudit | user=null | ip=null | op=WRITE_CHUNK {blockData=conID: 4 locID: 102663036058730502 bcsId: 0} | ret=SUCCESS |  
2019-08-22 22:40:17,937 | INFO  | SCMAudit | user=jenkins1000 | ip=192.168.36.125 | op=SEND_HEARTBEAT {datanodeUUID=8f59fcec-3de7-4ca1-83cc-1c3fdc9009a8, command=[]} | ret=SUCCESS |  
2019-08-22 22:40:17,949 | INFO  | DNAudit | user=null | ip=null | op=WRITE_CHUNK {blockData=conID: 4 locID: 102663036058730502 bcsId: 0} | ret=SUCCESS |  
2019-08-22 22:40:17,953 [StateMachineUpdater:8f59fcec-3de7-4ca1-83cc-1c3fdc9009a8:group-2A52DA802827] INFO  ratis.ContainerStateMachine (ContainerStateMachine.java:takeSnapshot(283)) - group-2A52DA802827: Taking a snapshot at:(t:1, i:1) file /workdir/hadoop-ozone/integration-test/target/test-dir/MiniOzoneClusterImpl-f0450dcd-a238-40b4-8f72-c6c0c5421345/datanode-0/data/ratis/f5124a48-1560-4e84-96f8-2a52da802827/sm/snapshot.1_1
2019-08-22 22:40:17,956 [grpc-default-executor-1] INFO  client.GrpcClientProtocolClient (GrpcClientProtocolClient.java:onNext(255)) - client-6184C8D3F256->8f59fcec-3de7-4ca1-83cc-1c3fdc9009a8: receive RaftClientReply:client-6184C8D3F256->8f59fcec-3de7-4ca1-83cc-1c3fdc9009a8@group-2A52DA802827, cid=22, SUCCESS, logIndex=1, commits[8f59fcec-3de7-4ca1-83cc-1c3fdc9009a8:c2]
2019-08-22 22:40:17,977 [StateMachineUpdater:8f59fcec-3de7-4ca1-83cc-1c3fdc9009a8:group-2A52DA802827] INFO  ratis.ContainerStateMachine (ContainerStateMachine.java:takeSnapshot(294)) - group-2A52DA802827: Finished taking a snapshot at:(t:1, i:1) file:/workdir/hadoop-ozone/integration-test/target/test-dir/MiniOzoneClusterImpl-f0450dcd-a238-40b4-8f72-c6c0c5421345/datanode-0/data/ratis/f5124a48-1560-4e84-96f8-2a52da802827/sm/snapshot.1_1 time:24
2019-08-22 22:40:17,977 [StateMachineUpdater:8f59fcec-3de7-4ca1-83cc-1c3fdc9009a8:group-2A52DA802827] INFO  impl.StateMachineUpdater (StateMachineUpdater.java:takeSnapshot(242)) - StateMachineUpdater:8f59fcec-3de7-4ca1-83cc-1c3fdc9009a8:group-2A52DA802827: Took a snapshot at index 1
2019-08-22 22:40:17,977 [StateMachineUpdater:8f59fcec-3de7-4ca1-83cc-1c3fdc9009a8:group-2A52DA802827] INFO  impl.StateMachineUpdater (StateMachineUpdater.java:lambda$new$0(80)) - StateMachineUpdater:8f59fcec-3de7-4ca1-83cc-1c3fdc9009a8:group-2A52DA802827: snapshotIndex: updateIncreasingly -1 -> 1
2019-08-22 22:40:18,051 | INFO  | DNAudit | user=null | ip=null | op=PUT_BLOCK {blockData=[blockId=conID: 4 locID: 102663036058730502 bcsId: 0,size=5]} | ret=SUCCESS |  
2019-08-22 22:40:18,051 [StateMachineUpdater:8f59fcec-3de7-4ca1-83cc-1c3fdc9009a8:group-2A52DA802827] INFO  ratis.ContainerStateMachine (ContainerStateMachine.java:takeSnapshot(283)) - group-2A52DA802827: Taking a snapshot at:(t:1, i:3) file /workdir/hadoop-ozone/integration-test/target/test-dir/MiniOzoneClusterImpl-f0450dcd-a238-40b4-8f72-c6c0c5421345/datanode-0/data/ratis/f5124a48-1560-4e84-96f8-2a52da802827/sm/snapshot.1_3
2019-08-22 22:40:18,055 [grpc-default-executor-1] INFO  client.GrpcClientProtocolClient (GrpcClientProtocolClient.java:onNext(255)) - client-6184C8D3F256->8f59fcec-3de7-4ca1-83cc-1c3fdc9009a8: receive RaftClientReply:client-6184C8D3F256->8f59fcec-3de7-4ca1-83cc-1c3fdc9009a8@group-2A52DA802827, cid=23, SUCCESS, logIndex=3, commits[8f59fcec-3de7-4ca1-83cc-1c3fdc9009a8:c4]
2019-08-22 22:40:18,060 | INFO  | DNAudit | user=null | ip=null | op=WRITE_CHUNK {blockData=conID: 4 locID: 102663036058730502 bcsId: 3} | ret=SUCCESS |  
2019-08-22 22:40:18,074 [StateMachineUpdater:8f59fcec-3de7-4ca1-83cc-1c3fdc9009a8:group-2A52DA802827] INFO  ratis.ContainerStateMachine (ContainerStateMachine.java:takeSnapshot(294)) - group-2A52DA802827: Finished taking a snapshot at:(t:1, i:3) file:/workdir/hadoop-ozone/integration-test/target/test-dir/MiniOzoneClusterImpl-f0450dcd-a238-40b4-8f72-c6c0c5421345/datanode-0/data/ratis/f5124a48-1560-4e84-96f8-2a52da802827/sm/snapshot.1_3 time:23
2019-08-22 22:40:18,075 [StateMachineUpdater:8f59fcec-3de7-4ca1-83cc-1c3fdc9009a8:group-2A52DA802827] INFO  impl.StateMachineUpdater (StateMachineUpdater.java:takeSnapshot(242)) - StateMachineUpdater:8f59fcec-3de7-4ca1-83cc-1c3fdc9009a8:group-2A52DA802827: Took a snapshot at index 3
2019-08-22 22:40:18,075 [StateMachineUpdater:8f59fcec-3de7-4ca1-83cc-1c3fdc9009a8:group-2A52DA802827] INFO  impl.StateMachineUpdater (StateMachineUpdater.java:lambda$new$0(80)) - StateMachineUpdater:8f59fcec-3de7-4ca1-83cc-1c3fdc9009a8:group-2A52DA802827: snapshotIndex: updateIncreasingly 1 -> 3
2019-08-22 22:40:18,076 | INFO  | DNAudit | user=null | ip=null | op=WRITE_CHUNK {blockData=conID: 4 locID: 102663036058730502 bcsId: 3} | ret=SUCCESS |  
2019-08-22 22:40:18,077 | INFO  | DNAudit | user=null | ip=null | op=PUT_BLOCK {blockData=[blockId=conID: 4 locID: 102663036058730502 bcsId: 0,size=10]} | ret=SUCCESS |  
2019-08-22 22:40:18,077 [grpc-default-executor-1] INFO  client.GrpcClientProtocolClient (GrpcClientProtocolClient.java:onNext(255)) - client-6184C8D3F256->8f59fcec-3de7-4ca1-83cc-1c3fdc9009a8: receive RaftClientReply:client-6184C8D3F256->8f59fcec-3de7-4ca1-83cc-1c3fdc9009a8@group-2A52DA802827, cid=25, SUCCESS, logIndex=5, commits[8f59fcec-3de7-4ca1-83cc-1c3fdc9009a8:c6]
2019-08-22 22:40:18,078 [StateMachineUpdater:8f59fcec-3de7-4ca1-83cc-1c3fdc9009a8:group-2A52DA802827] INFO  ratis.ContainerStateMachine (ContainerStateMachine.java:takeSnapshot(283)) - group-2A52DA802827: Taking a snapshot at:(t:1, i:6) file /workdir/hadoop-ozone/integration-test/target/test-dir/MiniOzoneClusterImpl-f0450dcd-a238-40b4-8f72-c6c0c5421345/datanode-0/data/ratis/f5124a48-1560-4e84-96f8-2a52da802827/sm/snapshot.1_6
2019-08-22 22:40:18,079 [grpc-default-executor-1] INFO  client.GrpcClientProtocolClient (GrpcClientProtocolClient.java:onNext(255)) - client-6184C8D3F256->8f59fcec-3de7-4ca1-83cc-1c3fdc9009a8: receive RaftClientReply:client-6184C8D3F256->8f59fcec-3de7-4ca1-83cc-1c3fdc9009a8@group-2A52DA802827, cid=26, SUCCESS, logIndex=6, commits[8f59fcec-3de7-4ca1-83cc-1c3fdc9009a8:c6]
2019-08-22 22:40:18,083 | INFO  | OMAudit | user=jenkins1000 | ip=127.0.0.1 | op=COMMIT_KEY {volume=testcontainerstatemachinefailures, bucket=testcontainerstatemachinefailures, key=ratis, dataSize=10, replicationType=null, replicationFactor=null, keyLocationInfo=[{blockID={containerID=4, localID=102663036058730502}, length=10, offset=0, token=null, pipeline=Pipeline[ Id: f5124a48-1560-4e84-96f8-2a52da802827, Nodes: 8f59fcec-3de7-4ca1-83cc-1c3fdc9009a8{ip: 192.168.36.125, host: pr-hdds-1975-6rfct-3228563268, networkLocation: /default-rack, certSerialId: null}, Type:RATIS, Factor:ONE, State:OPEN], createVersion=0}], clientID=102663036058140677} | ret=SUCCESS |  
2019-08-22 22:40:18,095 [StateMachineUpdater:8f59fcec-3de7-4ca1-83cc-1c3fdc9009a8:group-2A52DA802827] INFO  ratis.ContainerStateMachine (ContainerStateMachine.java:takeSnapshot(294)) - group-2A52DA802827: Finished taking a snapshot at:(t:1, i:6) file:/workdir/hadoop-ozone/integration-test/target/test-dir/MiniOzoneClusterImpl-f0450dcd-a238-40b4-8f72-c6c0c5421345/datanode-0/data/ratis/f5124a48-1560-4e84-96f8-2a52da802827/sm/snapshot.1_6 time:17
2019-08-22 22:40:18,095 [StateMachineUpdater:8f59fcec-3de7-4ca1-83cc-1c3fdc9009a8:group-2A52DA802827] INFO  impl.StateMachineUpdater (StateMachineUpdater.java:takeSnapshot(242)) - StateMachineUpdater:8f59fcec-3de7-4ca1-83cc-1c3fdc9009a8:group-2A52DA802827: Took a snapshot at index 6
2019-08-22 22:40:18,095 [StateMachineUpdater:8f59fcec-3de7-4ca1-83cc-1c3fdc9009a8:group-2A52DA802827] INFO  impl.StateMachineUpdater (StateMachineUpdater.java:lambda$new$0(80)) - StateMachineUpdater:8f59fcec-3de7-4ca1-83cc-1c3fdc9009a8:group-2A52DA802827: snapshotIndex: updateIncreasingly 3 -> 6
2019-08-22 22:40:18,096 [StateMachineUpdater:8f59fcec-3de7-4ca1-83cc-1c3fdc9009a8:group-2A52DA802827] INFO  ratis.ContainerStateMachine (ContainerStateMachine.java:takeSnapshot(283)) - group-2A52DA802827: Taking a snapshot at:(t:1, i:6) file /workdir/hadoop-ozone/integration-test/target/test-dir/MiniOzoneClusterImpl-f0450dcd-a238-40b4-8f72-c6c0c5421345/datanode-0/data/ratis/f5124a48-1560-4e84-96f8-2a52da802827/sm/snapshot.1_6
2019-08-22 22:40:18,096 [main] INFO  ozone.MiniOzoneClusterImpl (MiniOzoneClusterImpl.java:getStorageContainerLocationClient(241)) - Creating StorageContainerLocationProtocol RPC client with address /0.0.0.0:40914
2019-08-22 22:40:18,105 | INFO  | SCMAudit | user=jenkins1000 | ip=192.168.36.125 | op=GET_CONTAINER_WITH_PIPELINE {containerID=#4} | ret=SUCCESS |  
2019-08-22 22:40:18,115 [StateMachineUpdater:8f59fcec-3de7-4ca1-83cc-1c3fdc9009a8:group-2A52DA802827] INFO  ratis.ContainerStateMachine (ContainerStateMachine.java:takeSnapshot(294)) - group-2A52DA802827: Finished taking a snapshot at:(t:1, i:6) file:/workdir/hadoop-ozone/integration-test/target/test-dir/MiniOzoneClusterImpl-f0450dcd-a238-40b4-8f72-c6c0c5421345/datanode-0/data/ratis/f5124a48-1560-4e84-96f8-2a52da802827/sm/snapshot.1_6 time:19
2019-08-22 22:40:18,115 [StateMachineUpdater:8f59fcec-3de7-4ca1-83cc-1c3fdc9009a8:group-2A52DA802827] INFO  impl.StateMachineUpdater (StateMachineUpdater.java:takeSnapshot(242)) - StateMachineUpdater:8f59fcec-3de7-4ca1-83cc-1c3fdc9009a8:group-2A52DA802827: Took a snapshot at index 6
2019-08-22 22:40:18,115 [StateMachineUpdater:8f59fcec-3de7-4ca1-83cc-1c3fdc9009a8:group-2A52DA802827] INFO  impl.StateMachineUpdater (StateMachineUpdater.java:lambda$new$0(80)) - StateMachineUpdater:8f59fcec-3de7-4ca1-83cc-1c3fdc9009a8:group-2A52DA802827: snapshotIndex: updateIncreasingly 6 -> 6
2019-08-22 22:40:18,125 [RatisApplyTransactionExecutor 4] INFO  keyvalue.KeyValueHandler (ContainerUtils.java:logAndReturnError(146)) - Operation: CloseContainer : Trace ID: f2f277dc27e70856:f2f277dc27e70856:0:0 : Message: Error while creating/ updating .container file. ContainerID: 4 : Result: CONTAINER_FILES_CREATE_ERROR
2019-08-22 22:40:18,126 [RatisApplyTransactionExecutor 4] WARN  keyvalue.KeyValueHandler (KeyValueHandler.java:markContainerUnhealthy(909)) - Unexpected error while marking container 4 as unhealthy
org.apache.hadoop.hdds.scm.container.common.helpers.StorageContainerException: Error while creating/ updating .container file. ContainerID: 4
	at org.apache.hadoop.ozone.container.keyvalue.KeyValueContainer.writeToContainerFile(KeyValueContainer.java:231)
	at org.apache.hadoop.ozone.container.keyvalue.KeyValueContainer.updateContainerFile(KeyValueContainer.java:251)
	at org.apache.hadoop.ozone.container.keyvalue.KeyValueContainer.updateContainerData(KeyValueContainer.java:339)
	at org.apache.hadoop.ozone.container.keyvalue.KeyValueContainer.markContainerUnhealthy(KeyValueContainer.java:292)
	at org.apache.hadoop.ozone.container.keyvalue.KeyValueHandler.markContainerUnhealthy(KeyValueHandler.java:904)
	at org.apache.hadoop.ozone.container.common.impl.HddsDispatcher.dispatchRequest(HddsDispatcher.java:303)
	at org.apache.hadoop.ozone.container.common.impl.HddsDispatcher.dispatch(HddsDispatcher.java:148)
	at org.apache.hadoop.ozone.container.common.transport.server.ratis.ContainerStateMachine.dispatchCommand(ContainerStateMachine.java:395)
	at org.apache.hadoop.ozone.container.common.transport.server.ratis.ContainerStateMachine.runCommand(ContainerStateMachine.java:403)
	at org.apache.hadoop.ozone.container.common.transport.server.ratis.ContainerStateMachine.lambda$applyTransaction$6(ContainerStateMachine.java:691)
	at java.util.concurrent.CompletableFuture$AsyncSupply.run(CompletableFuture.java:1590)
	at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1149)
	at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:624)
	at java.lang.Thread.run(Thread.java:748)
Caused by: java.io.IOException: No such file or directory
	at java.io.UnixFileSystem.createFileExclusively(Native Method)
	at java.io.File.createTempFile(File.java:2024)
	at org.apache.hadoop.ozone.container.keyvalue.KeyValueContainer.createTempFile(KeyValueContainer.java:707)
	at org.apache.hadoop.ozone.container.keyvalue.KeyValueContainer.writeToContainerFile(KeyValueContainer.java:216)
	... 13 more
2019-08-22 22:40:18,127 | ERROR | DNAudit | user=null | ip=null | op=CLOSE_CONTAINER {containerID=4} | ret=FAILURE | java.lang.Exception: Error while creating/ updating .container file. ContainerID: 4
	at org.apache.hadoop.ozone.container.common.impl.HddsDispatcher.dispatchRequest(HddsDispatcher.java:320)
	at org.apache.hadoop.ozone.container.common.impl.HddsDispatcher.dispatch(HddsDispatcher.java:148) 
2019-08-22 22:40:18,127 [RatisApplyTransactionExecutor 4] ERROR ratis.ContainerStateMachine (ContainerStateMachine.java:lambda$applyTransaction$7(702)) - gid group-2A52DA802827 : ApplyTransaction failed. cmd CloseContainer logIndex 8 msg : Error while creating/ updating .container file. ContainerID: 4 Container Result: CONTAINER_FILES_CREATE_ERROR
2019-08-22 22:40:18,131 | INFO  | SCMAudit | user=jenkins1000 | ip=192.168.36.125 | op=SEND_HEARTBEAT {datanodeUUID=8f59fcec-3de7-4ca1-83cc-1c3fdc9009a8, command=[]} | ret=SUCCESS |  
2019-08-22 22:40:18,130 [StateMachineUpdater:8f59fcec-3de7-4ca1-83cc-1c3fdc9009a8:group-2A52DA802827] ERROR impl.StateMachineUpdater (StateMachineUpdater.java:run(168)) - StateMachineUpdater:8f59fcec-3de7-4ca1-83cc-1c3fdc9009a8:group-2A52DA802827: the StateMachineUpdater hits Throwable
java.util.concurrent.ExecutionException: org.apache.hadoop.hdds.scm.container.common.helpers.StorageContainerException: Error while creating/ updating .container file. ContainerID: 4
	at java.util.concurrent.CompletableFuture.reportGet(CompletableFuture.java:357)
	at java.util.concurrent.CompletableFuture.get(CompletableFuture.java:1895)
	at org.apache.ratis.server.impl.StateMachineUpdater.run(StateMachineUpdater.java:149)
	at java.lang.Thread.run(Thread.java:748)
Caused by: org.apache.hadoop.hdds.scm.container.common.helpers.StorageContainerException: Error while creating/ updating .container file. ContainerID: 4
	at org.apache.hadoop.ozone.container.common.transport.server.ratis.ContainerStateMachine.lambda$applyTransaction$7(ContainerStateMachine.java:701)
	at java.util.concurrent.CompletableFuture.uniApply(CompletableFuture.java:602)
	at java.util.concurrent.CompletableFuture$UniApply.tryFire(CompletableFuture.java:577)
	at java.util.concurrent.CompletableFuture.postComplete(CompletableFuture.java:474)
	at java.util.concurrent.CompletableFuture$AsyncSupply.run(CompletableFuture.java:1595)
	at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1149)
	at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:624)
	... 1 more
2019-08-22 22:40:18,131 [EventQueue-IncrementalContainerReportForIncrementalContainerReportHandler] WARN  container.IncrementalContainerReportHandler (AbstractContainerReportHandler.java:updateContainerState(143)) - Container #4 is in OPEN state, but the datanode 8f59fcec-3de7-4ca1-83cc-1c3fdc9009a8{ip: 192.168.36.125, host: pr-hdds-1975-6rfct-3228563268, networkLocation: /default-rack, certSerialId: null} reports an UNHEALTHY replica.
2019-08-22 22:40:18,131 [EventQueue-CloseContainerForCloseContainerEventHandler] INFO  container.CloseContainerEventHandler (CloseContainerEventHandler.java:onMessage(61)) - Close container Event triggered for container : #4
2019-08-22 22:40:18,131 [RatisApplyTransactionExecutor 4] ERROR ratis.XceiverServerRatis (XceiverServerRatis.java:triggerPipelineClose(561)) - pipeline Action CLOSE  on pipeline PipelineID=f5124a48-1560-4e84-96f8-2a52da802827.Reason : Ratis Transaction failure in datanode 8f59fcec-3de7-4ca1-83cc-1c3fdc9009a8 with role LEADER .Triggering pipeline close action.
2019-08-22 22:40:18,133 [StateMachineUpdater:8f59fcec-3de7-4ca1-83cc-1c3fdc9009a8:group-2A52DA802827] INFO  impl.RaftServerImpl (RaftServerImpl.java:lambda$shutdown$3(245)) - 8f59fcec-3de7-4ca1-83cc-1c3fdc9009a8: shutdown group-2A52DA802827
2019-08-22 22:40:18,134 [StateMachineUpdater:8f59fcec-3de7-4ca1-83cc-1c3fdc9009a8:group-2A52DA802827] INFO  util.JmxRegister (JmxRegister.java:unregister(73)) - Successfully un-registered JMX Bean with object name Ratis:service=RaftServer,group=group-2A52DA802827,id=8f59fcec-3de7-4ca1-83cc-1c3fdc9009a8
2019-08-22 22:40:18,134 [StateMachineUpdater:8f59fcec-3de7-4ca1-83cc-1c3fdc9009a8:group-2A52DA802827] INFO  impl.RoleInfo (RoleInfo.java:shutdownLeaderState(104)) - 8f59fcec-3de7-4ca1-83cc-1c3fdc9009a8: shutdown LeaderState
2019-08-22 22:40:18,135 [StateMachineUpdater:8f59fcec-3de7-4ca1-83cc-1c3fdc9009a8:group-2A52DA802827] INFO  impl.PendingRequests (PendingRequests.java:sendNotLeaderResponses(202)) - 8f59fcec-3de7-4ca1-83cc-1c3fdc9009a8-PendingRequests: sendNotLeaderResponses
2019-08-22 22:40:18,137 [EventQueue-PipelineActionsForPipelineActionHandler] ERROR pipeline.PipelineActionHandler (PipelineActionHandler.java:onMessage(60)) - Received pipeline action CLOSE for Pipeline[ Id: f5124a48-1560-4e84-96f8-2a52da802827, Nodes: 8f59fcec-3de7-4ca1-83cc-1c3fdc9009a8{ip: 192.168.36.125, host: pr-hdds-1975-6rfct-3228563268, networkLocation: /default-rack, certSerialId: null}, Type:RATIS, Factor:ONE, State:OPEN] from datanode 8f59fcec-3de7-4ca1-83cc-1c3fdc9009a8{ip: 192.168.36.125, host: pr-hdds-1975-6rfct-3228563268, networkLocation: /default-rack, certSerialId: null}. Reason : Ratis Transaction failure in datanode 8f59fcec-3de7-4ca1-83cc-1c3fdc9009a8 with role LEADER .Triggering pipeline close action.
2019-08-22 22:40:18,142 [EventQueue-PipelineActionsForPipelineActionHandler] INFO  pipeline.SCMPipelineManager (SCMPipelineManager.java:finalizeAndDestroyPipeline(309)) - destroying pipeline:Pipeline[ Id: f5124a48-1560-4e84-96f8-2a52da802827, Nodes: 8f59fcec-3de7-4ca1-83cc-1c3fdc9009a8{ip: 192.168.36.125, host: pr-hdds-1975-6rfct-3228563268, networkLocation: /default-rack, certSerialId: null}, Type:RATIS, Factor:ONE, State:OPEN]
2019-08-22 22:40:18,142 [StateMachineUpdater:8f59fcec-3de7-4ca1-83cc-1c3fdc9009a8:group-2A52DA802827] INFO  impl.StateMachineUpdater (StateMachineUpdater.java:stopAndJoin(115)) - StateMachineUpdater:8f59fcec-3de7-4ca1-83cc-1c3fdc9009a8:group-2A52DA802827: set stopIndex = 8
2019-08-22 22:40:18,142 [EventQueue-PipelineActionsForPipelineActionHandler] INFO  pipeline.PipelineStateManager (PipelineStateManager.java:finalizePipeline(123)) - Pipeline Pipeline[ Id: f5124a48-1560-4e84-96f8-2a52da802827, Nodes: 8f59fcec-3de7-4ca1-83cc-1c3fdc9009a8{ip: 192.168.36.125, host: pr-hdds-1975-6rfct-3228563268, networkLocation: /default-rack, certSerialId: null}, Type:RATIS, Factor:ONE, State:CLOSED] moved to CLOSED state
2019-08-22 22:40:18,144 | INFO  | SCMAudit | user=jenkins1000 | ip=192.168.36.125 | op=SEND_HEARTBEAT {datanodeUUID=8f59fcec-3de7-4ca1-83cc-1c3fdc9009a8, command=[commandType: closeContainerCommand closeContainerCommandProto { containerID: 4 pipelineID { id: "f5124a48-1560-4e84-96f8-2a52da802827" } cmdId: 4 force: false } ]} | ret=SUCCESS |  
2019-08-22 22:40:18,275 [Command processor thread] ERROR commandhandler.CloseContainerCommandHandler (CloseContainerCommandHandler.java:handle(124)) - Can't close container #4
java.io.IOException: org.apache.ratis.protocol.ServerNotReadyException: Server 8f59fcec-3de7-4ca1-83cc-1c3fdc9009a8 is not [RUNNING]: current state is CLOSING
	at org.apache.hadoop.ozone.container.common.transport.server.ratis.XceiverServerRatis.submitRequest(XceiverServerRatis.java:495)
	at org.apache.hadoop.ozone.container.common.statemachine.commandhandler.CloseContainerCommandHandler.handle(CloseContainerCommandHandler.java:109)
	at org.apache.hadoop.ozone.container.common.statemachine.commandhandler.CommandDispatcher.handle(CommandDispatcher.java:93)
	at org.apache.hadoop.ozone.container.common.statemachine.DatanodeStateMachine.lambda$initCommandHandlerThread$1(DatanodeStateMachine.java:432)
	at java.lang.Thread.run(Thread.java:748)
Caused by: java.util.concurrent.ExecutionException: org.apache.ratis.protocol.ServerNotReadyException: Server 8f59fcec-3de7-4ca1-83cc-1c3fdc9009a8 is not [RUNNING]: current state is CLOSING
	at java.util.concurrent.CompletableFuture.reportGet(CompletableFuture.java:357)
	at java.util.concurrent.CompletableFuture.get(CompletableFuture.java:1895)
	at org.apache.hadoop.ozone.container.common.transport.server.ratis.XceiverServerRatis.submitRequest(XceiverServerRatis.java:493)
	... 4 more
Caused by: org.apache.ratis.protocol.ServerNotReadyException: Server 8f59fcec-3de7-4ca1-83cc-1c3fdc9009a8 is not [RUNNING]: current state is CLOSING
	at org.apache.ratis.server.impl.RaftServerImpl.lambda$assertLifeCycleState$10(RaftServerImpl.java:466)
	at org.apache.ratis.util.LifeCycle.assertCurrentState(LifeCycle.java:185)
	at org.apache.ratis.server.impl.RaftServerImpl.assertLifeCycleState(RaftServerImpl.java:465)
	at org.apache.ratis.server.impl.RaftServerImpl.submitClientRequestAsync(RaftServerImpl.java:529)
	at org.apache.ratis.server.impl.RaftServerProxy.lambda$submitClientRequestAsync$7(RaftServerProxy.java:333)
	at org.apache.ratis.server.impl.RaftServerProxy.lambda$null$5(RaftServerProxy.java:328)
	at org.apache.ratis.util.JavaUtils.callAsUnchecked(JavaUtils.java:109)
	at org.apache.ratis.server.impl.RaftServerProxy.lambda$submitRequest$6(RaftServerProxy.java:328)
	at java.util.concurrent.CompletableFuture.uniComposeStage(CompletableFuture.java:981)
	at java.util.concurrent.CompletableFuture.thenCompose(CompletableFuture.java:2124)
	at org.apache.ratis.server.impl.RaftServerProxy.submitRequest(RaftServerProxy.java:327)
	at org.apache.ratis.server.impl.RaftServerProxy.submitClientRequestAsync(RaftServerProxy.java:333)
	... 5 more
2019-08-22 22:40:18,332 | INFO  | SCMAudit | user=jenkins1000 | ip=192.168.36.125 | op=SEND_HEARTBEAT {datanodeUUID=8f59fcec-3de7-4ca1-83cc-1c3fdc9009a8, command=[]} | ret=SUCCESS |  
2019-08-22 22:40:18,532 | INFO  | SCMAudit | user=jenkins1000 | ip=192.168.36.125 | op=SEND_HEARTBEAT {datanodeUUID=8f59fcec-3de7-4ca1-83cc-1c3fdc9009a8, command=[]} | ret=SUCCESS |  
2019-08-22 22:40:18,732 | INFO  | SCMAudit | user=jenkins1000 | ip=192.168.36.125 | op=SEND_HEARTBEAT {datanodeUUID=8f59fcec-3de7-4ca1-83cc-1c3fdc9009a8, command=[]} | ret=SUCCESS |  
2019-08-22 22:40:18,932 | INFO  | SCMAudit | user=jenkins1000 | ip=192.168.36.125 | op=SEND_HEARTBEAT {datanodeUUID=8f59fcec-3de7-4ca1-83cc-1c3fdc9009a8, command=[]} | ret=SUCCESS |  
2019-08-22 22:40:19,132 | INFO  | SCMAudit | user=jenkins1000 | ip=192.168.36.125 | op=SEND_HEARTBEAT {datanodeUUID=8f59fcec-3de7-4ca1-83cc-1c3fdc9009a8, command=[]} | ret=SUCCESS |  
2019-08-22 22:40:19,333 | INFO  | SCMAudit | user=jenkins1000 | ip=192.168.36.125 | op=SEND_HEARTBEAT {datanodeUUID=8f59fcec-3de7-4ca1-83cc-1c3fdc9009a8, command=[]} | ret=SUCCESS |  
2019-08-22 22:40:19,532 | INFO  | SCMAudit | user=jenkins1000 | ip=192.168.36.125 | op=SEND_HEARTBEAT {datanodeUUID=8f59fcec-3de7-4ca1-83cc-1c3fdc9009a8, command=[]} | ret=SUCCESS |  
2019-08-22 22:40:19,732 | INFO  | SCMAudit | user=jenkins1000 | ip=192.168.36.125 | op=SEND_HEARTBEAT {datanodeUUID=8f59fcec-3de7-4ca1-83cc-1c3fdc9009a8, command=[]} | ret=SUCCESS |  
2019-08-22 22:40:19,932 | INFO  | SCMAudit | user=jenkins1000 | ip=192.168.36.125 | op=SEND_HEARTBEAT {datanodeUUID=8f59fcec-3de7-4ca1-83cc-1c3fdc9009a8, command=[]} | ret=SUCCESS |  
2019-08-22 22:40:20,132 | INFO  | SCMAudit | user=jenkins1000 | ip=192.168.36.125 | op=SEND_HEARTBEAT {datanodeUUID=8f59fcec-3de7-4ca1-83cc-1c3fdc9009a8, command=[]} | ret=SUCCESS |  
2019-08-22 22:40:20,333 | INFO  | SCMAudit | user=jenkins1000 | ip=192.168.36.125 | op=SEND_HEARTBEAT {datanodeUUID=8f59fcec-3de7-4ca1-83cc-1c3fdc9009a8, command=[]} | ret=SUCCESS |  
2019-08-22 22:40:20,533 | INFO  | SCMAudit | user=jenkins1000 | ip=192.168.36.125 | op=SEND_HEARTBEAT {datanodeUUID=8f59fcec-3de7-4ca1-83cc-1c3fdc9009a8, command=[]} | ret=SUCCESS |  
2019-08-22 22:40:20,734 | INFO  | SCMAudit | user=jenkins1000 | ip=192.168.36.125 | op=SEND_HEARTBEAT {datanodeUUID=8f59fcec-3de7-4ca1-83cc-1c3fdc9009a8, command=[]} | ret=SUCCESS |  
2019-08-22 22:40:20,933 | INFO  | SCMAudit | user=jenkins1000 | ip=192.168.36.125 | op=SEND_HEARTBEAT {datanodeUUID=8f59fcec-3de7-4ca1-83cc-1c3fdc9009a8, command=[]} | ret=SUCCESS |  
2019-08-22 22:40:21,133 | INFO  | SCMAudit | user=jenkins1000 | ip=192.168.36.125 | op=SEND_HEARTBEAT {datanodeUUID=8f59fcec-3de7-4ca1-83cc-1c3fdc9009a8, command=[]} | ret=SUCCESS |  
2019-08-22 22:40:21,333 | INFO  | SCMAudit | user=jenkins1000 | ip=192.168.36.125 | op=SEND_HEARTBEAT {datanodeUUID=8f59fcec-3de7-4ca1-83cc-1c3fdc9009a8, command=[]} | ret=SUCCESS |  
2019-08-22 22:40:21,533 | INFO  | SCMAudit | user=jenkins1000 | ip=192.168.36.125 | op=SEND_HEARTBEAT {datanodeUUID=8f59fcec-3de7-4ca1-83cc-1c3fdc9009a8, command=[]} | ret=SUCCESS |  
2019-08-22 22:40:21,733 | INFO  | SCMAudit | user=jenkins1000 | ip=192.168.36.125 | op=SEND_HEARTBEAT {datanodeUUID=8f59fcec-3de7-4ca1-83cc-1c3fdc9009a8, command=[]} | ret=SUCCESS |  
2019-08-22 22:40:21,933 | INFO  | SCMAudit | user=jenkins1000 | ip=192.168.36.125 | op=SEND_HEARTBEAT {datanodeUUID=8f59fcec-3de7-4ca1-83cc-1c3fdc9009a8, command=[]} | ret=SUCCESS |  
2019-08-22 22:40:22,133 | INFO  | SCMAudit | user=jenkins1000 | ip=192.168.36.125 | op=SEND_HEARTBEAT {datanodeUUID=8f59fcec-3de7-4ca1-83cc-1c3fdc9009a8, command=[]} | ret=SUCCESS |  
2019-08-22 22:40:22,334 | INFO  | SCMAudit | user=jenkins1000 | ip=192.168.36.125 | op=SEND_HEARTBEAT {datanodeUUID=8f59fcec-3de7-4ca1-83cc-1c3fdc9009a8, command=[]} | ret=SUCCESS |  
2019-08-22 22:40:22,535 | INFO  | SCMAudit | user=jenkins1000 | ip=192.168.36.125 | op=SEND_HEARTBEAT {datanodeUUID=8f59fcec-3de7-4ca1-83cc-1c3fdc9009a8, command=[]} | ret=SUCCESS |  
2019-08-22 22:40:22,735 | INFO  | SCMAudit | user=jenkins1000 | ip=192.168.36.125 | op=SEND_HEARTBEAT {datanodeUUID=8f59fcec-3de7-4ca1-83cc-1c3fdc9009a8, command=[]} | ret=SUCCESS |  
2019-08-22 22:40:22,935 | INFO  | SCMAudit | user=jenkins1000 | ip=192.168.36.125 | op=SEND_HEARTBEAT {datanodeUUID=8f59fcec-3de7-4ca1-83cc-1c3fdc9009a8, command=[]} | ret=SUCCESS |  
2019-08-22 22:40:23,135 | INFO  | SCMAudit | user=jenkins1000 | ip=192.168.36.125 | op=SEND_HEARTBEAT {datanodeUUID=8f59fcec-3de7-4ca1-83cc-1c3fdc9009a8, command=[]} | ret=SUCCESS |  
2019-08-22 22:40:23,335 | INFO  | SCMAudit | user=jenkins1000 | ip=192.168.36.125 | op=SEND_HEARTBEAT {datanodeUUID=8f59fcec-3de7-4ca1-83cc-1c3fdc9009a8, command=[]} | ret=SUCCESS |  
2019-08-22 22:40:23,535 | INFO  | SCMAudit | user=jenkins1000 | ip=192.168.36.125 | op=SEND_HEARTBEAT {datanodeUUID=8f59fcec-3de7-4ca1-83cc-1c3fdc9009a8, command=[]} | ret=SUCCESS |  
2019-08-22 22:40:23,735 | INFO  | SCMAudit | user=jenkins1000 | ip=192.168.36.125 | op=SEND_HEARTBEAT {datanodeUUID=8f59fcec-3de7-4ca1-83cc-1c3fdc9009a8, command=[]} | ret=SUCCESS |  
2019-08-22 22:40:23,935 | INFO  | SCMAudit | user=jenkins1000 | ip=192.168.36.125 | op=SEND_HEARTBEAT {datanodeUUID=8f59fcec-3de7-4ca1-83cc-1c3fdc9009a8, command=[]} | ret=SUCCESS |  
2019-08-22 22:40:24,135 | INFO  | SCMAudit | user=jenkins1000 | ip=192.168.36.125 | op=SEND_HEARTBEAT {datanodeUUID=8f59fcec-3de7-4ca1-83cc-1c3fdc9009a8, command=[]} | ret=SUCCESS |  
2019-08-22 22:40:24,335 | INFO  | SCMAudit | user=jenkins1000 | ip=192.168.36.125 | op=SEND_HEARTBEAT {datanodeUUID=8f59fcec-3de7-4ca1-83cc-1c3fdc9009a8, command=[]} | ret=SUCCESS |  
2019-08-22 22:40:24,535 | INFO  | SCMAudit | user=jenkins1000 | ip=192.168.36.125 | op=SEND_HEARTBEAT {datanodeUUID=8f59fcec-3de7-4ca1-83cc-1c3fdc9009a8, command=[]} | ret=SUCCESS |  
2019-08-22 22:40:24,735 | INFO  | SCMAudit | user=jenkins1000 | ip=192.168.36.125 | op=SEND_HEARTBEAT {datanodeUUID=8f59fcec-3de7-4ca1-83cc-1c3fdc9009a8, command=[]} | ret=SUCCESS |  
2019-08-22 22:40:24,936 | INFO  | SCMAudit | user=jenkins1000 | ip=192.168.36.125 | op=SEND_HEARTBEAT {datanodeUUID=8f59fcec-3de7-4ca1-83cc-1c3fdc9009a8, command=[]} | ret=SUCCESS |  
2019-08-22 22:40:25,135 | INFO  | SCMAudit | user=jenkins1000 | ip=192.168.36.125 | op=SEND_HEARTBEAT {datanodeUUID=8f59fcec-3de7-4ca1-83cc-1c3fdc9009a8, command=[]} | ret=SUCCESS |  
2019-08-22 22:40:25,335 | INFO  | SCMAudit | user=jenkins1000 | ip=192.168.36.125 | op=SEND_HEARTBEAT {datanodeUUID=8f59fcec-3de7-4ca1-83cc-1c3fdc9009a8, command=[]} | ret=SUCCESS |  
2019-08-22 22:40:25,536 | INFO  | SCMAudit | user=jenkins1000 | ip=192.168.36.125 | op=SEND_HEARTBEAT {datanodeUUID=8f59fcec-3de7-4ca1-83cc-1c3fdc9009a8, command=[]} | ret=SUCCESS |  
2019-08-22 22:40:25,736 | INFO  | SCMAudit | user=jenkins1000 | ip=192.168.36.125 | op=SEND_HEARTBEAT {datanodeUUID=8f59fcec-3de7-4ca1-83cc-1c3fdc9009a8, command=[]} | ret=SUCCESS |  
2019-08-22 22:40:25,936 | INFO  | SCMAudit | user=jenkins1000 | ip=192.168.36.125 | op=SEND_HEARTBEAT {datanodeUUID=8f59fcec-3de7-4ca1-83cc-1c3fdc9009a8, command=[]} | ret=SUCCESS |  
2019-08-22 22:40:26,136 | INFO  | SCMAudit | user=jenkins1000 | ip=192.168.36.125 | op=SEND_HEARTBEAT {datanodeUUID=8f59fcec-3de7-4ca1-83cc-1c3fdc9009a8, command=[]} | ret=SUCCESS |  
2019-08-22 22:40:26,337 | INFO  | SCMAudit | user=jenkins1000 | ip=192.168.36.125 | op=SEND_HEARTBEAT {datanodeUUID=8f59fcec-3de7-4ca1-83cc-1c3fdc9009a8, command=[]} | ret=SUCCESS |  
2019-08-22 22:40:26,536 | INFO  | SCMAudit | user=jenkins1000 | ip=192.168.36.125 | op=SEND_HEARTBEAT {datanodeUUID=8f59fcec-3de7-4ca1-83cc-1c3fdc9009a8, command=[]} | ret=SUCCESS |  
2019-08-22 22:40:26,736 | INFO  | SCMAudit | user=jenkins1000 | ip=192.168.36.125 | op=SEND_HEARTBEAT {datanodeUUID=8f59fcec-3de7-4ca1-83cc-1c3fdc9009a8, command=[]} | ret=SUCCESS |  
2019-08-22 22:40:26,936 | INFO  | SCMAudit | user=jenkins1000 | ip=192.168.36.125 | op=SEND_HEARTBEAT {datanodeUUID=8f59fcec-3de7-4ca1-83cc-1c3fdc9009a8, command=[]} | ret=SUCCESS |  
2019-08-22 22:40:27,137 | INFO  | SCMAudit | user=jenkins1000 | ip=192.168.36.125 | op=SEND_HEARTBEAT {datanodeUUID=8f59fcec-3de7-4ca1-83cc-1c3fdc9009a8, command=[]} | ret=SUCCESS |  
2019-08-22 22:40:27,287 [main] ERROR ratis.ContainerStateMachine (ContainerStateMachine.java:takeSnapshot(277)) - Failed to take snapshot  for group-2A52DA802827 as the stateMachine is unhealthy. The last applied index is at (t:1, i:6)
2019-08-22 22:40:27,288 [main] INFO  ozone.MiniOzoneClusterImpl (MiniOzoneClusterImpl.java:shutdown(321)) - Shutting down the Mini Ozone Cluster
2019-08-22 22:40:27,288 | INFO  | SCMAudit | user=null | ip=null | op=GET_SCM_INFO null | ret=SUCCESS |  
2019-08-22 22:40:27,288 [main] INFO  ozone.MiniOzoneClusterImpl (MiniOzoneClusterImpl.java:stop(336)) - Stopping the Mini Ozone Cluster
2019-08-22 22:40:27,288 [main] INFO  ozone.MiniOzoneClusterImpl (MiniOzoneClusterImpl.java:stop(338)) - Stopping the OzoneManager
2019-08-22 22:40:27,289 [main] INFO  ipc.Server (Server.java:stop(3082)) - Stopping server on 33468
2019-08-22 22:40:27,299 [IPC Server listener on 33468] INFO  ipc.Server (Server.java:run(1185)) - Stopping IPC Server listener on 33468
2019-08-22 22:40:27,300 [main] INFO  ratis.OzoneManagerDoubleBuffer (OzoneManagerDoubleBuffer.java:stop(248)) - Stopping OMDoubleBuffer flush thread
2019-08-22 22:40:27,302 [IPC Server Responder] INFO  ipc.Server (Server.java:run(1319)) - Stopping IPC Server Responder
2019-08-22 22:40:27,308 [OMDoubleBufferFlushThread] INFO  ratis.OzoneManagerDoubleBuffer (OzoneManagerDoubleBuffer.java:flushTransactions(191)) - OMDoubleBuffer flush thread OMDoubleBufferFlushThread is interrupted and will exit. OMDoubleBufferFlushThread
2019-08-22 22:40:27,313 [main] INFO  utils.BackgroundService (BackgroundService.java:shutdown(148)) - Shutting down service KeyDeletingService
2019-08-22 22:40:27,315 [main] INFO  handler.ContextHandler (ContextHandler.java:doStop(910)) - Stopped o.e.j.w.WebAppContext@65bb9029{/,null,UNAVAILABLE}{/ozoneManager}
2019-08-22 22:40:27,316 [main] INFO  server.AbstractConnector (AbstractConnector.java:doStop(318)) - Stopped ServerConnector@1bfe3203{HTTP/1.1,[http/1.1]}{0.0.0.0:0}
2019-08-22 22:40:27,317 [main] INFO  handler.ContextHandler (ContextHandler.java:doStop(910)) - Stopped o.e.j.s.ServletContextHandler@72fe8a4f{/static,file:///workdir/hadoop-ozone/integration-test/target/test-classes/webapps/static,UNAVAILABLE}
2019-08-22 22:40:27,317 [main] INFO  handler.ContextHandler (ContextHandler.java:doStop(910)) - Stopped o.e.j.s.ServletContextHandler@325bb9a6{/logs,file:///workdir/hadoop-ozone/integration-test/target/log,UNAVAILABLE}
2019-08-22 22:40:27,321 [main] INFO  ozone.MiniOzoneClusterImpl (MiniOzoneClusterImpl.java:stop(344)) - Shutting the HddsDatanodes
2019-08-22 22:40:27,321 [main] INFO  datanode.ObjectStoreHandler (ObjectStoreHandler.java:close(155)) - Closing ObjectStoreHandler.
2019-08-22 22:40:27,322 [main] INFO  ozone.HddsDatanodeService (HddsDatanodeService.java:stop(451)) - Stopped plug-in org.apache.hadoop.ozone.web.OzoneHddsDatanodeService@402b4f81
2019-08-22 22:40:27,336 [Datanode State Machine Thread - 0] INFO  statemachine.DatanodeStateMachine (DatanodeStateMachine.java:lambda$startDaemon$0(350)) - Ozone container server started.
2019-08-22 22:40:28,155 [grpc-default-executor-2] INFO  impl.RaftServerProxy (RaftServerProxy.java:remove(95)) - 8f59fcec-3de7-4ca1-83cc-1c3fdc9009a8: remove   LEADER group-2A52DA802827 8f59fcec-3de7-4ca1-83cc-1c3fdc9009a8:t1, leader=8f59fcec-3de7-4ca1-83cc-1c3fdc9009a8, voted=8f59fcec-3de7-4ca1-83cc-1c3fdc9009a8, raftlog=8f59fcec-3de7-4ca1-83cc-1c3fdc9009a8-SegmentedRaftLog:OPENED:c8,f9,i9, conf=0: [8f59fcec-3de7-4ca1-83cc-1c3fdc9009a8:192.168.36.125:43977], old=null CLOSING
2019-08-22 22:40:28,163 [RatisPipelineUtilsThread] INFO  pipeline.PipelineStateManager (PipelineStateManager.java:removePipeline(108)) - Pipeline Pipeline[ Id: f5124a48-1560-4e84-96f8-2a52da802827, Nodes: 8f59fcec-3de7-4ca1-83cc-1c3fdc9009a8{ip: 192.168.36.125, host: pr-hdds-1975-6rfct-3228563268, networkLocation: /default-rack, certSerialId: null}, Type:RATIS, Factor:ONE, State:CLOSED] removed from db
2019-08-22 22:40:28,174 [grpc-default-executor-2] INFO  impl.RaftServerProxy (RaftServerProxy.java:addNew(89)) - 8f59fcec-3de7-4ca1-83cc-1c3fdc9009a8: addNew group-A42A089161B4:[8f59fcec-3de7-4ca1-83cc-1c3fdc9009a8:192.168.36.125:43977] returns group-A42A089161B4:java.util.concurrent.CompletableFuture@4988e5b3[Not completed]
2019-08-22 22:40:28,176 [pool-54-thread-1] INFO  impl.RaftServerImpl (RaftServerImpl.java:<init>(93)) - 8f59fcec-3de7-4ca1-83cc-1c3fdc9009a8: new RaftServerImpl for group-A42A089161B4:[8f59fcec-3de7-4ca1-83cc-1c3fdc9009a8:192.168.36.125:43977] with ContainerStateMachine:uninitialized
2019-08-22 22:40:28,177 [pool-54-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.rpc.timeout.min = 5s (custom)
2019-08-22 22:40:28,177 [pool-54-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.rpc.timeout.max = 5200ms (custom)
2019-08-22 22:40:28,177 [pool-54-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.rpcslowness.timeout = 120s (custom)
2019-08-22 22:40:28,177 [pool-54-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.sleep.deviation.threshold = 300 (default)
2019-08-22 22:40:28,177 [pool-54-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.log.appender.install.snapshot.enabled = false (custom)
2019-08-22 22:40:28,178 [pool-54-thread-1] INFO  impl.RaftServerImpl (ServerState.java:<init>(105)) - 8f59fcec-3de7-4ca1-83cc-1c3fdc9009a8:group-A42A089161B4 ConfigurationManager, init=-1: [8f59fcec-3de7-4ca1-83cc-1c3fdc9009a8:192.168.36.125:43977], old=null, confs=<EMPTY_MAP>
2019-08-22 22:40:28,178 [pool-54-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.storage.dir = [/workdir/hadoop-ozone/integration-test/target/test-dir/MiniOzoneClusterImpl-f0450dcd-a238-40b4-8f72-c6c0c5421345/datanode-0/data/ratis] (custom)
2019-08-22 22:40:28,178 [pool-54-thread-1] INFO  storage.RaftStorageDirectory (RaftStorageDirectory.java:analyzeStorage(246)) - The storage directory /workdir/hadoop-ozone/integration-test/target/test-dir/MiniOzoneClusterImpl-f0450dcd-a238-40b4-8f72-c6c0c5421345/datanode-0/data/ratis/a0ced99b-a971-47f0-8b41-a42a089161b4 does not exist. Creating ...
2019-08-22 22:40:28,530 [pool-54-thread-1] INFO  storage.RaftStorageDirectory (RaftStorageDirectory.java:tryLock(328)) - Lock on /workdir/hadoop-ozone/integration-test/target/test-dir/MiniOzoneClusterImpl-f0450dcd-a238-40b4-8f72-c6c0c5421345/datanode-0/data/ratis/a0ced99b-a971-47f0-8b41-a42a089161b4/in_use.lock acquired by nodename 26847@pr-hdds-1975-6rfct-3228563268
2019-08-22 22:40:28,611 [pool-54-thread-1] INFO  storage.RaftStorage (RaftStorage.java:format(72)) - Storage directory /workdir/hadoop-ozone/integration-test/target/test-dir/MiniOzoneClusterImpl-f0450dcd-a238-40b4-8f72-c6c0c5421345/datanode-0/data/ratis/a0ced99b-a971-47f0-8b41-a42a089161b4 has been successfully formatted.
2019-08-22 22:40:28,611 [pool-54-thread-1] INFO  ratis.ContainerStateMachine (ContainerStateMachine.java:loadSnapshot(226)) - group-A42A089161B4: The snapshot info is null. Setting the last applied indexto:(t:0, i:~)
2019-08-22 22:40:28,611 [pool-54-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.leader.election.timeout = 120s (custom)
2019-08-22 22:40:28,612 [pool-54-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.log.use.memory = false (default)
2019-08-22 22:40:28,612 [pool-54-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.log.purge.gap = 1000000 (custom)
2019-08-22 22:40:28,612 [pool-54-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.log.appender.buffer.byte-limit = 33554432 (custom)
2019-08-22 22:40:28,612 [pool-54-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.log.segment.size.max = 1048576 (custom)
2019-08-22 22:40:28,612 [pool-54-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.log.segment.cache.num.max = 2 (custom)
2019-08-22 22:40:28,612 [pool-54-thread-1] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:<init>(172)) - new 8f59fcec-3de7-4ca1-83cc-1c3fdc9009a8-SegmentedRaftLogWorker:Storage Directory /workdir/hadoop-ozone/integration-test/target/test-dir/MiniOzoneClusterImpl-f0450dcd-a238-40b4-8f72-c6c0c5421345/datanode-0/data/ratis/a0ced99b-a971-47f0-8b41-a42a089161b4 for RaftStorage:Storage Directory /workdir/hadoop-ozone/integration-test/target/test-dir/MiniOzoneClusterImpl-f0450dcd-a238-40b4-8f72-c6c0c5421345/datanode-0/data/ratis/a0ced99b-a971-47f0-8b41-a42a089161b4
2019-08-22 22:40:28,612 [pool-54-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.log.queue.byte-limit = 2147483647 (custom)
2019-08-22 22:40:28,613 [pool-54-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.log.queue.element-limit = 1024 (custom)
2019-08-22 22:40:28,613 [pool-54-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.log.segment.size.max = 1048576 (custom)
2019-08-22 22:40:28,613 [pool-54-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.log.preallocated.size = 16384 (custom)
2019-08-22 22:40:28,613 [pool-54-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.log.write.buffer.size = 33554432 (custom)
2019-08-22 22:40:28,613 [pool-54-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.log.force.sync.num = 128 (default)
2019-08-22 22:40:28,613 [pool-54-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.log.statemachine.data.sync = true (default)
2019-08-22 22:40:28,613 [pool-54-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.log.statemachine.data.sync.timeout = 10s (default)
2019-08-22 22:40:28,613 [pool-54-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.log.statemachine.data.sync.timeout.retry = -1 (default)
2019-08-22 22:40:28,613 [pool-54-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.log.statemachine.data.caching.enabled = true (custom)
2019-08-22 22:40:28,614 [pool-54-thread-1] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:lambda$new$0(132)) - 8f59fcec-3de7-4ca1-83cc-1c3fdc9009a8-SegmentedRaftLogWorker:Storage Directory /workdir/hadoop-ozone/integration-test/target/test-dir/MiniOzoneClusterImpl-f0450dcd-a238-40b4-8f72-c6c0c5421345/datanode-0/data/ratis/a0ced99b-a971-47f0-8b41-a42a089161b4: flushIndex: setUnconditionally 0 -> -1
2019-08-22 22:40:28,614 [pool-54-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.snapshot.auto.trigger.enabled = true (custom)
2019-08-22 22:40:28,614 [pool-54-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.snapshot.auto.trigger.threshold = 1 (custom)
2019-08-22 22:40:28,614 [pool-54-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.retrycache.expirytime = 600000ms (custom)
2019-08-22 22:40:28,615 [pool-54-thread-1] INFO  impl.RaftServerImpl (RaftServerImpl.java:start(180)) - 8f59fcec-3de7-4ca1-83cc-1c3fdc9009a8: start group-A42A089161B4
2019-08-22 22:40:28,615 [pool-54-thread-1] INFO  impl.RaftServerImpl (RaftServerImpl.java:setRole(171)) - 8f59fcec-3de7-4ca1-83cc-1c3fdc9009a8:group-A42A089161B4 changes role from null to FOLLOWER at term 0 for startAsFollower
2019-08-22 22:40:28,615 [pool-54-thread-1] INFO  impl.RoleInfo (RoleInfo.java:updateAndGet(143)) - 8f59fcec-3de7-4ca1-83cc-1c3fdc9009a8: start FollowerState
2019-08-22 22:40:28,615 [pool-54-thread-1] INFO  util.JmxRegister (JmxRegister.java:tryRegister(44)) - Successfully registered JMX Bean with object name Ratis:service=RaftServer,group=group-A42A089161B4,id=8f59fcec-3de7-4ca1-83cc-1c3fdc9009a8
2019-08-22 22:40:28,621 [RatisPipelineUtilsThread] INFO  pipeline.PipelineStateManager (PipelineStateManager.java:addPipeline(56)) - Created pipeline Pipeline[ Id: a0ced99b-a971-47f0-8b41-a42a089161b4, Nodes: 8f59fcec-3de7-4ca1-83cc-1c3fdc9009a8{ip: 192.168.36.125, host: pr-hdds-1975-6rfct-3228563268, networkLocation: /default-rack, certSerialId: null}, Type:RATIS, Factor:ONE, State:OPEN]
2019-08-22 22:40:30,139 [EventQueue-StaleNodeForStaleNodeHandler] INFO  node.StaleNodeHandler (StaleNodeHandler.java:onMessage(58)) - Datanode 8f59fcec-3de7-4ca1-83cc-1c3fdc9009a8{ip: 192.168.36.125, host: pr-hdds-1975-6rfct-3228563268, networkLocation: /default-rack, certSerialId: null} moved to stale state. Finalizing its pipelines [PipelineID=a0ced99b-a971-47f0-8b41-a42a089161b4]
2019-08-22 22:40:30,139 [EventQueue-StaleNodeForStaleNodeHandler] INFO  pipeline.SCMPipelineManager (SCMPipelineManager.java:finalizeAndDestroyPipeline(309)) - destroying pipeline:Pipeline[ Id: a0ced99b-a971-47f0-8b41-a42a089161b4, Nodes: 8f59fcec-3de7-4ca1-83cc-1c3fdc9009a8{ip: 192.168.36.125, host: pr-hdds-1975-6rfct-3228563268, networkLocation: /default-rack, certSerialId: null}, Type:RATIS, Factor:ONE, State:OPEN]
2019-08-22 22:40:30,139 [EventQueue-StaleNodeForStaleNodeHandler] INFO  pipeline.PipelineStateManager (PipelineStateManager.java:finalizePipeline(123)) - Pipeline Pipeline[ Id: a0ced99b-a971-47f0-8b41-a42a089161b4, Nodes: 8f59fcec-3de7-4ca1-83cc-1c3fdc9009a8{ip: 192.168.36.125, host: pr-hdds-1975-6rfct-3228563268, networkLocation: /default-rack, certSerialId: null}, Type:RATIS, Factor:ONE, State:CLOSED] moved to CLOSED state
2019-08-22 22:40:32,323 [main] INFO  ozoneimpl.OzoneContainer (OzoneContainer.java:stop(199)) - Attempting to stop container services.
2019-08-22 22:40:32,323 [main] INFO  impl.RaftServerProxy (RaftServerProxy.java:lambda$close$4(314)) - 8f59fcec-3de7-4ca1-83cc-1c3fdc9009a8: close
2019-08-22 22:40:32,324 [main] INFO  impl.RaftServerImpl (RaftServerImpl.java:lambda$shutdown$3(245)) - 8f59fcec-3de7-4ca1-83cc-1c3fdc9009a8: shutdown group-A42A089161B4
2019-08-22 22:40:32,324 [main] INFO  util.JmxRegister (JmxRegister.java:unregister(73)) - Successfully un-registered JMX Bean with object name Ratis:service=RaftServer,group=group-A42A089161B4,id=8f59fcec-3de7-4ca1-83cc-1c3fdc9009a8
2019-08-22 22:40:32,324 [main] INFO  impl.RoleInfo (RoleInfo.java:shutdownFollowerState(121)) - 8f59fcec-3de7-4ca1-83cc-1c3fdc9009a8: shutdown FollowerState
2019-08-22 22:40:32,325 [main] INFO  impl.StateMachineUpdater (StateMachineUpdater.java:stopAndJoin(115)) - StateMachineUpdater:8f59fcec-3de7-4ca1-83cc-1c3fdc9009a8:group-A42A089161B4: set stopIndex = -1
2019-08-22 22:40:32,326 [main] INFO  impl.RaftServerImpl (ServerState.java:close(394)) - 8f59fcec-3de7-4ca1-83cc-1c3fdc9009a8:group-A42A089161B4 closes. The last applied log index is -1
2019-08-22 22:40:32,325 [Thread-344] INFO  impl.FollowerState (FollowerState.java:run(114)) - 8f59fcec-3de7-4ca1-83cc-1c3fdc9009a8: FollowerState was interrupted: java.lang.InterruptedException: sleep interrupted
2019-08-22 22:40:32,326 [8f59fcec-3de7-4ca1-83cc-1c3fdc9009a8-SegmentedRaftLogWorker:Storage Directory /workdir/hadoop-ozone/integration-test/target/test-dir/MiniOzoneClusterImpl-f0450dcd-a238-40b4-8f72-c6c0c5421345/datanode-0/data/ratis/a0ced99b-a971-47f0-8b41-a42a089161b4] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:run(313)) - 8f59fcec-3de7-4ca1-83cc-1c3fdc9009a8-SegmentedRaftLogWorker:Storage Directory /workdir/hadoop-ozone/integration-test/target/test-dir/MiniOzoneClusterImpl-f0450dcd-a238-40b4-8f72-c6c0c5421345/datanode-0/data/ratis/a0ced99b-a971-47f0-8b41-a42a089161b4 was interrupted, exiting. There are 0 tasks remaining in the queue.
2019-08-22 22:40:32,327 [main] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:close(228)) - 8f59fcec-3de7-4ca1-83cc-1c3fdc9009a8-SegmentedRaftLogWorker:Storage Directory /workdir/hadoop-ozone/integration-test/target/test-dir/MiniOzoneClusterImpl-f0450dcd-a238-40b4-8f72-c6c0c5421345/datanode-0/data/ratis/a0ced99b-a971-47f0-8b41-a42a089161b4 close()
2019-08-22 22:40:32,328 [main] INFO  server.GrpcService (GrpcService.java:closeImpl(155)) - 8f59fcec-3de7-4ca1-83cc-1c3fdc9009a8: shutdown server with port 43977 now
2019-08-22 22:40:32,329 [main] INFO  server.GrpcService (GrpcService.java:closeImpl(163)) - 8f59fcec-3de7-4ca1-83cc-1c3fdc9009a8: shutdown server with port 43977 successfully
2019-08-22 22:40:32,330 [main] INFO  utils.BackgroundService (BackgroundService.java:shutdown(148)) - Shutting down service BlockDeletingService
2019-08-22 22:40:32,331 [refreshUsed-/workdir/hadoop-ozone/integration-test/target/test-dir/MiniOzoneClusterImpl-f0450dcd-a238-40b4-8f72-c6c0c5421345/datanode-0/data/containers] WARN  fs.CachingGetSpaceUsed (CachingGetSpaceUsed.java:run(183)) - Thread Interrupted waiting to refresh disk information: sleep interrupted
2019-08-22 22:40:32,349 [main] INFO  statemachine.DatanodeStateMachine (DatanodeStateMachine.java:stopDaemon(395)) - Ozone container server stopped.
2019-08-22 22:40:32,350 [main] INFO  handler.ContextHandler (ContextHandler.java:doStop(910)) - Stopped o.e.j.w.WebAppContext@2e0ad709{/,null,UNAVAILABLE}{/hddsDatanode}
2019-08-22 22:40:32,350 [main] INFO  server.AbstractConnector (AbstractConnector.java:doStop(318)) - Stopped ServerConnector@1fe8f5e8{HTTP/1.1,[http/1.1]}{0.0.0.0:39400}
2019-08-22 22:40:32,351 [main] INFO  handler.ContextHandler (ContextHandler.java:doStop(910)) - Stopped o.e.j.s.ServletContextHandler@5175d9ad{/static,jar:file:/home/user/.m2/repository/org/apache/hadoop/hadoop-hdds-container-service/0.5.0-SNAPSHOT/hadoop-hdds-container-service-0.5.0-SNAPSHOT.jar!/webapps/static,UNAVAILABLE}
2019-08-22 22:40:32,351 [main] INFO  handler.ContextHandler (ContextHandler.java:doStop(910)) - Stopped o.e.j.s.ServletContextHandler@34f7b44f{/logs,file:///workdir/hadoop-ozone/integration-test/target/log,UNAVAILABLE}
2019-08-22 22:40:32,352 [main] INFO  ozone.MiniOzoneClusterImpl (MiniOzoneClusterImpl.java:stop(353)) - Stopping the StorageContainerManager
2019-08-22 22:40:32,352 [main] INFO  server.StorageContainerManager (StorageContainerManager.java:stop(797)) - Stopping Replication Manager Service.
2019-08-22 22:40:32,352 [main] INFO  container.ReplicationManager (ReplicationManager.java:stop(193)) - Stopping Replication Monitor Thread.
2019-08-22 22:40:32,352 [main] INFO  server.StorageContainerManager (StorageContainerManager.java:stop(804)) - Stopping Lease Manager of the command watchers
2019-08-22 22:40:32,352 [main] INFO  server.StorageContainerManager (StorageContainerManager.java:stop(811)) - Stopping datanode service RPC server
2019-08-22 22:40:32,353 [main] INFO  server.SCMDatanodeProtocolServer (SCMDatanodeProtocolServer.java:stop(367)) - Stopping the RPC server for DataNodes
2019-08-22 22:40:32,353 [main] INFO  ipc.Server (Server.java:stop(3082)) - Stopping server on 37863
2019-08-22 22:40:32,353 [IPC Server Responder] INFO  ipc.Server (Server.java:run(1319)) - Stopping IPC Server Responder
2019-08-22 22:40:32,353 [IPC Server listener on 37863] INFO  ipc.Server (Server.java:run(1185)) - Stopping IPC Server listener on 37863
2019-08-22 22:40:32,442 [SCM Heartbeat Processing Thread - 0] WARN  node.NodeStateManager (NodeStateManager.java:scheduleNextHealthCheck(646)) - Current Thread is interrupted, shutting down HB processing thread for Node Manager.
2019-08-22 22:40:32,443 [main] INFO  server.StorageContainerManager (StorageContainerManager.java:stop(819)) - Stopping block service RPC server
2019-08-22 22:40:32,443 [main] INFO  server.SCMBlockProtocolServer (SCMBlockProtocolServer.java:stop(148)) - Stopping the RPC server for Block Protocol
2019-08-22 22:40:32,443 [main] INFO  ipc.Server (Server.java:stop(3082)) - Stopping server on 34596
2019-08-22 22:40:32,444 [IPC Server listener on 34596] INFO  ipc.Server (Server.java:run(1185)) - Stopping IPC Server listener on 34596
2019-08-22 22:40:32,444 [main] INFO  server.StorageContainerManager (StorageContainerManager.java:stop(826)) - Stopping the StorageContainerLocationProtocol RPC server
2019-08-22 22:40:32,444 [IPC Server Responder] INFO  ipc.Server (Server.java:run(1319)) - Stopping IPC Server Responder
2019-08-22 22:40:32,444 [main] INFO  server.SCMClientProtocolServer (SCMClientProtocolServer.java:stop(159)) - Stopping the RPC server for Client Protocol
2019-08-22 22:40:32,444 [main] INFO  ipc.Server (Server.java:stop(3082)) - Stopping server on 40914
2019-08-22 22:40:32,445 [IPC Server listener on 40914] INFO  ipc.Server (Server.java:run(1185)) - Stopping IPC Server listener on 40914
2019-08-22 22:40:32,445 [main] INFO  server.StorageContainerManager (StorageContainerManager.java:stop(833)) - Stopping Storage Container Manager HTTP server.
2019-08-22 22:40:32,446 [IPC Server Responder] INFO  ipc.Server (Server.java:run(1319)) - Stopping IPC Server Responder
2019-08-22 22:40:32,446 [main] INFO  handler.ContextHandler (ContextHandler.java:doStop(910)) - Stopped o.e.j.w.WebAppContext@d1f74b8{/,null,UNAVAILABLE}{/scm}
2019-08-22 22:40:32,448 [main] INFO  server.AbstractConnector (AbstractConnector.java:doStop(318)) - Stopped ServerConnector@7072bc39{HTTP/1.1,[http/1.1]}{0.0.0.0:0}
2019-08-22 22:40:32,448 [main] INFO  handler.ContextHandler (ContextHandler.java:doStop(910)) - Stopped o.e.j.s.ServletContextHandler@3f390d63{/static,file:///workdir/hadoop-ozone/integration-test/target/test-classes/webapps/static,UNAVAILABLE}
2019-08-22 22:40:32,449 [main] INFO  handler.ContextHandler (ContextHandler.java:doStop(910)) - Stopped o.e.j.s.ServletContextHandler@1af687fe{/logs,file:///workdir/hadoop-ozone/integration-test/target/log,UNAVAILABLE}
2019-08-22 22:40:32,450 [main] INFO  server.StorageContainerManager (StorageContainerManager.java:stop(844)) - Stopping Block Manager Service.
2019-08-22 22:40:32,450 [main] INFO  utils.BackgroundService (BackgroundService.java:shutdown(148)) - Shutting down service SCMBlockDeletingService
2019-08-22 22:40:32,450 [main] INFO  utils.BackgroundService (BackgroundService.java:shutdown(148)) - Shutting down service SCMBlockDeletingService
2019-08-22 22:40:32,451 [main] INFO  server.StorageContainerManager (StorageContainerManager.java:stop(866)) - Stopping SCM Event Queue.
2019-08-22 22:40:32,457 [main] INFO  impl.MetricsSystemImpl (MetricsSystemImpl.java:stop(210)) - Stopping HddsDatanode metrics system...
2019-08-22 22:40:32,461 [main] INFO  impl.MetricsSystemImpl (MetricsSystemImpl.java:stop(216)) - HddsDatanode metrics system stopped.
