2019-08-29 08:38:16,400 [main] WARN  server.ServerUtils (ServerUtils.java:getScmDbDir(145)) - ozone.scm.db.dirs is not configured. We recommend adding this setting. Falling back to ozone.metadata.dirs instead.
2019-08-29 08:38:16,514 [main] WARN  server.ServerUtils (ServerUtils.java:getScmDbDir(145)) - ozone.scm.db.dirs is not configured. We recommend adding this setting. Falling back to ozone.metadata.dirs instead.
2019-08-29 08:38:16,517 [main] WARN  server.ServerUtils (ServerUtils.java:getScmDbDir(145)) - ozone.scm.db.dirs is not configured. We recommend adding this setting. Falling back to ozone.metadata.dirs instead.
2019-08-29 08:38:16,538 [main] INFO  util.log (Log.java:initialized(192)) - Logging initialized @972ms
2019-08-29 08:38:16,642 [main] INFO  db.DBStoreBuilder (DBStoreBuilder.java:addTable(110)) - using custom profile for table: deletedBlocks
2019-08-29 08:38:16,643 [main] INFO  db.DBStoreBuilder (DBStoreBuilder.java:processTables(161)) - Using default column profile:DBProfile.DISK for Table:deletedBlocks
2019-08-29 08:38:16,643 [main] INFO  db.DBStoreBuilder (DBStoreBuilder.java:addTable(110)) - using custom profile for table: validCerts
2019-08-29 08:38:16,643 [main] INFO  db.DBStoreBuilder (DBStoreBuilder.java:processTables(161)) - Using default column profile:DBProfile.DISK for Table:validCerts
2019-08-29 08:38:16,644 [main] INFO  db.DBStoreBuilder (DBStoreBuilder.java:addTable(110)) - using custom profile for table: revokedCerts
2019-08-29 08:38:16,644 [main] INFO  db.DBStoreBuilder (DBStoreBuilder.java:processTables(161)) - Using default column profile:DBProfile.DISK for Table:revokedCerts
2019-08-29 08:38:16,658 [main] INFO  db.DBStoreBuilder (DBStoreBuilder.java:addTable(110)) - using custom profile for table: default
2019-08-29 08:38:16,658 [main] INFO  db.DBStoreBuilder (DBStoreBuilder.java:processTables(167)) - Using default column profile:DBProfile.DISK for Table:default
2019-08-29 08:38:16,659 [main] INFO  db.DBStoreBuilder (DBStoreBuilder.java:getDbProfile(198)) - Using default options. DBProfile.DISK
2019-08-29 08:38:16,859 [main] INFO  net.NodeSchemaLoader (NodeSchemaLoader.java:loadSchemaFromFile(125)) - Loading file from sun.misc.CompoundEnumeration@6a192cfe
2019-08-29 08:38:16,860 [main] INFO  net.NodeSchemaLoader (NodeSchemaLoader.java:loadSchema(171)) - Loading network topology layer schema file
2019-08-29 08:38:16,930 [main] INFO  node.SCMNodeManager (SCMNodeManager.java:<init>(121)) - Entering startup safe mode.
2019-08-29 08:38:17,026 [main] INFO  algorithms.ContainerPlacementPolicyFactory (ContainerPlacementPolicyFactory.java:getPolicy(57)) - Create container placement policy of type org.apache.hadoop.hdds.scm.container.placement.algorithms.SCMContainerPlacementRandom
2019-08-29 08:38:17,042 [main] WARN  server.ServerUtils (ServerUtils.java:getScmDbDir(145)) - ozone.scm.db.dirs is not configured. We recommend adding this setting. Falling back to ozone.metadata.dirs instead.
2019-08-29 08:38:17,102 [main] INFO  pipeline.SCMPipelineManager (SCMPipelineManager.java:initializePipelineState(126)) - No pipeline exists in current db
2019-08-29 08:38:17,104 [main] WARN  server.ServerUtils (ServerUtils.java:getScmDbDir(145)) - ozone.scm.db.dirs is not configured. We recommend adding this setting. Falling back to ozone.metadata.dirs instead.
2019-08-29 08:38:17,206 [main] WARN  events.EventQueue (EventQueue.java:fireEvent(175)) - No event handler registered for event TypedEvent{payloadType=SafeModeStatus, name='SafeModeStatus'}
2019-08-29 08:38:17,679 [main] INFO  ipc.CallQueueManager (CallQueueManager.java:<init>(84)) - Using callQueue: class java.util.concurrent.LinkedBlockingQueue, queueCapacity: 2000, scheduler: class org.apache.hadoop.ipc.DefaultRpcScheduler, ipcBackoff: false.
2019-08-29 08:38:17,934 [Socket Reader #1 for port 45152] INFO  ipc.Server (Server.java:run(1074)) - Starting Socket Reader #1 for port 45152
2019-08-29 08:38:17,965 [main] INFO  ipc.CallQueueManager (CallQueueManager.java:<init>(84)) - Using callQueue: class java.util.concurrent.LinkedBlockingQueue, queueCapacity: 2000, scheduler: class org.apache.hadoop.ipc.DefaultRpcScheduler, ipcBackoff: false.
2019-08-29 08:38:17,966 [Socket Reader #1 for port 33169] INFO  ipc.Server (Server.java:run(1074)) - Starting Socket Reader #1 for port 33169
2019-08-29 08:38:17,974 [main] INFO  ipc.CallQueueManager (CallQueueManager.java:<init>(84)) - Using callQueue: class java.util.concurrent.LinkedBlockingQueue, queueCapacity: 2000, scheduler: class org.apache.hadoop.ipc.DefaultRpcScheduler, ipcBackoff: false.
2019-08-29 08:38:17,975 [Socket Reader #1 for port 45508] INFO  ipc.Server (Server.java:run(1074)) - Starting Socket Reader #1 for port 45508
2019-08-29 08:38:17,996 [main] INFO  hdfs.DFSUtil (DFSUtil.java:httpServerTemplateForNNAndJN(1641)) - Starting Web-server for scm at: http://0.0.0.0:0
2019-08-29 08:38:18,145 [main] INFO  server.AuthenticationFilter (AuthenticationFilter.java:constructSecretProvider(240)) - Unable to initialize FileSignerSecretProvider, falling back to use random secrets.
2019-08-29 08:38:18,156 [main] WARN  http.HttpRequestLog (HttpRequestLog.java:getRequestLog(97)) - Jetty request log can only be enabled using Log4j
2019-08-29 08:38:18,168 [main] INFO  http.HttpServer2 (HttpServer2.java:addGlobalFilter(975)) - Added global filter 'safety' (class=org.apache.hadoop.http.HttpServer2$QuotingInputFilter)
2019-08-29 08:38:18,171 [main] INFO  http.HttpServer2 (HttpServer2.java:addFilter(948)) - Added filter static_user_filter (class=org.apache.hadoop.http.lib.StaticUserWebFilter$StaticUserFilter) to context scm
2019-08-29 08:38:18,172 [main] INFO  http.HttpServer2 (HttpServer2.java:addFilter(958)) - Added filter static_user_filter (class=org.apache.hadoop.http.lib.StaticUserWebFilter$StaticUserFilter) to context static
2019-08-29 08:38:18,172 [main] INFO  http.HttpServer2 (HttpServer2.java:addFilter(958)) - Added filter static_user_filter (class=org.apache.hadoop.http.lib.StaticUserWebFilter$StaticUserFilter) to context logs
2019-08-29 08:38:18,206 [main] INFO  server.StorageContainerManager (StorageContainerManager.java:start(761)) - StorageContainerLocationProtocol RPC server is listening at /0.0.0.0:45508
2019-08-29 08:38:18,290 [main] WARN  impl.MetricsConfig (MetricsConfig.java:loadFirst(134)) - Cannot locate configuration: tried hadoop-metrics2-storagecontainermanager.properties,hadoop-metrics2.properties
2019-08-29 08:38:18,311 [main] INFO  impl.MetricsSystemImpl (MetricsSystemImpl.java:startTimer(374)) - Scheduled Metric snapshot period at 10 second(s).
2019-08-29 08:38:18,312 [main] INFO  impl.MetricsSystemImpl (MetricsSystemImpl.java:start(191)) - StorageContainerManager metrics system started
2019-08-29 08:38:18,580 [main] INFO  server.SCMClientProtocolServer (SCMClientProtocolServer.java:start(151)) - RPC server for Client  is listening at /0.0.0.0:45508
2019-08-29 08:38:18,581 [IPC Server Responder] INFO  ipc.Server (Server.java:run(1314)) - IPC Server Responder: starting
2019-08-29 08:38:18,581 [IPC Server listener on 45508] INFO  ipc.Server (Server.java:run(1153)) - IPC Server listener on 45508: starting
2019-08-29 08:38:18,583 [main] INFO  server.StorageContainerManager (StorageContainerManager.java:start(771)) - ScmBlockLocationProtocol RPC server is listening at /0.0.0.0:33169
2019-08-29 08:38:18,583 [main] INFO  server.SCMBlockProtocolServer (SCMBlockProtocolServer.java:start(140)) - RPC server for Block Protocol is listening at /0.0.0.0:33169
2019-08-29 08:38:18,584 [IPC Server Responder] INFO  ipc.Server (Server.java:run(1314)) - IPC Server Responder: starting
2019-08-29 08:38:18,584 [IPC Server listener on 33169] INFO  ipc.Server (Server.java:run(1153)) - IPC Server listener on 33169: starting
2019-08-29 08:38:18,591 [main] INFO  server.StorageContainerManager (StorageContainerManager.java:start(775)) - ScmDatanodeProtocl RPC server is listening at /0.0.0.0:45152
2019-08-29 08:38:18,591 [main] INFO  server.SCMDatanodeProtocolServer (SCMDatanodeProtocolServer.java:start(191)) - RPC server for DataNodes is listening at /0.0.0.0:45152
2019-08-29 08:38:18,592 [IPC Server Responder] INFO  ipc.Server (Server.java:run(1314)) - IPC Server Responder: starting
2019-08-29 08:38:18,592 [IPC Server listener on 45152] INFO  ipc.Server (Server.java:run(1153)) - IPC Server listener on 45152: starting
2019-08-29 08:38:18,595 [main] INFO  http.HttpServer2 (HttpServer2.java:bindListener(1191)) - Jetty bound to port 43502
2019-08-29 08:38:18,597 [main] INFO  server.Server (Server.java:doStart(351)) - jetty-9.3.24.v20180605, build timestamp: 2018-06-05T17:11:56Z, git hash: 84205aa28f11a4f31f2a3b86d1bba2cc8ab69827
2019-08-29 08:38:18,635 [main] INFO  handler.ContextHandler (ContextHandler.java:doStart(781)) - Started o.e.j.s.ServletContextHandler@74a6a609{/logs,file:///workdir/hadoop-ozone/integration-test/target/log,AVAILABLE}
2019-08-29 08:38:18,636 [main] INFO  handler.ContextHandler (ContextHandler.java:doStart(781)) - Started o.e.j.s.ServletContextHandler@2374d36a{/static,file:///workdir/hadoop-ozone/integration-test/target/test-classes/webapps/static,AVAILABLE}
2019-08-29 08:38:18,674 [main] INFO  handler.ContextHandler (ContextHandler.java:doStart(781)) - Started o.e.j.w.WebAppContext@21a5fd96{/,file:///workdir/hadoop-ozone/integration-test/target/test-classes/webapps/scm/,AVAILABLE}{/scm}
2019-08-29 08:38:18,680 [main] INFO  server.AbstractConnector (AbstractConnector.java:doStart(278)) - Started ServerConnector@327120c8{HTTP/1.1,[http/1.1]}{0.0.0.0:43502}
2019-08-29 08:38:18,680 [main] INFO  server.Server (Server.java:doStart(419)) - Started @3114ms
2019-08-29 08:38:18,682 [main] INFO  server.BaseHttpServer (BaseHttpServer.java:updateConnectorAddress(213)) - HTTP server of SCM is listening at http://0.0.0.0:43502
2019-08-29 08:38:18,689 [org.apache.hadoop.util.JvmPauseMonitor$Monitor@2555fff0] INFO  util.JvmPauseMonitor (JvmPauseMonitor.java:run(188)) - Starting JVM pause monitor
2019-08-29 08:38:18,692 [main] WARN  server.ServerUtils (ServerUtils.java:getDBPath(222)) - ozone.om.db.dirs is not configured. We recommend adding this setting. Falling back to ozone.metadata.dirs instead.
2019-08-29 08:38:18,797 [main] WARN  server.ServerUtils (ServerUtils.java:getDBPath(222)) - ozone.om.db.dirs is not configured. We recommend adding this setting. Falling back to ozone.metadata.dirs instead.
2019-08-29 08:38:18,798 [main] WARN  server.ServerUtils (ServerUtils.java:getDBPath(222)) - ozone.om.db.dirs is not configured. We recommend adding this setting. Falling back to ozone.metadata.dirs instead.
2019-08-29 08:38:18,799 [main] INFO  om.OzoneManager (OzoneManager.java:setOMNodeDetails(645)) - OM Service ID is not set. Setting it to the default ID: omServiceIdDefault
2019-08-29 08:38:18,799 [main] INFO  om.OzoneManager (OzoneManager.java:setOMNodeDetails(651)) - OM Node ID is not set. Setting it to the OmStorage's OmID: 2d49cfb1-3e10-45e9-a3c5-8dbd8f344cc2
2019-08-29 08:38:18,801 [main] INFO  om.OzoneManager (OzoneManager.java:loadOMHAConfigs(602)) - Found matching OM address with OMServiceId: null, OMNodeId: null, RPC Address: localhost:0 and Ratis port: 9872
2019-08-29 08:38:19,095 | INFO  | SCMAudit | user=jenkins1000 | ip=192.168.34.54 | op=GET_SCM_INFO null | ret=SUCCESS |  
2019-08-29 08:38:19,567 [main] WARN  server.ServerUtils (ServerUtils.java:getDBPath(222)) - ozone.om.db.dirs is not configured. We recommend adding this setting. Falling back to ozone.metadata.dirs instead.
2019-08-29 08:38:19,575 [main] INFO  db.DBStoreBuilder (DBStoreBuilder.java:addTable(110)) - using custom profile for table: userTable
2019-08-29 08:38:19,575 [main] INFO  db.DBStoreBuilder (DBStoreBuilder.java:processTables(161)) - Using default column profile:DBProfile.DISK for Table:userTable
2019-08-29 08:38:19,575 [main] INFO  db.DBStoreBuilder (DBStoreBuilder.java:addTable(110)) - using custom profile for table: volumeTable
2019-08-29 08:38:19,575 [main] INFO  db.DBStoreBuilder (DBStoreBuilder.java:processTables(161)) - Using default column profile:DBProfile.DISK for Table:volumeTable
2019-08-29 08:38:19,576 [main] INFO  db.DBStoreBuilder (DBStoreBuilder.java:addTable(110)) - using custom profile for table: bucketTable
2019-08-29 08:38:19,576 [main] INFO  db.DBStoreBuilder (DBStoreBuilder.java:processTables(161)) - Using default column profile:DBProfile.DISK for Table:bucketTable
2019-08-29 08:38:19,576 [main] INFO  db.DBStoreBuilder (DBStoreBuilder.java:addTable(110)) - using custom profile for table: keyTable
2019-08-29 08:38:19,576 [main] INFO  db.DBStoreBuilder (DBStoreBuilder.java:processTables(161)) - Using default column profile:DBProfile.DISK for Table:keyTable
2019-08-29 08:38:19,576 [main] INFO  db.DBStoreBuilder (DBStoreBuilder.java:addTable(110)) - using custom profile for table: deletedTable
2019-08-29 08:38:19,577 [main] INFO  db.DBStoreBuilder (DBStoreBuilder.java:processTables(161)) - Using default column profile:DBProfile.DISK for Table:deletedTable
2019-08-29 08:38:19,577 [main] INFO  db.DBStoreBuilder (DBStoreBuilder.java:addTable(110)) - using custom profile for table: openKeyTable
2019-08-29 08:38:19,577 [main] INFO  db.DBStoreBuilder (DBStoreBuilder.java:processTables(161)) - Using default column profile:DBProfile.DISK for Table:openKeyTable
2019-08-29 08:38:19,577 [main] INFO  db.DBStoreBuilder (DBStoreBuilder.java:addTable(110)) - using custom profile for table: s3Table
2019-08-29 08:38:19,577 [main] INFO  db.DBStoreBuilder (DBStoreBuilder.java:processTables(161)) - Using default column profile:DBProfile.DISK for Table:s3Table
2019-08-29 08:38:19,578 [main] INFO  db.DBStoreBuilder (DBStoreBuilder.java:addTable(110)) - using custom profile for table: multipartInfoTable
2019-08-29 08:38:19,578 [main] INFO  db.DBStoreBuilder (DBStoreBuilder.java:processTables(161)) - Using default column profile:DBProfile.DISK for Table:multipartInfoTable
2019-08-29 08:38:19,578 [main] INFO  db.DBStoreBuilder (DBStoreBuilder.java:addTable(110)) - using custom profile for table: dTokenTable
2019-08-29 08:38:19,578 [main] INFO  db.DBStoreBuilder (DBStoreBuilder.java:processTables(161)) - Using default column profile:DBProfile.DISK for Table:dTokenTable
2019-08-29 08:38:19,578 [main] INFO  db.DBStoreBuilder (DBStoreBuilder.java:addTable(110)) - using custom profile for table: s3SecretTable
2019-08-29 08:38:19,579 [main] INFO  db.DBStoreBuilder (DBStoreBuilder.java:processTables(161)) - Using default column profile:DBProfile.DISK for Table:s3SecretTable
2019-08-29 08:38:19,579 [main] INFO  db.DBStoreBuilder (DBStoreBuilder.java:addTable(110)) - using custom profile for table: prefixTable
2019-08-29 08:38:19,579 [main] INFO  db.DBStoreBuilder (DBStoreBuilder.java:processTables(161)) - Using default column profile:DBProfile.DISK for Table:prefixTable
2019-08-29 08:38:19,579 [main] INFO  db.DBStoreBuilder (DBStoreBuilder.java:addTable(110)) - using custom profile for table: default
2019-08-29 08:38:19,579 [main] INFO  db.DBStoreBuilder (DBStoreBuilder.java:processTables(167)) - Using default column profile:DBProfile.DISK for Table:default
2019-08-29 08:38:19,580 [main] INFO  db.DBStoreBuilder (DBStoreBuilder.java:getDbProfile(198)) - Using default options. DBProfile.DISK
2019-08-29 08:38:19,948 [main] INFO  ipc.CallQueueManager (CallQueueManager.java:<init>(84)) - Using callQueue: class java.util.concurrent.LinkedBlockingQueue, queueCapacity: 2000, scheduler: class org.apache.hadoop.ipc.DefaultRpcScheduler, ipcBackoff: false.
2019-08-29 08:38:19,949 [Socket Reader #1 for port 37355] INFO  ipc.Server (Server.java:run(1074)) - Starting Socket Reader #1 for port 37355
2019-08-29 08:38:19,973 [main] INFO  om.OzoneManager (OzoneManager.java:start(1256)) - OzoneManager RPC server is listening at localhost/127.0.0.1:37355
2019-08-29 08:38:19,974 [main] INFO  impl.MetricsSystemImpl (MetricsSystemImpl.java:init(158)) - OzoneManager metrics system started (again)
2019-08-29 08:38:19,975 [IPC Server Responder] INFO  ipc.Server (Server.java:run(1314)) - IPC Server Responder: starting
2019-08-29 08:38:19,976 [IPC Server listener on 37355] INFO  ipc.Server (Server.java:run(1153)) - IPC Server listener on 37355: starting
2019-08-29 08:38:19,980 [main] INFO  hdfs.DFSUtil (DFSUtil.java:httpServerTemplateForNNAndJN(1641)) - Starting Web-server for ozoneManager at: http://0.0.0.0:0
2019-08-29 08:38:19,982 [main] INFO  server.AuthenticationFilter (AuthenticationFilter.java:constructSecretProvider(240)) - Unable to initialize FileSignerSecretProvider, falling back to use random secrets.
2019-08-29 08:38:19,983 [main] WARN  http.HttpRequestLog (HttpRequestLog.java:getRequestLog(97)) - Jetty request log can only be enabled using Log4j
2019-08-29 08:38:19,985 [main] INFO  http.HttpServer2 (HttpServer2.java:addGlobalFilter(975)) - Added global filter 'safety' (class=org.apache.hadoop.http.HttpServer2$QuotingInputFilter)
2019-08-29 08:38:19,987 [main] INFO  http.HttpServer2 (HttpServer2.java:addFilter(948)) - Added filter static_user_filter (class=org.apache.hadoop.http.lib.StaticUserWebFilter$StaticUserFilter) to context ozoneManager
2019-08-29 08:38:19,987 [main] INFO  http.HttpServer2 (HttpServer2.java:addFilter(958)) - Added filter static_user_filter (class=org.apache.hadoop.http.lib.StaticUserWebFilter$StaticUserFilter) to context static
2019-08-29 08:38:19,987 [main] INFO  http.HttpServer2 (HttpServer2.java:addFilter(958)) - Added filter static_user_filter (class=org.apache.hadoop.http.lib.StaticUserWebFilter$StaticUserFilter) to context logs
2019-08-29 08:38:19,990 [main] INFO  http.HttpServer2 (HttpServer2.java:bindListener(1191)) - Jetty bound to port 38930
2019-08-29 08:38:19,990 [main] INFO  server.Server (Server.java:doStart(351)) - jetty-9.3.24.v20180605, build timestamp: 2018-06-05T17:11:56Z, git hash: 84205aa28f11a4f31f2a3b86d1bba2cc8ab69827
2019-08-29 08:38:19,992 [main] INFO  handler.ContextHandler (ContextHandler.java:doStart(781)) - Started o.e.j.s.ServletContextHandler@51ec2df1{/logs,file:///workdir/hadoop-ozone/integration-test/target/log,AVAILABLE}
2019-08-29 08:38:19,993 [main] INFO  handler.ContextHandler (ContextHandler.java:doStart(781)) - Started o.e.j.s.ServletContextHandler@15fa55a6{/static,file:///workdir/hadoop-ozone/integration-test/target/test-classes/webapps/static,AVAILABLE}
2019-08-29 08:38:19,999 [main] INFO  handler.ContextHandler (ContextHandler.java:doStart(781)) - Started o.e.j.w.WebAppContext@61f3fbb8{/,file:///workdir/hadoop-ozone/integration-test/target/test-classes/webapps/ozoneManager/,AVAILABLE}{/ozoneManager}
2019-08-29 08:38:20,000 [main] INFO  server.AbstractConnector (AbstractConnector.java:doStart(278)) - Started ServerConnector@7551da2a{HTTP/1.1,[http/1.1]}{0.0.0.0:38930}
2019-08-29 08:38:20,001 [main] INFO  server.Server (Server.java:doStart(419)) - Started @4434ms
2019-08-29 08:38:20,002 [main] INFO  server.BaseHttpServer (BaseHttpServer.java:updateConnectorAddress(213)) - HTTP server of OZONEMANAGER is listening at http://0.0.0.0:38930
2019-08-29 08:38:20,333 [main] INFO  impl.MetricsSystemImpl (MetricsSystemImpl.java:init(158)) - HddsDatanode metrics system started (again)
2019-08-29 08:38:20,441 [main] INFO  ozone.HddsDatanodeService (HddsDatanodeService.java:start(184)) - HddsDatanodeService host:pr-hdds-1553-zhl8q-89899572 ip:192.168.34.54
2019-08-29 08:38:20,476 [main] INFO  volume.HddsVolume (HddsVolume.java:<init>(176)) - Creating Volume: /workdir/hadoop-ozone/integration-test/target/test-dir/MiniOzoneClusterImpl-bffb8a9c-a960-4e2c-a106-63c013a34ce0/datanode-0/data/containers/hdds of  storage type : DISK and capacity : 1482555576320
2019-08-29 08:38:20,478 [main] INFO  volume.VolumeSet (VolumeSet.java:initializeVolumeSet(170)) - Added Volume : /workdir/hadoop-ozone/integration-test/target/test-dir/MiniOzoneClusterImpl-bffb8a9c-a960-4e2c-a106-63c013a34ce0/datanode-0/data/containers/hdds to VolumeSet
2019-08-29 08:38:20,482 [main] INFO  volume.ThrottledAsyncChecker (ThrottledAsyncChecker.java:schedule(140)) - Scheduling a check for org.apache.hadoop.ozone.container.common.volume.HddsVolume@468be356
2019-08-29 08:38:20,501 [main] INFO  volume.HddsVolumeChecker (HddsVolumeChecker.java:checkAllVolumes(203)) - Scheduled health check for volume org.apache.hadoop.ozone.container.common.volume.HddsVolume@468be356
2019-08-29 08:38:20,657 [main] INFO  impl.RaftServerProxy (ConfUtils.java:logGet(43)) - raft.rpc.type = GRPC (default)
2019-08-29 08:38:20,737 [main] INFO  grpc.GrpcFactory (GrpcFactory.java:checkPooledByteBufAllocatorUseCacheForAllThreads(45)) - PERFORMANCE WARNING: useCacheForAllThreads is true that may cause Netty to create a lot garbage objects and, as a result, trigger GC.
	It is recommended to disable useCacheForAllThreads by setting -Dorg.apache.ratis.thirdparty.io.netty.allocator.useCacheForAllThreads=false in command line.
2019-08-29 08:38:20,742 [main] INFO  grpc.GrpcConfigKeys$Server (ConfUtils.java:logGet(43)) - raft.grpc.server.port = 0 (default)
2019-08-29 08:38:20,743 [main] INFO  server.GrpcService (ConfUtils.java:logGet(43)) - raft.grpc.message.size.max = 33570816 (custom)
2019-08-29 08:38:20,745 [main] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.log.appender.buffer.byte-limit = 33554432 (custom)
2019-08-29 08:38:20,746 [main] INFO  server.GrpcService (ConfUtils.java:logGet(43)) - raft.grpc.flow.control.window = 1MB (=1048576) (default)
2019-08-29 08:38:20,747 [main] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.rpc.request.timeout = 3000ms (default)
2019-08-29 08:38:20,904 [main] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.storage.dir = [/workdir/hadoop-ozone/integration-test/target/test-dir/MiniOzoneClusterImpl-bffb8a9c-a960-4e2c-a106-63c013a34ce0/datanode-0/data/ratis] (custom)
2019-08-29 08:38:20,939 [main] INFO  replication.SimpleContainerDownloader (SimpleContainerDownloader.java:<init>(72)) - Starting container downloader service to copy containers to replicate.
2019-08-29 08:38:20,960 [main] INFO  hdfs.DFSUtil (DFSUtil.java:httpServerTemplateForNNAndJN(1641)) - Starting Web-server for hddsDatanode at: http://0.0.0.0:0
2019-08-29 08:38:20,962 [main] INFO  server.AuthenticationFilter (AuthenticationFilter.java:constructSecretProvider(240)) - Unable to initialize FileSignerSecretProvider, falling back to use random secrets.
2019-08-29 08:38:20,962 [main] WARN  http.HttpRequestLog (HttpRequestLog.java:getRequestLog(97)) - Jetty request log can only be enabled using Log4j
2019-08-29 08:38:20,964 [main] INFO  http.HttpServer2 (HttpServer2.java:addGlobalFilter(975)) - Added global filter 'safety' (class=org.apache.hadoop.http.HttpServer2$QuotingInputFilter)
2019-08-29 08:38:20,965 [main] INFO  http.HttpServer2 (HttpServer2.java:addFilter(948)) - Added filter static_user_filter (class=org.apache.hadoop.http.lib.StaticUserWebFilter$StaticUserFilter) to context hddsDatanode
2019-08-29 08:38:20,965 [main] INFO  http.HttpServer2 (HttpServer2.java:addFilter(958)) - Added filter static_user_filter (class=org.apache.hadoop.http.lib.StaticUserWebFilter$StaticUserFilter) to context logs
2019-08-29 08:38:20,965 [main] INFO  http.HttpServer2 (HttpServer2.java:addFilter(958)) - Added filter static_user_filter (class=org.apache.hadoop.http.lib.StaticUserWebFilter$StaticUserFilter) to context static
2019-08-29 08:38:20,967 [main] INFO  http.HttpServer2 (HttpServer2.java:bindListener(1191)) - Jetty bound to port 37142
2019-08-29 08:38:20,967 [main] INFO  server.Server (Server.java:doStart(351)) - jetty-9.3.24.v20180605, build timestamp: 2018-06-05T17:11:56Z, git hash: 84205aa28f11a4f31f2a3b86d1bba2cc8ab69827
2019-08-29 08:38:20,969 [main] INFO  handler.ContextHandler (ContextHandler.java:doStart(781)) - Started o.e.j.s.ServletContextHandler@77a074b4{/logs,file:///workdir/hadoop-ozone/integration-test/target/log,AVAILABLE}
2019-08-29 08:38:20,970 [main] INFO  handler.ContextHandler (ContextHandler.java:doStart(781)) - Started o.e.j.s.ServletContextHandler@6c0e13b7{/static,jar:file:/home/user/.m2/repository/org/apache/hadoop/hadoop-hdds-container-service/0.5.0-SNAPSHOT/hadoop-hdds-container-service-0.5.0-SNAPSHOT.jar!/webapps/static,AVAILABLE}
2019-08-29 08:38:21,005 [main] INFO  handler.ContextHandler (ContextHandler.java:doStart(781)) - Started o.e.j.w.WebAppContext@372ca2d6{/,file:///tmp/jetty-0.0.0.0-37142-hddsDatanode-_-any-6593266998814494115.dir/webapp/,AVAILABLE}{/hddsDatanode}
2019-08-29 08:38:21,006 [main] INFO  server.AbstractConnector (AbstractConnector.java:doStart(278)) - Started ServerConnector@3204e238{HTTP/1.1,[http/1.1]}{0.0.0.0:37142}
2019-08-29 08:38:21,007 [main] INFO  server.Server (Server.java:doStart(419)) - Started @5440ms
2019-08-29 08:38:21,008 [main] INFO  server.BaseHttpServer (BaseHttpServer.java:updateConnectorAddress(213)) - HTTP server of HDDSDATANODE is listening at http://0.0.0.0:37142
Aug 29, 2019 8:38:21 AM com.sun.jersey.server.impl.application.WebApplicationImpl _initiate
INFO: Initiating Jersey application, version 'Jersey: 1.19 02/11/2015 03:25 AM'
2019-08-29 08:38:22,109 | INFO  | ObjectStoreRestHttpServer | Listening HDDS REST traffic on /0.0.0.0:44829 |  
2019-08-29 08:38:22,110 [main] INFO  ozone.HddsDatanodeService (HddsDatanodeService.java:startPlugins(395)) - Started plug-in org.apache.hadoop.ozone.web.OzoneHddsDatanodeService@15d3793b
2019-08-29 08:38:22,112 [main] INFO  ozone.MiniOzoneClusterImpl (MiniOzoneClusterImpl.java:lambda$waitForClusterToBeReady$0(142)) - Waiting for cluster to be ready. Got 0 of 1 DN Heartbeats.
2019-08-29 08:38:22,122 [org.apache.hadoop.util.JvmPauseMonitor$Monitor@d881bd0] INFO  util.JvmPauseMonitor (JvmPauseMonitor.java:run(188)) - Starting JVM pause monitor
2019-08-29 08:38:22,224 [Datanode State Machine Thread - 0] INFO  datanode.InitDatanodeState (InitDatanodeState.java:persistContainerDatanodeDetails(140)) - DatanodeDetails is persisted to /workdir/hadoop-ozone/integration-test/target/test-dir/MiniOzoneClusterImpl-bffb8a9c-a960-4e2c-a106-63c013a34ce0/datanode-0/meta/datanode.id
2019-08-29 08:38:23,113 [main] INFO  ozone.MiniOzoneClusterImpl (MiniOzoneClusterImpl.java:lambda$waitForClusterToBeReady$0(142)) - Waiting for cluster to be ready. Got 0 of 1 DN Heartbeats.
2019-08-29 08:38:24,113 [main] INFO  ozone.MiniOzoneClusterImpl (MiniOzoneClusterImpl.java:lambda$waitForClusterToBeReady$0(142)) - Waiting for cluster to be ready. Got 0 of 1 DN Heartbeats.
2019-08-29 08:38:24,154 | INFO  | SCMAudit | user=jenkins1000 | ip=192.168.34.54 | op=GET_VERSION null | ret=SUCCESS |  
2019-08-29 08:38:24,163 [Datanode State Machine Thread - 0] INFO  ozoneimpl.OzoneContainer (OzoneContainer.java:start(186)) - Attempting to start container services.
2019-08-29 08:38:24,164 [Datanode State Machine Thread - 0] INFO  ozoneimpl.OzoneContainer (OzoneContainer.java:startContainerScrub(160)) - Background container scrubber has been disabled by hdds.containerscrub.enabled
2019-08-29 08:38:24,164 [Datanode State Machine Thread - 0] INFO  ratis.XceiverServerRatis (XceiverServerRatis.java:start(404)) - Starting XceiverServerRatis 035eba28-b4d6-4432-8796-18bc80fb1833 at port 0
2019-08-29 08:38:24,191 [Datanode State Machine Thread - 0] INFO  impl.RaftServerProxy (RaftServerProxy.java:lambda$start$3(299)) - 035eba28-b4d6-4432-8796-18bc80fb1833: start RPC server
2019-08-29 08:38:24,319 [Datanode State Machine Thread - 0] INFO  server.GrpcService (GrpcService.java:startImpl(149)) - 035eba28-b4d6-4432-8796-18bc80fb1833: GrpcService started, listening on 0.0.0.0/0.0.0.0:35758
2019-08-29 08:38:24,319 [Datanode State Machine Thread - 0] INFO  ratis.XceiverServerRatis (XceiverServerRatis.java:start(414)) - XceiverServerRatis 035eba28-b4d6-4432-8796-18bc80fb1833 is started using port 35758
2019-08-29 08:38:24,321 [Datanode State Machine Thread - 0] INFO  server.XceiverServerGrpc (XceiverServerGrpc.java:start(161)) - XceiverServerGrpc 035eba28-b4d6-4432-8796-18bc80fb1833 is started using port 36163
2019-08-29 08:38:25,114 [main] INFO  ozone.MiniOzoneClusterImpl (MiniOzoneClusterImpl.java:lambda$waitForClusterToBeReady$0(142)) - Waiting for cluster to be ready. Got 0 of 1 DN Heartbeats.
2019-08-29 08:38:26,115 [main] INFO  ozone.MiniOzoneClusterImpl (MiniOzoneClusterImpl.java:lambda$waitForClusterToBeReady$0(142)) - Waiting for cluster to be ready. Got 0 of 1 DN Heartbeats.
2019-08-29 08:38:26,152 [IPC Server handler 0 on 45152] INFO  net.NetworkTopology (NetworkTopologyImpl.java:add(110)) - Added a new node: /default-rack/035eba28-b4d6-4432-8796-18bc80fb1833
2019-08-29 08:38:26,152 [IPC Server handler 0 on 45152] INFO  node.SCMNodeManager (SCMNodeManager.java:register(273)) - Registered Data node : 035eba28-b4d6-4432-8796-18bc80fb1833{ip: 192.168.34.54, host: pr-hdds-1553-zhl8q-89899572, networkLocation: /default-rack, certSerialId: null}
2019-08-29 08:38:26,156 [EventQueue-NodeRegistrationContainerReportForDataNodeSafeModeRule] INFO  safemode.SCMSafeModeManager (DataNodeSafeModeRule.java:process(71)) - SCM in safe mode. 1 DataNodes registered, 1 required.
2019-08-29 08:38:26,156 [EventQueue-NodeRegistrationContainerReportForDataNodeSafeModeRule] INFO  safemode.SCMSafeModeManager (SCMSafeModeManager.java:validateSafeModeExitRules(177)) - ScmSafeModeManager, all rules are successfully validated
2019-08-29 08:38:26,156 [EventQueue-NodeRegistrationContainerReportForDataNodeSafeModeRule] INFO  safemode.SCMSafeModeManager (SCMSafeModeManager.java:exitSafeMode(193)) - SCM exiting safe mode.
2019-08-29 08:38:26,164 | INFO  | SCMAudit | user=jenkins1000 | ip=192.168.34.54 | op=REGISTER {datanodeDetails=035eba28-b4d6-4432-8796-18bc80fb1833{ip: 192.168.34.54, host: pr-hdds-1553-zhl8q-89899572, networkLocation: /default-rack, certSerialId: null}} | ret=SUCCESS |  
2019-08-29 08:38:26,899 [grpc-default-executor-0] INFO  impl.RaftServerProxy (RaftServerProxy.java:addNew(89)) - 035eba28-b4d6-4432-8796-18bc80fb1833: addNew group-24DFBF753E9B:[035eba28-b4d6-4432-8796-18bc80fb1833:192.168.34.54:35758] returns group-24DFBF753E9B:java.util.concurrent.CompletableFuture@65b7cbd4[Not completed]
2019-08-29 08:38:26,912 [pool-27-thread-1] INFO  impl.RaftServerImpl (RaftServerImpl.java:<init>(93)) - 035eba28-b4d6-4432-8796-18bc80fb1833: new RaftServerImpl for group-24DFBF753E9B:[035eba28-b4d6-4432-8796-18bc80fb1833:192.168.34.54:35758] with ContainerStateMachine:uninitialized
2019-08-29 08:38:26,914 [pool-27-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.rpc.timeout.min = 5s (custom)
2019-08-29 08:38:26,915 [pool-27-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.rpc.timeout.max = 5200ms (custom)
2019-08-29 08:38:26,915 [pool-27-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.rpcslowness.timeout = 120s (custom)
2019-08-29 08:38:26,916 [pool-27-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.sleep.deviation.threshold = 300 (default)
2019-08-29 08:38:26,917 [pool-27-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.log.appender.install.snapshot.enabled = false (custom)
2019-08-29 08:38:26,925 [pool-27-thread-1] INFO  impl.RaftServerImpl (ServerState.java:<init>(105)) - 035eba28-b4d6-4432-8796-18bc80fb1833:group-24DFBF753E9B ConfigurationManager, init=-1: [035eba28-b4d6-4432-8796-18bc80fb1833:192.168.34.54:35758], old=null, confs=<EMPTY_MAP>
2019-08-29 08:38:26,926 [pool-27-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.storage.dir = [/workdir/hadoop-ozone/integration-test/target/test-dir/MiniOzoneClusterImpl-bffb8a9c-a960-4e2c-a106-63c013a34ce0/datanode-0/data/ratis] (custom)
2019-08-29 08:38:26,934 [pool-27-thread-1] INFO  storage.RaftStorageDirectory (RaftStorageDirectory.java:analyzeStorage(246)) - The storage directory /workdir/hadoop-ozone/integration-test/target/test-dir/MiniOzoneClusterImpl-bffb8a9c-a960-4e2c-a106-63c013a34ce0/datanode-0/data/ratis/1898b7b6-272f-42b9-bde8-24dfbf753e9b does not exist. Creating ...
2019-08-29 08:38:26,952 [pool-27-thread-1] INFO  storage.RaftStorageDirectory (RaftStorageDirectory.java:tryLock(328)) - Lock on /workdir/hadoop-ozone/integration-test/target/test-dir/MiniOzoneClusterImpl-bffb8a9c-a960-4e2c-a106-63c013a34ce0/datanode-0/data/ratis/1898b7b6-272f-42b9-bde8-24dfbf753e9b/in_use.lock acquired by nodename 2896@pr-hdds-1553-zhl8q-89899572
2019-08-29 08:38:26,964 [pool-27-thread-1] INFO  storage.RaftStorage (RaftStorage.java:format(72)) - Storage directory /workdir/hadoop-ozone/integration-test/target/test-dir/MiniOzoneClusterImpl-bffb8a9c-a960-4e2c-a106-63c013a34ce0/datanode-0/data/ratis/1898b7b6-272f-42b9-bde8-24dfbf753e9b has been successfully formatted.
2019-08-29 08:38:26,967 [pool-27-thread-1] INFO  ratis.ContainerStateMachine (ContainerStateMachine.java:loadSnapshot(226)) - group-24DFBF753E9B: The snapshot info is null. Setting the last applied indexto:(t:0, i:~)
2019-08-29 08:38:26,968 [pool-27-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.leader.election.timeout = 120s (custom)
2019-08-29 08:38:26,970 [pool-27-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.log.use.memory = false (default)
2019-08-29 08:38:26,977 [pool-27-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.log.purge.gap = 1000000 (custom)
2019-08-29 08:38:26,978 [pool-27-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.log.appender.buffer.byte-limit = 33554432 (custom)
2019-08-29 08:38:26,980 [pool-27-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.log.segment.size.max = 1048576 (custom)
2019-08-29 08:38:26,986 [pool-27-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.log.segment.cache.num.max = 2 (custom)
2019-08-29 08:38:26,993 [pool-27-thread-1] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:<init>(172)) - new 035eba28-b4d6-4432-8796-18bc80fb1833-SegmentedRaftLogWorker:Storage Directory /workdir/hadoop-ozone/integration-test/target/test-dir/MiniOzoneClusterImpl-bffb8a9c-a960-4e2c-a106-63c013a34ce0/datanode-0/data/ratis/1898b7b6-272f-42b9-bde8-24dfbf753e9b for RaftStorage:Storage Directory /workdir/hadoop-ozone/integration-test/target/test-dir/MiniOzoneClusterImpl-bffb8a9c-a960-4e2c-a106-63c013a34ce0/datanode-0/data/ratis/1898b7b6-272f-42b9-bde8-24dfbf753e9b
2019-08-29 08:38:27,008 [pool-27-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.log.queue.byte-limit = 2147483647 (custom)
2019-08-29 08:38:27,009 [pool-27-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.log.queue.element-limit = 1024 (custom)
2019-08-29 08:38:27,015 [pool-27-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.log.segment.size.max = 1048576 (custom)
2019-08-29 08:38:27,016 [pool-27-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.log.preallocated.size = 16384 (custom)
2019-08-29 08:38:27,017 [pool-27-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.log.write.buffer.size = 33554432 (custom)
2019-08-29 08:38:27,017 [pool-27-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.log.force.sync.num = 128 (default)
2019-08-29 08:38:27,019 [pool-27-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.log.statemachine.data.sync = true (default)
2019-08-29 08:38:27,019 [pool-27-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.log.statemachine.data.sync.timeout = 10s (default)
2019-08-29 08:38:27,020 [pool-27-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.log.statemachine.data.sync.timeout.retry = -1 (default)
2019-08-29 08:38:27,031 [pool-27-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.log.statemachine.data.caching.enabled = true (custom)
2019-08-29 08:38:27,038 [pool-27-thread-1] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:lambda$new$0(132)) - 035eba28-b4d6-4432-8796-18bc80fb1833-SegmentedRaftLogWorker:Storage Directory /workdir/hadoop-ozone/integration-test/target/test-dir/MiniOzoneClusterImpl-bffb8a9c-a960-4e2c-a106-63c013a34ce0/datanode-0/data/ratis/1898b7b6-272f-42b9-bde8-24dfbf753e9b: flushIndex: setUnconditionally 0 -> -1
2019-08-29 08:38:27,043 [pool-27-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.snapshot.auto.trigger.enabled = true (custom)
2019-08-29 08:38:27,045 [pool-27-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.snapshot.auto.trigger.threshold = 1 (custom)
2019-08-29 08:38:27,045 [pool-27-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.retrycache.expirytime = 600000ms (custom)
2019-08-29 08:38:27,072 [pool-27-thread-1] INFO  impl.RaftServerImpl (RaftServerImpl.java:start(180)) - 035eba28-b4d6-4432-8796-18bc80fb1833: start group-24DFBF753E9B
2019-08-29 08:38:27,074 [pool-27-thread-1] INFO  impl.RaftServerImpl (RaftServerImpl.java:setRole(171)) - 035eba28-b4d6-4432-8796-18bc80fb1833:group-24DFBF753E9B changes role from null to FOLLOWER at term 0 for startAsFollower
2019-08-29 08:38:27,076 [pool-27-thread-1] INFO  impl.RoleInfo (RoleInfo.java:updateAndGet(143)) - 035eba28-b4d6-4432-8796-18bc80fb1833: start FollowerState
2019-08-29 08:38:27,078 [pool-27-thread-1] INFO  util.JmxRegister (JmxRegister.java:tryRegister(44)) - Successfully registered JMX Bean with object name Ratis:service=RaftServer,group=group-24DFBF753E9B,id=035eba28-b4d6-4432-8796-18bc80fb1833
2019-08-29 08:38:27,122 [main] INFO  ozone.MiniOzoneClusterImpl (MiniOzoneClusterImpl.java:lambda$waitForClusterToBeReady$0(142)) - Cluster is ready. Got 1 of 1 DN Heartbeats.
2019-08-29 08:38:27,140 [RatisPipelineUtilsThread] INFO  pipeline.PipelineStateManager (PipelineStateManager.java:addPipeline(56)) - Created pipeline Pipeline[ Id: 1898b7b6-272f-42b9-bde8-24dfbf753e9b, Nodes: 035eba28-b4d6-4432-8796-18bc80fb1833{ip: 192.168.34.54, host: pr-hdds-1553-zhl8q-89899572, networkLocation: /default-rack, certSerialId: null}, Type:RATIS, Factor:ONE, State:OPEN]
2019-08-29 08:38:27,355 [main] INFO  rpc.RpcClient (RpcClient.java:createVolume(293)) - Creating Volume: testcontainerstatemachinefailures, with jenkins1000 as owner.
2019-08-29 08:38:27,395 | INFO  | OMAudit | user=jenkins1000 | ip=127.0.0.1 | op=CREATE_VOLUME {admin=jenkins1000, owner=jenkins1000, volume=testcontainerstatemachinefailures, creationTime=1567067907372, quotaInBytes=1152921504606846976} | ret=SUCCESS |  
2019-08-29 08:38:27,405 | INFO  | OMAudit | user=jenkins1000 | ip=127.0.0.1 | op=READ_VOLUME {volume=testcontainerstatemachinefailures} | ret=SUCCESS |  
2019-08-29 08:38:27,410 [main] INFO  rpc.RpcClient (RpcClient.java:createBucket(432)) - Creating Bucket: testcontainerstatemachinefailures/testcontainerstatemachinefailures, with Versioning false and Storage Type set to DISK and Encryption set to false 
2019-08-29 08:38:27,425 | INFO  | OMAudit | user=jenkins1000 | ip=127.0.0.1 | op=CREATE_BUCKET {volume=testcontainerstatemachinefailures, bucket=testcontainerstatemachinefailures, acls=[user:jenkins1000:a[ACCESS], group:default:a[ACCESS]], isVersionEnabled=false, storageType=DISK, creationTime=0} | ret=SUCCESS |  
2019-08-29 08:38:27,429 | INFO  | OMAudit | user=jenkins1000 | ip=127.0.0.1 | op=READ_VOLUME {volume=testcontainerstatemachinefailures} | ret=SUCCESS |  
2019-08-29 08:38:27,434 | INFO  | OMAudit | user=jenkins1000 | ip=127.0.0.1 | op=READ_BUCKET {volume=testcontainerstatemachinefailures, bucket=testcontainerstatemachinefailures} | ret=SUCCESS |  
2019-08-29 08:38:27,471 | INFO  | SCMAudit | user=jenkins1000 | ip=192.168.34.54 | op=ALLOCATE_BLOCK {owner=2d49cfb1-3e10-45e9-a3c5-8dbd8f344cc2, size=4194304, type=RATIS, factor=ONE} | ret=SUCCESS |  
2019-08-29 08:38:27,489 | INFO  | OMAudit | user=jenkins1000 | ip=127.0.0.1 | op=ALLOCATE_KEY {volume=testcontainerstatemachinefailures, bucket=testcontainerstatemachinefailures, key=ratis, dataSize=1024, replicationType=RATIS, replicationFactor=ONE, keyLocationInfo=null} | ret=SUCCESS |  
2019-08-29 08:38:27,513 [main] INFO  impl.MetricsSystemImpl (MetricsSystemImpl.java:init(158)) - XceiverClientMetrics metrics system started (again)
2019-08-29 08:38:27,605 [grpc-default-executor-0] INFO  client.GrpcClientProtocolClient (GrpcClientProtocolClient.java:onNext(255)) - client-64C89C9AC975->035eba28-b4d6-4432-8796-18bc80fb1833: receive RaftClientReply:client-64C89C9AC975->035eba28-b4d6-4432-8796-18bc80fb1833@group-24DFBF753E9B, cid=1, FAILED org.apache.ratis.protocol.NotLeaderException: Server 035eba28-b4d6-4432-8796-18bc80fb1833 is not the leader (null). Request must be sent to leader., logIndex=0, commits[035eba28-b4d6-4432-8796-18bc80fb1833:c-1]
2019-08-29 08:38:28,146 | INFO  | SCMAudit | user=jenkins1000 | ip=192.168.34.54 | op=SEND_HEARTBEAT {datanodeUUID=035eba28-b4d6-4432-8796-18bc80fb1833, command=[]} | ret=SUCCESS |  
2019-08-29 08:38:28,325 | INFO  | SCMAudit | user=jenkins1000 | ip=192.168.34.54 | op=SEND_HEARTBEAT {datanodeUUID=035eba28-b4d6-4432-8796-18bc80fb1833, command=[]} | ret=SUCCESS |  
2019-08-29 08:38:28,525 | INFO  | SCMAudit | user=jenkins1000 | ip=192.168.34.54 | op=SEND_HEARTBEAT {datanodeUUID=035eba28-b4d6-4432-8796-18bc80fb1833, command=[]} | ret=SUCCESS |  
2019-08-29 08:38:28,725 | INFO  | SCMAudit | user=jenkins1000 | ip=192.168.34.54 | op=SEND_HEARTBEAT {datanodeUUID=035eba28-b4d6-4432-8796-18bc80fb1833, command=[]} | ret=SUCCESS |  
2019-08-29 08:38:28,924 | INFO  | SCMAudit | user=jenkins1000 | ip=192.168.34.54 | op=SEND_HEARTBEAT {datanodeUUID=035eba28-b4d6-4432-8796-18bc80fb1833, command=[]} | ret=SUCCESS |  
2019-08-29 08:38:29,125 | INFO  | SCMAudit | user=jenkins1000 | ip=192.168.34.54 | op=SEND_HEARTBEAT {datanodeUUID=035eba28-b4d6-4432-8796-18bc80fb1833, command=[]} | ret=SUCCESS |  
2019-08-29 08:38:29,160 [Thread-147] INFO  container.ReplicationManager (ReplicationManager.java:start(152)) - Starting Replication Monitor Thread.
2019-08-29 08:38:29,166 [ReplicationMonitor] INFO  container.ReplicationManager (ReplicationManager.java:run(215)) - Replication Monitor Thread took 5 milliseconds for processing 1 containers.
2019-08-29 08:38:29,324 | INFO  | SCMAudit | user=jenkins1000 | ip=192.168.34.54 | op=SEND_HEARTBEAT {datanodeUUID=035eba28-b4d6-4432-8796-18bc80fb1833, command=[]} | ret=SUCCESS |  
2019-08-29 08:38:29,526 | INFO  | SCMAudit | user=jenkins1000 | ip=192.168.34.54 | op=SEND_HEARTBEAT {datanodeUUID=035eba28-b4d6-4432-8796-18bc80fb1833, command=[]} | ret=SUCCESS |  
2019-08-29 08:38:29,633 [grpc-default-executor-1] INFO  client.GrpcClientProtocolClient (GrpcClientProtocolClient.java:onNext(255)) - client-64C89C9AC975->035eba28-b4d6-4432-8796-18bc80fb1833: receive RaftClientReply:client-64C89C9AC975->035eba28-b4d6-4432-8796-18bc80fb1833@group-24DFBF753E9B, cid=1, FAILED org.apache.ratis.protocol.NotLeaderException: Server 035eba28-b4d6-4432-8796-18bc80fb1833 is not the leader (null). Request must be sent to leader., logIndex=0, commits[035eba28-b4d6-4432-8796-18bc80fb1833:c-1]
2019-08-29 08:38:29,728 | INFO  | SCMAudit | user=jenkins1000 | ip=192.168.34.54 | op=SEND_HEARTBEAT {datanodeUUID=035eba28-b4d6-4432-8796-18bc80fb1833, command=[]} | ret=SUCCESS |  
2019-08-29 08:38:29,926 | INFO  | SCMAudit | user=jenkins1000 | ip=192.168.34.54 | op=SEND_HEARTBEAT {datanodeUUID=035eba28-b4d6-4432-8796-18bc80fb1833, command=[]} | ret=SUCCESS |  
2019-08-29 08:38:30,127 | INFO  | SCMAudit | user=jenkins1000 | ip=192.168.34.54 | op=SEND_HEARTBEAT {datanodeUUID=035eba28-b4d6-4432-8796-18bc80fb1833, command=[]} | ret=SUCCESS |  
2019-08-29 08:38:30,327 | INFO  | SCMAudit | user=jenkins1000 | ip=192.168.34.54 | op=SEND_HEARTBEAT {datanodeUUID=035eba28-b4d6-4432-8796-18bc80fb1833, command=[]} | ret=SUCCESS |  
2019-08-29 08:38:30,528 | INFO  | SCMAudit | user=jenkins1000 | ip=192.168.34.54 | op=SEND_HEARTBEAT {datanodeUUID=035eba28-b4d6-4432-8796-18bc80fb1833, command=[]} | ret=SUCCESS |  
2019-08-29 08:38:30,728 | INFO  | SCMAudit | user=jenkins1000 | ip=192.168.34.54 | op=SEND_HEARTBEAT {datanodeUUID=035eba28-b4d6-4432-8796-18bc80fb1833, command=[]} | ret=SUCCESS |  
2019-08-29 08:38:30,928 | INFO  | SCMAudit | user=jenkins1000 | ip=192.168.34.54 | op=SEND_HEARTBEAT {datanodeUUID=035eba28-b4d6-4432-8796-18bc80fb1833, command=[]} | ret=SUCCESS |  
2019-08-29 08:38:31,128 | INFO  | SCMAudit | user=jenkins1000 | ip=192.168.34.54 | op=SEND_HEARTBEAT {datanodeUUID=035eba28-b4d6-4432-8796-18bc80fb1833, command=[]} | ret=SUCCESS |  
2019-08-29 08:38:31,327 | INFO  | SCMAudit | user=jenkins1000 | ip=192.168.34.54 | op=SEND_HEARTBEAT {datanodeUUID=035eba28-b4d6-4432-8796-18bc80fb1833, command=[]} | ret=SUCCESS |  
2019-08-29 08:38:31,528 | INFO  | SCMAudit | user=jenkins1000 | ip=192.168.34.54 | op=SEND_HEARTBEAT {datanodeUUID=035eba28-b4d6-4432-8796-18bc80fb1833, command=[]} | ret=SUCCESS |  
2019-08-29 08:38:31,652 [grpc-default-executor-0] INFO  client.GrpcClientProtocolClient (GrpcClientProtocolClient.java:onNext(255)) - client-64C89C9AC975->035eba28-b4d6-4432-8796-18bc80fb1833: receive RaftClientReply:client-64C89C9AC975->035eba28-b4d6-4432-8796-18bc80fb1833@group-24DFBF753E9B, cid=1, FAILED org.apache.ratis.protocol.NotLeaderException: Server 035eba28-b4d6-4432-8796-18bc80fb1833 is not the leader (null). Request must be sent to leader., logIndex=0, commits[035eba28-b4d6-4432-8796-18bc80fb1833:c-1]
2019-08-29 08:38:31,729 | INFO  | SCMAudit | user=jenkins1000 | ip=192.168.34.54 | op=SEND_HEARTBEAT {datanodeUUID=035eba28-b4d6-4432-8796-18bc80fb1833, command=[]} | ret=SUCCESS |  
2019-08-29 08:38:31,929 | INFO  | SCMAudit | user=jenkins1000 | ip=192.168.34.54 | op=SEND_HEARTBEAT {datanodeUUID=035eba28-b4d6-4432-8796-18bc80fb1833, command=[]} | ret=SUCCESS |  
2019-08-29 08:38:32,130 | INFO  | SCMAudit | user=jenkins1000 | ip=192.168.34.54 | op=SEND_HEARTBEAT {datanodeUUID=035eba28-b4d6-4432-8796-18bc80fb1833, command=[]} | ret=SUCCESS |  
2019-08-29 08:38:32,256 [Thread-149] INFO  impl.FollowerState (FollowerState.java:run(106)) - 035eba28-b4d6-4432-8796-18bc80fb1833:group-24DFBF753E9B changes to CANDIDATE, lastRpcTime:5180, electionTimeout:5179ms
2019-08-29 08:38:32,256 [Thread-149] INFO  impl.RoleInfo (RoleInfo.java:shutdownFollowerState(121)) - 035eba28-b4d6-4432-8796-18bc80fb1833: shutdown FollowerState
2019-08-29 08:38:32,257 [Thread-149] INFO  impl.RaftServerImpl (RaftServerImpl.java:setRole(171)) - 035eba28-b4d6-4432-8796-18bc80fb1833:group-24DFBF753E9B changes role from FOLLOWER to CANDIDATE at term 0 for changeToCandidate
2019-08-29 08:38:32,260 [Thread-149] INFO  impl.RoleInfo (RoleInfo.java:updateAndGet(143)) - 035eba28-b4d6-4432-8796-18bc80fb1833: start LeaderElection
2019-08-29 08:38:32,276 [035eba28-b4d6-4432-8796-18bc80fb1833:group-24DFBF753E9B:LeaderElection1] INFO  impl.LeaderElection (LeaderElection.java:askForVotes(181)) - 035eba28-b4d6-4432-8796-18bc80fb1833:group-24DFBF753E9B:LeaderElection1: begin an election at term 1 for -1: [035eba28-b4d6-4432-8796-18bc80fb1833:192.168.34.54:35758], old=null
2019-08-29 08:38:32,278 [035eba28-b4d6-4432-8796-18bc80fb1833:group-24DFBF753E9B:LeaderElection1] INFO  impl.RoleInfo (RoleInfo.java:shutdownLeaderElection(134)) - 035eba28-b4d6-4432-8796-18bc80fb1833: shutdown LeaderElection
2019-08-29 08:38:32,278 [035eba28-b4d6-4432-8796-18bc80fb1833:group-24DFBF753E9B:LeaderElection1] INFO  impl.RaftServerImpl (RaftServerImpl.java:setRole(171)) - 035eba28-b4d6-4432-8796-18bc80fb1833:group-24DFBF753E9B changes role from CANDIDATE to LEADER at term 1 for changeToLeader
2019-08-29 08:38:32,278 [035eba28-b4d6-4432-8796-18bc80fb1833:group-24DFBF753E9B:LeaderElection1] INFO  impl.RaftServerImpl (ServerState.java:setLeader(263)) - 035eba28-b4d6-4432-8796-18bc80fb1833:group-24DFBF753E9B change Leader from null to 035eba28-b4d6-4432-8796-18bc80fb1833 at term 1 for becomeLeader, leader elected after 5310ms
2019-08-29 08:38:32,283 [035eba28-b4d6-4432-8796-18bc80fb1833:group-24DFBF753E9B:LeaderElection1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.staging.catchup.gap = 1000 (default)
2019-08-29 08:38:32,284 [035eba28-b4d6-4432-8796-18bc80fb1833:group-24DFBF753E9B:LeaderElection1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.rpc.sleep.time = 25ms (default)
2019-08-29 08:38:32,286 [035eba28-b4d6-4432-8796-18bc80fb1833:group-24DFBF753E9B:LeaderElection1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.write.element-limit = 4096 (default)
2019-08-29 08:38:32,288 [035eba28-b4d6-4432-8796-18bc80fb1833:group-24DFBF753E9B:LeaderElection1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.watch.timeout = 10s (default)
2019-08-29 08:38:32,288 [035eba28-b4d6-4432-8796-18bc80fb1833:group-24DFBF753E9B:LeaderElection1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.watch.timeout.denomination = 1s (default)
2019-08-29 08:38:32,289 [035eba28-b4d6-4432-8796-18bc80fb1833:group-24DFBF753E9B:LeaderElection1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.watch.element-limit = 65536 (default)
2019-08-29 08:38:32,296 [035eba28-b4d6-4432-8796-18bc80fb1833:group-24DFBF753E9B:LeaderElection1] INFO  impl.RoleInfo (RoleInfo.java:updateAndGet(143)) - 035eba28-b4d6-4432-8796-18bc80fb1833: start LeaderState
2019-08-29 08:38:32,315 [035eba28-b4d6-4432-8796-18bc80fb1833:group-24DFBF753E9B:LeaderElection1] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:startLogSegment(380)) - 035eba28-b4d6-4432-8796-18bc80fb1833-SegmentedRaftLogWorker:Storage Directory /workdir/hadoop-ozone/integration-test/target/test-dir/MiniOzoneClusterImpl-bffb8a9c-a960-4e2c-a106-63c013a34ce0/datanode-0/data/ratis/1898b7b6-272f-42b9-bde8-24dfbf753e9b: Starting segment from index:0
2019-08-29 08:38:32,323 [035eba28-b4d6-4432-8796-18bc80fb1833:group-24DFBF753E9B:LeaderElection1] INFO  impl.RaftServerImpl (ServerState.java:setRaftConf(361)) - 035eba28-b4d6-4432-8796-18bc80fb1833:group-24DFBF753E9B set configuration 0: [035eba28-b4d6-4432-8796-18bc80fb1833:192.168.34.54:35758], old=null at 0
2019-08-29 08:38:32,330 | INFO  | SCMAudit | user=jenkins1000 | ip=192.168.34.54 | op=SEND_HEARTBEAT {datanodeUUID=035eba28-b4d6-4432-8796-18bc80fb1833, command=[]} | ret=SUCCESS |  
2019-08-29 08:38:32,512 [035eba28-b4d6-4432-8796-18bc80fb1833-SegmentedRaftLogWorker:Storage Directory /workdir/hadoop-ozone/integration-test/target/test-dir/MiniOzoneClusterImpl-bffb8a9c-a960-4e2c-a106-63c013a34ce0/datanode-0/data/ratis/1898b7b6-272f-42b9-bde8-24dfbf753e9b] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:execute(569)) - 035eba28-b4d6-4432-8796-18bc80fb1833-SegmentedRaftLogWorker:Storage Directory /workdir/hadoop-ozone/integration-test/target/test-dir/MiniOzoneClusterImpl-bffb8a9c-a960-4e2c-a106-63c013a34ce0/datanode-0/data/ratis/1898b7b6-272f-42b9-bde8-24dfbf753e9b: created new log segment /workdir/hadoop-ozone/integration-test/target/test-dir/MiniOzoneClusterImpl-bffb8a9c-a960-4e2c-a106-63c013a34ce0/datanode-0/data/ratis/1898b7b6-272f-42b9-bde8-24dfbf753e9b/current/log_inprogress_0
2019-08-29 08:38:32,530 | INFO  | SCMAudit | user=jenkins1000 | ip=192.168.34.54 | op=SEND_HEARTBEAT {datanodeUUID=035eba28-b4d6-4432-8796-18bc80fb1833, command=[]} | ret=SUCCESS |  
2019-08-29 08:38:32,731 | INFO  | SCMAudit | user=jenkins1000 | ip=192.168.34.54 | op=SEND_HEARTBEAT {datanodeUUID=035eba28-b4d6-4432-8796-18bc80fb1833, command=[]} | ret=SUCCESS |  
2019-08-29 08:38:32,931 | INFO  | SCMAudit | user=jenkins1000 | ip=192.168.34.54 | op=SEND_HEARTBEAT {datanodeUUID=035eba28-b4d6-4432-8796-18bc80fb1833, command=[]} | ret=SUCCESS |  
2019-08-29 08:38:33,130 | INFO  | SCMAudit | user=jenkins1000 | ip=192.168.34.54 | op=SEND_HEARTBEAT {datanodeUUID=035eba28-b4d6-4432-8796-18bc80fb1833, command=[]} | ret=SUCCESS |  
2019-08-29 08:38:33,331 | INFO  | SCMAudit | user=jenkins1000 | ip=192.168.34.54 | op=SEND_HEARTBEAT {datanodeUUID=035eba28-b4d6-4432-8796-18bc80fb1833, command=[]} | ret=SUCCESS |  
2019-08-29 08:38:33,531 | INFO  | SCMAudit | user=jenkins1000 | ip=192.168.34.54 | op=SEND_HEARTBEAT {datanodeUUID=035eba28-b4d6-4432-8796-18bc80fb1833, command=[]} | ret=SUCCESS |  
2019-08-29 08:38:33,733 | INFO  | SCMAudit | user=jenkins1000 | ip=192.168.34.54 | op=SEND_HEARTBEAT {datanodeUUID=035eba28-b4d6-4432-8796-18bc80fb1833, command=[]} | ret=SUCCESS |  
2019-08-29 08:38:33,877 | INFO  | SCMAudit | user=jenkins1000 | ip=192.168.34.54 | op=SEND_HEARTBEAT {datanodeUUID=035eba28-b4d6-4432-8796-18bc80fb1833, command=[]} | ret=SUCCESS |  
2019-08-29 08:38:33,899 | INFO  | DNAudit | user=null | ip=null | op=WRITE_CHUNK {blockData=conID: 1 locID: 102699362383888385 bcsId: 0} | ret=SUCCESS |  
2019-08-29 08:38:33,912 | INFO  | DNAudit | user=null | ip=null | op=WRITE_CHUNK {blockData=conID: 1 locID: 102699362383888385 bcsId: 0} | ret=SUCCESS |  
2019-08-29 08:38:33,920 [StateMachineUpdater:035eba28-b4d6-4432-8796-18bc80fb1833:group-24DFBF753E9B] INFO  ratis.ContainerStateMachine (ContainerStateMachine.java:takeSnapshot(283)) - group-24DFBF753E9B: Taking a snapshot at:(t:1, i:1) file /workdir/hadoop-ozone/integration-test/target/test-dir/MiniOzoneClusterImpl-bffb8a9c-a960-4e2c-a106-63c013a34ce0/datanode-0/data/ratis/1898b7b6-272f-42b9-bde8-24dfbf753e9b/sm/snapshot.1_1
2019-08-29 08:38:33,925 [grpc-default-executor-1] INFO  client.GrpcClientProtocolClient (GrpcClientProtocolClient.java:onNext(255)) - client-64C89C9AC975->035eba28-b4d6-4432-8796-18bc80fb1833: receive RaftClientReply:client-64C89C9AC975->035eba28-b4d6-4432-8796-18bc80fb1833@group-24DFBF753E9B, cid=1, SUCCESS, logIndex=1, commits[035eba28-b4d6-4432-8796-18bc80fb1833:c1]
2019-08-29 08:38:33,946 [StateMachineUpdater:035eba28-b4d6-4432-8796-18bc80fb1833:group-24DFBF753E9B] INFO  ratis.ContainerStateMachine (ContainerStateMachine.java:takeSnapshot(294)) - group-24DFBF753E9B: Finished taking a snapshot at:(t:1, i:1) file:/workdir/hadoop-ozone/integration-test/target/test-dir/MiniOzoneClusterImpl-bffb8a9c-a960-4e2c-a106-63c013a34ce0/datanode-0/data/ratis/1898b7b6-272f-42b9-bde8-24dfbf753e9b/sm/snapshot.1_1 time:26
2019-08-29 08:38:33,946 [StateMachineUpdater:035eba28-b4d6-4432-8796-18bc80fb1833:group-24DFBF753E9B] INFO  impl.StateMachineUpdater (StateMachineUpdater.java:takeSnapshot(242)) - StateMachineUpdater:035eba28-b4d6-4432-8796-18bc80fb1833:group-24DFBF753E9B: Took a snapshot at index 1
2019-08-29 08:38:33,946 [StateMachineUpdater:035eba28-b4d6-4432-8796-18bc80fb1833:group-24DFBF753E9B] INFO  impl.StateMachineUpdater (StateMachineUpdater.java:lambda$new$0(80)) - StateMachineUpdater:035eba28-b4d6-4432-8796-18bc80fb1833:group-24DFBF753E9B: snapshotIndex: updateIncreasingly -1 -> 1
2019-08-29 08:38:34,001 | INFO  | DNAudit | user=null | ip=null | op=PUT_BLOCK {blockData=[blockId=conID: 1 locID: 102699362383888385 bcsId: 0,size=5]} | ret=SUCCESS |  
2019-08-29 08:38:34,003 [StateMachineUpdater:035eba28-b4d6-4432-8796-18bc80fb1833:group-24DFBF753E9B] INFO  ratis.ContainerStateMachine (ContainerStateMachine.java:takeSnapshot(283)) - group-24DFBF753E9B: Taking a snapshot at:(t:1, i:1) file /workdir/hadoop-ozone/integration-test/target/test-dir/MiniOzoneClusterImpl-bffb8a9c-a960-4e2c-a106-63c013a34ce0/datanode-0/data/ratis/1898b7b6-272f-42b9-bde8-24dfbf753e9b/sm/snapshot.1_1
2019-08-29 08:38:34,007 [grpc-default-executor-1] INFO  client.GrpcClientProtocolClient (GrpcClientProtocolClient.java:onNext(255)) - client-64C89C9AC975->035eba28-b4d6-4432-8796-18bc80fb1833: receive RaftClientReply:client-64C89C9AC975->035eba28-b4d6-4432-8796-18bc80fb1833@group-24DFBF753E9B, cid=2, SUCCESS, logIndex=3, commits[035eba28-b4d6-4432-8796-18bc80fb1833:c4]
2019-08-29 08:38:34,018 [pool-26-thread-2] ERROR impl.ChunkManagerImpl (ChunkUtils.java:getChunkFile(249)) - Chunks path does not exist
2019-08-29 08:38:34,018 [pool-26-thread-2] INFO  keyvalue.KeyValueHandler (ContainerUtils.java:logAndReturnError(146)) - Operation: WriteChunk : Trace ID: b970fc609b99c26a:b970fc609b99c26a:0:0 : Message: Unable to get Chunks directory. : Result: UNABLE_TO_FIND_DATA_DIR
2019-08-29 08:38:34,020 [pool-26-thread-2] WARN  keyvalue.KeyValueHandler (KeyValueHandler.java:markContainerUnhealthy(909)) - Unexpected error while marking container 1 as unhealthy
org.apache.hadoop.hdds.scm.container.common.helpers.StorageContainerException: Error while creating/ updating .container file. ContainerID: 1
	at org.apache.hadoop.ozone.container.keyvalue.KeyValueContainer.writeToContainerFile(KeyValueContainer.java:233)
	at org.apache.hadoop.ozone.container.keyvalue.KeyValueContainer.updateContainerFile(KeyValueContainer.java:253)
	at org.apache.hadoop.ozone.container.keyvalue.KeyValueContainer.updateContainerData(KeyValueContainer.java:349)
	at org.apache.hadoop.ozone.container.keyvalue.KeyValueContainer.markContainerUnhealthy(KeyValueContainer.java:294)
	at org.apache.hadoop.ozone.container.keyvalue.KeyValueHandler.markContainerUnhealthy(KeyValueHandler.java:904)
	at org.apache.hadoop.ozone.container.common.impl.HddsDispatcher.dispatchRequest(HddsDispatcher.java:303)
	at org.apache.hadoop.ozone.container.common.impl.HddsDispatcher.dispatch(HddsDispatcher.java:148)
	at org.apache.hadoop.ozone.container.common.transport.server.ratis.ContainerStateMachine.dispatchCommand(ContainerStateMachine.java:395)
	at org.apache.hadoop.ozone.container.common.transport.server.ratis.ContainerStateMachine.runCommand(ContainerStateMachine.java:403)
	at org.apache.hadoop.ozone.container.common.transport.server.ratis.ContainerStateMachine.lambda$handleWriteChunk$1(ContainerStateMachine.java:435)
	at java.util.concurrent.CompletableFuture$AsyncSupply.run(CompletableFuture.java:1590)
	at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1149)
	at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:624)
	at java.lang.Thread.run(Thread.java:748)
Caused by: java.io.IOException: No such file or directory
	at java.io.UnixFileSystem.createFileExclusively(Native Method)
	at java.io.File.createTempFile(File.java:2024)
	at org.apache.hadoop.ozone.container.keyvalue.KeyValueContainer.createTempFile(KeyValueContainer.java:733)
	at org.apache.hadoop.ozone.container.keyvalue.KeyValueContainer.writeToContainerFile(KeyValueContainer.java:218)
	... 13 more
2019-08-29 08:38:34,024 | INFO  | SCMAudit | user=jenkins1000 | ip=192.168.34.54 | op=SEND_HEARTBEAT {datanodeUUID=035eba28-b4d6-4432-8796-18bc80fb1833, command=[]} | ret=SUCCESS |  
2019-08-29 08:38:34,024 [EventQueue-IncrementalContainerReportForIncrementalContainerReportHandler] WARN  container.IncrementalContainerReportHandler (AbstractContainerReportHandler.java:updateContainerState(143)) - Container #1 is in OPEN state, but the datanode 035eba28-b4d6-4432-8796-18bc80fb1833{ip: 192.168.34.54, host: pr-hdds-1553-zhl8q-89899572, networkLocation: /default-rack, certSerialId: null} reports an UNHEALTHY replica.
2019-08-29 08:38:34,028 | ERROR | DNAudit | user=null | ip=null | op=WRITE_CHUNK {blockData=conID: 1 locID: 102699362383888385 bcsId: 3} | ret=FAILURE | java.lang.Exception: Unable to get Chunks directory.
	at org.apache.hadoop.ozone.container.common.impl.HddsDispatcher.dispatchRequest(HddsDispatcher.java:320)
	at org.apache.hadoop.ozone.container.common.impl.HddsDispatcher.dispatch(HddsDispatcher.java:148) 
2019-08-29 08:38:34,028 [pool-26-thread-2] ERROR ratis.ContainerStateMachine (ContainerStateMachine.java:lambda$handleWriteChunk$2(449)) - group-24DFBF753E9B: writeChunk writeStateMachineData failed: blockIdcontainerID: 1
localID: 102699362383888385
blockCommitSequenceId: 3
 logIndex 5 chunkName 102699362383888385_chunk_2 Error message: Unable to get Chunks directory. Container Result: UNABLE_TO_FIND_DATA_DIR
2019-08-29 08:38:34,037 [035eba28-b4d6-4432-8796-18bc80fb1833-SegmentedRaftLogWorker:Storage Directory /workdir/hadoop-ozone/integration-test/target/test-dir/MiniOzoneClusterImpl-bffb8a9c-a960-4e2c-a106-63c013a34ce0/datanode-0/data/ratis/1898b7b6-272f-42b9-bde8-24dfbf753e9b] ERROR ratis.XceiverServerRatis (XceiverServerRatis.java:triggerPipelineClose(561)) - pipeline Action CLOSE  on pipeline PipelineID=1898b7b6-272f-42b9-bde8-24dfbf753e9b.Reason : Unable to get Chunks directory.
2019-08-29 08:38:34,038 [035eba28-b4d6-4432-8796-18bc80fb1833-SegmentedRaftLogWorker:Storage Directory /workdir/hadoop-ozone/integration-test/target/test-dir/MiniOzoneClusterImpl-bffb8a9c-a960-4e2c-a106-63c013a34ce0/datanode-0/data/ratis/1898b7b6-272f-42b9-bde8-24dfbf753e9b] ERROR ratis.XceiverServerRatis (XceiverServerRatis.java:triggerPipelineClose(561)) - pipeline Action CLOSE  on pipeline PipelineID=1898b7b6-272f-42b9-bde8-24dfbf753e9b.Reason : Log already failed at index 5 for task WriteLog:5: (t:1, i:5), STATEMACHINELOGENTRY, client-64C89C9AC975, cid=3
2019-08-29 08:38:34,041 | INFO  | SCMAudit | user=jenkins1000 | ip=192.168.34.54 | op=SEND_HEARTBEAT {datanodeUUID=035eba28-b4d6-4432-8796-18bc80fb1833, command=[]} | ret=SUCCESS |  
2019-08-29 08:38:34,042 [EventQueue-PipelineActionsForPipelineActionHandler] ERROR pipeline.PipelineActionHandler (PipelineActionHandler.java:onMessage(60)) - Received pipeline action CLOSE for Pipeline[ Id: 1898b7b6-272f-42b9-bde8-24dfbf753e9b, Nodes: 035eba28-b4d6-4432-8796-18bc80fb1833{ip: 192.168.34.54, host: pr-hdds-1553-zhl8q-89899572, networkLocation: /default-rack, certSerialId: null}, Type:RATIS, Factor:ONE, State:OPEN] from datanode 035eba28-b4d6-4432-8796-18bc80fb1833{ip: 192.168.34.54, host: pr-hdds-1553-zhl8q-89899572, networkLocation: /default-rack, certSerialId: null}. Reason : Unable to get Chunks directory.
2019-08-29 08:38:34,042 [EventQueue-PipelineActionsForPipelineActionHandler] INFO  pipeline.SCMPipelineManager (SCMPipelineManager.java:finalizeAndDestroyPipeline(309)) - destroying pipeline:Pipeline[ Id: 1898b7b6-272f-42b9-bde8-24dfbf753e9b, Nodes: 035eba28-b4d6-4432-8796-18bc80fb1833{ip: 192.168.34.54, host: pr-hdds-1553-zhl8q-89899572, networkLocation: /default-rack, certSerialId: null}, Type:RATIS, Factor:ONE, State:OPEN]
2019-08-29 08:38:34,042 [EventQueue-CloseContainerForCloseContainerEventHandler] INFO  container.CloseContainerEventHandler (CloseContainerEventHandler.java:onMessage(61)) - Close container Event triggered for container : #1
2019-08-29 08:38:34,044 | INFO  | SCMAudit | user=jenkins1000 | ip=192.168.34.54 | op=SEND_HEARTBEAT {datanodeUUID=035eba28-b4d6-4432-8796-18bc80fb1833, command=[]} | ret=SUCCESS |  
2019-08-29 08:38:34,044 [EventQueue-PipelineActionsForPipelineActionHandler] INFO  pipeline.PipelineStateManager (PipelineStateManager.java:finalizePipeline(123)) - Pipeline Pipeline[ Id: 1898b7b6-272f-42b9-bde8-24dfbf753e9b, Nodes: 035eba28-b4d6-4432-8796-18bc80fb1833{ip: 192.168.34.54, host: pr-hdds-1553-zhl8q-89899572, networkLocation: /default-rack, certSerialId: null}, Type:RATIS, Factor:ONE, State:CLOSED] moved to CLOSED state
2019-08-29 08:38:34,047 [EventQueue-CloseContainerForCloseContainerEventHandler] INFO  container.CloseContainerEventHandler (CloseContainerEventHandler.java:onMessage(61)) - Close container Event triggered for container : #1
2019-08-29 08:38:34,074 [StateMachineUpdater:035eba28-b4d6-4432-8796-18bc80fb1833:group-24DFBF753E9B] INFO  ratis.ContainerStateMachine (ContainerStateMachine.java:takeSnapshot(294)) - group-24DFBF753E9B: Finished taking a snapshot at:(t:1, i:1) file:/workdir/hadoop-ozone/integration-test/target/test-dir/MiniOzoneClusterImpl-bffb8a9c-a960-4e2c-a106-63c013a34ce0/datanode-0/data/ratis/1898b7b6-272f-42b9-bde8-24dfbf753e9b/sm/snapshot.1_1 time:72
2019-08-29 08:38:34,075 [StateMachineUpdater:035eba28-b4d6-4432-8796-18bc80fb1833:group-24DFBF753E9B] INFO  impl.StateMachineUpdater (StateMachineUpdater.java:takeSnapshot(242)) - StateMachineUpdater:035eba28-b4d6-4432-8796-18bc80fb1833:group-24DFBF753E9B: Took a snapshot at index 1
2019-08-29 08:38:34,075 [StateMachineUpdater:035eba28-b4d6-4432-8796-18bc80fb1833:group-24DFBF753E9B] INFO  impl.StateMachineUpdater (StateMachineUpdater.java:lambda$new$0(80)) - StateMachineUpdater:035eba28-b4d6-4432-8796-18bc80fb1833:group-24DFBF753E9B: snapshotIndex: updateIncreasingly 1 -> 1
2019-08-29 08:38:34,262 | INFO  | SCMAudit | user=jenkins1000 | ip=192.168.34.54 | op=SEND_HEARTBEAT {datanodeUUID=035eba28-b4d6-4432-8796-18bc80fb1833, command=[commandType: closeContainerCommand closeContainerCommandProto { containerID: 1 pipelineID { id: "1898b7b6-272f-42b9-bde8-24dfbf753e9b" } cmdId: 1 force: false } , commandType: closeContainerCommand closeContainerCommandProto { containerID: 1 pipelineID { id: "1898b7b6-272f-42b9-bde8-24dfbf753e9b" } cmdId: 1 force: false } ]} | ret=SUCCESS |  
2019-08-29 08:38:34,440 | INFO  | SCMAudit | user=jenkins1000 | ip=192.168.34.54 | op=SEND_HEARTBEAT {datanodeUUID=035eba28-b4d6-4432-8796-18bc80fb1833, command=[]} | ret=SUCCESS |  
2019-08-29 08:38:34,641 | INFO  | SCMAudit | user=jenkins1000 | ip=192.168.34.54 | op=SEND_HEARTBEAT {datanodeUUID=035eba28-b4d6-4432-8796-18bc80fb1833, command=[]} | ret=SUCCESS |  
2019-08-29 08:38:34,840 | INFO  | SCMAudit | user=jenkins1000 | ip=192.168.34.54 | op=SEND_HEARTBEAT {datanodeUUID=035eba28-b4d6-4432-8796-18bc80fb1833, command=[]} | ret=SUCCESS |  
2019-08-29 08:38:35,040 | INFO  | SCMAudit | user=jenkins1000 | ip=192.168.34.54 | op=SEND_HEARTBEAT {datanodeUUID=035eba28-b4d6-4432-8796-18bc80fb1833, command=[]} | ret=SUCCESS |  
2019-08-29 08:38:35,240 | INFO  | SCMAudit | user=jenkins1000 | ip=192.168.34.54 | op=SEND_HEARTBEAT {datanodeUUID=035eba28-b4d6-4432-8796-18bc80fb1833, command=[]} | ret=SUCCESS |  
2019-08-29 08:38:35,240 [035eba28-b4d6-4432-8796-18bc80fb1833-SegmentedRaftLogWorker:Storage Directory /workdir/hadoop-ozone/integration-test/target/test-dir/MiniOzoneClusterImpl-bffb8a9c-a960-4e2c-a106-63c013a34ce0/datanode-0/data/ratis/1898b7b6-272f-42b9-bde8-24dfbf753e9b] ERROR ratis.XceiverServerRatis (XceiverServerRatis.java:triggerPipelineClose(561)) - pipeline Action CLOSE  on pipeline PipelineID=1898b7b6-272f-42b9-bde8-24dfbf753e9b.Reason : Log already failed at index 5 for task WriteLog:5: (t:1, i:5), STATEMACHINELOGENTRY, client-64C89C9AC975, cid=3
2019-08-29 08:38:35,242 | INFO  | SCMAudit | user=jenkins1000 | ip=192.168.34.54 | op=SEND_HEARTBEAT {datanodeUUID=035eba28-b4d6-4432-8796-18bc80fb1833, command=[]} | ret=SUCCESS |  
2019-08-29 08:38:35,242 [EventQueue-PipelineActionsForPipelineActionHandler] ERROR pipeline.PipelineActionHandler (PipelineActionHandler.java:onMessage(60)) - Received pipeline action CLOSE for Pipeline[ Id: 1898b7b6-272f-42b9-bde8-24dfbf753e9b, Nodes: 035eba28-b4d6-4432-8796-18bc80fb1833{ip: 192.168.34.54, host: pr-hdds-1553-zhl8q-89899572, networkLocation: /default-rack, certSerialId: null}, Type:RATIS, Factor:ONE, State:CLOSED] from datanode 035eba28-b4d6-4432-8796-18bc80fb1833{ip: 192.168.34.54, host: pr-hdds-1553-zhl8q-89899572, networkLocation: /default-rack, certSerialId: null}. Reason : Log already failed at index 5 for task WriteLog:5: (t:1, i:5), STATEMACHINELOGENTRY, client-64C89C9AC975, cid=3
2019-08-29 08:38:35,242 [EventQueue-PipelineActionsForPipelineActionHandler] INFO  pipeline.SCMPipelineManager (SCMPipelineManager.java:finalizeAndDestroyPipeline(309)) - destroying pipeline:Pipeline[ Id: 1898b7b6-272f-42b9-bde8-24dfbf753e9b, Nodes: 035eba28-b4d6-4432-8796-18bc80fb1833{ip: 192.168.34.54, host: pr-hdds-1553-zhl8q-89899572, networkLocation: /default-rack, certSerialId: null}, Type:RATIS, Factor:ONE, State:CLOSED]
2019-08-29 08:38:35,443 | INFO  | SCMAudit | user=jenkins1000 | ip=192.168.34.54 | op=SEND_HEARTBEAT {datanodeUUID=035eba28-b4d6-4432-8796-18bc80fb1833, command=[]} | ret=SUCCESS |  
2019-08-29 08:38:35,642 | INFO  | SCMAudit | user=jenkins1000 | ip=192.168.34.54 | op=SEND_HEARTBEAT {datanodeUUID=035eba28-b4d6-4432-8796-18bc80fb1833, command=[]} | ret=SUCCESS |  
2019-08-29 08:38:35,842 | INFO  | SCMAudit | user=jenkins1000 | ip=192.168.34.54 | op=SEND_HEARTBEAT {datanodeUUID=035eba28-b4d6-4432-8796-18bc80fb1833, command=[]} | ret=SUCCESS |  
2019-08-29 08:38:36,042 | INFO  | SCMAudit | user=jenkins1000 | ip=192.168.34.54 | op=SEND_HEARTBEAT {datanodeUUID=035eba28-b4d6-4432-8796-18bc80fb1833, command=[]} | ret=SUCCESS |  
2019-08-29 08:38:36,242 | INFO  | SCMAudit | user=jenkins1000 | ip=192.168.34.54 | op=SEND_HEARTBEAT {datanodeUUID=035eba28-b4d6-4432-8796-18bc80fb1833, command=[]} | ret=SUCCESS |  
2019-08-29 08:38:36,442 | INFO  | SCMAudit | user=jenkins1000 | ip=192.168.34.54 | op=SEND_HEARTBEAT {datanodeUUID=035eba28-b4d6-4432-8796-18bc80fb1833, command=[]} | ret=SUCCESS |  
2019-08-29 08:38:36,643 | INFO  | SCMAudit | user=jenkins1000 | ip=192.168.34.54 | op=SEND_HEARTBEAT {datanodeUUID=035eba28-b4d6-4432-8796-18bc80fb1833, command=[]} | ret=SUCCESS |  
2019-08-29 08:38:36,842 | INFO  | SCMAudit | user=jenkins1000 | ip=192.168.34.54 | op=SEND_HEARTBEAT {datanodeUUID=035eba28-b4d6-4432-8796-18bc80fb1833, command=[]} | ret=SUCCESS |  
2019-08-29 08:38:37,042 | INFO  | SCMAudit | user=jenkins1000 | ip=192.168.34.54 | op=SEND_HEARTBEAT {datanodeUUID=035eba28-b4d6-4432-8796-18bc80fb1833, command=[]} | ret=SUCCESS |  
2019-08-29 08:38:37,243 | INFO  | SCMAudit | user=jenkins1000 | ip=192.168.34.54 | op=SEND_HEARTBEAT {datanodeUUID=035eba28-b4d6-4432-8796-18bc80fb1833, command=[]} | ret=SUCCESS |  
2019-08-29 08:38:37,442 | INFO  | SCMAudit | user=jenkins1000 | ip=192.168.34.54 | op=SEND_HEARTBEAT {datanodeUUID=035eba28-b4d6-4432-8796-18bc80fb1833, command=[]} | ret=SUCCESS |  
2019-08-29 08:38:37,644 | INFO  | SCMAudit | user=jenkins1000 | ip=192.168.34.54 | op=SEND_HEARTBEAT {datanodeUUID=035eba28-b4d6-4432-8796-18bc80fb1833, command=[]} | ret=SUCCESS |  
2019-08-29 08:38:37,843 | INFO  | SCMAudit | user=jenkins1000 | ip=192.168.34.54 | op=SEND_HEARTBEAT {datanodeUUID=035eba28-b4d6-4432-8796-18bc80fb1833, command=[]} | ret=SUCCESS |  
2019-08-29 08:38:38,044 | INFO  | SCMAudit | user=jenkins1000 | ip=192.168.34.54 | op=SEND_HEARTBEAT {datanodeUUID=035eba28-b4d6-4432-8796-18bc80fb1833, command=[]} | ret=SUCCESS |  
2019-08-29 08:38:38,245 | INFO  | SCMAudit | user=jenkins1000 | ip=192.168.34.54 | op=SEND_HEARTBEAT {datanodeUUID=035eba28-b4d6-4432-8796-18bc80fb1833, command=[]} | ret=SUCCESS |  
2019-08-29 08:38:38,445 | INFO  | SCMAudit | user=jenkins1000 | ip=192.168.34.54 | op=SEND_HEARTBEAT {datanodeUUID=035eba28-b4d6-4432-8796-18bc80fb1833, command=[]} | ret=SUCCESS |  
2019-08-29 08:38:38,646 | INFO  | SCMAudit | user=jenkins1000 | ip=192.168.34.54 | op=SEND_HEARTBEAT {datanodeUUID=035eba28-b4d6-4432-8796-18bc80fb1833, command=[]} | ret=SUCCESS |  
2019-08-29 08:38:38,845 | INFO  | SCMAudit | user=jenkins1000 | ip=192.168.34.54 | op=SEND_HEARTBEAT {datanodeUUID=035eba28-b4d6-4432-8796-18bc80fb1833, command=[]} | ret=SUCCESS |  
2019-08-29 08:38:39,047 | INFO  | SCMAudit | user=jenkins1000 | ip=192.168.34.54 | op=SEND_HEARTBEAT {datanodeUUID=035eba28-b4d6-4432-8796-18bc80fb1833, command=[]} | ret=SUCCESS |  
2019-08-29 08:38:39,247 | INFO  | SCMAudit | user=jenkins1000 | ip=192.168.34.54 | op=SEND_HEARTBEAT {datanodeUUID=035eba28-b4d6-4432-8796-18bc80fb1833, command=[]} | ret=SUCCESS |  
2019-08-29 08:38:39,447 | INFO  | SCMAudit | user=jenkins1000 | ip=192.168.34.54 | op=SEND_HEARTBEAT {datanodeUUID=035eba28-b4d6-4432-8796-18bc80fb1833, command=[]} | ret=SUCCESS |  
2019-08-29 08:38:39,647 | INFO  | SCMAudit | user=jenkins1000 | ip=192.168.34.54 | op=SEND_HEARTBEAT {datanodeUUID=035eba28-b4d6-4432-8796-18bc80fb1833, command=[]} | ret=SUCCESS |  
2019-08-29 08:38:39,847 | INFO  | SCMAudit | user=jenkins1000 | ip=192.168.34.54 | op=SEND_HEARTBEAT {datanodeUUID=035eba28-b4d6-4432-8796-18bc80fb1833, command=[]} | ret=SUCCESS |  
2019-08-29 08:38:40,047 | INFO  | SCMAudit | user=jenkins1000 | ip=192.168.34.54 | op=SEND_HEARTBEAT {datanodeUUID=035eba28-b4d6-4432-8796-18bc80fb1833, command=[]} | ret=SUCCESS |  
2019-08-29 08:38:40,247 | INFO  | SCMAudit | user=jenkins1000 | ip=192.168.34.54 | op=SEND_HEARTBEAT {datanodeUUID=035eba28-b4d6-4432-8796-18bc80fb1833, command=[]} | ret=SUCCESS |  
2019-08-29 08:38:40,446 | INFO  | SCMAudit | user=jenkins1000 | ip=192.168.34.54 | op=SEND_HEARTBEAT {datanodeUUID=035eba28-b4d6-4432-8796-18bc80fb1833, command=[]} | ret=SUCCESS |  
2019-08-29 08:38:40,648 | INFO  | SCMAudit | user=jenkins1000 | ip=192.168.34.54 | op=SEND_HEARTBEAT {datanodeUUID=035eba28-b4d6-4432-8796-18bc80fb1833, command=[]} | ret=SUCCESS |  
2019-08-29 08:38:40,847 | INFO  | SCMAudit | user=jenkins1000 | ip=192.168.34.54 | op=SEND_HEARTBEAT {datanodeUUID=035eba28-b4d6-4432-8796-18bc80fb1833, command=[]} | ret=SUCCESS |  
2019-08-29 08:38:41,047 | INFO  | SCMAudit | user=jenkins1000 | ip=192.168.34.54 | op=SEND_HEARTBEAT {datanodeUUID=035eba28-b4d6-4432-8796-18bc80fb1833, command=[]} | ret=SUCCESS |  
2019-08-29 08:38:41,247 | INFO  | SCMAudit | user=jenkins1000 | ip=192.168.34.54 | op=SEND_HEARTBEAT {datanodeUUID=035eba28-b4d6-4432-8796-18bc80fb1833, command=[]} | ret=SUCCESS |  
2019-08-29 08:38:41,448 | INFO  | SCMAudit | user=jenkins1000 | ip=192.168.34.54 | op=SEND_HEARTBEAT {datanodeUUID=035eba28-b4d6-4432-8796-18bc80fb1833, command=[]} | ret=SUCCESS |  
2019-08-29 08:38:41,648 | INFO  | SCMAudit | user=jenkins1000 | ip=192.168.34.54 | op=SEND_HEARTBEAT {datanodeUUID=035eba28-b4d6-4432-8796-18bc80fb1833, command=[]} | ret=SUCCESS |  
2019-08-29 08:38:41,848 | INFO  | SCMAudit | user=jenkins1000 | ip=192.168.34.54 | op=SEND_HEARTBEAT {datanodeUUID=035eba28-b4d6-4432-8796-18bc80fb1833, command=[]} | ret=SUCCESS |  
2019-08-29 08:38:42,048 | INFO  | SCMAudit | user=jenkins1000 | ip=192.168.34.54 | op=SEND_HEARTBEAT {datanodeUUID=035eba28-b4d6-4432-8796-18bc80fb1833, command=[]} | ret=SUCCESS |  
2019-08-29 08:38:42,248 | INFO  | SCMAudit | user=jenkins1000 | ip=192.168.34.54 | op=SEND_HEARTBEAT {datanodeUUID=035eba28-b4d6-4432-8796-18bc80fb1833, command=[]} | ret=SUCCESS |  
2019-08-29 08:38:42,449 | INFO  | SCMAudit | user=jenkins1000 | ip=192.168.34.54 | op=SEND_HEARTBEAT {datanodeUUID=035eba28-b4d6-4432-8796-18bc80fb1833, command=[]} | ret=SUCCESS |  
2019-08-29 08:38:42,649 | INFO  | SCMAudit | user=jenkins1000 | ip=192.168.34.54 | op=SEND_HEARTBEAT {datanodeUUID=035eba28-b4d6-4432-8796-18bc80fb1833, command=[]} | ret=SUCCESS |  
2019-08-29 08:38:42,849 | INFO  | SCMAudit | user=jenkins1000 | ip=192.168.34.54 | op=SEND_HEARTBEAT {datanodeUUID=035eba28-b4d6-4432-8796-18bc80fb1833, command=[]} | ret=SUCCESS |  
2019-08-29 08:38:43,049 | INFO  | SCMAudit | user=jenkins1000 | ip=192.168.34.54 | op=SEND_HEARTBEAT {datanodeUUID=035eba28-b4d6-4432-8796-18bc80fb1833, command=[]} | ret=SUCCESS |  
2019-08-29 08:38:43,249 | INFO  | SCMAudit | user=jenkins1000 | ip=192.168.34.54 | op=SEND_HEARTBEAT {datanodeUUID=035eba28-b4d6-4432-8796-18bc80fb1833, command=[]} | ret=SUCCESS |  
2019-08-29 08:38:43,449 | INFO  | SCMAudit | user=jenkins1000 | ip=192.168.34.54 | op=SEND_HEARTBEAT {datanodeUUID=035eba28-b4d6-4432-8796-18bc80fb1833, command=[]} | ret=SUCCESS |  
2019-08-29 08:38:43,649 | INFO  | SCMAudit | user=jenkins1000 | ip=192.168.34.54 | op=SEND_HEARTBEAT {datanodeUUID=035eba28-b4d6-4432-8796-18bc80fb1833, command=[]} | ret=SUCCESS |  
2019-08-29 08:38:43,849 | INFO  | SCMAudit | user=jenkins1000 | ip=192.168.34.54 | op=SEND_HEARTBEAT {datanodeUUID=035eba28-b4d6-4432-8796-18bc80fb1833, command=[]} | ret=SUCCESS |  
2019-08-29 08:38:44,049 | INFO  | SCMAudit | user=jenkins1000 | ip=192.168.34.54 | op=SEND_HEARTBEAT {datanodeUUID=035eba28-b4d6-4432-8796-18bc80fb1833, command=[]} | ret=SUCCESS |  
2019-08-29 08:38:44,080 [grpc-default-executor-1] INFO  impl.RaftServerProxy (RaftServerProxy.java:remove(95)) - 035eba28-b4d6-4432-8796-18bc80fb1833: remove   LEADER group-24DFBF753E9B 035eba28-b4d6-4432-8796-18bc80fb1833:t1, leader=035eba28-b4d6-4432-8796-18bc80fb1833, voted=035eba28-b4d6-4432-8796-18bc80fb1833, raftlog=035eba28-b4d6-4432-8796-18bc80fb1833-SegmentedRaftLog:OPENED:c4,f4,i7, conf=0: [035eba28-b4d6-4432-8796-18bc80fb1833:192.168.34.54:35758], old=null RUNNING
2019-08-29 08:38:44,085 [grpc-default-executor-1] INFO  impl.RaftServerImpl (RaftServerImpl.java:lambda$shutdown$3(245)) - 035eba28-b4d6-4432-8796-18bc80fb1833: shutdown group-24DFBF753E9B
2019-08-29 08:38:44,085 [grpc-default-executor-1] INFO  util.JmxRegister (JmxRegister.java:unregister(73)) - Successfully un-registered JMX Bean with object name Ratis:service=RaftServer,group=group-24DFBF753E9B,id=035eba28-b4d6-4432-8796-18bc80fb1833
2019-08-29 08:38:44,086 [grpc-default-executor-1] INFO  impl.RoleInfo (RoleInfo.java:shutdownLeaderState(104)) - 035eba28-b4d6-4432-8796-18bc80fb1833: shutdown LeaderState
2019-08-29 08:38:44,086 [grpc-default-executor-1] INFO  impl.PendingRequests (PendingRequests.java:sendNotLeaderResponses(202)) - 035eba28-b4d6-4432-8796-18bc80fb1833-PendingRequests: sendNotLeaderResponses
2019-08-29 08:38:44,088 [Command processor thread] ERROR commandhandler.CloseContainerCommandHandler (CloseContainerCommandHandler.java:handle(124)) - Can't close container #1
org.apache.hadoop.hdds.scm.container.common.helpers.StorageContainerException: Cannot quasi close container #1 while in UNHEALTHY state.
	at org.apache.hadoop.ozone.container.keyvalue.KeyValueHandler.quasiCloseContainer(KeyValueHandler.java:930)
	at org.apache.hadoop.ozone.container.ozoneimpl.ContainerController.quasiCloseContainer(ContainerController.java:107)
	at org.apache.hadoop.ozone.container.common.statemachine.commandhandler.CloseContainerCommandHandler.handle(CloseContainerCommandHandler.java:116)
	at org.apache.hadoop.ozone.container.common.statemachine.commandhandler.CommandDispatcher.handle(CommandDispatcher.java:93)
	at org.apache.hadoop.ozone.container.common.statemachine.DatanodeStateMachine.lambda$initCommandHandlerThread$1(DatanodeStateMachine.java:432)
	at java.lang.Thread.run(Thread.java:748)
2019-08-29 08:38:44,093 [grpc-default-executor-1] INFO  impl.StateMachineUpdater (StateMachineUpdater.java:stopAndJoin(115)) - StateMachineUpdater:035eba28-b4d6-4432-8796-18bc80fb1833:group-24DFBF753E9B: set stopIndex = 4
2019-08-29 08:38:44,094 [StateMachineUpdater:035eba28-b4d6-4432-8796-18bc80fb1833:group-24DFBF753E9B] INFO  ratis.ContainerStateMachine (ContainerStateMachine.java:takeSnapshot(283)) - group-24DFBF753E9B: Taking a snapshot at:(t:1, i:4) file /workdir/hadoop-ozone/integration-test/target/test-dir/MiniOzoneClusterImpl-bffb8a9c-a960-4e2c-a106-63c013a34ce0/datanode-0/data/ratis/1898b7b6-272f-42b9-bde8-24dfbf753e9b/sm/snapshot.1_4
2019-08-29 08:38:44,137 [StateMachineUpdater:035eba28-b4d6-4432-8796-18bc80fb1833:group-24DFBF753E9B] INFO  ratis.ContainerStateMachine (ContainerStateMachine.java:takeSnapshot(294)) - group-24DFBF753E9B: Finished taking a snapshot at:(t:1, i:4) file:/workdir/hadoop-ozone/integration-test/target/test-dir/MiniOzoneClusterImpl-bffb8a9c-a960-4e2c-a106-63c013a34ce0/datanode-0/data/ratis/1898b7b6-272f-42b9-bde8-24dfbf753e9b/sm/snapshot.1_4 time:43
2019-08-29 08:38:44,137 [StateMachineUpdater:035eba28-b4d6-4432-8796-18bc80fb1833:group-24DFBF753E9B] INFO  impl.StateMachineUpdater (StateMachineUpdater.java:takeSnapshot(242)) - StateMachineUpdater:035eba28-b4d6-4432-8796-18bc80fb1833:group-24DFBF753E9B: Took a snapshot at index 4
2019-08-29 08:38:44,137 [StateMachineUpdater:035eba28-b4d6-4432-8796-18bc80fb1833:group-24DFBF753E9B] INFO  impl.StateMachineUpdater (StateMachineUpdater.java:lambda$new$0(80)) - StateMachineUpdater:035eba28-b4d6-4432-8796-18bc80fb1833:group-24DFBF753E9B: snapshotIndex: updateIncreasingly 1 -> 4
2019-08-29 08:38:44,138 [grpc-default-executor-1] INFO  impl.RaftServerImpl (ServerState.java:close(394)) - 035eba28-b4d6-4432-8796-18bc80fb1833:group-24DFBF753E9B closes. The last applied log index is 4
2019-08-29 08:38:44,140 [035eba28-b4d6-4432-8796-18bc80fb1833-SegmentedRaftLogWorker:Storage Directory /workdir/hadoop-ozone/integration-test/target/test-dir/MiniOzoneClusterImpl-bffb8a9c-a960-4e2c-a106-63c013a34ce0/datanode-0/data/ratis/1898b7b6-272f-42b9-bde8-24dfbf753e9b] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:run(313)) - 035eba28-b4d6-4432-8796-18bc80fb1833-SegmentedRaftLogWorker:Storage Directory /workdir/hadoop-ozone/integration-test/target/test-dir/MiniOzoneClusterImpl-bffb8a9c-a960-4e2c-a106-63c013a34ce0/datanode-0/data/ratis/1898b7b6-272f-42b9-bde8-24dfbf753e9b was interrupted, exiting. There are 0 tasks remaining in the queue.
2019-08-29 08:38:44,143 [grpc-default-executor-1] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:close(228)) - 035eba28-b4d6-4432-8796-18bc80fb1833-SegmentedRaftLogWorker:Storage Directory /workdir/hadoop-ozone/integration-test/target/test-dir/MiniOzoneClusterImpl-bffb8a9c-a960-4e2c-a106-63c013a34ce0/datanode-0/data/ratis/1898b7b6-272f-42b9-bde8-24dfbf753e9b close()
2019-08-29 08:38:44,157 [RatisPipelineUtilsThread] INFO  pipeline.PipelineStateManager (PipelineStateManager.java:removePipeline(108)) - Pipeline Pipeline[ Id: 1898b7b6-272f-42b9-bde8-24dfbf753e9b, Nodes: 035eba28-b4d6-4432-8796-18bc80fb1833{ip: 192.168.34.54, host: pr-hdds-1553-zhl8q-89899572, networkLocation: /default-rack, certSerialId: null}, Type:RATIS, Factor:ONE, State:CLOSED] removed from db
2019-08-29 08:38:44,167 [grpc-default-executor-1] INFO  impl.RaftServerProxy (RaftServerProxy.java:addNew(89)) - 035eba28-b4d6-4432-8796-18bc80fb1833: addNew group-8683B9C0D83A:[035eba28-b4d6-4432-8796-18bc80fb1833:192.168.34.54:35758] returns group-8683B9C0D83A:java.util.concurrent.CompletableFuture@43b87f65[Not completed]
2019-08-29 08:38:44,169 [pool-27-thread-1] INFO  impl.RaftServerImpl (RaftServerImpl.java:<init>(93)) - 035eba28-b4d6-4432-8796-18bc80fb1833: new RaftServerImpl for group-8683B9C0D83A:[035eba28-b4d6-4432-8796-18bc80fb1833:192.168.34.54:35758] with ContainerStateMachine:uninitialized
2019-08-29 08:38:44,169 [pool-27-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.rpc.timeout.min = 5s (custom)
2019-08-29 08:38:44,170 [pool-27-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.rpc.timeout.max = 5200ms (custom)
2019-08-29 08:38:44,170 [pool-27-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.rpcslowness.timeout = 120s (custom)
2019-08-29 08:38:44,170 [pool-27-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.sleep.deviation.threshold = 300 (default)
2019-08-29 08:38:44,170 [pool-27-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.log.appender.install.snapshot.enabled = false (custom)
2019-08-29 08:38:44,170 [pool-27-thread-1] INFO  impl.RaftServerImpl (ServerState.java:<init>(105)) - 035eba28-b4d6-4432-8796-18bc80fb1833:group-8683B9C0D83A ConfigurationManager, init=-1: [035eba28-b4d6-4432-8796-18bc80fb1833:192.168.34.54:35758], old=null, confs=<EMPTY_MAP>
2019-08-29 08:38:44,171 [pool-27-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.storage.dir = [/workdir/hadoop-ozone/integration-test/target/test-dir/MiniOzoneClusterImpl-bffb8a9c-a960-4e2c-a106-63c013a34ce0/datanode-0/data/ratis] (custom)
2019-08-29 08:38:44,171 [pool-27-thread-1] INFO  storage.RaftStorageDirectory (RaftStorageDirectory.java:analyzeStorage(246)) - The storage directory /workdir/hadoop-ozone/integration-test/target/test-dir/MiniOzoneClusterImpl-bffb8a9c-a960-4e2c-a106-63c013a34ce0/datanode-0/data/ratis/90c493bc-f963-48f5-9606-8683b9c0d83a does not exist. Creating ...
2019-08-29 08:38:44,185 [pool-27-thread-1] INFO  storage.RaftStorageDirectory (RaftStorageDirectory.java:tryLock(328)) - Lock on /workdir/hadoop-ozone/integration-test/target/test-dir/MiniOzoneClusterImpl-bffb8a9c-a960-4e2c-a106-63c013a34ce0/datanode-0/data/ratis/90c493bc-f963-48f5-9606-8683b9c0d83a/in_use.lock acquired by nodename 2896@pr-hdds-1553-zhl8q-89899572
2019-08-29 08:38:44,198 [pool-27-thread-1] INFO  storage.RaftStorage (RaftStorage.java:format(72)) - Storage directory /workdir/hadoop-ozone/integration-test/target/test-dir/MiniOzoneClusterImpl-bffb8a9c-a960-4e2c-a106-63c013a34ce0/datanode-0/data/ratis/90c493bc-f963-48f5-9606-8683b9c0d83a has been successfully formatted.
2019-08-29 08:38:44,199 [pool-27-thread-1] INFO  ratis.ContainerStateMachine (ContainerStateMachine.java:loadSnapshot(226)) - group-8683B9C0D83A: The snapshot info is null. Setting the last applied indexto:(t:0, i:~)
2019-08-29 08:38:44,199 [pool-27-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.leader.election.timeout = 120s (custom)
2019-08-29 08:38:44,199 [pool-27-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.log.use.memory = false (default)
2019-08-29 08:38:44,199 [pool-27-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.log.purge.gap = 1000000 (custom)
2019-08-29 08:38:44,199 [pool-27-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.log.appender.buffer.byte-limit = 33554432 (custom)
2019-08-29 08:38:44,199 [pool-27-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.log.segment.size.max = 1048576 (custom)
2019-08-29 08:38:44,199 [pool-27-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.log.segment.cache.num.max = 2 (custom)
2019-08-29 08:38:44,200 [pool-27-thread-1] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:<init>(172)) - new 035eba28-b4d6-4432-8796-18bc80fb1833-SegmentedRaftLogWorker:Storage Directory /workdir/hadoop-ozone/integration-test/target/test-dir/MiniOzoneClusterImpl-bffb8a9c-a960-4e2c-a106-63c013a34ce0/datanode-0/data/ratis/90c493bc-f963-48f5-9606-8683b9c0d83a for RaftStorage:Storage Directory /workdir/hadoop-ozone/integration-test/target/test-dir/MiniOzoneClusterImpl-bffb8a9c-a960-4e2c-a106-63c013a34ce0/datanode-0/data/ratis/90c493bc-f963-48f5-9606-8683b9c0d83a
2019-08-29 08:38:44,200 [pool-27-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.log.queue.byte-limit = 2147483647 (custom)
2019-08-29 08:38:44,200 [pool-27-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.log.queue.element-limit = 1024 (custom)
2019-08-29 08:38:44,200 [pool-27-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.log.segment.size.max = 1048576 (custom)
2019-08-29 08:38:44,200 [pool-27-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.log.preallocated.size = 16384 (custom)
2019-08-29 08:38:44,200 [pool-27-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.log.write.buffer.size = 33554432 (custom)
2019-08-29 08:38:44,200 [pool-27-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.log.force.sync.num = 128 (default)
2019-08-29 08:38:44,201 [pool-27-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.log.statemachine.data.sync = true (default)
2019-08-29 08:38:44,201 [pool-27-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.log.statemachine.data.sync.timeout = 10s (default)
2019-08-29 08:38:44,201 [pool-27-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.log.statemachine.data.sync.timeout.retry = -1 (default)
2019-08-29 08:38:44,201 [pool-27-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.log.statemachine.data.caching.enabled = true (custom)
2019-08-29 08:38:44,202 [pool-27-thread-1] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:lambda$new$0(132)) - 035eba28-b4d6-4432-8796-18bc80fb1833-SegmentedRaftLogWorker:Storage Directory /workdir/hadoop-ozone/integration-test/target/test-dir/MiniOzoneClusterImpl-bffb8a9c-a960-4e2c-a106-63c013a34ce0/datanode-0/data/ratis/90c493bc-f963-48f5-9606-8683b9c0d83a: flushIndex: setUnconditionally 0 -> -1
2019-08-29 08:38:44,202 [pool-27-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.snapshot.auto.trigger.enabled = true (custom)
2019-08-29 08:38:44,202 [pool-27-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.snapshot.auto.trigger.threshold = 1 (custom)
2019-08-29 08:38:44,203 [pool-27-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.retrycache.expirytime = 600000ms (custom)
2019-08-29 08:38:44,203 [pool-27-thread-1] INFO  impl.RaftServerImpl (RaftServerImpl.java:start(180)) - 035eba28-b4d6-4432-8796-18bc80fb1833: start group-8683B9C0D83A
2019-08-29 08:38:44,203 [pool-27-thread-1] INFO  impl.RaftServerImpl (RaftServerImpl.java:setRole(171)) - 035eba28-b4d6-4432-8796-18bc80fb1833:group-8683B9C0D83A changes role from null to FOLLOWER at term 0 for startAsFollower
2019-08-29 08:38:44,203 [pool-27-thread-1] INFO  impl.RoleInfo (RoleInfo.java:updateAndGet(143)) - 035eba28-b4d6-4432-8796-18bc80fb1833: start FollowerState
2019-08-29 08:38:44,203 [pool-27-thread-1] INFO  util.JmxRegister (JmxRegister.java:tryRegister(44)) - Successfully registered JMX Bean with object name Ratis:service=RaftServer,group=group-8683B9C0D83A,id=035eba28-b4d6-4432-8796-18bc80fb1833
2019-08-29 08:38:44,209 [RatisPipelineUtilsThread] INFO  pipeline.PipelineStateManager (PipelineStateManager.java:addPipeline(56)) - Created pipeline Pipeline[ Id: 90c493bc-f963-48f5-9606-8683b9c0d83a, Nodes: 035eba28-b4d6-4432-8796-18bc80fb1833{ip: 192.168.34.54, host: pr-hdds-1553-zhl8q-89899572, networkLocation: /default-rack, certSerialId: null}, Type:RATIS, Factor:ONE, State:OPEN]
2019-08-29 08:38:44,249 | INFO  | SCMAudit | user=jenkins1000 | ip=192.168.34.54 | op=SEND_HEARTBEAT {datanodeUUID=035eba28-b4d6-4432-8796-18bc80fb1833, command=[]} | ret=SUCCESS |  
2019-08-29 08:38:44,449 | INFO  | SCMAudit | user=jenkins1000 | ip=192.168.34.54 | op=SEND_HEARTBEAT {datanodeUUID=035eba28-b4d6-4432-8796-18bc80fb1833, command=[]} | ret=SUCCESS |  
2019-08-29 08:38:44,648 | INFO  | SCMAudit | user=jenkins1000 | ip=192.168.34.54 | op=SEND_HEARTBEAT {datanodeUUID=035eba28-b4d6-4432-8796-18bc80fb1833, command=[]} | ret=SUCCESS |  
2019-08-29 08:38:44,849 | INFO  | SCMAudit | user=jenkins1000 | ip=192.168.34.54 | op=SEND_HEARTBEAT {datanodeUUID=035eba28-b4d6-4432-8796-18bc80fb1833, command=[]} | ret=SUCCESS |  
2019-08-29 08:38:45,049 | INFO  | SCMAudit | user=jenkins1000 | ip=192.168.34.54 | op=SEND_HEARTBEAT {datanodeUUID=035eba28-b4d6-4432-8796-18bc80fb1833, command=[]} | ret=SUCCESS |  
2019-08-29 08:38:45,250 | INFO  | SCMAudit | user=jenkins1000 | ip=192.168.34.54 | op=SEND_HEARTBEAT {datanodeUUID=035eba28-b4d6-4432-8796-18bc80fb1833, command=[]} | ret=SUCCESS |  
2019-08-29 08:38:45,252 [grpc-default-executor-1] INFO  impl.RaftServerProxy (RaftServerProxy.java:remove(95)) - 035eba28-b4d6-4432-8796-18bc80fb1833: remove group-24DFBF753E9B:null
2019-08-29 08:38:45,265 [RatisPipelineUtilsThread] WARN  pipeline.RatisPipelineUtils (RatisPipelineUtils.java:destroyPipeline(66)) - Pipeline destroy failed for pipeline=PipelineID=1898b7b6-272f-42b9-bde8-24dfbf753e9b dn=035eba28-b4d6-4432-8796-18bc80fb1833{ip: 192.168.34.54, host: pr-hdds-1553-zhl8q-89899572, networkLocation: /default-rack, certSerialId: null}
2019-08-29 08:38:45,266 [RatisPipelineUtilsThread] ERROR pipeline.SCMPipelineManager (Scheduler.java:lambda$schedule$1(70)) - Destroy pipeline failed for pipeline:Pipeline[ Id: 1898b7b6-272f-42b9-bde8-24dfbf753e9b, Nodes: 035eba28-b4d6-4432-8796-18bc80fb1833{ip: 192.168.34.54, host: pr-hdds-1553-zhl8q-89899572, networkLocation: /default-rack, certSerialId: null}, Type:RATIS, Factor:ONE, State:CLOSED]
org.apache.hadoop.hdds.scm.pipeline.PipelineNotFoundException: PipelineID=1898b7b6-272f-42b9-bde8-24dfbf753e9b not found
	at org.apache.hadoop.hdds.scm.pipeline.PipelineStateMap.getPipeline(PipelineStateMap.java:132)
	at org.apache.hadoop.hdds.scm.pipeline.PipelineStateMap.removePipeline(PipelineStateMap.java:322)
	at org.apache.hadoop.hdds.scm.pipeline.PipelineStateManager.removePipeline(PipelineStateManager.java:107)
	at org.apache.hadoop.hdds.scm.pipeline.SCMPipelineManager.removePipeline(SCMPipelineManager.java:397)
	at org.apache.hadoop.hdds.scm.pipeline.SCMPipelineManager.destroyPipeline(SCMPipelineManager.java:383)
	at org.apache.hadoop.hdds.scm.pipeline.SCMPipelineManager.lambda$finalizeAndDestroyPipeline$0(SCMPipelineManager.java:316)
	at org.apache.hadoop.utils.Scheduler.lambda$schedule$1(Scheduler.java:68)
	at java.util.concurrent.Executors$RunnableAdapter.call(Executors.java:511)
	at java.util.concurrent.FutureTask.run(FutureTask.java:266)
	at java.util.concurrent.ScheduledThreadPoolExecutor$ScheduledFutureTask.access$201(ScheduledThreadPoolExecutor.java:180)
	at java.util.concurrent.ScheduledThreadPoolExecutor$ScheduledFutureTask.run(ScheduledThreadPoolExecutor.java:293)
	at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1149)
	at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:624)
	at java.lang.Thread.run(Thread.java:748)
2019-08-29 08:38:45,450 | INFO  | SCMAudit | user=jenkins1000 | ip=192.168.34.54 | op=SEND_HEARTBEAT {datanodeUUID=035eba28-b4d6-4432-8796-18bc80fb1833, command=[]} | ret=SUCCESS |  
2019-08-29 08:38:45,650 | INFO  | SCMAudit | user=jenkins1000 | ip=192.168.34.54 | op=SEND_HEARTBEAT {datanodeUUID=035eba28-b4d6-4432-8796-18bc80fb1833, command=[]} | ret=SUCCESS |  
2019-08-29 08:38:45,850 | INFO  | SCMAudit | user=jenkins1000 | ip=192.168.34.54 | op=SEND_HEARTBEAT {datanodeUUID=035eba28-b4d6-4432-8796-18bc80fb1833, command=[]} | ret=SUCCESS |  
2019-08-29 08:38:46,050 | INFO  | SCMAudit | user=jenkins1000 | ip=192.168.34.54 | op=SEND_HEARTBEAT {datanodeUUID=035eba28-b4d6-4432-8796-18bc80fb1833, command=[]} | ret=SUCCESS |  
2019-08-29 08:38:46,090 [main] WARN  io.KeyOutputStream (KeyOutputStream.java:handleException(276)) - Encountered exception java.io.IOException: Unexpected Storage Container Exception: java.util.concurrent.CompletionException: java.util.concurrent.CompletionException: org.apache.ratis.protocol.GroupMismatchException: 035eba28-b4d6-4432-8796-18bc80fb1833: group-24DFBF753E9B not found. on the pipeline Pipeline[ Id: 1898b7b6-272f-42b9-bde8-24dfbf753e9b, Nodes: 035eba28-b4d6-4432-8796-18bc80fb1833{ip: 192.168.34.54, host: pr-hdds-1553-zhl8q-89899572, networkLocation: /default-rack, certSerialId: null}, Type:RATIS, Factor:ONE, State:OPEN]. The last committed block length is 5, uncommitted data length is 5 retry count 0
2019-08-29 08:38:46,164 | INFO  | SCMAudit | user=jenkins1000 | ip=192.168.34.54 | op=ALLOCATE_BLOCK {owner=2d49cfb1-3e10-45e9-a3c5-8dbd8f344cc2, size=4194304, type=RATIS, factor=ONE} | ret=SUCCESS |  
2019-08-29 08:38:46,166 | INFO  | OMAudit | user=jenkins1000 | ip=127.0.0.1 | op=ALLOCATE_BLOCK {volume=testcontainerstatemachinefailures, bucket=testcontainerstatemachinefailures, key=ratis, dataSize=0, replicationType=null, replicationFactor=null, keyLocationInfo=null, clientID=102699362382446592} | ret=SUCCESS |  
2019-08-29 08:38:46,179 [grpc-default-executor-1] INFO  client.GrpcClientProtocolClient (GrpcClientProtocolClient.java:onNext(255)) - client-D00B6CE51E1F->035eba28-b4d6-4432-8796-18bc80fb1833: receive RaftClientReply:client-D00B6CE51E1F->035eba28-b4d6-4432-8796-18bc80fb1833@group-8683B9C0D83A, cid=8, FAILED org.apache.ratis.protocol.NotLeaderException: Server 035eba28-b4d6-4432-8796-18bc80fb1833 is not the leader (null). Request must be sent to leader., logIndex=0, commits[035eba28-b4d6-4432-8796-18bc80fb1833:c-1]
2019-08-29 08:38:46,250 | INFO  | SCMAudit | user=jenkins1000 | ip=192.168.34.54 | op=SEND_HEARTBEAT {datanodeUUID=035eba28-b4d6-4432-8796-18bc80fb1833, command=[]} | ret=SUCCESS |  
2019-08-29 08:38:46,450 | INFO  | SCMAudit | user=jenkins1000 | ip=192.168.34.54 | op=SEND_HEARTBEAT {datanodeUUID=035eba28-b4d6-4432-8796-18bc80fb1833, command=[]} | ret=SUCCESS |  
2019-08-29 08:38:46,650 | INFO  | SCMAudit | user=jenkins1000 | ip=192.168.34.54 | op=SEND_HEARTBEAT {datanodeUUID=035eba28-b4d6-4432-8796-18bc80fb1833, command=[]} | ret=SUCCESS |  
2019-08-29 08:38:46,850 | INFO  | SCMAudit | user=jenkins1000 | ip=192.168.34.54 | op=SEND_HEARTBEAT {datanodeUUID=035eba28-b4d6-4432-8796-18bc80fb1833, command=[]} | ret=SUCCESS |  
2019-08-29 08:38:47,050 | INFO  | SCMAudit | user=jenkins1000 | ip=192.168.34.54 | op=SEND_HEARTBEAT {datanodeUUID=035eba28-b4d6-4432-8796-18bc80fb1833, command=[]} | ret=SUCCESS |  
2019-08-29 08:38:47,249 | INFO  | SCMAudit | user=jenkins1000 | ip=192.168.34.54 | op=SEND_HEARTBEAT {datanodeUUID=035eba28-b4d6-4432-8796-18bc80fb1833, command=[]} | ret=SUCCESS |  
2019-08-29 08:38:47,450 | INFO  | SCMAudit | user=jenkins1000 | ip=192.168.34.54 | op=SEND_HEARTBEAT {datanodeUUID=035eba28-b4d6-4432-8796-18bc80fb1833, command=[]} | ret=SUCCESS |  
2019-08-29 08:38:47,650 | INFO  | SCMAudit | user=jenkins1000 | ip=192.168.34.54 | op=SEND_HEARTBEAT {datanodeUUID=035eba28-b4d6-4432-8796-18bc80fb1833, command=[]} | ret=SUCCESS |  
2019-08-29 08:38:47,850 | INFO  | SCMAudit | user=jenkins1000 | ip=192.168.34.54 | op=SEND_HEARTBEAT {datanodeUUID=035eba28-b4d6-4432-8796-18bc80fb1833, command=[]} | ret=SUCCESS |  
2019-08-29 08:38:48,050 | INFO  | SCMAudit | user=jenkins1000 | ip=192.168.34.54 | op=SEND_HEARTBEAT {datanodeUUID=035eba28-b4d6-4432-8796-18bc80fb1833, command=[]} | ret=SUCCESS |  
2019-08-29 08:38:48,196 [grpc-default-executor-0] INFO  client.GrpcClientProtocolClient (GrpcClientProtocolClient.java:onNext(255)) - client-D00B6CE51E1F->035eba28-b4d6-4432-8796-18bc80fb1833: receive RaftClientReply:client-D00B6CE51E1F->035eba28-b4d6-4432-8796-18bc80fb1833@group-8683B9C0D83A, cid=8, FAILED org.apache.ratis.protocol.NotLeaderException: Server 035eba28-b4d6-4432-8796-18bc80fb1833 is not the leader (null). Request must be sent to leader., logIndex=0, commits[035eba28-b4d6-4432-8796-18bc80fb1833:c-1]
2019-08-29 08:38:48,250 | INFO  | SCMAudit | user=jenkins1000 | ip=192.168.34.54 | op=SEND_HEARTBEAT {datanodeUUID=035eba28-b4d6-4432-8796-18bc80fb1833, command=[]} | ret=SUCCESS |  
2019-08-29 08:38:48,451 | INFO  | SCMAudit | user=jenkins1000 | ip=192.168.34.54 | op=SEND_HEARTBEAT {datanodeUUID=035eba28-b4d6-4432-8796-18bc80fb1833, command=[]} | ret=SUCCESS |  
2019-08-29 08:38:48,651 | INFO  | SCMAudit | user=jenkins1000 | ip=192.168.34.54 | op=SEND_HEARTBEAT {datanodeUUID=035eba28-b4d6-4432-8796-18bc80fb1833, command=[]} | ret=SUCCESS |  
2019-08-29 08:38:48,851 | INFO  | SCMAudit | user=jenkins1000 | ip=192.168.34.54 | op=SEND_HEARTBEAT {datanodeUUID=035eba28-b4d6-4432-8796-18bc80fb1833, command=[]} | ret=SUCCESS |  
2019-08-29 08:38:49,051 | INFO  | SCMAudit | user=jenkins1000 | ip=192.168.34.54 | op=SEND_HEARTBEAT {datanodeUUID=035eba28-b4d6-4432-8796-18bc80fb1833, command=[]} | ret=SUCCESS |  
2019-08-29 08:38:49,252 | INFO  | SCMAudit | user=jenkins1000 | ip=192.168.34.54 | op=SEND_HEARTBEAT {datanodeUUID=035eba28-b4d6-4432-8796-18bc80fb1833, command=[]} | ret=SUCCESS |  
2019-08-29 08:38:49,267 [Thread-187] INFO  impl.FollowerState (FollowerState.java:run(106)) - 035eba28-b4d6-4432-8796-18bc80fb1833:group-8683B9C0D83A changes to CANDIDATE, lastRpcTime:5064, electionTimeout:5064ms
2019-08-29 08:38:49,269 [Thread-187] INFO  impl.RoleInfo (RoleInfo.java:shutdownFollowerState(121)) - 035eba28-b4d6-4432-8796-18bc80fb1833: shutdown FollowerState
2019-08-29 08:38:49,269 [Thread-187] INFO  impl.RaftServerImpl (RaftServerImpl.java:setRole(171)) - 035eba28-b4d6-4432-8796-18bc80fb1833:group-8683B9C0D83A changes role from FOLLOWER to CANDIDATE at term 0 for changeToCandidate
2019-08-29 08:38:49,269 [Thread-187] INFO  impl.RoleInfo (RoleInfo.java:updateAndGet(143)) - 035eba28-b4d6-4432-8796-18bc80fb1833: start LeaderElection
2019-08-29 08:38:49,296 [035eba28-b4d6-4432-8796-18bc80fb1833:group-8683B9C0D83A:LeaderElection2] INFO  impl.LeaderElection (LeaderElection.java:askForVotes(181)) - 035eba28-b4d6-4432-8796-18bc80fb1833:group-8683B9C0D83A:LeaderElection2: begin an election at term 1 for -1: [035eba28-b4d6-4432-8796-18bc80fb1833:192.168.34.54:35758], old=null
2019-08-29 08:38:49,298 [035eba28-b4d6-4432-8796-18bc80fb1833:group-8683B9C0D83A:LeaderElection2] INFO  impl.RoleInfo (RoleInfo.java:shutdownLeaderElection(134)) - 035eba28-b4d6-4432-8796-18bc80fb1833: shutdown LeaderElection
2019-08-29 08:38:49,298 [035eba28-b4d6-4432-8796-18bc80fb1833:group-8683B9C0D83A:LeaderElection2] INFO  impl.RaftServerImpl (RaftServerImpl.java:setRole(171)) - 035eba28-b4d6-4432-8796-18bc80fb1833:group-8683B9C0D83A changes role from CANDIDATE to LEADER at term 1 for changeToLeader
2019-08-29 08:38:49,298 [035eba28-b4d6-4432-8796-18bc80fb1833:group-8683B9C0D83A:LeaderElection2] INFO  impl.RaftServerImpl (ServerState.java:setLeader(263)) - 035eba28-b4d6-4432-8796-18bc80fb1833:group-8683B9C0D83A change Leader from null to 035eba28-b4d6-4432-8796-18bc80fb1833 at term 1 for becomeLeader, leader elected after 5099ms
2019-08-29 08:38:49,298 [035eba28-b4d6-4432-8796-18bc80fb1833:group-8683B9C0D83A:LeaderElection2] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.staging.catchup.gap = 1000 (default)
2019-08-29 08:38:49,299 [035eba28-b4d6-4432-8796-18bc80fb1833:group-8683B9C0D83A:LeaderElection2] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.rpc.sleep.time = 25ms (default)
2019-08-29 08:38:49,299 [035eba28-b4d6-4432-8796-18bc80fb1833:group-8683B9C0D83A:LeaderElection2] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.write.element-limit = 4096 (default)
2019-08-29 08:38:49,299 [035eba28-b4d6-4432-8796-18bc80fb1833:group-8683B9C0D83A:LeaderElection2] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.watch.timeout = 10s (default)
2019-08-29 08:38:49,299 [035eba28-b4d6-4432-8796-18bc80fb1833:group-8683B9C0D83A:LeaderElection2] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.watch.timeout.denomination = 1s (default)
2019-08-29 08:38:49,299 [035eba28-b4d6-4432-8796-18bc80fb1833:group-8683B9C0D83A:LeaderElection2] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.watch.element-limit = 65536 (default)
2019-08-29 08:38:49,299 [035eba28-b4d6-4432-8796-18bc80fb1833:group-8683B9C0D83A:LeaderElection2] INFO  impl.RoleInfo (RoleInfo.java:updateAndGet(143)) - 035eba28-b4d6-4432-8796-18bc80fb1833: start LeaderState
2019-08-29 08:38:49,300 [035eba28-b4d6-4432-8796-18bc80fb1833:group-8683B9C0D83A:LeaderElection2] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:startLogSegment(380)) - 035eba28-b4d6-4432-8796-18bc80fb1833-SegmentedRaftLogWorker:Storage Directory /workdir/hadoop-ozone/integration-test/target/test-dir/MiniOzoneClusterImpl-bffb8a9c-a960-4e2c-a106-63c013a34ce0/datanode-0/data/ratis/90c493bc-f963-48f5-9606-8683b9c0d83a: Starting segment from index:0
2019-08-29 08:38:49,300 [035eba28-b4d6-4432-8796-18bc80fb1833:group-8683B9C0D83A:LeaderElection2] INFO  impl.RaftServerImpl (ServerState.java:setRaftConf(361)) - 035eba28-b4d6-4432-8796-18bc80fb1833:group-8683B9C0D83A set configuration 0: [035eba28-b4d6-4432-8796-18bc80fb1833:192.168.34.54:35758], old=null at 0
2019-08-29 08:38:49,335 [035eba28-b4d6-4432-8796-18bc80fb1833-SegmentedRaftLogWorker:Storage Directory /workdir/hadoop-ozone/integration-test/target/test-dir/MiniOzoneClusterImpl-bffb8a9c-a960-4e2c-a106-63c013a34ce0/datanode-0/data/ratis/90c493bc-f963-48f5-9606-8683b9c0d83a] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:execute(569)) - 035eba28-b4d6-4432-8796-18bc80fb1833-SegmentedRaftLogWorker:Storage Directory /workdir/hadoop-ozone/integration-test/target/test-dir/MiniOzoneClusterImpl-bffb8a9c-a960-4e2c-a106-63c013a34ce0/datanode-0/data/ratis/90c493bc-f963-48f5-9606-8683b9c0d83a: created new log segment /workdir/hadoop-ozone/integration-test/target/test-dir/MiniOzoneClusterImpl-bffb8a9c-a960-4e2c-a106-63c013a34ce0/datanode-0/data/ratis/90c493bc-f963-48f5-9606-8683b9c0d83a/current/log_inprogress_0
2019-08-29 08:38:49,452 | INFO  | SCMAudit | user=jenkins1000 | ip=192.168.34.54 | op=SEND_HEARTBEAT {datanodeUUID=035eba28-b4d6-4432-8796-18bc80fb1833, command=[]} | ret=SUCCESS |  
2019-08-29 08:38:49,651 | INFO  | SCMAudit | user=jenkins1000 | ip=192.168.34.54 | op=SEND_HEARTBEAT {datanodeUUID=035eba28-b4d6-4432-8796-18bc80fb1833, command=[]} | ret=SUCCESS |  
2019-08-29 08:38:49,852 | INFO  | SCMAudit | user=jenkins1000 | ip=192.168.34.54 | op=SEND_HEARTBEAT {datanodeUUID=035eba28-b4d6-4432-8796-18bc80fb1833, command=[]} | ret=SUCCESS |  
2019-08-29 08:38:50,053 | INFO  | SCMAudit | user=jenkins1000 | ip=192.168.34.54 | op=SEND_HEARTBEAT {datanodeUUID=035eba28-b4d6-4432-8796-18bc80fb1833, command=[]} | ret=SUCCESS |  
2019-08-29 08:38:50,253 | INFO  | SCMAudit | user=jenkins1000 | ip=192.168.34.54 | op=SEND_HEARTBEAT {datanodeUUID=035eba28-b4d6-4432-8796-18bc80fb1833, command=[]} | ret=SUCCESS |  
2019-08-29 08:38:50,276 | INFO  | DNAudit | user=null | ip=null | op=WRITE_CHUNK {blockData=conID: 2 locID: 102699363609083906 bcsId: 0} | ret=SUCCESS |  
2019-08-29 08:38:50,277 | INFO  | SCMAudit | user=jenkins1000 | ip=192.168.34.54 | op=SEND_HEARTBEAT {datanodeUUID=035eba28-b4d6-4432-8796-18bc80fb1833, command=[]} | ret=SUCCESS |  
2019-08-29 08:38:50,290 | INFO  | DNAudit | user=null | ip=null | op=WRITE_CHUNK {blockData=conID: 2 locID: 102699363609083906 bcsId: 0} | ret=SUCCESS |  
2019-08-29 08:38:50,291 [StateMachineUpdater:035eba28-b4d6-4432-8796-18bc80fb1833:group-8683B9C0D83A] INFO  ratis.ContainerStateMachine (ContainerStateMachine.java:takeSnapshot(283)) - group-8683B9C0D83A: Taking a snapshot at:(t:1, i:1) file /workdir/hadoop-ozone/integration-test/target/test-dir/MiniOzoneClusterImpl-bffb8a9c-a960-4e2c-a106-63c013a34ce0/datanode-0/data/ratis/90c493bc-f963-48f5-9606-8683b9c0d83a/sm/snapshot.1_1
2019-08-29 08:38:50,294 [grpc-default-executor-0] INFO  client.GrpcClientProtocolClient (GrpcClientProtocolClient.java:onNext(255)) - client-D00B6CE51E1F->035eba28-b4d6-4432-8796-18bc80fb1833: receive RaftClientReply:client-D00B6CE51E1F->035eba28-b4d6-4432-8796-18bc80fb1833@group-8683B9C0D83A, cid=8, SUCCESS, logIndex=1, commits[035eba28-b4d6-4432-8796-18bc80fb1833:c1]
2019-08-29 08:38:50,302 [StateMachineUpdater:035eba28-b4d6-4432-8796-18bc80fb1833:group-8683B9C0D83A] INFO  ratis.ContainerStateMachine (ContainerStateMachine.java:takeSnapshot(294)) - group-8683B9C0D83A: Finished taking a snapshot at:(t:1, i:1) file:/workdir/hadoop-ozone/integration-test/target/test-dir/MiniOzoneClusterImpl-bffb8a9c-a960-4e2c-a106-63c013a34ce0/datanode-0/data/ratis/90c493bc-f963-48f5-9606-8683b9c0d83a/sm/snapshot.1_1 time:11
2019-08-29 08:38:50,302 [StateMachineUpdater:035eba28-b4d6-4432-8796-18bc80fb1833:group-8683B9C0D83A] INFO  impl.StateMachineUpdater (StateMachineUpdater.java:takeSnapshot(242)) - StateMachineUpdater:035eba28-b4d6-4432-8796-18bc80fb1833:group-8683B9C0D83A: Took a snapshot at index 1
2019-08-29 08:38:50,302 [StateMachineUpdater:035eba28-b4d6-4432-8796-18bc80fb1833:group-8683B9C0D83A] INFO  impl.StateMachineUpdater (StateMachineUpdater.java:lambda$new$0(80)) - StateMachineUpdater:035eba28-b4d6-4432-8796-18bc80fb1833:group-8683B9C0D83A: snapshotIndex: updateIncreasingly -1 -> 1
2019-08-29 08:38:50,348 | INFO  | DNAudit | user=null | ip=null | op=PUT_BLOCK {blockData=[blockId=conID: 2 locID: 102699363609083906 bcsId: 0,size=5]} | ret=SUCCESS |  
2019-08-29 08:38:50,349 [StateMachineUpdater:035eba28-b4d6-4432-8796-18bc80fb1833:group-8683B9C0D83A] INFO  ratis.ContainerStateMachine (ContainerStateMachine.java:takeSnapshot(283)) - group-8683B9C0D83A: Taking a snapshot at:(t:1, i:4) file /workdir/hadoop-ozone/integration-test/target/test-dir/MiniOzoneClusterImpl-bffb8a9c-a960-4e2c-a106-63c013a34ce0/datanode-0/data/ratis/90c493bc-f963-48f5-9606-8683b9c0d83a/sm/snapshot.1_4
2019-08-29 08:38:50,351 [grpc-default-executor-0] INFO  client.GrpcClientProtocolClient (GrpcClientProtocolClient.java:onNext(255)) - client-D00B6CE51E1F->035eba28-b4d6-4432-8796-18bc80fb1833: receive RaftClientReply:client-D00B6CE51E1F->035eba28-b4d6-4432-8796-18bc80fb1833@group-8683B9C0D83A, cid=9, SUCCESS, logIndex=3, commits[035eba28-b4d6-4432-8796-18bc80fb1833:c4]
2019-08-29 08:38:50,358 [StateMachineUpdater:035eba28-b4d6-4432-8796-18bc80fb1833:group-8683B9C0D83A] INFO  ratis.ContainerStateMachine (ContainerStateMachine.java:takeSnapshot(294)) - group-8683B9C0D83A: Finished taking a snapshot at:(t:1, i:4) file:/workdir/hadoop-ozone/integration-test/target/test-dir/MiniOzoneClusterImpl-bffb8a9c-a960-4e2c-a106-63c013a34ce0/datanode-0/data/ratis/90c493bc-f963-48f5-9606-8683b9c0d83a/sm/snapshot.1_4 time:10
2019-08-29 08:38:50,358 [StateMachineUpdater:035eba28-b4d6-4432-8796-18bc80fb1833:group-8683B9C0D83A] INFO  impl.StateMachineUpdater (StateMachineUpdater.java:takeSnapshot(242)) - StateMachineUpdater:035eba28-b4d6-4432-8796-18bc80fb1833:group-8683B9C0D83A: Took a snapshot at index 4
2019-08-29 08:38:50,359 [StateMachineUpdater:035eba28-b4d6-4432-8796-18bc80fb1833:group-8683B9C0D83A] INFO  impl.StateMachineUpdater (StateMachineUpdater.java:lambda$new$0(80)) - StateMachineUpdater:035eba28-b4d6-4432-8796-18bc80fb1833:group-8683B9C0D83A: snapshotIndex: updateIncreasingly 1 -> 4
2019-08-29 08:38:50,360 | INFO  | OMAudit | user=jenkins1000 | ip=127.0.0.1 | op=COMMIT_KEY {volume=testcontainerstatemachinefailures, bucket=testcontainerstatemachinefailures, key=ratis, dataSize=10, replicationType=null, replicationFactor=null, keyLocationInfo=[{blockID={containerID=1, localID=102699362383888385}, length=5, offset=0, token=null, pipeline=Pipeline[ Id: 1898b7b6-272f-42b9-bde8-24dfbf753e9b, Nodes: 035eba28-b4d6-4432-8796-18bc80fb1833{ip: 192.168.34.54, host: pr-hdds-1553-zhl8q-89899572, networkLocation: /default-rack, certSerialId: null}, Type:RATIS, Factor:ONE, State:OPEN], createVersion=0}, {blockID={containerID=2, localID=102699363609083906}, length=5, offset=0, token=null, pipeline=Pipeline[ Id: 90c493bc-f963-48f5-9606-8683b9c0d83a, Nodes: 035eba28-b4d6-4432-8796-18bc80fb1833{ip: 192.168.34.54, host: pr-hdds-1553-zhl8q-89899572, networkLocation: /default-rack, certSerialId: null}, Type:RATIS, Factor:ONE, State:OPEN], createVersion=0}], clientID=102699362382446592} | ret=SUCCESS |  
2019-08-29 08:38:50,361 [main] INFO  datanode.ObjectStoreHandler (ObjectStoreHandler.java:close(155)) - Closing ObjectStoreHandler.
2019-08-29 08:38:50,362 [main] INFO  ozone.HddsDatanodeService (HddsDatanodeService.java:stop(451)) - Stopped plug-in org.apache.hadoop.ozone.web.OzoneHddsDatanodeService@15d3793b
2019-08-29 08:38:50,476 [Datanode State Machine Thread - 0] INFO  statemachine.DatanodeStateMachine (DatanodeStateMachine.java:lambda$startDaemon$0(350)) - Ozone container server started.
2019-08-29 08:38:53,352 [EventQueue-StaleNodeForStaleNodeHandler] INFO  node.StaleNodeHandler (StaleNodeHandler.java:onMessage(58)) - Datanode 035eba28-b4d6-4432-8796-18bc80fb1833{ip: 192.168.34.54, host: pr-hdds-1553-zhl8q-89899572, networkLocation: /default-rack, certSerialId: null} moved to stale state. Finalizing its pipelines [PipelineID=90c493bc-f963-48f5-9606-8683b9c0d83a]
2019-08-29 08:38:53,353 [EventQueue-StaleNodeForStaleNodeHandler] INFO  pipeline.SCMPipelineManager (SCMPipelineManager.java:finalizeAndDestroyPipeline(309)) - destroying pipeline:Pipeline[ Id: 90c493bc-f963-48f5-9606-8683b9c0d83a, Nodes: 035eba28-b4d6-4432-8796-18bc80fb1833{ip: 192.168.34.54, host: pr-hdds-1553-zhl8q-89899572, networkLocation: /default-rack, certSerialId: null}, Type:RATIS, Factor:ONE, State:OPEN]
2019-08-29 08:38:53,353 [EventQueue-StaleNodeForStaleNodeHandler] INFO  pipeline.PipelineStateManager (PipelineStateManager.java:finalizePipeline(123)) - Pipeline Pipeline[ Id: 90c493bc-f963-48f5-9606-8683b9c0d83a, Nodes: 035eba28-b4d6-4432-8796-18bc80fb1833{ip: 192.168.34.54, host: pr-hdds-1553-zhl8q-89899572, networkLocation: /default-rack, certSerialId: null}, Type:RATIS, Factor:ONE, State:CLOSED] moved to CLOSED state
2019-08-29 08:38:53,353 [EventQueue-CloseContainerForCloseContainerEventHandler] INFO  container.CloseContainerEventHandler (CloseContainerEventHandler.java:onMessage(61)) - Close container Event triggered for container : #2
2019-08-29 08:38:55,365 [main] INFO  ozoneimpl.OzoneContainer (OzoneContainer.java:stop(199)) - Attempting to stop container services.
2019-08-29 08:38:55,367 [main] INFO  impl.RaftServerProxy (RaftServerProxy.java:lambda$close$4(314)) - 035eba28-b4d6-4432-8796-18bc80fb1833: close
2019-08-29 08:38:55,368 [main] INFO  impl.RaftServerImpl (RaftServerImpl.java:lambda$shutdown$3(245)) - 035eba28-b4d6-4432-8796-18bc80fb1833: shutdown group-8683B9C0D83A
2019-08-29 08:38:55,368 [main] INFO  util.JmxRegister (JmxRegister.java:unregister(73)) - Successfully un-registered JMX Bean with object name Ratis:service=RaftServer,group=group-8683B9C0D83A,id=035eba28-b4d6-4432-8796-18bc80fb1833
2019-08-29 08:38:55,369 [main] INFO  impl.RoleInfo (RoleInfo.java:shutdownLeaderState(104)) - 035eba28-b4d6-4432-8796-18bc80fb1833: shutdown LeaderState
2019-08-29 08:38:55,369 [main] INFO  impl.PendingRequests (PendingRequests.java:sendNotLeaderResponses(202)) - 035eba28-b4d6-4432-8796-18bc80fb1833-PendingRequests: sendNotLeaderResponses
2019-08-29 08:38:55,373 [main] INFO  impl.StateMachineUpdater (StateMachineUpdater.java:stopAndJoin(115)) - StateMachineUpdater:035eba28-b4d6-4432-8796-18bc80fb1833:group-8683B9C0D83A: set stopIndex = 4
2019-08-29 08:38:55,374 [StateMachineUpdater:035eba28-b4d6-4432-8796-18bc80fb1833:group-8683B9C0D83A] INFO  ratis.ContainerStateMachine (ContainerStateMachine.java:takeSnapshot(283)) - group-8683B9C0D83A: Taking a snapshot at:(t:1, i:4) file /workdir/hadoop-ozone/integration-test/target/test-dir/MiniOzoneClusterImpl-bffb8a9c-a960-4e2c-a106-63c013a34ce0/datanode-0/data/ratis/90c493bc-f963-48f5-9606-8683b9c0d83a/sm/snapshot.1_4
2019-08-29 08:38:55,418 [StateMachineUpdater:035eba28-b4d6-4432-8796-18bc80fb1833:group-8683B9C0D83A] INFO  ratis.ContainerStateMachine (ContainerStateMachine.java:takeSnapshot(294)) - group-8683B9C0D83A: Finished taking a snapshot at:(t:1, i:4) file:/workdir/hadoop-ozone/integration-test/target/test-dir/MiniOzoneClusterImpl-bffb8a9c-a960-4e2c-a106-63c013a34ce0/datanode-0/data/ratis/90c493bc-f963-48f5-9606-8683b9c0d83a/sm/snapshot.1_4 time:44
2019-08-29 08:38:55,418 [StateMachineUpdater:035eba28-b4d6-4432-8796-18bc80fb1833:group-8683B9C0D83A] INFO  impl.StateMachineUpdater (StateMachineUpdater.java:takeSnapshot(242)) - StateMachineUpdater:035eba28-b4d6-4432-8796-18bc80fb1833:group-8683B9C0D83A: Took a snapshot at index 4
2019-08-29 08:38:55,418 [StateMachineUpdater:035eba28-b4d6-4432-8796-18bc80fb1833:group-8683B9C0D83A] INFO  impl.StateMachineUpdater (StateMachineUpdater.java:lambda$new$0(80)) - StateMachineUpdater:035eba28-b4d6-4432-8796-18bc80fb1833:group-8683B9C0D83A: snapshotIndex: updateIncreasingly 4 -> 4
2019-08-29 08:38:55,418 [main] INFO  impl.RaftServerImpl (ServerState.java:close(394)) - 035eba28-b4d6-4432-8796-18bc80fb1833:group-8683B9C0D83A closes. The last applied log index is 4
2019-08-29 08:38:55,420 [035eba28-b4d6-4432-8796-18bc80fb1833-SegmentedRaftLogWorker:Storage Directory /workdir/hadoop-ozone/integration-test/target/test-dir/MiniOzoneClusterImpl-bffb8a9c-a960-4e2c-a106-63c013a34ce0/datanode-0/data/ratis/90c493bc-f963-48f5-9606-8683b9c0d83a] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:run(313)) - 035eba28-b4d6-4432-8796-18bc80fb1833-SegmentedRaftLogWorker:Storage Directory /workdir/hadoop-ozone/integration-test/target/test-dir/MiniOzoneClusterImpl-bffb8a9c-a960-4e2c-a106-63c013a34ce0/datanode-0/data/ratis/90c493bc-f963-48f5-9606-8683b9c0d83a was interrupted, exiting. There are 0 tasks remaining in the queue.
2019-08-29 08:38:55,421 [main] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:close(228)) - 035eba28-b4d6-4432-8796-18bc80fb1833-SegmentedRaftLogWorker:Storage Directory /workdir/hadoop-ozone/integration-test/target/test-dir/MiniOzoneClusterImpl-bffb8a9c-a960-4e2c-a106-63c013a34ce0/datanode-0/data/ratis/90c493bc-f963-48f5-9606-8683b9c0d83a close()
2019-08-29 08:38:55,422 [main] INFO  server.GrpcService (GrpcService.java:closeImpl(155)) - 035eba28-b4d6-4432-8796-18bc80fb1833: shutdown server with port 35758 now
2019-08-29 08:38:55,425 [main] INFO  server.GrpcService (GrpcService.java:closeImpl(163)) - 035eba28-b4d6-4432-8796-18bc80fb1833: shutdown server with port 35758 successfully
2019-08-29 08:38:55,429 [main] INFO  utils.BackgroundService (BackgroundService.java:shutdown(148)) - Shutting down service BlockDeletingService
2019-08-29 08:38:55,433 [refreshUsed-/workdir/hadoop-ozone/integration-test/target/test-dir/MiniOzoneClusterImpl-bffb8a9c-a960-4e2c-a106-63c013a34ce0/datanode-0/data/containers] WARN  fs.CachingGetSpaceUsed (CachingGetSpaceUsed.java:run(183)) - Thread Interrupted waiting to refresh disk information: sleep interrupted
2019-08-29 08:38:55,450 [main] INFO  statemachine.DatanodeStateMachine (DatanodeStateMachine.java:stopDaemon(395)) - Ozone container server stopped.
2019-08-29 08:38:55,476 [main] INFO  handler.ContextHandler (ContextHandler.java:doStop(910)) - Stopped o.e.j.w.WebAppContext@372ca2d6{/,null,UNAVAILABLE}{/hddsDatanode}
2019-08-29 08:38:55,484 [main] INFO  server.AbstractConnector (AbstractConnector.java:doStop(318)) - Stopped ServerConnector@3204e238{HTTP/1.1,[http/1.1]}{0.0.0.0:0}
2019-08-29 08:38:55,485 [main] INFO  handler.ContextHandler (ContextHandler.java:doStop(910)) - Stopped o.e.j.s.ServletContextHandler@6c0e13b7{/static,jar:file:/home/user/.m2/repository/org/apache/hadoop/hadoop-hdds-container-service/0.5.0-SNAPSHOT/hadoop-hdds-container-service-0.5.0-SNAPSHOT.jar!/webapps/static,UNAVAILABLE}
2019-08-29 08:38:55,485 [main] INFO  handler.ContextHandler (ContextHandler.java:doStop(910)) - Stopped o.e.j.s.ServletContextHandler@77a074b4{/logs,file:///workdir/hadoop-ozone/integration-test/target/log,UNAVAILABLE}
2019-08-29 08:38:55,488 [main] INFO  ozone.MiniOzoneClusterImpl (MiniOzoneClusterImpl.java:lambda$waitForClusterToBeReady$0(142)) - Cluster is ready. Got 0 of 0 DN Heartbeats.
2019-08-29 08:38:55,490 [main] INFO  impl.MetricsSystemImpl (MetricsSystemImpl.java:init(158)) - HddsDatanode metrics system started (again)
2019-08-29 08:38:55,530 [main] INFO  ozone.HddsDatanodeService (HddsDatanodeService.java:start(184)) - HddsDatanodeService host:pr-hdds-1553-zhl8q-89899572 ip:192.168.34.54
2019-08-29 08:38:55,533 [main] INFO  volume.VolumeUsage (VolumeUsage.java:loadScmUsed(144)) - Cached ScmUsed found for /workdir/hadoop-ozone/integration-test/target/test-dir/MiniOzoneClusterImpl-bffb8a9c-a960-4e2c-a106-63c013a34ce0/datanode-0/data/containers : 4096 
2019-08-29 08:38:55,533 [main] INFO  volume.HddsVolume (HddsVolume.java:<init>(176)) - Creating Volume: /workdir/hadoop-ozone/integration-test/target/test-dir/MiniOzoneClusterImpl-bffb8a9c-a960-4e2c-a106-63c013a34ce0/datanode-0/data/containers/hdds of  storage type : DISK and capacity : 1482555576320
2019-08-29 08:38:55,534 [main] INFO  volume.VolumeSet (VolumeSet.java:initializeVolumeSet(170)) - Added Volume : /workdir/hadoop-ozone/integration-test/target/test-dir/MiniOzoneClusterImpl-bffb8a9c-a960-4e2c-a106-63c013a34ce0/datanode-0/data/containers/hdds to VolumeSet
2019-08-29 08:38:55,534 [main] INFO  volume.ThrottledAsyncChecker (ThrottledAsyncChecker.java:schedule(140)) - Scheduling a check for org.apache.hadoop.ozone.container.common.volume.HddsVolume@5b02a984
2019-08-29 08:38:55,534 [main] INFO  volume.HddsVolumeChecker (HddsVolumeChecker.java:checkAllVolumes(203)) - Scheduled health check for volume org.apache.hadoop.ozone.container.common.volume.HddsVolume@5b02a984
2019-08-29 08:38:55,580 [main] INFO  impl.RaftServerProxy (ConfUtils.java:logGet(43)) - raft.rpc.type = GRPC (default)
2019-08-29 08:38:55,581 [main] INFO  grpc.GrpcFactory (GrpcFactory.java:checkPooledByteBufAllocatorUseCacheForAllThreads(45)) - PERFORMANCE WARNING: useCacheForAllThreads is true that may cause Netty to create a lot garbage objects and, as a result, trigger GC.
	It is recommended to disable useCacheForAllThreads by setting -Dorg.apache.ratis.thirdparty.io.netty.allocator.useCacheForAllThreads=false in command line.
2019-08-29 08:38:55,581 [main] INFO  grpc.GrpcConfigKeys$Server (ConfUtils.java:logGet(43)) - raft.grpc.server.port = 35758 (custom)
2019-08-29 08:38:55,581 [main] INFO  server.GrpcService (ConfUtils.java:logGet(43)) - raft.grpc.message.size.max = 33570816 (custom)
2019-08-29 08:38:55,581 [main] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.log.appender.buffer.byte-limit = 33554432 (custom)
2019-08-29 08:38:55,582 [main] INFO  server.GrpcService (ConfUtils.java:logGet(43)) - raft.grpc.flow.control.window = 1MB (=1048576) (default)
2019-08-29 08:38:55,582 [main] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.rpc.request.timeout = 3000ms (default)
2019-08-29 08:38:55,583 [main] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.storage.dir = [/workdir/hadoop-ozone/integration-test/target/test-dir/MiniOzoneClusterImpl-bffb8a9c-a960-4e2c-a106-63c013a34ce0/datanode-0/data/ratis] (custom)
2019-08-29 08:38:55,583 [main] INFO  impl.RaftServerProxy (RaftServerProxy.java:lambda$null$0(191)) - 035eba28-b4d6-4432-8796-18bc80fb1833: found a subdirectory /workdir/hadoop-ozone/integration-test/target/test-dir/MiniOzoneClusterImpl-bffb8a9c-a960-4e2c-a106-63c013a34ce0/datanode-0/data/ratis/90c493bc-f963-48f5-9606-8683b9c0d83a
2019-08-29 08:38:55,584 [main] INFO  impl.RaftServerProxy (RaftServerProxy.java:addNew(89)) - 035eba28-b4d6-4432-8796-18bc80fb1833: addNew group-8683B9C0D83A:[] returns group-8683B9C0D83A:java.util.concurrent.CompletableFuture@35025a0a[Not completed]
2019-08-29 08:38:55,585 [main] INFO  replication.SimpleContainerDownloader (SimpleContainerDownloader.java:<init>(72)) - Starting container downloader service to copy containers to replicate.
2019-08-29 08:38:55,592 [main] INFO  hdfs.DFSUtil (DFSUtil.java:httpServerTemplateForNNAndJN(1641)) - Starting Web-server for hddsDatanode at: http://0.0.0.0:37142
2019-08-29 08:38:55,603 [pool-42-thread-1] INFO  impl.RaftServerImpl (RaftServerImpl.java:<init>(93)) - 035eba28-b4d6-4432-8796-18bc80fb1833: new RaftServerImpl for group-8683B9C0D83A:[] with ContainerStateMachine:uninitialized
2019-08-29 08:38:55,603 [pool-42-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.rpc.timeout.min = 5s (custom)
2019-08-29 08:38:55,604 [pool-42-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.rpc.timeout.max = 5200ms (custom)
2019-08-29 08:38:55,604 [pool-42-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.rpcslowness.timeout = 120s (custom)
2019-08-29 08:38:55,604 [pool-42-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.sleep.deviation.threshold = 300 (default)
2019-08-29 08:38:55,604 [pool-42-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.log.appender.install.snapshot.enabled = false (custom)
2019-08-29 08:38:55,604 [pool-42-thread-1] INFO  impl.RaftServerImpl (ServerState.java:<init>(105)) - 035eba28-b4d6-4432-8796-18bc80fb1833:group-8683B9C0D83A ConfigurationManager, init=-1: [], old=null, confs=<EMPTY_MAP>
2019-08-29 08:38:55,604 [pool-42-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.storage.dir = [/workdir/hadoop-ozone/integration-test/target/test-dir/MiniOzoneClusterImpl-bffb8a9c-a960-4e2c-a106-63c013a34ce0/datanode-0/data/ratis] (custom)
2019-08-29 08:38:55,606 [main] INFO  server.AuthenticationFilter (AuthenticationFilter.java:constructSecretProvider(240)) - Unable to initialize FileSignerSecretProvider, falling back to use random secrets.
2019-08-29 08:38:55,607 [main] WARN  http.HttpRequestLog (HttpRequestLog.java:getRequestLog(97)) - Jetty request log can only be enabled using Log4j
2019-08-29 08:38:55,610 [main] INFO  http.HttpServer2 (HttpServer2.java:addGlobalFilter(975)) - Added global filter 'safety' (class=org.apache.hadoop.http.HttpServer2$QuotingInputFilter)
2019-08-29 08:38:55,610 [main] INFO  http.HttpServer2 (HttpServer2.java:addFilter(948)) - Added filter static_user_filter (class=org.apache.hadoop.http.lib.StaticUserWebFilter$StaticUserFilter) to context hddsDatanode
2019-08-29 08:38:55,610 [main] INFO  http.HttpServer2 (HttpServer2.java:addFilter(958)) - Added filter static_user_filter (class=org.apache.hadoop.http.lib.StaticUserWebFilter$StaticUserFilter) to context logs
2019-08-29 08:38:55,611 [main] INFO  http.HttpServer2 (HttpServer2.java:addFilter(958)) - Added filter static_user_filter (class=org.apache.hadoop.http.lib.StaticUserWebFilter$StaticUserFilter) to context static
2019-08-29 08:38:55,612 [main] INFO  http.HttpServer2 (HttpServer2.java:bindListener(1191)) - Jetty bound to port 37142
2019-08-29 08:38:55,612 [main] INFO  server.Server (Server.java:doStart(351)) - jetty-9.3.24.v20180605, build timestamp: 2018-06-05T17:11:56Z, git hash: 84205aa28f11a4f31f2a3b86d1bba2cc8ab69827
2019-08-29 08:38:55,615 [main] INFO  handler.ContextHandler (ContextHandler.java:doStart(781)) - Started o.e.j.s.ServletContextHandler@372f0a99{/logs,file:///workdir/hadoop-ozone/integration-test/target/log,AVAILABLE}
2019-08-29 08:38:55,616 [main] INFO  handler.ContextHandler (ContextHandler.java:doStart(781)) - Started o.e.j.s.ServletContextHandler@3e5beab5{/static,jar:file:/home/user/.m2/repository/org/apache/hadoop/hadoop-hdds-container-service/0.5.0-SNAPSHOT/hadoop-hdds-container-service-0.5.0-SNAPSHOT.jar!/webapps/static,AVAILABLE}
2019-08-29 08:38:55,618 [pool-42-thread-1] INFO  storage.RaftStorageDirectory (RaftStorageDirectory.java:tryLock(328)) - Lock on /workdir/hadoop-ozone/integration-test/target/test-dir/MiniOzoneClusterImpl-bffb8a9c-a960-4e2c-a106-63c013a34ce0/datanode-0/data/ratis/90c493bc-f963-48f5-9606-8683b9c0d83a/in_use.lock acquired by nodename 2896@pr-hdds-1553-zhl8q-89899572
2019-08-29 08:38:55,622 [pool-42-thread-1] INFO  ratis.ContainerStateMachine (ContainerStateMachine.java:loadSnapshot(235)) - group-8683B9C0D83A: Setting the last applied index to (t:1, i:4)
2019-08-29 08:38:55,625 [pool-42-thread-1] INFO  impl.RaftServerImpl (ServerState.java:setRaftConf(361)) - 035eba28-b4d6-4432-8796-18bc80fb1833:group-8683B9C0D83A set configuration 0: [035eba28-b4d6-4432-8796-18bc80fb1833:192.168.34.54:35758], old=null at 0
2019-08-29 08:38:55,625 [pool-42-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.leader.election.timeout = 120s (custom)
2019-08-29 08:38:55,625 [pool-42-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.log.use.memory = false (default)
2019-08-29 08:38:55,625 [pool-42-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.log.purge.gap = 1000000 (custom)
2019-08-29 08:38:55,625 [pool-42-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.log.appender.buffer.byte-limit = 33554432 (custom)
2019-08-29 08:38:55,626 [pool-42-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.log.segment.size.max = 1048576 (custom)
2019-08-29 08:38:55,626 [pool-42-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.log.segment.cache.num.max = 2 (custom)
2019-08-29 08:38:55,626 [pool-42-thread-1] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:<init>(172)) - new 035eba28-b4d6-4432-8796-18bc80fb1833-SegmentedRaftLogWorker:Storage Directory /workdir/hadoop-ozone/integration-test/target/test-dir/MiniOzoneClusterImpl-bffb8a9c-a960-4e2c-a106-63c013a34ce0/datanode-0/data/ratis/90c493bc-f963-48f5-9606-8683b9c0d83a for RaftStorage:Storage Directory /workdir/hadoop-ozone/integration-test/target/test-dir/MiniOzoneClusterImpl-bffb8a9c-a960-4e2c-a106-63c013a34ce0/datanode-0/data/ratis/90c493bc-f963-48f5-9606-8683b9c0d83a
2019-08-29 08:38:55,626 [pool-42-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.log.queue.byte-limit = 2147483647 (custom)
2019-08-29 08:38:55,626 [pool-42-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.log.queue.element-limit = 1024 (custom)
2019-08-29 08:38:55,626 [pool-42-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.log.segment.size.max = 1048576 (custom)
2019-08-29 08:38:55,626 [pool-42-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.log.preallocated.size = 16384 (custom)
2019-08-29 08:38:55,626 [pool-42-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.log.write.buffer.size = 33554432 (custom)
2019-08-29 08:38:55,626 [pool-42-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.log.force.sync.num = 128 (default)
2019-08-29 08:38:55,627 [pool-42-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.log.statemachine.data.sync = true (default)
2019-08-29 08:38:55,627 [pool-42-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.log.statemachine.data.sync.timeout = 10s (default)
2019-08-29 08:38:55,627 [pool-42-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.log.statemachine.data.sync.timeout.retry = -1 (default)
2019-08-29 08:38:55,627 [pool-42-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.log.statemachine.data.caching.enabled = true (custom)
2019-08-29 08:38:55,632 [pool-42-thread-1] INFO  impl.RaftServerImpl (ServerState.java:setRaftConf(361)) - 035eba28-b4d6-4432-8796-18bc80fb1833:group-8683B9C0D83A set configuration 0: [035eba28-b4d6-4432-8796-18bc80fb1833:192.168.34.54:35758], old=null at 0
2019-08-29 08:38:55,633 [pool-42-thread-1] INFO  segmented.LogSegment (LogSegment.java:loadSegment(145)) - Successfully read 5 entries from segment file /workdir/hadoop-ozone/integration-test/target/test-dir/MiniOzoneClusterImpl-bffb8a9c-a960-4e2c-a106-63c013a34ce0/datanode-0/data/ratis/90c493bc-f963-48f5-9606-8683b9c0d83a/current/log_inprogress_0
2019-08-29 08:38:55,633 [pool-42-thread-1] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:lambda$new$0(132)) - 035eba28-b4d6-4432-8796-18bc80fb1833-SegmentedRaftLogWorker:Storage Directory /workdir/hadoop-ozone/integration-test/target/test-dir/MiniOzoneClusterImpl-bffb8a9c-a960-4e2c-a106-63c013a34ce0/datanode-0/data/ratis/90c493bc-f963-48f5-9606-8683b9c0d83a: flushIndex: setUnconditionally 0 -> 4
2019-08-29 08:38:55,655 [main] INFO  handler.ContextHandler (ContextHandler.java:doStart(781)) - Started o.e.j.w.WebAppContext@2ca3d826{/,file:///tmp/jetty-0.0.0.0-37142-hddsDatanode-_-any-2302677167352162697.dir/webapp/,AVAILABLE}{/hddsDatanode}
2019-08-29 08:38:55,657 [main] INFO  server.AbstractConnector (AbstractConnector.java:doStart(278)) - Started ServerConnector@5d194314{HTTP/1.1,[http/1.1]}{0.0.0.0:37142}
2019-08-29 08:38:55,657 [main] INFO  server.Server (Server.java:doStart(419)) - Started @40091ms
2019-08-29 08:38:55,658 [pool-42-thread-1] INFO  raftlog.RaftLog (RaftLog.java:lambda$new$0(62)) - 035eba28-b4d6-4432-8796-18bc80fb1833: commitIndex: updateToMax old=4, new=3, updated? false
2019-08-29 08:38:55,658 [main] INFO  server.BaseHttpServer (BaseHttpServer.java:updateConnectorAddress(213)) - HTTP server of HDDSDATANODE is listening at http://0.0.0.0:37142
2019-08-29 08:38:55,658 [pool-42-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.snapshot.auto.trigger.enabled = true (custom)
2019-08-29 08:38:55,658 [pool-42-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.snapshot.auto.trigger.threshold = 1 (custom)
2019-08-29 08:38:55,658 [pool-42-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.retrycache.expirytime = 600000ms (custom)
Aug 29, 2019 8:38:55 AM com.sun.jersey.server.impl.application.WebApplicationImpl _initiate
INFO: Initiating Jersey application, version 'Jersey: 1.19 02/11/2015 03:25 AM'
2019-08-29 08:38:55,847 | INFO  | ObjectStoreRestHttpServer | Listening HDDS REST traffic on /0.0.0.0:38898 |  
2019-08-29 08:38:55,847 [main] INFO  ozone.HddsDatanodeService (HddsDatanodeService.java:startPlugins(395)) - Started plug-in org.apache.hadoop.ozone.web.OzoneHddsDatanodeService@54f6b629
2019-08-29 08:38:55,848 [main] INFO  ozone.MiniOzoneClusterImpl (MiniOzoneClusterImpl.java:lambda$waitForClusterToBeReady$0(142)) - Waiting for cluster to be ready. Got 0 of 1 DN Heartbeats.
2019-08-29 08:38:55,849 [org.apache.hadoop.util.JvmPauseMonitor$Monitor@4c6f016f] INFO  util.JvmPauseMonitor (JvmPauseMonitor.java:run(188)) - Starting JVM pause monitor
2019-08-29 08:38:56,848 [main] INFO  ozone.MiniOzoneClusterImpl (MiniOzoneClusterImpl.java:lambda$waitForClusterToBeReady$0(142)) - Waiting for cluster to be ready. Got 0 of 1 DN Heartbeats.
2019-08-29 08:38:57,849 [main] INFO  ozone.MiniOzoneClusterImpl (MiniOzoneClusterImpl.java:lambda$waitForClusterToBeReady$0(142)) - Waiting for cluster to be ready. Got 0 of 1 DN Heartbeats.
2019-08-29 08:38:57,850 | INFO  | SCMAudit | user=jenkins1000 | ip=192.168.34.54 | op=GET_VERSION null | ret=SUCCESS |  
2019-08-29 08:38:57,851 [Datanode State Machine Thread - 0] INFO  ozoneimpl.OzoneContainer (OzoneContainer.java:start(186)) - Attempting to start container services.
2019-08-29 08:38:57,851 [Datanode State Machine Thread - 0] INFO  ozoneimpl.OzoneContainer (OzoneContainer.java:startContainerScrub(160)) - Background container scrubber has been disabled by hdds.containerscrub.enabled
2019-08-29 08:38:57,852 [Datanode State Machine Thread - 0] INFO  ratis.XceiverServerRatis (XceiverServerRatis.java:start(404)) - Starting XceiverServerRatis 035eba28-b4d6-4432-8796-18bc80fb1833 at port 35758
2019-08-29 08:38:57,860 [Datanode State Machine Thread - 0] INFO  impl.RaftServerImpl (RaftServerImpl.java:start(180)) - 035eba28-b4d6-4432-8796-18bc80fb1833: start group-8683B9C0D83A
2019-08-29 08:38:57,861 [Datanode State Machine Thread - 0] INFO  impl.RaftServerImpl (RaftServerImpl.java:setRole(171)) - 035eba28-b4d6-4432-8796-18bc80fb1833:group-8683B9C0D83A changes role from null to FOLLOWER at term 1 for startAsFollower
2019-08-29 08:38:57,861 [Datanode State Machine Thread - 0] INFO  impl.RoleInfo (RoleInfo.java:updateAndGet(143)) - 035eba28-b4d6-4432-8796-18bc80fb1833: start FollowerState
2019-08-29 08:38:57,862 [Datanode State Machine Thread - 0] INFO  util.JmxRegister (JmxRegister.java:tryRegister(44)) - Successfully registered JMX Bean with object name Ratis:service=RaftServer,group=group-8683B9C0D83A,id=035eba28-b4d6-4432-8796-18bc80fb1833
2019-08-29 08:38:57,863 [Datanode State Machine Thread - 0] INFO  impl.RaftServerProxy (RaftServerProxy.java:lambda$start$3(299)) - 035eba28-b4d6-4432-8796-18bc80fb1833: start RPC server
2019-08-29 08:38:57,865 [Datanode State Machine Thread - 0] INFO  server.GrpcService (GrpcService.java:startImpl(149)) - 035eba28-b4d6-4432-8796-18bc80fb1833: GrpcService started, listening on 0.0.0.0/0.0.0.0:35758
2019-08-29 08:38:58,849 [main] INFO  ozone.MiniOzoneClusterImpl (MiniOzoneClusterImpl.java:lambda$waitForClusterToBeReady$0(142)) - Waiting for cluster to be ready. Got 0 of 1 DN Heartbeats.
2019-08-29 08:38:59,850 [main] INFO  ozone.MiniOzoneClusterImpl (MiniOzoneClusterImpl.java:lambda$waitForClusterToBeReady$0(142)) - Waiting for cluster to be ready. Got 0 of 1 DN Heartbeats.
2019-08-29 08:38:59,855 | INFO  | SCMAudit | user=jenkins1000 | ip=192.168.34.54 | op=REGISTER {datanodeDetails=035eba28-b4d6-4432-8796-18bc80fb1833{ip: 192.168.34.54, host: pr-hdds-1553-zhl8q-89899572, networkLocation: /default-rack, certSerialId: null}} | ret=SUCCESS |  
2019-08-29 08:39:00,851 [main] INFO  ozone.MiniOzoneClusterImpl (MiniOzoneClusterImpl.java:lambda$waitForClusterToBeReady$0(142)) - Waiting for cluster to be ready. Got 0 of 1 DN Heartbeats.
2019-08-29 08:39:01,851 | INFO  | SCMAudit | user=jenkins1000 | ip=192.168.34.54 | op=SEND_HEARTBEAT {datanodeUUID=035eba28-b4d6-4432-8796-18bc80fb1833, command=[commandType: closeContainerCommand closeContainerCommandProto { containerID: 2 pipelineID { id: "90c493bc-f963-48f5-9606-8683b9c0d83a" } cmdId: 2 force: false } ]} | ret=SUCCESS |  
2019-08-29 08:39:01,851 [main] INFO  ozone.MiniOzoneClusterImpl (MiniOzoneClusterImpl.java:lambda$waitForClusterToBeReady$0(142)) - Waiting for cluster to be ready. Got 0 of 1 DN Heartbeats.
2019-08-29 08:39:01,881 [grpc-default-executor-0] INFO  impl.RaftServerProxy (RaftServerProxy.java:addNew(89)) - 035eba28-b4d6-4432-8796-18bc80fb1833: addNew group-507E589DBCA8:[035eba28-b4d6-4432-8796-18bc80fb1833:192.168.34.54:35758] returns group-507E589DBCA8:java.util.concurrent.CompletableFuture@351ccdd7[Not completed]
2019-08-29 08:39:01,884 [pool-42-thread-1] INFO  impl.RaftServerImpl (RaftServerImpl.java:<init>(93)) - 035eba28-b4d6-4432-8796-18bc80fb1833: new RaftServerImpl for group-507E589DBCA8:[035eba28-b4d6-4432-8796-18bc80fb1833:192.168.34.54:35758] with ContainerStateMachine:uninitialized
2019-08-29 08:39:01,885 [pool-42-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.rpc.timeout.min = 5s (custom)
2019-08-29 08:39:01,885 [pool-42-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.rpc.timeout.max = 5200ms (custom)
2019-08-29 08:39:01,885 [pool-42-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.rpcslowness.timeout = 120s (custom)
2019-08-29 08:39:01,885 [pool-42-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.sleep.deviation.threshold = 300 (default)
2019-08-29 08:39:01,885 [pool-42-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.log.appender.install.snapshot.enabled = false (custom)
2019-08-29 08:39:01,886 [pool-42-thread-1] INFO  impl.RaftServerImpl (ServerState.java:<init>(105)) - 035eba28-b4d6-4432-8796-18bc80fb1833:group-507E589DBCA8 ConfigurationManager, init=-1: [035eba28-b4d6-4432-8796-18bc80fb1833:192.168.34.54:35758], old=null, confs=<EMPTY_MAP>
2019-08-29 08:39:01,886 [pool-42-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.storage.dir = [/workdir/hadoop-ozone/integration-test/target/test-dir/MiniOzoneClusterImpl-bffb8a9c-a960-4e2c-a106-63c013a34ce0/datanode-0/data/ratis] (custom)
2019-08-29 08:39:01,887 [pool-42-thread-1] INFO  storage.RaftStorageDirectory (RaftStorageDirectory.java:analyzeStorage(246)) - The storage directory /workdir/hadoop-ozone/integration-test/target/test-dir/MiniOzoneClusterImpl-bffb8a9c-a960-4e2c-a106-63c013a34ce0/datanode-0/data/ratis/ddd26c75-21fe-4fe7-af84-507e589dbca8 does not exist. Creating ...
2019-08-29 08:39:02,050 | INFO  | SCMAudit | user=jenkins1000 | ip=192.168.34.54 | op=SEND_HEARTBEAT {datanodeUUID=035eba28-b4d6-4432-8796-18bc80fb1833, command=[]} | ret=SUCCESS |  
2019-08-29 08:39:02,250 | INFO  | SCMAudit | user=jenkins1000 | ip=192.168.34.54 | op=SEND_HEARTBEAT {datanodeUUID=035eba28-b4d6-4432-8796-18bc80fb1833, command=[]} | ret=SUCCESS |  
2019-08-29 08:39:02,450 | INFO  | SCMAudit | user=jenkins1000 | ip=192.168.34.54 | op=SEND_HEARTBEAT {datanodeUUID=035eba28-b4d6-4432-8796-18bc80fb1833, command=[]} | ret=SUCCESS |  
2019-08-29 08:39:02,650 | INFO  | SCMAudit | user=jenkins1000 | ip=192.168.34.54 | op=SEND_HEARTBEAT {datanodeUUID=035eba28-b4d6-4432-8796-18bc80fb1833, command=[]} | ret=SUCCESS |  
2019-08-29 08:39:02,850 | INFO  | SCMAudit | user=jenkins1000 | ip=192.168.34.54 | op=SEND_HEARTBEAT {datanodeUUID=035eba28-b4d6-4432-8796-18bc80fb1833, command=[]} | ret=SUCCESS |  
2019-08-29 08:39:02,852 [main] INFO  ozone.MiniOzoneClusterImpl (MiniOzoneClusterImpl.java:lambda$waitForClusterToBeReady$0(142)) - Cluster is ready. Got 1 of 1 DN Heartbeats.
2019-08-29 08:39:02,876 | INFO  | OMAudit | user=jenkins1000 | ip=127.0.0.1 | op=READ_VOLUME {volume=testcontainerstatemachinefailures} | ret=SUCCESS |  
2019-08-29 08:39:02,879 | INFO  | OMAudit | user=jenkins1000 | ip=127.0.0.1 | op=READ_BUCKET {volume=testcontainerstatemachinefailures, bucket=testcontainerstatemachinefailures} | ret=SUCCESS |  
2019-08-29 08:39:02,885 [Thread-227] INFO  impl.FollowerState (FollowerState.java:run(106)) - 035eba28-b4d6-4432-8796-18bc80fb1833:group-8683B9C0D83A changes to CANDIDATE, lastRpcTime:5022, electionTimeout:5022ms
2019-08-29 08:39:02,885 [Thread-227] INFO  impl.RoleInfo (RoleInfo.java:shutdownFollowerState(121)) - 035eba28-b4d6-4432-8796-18bc80fb1833: shutdown FollowerState
2019-08-29 08:39:02,885 [Thread-227] INFO  impl.RaftServerImpl (RaftServerImpl.java:setRole(171)) - 035eba28-b4d6-4432-8796-18bc80fb1833:group-8683B9C0D83A changes role from FOLLOWER to CANDIDATE at term 1 for changeToCandidate
2019-08-29 08:39:02,885 [Thread-227] INFO  impl.RoleInfo (RoleInfo.java:updateAndGet(143)) - 035eba28-b4d6-4432-8796-18bc80fb1833: start LeaderElection
2019-08-29 08:39:03,050 | INFO  | SCMAudit | user=jenkins1000 | ip=192.168.34.54 | op=SEND_HEARTBEAT {datanodeUUID=035eba28-b4d6-4432-8796-18bc80fb1833, command=[]} | ret=SUCCESS |  
2019-08-29 08:39:03,250 | INFO  | SCMAudit | user=jenkins1000 | ip=192.168.34.54 | op=SEND_HEARTBEAT {datanodeUUID=035eba28-b4d6-4432-8796-18bc80fb1833, command=[]} | ret=SUCCESS |  
2019-08-29 08:39:03,450 | INFO  | SCMAudit | user=jenkins1000 | ip=192.168.34.54 | op=SEND_HEARTBEAT {datanodeUUID=035eba28-b4d6-4432-8796-18bc80fb1833, command=[]} | ret=SUCCESS |  
2019-08-29 08:39:03,650 | INFO  | SCMAudit | user=jenkins1000 | ip=192.168.34.54 | op=SEND_HEARTBEAT {datanodeUUID=035eba28-b4d6-4432-8796-18bc80fb1833, command=[]} | ret=SUCCESS |  
2019-08-29 08:39:03,850 | INFO  | SCMAudit | user=jenkins1000 | ip=192.168.34.54 | op=SEND_HEARTBEAT {datanodeUUID=035eba28-b4d6-4432-8796-18bc80fb1833, command=[]} | ret=SUCCESS |  
2019-08-29 08:39:04,022 [pool-42-thread-1] INFO  storage.RaftStorageDirectory (RaftStorageDirectory.java:tryLock(328)) - Lock on /workdir/hadoop-ozone/integration-test/target/test-dir/MiniOzoneClusterImpl-bffb8a9c-a960-4e2c-a106-63c013a34ce0/datanode-0/data/ratis/ddd26c75-21fe-4fe7-af84-507e589dbca8/in_use.lock acquired by nodename 2896@pr-hdds-1553-zhl8q-89899572
2019-08-29 08:39:04,023 [035eba28-b4d6-4432-8796-18bc80fb1833:group-8683B9C0D83A:LeaderElection3] INFO  impl.LeaderElection (LeaderElection.java:askForVotes(181)) - 035eba28-b4d6-4432-8796-18bc80fb1833:group-8683B9C0D83A:LeaderElection3: begin an election at term 2 for 0: [035eba28-b4d6-4432-8796-18bc80fb1833:192.168.34.54:35758], old=null
2019-08-29 08:39:04,023 [035eba28-b4d6-4432-8796-18bc80fb1833:group-8683B9C0D83A:LeaderElection3] INFO  impl.RoleInfo (RoleInfo.java:shutdownLeaderElection(134)) - 035eba28-b4d6-4432-8796-18bc80fb1833: shutdown LeaderElection
2019-08-29 08:39:04,023 [035eba28-b4d6-4432-8796-18bc80fb1833:group-8683B9C0D83A:LeaderElection3] INFO  impl.RaftServerImpl (RaftServerImpl.java:setRole(171)) - 035eba28-b4d6-4432-8796-18bc80fb1833:group-8683B9C0D83A changes role from CANDIDATE to LEADER at term 2 for changeToLeader
2019-08-29 08:39:04,023 [035eba28-b4d6-4432-8796-18bc80fb1833:group-8683B9C0D83A:LeaderElection3] INFO  impl.RaftServerImpl (ServerState.java:setLeader(263)) - 035eba28-b4d6-4432-8796-18bc80fb1833:group-8683B9C0D83A change Leader from null to 035eba28-b4d6-4432-8796-18bc80fb1833 at term 2 for becomeLeader, leader elected after 8398ms
2019-08-29 08:39:04,024 [035eba28-b4d6-4432-8796-18bc80fb1833:group-8683B9C0D83A:LeaderElection3] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.staging.catchup.gap = 1000 (default)
2019-08-29 08:39:04,024 [035eba28-b4d6-4432-8796-18bc80fb1833:group-8683B9C0D83A:LeaderElection3] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.rpc.sleep.time = 25ms (default)
2019-08-29 08:39:04,024 [035eba28-b4d6-4432-8796-18bc80fb1833:group-8683B9C0D83A:LeaderElection3] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.write.element-limit = 4096 (default)
2019-08-29 08:39:04,024 [035eba28-b4d6-4432-8796-18bc80fb1833:group-8683B9C0D83A:LeaderElection3] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.watch.timeout = 10s (default)
2019-08-29 08:39:04,024 [035eba28-b4d6-4432-8796-18bc80fb1833:group-8683B9C0D83A:LeaderElection3] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.watch.timeout.denomination = 1s (default)
2019-08-29 08:39:04,024 | INFO  | SCMAudit | user=jenkins1000 | ip=192.168.34.54 | op=SEND_HEARTBEAT {datanodeUUID=035eba28-b4d6-4432-8796-18bc80fb1833, command=[]} | ret=SUCCESS |  
2019-08-29 08:39:04,024 [035eba28-b4d6-4432-8796-18bc80fb1833:group-8683B9C0D83A:LeaderElection3] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.watch.element-limit = 65536 (default)
2019-08-29 08:39:04,025 [035eba28-b4d6-4432-8796-18bc80fb1833:group-8683B9C0D83A:LeaderElection3] INFO  impl.RoleInfo (RoleInfo.java:updateAndGet(143)) - 035eba28-b4d6-4432-8796-18bc80fb1833: start LeaderState
2019-08-29 08:39:04,025 [035eba28-b4d6-4432-8796-18bc80fb1833:group-8683B9C0D83A:LeaderElection3] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:rollLogSegment(385)) - 035eba28-b4d6-4432-8796-18bc80fb1833-SegmentedRaftLogWorker:Storage Directory /workdir/hadoop-ozone/integration-test/target/test-dir/MiniOzoneClusterImpl-bffb8a9c-a960-4e2c-a106-63c013a34ce0/datanode-0/data/ratis/90c493bc-f963-48f5-9606-8683b9c0d83a: Rolling segment log-0_4 to index:4
2019-08-29 08:39:04,028 [035eba28-b4d6-4432-8796-18bc80fb1833:group-8683B9C0D83A:LeaderElection3] INFO  impl.RaftServerImpl (ServerState.java:setRaftConf(361)) - 035eba28-b4d6-4432-8796-18bc80fb1833:group-8683B9C0D83A set configuration 5: [035eba28-b4d6-4432-8796-18bc80fb1833:192.168.34.54:35758], old=null at 5
2019-08-29 08:39:04,030 [035eba28-b4d6-4432-8796-18bc80fb1833-SegmentedRaftLogWorker:Storage Directory /workdir/hadoop-ozone/integration-test/target/test-dir/MiniOzoneClusterImpl-bffb8a9c-a960-4e2c-a106-63c013a34ce0/datanode-0/data/ratis/90c493bc-f963-48f5-9606-8683b9c0d83a] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:execute(526)) - 035eba28-b4d6-4432-8796-18bc80fb1833-SegmentedRaftLogWorker:Storage Directory /workdir/hadoop-ozone/integration-test/target/test-dir/MiniOzoneClusterImpl-bffb8a9c-a960-4e2c-a106-63c013a34ce0/datanode-0/data/ratis/90c493bc-f963-48f5-9606-8683b9c0d83a: Rolled log segment from /workdir/hadoop-ozone/integration-test/target/test-dir/MiniOzoneClusterImpl-bffb8a9c-a960-4e2c-a106-63c013a34ce0/datanode-0/data/ratis/90c493bc-f963-48f5-9606-8683b9c0d83a/current/log_inprogress_0 to /workdir/hadoop-ozone/integration-test/target/test-dir/MiniOzoneClusterImpl-bffb8a9c-a960-4e2c-a106-63c013a34ce0/datanode-0/data/ratis/90c493bc-f963-48f5-9606-8683b9c0d83a/current/log_0-4
2019-08-29 08:39:04,225 | INFO  | SCMAudit | user=jenkins1000 | ip=192.168.34.54 | op=SEND_HEARTBEAT {datanodeUUID=035eba28-b4d6-4432-8796-18bc80fb1833, command=[]} | ret=SUCCESS |  
2019-08-29 08:39:04,424 | INFO  | SCMAudit | user=jenkins1000 | ip=192.168.34.54 | op=SEND_HEARTBEAT {datanodeUUID=035eba28-b4d6-4432-8796-18bc80fb1833, command=[]} | ret=SUCCESS |  
2019-08-29 08:39:04,624 | INFO  | SCMAudit | user=jenkins1000 | ip=192.168.34.54 | op=SEND_HEARTBEAT {datanodeUUID=035eba28-b4d6-4432-8796-18bc80fb1833, command=[]} | ret=SUCCESS |  
2019-08-29 08:39:04,824 | INFO  | SCMAudit | user=jenkins1000 | ip=192.168.34.54 | op=SEND_HEARTBEAT {datanodeUUID=035eba28-b4d6-4432-8796-18bc80fb1833, command=[]} | ret=SUCCESS |  
2019-08-29 08:39:04,878 [RATISCREATEPIPELINE3] ERROR pipeline.RatisPipelineProvider (RatisPipelineProvider.java:lambda$null$5(235)) - Failed invoke Ratis rpc org.apache.hadoop.hdds.scm.pipeline.RatisPipelineProvider$$Lambda$172/340647798@3861b235 for 035eba28-b4d6-4432-8796-18bc80fb1833
org.apache.ratis.protocol.TimeoutIOException: deadline exceeded after 2999382440ns
	at org.apache.ratis.grpc.GrpcUtil.tryUnwrapException(GrpcUtil.java:82)
	at org.apache.ratis.grpc.GrpcUtil.unwrapException(GrpcUtil.java:75)
	at org.apache.ratis.grpc.client.GrpcClientProtocolClient.blockingCall(GrpcClientProtocolClient.java:169)
	at org.apache.ratis.grpc.client.GrpcClientProtocolClient.groupAdd(GrpcClientProtocolClient.java:138)
	at org.apache.ratis.grpc.client.GrpcClientRpc.sendRequest(GrpcClientRpc.java:94)
	at org.apache.ratis.client.impl.RaftClientImpl.sendRequest(RaftClientImpl.java:279)
	at org.apache.ratis.client.impl.RaftClientImpl.groupAdd(RaftClientImpl.java:206)
	at org.apache.hadoop.hdds.scm.pipeline.RatisPipelineProvider.lambda$initializePipeline$4(RatisPipelineProvider.java:194)
	at org.apache.hadoop.hdds.scm.pipeline.RatisPipelineProvider.lambda$null$5(RatisPipelineProvider.java:231)
	at java.util.stream.ForEachOps$ForEachOp$OfRef.accept(ForEachOps.java:184)
	at java.util.ArrayList$ArrayListSpliterator.forEachRemaining(ArrayList.java:1382)
	at java.util.stream.AbstractPipeline.copyInto(AbstractPipeline.java:482)
	at java.util.stream.ForEachOps$ForEachTask.compute(ForEachOps.java:291)
	at java.util.concurrent.CountedCompleter.exec(CountedCompleter.java:731)
	at java.util.concurrent.ForkJoinTask.doExec(ForkJoinTask.java:289)
	at java.util.concurrent.ForkJoinTask.doInvoke(ForkJoinTask.java:401)
	at java.util.concurrent.ForkJoinTask.invoke(ForkJoinTask.java:734)
	at java.util.stream.ForEachOps$ForEachOp.evaluateParallel(ForEachOps.java:160)
	at java.util.stream.ForEachOps$ForEachOp$OfRef.evaluateParallel(ForEachOps.java:174)
	at java.util.stream.AbstractPipeline.evaluate(AbstractPipeline.java:233)
	at java.util.stream.ReferencePipeline.forEach(ReferencePipeline.java:418)
	at java.util.stream.ReferencePipeline$Head.forEach(ReferencePipeline.java:583)
	at org.apache.hadoop.hdds.scm.pipeline.RatisPipelineProvider.lambda$callRatisRpc$6(RatisPipelineProvider.java:225)
	at java.util.concurrent.ForkJoinTask$AdaptedRunnableAction.exec(ForkJoinTask.java:1386)
	at java.util.concurrent.ForkJoinTask.doExec(ForkJoinTask.java:289)
	at java.util.concurrent.ForkJoinPool$WorkQueue.runTask(ForkJoinPool.java:1056)
	at java.util.concurrent.ForkJoinPool.runWorker(ForkJoinPool.java:1692)
	at java.util.concurrent.ForkJoinWorkerThread.run(ForkJoinWorkerThread.java:157)
Caused by: org.apache.ratis.thirdparty.io.grpc.StatusRuntimeException: DEADLINE_EXCEEDED: deadline exceeded after 2999382440ns
	at org.apache.ratis.thirdparty.io.grpc.stub.ClientCalls.toStatusRuntimeException(ClientCalls.java:233)
	at org.apache.ratis.thirdparty.io.grpc.stub.ClientCalls.getUnchecked(ClientCalls.java:214)
	at org.apache.ratis.thirdparty.io.grpc.stub.ClientCalls.blockingUnaryCall(ClientCalls.java:139)
	at org.apache.ratis.proto.grpc.AdminProtocolServiceGrpc$AdminProtocolServiceBlockingStub.groupManagement(AdminProtocolServiceGrpc.java:274)
	at org.apache.ratis.grpc.client.GrpcClientProtocolClient.lambda$groupAdd$3(GrpcClientProtocolClient.java:140)
	at org.apache.ratis.grpc.client.GrpcClientProtocolClient.blockingCall(GrpcClientProtocolClient.java:167)
	... 25 more
2019-08-29 08:39:04,891 [grpc-default-executor-1] INFO  impl.RaftServerProxy (RaftServerProxy.java:addNew(89)) - 035eba28-b4d6-4432-8796-18bc80fb1833: addNew group-63FD080437EF:[035eba28-b4d6-4432-8796-18bc80fb1833:192.168.34.54:35758] returns group-63FD080437EF:java.util.concurrent.CompletableFuture@64c33194[Not completed]
2019-08-29 08:39:04,892 [grpc-default-executor-0] INFO  impl.RaftServerProxy (RaftServerProxy.java:remove(95)) - 035eba28-b4d6-4432-8796-18bc80fb1833: remove   LEADER group-8683B9C0D83A 035eba28-b4d6-4432-8796-18bc80fb1833:t2, leader=035eba28-b4d6-4432-8796-18bc80fb1833, voted=035eba28-b4d6-4432-8796-18bc80fb1833, raftlog=035eba28-b4d6-4432-8796-18bc80fb1833-SegmentedRaftLog:OPENED:c4,f4,i5, conf=5: [035eba28-b4d6-4432-8796-18bc80fb1833:192.168.34.54:35758], old=null RUNNING
2019-08-29 08:39:04,892 [grpc-default-executor-0] INFO  impl.RaftServerImpl (RaftServerImpl.java:lambda$shutdown$3(245)) - 035eba28-b4d6-4432-8796-18bc80fb1833: shutdown group-8683B9C0D83A
2019-08-29 08:39:04,892 [grpc-default-executor-0] INFO  util.JmxRegister (JmxRegister.java:unregister(73)) - Successfully un-registered JMX Bean with object name Ratis:service=RaftServer,group=group-8683B9C0D83A,id=035eba28-b4d6-4432-8796-18bc80fb1833
2019-08-29 08:39:04,892 [grpc-default-executor-0] INFO  impl.RoleInfo (RoleInfo.java:shutdownLeaderState(104)) - 035eba28-b4d6-4432-8796-18bc80fb1833: shutdown LeaderState
2019-08-29 08:39:04,893 [grpc-default-executor-0] INFO  impl.PendingRequests (PendingRequests.java:sendNotLeaderResponses(202)) - 035eba28-b4d6-4432-8796-18bc80fb1833-PendingRequests: sendNotLeaderResponses
2019-08-29 08:39:04,893 [grpc-default-executor-0] INFO  impl.StateMachineUpdater (StateMachineUpdater.java:stopAndJoin(115)) - StateMachineUpdater:035eba28-b4d6-4432-8796-18bc80fb1833:group-8683B9C0D83A: set stopIndex = 4
2019-08-29 08:39:04,893 [StateMachineUpdater:035eba28-b4d6-4432-8796-18bc80fb1833:group-8683B9C0D83A] INFO  ratis.ContainerStateMachine (ContainerStateMachine.java:takeSnapshot(283)) - group-8683B9C0D83A: Taking a snapshot at:(t:1, i:4) file /workdir/hadoop-ozone/integration-test/target/test-dir/MiniOzoneClusterImpl-bffb8a9c-a960-4e2c-a106-63c013a34ce0/datanode-0/data/ratis/90c493bc-f963-48f5-9606-8683b9c0d83a/sm/snapshot.1_4
2019-08-29 08:39:05,024 | INFO  | SCMAudit | user=jenkins1000 | ip=192.168.34.54 | op=SEND_HEARTBEAT {datanodeUUID=035eba28-b4d6-4432-8796-18bc80fb1833, command=[]} | ret=SUCCESS |  
2019-08-29 08:39:05,224 | INFO  | SCMAudit | user=jenkins1000 | ip=192.168.34.54 | op=SEND_HEARTBEAT {datanodeUUID=035eba28-b4d6-4432-8796-18bc80fb1833, command=[]} | ret=SUCCESS |  
2019-08-29 08:39:05,424 | INFO  | SCMAudit | user=jenkins1000 | ip=192.168.34.54 | op=SEND_HEARTBEAT {datanodeUUID=035eba28-b4d6-4432-8796-18bc80fb1833, command=[]} | ret=SUCCESS |  
2019-08-29 08:39:05,624 | INFO  | SCMAudit | user=jenkins1000 | ip=192.168.34.54 | op=SEND_HEARTBEAT {datanodeUUID=035eba28-b4d6-4432-8796-18bc80fb1833, command=[]} | ret=SUCCESS |  
2019-08-29 08:39:05,637 [StateMachineUpdater:035eba28-b4d6-4432-8796-18bc80fb1833:group-8683B9C0D83A] INFO  ratis.ContainerStateMachine (ContainerStateMachine.java:takeSnapshot(294)) - group-8683B9C0D83A: Finished taking a snapshot at:(t:1, i:4) file:/workdir/hadoop-ozone/integration-test/target/test-dir/MiniOzoneClusterImpl-bffb8a9c-a960-4e2c-a106-63c013a34ce0/datanode-0/data/ratis/90c493bc-f963-48f5-9606-8683b9c0d83a/sm/snapshot.1_4 time:743
2019-08-29 08:39:05,637 [pool-42-thread-1] INFO  storage.RaftStorage (RaftStorage.java:format(72)) - Storage directory /workdir/hadoop-ozone/integration-test/target/test-dir/MiniOzoneClusterImpl-bffb8a9c-a960-4e2c-a106-63c013a34ce0/datanode-0/data/ratis/ddd26c75-21fe-4fe7-af84-507e589dbca8 has been successfully formatted.
2019-08-29 08:39:05,638 [035eba28-b4d6-4432-8796-18bc80fb1833-SegmentedRaftLogWorker:Storage Directory /workdir/hadoop-ozone/integration-test/target/test-dir/MiniOzoneClusterImpl-bffb8a9c-a960-4e2c-a106-63c013a34ce0/datanode-0/data/ratis/90c493bc-f963-48f5-9606-8683b9c0d83a] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:execute(569)) - 035eba28-b4d6-4432-8796-18bc80fb1833-SegmentedRaftLogWorker:Storage Directory /workdir/hadoop-ozone/integration-test/target/test-dir/MiniOzoneClusterImpl-bffb8a9c-a960-4e2c-a106-63c013a34ce0/datanode-0/data/ratis/90c493bc-f963-48f5-9606-8683b9c0d83a: created new log segment /workdir/hadoop-ozone/integration-test/target/test-dir/MiniOzoneClusterImpl-bffb8a9c-a960-4e2c-a106-63c013a34ce0/datanode-0/data/ratis/90c493bc-f963-48f5-9606-8683b9c0d83a/current/log_inprogress_5
2019-08-29 08:39:05,638 [StateMachineUpdater:035eba28-b4d6-4432-8796-18bc80fb1833:group-8683B9C0D83A] INFO  impl.StateMachineUpdater (StateMachineUpdater.java:takeSnapshot(242)) - StateMachineUpdater:035eba28-b4d6-4432-8796-18bc80fb1833:group-8683B9C0D83A: Took a snapshot at index 4
2019-08-29 08:39:05,638 [pool-42-thread-1] INFO  ratis.ContainerStateMachine (ContainerStateMachine.java:loadSnapshot(226)) - group-507E589DBCA8: The snapshot info is null. Setting the last applied indexto:(t:0, i:~)
2019-08-29 08:39:05,638 [StateMachineUpdater:035eba28-b4d6-4432-8796-18bc80fb1833:group-8683B9C0D83A] INFO  impl.StateMachineUpdater (StateMachineUpdater.java:lambda$new$0(80)) - StateMachineUpdater:035eba28-b4d6-4432-8796-18bc80fb1833:group-8683B9C0D83A: snapshotIndex: updateIncreasingly 4 -> 4
2019-08-29 08:39:05,639 [pool-42-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.leader.election.timeout = 120s (custom)
2019-08-29 08:39:05,639 [pool-42-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.log.use.memory = false (default)
2019-08-29 08:39:05,639 [grpc-default-executor-0] INFO  impl.RaftServerImpl (ServerState.java:close(394)) - 035eba28-b4d6-4432-8796-18bc80fb1833:group-8683B9C0D83A closes. The last applied log index is 4
2019-08-29 08:39:05,639 [pool-42-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.log.purge.gap = 1000000 (custom)
2019-08-29 08:39:05,640 [pool-42-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.log.appender.buffer.byte-limit = 33554432 (custom)
2019-08-29 08:39:05,640 [pool-42-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.log.segment.size.max = 1048576 (custom)
2019-08-29 08:39:05,640 [pool-42-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.log.segment.cache.num.max = 2 (custom)
2019-08-29 08:39:05,641 [pool-42-thread-1] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:<init>(172)) - new 035eba28-b4d6-4432-8796-18bc80fb1833-SegmentedRaftLogWorker:Storage Directory /workdir/hadoop-ozone/integration-test/target/test-dir/MiniOzoneClusterImpl-bffb8a9c-a960-4e2c-a106-63c013a34ce0/datanode-0/data/ratis/ddd26c75-21fe-4fe7-af84-507e589dbca8 for RaftStorage:Storage Directory /workdir/hadoop-ozone/integration-test/target/test-dir/MiniOzoneClusterImpl-bffb8a9c-a960-4e2c-a106-63c013a34ce0/datanode-0/data/ratis/ddd26c75-21fe-4fe7-af84-507e589dbca8
2019-08-29 08:39:05,641 [pool-42-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.log.queue.byte-limit = 2147483647 (custom)
2019-08-29 08:39:05,641 [pool-42-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.log.queue.element-limit = 1024 (custom)
2019-08-29 08:39:05,641 [pool-42-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.log.segment.size.max = 1048576 (custom)
2019-08-29 08:39:05,641 [pool-42-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.log.preallocated.size = 16384 (custom)
2019-08-29 08:39:05,641 [pool-42-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.log.write.buffer.size = 33554432 (custom)
2019-08-29 08:39:05,641 [pool-42-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.log.force.sync.num = 128 (default)
2019-08-29 08:39:05,642 [pool-42-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.log.statemachine.data.sync = true (default)
2019-08-29 08:39:05,642 [pool-42-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.log.statemachine.data.sync.timeout = 10s (default)
2019-08-29 08:39:05,642 [pool-42-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.log.statemachine.data.sync.timeout.retry = -1 (default)
2019-08-29 08:39:05,642 [pool-42-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.log.statemachine.data.caching.enabled = true (custom)
2019-08-29 08:39:05,642 [pool-42-thread-1] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:lambda$new$0(132)) - 035eba28-b4d6-4432-8796-18bc80fb1833-SegmentedRaftLogWorker:Storage Directory /workdir/hadoop-ozone/integration-test/target/test-dir/MiniOzoneClusterImpl-bffb8a9c-a960-4e2c-a106-63c013a34ce0/datanode-0/data/ratis/ddd26c75-21fe-4fe7-af84-507e589dbca8: flushIndex: setUnconditionally 0 -> -1
2019-08-29 08:39:05,643 [pool-42-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.snapshot.auto.trigger.enabled = true (custom)
2019-08-29 08:39:05,643 [pool-42-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.snapshot.auto.trigger.threshold = 1 (custom)
2019-08-29 08:39:05,643 [pool-42-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.retrycache.expirytime = 600000ms (custom)
2019-08-29 08:39:05,645 [pool-42-thread-1] INFO  impl.RaftServerImpl (RaftServerImpl.java:<init>(93)) - 035eba28-b4d6-4432-8796-18bc80fb1833: new RaftServerImpl for group-63FD080437EF:[035eba28-b4d6-4432-8796-18bc80fb1833:192.168.34.54:35758] with ContainerStateMachine:uninitialized
2019-08-29 08:39:05,645 [pool-42-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.rpc.timeout.min = 5s (custom)
2019-08-29 08:39:05,645 [pool-42-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.rpc.timeout.max = 5200ms (custom)
2019-08-29 08:39:05,645 [pool-42-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.rpcslowness.timeout = 120s (custom)
2019-08-29 08:39:05,645 [pool-42-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.sleep.deviation.threshold = 300 (default)
2019-08-29 08:39:05,646 [pool-42-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.log.appender.install.snapshot.enabled = false (custom)
2019-08-29 08:39:05,646 [pool-42-thread-1] INFO  impl.RaftServerImpl (ServerState.java:<init>(105)) - 035eba28-b4d6-4432-8796-18bc80fb1833:group-63FD080437EF ConfigurationManager, init=-1: [035eba28-b4d6-4432-8796-18bc80fb1833:192.168.34.54:35758], old=null, confs=<EMPTY_MAP>
2019-08-29 08:39:05,646 [pool-42-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.storage.dir = [/workdir/hadoop-ozone/integration-test/target/test-dir/MiniOzoneClusterImpl-bffb8a9c-a960-4e2c-a106-63c013a34ce0/datanode-0/data/ratis] (custom)
2019-08-29 08:39:05,646 [pool-42-thread-1] INFO  storage.RaftStorageDirectory (RaftStorageDirectory.java:analyzeStorage(246)) - The storage directory /workdir/hadoop-ozone/integration-test/target/test-dir/MiniOzoneClusterImpl-bffb8a9c-a960-4e2c-a106-63c013a34ce0/datanode-0/data/ratis/cd0ef16f-ac0d-43ea-a152-63fd080437ef does not exist. Creating ...
2019-08-29 08:39:05,728 [035eba28-b4d6-4432-8796-18bc80fb1833-SegmentedRaftLogWorker:Storage Directory /workdir/hadoop-ozone/integration-test/target/test-dir/MiniOzoneClusterImpl-bffb8a9c-a960-4e2c-a106-63c013a34ce0/datanode-0/data/ratis/90c493bc-f963-48f5-9606-8683b9c0d83a] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:run(320)) - 035eba28-b4d6-4432-8796-18bc80fb1833-SegmentedRaftLogWorker:Storage Directory /workdir/hadoop-ozone/integration-test/target/test-dir/MiniOzoneClusterImpl-bffb8a9c-a960-4e2c-a106-63c013a34ce0/datanode-0/data/ratis/90c493bc-f963-48f5-9606-8683b9c0d83a got closed and hit exception
java.lang.NullPointerException
	at org.apache.hadoop.hdds.protocol.proto.StorageContainerDatanodeProtocolProtos$ClosePipelineInfo$Builder.setDetailedReason(StorageContainerDatanodeProtocolProtos.java:19487)
	at org.apache.hadoop.ozone.container.common.transport.server.ratis.XceiverServerRatis.triggerPipelineClose(XceiverServerRatis.java:550)
	at org.apache.hadoop.ozone.container.common.transport.server.ratis.XceiverServerRatis.handleNodeLogFailure(XceiverServerRatis.java:654)
	at org.apache.hadoop.ozone.container.common.transport.server.ratis.ContainerStateMachine.notifyLogFailed(ContainerStateMachine.java:772)
	at org.apache.ratis.server.raftlog.segmented.SegmentedRaftLogWorker$WriteLog.failed(SegmentedRaftLogWorker.java:455)
	at org.apache.ratis.server.raftlog.segmented.SegmentedRaftLogWorker.run(SegmentedRaftLogWorker.java:297)
	at java.lang.Thread.run(Thread.java:748)
2019-08-29 08:39:05,729 [grpc-default-executor-0] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:close(228)) - 035eba28-b4d6-4432-8796-18bc80fb1833-SegmentedRaftLogWorker:Storage Directory /workdir/hadoop-ozone/integration-test/target/test-dir/MiniOzoneClusterImpl-bffb8a9c-a960-4e2c-a106-63c013a34ce0/datanode-0/data/ratis/90c493bc-f963-48f5-9606-8683b9c0d83a close()
2019-08-29 08:39:05,824 | INFO  | SCMAudit | user=jenkins1000 | ip=192.168.34.54 | op=SEND_HEARTBEAT {datanodeUUID=035eba28-b4d6-4432-8796-18bc80fb1833, command=[]} | ret=SUCCESS |  
2019-08-29 08:39:06,024 | INFO  | SCMAudit | user=jenkins1000 | ip=192.168.34.54 | op=SEND_HEARTBEAT {datanodeUUID=035eba28-b4d6-4432-8796-18bc80fb1833, command=[]} | ret=SUCCESS |  
2019-08-29 08:39:06,224 | INFO  | SCMAudit | user=jenkins1000 | ip=192.168.34.54 | op=SEND_HEARTBEAT {datanodeUUID=035eba28-b4d6-4432-8796-18bc80fb1833, command=[]} | ret=SUCCESS |  
2019-08-29 08:39:06,424 | INFO  | SCMAudit | user=jenkins1000 | ip=192.168.34.54 | op=SEND_HEARTBEAT {datanodeUUID=035eba28-b4d6-4432-8796-18bc80fb1833, command=[]} | ret=SUCCESS |  
2019-08-29 08:39:06,624 | INFO  | SCMAudit | user=jenkins1000 | ip=192.168.34.54 | op=SEND_HEARTBEAT {datanodeUUID=035eba28-b4d6-4432-8796-18bc80fb1833, command=[]} | ret=SUCCESS |  
2019-08-29 08:39:06,824 | INFO  | SCMAudit | user=jenkins1000 | ip=192.168.34.54 | op=SEND_HEARTBEAT {datanodeUUID=035eba28-b4d6-4432-8796-18bc80fb1833, command=[]} | ret=SUCCESS |  
2019-08-29 08:39:07,024 | INFO  | SCMAudit | user=jenkins1000 | ip=192.168.34.54 | op=SEND_HEARTBEAT {datanodeUUID=035eba28-b4d6-4432-8796-18bc80fb1833, command=[]} | ret=SUCCESS |  
2019-08-29 08:39:07,224 | INFO  | SCMAudit | user=jenkins1000 | ip=192.168.34.54 | op=SEND_HEARTBEAT {datanodeUUID=035eba28-b4d6-4432-8796-18bc80fb1833, command=[]} | ret=SUCCESS |  
2019-08-29 08:39:07,273 [pool-42-thread-1] INFO  storage.RaftStorageDirectory (RaftStorageDirectory.java:tryLock(328)) - Lock on /workdir/hadoop-ozone/integration-test/target/test-dir/MiniOzoneClusterImpl-bffb8a9c-a960-4e2c-a106-63c013a34ce0/datanode-0/data/ratis/cd0ef16f-ac0d-43ea-a152-63fd080437ef/in_use.lock acquired by nodename 2896@pr-hdds-1553-zhl8q-89899572
2019-08-29 08:39:07,424 | INFO  | SCMAudit | user=jenkins1000 | ip=192.168.34.54 | op=SEND_HEARTBEAT {datanodeUUID=035eba28-b4d6-4432-8796-18bc80fb1833, command=[]} | ret=SUCCESS |  
2019-08-29 08:39:07,624 | INFO  | SCMAudit | user=jenkins1000 | ip=192.168.34.54 | op=SEND_HEARTBEAT {datanodeUUID=035eba28-b4d6-4432-8796-18bc80fb1833, command=[]} | ret=SUCCESS |  
2019-08-29 08:39:07,824 | INFO  | SCMAudit | user=jenkins1000 | ip=192.168.34.54 | op=SEND_HEARTBEAT {datanodeUUID=035eba28-b4d6-4432-8796-18bc80fb1833, command=[]} | ret=SUCCESS |  
2019-08-29 08:39:07,889 [RATISCREATEPIPELINE3] ERROR pipeline.RatisPipelineProvider (RatisPipelineProvider.java:lambda$null$5(235)) - Failed invoke Ratis rpc org.apache.hadoop.hdds.scm.pipeline.RatisPipelineProvider$$Lambda$172/340647798@e75881c for 035eba28-b4d6-4432-8796-18bc80fb1833
org.apache.ratis.protocol.TimeoutIOException: deadline exceeded after 2999767435ns
	at org.apache.ratis.grpc.GrpcUtil.tryUnwrapException(GrpcUtil.java:82)
	at org.apache.ratis.grpc.GrpcUtil.unwrapException(GrpcUtil.java:75)
	at org.apache.ratis.grpc.client.GrpcClientProtocolClient.blockingCall(GrpcClientProtocolClient.java:169)
	at org.apache.ratis.grpc.client.GrpcClientProtocolClient.groupAdd(GrpcClientProtocolClient.java:138)
	at org.apache.ratis.grpc.client.GrpcClientRpc.sendRequest(GrpcClientRpc.java:94)
	at org.apache.ratis.client.impl.RaftClientImpl.sendRequest(RaftClientImpl.java:279)
	at org.apache.ratis.client.impl.RaftClientImpl.groupAdd(RaftClientImpl.java:206)
	at org.apache.hadoop.hdds.scm.pipeline.RatisPipelineProvider.lambda$initializePipeline$4(RatisPipelineProvider.java:194)
	at org.apache.hadoop.hdds.scm.pipeline.RatisPipelineProvider.lambda$null$5(RatisPipelineProvider.java:231)
	at java.util.stream.ForEachOps$ForEachOp$OfRef.accept(ForEachOps.java:184)
	at java.util.ArrayList$ArrayListSpliterator.forEachRemaining(ArrayList.java:1382)
	at java.util.stream.AbstractPipeline.copyInto(AbstractPipeline.java:482)
	at java.util.stream.ForEachOps$ForEachTask.compute(ForEachOps.java:291)
	at java.util.concurrent.CountedCompleter.exec(CountedCompleter.java:731)
	at java.util.concurrent.ForkJoinTask.doExec(ForkJoinTask.java:289)
	at java.util.concurrent.ForkJoinTask.doInvoke(ForkJoinTask.java:401)
	at java.util.concurrent.ForkJoinTask.invoke(ForkJoinTask.java:734)
	at java.util.stream.ForEachOps$ForEachOp.evaluateParallel(ForEachOps.java:160)
	at java.util.stream.ForEachOps$ForEachOp$OfRef.evaluateParallel(ForEachOps.java:174)
	at java.util.stream.AbstractPipeline.evaluate(AbstractPipeline.java:233)
	at java.util.stream.ReferencePipeline.forEach(ReferencePipeline.java:418)
	at java.util.stream.ReferencePipeline$Head.forEach(ReferencePipeline.java:583)
	at org.apache.hadoop.hdds.scm.pipeline.RatisPipelineProvider.lambda$callRatisRpc$6(RatisPipelineProvider.java:225)
	at java.util.concurrent.ForkJoinTask$AdaptedRunnableAction.exec(ForkJoinTask.java:1386)
	at java.util.concurrent.ForkJoinTask.doExec(ForkJoinTask.java:289)
	at java.util.concurrent.ForkJoinPool$WorkQueue.runTask(ForkJoinPool.java:1056)
	at java.util.concurrent.ForkJoinPool.runWorker(ForkJoinPool.java:1692)
	at java.util.concurrent.ForkJoinWorkerThread.run(ForkJoinWorkerThread.java:157)
Caused by: org.apache.ratis.thirdparty.io.grpc.StatusRuntimeException: DEADLINE_EXCEEDED: deadline exceeded after 2999767435ns
	at org.apache.ratis.thirdparty.io.grpc.stub.ClientCalls.toStatusRuntimeException(ClientCalls.java:233)
	at org.apache.ratis.thirdparty.io.grpc.stub.ClientCalls.getUnchecked(ClientCalls.java:214)
	at org.apache.ratis.thirdparty.io.grpc.stub.ClientCalls.blockingUnaryCall(ClientCalls.java:139)
	at org.apache.ratis.proto.grpc.AdminProtocolServiceGrpc$AdminProtocolServiceBlockingStub.groupManagement(AdminProtocolServiceGrpc.java:274)
	at org.apache.ratis.grpc.client.GrpcClientProtocolClient.lambda$groupAdd$3(GrpcClientProtocolClient.java:140)
	at org.apache.ratis.grpc.client.GrpcClientProtocolClient.blockingCall(GrpcClientProtocolClient.java:167)
	... 25 more
2019-08-29 08:39:07,891 [IPC Server handler 0 on 33169] WARN  block.BlockManagerImpl (BlockManagerImpl.java:allocateBlock(192)) - Pipeline creation failed for type:RATIS factor:ONE. Retrying get pipelines call once.
java.io.IOException: Failed invoke Ratis rpc org.apache.hadoop.hdds.scm.pipeline.RatisPipelineProvider$$Lambda$172/340647798@e75881c for 035eba28-b4d6-4432-8796-18bc80fb1833
	at org.apache.hadoop.hdds.scm.pipeline.RatisPipelineProvider.lambda$null$5(RatisPipelineProvider.java:236)
	at java.util.stream.ForEachOps$ForEachOp$OfRef.accept(ForEachOps.java:184)
	at java.util.ArrayList$ArrayListSpliterator.forEachRemaining(ArrayList.java:1382)
	at java.util.stream.AbstractPipeline.copyInto(AbstractPipeline.java:482)
	at java.util.stream.ForEachOps$ForEachTask.compute(ForEachOps.java:291)
	at java.util.concurrent.CountedCompleter.exec(CountedCompleter.java:731)
	at java.util.concurrent.ForkJoinTask.doExec(ForkJoinTask.java:289)
	at java.util.concurrent.ForkJoinTask.doInvoke(ForkJoinTask.java:401)
	at java.util.concurrent.ForkJoinTask.invoke(ForkJoinTask.java:734)
	at java.util.stream.ForEachOps$ForEachOp.evaluateParallel(ForEachOps.java:160)
	at java.util.stream.ForEachOps$ForEachOp$OfRef.evaluateParallel(ForEachOps.java:174)
	at java.util.stream.AbstractPipeline.evaluate(AbstractPipeline.java:233)
	at java.util.stream.ReferencePipeline.forEach(ReferencePipeline.java:418)
	at java.util.stream.ReferencePipeline$Head.forEach(ReferencePipeline.java:583)
	at org.apache.hadoop.hdds.scm.pipeline.RatisPipelineProvider.lambda$callRatisRpc$6(RatisPipelineProvider.java:225)
	at java.util.concurrent.ForkJoinTask$AdaptedRunnableAction.exec(ForkJoinTask.java:1386)
	at java.util.concurrent.ForkJoinTask.doExec(ForkJoinTask.java:289)
	at java.util.concurrent.ForkJoinPool$WorkQueue.runTask(ForkJoinPool.java:1056)
	at java.util.concurrent.ForkJoinPool.runWorker(ForkJoinPool.java:1692)
	at java.util.concurrent.ForkJoinWorkerThread.run(ForkJoinWorkerThread.java:157)
Caused by: org.apache.ratis.protocol.TimeoutIOException: deadline exceeded after 2999767435ns
	at org.apache.ratis.grpc.GrpcUtil.tryUnwrapException(GrpcUtil.java:82)
	at org.apache.ratis.grpc.GrpcUtil.unwrapException(GrpcUtil.java:75)
	at org.apache.ratis.grpc.client.GrpcClientProtocolClient.blockingCall(GrpcClientProtocolClient.java:169)
	at org.apache.ratis.grpc.client.GrpcClientProtocolClient.groupAdd(GrpcClientProtocolClient.java:138)
	at org.apache.ratis.grpc.client.GrpcClientRpc.sendRequest(GrpcClientRpc.java:94)
	at org.apache.ratis.client.impl.RaftClientImpl.sendRequest(RaftClientImpl.java:279)
	at org.apache.ratis.client.impl.RaftClientImpl.groupAdd(RaftClientImpl.java:206)
	at org.apache.hadoop.hdds.scm.pipeline.RatisPipelineProvider.lambda$initializePipeline$4(RatisPipelineProvider.java:194)
	at org.apache.hadoop.hdds.scm.pipeline.RatisPipelineProvider.lambda$null$5(RatisPipelineProvider.java:231)
	... 19 more
Caused by: org.apache.ratis.thirdparty.io.grpc.StatusRuntimeException: DEADLINE_EXCEEDED: deadline exceeded after 2999767435ns
	at org.apache.ratis.thirdparty.io.grpc.stub.ClientCalls.toStatusRuntimeException(ClientCalls.java:233)
	at org.apache.ratis.thirdparty.io.grpc.stub.ClientCalls.getUnchecked(ClientCalls.java:214)
	at org.apache.ratis.thirdparty.io.grpc.stub.ClientCalls.blockingUnaryCall(ClientCalls.java:139)
	at org.apache.ratis.proto.grpc.AdminProtocolServiceGrpc$AdminProtocolServiceBlockingStub.groupManagement(AdminProtocolServiceGrpc.java:274)
	at org.apache.ratis.grpc.client.GrpcClientProtocolClient.lambda$groupAdd$3(GrpcClientProtocolClient.java:140)
	at org.apache.ratis.grpc.client.GrpcClientProtocolClient.blockingCall(GrpcClientProtocolClient.java:167)
	... 25 more
2019-08-29 08:39:07,891 [RatisPipelineUtilsThread] INFO  pipeline.PipelineStateManager (PipelineStateManager.java:removePipeline(108)) - Pipeline Pipeline[ Id: 90c493bc-f963-48f5-9606-8683b9c0d83a, Nodes: 035eba28-b4d6-4432-8796-18bc80fb1833{ip: 192.168.34.54, host: pr-hdds-1553-zhl8q-89899572, networkLocation: /default-rack, certSerialId: null}, Type:RATIS, Factor:ONE, State:CLOSED] removed from db
2019-08-29 08:39:07,893 [IPC Server handler 0 on 33169] INFO  block.BlockManagerImpl (BlockManagerImpl.java:allocateBlock(198)) - Could not find available pipeline of type:RATIS and factor:ONE even after retrying
2019-08-29 08:39:07,893 [IPC Server handler 0 on 33169] ERROR block.BlockManagerImpl (BlockManagerImpl.java:allocateBlock(222)) - Unable to allocate a block for the size: 4194304, type: RATIS, factor: ONE
2019-08-29 08:39:07,893 | INFO  | SCMAudit | user=jenkins1000 | ip=192.168.34.54 | op=ALLOCATE_BLOCK {owner=2d49cfb1-3e10-45e9-a3c5-8dbd8f344cc2, size=4194304, type=RATIS, factor=ONE} | ret=SUCCESS |  
2019-08-29 08:39:07,895 | ERROR | OMAudit | user=jenkins1000 | ip=127.0.0.1 | op=ALLOCATE_KEY {volume=testcontainerstatemachinefailures, bucket=testcontainerstatemachinefailures, key=ratis, dataSize=1024, replicationType=RATIS, replicationFactor=ONE, keyLocationInfo=null} | ret=FAILURE | org.apache.hadoop.hdds.scm.exceptions.SCMException: Allocated 0 blocks. Requested 1 blocks
	at org.apache.hadoop.hdds.scm.protocolPB.ScmBlockLocationProtocolClientSideTranslatorPB.handleError(ScmBlockLocationProtocolClientSideTranslatorPB.java:118)
	at org.apache.hadoop.hdds.scm.protocolPB.ScmBlockLocationProtocolClientSideTranslatorPB.allocateBlock(ScmBlockLocationProtocolClientSideTranslatorPB.java:156) 
2019-08-29 08:39:07,905 [grpc-default-executor-0] INFO  impl.RaftServerProxy (RaftServerProxy.java:addNew(89)) - 035eba28-b4d6-4432-8796-18bc80fb1833: addNew group-B838EDBF9401:[035eba28-b4d6-4432-8796-18bc80fb1833:192.168.34.54:35758] returns group-B838EDBF9401:java.util.concurrent.CompletableFuture@3cc423b[Not completed]
2019-08-29 08:39:07,915 | INFO  | OMAudit | user=jenkins1000 | ip=127.0.0.1 | op=READ_VOLUME {volume=testcontainerstatemachinefailures} | ret=SUCCESS |  
2019-08-29 08:39:07,917 | INFO  | OMAudit | user=jenkins1000 | ip=127.0.0.1 | op=READ_BUCKET {volume=testcontainerstatemachinefailures, bucket=testcontainerstatemachinefailures} | ret=SUCCESS |  
2019-08-29 08:39:08,024 | INFO  | SCMAudit | user=jenkins1000 | ip=192.168.34.54 | op=SEND_HEARTBEAT {datanodeUUID=035eba28-b4d6-4432-8796-18bc80fb1833, command=[]} | ret=SUCCESS |  
2019-08-29 08:39:08,225 | INFO  | SCMAudit | user=jenkins1000 | ip=192.168.34.54 | op=SEND_HEARTBEAT {datanodeUUID=035eba28-b4d6-4432-8796-18bc80fb1833, command=[]} | ret=SUCCESS |  
2019-08-29 08:39:08,425 | INFO  | SCMAudit | user=jenkins1000 | ip=192.168.34.54 | op=SEND_HEARTBEAT {datanodeUUID=035eba28-b4d6-4432-8796-18bc80fb1833, command=[]} | ret=SUCCESS |  
2019-08-29 08:39:08,625 | INFO  | SCMAudit | user=jenkins1000 | ip=192.168.34.54 | op=SEND_HEARTBEAT {datanodeUUID=035eba28-b4d6-4432-8796-18bc80fb1833, command=[]} | ret=SUCCESS |  
2019-08-29 08:39:08,826 | INFO  | SCMAudit | user=jenkins1000 | ip=192.168.34.54 | op=SEND_HEARTBEAT {datanodeUUID=035eba28-b4d6-4432-8796-18bc80fb1833, command=[]} | ret=SUCCESS |  
2019-08-29 08:39:09,025 | INFO  | SCMAudit | user=jenkins1000 | ip=192.168.34.54 | op=SEND_HEARTBEAT {datanodeUUID=035eba28-b4d6-4432-8796-18bc80fb1833, command=[]} | ret=SUCCESS |  
2019-08-29 08:39:09,225 | INFO  | SCMAudit | user=jenkins1000 | ip=192.168.34.54 | op=SEND_HEARTBEAT {datanodeUUID=035eba28-b4d6-4432-8796-18bc80fb1833, command=[]} | ret=SUCCESS |  
2019-08-29 08:39:09,426 | INFO  | SCMAudit | user=jenkins1000 | ip=192.168.34.54 | op=SEND_HEARTBEAT {datanodeUUID=035eba28-b4d6-4432-8796-18bc80fb1833, command=[]} | ret=SUCCESS |  
2019-08-29 08:39:09,625 | INFO  | SCMAudit | user=jenkins1000 | ip=192.168.34.54 | op=SEND_HEARTBEAT {datanodeUUID=035eba28-b4d6-4432-8796-18bc80fb1833, command=[]} | ret=SUCCESS |  
2019-08-29 08:39:09,825 | INFO  | SCMAudit | user=jenkins1000 | ip=192.168.34.54 | op=SEND_HEARTBEAT {datanodeUUID=035eba28-b4d6-4432-8796-18bc80fb1833, command=[]} | ret=SUCCESS |  
2019-08-29 08:39:10,026 | INFO  | SCMAudit | user=jenkins1000 | ip=192.168.34.54 | op=SEND_HEARTBEAT {datanodeUUID=035eba28-b4d6-4432-8796-18bc80fb1833, command=[]} | ret=SUCCESS |  
2019-08-29 08:39:10,225 | INFO  | SCMAudit | user=jenkins1000 | ip=192.168.34.54 | op=SEND_HEARTBEAT {datanodeUUID=035eba28-b4d6-4432-8796-18bc80fb1833, command=[]} | ret=SUCCESS |  
2019-08-29 08:39:10,425 | INFO  | SCMAudit | user=jenkins1000 | ip=192.168.34.54 | op=SEND_HEARTBEAT {datanodeUUID=035eba28-b4d6-4432-8796-18bc80fb1833, command=[]} | ret=SUCCESS |  
2019-08-29 08:39:10,625 | INFO  | SCMAudit | user=jenkins1000 | ip=192.168.34.54 | op=SEND_HEARTBEAT {datanodeUUID=035eba28-b4d6-4432-8796-18bc80fb1833, command=[]} | ret=SUCCESS |  
2019-08-29 08:39:10,649 [pool-42-thread-1] INFO  storage.RaftStorage (RaftStorage.java:format(72)) - Storage directory /workdir/hadoop-ozone/integration-test/target/test-dir/MiniOzoneClusterImpl-bffb8a9c-a960-4e2c-a106-63c013a34ce0/datanode-0/data/ratis/cd0ef16f-ac0d-43ea-a152-63fd080437ef has been successfully formatted.
2019-08-29 08:39:10,649 [pool-42-thread-1] INFO  ratis.ContainerStateMachine (ContainerStateMachine.java:loadSnapshot(226)) - group-63FD080437EF: The snapshot info is null. Setting the last applied indexto:(t:0, i:~)
2019-08-29 08:39:10,650 [pool-42-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.leader.election.timeout = 120s (custom)
2019-08-29 08:39:10,650 [pool-42-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.log.use.memory = false (default)
2019-08-29 08:39:10,650 [pool-42-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.log.purge.gap = 1000000 (custom)
2019-08-29 08:39:10,650 [pool-42-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.log.appender.buffer.byte-limit = 33554432 (custom)
2019-08-29 08:39:10,651 [pool-42-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.log.segment.size.max = 1048576 (custom)
2019-08-29 08:39:10,651 [pool-42-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.log.segment.cache.num.max = 2 (custom)
2019-08-29 08:39:10,651 [pool-42-thread-1] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:<init>(172)) - new 035eba28-b4d6-4432-8796-18bc80fb1833-SegmentedRaftLogWorker:Storage Directory /workdir/hadoop-ozone/integration-test/target/test-dir/MiniOzoneClusterImpl-bffb8a9c-a960-4e2c-a106-63c013a34ce0/datanode-0/data/ratis/cd0ef16f-ac0d-43ea-a152-63fd080437ef for RaftStorage:Storage Directory /workdir/hadoop-ozone/integration-test/target/test-dir/MiniOzoneClusterImpl-bffb8a9c-a960-4e2c-a106-63c013a34ce0/datanode-0/data/ratis/cd0ef16f-ac0d-43ea-a152-63fd080437ef
2019-08-29 08:39:10,651 [pool-42-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.log.queue.byte-limit = 2147483647 (custom)
2019-08-29 08:39:10,651 [pool-42-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.log.queue.element-limit = 1024 (custom)
2019-08-29 08:39:10,652 [pool-42-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.log.segment.size.max = 1048576 (custom)
2019-08-29 08:39:10,652 [pool-42-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.log.preallocated.size = 16384 (custom)
2019-08-29 08:39:10,652 [pool-42-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.log.write.buffer.size = 33554432 (custom)
2019-08-29 08:39:10,652 [pool-42-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.log.force.sync.num = 128 (default)
2019-08-29 08:39:10,652 [pool-42-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.log.statemachine.data.sync = true (default)
2019-08-29 08:39:10,653 [pool-42-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.log.statemachine.data.sync.timeout = 10s (default)
2019-08-29 08:39:10,653 [pool-42-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.log.statemachine.data.sync.timeout.retry = -1 (default)
2019-08-29 08:39:10,653 [pool-42-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.log.statemachine.data.caching.enabled = true (custom)
2019-08-29 08:39:10,654 [pool-42-thread-1] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:lambda$new$0(132)) - 035eba28-b4d6-4432-8796-18bc80fb1833-SegmentedRaftLogWorker:Storage Directory /workdir/hadoop-ozone/integration-test/target/test-dir/MiniOzoneClusterImpl-bffb8a9c-a960-4e2c-a106-63c013a34ce0/datanode-0/data/ratis/cd0ef16f-ac0d-43ea-a152-63fd080437ef: flushIndex: setUnconditionally 0 -> -1
2019-08-29 08:39:10,654 [pool-42-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.snapshot.auto.trigger.enabled = true (custom)
2019-08-29 08:39:10,654 [pool-42-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.snapshot.auto.trigger.threshold = 1 (custom)
2019-08-29 08:39:10,654 [pool-42-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.retrycache.expirytime = 600000ms (custom)
2019-08-29 08:39:10,655 [pool-42-thread-1] INFO  impl.RaftServerImpl (RaftServerImpl.java:start(180)) - 035eba28-b4d6-4432-8796-18bc80fb1833: start group-507E589DBCA8
2019-08-29 08:39:10,655 [pool-42-thread-1] INFO  impl.RaftServerImpl (RaftServerImpl.java:setRole(171)) - 035eba28-b4d6-4432-8796-18bc80fb1833:group-507E589DBCA8 changes role from null to FOLLOWER at term 0 for startAsFollower
2019-08-29 08:39:10,655 [pool-42-thread-1] INFO  impl.RoleInfo (RoleInfo.java:updateAndGet(143)) - 035eba28-b4d6-4432-8796-18bc80fb1833: start FollowerState
2019-08-29 08:39:10,656 [pool-42-thread-1] INFO  util.JmxRegister (JmxRegister.java:tryRegister(44)) - Successfully registered JMX Bean with object name Ratis:service=RaftServer,group=group-507E589DBCA8,id=035eba28-b4d6-4432-8796-18bc80fb1833
2019-08-29 08:39:10,660 [pool-42-thread-1] INFO  impl.RaftServerImpl (RaftServerImpl.java:<init>(93)) - 035eba28-b4d6-4432-8796-18bc80fb1833: new RaftServerImpl for group-B838EDBF9401:[035eba28-b4d6-4432-8796-18bc80fb1833:192.168.34.54:35758] with ContainerStateMachine:uninitialized
2019-08-29 08:39:10,660 [pool-42-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.rpc.timeout.min = 5s (custom)
2019-08-29 08:39:10,660 [pool-42-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.rpc.timeout.max = 5200ms (custom)
2019-08-29 08:39:10,660 [pool-42-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.rpcslowness.timeout = 120s (custom)
2019-08-29 08:39:10,661 [pool-42-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.sleep.deviation.threshold = 300 (default)
2019-08-29 08:39:10,661 [pool-42-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.log.appender.install.snapshot.enabled = false (custom)
2019-08-29 08:39:10,661 [pool-42-thread-1] INFO  impl.RaftServerImpl (ServerState.java:<init>(105)) - 035eba28-b4d6-4432-8796-18bc80fb1833:group-B838EDBF9401 ConfigurationManager, init=-1: [035eba28-b4d6-4432-8796-18bc80fb1833:192.168.34.54:35758], old=null, confs=<EMPTY_MAP>
2019-08-29 08:39:10,661 [pool-42-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.storage.dir = [/workdir/hadoop-ozone/integration-test/target/test-dir/MiniOzoneClusterImpl-bffb8a9c-a960-4e2c-a106-63c013a34ce0/datanode-0/data/ratis] (custom)
2019-08-29 08:39:10,662 [pool-42-thread-1] INFO  storage.RaftStorageDirectory (RaftStorageDirectory.java:analyzeStorage(246)) - The storage directory /workdir/hadoop-ozone/integration-test/target/test-dir/MiniOzoneClusterImpl-bffb8a9c-a960-4e2c-a106-63c013a34ce0/datanode-0/data/ratis/c99cb8a3-a2fe-4b1c-9d3a-b838edbf9401 does not exist. Creating ...
2019-08-29 08:39:10,826 | INFO  | SCMAudit | user=jenkins1000 | ip=192.168.34.54 | op=SEND_HEARTBEAT {datanodeUUID=035eba28-b4d6-4432-8796-18bc80fb1833, command=[]} | ret=SUCCESS |  
2019-08-29 08:39:10,902 [RATISCREATEPIPELINE3] ERROR pipeline.RatisPipelineProvider (RatisPipelineProvider.java:lambda$null$5(235)) - Failed invoke Ratis rpc org.apache.hadoop.hdds.scm.pipeline.RatisPipelineProvider$$Lambda$172/340647798@7daad30a for 035eba28-b4d6-4432-8796-18bc80fb1833
org.apache.ratis.protocol.TimeoutIOException: deadline exceeded after 2999664335ns
	at org.apache.ratis.grpc.GrpcUtil.tryUnwrapException(GrpcUtil.java:82)
	at org.apache.ratis.grpc.GrpcUtil.unwrapException(GrpcUtil.java:75)
	at org.apache.ratis.grpc.client.GrpcClientProtocolClient.blockingCall(GrpcClientProtocolClient.java:169)
	at org.apache.ratis.grpc.client.GrpcClientProtocolClient.groupAdd(GrpcClientProtocolClient.java:138)
	at org.apache.ratis.grpc.client.GrpcClientRpc.sendRequest(GrpcClientRpc.java:94)
	at org.apache.ratis.client.impl.RaftClientImpl.sendRequest(RaftClientImpl.java:279)
	at org.apache.ratis.client.impl.RaftClientImpl.groupAdd(RaftClientImpl.java:206)
	at org.apache.hadoop.hdds.scm.pipeline.RatisPipelineProvider.lambda$initializePipeline$4(RatisPipelineProvider.java:194)
	at org.apache.hadoop.hdds.scm.pipeline.RatisPipelineProvider.lambda$null$5(RatisPipelineProvider.java:231)
	at java.util.stream.ForEachOps$ForEachOp$OfRef.accept(ForEachOps.java:184)
	at java.util.ArrayList$ArrayListSpliterator.forEachRemaining(ArrayList.java:1382)
	at java.util.stream.AbstractPipeline.copyInto(AbstractPipeline.java:482)
	at java.util.stream.ForEachOps$ForEachTask.compute(ForEachOps.java:291)
	at java.util.concurrent.CountedCompleter.exec(CountedCompleter.java:731)
	at java.util.concurrent.ForkJoinTask.doExec(ForkJoinTask.java:289)
	at java.util.concurrent.ForkJoinTask.doInvoke(ForkJoinTask.java:401)
	at java.util.concurrent.ForkJoinTask.invoke(ForkJoinTask.java:734)
	at java.util.stream.ForEachOps$ForEachOp.evaluateParallel(ForEachOps.java:160)
	at java.util.stream.ForEachOps$ForEachOp$OfRef.evaluateParallel(ForEachOps.java:174)
	at java.util.stream.AbstractPipeline.evaluate(AbstractPipeline.java:233)
	at java.util.stream.ReferencePipeline.forEach(ReferencePipeline.java:418)
	at java.util.stream.ReferencePipeline$Head.forEach(ReferencePipeline.java:583)
	at org.apache.hadoop.hdds.scm.pipeline.RatisPipelineProvider.lambda$callRatisRpc$6(RatisPipelineProvider.java:225)
	at java.util.concurrent.ForkJoinTask$AdaptedRunnableAction.exec(ForkJoinTask.java:1386)
	at java.util.concurrent.ForkJoinTask.doExec(ForkJoinTask.java:289)
	at java.util.concurrent.ForkJoinPool$WorkQueue.runTask(ForkJoinPool.java:1056)
	at java.util.concurrent.ForkJoinPool.runWorker(ForkJoinPool.java:1692)
	at java.util.concurrent.ForkJoinWorkerThread.run(ForkJoinWorkerThread.java:157)
Caused by: org.apache.ratis.thirdparty.io.grpc.StatusRuntimeException: DEADLINE_EXCEEDED: deadline exceeded after 2999664335ns
	at org.apache.ratis.thirdparty.io.grpc.stub.ClientCalls.toStatusRuntimeException(ClientCalls.java:233)
	at org.apache.ratis.thirdparty.io.grpc.stub.ClientCalls.getUnchecked(ClientCalls.java:214)
	at org.apache.ratis.thirdparty.io.grpc.stub.ClientCalls.blockingUnaryCall(ClientCalls.java:139)
	at org.apache.ratis.proto.grpc.AdminProtocolServiceGrpc$AdminProtocolServiceBlockingStub.groupManagement(AdminProtocolServiceGrpc.java:274)
	at org.apache.ratis.grpc.client.GrpcClientProtocolClient.lambda$groupAdd$3(GrpcClientProtocolClient.java:140)
	at org.apache.ratis.grpc.client.GrpcClientProtocolClient.blockingCall(GrpcClientProtocolClient.java:167)
	... 25 more
2019-08-29 08:39:10,922 [grpc-default-executor-1] INFO  impl.RaftServerProxy (RaftServerProxy.java:addNew(89)) - 035eba28-b4d6-4432-8796-18bc80fb1833: addNew group-98C22E8AB3E9:[035eba28-b4d6-4432-8796-18bc80fb1833:192.168.34.54:35758] returns group-98C22E8AB3E9:java.util.concurrent.CompletableFuture@45138ac2[Not completed]
2019-08-29 08:39:11,025 | INFO  | SCMAudit | user=jenkins1000 | ip=192.168.34.54 | op=SEND_HEARTBEAT {datanodeUUID=035eba28-b4d6-4432-8796-18bc80fb1833, command=[]} | ret=SUCCESS |  
2019-08-29 08:39:11,225 | INFO  | SCMAudit | user=jenkins1000 | ip=192.168.34.54 | op=SEND_HEARTBEAT {datanodeUUID=035eba28-b4d6-4432-8796-18bc80fb1833, command=[]} | ret=SUCCESS |  
2019-08-29 08:39:11,425 | INFO  | SCMAudit | user=jenkins1000 | ip=192.168.34.54 | op=SEND_HEARTBEAT {datanodeUUID=035eba28-b4d6-4432-8796-18bc80fb1833, command=[]} | ret=SUCCESS |  
2019-08-29 08:39:11,625 | INFO  | SCMAudit | user=jenkins1000 | ip=192.168.34.54 | op=SEND_HEARTBEAT {datanodeUUID=035eba28-b4d6-4432-8796-18bc80fb1833, command=[]} | ret=SUCCESS |  
2019-08-29 08:39:11,825 | INFO  | SCMAudit | user=jenkins1000 | ip=192.168.34.54 | op=SEND_HEARTBEAT {datanodeUUID=035eba28-b4d6-4432-8796-18bc80fb1833, command=[]} | ret=SUCCESS |  
2019-08-29 08:39:12,026 | INFO  | SCMAudit | user=jenkins1000 | ip=192.168.34.54 | op=SEND_HEARTBEAT {datanodeUUID=035eba28-b4d6-4432-8796-18bc80fb1833, command=[]} | ret=SUCCESS |  
2019-08-29 08:39:12,226 | INFO  | SCMAudit | user=jenkins1000 | ip=192.168.34.54 | op=SEND_HEARTBEAT {datanodeUUID=035eba28-b4d6-4432-8796-18bc80fb1833, command=[]} | ret=SUCCESS |  
2019-08-29 08:39:12,426 | INFO  | SCMAudit | user=jenkins1000 | ip=192.168.34.54 | op=SEND_HEARTBEAT {datanodeUUID=035eba28-b4d6-4432-8796-18bc80fb1833, command=[]} | ret=SUCCESS |  
2019-08-29 08:39:12,626 | INFO  | SCMAudit | user=jenkins1000 | ip=192.168.34.54 | op=SEND_HEARTBEAT {datanodeUUID=035eba28-b4d6-4432-8796-18bc80fb1833, command=[]} | ret=SUCCESS |  
2019-08-29 08:39:12,826 | INFO  | SCMAudit | user=jenkins1000 | ip=192.168.34.54 | op=SEND_HEARTBEAT {datanodeUUID=035eba28-b4d6-4432-8796-18bc80fb1833, command=[]} | ret=SUCCESS |  
2019-08-29 08:39:13,026 | INFO  | SCMAudit | user=jenkins1000 | ip=192.168.34.54 | op=SEND_HEARTBEAT {datanodeUUID=035eba28-b4d6-4432-8796-18bc80fb1833, command=[]} | ret=SUCCESS |  
2019-08-29 08:39:13,226 | INFO  | SCMAudit | user=jenkins1000 | ip=192.168.34.54 | op=SEND_HEARTBEAT {datanodeUUID=035eba28-b4d6-4432-8796-18bc80fb1833, command=[]} | ret=SUCCESS |  
2019-08-29 08:39:13,426 | INFO  | SCMAudit | user=jenkins1000 | ip=192.168.34.54 | op=SEND_HEARTBEAT {datanodeUUID=035eba28-b4d6-4432-8796-18bc80fb1833, command=[]} | ret=SUCCESS |  
2019-08-29 08:39:13,626 | INFO  | SCMAudit | user=jenkins1000 | ip=192.168.34.54 | op=SEND_HEARTBEAT {datanodeUUID=035eba28-b4d6-4432-8796-18bc80fb1833, command=[]} | ret=SUCCESS |  
2019-08-29 08:39:13,826 | INFO  | SCMAudit | user=jenkins1000 | ip=192.168.34.54 | op=SEND_HEARTBEAT {datanodeUUID=035eba28-b4d6-4432-8796-18bc80fb1833, command=[]} | ret=SUCCESS |  
2019-08-29 08:39:13,918 [RATISCREATEPIPELINE3] ERROR pipeline.RatisPipelineProvider (RatisPipelineProvider.java:lambda$null$5(235)) - Failed invoke Ratis rpc org.apache.hadoop.hdds.scm.pipeline.RatisPipelineProvider$$Lambda$172/340647798@1236f3a1 for 035eba28-b4d6-4432-8796-18bc80fb1833
org.apache.ratis.protocol.TimeoutIOException: deadline exceeded after 2999675677ns
	at org.apache.ratis.grpc.GrpcUtil.tryUnwrapException(GrpcUtil.java:82)
	at org.apache.ratis.grpc.GrpcUtil.unwrapException(GrpcUtil.java:75)
	at org.apache.ratis.grpc.client.GrpcClientProtocolClient.blockingCall(GrpcClientProtocolClient.java:169)
	at org.apache.ratis.grpc.client.GrpcClientProtocolClient.groupAdd(GrpcClientProtocolClient.java:138)
	at org.apache.ratis.grpc.client.GrpcClientRpc.sendRequest(GrpcClientRpc.java:94)
	at org.apache.ratis.client.impl.RaftClientImpl.sendRequest(RaftClientImpl.java:279)
	at org.apache.ratis.client.impl.RaftClientImpl.groupAdd(RaftClientImpl.java:206)
	at org.apache.hadoop.hdds.scm.pipeline.RatisPipelineProvider.lambda$initializePipeline$4(RatisPipelineProvider.java:194)
	at org.apache.hadoop.hdds.scm.pipeline.RatisPipelineProvider.lambda$null$5(RatisPipelineProvider.java:231)
	at java.util.stream.ForEachOps$ForEachOp$OfRef.accept(ForEachOps.java:184)
	at java.util.ArrayList$ArrayListSpliterator.forEachRemaining(ArrayList.java:1382)
	at java.util.stream.AbstractPipeline.copyInto(AbstractPipeline.java:482)
	at java.util.stream.ForEachOps$ForEachTask.compute(ForEachOps.java:291)
	at java.util.concurrent.CountedCompleter.exec(CountedCompleter.java:731)
	at java.util.concurrent.ForkJoinTask.doExec(ForkJoinTask.java:289)
	at java.util.concurrent.ForkJoinTask.doInvoke(ForkJoinTask.java:401)
	at java.util.concurrent.ForkJoinTask.invoke(ForkJoinTask.java:734)
	at java.util.stream.ForEachOps$ForEachOp.evaluateParallel(ForEachOps.java:160)
	at java.util.stream.ForEachOps$ForEachOp$OfRef.evaluateParallel(ForEachOps.java:174)
	at java.util.stream.AbstractPipeline.evaluate(AbstractPipeline.java:233)
	at java.util.stream.ReferencePipeline.forEach(ReferencePipeline.java:418)
	at java.util.stream.ReferencePipeline$Head.forEach(ReferencePipeline.java:583)
	at org.apache.hadoop.hdds.scm.pipeline.RatisPipelineProvider.lambda$callRatisRpc$6(RatisPipelineProvider.java:225)
	at java.util.concurrent.ForkJoinTask$AdaptedRunnableAction.exec(ForkJoinTask.java:1386)
	at java.util.concurrent.ForkJoinTask.doExec(ForkJoinTask.java:289)
	at java.util.concurrent.ForkJoinPool$WorkQueue.runTask(ForkJoinPool.java:1056)
	at java.util.concurrent.ForkJoinPool.runWorker(ForkJoinPool.java:1692)
	at java.util.concurrent.ForkJoinWorkerThread.run(ForkJoinWorkerThread.java:157)
Caused by: org.apache.ratis.thirdparty.io.grpc.StatusRuntimeException: DEADLINE_EXCEEDED: deadline exceeded after 2999675677ns
	at org.apache.ratis.thirdparty.io.grpc.stub.ClientCalls.toStatusRuntimeException(ClientCalls.java:233)
	at org.apache.ratis.thirdparty.io.grpc.stub.ClientCalls.getUnchecked(ClientCalls.java:214)
	at org.apache.ratis.thirdparty.io.grpc.stub.ClientCalls.blockingUnaryCall(ClientCalls.java:139)
	at org.apache.ratis.proto.grpc.AdminProtocolServiceGrpc$AdminProtocolServiceBlockingStub.groupManagement(AdminProtocolServiceGrpc.java:274)
	at org.apache.ratis.grpc.client.GrpcClientProtocolClient.lambda$groupAdd$3(GrpcClientProtocolClient.java:140)
	at org.apache.ratis.grpc.client.GrpcClientProtocolClient.blockingCall(GrpcClientProtocolClient.java:167)
	... 25 more
2019-08-29 08:39:13,920 [IPC Server handler 19 on 33169] WARN  block.BlockManagerImpl (BlockManagerImpl.java:allocateBlock(192)) - Pipeline creation failed for type:RATIS factor:ONE. Retrying get pipelines call once.
java.io.IOException: Failed invoke Ratis rpc org.apache.hadoop.hdds.scm.pipeline.RatisPipelineProvider$$Lambda$172/340647798@1236f3a1 for 035eba28-b4d6-4432-8796-18bc80fb1833
	at org.apache.hadoop.hdds.scm.pipeline.RatisPipelineProvider.lambda$null$5(RatisPipelineProvider.java:236)
	at java.util.stream.ForEachOps$ForEachOp$OfRef.accept(ForEachOps.java:184)
	at java.util.ArrayList$ArrayListSpliterator.forEachRemaining(ArrayList.java:1382)
	at java.util.stream.AbstractPipeline.copyInto(AbstractPipeline.java:482)
	at java.util.stream.ForEachOps$ForEachTask.compute(ForEachOps.java:291)
	at java.util.concurrent.CountedCompleter.exec(CountedCompleter.java:731)
	at java.util.concurrent.ForkJoinTask.doExec(ForkJoinTask.java:289)
	at java.util.concurrent.ForkJoinTask.doInvoke(ForkJoinTask.java:401)
	at java.util.concurrent.ForkJoinTask.invoke(ForkJoinTask.java:734)
	at java.util.stream.ForEachOps$ForEachOp.evaluateParallel(ForEachOps.java:160)
	at java.util.stream.ForEachOps$ForEachOp$OfRef.evaluateParallel(ForEachOps.java:174)
	at java.util.stream.AbstractPipeline.evaluate(AbstractPipeline.java:233)
	at java.util.stream.ReferencePipeline.forEach(ReferencePipeline.java:418)
	at java.util.stream.ReferencePipeline$Head.forEach(ReferencePipeline.java:583)
	at org.apache.hadoop.hdds.scm.pipeline.RatisPipelineProvider.lambda$callRatisRpc$6(RatisPipelineProvider.java:225)
	at java.util.concurrent.ForkJoinTask$AdaptedRunnableAction.exec(ForkJoinTask.java:1386)
	at java.util.concurrent.ForkJoinTask.doExec(ForkJoinTask.java:289)
	at java.util.concurrent.ForkJoinPool$WorkQueue.runTask(ForkJoinPool.java:1056)
	at java.util.concurrent.ForkJoinPool.runWorker(ForkJoinPool.java:1692)
	at java.util.concurrent.ForkJoinWorkerThread.run(ForkJoinWorkerThread.java:157)
Caused by: org.apache.ratis.protocol.TimeoutIOException: deadline exceeded after 2999675677ns
	at org.apache.ratis.grpc.GrpcUtil.tryUnwrapException(GrpcUtil.java:82)
	at org.apache.ratis.grpc.GrpcUtil.unwrapException(GrpcUtil.java:75)
	at org.apache.ratis.grpc.client.GrpcClientProtocolClient.blockingCall(GrpcClientProtocolClient.java:169)
	at org.apache.ratis.grpc.client.GrpcClientProtocolClient.groupAdd(GrpcClientProtocolClient.java:138)
	at org.apache.ratis.grpc.client.GrpcClientRpc.sendRequest(GrpcClientRpc.java:94)
	at org.apache.ratis.client.impl.RaftClientImpl.sendRequest(RaftClientImpl.java:279)
	at org.apache.ratis.client.impl.RaftClientImpl.groupAdd(RaftClientImpl.java:206)
	at org.apache.hadoop.hdds.scm.pipeline.RatisPipelineProvider.lambda$initializePipeline$4(RatisPipelineProvider.java:194)
	at org.apache.hadoop.hdds.scm.pipeline.RatisPipelineProvider.lambda$null$5(RatisPipelineProvider.java:231)
	... 19 more
Caused by: org.apache.ratis.thirdparty.io.grpc.StatusRuntimeException: DEADLINE_EXCEEDED: deadline exceeded after 2999675677ns
	at org.apache.ratis.thirdparty.io.grpc.stub.ClientCalls.toStatusRuntimeException(ClientCalls.java:233)
	at org.apache.ratis.thirdparty.io.grpc.stub.ClientCalls.getUnchecked(ClientCalls.java:214)
	at org.apache.ratis.thirdparty.io.grpc.stub.ClientCalls.blockingUnaryCall(ClientCalls.java:139)
	at org.apache.ratis.proto.grpc.AdminProtocolServiceGrpc$AdminProtocolServiceBlockingStub.groupManagement(AdminProtocolServiceGrpc.java:274)
	at org.apache.ratis.grpc.client.GrpcClientProtocolClient.lambda$groupAdd$3(GrpcClientProtocolClient.java:140)
	at org.apache.ratis.grpc.client.GrpcClientProtocolClient.blockingCall(GrpcClientProtocolClient.java:167)
	... 25 more
2019-08-29 08:39:13,922 [IPC Server handler 19 on 33169] INFO  block.BlockManagerImpl (BlockManagerImpl.java:allocateBlock(198)) - Could not find available pipeline of type:RATIS and factor:ONE even after retrying
2019-08-29 08:39:13,922 [IPC Server handler 19 on 33169] ERROR block.BlockManagerImpl (BlockManagerImpl.java:allocateBlock(222)) - Unable to allocate a block for the size: 4194304, type: RATIS, factor: ONE
2019-08-29 08:39:13,923 | INFO  | SCMAudit | user=jenkins1000 | ip=192.168.34.54 | op=ALLOCATE_BLOCK {owner=2d49cfb1-3e10-45e9-a3c5-8dbd8f344cc2, size=4194304, type=RATIS, factor=ONE} | ret=SUCCESS |  
2019-08-29 08:39:13,924 | ERROR | OMAudit | user=jenkins1000 | ip=127.0.0.1 | op=ALLOCATE_KEY {volume=testcontainerstatemachinefailures, bucket=testcontainerstatemachinefailures, key=ratis, dataSize=1024, replicationType=RATIS, replicationFactor=ONE, keyLocationInfo=null} | ret=FAILURE | org.apache.hadoop.hdds.scm.exceptions.SCMException: Allocated 0 blocks. Requested 1 blocks
	at org.apache.hadoop.hdds.scm.protocolPB.ScmBlockLocationProtocolClientSideTranslatorPB.handleError(ScmBlockLocationProtocolClientSideTranslatorPB.java:118)
	at org.apache.hadoop.hdds.scm.protocolPB.ScmBlockLocationProtocolClientSideTranslatorPB.allocateBlock(ScmBlockLocationProtocolClientSideTranslatorPB.java:156) 
2019-08-29 08:39:13,927 [main] INFO  ozone.MiniOzoneClusterImpl (MiniOzoneClusterImpl.java:shutdown(321)) - Shutting down the Mini Ozone Cluster
2019-08-29 08:39:13,928 | INFO  | SCMAudit | user=null | ip=null | op=GET_SCM_INFO null | ret=SUCCESS |  
2019-08-29 08:39:13,928 [main] INFO  ozone.MiniOzoneClusterImpl (MiniOzoneClusterImpl.java:stop(336)) - Stopping the Mini Ozone Cluster
2019-08-29 08:39:13,928 [main] INFO  ozone.MiniOzoneClusterImpl (MiniOzoneClusterImpl.java:stop(338)) - Stopping the OzoneManager
2019-08-29 08:39:13,928 [main] INFO  ipc.Server (Server.java:stop(3082)) - Stopping server on 37355
2019-08-29 08:39:13,932 [IPC Server listener on 37355] INFO  ipc.Server (Server.java:run(1185)) - Stopping IPC Server listener on 37355
2019-08-29 08:39:13,934 [main] INFO  ratis.OzoneManagerDoubleBuffer (OzoneManagerDoubleBuffer.java:stop(248)) - Stopping OMDoubleBuffer flush thread
2019-08-29 08:39:13,936 [IPC Server Responder] INFO  ipc.Server (Server.java:run(1319)) - Stopping IPC Server Responder
2019-08-29 08:39:13,939 [OMDoubleBufferFlushThread] INFO  ratis.OzoneManagerDoubleBuffer (OzoneManagerDoubleBuffer.java:flushTransactions(191)) - OMDoubleBuffer flush thread OMDoubleBufferFlushThread is interrupted and will exit. OMDoubleBufferFlushThread
2019-08-29 08:39:13,940 [main] INFO  utils.BackgroundService (BackgroundService.java:shutdown(148)) - Shutting down service KeyDeletingService
2019-08-29 08:39:13,941 [main] INFO  handler.ContextHandler (ContextHandler.java:doStop(910)) - Stopped o.e.j.w.WebAppContext@61f3fbb8{/,null,UNAVAILABLE}{/ozoneManager}
2019-08-29 08:39:13,942 [main] INFO  server.AbstractConnector (AbstractConnector.java:doStop(318)) - Stopped ServerConnector@7551da2a{HTTP/1.1,[http/1.1]}{0.0.0.0:0}
2019-08-29 08:39:13,942 [main] INFO  handler.ContextHandler (ContextHandler.java:doStop(910)) - Stopped o.e.j.s.ServletContextHandler@15fa55a6{/static,file:///workdir/hadoop-ozone/integration-test/target/test-classes/webapps/static,UNAVAILABLE}
2019-08-29 08:39:13,943 [main] INFO  handler.ContextHandler (ContextHandler.java:doStop(910)) - Stopped o.e.j.s.ServletContextHandler@51ec2df1{/logs,file:///workdir/hadoop-ozone/integration-test/target/log,UNAVAILABLE}
2019-08-29 08:39:14,026 | INFO  | SCMAudit | user=jenkins1000 | ip=192.168.34.54 | op=SEND_HEARTBEAT {datanodeUUID=035eba28-b4d6-4432-8796-18bc80fb1833, command=[]} | ret=SUCCESS |  
2019-08-29 08:39:14,226 | INFO  | SCMAudit | user=jenkins1000 | ip=192.168.34.54 | op=SEND_HEARTBEAT {datanodeUUID=035eba28-b4d6-4432-8796-18bc80fb1833, command=[]} | ret=SUCCESS |  
2019-08-29 08:39:14,427 | INFO  | SCMAudit | user=jenkins1000 | ip=192.168.34.54 | op=SEND_HEARTBEAT {datanodeUUID=035eba28-b4d6-4432-8796-18bc80fb1833, command=[]} | ret=SUCCESS |  
2019-08-29 08:39:14,626 | INFO  | SCMAudit | user=jenkins1000 | ip=192.168.34.54 | op=SEND_HEARTBEAT {datanodeUUID=035eba28-b4d6-4432-8796-18bc80fb1833, command=[]} | ret=SUCCESS |  
2019-08-29 08:39:14,826 | INFO  | SCMAudit | user=jenkins1000 | ip=192.168.34.54 | op=SEND_HEARTBEAT {datanodeUUID=035eba28-b4d6-4432-8796-18bc80fb1833, command=[]} | ret=SUCCESS |  
2019-08-29 08:39:15,027 | INFO  | SCMAudit | user=jenkins1000 | ip=192.168.34.54 | op=SEND_HEARTBEAT {datanodeUUID=035eba28-b4d6-4432-8796-18bc80fb1833, command=[]} | ret=SUCCESS |  
2019-08-29 08:39:15,226 | INFO  | SCMAudit | user=jenkins1000 | ip=192.168.34.54 | op=SEND_HEARTBEAT {datanodeUUID=035eba28-b4d6-4432-8796-18bc80fb1833, command=[]} | ret=SUCCESS |  
2019-08-29 08:39:15,426 | INFO  | SCMAudit | user=jenkins1000 | ip=192.168.34.54 | op=SEND_HEARTBEAT {datanodeUUID=035eba28-b4d6-4432-8796-18bc80fb1833, command=[]} | ret=SUCCESS |  
2019-08-29 08:39:15,627 | INFO  | SCMAudit | user=jenkins1000 | ip=192.168.34.54 | op=SEND_HEARTBEAT {datanodeUUID=035eba28-b4d6-4432-8796-18bc80fb1833, command=[]} | ret=SUCCESS |  
2019-08-29 08:39:15,825 [Thread-236] INFO  impl.FollowerState (FollowerState.java:run(106)) - 035eba28-b4d6-4432-8796-18bc80fb1833:group-507E589DBCA8 changes to CANDIDATE, lastRpcTime:5169, electionTimeout:5169ms
2019-08-29 08:39:15,825 [Thread-236] INFO  impl.RoleInfo (RoleInfo.java:shutdownFollowerState(121)) - 035eba28-b4d6-4432-8796-18bc80fb1833: shutdown FollowerState
2019-08-29 08:39:15,825 [Thread-236] INFO  impl.RaftServerImpl (RaftServerImpl.java:setRole(171)) - 035eba28-b4d6-4432-8796-18bc80fb1833:group-507E589DBCA8 changes role from FOLLOWER to CANDIDATE at term 0 for changeToCandidate
2019-08-29 08:39:15,825 [Thread-236] INFO  impl.RoleInfo (RoleInfo.java:updateAndGet(143)) - 035eba28-b4d6-4432-8796-18bc80fb1833: start LeaderElection
2019-08-29 08:39:15,829 | INFO  | SCMAudit | user=jenkins1000 | ip=192.168.34.54 | op=SEND_HEARTBEAT {datanodeUUID=035eba28-b4d6-4432-8796-18bc80fb1833, command=[]} | ret=SUCCESS |  
2019-08-29 08:39:16,026 | INFO  | SCMAudit | user=jenkins1000 | ip=192.168.34.54 | op=SEND_HEARTBEAT {datanodeUUID=035eba28-b4d6-4432-8796-18bc80fb1833, command=[]} | ret=SUCCESS |  
2019-08-29 08:39:16,177 [main] INFO  ozone.MiniOzoneClusterImpl (MiniOzoneClusterImpl.java:stop(344)) - Shutting the HddsDatanodes
2019-08-29 08:39:16,178 [main] INFO  datanode.ObjectStoreHandler (ObjectStoreHandler.java:close(155)) - Closing ObjectStoreHandler.
2019-08-29 08:39:16,179 [main] INFO  ozone.HddsDatanodeService (HddsDatanodeService.java:stop(451)) - Stopped plug-in org.apache.hadoop.ozone.web.OzoneHddsDatanodeService@54f6b629
2019-08-29 08:39:16,191 [pool-42-thread-1] INFO  storage.RaftStorageDirectory (RaftStorageDirectory.java:tryLock(328)) - Lock on /workdir/hadoop-ozone/integration-test/target/test-dir/MiniOzoneClusterImpl-bffb8a9c-a960-4e2c-a106-63c013a34ce0/datanode-0/data/ratis/c99cb8a3-a2fe-4b1c-9d3a-b838edbf9401/in_use.lock acquired by nodename 2896@pr-hdds-1553-zhl8q-89899572
2019-08-29 08:39:16,224 [Datanode State Machine Thread - 0] INFO  statemachine.DatanodeStateMachine (DatanodeStateMachine.java:lambda$startDaemon$0(350)) - Ozone container server started.
2019-08-29 08:39:16,233 [035eba28-b4d6-4432-8796-18bc80fb1833:group-507E589DBCA8:LeaderElection4] INFO  impl.LeaderElection (LeaderElection.java:askForVotes(181)) - 035eba28-b4d6-4432-8796-18bc80fb1833:group-507E589DBCA8:LeaderElection4: begin an election at term 1 for -1: [035eba28-b4d6-4432-8796-18bc80fb1833:192.168.34.54:35758], old=null
2019-08-29 08:39:16,233 [035eba28-b4d6-4432-8796-18bc80fb1833:group-507E589DBCA8:LeaderElection4] INFO  impl.RoleInfo (RoleInfo.java:shutdownLeaderElection(134)) - 035eba28-b4d6-4432-8796-18bc80fb1833: shutdown LeaderElection
2019-08-29 08:39:16,233 [035eba28-b4d6-4432-8796-18bc80fb1833:group-507E589DBCA8:LeaderElection4] INFO  impl.RaftServerImpl (RaftServerImpl.java:setRole(171)) - 035eba28-b4d6-4432-8796-18bc80fb1833:group-507E589DBCA8 changes role from CANDIDATE to LEADER at term 1 for changeToLeader
2019-08-29 08:39:16,234 [035eba28-b4d6-4432-8796-18bc80fb1833:group-507E589DBCA8:LeaderElection4] INFO  impl.RaftServerImpl (ServerState.java:setLeader(263)) - 035eba28-b4d6-4432-8796-18bc80fb1833:group-507E589DBCA8 change Leader from null to 035eba28-b4d6-4432-8796-18bc80fb1833 at term 1 for becomeLeader, leader elected after 10594ms
2019-08-29 08:39:16,234 [035eba28-b4d6-4432-8796-18bc80fb1833:group-507E589DBCA8:LeaderElection4] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.staging.catchup.gap = 1000 (default)
2019-08-29 08:39:16,234 [pool-42-thread-1] INFO  storage.RaftStorage (RaftStorage.java:format(72)) - Storage directory /workdir/hadoop-ozone/integration-test/target/test-dir/MiniOzoneClusterImpl-bffb8a9c-a960-4e2c-a106-63c013a34ce0/datanode-0/data/ratis/c99cb8a3-a2fe-4b1c-9d3a-b838edbf9401 has been successfully formatted.
2019-08-29 08:39:16,234 [035eba28-b4d6-4432-8796-18bc80fb1833:group-507E589DBCA8:LeaderElection4] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.rpc.sleep.time = 25ms (default)
2019-08-29 08:39:16,234 [035eba28-b4d6-4432-8796-18bc80fb1833:group-507E589DBCA8:LeaderElection4] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.write.element-limit = 4096 (default)
2019-08-29 08:39:16,234 [pool-42-thread-1] INFO  ratis.ContainerStateMachine (ContainerStateMachine.java:loadSnapshot(226)) - group-B838EDBF9401: The snapshot info is null. Setting the last applied indexto:(t:0, i:~)
2019-08-29 08:39:16,235 [035eba28-b4d6-4432-8796-18bc80fb1833:group-507E589DBCA8:LeaderElection4] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.watch.timeout = 10s (default)
2019-08-29 08:39:16,235 [pool-42-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.leader.election.timeout = 120s (custom)
2019-08-29 08:39:16,235 [035eba28-b4d6-4432-8796-18bc80fb1833:group-507E589DBCA8:LeaderElection4] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.watch.timeout.denomination = 1s (default)
2019-08-29 08:39:16,235 [pool-42-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.log.use.memory = false (default)
2019-08-29 08:39:16,235 [035eba28-b4d6-4432-8796-18bc80fb1833:group-507E589DBCA8:LeaderElection4] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.watch.element-limit = 65536 (default)
2019-08-29 08:39:16,235 [pool-42-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.log.purge.gap = 1000000 (custom)
2019-08-29 08:39:16,236 [pool-42-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.log.appender.buffer.byte-limit = 33554432 (custom)
2019-08-29 08:39:16,236 [035eba28-b4d6-4432-8796-18bc80fb1833:group-507E589DBCA8:LeaderElection4] INFO  impl.RoleInfo (RoleInfo.java:updateAndGet(143)) - 035eba28-b4d6-4432-8796-18bc80fb1833: start LeaderState
2019-08-29 08:39:16,236 [pool-42-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.log.segment.size.max = 1048576 (custom)
2019-08-29 08:39:16,236 [pool-42-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.log.segment.cache.num.max = 2 (custom)
2019-08-29 08:39:16,236 [035eba28-b4d6-4432-8796-18bc80fb1833:group-507E589DBCA8:LeaderElection4] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:startLogSegment(380)) - 035eba28-b4d6-4432-8796-18bc80fb1833-SegmentedRaftLogWorker:Storage Directory /workdir/hadoop-ozone/integration-test/target/test-dir/MiniOzoneClusterImpl-bffb8a9c-a960-4e2c-a106-63c013a34ce0/datanode-0/data/ratis/ddd26c75-21fe-4fe7-af84-507e589dbca8: Starting segment from index:0
2019-08-29 08:39:16,236 [pool-42-thread-1] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:<init>(172)) - new 035eba28-b4d6-4432-8796-18bc80fb1833-SegmentedRaftLogWorker:Storage Directory /workdir/hadoop-ozone/integration-test/target/test-dir/MiniOzoneClusterImpl-bffb8a9c-a960-4e2c-a106-63c013a34ce0/datanode-0/data/ratis/c99cb8a3-a2fe-4b1c-9d3a-b838edbf9401 for RaftStorage:Storage Directory /workdir/hadoop-ozone/integration-test/target/test-dir/MiniOzoneClusterImpl-bffb8a9c-a960-4e2c-a106-63c013a34ce0/datanode-0/data/ratis/c99cb8a3-a2fe-4b1c-9d3a-b838edbf9401
2019-08-29 08:39:16,236 [pool-42-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.log.queue.byte-limit = 2147483647 (custom)
2019-08-29 08:39:16,237 [pool-42-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.log.queue.element-limit = 1024 (custom)
2019-08-29 08:39:16,237 [pool-42-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.log.segment.size.max = 1048576 (custom)
2019-08-29 08:39:16,237 [pool-42-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.log.preallocated.size = 16384 (custom)
2019-08-29 08:39:16,237 [pool-42-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.log.write.buffer.size = 33554432 (custom)
2019-08-29 08:39:16,237 [pool-42-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.log.force.sync.num = 128 (default)
2019-08-29 08:39:16,237 [pool-42-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.log.statemachine.data.sync = true (default)
2019-08-29 08:39:16,238 [pool-42-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.log.statemachine.data.sync.timeout = 10s (default)
2019-08-29 08:39:16,238 [pool-42-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.log.statemachine.data.sync.timeout.retry = -1 (default)
2019-08-29 08:39:16,243 [pool-42-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.log.statemachine.data.caching.enabled = true (custom)
2019-08-29 08:39:16,243 [035eba28-b4d6-4432-8796-18bc80fb1833:group-507E589DBCA8:LeaderElection4] INFO  impl.RaftServerImpl (ServerState.java:setRaftConf(361)) - 035eba28-b4d6-4432-8796-18bc80fb1833:group-507E589DBCA8 set configuration 0: [035eba28-b4d6-4432-8796-18bc80fb1833:192.168.34.54:35758], old=null at 0
2019-08-29 08:39:16,273 [pool-42-thread-1] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:lambda$new$0(132)) - 035eba28-b4d6-4432-8796-18bc80fb1833-SegmentedRaftLogWorker:Storage Directory /workdir/hadoop-ozone/integration-test/target/test-dir/MiniOzoneClusterImpl-bffb8a9c-a960-4e2c-a106-63c013a34ce0/datanode-0/data/ratis/c99cb8a3-a2fe-4b1c-9d3a-b838edbf9401: flushIndex: setUnconditionally 0 -> -1
2019-08-29 08:39:16,274 [pool-42-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.snapshot.auto.trigger.enabled = true (custom)
2019-08-29 08:39:16,274 [pool-42-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.snapshot.auto.trigger.threshold = 1 (custom)
2019-08-29 08:39:16,274 [pool-42-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.retrycache.expirytime = 600000ms (custom)
2019-08-29 08:39:16,274 [pool-42-thread-1] INFO  impl.RaftServerImpl (RaftServerImpl.java:start(180)) - 035eba28-b4d6-4432-8796-18bc80fb1833: start group-63FD080437EF
2019-08-29 08:39:16,274 [pool-42-thread-1] INFO  impl.RaftServerImpl (RaftServerImpl.java:setRole(171)) - 035eba28-b4d6-4432-8796-18bc80fb1833:group-63FD080437EF changes role from null to FOLLOWER at term 0 for startAsFollower
2019-08-29 08:39:16,274 [pool-42-thread-1] INFO  impl.RoleInfo (RoleInfo.java:updateAndGet(143)) - 035eba28-b4d6-4432-8796-18bc80fb1833: start FollowerState
2019-08-29 08:39:16,275 [pool-42-thread-1] INFO  util.JmxRegister (JmxRegister.java:tryRegister(44)) - Successfully registered JMX Bean with object name Ratis:service=RaftServer,group=group-63FD080437EF,id=035eba28-b4d6-4432-8796-18bc80fb1833
2019-08-29 08:39:16,278 [pool-42-thread-1] INFO  impl.RaftServerImpl (RaftServerImpl.java:<init>(93)) - 035eba28-b4d6-4432-8796-18bc80fb1833: new RaftServerImpl for group-98C22E8AB3E9:[035eba28-b4d6-4432-8796-18bc80fb1833:192.168.34.54:35758] with ContainerStateMachine:uninitialized
2019-08-29 08:39:16,278 [pool-42-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.rpc.timeout.min = 5s (custom)
2019-08-29 08:39:16,278 [pool-42-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.rpc.timeout.max = 5200ms (custom)
2019-08-29 08:39:16,278 [pool-42-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.rpcslowness.timeout = 120s (custom)
2019-08-29 08:39:16,278 [pool-42-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.sleep.deviation.threshold = 300 (default)
2019-08-29 08:39:16,279 [pool-42-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.log.appender.install.snapshot.enabled = false (custom)
2019-08-29 08:39:16,279 [pool-42-thread-1] INFO  impl.RaftServerImpl (ServerState.java:<init>(105)) - 035eba28-b4d6-4432-8796-18bc80fb1833:group-98C22E8AB3E9 ConfigurationManager, init=-1: [035eba28-b4d6-4432-8796-18bc80fb1833:192.168.34.54:35758], old=null, confs=<EMPTY_MAP>
2019-08-29 08:39:16,279 [pool-42-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.storage.dir = [/workdir/hadoop-ozone/integration-test/target/test-dir/MiniOzoneClusterImpl-bffb8a9c-a960-4e2c-a106-63c013a34ce0/datanode-0/data/ratis] (custom)
2019-08-29 08:39:16,279 [pool-42-thread-1] INFO  storage.RaftStorageDirectory (RaftStorageDirectory.java:analyzeStorage(246)) - The storage directory /workdir/hadoop-ozone/integration-test/target/test-dir/MiniOzoneClusterImpl-bffb8a9c-a960-4e2c-a106-63c013a34ce0/datanode-0/data/ratis/4f047c2f-3a11-4eea-a34f-98c22e8ab3e9 does not exist. Creating ...
2019-08-29 08:39:16,282 [035eba28-b4d6-4432-8796-18bc80fb1833-SegmentedRaftLogWorker:Storage Directory /workdir/hadoop-ozone/integration-test/target/test-dir/MiniOzoneClusterImpl-bffb8a9c-a960-4e2c-a106-63c013a34ce0/datanode-0/data/ratis/ddd26c75-21fe-4fe7-af84-507e589dbca8] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:execute(569)) - 035eba28-b4d6-4432-8796-18bc80fb1833-SegmentedRaftLogWorker:Storage Directory /workdir/hadoop-ozone/integration-test/target/test-dir/MiniOzoneClusterImpl-bffb8a9c-a960-4e2c-a106-63c013a34ce0/datanode-0/data/ratis/ddd26c75-21fe-4fe7-af84-507e589dbca8: created new log segment /workdir/hadoop-ozone/integration-test/target/test-dir/MiniOzoneClusterImpl-bffb8a9c-a960-4e2c-a106-63c013a34ce0/datanode-0/data/ratis/ddd26c75-21fe-4fe7-af84-507e589dbca8/current/log_inprogress_0
2019-08-29 08:39:16,284 [pool-42-thread-1] INFO  storage.RaftStorageDirectory (RaftStorageDirectory.java:tryLock(328)) - Lock on /workdir/hadoop-ozone/integration-test/target/test-dir/MiniOzoneClusterImpl-bffb8a9c-a960-4e2c-a106-63c013a34ce0/datanode-0/data/ratis/4f047c2f-3a11-4eea-a34f-98c22e8ab3e9/in_use.lock acquired by nodename 2896@pr-hdds-1553-zhl8q-89899572
2019-08-29 08:39:16,291 [pool-42-thread-1] INFO  storage.RaftStorage (RaftStorage.java:format(72)) - Storage directory /workdir/hadoop-ozone/integration-test/target/test-dir/MiniOzoneClusterImpl-bffb8a9c-a960-4e2c-a106-63c013a34ce0/datanode-0/data/ratis/4f047c2f-3a11-4eea-a34f-98c22e8ab3e9 has been successfully formatted.
2019-08-29 08:39:16,292 [pool-42-thread-1] INFO  ratis.ContainerStateMachine (ContainerStateMachine.java:loadSnapshot(226)) - group-98C22E8AB3E9: The snapshot info is null. Setting the last applied indexto:(t:0, i:~)
2019-08-29 08:39:16,292 [pool-42-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.leader.election.timeout = 120s (custom)
2019-08-29 08:39:16,292 [pool-42-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.log.use.memory = false (default)
2019-08-29 08:39:16,292 [pool-42-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.log.purge.gap = 1000000 (custom)
2019-08-29 08:39:16,292 [pool-42-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.log.appender.buffer.byte-limit = 33554432 (custom)
2019-08-29 08:39:16,292 [pool-42-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.log.segment.size.max = 1048576 (custom)
2019-08-29 08:39:16,293 [pool-42-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.log.segment.cache.num.max = 2 (custom)
2019-08-29 08:39:16,293 [pool-42-thread-1] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:<init>(172)) - new 035eba28-b4d6-4432-8796-18bc80fb1833-SegmentedRaftLogWorker:Storage Directory /workdir/hadoop-ozone/integration-test/target/test-dir/MiniOzoneClusterImpl-bffb8a9c-a960-4e2c-a106-63c013a34ce0/datanode-0/data/ratis/4f047c2f-3a11-4eea-a34f-98c22e8ab3e9 for RaftStorage:Storage Directory /workdir/hadoop-ozone/integration-test/target/test-dir/MiniOzoneClusterImpl-bffb8a9c-a960-4e2c-a106-63c013a34ce0/datanode-0/data/ratis/4f047c2f-3a11-4eea-a34f-98c22e8ab3e9
2019-08-29 08:39:16,293 [pool-42-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.log.queue.byte-limit = 2147483647 (custom)
2019-08-29 08:39:16,293 [pool-42-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.log.queue.element-limit = 1024 (custom)
2019-08-29 08:39:16,293 [pool-42-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.log.segment.size.max = 1048576 (custom)
2019-08-29 08:39:16,293 [pool-42-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.log.preallocated.size = 16384 (custom)
2019-08-29 08:39:16,293 [pool-42-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.log.write.buffer.size = 33554432 (custom)
2019-08-29 08:39:16,293 [pool-42-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.log.force.sync.num = 128 (default)
2019-08-29 08:39:16,294 [pool-42-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.log.statemachine.data.sync = true (default)
2019-08-29 08:39:16,294 [pool-42-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.log.statemachine.data.sync.timeout = 10s (default)
2019-08-29 08:39:16,294 [pool-42-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.log.statemachine.data.sync.timeout.retry = -1 (default)
2019-08-29 08:39:16,294 [pool-42-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.log.statemachine.data.caching.enabled = true (custom)
2019-08-29 08:39:16,294 [pool-42-thread-1] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:lambda$new$0(132)) - 035eba28-b4d6-4432-8796-18bc80fb1833-SegmentedRaftLogWorker:Storage Directory /workdir/hadoop-ozone/integration-test/target/test-dir/MiniOzoneClusterImpl-bffb8a9c-a960-4e2c-a106-63c013a34ce0/datanode-0/data/ratis/4f047c2f-3a11-4eea-a34f-98c22e8ab3e9: flushIndex: setUnconditionally 0 -> -1
2019-08-29 08:39:17,104 [pool-42-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.snapshot.auto.trigger.enabled = true (custom)
2019-08-29 08:39:17,104 [pool-42-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.snapshot.auto.trigger.threshold = 1 (custom)
2019-08-29 08:39:17,105 [pool-42-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.retrycache.expirytime = 600000ms (custom)
2019-08-29 08:39:17,105 [pool-42-thread-1] INFO  impl.RaftServerImpl (RaftServerImpl.java:start(180)) - 035eba28-b4d6-4432-8796-18bc80fb1833: start group-B838EDBF9401
2019-08-29 08:39:17,105 [pool-42-thread-1] INFO  impl.RaftServerImpl (RaftServerImpl.java:setRole(171)) - 035eba28-b4d6-4432-8796-18bc80fb1833:group-B838EDBF9401 changes role from null to FOLLOWER at term 0 for startAsFollower
2019-08-29 08:39:17,105 [pool-42-thread-1] INFO  impl.RoleInfo (RoleInfo.java:updateAndGet(143)) - 035eba28-b4d6-4432-8796-18bc80fb1833: start FollowerState
2019-08-29 08:39:17,106 [pool-42-thread-1] INFO  util.JmxRegister (JmxRegister.java:tryRegister(44)) - Successfully registered JMX Bean with object name Ratis:service=RaftServer,group=group-B838EDBF9401,id=035eba28-b4d6-4432-8796-18bc80fb1833
2019-08-29 08:39:17,106 [pool-42-thread-1] INFO  impl.RaftServerImpl (RaftServerImpl.java:start(180)) - 035eba28-b4d6-4432-8796-18bc80fb1833: start group-98C22E8AB3E9
2019-08-29 08:39:17,106 [pool-42-thread-1] INFO  impl.RaftServerImpl (RaftServerImpl.java:setRole(171)) - 035eba28-b4d6-4432-8796-18bc80fb1833:group-98C22E8AB3E9 changes role from null to FOLLOWER at term 0 for startAsFollower
2019-08-29 08:39:17,106 [pool-42-thread-1] INFO  impl.RoleInfo (RoleInfo.java:updateAndGet(143)) - 035eba28-b4d6-4432-8796-18bc80fb1833: start FollowerState
2019-08-29 08:39:17,107 [pool-42-thread-1] INFO  util.JmxRegister (JmxRegister.java:tryRegister(44)) - Successfully registered JMX Bean with object name Ratis:service=RaftServer,group=group-98C22E8AB3E9,id=035eba28-b4d6-4432-8796-18bc80fb1833
2019-08-29 08:39:19,094 [EventQueue-StaleNodeForStaleNodeHandler] INFO  node.StaleNodeHandler (StaleNodeHandler.java:onMessage(58)) - Datanode 035eba28-b4d6-4432-8796-18bc80fb1833{ip: 192.168.34.54, host: pr-hdds-1553-zhl8q-89899572, networkLocation: /default-rack, certSerialId: null} moved to stale state. Finalizing its pipelines []
2019-08-29 08:39:21,180 [main] INFO  ozoneimpl.OzoneContainer (OzoneContainer.java:stop(199)) - Attempting to stop container services.
2019-08-29 08:39:21,181 [main] INFO  impl.RaftServerProxy (RaftServerProxy.java:lambda$close$4(314)) - 035eba28-b4d6-4432-8796-18bc80fb1833: close
2019-08-29 08:39:21,181 [main] INFO  impl.RaftServerImpl (RaftServerImpl.java:lambda$shutdown$3(245)) - 035eba28-b4d6-4432-8796-18bc80fb1833: shutdown group-507E589DBCA8
2019-08-29 08:39:21,182 [ForkJoinPool.commonPool-worker-0] INFO  impl.RaftServerImpl (RaftServerImpl.java:lambda$shutdown$3(245)) - 035eba28-b4d6-4432-8796-18bc80fb1833: shutdown group-98C22E8AB3E9
2019-08-29 08:39:21,182 [main] INFO  util.JmxRegister (JmxRegister.java:unregister(73)) - Successfully un-registered JMX Bean with object name Ratis:service=RaftServer,group=group-507E589DBCA8,id=035eba28-b4d6-4432-8796-18bc80fb1833
2019-08-29 08:39:21,182 [ForkJoinPool.commonPool-worker-0] INFO  util.JmxRegister (JmxRegister.java:unregister(73)) - Successfully un-registered JMX Bean with object name Ratis:service=RaftServer,group=group-98C22E8AB3E9,id=035eba28-b4d6-4432-8796-18bc80fb1833
2019-08-29 08:39:21,182 [main] INFO  impl.RoleInfo (RoleInfo.java:shutdownLeaderState(104)) - 035eba28-b4d6-4432-8796-18bc80fb1833: shutdown LeaderState
2019-08-29 08:39:21,182 [ForkJoinPool.commonPool-worker-0] INFO  impl.RoleInfo (RoleInfo.java:shutdownFollowerState(121)) - 035eba28-b4d6-4432-8796-18bc80fb1833: shutdown FollowerState
2019-08-29 08:39:21,183 [main] INFO  impl.PendingRequests (PendingRequests.java:sendNotLeaderResponses(202)) - 035eba28-b4d6-4432-8796-18bc80fb1833-PendingRequests: sendNotLeaderResponses
2019-08-29 08:39:21,184 [Thread-246] INFO  impl.FollowerState (FollowerState.java:run(114)) - 035eba28-b4d6-4432-8796-18bc80fb1833: FollowerState was interrupted: java.lang.InterruptedException: sleep interrupted
2019-08-29 08:39:21,183 [ForkJoinPool.commonPool-worker-0] INFO  impl.StateMachineUpdater (StateMachineUpdater.java:stopAndJoin(115)) - StateMachineUpdater:035eba28-b4d6-4432-8796-18bc80fb1833:group-98C22E8AB3E9: set stopIndex = -1
2019-08-29 08:39:21,184 [main] INFO  impl.StateMachineUpdater (StateMachineUpdater.java:stopAndJoin(115)) - StateMachineUpdater:035eba28-b4d6-4432-8796-18bc80fb1833:group-507E589DBCA8: set stopIndex = 0
2019-08-29 08:39:21,185 [ForkJoinPool.commonPool-worker-0] INFO  impl.RaftServerImpl (ServerState.java:close(394)) - 035eba28-b4d6-4432-8796-18bc80fb1833:group-98C22E8AB3E9 closes. The last applied log index is -1
2019-08-29 08:39:21,186 [main] INFO  impl.RaftServerImpl (ServerState.java:close(394)) - 035eba28-b4d6-4432-8796-18bc80fb1833:group-507E589DBCA8 closes. The last applied log index is 0
2019-08-29 08:39:21,186 [035eba28-b4d6-4432-8796-18bc80fb1833-SegmentedRaftLogWorker:Storage Directory /workdir/hadoop-ozone/integration-test/target/test-dir/MiniOzoneClusterImpl-bffb8a9c-a960-4e2c-a106-63c013a34ce0/datanode-0/data/ratis/4f047c2f-3a11-4eea-a34f-98c22e8ab3e9] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:run(313)) - 035eba28-b4d6-4432-8796-18bc80fb1833-SegmentedRaftLogWorker:Storage Directory /workdir/hadoop-ozone/integration-test/target/test-dir/MiniOzoneClusterImpl-bffb8a9c-a960-4e2c-a106-63c013a34ce0/datanode-0/data/ratis/4f047c2f-3a11-4eea-a34f-98c22e8ab3e9 was interrupted, exiting. There are 0 tasks remaining in the queue.
2019-08-29 08:39:21,186 [035eba28-b4d6-4432-8796-18bc80fb1833-SegmentedRaftLogWorker:Storage Directory /workdir/hadoop-ozone/integration-test/target/test-dir/MiniOzoneClusterImpl-bffb8a9c-a960-4e2c-a106-63c013a34ce0/datanode-0/data/ratis/ddd26c75-21fe-4fe7-af84-507e589dbca8] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:run(313)) - 035eba28-b4d6-4432-8796-18bc80fb1833-SegmentedRaftLogWorker:Storage Directory /workdir/hadoop-ozone/integration-test/target/test-dir/MiniOzoneClusterImpl-bffb8a9c-a960-4e2c-a106-63c013a34ce0/datanode-0/data/ratis/ddd26c75-21fe-4fe7-af84-507e589dbca8 was interrupted, exiting. There are 0 tasks remaining in the queue.
2019-08-29 08:39:21,186 [ForkJoinPool.commonPool-worker-0] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:close(228)) - 035eba28-b4d6-4432-8796-18bc80fb1833-SegmentedRaftLogWorker:Storage Directory /workdir/hadoop-ozone/integration-test/target/test-dir/MiniOzoneClusterImpl-bffb8a9c-a960-4e2c-a106-63c013a34ce0/datanode-0/data/ratis/4f047c2f-3a11-4eea-a34f-98c22e8ab3e9 close()
2019-08-29 08:39:21,187 [main] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:close(228)) - 035eba28-b4d6-4432-8796-18bc80fb1833-SegmentedRaftLogWorker:Storage Directory /workdir/hadoop-ozone/integration-test/target/test-dir/MiniOzoneClusterImpl-bffb8a9c-a960-4e2c-a106-63c013a34ce0/datanode-0/data/ratis/ddd26c75-21fe-4fe7-af84-507e589dbca8 close()
2019-08-29 08:39:21,190 [main] INFO  impl.RaftServerImpl (RaftServerImpl.java:lambda$shutdown$3(245)) - 035eba28-b4d6-4432-8796-18bc80fb1833: shutdown group-B838EDBF9401
2019-08-29 08:39:21,190 [main] INFO  util.JmxRegister (JmxRegister.java:unregister(73)) - Successfully un-registered JMX Bean with object name Ratis:service=RaftServer,group=group-B838EDBF9401,id=035eba28-b4d6-4432-8796-18bc80fb1833
2019-08-29 08:39:21,191 [main] INFO  impl.RoleInfo (RoleInfo.java:shutdownFollowerState(121)) - 035eba28-b4d6-4432-8796-18bc80fb1833: shutdown FollowerState
2019-08-29 08:39:21,191 [main] INFO  impl.StateMachineUpdater (StateMachineUpdater.java:stopAndJoin(115)) - StateMachineUpdater:035eba28-b4d6-4432-8796-18bc80fb1833:group-B838EDBF9401: set stopIndex = -1
2019-08-29 08:39:21,191 [Thread-244] INFO  impl.FollowerState (FollowerState.java:run(114)) - 035eba28-b4d6-4432-8796-18bc80fb1833: FollowerState was interrupted: java.lang.InterruptedException: sleep interrupted
2019-08-29 08:39:21,192 [main] INFO  impl.RaftServerImpl (ServerState.java:close(394)) - 035eba28-b4d6-4432-8796-18bc80fb1833:group-B838EDBF9401 closes. The last applied log index is -1
2019-08-29 08:39:21,193 [035eba28-b4d6-4432-8796-18bc80fb1833-SegmentedRaftLogWorker:Storage Directory /workdir/hadoop-ozone/integration-test/target/test-dir/MiniOzoneClusterImpl-bffb8a9c-a960-4e2c-a106-63c013a34ce0/datanode-0/data/ratis/c99cb8a3-a2fe-4b1c-9d3a-b838edbf9401] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:run(313)) - 035eba28-b4d6-4432-8796-18bc80fb1833-SegmentedRaftLogWorker:Storage Directory /workdir/hadoop-ozone/integration-test/target/test-dir/MiniOzoneClusterImpl-bffb8a9c-a960-4e2c-a106-63c013a34ce0/datanode-0/data/ratis/c99cb8a3-a2fe-4b1c-9d3a-b838edbf9401 was interrupted, exiting. There are 0 tasks remaining in the queue.
2019-08-29 08:39:21,193 [main] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:close(228)) - 035eba28-b4d6-4432-8796-18bc80fb1833-SegmentedRaftLogWorker:Storage Directory /workdir/hadoop-ozone/integration-test/target/test-dir/MiniOzoneClusterImpl-bffb8a9c-a960-4e2c-a106-63c013a34ce0/datanode-0/data/ratis/c99cb8a3-a2fe-4b1c-9d3a-b838edbf9401 close()
2019-08-29 08:39:21,195 [main] INFO  impl.RaftServerImpl (RaftServerImpl.java:lambda$shutdown$3(245)) - 035eba28-b4d6-4432-8796-18bc80fb1833: shutdown group-63FD080437EF
2019-08-29 08:39:21,195 [main] INFO  util.JmxRegister (JmxRegister.java:unregister(73)) - Successfully un-registered JMX Bean with object name Ratis:service=RaftServer,group=group-63FD080437EF,id=035eba28-b4d6-4432-8796-18bc80fb1833
2019-08-29 08:39:21,196 [main] INFO  impl.RoleInfo (RoleInfo.java:shutdownFollowerState(121)) - 035eba28-b4d6-4432-8796-18bc80fb1833: shutdown FollowerState
2019-08-29 08:39:21,196 [main] INFO  impl.StateMachineUpdater (StateMachineUpdater.java:stopAndJoin(115)) - StateMachineUpdater:035eba28-b4d6-4432-8796-18bc80fb1833:group-63FD080437EF: set stopIndex = -1
2019-08-29 08:39:21,196 [Thread-241] INFO  impl.FollowerState (FollowerState.java:run(114)) - 035eba28-b4d6-4432-8796-18bc80fb1833: FollowerState was interrupted: java.lang.InterruptedException: sleep interrupted
2019-08-29 08:39:21,197 [main] INFO  impl.RaftServerImpl (ServerState.java:close(394)) - 035eba28-b4d6-4432-8796-18bc80fb1833:group-63FD080437EF closes. The last applied log index is -1
2019-08-29 08:39:21,199 [035eba28-b4d6-4432-8796-18bc80fb1833-SegmentedRaftLogWorker:Storage Directory /workdir/hadoop-ozone/integration-test/target/test-dir/MiniOzoneClusterImpl-bffb8a9c-a960-4e2c-a106-63c013a34ce0/datanode-0/data/ratis/cd0ef16f-ac0d-43ea-a152-63fd080437ef] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:run(313)) - 035eba28-b4d6-4432-8796-18bc80fb1833-SegmentedRaftLogWorker:Storage Directory /workdir/hadoop-ozone/integration-test/target/test-dir/MiniOzoneClusterImpl-bffb8a9c-a960-4e2c-a106-63c013a34ce0/datanode-0/data/ratis/cd0ef16f-ac0d-43ea-a152-63fd080437ef was interrupted, exiting. There are 0 tasks remaining in the queue.
2019-08-29 08:39:21,199 [main] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:close(228)) - 035eba28-b4d6-4432-8796-18bc80fb1833-SegmentedRaftLogWorker:Storage Directory /workdir/hadoop-ozone/integration-test/target/test-dir/MiniOzoneClusterImpl-bffb8a9c-a960-4e2c-a106-63c013a34ce0/datanode-0/data/ratis/cd0ef16f-ac0d-43ea-a152-63fd080437ef close()
2019-08-29 08:39:21,200 [main] INFO  server.GrpcService (GrpcService.java:closeImpl(155)) - 035eba28-b4d6-4432-8796-18bc80fb1833: shutdown server with port 35758 now
2019-08-29 08:39:21,201 [main] INFO  server.GrpcService (GrpcService.java:closeImpl(163)) - 035eba28-b4d6-4432-8796-18bc80fb1833: shutdown server with port 35758 successfully
2019-08-29 08:39:21,207 [main] INFO  utils.BackgroundService (BackgroundService.java:shutdown(148)) - Shutting down service BlockDeletingService
2019-08-29 08:39:21,208 [refreshUsed-/workdir/hadoop-ozone/integration-test/target/test-dir/MiniOzoneClusterImpl-bffb8a9c-a960-4e2c-a106-63c013a34ce0/datanode-0/data/containers] WARN  fs.CachingGetSpaceUsed (CachingGetSpaceUsed.java:run(183)) - Thread Interrupted waiting to refresh disk information: sleep interrupted
2019-08-29 08:39:21,228 [main] INFO  statemachine.DatanodeStateMachine (DatanodeStateMachine.java:stopDaemon(395)) - Ozone container server stopped.
2019-08-29 08:39:21,231 [main] INFO  handler.ContextHandler (ContextHandler.java:doStop(910)) - Stopped o.e.j.w.WebAppContext@2ca3d826{/,null,UNAVAILABLE}{/hddsDatanode}
2019-08-29 08:39:21,232 [main] INFO  server.AbstractConnector (AbstractConnector.java:doStop(318)) - Stopped ServerConnector@5d194314{HTTP/1.1,[http/1.1]}{0.0.0.0:37142}
2019-08-29 08:39:21,232 [main] INFO  handler.ContextHandler (ContextHandler.java:doStop(910)) - Stopped o.e.j.s.ServletContextHandler@3e5beab5{/static,jar:file:/home/user/.m2/repository/org/apache/hadoop/hadoop-hdds-container-service/0.5.0-SNAPSHOT/hadoop-hdds-container-service-0.5.0-SNAPSHOT.jar!/webapps/static,UNAVAILABLE}
2019-08-29 08:39:21,232 [main] INFO  handler.ContextHandler (ContextHandler.java:doStop(910)) - Stopped o.e.j.s.ServletContextHandler@372f0a99{/logs,file:///workdir/hadoop-ozone/integration-test/target/log,UNAVAILABLE}
2019-08-29 08:39:21,234 [main] INFO  ozone.MiniOzoneClusterImpl (MiniOzoneClusterImpl.java:stop(353)) - Stopping the StorageContainerManager
2019-08-29 08:39:21,234 [main] INFO  server.StorageContainerManager (StorageContainerManager.java:stop(799)) - Stopping Replication Manager Service.
2019-08-29 08:39:21,234 [main] INFO  container.ReplicationManager (ReplicationManager.java:stop(193)) - Stopping Replication Monitor Thread.
2019-08-29 08:39:21,234 [main] INFO  server.StorageContainerManager (StorageContainerManager.java:stop(806)) - Stopping Lease Manager of the command watchers
2019-08-29 08:39:21,234 [main] INFO  server.StorageContainerManager (StorageContainerManager.java:stop(813)) - Stopping datanode service RPC server
2019-08-29 08:39:21,234 [main] INFO  server.SCMDatanodeProtocolServer (SCMDatanodeProtocolServer.java:stop(367)) - Stopping the RPC server for DataNodes
2019-08-29 08:39:21,235 [main] INFO  ipc.Server (Server.java:stop(3082)) - Stopping server on 45152
2019-08-29 08:39:21,235 [IPC Server listener on 45152] INFO  ipc.Server (Server.java:run(1185)) - Stopping IPC Server listener on 45152
2019-08-29 08:39:21,236 [IPC Server Responder] INFO  ipc.Server (Server.java:run(1319)) - Stopping IPC Server Responder
2019-08-29 08:39:21,298 [SCM Heartbeat Processing Thread - 0] WARN  node.NodeStateManager (NodeStateManager.java:scheduleNextHealthCheck(646)) - Current Thread is interrupted, shutting down HB processing thread for Node Manager.
2019-08-29 08:39:21,298 [main] INFO  server.StorageContainerManager (StorageContainerManager.java:stop(821)) - Stopping block service RPC server
2019-08-29 08:39:21,299 [main] INFO  server.SCMBlockProtocolServer (SCMBlockProtocolServer.java:stop(148)) - Stopping the RPC server for Block Protocol
2019-08-29 08:39:21,299 [main] INFO  ipc.Server (Server.java:stop(3082)) - Stopping server on 33169
2019-08-29 08:39:21,300 [IPC Server listener on 33169] INFO  ipc.Server (Server.java:run(1185)) - Stopping IPC Server listener on 33169
2019-08-29 08:39:21,300 [IPC Server Responder] INFO  ipc.Server (Server.java:run(1319)) - Stopping IPC Server Responder
2019-08-29 08:39:21,300 [main] INFO  server.StorageContainerManager (StorageContainerManager.java:stop(828)) - Stopping the StorageContainerLocationProtocol RPC server
2019-08-29 08:39:21,301 [main] INFO  server.SCMClientProtocolServer (SCMClientProtocolServer.java:stop(159)) - Stopping the RPC server for Client Protocol
2019-08-29 08:39:21,301 [main] INFO  ipc.Server (Server.java:stop(3082)) - Stopping server on 45508
2019-08-29 08:39:21,303 [IPC Server listener on 45508] INFO  ipc.Server (Server.java:run(1185)) - Stopping IPC Server listener on 45508
2019-08-29 08:39:21,303 [main] INFO  server.StorageContainerManager (StorageContainerManager.java:stop(835)) - Stopping Storage Container Manager HTTP server.
2019-08-29 08:39:21,303 [IPC Server Responder] INFO  ipc.Server (Server.java:run(1319)) - Stopping IPC Server Responder
2019-08-29 08:39:21,304 [main] INFO  handler.ContextHandler (ContextHandler.java:doStop(910)) - Stopped o.e.j.w.WebAppContext@21a5fd96{/,null,UNAVAILABLE}{/scm}
2019-08-29 08:39:21,304 [main] INFO  server.AbstractConnector (AbstractConnector.java:doStop(318)) - Stopped ServerConnector@327120c8{HTTP/1.1,[http/1.1]}{0.0.0.0:0}
2019-08-29 08:39:21,305 [main] INFO  handler.ContextHandler (ContextHandler.java:doStop(910)) - Stopped o.e.j.s.ServletContextHandler@2374d36a{/static,file:///workdir/hadoop-ozone/integration-test/target/test-classes/webapps/static,UNAVAILABLE}
2019-08-29 08:39:21,305 [main] INFO  handler.ContextHandler (ContextHandler.java:doStop(910)) - Stopped o.e.j.s.ServletContextHandler@74a6a609{/logs,file:///workdir/hadoop-ozone/integration-test/target/log,UNAVAILABLE}
2019-08-29 08:39:21,306 [main] INFO  server.StorageContainerManager (StorageContainerManager.java:stop(846)) - Stopping Block Manager Service.
2019-08-29 08:39:21,306 [main] INFO  utils.BackgroundService (BackgroundService.java:shutdown(148)) - Shutting down service SCMBlockDeletingService
2019-08-29 08:39:21,306 [main] INFO  utils.BackgroundService (BackgroundService.java:shutdown(148)) - Shutting down service SCMBlockDeletingService
2019-08-29 08:39:21,306 [main] INFO  server.StorageContainerManager (StorageContainerManager.java:stop(868)) - Stopping SCM Event Queue.
2019-08-29 08:39:21,341 [main] INFO  impl.MetricsSystemImpl (MetricsSystemImpl.java:stop(210)) - Stopping HddsDatanode metrics system...
2019-08-29 08:39:21,345 [main] INFO  impl.MetricsSystemImpl (MetricsSystemImpl.java:stop(216)) - HddsDatanode metrics system stopped.
