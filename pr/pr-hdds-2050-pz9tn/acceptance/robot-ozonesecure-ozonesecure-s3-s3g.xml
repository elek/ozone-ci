<?xml version="1.0" encoding="UTF-8"?>
<robot rpa="false" generated="20190830 01:11:39.730" generator="Robot 3.1.2 (Python 2.7.5 on linux2)">
<suite source="/opt/hadoop/smoketest/s3" id="s1" name="ozonesecure-s3">
<suite source="/opt/hadoop/smoketest/s3/awss3.robot" id="s1-s1" name="Awss3">
<kw type="setup" name="Setup s3 tests" library="commonawslib">
<kw name="Run Keyword" library="BuiltIn">
<doc>Executes the given keyword with the given arguments.</doc>
<arguments>
<arg>Install aws cli</arg>
</arguments>
<kw name="Install aws cli" library="commonlib">
<kw name="Run And Return Rc And Output" library="OperatingSystem">
<doc>Runs the given command in the system and returns the RC and output.</doc>
<arguments>
<arg>which apt-get</arg>
</arguments>
<assign>
<var>${rc}</var>
<var>${output}</var>
</assign>
<msg timestamp="20190830 01:11:39.799" level="INFO">Running command 'which apt-get 2&gt;&amp;1'.</msg>
<msg timestamp="20190830 01:11:39.806" level="INFO">${rc} = 1</msg>
<msg timestamp="20190830 01:11:39.806" level="INFO">${output} = which: no apt-get in (/opt/hadoop/bin/docker:/usr/local/sbin:/usr/local/bin:/usr/sbin:/usr/bin:/sbin:/bin:/opt/hadoop/bin)</msg>
<status status="PASS" endtime="20190830 01:11:39.806" starttime="20190830 01:11:39.797"></status>
</kw>
<kw name="Run Keyword If" library="BuiltIn">
<doc>Runs the given keyword with the given arguments, if ``condition`` is true.</doc>
<arguments>
<arg>'${rc}' == '0'</arg>
<arg>Install aws cli s3 debian</arg>
</arguments>
<status status="PASS" endtime="20190830 01:11:39.808" starttime="20190830 01:11:39.807"></status>
</kw>
<kw name="Run And Return Rc And Output" library="OperatingSystem">
<doc>Runs the given command in the system and returns the RC and output.</doc>
<arguments>
<arg>yum --help</arg>
</arguments>
<assign>
<var>${rc}</var>
<var>${output}</var>
</assign>
<msg timestamp="20190830 01:11:39.811" level="INFO">Running command 'yum --help 2&gt;&amp;1'.</msg>
<msg timestamp="20190830 01:11:39.974" level="INFO">${rc} = 0</msg>
<msg timestamp="20190830 01:11:39.974" level="INFO">${output} = Loaded plugins: fastestmirror, ovl
ovl: Error while doing RPMdb copy-up:
[Errno 13] Permission denied: '/var/lib/rpm/Group'
Usage: yum [options] COMMAND

List of Commands:

check          Check for pr...</msg>
<status status="PASS" endtime="20190830 01:11:39.974" starttime="20190830 01:11:39.809"></status>
</kw>
<kw name="Run Keyword If" library="BuiltIn">
<doc>Runs the given keyword with the given arguments, if ``condition`` is true.</doc>
<arguments>
<arg>'${rc}' == '0'</arg>
<arg>Install aws cli s3 centos</arg>
</arguments>
<kw name="Install aws cli s3 centos" library="commonawslib">
<kw name="Execute" library="commonlib">
<arguments>
<arg>sudo yum install -y awscli</arg>
</arguments>
<kw name="Run And Return Rc And Output" library="OperatingSystem">
<doc>Runs the given command in the system and returns the RC and output.</doc>
<arguments>
<arg>${command}</arg>
</arguments>
<assign>
<var>${rc}</var>
<var>${output}</var>
</assign>
<msg timestamp="20190830 01:11:39.980" level="INFO">Running command 'sudo yum install -y awscli 2&gt;&amp;1'.</msg>
<msg timestamp="20190830 01:12:07.579" level="INFO">${rc} = 0</msg>
<msg timestamp="20190830 01:12:07.579" level="INFO">${output} = Loaded plugins: fastestmirror, ovl
Determining fastest mirrors
 * base: mirror.sjc02.svwh.net
 * epel: sjc.edge.kernel.org
 * extras: sjc.edge.kernel.org
 * updates: sjc.edge.kernel.org
Resolving Depe...</msg>
<status status="PASS" endtime="20190830 01:12:07.580" starttime="20190830 01:11:39.978"></status>
</kw>
<kw name="Log" library="BuiltIn">
<doc>Logs the given message with the given level.</doc>
<arguments>
<arg>${output}</arg>
</arguments>
<msg timestamp="20190830 01:12:07.581" level="INFO">Loaded plugins: fastestmirror, ovl
Determining fastest mirrors
 * base: mirror.sjc02.svwh.net
 * epel: sjc.edge.kernel.org
 * extras: sjc.edge.kernel.org
 * updates: sjc.edge.kernel.org
Resolving Dependencies
--&gt; Running transaction check
---&gt; Package awscli.noarch 0:1.14.28-5.el7_5.1 will be installed
--&gt; Processing Dependency: python-s3transfer &gt;= 0.1.9 for package: awscli-1.14.28-5.el7_5.1.noarch
--&gt; Processing Dependency: python-docutils &gt;= 0.10 for package: awscli-1.14.28-5.el7_5.1.noarch
--&gt; Processing Dependency: python-cryptography &gt;= 1.7.2 for package: awscli-1.14.28-5.el7_5.1.noarch
--&gt; Processing Dependency: PyYAML &gt;= 3.10 for package: awscli-1.14.28-5.el7_5.1.noarch
--&gt; Running transaction check
---&gt; Package PyYAML.x86_64 0:3.10-11.el7 will be installed
--&gt; Processing Dependency: libyaml-0.so.2()(64bit) for package: PyYAML-3.10-11.el7.x86_64
---&gt; Package python-docutils.noarch 0:0.11-0.3.20130715svn7687.el7 will be installed
--&gt; Processing Dependency: python-imaging for package: python-docutils-0.11-0.3.20130715svn7687.el7.noarch
---&gt; Package python-s3transfer.noarch 0:0.1.13-1.el7.0.1 will be installed
--&gt; Processing Dependency: python-dateutil &gt;= 1.4 for package: python-s3transfer-0.1.13-1.el7.0.1.noarch
---&gt; Package python2-cryptography.x86_64 0:1.7.2-2.el7 will be installed
--&gt; Processing Dependency: python-six &gt;= 1.4.1 for package: python2-cryptography-1.7.2-2.el7.x86_64
--&gt; Processing Dependency: python-pyasn1 &gt;= 0.1.8 for package: python2-cryptography-1.7.2-2.el7.x86_64
--&gt; Processing Dependency: python-idna &gt;= 2.0 for package: python2-cryptography-1.7.2-2.el7.x86_64
--&gt; Processing Dependency: python-cffi &gt;= 1.4.1 for package: python2-cryptography-1.7.2-2.el7.x86_64
--&gt; Processing Dependency: python-enum34 for package: python2-cryptography-1.7.2-2.el7.x86_64
--&gt; Processing Dependency: openssl for package: python2-cryptography-1.7.2-2.el7.x86_64
--&gt; Running transaction check
---&gt; Package libyaml.x86_64 0:0.1.4-11.el7_0 will be installed
---&gt; Package openssl.x86_64 1:1.0.2k-16.el7_6.1 will be installed
--&gt; Processing Dependency: openssl-libs(x86-64) = 1:1.0.2k-16.el7_6.1 for package: 1:openssl-1.0.2k-16.el7_6.1.x86_64
--&gt; Processing Dependency: make for package: 1:openssl-1.0.2k-16.el7_6.1.x86_64
---&gt; Package python-cffi.x86_64 0:1.6.0-5.el7 will be installed
--&gt; Processing Dependency: python-pycparser for package: python-cffi-1.6.0-5.el7.x86_64
---&gt; Package python-dateutil.noarch 0:1.5-7.el7 will be installed
---&gt; Package python-enum34.noarch 0:1.0.4-1.el7 will be installed
---&gt; Package python-idna.noarch 0:2.4-1.el7 will be installed
---&gt; Package python-pillow.x86_64 0:2.0.0-19.gitd1c6db8.el7 will be installed
--&gt; Processing Dependency: libtiff.so.5(LIBTIFF_4.0)(64bit) for package: python-pillow-2.0.0-19.gitd1c6db8.el7.x86_64
--&gt; Processing Dependency: libwebp.so.4()(64bit) for package: python-pillow-2.0.0-19.gitd1c6db8.el7.x86_64
--&gt; Processing Dependency: libtiff.so.5()(64bit) for package: python-pillow-2.0.0-19.gitd1c6db8.el7.x86_64
---&gt; Package python-six.noarch 0:1.9.0-2.el7 will be installed
---&gt; Package python2-pyasn1.noarch 0:0.1.9-7.el7 will be installed
--&gt; Running transaction check
---&gt; Package libtiff.x86_64 0:4.0.3-27.el7_3 will be installed
--&gt; Processing Dependency: libjbig.so.2.0()(64bit) for package: libtiff-4.0.3-27.el7_3.x86_64
---&gt; Package libwebp.x86_64 0:0.3.0-7.el7 will be installed
---&gt; Package make.x86_64 1:3.82-23.el7 will be installed
---&gt; Package openssl-libs.x86_64 1:1.0.2k-16.el7 will be updated
---&gt; Package openssl-libs.x86_64 1:1.0.2k-16.el7_6.1 will be an update
---&gt; Package python-pycparser.noarch 0:2.14-1.el7 will be installed
--&gt; Processing Dependency: python-ply for package: python-pycparser-2.14-1.el7.noarch
--&gt; Running transaction check
---&gt; Package jbigkit-libs.x86_64 0:2.0-11.el7 will be installed
---&gt; Package python-ply.noarch 0:3.4-11.el7 will be installed
--&gt; Finished Dependency Resolution

Dependencies Resolved

================================================================================
 Package                Arch     Version                        Repository
                                                                           Size
================================================================================
Installing:
 awscli                 noarch   1.14.28-5.el7_5.1              base      1.0 M
Installing for dependencies:
 PyYAML                 x86_64   3.10-11.el7                    base      153 k
 jbigkit-libs           x86_64   2.0-11.el7                     base       46 k
 libtiff                x86_64   4.0.3-27.el7_3                 base      170 k
 libwebp                x86_64   0.3.0-7.el7                    base      170 k
 libyaml                x86_64   0.1.4-11.el7_0                 base       55 k
 make                   x86_64   1:3.82-23.el7                  base      420 k
 openssl                x86_64   1:1.0.2k-16.el7_6.1            updates   493 k
 python-cffi            x86_64   1.6.0-5.el7                    base      218 k
 python-dateutil        noarch   1.5-7.el7                      base       85 k
 python-docutils        noarch   0.11-0.3.20130715svn7687.el7   base      1.5 M
 python-enum34          noarch   1.0.4-1.el7                    base       52 k
 python-idna            noarch   2.4-1.el7                      base       94 k
 python-pillow          x86_64   2.0.0-19.gitd1c6db8.el7        base      438 k
 python-ply             noarch   3.4-11.el7                     base      123 k
 python-pycparser       noarch   2.14-1.el7                     base      104 k
 python-s3transfer      noarch   0.1.13-1.el7.0.1               updates   2.9 M
 python-six             noarch   1.9.0-2.el7                    base       29 k
 python2-cryptography   x86_64   1.7.2-2.el7                    base      502 k
 python2-pyasn1         noarch   0.1.9-7.el7                    base      100 k
Updating for dependencies:
 openssl-libs           x86_64   1:1.0.2k-16.el7_6.1            updates   1.2 M

Transaction Summary
================================================================================
Install  1 Package  (+19 Dependent packages)
Upgrade             (  1 Dependent package)

Total download size: 9.9 M
Downloading packages:
Delta RPMs disabled because /usr/bin/applydeltarpm not installed.
--------------------------------------------------------------------------------
Total                                               34 MB/s | 9.9 MB  00:00     
Running transaction check
Running transaction test
Transaction test succeeded
Running transaction
  Updating   : 1:openssl-libs-1.0.2k-16.el7_6.1.x86_64                     1/22 
  Installing : python2-pyasn1-0.1.9-7.el7.noarch                           2/22 
  Installing : libyaml-0.1.4-11.el7_0.x86_64                               3/22 
  Installing : PyYAML-3.10-11.el7.x86_64                                   4/22 
  Installing : jbigkit-libs-2.0-11.el7.x86_64                              5/22 
  Installing : libtiff-4.0.3-27.el7_3.x86_64                               6/22 
  Installing : 1:make-3.82-23.el7.x86_64                                   7/22 
  Installing : 1:openssl-1.0.2k-16.el7_6.1.x86_64                          8/22 
  Installing : python-ply-3.4-11.el7.noarch                                9/22 
  Installing : python-pycparser-2.14-1.el7.noarch                         10/22 
  Installing : python-cffi-1.6.0-5.el7.x86_64                             11/22 
  Installing : python-idna-2.4-1.el7.noarch                               12/22 
  Installing : python-six-1.9.0-2.el7.noarch                              13/22 
  Installing : python-dateutil-1.5-7.el7.noarch                           14/22 
  Installing : python-enum34-1.0.4-1.el7.noarch                           15/22 
  Installing : python2-cryptography-1.7.2-2.el7.x86_64                    16/22 
  Installing : libwebp-0.3.0-7.el7.x86_64                                 17/22 
  Installing : python-pillow-2.0.0-19.gitd1c6db8.el7.x86_64               18/22 
  Installing : python-docutils-0.11-0.3.20130715svn7687.el7.noarch        19/22 
  Installing : python-s3transfer-0.1.13-1.el7.0.1.noarch                  20/22 
  Installing : awscli-1.14.28-5.el7_5.1.noarch                            21/22 
  Cleanup    : 1:openssl-libs-1.0.2k-16.el7.x86_64                        22/22 
  Verifying  : libtiff-4.0.3-27.el7_3.x86_64                               1/22 
  Verifying  : libwebp-0.3.0-7.el7.x86_64                                  2/22 
  Verifying  : python-enum34-1.0.4-1.el7.noarch                            3/22 
  Verifying  : python-docutils-0.11-0.3.20130715svn7687.el7.noarch         4/22 
  Verifying  : python-dateutil-1.5-7.el7.noarch                            5/22 
  Verifying  : python-six-1.9.0-2.el7.noarch                               6/22 
  Verifying  : python-s3transfer-0.1.13-1.el7.0.1.noarch                   7/22 
  Verifying  : python-idna-2.4-1.el7.noarch                                8/22 
  Verifying  : 1:openssl-1.0.2k-16.el7_6.1.x86_64                          9/22 
  Verifying  : python-ply-3.4-11.el7.noarch                               10/22 
  Verifying  : python-cffi-1.6.0-5.el7.x86_64                             11/22 
  Verifying  : 1:make-3.82-23.el7.x86_64                                  12/22 
  Verifying  : python-pillow-2.0.0-19.gitd1c6db8.el7.x86_64               13/22 
  Verifying  : jbigkit-libs-2.0-11.el7.x86_64                             14/22 
  Verifying  : python-pycparser-2.14-1.el7.noarch                         15/22 
  Verifying  : libyaml-0.1.4-11.el7_0.x86_64                              16/22 
  Verifying  : 1:openssl-libs-1.0.2k-16.el7_6.1.x86_64                    17/22 
  Verifying  : python2-pyasn1-0.1.9-7.el7.noarch                          18/22 
  Verifying  : PyYAML-3.10-11.el7.x86_64                                  19/22 
  Verifying  : awscli-1.14.28-5.el7_5.1.noarch                            20/22 
  Verifying  : python2-cryptography-1.7.2-2.el7.x86_64                    21/22 
  Verifying  : 1:openssl-libs-1.0.2k-16.el7.x86_64                        22/22 

Installed:
  awscli.noarch 0:1.14.28-5.el7_5.1                                             

Dependency Installed:
  PyYAML.x86_64 0:3.10-11.el7                                                   
  jbigkit-libs.x86_64 0:2.0-11.el7                                              
  libtiff.x86_64 0:4.0.3-27.el7_3                                               
  libwebp.x86_64 0:0.3.0-7.el7                                                  
  libyaml.x86_64 0:0.1.4-11.el7_0                                               
  make.x86_64 1:3.82-23.el7                                                     
  openssl.x86_64 1:1.0.2k-16.el7_6.1                                            
  python-cffi.x86_64 0:1.6.0-5.el7                                              
  python-dateutil.noarch 0:1.5-7.el7                                            
  python-docutils.noarch 0:0.11-0.3.20130715svn7687.el7                         
  python-enum34.noarch 0:1.0.4-1.el7                                            
  python-idna.noarch 0:2.4-1.el7                                                
  python-pillow.x86_64 0:2.0.0-19.gitd1c6db8.el7                                
  python-ply.noarch 0:3.4-11.el7                                                
  python-pycparser.noarch 0:2.14-1.el7                                          
  python-s3transfer.noarch 0:0.1.13-1.el7.0.1                                   
  python-six.noarch 0:1.9.0-2.el7                                               
  python2-cryptography.x86_64 0:1.7.2-2.el7                                     
  python2-pyasn1.noarch 0:0.1.9-7.el7                                           

Dependency Updated:
  openssl-libs.x86_64 1:1.0.2k-16.el7_6.1                                       

Complete!</msg>
<status status="PASS" endtime="20190830 01:12:07.582" starttime="20190830 01:12:07.580"></status>
</kw>
<kw name="Should Be Equal As Integers" library="BuiltIn">
<doc>Fails if objects are unequal after converting them to integers.</doc>
<arguments>
<arg>${rc}</arg>
<arg>0</arg>
</arguments>
<msg timestamp="20190830 01:12:07.583" level="INFO">Argument types are:
&lt;type 'int'&gt;
&lt;type 'unicode'&gt;</msg>
<status status="PASS" endtime="20190830 01:12:07.583" starttime="20190830 01:12:07.582"></status>
</kw>
<status status="PASS" endtime="20190830 01:12:07.583" starttime="20190830 01:11:39.977"></status>
</kw>
<status status="PASS" endtime="20190830 01:12:07.584" starttime="20190830 01:11:39.976"></status>
</kw>
<status status="PASS" endtime="20190830 01:12:07.584" starttime="20190830 01:11:39.975"></status>
</kw>
<status status="PASS" endtime="20190830 01:12:07.584" starttime="20190830 01:11:39.797"></status>
</kw>
<status status="PASS" endtime="20190830 01:12:07.584" starttime="20190830 01:11:39.796"></status>
</kw>
<kw name="Run Keyword If" library="BuiltIn">
<doc>Runs the given keyword with the given arguments, if ``condition`` is true.</doc>
<arguments>
<arg>'${OZONE_S3_SET_CREDENTIALS}' == 'true'</arg>
<arg>Setup v4 headers</arg>
</arguments>
<kw name="Setup v4 headers" library="commonawslib">
<kw name="Run Keyword If" library="BuiltIn">
<doc>Runs the given keyword with the given arguments, if ``condition`` is true.</doc>
<arguments>
<arg>'${SECURITY_ENABLED}' == 'true'</arg>
<arg>Kinit test user</arg>
<arg>testuser</arg>
<arg>testuser.keytab</arg>
</arguments>
<kw name="Kinit test user" library="commonlib">
<arguments>
<arg>testuser</arg>
<arg>testuser.keytab</arg>
</arguments>
<kw name="Execute" library="commonlib">
<arguments>
<arg>hostname</arg>
</arguments>
<assign>
<var>${hostname}</var>
</assign>
<kw name="Run And Return Rc And Output" library="OperatingSystem">
<doc>Runs the given command in the system and returns the RC and output.</doc>
<arguments>
<arg>${command}</arg>
</arguments>
<assign>
<var>${rc}</var>
<var>${output}</var>
</assign>
<msg timestamp="20190830 01:12:07.590" level="INFO">Running command 'hostname 2&gt;&amp;1'.</msg>
<msg timestamp="20190830 01:12:07.595" level="INFO">${rc} = 0</msg>
<msg timestamp="20190830 01:12:07.595" level="INFO">${output} = s3g</msg>
<status status="PASS" endtime="20190830 01:12:07.595" starttime="20190830 01:12:07.588"></status>
</kw>
<kw name="Log" library="BuiltIn">
<doc>Logs the given message with the given level.</doc>
<arguments>
<arg>${output}</arg>
</arguments>
<msg timestamp="20190830 01:12:07.596" level="INFO">s3g</msg>
<status status="PASS" endtime="20190830 01:12:07.597" starttime="20190830 01:12:07.596"></status>
</kw>
<kw name="Should Be Equal As Integers" library="BuiltIn">
<doc>Fails if objects are unequal after converting them to integers.</doc>
<arguments>
<arg>${rc}</arg>
<arg>0</arg>
</arguments>
<msg timestamp="20190830 01:12:07.597" level="INFO">Argument types are:
&lt;type 'int'&gt;
&lt;type 'unicode'&gt;</msg>
<status status="PASS" endtime="20190830 01:12:07.597" starttime="20190830 01:12:07.597"></status>
</kw>
<msg timestamp="20190830 01:12:07.598" level="INFO">${hostname} = s3g</msg>
<status status="PASS" endtime="20190830 01:12:07.598" starttime="20190830 01:12:07.587"></status>
</kw>
<kw name="Set Suite Variable" library="BuiltIn">
<doc>Makes a variable available everywhere within the scope of the current suite.</doc>
<arguments>
<arg>${TEST_USER}</arg>
<arg>${user}/${hostname}@EXAMPLE.COM</arg>
</arguments>
<msg timestamp="20190830 01:12:07.600" level="INFO">${TEST_USER} = testuser/s3g@EXAMPLE.COM</msg>
<status status="PASS" endtime="20190830 01:12:07.600" starttime="20190830 01:12:07.598"></status>
</kw>
<kw name="Wait Until Keyword Succeeds" library="BuiltIn">
<doc>Runs the specified keyword and retries if it fails.</doc>
<arguments>
<arg>2min</arg>
<arg>10sec</arg>
<arg>Execute</arg>
<arg>kinit -k ${user}/${hostname}@EXAMPLE.COM -t /etc/security/keytabs/${keytab}</arg>
</arguments>
<kw name="Execute" library="commonlib">
<arguments>
<arg>kinit -k ${user}/${hostname}@EXAMPLE.COM -t /etc/security/keytabs/${keytab}</arg>
</arguments>
<kw name="Run And Return Rc And Output" library="OperatingSystem">
<doc>Runs the given command in the system and returns the RC and output.</doc>
<arguments>
<arg>${command}</arg>
</arguments>
<assign>
<var>${rc}</var>
<var>${output}</var>
</assign>
<msg timestamp="20190830 01:12:07.602" level="INFO">Running command 'kinit -k testuser/s3g@EXAMPLE.COM -t /etc/security/keytabs/testuser.keytab 2&gt;&amp;1'.</msg>
<msg timestamp="20190830 01:12:07.620" level="INFO">${rc} = 0</msg>
<msg timestamp="20190830 01:12:07.620" level="INFO">${output} = </msg>
<status status="PASS" endtime="20190830 01:12:07.620" starttime="20190830 01:12:07.601"></status>
</kw>
<kw name="Log" library="BuiltIn">
<doc>Logs the given message with the given level.</doc>
<arguments>
<arg>${output}</arg>
</arguments>
<msg timestamp="20190830 01:12:07.621" level="INFO"></msg>
<status status="PASS" endtime="20190830 01:12:07.621" starttime="20190830 01:12:07.621"></status>
</kw>
<kw name="Should Be Equal As Integers" library="BuiltIn">
<doc>Fails if objects are unequal after converting them to integers.</doc>
<arguments>
<arg>${rc}</arg>
<arg>0</arg>
</arguments>
<msg timestamp="20190830 01:12:07.622" level="INFO">Argument types are:
&lt;type 'int'&gt;
&lt;type 'unicode'&gt;</msg>
<status status="PASS" endtime="20190830 01:12:07.622" starttime="20190830 01:12:07.621"></status>
</kw>
<status status="PASS" endtime="20190830 01:12:07.622" starttime="20190830 01:12:07.600"></status>
</kw>
<status status="PASS" endtime="20190830 01:12:07.622" starttime="20190830 01:12:07.600"></status>
</kw>
<status status="PASS" endtime="20190830 01:12:07.623" starttime="20190830 01:12:07.587"></status>
</kw>
<status status="PASS" endtime="20190830 01:12:07.623" starttime="20190830 01:12:07.586"></status>
</kw>
<kw name="Execute" library="commonlib">
<arguments>
<arg>ozone s3 getsecret</arg>
</arguments>
<assign>
<var>${result}</var>
</assign>
<kw name="Run And Return Rc And Output" library="OperatingSystem">
<doc>Runs the given command in the system and returns the RC and output.</doc>
<arguments>
<arg>${command}</arg>
</arguments>
<assign>
<var>${rc}</var>
<var>${output}</var>
</assign>
<msg timestamp="20190830 01:12:07.625" level="INFO">Running command 'ozone s3 getsecret 2&gt;&amp;1'.</msg>
<msg timestamp="20190830 01:12:08.961" level="INFO">${rc} = 255</msg>
<msg timestamp="20190830 01:12:08.961" level="INFO">${output} = WARNING: An illegal reflective access operation has occurred
WARNING: Illegal reflective access by org.apache.hadoop.security.authentication.util.KerberosUtil (file:/opt/hadoop/share/ozone/lib/hadoop-...</msg>
<status status="PASS" endtime="20190830 01:12:08.961" starttime="20190830 01:12:07.623"></status>
</kw>
<kw name="Log" library="BuiltIn">
<doc>Logs the given message with the given level.</doc>
<arguments>
<arg>${output}</arg>
</arguments>
<msg timestamp="20190830 01:12:08.962" level="INFO">WARNING: An illegal reflective access operation has occurred
WARNING: Illegal reflective access by org.apache.hadoop.security.authentication.util.KerberosUtil (file:/opt/hadoop/share/ozone/lib/hadoop-auth-3.2.0.jar) to method sun.security.krb5.Config.getInstance()
WARNING: Please consider reporting this to the maintainers of org.apache.hadoop.security.authentication.util.KerberosUtil
WARNING: Use --illegal-access=warn to enable warnings of further illegal reflective access operations
WARNING: All illegal access operations will be denied in a future release
2019-08-30 01:12:08 ERROR OzoneClientFactory:192 - Couldn't create RpcClient protocol exception: 
java.lang.IllegalArgumentException: java.net.UnknownHostException: om
	at org.apache.hadoop.security.SecurityUtil.buildTokenService(SecurityUtil.java:447)
	at org.apache.hadoop.ozone.om.ha.OMProxyInfo.&lt;init&gt;(OMProxyInfo.java:40)
	at org.apache.hadoop.ozone.om.ha.OMFailoverProxyProvider.loadOMClientConfigs(OMFailoverProxyProvider.java:109)
	at org.apache.hadoop.ozone.om.ha.OMFailoverProxyProvider.&lt;init&gt;(OMFailoverProxyProvider.java:77)
	at org.apache.hadoop.ozone.om.protocolPB.OzoneManagerProtocolClientSideTranslatorPB.&lt;init&gt;(OzoneManagerProtocolClientSideTranslatorPB.java:195)
	at org.apache.hadoop.ozone.client.rpc.RpcClient.&lt;init&gt;(RpcClient.java:155)
	at org.apache.hadoop.ozone.client.OzoneClientFactory.getClientProtocol(OzoneClientFactory.java:189)
	at org.apache.hadoop.ozone.client.OzoneClientFactory.getRpcClient(OzoneClientFactory.java:152)
	at org.apache.hadoop.ozone.web.ozShell.OzoneAddress.createClient(OzoneAddress.java:102)
	at org.apache.hadoop.ozone.web.ozShell.s3.GetS3SecretHandler.call(GetS3SecretHandler.java:45)
	at org.apache.hadoop.ozone.web.ozShell.s3.GetS3SecretHandler.call(GetS3SecretHandler.java:32)
	at picocli.CommandLine.execute(CommandLine.java:1173)
	at picocli.CommandLine.access$800(CommandLine.java:141)
	at picocli.CommandLine$RunLast.handle(CommandLine.java:1367)
	at picocli.CommandLine$RunLast.handle(CommandLine.java:1335)
	at picocli.CommandLine$AbstractParseResultHandler.handleParseResult(CommandLine.java:1243)
	at picocli.CommandLine.parseWithHandlers(CommandLine.java:1526)
	at picocli.CommandLine.parseWithHandler(CommandLine.java:1465)
	at org.apache.hadoop.hdds.cli.GenericCli.execute(GenericCli.java:65)
	at org.apache.hadoop.ozone.web.ozShell.s3.S3Shell.execute(S3Shell.java:43)
	at org.apache.hadoop.hdds.cli.GenericCli.run(GenericCli.java:56)
	at org.apache.hadoop.ozone.web.ozShell.s3.S3Shell.main(S3Shell.java:54)
Caused by: java.net.UnknownHostException: om
	... 22 more
om</msg>
<status status="PASS" endtime="20190830 01:12:08.963" starttime="20190830 01:12:08.962"></status>
</kw>
<kw name="Should Be Equal As Integers" library="BuiltIn">
<doc>Fails if objects are unequal after converting them to integers.</doc>
<arguments>
<arg>${rc}</arg>
<arg>0</arg>
</arguments>
<msg timestamp="20190830 01:12:08.963" level="INFO">Argument types are:
&lt;type 'int'&gt;
&lt;type 'unicode'&gt;</msg>
<msg timestamp="20190830 01:12:08.964" level="FAIL">255 != 0</msg>
<status status="FAIL" endtime="20190830 01:12:08.964" starttime="20190830 01:12:08.963"></status>
</kw>
<status status="FAIL" endtime="20190830 01:12:08.964" starttime="20190830 01:12:07.623"></status>
</kw>
<status status="FAIL" endtime="20190830 01:12:08.964" starttime="20190830 01:12:07.585"></status>
</kw>
<status status="FAIL" endtime="20190830 01:12:08.964" starttime="20190830 01:12:07.584"></status>
</kw>
<status status="FAIL" endtime="20190830 01:12:08.964" starttime="20190830 01:11:39.796"></status>
</kw>
<test id="s1-s1-t1" name="File upload and directory list">
<status status="FAIL" endtime="20190830 01:12:08.965" critical="yes" starttime="20190830 01:12:08.965">Parent suite setup failed:
255 != 0</status>
</test>
<doc>S3 gateway test with aws cli</doc>
<status status="FAIL" endtime="20190830 01:12:08.966" starttime="20190830 01:11:39.789">Suite setup failed:
255 != 0</status>
</suite>
<suite source="/opt/hadoop/smoketest/s3/bucketcreate.robot" id="s1-s2" name="Bucketcreate">
<test id="s1-s2-t1" name="Create bucket which already exists">
<kw type="setup" name="Setup s3 tests" library="commonawslib">
<kw name="Run Keyword" library="BuiltIn">
<doc>Executes the given keyword with the given arguments.</doc>
<arguments>
<arg>Install aws cli</arg>
</arguments>
<kw name="Install aws cli" library="commonlib">
<kw name="Run And Return Rc And Output" library="OperatingSystem">
<doc>Runs the given command in the system and returns the RC and output.</doc>
<arguments>
<arg>which apt-get</arg>
</arguments>
<assign>
<var>${rc}</var>
<var>${output}</var>
</assign>
<msg timestamp="20190830 01:12:08.980" level="INFO">Running command 'which apt-get 2&gt;&amp;1'.</msg>
<msg timestamp="20190830 01:12:08.985" level="INFO">${rc} = 1</msg>
<msg timestamp="20190830 01:12:08.985" level="INFO">${output} = which: no apt-get in (/opt/hadoop/bin/docker:/usr/local/sbin:/usr/local/bin:/usr/sbin:/usr/bin:/sbin:/bin:/opt/hadoop/bin)</msg>
<status status="PASS" endtime="20190830 01:12:08.985" starttime="20190830 01:12:08.978"></status>
</kw>
<kw name="Run Keyword If" library="BuiltIn">
<doc>Runs the given keyword with the given arguments, if ``condition`` is true.</doc>
<arguments>
<arg>'${rc}' == '0'</arg>
<arg>Install aws cli s3 debian</arg>
</arguments>
<status status="PASS" endtime="20190830 01:12:08.986" starttime="20190830 01:12:08.985"></status>
</kw>
<kw name="Run And Return Rc And Output" library="OperatingSystem">
<doc>Runs the given command in the system and returns the RC and output.</doc>
<arguments>
<arg>yum --help</arg>
</arguments>
<assign>
<var>${rc}</var>
<var>${output}</var>
</assign>
<msg timestamp="20190830 01:12:08.988" level="INFO">Running command 'yum --help 2&gt;&amp;1'.</msg>
<msg timestamp="20190830 01:12:09.215" level="INFO">${rc} = 0</msg>
<msg timestamp="20190830 01:12:09.215" level="INFO">${output} = Loaded plugins: fastestmirror, ovl
ovl: Error while doing RPMdb copy-up:
[Errno 13] Permission denied: '/var/lib/rpm/Group'
Usage: yum [options] COMMAND

List of Commands:

check          Check for pr...</msg>
<status status="PASS" endtime="20190830 01:12:09.216" starttime="20190830 01:12:08.986"></status>
</kw>
<kw name="Run Keyword If" library="BuiltIn">
<doc>Runs the given keyword with the given arguments, if ``condition`` is true.</doc>
<arguments>
<arg>'${rc}' == '0'</arg>
<arg>Install aws cli s3 centos</arg>
</arguments>
<kw name="Install aws cli s3 centos" library="commonawslib">
<kw name="Execute" library="commonlib">
<arguments>
<arg>sudo yum install -y awscli</arg>
</arguments>
<kw name="Run And Return Rc And Output" library="OperatingSystem">
<doc>Runs the given command in the system and returns the RC and output.</doc>
<arguments>
<arg>${command}</arg>
</arguments>
<assign>
<var>${rc}</var>
<var>${output}</var>
</assign>
<msg timestamp="20190830 01:12:09.222" level="INFO">Running command 'sudo yum install -y awscli 2&gt;&amp;1'.</msg>
<msg timestamp="20190830 01:12:09.795" level="INFO">${rc} = 0</msg>
<msg timestamp="20190830 01:12:09.795" level="INFO">${output} = Loaded plugins: fastestmirror, ovl
Loading mirror speeds from cached hostfile
 * base: mirror.sjc02.svwh.net
 * epel: sjc.edge.kernel.org
 * extras: sjc.edge.kernel.org
 * updates: sjc.edge.kernel.org...</msg>
<status status="PASS" endtime="20190830 01:12:09.795" starttime="20190830 01:12:09.220"></status>
</kw>
<kw name="Log" library="BuiltIn">
<doc>Logs the given message with the given level.</doc>
<arguments>
<arg>${output}</arg>
</arguments>
<msg timestamp="20190830 01:12:09.797" level="INFO">Loaded plugins: fastestmirror, ovl
Loading mirror speeds from cached hostfile
 * base: mirror.sjc02.svwh.net
 * epel: sjc.edge.kernel.org
 * extras: sjc.edge.kernel.org
 * updates: sjc.edge.kernel.org
Package awscli-1.14.28-5.el7_5.1.noarch already installed and latest version
Nothing to do</msg>
<status status="PASS" endtime="20190830 01:12:09.797" starttime="20190830 01:12:09.796"></status>
</kw>
<kw name="Should Be Equal As Integers" library="BuiltIn">
<doc>Fails if objects are unequal after converting them to integers.</doc>
<arguments>
<arg>${rc}</arg>
<arg>0</arg>
</arguments>
<msg timestamp="20190830 01:12:09.798" level="INFO">Argument types are:
&lt;type 'int'&gt;
&lt;type 'unicode'&gt;</msg>
<status status="PASS" endtime="20190830 01:12:09.798" starttime="20190830 01:12:09.797"></status>
</kw>
<status status="PASS" endtime="20190830 01:12:09.799" starttime="20190830 01:12:09.219"></status>
</kw>
<status status="PASS" endtime="20190830 01:12:09.799" starttime="20190830 01:12:09.218"></status>
</kw>
<status status="PASS" endtime="20190830 01:12:09.799" starttime="20190830 01:12:09.216"></status>
</kw>
<status status="PASS" endtime="20190830 01:12:09.799" starttime="20190830 01:12:08.977"></status>
</kw>
<status status="PASS" endtime="20190830 01:12:09.800" starttime="20190830 01:12:08.977"></status>
</kw>
<kw name="Run Keyword If" library="BuiltIn">
<doc>Runs the given keyword with the given arguments, if ``condition`` is true.</doc>
<arguments>
<arg>'${OZONE_S3_SET_CREDENTIALS}' == 'true'</arg>
<arg>Setup v4 headers</arg>
</arguments>
<kw name="Setup v4 headers" library="commonawslib">
<kw name="Run Keyword If" library="BuiltIn">
<doc>Runs the given keyword with the given arguments, if ``condition`` is true.</doc>
<arguments>
<arg>'${SECURITY_ENABLED}' == 'true'</arg>
<arg>Kinit test user</arg>
<arg>testuser</arg>
<arg>testuser.keytab</arg>
</arguments>
<kw name="Kinit test user" library="commonlib">
<arguments>
<arg>testuser</arg>
<arg>testuser.keytab</arg>
</arguments>
<kw name="Execute" library="commonlib">
<arguments>
<arg>hostname</arg>
</arguments>
<assign>
<var>${hostname}</var>
</assign>
<kw name="Run And Return Rc And Output" library="OperatingSystem">
<doc>Runs the given command in the system and returns the RC and output.</doc>
<arguments>
<arg>${command}</arg>
</arguments>
<assign>
<var>${rc}</var>
<var>${output}</var>
</assign>
<msg timestamp="20190830 01:12:09.806" level="INFO">Running command 'hostname 2&gt;&amp;1'.</msg>
<msg timestamp="20190830 01:12:09.813" level="INFO">${rc} = 0</msg>
<msg timestamp="20190830 01:12:09.814" level="INFO">${output} = s3g</msg>
<status status="PASS" endtime="20190830 01:12:09.814" starttime="20190830 01:12:09.804"></status>
</kw>
<kw name="Log" library="BuiltIn">
<doc>Logs the given message with the given level.</doc>
<arguments>
<arg>${output}</arg>
</arguments>
<msg timestamp="20190830 01:12:09.815" level="INFO">s3g</msg>
<status status="PASS" endtime="20190830 01:12:09.815" starttime="20190830 01:12:09.814"></status>
</kw>
<kw name="Should Be Equal As Integers" library="BuiltIn">
<doc>Fails if objects are unequal after converting them to integers.</doc>
<arguments>
<arg>${rc}</arg>
<arg>0</arg>
</arguments>
<msg timestamp="20190830 01:12:09.816" level="INFO">Argument types are:
&lt;type 'int'&gt;
&lt;type 'unicode'&gt;</msg>
<status status="PASS" endtime="20190830 01:12:09.816" starttime="20190830 01:12:09.815"></status>
</kw>
<msg timestamp="20190830 01:12:09.817" level="INFO">${hostname} = s3g</msg>
<status status="PASS" endtime="20190830 01:12:09.817" starttime="20190830 01:12:09.803"></status>
</kw>
<kw name="Set Suite Variable" library="BuiltIn">
<doc>Makes a variable available everywhere within the scope of the current suite.</doc>
<arguments>
<arg>${TEST_USER}</arg>
<arg>${user}/${hostname}@EXAMPLE.COM</arg>
</arguments>
<msg timestamp="20190830 01:12:09.819" level="INFO">${TEST_USER} = testuser/s3g@EXAMPLE.COM</msg>
<status status="PASS" endtime="20190830 01:12:09.819" starttime="20190830 01:12:09.817"></status>
</kw>
<kw name="Wait Until Keyword Succeeds" library="BuiltIn">
<doc>Runs the specified keyword and retries if it fails.</doc>
<arguments>
<arg>2min</arg>
<arg>10sec</arg>
<arg>Execute</arg>
<arg>kinit -k ${user}/${hostname}@EXAMPLE.COM -t /etc/security/keytabs/${keytab}</arg>
</arguments>
<kw name="Execute" library="commonlib">
<arguments>
<arg>kinit -k ${user}/${hostname}@EXAMPLE.COM -t /etc/security/keytabs/${keytab}</arg>
</arguments>
<kw name="Run And Return Rc And Output" library="OperatingSystem">
<doc>Runs the given command in the system and returns the RC and output.</doc>
<arguments>
<arg>${command}</arg>
</arguments>
<assign>
<var>${rc}</var>
<var>${output}</var>
</assign>
<msg timestamp="20190830 01:12:09.823" level="INFO">Running command 'kinit -k testuser/s3g@EXAMPLE.COM -t /etc/security/keytabs/testuser.keytab 2&gt;&amp;1'.</msg>
<msg timestamp="20190830 01:12:09.839" level="INFO">${rc} = 0</msg>
<msg timestamp="20190830 01:12:09.839" level="INFO">${output} = </msg>
<status status="PASS" endtime="20190830 01:12:09.840" starttime="20190830 01:12:09.821"></status>
</kw>
<kw name="Log" library="BuiltIn">
<doc>Logs the given message with the given level.</doc>
<arguments>
<arg>${output}</arg>
</arguments>
<msg timestamp="20190830 01:12:09.841" level="INFO"></msg>
<status status="PASS" endtime="20190830 01:12:09.841" starttime="20190830 01:12:09.840"></status>
</kw>
<kw name="Should Be Equal As Integers" library="BuiltIn">
<doc>Fails if objects are unequal after converting them to integers.</doc>
<arguments>
<arg>${rc}</arg>
<arg>0</arg>
</arguments>
<msg timestamp="20190830 01:12:09.842" level="INFO">Argument types are:
&lt;type 'int'&gt;
&lt;type 'unicode'&gt;</msg>
<status status="PASS" endtime="20190830 01:12:09.842" starttime="20190830 01:12:09.841"></status>
</kw>
<status status="PASS" endtime="20190830 01:12:09.842" starttime="20190830 01:12:09.820"></status>
</kw>
<status status="PASS" endtime="20190830 01:12:09.842" starttime="20190830 01:12:09.820"></status>
</kw>
<status status="PASS" endtime="20190830 01:12:09.843" starttime="20190830 01:12:09.802"></status>
</kw>
<status status="PASS" endtime="20190830 01:12:09.843" starttime="20190830 01:12:09.802"></status>
</kw>
<kw name="Execute" library="commonlib">
<arguments>
<arg>ozone s3 getsecret</arg>
</arguments>
<assign>
<var>${result}</var>
</assign>
<kw name="Run And Return Rc And Output" library="OperatingSystem">
<doc>Runs the given command in the system and returns the RC and output.</doc>
<arguments>
<arg>${command}</arg>
</arguments>
<assign>
<var>${rc}</var>
<var>${output}</var>
</assign>
<msg timestamp="20190830 01:12:09.845" level="INFO">Running command 'ozone s3 getsecret 2&gt;&amp;1'.</msg>
<msg timestamp="20190830 01:12:11.320" level="INFO">${rc} = 255</msg>
<msg timestamp="20190830 01:12:11.320" level="INFO">${output} = WARNING: An illegal reflective access operation has occurred
WARNING: Illegal reflective access by org.apache.hadoop.security.authentication.util.KerberosUtil (file:/opt/hadoop/share/ozone/lib/hadoop-...</msg>
<status status="PASS" endtime="20190830 01:12:11.321" starttime="20190830 01:12:09.844"></status>
</kw>
<kw name="Log" library="BuiltIn">
<doc>Logs the given message with the given level.</doc>
<arguments>
<arg>${output}</arg>
</arguments>
<msg timestamp="20190830 01:12:11.322" level="INFO">WARNING: An illegal reflective access operation has occurred
WARNING: Illegal reflective access by org.apache.hadoop.security.authentication.util.KerberosUtil (file:/opt/hadoop/share/ozone/lib/hadoop-auth-3.2.0.jar) to method sun.security.krb5.Config.getInstance()
WARNING: Please consider reporting this to the maintainers of org.apache.hadoop.security.authentication.util.KerberosUtil
WARNING: Use --illegal-access=warn to enable warnings of further illegal reflective access operations
WARNING: All illegal access operations will be denied in a future release
2019-08-30 01:12:11 ERROR OzoneClientFactory:192 - Couldn't create RpcClient protocol exception: 
java.lang.IllegalArgumentException: java.net.UnknownHostException: om
	at org.apache.hadoop.security.SecurityUtil.buildTokenService(SecurityUtil.java:447)
	at org.apache.hadoop.ozone.om.ha.OMProxyInfo.&lt;init&gt;(OMProxyInfo.java:40)
	at org.apache.hadoop.ozone.om.ha.OMFailoverProxyProvider.loadOMClientConfigs(OMFailoverProxyProvider.java:109)
	at org.apache.hadoop.ozone.om.ha.OMFailoverProxyProvider.&lt;init&gt;(OMFailoverProxyProvider.java:77)
	at org.apache.hadoop.ozone.om.protocolPB.OzoneManagerProtocolClientSideTranslatorPB.&lt;init&gt;(OzoneManagerProtocolClientSideTranslatorPB.java:195)
	at org.apache.hadoop.ozone.client.rpc.RpcClient.&lt;init&gt;(RpcClient.java:155)
	at org.apache.hadoop.ozone.client.OzoneClientFactory.getClientProtocol(OzoneClientFactory.java:189)
	at org.apache.hadoop.ozone.client.OzoneClientFactory.getRpcClient(OzoneClientFactory.java:152)
	at org.apache.hadoop.ozone.web.ozShell.OzoneAddress.createClient(OzoneAddress.java:102)
	at org.apache.hadoop.ozone.web.ozShell.s3.GetS3SecretHandler.call(GetS3SecretHandler.java:45)
	at org.apache.hadoop.ozone.web.ozShell.s3.GetS3SecretHandler.call(GetS3SecretHandler.java:32)
	at picocli.CommandLine.execute(CommandLine.java:1173)
	at picocli.CommandLine.access$800(CommandLine.java:141)
	at picocli.CommandLine$RunLast.handle(CommandLine.java:1367)
	at picocli.CommandLine$RunLast.handle(CommandLine.java:1335)
	at picocli.CommandLine$AbstractParseResultHandler.handleParseResult(CommandLine.java:1243)
	at picocli.CommandLine.parseWithHandlers(CommandLine.java:1526)
	at picocli.CommandLine.parseWithHandler(CommandLine.java:1465)
	at org.apache.hadoop.hdds.cli.GenericCli.execute(GenericCli.java:65)
	at org.apache.hadoop.ozone.web.ozShell.s3.S3Shell.execute(S3Shell.java:43)
	at org.apache.hadoop.hdds.cli.GenericCli.run(GenericCli.java:56)
	at org.apache.hadoop.ozone.web.ozShell.s3.S3Shell.main(S3Shell.java:54)
Caused by: java.net.UnknownHostException: om
	... 22 more
om</msg>
<status status="PASS" endtime="20190830 01:12:11.323" starttime="20190830 01:12:11.321"></status>
</kw>
<kw name="Should Be Equal As Integers" library="BuiltIn">
<doc>Fails if objects are unequal after converting them to integers.</doc>
<arguments>
<arg>${rc}</arg>
<arg>0</arg>
</arguments>
<msg timestamp="20190830 01:12:11.324" level="INFO">Argument types are:
&lt;type 'int'&gt;
&lt;type 'unicode'&gt;</msg>
<msg timestamp="20190830 01:12:11.324" level="FAIL">255 != 0</msg>
<status status="FAIL" endtime="20190830 01:12:11.324" starttime="20190830 01:12:11.323"></status>
</kw>
<status status="FAIL" endtime="20190830 01:12:11.325" starttime="20190830 01:12:09.843"></status>
</kw>
<status status="FAIL" endtime="20190830 01:12:11.325" starttime="20190830 01:12:09.801"></status>
</kw>
<status status="FAIL" endtime="20190830 01:12:11.325" starttime="20190830 01:12:09.800"></status>
</kw>
<status status="FAIL" endtime="20190830 01:12:11.326" starttime="20190830 01:12:08.976"></status>
</kw>
<status status="FAIL" endtime="20190830 01:12:11.326" critical="yes" starttime="20190830 01:12:08.975">Setup failed:
255 != 0</status>
</test>
<doc>S3 gateway test with aws cli</doc>
<status status="FAIL" endtime="20190830 01:12:11.327" starttime="20190830 01:12:08.967"></status>
</suite>
<suite source="/opt/hadoop/smoketest/s3/buckethead.robot" id="s1-s3" name="Buckethead">
<test id="s1-s3-t1" name="Head Bucket not existent">
<kw type="setup" name="Setup s3 tests" library="commonawslib">
<kw name="Run Keyword" library="BuiltIn">
<doc>Executes the given keyword with the given arguments.</doc>
<arguments>
<arg>Install aws cli</arg>
</arguments>
<kw name="Install aws cli" library="commonlib">
<kw name="Run And Return Rc And Output" library="OperatingSystem">
<doc>Runs the given command in the system and returns the RC and output.</doc>
<arguments>
<arg>which apt-get</arg>
</arguments>
<assign>
<var>${rc}</var>
<var>${output}</var>
</assign>
<msg timestamp="20190830 01:12:11.346" level="INFO">Running command 'which apt-get 2&gt;&amp;1'.</msg>
<msg timestamp="20190830 01:12:11.353" level="INFO">${rc} = 1</msg>
<msg timestamp="20190830 01:12:11.354" level="INFO">${output} = which: no apt-get in (/opt/hadoop/bin/docker:/usr/local/sbin:/usr/local/bin:/usr/sbin:/usr/bin:/sbin:/bin:/opt/hadoop/bin)</msg>
<status status="PASS" endtime="20190830 01:12:11.354" starttime="20190830 01:12:11.344"></status>
</kw>
<kw name="Run Keyword If" library="BuiltIn">
<doc>Runs the given keyword with the given arguments, if ``condition`` is true.</doc>
<arguments>
<arg>'${rc}' == '0'</arg>
<arg>Install aws cli s3 debian</arg>
</arguments>
<status status="PASS" endtime="20190830 01:12:11.356" starttime="20190830 01:12:11.355"></status>
</kw>
<kw name="Run And Return Rc And Output" library="OperatingSystem">
<doc>Runs the given command in the system and returns the RC and output.</doc>
<arguments>
<arg>yum --help</arg>
</arguments>
<assign>
<var>${rc}</var>
<var>${output}</var>
</assign>
<msg timestamp="20190830 01:12:11.358" level="INFO">Running command 'yum --help 2&gt;&amp;1'.</msg>
<msg timestamp="20190830 01:12:11.533" level="INFO">${rc} = 0</msg>
<msg timestamp="20190830 01:12:11.533" level="INFO">${output} = Loaded plugins: fastestmirror, ovl
ovl: Error while doing RPMdb copy-up:
[Errno 13] Permission denied: '/var/lib/rpm/Group'
Usage: yum [options] COMMAND

List of Commands:

check          Check for pr...</msg>
<status status="PASS" endtime="20190830 01:12:11.533" starttime="20190830 01:12:11.356"></status>
</kw>
<kw name="Run Keyword If" library="BuiltIn">
<doc>Runs the given keyword with the given arguments, if ``condition`` is true.</doc>
<arguments>
<arg>'${rc}' == '0'</arg>
<arg>Install aws cli s3 centos</arg>
</arguments>
<kw name="Install aws cli s3 centos" library="commonawslib">
<kw name="Execute" library="commonlib">
<arguments>
<arg>sudo yum install -y awscli</arg>
</arguments>
<kw name="Run And Return Rc And Output" library="OperatingSystem">
<doc>Runs the given command in the system and returns the RC and output.</doc>
<arguments>
<arg>${command}</arg>
</arguments>
<assign>
<var>${rc}</var>
<var>${output}</var>
</assign>
<msg timestamp="20190830 01:12:11.540" level="INFO">Running command 'sudo yum install -y awscli 2&gt;&amp;1'.</msg>
<msg timestamp="20190830 01:12:12.095" level="INFO">${rc} = 0</msg>
<msg timestamp="20190830 01:12:12.095" level="INFO">${output} = Loaded plugins: fastestmirror, ovl
Loading mirror speeds from cached hostfile
 * base: mirror.sjc02.svwh.net
 * epel: sjc.edge.kernel.org
 * extras: sjc.edge.kernel.org
 * updates: sjc.edge.kernel.org...</msg>
<status status="PASS" endtime="20190830 01:12:12.095" starttime="20190830 01:12:11.537"></status>
</kw>
<kw name="Log" library="BuiltIn">
<doc>Logs the given message with the given level.</doc>
<arguments>
<arg>${output}</arg>
</arguments>
<msg timestamp="20190830 01:12:12.097" level="INFO">Loaded plugins: fastestmirror, ovl
Loading mirror speeds from cached hostfile
 * base: mirror.sjc02.svwh.net
 * epel: sjc.edge.kernel.org
 * extras: sjc.edge.kernel.org
 * updates: sjc.edge.kernel.org
Package awscli-1.14.28-5.el7_5.1.noarch already installed and latest version
Nothing to do</msg>
<status status="PASS" endtime="20190830 01:12:12.097" starttime="20190830 01:12:12.096"></status>
</kw>
<kw name="Should Be Equal As Integers" library="BuiltIn">
<doc>Fails if objects are unequal after converting them to integers.</doc>
<arguments>
<arg>${rc}</arg>
<arg>0</arg>
</arguments>
<msg timestamp="20190830 01:12:12.098" level="INFO">Argument types are:
&lt;type 'int'&gt;
&lt;type 'unicode'&gt;</msg>
<status status="PASS" endtime="20190830 01:12:12.099" starttime="20190830 01:12:12.098"></status>
</kw>
<status status="PASS" endtime="20190830 01:12:12.099" starttime="20190830 01:12:11.536"></status>
</kw>
<status status="PASS" endtime="20190830 01:12:12.100" starttime="20190830 01:12:11.535"></status>
</kw>
<status status="PASS" endtime="20190830 01:12:12.100" starttime="20190830 01:12:11.534"></status>
</kw>
<status status="PASS" endtime="20190830 01:12:12.100" starttime="20190830 01:12:11.343"></status>
</kw>
<status status="PASS" endtime="20190830 01:12:12.100" starttime="20190830 01:12:11.343"></status>
</kw>
<kw name="Run Keyword If" library="BuiltIn">
<doc>Runs the given keyword with the given arguments, if ``condition`` is true.</doc>
<arguments>
<arg>'${OZONE_S3_SET_CREDENTIALS}' == 'true'</arg>
<arg>Setup v4 headers</arg>
</arguments>
<kw name="Setup v4 headers" library="commonawslib">
<kw name="Run Keyword If" library="BuiltIn">
<doc>Runs the given keyword with the given arguments, if ``condition`` is true.</doc>
<arguments>
<arg>'${SECURITY_ENABLED}' == 'true'</arg>
<arg>Kinit test user</arg>
<arg>testuser</arg>
<arg>testuser.keytab</arg>
</arguments>
<kw name="Kinit test user" library="commonlib">
<arguments>
<arg>testuser</arg>
<arg>testuser.keytab</arg>
</arguments>
<kw name="Execute" library="commonlib">
<arguments>
<arg>hostname</arg>
</arguments>
<assign>
<var>${hostname}</var>
</assign>
<kw name="Run And Return Rc And Output" library="OperatingSystem">
<doc>Runs the given command in the system and returns the RC and output.</doc>
<arguments>
<arg>${command}</arg>
</arguments>
<assign>
<var>${rc}</var>
<var>${output}</var>
</assign>
<msg timestamp="20190830 01:12:12.108" level="INFO">Running command 'hostname 2&gt;&amp;1'.</msg>
<msg timestamp="20190830 01:12:12.113" level="INFO">${rc} = 0</msg>
<msg timestamp="20190830 01:12:12.113" level="INFO">${output} = s3g</msg>
<status status="PASS" endtime="20190830 01:12:12.113" starttime="20190830 01:12:12.106"></status>
</kw>
<kw name="Log" library="BuiltIn">
<doc>Logs the given message with the given level.</doc>
<arguments>
<arg>${output}</arg>
</arguments>
<msg timestamp="20190830 01:12:12.115" level="INFO">s3g</msg>
<status status="PASS" endtime="20190830 01:12:12.115" starttime="20190830 01:12:12.114"></status>
</kw>
<kw name="Should Be Equal As Integers" library="BuiltIn">
<doc>Fails if objects are unequal after converting them to integers.</doc>
<arguments>
<arg>${rc}</arg>
<arg>0</arg>
</arguments>
<msg timestamp="20190830 01:12:12.116" level="INFO">Argument types are:
&lt;type 'int'&gt;
&lt;type 'unicode'&gt;</msg>
<status status="PASS" endtime="20190830 01:12:12.116" starttime="20190830 01:12:12.115"></status>
</kw>
<msg timestamp="20190830 01:12:12.117" level="INFO">${hostname} = s3g</msg>
<status status="PASS" endtime="20190830 01:12:12.117" starttime="20190830 01:12:12.105"></status>
</kw>
<kw name="Set Suite Variable" library="BuiltIn">
<doc>Makes a variable available everywhere within the scope of the current suite.</doc>
<arguments>
<arg>${TEST_USER}</arg>
<arg>${user}/${hostname}@EXAMPLE.COM</arg>
</arguments>
<msg timestamp="20190830 01:12:12.120" level="INFO">${TEST_USER} = testuser/s3g@EXAMPLE.COM</msg>
<status status="PASS" endtime="20190830 01:12:12.120" starttime="20190830 01:12:12.117"></status>
</kw>
<kw name="Wait Until Keyword Succeeds" library="BuiltIn">
<doc>Runs the specified keyword and retries if it fails.</doc>
<arguments>
<arg>2min</arg>
<arg>10sec</arg>
<arg>Execute</arg>
<arg>kinit -k ${user}/${hostname}@EXAMPLE.COM -t /etc/security/keytabs/${keytab}</arg>
</arguments>
<kw name="Execute" library="commonlib">
<arguments>
<arg>kinit -k ${user}/${hostname}@EXAMPLE.COM -t /etc/security/keytabs/${keytab}</arg>
</arguments>
<kw name="Run And Return Rc And Output" library="OperatingSystem">
<doc>Runs the given command in the system and returns the RC and output.</doc>
<arguments>
<arg>${command}</arg>
</arguments>
<assign>
<var>${rc}</var>
<var>${output}</var>
</assign>
<msg timestamp="20190830 01:12:12.125" level="INFO">Running command 'kinit -k testuser/s3g@EXAMPLE.COM -t /etc/security/keytabs/testuser.keytab 2&gt;&amp;1'.</msg>
<msg timestamp="20190830 01:12:12.139" level="INFO">${rc} = 0</msg>
<msg timestamp="20190830 01:12:12.139" level="INFO">${output} = </msg>
<status status="PASS" endtime="20190830 01:12:12.139" starttime="20190830 01:12:12.122"></status>
</kw>
<kw name="Log" library="BuiltIn">
<doc>Logs the given message with the given level.</doc>
<arguments>
<arg>${output}</arg>
</arguments>
<msg timestamp="20190830 01:12:12.140" level="INFO"></msg>
<status status="PASS" endtime="20190830 01:12:12.141" starttime="20190830 01:12:12.140"></status>
</kw>
<kw name="Should Be Equal As Integers" library="BuiltIn">
<doc>Fails if objects are unequal after converting them to integers.</doc>
<arguments>
<arg>${rc}</arg>
<arg>0</arg>
</arguments>
<msg timestamp="20190830 01:12:12.141" level="INFO">Argument types are:
&lt;type 'int'&gt;
&lt;type 'unicode'&gt;</msg>
<status status="PASS" endtime="20190830 01:12:12.141" starttime="20190830 01:12:12.141"></status>
</kw>
<status status="PASS" endtime="20190830 01:12:12.142" starttime="20190830 01:12:12.121"></status>
</kw>
<status status="PASS" endtime="20190830 01:12:12.142" starttime="20190830 01:12:12.120"></status>
</kw>
<status status="PASS" endtime="20190830 01:12:12.142" starttime="20190830 01:12:12.104"></status>
</kw>
<status status="PASS" endtime="20190830 01:12:12.142" starttime="20190830 01:12:12.103"></status>
</kw>
<kw name="Execute" library="commonlib">
<arguments>
<arg>ozone s3 getsecret</arg>
</arguments>
<assign>
<var>${result}</var>
</assign>
<kw name="Run And Return Rc And Output" library="OperatingSystem">
<doc>Runs the given command in the system and returns the RC and output.</doc>
<arguments>
<arg>${command}</arg>
</arguments>
<assign>
<var>${rc}</var>
<var>${output}</var>
</assign>
<msg timestamp="20190830 01:12:12.145" level="INFO">Running command 'ozone s3 getsecret 2&gt;&amp;1'.</msg>
<msg timestamp="20190830 01:12:13.579" level="INFO">${rc} = 255</msg>
<msg timestamp="20190830 01:12:13.579" level="INFO">${output} = WARNING: An illegal reflective access operation has occurred
WARNING: Illegal reflective access by org.apache.hadoop.security.authentication.util.KerberosUtil (file:/opt/hadoop/share/ozone/lib/hadoop-...</msg>
<status status="PASS" endtime="20190830 01:12:13.579" starttime="20190830 01:12:12.143"></status>
</kw>
<kw name="Log" library="BuiltIn">
<doc>Logs the given message with the given level.</doc>
<arguments>
<arg>${output}</arg>
</arguments>
<msg timestamp="20190830 01:12:13.580" level="INFO">WARNING: An illegal reflective access operation has occurred
WARNING: Illegal reflective access by org.apache.hadoop.security.authentication.util.KerberosUtil (file:/opt/hadoop/share/ozone/lib/hadoop-auth-3.2.0.jar) to method sun.security.krb5.Config.getInstance()
WARNING: Please consider reporting this to the maintainers of org.apache.hadoop.security.authentication.util.KerberosUtil
WARNING: Use --illegal-access=warn to enable warnings of further illegal reflective access operations
WARNING: All illegal access operations will be denied in a future release
2019-08-30 01:12:13 ERROR OzoneClientFactory:192 - Couldn't create RpcClient protocol exception: 
java.lang.IllegalArgumentException: java.net.UnknownHostException: om
	at org.apache.hadoop.security.SecurityUtil.buildTokenService(SecurityUtil.java:447)
	at org.apache.hadoop.ozone.om.ha.OMProxyInfo.&lt;init&gt;(OMProxyInfo.java:40)
	at org.apache.hadoop.ozone.om.ha.OMFailoverProxyProvider.loadOMClientConfigs(OMFailoverProxyProvider.java:109)
	at org.apache.hadoop.ozone.om.ha.OMFailoverProxyProvider.&lt;init&gt;(OMFailoverProxyProvider.java:77)
	at org.apache.hadoop.ozone.om.protocolPB.OzoneManagerProtocolClientSideTranslatorPB.&lt;init&gt;(OzoneManagerProtocolClientSideTranslatorPB.java:195)
	at org.apache.hadoop.ozone.client.rpc.RpcClient.&lt;init&gt;(RpcClient.java:155)
	at org.apache.hadoop.ozone.client.OzoneClientFactory.getClientProtocol(OzoneClientFactory.java:189)
	at org.apache.hadoop.ozone.client.OzoneClientFactory.getRpcClient(OzoneClientFactory.java:152)
	at org.apache.hadoop.ozone.web.ozShell.OzoneAddress.createClient(OzoneAddress.java:102)
	at org.apache.hadoop.ozone.web.ozShell.s3.GetS3SecretHandler.call(GetS3SecretHandler.java:45)
	at org.apache.hadoop.ozone.web.ozShell.s3.GetS3SecretHandler.call(GetS3SecretHandler.java:32)
	at picocli.CommandLine.execute(CommandLine.java:1173)
	at picocli.CommandLine.access$800(CommandLine.java:141)
	at picocli.CommandLine$RunLast.handle(CommandLine.java:1367)
	at picocli.CommandLine$RunLast.handle(CommandLine.java:1335)
	at picocli.CommandLine$AbstractParseResultHandler.handleParseResult(CommandLine.java:1243)
	at picocli.CommandLine.parseWithHandlers(CommandLine.java:1526)
	at picocli.CommandLine.parseWithHandler(CommandLine.java:1465)
	at org.apache.hadoop.hdds.cli.GenericCli.execute(GenericCli.java:65)
	at org.apache.hadoop.ozone.web.ozShell.s3.S3Shell.execute(S3Shell.java:43)
	at org.apache.hadoop.hdds.cli.GenericCli.run(GenericCli.java:56)
	at org.apache.hadoop.ozone.web.ozShell.s3.S3Shell.main(S3Shell.java:54)
Caused by: java.net.UnknownHostException: om
	... 22 more
om</msg>
<status status="PASS" endtime="20190830 01:12:13.580" starttime="20190830 01:12:13.580"></status>
</kw>
<kw name="Should Be Equal As Integers" library="BuiltIn">
<doc>Fails if objects are unequal after converting them to integers.</doc>
<arguments>
<arg>${rc}</arg>
<arg>0</arg>
</arguments>
<msg timestamp="20190830 01:12:13.581" level="INFO">Argument types are:
&lt;type 'int'&gt;
&lt;type 'unicode'&gt;</msg>
<msg timestamp="20190830 01:12:13.581" level="FAIL">255 != 0</msg>
<status status="FAIL" endtime="20190830 01:12:13.581" starttime="20190830 01:12:13.581"></status>
</kw>
<status status="FAIL" endtime="20190830 01:12:13.582" starttime="20190830 01:12:12.142"></status>
</kw>
<status status="FAIL" endtime="20190830 01:12:13.582" starttime="20190830 01:12:12.102"></status>
</kw>
<status status="FAIL" endtime="20190830 01:12:13.582" starttime="20190830 01:12:12.101"></status>
</kw>
<status status="FAIL" endtime="20190830 01:12:13.582" starttime="20190830 01:12:11.342"></status>
</kw>
<status status="FAIL" endtime="20190830 01:12:13.583" critical="yes" starttime="20190830 01:12:11.341">Setup failed:
255 != 0</status>
</test>
<doc>S3 gateway test with aws cli</doc>
<status status="FAIL" endtime="20190830 01:12:13.583" starttime="20190830 01:12:11.330"></status>
</suite>
<suite source="/opt/hadoop/smoketest/s3/bucketlist.robot" id="s1-s4" name="Bucketlist">
<test id="s1-s4-t1" name="List buckets">
<kw type="setup" name="Setup s3 tests" library="commonawslib">
<kw name="Run Keyword" library="BuiltIn">
<doc>Executes the given keyword with the given arguments.</doc>
<arguments>
<arg>Install aws cli</arg>
</arguments>
<kw name="Install aws cli" library="commonlib">
<kw name="Run And Return Rc And Output" library="OperatingSystem">
<doc>Runs the given command in the system and returns the RC and output.</doc>
<arguments>
<arg>which apt-get</arg>
</arguments>
<assign>
<var>${rc}</var>
<var>${output}</var>
</assign>
<msg timestamp="20190830 01:12:13.596" level="INFO">Running command 'which apt-get 2&gt;&amp;1'.</msg>
<msg timestamp="20190830 01:12:13.603" level="INFO">${rc} = 1</msg>
<msg timestamp="20190830 01:12:13.603" level="INFO">${output} = which: no apt-get in (/opt/hadoop/bin/docker:/usr/local/sbin:/usr/local/bin:/usr/sbin:/usr/bin:/sbin:/bin:/opt/hadoop/bin)</msg>
<status status="PASS" endtime="20190830 01:12:13.604" starttime="20190830 01:12:13.594"></status>
</kw>
<kw name="Run Keyword If" library="BuiltIn">
<doc>Runs the given keyword with the given arguments, if ``condition`` is true.</doc>
<arguments>
<arg>'${rc}' == '0'</arg>
<arg>Install aws cli s3 debian</arg>
</arguments>
<status status="PASS" endtime="20190830 01:12:13.606" starttime="20190830 01:12:13.604"></status>
</kw>
<kw name="Run And Return Rc And Output" library="OperatingSystem">
<doc>Runs the given command in the system and returns the RC and output.</doc>
<arguments>
<arg>yum --help</arg>
</arguments>
<assign>
<var>${rc}</var>
<var>${output}</var>
</assign>
<msg timestamp="20190830 01:12:13.608" level="INFO">Running command 'yum --help 2&gt;&amp;1'.</msg>
<msg timestamp="20190830 01:12:13.792" level="INFO">${rc} = 0</msg>
<msg timestamp="20190830 01:12:13.792" level="INFO">${output} = Loaded plugins: fastestmirror, ovl
ovl: Error while doing RPMdb copy-up:
[Errno 13] Permission denied: '/var/lib/rpm/Group'
Usage: yum [options] COMMAND

List of Commands:

check          Check for pr...</msg>
<status status="PASS" endtime="20190830 01:12:13.792" starttime="20190830 01:12:13.606"></status>
</kw>
<kw name="Run Keyword If" library="BuiltIn">
<doc>Runs the given keyword with the given arguments, if ``condition`` is true.</doc>
<arguments>
<arg>'${rc}' == '0'</arg>
<arg>Install aws cli s3 centos</arg>
</arguments>
<kw name="Install aws cli s3 centos" library="commonawslib">
<kw name="Execute" library="commonlib">
<arguments>
<arg>sudo yum install -y awscli</arg>
</arguments>
<kw name="Run And Return Rc And Output" library="OperatingSystem">
<doc>Runs the given command in the system and returns the RC and output.</doc>
<arguments>
<arg>${command}</arg>
</arguments>
<assign>
<var>${rc}</var>
<var>${output}</var>
</assign>
<msg timestamp="20190830 01:12:13.798" level="INFO">Running command 'sudo yum install -y awscli 2&gt;&amp;1'.</msg>
<msg timestamp="20190830 01:12:14.329" level="INFO">${rc} = 0</msg>
<msg timestamp="20190830 01:12:14.329" level="INFO">${output} = Loaded plugins: fastestmirror, ovl
Loading mirror speeds from cached hostfile
 * base: mirror.sjc02.svwh.net
 * epel: sjc.edge.kernel.org
 * extras: sjc.edge.kernel.org
 * updates: sjc.edge.kernel.org...</msg>
<status status="PASS" endtime="20190830 01:12:14.330" starttime="20190830 01:12:13.796"></status>
</kw>
<kw name="Log" library="BuiltIn">
<doc>Logs the given message with the given level.</doc>
<arguments>
<arg>${output}</arg>
</arguments>
<msg timestamp="20190830 01:12:14.331" level="INFO">Loaded plugins: fastestmirror, ovl
Loading mirror speeds from cached hostfile
 * base: mirror.sjc02.svwh.net
 * epel: sjc.edge.kernel.org
 * extras: sjc.edge.kernel.org
 * updates: sjc.edge.kernel.org
Package awscli-1.14.28-5.el7_5.1.noarch already installed and latest version
Nothing to do</msg>
<status status="PASS" endtime="20190830 01:12:14.332" starttime="20190830 01:12:14.330"></status>
</kw>
<kw name="Should Be Equal As Integers" library="BuiltIn">
<doc>Fails if objects are unequal after converting them to integers.</doc>
<arguments>
<arg>${rc}</arg>
<arg>0</arg>
</arguments>
<msg timestamp="20190830 01:12:14.333" level="INFO">Argument types are:
&lt;type 'int'&gt;
&lt;type 'unicode'&gt;</msg>
<status status="PASS" endtime="20190830 01:12:14.333" starttime="20190830 01:12:14.332"></status>
</kw>
<status status="PASS" endtime="20190830 01:12:14.333" starttime="20190830 01:12:13.795"></status>
</kw>
<status status="PASS" endtime="20190830 01:12:14.334" starttime="20190830 01:12:13.794"></status>
</kw>
<status status="PASS" endtime="20190830 01:12:14.334" starttime="20190830 01:12:13.793"></status>
</kw>
<status status="PASS" endtime="20190830 01:12:14.334" starttime="20190830 01:12:13.594"></status>
</kw>
<status status="PASS" endtime="20190830 01:12:14.334" starttime="20190830 01:12:13.593"></status>
</kw>
<kw name="Run Keyword If" library="BuiltIn">
<doc>Runs the given keyword with the given arguments, if ``condition`` is true.</doc>
<arguments>
<arg>'${OZONE_S3_SET_CREDENTIALS}' == 'true'</arg>
<arg>Setup v4 headers</arg>
</arguments>
<kw name="Setup v4 headers" library="commonawslib">
<kw name="Run Keyword If" library="BuiltIn">
<doc>Runs the given keyword with the given arguments, if ``condition`` is true.</doc>
<arguments>
<arg>'${SECURITY_ENABLED}' == 'true'</arg>
<arg>Kinit test user</arg>
<arg>testuser</arg>
<arg>testuser.keytab</arg>
</arguments>
<kw name="Kinit test user" library="commonlib">
<arguments>
<arg>testuser</arg>
<arg>testuser.keytab</arg>
</arguments>
<kw name="Execute" library="commonlib">
<arguments>
<arg>hostname</arg>
</arguments>
<assign>
<var>${hostname}</var>
</assign>
<kw name="Run And Return Rc And Output" library="OperatingSystem">
<doc>Runs the given command in the system and returns the RC and output.</doc>
<arguments>
<arg>${command}</arg>
</arguments>
<assign>
<var>${rc}</var>
<var>${output}</var>
</assign>
<msg timestamp="20190830 01:12:14.342" level="INFO">Running command 'hostname 2&gt;&amp;1'.</msg>
<msg timestamp="20190830 01:12:14.349" level="INFO">${rc} = 0</msg>
<msg timestamp="20190830 01:12:14.349" level="INFO">${output} = s3g</msg>
<status status="PASS" endtime="20190830 01:12:14.349" starttime="20190830 01:12:14.339"></status>
</kw>
<kw name="Log" library="BuiltIn">
<doc>Logs the given message with the given level.</doc>
<arguments>
<arg>${output}</arg>
</arguments>
<msg timestamp="20190830 01:12:14.350" level="INFO">s3g</msg>
<status status="PASS" endtime="20190830 01:12:14.350" starttime="20190830 01:12:14.350"></status>
</kw>
<kw name="Should Be Equal As Integers" library="BuiltIn">
<doc>Fails if objects are unequal after converting them to integers.</doc>
<arguments>
<arg>${rc}</arg>
<arg>0</arg>
</arguments>
<msg timestamp="20190830 01:12:14.351" level="INFO">Argument types are:
&lt;type 'int'&gt;
&lt;type 'unicode'&gt;</msg>
<status status="PASS" endtime="20190830 01:12:14.352" starttime="20190830 01:12:14.351"></status>
</kw>
<msg timestamp="20190830 01:12:14.352" level="INFO">${hostname} = s3g</msg>
<status status="PASS" endtime="20190830 01:12:14.352" starttime="20190830 01:12:14.338"></status>
</kw>
<kw name="Set Suite Variable" library="BuiltIn">
<doc>Makes a variable available everywhere within the scope of the current suite.</doc>
<arguments>
<arg>${TEST_USER}</arg>
<arg>${user}/${hostname}@EXAMPLE.COM</arg>
</arguments>
<msg timestamp="20190830 01:12:14.355" level="INFO">${TEST_USER} = testuser/s3g@EXAMPLE.COM</msg>
<status status="PASS" endtime="20190830 01:12:14.355" starttime="20190830 01:12:14.353"></status>
</kw>
<kw name="Wait Until Keyword Succeeds" library="BuiltIn">
<doc>Runs the specified keyword and retries if it fails.</doc>
<arguments>
<arg>2min</arg>
<arg>10sec</arg>
<arg>Execute</arg>
<arg>kinit -k ${user}/${hostname}@EXAMPLE.COM -t /etc/security/keytabs/${keytab}</arg>
</arguments>
<kw name="Execute" library="commonlib">
<arguments>
<arg>kinit -k ${user}/${hostname}@EXAMPLE.COM -t /etc/security/keytabs/${keytab}</arg>
</arguments>
<kw name="Run And Return Rc And Output" library="OperatingSystem">
<doc>Runs the given command in the system and returns the RC and output.</doc>
<arguments>
<arg>${command}</arg>
</arguments>
<assign>
<var>${rc}</var>
<var>${output}</var>
</assign>
<msg timestamp="20190830 01:12:14.359" level="INFO">Running command 'kinit -k testuser/s3g@EXAMPLE.COM -t /etc/security/keytabs/testuser.keytab 2&gt;&amp;1'.</msg>
<msg timestamp="20190830 01:12:14.375" level="INFO">${rc} = 0</msg>
<msg timestamp="20190830 01:12:14.375" level="INFO">${output} = </msg>
<status status="PASS" endtime="20190830 01:12:14.375" starttime="20190830 01:12:14.357"></status>
</kw>
<kw name="Log" library="BuiltIn">
<doc>Logs the given message with the given level.</doc>
<arguments>
<arg>${output}</arg>
</arguments>
<msg timestamp="20190830 01:12:14.377" level="INFO"></msg>
<status status="PASS" endtime="20190830 01:12:14.377" starttime="20190830 01:12:14.376"></status>
</kw>
<kw name="Should Be Equal As Integers" library="BuiltIn">
<doc>Fails if objects are unequal after converting them to integers.</doc>
<arguments>
<arg>${rc}</arg>
<arg>0</arg>
</arguments>
<msg timestamp="20190830 01:12:14.378" level="INFO">Argument types are:
&lt;type 'int'&gt;
&lt;type 'unicode'&gt;</msg>
<status status="PASS" endtime="20190830 01:12:14.378" starttime="20190830 01:12:14.377"></status>
</kw>
<status status="PASS" endtime="20190830 01:12:14.378" starttime="20190830 01:12:14.356"></status>
</kw>
<status status="PASS" endtime="20190830 01:12:14.379" starttime="20190830 01:12:14.355"></status>
</kw>
<status status="PASS" endtime="20190830 01:12:14.379" starttime="20190830 01:12:14.337"></status>
</kw>
<status status="PASS" endtime="20190830 01:12:14.379" starttime="20190830 01:12:14.336"></status>
</kw>
<kw name="Execute" library="commonlib">
<arguments>
<arg>ozone s3 getsecret</arg>
</arguments>
<assign>
<var>${result}</var>
</assign>
<kw name="Run And Return Rc And Output" library="OperatingSystem">
<doc>Runs the given command in the system and returns the RC and output.</doc>
<arguments>
<arg>${command}</arg>
</arguments>
<assign>
<var>${rc}</var>
<var>${output}</var>
</assign>
<msg timestamp="20190830 01:12:14.382" level="INFO">Running command 'ozone s3 getsecret 2&gt;&amp;1'.</msg>
<msg timestamp="20190830 01:12:15.850" level="INFO">${rc} = 255</msg>
<msg timestamp="20190830 01:12:15.850" level="INFO">${output} = WARNING: An illegal reflective access operation has occurred
WARNING: Illegal reflective access by org.apache.hadoop.security.authentication.util.KerberosUtil (file:/opt/hadoop/share/ozone/lib/hadoop-...</msg>
<status status="PASS" endtime="20190830 01:12:15.850" starttime="20190830 01:12:14.380"></status>
</kw>
<kw name="Log" library="BuiltIn">
<doc>Logs the given message with the given level.</doc>
<arguments>
<arg>${output}</arg>
</arguments>
<msg timestamp="20190830 01:12:15.851" level="INFO">WARNING: An illegal reflective access operation has occurred
WARNING: Illegal reflective access by org.apache.hadoop.security.authentication.util.KerberosUtil (file:/opt/hadoop/share/ozone/lib/hadoop-auth-3.2.0.jar) to method sun.security.krb5.Config.getInstance()
WARNING: Please consider reporting this to the maintainers of org.apache.hadoop.security.authentication.util.KerberosUtil
WARNING: Use --illegal-access=warn to enable warnings of further illegal reflective access operations
WARNING: All illegal access operations will be denied in a future release
2019-08-30 01:12:15 ERROR OzoneClientFactory:192 - Couldn't create RpcClient protocol exception: 
java.lang.IllegalArgumentException: java.net.UnknownHostException: om
	at org.apache.hadoop.security.SecurityUtil.buildTokenService(SecurityUtil.java:447)
	at org.apache.hadoop.ozone.om.ha.OMProxyInfo.&lt;init&gt;(OMProxyInfo.java:40)
	at org.apache.hadoop.ozone.om.ha.OMFailoverProxyProvider.loadOMClientConfigs(OMFailoverProxyProvider.java:109)
	at org.apache.hadoop.ozone.om.ha.OMFailoverProxyProvider.&lt;init&gt;(OMFailoverProxyProvider.java:77)
	at org.apache.hadoop.ozone.om.protocolPB.OzoneManagerProtocolClientSideTranslatorPB.&lt;init&gt;(OzoneManagerProtocolClientSideTranslatorPB.java:195)
	at org.apache.hadoop.ozone.client.rpc.RpcClient.&lt;init&gt;(RpcClient.java:155)
	at org.apache.hadoop.ozone.client.OzoneClientFactory.getClientProtocol(OzoneClientFactory.java:189)
	at org.apache.hadoop.ozone.client.OzoneClientFactory.getRpcClient(OzoneClientFactory.java:152)
	at org.apache.hadoop.ozone.web.ozShell.OzoneAddress.createClient(OzoneAddress.java:102)
	at org.apache.hadoop.ozone.web.ozShell.s3.GetS3SecretHandler.call(GetS3SecretHandler.java:45)
	at org.apache.hadoop.ozone.web.ozShell.s3.GetS3SecretHandler.call(GetS3SecretHandler.java:32)
	at picocli.CommandLine.execute(CommandLine.java:1173)
	at picocli.CommandLine.access$800(CommandLine.java:141)
	at picocli.CommandLine$RunLast.handle(CommandLine.java:1367)
	at picocli.CommandLine$RunLast.handle(CommandLine.java:1335)
	at picocli.CommandLine$AbstractParseResultHandler.handleParseResult(CommandLine.java:1243)
	at picocli.CommandLine.parseWithHandlers(CommandLine.java:1526)
	at picocli.CommandLine.parseWithHandler(CommandLine.java:1465)
	at org.apache.hadoop.hdds.cli.GenericCli.execute(GenericCli.java:65)
	at org.apache.hadoop.ozone.web.ozShell.s3.S3Shell.execute(S3Shell.java:43)
	at org.apache.hadoop.hdds.cli.GenericCli.run(GenericCli.java:56)
	at org.apache.hadoop.ozone.web.ozShell.s3.S3Shell.main(S3Shell.java:54)
Caused by: java.net.UnknownHostException: om
	... 22 more
om</msg>
<status status="PASS" endtime="20190830 01:12:15.851" starttime="20190830 01:12:15.850"></status>
</kw>
<kw name="Should Be Equal As Integers" library="BuiltIn">
<doc>Fails if objects are unequal after converting them to integers.</doc>
<arguments>
<arg>${rc}</arg>
<arg>0</arg>
</arguments>
<msg timestamp="20190830 01:12:15.852" level="INFO">Argument types are:
&lt;type 'int'&gt;
&lt;type 'unicode'&gt;</msg>
<msg timestamp="20190830 01:12:15.852" level="FAIL">255 != 0</msg>
<status status="FAIL" endtime="20190830 01:12:15.853" starttime="20190830 01:12:15.852"></status>
</kw>
<status status="FAIL" endtime="20190830 01:12:15.853" starttime="20190830 01:12:14.379"></status>
</kw>
<status status="FAIL" endtime="20190830 01:12:15.853" starttime="20190830 01:12:14.336"></status>
</kw>
<status status="FAIL" endtime="20190830 01:12:15.853" starttime="20190830 01:12:14.335"></status>
</kw>
<status status="FAIL" endtime="20190830 01:12:15.853" starttime="20190830 01:12:13.593"></status>
</kw>
<status status="FAIL" endtime="20190830 01:12:15.854" critical="yes" starttime="20190830 01:12:13.592">Setup failed:
255 != 0</status>
</test>
<doc>S3 gateway test with aws cli</doc>
<status status="FAIL" endtime="20190830 01:12:15.855" starttime="20190830 01:12:13.585"></status>
</suite>
<suite source="/opt/hadoop/smoketest/s3/MultipartUpload.robot" id="s1-s5" name="MultipartUpload">
<test id="s1-s5-t1" name="Test Multipart Upload">
<kw type="setup" name="Setup s3 tests" library="commonawslib">
<kw name="Run Keyword" library="BuiltIn">
<doc>Executes the given keyword with the given arguments.</doc>
<arguments>
<arg>Install aws cli</arg>
</arguments>
<kw name="Install aws cli" library="commonlib">
<kw name="Run And Return Rc And Output" library="OperatingSystem">
<doc>Runs the given command in the system and returns the RC and output.</doc>
<arguments>
<arg>which apt-get</arg>
</arguments>
<assign>
<var>${rc}</var>
<var>${output}</var>
</assign>
<msg timestamp="20190830 01:12:15.867" level="INFO">Running command 'which apt-get 2&gt;&amp;1'.</msg>
<msg timestamp="20190830 01:12:15.875" level="INFO">${rc} = 1</msg>
<msg timestamp="20190830 01:12:15.875" level="INFO">${output} = which: no apt-get in (/opt/hadoop/bin/docker:/usr/local/sbin:/usr/local/bin:/usr/sbin:/usr/bin:/sbin:/bin:/opt/hadoop/bin)</msg>
<status status="PASS" endtime="20190830 01:12:15.875" starttime="20190830 01:12:15.866"></status>
</kw>
<kw name="Run Keyword If" library="BuiltIn">
<doc>Runs the given keyword with the given arguments, if ``condition`` is true.</doc>
<arguments>
<arg>'${rc}' == '0'</arg>
<arg>Install aws cli s3 debian</arg>
</arguments>
<status status="PASS" endtime="20190830 01:12:15.877" starttime="20190830 01:12:15.876"></status>
</kw>
<kw name="Run And Return Rc And Output" library="OperatingSystem">
<doc>Runs the given command in the system and returns the RC and output.</doc>
<arguments>
<arg>yum --help</arg>
</arguments>
<assign>
<var>${rc}</var>
<var>${output}</var>
</assign>
<msg timestamp="20190830 01:12:15.879" level="INFO">Running command 'yum --help 2&gt;&amp;1'.</msg>
<msg timestamp="20190830 01:12:16.087" level="INFO">${rc} = 0</msg>
<msg timestamp="20190830 01:12:16.087" level="INFO">${output} = Loaded plugins: fastestmirror, ovl
ovl: Error while doing RPMdb copy-up:
[Errno 13] Permission denied: '/var/lib/rpm/Group'
Usage: yum [options] COMMAND

List of Commands:

check          Check for pr...</msg>
<status status="PASS" endtime="20190830 01:12:16.088" starttime="20190830 01:12:15.877"></status>
</kw>
<kw name="Run Keyword If" library="BuiltIn">
<doc>Runs the given keyword with the given arguments, if ``condition`` is true.</doc>
<arguments>
<arg>'${rc}' == '0'</arg>
<arg>Install aws cli s3 centos</arg>
</arguments>
<kw name="Install aws cli s3 centos" library="commonawslib">
<kw name="Execute" library="commonlib">
<arguments>
<arg>sudo yum install -y awscli</arg>
</arguments>
<kw name="Run And Return Rc And Output" library="OperatingSystem">
<doc>Runs the given command in the system and returns the RC and output.</doc>
<arguments>
<arg>${command}</arg>
</arguments>
<assign>
<var>${rc}</var>
<var>${output}</var>
</assign>
<msg timestamp="20190830 01:12:16.092" level="INFO">Running command 'sudo yum install -y awscli 2&gt;&amp;1'.</msg>
<msg timestamp="20190830 01:12:16.598" level="INFO">${rc} = 0</msg>
<msg timestamp="20190830 01:12:16.599" level="INFO">${output} = Loaded plugins: fastestmirror, ovl
Loading mirror speeds from cached hostfile
 * base: mirror.sjc02.svwh.net
 * epel: sjc.edge.kernel.org
 * extras: sjc.edge.kernel.org
 * updates: sjc.edge.kernel.org...</msg>
<status status="PASS" endtime="20190830 01:12:16.599" starttime="20190830 01:12:16.090"></status>
</kw>
<kw name="Log" library="BuiltIn">
<doc>Logs the given message with the given level.</doc>
<arguments>
<arg>${output}</arg>
</arguments>
<msg timestamp="20190830 01:12:16.601" level="INFO">Loaded plugins: fastestmirror, ovl
Loading mirror speeds from cached hostfile
 * base: mirror.sjc02.svwh.net
 * epel: sjc.edge.kernel.org
 * extras: sjc.edge.kernel.org
 * updates: sjc.edge.kernel.org
Package awscli-1.14.28-5.el7_5.1.noarch already installed and latest version
Nothing to do</msg>
<status status="PASS" endtime="20190830 01:12:16.601" starttime="20190830 01:12:16.600"></status>
</kw>
<kw name="Should Be Equal As Integers" library="BuiltIn">
<doc>Fails if objects are unequal after converting them to integers.</doc>
<arguments>
<arg>${rc}</arg>
<arg>0</arg>
</arguments>
<msg timestamp="20190830 01:12:16.602" level="INFO">Argument types are:
&lt;type 'int'&gt;
&lt;type 'unicode'&gt;</msg>
<status status="PASS" endtime="20190830 01:12:16.602" starttime="20190830 01:12:16.601"></status>
</kw>
<status status="PASS" endtime="20190830 01:12:16.603" starttime="20190830 01:12:16.090"></status>
</kw>
<status status="PASS" endtime="20190830 01:12:16.603" starttime="20190830 01:12:16.089"></status>
</kw>
<status status="PASS" endtime="20190830 01:12:16.603" starttime="20190830 01:12:16.088"></status>
</kw>
<status status="PASS" endtime="20190830 01:12:16.604" starttime="20190830 01:12:15.865"></status>
</kw>
<status status="PASS" endtime="20190830 01:12:16.604" starttime="20190830 01:12:15.865"></status>
</kw>
<kw name="Run Keyword If" library="BuiltIn">
<doc>Runs the given keyword with the given arguments, if ``condition`` is true.</doc>
<arguments>
<arg>'${OZONE_S3_SET_CREDENTIALS}' == 'true'</arg>
<arg>Setup v4 headers</arg>
</arguments>
<kw name="Setup v4 headers" library="commonawslib">
<kw name="Run Keyword If" library="BuiltIn">
<doc>Runs the given keyword with the given arguments, if ``condition`` is true.</doc>
<arguments>
<arg>'${SECURITY_ENABLED}' == 'true'</arg>
<arg>Kinit test user</arg>
<arg>testuser</arg>
<arg>testuser.keytab</arg>
</arguments>
<kw name="Kinit test user" library="commonlib">
<arguments>
<arg>testuser</arg>
<arg>testuser.keytab</arg>
</arguments>
<kw name="Execute" library="commonlib">
<arguments>
<arg>hostname</arg>
</arguments>
<assign>
<var>${hostname}</var>
</assign>
<kw name="Run And Return Rc And Output" library="OperatingSystem">
<doc>Runs the given command in the system and returns the RC and output.</doc>
<arguments>
<arg>${command}</arg>
</arguments>
<assign>
<var>${rc}</var>
<var>${output}</var>
</assign>
<msg timestamp="20190830 01:12:16.611" level="INFO">Running command 'hostname 2&gt;&amp;1'.</msg>
<msg timestamp="20190830 01:12:16.619" level="INFO">${rc} = 0</msg>
<msg timestamp="20190830 01:12:16.619" level="INFO">${output} = s3g</msg>
<status status="PASS" endtime="20190830 01:12:16.619" starttime="20190830 01:12:16.609"></status>
</kw>
<kw name="Log" library="BuiltIn">
<doc>Logs the given message with the given level.</doc>
<arguments>
<arg>${output}</arg>
</arguments>
<msg timestamp="20190830 01:12:16.621" level="INFO">s3g</msg>
<status status="PASS" endtime="20190830 01:12:16.621" starttime="20190830 01:12:16.620"></status>
</kw>
<kw name="Should Be Equal As Integers" library="BuiltIn">
<doc>Fails if objects are unequal after converting them to integers.</doc>
<arguments>
<arg>${rc}</arg>
<arg>0</arg>
</arguments>
<msg timestamp="20190830 01:12:16.622" level="INFO">Argument types are:
&lt;type 'int'&gt;
&lt;type 'unicode'&gt;</msg>
<status status="PASS" endtime="20190830 01:12:16.622" starttime="20190830 01:12:16.621"></status>
</kw>
<msg timestamp="20190830 01:12:16.623" level="INFO">${hostname} = s3g</msg>
<status status="PASS" endtime="20190830 01:12:16.623" starttime="20190830 01:12:16.608"></status>
</kw>
<kw name="Set Suite Variable" library="BuiltIn">
<doc>Makes a variable available everywhere within the scope of the current suite.</doc>
<arguments>
<arg>${TEST_USER}</arg>
<arg>${user}/${hostname}@EXAMPLE.COM</arg>
</arguments>
<msg timestamp="20190830 01:12:16.626" level="INFO">${TEST_USER} = testuser/s3g@EXAMPLE.COM</msg>
<status status="PASS" endtime="20190830 01:12:16.626" starttime="20190830 01:12:16.623"></status>
</kw>
<kw name="Wait Until Keyword Succeeds" library="BuiltIn">
<doc>Runs the specified keyword and retries if it fails.</doc>
<arguments>
<arg>2min</arg>
<arg>10sec</arg>
<arg>Execute</arg>
<arg>kinit -k ${user}/${hostname}@EXAMPLE.COM -t /etc/security/keytabs/${keytab}</arg>
</arguments>
<kw name="Execute" library="commonlib">
<arguments>
<arg>kinit -k ${user}/${hostname}@EXAMPLE.COM -t /etc/security/keytabs/${keytab}</arg>
</arguments>
<kw name="Run And Return Rc And Output" library="OperatingSystem">
<doc>Runs the given command in the system and returns the RC and output.</doc>
<arguments>
<arg>${command}</arg>
</arguments>
<assign>
<var>${rc}</var>
<var>${output}</var>
</assign>
<msg timestamp="20190830 01:12:16.630" level="INFO">Running command 'kinit -k testuser/s3g@EXAMPLE.COM -t /etc/security/keytabs/testuser.keytab 2&gt;&amp;1'.</msg>
<msg timestamp="20190830 01:12:16.648" level="INFO">${rc} = 0</msg>
<msg timestamp="20190830 01:12:16.648" level="INFO">${output} = </msg>
<status status="PASS" endtime="20190830 01:12:16.649" starttime="20190830 01:12:16.628"></status>
</kw>
<kw name="Log" library="BuiltIn">
<doc>Logs the given message with the given level.</doc>
<arguments>
<arg>${output}</arg>
</arguments>
<msg timestamp="20190830 01:12:16.650" level="INFO"></msg>
<status status="PASS" endtime="20190830 01:12:16.651" starttime="20190830 01:12:16.649"></status>
</kw>
<kw name="Should Be Equal As Integers" library="BuiltIn">
<doc>Fails if objects are unequal after converting them to integers.</doc>
<arguments>
<arg>${rc}</arg>
<arg>0</arg>
</arguments>
<msg timestamp="20190830 01:12:16.652" level="INFO">Argument types are:
&lt;type 'int'&gt;
&lt;type 'unicode'&gt;</msg>
<status status="PASS" endtime="20190830 01:12:16.652" starttime="20190830 01:12:16.651"></status>
</kw>
<status status="PASS" endtime="20190830 01:12:16.653" starttime="20190830 01:12:16.627"></status>
</kw>
<status status="PASS" endtime="20190830 01:12:16.653" starttime="20190830 01:12:16.626"></status>
</kw>
<status status="PASS" endtime="20190830 01:12:16.653" starttime="20190830 01:12:16.607"></status>
</kw>
<status status="PASS" endtime="20190830 01:12:16.653" starttime="20190830 01:12:16.606"></status>
</kw>
<kw name="Execute" library="commonlib">
<arguments>
<arg>ozone s3 getsecret</arg>
</arguments>
<assign>
<var>${result}</var>
</assign>
<kw name="Run And Return Rc And Output" library="OperatingSystem">
<doc>Runs the given command in the system and returns the RC and output.</doc>
<arguments>
<arg>${command}</arg>
</arguments>
<assign>
<var>${rc}</var>
<var>${output}</var>
</assign>
<msg timestamp="20190830 01:12:16.657" level="INFO">Running command 'ozone s3 getsecret 2&gt;&amp;1'.</msg>
<msg timestamp="20190830 01:12:18.045" level="INFO">${rc} = 255</msg>
<msg timestamp="20190830 01:12:18.045" level="INFO">${output} = WARNING: An illegal reflective access operation has occurred
WARNING: Illegal reflective access by org.apache.hadoop.security.authentication.util.KerberosUtil (file:/opt/hadoop/share/ozone/lib/hadoop-...</msg>
<status status="PASS" endtime="20190830 01:12:18.045" starttime="20190830 01:12:16.655"></status>
</kw>
<kw name="Log" library="BuiltIn">
<doc>Logs the given message with the given level.</doc>
<arguments>
<arg>${output}</arg>
</arguments>
<msg timestamp="20190830 01:12:18.047" level="INFO">WARNING: An illegal reflective access operation has occurred
WARNING: Illegal reflective access by org.apache.hadoop.security.authentication.util.KerberosUtil (file:/opt/hadoop/share/ozone/lib/hadoop-auth-3.2.0.jar) to method sun.security.krb5.Config.getInstance()
WARNING: Please consider reporting this to the maintainers of org.apache.hadoop.security.authentication.util.KerberosUtil
WARNING: Use --illegal-access=warn to enable warnings of further illegal reflective access operations
WARNING: All illegal access operations will be denied in a future release
2019-08-30 01:12:17 ERROR OzoneClientFactory:192 - Couldn't create RpcClient protocol exception: 
java.lang.IllegalArgumentException: java.net.UnknownHostException: om
	at org.apache.hadoop.security.SecurityUtil.buildTokenService(SecurityUtil.java:447)
	at org.apache.hadoop.ozone.om.ha.OMProxyInfo.&lt;init&gt;(OMProxyInfo.java:40)
	at org.apache.hadoop.ozone.om.ha.OMFailoverProxyProvider.loadOMClientConfigs(OMFailoverProxyProvider.java:109)
	at org.apache.hadoop.ozone.om.ha.OMFailoverProxyProvider.&lt;init&gt;(OMFailoverProxyProvider.java:77)
	at org.apache.hadoop.ozone.om.protocolPB.OzoneManagerProtocolClientSideTranslatorPB.&lt;init&gt;(OzoneManagerProtocolClientSideTranslatorPB.java:195)
	at org.apache.hadoop.ozone.client.rpc.RpcClient.&lt;init&gt;(RpcClient.java:155)
	at org.apache.hadoop.ozone.client.OzoneClientFactory.getClientProtocol(OzoneClientFactory.java:189)
	at org.apache.hadoop.ozone.client.OzoneClientFactory.getRpcClient(OzoneClientFactory.java:152)
	at org.apache.hadoop.ozone.web.ozShell.OzoneAddress.createClient(OzoneAddress.java:102)
	at org.apache.hadoop.ozone.web.ozShell.s3.GetS3SecretHandler.call(GetS3SecretHandler.java:45)
	at org.apache.hadoop.ozone.web.ozShell.s3.GetS3SecretHandler.call(GetS3SecretHandler.java:32)
	at picocli.CommandLine.execute(CommandLine.java:1173)
	at picocli.CommandLine.access$800(CommandLine.java:141)
	at picocli.CommandLine$RunLast.handle(CommandLine.java:1367)
	at picocli.CommandLine$RunLast.handle(CommandLine.java:1335)
	at picocli.CommandLine$AbstractParseResultHandler.handleParseResult(CommandLine.java:1243)
	at picocli.CommandLine.parseWithHandlers(CommandLine.java:1526)
	at picocli.CommandLine.parseWithHandler(CommandLine.java:1465)
	at org.apache.hadoop.hdds.cli.GenericCli.execute(GenericCli.java:65)
	at org.apache.hadoop.ozone.web.ozShell.s3.S3Shell.execute(S3Shell.java:43)
	at org.apache.hadoop.hdds.cli.GenericCli.run(GenericCli.java:56)
	at org.apache.hadoop.ozone.web.ozShell.s3.S3Shell.main(S3Shell.java:54)
Caused by: java.net.UnknownHostException: om
	... 22 more
om</msg>
<status status="PASS" endtime="20190830 01:12:18.047" starttime="20190830 01:12:18.046"></status>
</kw>
<kw name="Should Be Equal As Integers" library="BuiltIn">
<doc>Fails if objects are unequal after converting them to integers.</doc>
<arguments>
<arg>${rc}</arg>
<arg>0</arg>
</arguments>
<msg timestamp="20190830 01:12:18.048" level="INFO">Argument types are:
&lt;type 'int'&gt;
&lt;type 'unicode'&gt;</msg>
<msg timestamp="20190830 01:12:18.048" level="FAIL">255 != 0</msg>
<status status="FAIL" endtime="20190830 01:12:18.048" starttime="20190830 01:12:18.047"></status>
</kw>
<status status="FAIL" endtime="20190830 01:12:18.049" starttime="20190830 01:12:16.654"></status>
</kw>
<status status="FAIL" endtime="20190830 01:12:18.049" starttime="20190830 01:12:16.605"></status>
</kw>
<status status="FAIL" endtime="20190830 01:12:18.049" starttime="20190830 01:12:16.604"></status>
</kw>
<status status="FAIL" endtime="20190830 01:12:18.049" starttime="20190830 01:12:15.864"></status>
</kw>
<status status="FAIL" endtime="20190830 01:12:18.050" critical="yes" starttime="20190830 01:12:15.863">Setup failed:
255 != 0</status>
</test>
<test id="s1-s5-t2" name="Test Multipart Upload Complete">
<kw type="setup" name="Setup s3 tests" library="commonawslib">
<kw name="Run Keyword" library="BuiltIn">
<doc>Executes the given keyword with the given arguments.</doc>
<arguments>
<arg>Install aws cli</arg>
</arguments>
<kw name="Install aws cli" library="commonlib">
<kw name="Run And Return Rc And Output" library="OperatingSystem">
<doc>Runs the given command in the system and returns the RC and output.</doc>
<arguments>
<arg>which apt-get</arg>
</arguments>
<assign>
<var>${rc}</var>
<var>${output}</var>
</assign>
<msg timestamp="20190830 01:12:18.055" level="INFO">Running command 'which apt-get 2&gt;&amp;1'.</msg>
<msg timestamp="20190830 01:12:18.060" level="INFO">${rc} = 1</msg>
<msg timestamp="20190830 01:12:18.060" level="INFO">${output} = which: no apt-get in (/opt/hadoop/bin/docker:/usr/local/sbin:/usr/local/bin:/usr/sbin:/usr/bin:/sbin:/bin:/opt/hadoop/bin)</msg>
<status status="PASS" endtime="20190830 01:12:18.060" starttime="20190830 01:12:18.053"></status>
</kw>
<kw name="Run Keyword If" library="BuiltIn">
<doc>Runs the given keyword with the given arguments, if ``condition`` is true.</doc>
<arguments>
<arg>'${rc}' == '0'</arg>
<arg>Install aws cli s3 debian</arg>
</arguments>
<status status="PASS" endtime="20190830 01:12:18.061" starttime="20190830 01:12:18.060"></status>
</kw>
<kw name="Run And Return Rc And Output" library="OperatingSystem">
<doc>Runs the given command in the system and returns the RC and output.</doc>
<arguments>
<arg>yum --help</arg>
</arguments>
<assign>
<var>${rc}</var>
<var>${output}</var>
</assign>
<msg timestamp="20190830 01:12:18.063" level="INFO">Running command 'yum --help 2&gt;&amp;1'.</msg>
<msg timestamp="20190830 01:12:18.224" level="INFO">${rc} = 0</msg>
<msg timestamp="20190830 01:12:18.224" level="INFO">${output} = Loaded plugins: fastestmirror, ovl
ovl: Error while doing RPMdb copy-up:
[Errno 13] Permission denied: '/var/lib/rpm/Group'
Usage: yum [options] COMMAND

List of Commands:

check          Check for pr...</msg>
<status status="PASS" endtime="20190830 01:12:18.224" starttime="20190830 01:12:18.061"></status>
</kw>
<kw name="Run Keyword If" library="BuiltIn">
<doc>Runs the given keyword with the given arguments, if ``condition`` is true.</doc>
<arguments>
<arg>'${rc}' == '0'</arg>
<arg>Install aws cli s3 centos</arg>
</arguments>
<kw name="Install aws cli s3 centos" library="commonawslib">
<kw name="Execute" library="commonlib">
<arguments>
<arg>sudo yum install -y awscli</arg>
</arguments>
<kw name="Run And Return Rc And Output" library="OperatingSystem">
<doc>Runs the given command in the system and returns the RC and output.</doc>
<arguments>
<arg>${command}</arg>
</arguments>
<assign>
<var>${rc}</var>
<var>${output}</var>
</assign>
<msg timestamp="20190830 01:12:18.230" level="INFO">Running command 'sudo yum install -y awscli 2&gt;&amp;1'.</msg>
<msg timestamp="20190830 01:12:18.692" level="INFO">${rc} = 0</msg>
<msg timestamp="20190830 01:12:18.692" level="INFO">${output} = Loaded plugins: fastestmirror, ovl
Loading mirror speeds from cached hostfile
 * base: mirror.sjc02.svwh.net
 * epel: sjc.edge.kernel.org
 * extras: sjc.edge.kernel.org
 * updates: sjc.edge.kernel.org...</msg>
<status status="PASS" endtime="20190830 01:12:18.692" starttime="20190830 01:12:18.228"></status>
</kw>
<kw name="Log" library="BuiltIn">
<doc>Logs the given message with the given level.</doc>
<arguments>
<arg>${output}</arg>
</arguments>
<msg timestamp="20190830 01:12:18.694" level="INFO">Loaded plugins: fastestmirror, ovl
Loading mirror speeds from cached hostfile
 * base: mirror.sjc02.svwh.net
 * epel: sjc.edge.kernel.org
 * extras: sjc.edge.kernel.org
 * updates: sjc.edge.kernel.org
Package awscli-1.14.28-5.el7_5.1.noarch already installed and latest version
Nothing to do</msg>
<status status="PASS" endtime="20190830 01:12:18.694" starttime="20190830 01:12:18.693"></status>
</kw>
<kw name="Should Be Equal As Integers" library="BuiltIn">
<doc>Fails if objects are unequal after converting them to integers.</doc>
<arguments>
<arg>${rc}</arg>
<arg>0</arg>
</arguments>
<msg timestamp="20190830 01:12:18.695" level="INFO">Argument types are:
&lt;type 'int'&gt;
&lt;type 'unicode'&gt;</msg>
<status status="PASS" endtime="20190830 01:12:18.695" starttime="20190830 01:12:18.694"></status>
</kw>
<status status="PASS" endtime="20190830 01:12:18.696" starttime="20190830 01:12:18.227"></status>
</kw>
<status status="PASS" endtime="20190830 01:12:18.696" starttime="20190830 01:12:18.227"></status>
</kw>
<status status="PASS" endtime="20190830 01:12:18.696" starttime="20190830 01:12:18.225"></status>
</kw>
<status status="PASS" endtime="20190830 01:12:18.696" starttime="20190830 01:12:18.052"></status>
</kw>
<status status="PASS" endtime="20190830 01:12:18.697" starttime="20190830 01:12:18.052"></status>
</kw>
<kw name="Run Keyword If" library="BuiltIn">
<doc>Runs the given keyword with the given arguments, if ``condition`` is true.</doc>
<arguments>
<arg>'${OZONE_S3_SET_CREDENTIALS}' == 'true'</arg>
<arg>Setup v4 headers</arg>
</arguments>
<kw name="Setup v4 headers" library="commonawslib">
<kw name="Run Keyword If" library="BuiltIn">
<doc>Runs the given keyword with the given arguments, if ``condition`` is true.</doc>
<arguments>
<arg>'${SECURITY_ENABLED}' == 'true'</arg>
<arg>Kinit test user</arg>
<arg>testuser</arg>
<arg>testuser.keytab</arg>
</arguments>
<kw name="Kinit test user" library="commonlib">
<arguments>
<arg>testuser</arg>
<arg>testuser.keytab</arg>
</arguments>
<kw name="Execute" library="commonlib">
<arguments>
<arg>hostname</arg>
</arguments>
<assign>
<var>${hostname}</var>
</assign>
<kw name="Run And Return Rc And Output" library="OperatingSystem">
<doc>Runs the given command in the system and returns the RC and output.</doc>
<arguments>
<arg>${command}</arg>
</arguments>
<assign>
<var>${rc}</var>
<var>${output}</var>
</assign>
<msg timestamp="20190830 01:12:18.704" level="INFO">Running command 'hostname 2&gt;&amp;1'.</msg>
<msg timestamp="20190830 01:12:18.710" level="INFO">${rc} = 0</msg>
<msg timestamp="20190830 01:12:18.710" level="INFO">${output} = s3g</msg>
<status status="PASS" endtime="20190830 01:12:18.710" starttime="20190830 01:12:18.702"></status>
</kw>
<kw name="Log" library="BuiltIn">
<doc>Logs the given message with the given level.</doc>
<arguments>
<arg>${output}</arg>
</arguments>
<msg timestamp="20190830 01:12:18.711" level="INFO">s3g</msg>
<status status="PASS" endtime="20190830 01:12:18.712" starttime="20190830 01:12:18.711"></status>
</kw>
<kw name="Should Be Equal As Integers" library="BuiltIn">
<doc>Fails if objects are unequal after converting them to integers.</doc>
<arguments>
<arg>${rc}</arg>
<arg>0</arg>
</arguments>
<msg timestamp="20190830 01:12:18.712" level="INFO">Argument types are:
&lt;type 'int'&gt;
&lt;type 'unicode'&gt;</msg>
<status status="PASS" endtime="20190830 01:12:18.713" starttime="20190830 01:12:18.712"></status>
</kw>
<msg timestamp="20190830 01:12:18.713" level="INFO">${hostname} = s3g</msg>
<status status="PASS" endtime="20190830 01:12:18.713" starttime="20190830 01:12:18.701"></status>
</kw>
<kw name="Set Suite Variable" library="BuiltIn">
<doc>Makes a variable available everywhere within the scope of the current suite.</doc>
<arguments>
<arg>${TEST_USER}</arg>
<arg>${user}/${hostname}@EXAMPLE.COM</arg>
</arguments>
<msg timestamp="20190830 01:12:18.715" level="INFO">${TEST_USER} = testuser/s3g@EXAMPLE.COM</msg>
<status status="PASS" endtime="20190830 01:12:18.715" starttime="20190830 01:12:18.714"></status>
</kw>
<kw name="Wait Until Keyword Succeeds" library="BuiltIn">
<doc>Runs the specified keyword and retries if it fails.</doc>
<arguments>
<arg>2min</arg>
<arg>10sec</arg>
<arg>Execute</arg>
<arg>kinit -k ${user}/${hostname}@EXAMPLE.COM -t /etc/security/keytabs/${keytab}</arg>
</arguments>
<kw name="Execute" library="commonlib">
<arguments>
<arg>kinit -k ${user}/${hostname}@EXAMPLE.COM -t /etc/security/keytabs/${keytab}</arg>
</arguments>
<kw name="Run And Return Rc And Output" library="OperatingSystem">
<doc>Runs the given command in the system and returns the RC and output.</doc>
<arguments>
<arg>${command}</arg>
</arguments>
<assign>
<var>${rc}</var>
<var>${output}</var>
</assign>
<msg timestamp="20190830 01:12:18.719" level="INFO">Running command 'kinit -k testuser/s3g@EXAMPLE.COM -t /etc/security/keytabs/testuser.keytab 2&gt;&amp;1'.</msg>
<msg timestamp="20190830 01:12:18.732" level="INFO">${rc} = 0</msg>
<msg timestamp="20190830 01:12:18.732" level="INFO">${output} = </msg>
<status status="PASS" endtime="20190830 01:12:18.732" starttime="20190830 01:12:18.717"></status>
</kw>
<kw name="Log" library="BuiltIn">
<doc>Logs the given message with the given level.</doc>
<arguments>
<arg>${output}</arg>
</arguments>
<msg timestamp="20190830 01:12:18.733" level="INFO"></msg>
<status status="PASS" endtime="20190830 01:12:18.734" starttime="20190830 01:12:18.733"></status>
</kw>
<kw name="Should Be Equal As Integers" library="BuiltIn">
<doc>Fails if objects are unequal after converting them to integers.</doc>
<arguments>
<arg>${rc}</arg>
<arg>0</arg>
</arguments>
<msg timestamp="20190830 01:12:18.734" level="INFO">Argument types are:
&lt;type 'int'&gt;
&lt;type 'unicode'&gt;</msg>
<status status="PASS" endtime="20190830 01:12:18.735" starttime="20190830 01:12:18.734"></status>
</kw>
<status status="PASS" endtime="20190830 01:12:18.735" starttime="20190830 01:12:18.716"></status>
</kw>
<status status="PASS" endtime="20190830 01:12:18.735" starttime="20190830 01:12:18.715"></status>
</kw>
<status status="PASS" endtime="20190830 01:12:18.735" starttime="20190830 01:12:18.700"></status>
</kw>
<status status="PASS" endtime="20190830 01:12:18.736" starttime="20190830 01:12:18.699"></status>
</kw>
<kw name="Execute" library="commonlib">
<arguments>
<arg>ozone s3 getsecret</arg>
</arguments>
<assign>
<var>${result}</var>
</assign>
<kw name="Run And Return Rc And Output" library="OperatingSystem">
<doc>Runs the given command in the system and returns the RC and output.</doc>
<arguments>
<arg>${command}</arg>
</arguments>
<assign>
<var>${rc}</var>
<var>${output}</var>
</assign>
<msg timestamp="20190830 01:12:18.738" level="INFO">Running command 'ozone s3 getsecret 2&gt;&amp;1'.</msg>
<msg timestamp="20190830 01:12:20.170" level="INFO">${rc} = 255</msg>
<msg timestamp="20190830 01:12:20.171" level="INFO">${output} = WARNING: An illegal reflective access operation has occurred
WARNING: Illegal reflective access by org.apache.hadoop.security.authentication.util.KerberosUtil (file:/opt/hadoop/share/ozone/lib/hadoop-...</msg>
<status status="PASS" endtime="20190830 01:12:20.171" starttime="20190830 01:12:18.737"></status>
</kw>
<kw name="Log" library="BuiltIn">
<doc>Logs the given message with the given level.</doc>
<arguments>
<arg>${output}</arg>
</arguments>
<msg timestamp="20190830 01:12:20.172" level="INFO">WARNING: An illegal reflective access operation has occurred
WARNING: Illegal reflective access by org.apache.hadoop.security.authentication.util.KerberosUtil (file:/opt/hadoop/share/ozone/lib/hadoop-auth-3.2.0.jar) to method sun.security.krb5.Config.getInstance()
WARNING: Please consider reporting this to the maintainers of org.apache.hadoop.security.authentication.util.KerberosUtil
WARNING: Use --illegal-access=warn to enable warnings of further illegal reflective access operations
WARNING: All illegal access operations will be denied in a future release
2019-08-30 01:12:20 ERROR OzoneClientFactory:192 - Couldn't create RpcClient protocol exception: 
java.lang.IllegalArgumentException: java.net.UnknownHostException: om
	at org.apache.hadoop.security.SecurityUtil.buildTokenService(SecurityUtil.java:447)
	at org.apache.hadoop.ozone.om.ha.OMProxyInfo.&lt;init&gt;(OMProxyInfo.java:40)
	at org.apache.hadoop.ozone.om.ha.OMFailoverProxyProvider.loadOMClientConfigs(OMFailoverProxyProvider.java:109)
	at org.apache.hadoop.ozone.om.ha.OMFailoverProxyProvider.&lt;init&gt;(OMFailoverProxyProvider.java:77)
	at org.apache.hadoop.ozone.om.protocolPB.OzoneManagerProtocolClientSideTranslatorPB.&lt;init&gt;(OzoneManagerProtocolClientSideTranslatorPB.java:195)
	at org.apache.hadoop.ozone.client.rpc.RpcClient.&lt;init&gt;(RpcClient.java:155)
	at org.apache.hadoop.ozone.client.OzoneClientFactory.getClientProtocol(OzoneClientFactory.java:189)
	at org.apache.hadoop.ozone.client.OzoneClientFactory.getRpcClient(OzoneClientFactory.java:152)
	at org.apache.hadoop.ozone.web.ozShell.OzoneAddress.createClient(OzoneAddress.java:102)
	at org.apache.hadoop.ozone.web.ozShell.s3.GetS3SecretHandler.call(GetS3SecretHandler.java:45)
	at org.apache.hadoop.ozone.web.ozShell.s3.GetS3SecretHandler.call(GetS3SecretHandler.java:32)
	at picocli.CommandLine.execute(CommandLine.java:1173)
	at picocli.CommandLine.access$800(CommandLine.java:141)
	at picocli.CommandLine$RunLast.handle(CommandLine.java:1367)
	at picocli.CommandLine$RunLast.handle(CommandLine.java:1335)
	at picocli.CommandLine$AbstractParseResultHandler.handleParseResult(CommandLine.java:1243)
	at picocli.CommandLine.parseWithHandlers(CommandLine.java:1526)
	at picocli.CommandLine.parseWithHandler(CommandLine.java:1465)
	at org.apache.hadoop.hdds.cli.GenericCli.execute(GenericCli.java:65)
	at org.apache.hadoop.ozone.web.ozShell.s3.S3Shell.execute(S3Shell.java:43)
	at org.apache.hadoop.hdds.cli.GenericCli.run(GenericCli.java:56)
	at org.apache.hadoop.ozone.web.ozShell.s3.S3Shell.main(S3Shell.java:54)
Caused by: java.net.UnknownHostException: om
	... 22 more
om</msg>
<status status="PASS" endtime="20190830 01:12:20.172" starttime="20190830 01:12:20.171"></status>
</kw>
<kw name="Should Be Equal As Integers" library="BuiltIn">
<doc>Fails if objects are unequal after converting them to integers.</doc>
<arguments>
<arg>${rc}</arg>
<arg>0</arg>
</arguments>
<msg timestamp="20190830 01:12:20.173" level="INFO">Argument types are:
&lt;type 'int'&gt;
&lt;type 'unicode'&gt;</msg>
<msg timestamp="20190830 01:12:20.174" level="FAIL">255 != 0</msg>
<status status="FAIL" endtime="20190830 01:12:20.174" starttime="20190830 01:12:20.173"></status>
</kw>
<status status="FAIL" endtime="20190830 01:12:20.174" starttime="20190830 01:12:18.736"></status>
</kw>
<status status="FAIL" endtime="20190830 01:12:20.174" starttime="20190830 01:12:18.698"></status>
</kw>
<status status="FAIL" endtime="20190830 01:12:20.174" starttime="20190830 01:12:18.697"></status>
</kw>
<status status="FAIL" endtime="20190830 01:12:20.175" starttime="20190830 01:12:18.051"></status>
</kw>
<status status="FAIL" endtime="20190830 01:12:20.175" critical="yes" starttime="20190830 01:12:18.050">Setup failed:
255 != 0</status>
</test>
<test id="s1-s5-t3" name="Test Multipart Upload Complete Entity too small">
<kw type="setup" name="Setup s3 tests" library="commonawslib">
<kw name="Run Keyword" library="BuiltIn">
<doc>Executes the given keyword with the given arguments.</doc>
<arguments>
<arg>Install aws cli</arg>
</arguments>
<kw name="Install aws cli" library="commonlib">
<kw name="Run And Return Rc And Output" library="OperatingSystem">
<doc>Runs the given command in the system and returns the RC and output.</doc>
<arguments>
<arg>which apt-get</arg>
</arguments>
<assign>
<var>${rc}</var>
<var>${output}</var>
</assign>
<msg timestamp="20190830 01:12:20.180" level="INFO">Running command 'which apt-get 2&gt;&amp;1'.</msg>
<msg timestamp="20190830 01:12:20.187" level="INFO">${rc} = 1</msg>
<msg timestamp="20190830 01:12:20.187" level="INFO">${output} = which: no apt-get in (/opt/hadoop/bin/docker:/usr/local/sbin:/usr/local/bin:/usr/sbin:/usr/bin:/sbin:/bin:/opt/hadoop/bin)</msg>
<status status="PASS" endtime="20190830 01:12:20.187" starttime="20190830 01:12:20.179"></status>
</kw>
<kw name="Run Keyword If" library="BuiltIn">
<doc>Runs the given keyword with the given arguments, if ``condition`` is true.</doc>
<arguments>
<arg>'${rc}' == '0'</arg>
<arg>Install aws cli s3 debian</arg>
</arguments>
<status status="PASS" endtime="20190830 01:12:20.189" starttime="20190830 01:12:20.188"></status>
</kw>
<kw name="Run And Return Rc And Output" library="OperatingSystem">
<doc>Runs the given command in the system and returns the RC and output.</doc>
<arguments>
<arg>yum --help</arg>
</arguments>
<assign>
<var>${rc}</var>
<var>${output}</var>
</assign>
<msg timestamp="20190830 01:12:20.190" level="INFO">Running command 'yum --help 2&gt;&amp;1'.</msg>
<msg timestamp="20190830 01:12:20.362" level="INFO">${rc} = 0</msg>
<msg timestamp="20190830 01:12:20.362" level="INFO">${output} = Loaded plugins: fastestmirror, ovl
ovl: Error while doing RPMdb copy-up:
[Errno 13] Permission denied: '/var/lib/rpm/Group'
Usage: yum [options] COMMAND

List of Commands:

check          Check for pr...</msg>
<status status="PASS" endtime="20190830 01:12:20.363" starttime="20190830 01:12:20.189"></status>
</kw>
<kw name="Run Keyword If" library="BuiltIn">
<doc>Runs the given keyword with the given arguments, if ``condition`` is true.</doc>
<arguments>
<arg>'${rc}' == '0'</arg>
<arg>Install aws cli s3 centos</arg>
</arguments>
<kw name="Install aws cli s3 centos" library="commonawslib">
<kw name="Execute" library="commonlib">
<arguments>
<arg>sudo yum install -y awscli</arg>
</arguments>
<kw name="Run And Return Rc And Output" library="OperatingSystem">
<doc>Runs the given command in the system and returns the RC and output.</doc>
<arguments>
<arg>${command}</arg>
</arguments>
<assign>
<var>${rc}</var>
<var>${output}</var>
</assign>
<msg timestamp="20190830 01:12:20.369" level="INFO">Running command 'sudo yum install -y awscli 2&gt;&amp;1'.</msg>
<msg timestamp="20190830 01:12:20.794" level="INFO">${rc} = 0</msg>
<msg timestamp="20190830 01:12:20.794" level="INFO">${output} = Loaded plugins: fastestmirror, ovl
Loading mirror speeds from cached hostfile
 * base: mirror.sjc02.svwh.net
 * epel: sjc.edge.kernel.org
 * extras: sjc.edge.kernel.org
 * updates: sjc.edge.kernel.org...</msg>
<status status="PASS" endtime="20190830 01:12:20.794" starttime="20190830 01:12:20.366"></status>
</kw>
<kw name="Log" library="BuiltIn">
<doc>Logs the given message with the given level.</doc>
<arguments>
<arg>${output}</arg>
</arguments>
<msg timestamp="20190830 01:12:20.796" level="INFO">Loaded plugins: fastestmirror, ovl
Loading mirror speeds from cached hostfile
 * base: mirror.sjc02.svwh.net
 * epel: sjc.edge.kernel.org
 * extras: sjc.edge.kernel.org
 * updates: sjc.edge.kernel.org
Package awscli-1.14.28-5.el7_5.1.noarch already installed and latest version
Nothing to do</msg>
<status status="PASS" endtime="20190830 01:12:20.797" starttime="20190830 01:12:20.795"></status>
</kw>
<kw name="Should Be Equal As Integers" library="BuiltIn">
<doc>Fails if objects are unequal after converting them to integers.</doc>
<arguments>
<arg>${rc}</arg>
<arg>0</arg>
</arguments>
<msg timestamp="20190830 01:12:20.798" level="INFO">Argument types are:
&lt;type 'int'&gt;
&lt;type 'unicode'&gt;</msg>
<status status="PASS" endtime="20190830 01:12:20.798" starttime="20190830 01:12:20.797"></status>
</kw>
<status status="PASS" endtime="20190830 01:12:20.798" starttime="20190830 01:12:20.365"></status>
</kw>
<status status="PASS" endtime="20190830 01:12:20.799" starttime="20190830 01:12:20.365"></status>
</kw>
<status status="PASS" endtime="20190830 01:12:20.799" starttime="20190830 01:12:20.363"></status>
</kw>
<status status="PASS" endtime="20190830 01:12:20.799" starttime="20190830 01:12:20.178"></status>
</kw>
<status status="PASS" endtime="20190830 01:12:20.799" starttime="20190830 01:12:20.177"></status>
</kw>
<kw name="Run Keyword If" library="BuiltIn">
<doc>Runs the given keyword with the given arguments, if ``condition`` is true.</doc>
<arguments>
<arg>'${OZONE_S3_SET_CREDENTIALS}' == 'true'</arg>
<arg>Setup v4 headers</arg>
</arguments>
<kw name="Setup v4 headers" library="commonawslib">
<kw name="Run Keyword If" library="BuiltIn">
<doc>Runs the given keyword with the given arguments, if ``condition`` is true.</doc>
<arguments>
<arg>'${SECURITY_ENABLED}' == 'true'</arg>
<arg>Kinit test user</arg>
<arg>testuser</arg>
<arg>testuser.keytab</arg>
</arguments>
<kw name="Kinit test user" library="commonlib">
<arguments>
<arg>testuser</arg>
<arg>testuser.keytab</arg>
</arguments>
<kw name="Execute" library="commonlib">
<arguments>
<arg>hostname</arg>
</arguments>
<assign>
<var>${hostname}</var>
</assign>
<kw name="Run And Return Rc And Output" library="OperatingSystem">
<doc>Runs the given command in the system and returns the RC and output.</doc>
<arguments>
<arg>${command}</arg>
</arguments>
<assign>
<var>${rc}</var>
<var>${output}</var>
</assign>
<msg timestamp="20190830 01:12:20.809" level="INFO">Running command 'hostname 2&gt;&amp;1'.</msg>
<msg timestamp="20190830 01:12:20.816" level="INFO">${rc} = 0</msg>
<msg timestamp="20190830 01:12:20.816" level="INFO">${output} = s3g</msg>
<status status="PASS" endtime="20190830 01:12:20.816" starttime="20190830 01:12:20.806"></status>
</kw>
<kw name="Log" library="BuiltIn">
<doc>Logs the given message with the given level.</doc>
<arguments>
<arg>${output}</arg>
</arguments>
<msg timestamp="20190830 01:12:20.818" level="INFO">s3g</msg>
<status status="PASS" endtime="20190830 01:12:20.818" starttime="20190830 01:12:20.817"></status>
</kw>
<kw name="Should Be Equal As Integers" library="BuiltIn">
<doc>Fails if objects are unequal after converting them to integers.</doc>
<arguments>
<arg>${rc}</arg>
<arg>0</arg>
</arguments>
<msg timestamp="20190830 01:12:20.819" level="INFO">Argument types are:
&lt;type 'int'&gt;
&lt;type 'unicode'&gt;</msg>
<status status="PASS" endtime="20190830 01:12:20.819" starttime="20190830 01:12:20.818"></status>
</kw>
<msg timestamp="20190830 01:12:20.819" level="INFO">${hostname} = s3g</msg>
<status status="PASS" endtime="20190830 01:12:20.819" starttime="20190830 01:12:20.805"></status>
</kw>
<kw name="Set Suite Variable" library="BuiltIn">
<doc>Makes a variable available everywhere within the scope of the current suite.</doc>
<arguments>
<arg>${TEST_USER}</arg>
<arg>${user}/${hostname}@EXAMPLE.COM</arg>
</arguments>
<msg timestamp="20190830 01:12:20.821" level="INFO">${TEST_USER} = testuser/s3g@EXAMPLE.COM</msg>
<status status="PASS" endtime="20190830 01:12:20.821" starttime="20190830 01:12:20.820"></status>
</kw>
<kw name="Wait Until Keyword Succeeds" library="BuiltIn">
<doc>Runs the specified keyword and retries if it fails.</doc>
<arguments>
<arg>2min</arg>
<arg>10sec</arg>
<arg>Execute</arg>
<arg>kinit -k ${user}/${hostname}@EXAMPLE.COM -t /etc/security/keytabs/${keytab}</arg>
</arguments>
<kw name="Execute" library="commonlib">
<arguments>
<arg>kinit -k ${user}/${hostname}@EXAMPLE.COM -t /etc/security/keytabs/${keytab}</arg>
</arguments>
<kw name="Run And Return Rc And Output" library="OperatingSystem">
<doc>Runs the given command in the system and returns the RC and output.</doc>
<arguments>
<arg>${command}</arg>
</arguments>
<assign>
<var>${rc}</var>
<var>${output}</var>
</assign>
<msg timestamp="20190830 01:12:20.825" level="INFO">Running command 'kinit -k testuser/s3g@EXAMPLE.COM -t /etc/security/keytabs/testuser.keytab 2&gt;&amp;1'.</msg>
<msg timestamp="20190830 01:12:20.839" level="INFO">${rc} = 0</msg>
<msg timestamp="20190830 01:12:20.840" level="INFO">${output} = </msg>
<status status="PASS" endtime="20190830 01:12:20.840" starttime="20190830 01:12:20.823"></status>
</kw>
<kw name="Log" library="BuiltIn">
<doc>Logs the given message with the given level.</doc>
<arguments>
<arg>${output}</arg>
</arguments>
<msg timestamp="20190830 01:12:20.841" level="INFO"></msg>
<status status="PASS" endtime="20190830 01:12:20.841" starttime="20190830 01:12:20.840"></status>
</kw>
<kw name="Should Be Equal As Integers" library="BuiltIn">
<doc>Fails if objects are unequal after converting them to integers.</doc>
<arguments>
<arg>${rc}</arg>
<arg>0</arg>
</arguments>
<msg timestamp="20190830 01:12:20.842" level="INFO">Argument types are:
&lt;type 'int'&gt;
&lt;type 'unicode'&gt;</msg>
<status status="PASS" endtime="20190830 01:12:20.842" starttime="20190830 01:12:20.842"></status>
</kw>
<status status="PASS" endtime="20190830 01:12:20.843" starttime="20190830 01:12:20.822"></status>
</kw>
<status status="PASS" endtime="20190830 01:12:20.843" starttime="20190830 01:12:20.821"></status>
</kw>
<status status="PASS" endtime="20190830 01:12:20.843" starttime="20190830 01:12:20.803"></status>
</kw>
<status status="PASS" endtime="20190830 01:12:20.843" starttime="20190830 01:12:20.802"></status>
</kw>
<kw name="Execute" library="commonlib">
<arguments>
<arg>ozone s3 getsecret</arg>
</arguments>
<assign>
<var>${result}</var>
</assign>
<kw name="Run And Return Rc And Output" library="OperatingSystem">
<doc>Runs the given command in the system and returns the RC and output.</doc>
<arguments>
<arg>${command}</arg>
</arguments>
<assign>
<var>${rc}</var>
<var>${output}</var>
</assign>
<msg timestamp="20190830 01:12:20.846" level="INFO">Running command 'ozone s3 getsecret 2&gt;&amp;1'.</msg>
<msg timestamp="20190830 01:12:22.275" level="INFO">${rc} = 255</msg>
<msg timestamp="20190830 01:12:22.275" level="INFO">${output} = WARNING: An illegal reflective access operation has occurred
WARNING: Illegal reflective access by org.apache.hadoop.security.authentication.util.KerberosUtil (file:/opt/hadoop/share/ozone/lib/hadoop-...</msg>
<status status="PASS" endtime="20190830 01:12:22.275" starttime="20190830 01:12:20.844"></status>
</kw>
<kw name="Log" library="BuiltIn">
<doc>Logs the given message with the given level.</doc>
<arguments>
<arg>${output}</arg>
</arguments>
<msg timestamp="20190830 01:12:22.276" level="INFO">WARNING: An illegal reflective access operation has occurred
WARNING: Illegal reflective access by org.apache.hadoop.security.authentication.util.KerberosUtil (file:/opt/hadoop/share/ozone/lib/hadoop-auth-3.2.0.jar) to method sun.security.krb5.Config.getInstance()
WARNING: Please consider reporting this to the maintainers of org.apache.hadoop.security.authentication.util.KerberosUtil
WARNING: Use --illegal-access=warn to enable warnings of further illegal reflective access operations
WARNING: All illegal access operations will be denied in a future release
2019-08-30 01:12:22 ERROR OzoneClientFactory:192 - Couldn't create RpcClient protocol exception: 
java.lang.IllegalArgumentException: java.net.UnknownHostException: om
	at org.apache.hadoop.security.SecurityUtil.buildTokenService(SecurityUtil.java:447)
	at org.apache.hadoop.ozone.om.ha.OMProxyInfo.&lt;init&gt;(OMProxyInfo.java:40)
	at org.apache.hadoop.ozone.om.ha.OMFailoverProxyProvider.loadOMClientConfigs(OMFailoverProxyProvider.java:109)
	at org.apache.hadoop.ozone.om.ha.OMFailoverProxyProvider.&lt;init&gt;(OMFailoverProxyProvider.java:77)
	at org.apache.hadoop.ozone.om.protocolPB.OzoneManagerProtocolClientSideTranslatorPB.&lt;init&gt;(OzoneManagerProtocolClientSideTranslatorPB.java:195)
	at org.apache.hadoop.ozone.client.rpc.RpcClient.&lt;init&gt;(RpcClient.java:155)
	at org.apache.hadoop.ozone.client.OzoneClientFactory.getClientProtocol(OzoneClientFactory.java:189)
	at org.apache.hadoop.ozone.client.OzoneClientFactory.getRpcClient(OzoneClientFactory.java:152)
	at org.apache.hadoop.ozone.web.ozShell.OzoneAddress.createClient(OzoneAddress.java:102)
	at org.apache.hadoop.ozone.web.ozShell.s3.GetS3SecretHandler.call(GetS3SecretHandler.java:45)
	at org.apache.hadoop.ozone.web.ozShell.s3.GetS3SecretHandler.call(GetS3SecretHandler.java:32)
	at picocli.CommandLine.execute(CommandLine.java:1173)
	at picocli.CommandLine.access$800(CommandLine.java:141)
	at picocli.CommandLine$RunLast.handle(CommandLine.java:1367)
	at picocli.CommandLine$RunLast.handle(CommandLine.java:1335)
	at picocli.CommandLine$AbstractParseResultHandler.handleParseResult(CommandLine.java:1243)
	at picocli.CommandLine.parseWithHandlers(CommandLine.java:1526)
	at picocli.CommandLine.parseWithHandler(CommandLine.java:1465)
	at org.apache.hadoop.hdds.cli.GenericCli.execute(GenericCli.java:65)
	at org.apache.hadoop.ozone.web.ozShell.s3.S3Shell.execute(S3Shell.java:43)
	at org.apache.hadoop.hdds.cli.GenericCli.run(GenericCli.java:56)
	at org.apache.hadoop.ozone.web.ozShell.s3.S3Shell.main(S3Shell.java:54)
Caused by: java.net.UnknownHostException: om
	... 22 more
om</msg>
<status status="PASS" endtime="20190830 01:12:22.277" starttime="20190830 01:12:22.276"></status>
</kw>
<kw name="Should Be Equal As Integers" library="BuiltIn">
<doc>Fails if objects are unequal after converting them to integers.</doc>
<arguments>
<arg>${rc}</arg>
<arg>0</arg>
</arguments>
<msg timestamp="20190830 01:12:22.277" level="INFO">Argument types are:
&lt;type 'int'&gt;
&lt;type 'unicode'&gt;</msg>
<msg timestamp="20190830 01:12:22.278" level="FAIL">255 != 0</msg>
<status status="FAIL" endtime="20190830 01:12:22.278" starttime="20190830 01:12:22.277"></status>
</kw>
<status status="FAIL" endtime="20190830 01:12:22.278" starttime="20190830 01:12:20.843"></status>
</kw>
<status status="FAIL" endtime="20190830 01:12:22.278" starttime="20190830 01:12:20.801"></status>
</kw>
<status status="FAIL" endtime="20190830 01:12:22.278" starttime="20190830 01:12:20.800"></status>
</kw>
<status status="FAIL" endtime="20190830 01:12:22.279" starttime="20190830 01:12:20.177"></status>
</kw>
<status status="FAIL" endtime="20190830 01:12:22.279" critical="yes" starttime="20190830 01:12:20.176">Setup failed:
255 != 0</status>
</test>
<test id="s1-s5-t4" name="Test Multipart Upload Complete Invalid part">
<kw type="setup" name="Setup s3 tests" library="commonawslib">
<kw name="Run Keyword" library="BuiltIn">
<doc>Executes the given keyword with the given arguments.</doc>
<arguments>
<arg>Install aws cli</arg>
</arguments>
<kw name="Install aws cli" library="commonlib">
<kw name="Run And Return Rc And Output" library="OperatingSystem">
<doc>Runs the given command in the system and returns the RC and output.</doc>
<arguments>
<arg>which apt-get</arg>
</arguments>
<assign>
<var>${rc}</var>
<var>${output}</var>
</assign>
<msg timestamp="20190830 01:12:22.283" level="INFO">Running command 'which apt-get 2&gt;&amp;1'.</msg>
<msg timestamp="20190830 01:12:22.291" level="INFO">${rc} = 1</msg>
<msg timestamp="20190830 01:12:22.291" level="INFO">${output} = which: no apt-get in (/opt/hadoop/bin/docker:/usr/local/sbin:/usr/local/bin:/usr/sbin:/usr/bin:/sbin:/bin:/opt/hadoop/bin)</msg>
<status status="PASS" endtime="20190830 01:12:22.291" starttime="20190830 01:12:22.282"></status>
</kw>
<kw name="Run Keyword If" library="BuiltIn">
<doc>Runs the given keyword with the given arguments, if ``condition`` is true.</doc>
<arguments>
<arg>'${rc}' == '0'</arg>
<arg>Install aws cli s3 debian</arg>
</arguments>
<status status="PASS" endtime="20190830 01:12:22.294" starttime="20190830 01:12:22.292"></status>
</kw>
<kw name="Run And Return Rc And Output" library="OperatingSystem">
<doc>Runs the given command in the system and returns the RC and output.</doc>
<arguments>
<arg>yum --help</arg>
</arguments>
<assign>
<var>${rc}</var>
<var>${output}</var>
</assign>
<msg timestamp="20190830 01:12:22.296" level="INFO">Running command 'yum --help 2&gt;&amp;1'.</msg>
<msg timestamp="20190830 01:12:22.496" level="INFO">${rc} = 0</msg>
<msg timestamp="20190830 01:12:22.496" level="INFO">${output} = Loaded plugins: fastestmirror, ovl
ovl: Error while doing RPMdb copy-up:
[Errno 13] Permission denied: '/var/lib/rpm/Group'
Usage: yum [options] COMMAND

List of Commands:

check          Check for pr...</msg>
<status status="PASS" endtime="20190830 01:12:22.496" starttime="20190830 01:12:22.294"></status>
</kw>
<kw name="Run Keyword If" library="BuiltIn">
<doc>Runs the given keyword with the given arguments, if ``condition`` is true.</doc>
<arguments>
<arg>'${rc}' == '0'</arg>
<arg>Install aws cli s3 centos</arg>
</arguments>
<kw name="Install aws cli s3 centos" library="commonawslib">
<kw name="Execute" library="commonlib">
<arguments>
<arg>sudo yum install -y awscli</arg>
</arguments>
<kw name="Run And Return Rc And Output" library="OperatingSystem">
<doc>Runs the given command in the system and returns the RC and output.</doc>
<arguments>
<arg>${command}</arg>
</arguments>
<assign>
<var>${rc}</var>
<var>${output}</var>
</assign>
<msg timestamp="20190830 01:12:22.501" level="INFO">Running command 'sudo yum install -y awscli 2&gt;&amp;1'.</msg>
<msg timestamp="20190830 01:12:23.017" level="INFO">${rc} = 0</msg>
<msg timestamp="20190830 01:12:23.017" level="INFO">${output} = Loaded plugins: fastestmirror, ovl
Loading mirror speeds from cached hostfile
 * base: mirror.sjc02.svwh.net
 * epel: sjc.edge.kernel.org
 * extras: sjc.edge.kernel.org
 * updates: sjc.edge.kernel.org...</msg>
<status status="PASS" endtime="20190830 01:12:23.017" starttime="20190830 01:12:22.499"></status>
</kw>
<kw name="Log" library="BuiltIn">
<doc>Logs the given message with the given level.</doc>
<arguments>
<arg>${output}</arg>
</arguments>
<msg timestamp="20190830 01:12:23.019" level="INFO">Loaded plugins: fastestmirror, ovl
Loading mirror speeds from cached hostfile
 * base: mirror.sjc02.svwh.net
 * epel: sjc.edge.kernel.org
 * extras: sjc.edge.kernel.org
 * updates: sjc.edge.kernel.org
Package awscli-1.14.28-5.el7_5.1.noarch already installed and latest version
Nothing to do</msg>
<status status="PASS" endtime="20190830 01:12:23.019" starttime="20190830 01:12:23.018"></status>
</kw>
<kw name="Should Be Equal As Integers" library="BuiltIn">
<doc>Fails if objects are unequal after converting them to integers.</doc>
<arguments>
<arg>${rc}</arg>
<arg>0</arg>
</arguments>
<msg timestamp="20190830 01:12:23.020" level="INFO">Argument types are:
&lt;type 'int'&gt;
&lt;type 'unicode'&gt;</msg>
<status status="PASS" endtime="20190830 01:12:23.020" starttime="20190830 01:12:23.020"></status>
</kw>
<status status="PASS" endtime="20190830 01:12:23.021" starttime="20190830 01:12:22.499"></status>
</kw>
<status status="PASS" endtime="20190830 01:12:23.021" starttime="20190830 01:12:22.498"></status>
</kw>
<status status="PASS" endtime="20190830 01:12:23.021" starttime="20190830 01:12:22.497"></status>
</kw>
<status status="PASS" endtime="20190830 01:12:23.022" starttime="20190830 01:12:22.281"></status>
</kw>
<status status="PASS" endtime="20190830 01:12:23.022" starttime="20190830 01:12:22.281"></status>
</kw>
<kw name="Run Keyword If" library="BuiltIn">
<doc>Runs the given keyword with the given arguments, if ``condition`` is true.</doc>
<arguments>
<arg>'${OZONE_S3_SET_CREDENTIALS}' == 'true'</arg>
<arg>Setup v4 headers</arg>
</arguments>
<kw name="Setup v4 headers" library="commonawslib">
<kw name="Run Keyword If" library="BuiltIn">
<doc>Runs the given keyword with the given arguments, if ``condition`` is true.</doc>
<arguments>
<arg>'${SECURITY_ENABLED}' == 'true'</arg>
<arg>Kinit test user</arg>
<arg>testuser</arg>
<arg>testuser.keytab</arg>
</arguments>
<kw name="Kinit test user" library="commonlib">
<arguments>
<arg>testuser</arg>
<arg>testuser.keytab</arg>
</arguments>
<kw name="Execute" library="commonlib">
<arguments>
<arg>hostname</arg>
</arguments>
<assign>
<var>${hostname}</var>
</assign>
<kw name="Run And Return Rc And Output" library="OperatingSystem">
<doc>Runs the given command in the system and returns the RC and output.</doc>
<arguments>
<arg>${command}</arg>
</arguments>
<assign>
<var>${rc}</var>
<var>${output}</var>
</assign>
<msg timestamp="20190830 01:12:23.029" level="INFO">Running command 'hostname 2&gt;&amp;1'.</msg>
<msg timestamp="20190830 01:12:23.036" level="INFO">${rc} = 0</msg>
<msg timestamp="20190830 01:12:23.036" level="INFO">${output} = s3g</msg>
<status status="PASS" endtime="20190830 01:12:23.036" starttime="20190830 01:12:23.027"></status>
</kw>
<kw name="Log" library="BuiltIn">
<doc>Logs the given message with the given level.</doc>
<arguments>
<arg>${output}</arg>
</arguments>
<msg timestamp="20190830 01:12:23.038" level="INFO">s3g</msg>
<status status="PASS" endtime="20190830 01:12:23.038" starttime="20190830 01:12:23.037"></status>
</kw>
<kw name="Should Be Equal As Integers" library="BuiltIn">
<doc>Fails if objects are unequal after converting them to integers.</doc>
<arguments>
<arg>${rc}</arg>
<arg>0</arg>
</arguments>
<msg timestamp="20190830 01:12:23.039" level="INFO">Argument types are:
&lt;type 'int'&gt;
&lt;type 'unicode'&gt;</msg>
<status status="PASS" endtime="20190830 01:12:23.039" starttime="20190830 01:12:23.038"></status>
</kw>
<msg timestamp="20190830 01:12:23.040" level="INFO">${hostname} = s3g</msg>
<status status="PASS" endtime="20190830 01:12:23.040" starttime="20190830 01:12:23.026"></status>
</kw>
<kw name="Set Suite Variable" library="BuiltIn">
<doc>Makes a variable available everywhere within the scope of the current suite.</doc>
<arguments>
<arg>${TEST_USER}</arg>
<arg>${user}/${hostname}@EXAMPLE.COM</arg>
</arguments>
<msg timestamp="20190830 01:12:23.041" level="INFO">${TEST_USER} = testuser/s3g@EXAMPLE.COM</msg>
<status status="PASS" endtime="20190830 01:12:23.042" starttime="20190830 01:12:23.040"></status>
</kw>
<kw name="Wait Until Keyword Succeeds" library="BuiltIn">
<doc>Runs the specified keyword and retries if it fails.</doc>
<arguments>
<arg>2min</arg>
<arg>10sec</arg>
<arg>Execute</arg>
<arg>kinit -k ${user}/${hostname}@EXAMPLE.COM -t /etc/security/keytabs/${keytab}</arg>
</arguments>
<kw name="Execute" library="commonlib">
<arguments>
<arg>kinit -k ${user}/${hostname}@EXAMPLE.COM -t /etc/security/keytabs/${keytab}</arg>
</arguments>
<kw name="Run And Return Rc And Output" library="OperatingSystem">
<doc>Runs the given command in the system and returns the RC and output.</doc>
<arguments>
<arg>${command}</arg>
</arguments>
<assign>
<var>${rc}</var>
<var>${output}</var>
</assign>
<msg timestamp="20190830 01:12:23.046" level="INFO">Running command 'kinit -k testuser/s3g@EXAMPLE.COM -t /etc/security/keytabs/testuser.keytab 2&gt;&amp;1'.</msg>
<msg timestamp="20190830 01:12:23.066" level="INFO">${rc} = 0</msg>
<msg timestamp="20190830 01:12:23.066" level="INFO">${output} = </msg>
<status status="PASS" endtime="20190830 01:12:23.066" starttime="20190830 01:12:23.044"></status>
</kw>
<kw name="Log" library="BuiltIn">
<doc>Logs the given message with the given level.</doc>
<arguments>
<arg>${output}</arg>
</arguments>
<msg timestamp="20190830 01:12:23.068" level="INFO"></msg>
<status status="PASS" endtime="20190830 01:12:23.068" starttime="20190830 01:12:23.067"></status>
</kw>
<kw name="Should Be Equal As Integers" library="BuiltIn">
<doc>Fails if objects are unequal after converting them to integers.</doc>
<arguments>
<arg>${rc}</arg>
<arg>0</arg>
</arguments>
<msg timestamp="20190830 01:12:23.069" level="INFO">Argument types are:
&lt;type 'int'&gt;
&lt;type 'unicode'&gt;</msg>
<status status="PASS" endtime="20190830 01:12:23.069" starttime="20190830 01:12:23.068"></status>
</kw>
<status status="PASS" endtime="20190830 01:12:23.070" starttime="20190830 01:12:23.043"></status>
</kw>
<status status="PASS" endtime="20190830 01:12:23.070" starttime="20190830 01:12:23.042"></status>
</kw>
<status status="PASS" endtime="20190830 01:12:23.070" starttime="20190830 01:12:23.025"></status>
</kw>
<status status="PASS" endtime="20190830 01:12:23.070" starttime="20190830 01:12:23.024"></status>
</kw>
<kw name="Execute" library="commonlib">
<arguments>
<arg>ozone s3 getsecret</arg>
</arguments>
<assign>
<var>${result}</var>
</assign>
<kw name="Run And Return Rc And Output" library="OperatingSystem">
<doc>Runs the given command in the system and returns the RC and output.</doc>
<arguments>
<arg>${command}</arg>
</arguments>
<assign>
<var>${rc}</var>
<var>${output}</var>
</assign>
<msg timestamp="20190830 01:12:23.073" level="INFO">Running command 'ozone s3 getsecret 2&gt;&amp;1'.</msg>
<msg timestamp="20190830 01:12:24.616" level="INFO">${rc} = 255</msg>
<msg timestamp="20190830 01:12:24.616" level="INFO">${output} = WARNING: An illegal reflective access operation has occurred
WARNING: Illegal reflective access by org.apache.hadoop.security.authentication.util.KerberosUtil (file:/opt/hadoop/share/ozone/lib/hadoop-...</msg>
<status status="PASS" endtime="20190830 01:12:24.616" starttime="20190830 01:12:23.071"></status>
</kw>
<kw name="Log" library="BuiltIn">
<doc>Logs the given message with the given level.</doc>
<arguments>
<arg>${output}</arg>
</arguments>
<msg timestamp="20190830 01:12:24.618" level="INFO">WARNING: An illegal reflective access operation has occurred
WARNING: Illegal reflective access by org.apache.hadoop.security.authentication.util.KerberosUtil (file:/opt/hadoop/share/ozone/lib/hadoop-auth-3.2.0.jar) to method sun.security.krb5.Config.getInstance()
WARNING: Please consider reporting this to the maintainers of org.apache.hadoop.security.authentication.util.KerberosUtil
WARNING: Use --illegal-access=warn to enable warnings of further illegal reflective access operations
WARNING: All illegal access operations will be denied in a future release
2019-08-30 01:12:24 ERROR OzoneClientFactory:192 - Couldn't create RpcClient protocol exception: 
java.lang.IllegalArgumentException: java.net.UnknownHostException: om
	at org.apache.hadoop.security.SecurityUtil.buildTokenService(SecurityUtil.java:447)
	at org.apache.hadoop.ozone.om.ha.OMProxyInfo.&lt;init&gt;(OMProxyInfo.java:40)
	at org.apache.hadoop.ozone.om.ha.OMFailoverProxyProvider.loadOMClientConfigs(OMFailoverProxyProvider.java:109)
	at org.apache.hadoop.ozone.om.ha.OMFailoverProxyProvider.&lt;init&gt;(OMFailoverProxyProvider.java:77)
	at org.apache.hadoop.ozone.om.protocolPB.OzoneManagerProtocolClientSideTranslatorPB.&lt;init&gt;(OzoneManagerProtocolClientSideTranslatorPB.java:195)
	at org.apache.hadoop.ozone.client.rpc.RpcClient.&lt;init&gt;(RpcClient.java:155)
	at org.apache.hadoop.ozone.client.OzoneClientFactory.getClientProtocol(OzoneClientFactory.java:189)
	at org.apache.hadoop.ozone.client.OzoneClientFactory.getRpcClient(OzoneClientFactory.java:152)
	at org.apache.hadoop.ozone.web.ozShell.OzoneAddress.createClient(OzoneAddress.java:102)
	at org.apache.hadoop.ozone.web.ozShell.s3.GetS3SecretHandler.call(GetS3SecretHandler.java:45)
	at org.apache.hadoop.ozone.web.ozShell.s3.GetS3SecretHandler.call(GetS3SecretHandler.java:32)
	at picocli.CommandLine.execute(CommandLine.java:1173)
	at picocli.CommandLine.access$800(CommandLine.java:141)
	at picocli.CommandLine$RunLast.handle(CommandLine.java:1367)
	at picocli.CommandLine$RunLast.handle(CommandLine.java:1335)
	at picocli.CommandLine$AbstractParseResultHandler.handleParseResult(CommandLine.java:1243)
	at picocli.CommandLine.parseWithHandlers(CommandLine.java:1526)
	at picocli.CommandLine.parseWithHandler(CommandLine.java:1465)
	at org.apache.hadoop.hdds.cli.GenericCli.execute(GenericCli.java:65)
	at org.apache.hadoop.ozone.web.ozShell.s3.S3Shell.execute(S3Shell.java:43)
	at org.apache.hadoop.hdds.cli.GenericCli.run(GenericCli.java:56)
	at org.apache.hadoop.ozone.web.ozShell.s3.S3Shell.main(S3Shell.java:54)
Caused by: java.net.UnknownHostException: om
	... 22 more
om</msg>
<status status="PASS" endtime="20190830 01:12:24.619" starttime="20190830 01:12:24.617"></status>
</kw>
<kw name="Should Be Equal As Integers" library="BuiltIn">
<doc>Fails if objects are unequal after converting them to integers.</doc>
<arguments>
<arg>${rc}</arg>
<arg>0</arg>
</arguments>
<msg timestamp="20190830 01:12:24.620" level="INFO">Argument types are:
&lt;type 'int'&gt;
&lt;type 'unicode'&gt;</msg>
<msg timestamp="20190830 01:12:24.621" level="FAIL">255 != 0</msg>
<status status="FAIL" endtime="20190830 01:12:24.621" starttime="20190830 01:12:24.619"></status>
</kw>
<status status="FAIL" endtime="20190830 01:12:24.621" starttime="20190830 01:12:23.070"></status>
</kw>
<status status="FAIL" endtime="20190830 01:12:24.622" starttime="20190830 01:12:23.023"></status>
</kw>
<status status="FAIL" endtime="20190830 01:12:24.622" starttime="20190830 01:12:23.022"></status>
</kw>
<status status="FAIL" endtime="20190830 01:12:24.622" starttime="20190830 01:12:22.280"></status>
</kw>
<status status="FAIL" endtime="20190830 01:12:24.623" critical="yes" starttime="20190830 01:12:22.279">Setup failed:
255 != 0</status>
</test>
<test id="s1-s5-t5" name="Test abort Multipart upload">
<kw type="setup" name="Setup s3 tests" library="commonawslib">
<kw name="Run Keyword" library="BuiltIn">
<doc>Executes the given keyword with the given arguments.</doc>
<arguments>
<arg>Install aws cli</arg>
</arguments>
<kw name="Install aws cli" library="commonlib">
<kw name="Run And Return Rc And Output" library="OperatingSystem">
<doc>Runs the given command in the system and returns the RC and output.</doc>
<arguments>
<arg>which apt-get</arg>
</arguments>
<assign>
<var>${rc}</var>
<var>${output}</var>
</assign>
<msg timestamp="20190830 01:12:24.631" level="INFO">Running command 'which apt-get 2&gt;&amp;1'.</msg>
<msg timestamp="20190830 01:12:24.638" level="INFO">${rc} = 1</msg>
<msg timestamp="20190830 01:12:24.638" level="INFO">${output} = which: no apt-get in (/opt/hadoop/bin/docker:/usr/local/sbin:/usr/local/bin:/usr/sbin:/usr/bin:/sbin:/bin:/opt/hadoop/bin)</msg>
<status status="PASS" endtime="20190830 01:12:24.638" starttime="20190830 01:12:24.629"></status>
</kw>
<kw name="Run Keyword If" library="BuiltIn">
<doc>Runs the given keyword with the given arguments, if ``condition`` is true.</doc>
<arguments>
<arg>'${rc}' == '0'</arg>
<arg>Install aws cli s3 debian</arg>
</arguments>
<status status="PASS" endtime="20190830 01:12:24.640" starttime="20190830 01:12:24.639"></status>
</kw>
<kw name="Run And Return Rc And Output" library="OperatingSystem">
<doc>Runs the given command in the system and returns the RC and output.</doc>
<arguments>
<arg>yum --help</arg>
</arguments>
<assign>
<var>${rc}</var>
<var>${output}</var>
</assign>
<msg timestamp="20190830 01:12:24.643" level="INFO">Running command 'yum --help 2&gt;&amp;1'.</msg>
<msg timestamp="20190830 01:12:24.836" level="INFO">${rc} = 0</msg>
<msg timestamp="20190830 01:12:24.836" level="INFO">${output} = Loaded plugins: fastestmirror, ovl
ovl: Error while doing RPMdb copy-up:
[Errno 13] Permission denied: '/var/lib/rpm/Group'
Usage: yum [options] COMMAND

List of Commands:

check          Check for pr...</msg>
<status status="PASS" endtime="20190830 01:12:24.837" starttime="20190830 01:12:24.641"></status>
</kw>
<kw name="Run Keyword If" library="BuiltIn">
<doc>Runs the given keyword with the given arguments, if ``condition`` is true.</doc>
<arguments>
<arg>'${rc}' == '0'</arg>
<arg>Install aws cli s3 centos</arg>
</arguments>
<kw name="Install aws cli s3 centos" library="commonawslib">
<kw name="Execute" library="commonlib">
<arguments>
<arg>sudo yum install -y awscli</arg>
</arguments>
<kw name="Run And Return Rc And Output" library="OperatingSystem">
<doc>Runs the given command in the system and returns the RC and output.</doc>
<arguments>
<arg>${command}</arg>
</arguments>
<assign>
<var>${rc}</var>
<var>${output}</var>
</assign>
<msg timestamp="20190830 01:12:24.843" level="INFO">Running command 'sudo yum install -y awscli 2&gt;&amp;1'.</msg>
<msg timestamp="20190830 01:12:25.391" level="INFO">${rc} = 0</msg>
<msg timestamp="20190830 01:12:25.392" level="INFO">${output} = Loaded plugins: fastestmirror, ovl
Loading mirror speeds from cached hostfile
 * base: mirror.sjc02.svwh.net
 * epel: sjc.edge.kernel.org
 * extras: sjc.edge.kernel.org
 * updates: sjc.edge.kernel.org...</msg>
<status status="PASS" endtime="20190830 01:12:25.392" starttime="20190830 01:12:24.840"></status>
</kw>
<kw name="Log" library="BuiltIn">
<doc>Logs the given message with the given level.</doc>
<arguments>
<arg>${output}</arg>
</arguments>
<msg timestamp="20190830 01:12:25.394" level="INFO">Loaded plugins: fastestmirror, ovl
Loading mirror speeds from cached hostfile
 * base: mirror.sjc02.svwh.net
 * epel: sjc.edge.kernel.org
 * extras: sjc.edge.kernel.org
 * updates: sjc.edge.kernel.org
Package awscli-1.14.28-5.el7_5.1.noarch already installed and latest version
Nothing to do</msg>
<status status="PASS" endtime="20190830 01:12:25.394" starttime="20190830 01:12:25.393"></status>
</kw>
<kw name="Should Be Equal As Integers" library="BuiltIn">
<doc>Fails if objects are unequal after converting them to integers.</doc>
<arguments>
<arg>${rc}</arg>
<arg>0</arg>
</arguments>
<msg timestamp="20190830 01:12:25.395" level="INFO">Argument types are:
&lt;type 'int'&gt;
&lt;type 'unicode'&gt;</msg>
<status status="PASS" endtime="20190830 01:12:25.396" starttime="20190830 01:12:25.395"></status>
</kw>
<status status="PASS" endtime="20190830 01:12:25.396" starttime="20190830 01:12:24.840"></status>
</kw>
<status status="PASS" endtime="20190830 01:12:25.396" starttime="20190830 01:12:24.839"></status>
</kw>
<status status="PASS" endtime="20190830 01:12:25.397" starttime="20190830 01:12:24.837"></status>
</kw>
<status status="PASS" endtime="20190830 01:12:25.397" starttime="20190830 01:12:24.626"></status>
</kw>
<status status="PASS" endtime="20190830 01:12:25.397" starttime="20190830 01:12:24.626"></status>
</kw>
<kw name="Run Keyword If" library="BuiltIn">
<doc>Runs the given keyword with the given arguments, if ``condition`` is true.</doc>
<arguments>
<arg>'${OZONE_S3_SET_CREDENTIALS}' == 'true'</arg>
<arg>Setup v4 headers</arg>
</arguments>
<kw name="Setup v4 headers" library="commonawslib">
<kw name="Run Keyword If" library="BuiltIn">
<doc>Runs the given keyword with the given arguments, if ``condition`` is true.</doc>
<arguments>
<arg>'${SECURITY_ENABLED}' == 'true'</arg>
<arg>Kinit test user</arg>
<arg>testuser</arg>
<arg>testuser.keytab</arg>
</arguments>
<kw name="Kinit test user" library="commonlib">
<arguments>
<arg>testuser</arg>
<arg>testuser.keytab</arg>
</arguments>
<kw name="Execute" library="commonlib">
<arguments>
<arg>hostname</arg>
</arguments>
<assign>
<var>${hostname}</var>
</assign>
<kw name="Run And Return Rc And Output" library="OperatingSystem">
<doc>Runs the given command in the system and returns the RC and output.</doc>
<arguments>
<arg>${command}</arg>
</arguments>
<assign>
<var>${rc}</var>
<var>${output}</var>
</assign>
<msg timestamp="20190830 01:12:25.404" level="INFO">Running command 'hostname 2&gt;&amp;1'.</msg>
<msg timestamp="20190830 01:12:25.411" level="INFO">${rc} = 0</msg>
<msg timestamp="20190830 01:12:25.412" level="INFO">${output} = s3g</msg>
<status status="PASS" endtime="20190830 01:12:25.412" starttime="20190830 01:12:25.402"></status>
</kw>
<kw name="Log" library="BuiltIn">
<doc>Logs the given message with the given level.</doc>
<arguments>
<arg>${output}</arg>
</arguments>
<msg timestamp="20190830 01:12:25.413" level="INFO">s3g</msg>
<status status="PASS" endtime="20190830 01:12:25.414" starttime="20190830 01:12:25.413"></status>
</kw>
<kw name="Should Be Equal As Integers" library="BuiltIn">
<doc>Fails if objects are unequal after converting them to integers.</doc>
<arguments>
<arg>${rc}</arg>
<arg>0</arg>
</arguments>
<msg timestamp="20190830 01:12:25.415" level="INFO">Argument types are:
&lt;type 'int'&gt;
&lt;type 'unicode'&gt;</msg>
<status status="PASS" endtime="20190830 01:12:25.415" starttime="20190830 01:12:25.414"></status>
</kw>
<msg timestamp="20190830 01:12:25.415" level="INFO">${hostname} = s3g</msg>
<status status="PASS" endtime="20190830 01:12:25.416" starttime="20190830 01:12:25.401"></status>
</kw>
<kw name="Set Suite Variable" library="BuiltIn">
<doc>Makes a variable available everywhere within the scope of the current suite.</doc>
<arguments>
<arg>${TEST_USER}</arg>
<arg>${user}/${hostname}@EXAMPLE.COM</arg>
</arguments>
<msg timestamp="20190830 01:12:25.417" level="INFO">${TEST_USER} = testuser/s3g@EXAMPLE.COM</msg>
<status status="PASS" endtime="20190830 01:12:25.417" starttime="20190830 01:12:25.416"></status>
</kw>
<kw name="Wait Until Keyword Succeeds" library="BuiltIn">
<doc>Runs the specified keyword and retries if it fails.</doc>
<arguments>
<arg>2min</arg>
<arg>10sec</arg>
<arg>Execute</arg>
<arg>kinit -k ${user}/${hostname}@EXAMPLE.COM -t /etc/security/keytabs/${keytab}</arg>
</arguments>
<kw name="Execute" library="commonlib">
<arguments>
<arg>kinit -k ${user}/${hostname}@EXAMPLE.COM -t /etc/security/keytabs/${keytab}</arg>
</arguments>
<kw name="Run And Return Rc And Output" library="OperatingSystem">
<doc>Runs the given command in the system and returns the RC and output.</doc>
<arguments>
<arg>${command}</arg>
</arguments>
<assign>
<var>${rc}</var>
<var>${output}</var>
</assign>
<msg timestamp="20190830 01:12:25.422" level="INFO">Running command 'kinit -k testuser/s3g@EXAMPLE.COM -t /etc/security/keytabs/testuser.keytab 2&gt;&amp;1'.</msg>
<msg timestamp="20190830 01:12:25.437" level="INFO">${rc} = 0</msg>
<msg timestamp="20190830 01:12:25.437" level="INFO">${output} = </msg>
<status status="PASS" endtime="20190830 01:12:25.437" starttime="20190830 01:12:25.420"></status>
</kw>
<kw name="Log" library="BuiltIn">
<doc>Logs the given message with the given level.</doc>
<arguments>
<arg>${output}</arg>
</arguments>
<msg timestamp="20190830 01:12:25.438" level="INFO"></msg>
<status status="PASS" endtime="20190830 01:12:25.439" starttime="20190830 01:12:25.438"></status>
</kw>
<kw name="Should Be Equal As Integers" library="BuiltIn">
<doc>Fails if objects are unequal after converting them to integers.</doc>
<arguments>
<arg>${rc}</arg>
<arg>0</arg>
</arguments>
<msg timestamp="20190830 01:12:25.439" level="INFO">Argument types are:
&lt;type 'int'&gt;
&lt;type 'unicode'&gt;</msg>
<status status="PASS" endtime="20190830 01:12:25.440" starttime="20190830 01:12:25.439"></status>
</kw>
<status status="PASS" endtime="20190830 01:12:25.440" starttime="20190830 01:12:25.418"></status>
</kw>
<status status="PASS" endtime="20190830 01:12:25.440" starttime="20190830 01:12:25.418"></status>
</kw>
<status status="PASS" endtime="20190830 01:12:25.441" starttime="20190830 01:12:25.400"></status>
</kw>
<status status="PASS" endtime="20190830 01:12:25.441" starttime="20190830 01:12:25.399"></status>
</kw>
<kw name="Execute" library="commonlib">
<arguments>
<arg>ozone s3 getsecret</arg>
</arguments>
<assign>
<var>${result}</var>
</assign>
<kw name="Run And Return Rc And Output" library="OperatingSystem">
<doc>Runs the given command in the system and returns the RC and output.</doc>
<arguments>
<arg>${command}</arg>
</arguments>
<assign>
<var>${rc}</var>
<var>${output}</var>
</assign>
<msg timestamp="20190830 01:12:25.444" level="INFO">Running command 'ozone s3 getsecret 2&gt;&amp;1'.</msg>
<msg timestamp="20190830 01:12:26.960" level="INFO">${rc} = 255</msg>
<msg timestamp="20190830 01:12:26.960" level="INFO">${output} = WARNING: An illegal reflective access operation has occurred
WARNING: Illegal reflective access by org.apache.hadoop.security.authentication.util.KerberosUtil (file:/opt/hadoop/share/ozone/lib/hadoop-...</msg>
<status status="PASS" endtime="20190830 01:12:26.960" starttime="20190830 01:12:25.442"></status>
</kw>
<kw name="Log" library="BuiltIn">
<doc>Logs the given message with the given level.</doc>
<arguments>
<arg>${output}</arg>
</arguments>
<msg timestamp="20190830 01:12:26.962" level="INFO">WARNING: An illegal reflective access operation has occurred
WARNING: Illegal reflective access by org.apache.hadoop.security.authentication.util.KerberosUtil (file:/opt/hadoop/share/ozone/lib/hadoop-auth-3.2.0.jar) to method sun.security.krb5.Config.getInstance()
WARNING: Please consider reporting this to the maintainers of org.apache.hadoop.security.authentication.util.KerberosUtil
WARNING: Use --illegal-access=warn to enable warnings of further illegal reflective access operations
WARNING: All illegal access operations will be denied in a future release
2019-08-30 01:12:26 ERROR OzoneClientFactory:192 - Couldn't create RpcClient protocol exception: 
java.lang.IllegalArgumentException: java.net.UnknownHostException: om
	at org.apache.hadoop.security.SecurityUtil.buildTokenService(SecurityUtil.java:447)
	at org.apache.hadoop.ozone.om.ha.OMProxyInfo.&lt;init&gt;(OMProxyInfo.java:40)
	at org.apache.hadoop.ozone.om.ha.OMFailoverProxyProvider.loadOMClientConfigs(OMFailoverProxyProvider.java:109)
	at org.apache.hadoop.ozone.om.ha.OMFailoverProxyProvider.&lt;init&gt;(OMFailoverProxyProvider.java:77)
	at org.apache.hadoop.ozone.om.protocolPB.OzoneManagerProtocolClientSideTranslatorPB.&lt;init&gt;(OzoneManagerProtocolClientSideTranslatorPB.java:195)
	at org.apache.hadoop.ozone.client.rpc.RpcClient.&lt;init&gt;(RpcClient.java:155)
	at org.apache.hadoop.ozone.client.OzoneClientFactory.getClientProtocol(OzoneClientFactory.java:189)
	at org.apache.hadoop.ozone.client.OzoneClientFactory.getRpcClient(OzoneClientFactory.java:152)
	at org.apache.hadoop.ozone.web.ozShell.OzoneAddress.createClient(OzoneAddress.java:102)
	at org.apache.hadoop.ozone.web.ozShell.s3.GetS3SecretHandler.call(GetS3SecretHandler.java:45)
	at org.apache.hadoop.ozone.web.ozShell.s3.GetS3SecretHandler.call(GetS3SecretHandler.java:32)
	at picocli.CommandLine.execute(CommandLine.java:1173)
	at picocli.CommandLine.access$800(CommandLine.java:141)
	at picocli.CommandLine$RunLast.handle(CommandLine.java:1367)
	at picocli.CommandLine$RunLast.handle(CommandLine.java:1335)
	at picocli.CommandLine$AbstractParseResultHandler.handleParseResult(CommandLine.java:1243)
	at picocli.CommandLine.parseWithHandlers(CommandLine.java:1526)
	at picocli.CommandLine.parseWithHandler(CommandLine.java:1465)
	at org.apache.hadoop.hdds.cli.GenericCli.execute(GenericCli.java:65)
	at org.apache.hadoop.ozone.web.ozShell.s3.S3Shell.execute(S3Shell.java:43)
	at org.apache.hadoop.hdds.cli.GenericCli.run(GenericCli.java:56)
	at org.apache.hadoop.ozone.web.ozShell.s3.S3Shell.main(S3Shell.java:54)
Caused by: java.net.UnknownHostException: om
	... 22 more
om</msg>
<status status="PASS" endtime="20190830 01:12:26.962" starttime="20190830 01:12:26.961"></status>
</kw>
<kw name="Should Be Equal As Integers" library="BuiltIn">
<doc>Fails if objects are unequal after converting them to integers.</doc>
<arguments>
<arg>${rc}</arg>
<arg>0</arg>
</arguments>
<msg timestamp="20190830 01:12:26.963" level="INFO">Argument types are:
&lt;type 'int'&gt;
&lt;type 'unicode'&gt;</msg>
<msg timestamp="20190830 01:12:26.963" level="FAIL">255 != 0</msg>
<status status="FAIL" endtime="20190830 01:12:26.964" starttime="20190830 01:12:26.962"></status>
</kw>
<status status="FAIL" endtime="20190830 01:12:26.964" starttime="20190830 01:12:25.441"></status>
</kw>
<status status="FAIL" endtime="20190830 01:12:26.964" starttime="20190830 01:12:25.399"></status>
</kw>
<status status="FAIL" endtime="20190830 01:12:26.964" starttime="20190830 01:12:25.397"></status>
</kw>
<status status="FAIL" endtime="20190830 01:12:26.965" starttime="20190830 01:12:24.625"></status>
</kw>
<status status="FAIL" endtime="20190830 01:12:26.965" critical="yes" starttime="20190830 01:12:24.624">Setup failed:
255 != 0</status>
</test>
<test id="s1-s5-t6" name="Test abort Multipart upload with invalid uploadId">
<kw type="setup" name="Setup s3 tests" library="commonawslib">
<kw name="Run Keyword" library="BuiltIn">
<doc>Executes the given keyword with the given arguments.</doc>
<arguments>
<arg>Install aws cli</arg>
</arguments>
<kw name="Install aws cli" library="commonlib">
<kw name="Run And Return Rc And Output" library="OperatingSystem">
<doc>Runs the given command in the system and returns the RC and output.</doc>
<arguments>
<arg>which apt-get</arg>
</arguments>
<assign>
<var>${rc}</var>
<var>${output}</var>
</assign>
<msg timestamp="20190830 01:12:26.971" level="INFO">Running command 'which apt-get 2&gt;&amp;1'.</msg>
<msg timestamp="20190830 01:12:26.978" level="INFO">${rc} = 1</msg>
<msg timestamp="20190830 01:12:26.978" level="INFO">${output} = which: no apt-get in (/opt/hadoop/bin/docker:/usr/local/sbin:/usr/local/bin:/usr/sbin:/usr/bin:/sbin:/bin:/opt/hadoop/bin)</msg>
<status status="PASS" endtime="20190830 01:12:26.978" starttime="20190830 01:12:26.969"></status>
</kw>
<kw name="Run Keyword If" library="BuiltIn">
<doc>Runs the given keyword with the given arguments, if ``condition`` is true.</doc>
<arguments>
<arg>'${rc}' == '0'</arg>
<arg>Install aws cli s3 debian</arg>
</arguments>
<status status="PASS" endtime="20190830 01:12:26.980" starttime="20190830 01:12:26.979"></status>
</kw>
<kw name="Run And Return Rc And Output" library="OperatingSystem">
<doc>Runs the given command in the system and returns the RC and output.</doc>
<arguments>
<arg>yum --help</arg>
</arguments>
<assign>
<var>${rc}</var>
<var>${output}</var>
</assign>
<msg timestamp="20190830 01:12:26.981" level="INFO">Running command 'yum --help 2&gt;&amp;1'.</msg>
<msg timestamp="20190830 01:12:27.154" level="INFO">${rc} = 0</msg>
<msg timestamp="20190830 01:12:27.154" level="INFO">${output} = Loaded plugins: fastestmirror, ovl
ovl: Error while doing RPMdb copy-up:
[Errno 13] Permission denied: '/var/lib/rpm/Group'
Usage: yum [options] COMMAND

List of Commands:

check          Check for pr...</msg>
<status status="PASS" endtime="20190830 01:12:27.154" starttime="20190830 01:12:26.980"></status>
</kw>
<kw name="Run Keyword If" library="BuiltIn">
<doc>Runs the given keyword with the given arguments, if ``condition`` is true.</doc>
<arguments>
<arg>'${rc}' == '0'</arg>
<arg>Install aws cli s3 centos</arg>
</arguments>
<kw name="Install aws cli s3 centos" library="commonawslib">
<kw name="Execute" library="commonlib">
<arguments>
<arg>sudo yum install -y awscli</arg>
</arguments>
<kw name="Run And Return Rc And Output" library="OperatingSystem">
<doc>Runs the given command in the system and returns the RC and output.</doc>
<arguments>
<arg>${command}</arg>
</arguments>
<assign>
<var>${rc}</var>
<var>${output}</var>
</assign>
<msg timestamp="20190830 01:12:27.158" level="INFO">Running command 'sudo yum install -y awscli 2&gt;&amp;1'.</msg>
<msg timestamp="20190830 01:12:27.649" level="INFO">${rc} = 0</msg>
<msg timestamp="20190830 01:12:27.649" level="INFO">${output} = Loaded plugins: fastestmirror, ovl
Loading mirror speeds from cached hostfile
 * base: mirror.sjc02.svwh.net
 * epel: sjc.edge.kernel.org
 * extras: sjc.edge.kernel.org
 * updates: sjc.edge.kernel.org...</msg>
<status status="PASS" endtime="20190830 01:12:27.650" starttime="20190830 01:12:27.157"></status>
</kw>
<kw name="Log" library="BuiltIn">
<doc>Logs the given message with the given level.</doc>
<arguments>
<arg>${output}</arg>
</arguments>
<msg timestamp="20190830 01:12:27.651" level="INFO">Loaded plugins: fastestmirror, ovl
Loading mirror speeds from cached hostfile
 * base: mirror.sjc02.svwh.net
 * epel: sjc.edge.kernel.org
 * extras: sjc.edge.kernel.org
 * updates: sjc.edge.kernel.org
Package awscli-1.14.28-5.el7_5.1.noarch already installed and latest version
Nothing to do</msg>
<status status="PASS" endtime="20190830 01:12:27.651" starttime="20190830 01:12:27.650"></status>
</kw>
<kw name="Should Be Equal As Integers" library="BuiltIn">
<doc>Fails if objects are unequal after converting them to integers.</doc>
<arguments>
<arg>${rc}</arg>
<arg>0</arg>
</arguments>
<msg timestamp="20190830 01:12:27.652" level="INFO">Argument types are:
&lt;type 'int'&gt;
&lt;type 'unicode'&gt;</msg>
<status status="PASS" endtime="20190830 01:12:27.653" starttime="20190830 01:12:27.652"></status>
</kw>
<status status="PASS" endtime="20190830 01:12:27.653" starttime="20190830 01:12:27.156"></status>
</kw>
<status status="PASS" endtime="20190830 01:12:27.654" starttime="20190830 01:12:27.156"></status>
</kw>
<status status="PASS" endtime="20190830 01:12:27.654" starttime="20190830 01:12:27.155"></status>
</kw>
<status status="PASS" endtime="20190830 01:12:27.654" starttime="20190830 01:12:26.968"></status>
</kw>
<status status="PASS" endtime="20190830 01:12:27.654" starttime="20190830 01:12:26.968"></status>
</kw>
<kw name="Run Keyword If" library="BuiltIn">
<doc>Runs the given keyword with the given arguments, if ``condition`` is true.</doc>
<arguments>
<arg>'${OZONE_S3_SET_CREDENTIALS}' == 'true'</arg>
<arg>Setup v4 headers</arg>
</arguments>
<kw name="Setup v4 headers" library="commonawslib">
<kw name="Run Keyword If" library="BuiltIn">
<doc>Runs the given keyword with the given arguments, if ``condition`` is true.</doc>
<arguments>
<arg>'${SECURITY_ENABLED}' == 'true'</arg>
<arg>Kinit test user</arg>
<arg>testuser</arg>
<arg>testuser.keytab</arg>
</arguments>
<kw name="Kinit test user" library="commonlib">
<arguments>
<arg>testuser</arg>
<arg>testuser.keytab</arg>
</arguments>
<kw name="Execute" library="commonlib">
<arguments>
<arg>hostname</arg>
</arguments>
<assign>
<var>${hostname}</var>
</assign>
<kw name="Run And Return Rc And Output" library="OperatingSystem">
<doc>Runs the given command in the system and returns the RC and output.</doc>
<arguments>
<arg>${command}</arg>
</arguments>
<assign>
<var>${rc}</var>
<var>${output}</var>
</assign>
<msg timestamp="20190830 01:12:27.662" level="INFO">Running command 'hostname 2&gt;&amp;1'.</msg>
<msg timestamp="20190830 01:12:27.668" level="INFO">${rc} = 0</msg>
<msg timestamp="20190830 01:12:27.668" level="INFO">${output} = s3g</msg>
<status status="PASS" endtime="20190830 01:12:27.668" starttime="20190830 01:12:27.659"></status>
</kw>
<kw name="Log" library="BuiltIn">
<doc>Logs the given message with the given level.</doc>
<arguments>
<arg>${output}</arg>
</arguments>
<msg timestamp="20190830 01:12:27.670" level="INFO">s3g</msg>
<status status="PASS" endtime="20190830 01:12:27.670" starttime="20190830 01:12:27.669"></status>
</kw>
<kw name="Should Be Equal As Integers" library="BuiltIn">
<doc>Fails if objects are unequal after converting them to integers.</doc>
<arguments>
<arg>${rc}</arg>
<arg>0</arg>
</arguments>
<msg timestamp="20190830 01:12:27.671" level="INFO">Argument types are:
&lt;type 'int'&gt;
&lt;type 'unicode'&gt;</msg>
<status status="PASS" endtime="20190830 01:12:27.671" starttime="20190830 01:12:27.670"></status>
</kw>
<msg timestamp="20190830 01:12:27.672" level="INFO">${hostname} = s3g</msg>
<status status="PASS" endtime="20190830 01:12:27.672" starttime="20190830 01:12:27.658"></status>
</kw>
<kw name="Set Suite Variable" library="BuiltIn">
<doc>Makes a variable available everywhere within the scope of the current suite.</doc>
<arguments>
<arg>${TEST_USER}</arg>
<arg>${user}/${hostname}@EXAMPLE.COM</arg>
</arguments>
<msg timestamp="20190830 01:12:27.673" level="INFO">${TEST_USER} = testuser/s3g@EXAMPLE.COM</msg>
<status status="PASS" endtime="20190830 01:12:27.674" starttime="20190830 01:12:27.672"></status>
</kw>
<kw name="Wait Until Keyword Succeeds" library="BuiltIn">
<doc>Runs the specified keyword and retries if it fails.</doc>
<arguments>
<arg>2min</arg>
<arg>10sec</arg>
<arg>Execute</arg>
<arg>kinit -k ${user}/${hostname}@EXAMPLE.COM -t /etc/security/keytabs/${keytab}</arg>
</arguments>
<kw name="Execute" library="commonlib">
<arguments>
<arg>kinit -k ${user}/${hostname}@EXAMPLE.COM -t /etc/security/keytabs/${keytab}</arg>
</arguments>
<kw name="Run And Return Rc And Output" library="OperatingSystem">
<doc>Runs the given command in the system and returns the RC and output.</doc>
<arguments>
<arg>${command}</arg>
</arguments>
<assign>
<var>${rc}</var>
<var>${output}</var>
</assign>
<msg timestamp="20190830 01:12:27.678" level="INFO">Running command 'kinit -k testuser/s3g@EXAMPLE.COM -t /etc/security/keytabs/testuser.keytab 2&gt;&amp;1'.</msg>
<msg timestamp="20190830 01:12:27.706" level="INFO">${rc} = 0</msg>
<msg timestamp="20190830 01:12:27.707" level="INFO">${output} = </msg>
<status status="PASS" endtime="20190830 01:12:27.707" starttime="20190830 01:12:27.676"></status>
</kw>
<kw name="Log" library="BuiltIn">
<doc>Logs the given message with the given level.</doc>
<arguments>
<arg>${output}</arg>
</arguments>
<msg timestamp="20190830 01:12:27.708" level="INFO"></msg>
<status status="PASS" endtime="20190830 01:12:27.709" starttime="20190830 01:12:27.707"></status>
</kw>
<kw name="Should Be Equal As Integers" library="BuiltIn">
<doc>Fails if objects are unequal after converting them to integers.</doc>
<arguments>
<arg>${rc}</arg>
<arg>0</arg>
</arguments>
<msg timestamp="20190830 01:12:27.710" level="INFO">Argument types are:
&lt;type 'int'&gt;
&lt;type 'unicode'&gt;</msg>
<status status="PASS" endtime="20190830 01:12:27.710" starttime="20190830 01:12:27.709"></status>
</kw>
<status status="PASS" endtime="20190830 01:12:27.711" starttime="20190830 01:12:27.675"></status>
</kw>
<status status="PASS" endtime="20190830 01:12:27.711" starttime="20190830 01:12:27.674"></status>
</kw>
<status status="PASS" endtime="20190830 01:12:27.711" starttime="20190830 01:12:27.658"></status>
</kw>
<status status="PASS" endtime="20190830 01:12:27.711" starttime="20190830 01:12:27.657"></status>
</kw>
<kw name="Execute" library="commonlib">
<arguments>
<arg>ozone s3 getsecret</arg>
</arguments>
<assign>
<var>${result}</var>
</assign>
<kw name="Run And Return Rc And Output" library="OperatingSystem">
<doc>Runs the given command in the system and returns the RC and output.</doc>
<arguments>
<arg>${command}</arg>
</arguments>
<assign>
<var>${rc}</var>
<var>${output}</var>
</assign>
<msg timestamp="20190830 01:12:27.714" level="INFO">Running command 'ozone s3 getsecret 2&gt;&amp;1'.</msg>
<msg timestamp="20190830 01:12:29.140" level="INFO">${rc} = 255</msg>
<msg timestamp="20190830 01:12:29.140" level="INFO">${output} = WARNING: An illegal reflective access operation has occurred
WARNING: Illegal reflective access by org.apache.hadoop.security.authentication.util.KerberosUtil (file:/opt/hadoop/share/ozone/lib/hadoop-...</msg>
<status status="PASS" endtime="20190830 01:12:29.140" starttime="20190830 01:12:27.712"></status>
</kw>
<kw name="Log" library="BuiltIn">
<doc>Logs the given message with the given level.</doc>
<arguments>
<arg>${output}</arg>
</arguments>
<msg timestamp="20190830 01:12:29.141" level="INFO">WARNING: An illegal reflective access operation has occurred
WARNING: Illegal reflective access by org.apache.hadoop.security.authentication.util.KerberosUtil (file:/opt/hadoop/share/ozone/lib/hadoop-auth-3.2.0.jar) to method sun.security.krb5.Config.getInstance()
WARNING: Please consider reporting this to the maintainers of org.apache.hadoop.security.authentication.util.KerberosUtil
WARNING: Use --illegal-access=warn to enable warnings of further illegal reflective access operations
WARNING: All illegal access operations will be denied in a future release
2019-08-30 01:12:29 ERROR OzoneClientFactory:192 - Couldn't create RpcClient protocol exception: 
java.lang.IllegalArgumentException: java.net.UnknownHostException: om
	at org.apache.hadoop.security.SecurityUtil.buildTokenService(SecurityUtil.java:447)
	at org.apache.hadoop.ozone.om.ha.OMProxyInfo.&lt;init&gt;(OMProxyInfo.java:40)
	at org.apache.hadoop.ozone.om.ha.OMFailoverProxyProvider.loadOMClientConfigs(OMFailoverProxyProvider.java:109)
	at org.apache.hadoop.ozone.om.ha.OMFailoverProxyProvider.&lt;init&gt;(OMFailoverProxyProvider.java:77)
	at org.apache.hadoop.ozone.om.protocolPB.OzoneManagerProtocolClientSideTranslatorPB.&lt;init&gt;(OzoneManagerProtocolClientSideTranslatorPB.java:195)
	at org.apache.hadoop.ozone.client.rpc.RpcClient.&lt;init&gt;(RpcClient.java:155)
	at org.apache.hadoop.ozone.client.OzoneClientFactory.getClientProtocol(OzoneClientFactory.java:189)
	at org.apache.hadoop.ozone.client.OzoneClientFactory.getRpcClient(OzoneClientFactory.java:152)
	at org.apache.hadoop.ozone.web.ozShell.OzoneAddress.createClient(OzoneAddress.java:102)
	at org.apache.hadoop.ozone.web.ozShell.s3.GetS3SecretHandler.call(GetS3SecretHandler.java:45)
	at org.apache.hadoop.ozone.web.ozShell.s3.GetS3SecretHandler.call(GetS3SecretHandler.java:32)
	at picocli.CommandLine.execute(CommandLine.java:1173)
	at picocli.CommandLine.access$800(CommandLine.java:141)
	at picocli.CommandLine$RunLast.handle(CommandLine.java:1367)
	at picocli.CommandLine$RunLast.handle(CommandLine.java:1335)
	at picocli.CommandLine$AbstractParseResultHandler.handleParseResult(CommandLine.java:1243)
	at picocli.CommandLine.parseWithHandlers(CommandLine.java:1526)
	at picocli.CommandLine.parseWithHandler(CommandLine.java:1465)
	at org.apache.hadoop.hdds.cli.GenericCli.execute(GenericCli.java:65)
	at org.apache.hadoop.ozone.web.ozShell.s3.S3Shell.execute(S3Shell.java:43)
	at org.apache.hadoop.hdds.cli.GenericCli.run(GenericCli.java:56)
	at org.apache.hadoop.ozone.web.ozShell.s3.S3Shell.main(S3Shell.java:54)
Caused by: java.net.UnknownHostException: om
	... 22 more
om</msg>
<status status="PASS" endtime="20190830 01:12:29.141" starttime="20190830 01:12:29.140"></status>
</kw>
<kw name="Should Be Equal As Integers" library="BuiltIn">
<doc>Fails if objects are unequal after converting them to integers.</doc>
<arguments>
<arg>${rc}</arg>
<arg>0</arg>
</arguments>
<msg timestamp="20190830 01:12:29.142" level="INFO">Argument types are:
&lt;type 'int'&gt;
&lt;type 'unicode'&gt;</msg>
<msg timestamp="20190830 01:12:29.142" level="FAIL">255 != 0</msg>
<status status="FAIL" endtime="20190830 01:12:29.142" starttime="20190830 01:12:29.141"></status>
</kw>
<status status="FAIL" endtime="20190830 01:12:29.143" starttime="20190830 01:12:27.712"></status>
</kw>
<status status="FAIL" endtime="20190830 01:12:29.143" starttime="20190830 01:12:27.656"></status>
</kw>
<status status="FAIL" endtime="20190830 01:12:29.143" starttime="20190830 01:12:27.655"></status>
</kw>
<status status="FAIL" endtime="20190830 01:12:29.143" starttime="20190830 01:12:26.967"></status>
</kw>
<status status="FAIL" endtime="20190830 01:12:29.144" critical="yes" starttime="20190830 01:12:26.966">Setup failed:
255 != 0</status>
</test>
<test id="s1-s5-t7" name="Upload part with Incorrect uploadID">
<kw type="setup" name="Setup s3 tests" library="commonawslib">
<kw name="Run Keyword" library="BuiltIn">
<doc>Executes the given keyword with the given arguments.</doc>
<arguments>
<arg>Install aws cli</arg>
</arguments>
<kw name="Install aws cli" library="commonlib">
<kw name="Run And Return Rc And Output" library="OperatingSystem">
<doc>Runs the given command in the system and returns the RC and output.</doc>
<arguments>
<arg>which apt-get</arg>
</arguments>
<assign>
<var>${rc}</var>
<var>${output}</var>
</assign>
<msg timestamp="20190830 01:12:29.148" level="INFO">Running command 'which apt-get 2&gt;&amp;1'.</msg>
<msg timestamp="20190830 01:12:29.154" level="INFO">${rc} = 1</msg>
<msg timestamp="20190830 01:12:29.154" level="INFO">${output} = which: no apt-get in (/opt/hadoop/bin/docker:/usr/local/sbin:/usr/local/bin:/usr/sbin:/usr/bin:/sbin:/bin:/opt/hadoop/bin)</msg>
<status status="PASS" endtime="20190830 01:12:29.154" starttime="20190830 01:12:29.146"></status>
</kw>
<kw name="Run Keyword If" library="BuiltIn">
<doc>Runs the given keyword with the given arguments, if ``condition`` is true.</doc>
<arguments>
<arg>'${rc}' == '0'</arg>
<arg>Install aws cli s3 debian</arg>
</arguments>
<status status="PASS" endtime="20190830 01:12:29.155" starttime="20190830 01:12:29.154"></status>
</kw>
<kw name="Run And Return Rc And Output" library="OperatingSystem">
<doc>Runs the given command in the system and returns the RC and output.</doc>
<arguments>
<arg>yum --help</arg>
</arguments>
<assign>
<var>${rc}</var>
<var>${output}</var>
</assign>
<msg timestamp="20190830 01:12:29.157" level="INFO">Running command 'yum --help 2&gt;&amp;1'.</msg>
<msg timestamp="20190830 01:12:29.322" level="INFO">${rc} = 0</msg>
<msg timestamp="20190830 01:12:29.322" level="INFO">${output} = Loaded plugins: fastestmirror, ovl
ovl: Error while doing RPMdb copy-up:
[Errno 13] Permission denied: '/var/lib/rpm/Group'
Usage: yum [options] COMMAND

List of Commands:

check          Check for pr...</msg>
<status status="PASS" endtime="20190830 01:12:29.322" starttime="20190830 01:12:29.155"></status>
</kw>
<kw name="Run Keyword If" library="BuiltIn">
<doc>Runs the given keyword with the given arguments, if ``condition`` is true.</doc>
<arguments>
<arg>'${rc}' == '0'</arg>
<arg>Install aws cli s3 centos</arg>
</arguments>
<kw name="Install aws cli s3 centos" library="commonawslib">
<kw name="Execute" library="commonlib">
<arguments>
<arg>sudo yum install -y awscli</arg>
</arguments>
<kw name="Run And Return Rc And Output" library="OperatingSystem">
<doc>Runs the given command in the system and returns the RC and output.</doc>
<arguments>
<arg>${command}</arg>
</arguments>
<assign>
<var>${rc}</var>
<var>${output}</var>
</assign>
<msg timestamp="20190830 01:12:29.329" level="INFO">Running command 'sudo yum install -y awscli 2&gt;&amp;1'.</msg>
<msg timestamp="20190830 01:12:29.880" level="INFO">${rc} = 0</msg>
<msg timestamp="20190830 01:12:29.880" level="INFO">${output} = Loaded plugins: fastestmirror, ovl
Loading mirror speeds from cached hostfile
 * base: mirror.sjc02.svwh.net
 * epel: sjc.edge.kernel.org
 * extras: sjc.edge.kernel.org
 * updates: sjc.edge.kernel.org...</msg>
<status status="PASS" endtime="20190830 01:12:29.880" starttime="20190830 01:12:29.326"></status>
</kw>
<kw name="Log" library="BuiltIn">
<doc>Logs the given message with the given level.</doc>
<arguments>
<arg>${output}</arg>
</arguments>
<msg timestamp="20190830 01:12:29.883" level="INFO">Loaded plugins: fastestmirror, ovl
Loading mirror speeds from cached hostfile
 * base: mirror.sjc02.svwh.net
 * epel: sjc.edge.kernel.org
 * extras: sjc.edge.kernel.org
 * updates: sjc.edge.kernel.org
Package awscli-1.14.28-5.el7_5.1.noarch already installed and latest version
Nothing to do</msg>
<status status="PASS" endtime="20190830 01:12:29.883" starttime="20190830 01:12:29.881"></status>
</kw>
<kw name="Should Be Equal As Integers" library="BuiltIn">
<doc>Fails if objects are unequal after converting them to integers.</doc>
<arguments>
<arg>${rc}</arg>
<arg>0</arg>
</arguments>
<msg timestamp="20190830 01:12:29.884" level="INFO">Argument types are:
&lt;type 'int'&gt;
&lt;type 'unicode'&gt;</msg>
<status status="PASS" endtime="20190830 01:12:29.884" starttime="20190830 01:12:29.883"></status>
</kw>
<status status="PASS" endtime="20190830 01:12:29.885" starttime="20190830 01:12:29.326"></status>
</kw>
<status status="PASS" endtime="20190830 01:12:29.885" starttime="20190830 01:12:29.325"></status>
</kw>
<status status="PASS" endtime="20190830 01:12:29.885" starttime="20190830 01:12:29.323"></status>
</kw>
<status status="PASS" endtime="20190830 01:12:29.886" starttime="20190830 01:12:29.146"></status>
</kw>
<status status="PASS" endtime="20190830 01:12:29.886" starttime="20190830 01:12:29.145"></status>
</kw>
<kw name="Run Keyword If" library="BuiltIn">
<doc>Runs the given keyword with the given arguments, if ``condition`` is true.</doc>
<arguments>
<arg>'${OZONE_S3_SET_CREDENTIALS}' == 'true'</arg>
<arg>Setup v4 headers</arg>
</arguments>
<kw name="Setup v4 headers" library="commonawslib">
<kw name="Run Keyword If" library="BuiltIn">
<doc>Runs the given keyword with the given arguments, if ``condition`` is true.</doc>
<arguments>
<arg>'${SECURITY_ENABLED}' == 'true'</arg>
<arg>Kinit test user</arg>
<arg>testuser</arg>
<arg>testuser.keytab</arg>
</arguments>
<kw name="Kinit test user" library="commonlib">
<arguments>
<arg>testuser</arg>
<arg>testuser.keytab</arg>
</arguments>
<kw name="Execute" library="commonlib">
<arguments>
<arg>hostname</arg>
</arguments>
<assign>
<var>${hostname}</var>
</assign>
<kw name="Run And Return Rc And Output" library="OperatingSystem">
<doc>Runs the given command in the system and returns the RC and output.</doc>
<arguments>
<arg>${command}</arg>
</arguments>
<assign>
<var>${rc}</var>
<var>${output}</var>
</assign>
<msg timestamp="20190830 01:12:29.893" level="INFO">Running command 'hostname 2&gt;&amp;1'.</msg>
<msg timestamp="20190830 01:12:29.900" level="INFO">${rc} = 0</msg>
<msg timestamp="20190830 01:12:29.900" level="INFO">${output} = s3g</msg>
<status status="PASS" endtime="20190830 01:12:29.900" starttime="20190830 01:12:29.891"></status>
</kw>
<kw name="Log" library="BuiltIn">
<doc>Logs the given message with the given level.</doc>
<arguments>
<arg>${output}</arg>
</arguments>
<msg timestamp="20190830 01:12:29.901" level="INFO">s3g</msg>
<status status="PASS" endtime="20190830 01:12:29.901" starttime="20190830 01:12:29.901"></status>
</kw>
<kw name="Should Be Equal As Integers" library="BuiltIn">
<doc>Fails if objects are unequal after converting them to integers.</doc>
<arguments>
<arg>${rc}</arg>
<arg>0</arg>
</arguments>
<msg timestamp="20190830 01:12:29.902" level="INFO">Argument types are:
&lt;type 'int'&gt;
&lt;type 'unicode'&gt;</msg>
<status status="PASS" endtime="20190830 01:12:29.902" starttime="20190830 01:12:29.902"></status>
</kw>
<msg timestamp="20190830 01:12:29.902" level="INFO">${hostname} = s3g</msg>
<status status="PASS" endtime="20190830 01:12:29.903" starttime="20190830 01:12:29.890"></status>
</kw>
<kw name="Set Suite Variable" library="BuiltIn">
<doc>Makes a variable available everywhere within the scope of the current suite.</doc>
<arguments>
<arg>${TEST_USER}</arg>
<arg>${user}/${hostname}@EXAMPLE.COM</arg>
</arguments>
<msg timestamp="20190830 01:12:29.903" level="INFO">${TEST_USER} = testuser/s3g@EXAMPLE.COM</msg>
<status status="PASS" endtime="20190830 01:12:29.904" starttime="20190830 01:12:29.903"></status>
</kw>
<kw name="Wait Until Keyword Succeeds" library="BuiltIn">
<doc>Runs the specified keyword and retries if it fails.</doc>
<arguments>
<arg>2min</arg>
<arg>10sec</arg>
<arg>Execute</arg>
<arg>kinit -k ${user}/${hostname}@EXAMPLE.COM -t /etc/security/keytabs/${keytab}</arg>
</arguments>
<kw name="Execute" library="commonlib">
<arguments>
<arg>kinit -k ${user}/${hostname}@EXAMPLE.COM -t /etc/security/keytabs/${keytab}</arg>
</arguments>
<kw name="Run And Return Rc And Output" library="OperatingSystem">
<doc>Runs the given command in the system and returns the RC and output.</doc>
<arguments>
<arg>${command}</arg>
</arguments>
<assign>
<var>${rc}</var>
<var>${output}</var>
</assign>
<msg timestamp="20190830 01:12:29.907" level="INFO">Running command 'kinit -k testuser/s3g@EXAMPLE.COM -t /etc/security/keytabs/testuser.keytab 2&gt;&amp;1'.</msg>
<msg timestamp="20190830 01:12:29.920" level="INFO">${rc} = 0</msg>
<msg timestamp="20190830 01:12:29.920" level="INFO">${output} = </msg>
<status status="PASS" endtime="20190830 01:12:29.920" starttime="20190830 01:12:29.905"></status>
</kw>
<kw name="Log" library="BuiltIn">
<doc>Logs the given message with the given level.</doc>
<arguments>
<arg>${output}</arg>
</arguments>
<msg timestamp="20190830 01:12:29.921" level="INFO"></msg>
<status status="PASS" endtime="20190830 01:12:29.921" starttime="20190830 01:12:29.921"></status>
</kw>
<kw name="Should Be Equal As Integers" library="BuiltIn">
<doc>Fails if objects are unequal after converting them to integers.</doc>
<arguments>
<arg>${rc}</arg>
<arg>0</arg>
</arguments>
<msg timestamp="20190830 01:12:29.922" level="INFO">Argument types are:
&lt;type 'int'&gt;
&lt;type 'unicode'&gt;</msg>
<status status="PASS" endtime="20190830 01:12:29.922" starttime="20190830 01:12:29.922"></status>
</kw>
<status status="PASS" endtime="20190830 01:12:29.922" starttime="20190830 01:12:29.904"></status>
</kw>
<status status="PASS" endtime="20190830 01:12:29.923" starttime="20190830 01:12:29.904"></status>
</kw>
<status status="PASS" endtime="20190830 01:12:29.923" starttime="20190830 01:12:29.889"></status>
</kw>
<status status="PASS" endtime="20190830 01:12:29.923" starttime="20190830 01:12:29.889"></status>
</kw>
<kw name="Execute" library="commonlib">
<arguments>
<arg>ozone s3 getsecret</arg>
</arguments>
<assign>
<var>${result}</var>
</assign>
<kw name="Run And Return Rc And Output" library="OperatingSystem">
<doc>Runs the given command in the system and returns the RC and output.</doc>
<arguments>
<arg>${command}</arg>
</arguments>
<assign>
<var>${rc}</var>
<var>${output}</var>
</assign>
<msg timestamp="20190830 01:12:29.925" level="INFO">Running command 'ozone s3 getsecret 2&gt;&amp;1'.</msg>
<msg timestamp="20190830 01:12:31.342" level="INFO">${rc} = 255</msg>
<msg timestamp="20190830 01:12:31.342" level="INFO">${output} = WARNING: An illegal reflective access operation has occurred
WARNING: Illegal reflective access by org.apache.hadoop.security.authentication.util.KerberosUtil (file:/opt/hadoop/share/ozone/lib/hadoop-...</msg>
<status status="PASS" endtime="20190830 01:12:31.342" starttime="20190830 01:12:29.924"></status>
</kw>
<kw name="Log" library="BuiltIn">
<doc>Logs the given message with the given level.</doc>
<arguments>
<arg>${output}</arg>
</arguments>
<msg timestamp="20190830 01:12:31.344" level="INFO">WARNING: An illegal reflective access operation has occurred
WARNING: Illegal reflective access by org.apache.hadoop.security.authentication.util.KerberosUtil (file:/opt/hadoop/share/ozone/lib/hadoop-auth-3.2.0.jar) to method sun.security.krb5.Config.getInstance()
WARNING: Please consider reporting this to the maintainers of org.apache.hadoop.security.authentication.util.KerberosUtil
WARNING: Use --illegal-access=warn to enable warnings of further illegal reflective access operations
WARNING: All illegal access operations will be denied in a future release
2019-08-30 01:12:31 ERROR OzoneClientFactory:192 - Couldn't create RpcClient protocol exception: 
java.lang.IllegalArgumentException: java.net.UnknownHostException: om
	at org.apache.hadoop.security.SecurityUtil.buildTokenService(SecurityUtil.java:447)
	at org.apache.hadoop.ozone.om.ha.OMProxyInfo.&lt;init&gt;(OMProxyInfo.java:40)
	at org.apache.hadoop.ozone.om.ha.OMFailoverProxyProvider.loadOMClientConfigs(OMFailoverProxyProvider.java:109)
	at org.apache.hadoop.ozone.om.ha.OMFailoverProxyProvider.&lt;init&gt;(OMFailoverProxyProvider.java:77)
	at org.apache.hadoop.ozone.om.protocolPB.OzoneManagerProtocolClientSideTranslatorPB.&lt;init&gt;(OzoneManagerProtocolClientSideTranslatorPB.java:195)
	at org.apache.hadoop.ozone.client.rpc.RpcClient.&lt;init&gt;(RpcClient.java:155)
	at org.apache.hadoop.ozone.client.OzoneClientFactory.getClientProtocol(OzoneClientFactory.java:189)
	at org.apache.hadoop.ozone.client.OzoneClientFactory.getRpcClient(OzoneClientFactory.java:152)
	at org.apache.hadoop.ozone.web.ozShell.OzoneAddress.createClient(OzoneAddress.java:102)
	at org.apache.hadoop.ozone.web.ozShell.s3.GetS3SecretHandler.call(GetS3SecretHandler.java:45)
	at org.apache.hadoop.ozone.web.ozShell.s3.GetS3SecretHandler.call(GetS3SecretHandler.java:32)
	at picocli.CommandLine.execute(CommandLine.java:1173)
	at picocli.CommandLine.access$800(CommandLine.java:141)
	at picocli.CommandLine$RunLast.handle(CommandLine.java:1367)
	at picocli.CommandLine$RunLast.handle(CommandLine.java:1335)
	at picocli.CommandLine$AbstractParseResultHandler.handleParseResult(CommandLine.java:1243)
	at picocli.CommandLine.parseWithHandlers(CommandLine.java:1526)
	at picocli.CommandLine.parseWithHandler(CommandLine.java:1465)
	at org.apache.hadoop.hdds.cli.GenericCli.execute(GenericCli.java:65)
	at org.apache.hadoop.ozone.web.ozShell.s3.S3Shell.execute(S3Shell.java:43)
	at org.apache.hadoop.hdds.cli.GenericCli.run(GenericCli.java:56)
	at org.apache.hadoop.ozone.web.ozShell.s3.S3Shell.main(S3Shell.java:54)
Caused by: java.net.UnknownHostException: om
	... 22 more
om</msg>
<status status="PASS" endtime="20190830 01:12:31.345" starttime="20190830 01:12:31.343"></status>
</kw>
<kw name="Should Be Equal As Integers" library="BuiltIn">
<doc>Fails if objects are unequal after converting them to integers.</doc>
<arguments>
<arg>${rc}</arg>
<arg>0</arg>
</arguments>
<msg timestamp="20190830 01:12:31.346" level="INFO">Argument types are:
&lt;type 'int'&gt;
&lt;type 'unicode'&gt;</msg>
<msg timestamp="20190830 01:12:31.346" level="FAIL">255 != 0</msg>
<status status="FAIL" endtime="20190830 01:12:31.347" starttime="20190830 01:12:31.345"></status>
</kw>
<status status="FAIL" endtime="20190830 01:12:31.347" starttime="20190830 01:12:29.923"></status>
</kw>
<status status="FAIL" endtime="20190830 01:12:31.348" starttime="20190830 01:12:29.888"></status>
</kw>
<status status="FAIL" endtime="20190830 01:12:31.348" starttime="20190830 01:12:29.887"></status>
</kw>
<status status="FAIL" endtime="20190830 01:12:31.348" starttime="20190830 01:12:29.145"></status>
</kw>
<status status="FAIL" endtime="20190830 01:12:31.349" critical="yes" starttime="20190830 01:12:29.144">Setup failed:
255 != 0</status>
</test>
<test id="s1-s5-t8" name="Test list parts">
<kw type="setup" name="Setup s3 tests" library="commonawslib">
<kw name="Run Keyword" library="BuiltIn">
<doc>Executes the given keyword with the given arguments.</doc>
<arguments>
<arg>Install aws cli</arg>
</arguments>
<kw name="Install aws cli" library="commonlib">
<kw name="Run And Return Rc And Output" library="OperatingSystem">
<doc>Runs the given command in the system and returns the RC and output.</doc>
<arguments>
<arg>which apt-get</arg>
</arguments>
<assign>
<var>${rc}</var>
<var>${output}</var>
</assign>
<msg timestamp="20190830 01:12:31.368" level="INFO">Running command 'which apt-get 2&gt;&amp;1'.</msg>
<msg timestamp="20190830 01:12:31.375" level="INFO">${rc} = 1</msg>
<msg timestamp="20190830 01:12:31.375" level="INFO">${output} = which: no apt-get in (/opt/hadoop/bin/docker:/usr/local/sbin:/usr/local/bin:/usr/sbin:/usr/bin:/sbin:/bin:/opt/hadoop/bin)</msg>
<status status="PASS" endtime="20190830 01:12:31.375" starttime="20190830 01:12:31.365"></status>
</kw>
<kw name="Run Keyword If" library="BuiltIn">
<doc>Runs the given keyword with the given arguments, if ``condition`` is true.</doc>
<arguments>
<arg>'${rc}' == '0'</arg>
<arg>Install aws cli s3 debian</arg>
</arguments>
<status status="PASS" endtime="20190830 01:12:31.377" starttime="20190830 01:12:31.376"></status>
</kw>
<kw name="Run And Return Rc And Output" library="OperatingSystem">
<doc>Runs the given command in the system and returns the RC and output.</doc>
<arguments>
<arg>yum --help</arg>
</arguments>
<assign>
<var>${rc}</var>
<var>${output}</var>
</assign>
<msg timestamp="20190830 01:12:31.379" level="INFO">Running command 'yum --help 2&gt;&amp;1'.</msg>
<msg timestamp="20190830 01:12:31.565" level="INFO">${rc} = 0</msg>
<msg timestamp="20190830 01:12:31.566" level="INFO">${output} = Loaded plugins: fastestmirror, ovl
ovl: Error while doing RPMdb copy-up:
[Errno 13] Permission denied: '/var/lib/rpm/Group'
Usage: yum [options] COMMAND

List of Commands:

check          Check for pr...</msg>
<status status="PASS" endtime="20190830 01:12:31.566" starttime="20190830 01:12:31.378"></status>
</kw>
<kw name="Run Keyword If" library="BuiltIn">
<doc>Runs the given keyword with the given arguments, if ``condition`` is true.</doc>
<arguments>
<arg>'${rc}' == '0'</arg>
<arg>Install aws cli s3 centos</arg>
</arguments>
<kw name="Install aws cli s3 centos" library="commonawslib">
<kw name="Execute" library="commonlib">
<arguments>
<arg>sudo yum install -y awscli</arg>
</arguments>
<kw name="Run And Return Rc And Output" library="OperatingSystem">
<doc>Runs the given command in the system and returns the RC and output.</doc>
<arguments>
<arg>${command}</arg>
</arguments>
<assign>
<var>${rc}</var>
<var>${output}</var>
</assign>
<msg timestamp="20190830 01:12:31.572" level="INFO">Running command 'sudo yum install -y awscli 2&gt;&amp;1'.</msg>
<msg timestamp="20190830 01:12:32.091" level="INFO">${rc} = 0</msg>
<msg timestamp="20190830 01:12:32.092" level="INFO">${output} = Loaded plugins: fastestmirror, ovl
Loading mirror speeds from cached hostfile
 * base: mirror.sjc02.svwh.net
 * epel: sjc.edge.kernel.org
 * extras: sjc.edge.kernel.org
 * updates: sjc.edge.kernel.org...</msg>
<status status="PASS" endtime="20190830 01:12:32.092" starttime="20190830 01:12:31.570"></status>
</kw>
<kw name="Log" library="BuiltIn">
<doc>Logs the given message with the given level.</doc>
<arguments>
<arg>${output}</arg>
</arguments>
<msg timestamp="20190830 01:12:32.094" level="INFO">Loaded plugins: fastestmirror, ovl
Loading mirror speeds from cached hostfile
 * base: mirror.sjc02.svwh.net
 * epel: sjc.edge.kernel.org
 * extras: sjc.edge.kernel.org
 * updates: sjc.edge.kernel.org
Package awscli-1.14.28-5.el7_5.1.noarch already installed and latest version
Nothing to do</msg>
<status status="PASS" endtime="20190830 01:12:32.094" starttime="20190830 01:12:32.093"></status>
</kw>
<kw name="Should Be Equal As Integers" library="BuiltIn">
<doc>Fails if objects are unequal after converting them to integers.</doc>
<arguments>
<arg>${rc}</arg>
<arg>0</arg>
</arguments>
<msg timestamp="20190830 01:12:32.095" level="INFO">Argument types are:
&lt;type 'int'&gt;
&lt;type 'unicode'&gt;</msg>
<status status="PASS" endtime="20190830 01:12:32.095" starttime="20190830 01:12:32.094"></status>
</kw>
<status status="PASS" endtime="20190830 01:12:32.096" starttime="20190830 01:12:31.569"></status>
</kw>
<status status="PASS" endtime="20190830 01:12:32.096" starttime="20190830 01:12:31.568"></status>
</kw>
<status status="PASS" endtime="20190830 01:12:32.097" starttime="20190830 01:12:31.567"></status>
</kw>
<status status="PASS" endtime="20190830 01:12:32.097" starttime="20190830 01:12:31.361"></status>
</kw>
<status status="PASS" endtime="20190830 01:12:32.097" starttime="20190830 01:12:31.356"></status>
</kw>
<kw name="Run Keyword If" library="BuiltIn">
<doc>Runs the given keyword with the given arguments, if ``condition`` is true.</doc>
<arguments>
<arg>'${OZONE_S3_SET_CREDENTIALS}' == 'true'</arg>
<arg>Setup v4 headers</arg>
</arguments>
<kw name="Setup v4 headers" library="commonawslib">
<kw name="Run Keyword If" library="BuiltIn">
<doc>Runs the given keyword with the given arguments, if ``condition`` is true.</doc>
<arguments>
<arg>'${SECURITY_ENABLED}' == 'true'</arg>
<arg>Kinit test user</arg>
<arg>testuser</arg>
<arg>testuser.keytab</arg>
</arguments>
<kw name="Kinit test user" library="commonlib">
<arguments>
<arg>testuser</arg>
<arg>testuser.keytab</arg>
</arguments>
<kw name="Execute" library="commonlib">
<arguments>
<arg>hostname</arg>
</arguments>
<assign>
<var>${hostname}</var>
</assign>
<kw name="Run And Return Rc And Output" library="OperatingSystem">
<doc>Runs the given command in the system and returns the RC and output.</doc>
<arguments>
<arg>${command}</arg>
</arguments>
<assign>
<var>${rc}</var>
<var>${output}</var>
</assign>
<msg timestamp="20190830 01:12:32.105" level="INFO">Running command 'hostname 2&gt;&amp;1'.</msg>
<msg timestamp="20190830 01:12:32.110" level="INFO">${rc} = 0</msg>
<msg timestamp="20190830 01:12:32.111" level="INFO">${output} = s3g</msg>
<status status="PASS" endtime="20190830 01:12:32.111" starttime="20190830 01:12:32.102"></status>
</kw>
<kw name="Log" library="BuiltIn">
<doc>Logs the given message with the given level.</doc>
<arguments>
<arg>${output}</arg>
</arguments>
<msg timestamp="20190830 01:12:32.112" level="INFO">s3g</msg>
<status status="PASS" endtime="20190830 01:12:32.113" starttime="20190830 01:12:32.112"></status>
</kw>
<kw name="Should Be Equal As Integers" library="BuiltIn">
<doc>Fails if objects are unequal after converting them to integers.</doc>
<arguments>
<arg>${rc}</arg>
<arg>0</arg>
</arguments>
<msg timestamp="20190830 01:12:32.113" level="INFO">Argument types are:
&lt;type 'int'&gt;
&lt;type 'unicode'&gt;</msg>
<status status="PASS" endtime="20190830 01:12:32.113" starttime="20190830 01:12:32.113"></status>
</kw>
<msg timestamp="20190830 01:12:32.114" level="INFO">${hostname} = s3g</msg>
<status status="PASS" endtime="20190830 01:12:32.114" starttime="20190830 01:12:32.101"></status>
</kw>
<kw name="Set Suite Variable" library="BuiltIn">
<doc>Makes a variable available everywhere within the scope of the current suite.</doc>
<arguments>
<arg>${TEST_USER}</arg>
<arg>${user}/${hostname}@EXAMPLE.COM</arg>
</arguments>
<msg timestamp="20190830 01:12:32.115" level="INFO">${TEST_USER} = testuser/s3g@EXAMPLE.COM</msg>
<status status="PASS" endtime="20190830 01:12:32.115" starttime="20190830 01:12:32.114"></status>
</kw>
<kw name="Wait Until Keyword Succeeds" library="BuiltIn">
<doc>Runs the specified keyword and retries if it fails.</doc>
<arguments>
<arg>2min</arg>
<arg>10sec</arg>
<arg>Execute</arg>
<arg>kinit -k ${user}/${hostname}@EXAMPLE.COM -t /etc/security/keytabs/${keytab}</arg>
</arguments>
<kw name="Execute" library="commonlib">
<arguments>
<arg>kinit -k ${user}/${hostname}@EXAMPLE.COM -t /etc/security/keytabs/${keytab}</arg>
</arguments>
<kw name="Run And Return Rc And Output" library="OperatingSystem">
<doc>Runs the given command in the system and returns the RC and output.</doc>
<arguments>
<arg>${command}</arg>
</arguments>
<assign>
<var>${rc}</var>
<var>${output}</var>
</assign>
<msg timestamp="20190830 01:12:32.118" level="INFO">Running command 'kinit -k testuser/s3g@EXAMPLE.COM -t /etc/security/keytabs/testuser.keytab 2&gt;&amp;1'.</msg>
<msg timestamp="20190830 01:12:32.135" level="INFO">${rc} = 0</msg>
<msg timestamp="20190830 01:12:32.136" level="INFO">${output} = </msg>
<status status="PASS" endtime="20190830 01:12:32.136" starttime="20190830 01:12:32.117"></status>
</kw>
<kw name="Log" library="BuiltIn">
<doc>Logs the given message with the given level.</doc>
<arguments>
<arg>${output}</arg>
</arguments>
<msg timestamp="20190830 01:12:32.137" level="INFO"></msg>
<status status="PASS" endtime="20190830 01:12:32.137" starttime="20190830 01:12:32.136"></status>
</kw>
<kw name="Should Be Equal As Integers" library="BuiltIn">
<doc>Fails if objects are unequal after converting them to integers.</doc>
<arguments>
<arg>${rc}</arg>
<arg>0</arg>
</arguments>
<msg timestamp="20190830 01:12:32.137" level="INFO">Argument types are:
&lt;type 'int'&gt;
&lt;type 'unicode'&gt;</msg>
<status status="PASS" endtime="20190830 01:12:32.137" starttime="20190830 01:12:32.137"></status>
</kw>
<status status="PASS" endtime="20190830 01:12:32.138" starttime="20190830 01:12:32.116"></status>
</kw>
<status status="PASS" endtime="20190830 01:12:32.138" starttime="20190830 01:12:32.115"></status>
</kw>
<status status="PASS" endtime="20190830 01:12:32.138" starttime="20190830 01:12:32.100"></status>
</kw>
<status status="PASS" endtime="20190830 01:12:32.138" starttime="20190830 01:12:32.100"></status>
</kw>
<kw name="Execute" library="commonlib">
<arguments>
<arg>ozone s3 getsecret</arg>
</arguments>
<assign>
<var>${result}</var>
</assign>
<kw name="Run And Return Rc And Output" library="OperatingSystem">
<doc>Runs the given command in the system and returns the RC and output.</doc>
<arguments>
<arg>${command}</arg>
</arguments>
<assign>
<var>${rc}</var>
<var>${output}</var>
</assign>
<msg timestamp="20190830 01:12:32.141" level="INFO">Running command 'ozone s3 getsecret 2&gt;&amp;1'.</msg>
<msg timestamp="20190830 01:12:33.712" level="INFO">${rc} = 255</msg>
<msg timestamp="20190830 01:12:33.712" level="INFO">${output} = WARNING: An illegal reflective access operation has occurred
WARNING: Illegal reflective access by org.apache.hadoop.security.authentication.util.KerberosUtil (file:/opt/hadoop/share/ozone/lib/hadoop-...</msg>
<status status="PASS" endtime="20190830 01:12:33.712" starttime="20190830 01:12:32.139"></status>
</kw>
<kw name="Log" library="BuiltIn">
<doc>Logs the given message with the given level.</doc>
<arguments>
<arg>${output}</arg>
</arguments>
<msg timestamp="20190830 01:12:33.714" level="INFO">WARNING: An illegal reflective access operation has occurred
WARNING: Illegal reflective access by org.apache.hadoop.security.authentication.util.KerberosUtil (file:/opt/hadoop/share/ozone/lib/hadoop-auth-3.2.0.jar) to method sun.security.krb5.Config.getInstance()
WARNING: Please consider reporting this to the maintainers of org.apache.hadoop.security.authentication.util.KerberosUtil
WARNING: Use --illegal-access=warn to enable warnings of further illegal reflective access operations
WARNING: All illegal access operations will be denied in a future release
2019-08-30 01:12:33 ERROR OzoneClientFactory:192 - Couldn't create RpcClient protocol exception: 
java.lang.IllegalArgumentException: java.net.UnknownHostException: om
	at org.apache.hadoop.security.SecurityUtil.buildTokenService(SecurityUtil.java:447)
	at org.apache.hadoop.ozone.om.ha.OMProxyInfo.&lt;init&gt;(OMProxyInfo.java:40)
	at org.apache.hadoop.ozone.om.ha.OMFailoverProxyProvider.loadOMClientConfigs(OMFailoverProxyProvider.java:109)
	at org.apache.hadoop.ozone.om.ha.OMFailoverProxyProvider.&lt;init&gt;(OMFailoverProxyProvider.java:77)
	at org.apache.hadoop.ozone.om.protocolPB.OzoneManagerProtocolClientSideTranslatorPB.&lt;init&gt;(OzoneManagerProtocolClientSideTranslatorPB.java:195)
	at org.apache.hadoop.ozone.client.rpc.RpcClient.&lt;init&gt;(RpcClient.java:155)
	at org.apache.hadoop.ozone.client.OzoneClientFactory.getClientProtocol(OzoneClientFactory.java:189)
	at org.apache.hadoop.ozone.client.OzoneClientFactory.getRpcClient(OzoneClientFactory.java:152)
	at org.apache.hadoop.ozone.web.ozShell.OzoneAddress.createClient(OzoneAddress.java:102)
	at org.apache.hadoop.ozone.web.ozShell.s3.GetS3SecretHandler.call(GetS3SecretHandler.java:45)
	at org.apache.hadoop.ozone.web.ozShell.s3.GetS3SecretHandler.call(GetS3SecretHandler.java:32)
	at picocli.CommandLine.execute(CommandLine.java:1173)
	at picocli.CommandLine.access$800(CommandLine.java:141)
	at picocli.CommandLine$RunLast.handle(CommandLine.java:1367)
	at picocli.CommandLine$RunLast.handle(CommandLine.java:1335)
	at picocli.CommandLine$AbstractParseResultHandler.handleParseResult(CommandLine.java:1243)
	at picocli.CommandLine.parseWithHandlers(CommandLine.java:1526)
	at picocli.CommandLine.parseWithHandler(CommandLine.java:1465)
	at org.apache.hadoop.hdds.cli.GenericCli.execute(GenericCli.java:65)
	at org.apache.hadoop.ozone.web.ozShell.s3.S3Shell.execute(S3Shell.java:43)
	at org.apache.hadoop.hdds.cli.GenericCli.run(GenericCli.java:56)
	at org.apache.hadoop.ozone.web.ozShell.s3.S3Shell.main(S3Shell.java:54)
Caused by: java.net.UnknownHostException: om
	... 22 more
om</msg>
<status status="PASS" endtime="20190830 01:12:33.714" starttime="20190830 01:12:33.713"></status>
</kw>
<kw name="Should Be Equal As Integers" library="BuiltIn">
<doc>Fails if objects are unequal after converting them to integers.</doc>
<arguments>
<arg>${rc}</arg>
<arg>0</arg>
</arguments>
<msg timestamp="20190830 01:12:33.715" level="INFO">Argument types are:
&lt;type 'int'&gt;
&lt;type 'unicode'&gt;</msg>
<msg timestamp="20190830 01:12:33.716" level="FAIL">255 != 0</msg>
<status status="FAIL" endtime="20190830 01:12:33.716" starttime="20190830 01:12:33.714"></status>
</kw>
<status status="FAIL" endtime="20190830 01:12:33.716" starttime="20190830 01:12:32.138"></status>
</kw>
<status status="FAIL" endtime="20190830 01:12:33.717" starttime="20190830 01:12:32.099"></status>
</kw>
<status status="FAIL" endtime="20190830 01:12:33.717" starttime="20190830 01:12:32.098"></status>
</kw>
<status status="FAIL" endtime="20190830 01:12:33.717" starttime="20190830 01:12:31.351"></status>
</kw>
<status status="FAIL" endtime="20190830 01:12:33.718" critical="yes" starttime="20190830 01:12:31.350">Setup failed:
255 != 0</status>
</test>
<test id="s1-s5-t9" name="Test Multipart Upload with the simplified aws s3 cp API">
<kw type="setup" name="Setup s3 tests" library="commonawslib">
<kw name="Run Keyword" library="BuiltIn">
<doc>Executes the given keyword with the given arguments.</doc>
<arguments>
<arg>Install aws cli</arg>
</arguments>
<kw name="Install aws cli" library="commonlib">
<kw name="Run And Return Rc And Output" library="OperatingSystem">
<doc>Runs the given command in the system and returns the RC and output.</doc>
<arguments>
<arg>which apt-get</arg>
</arguments>
<assign>
<var>${rc}</var>
<var>${output}</var>
</assign>
<msg timestamp="20190830 01:12:33.724" level="INFO">Running command 'which apt-get 2&gt;&amp;1'.</msg>
<msg timestamp="20190830 01:12:33.731" level="INFO">${rc} = 1</msg>
<msg timestamp="20190830 01:12:33.732" level="INFO">${output} = which: no apt-get in (/opt/hadoop/bin/docker:/usr/local/sbin:/usr/local/bin:/usr/sbin:/usr/bin:/sbin:/bin:/opt/hadoop/bin)</msg>
<status status="PASS" endtime="20190830 01:12:33.732" starttime="20190830 01:12:33.722"></status>
</kw>
<kw name="Run Keyword If" library="BuiltIn">
<doc>Runs the given keyword with the given arguments, if ``condition`` is true.</doc>
<arguments>
<arg>'${rc}' == '0'</arg>
<arg>Install aws cli s3 debian</arg>
</arguments>
<status status="PASS" endtime="20190830 01:12:33.734" starttime="20190830 01:12:33.733"></status>
</kw>
<kw name="Run And Return Rc And Output" library="OperatingSystem">
<doc>Runs the given command in the system and returns the RC and output.</doc>
<arguments>
<arg>yum --help</arg>
</arguments>
<assign>
<var>${rc}</var>
<var>${output}</var>
</assign>
<msg timestamp="20190830 01:12:33.737" level="INFO">Running command 'yum --help 2&gt;&amp;1'.</msg>
<msg timestamp="20190830 01:12:33.908" level="INFO">${rc} = 0</msg>
<msg timestamp="20190830 01:12:33.908" level="INFO">${output} = Loaded plugins: fastestmirror, ovl
ovl: Error while doing RPMdb copy-up:
[Errno 13] Permission denied: '/var/lib/rpm/Group'
Usage: yum [options] COMMAND

List of Commands:

check          Check for pr...</msg>
<status status="PASS" endtime="20190830 01:12:33.908" starttime="20190830 01:12:33.734"></status>
</kw>
<kw name="Run Keyword If" library="BuiltIn">
<doc>Runs the given keyword with the given arguments, if ``condition`` is true.</doc>
<arguments>
<arg>'${rc}' == '0'</arg>
<arg>Install aws cli s3 centos</arg>
</arguments>
<kw name="Install aws cli s3 centos" library="commonawslib">
<kw name="Execute" library="commonlib">
<arguments>
<arg>sudo yum install -y awscli</arg>
</arguments>
<kw name="Run And Return Rc And Output" library="OperatingSystem">
<doc>Runs the given command in the system and returns the RC and output.</doc>
<arguments>
<arg>${command}</arg>
</arguments>
<assign>
<var>${rc}</var>
<var>${output}</var>
</assign>
<msg timestamp="20190830 01:12:33.914" level="INFO">Running command 'sudo yum install -y awscli 2&gt;&amp;1'.</msg>
<msg timestamp="20190830 01:12:34.434" level="INFO">${rc} = 0</msg>
<msg timestamp="20190830 01:12:34.434" level="INFO">${output} = Loaded plugins: fastestmirror, ovl
Loading mirror speeds from cached hostfile
 * base: mirror.sjc02.svwh.net
 * epel: sjc.edge.kernel.org
 * extras: sjc.edge.kernel.org
 * updates: sjc.edge.kernel.org...</msg>
<status status="PASS" endtime="20190830 01:12:34.434" starttime="20190830 01:12:33.912"></status>
</kw>
<kw name="Log" library="BuiltIn">
<doc>Logs the given message with the given level.</doc>
<arguments>
<arg>${output}</arg>
</arguments>
<msg timestamp="20190830 01:12:34.436" level="INFO">Loaded plugins: fastestmirror, ovl
Loading mirror speeds from cached hostfile
 * base: mirror.sjc02.svwh.net
 * epel: sjc.edge.kernel.org
 * extras: sjc.edge.kernel.org
 * updates: sjc.edge.kernel.org
Package awscli-1.14.28-5.el7_5.1.noarch already installed and latest version
Nothing to do</msg>
<status status="PASS" endtime="20190830 01:12:34.436" starttime="20190830 01:12:34.435"></status>
</kw>
<kw name="Should Be Equal As Integers" library="BuiltIn">
<doc>Fails if objects are unequal after converting them to integers.</doc>
<arguments>
<arg>${rc}</arg>
<arg>0</arg>
</arguments>
<msg timestamp="20190830 01:12:34.437" level="INFO">Argument types are:
&lt;type 'int'&gt;
&lt;type 'unicode'&gt;</msg>
<status status="PASS" endtime="20190830 01:12:34.437" starttime="20190830 01:12:34.437"></status>
</kw>
<status status="PASS" endtime="20190830 01:12:34.438" starttime="20190830 01:12:33.911"></status>
</kw>
<status status="PASS" endtime="20190830 01:12:34.438" starttime="20190830 01:12:33.910"></status>
</kw>
<status status="PASS" endtime="20190830 01:12:34.438" starttime="20190830 01:12:33.909"></status>
</kw>
<status status="PASS" endtime="20190830 01:12:34.438" starttime="20190830 01:12:33.721"></status>
</kw>
<status status="PASS" endtime="20190830 01:12:34.439" starttime="20190830 01:12:33.720"></status>
</kw>
<kw name="Run Keyword If" library="BuiltIn">
<doc>Runs the given keyword with the given arguments, if ``condition`` is true.</doc>
<arguments>
<arg>'${OZONE_S3_SET_CREDENTIALS}' == 'true'</arg>
<arg>Setup v4 headers</arg>
</arguments>
<kw name="Setup v4 headers" library="commonawslib">
<kw name="Run Keyword If" library="BuiltIn">
<doc>Runs the given keyword with the given arguments, if ``condition`` is true.</doc>
<arguments>
<arg>'${SECURITY_ENABLED}' == 'true'</arg>
<arg>Kinit test user</arg>
<arg>testuser</arg>
<arg>testuser.keytab</arg>
</arguments>
<kw name="Kinit test user" library="commonlib">
<arguments>
<arg>testuser</arg>
<arg>testuser.keytab</arg>
</arguments>
<kw name="Execute" library="commonlib">
<arguments>
<arg>hostname</arg>
</arguments>
<assign>
<var>${hostname}</var>
</assign>
<kw name="Run And Return Rc And Output" library="OperatingSystem">
<doc>Runs the given command in the system and returns the RC and output.</doc>
<arguments>
<arg>${command}</arg>
</arguments>
<assign>
<var>${rc}</var>
<var>${output}</var>
</assign>
<msg timestamp="20190830 01:12:34.445" level="INFO">Running command 'hostname 2&gt;&amp;1'.</msg>
<msg timestamp="20190830 01:12:34.452" level="INFO">${rc} = 0</msg>
<msg timestamp="20190830 01:12:34.452" level="INFO">${output} = s3g</msg>
<status status="PASS" endtime="20190830 01:12:34.452" starttime="20190830 01:12:34.443"></status>
</kw>
<kw name="Log" library="BuiltIn">
<doc>Logs the given message with the given level.</doc>
<arguments>
<arg>${output}</arg>
</arguments>
<msg timestamp="20190830 01:12:34.454" level="INFO">s3g</msg>
<status status="PASS" endtime="20190830 01:12:34.454" starttime="20190830 01:12:34.453"></status>
</kw>
<kw name="Should Be Equal As Integers" library="BuiltIn">
<doc>Fails if objects are unequal after converting them to integers.</doc>
<arguments>
<arg>${rc}</arg>
<arg>0</arg>
</arguments>
<msg timestamp="20190830 01:12:34.455" level="INFO">Argument types are:
&lt;type 'int'&gt;
&lt;type 'unicode'&gt;</msg>
<status status="PASS" endtime="20190830 01:12:34.456" starttime="20190830 01:12:34.455"></status>
</kw>
<msg timestamp="20190830 01:12:34.456" level="INFO">${hostname} = s3g</msg>
<status status="PASS" endtime="20190830 01:12:34.456" starttime="20190830 01:12:34.442"></status>
</kw>
<kw name="Set Suite Variable" library="BuiltIn">
<doc>Makes a variable available everywhere within the scope of the current suite.</doc>
<arguments>
<arg>${TEST_USER}</arg>
<arg>${user}/${hostname}@EXAMPLE.COM</arg>
</arguments>
<msg timestamp="20190830 01:12:34.458" level="INFO">${TEST_USER} = testuser/s3g@EXAMPLE.COM</msg>
<status status="PASS" endtime="20190830 01:12:34.458" starttime="20190830 01:12:34.457"></status>
</kw>
<kw name="Wait Until Keyword Succeeds" library="BuiltIn">
<doc>Runs the specified keyword and retries if it fails.</doc>
<arguments>
<arg>2min</arg>
<arg>10sec</arg>
<arg>Execute</arg>
<arg>kinit -k ${user}/${hostname}@EXAMPLE.COM -t /etc/security/keytabs/${keytab}</arg>
</arguments>
<kw name="Execute" library="commonlib">
<arguments>
<arg>kinit -k ${user}/${hostname}@EXAMPLE.COM -t /etc/security/keytabs/${keytab}</arg>
</arguments>
<kw name="Run And Return Rc And Output" library="OperatingSystem">
<doc>Runs the given command in the system and returns the RC and output.</doc>
<arguments>
<arg>${command}</arg>
</arguments>
<assign>
<var>${rc}</var>
<var>${output}</var>
</assign>
<msg timestamp="20190830 01:12:34.463" level="INFO">Running command 'kinit -k testuser/s3g@EXAMPLE.COM -t /etc/security/keytabs/testuser.keytab 2&gt;&amp;1'.</msg>
<msg timestamp="20190830 01:12:34.480" level="INFO">${rc} = 0</msg>
<msg timestamp="20190830 01:12:34.480" level="INFO">${output} = </msg>
<status status="PASS" endtime="20190830 01:12:34.480" starttime="20190830 01:12:34.460"></status>
</kw>
<kw name="Log" library="BuiltIn">
<doc>Logs the given message with the given level.</doc>
<arguments>
<arg>${output}</arg>
</arguments>
<msg timestamp="20190830 01:12:34.481" level="INFO"></msg>
<status status="PASS" endtime="20190830 01:12:34.481" starttime="20190830 01:12:34.480"></status>
</kw>
<kw name="Should Be Equal As Integers" library="BuiltIn">
<doc>Fails if objects are unequal after converting them to integers.</doc>
<arguments>
<arg>${rc}</arg>
<arg>0</arg>
</arguments>
<msg timestamp="20190830 01:12:34.482" level="INFO">Argument types are:
&lt;type 'int'&gt;
&lt;type 'unicode'&gt;</msg>
<status status="PASS" endtime="20190830 01:12:34.483" starttime="20190830 01:12:34.482"></status>
</kw>
<status status="PASS" endtime="20190830 01:12:34.483" starttime="20190830 01:12:34.459"></status>
</kw>
<status status="PASS" endtime="20190830 01:12:34.483" starttime="20190830 01:12:34.458"></status>
</kw>
<status status="PASS" endtime="20190830 01:12:34.483" starttime="20190830 01:12:34.441"></status>
</kw>
<status status="PASS" endtime="20190830 01:12:34.484" starttime="20190830 01:12:34.441"></status>
</kw>
<kw name="Execute" library="commonlib">
<arguments>
<arg>ozone s3 getsecret</arg>
</arguments>
<assign>
<var>${result}</var>
</assign>
<kw name="Run And Return Rc And Output" library="OperatingSystem">
<doc>Runs the given command in the system and returns the RC and output.</doc>
<arguments>
<arg>${command}</arg>
</arguments>
<assign>
<var>${rc}</var>
<var>${output}</var>
</assign>
<msg timestamp="20190830 01:12:34.487" level="INFO">Running command 'ozone s3 getsecret 2&gt;&amp;1'.</msg>
<msg timestamp="20190830 01:12:35.976" level="INFO">${rc} = 255</msg>
<msg timestamp="20190830 01:12:35.976" level="INFO">${output} = WARNING: An illegal reflective access operation has occurred
WARNING: Illegal reflective access by org.apache.hadoop.security.authentication.util.KerberosUtil (file:/opt/hadoop/share/ozone/lib/hadoop-...</msg>
<status status="PASS" endtime="20190830 01:12:35.976" starttime="20190830 01:12:34.485"></status>
</kw>
<kw name="Log" library="BuiltIn">
<doc>Logs the given message with the given level.</doc>
<arguments>
<arg>${output}</arg>
</arguments>
<msg timestamp="20190830 01:12:35.978" level="INFO">WARNING: An illegal reflective access operation has occurred
WARNING: Illegal reflective access by org.apache.hadoop.security.authentication.util.KerberosUtil (file:/opt/hadoop/share/ozone/lib/hadoop-auth-3.2.0.jar) to method sun.security.krb5.Config.getInstance()
WARNING: Please consider reporting this to the maintainers of org.apache.hadoop.security.authentication.util.KerberosUtil
WARNING: Use --illegal-access=warn to enable warnings of further illegal reflective access operations
WARNING: All illegal access operations will be denied in a future release
2019-08-30 01:12:35 ERROR OzoneClientFactory:192 - Couldn't create RpcClient protocol exception: 
java.lang.IllegalArgumentException: java.net.UnknownHostException: om
	at org.apache.hadoop.security.SecurityUtil.buildTokenService(SecurityUtil.java:447)
	at org.apache.hadoop.ozone.om.ha.OMProxyInfo.&lt;init&gt;(OMProxyInfo.java:40)
	at org.apache.hadoop.ozone.om.ha.OMFailoverProxyProvider.loadOMClientConfigs(OMFailoverProxyProvider.java:109)
	at org.apache.hadoop.ozone.om.ha.OMFailoverProxyProvider.&lt;init&gt;(OMFailoverProxyProvider.java:77)
	at org.apache.hadoop.ozone.om.protocolPB.OzoneManagerProtocolClientSideTranslatorPB.&lt;init&gt;(OzoneManagerProtocolClientSideTranslatorPB.java:195)
	at org.apache.hadoop.ozone.client.rpc.RpcClient.&lt;init&gt;(RpcClient.java:155)
	at org.apache.hadoop.ozone.client.OzoneClientFactory.getClientProtocol(OzoneClientFactory.java:189)
	at org.apache.hadoop.ozone.client.OzoneClientFactory.getRpcClient(OzoneClientFactory.java:152)
	at org.apache.hadoop.ozone.web.ozShell.OzoneAddress.createClient(OzoneAddress.java:102)
	at org.apache.hadoop.ozone.web.ozShell.s3.GetS3SecretHandler.call(GetS3SecretHandler.java:45)
	at org.apache.hadoop.ozone.web.ozShell.s3.GetS3SecretHandler.call(GetS3SecretHandler.java:32)
	at picocli.CommandLine.execute(CommandLine.java:1173)
	at picocli.CommandLine.access$800(CommandLine.java:141)
	at picocli.CommandLine$RunLast.handle(CommandLine.java:1367)
	at picocli.CommandLine$RunLast.handle(CommandLine.java:1335)
	at picocli.CommandLine$AbstractParseResultHandler.handleParseResult(CommandLine.java:1243)
	at picocli.CommandLine.parseWithHandlers(CommandLine.java:1526)
	at picocli.CommandLine.parseWithHandler(CommandLine.java:1465)
	at org.apache.hadoop.hdds.cli.GenericCli.execute(GenericCli.java:65)
	at org.apache.hadoop.ozone.web.ozShell.s3.S3Shell.execute(S3Shell.java:43)
	at org.apache.hadoop.hdds.cli.GenericCli.run(GenericCli.java:56)
	at org.apache.hadoop.ozone.web.ozShell.s3.S3Shell.main(S3Shell.java:54)
Caused by: java.net.UnknownHostException: om
	... 22 more
om</msg>
<status status="PASS" endtime="20190830 01:12:35.979" starttime="20190830 01:12:35.977"></status>
</kw>
<kw name="Should Be Equal As Integers" library="BuiltIn">
<doc>Fails if objects are unequal after converting them to integers.</doc>
<arguments>
<arg>${rc}</arg>
<arg>0</arg>
</arguments>
<msg timestamp="20190830 01:12:35.979" level="INFO">Argument types are:
&lt;type 'int'&gt;
&lt;type 'unicode'&gt;</msg>
<msg timestamp="20190830 01:12:35.980" level="FAIL">255 != 0</msg>
<status status="FAIL" endtime="20190830 01:12:35.980" starttime="20190830 01:12:35.979"></status>
</kw>
<status status="FAIL" endtime="20190830 01:12:35.981" starttime="20190830 01:12:34.484"></status>
</kw>
<status status="FAIL" endtime="20190830 01:12:35.981" starttime="20190830 01:12:34.440"></status>
</kw>
<status status="FAIL" endtime="20190830 01:12:35.981" starttime="20190830 01:12:34.439"></status>
</kw>
<status status="FAIL" endtime="20190830 01:12:35.981" starttime="20190830 01:12:33.719"></status>
</kw>
<status status="FAIL" endtime="20190830 01:12:35.982" critical="yes" starttime="20190830 01:12:33.718">Setup failed:
255 != 0</status>
</test>
<doc>S3 gateway test with aws cli</doc>
<status status="FAIL" endtime="20190830 01:12:35.985" starttime="20190830 01:12:15.856"></status>
</suite>
<suite source="/opt/hadoop/smoketest/s3/objectcopy.robot" id="s1-s6" name="Objectcopy">
<test id="s1-s6-t1" name="Copy Object Happy Scenario">
<kw type="setup" name="Setup s3 tests" library="commonawslib">
<kw name="Run Keyword" library="BuiltIn">
<doc>Executes the given keyword with the given arguments.</doc>
<arguments>
<arg>Install aws cli</arg>
</arguments>
<kw name="Install aws cli" library="commonlib">
<kw name="Run And Return Rc And Output" library="OperatingSystem">
<doc>Runs the given command in the system and returns the RC and output.</doc>
<arguments>
<arg>which apt-get</arg>
</arguments>
<assign>
<var>${rc}</var>
<var>${output}</var>
</assign>
<msg timestamp="20190830 01:12:36.010" level="INFO">Running command 'which apt-get 2&gt;&amp;1'.</msg>
<msg timestamp="20190830 01:12:36.017" level="INFO">${rc} = 1</msg>
<msg timestamp="20190830 01:12:36.017" level="INFO">${output} = which: no apt-get in (/opt/hadoop/bin/docker:/usr/local/sbin:/usr/local/bin:/usr/sbin:/usr/bin:/sbin:/bin:/opt/hadoop/bin)</msg>
<status status="PASS" endtime="20190830 01:12:36.017" starttime="20190830 01:12:36.008"></status>
</kw>
<kw name="Run Keyword If" library="BuiltIn">
<doc>Runs the given keyword with the given arguments, if ``condition`` is true.</doc>
<arguments>
<arg>'${rc}' == '0'</arg>
<arg>Install aws cli s3 debian</arg>
</arguments>
<status status="PASS" endtime="20190830 01:12:36.019" starttime="20190830 01:12:36.018"></status>
</kw>
<kw name="Run And Return Rc And Output" library="OperatingSystem">
<doc>Runs the given command in the system and returns the RC and output.</doc>
<arguments>
<arg>yum --help</arg>
</arguments>
<assign>
<var>${rc}</var>
<var>${output}</var>
</assign>
<msg timestamp="20190830 01:12:36.021" level="INFO">Running command 'yum --help 2&gt;&amp;1'.</msg>
<msg timestamp="20190830 01:12:36.204" level="INFO">${rc} = 0</msg>
<msg timestamp="20190830 01:12:36.204" level="INFO">${output} = Loaded plugins: fastestmirror, ovl
ovl: Error while doing RPMdb copy-up:
[Errno 13] Permission denied: '/var/lib/rpm/Group'
Usage: yum [options] COMMAND

List of Commands:

check          Check for pr...</msg>
<status status="PASS" endtime="20190830 01:12:36.204" starttime="20190830 01:12:36.019"></status>
</kw>
<kw name="Run Keyword If" library="BuiltIn">
<doc>Runs the given keyword with the given arguments, if ``condition`` is true.</doc>
<arguments>
<arg>'${rc}' == '0'</arg>
<arg>Install aws cli s3 centos</arg>
</arguments>
<kw name="Install aws cli s3 centos" library="commonawslib">
<kw name="Execute" library="commonlib">
<arguments>
<arg>sudo yum install -y awscli</arg>
</arguments>
<kw name="Run And Return Rc And Output" library="OperatingSystem">
<doc>Runs the given command in the system and returns the RC and output.</doc>
<arguments>
<arg>${command}</arg>
</arguments>
<assign>
<var>${rc}</var>
<var>${output}</var>
</assign>
<msg timestamp="20190830 01:12:36.209" level="INFO">Running command 'sudo yum install -y awscli 2&gt;&amp;1'.</msg>
<msg timestamp="20190830 01:12:36.727" level="INFO">${rc} = 0</msg>
<msg timestamp="20190830 01:12:36.727" level="INFO">${output} = Loaded plugins: fastestmirror, ovl
Loading mirror speeds from cached hostfile
 * base: mirror.sjc02.svwh.net
 * epel: sjc.edge.kernel.org
 * extras: sjc.edge.kernel.org
 * updates: sjc.edge.kernel.org...</msg>
<status status="PASS" endtime="20190830 01:12:36.727" starttime="20190830 01:12:36.207"></status>
</kw>
<kw name="Log" library="BuiltIn">
<doc>Logs the given message with the given level.</doc>
<arguments>
<arg>${output}</arg>
</arguments>
<msg timestamp="20190830 01:12:36.729" level="INFO">Loaded plugins: fastestmirror, ovl
Loading mirror speeds from cached hostfile
 * base: mirror.sjc02.svwh.net
 * epel: sjc.edge.kernel.org
 * extras: sjc.edge.kernel.org
 * updates: sjc.edge.kernel.org
Package awscli-1.14.28-5.el7_5.1.noarch already installed and latest version
Nothing to do</msg>
<status status="PASS" endtime="20190830 01:12:36.729" starttime="20190830 01:12:36.728"></status>
</kw>
<kw name="Should Be Equal As Integers" library="BuiltIn">
<doc>Fails if objects are unequal after converting them to integers.</doc>
<arguments>
<arg>${rc}</arg>
<arg>0</arg>
</arguments>
<msg timestamp="20190830 01:12:36.730" level="INFO">Argument types are:
&lt;type 'int'&gt;
&lt;type 'unicode'&gt;</msg>
<status status="PASS" endtime="20190830 01:12:36.730" starttime="20190830 01:12:36.729"></status>
</kw>
<status status="PASS" endtime="20190830 01:12:36.731" starttime="20190830 01:12:36.206"></status>
</kw>
<status status="PASS" endtime="20190830 01:12:36.731" starttime="20190830 01:12:36.206"></status>
</kw>
<status status="PASS" endtime="20190830 01:12:36.731" starttime="20190830 01:12:36.205"></status>
</kw>
<status status="PASS" endtime="20190830 01:12:36.731" starttime="20190830 01:12:36.007"></status>
</kw>
<status status="PASS" endtime="20190830 01:12:36.732" starttime="20190830 01:12:36.007"></status>
</kw>
<kw name="Run Keyword If" library="BuiltIn">
<doc>Runs the given keyword with the given arguments, if ``condition`` is true.</doc>
<arguments>
<arg>'${OZONE_S3_SET_CREDENTIALS}' == 'true'</arg>
<arg>Setup v4 headers</arg>
</arguments>
<kw name="Setup v4 headers" library="commonawslib">
<kw name="Run Keyword If" library="BuiltIn">
<doc>Runs the given keyword with the given arguments, if ``condition`` is true.</doc>
<arguments>
<arg>'${SECURITY_ENABLED}' == 'true'</arg>
<arg>Kinit test user</arg>
<arg>testuser</arg>
<arg>testuser.keytab</arg>
</arguments>
<kw name="Kinit test user" library="commonlib">
<arguments>
<arg>testuser</arg>
<arg>testuser.keytab</arg>
</arguments>
<kw name="Execute" library="commonlib">
<arguments>
<arg>hostname</arg>
</arguments>
<assign>
<var>${hostname}</var>
</assign>
<kw name="Run And Return Rc And Output" library="OperatingSystem">
<doc>Runs the given command in the system and returns the RC and output.</doc>
<arguments>
<arg>${command}</arg>
</arguments>
<assign>
<var>${rc}</var>
<var>${output}</var>
</assign>
<msg timestamp="20190830 01:12:36.739" level="INFO">Running command 'hostname 2&gt;&amp;1'.</msg>
<msg timestamp="20190830 01:12:36.747" level="INFO">${rc} = 0</msg>
<msg timestamp="20190830 01:12:36.747" level="INFO">${output} = s3g</msg>
<status status="PASS" endtime="20190830 01:12:36.747" starttime="20190830 01:12:36.736"></status>
</kw>
<kw name="Log" library="BuiltIn">
<doc>Logs the given message with the given level.</doc>
<arguments>
<arg>${output}</arg>
</arguments>
<msg timestamp="20190830 01:12:36.749" level="INFO">s3g</msg>
<status status="PASS" endtime="20190830 01:12:36.749" starttime="20190830 01:12:36.748"></status>
</kw>
<kw name="Should Be Equal As Integers" library="BuiltIn">
<doc>Fails if objects are unequal after converting them to integers.</doc>
<arguments>
<arg>${rc}</arg>
<arg>0</arg>
</arguments>
<msg timestamp="20190830 01:12:36.750" level="INFO">Argument types are:
&lt;type 'int'&gt;
&lt;type 'unicode'&gt;</msg>
<status status="PASS" endtime="20190830 01:12:36.751" starttime="20190830 01:12:36.750"></status>
</kw>
<msg timestamp="20190830 01:12:36.751" level="INFO">${hostname} = s3g</msg>
<status status="PASS" endtime="20190830 01:12:36.751" starttime="20190830 01:12:36.736"></status>
</kw>
<kw name="Set Suite Variable" library="BuiltIn">
<doc>Makes a variable available everywhere within the scope of the current suite.</doc>
<arguments>
<arg>${TEST_USER}</arg>
<arg>${user}/${hostname}@EXAMPLE.COM</arg>
</arguments>
<msg timestamp="20190830 01:12:36.755" level="INFO">${TEST_USER} = testuser/s3g@EXAMPLE.COM</msg>
<status status="PASS" endtime="20190830 01:12:36.755" starttime="20190830 01:12:36.752"></status>
</kw>
<kw name="Wait Until Keyword Succeeds" library="BuiltIn">
<doc>Runs the specified keyword and retries if it fails.</doc>
<arguments>
<arg>2min</arg>
<arg>10sec</arg>
<arg>Execute</arg>
<arg>kinit -k ${user}/${hostname}@EXAMPLE.COM -t /etc/security/keytabs/${keytab}</arg>
</arguments>
<kw name="Execute" library="commonlib">
<arguments>
<arg>kinit -k ${user}/${hostname}@EXAMPLE.COM -t /etc/security/keytabs/${keytab}</arg>
</arguments>
<kw name="Run And Return Rc And Output" library="OperatingSystem">
<doc>Runs the given command in the system and returns the RC and output.</doc>
<arguments>
<arg>${command}</arg>
</arguments>
<assign>
<var>${rc}</var>
<var>${output}</var>
</assign>
<msg timestamp="20190830 01:12:36.760" level="INFO">Running command 'kinit -k testuser/s3g@EXAMPLE.COM -t /etc/security/keytabs/testuser.keytab 2&gt;&amp;1'.</msg>
<msg timestamp="20190830 01:12:36.804" level="INFO">${rc} = 0</msg>
<msg timestamp="20190830 01:12:36.804" level="INFO">${output} = </msg>
<status status="PASS" endtime="20190830 01:12:36.804" starttime="20190830 01:12:36.758"></status>
</kw>
<kw name="Log" library="BuiltIn">
<doc>Logs the given message with the given level.</doc>
<arguments>
<arg>${output}</arg>
</arguments>
<msg timestamp="20190830 01:12:36.806" level="INFO"></msg>
<status status="PASS" endtime="20190830 01:12:36.806" starttime="20190830 01:12:36.805"></status>
</kw>
<kw name="Should Be Equal As Integers" library="BuiltIn">
<doc>Fails if objects are unequal after converting them to integers.</doc>
<arguments>
<arg>${rc}</arg>
<arg>0</arg>
</arguments>
<msg timestamp="20190830 01:12:36.807" level="INFO">Argument types are:
&lt;type 'int'&gt;
&lt;type 'unicode'&gt;</msg>
<status status="PASS" endtime="20190830 01:12:36.807" starttime="20190830 01:12:36.807"></status>
</kw>
<status status="PASS" endtime="20190830 01:12:36.808" starttime="20190830 01:12:36.756"></status>
</kw>
<status status="PASS" endtime="20190830 01:12:36.808" starttime="20190830 01:12:36.755"></status>
</kw>
<status status="PASS" endtime="20190830 01:12:36.808" starttime="20190830 01:12:36.735"></status>
</kw>
<status status="PASS" endtime="20190830 01:12:36.809" starttime="20190830 01:12:36.734"></status>
</kw>
<kw name="Execute" library="commonlib">
<arguments>
<arg>ozone s3 getsecret</arg>
</arguments>
<assign>
<var>${result}</var>
</assign>
<kw name="Run And Return Rc And Output" library="OperatingSystem">
<doc>Runs the given command in the system and returns the RC and output.</doc>
<arguments>
<arg>${command}</arg>
</arguments>
<assign>
<var>${rc}</var>
<var>${output}</var>
</assign>
<msg timestamp="20190830 01:12:36.812" level="INFO">Running command 'ozone s3 getsecret 2&gt;&amp;1'.</msg>
<msg timestamp="20190830 01:12:38.314" level="INFO">${rc} = 255</msg>
<msg timestamp="20190830 01:12:38.314" level="INFO">${output} = WARNING: An illegal reflective access operation has occurred
WARNING: Illegal reflective access by org.apache.hadoop.security.authentication.util.KerberosUtil (file:/opt/hadoop/share/ozone/lib/hadoop-...</msg>
<status status="PASS" endtime="20190830 01:12:38.315" starttime="20190830 01:12:36.810"></status>
</kw>
<kw name="Log" library="BuiltIn">
<doc>Logs the given message with the given level.</doc>
<arguments>
<arg>${output}</arg>
</arguments>
<msg timestamp="20190830 01:12:38.317" level="INFO">WARNING: An illegal reflective access operation has occurred
WARNING: Illegal reflective access by org.apache.hadoop.security.authentication.util.KerberosUtil (file:/opt/hadoop/share/ozone/lib/hadoop-auth-3.2.0.jar) to method sun.security.krb5.Config.getInstance()
WARNING: Please consider reporting this to the maintainers of org.apache.hadoop.security.authentication.util.KerberosUtil
WARNING: Use --illegal-access=warn to enable warnings of further illegal reflective access operations
WARNING: All illegal access operations will be denied in a future release
2019-08-30 01:12:38 ERROR OzoneClientFactory:192 - Couldn't create RpcClient protocol exception: 
java.lang.IllegalArgumentException: java.net.UnknownHostException: om
	at org.apache.hadoop.security.SecurityUtil.buildTokenService(SecurityUtil.java:447)
	at org.apache.hadoop.ozone.om.ha.OMProxyInfo.&lt;init&gt;(OMProxyInfo.java:40)
	at org.apache.hadoop.ozone.om.ha.OMFailoverProxyProvider.loadOMClientConfigs(OMFailoverProxyProvider.java:109)
	at org.apache.hadoop.ozone.om.ha.OMFailoverProxyProvider.&lt;init&gt;(OMFailoverProxyProvider.java:77)
	at org.apache.hadoop.ozone.om.protocolPB.OzoneManagerProtocolClientSideTranslatorPB.&lt;init&gt;(OzoneManagerProtocolClientSideTranslatorPB.java:195)
	at org.apache.hadoop.ozone.client.rpc.RpcClient.&lt;init&gt;(RpcClient.java:155)
	at org.apache.hadoop.ozone.client.OzoneClientFactory.getClientProtocol(OzoneClientFactory.java:189)
	at org.apache.hadoop.ozone.client.OzoneClientFactory.getRpcClient(OzoneClientFactory.java:152)
	at org.apache.hadoop.ozone.web.ozShell.OzoneAddress.createClient(OzoneAddress.java:102)
	at org.apache.hadoop.ozone.web.ozShell.s3.GetS3SecretHandler.call(GetS3SecretHandler.java:45)
	at org.apache.hadoop.ozone.web.ozShell.s3.GetS3SecretHandler.call(GetS3SecretHandler.java:32)
	at picocli.CommandLine.execute(CommandLine.java:1173)
	at picocli.CommandLine.access$800(CommandLine.java:141)
	at picocli.CommandLine$RunLast.handle(CommandLine.java:1367)
	at picocli.CommandLine$RunLast.handle(CommandLine.java:1335)
	at picocli.CommandLine$AbstractParseResultHandler.handleParseResult(CommandLine.java:1243)
	at picocli.CommandLine.parseWithHandlers(CommandLine.java:1526)
	at picocli.CommandLine.parseWithHandler(CommandLine.java:1465)
	at org.apache.hadoop.hdds.cli.GenericCli.execute(GenericCli.java:65)
	at org.apache.hadoop.ozone.web.ozShell.s3.S3Shell.execute(S3Shell.java:43)
	at org.apache.hadoop.hdds.cli.GenericCli.run(GenericCli.java:56)
	at org.apache.hadoop.ozone.web.ozShell.s3.S3Shell.main(S3Shell.java:54)
Caused by: java.net.UnknownHostException: om
	... 22 more
om</msg>
<status status="PASS" endtime="20190830 01:12:38.318" starttime="20190830 01:12:38.316"></status>
</kw>
<kw name="Should Be Equal As Integers" library="BuiltIn">
<doc>Fails if objects are unequal after converting them to integers.</doc>
<arguments>
<arg>${rc}</arg>
<arg>0</arg>
</arguments>
<msg timestamp="20190830 01:12:38.319" level="INFO">Argument types are:
&lt;type 'int'&gt;
&lt;type 'unicode'&gt;</msg>
<msg timestamp="20190830 01:12:38.320" level="FAIL">255 != 0</msg>
<status status="FAIL" endtime="20190830 01:12:38.320" starttime="20190830 01:12:38.318"></status>
</kw>
<status status="FAIL" endtime="20190830 01:12:38.321" starttime="20190830 01:12:36.809"></status>
</kw>
<status status="FAIL" endtime="20190830 01:12:38.322" starttime="20190830 01:12:36.733"></status>
</kw>
<status status="FAIL" endtime="20190830 01:12:38.322" starttime="20190830 01:12:36.732"></status>
</kw>
<status status="FAIL" endtime="20190830 01:12:38.322" starttime="20190830 01:12:36.006"></status>
</kw>
<status status="FAIL" endtime="20190830 01:12:38.323" critical="yes" starttime="20190830 01:12:36.005">Setup failed:
255 != 0</status>
</test>
<test id="s1-s6-t2" name="Copy Object Where Bucket is not available">
<kw type="setup" name="Setup s3 tests" library="commonawslib">
<kw name="Run Keyword" library="BuiltIn">
<doc>Executes the given keyword with the given arguments.</doc>
<arguments>
<arg>Install aws cli</arg>
</arguments>
<kw name="Install aws cli" library="commonlib">
<kw name="Run And Return Rc And Output" library="OperatingSystem">
<doc>Runs the given command in the system and returns the RC and output.</doc>
<arguments>
<arg>which apt-get</arg>
</arguments>
<assign>
<var>${rc}</var>
<var>${output}</var>
</assign>
<msg timestamp="20190830 01:12:38.329" level="INFO">Running command 'which apt-get 2&gt;&amp;1'.</msg>
<msg timestamp="20190830 01:12:38.335" level="INFO">${rc} = 1</msg>
<msg timestamp="20190830 01:12:38.335" level="INFO">${output} = which: no apt-get in (/opt/hadoop/bin/docker:/usr/local/sbin:/usr/local/bin:/usr/sbin:/usr/bin:/sbin:/bin:/opt/hadoop/bin)</msg>
<status status="PASS" endtime="20190830 01:12:38.335" starttime="20190830 01:12:38.327"></status>
</kw>
<kw name="Run Keyword If" library="BuiltIn">
<doc>Runs the given keyword with the given arguments, if ``condition`` is true.</doc>
<arguments>
<arg>'${rc}' == '0'</arg>
<arg>Install aws cli s3 debian</arg>
</arguments>
<status status="PASS" endtime="20190830 01:12:38.336" starttime="20190830 01:12:38.335"></status>
</kw>
<kw name="Run And Return Rc And Output" library="OperatingSystem">
<doc>Runs the given command in the system and returns the RC and output.</doc>
<arguments>
<arg>yum --help</arg>
</arguments>
<assign>
<var>${rc}</var>
<var>${output}</var>
</assign>
<msg timestamp="20190830 01:12:38.338" level="INFO">Running command 'yum --help 2&gt;&amp;1'.</msg>
<msg timestamp="20190830 01:12:38.529" level="INFO">${rc} = 0</msg>
<msg timestamp="20190830 01:12:38.529" level="INFO">${output} = Loaded plugins: fastestmirror, ovl
ovl: Error while doing RPMdb copy-up:
[Errno 13] Permission denied: '/var/lib/rpm/Group'
Usage: yum [options] COMMAND

List of Commands:

check          Check for pr...</msg>
<status status="PASS" endtime="20190830 01:12:38.529" starttime="20190830 01:12:38.337"></status>
</kw>
<kw name="Run Keyword If" library="BuiltIn">
<doc>Runs the given keyword with the given arguments, if ``condition`` is true.</doc>
<arguments>
<arg>'${rc}' == '0'</arg>
<arg>Install aws cli s3 centos</arg>
</arguments>
<kw name="Install aws cli s3 centos" library="commonawslib">
<kw name="Execute" library="commonlib">
<arguments>
<arg>sudo yum install -y awscli</arg>
</arguments>
<kw name="Run And Return Rc And Output" library="OperatingSystem">
<doc>Runs the given command in the system and returns the RC and output.</doc>
<arguments>
<arg>${command}</arg>
</arguments>
<assign>
<var>${rc}</var>
<var>${output}</var>
</assign>
<msg timestamp="20190830 01:12:38.533" level="INFO">Running command 'sudo yum install -y awscli 2&gt;&amp;1'.</msg>
<msg timestamp="20190830 01:12:39.032" level="INFO">${rc} = 0</msg>
<msg timestamp="20190830 01:12:39.032" level="INFO">${output} = Loaded plugins: fastestmirror, ovl
Loading mirror speeds from cached hostfile
 * base: mirror.sjc02.svwh.net
 * epel: sjc.edge.kernel.org
 * extras: sjc.edge.kernel.org
 * updates: sjc.edge.kernel.org...</msg>
<status status="PASS" endtime="20190830 01:12:39.032" starttime="20190830 01:12:38.532"></status>
</kw>
<kw name="Log" library="BuiltIn">
<doc>Logs the given message with the given level.</doc>
<arguments>
<arg>${output}</arg>
</arguments>
<msg timestamp="20190830 01:12:39.034" level="INFO">Loaded plugins: fastestmirror, ovl
Loading mirror speeds from cached hostfile
 * base: mirror.sjc02.svwh.net
 * epel: sjc.edge.kernel.org
 * extras: sjc.edge.kernel.org
 * updates: sjc.edge.kernel.org
Package awscli-1.14.28-5.el7_5.1.noarch already installed and latest version
Nothing to do</msg>
<status status="PASS" endtime="20190830 01:12:39.034" starttime="20190830 01:12:39.033"></status>
</kw>
<kw name="Should Be Equal As Integers" library="BuiltIn">
<doc>Fails if objects are unequal after converting them to integers.</doc>
<arguments>
<arg>${rc}</arg>
<arg>0</arg>
</arguments>
<msg timestamp="20190830 01:12:39.035" level="INFO">Argument types are:
&lt;type 'int'&gt;
&lt;type 'unicode'&gt;</msg>
<status status="PASS" endtime="20190830 01:12:39.036" starttime="20190830 01:12:39.035"></status>
</kw>
<status status="PASS" endtime="20190830 01:12:39.036" starttime="20190830 01:12:38.531"></status>
</kw>
<status status="PASS" endtime="20190830 01:12:39.036" starttime="20190830 01:12:38.531"></status>
</kw>
<status status="PASS" endtime="20190830 01:12:39.037" starttime="20190830 01:12:38.530"></status>
</kw>
<status status="PASS" endtime="20190830 01:12:39.037" starttime="20190830 01:12:38.326"></status>
</kw>
<status status="PASS" endtime="20190830 01:12:39.037" starttime="20190830 01:12:38.326"></status>
</kw>
<kw name="Run Keyword If" library="BuiltIn">
<doc>Runs the given keyword with the given arguments, if ``condition`` is true.</doc>
<arguments>
<arg>'${OZONE_S3_SET_CREDENTIALS}' == 'true'</arg>
<arg>Setup v4 headers</arg>
</arguments>
<kw name="Setup v4 headers" library="commonawslib">
<kw name="Run Keyword If" library="BuiltIn">
<doc>Runs the given keyword with the given arguments, if ``condition`` is true.</doc>
<arguments>
<arg>'${SECURITY_ENABLED}' == 'true'</arg>
<arg>Kinit test user</arg>
<arg>testuser</arg>
<arg>testuser.keytab</arg>
</arguments>
<kw name="Kinit test user" library="commonlib">
<arguments>
<arg>testuser</arg>
<arg>testuser.keytab</arg>
</arguments>
<kw name="Execute" library="commonlib">
<arguments>
<arg>hostname</arg>
</arguments>
<assign>
<var>${hostname}</var>
</assign>
<kw name="Run And Return Rc And Output" library="OperatingSystem">
<doc>Runs the given command in the system and returns the RC and output.</doc>
<arguments>
<arg>${command}</arg>
</arguments>
<assign>
<var>${rc}</var>
<var>${output}</var>
</assign>
<msg timestamp="20190830 01:12:39.045" level="INFO">Running command 'hostname 2&gt;&amp;1'.</msg>
<msg timestamp="20190830 01:12:39.053" level="INFO">${rc} = 0</msg>
<msg timestamp="20190830 01:12:39.053" level="INFO">${output} = s3g</msg>
<status status="PASS" endtime="20190830 01:12:39.053" starttime="20190830 01:12:39.042"></status>
</kw>
<kw name="Log" library="BuiltIn">
<doc>Logs the given message with the given level.</doc>
<arguments>
<arg>${output}</arg>
</arguments>
<msg timestamp="20190830 01:12:39.054" level="INFO">s3g</msg>
<status status="PASS" endtime="20190830 01:12:39.055" starttime="20190830 01:12:39.054"></status>
</kw>
<kw name="Should Be Equal As Integers" library="BuiltIn">
<doc>Fails if objects are unequal after converting them to integers.</doc>
<arguments>
<arg>${rc}</arg>
<arg>0</arg>
</arguments>
<msg timestamp="20190830 01:12:39.055" level="INFO">Argument types are:
&lt;type 'int'&gt;
&lt;type 'unicode'&gt;</msg>
<status status="PASS" endtime="20190830 01:12:39.056" starttime="20190830 01:12:39.055"></status>
</kw>
<msg timestamp="20190830 01:12:39.056" level="INFO">${hostname} = s3g</msg>
<status status="PASS" endtime="20190830 01:12:39.056" starttime="20190830 01:12:39.041"></status>
</kw>
<kw name="Set Suite Variable" library="BuiltIn">
<doc>Makes a variable available everywhere within the scope of the current suite.</doc>
<arguments>
<arg>${TEST_USER}</arg>
<arg>${user}/${hostname}@EXAMPLE.COM</arg>
</arguments>
<msg timestamp="20190830 01:12:39.058" level="INFO">${TEST_USER} = testuser/s3g@EXAMPLE.COM</msg>
<status status="PASS" endtime="20190830 01:12:39.058" starttime="20190830 01:12:39.057"></status>
</kw>
<kw name="Wait Until Keyword Succeeds" library="BuiltIn">
<doc>Runs the specified keyword and retries if it fails.</doc>
<arguments>
<arg>2min</arg>
<arg>10sec</arg>
<arg>Execute</arg>
<arg>kinit -k ${user}/${hostname}@EXAMPLE.COM -t /etc/security/keytabs/${keytab}</arg>
</arguments>
<kw name="Execute" library="commonlib">
<arguments>
<arg>kinit -k ${user}/${hostname}@EXAMPLE.COM -t /etc/security/keytabs/${keytab}</arg>
</arguments>
<kw name="Run And Return Rc And Output" library="OperatingSystem">
<doc>Runs the given command in the system and returns the RC and output.</doc>
<arguments>
<arg>${command}</arg>
</arguments>
<assign>
<var>${rc}</var>
<var>${output}</var>
</assign>
<msg timestamp="20190830 01:12:39.063" level="INFO">Running command 'kinit -k testuser/s3g@EXAMPLE.COM -t /etc/security/keytabs/testuser.keytab 2&gt;&amp;1'.</msg>
<msg timestamp="20190830 01:12:39.094" level="INFO">${rc} = 0</msg>
<msg timestamp="20190830 01:12:39.095" level="INFO">${output} = </msg>
<status status="PASS" endtime="20190830 01:12:39.095" starttime="20190830 01:12:39.061"></status>
</kw>
<kw name="Log" library="BuiltIn">
<doc>Logs the given message with the given level.</doc>
<arguments>
<arg>${output}</arg>
</arguments>
<msg timestamp="20190830 01:12:39.096" level="INFO"></msg>
<status status="PASS" endtime="20190830 01:12:39.096" starttime="20190830 01:12:39.095"></status>
</kw>
<kw name="Should Be Equal As Integers" library="BuiltIn">
<doc>Fails if objects are unequal after converting them to integers.</doc>
<arguments>
<arg>${rc}</arg>
<arg>0</arg>
</arguments>
<msg timestamp="20190830 01:12:39.097" level="INFO">Argument types are:
&lt;type 'int'&gt;
&lt;type 'unicode'&gt;</msg>
<status status="PASS" endtime="20190830 01:12:39.097" starttime="20190830 01:12:39.097"></status>
</kw>
<status status="PASS" endtime="20190830 01:12:39.098" starttime="20190830 01:12:39.060"></status>
</kw>
<status status="PASS" endtime="20190830 01:12:39.098" starttime="20190830 01:12:39.058"></status>
</kw>
<status status="PASS" endtime="20190830 01:12:39.098" starttime="20190830 01:12:39.041"></status>
</kw>
<status status="PASS" endtime="20190830 01:12:39.098" starttime="20190830 01:12:39.040"></status>
</kw>
<kw name="Execute" library="commonlib">
<arguments>
<arg>ozone s3 getsecret</arg>
</arguments>
<assign>
<var>${result}</var>
</assign>
<kw name="Run And Return Rc And Output" library="OperatingSystem">
<doc>Runs the given command in the system and returns the RC and output.</doc>
<arguments>
<arg>${command}</arg>
</arguments>
<assign>
<var>${rc}</var>
<var>${output}</var>
</assign>
<msg timestamp="20190830 01:12:39.101" level="INFO">Running command 'ozone s3 getsecret 2&gt;&amp;1'.</msg>
<msg timestamp="20190830 01:12:40.668" level="INFO">${rc} = 255</msg>
<msg timestamp="20190830 01:12:40.668" level="INFO">${output} = WARNING: An illegal reflective access operation has occurred
WARNING: Illegal reflective access by org.apache.hadoop.security.authentication.util.KerberosUtil (file:/opt/hadoop/share/ozone/lib/hadoop-...</msg>
<status status="PASS" endtime="20190830 01:12:40.668" starttime="20190830 01:12:39.099"></status>
</kw>
<kw name="Log" library="BuiltIn">
<doc>Logs the given message with the given level.</doc>
<arguments>
<arg>${output}</arg>
</arguments>
<msg timestamp="20190830 01:12:40.669" level="INFO">WARNING: An illegal reflective access operation has occurred
WARNING: Illegal reflective access by org.apache.hadoop.security.authentication.util.KerberosUtil (file:/opt/hadoop/share/ozone/lib/hadoop-auth-3.2.0.jar) to method sun.security.krb5.Config.getInstance()
WARNING: Please consider reporting this to the maintainers of org.apache.hadoop.security.authentication.util.KerberosUtil
WARNING: Use --illegal-access=warn to enable warnings of further illegal reflective access operations
WARNING: All illegal access operations will be denied in a future release
2019-08-30 01:12:40 ERROR OzoneClientFactory:192 - Couldn't create RpcClient protocol exception: 
java.lang.IllegalArgumentException: java.net.UnknownHostException: om
	at org.apache.hadoop.security.SecurityUtil.buildTokenService(SecurityUtil.java:447)
	at org.apache.hadoop.ozone.om.ha.OMProxyInfo.&lt;init&gt;(OMProxyInfo.java:40)
	at org.apache.hadoop.ozone.om.ha.OMFailoverProxyProvider.loadOMClientConfigs(OMFailoverProxyProvider.java:109)
	at org.apache.hadoop.ozone.om.ha.OMFailoverProxyProvider.&lt;init&gt;(OMFailoverProxyProvider.java:77)
	at org.apache.hadoop.ozone.om.protocolPB.OzoneManagerProtocolClientSideTranslatorPB.&lt;init&gt;(OzoneManagerProtocolClientSideTranslatorPB.java:195)
	at org.apache.hadoop.ozone.client.rpc.RpcClient.&lt;init&gt;(RpcClient.java:155)
	at org.apache.hadoop.ozone.client.OzoneClientFactory.getClientProtocol(OzoneClientFactory.java:189)
	at org.apache.hadoop.ozone.client.OzoneClientFactory.getRpcClient(OzoneClientFactory.java:152)
	at org.apache.hadoop.ozone.web.ozShell.OzoneAddress.createClient(OzoneAddress.java:102)
	at org.apache.hadoop.ozone.web.ozShell.s3.GetS3SecretHandler.call(GetS3SecretHandler.java:45)
	at org.apache.hadoop.ozone.web.ozShell.s3.GetS3SecretHandler.call(GetS3SecretHandler.java:32)
	at picocli.CommandLine.execute(CommandLine.java:1173)
	at picocli.CommandLine.access$800(CommandLine.java:141)
	at picocli.CommandLine$RunLast.handle(CommandLine.java:1367)
	at picocli.CommandLine$RunLast.handle(CommandLine.java:1335)
	at picocli.CommandLine$AbstractParseResultHandler.handleParseResult(CommandLine.java:1243)
	at picocli.CommandLine.parseWithHandlers(CommandLine.java:1526)
	at picocli.CommandLine.parseWithHandler(CommandLine.java:1465)
	at org.apache.hadoop.hdds.cli.GenericCli.execute(GenericCli.java:65)
	at org.apache.hadoop.ozone.web.ozShell.s3.S3Shell.execute(S3Shell.java:43)
	at org.apache.hadoop.hdds.cli.GenericCli.run(GenericCli.java:56)
	at org.apache.hadoop.ozone.web.ozShell.s3.S3Shell.main(S3Shell.java:54)
Caused by: java.net.UnknownHostException: om
	... 22 more
om</msg>
<status status="PASS" endtime="20190830 01:12:40.670" starttime="20190830 01:12:40.669"></status>
</kw>
<kw name="Should Be Equal As Integers" library="BuiltIn">
<doc>Fails if objects are unequal after converting them to integers.</doc>
<arguments>
<arg>${rc}</arg>
<arg>0</arg>
</arguments>
<msg timestamp="20190830 01:12:40.671" level="INFO">Argument types are:
&lt;type 'int'&gt;
&lt;type 'unicode'&gt;</msg>
<msg timestamp="20190830 01:12:40.671" level="FAIL">255 != 0</msg>
<status status="FAIL" endtime="20190830 01:12:40.671" starttime="20190830 01:12:40.670"></status>
</kw>
<status status="FAIL" endtime="20190830 01:12:40.672" starttime="20190830 01:12:39.099"></status>
</kw>
<status status="FAIL" endtime="20190830 01:12:40.672" starttime="20190830 01:12:39.039"></status>
</kw>
<status status="FAIL" endtime="20190830 01:12:40.672" starttime="20190830 01:12:39.038"></status>
</kw>
<status status="FAIL" endtime="20190830 01:12:40.673" starttime="20190830 01:12:38.325"></status>
</kw>
<status status="FAIL" endtime="20190830 01:12:40.673" critical="yes" starttime="20190830 01:12:38.324">Setup failed:
255 != 0</status>
</test>
<test id="s1-s6-t3" name="Copy Object Where both source and dest are same with change to storageclass">
<kw type="setup" name="Setup s3 tests" library="commonawslib">
<kw name="Run Keyword" library="BuiltIn">
<doc>Executes the given keyword with the given arguments.</doc>
<arguments>
<arg>Install aws cli</arg>
</arguments>
<kw name="Install aws cli" library="commonlib">
<kw name="Run And Return Rc And Output" library="OperatingSystem">
<doc>Runs the given command in the system and returns the RC and output.</doc>
<arguments>
<arg>which apt-get</arg>
</arguments>
<assign>
<var>${rc}</var>
<var>${output}</var>
</assign>
<msg timestamp="20190830 01:12:40.679" level="INFO">Running command 'which apt-get 2&gt;&amp;1'.</msg>
<msg timestamp="20190830 01:12:40.685" level="INFO">${rc} = 1</msg>
<msg timestamp="20190830 01:12:40.686" level="INFO">${output} = which: no apt-get in (/opt/hadoop/bin/docker:/usr/local/sbin:/usr/local/bin:/usr/sbin:/usr/bin:/sbin:/bin:/opt/hadoop/bin)</msg>
<status status="PASS" endtime="20190830 01:12:40.686" starttime="20190830 01:12:40.677"></status>
</kw>
<kw name="Run Keyword If" library="BuiltIn">
<doc>Runs the given keyword with the given arguments, if ``condition`` is true.</doc>
<arguments>
<arg>'${rc}' == '0'</arg>
<arg>Install aws cli s3 debian</arg>
</arguments>
<status status="PASS" endtime="20190830 01:12:40.687" starttime="20190830 01:12:40.686"></status>
</kw>
<kw name="Run And Return Rc And Output" library="OperatingSystem">
<doc>Runs the given command in the system and returns the RC and output.</doc>
<arguments>
<arg>yum --help</arg>
</arguments>
<assign>
<var>${rc}</var>
<var>${output}</var>
</assign>
<msg timestamp="20190830 01:12:40.689" level="INFO">Running command 'yum --help 2&gt;&amp;1'.</msg>
<msg timestamp="20190830 01:12:40.876" level="INFO">${rc} = 0</msg>
<msg timestamp="20190830 01:12:40.876" level="INFO">${output} = Loaded plugins: fastestmirror, ovl
ovl: Error while doing RPMdb copy-up:
[Errno 13] Permission denied: '/var/lib/rpm/Group'
Usage: yum [options] COMMAND

List of Commands:

check          Check for pr...</msg>
<status status="PASS" endtime="20190830 01:12:40.877" starttime="20190830 01:12:40.688"></status>
</kw>
<kw name="Run Keyword If" library="BuiltIn">
<doc>Runs the given keyword with the given arguments, if ``condition`` is true.</doc>
<arguments>
<arg>'${rc}' == '0'</arg>
<arg>Install aws cli s3 centos</arg>
</arguments>
<kw name="Install aws cli s3 centos" library="commonawslib">
<kw name="Execute" library="commonlib">
<arguments>
<arg>sudo yum install -y awscli</arg>
</arguments>
<kw name="Run And Return Rc And Output" library="OperatingSystem">
<doc>Runs the given command in the system and returns the RC and output.</doc>
<arguments>
<arg>${command}</arg>
</arguments>
<assign>
<var>${rc}</var>
<var>${output}</var>
</assign>
<msg timestamp="20190830 01:12:40.883" level="INFO">Running command 'sudo yum install -y awscli 2&gt;&amp;1'.</msg>
<msg timestamp="20190830 01:12:41.497" level="INFO">${rc} = 0</msg>
<msg timestamp="20190830 01:12:41.497" level="INFO">${output} = Loaded plugins: fastestmirror, ovl
Loading mirror speeds from cached hostfile
 * base: mirror.sjc02.svwh.net
 * epel: sjc.edge.kernel.org
 * extras: sjc.edge.kernel.org
 * updates: sjc.edge.kernel.org...</msg>
<status status="PASS" endtime="20190830 01:12:41.497" starttime="20190830 01:12:40.881"></status>
</kw>
<kw name="Log" library="BuiltIn">
<doc>Logs the given message with the given level.</doc>
<arguments>
<arg>${output}</arg>
</arguments>
<msg timestamp="20190830 01:12:41.499" level="INFO">Loaded plugins: fastestmirror, ovl
Loading mirror speeds from cached hostfile
 * base: mirror.sjc02.svwh.net
 * epel: sjc.edge.kernel.org
 * extras: sjc.edge.kernel.org
 * updates: sjc.edge.kernel.org
Package awscli-1.14.28-5.el7_5.1.noarch already installed and latest version
Nothing to do</msg>
<status status="PASS" endtime="20190830 01:12:41.499" starttime="20190830 01:12:41.498"></status>
</kw>
<kw name="Should Be Equal As Integers" library="BuiltIn">
<doc>Fails if objects are unequal after converting them to integers.</doc>
<arguments>
<arg>${rc}</arg>
<arg>0</arg>
</arguments>
<msg timestamp="20190830 01:12:41.500" level="INFO">Argument types are:
&lt;type 'int'&gt;
&lt;type 'unicode'&gt;</msg>
<status status="PASS" endtime="20190830 01:12:41.501" starttime="20190830 01:12:41.500"></status>
</kw>
<status status="PASS" endtime="20190830 01:12:41.501" starttime="20190830 01:12:40.880"></status>
</kw>
<status status="PASS" endtime="20190830 01:12:41.502" starttime="20190830 01:12:40.879"></status>
</kw>
<status status="PASS" endtime="20190830 01:12:41.502" starttime="20190830 01:12:40.878"></status>
</kw>
<status status="PASS" endtime="20190830 01:12:41.502" starttime="20190830 01:12:40.676"></status>
</kw>
<status status="PASS" endtime="20190830 01:12:41.502" starttime="20190830 01:12:40.675"></status>
</kw>
<kw name="Run Keyword If" library="BuiltIn">
<doc>Runs the given keyword with the given arguments, if ``condition`` is true.</doc>
<arguments>
<arg>'${OZONE_S3_SET_CREDENTIALS}' == 'true'</arg>
<arg>Setup v4 headers</arg>
</arguments>
<kw name="Setup v4 headers" library="commonawslib">
<kw name="Run Keyword If" library="BuiltIn">
<doc>Runs the given keyword with the given arguments, if ``condition`` is true.</doc>
<arguments>
<arg>'${SECURITY_ENABLED}' == 'true'</arg>
<arg>Kinit test user</arg>
<arg>testuser</arg>
<arg>testuser.keytab</arg>
</arguments>
<kw name="Kinit test user" library="commonlib">
<arguments>
<arg>testuser</arg>
<arg>testuser.keytab</arg>
</arguments>
<kw name="Execute" library="commonlib">
<arguments>
<arg>hostname</arg>
</arguments>
<assign>
<var>${hostname}</var>
</assign>
<kw name="Run And Return Rc And Output" library="OperatingSystem">
<doc>Runs the given command in the system and returns the RC and output.</doc>
<arguments>
<arg>${command}</arg>
</arguments>
<assign>
<var>${rc}</var>
<var>${output}</var>
</assign>
<msg timestamp="20190830 01:12:41.511" level="INFO">Running command 'hostname 2&gt;&amp;1'.</msg>
<msg timestamp="20190830 01:12:41.518" level="INFO">${rc} = 0</msg>
<msg timestamp="20190830 01:12:41.518" level="INFO">${output} = s3g</msg>
<status status="PASS" endtime="20190830 01:12:41.518" starttime="20190830 01:12:41.507"></status>
</kw>
<kw name="Log" library="BuiltIn">
<doc>Logs the given message with the given level.</doc>
<arguments>
<arg>${output}</arg>
</arguments>
<msg timestamp="20190830 01:12:41.520" level="INFO">s3g</msg>
<status status="PASS" endtime="20190830 01:12:41.520" starttime="20190830 01:12:41.519"></status>
</kw>
<kw name="Should Be Equal As Integers" library="BuiltIn">
<doc>Fails if objects are unequal after converting them to integers.</doc>
<arguments>
<arg>${rc}</arg>
<arg>0</arg>
</arguments>
<msg timestamp="20190830 01:12:41.521" level="INFO">Argument types are:
&lt;type 'int'&gt;
&lt;type 'unicode'&gt;</msg>
<status status="PASS" endtime="20190830 01:12:41.522" starttime="20190830 01:12:41.521"></status>
</kw>
<msg timestamp="20190830 01:12:41.522" level="INFO">${hostname} = s3g</msg>
<status status="PASS" endtime="20190830 01:12:41.522" starttime="20190830 01:12:41.507"></status>
</kw>
<kw name="Set Suite Variable" library="BuiltIn">
<doc>Makes a variable available everywhere within the scope of the current suite.</doc>
<arguments>
<arg>${TEST_USER}</arg>
<arg>${user}/${hostname}@EXAMPLE.COM</arg>
</arguments>
<msg timestamp="20190830 01:12:41.524" level="INFO">${TEST_USER} = testuser/s3g@EXAMPLE.COM</msg>
<status status="PASS" endtime="20190830 01:12:41.524" starttime="20190830 01:12:41.523"></status>
</kw>
<kw name="Wait Until Keyword Succeeds" library="BuiltIn">
<doc>Runs the specified keyword and retries if it fails.</doc>
<arguments>
<arg>2min</arg>
<arg>10sec</arg>
<arg>Execute</arg>
<arg>kinit -k ${user}/${hostname}@EXAMPLE.COM -t /etc/security/keytabs/${keytab}</arg>
</arguments>
<kw name="Execute" library="commonlib">
<arguments>
<arg>kinit -k ${user}/${hostname}@EXAMPLE.COM -t /etc/security/keytabs/${keytab}</arg>
</arguments>
<kw name="Run And Return Rc And Output" library="OperatingSystem">
<doc>Runs the given command in the system and returns the RC and output.</doc>
<arguments>
<arg>${command}</arg>
</arguments>
<assign>
<var>${rc}</var>
<var>${output}</var>
</assign>
<msg timestamp="20190830 01:12:41.529" level="INFO">Running command 'kinit -k testuser/s3g@EXAMPLE.COM -t /etc/security/keytabs/testuser.keytab 2&gt;&amp;1'.</msg>
<msg timestamp="20190830 01:12:41.546" level="INFO">${rc} = 0</msg>
<msg timestamp="20190830 01:12:41.546" level="INFO">${output} = </msg>
<status status="PASS" endtime="20190830 01:12:41.546" starttime="20190830 01:12:41.527"></status>
</kw>
<kw name="Log" library="BuiltIn">
<doc>Logs the given message with the given level.</doc>
<arguments>
<arg>${output}</arg>
</arguments>
<msg timestamp="20190830 01:12:41.547" level="INFO"></msg>
<status status="PASS" endtime="20190830 01:12:41.548" starttime="20190830 01:12:41.547"></status>
</kw>
<kw name="Should Be Equal As Integers" library="BuiltIn">
<doc>Fails if objects are unequal after converting them to integers.</doc>
<arguments>
<arg>${rc}</arg>
<arg>0</arg>
</arguments>
<msg timestamp="20190830 01:12:41.549" level="INFO">Argument types are:
&lt;type 'int'&gt;
&lt;type 'unicode'&gt;</msg>
<status status="PASS" endtime="20190830 01:12:41.549" starttime="20190830 01:12:41.548"></status>
</kw>
<status status="PASS" endtime="20190830 01:12:41.549" starttime="20190830 01:12:41.525"></status>
</kw>
<status status="PASS" endtime="20190830 01:12:41.549" starttime="20190830 01:12:41.524"></status>
</kw>
<status status="PASS" endtime="20190830 01:12:41.550" starttime="20190830 01:12:41.506"></status>
</kw>
<status status="PASS" endtime="20190830 01:12:41.550" starttime="20190830 01:12:41.505"></status>
</kw>
<kw name="Execute" library="commonlib">
<arguments>
<arg>ozone s3 getsecret</arg>
</arguments>
<assign>
<var>${result}</var>
</assign>
<kw name="Run And Return Rc And Output" library="OperatingSystem">
<doc>Runs the given command in the system and returns the RC and output.</doc>
<arguments>
<arg>${command}</arg>
</arguments>
<assign>
<var>${rc}</var>
<var>${output}</var>
</assign>
<msg timestamp="20190830 01:12:41.553" level="INFO">Running command 'ozone s3 getsecret 2&gt;&amp;1'.</msg>
<msg timestamp="20190830 01:12:43.063" level="INFO">${rc} = 255</msg>
<msg timestamp="20190830 01:12:43.063" level="INFO">${output} = WARNING: An illegal reflective access operation has occurred
WARNING: Illegal reflective access by org.apache.hadoop.security.authentication.util.KerberosUtil (file:/opt/hadoop/share/ozone/lib/hadoop-...</msg>
<status status="PASS" endtime="20190830 01:12:43.063" starttime="20190830 01:12:41.551"></status>
</kw>
<kw name="Log" library="BuiltIn">
<doc>Logs the given message with the given level.</doc>
<arguments>
<arg>${output}</arg>
</arguments>
<msg timestamp="20190830 01:12:43.065" level="INFO">WARNING: An illegal reflective access operation has occurred
WARNING: Illegal reflective access by org.apache.hadoop.security.authentication.util.KerberosUtil (file:/opt/hadoop/share/ozone/lib/hadoop-auth-3.2.0.jar) to method sun.security.krb5.Config.getInstance()
WARNING: Please consider reporting this to the maintainers of org.apache.hadoop.security.authentication.util.KerberosUtil
WARNING: Use --illegal-access=warn to enable warnings of further illegal reflective access operations
WARNING: All illegal access operations will be denied in a future release
2019-08-30 01:12:42 ERROR OzoneClientFactory:192 - Couldn't create RpcClient protocol exception: 
java.lang.IllegalArgumentException: java.net.UnknownHostException: om
	at org.apache.hadoop.security.SecurityUtil.buildTokenService(SecurityUtil.java:447)
	at org.apache.hadoop.ozone.om.ha.OMProxyInfo.&lt;init&gt;(OMProxyInfo.java:40)
	at org.apache.hadoop.ozone.om.ha.OMFailoverProxyProvider.loadOMClientConfigs(OMFailoverProxyProvider.java:109)
	at org.apache.hadoop.ozone.om.ha.OMFailoverProxyProvider.&lt;init&gt;(OMFailoverProxyProvider.java:77)
	at org.apache.hadoop.ozone.om.protocolPB.OzoneManagerProtocolClientSideTranslatorPB.&lt;init&gt;(OzoneManagerProtocolClientSideTranslatorPB.java:195)
	at org.apache.hadoop.ozone.client.rpc.RpcClient.&lt;init&gt;(RpcClient.java:155)
	at org.apache.hadoop.ozone.client.OzoneClientFactory.getClientProtocol(OzoneClientFactory.java:189)
	at org.apache.hadoop.ozone.client.OzoneClientFactory.getRpcClient(OzoneClientFactory.java:152)
	at org.apache.hadoop.ozone.web.ozShell.OzoneAddress.createClient(OzoneAddress.java:102)
	at org.apache.hadoop.ozone.web.ozShell.s3.GetS3SecretHandler.call(GetS3SecretHandler.java:45)
	at org.apache.hadoop.ozone.web.ozShell.s3.GetS3SecretHandler.call(GetS3SecretHandler.java:32)
	at picocli.CommandLine.execute(CommandLine.java:1173)
	at picocli.CommandLine.access$800(CommandLine.java:141)
	at picocli.CommandLine$RunLast.handle(CommandLine.java:1367)
	at picocli.CommandLine$RunLast.handle(CommandLine.java:1335)
	at picocli.CommandLine$AbstractParseResultHandler.handleParseResult(CommandLine.java:1243)
	at picocli.CommandLine.parseWithHandlers(CommandLine.java:1526)
	at picocli.CommandLine.parseWithHandler(CommandLine.java:1465)
	at org.apache.hadoop.hdds.cli.GenericCli.execute(GenericCli.java:65)
	at org.apache.hadoop.ozone.web.ozShell.s3.S3Shell.execute(S3Shell.java:43)
	at org.apache.hadoop.hdds.cli.GenericCli.run(GenericCli.java:56)
	at org.apache.hadoop.ozone.web.ozShell.s3.S3Shell.main(S3Shell.java:54)
Caused by: java.net.UnknownHostException: om
	... 22 more
om</msg>
<status status="PASS" endtime="20190830 01:12:43.066" starttime="20190830 01:12:43.064"></status>
</kw>
<kw name="Should Be Equal As Integers" library="BuiltIn">
<doc>Fails if objects are unequal after converting them to integers.</doc>
<arguments>
<arg>${rc}</arg>
<arg>0</arg>
</arguments>
<msg timestamp="20190830 01:12:43.066" level="INFO">Argument types are:
&lt;type 'int'&gt;
&lt;type 'unicode'&gt;</msg>
<msg timestamp="20190830 01:12:43.067" level="FAIL">255 != 0</msg>
<status status="FAIL" endtime="20190830 01:12:43.067" starttime="20190830 01:12:43.066"></status>
</kw>
<status status="FAIL" endtime="20190830 01:12:43.068" starttime="20190830 01:12:41.550"></status>
</kw>
<status status="FAIL" endtime="20190830 01:12:43.068" starttime="20190830 01:12:41.504"></status>
</kw>
<status status="FAIL" endtime="20190830 01:12:43.068" starttime="20190830 01:12:41.503"></status>
</kw>
<status status="FAIL" endtime="20190830 01:12:43.069" starttime="20190830 01:12:40.675"></status>
</kw>
<status status="FAIL" endtime="20190830 01:12:43.069" critical="yes" starttime="20190830 01:12:40.674">Setup failed:
255 != 0</status>
</test>
<test id="s1-s6-t4" name="Copy Object Where Key not available">
<kw type="setup" name="Setup s3 tests" library="commonawslib">
<kw name="Run Keyword" library="BuiltIn">
<doc>Executes the given keyword with the given arguments.</doc>
<arguments>
<arg>Install aws cli</arg>
</arguments>
<kw name="Install aws cli" library="commonlib">
<kw name="Run And Return Rc And Output" library="OperatingSystem">
<doc>Runs the given command in the system and returns the RC and output.</doc>
<arguments>
<arg>which apt-get</arg>
</arguments>
<assign>
<var>${rc}</var>
<var>${output}</var>
</assign>
<msg timestamp="20190830 01:12:43.074" level="INFO">Running command 'which apt-get 2&gt;&amp;1'.</msg>
<msg timestamp="20190830 01:12:43.083" level="INFO">${rc} = 1</msg>
<msg timestamp="20190830 01:12:43.083" level="INFO">${output} = which: no apt-get in (/opt/hadoop/bin/docker:/usr/local/sbin:/usr/local/bin:/usr/sbin:/usr/bin:/sbin:/bin:/opt/hadoop/bin)</msg>
<status status="PASS" endtime="20190830 01:12:43.083" starttime="20190830 01:12:43.072"></status>
</kw>
<kw name="Run Keyword If" library="BuiltIn">
<doc>Runs the given keyword with the given arguments, if ``condition`` is true.</doc>
<arguments>
<arg>'${rc}' == '0'</arg>
<arg>Install aws cli s3 debian</arg>
</arguments>
<status status="PASS" endtime="20190830 01:12:43.085" starttime="20190830 01:12:43.084"></status>
</kw>
<kw name="Run And Return Rc And Output" library="OperatingSystem">
<doc>Runs the given command in the system and returns the RC and output.</doc>
<arguments>
<arg>yum --help</arg>
</arguments>
<assign>
<var>${rc}</var>
<var>${output}</var>
</assign>
<msg timestamp="20190830 01:12:43.087" level="INFO">Running command 'yum --help 2&gt;&amp;1'.</msg>
<msg timestamp="20190830 01:12:43.277" level="INFO">${rc} = 0</msg>
<msg timestamp="20190830 01:12:43.277" level="INFO">${output} = Loaded plugins: fastestmirror, ovl
ovl: Error while doing RPMdb copy-up:
[Errno 13] Permission denied: '/var/lib/rpm/Group'
Usage: yum [options] COMMAND

List of Commands:

check          Check for pr...</msg>
<status status="PASS" endtime="20190830 01:12:43.277" starttime="20190830 01:12:43.085"></status>
</kw>
<kw name="Run Keyword If" library="BuiltIn">
<doc>Runs the given keyword with the given arguments, if ``condition`` is true.</doc>
<arguments>
<arg>'${rc}' == '0'</arg>
<arg>Install aws cli s3 centos</arg>
</arguments>
<kw name="Install aws cli s3 centos" library="commonawslib">
<kw name="Execute" library="commonlib">
<arguments>
<arg>sudo yum install -y awscli</arg>
</arguments>
<kw name="Run And Return Rc And Output" library="OperatingSystem">
<doc>Runs the given command in the system and returns the RC and output.</doc>
<arguments>
<arg>${command}</arg>
</arguments>
<assign>
<var>${rc}</var>
<var>${output}</var>
</assign>
<msg timestamp="20190830 01:12:43.284" level="INFO">Running command 'sudo yum install -y awscli 2&gt;&amp;1'.</msg>
<msg timestamp="20190830 01:12:43.774" level="INFO">${rc} = 0</msg>
<msg timestamp="20190830 01:12:43.775" level="INFO">${output} = Loaded plugins: fastestmirror, ovl
Loading mirror speeds from cached hostfile
 * base: mirror.sjc02.svwh.net
 * epel: sjc.edge.kernel.org
 * extras: sjc.edge.kernel.org
 * updates: sjc.edge.kernel.org...</msg>
<status status="PASS" endtime="20190830 01:12:43.775" starttime="20190830 01:12:43.281"></status>
</kw>
<kw name="Log" library="BuiltIn">
<doc>Logs the given message with the given level.</doc>
<arguments>
<arg>${output}</arg>
</arguments>
<msg timestamp="20190830 01:12:43.777" level="INFO">Loaded plugins: fastestmirror, ovl
Loading mirror speeds from cached hostfile
 * base: mirror.sjc02.svwh.net
 * epel: sjc.edge.kernel.org
 * extras: sjc.edge.kernel.org
 * updates: sjc.edge.kernel.org
Package awscli-1.14.28-5.el7_5.1.noarch already installed and latest version
Nothing to do</msg>
<status status="PASS" endtime="20190830 01:12:43.777" starttime="20190830 01:12:43.776"></status>
</kw>
<kw name="Should Be Equal As Integers" library="BuiltIn">
<doc>Fails if objects are unequal after converting them to integers.</doc>
<arguments>
<arg>${rc}</arg>
<arg>0</arg>
</arguments>
<msg timestamp="20190830 01:12:43.778" level="INFO">Argument types are:
&lt;type 'int'&gt;
&lt;type 'unicode'&gt;</msg>
<status status="PASS" endtime="20190830 01:12:43.779" starttime="20190830 01:12:43.778"></status>
</kw>
<status status="PASS" endtime="20190830 01:12:43.779" starttime="20190830 01:12:43.280"></status>
</kw>
<status status="PASS" endtime="20190830 01:12:43.780" starttime="20190830 01:12:43.280"></status>
</kw>
<status status="PASS" endtime="20190830 01:12:43.780" starttime="20190830 01:12:43.278"></status>
</kw>
<status status="PASS" endtime="20190830 01:12:43.780" starttime="20190830 01:12:43.072"></status>
</kw>
<status status="PASS" endtime="20190830 01:12:43.780" starttime="20190830 01:12:43.072"></status>
</kw>
<kw name="Run Keyword If" library="BuiltIn">
<doc>Runs the given keyword with the given arguments, if ``condition`` is true.</doc>
<arguments>
<arg>'${OZONE_S3_SET_CREDENTIALS}' == 'true'</arg>
<arg>Setup v4 headers</arg>
</arguments>
<kw name="Setup v4 headers" library="commonawslib">
<kw name="Run Keyword If" library="BuiltIn">
<doc>Runs the given keyword with the given arguments, if ``condition`` is true.</doc>
<arguments>
<arg>'${SECURITY_ENABLED}' == 'true'</arg>
<arg>Kinit test user</arg>
<arg>testuser</arg>
<arg>testuser.keytab</arg>
</arguments>
<kw name="Kinit test user" library="commonlib">
<arguments>
<arg>testuser</arg>
<arg>testuser.keytab</arg>
</arguments>
<kw name="Execute" library="commonlib">
<arguments>
<arg>hostname</arg>
</arguments>
<assign>
<var>${hostname}</var>
</assign>
<kw name="Run And Return Rc And Output" library="OperatingSystem">
<doc>Runs the given command in the system and returns the RC and output.</doc>
<arguments>
<arg>${command}</arg>
</arguments>
<assign>
<var>${rc}</var>
<var>${output}</var>
</assign>
<msg timestamp="20190830 01:12:43.788" level="INFO">Running command 'hostname 2&gt;&amp;1'.</msg>
<msg timestamp="20190830 01:12:43.795" level="INFO">${rc} = 0</msg>
<msg timestamp="20190830 01:12:43.795" level="INFO">${output} = s3g</msg>
<status status="PASS" endtime="20190830 01:12:43.795" starttime="20190830 01:12:43.785"></status>
</kw>
<kw name="Log" library="BuiltIn">
<doc>Logs the given message with the given level.</doc>
<arguments>
<arg>${output}</arg>
</arguments>
<msg timestamp="20190830 01:12:43.797" level="INFO">s3g</msg>
<status status="PASS" endtime="20190830 01:12:43.797" starttime="20190830 01:12:43.796"></status>
</kw>
<kw name="Should Be Equal As Integers" library="BuiltIn">
<doc>Fails if objects are unequal after converting them to integers.</doc>
<arguments>
<arg>${rc}</arg>
<arg>0</arg>
</arguments>
<msg timestamp="20190830 01:12:43.798" level="INFO">Argument types are:
&lt;type 'int'&gt;
&lt;type 'unicode'&gt;</msg>
<status status="PASS" endtime="20190830 01:12:43.799" starttime="20190830 01:12:43.798"></status>
</kw>
<msg timestamp="20190830 01:12:43.799" level="INFO">${hostname} = s3g</msg>
<status status="PASS" endtime="20190830 01:12:43.799" starttime="20190830 01:12:43.784"></status>
</kw>
<kw name="Set Suite Variable" library="BuiltIn">
<doc>Makes a variable available everywhere within the scope of the current suite.</doc>
<arguments>
<arg>${TEST_USER}</arg>
<arg>${user}/${hostname}@EXAMPLE.COM</arg>
</arguments>
<msg timestamp="20190830 01:12:43.801" level="INFO">${TEST_USER} = testuser/s3g@EXAMPLE.COM</msg>
<status status="PASS" endtime="20190830 01:12:43.801" starttime="20190830 01:12:43.800"></status>
</kw>
<kw name="Wait Until Keyword Succeeds" library="BuiltIn">
<doc>Runs the specified keyword and retries if it fails.</doc>
<arguments>
<arg>2min</arg>
<arg>10sec</arg>
<arg>Execute</arg>
<arg>kinit -k ${user}/${hostname}@EXAMPLE.COM -t /etc/security/keytabs/${keytab}</arg>
</arguments>
<kw name="Execute" library="commonlib">
<arguments>
<arg>kinit -k ${user}/${hostname}@EXAMPLE.COM -t /etc/security/keytabs/${keytab}</arg>
</arguments>
<kw name="Run And Return Rc And Output" library="OperatingSystem">
<doc>Runs the given command in the system and returns the RC and output.</doc>
<arguments>
<arg>${command}</arg>
</arguments>
<assign>
<var>${rc}</var>
<var>${output}</var>
</assign>
<msg timestamp="20190830 01:12:43.805" level="INFO">Running command 'kinit -k testuser/s3g@EXAMPLE.COM -t /etc/security/keytabs/testuser.keytab 2&gt;&amp;1'.</msg>
<msg timestamp="20190830 01:12:43.830" level="INFO">${rc} = 0</msg>
<msg timestamp="20190830 01:12:43.830" level="INFO">${output} = </msg>
<status status="PASS" endtime="20190830 01:12:43.830" starttime="20190830 01:12:43.803"></status>
</kw>
<kw name="Log" library="BuiltIn">
<doc>Logs the given message with the given level.</doc>
<arguments>
<arg>${output}</arg>
</arguments>
<msg timestamp="20190830 01:12:43.832" level="INFO"></msg>
<status status="PASS" endtime="20190830 01:12:43.832" starttime="20190830 01:12:43.831"></status>
</kw>
<kw name="Should Be Equal As Integers" library="BuiltIn">
<doc>Fails if objects are unequal after converting them to integers.</doc>
<arguments>
<arg>${rc}</arg>
<arg>0</arg>
</arguments>
<msg timestamp="20190830 01:12:43.833" level="INFO">Argument types are:
&lt;type 'int'&gt;
&lt;type 'unicode'&gt;</msg>
<status status="PASS" endtime="20190830 01:12:43.833" starttime="20190830 01:12:43.832"></status>
</kw>
<status status="PASS" endtime="20190830 01:12:43.834" starttime="20190830 01:12:43.802"></status>
</kw>
<status status="PASS" endtime="20190830 01:12:43.834" starttime="20190830 01:12:43.801"></status>
</kw>
<status status="PASS" endtime="20190830 01:12:43.834" starttime="20190830 01:12:43.783"></status>
</kw>
<status status="PASS" endtime="20190830 01:12:43.834" starttime="20190830 01:12:43.783"></status>
</kw>
<kw name="Execute" library="commonlib">
<arguments>
<arg>ozone s3 getsecret</arg>
</arguments>
<assign>
<var>${result}</var>
</assign>
<kw name="Run And Return Rc And Output" library="OperatingSystem">
<doc>Runs the given command in the system and returns the RC and output.</doc>
<arguments>
<arg>${command}</arg>
</arguments>
<assign>
<var>${rc}</var>
<var>${output}</var>
</assign>
<msg timestamp="20190830 01:12:43.838" level="INFO">Running command 'ozone s3 getsecret 2&gt;&amp;1'.</msg>
<msg timestamp="20190830 01:12:45.269" level="INFO">${rc} = 255</msg>
<msg timestamp="20190830 01:12:45.269" level="INFO">${output} = WARNING: An illegal reflective access operation has occurred
WARNING: Illegal reflective access by org.apache.hadoop.security.authentication.util.KerberosUtil (file:/opt/hadoop/share/ozone/lib/hadoop-...</msg>
<status status="PASS" endtime="20190830 01:12:45.269" starttime="20190830 01:12:43.836"></status>
</kw>
<kw name="Log" library="BuiltIn">
<doc>Logs the given message with the given level.</doc>
<arguments>
<arg>${output}</arg>
</arguments>
<msg timestamp="20190830 01:12:45.270" level="INFO">WARNING: An illegal reflective access operation has occurred
WARNING: Illegal reflective access by org.apache.hadoop.security.authentication.util.KerberosUtil (file:/opt/hadoop/share/ozone/lib/hadoop-auth-3.2.0.jar) to method sun.security.krb5.Config.getInstance()
WARNING: Please consider reporting this to the maintainers of org.apache.hadoop.security.authentication.util.KerberosUtil
WARNING: Use --illegal-access=warn to enable warnings of further illegal reflective access operations
WARNING: All illegal access operations will be denied in a future release
2019-08-30 01:12:45 ERROR OzoneClientFactory:192 - Couldn't create RpcClient protocol exception: 
java.lang.IllegalArgumentException: java.net.UnknownHostException: om
	at org.apache.hadoop.security.SecurityUtil.buildTokenService(SecurityUtil.java:447)
	at org.apache.hadoop.ozone.om.ha.OMProxyInfo.&lt;init&gt;(OMProxyInfo.java:40)
	at org.apache.hadoop.ozone.om.ha.OMFailoverProxyProvider.loadOMClientConfigs(OMFailoverProxyProvider.java:109)
	at org.apache.hadoop.ozone.om.ha.OMFailoverProxyProvider.&lt;init&gt;(OMFailoverProxyProvider.java:77)
	at org.apache.hadoop.ozone.om.protocolPB.OzoneManagerProtocolClientSideTranslatorPB.&lt;init&gt;(OzoneManagerProtocolClientSideTranslatorPB.java:195)
	at org.apache.hadoop.ozone.client.rpc.RpcClient.&lt;init&gt;(RpcClient.java:155)
	at org.apache.hadoop.ozone.client.OzoneClientFactory.getClientProtocol(OzoneClientFactory.java:189)
	at org.apache.hadoop.ozone.client.OzoneClientFactory.getRpcClient(OzoneClientFactory.java:152)
	at org.apache.hadoop.ozone.web.ozShell.OzoneAddress.createClient(OzoneAddress.java:102)
	at org.apache.hadoop.ozone.web.ozShell.s3.GetS3SecretHandler.call(GetS3SecretHandler.java:45)
	at org.apache.hadoop.ozone.web.ozShell.s3.GetS3SecretHandler.call(GetS3SecretHandler.java:32)
	at picocli.CommandLine.execute(CommandLine.java:1173)
	at picocli.CommandLine.access$800(CommandLine.java:141)
	at picocli.CommandLine$RunLast.handle(CommandLine.java:1367)
	at picocli.CommandLine$RunLast.handle(CommandLine.java:1335)
	at picocli.CommandLine$AbstractParseResultHandler.handleParseResult(CommandLine.java:1243)
	at picocli.CommandLine.parseWithHandlers(CommandLine.java:1526)
	at picocli.CommandLine.parseWithHandler(CommandLine.java:1465)
	at org.apache.hadoop.hdds.cli.GenericCli.execute(GenericCli.java:65)
	at org.apache.hadoop.ozone.web.ozShell.s3.S3Shell.execute(S3Shell.java:43)
	at org.apache.hadoop.hdds.cli.GenericCli.run(GenericCli.java:56)
	at org.apache.hadoop.ozone.web.ozShell.s3.S3Shell.main(S3Shell.java:54)
Caused by: java.net.UnknownHostException: om
	... 22 more
om</msg>
<status status="PASS" endtime="20190830 01:12:45.271" starttime="20190830 01:12:45.270"></status>
</kw>
<kw name="Should Be Equal As Integers" library="BuiltIn">
<doc>Fails if objects are unequal after converting them to integers.</doc>
<arguments>
<arg>${rc}</arg>
<arg>0</arg>
</arguments>
<msg timestamp="20190830 01:12:45.271" level="INFO">Argument types are:
&lt;type 'int'&gt;
&lt;type 'unicode'&gt;</msg>
<msg timestamp="20190830 01:12:45.271" level="FAIL">255 != 0</msg>
<status status="FAIL" endtime="20190830 01:12:45.272" starttime="20190830 01:12:45.271"></status>
</kw>
<status status="FAIL" endtime="20190830 01:12:45.272" starttime="20190830 01:12:43.835"></status>
</kw>
<status status="FAIL" endtime="20190830 01:12:45.272" starttime="20190830 01:12:43.782"></status>
</kw>
<status status="FAIL" endtime="20190830 01:12:45.272" starttime="20190830 01:12:43.781"></status>
</kw>
<status status="FAIL" endtime="20190830 01:12:45.272" starttime="20190830 01:12:43.071"></status>
</kw>
<status status="FAIL" endtime="20190830 01:12:45.273" critical="yes" starttime="20190830 01:12:43.070">Setup failed:
255 != 0</status>
</test>
<doc>S3 gateway test with aws cli</doc>
<status status="FAIL" endtime="20190830 01:12:45.274" starttime="20190830 01:12:35.992"></status>
</suite>
<suite source="/opt/hadoop/smoketest/s3/objectdelete.robot" id="s1-s7" name="Objectdelete">
<test id="s1-s7-t1" name="Delete file with s3api">
<kw type="setup" name="Setup s3 tests" library="commonawslib">
<kw name="Run Keyword" library="BuiltIn">
<doc>Executes the given keyword with the given arguments.</doc>
<arguments>
<arg>Install aws cli</arg>
</arguments>
<kw name="Install aws cli" library="commonlib">
<kw name="Run And Return Rc And Output" library="OperatingSystem">
<doc>Runs the given command in the system and returns the RC and output.</doc>
<arguments>
<arg>which apt-get</arg>
</arguments>
<assign>
<var>${rc}</var>
<var>${output}</var>
</assign>
<msg timestamp="20190830 01:12:45.289" level="INFO">Running command 'which apt-get 2&gt;&amp;1'.</msg>
<msg timestamp="20190830 01:12:45.295" level="INFO">${rc} = 1</msg>
<msg timestamp="20190830 01:12:45.295" level="INFO">${output} = which: no apt-get in (/opt/hadoop/bin/docker:/usr/local/sbin:/usr/local/bin:/usr/sbin:/usr/bin:/sbin:/bin:/opt/hadoop/bin)</msg>
<status status="PASS" endtime="20190830 01:12:45.296" starttime="20190830 01:12:45.288"></status>
</kw>
<kw name="Run Keyword If" library="BuiltIn">
<doc>Runs the given keyword with the given arguments, if ``condition`` is true.</doc>
<arguments>
<arg>'${rc}' == '0'</arg>
<arg>Install aws cli s3 debian</arg>
</arguments>
<status status="PASS" endtime="20190830 01:12:45.297" starttime="20190830 01:12:45.296"></status>
</kw>
<kw name="Run And Return Rc And Output" library="OperatingSystem">
<doc>Runs the given command in the system and returns the RC and output.</doc>
<arguments>
<arg>yum --help</arg>
</arguments>
<assign>
<var>${rc}</var>
<var>${output}</var>
</assign>
<msg timestamp="20190830 01:12:45.299" level="INFO">Running command 'yum --help 2&gt;&amp;1'.</msg>
<msg timestamp="20190830 01:12:45.475" level="INFO">${rc} = 0</msg>
<msg timestamp="20190830 01:12:45.475" level="INFO">${output} = Loaded plugins: fastestmirror, ovl
ovl: Error while doing RPMdb copy-up:
[Errno 13] Permission denied: '/var/lib/rpm/Group'
Usage: yum [options] COMMAND

List of Commands:

check          Check for pr...</msg>
<status status="PASS" endtime="20190830 01:12:45.476" starttime="20190830 01:12:45.298"></status>
</kw>
<kw name="Run Keyword If" library="BuiltIn">
<doc>Runs the given keyword with the given arguments, if ``condition`` is true.</doc>
<arguments>
<arg>'${rc}' == '0'</arg>
<arg>Install aws cli s3 centos</arg>
</arguments>
<kw name="Install aws cli s3 centos" library="commonawslib">
<kw name="Execute" library="commonlib">
<arguments>
<arg>sudo yum install -y awscli</arg>
</arguments>
<kw name="Run And Return Rc And Output" library="OperatingSystem">
<doc>Runs the given command in the system and returns the RC and output.</doc>
<arguments>
<arg>${command}</arg>
</arguments>
<assign>
<var>${rc}</var>
<var>${output}</var>
</assign>
<msg timestamp="20190830 01:12:45.482" level="INFO">Running command 'sudo yum install -y awscli 2&gt;&amp;1'.</msg>
<msg timestamp="20190830 01:12:46.002" level="INFO">${rc} = 0</msg>
<msg timestamp="20190830 01:12:46.002" level="INFO">${output} = Loaded plugins: fastestmirror, ovl
Loading mirror speeds from cached hostfile
 * base: mirror.sjc02.svwh.net
 * epel: sjc.edge.kernel.org
 * extras: sjc.edge.kernel.org
 * updates: sjc.edge.kernel.org...</msg>
<status status="PASS" endtime="20190830 01:12:46.002" starttime="20190830 01:12:45.480"></status>
</kw>
<kw name="Log" library="BuiltIn">
<doc>Logs the given message with the given level.</doc>
<arguments>
<arg>${output}</arg>
</arguments>
<msg timestamp="20190830 01:12:46.004" level="INFO">Loaded plugins: fastestmirror, ovl
Loading mirror speeds from cached hostfile
 * base: mirror.sjc02.svwh.net
 * epel: sjc.edge.kernel.org
 * extras: sjc.edge.kernel.org
 * updates: sjc.edge.kernel.org
Package awscli-1.14.28-5.el7_5.1.noarch already installed and latest version
Nothing to do</msg>
<status status="PASS" endtime="20190830 01:12:46.004" starttime="20190830 01:12:46.003"></status>
</kw>
<kw name="Should Be Equal As Integers" library="BuiltIn">
<doc>Fails if objects are unequal after converting them to integers.</doc>
<arguments>
<arg>${rc}</arg>
<arg>0</arg>
</arguments>
<msg timestamp="20190830 01:12:46.005" level="INFO">Argument types are:
&lt;type 'int'&gt;
&lt;type 'unicode'&gt;</msg>
<status status="PASS" endtime="20190830 01:12:46.005" starttime="20190830 01:12:46.004"></status>
</kw>
<status status="PASS" endtime="20190830 01:12:46.006" starttime="20190830 01:12:45.479"></status>
</kw>
<status status="PASS" endtime="20190830 01:12:46.006" starttime="20190830 01:12:45.478"></status>
</kw>
<status status="PASS" endtime="20190830 01:12:46.007" starttime="20190830 01:12:45.477"></status>
</kw>
<status status="PASS" endtime="20190830 01:12:46.007" starttime="20190830 01:12:45.287"></status>
</kw>
<status status="PASS" endtime="20190830 01:12:46.007" starttime="20190830 01:12:45.286"></status>
</kw>
<kw name="Run Keyword If" library="BuiltIn">
<doc>Runs the given keyword with the given arguments, if ``condition`` is true.</doc>
<arguments>
<arg>'${OZONE_S3_SET_CREDENTIALS}' == 'true'</arg>
<arg>Setup v4 headers</arg>
</arguments>
<kw name="Setup v4 headers" library="commonawslib">
<kw name="Run Keyword If" library="BuiltIn">
<doc>Runs the given keyword with the given arguments, if ``condition`` is true.</doc>
<arguments>
<arg>'${SECURITY_ENABLED}' == 'true'</arg>
<arg>Kinit test user</arg>
<arg>testuser</arg>
<arg>testuser.keytab</arg>
</arguments>
<kw name="Kinit test user" library="commonlib">
<arguments>
<arg>testuser</arg>
<arg>testuser.keytab</arg>
</arguments>
<kw name="Execute" library="commonlib">
<arguments>
<arg>hostname</arg>
</arguments>
<assign>
<var>${hostname}</var>
</assign>
<kw name="Run And Return Rc And Output" library="OperatingSystem">
<doc>Runs the given command in the system and returns the RC and output.</doc>
<arguments>
<arg>${command}</arg>
</arguments>
<assign>
<var>${rc}</var>
<var>${output}</var>
</assign>
<msg timestamp="20190830 01:12:46.014" level="INFO">Running command 'hostname 2&gt;&amp;1'.</msg>
<msg timestamp="20190830 01:12:46.021" level="INFO">${rc} = 0</msg>
<msg timestamp="20190830 01:12:46.022" level="INFO">${output} = s3g</msg>
<status status="PASS" endtime="20190830 01:12:46.022" starttime="20190830 01:12:46.012"></status>
</kw>
<kw name="Log" library="BuiltIn">
<doc>Logs the given message with the given level.</doc>
<arguments>
<arg>${output}</arg>
</arguments>
<msg timestamp="20190830 01:12:46.023" level="INFO">s3g</msg>
<status status="PASS" endtime="20190830 01:12:46.024" starttime="20190830 01:12:46.022"></status>
</kw>
<kw name="Should Be Equal As Integers" library="BuiltIn">
<doc>Fails if objects are unequal after converting them to integers.</doc>
<arguments>
<arg>${rc}</arg>
<arg>0</arg>
</arguments>
<msg timestamp="20190830 01:12:46.024" level="INFO">Argument types are:
&lt;type 'int'&gt;
&lt;type 'unicode'&gt;</msg>
<status status="PASS" endtime="20190830 01:12:46.025" starttime="20190830 01:12:46.024"></status>
</kw>
<msg timestamp="20190830 01:12:46.025" level="INFO">${hostname} = s3g</msg>
<status status="PASS" endtime="20190830 01:12:46.026" starttime="20190830 01:12:46.011"></status>
</kw>
<kw name="Set Suite Variable" library="BuiltIn">
<doc>Makes a variable available everywhere within the scope of the current suite.</doc>
<arguments>
<arg>${TEST_USER}</arg>
<arg>${user}/${hostname}@EXAMPLE.COM</arg>
</arguments>
<msg timestamp="20190830 01:12:46.029" level="INFO">${TEST_USER} = testuser/s3g@EXAMPLE.COM</msg>
<status status="PASS" endtime="20190830 01:12:46.029" starttime="20190830 01:12:46.026"></status>
</kw>
<kw name="Wait Until Keyword Succeeds" library="BuiltIn">
<doc>Runs the specified keyword and retries if it fails.</doc>
<arguments>
<arg>2min</arg>
<arg>10sec</arg>
<arg>Execute</arg>
<arg>kinit -k ${user}/${hostname}@EXAMPLE.COM -t /etc/security/keytabs/${keytab}</arg>
</arguments>
<kw name="Execute" library="commonlib">
<arguments>
<arg>kinit -k ${user}/${hostname}@EXAMPLE.COM -t /etc/security/keytabs/${keytab}</arg>
</arguments>
<kw name="Run And Return Rc And Output" library="OperatingSystem">
<doc>Runs the given command in the system and returns the RC and output.</doc>
<arguments>
<arg>${command}</arg>
</arguments>
<assign>
<var>${rc}</var>
<var>${output}</var>
</assign>
<msg timestamp="20190830 01:12:46.033" level="INFO">Running command 'kinit -k testuser/s3g@EXAMPLE.COM -t /etc/security/keytabs/testuser.keytab 2&gt;&amp;1'.</msg>
<msg timestamp="20190830 01:12:46.049" level="INFO">${rc} = 0</msg>
<msg timestamp="20190830 01:12:46.049" level="INFO">${output} = </msg>
<status status="PASS" endtime="20190830 01:12:46.049" starttime="20190830 01:12:46.031"></status>
</kw>
<kw name="Log" library="BuiltIn">
<doc>Logs the given message with the given level.</doc>
<arguments>
<arg>${output}</arg>
</arguments>
<msg timestamp="20190830 01:12:46.050" level="INFO"></msg>
<status status="PASS" endtime="20190830 01:12:46.051" starttime="20190830 01:12:46.050"></status>
</kw>
<kw name="Should Be Equal As Integers" library="BuiltIn">
<doc>Fails if objects are unequal after converting them to integers.</doc>
<arguments>
<arg>${rc}</arg>
<arg>0</arg>
</arguments>
<msg timestamp="20190830 01:12:46.051" level="INFO">Argument types are:
&lt;type 'int'&gt;
&lt;type 'unicode'&gt;</msg>
<status status="PASS" endtime="20190830 01:12:46.052" starttime="20190830 01:12:46.051"></status>
</kw>
<status status="PASS" endtime="20190830 01:12:46.052" starttime="20190830 01:12:46.030"></status>
</kw>
<status status="PASS" endtime="20190830 01:12:46.052" starttime="20190830 01:12:46.029"></status>
</kw>
<status status="PASS" endtime="20190830 01:12:46.053" starttime="20190830 01:12:46.010"></status>
</kw>
<status status="PASS" endtime="20190830 01:12:46.053" starttime="20190830 01:12:46.009"></status>
</kw>
<kw name="Execute" library="commonlib">
<arguments>
<arg>ozone s3 getsecret</arg>
</arguments>
<assign>
<var>${result}</var>
</assign>
<kw name="Run And Return Rc And Output" library="OperatingSystem">
<doc>Runs the given command in the system and returns the RC and output.</doc>
<arguments>
<arg>${command}</arg>
</arguments>
<assign>
<var>${rc}</var>
<var>${output}</var>
</assign>
<msg timestamp="20190830 01:12:46.056" level="INFO">Running command 'ozone s3 getsecret 2&gt;&amp;1'.</msg>
<msg timestamp="20190830 01:12:47.510" level="INFO">${rc} = 255</msg>
<msg timestamp="20190830 01:12:47.510" level="INFO">${output} = WARNING: An illegal reflective access operation has occurred
WARNING: Illegal reflective access by org.apache.hadoop.security.authentication.util.KerberosUtil (file:/opt/hadoop/share/ozone/lib/hadoop-...</msg>
<status status="PASS" endtime="20190830 01:12:47.510" starttime="20190830 01:12:46.054"></status>
</kw>
<kw name="Log" library="BuiltIn">
<doc>Logs the given message with the given level.</doc>
<arguments>
<arg>${output}</arg>
</arguments>
<msg timestamp="20190830 01:12:47.511" level="INFO">WARNING: An illegal reflective access operation has occurred
WARNING: Illegal reflective access by org.apache.hadoop.security.authentication.util.KerberosUtil (file:/opt/hadoop/share/ozone/lib/hadoop-auth-3.2.0.jar) to method sun.security.krb5.Config.getInstance()
WARNING: Please consider reporting this to the maintainers of org.apache.hadoop.security.authentication.util.KerberosUtil
WARNING: Use --illegal-access=warn to enable warnings of further illegal reflective access operations
WARNING: All illegal access operations will be denied in a future release
2019-08-30 01:12:47 ERROR OzoneClientFactory:192 - Couldn't create RpcClient protocol exception: 
java.lang.IllegalArgumentException: java.net.UnknownHostException: om
	at org.apache.hadoop.security.SecurityUtil.buildTokenService(SecurityUtil.java:447)
	at org.apache.hadoop.ozone.om.ha.OMProxyInfo.&lt;init&gt;(OMProxyInfo.java:40)
	at org.apache.hadoop.ozone.om.ha.OMFailoverProxyProvider.loadOMClientConfigs(OMFailoverProxyProvider.java:109)
	at org.apache.hadoop.ozone.om.ha.OMFailoverProxyProvider.&lt;init&gt;(OMFailoverProxyProvider.java:77)
	at org.apache.hadoop.ozone.om.protocolPB.OzoneManagerProtocolClientSideTranslatorPB.&lt;init&gt;(OzoneManagerProtocolClientSideTranslatorPB.java:195)
	at org.apache.hadoop.ozone.client.rpc.RpcClient.&lt;init&gt;(RpcClient.java:155)
	at org.apache.hadoop.ozone.client.OzoneClientFactory.getClientProtocol(OzoneClientFactory.java:189)
	at org.apache.hadoop.ozone.client.OzoneClientFactory.getRpcClient(OzoneClientFactory.java:152)
	at org.apache.hadoop.ozone.web.ozShell.OzoneAddress.createClient(OzoneAddress.java:102)
	at org.apache.hadoop.ozone.web.ozShell.s3.GetS3SecretHandler.call(GetS3SecretHandler.java:45)
	at org.apache.hadoop.ozone.web.ozShell.s3.GetS3SecretHandler.call(GetS3SecretHandler.java:32)
	at picocli.CommandLine.execute(CommandLine.java:1173)
	at picocli.CommandLine.access$800(CommandLine.java:141)
	at picocli.CommandLine$RunLast.handle(CommandLine.java:1367)
	at picocli.CommandLine$RunLast.handle(CommandLine.java:1335)
	at picocli.CommandLine$AbstractParseResultHandler.handleParseResult(CommandLine.java:1243)
	at picocli.CommandLine.parseWithHandlers(CommandLine.java:1526)
	at picocli.CommandLine.parseWithHandler(CommandLine.java:1465)
	at org.apache.hadoop.hdds.cli.GenericCli.execute(GenericCli.java:65)
	at org.apache.hadoop.ozone.web.ozShell.s3.S3Shell.execute(S3Shell.java:43)
	at org.apache.hadoop.hdds.cli.GenericCli.run(GenericCli.java:56)
	at org.apache.hadoop.ozone.web.ozShell.s3.S3Shell.main(S3Shell.java:54)
Caused by: java.net.UnknownHostException: om
	... 22 more
om</msg>
<status status="PASS" endtime="20190830 01:12:47.512" starttime="20190830 01:12:47.511"></status>
</kw>
<kw name="Should Be Equal As Integers" library="BuiltIn">
<doc>Fails if objects are unequal after converting them to integers.</doc>
<arguments>
<arg>${rc}</arg>
<arg>0</arg>
</arguments>
<msg timestamp="20190830 01:12:47.512" level="INFO">Argument types are:
&lt;type 'int'&gt;
&lt;type 'unicode'&gt;</msg>
<msg timestamp="20190830 01:12:47.513" level="FAIL">255 != 0</msg>
<status status="FAIL" endtime="20190830 01:12:47.513" starttime="20190830 01:12:47.512"></status>
</kw>
<status status="FAIL" endtime="20190830 01:12:47.513" starttime="20190830 01:12:46.053"></status>
</kw>
<status status="FAIL" endtime="20190830 01:12:47.513" starttime="20190830 01:12:46.008"></status>
</kw>
<status status="FAIL" endtime="20190830 01:12:47.513" starttime="20190830 01:12:46.007"></status>
</kw>
<status status="FAIL" endtime="20190830 01:12:47.514" starttime="20190830 01:12:45.286"></status>
</kw>
<status status="FAIL" endtime="20190830 01:12:47.514" critical="yes" starttime="20190830 01:12:45.285">Setup failed:
255 != 0</status>
</test>
<test id="s1-s7-t2" name="Delete file with s3api, file doesn't exist">
<kw type="setup" name="Setup s3 tests" library="commonawslib">
<kw name="Run Keyword" library="BuiltIn">
<doc>Executes the given keyword with the given arguments.</doc>
<arguments>
<arg>Install aws cli</arg>
</arguments>
<kw name="Install aws cli" library="commonlib">
<kw name="Run And Return Rc And Output" library="OperatingSystem">
<doc>Runs the given command in the system and returns the RC and output.</doc>
<arguments>
<arg>which apt-get</arg>
</arguments>
<assign>
<var>${rc}</var>
<var>${output}</var>
</assign>
<msg timestamp="20190830 01:12:47.518" level="INFO">Running command 'which apt-get 2&gt;&amp;1'.</msg>
<msg timestamp="20190830 01:12:47.523" level="INFO">${rc} = 1</msg>
<msg timestamp="20190830 01:12:47.523" level="INFO">${output} = which: no apt-get in (/opt/hadoop/bin/docker:/usr/local/sbin:/usr/local/bin:/usr/sbin:/usr/bin:/sbin:/bin:/opt/hadoop/bin)</msg>
<status status="PASS" endtime="20190830 01:12:47.523" starttime="20190830 01:12:47.517"></status>
</kw>
<kw name="Run Keyword If" library="BuiltIn">
<doc>Runs the given keyword with the given arguments, if ``condition`` is true.</doc>
<arguments>
<arg>'${rc}' == '0'</arg>
<arg>Install aws cli s3 debian</arg>
</arguments>
<status status="PASS" endtime="20190830 01:12:47.525" starttime="20190830 01:12:47.524"></status>
</kw>
<kw name="Run And Return Rc And Output" library="OperatingSystem">
<doc>Runs the given command in the system and returns the RC and output.</doc>
<arguments>
<arg>yum --help</arg>
</arguments>
<assign>
<var>${rc}</var>
<var>${output}</var>
</assign>
<msg timestamp="20190830 01:12:47.526" level="INFO">Running command 'yum --help 2&gt;&amp;1'.</msg>
<msg timestamp="20190830 01:12:47.702" level="INFO">${rc} = 0</msg>
<msg timestamp="20190830 01:12:47.702" level="INFO">${output} = Loaded plugins: fastestmirror, ovl
ovl: Error while doing RPMdb copy-up:
[Errno 13] Permission denied: '/var/lib/rpm/Group'
Usage: yum [options] COMMAND

List of Commands:

check          Check for pr...</msg>
<status status="PASS" endtime="20190830 01:12:47.702" starttime="20190830 01:12:47.525"></status>
</kw>
<kw name="Run Keyword If" library="BuiltIn">
<doc>Runs the given keyword with the given arguments, if ``condition`` is true.</doc>
<arguments>
<arg>'${rc}' == '0'</arg>
<arg>Install aws cli s3 centos</arg>
</arguments>
<kw name="Install aws cli s3 centos" library="commonawslib">
<kw name="Execute" library="commonlib">
<arguments>
<arg>sudo yum install -y awscli</arg>
</arguments>
<kw name="Run And Return Rc And Output" library="OperatingSystem">
<doc>Runs the given command in the system and returns the RC and output.</doc>
<arguments>
<arg>${command}</arg>
</arguments>
<assign>
<var>${rc}</var>
<var>${output}</var>
</assign>
<msg timestamp="20190830 01:12:47.707" level="INFO">Running command 'sudo yum install -y awscli 2&gt;&amp;1'.</msg>
<msg timestamp="20190830 01:12:48.193" level="INFO">${rc} = 0</msg>
<msg timestamp="20190830 01:12:48.193" level="INFO">${output} = Loaded plugins: fastestmirror, ovl
Loading mirror speeds from cached hostfile
 * base: mirror.sjc02.svwh.net
 * epel: sjc.edge.kernel.org
 * extras: sjc.edge.kernel.org
 * updates: sjc.edge.kernel.org...</msg>
<status status="PASS" endtime="20190830 01:12:48.193" starttime="20190830 01:12:47.705"></status>
</kw>
<kw name="Log" library="BuiltIn">
<doc>Logs the given message with the given level.</doc>
<arguments>
<arg>${output}</arg>
</arguments>
<msg timestamp="20190830 01:12:48.195" level="INFO">Loaded plugins: fastestmirror, ovl
Loading mirror speeds from cached hostfile
 * base: mirror.sjc02.svwh.net
 * epel: sjc.edge.kernel.org
 * extras: sjc.edge.kernel.org
 * updates: sjc.edge.kernel.org
Package awscli-1.14.28-5.el7_5.1.noarch already installed and latest version
Nothing to do</msg>
<status status="PASS" endtime="20190830 01:12:48.195" starttime="20190830 01:12:48.194"></status>
</kw>
<kw name="Should Be Equal As Integers" library="BuiltIn">
<doc>Fails if objects are unequal after converting them to integers.</doc>
<arguments>
<arg>${rc}</arg>
<arg>0</arg>
</arguments>
<msg timestamp="20190830 01:12:48.196" level="INFO">Argument types are:
&lt;type 'int'&gt;
&lt;type 'unicode'&gt;</msg>
<status status="PASS" endtime="20190830 01:12:48.196" starttime="20190830 01:12:48.195"></status>
</kw>
<status status="PASS" endtime="20190830 01:12:48.197" starttime="20190830 01:12:47.704"></status>
</kw>
<status status="PASS" endtime="20190830 01:12:48.197" starttime="20190830 01:12:47.704"></status>
</kw>
<status status="PASS" endtime="20190830 01:12:48.197" starttime="20190830 01:12:47.703"></status>
</kw>
<status status="PASS" endtime="20190830 01:12:48.198" starttime="20190830 01:12:47.516"></status>
</kw>
<status status="PASS" endtime="20190830 01:12:48.198" starttime="20190830 01:12:47.515"></status>
</kw>
<kw name="Run Keyword If" library="BuiltIn">
<doc>Runs the given keyword with the given arguments, if ``condition`` is true.</doc>
<arguments>
<arg>'${OZONE_S3_SET_CREDENTIALS}' == 'true'</arg>
<arg>Setup v4 headers</arg>
</arguments>
<kw name="Setup v4 headers" library="commonawslib">
<kw name="Run Keyword If" library="BuiltIn">
<doc>Runs the given keyword with the given arguments, if ``condition`` is true.</doc>
<arguments>
<arg>'${SECURITY_ENABLED}' == 'true'</arg>
<arg>Kinit test user</arg>
<arg>testuser</arg>
<arg>testuser.keytab</arg>
</arguments>
<kw name="Kinit test user" library="commonlib">
<arguments>
<arg>testuser</arg>
<arg>testuser.keytab</arg>
</arguments>
<kw name="Execute" library="commonlib">
<arguments>
<arg>hostname</arg>
</arguments>
<assign>
<var>${hostname}</var>
</assign>
<kw name="Run And Return Rc And Output" library="OperatingSystem">
<doc>Runs the given command in the system and returns the RC and output.</doc>
<arguments>
<arg>${command}</arg>
</arguments>
<assign>
<var>${rc}</var>
<var>${output}</var>
</assign>
<msg timestamp="20190830 01:12:48.205" level="INFO">Running command 'hostname 2&gt;&amp;1'.</msg>
<msg timestamp="20190830 01:12:48.211" level="INFO">${rc} = 0</msg>
<msg timestamp="20190830 01:12:48.211" level="INFO">${output} = s3g</msg>
<status status="PASS" endtime="20190830 01:12:48.211" starttime="20190830 01:12:48.202"></status>
</kw>
<kw name="Log" library="BuiltIn">
<doc>Logs the given message with the given level.</doc>
<arguments>
<arg>${output}</arg>
</arguments>
<msg timestamp="20190830 01:12:48.213" level="INFO">s3g</msg>
<status status="PASS" endtime="20190830 01:12:48.213" starttime="20190830 01:12:48.212"></status>
</kw>
<kw name="Should Be Equal As Integers" library="BuiltIn">
<doc>Fails if objects are unequal after converting them to integers.</doc>
<arguments>
<arg>${rc}</arg>
<arg>0</arg>
</arguments>
<msg timestamp="20190830 01:12:48.214" level="INFO">Argument types are:
&lt;type 'int'&gt;
&lt;type 'unicode'&gt;</msg>
<status status="PASS" endtime="20190830 01:12:48.214" starttime="20190830 01:12:48.214"></status>
</kw>
<msg timestamp="20190830 01:12:48.215" level="INFO">${hostname} = s3g</msg>
<status status="PASS" endtime="20190830 01:12:48.215" starttime="20190830 01:12:48.201"></status>
</kw>
<kw name="Set Suite Variable" library="BuiltIn">
<doc>Makes a variable available everywhere within the scope of the current suite.</doc>
<arguments>
<arg>${TEST_USER}</arg>
<arg>${user}/${hostname}@EXAMPLE.COM</arg>
</arguments>
<msg timestamp="20190830 01:12:48.217" level="INFO">${TEST_USER} = testuser/s3g@EXAMPLE.COM</msg>
<status status="PASS" endtime="20190830 01:12:48.217" starttime="20190830 01:12:48.216"></status>
</kw>
<kw name="Wait Until Keyword Succeeds" library="BuiltIn">
<doc>Runs the specified keyword and retries if it fails.</doc>
<arguments>
<arg>2min</arg>
<arg>10sec</arg>
<arg>Execute</arg>
<arg>kinit -k ${user}/${hostname}@EXAMPLE.COM -t /etc/security/keytabs/${keytab}</arg>
</arguments>
<kw name="Execute" library="commonlib">
<arguments>
<arg>kinit -k ${user}/${hostname}@EXAMPLE.COM -t /etc/security/keytabs/${keytab}</arg>
</arguments>
<kw name="Run And Return Rc And Output" library="OperatingSystem">
<doc>Runs the given command in the system and returns the RC and output.</doc>
<arguments>
<arg>${command}</arg>
</arguments>
<assign>
<var>${rc}</var>
<var>${output}</var>
</assign>
<msg timestamp="20190830 01:12:48.221" level="INFO">Running command 'kinit -k testuser/s3g@EXAMPLE.COM -t /etc/security/keytabs/testuser.keytab 2&gt;&amp;1'.</msg>
<msg timestamp="20190830 01:12:48.247" level="INFO">${rc} = 0</msg>
<msg timestamp="20190830 01:12:48.248" level="INFO">${output} = </msg>
<status status="PASS" endtime="20190830 01:12:48.248" starttime="20190830 01:12:48.219"></status>
</kw>
<kw name="Log" library="BuiltIn">
<doc>Logs the given message with the given level.</doc>
<arguments>
<arg>${output}</arg>
</arguments>
<msg timestamp="20190830 01:12:48.249" level="INFO"></msg>
<status status="PASS" endtime="20190830 01:12:48.249" starttime="20190830 01:12:48.248"></status>
</kw>
<kw name="Should Be Equal As Integers" library="BuiltIn">
<doc>Fails if objects are unequal after converting them to integers.</doc>
<arguments>
<arg>${rc}</arg>
<arg>0</arg>
</arguments>
<msg timestamp="20190830 01:12:48.250" level="INFO">Argument types are:
&lt;type 'int'&gt;
&lt;type 'unicode'&gt;</msg>
<status status="PASS" endtime="20190830 01:12:48.250" starttime="20190830 01:12:48.250"></status>
</kw>
<status status="PASS" endtime="20190830 01:12:48.251" starttime="20190830 01:12:48.218"></status>
</kw>
<status status="PASS" endtime="20190830 01:12:48.251" starttime="20190830 01:12:48.217"></status>
</kw>
<status status="PASS" endtime="20190830 01:12:48.251" starttime="20190830 01:12:48.201"></status>
</kw>
<status status="PASS" endtime="20190830 01:12:48.251" starttime="20190830 01:12:48.200"></status>
</kw>
<kw name="Execute" library="commonlib">
<arguments>
<arg>ozone s3 getsecret</arg>
</arguments>
<assign>
<var>${result}</var>
</assign>
<kw name="Run And Return Rc And Output" library="OperatingSystem">
<doc>Runs the given command in the system and returns the RC and output.</doc>
<arguments>
<arg>${command}</arg>
</arguments>
<assign>
<var>${rc}</var>
<var>${output}</var>
</assign>
<msg timestamp="20190830 01:12:48.254" level="INFO">Running command 'ozone s3 getsecret 2&gt;&amp;1'.</msg>
<msg timestamp="20190830 01:12:49.684" level="INFO">${rc} = 255</msg>
<msg timestamp="20190830 01:12:49.685" level="INFO">${output} = WARNING: An illegal reflective access operation has occurred
WARNING: Illegal reflective access by org.apache.hadoop.security.authentication.util.KerberosUtil (file:/opt/hadoop/share/ozone/lib/hadoop-...</msg>
<status status="PASS" endtime="20190830 01:12:49.685" starttime="20190830 01:12:48.252"></status>
</kw>
<kw name="Log" library="BuiltIn">
<doc>Logs the given message with the given level.</doc>
<arguments>
<arg>${output}</arg>
</arguments>
<msg timestamp="20190830 01:12:49.687" level="INFO">WARNING: An illegal reflective access operation has occurred
WARNING: Illegal reflective access by org.apache.hadoop.security.authentication.util.KerberosUtil (file:/opt/hadoop/share/ozone/lib/hadoop-auth-3.2.0.jar) to method sun.security.krb5.Config.getInstance()
WARNING: Please consider reporting this to the maintainers of org.apache.hadoop.security.authentication.util.KerberosUtil
WARNING: Use --illegal-access=warn to enable warnings of further illegal reflective access operations
WARNING: All illegal access operations will be denied in a future release
2019-08-30 01:12:49 ERROR OzoneClientFactory:192 - Couldn't create RpcClient protocol exception: 
java.lang.IllegalArgumentException: java.net.UnknownHostException: om
	at org.apache.hadoop.security.SecurityUtil.buildTokenService(SecurityUtil.java:447)
	at org.apache.hadoop.ozone.om.ha.OMProxyInfo.&lt;init&gt;(OMProxyInfo.java:40)
	at org.apache.hadoop.ozone.om.ha.OMFailoverProxyProvider.loadOMClientConfigs(OMFailoverProxyProvider.java:109)
	at org.apache.hadoop.ozone.om.ha.OMFailoverProxyProvider.&lt;init&gt;(OMFailoverProxyProvider.java:77)
	at org.apache.hadoop.ozone.om.protocolPB.OzoneManagerProtocolClientSideTranslatorPB.&lt;init&gt;(OzoneManagerProtocolClientSideTranslatorPB.java:195)
	at org.apache.hadoop.ozone.client.rpc.RpcClient.&lt;init&gt;(RpcClient.java:155)
	at org.apache.hadoop.ozone.client.OzoneClientFactory.getClientProtocol(OzoneClientFactory.java:189)
	at org.apache.hadoop.ozone.client.OzoneClientFactory.getRpcClient(OzoneClientFactory.java:152)
	at org.apache.hadoop.ozone.web.ozShell.OzoneAddress.createClient(OzoneAddress.java:102)
	at org.apache.hadoop.ozone.web.ozShell.s3.GetS3SecretHandler.call(GetS3SecretHandler.java:45)
	at org.apache.hadoop.ozone.web.ozShell.s3.GetS3SecretHandler.call(GetS3SecretHandler.java:32)
	at picocli.CommandLine.execute(CommandLine.java:1173)
	at picocli.CommandLine.access$800(CommandLine.java:141)
	at picocli.CommandLine$RunLast.handle(CommandLine.java:1367)
	at picocli.CommandLine$RunLast.handle(CommandLine.java:1335)
	at picocli.CommandLine$AbstractParseResultHandler.handleParseResult(CommandLine.java:1243)
	at picocli.CommandLine.parseWithHandlers(CommandLine.java:1526)
	at picocli.CommandLine.parseWithHandler(CommandLine.java:1465)
	at org.apache.hadoop.hdds.cli.GenericCli.execute(GenericCli.java:65)
	at org.apache.hadoop.ozone.web.ozShell.s3.S3Shell.execute(S3Shell.java:43)
	at org.apache.hadoop.hdds.cli.GenericCli.run(GenericCli.java:56)
	at org.apache.hadoop.ozone.web.ozShell.s3.S3Shell.main(S3Shell.java:54)
Caused by: java.net.UnknownHostException: om
	... 22 more
om</msg>
<status status="PASS" endtime="20190830 01:12:49.687" starttime="20190830 01:12:49.686"></status>
</kw>
<kw name="Should Be Equal As Integers" library="BuiltIn">
<doc>Fails if objects are unequal after converting them to integers.</doc>
<arguments>
<arg>${rc}</arg>
<arg>0</arg>
</arguments>
<msg timestamp="20190830 01:12:49.688" level="INFO">Argument types are:
&lt;type 'int'&gt;
&lt;type 'unicode'&gt;</msg>
<msg timestamp="20190830 01:12:49.689" level="FAIL">255 != 0</msg>
<status status="FAIL" endtime="20190830 01:12:49.689" starttime="20190830 01:12:49.687"></status>
</kw>
<status status="FAIL" endtime="20190830 01:12:49.689" starttime="20190830 01:12:48.252"></status>
</kw>
<status status="FAIL" endtime="20190830 01:12:49.690" starttime="20190830 01:12:48.199"></status>
</kw>
<status status="FAIL" endtime="20190830 01:12:49.690" starttime="20190830 01:12:48.198"></status>
</kw>
<status status="FAIL" endtime="20190830 01:12:49.690" starttime="20190830 01:12:47.515"></status>
</kw>
<status status="FAIL" endtime="20190830 01:12:49.691" critical="yes" starttime="20190830 01:12:47.514">Setup failed:
255 != 0</status>
</test>
<test id="s1-s7-t3" name="Delete dir with s3api">
<kw type="setup" name="Setup s3 tests" library="commonawslib">
<kw name="Run Keyword" library="BuiltIn">
<doc>Executes the given keyword with the given arguments.</doc>
<arguments>
<arg>Install aws cli</arg>
</arguments>
<kw name="Install aws cli" library="commonlib">
<kw name="Run And Return Rc And Output" library="OperatingSystem">
<doc>Runs the given command in the system and returns the RC and output.</doc>
<arguments>
<arg>which apt-get</arg>
</arguments>
<assign>
<var>${rc}</var>
<var>${output}</var>
</assign>
<msg timestamp="20190830 01:12:49.700" level="INFO">Running command 'which apt-get 2&gt;&amp;1'.</msg>
<msg timestamp="20190830 01:12:49.707" level="INFO">${rc} = 1</msg>
<msg timestamp="20190830 01:12:49.707" level="INFO">${output} = which: no apt-get in (/opt/hadoop/bin/docker:/usr/local/sbin:/usr/local/bin:/usr/sbin:/usr/bin:/sbin:/bin:/opt/hadoop/bin)</msg>
<status status="PASS" endtime="20190830 01:12:49.707" starttime="20190830 01:12:49.695"></status>
</kw>
<kw name="Run Keyword If" library="BuiltIn">
<doc>Runs the given keyword with the given arguments, if ``condition`` is true.</doc>
<arguments>
<arg>'${rc}' == '0'</arg>
<arg>Install aws cli s3 debian</arg>
</arguments>
<status status="PASS" endtime="20190830 01:12:49.709" starttime="20190830 01:12:49.708"></status>
</kw>
<kw name="Run And Return Rc And Output" library="OperatingSystem">
<doc>Runs the given command in the system and returns the RC and output.</doc>
<arguments>
<arg>yum --help</arg>
</arguments>
<assign>
<var>${rc}</var>
<var>${output}</var>
</assign>
<msg timestamp="20190830 01:12:49.711" level="INFO">Running command 'yum --help 2&gt;&amp;1'.</msg>
<msg timestamp="20190830 01:12:49.896" level="INFO">${rc} = 0</msg>
<msg timestamp="20190830 01:12:49.896" level="INFO">${output} = Loaded plugins: fastestmirror, ovl
ovl: Error while doing RPMdb copy-up:
[Errno 13] Permission denied: '/var/lib/rpm/Group'
Usage: yum [options] COMMAND

List of Commands:

check          Check for pr...</msg>
<status status="PASS" endtime="20190830 01:12:49.896" starttime="20190830 01:12:49.709"></status>
</kw>
<kw name="Run Keyword If" library="BuiltIn">
<doc>Runs the given keyword with the given arguments, if ``condition`` is true.</doc>
<arguments>
<arg>'${rc}' == '0'</arg>
<arg>Install aws cli s3 centos</arg>
</arguments>
<kw name="Install aws cli s3 centos" library="commonawslib">
<kw name="Execute" library="commonlib">
<arguments>
<arg>sudo yum install -y awscli</arg>
</arguments>
<kw name="Run And Return Rc And Output" library="OperatingSystem">
<doc>Runs the given command in the system and returns the RC and output.</doc>
<arguments>
<arg>${command}</arg>
</arguments>
<assign>
<var>${rc}</var>
<var>${output}</var>
</assign>
<msg timestamp="20190830 01:12:49.903" level="INFO">Running command 'sudo yum install -y awscli 2&gt;&amp;1'.</msg>
<msg timestamp="20190830 01:12:50.416" level="INFO">${rc} = 0</msg>
<msg timestamp="20190830 01:12:50.416" level="INFO">${output} = Loaded plugins: fastestmirror, ovl
Loading mirror speeds from cached hostfile
 * base: mirror.sjc02.svwh.net
 * epel: sjc.edge.kernel.org
 * extras: sjc.edge.kernel.org
 * updates: sjc.edge.kernel.org...</msg>
<status status="PASS" endtime="20190830 01:12:50.416" starttime="20190830 01:12:49.900"></status>
</kw>
<kw name="Log" library="BuiltIn">
<doc>Logs the given message with the given level.</doc>
<arguments>
<arg>${output}</arg>
</arguments>
<msg timestamp="20190830 01:12:50.418" level="INFO">Loaded plugins: fastestmirror, ovl
Loading mirror speeds from cached hostfile
 * base: mirror.sjc02.svwh.net
 * epel: sjc.edge.kernel.org
 * extras: sjc.edge.kernel.org
 * updates: sjc.edge.kernel.org
Package awscli-1.14.28-5.el7_5.1.noarch already installed and latest version
Nothing to do</msg>
<status status="PASS" endtime="20190830 01:12:50.418" starttime="20190830 01:12:50.417"></status>
</kw>
<kw name="Should Be Equal As Integers" library="BuiltIn">
<doc>Fails if objects are unequal after converting them to integers.</doc>
<arguments>
<arg>${rc}</arg>
<arg>0</arg>
</arguments>
<msg timestamp="20190830 01:12:50.419" level="INFO">Argument types are:
&lt;type 'int'&gt;
&lt;type 'unicode'&gt;</msg>
<status status="PASS" endtime="20190830 01:12:50.419" starttime="20190830 01:12:50.418"></status>
</kw>
<status status="PASS" endtime="20190830 01:12:50.420" starttime="20190830 01:12:49.899"></status>
</kw>
<status status="PASS" endtime="20190830 01:12:50.420" starttime="20190830 01:12:49.899"></status>
</kw>
<status status="PASS" endtime="20190830 01:12:50.420" starttime="20190830 01:12:49.897"></status>
</kw>
<status status="PASS" endtime="20190830 01:12:50.421" starttime="20190830 01:12:49.695"></status>
</kw>
<status status="PASS" endtime="20190830 01:12:50.421" starttime="20190830 01:12:49.694"></status>
</kw>
<kw name="Run Keyword If" library="BuiltIn">
<doc>Runs the given keyword with the given arguments, if ``condition`` is true.</doc>
<arguments>
<arg>'${OZONE_S3_SET_CREDENTIALS}' == 'true'</arg>
<arg>Setup v4 headers</arg>
</arguments>
<kw name="Setup v4 headers" library="commonawslib">
<kw name="Run Keyword If" library="BuiltIn">
<doc>Runs the given keyword with the given arguments, if ``condition`` is true.</doc>
<arguments>
<arg>'${SECURITY_ENABLED}' == 'true'</arg>
<arg>Kinit test user</arg>
<arg>testuser</arg>
<arg>testuser.keytab</arg>
</arguments>
<kw name="Kinit test user" library="commonlib">
<arguments>
<arg>testuser</arg>
<arg>testuser.keytab</arg>
</arguments>
<kw name="Execute" library="commonlib">
<arguments>
<arg>hostname</arg>
</arguments>
<assign>
<var>${hostname}</var>
</assign>
<kw name="Run And Return Rc And Output" library="OperatingSystem">
<doc>Runs the given command in the system and returns the RC and output.</doc>
<arguments>
<arg>${command}</arg>
</arguments>
<assign>
<var>${rc}</var>
<var>${output}</var>
</assign>
<msg timestamp="20190830 01:12:50.428" level="INFO">Running command 'hostname 2&gt;&amp;1'.</msg>
<msg timestamp="20190830 01:12:50.436" level="INFO">${rc} = 0</msg>
<msg timestamp="20190830 01:12:50.436" level="INFO">${output} = s3g</msg>
<status status="PASS" endtime="20190830 01:12:50.436" starttime="20190830 01:12:50.426"></status>
</kw>
<kw name="Log" library="BuiltIn">
<doc>Logs the given message with the given level.</doc>
<arguments>
<arg>${output}</arg>
</arguments>
<msg timestamp="20190830 01:12:50.438" level="INFO">s3g</msg>
<status status="PASS" endtime="20190830 01:12:50.438" starttime="20190830 01:12:50.437"></status>
</kw>
<kw name="Should Be Equal As Integers" library="BuiltIn">
<doc>Fails if objects are unequal after converting them to integers.</doc>
<arguments>
<arg>${rc}</arg>
<arg>0</arg>
</arguments>
<msg timestamp="20190830 01:12:50.439" level="INFO">Argument types are:
&lt;type 'int'&gt;
&lt;type 'unicode'&gt;</msg>
<status status="PASS" endtime="20190830 01:12:50.439" starttime="20190830 01:12:50.439"></status>
</kw>
<msg timestamp="20190830 01:12:50.440" level="INFO">${hostname} = s3g</msg>
<status status="PASS" endtime="20190830 01:12:50.440" starttime="20190830 01:12:50.425"></status>
</kw>
<kw name="Set Suite Variable" library="BuiltIn">
<doc>Makes a variable available everywhere within the scope of the current suite.</doc>
<arguments>
<arg>${TEST_USER}</arg>
<arg>${user}/${hostname}@EXAMPLE.COM</arg>
</arguments>
<msg timestamp="20190830 01:12:50.442" level="INFO">${TEST_USER} = testuser/s3g@EXAMPLE.COM</msg>
<status status="PASS" endtime="20190830 01:12:50.442" starttime="20190830 01:12:50.440"></status>
</kw>
<kw name="Wait Until Keyword Succeeds" library="BuiltIn">
<doc>Runs the specified keyword and retries if it fails.</doc>
<arguments>
<arg>2min</arg>
<arg>10sec</arg>
<arg>Execute</arg>
<arg>kinit -k ${user}/${hostname}@EXAMPLE.COM -t /etc/security/keytabs/${keytab}</arg>
</arguments>
<kw name="Execute" library="commonlib">
<arguments>
<arg>kinit -k ${user}/${hostname}@EXAMPLE.COM -t /etc/security/keytabs/${keytab}</arg>
</arguments>
<kw name="Run And Return Rc And Output" library="OperatingSystem">
<doc>Runs the given command in the system and returns the RC and output.</doc>
<arguments>
<arg>${command}</arg>
</arguments>
<assign>
<var>${rc}</var>
<var>${output}</var>
</assign>
<msg timestamp="20190830 01:12:50.446" level="INFO">Running command 'kinit -k testuser/s3g@EXAMPLE.COM -t /etc/security/keytabs/testuser.keytab 2&gt;&amp;1'.</msg>
<msg timestamp="20190830 01:12:50.463" level="INFO">${rc} = 0</msg>
<msg timestamp="20190830 01:12:50.464" level="INFO">${output} = </msg>
<status status="PASS" endtime="20190830 01:12:50.464" starttime="20190830 01:12:50.444"></status>
</kw>
<kw name="Log" library="BuiltIn">
<doc>Logs the given message with the given level.</doc>
<arguments>
<arg>${output}</arg>
</arguments>
<msg timestamp="20190830 01:12:50.465" level="INFO"></msg>
<status status="PASS" endtime="20190830 01:12:50.465" starttime="20190830 01:12:50.464"></status>
</kw>
<kw name="Should Be Equal As Integers" library="BuiltIn">
<doc>Fails if objects are unequal after converting them to integers.</doc>
<arguments>
<arg>${rc}</arg>
<arg>0</arg>
</arguments>
<msg timestamp="20190830 01:12:50.466" level="INFO">Argument types are:
&lt;type 'int'&gt;
&lt;type 'unicode'&gt;</msg>
<status status="PASS" endtime="20190830 01:12:50.467" starttime="20190830 01:12:50.466"></status>
</kw>
<status status="PASS" endtime="20190830 01:12:50.467" starttime="20190830 01:12:50.443"></status>
</kw>
<status status="PASS" endtime="20190830 01:12:50.467" starttime="20190830 01:12:50.442"></status>
</kw>
<status status="PASS" endtime="20190830 01:12:50.468" starttime="20190830 01:12:50.424"></status>
</kw>
<status status="PASS" endtime="20190830 01:12:50.468" starttime="20190830 01:12:50.423"></status>
</kw>
<kw name="Execute" library="commonlib">
<arguments>
<arg>ozone s3 getsecret</arg>
</arguments>
<assign>
<var>${result}</var>
</assign>
<kw name="Run And Return Rc And Output" library="OperatingSystem">
<doc>Runs the given command in the system and returns the RC and output.</doc>
<arguments>
<arg>${command}</arg>
</arguments>
<assign>
<var>${rc}</var>
<var>${output}</var>
</assign>
<msg timestamp="20190830 01:12:50.471" level="INFO">Running command 'ozone s3 getsecret 2&gt;&amp;1'.</msg>
<msg timestamp="20190830 01:12:51.969" level="INFO">${rc} = 255</msg>
<msg timestamp="20190830 01:12:51.970" level="INFO">${output} = WARNING: An illegal reflective access operation has occurred
WARNING: Illegal reflective access by org.apache.hadoop.security.authentication.util.KerberosUtil (file:/opt/hadoop/share/ozone/lib/hadoop-...</msg>
<status status="PASS" endtime="20190830 01:12:51.970" starttime="20190830 01:12:50.469"></status>
</kw>
<kw name="Log" library="BuiltIn">
<doc>Logs the given message with the given level.</doc>
<arguments>
<arg>${output}</arg>
</arguments>
<msg timestamp="20190830 01:12:51.971" level="INFO">WARNING: An illegal reflective access operation has occurred
WARNING: Illegal reflective access by org.apache.hadoop.security.authentication.util.KerberosUtil (file:/opt/hadoop/share/ozone/lib/hadoop-auth-3.2.0.jar) to method sun.security.krb5.Config.getInstance()
WARNING: Please consider reporting this to the maintainers of org.apache.hadoop.security.authentication.util.KerberosUtil
WARNING: Use --illegal-access=warn to enable warnings of further illegal reflective access operations
WARNING: All illegal access operations will be denied in a future release
2019-08-30 01:12:51 ERROR OzoneClientFactory:192 - Couldn't create RpcClient protocol exception: 
java.lang.IllegalArgumentException: java.net.UnknownHostException: om
	at org.apache.hadoop.security.SecurityUtil.buildTokenService(SecurityUtil.java:447)
	at org.apache.hadoop.ozone.om.ha.OMProxyInfo.&lt;init&gt;(OMProxyInfo.java:40)
	at org.apache.hadoop.ozone.om.ha.OMFailoverProxyProvider.loadOMClientConfigs(OMFailoverProxyProvider.java:109)
	at org.apache.hadoop.ozone.om.ha.OMFailoverProxyProvider.&lt;init&gt;(OMFailoverProxyProvider.java:77)
	at org.apache.hadoop.ozone.om.protocolPB.OzoneManagerProtocolClientSideTranslatorPB.&lt;init&gt;(OzoneManagerProtocolClientSideTranslatorPB.java:195)
	at org.apache.hadoop.ozone.client.rpc.RpcClient.&lt;init&gt;(RpcClient.java:155)
	at org.apache.hadoop.ozone.client.OzoneClientFactory.getClientProtocol(OzoneClientFactory.java:189)
	at org.apache.hadoop.ozone.client.OzoneClientFactory.getRpcClient(OzoneClientFactory.java:152)
	at org.apache.hadoop.ozone.web.ozShell.OzoneAddress.createClient(OzoneAddress.java:102)
	at org.apache.hadoop.ozone.web.ozShell.s3.GetS3SecretHandler.call(GetS3SecretHandler.java:45)
	at org.apache.hadoop.ozone.web.ozShell.s3.GetS3SecretHandler.call(GetS3SecretHandler.java:32)
	at picocli.CommandLine.execute(CommandLine.java:1173)
	at picocli.CommandLine.access$800(CommandLine.java:141)
	at picocli.CommandLine$RunLast.handle(CommandLine.java:1367)
	at picocli.CommandLine$RunLast.handle(CommandLine.java:1335)
	at picocli.CommandLine$AbstractParseResultHandler.handleParseResult(CommandLine.java:1243)
	at picocli.CommandLine.parseWithHandlers(CommandLine.java:1526)
	at picocli.CommandLine.parseWithHandler(CommandLine.java:1465)
	at org.apache.hadoop.hdds.cli.GenericCli.execute(GenericCli.java:65)
	at org.apache.hadoop.ozone.web.ozShell.s3.S3Shell.execute(S3Shell.java:43)
	at org.apache.hadoop.hdds.cli.GenericCli.run(GenericCli.java:56)
	at org.apache.hadoop.ozone.web.ozShell.s3.S3Shell.main(S3Shell.java:54)
Caused by: java.net.UnknownHostException: om
	... 22 more
om</msg>
<status status="PASS" endtime="20190830 01:12:51.972" starttime="20190830 01:12:51.971"></status>
</kw>
<kw name="Should Be Equal As Integers" library="BuiltIn">
<doc>Fails if objects are unequal after converting them to integers.</doc>
<arguments>
<arg>${rc}</arg>
<arg>0</arg>
</arguments>
<msg timestamp="20190830 01:12:51.972" level="INFO">Argument types are:
&lt;type 'int'&gt;
&lt;type 'unicode'&gt;</msg>
<msg timestamp="20190830 01:12:51.973" level="FAIL">255 != 0</msg>
<status status="FAIL" endtime="20190830 01:12:51.973" starttime="20190830 01:12:51.972"></status>
</kw>
<status status="FAIL" endtime="20190830 01:12:51.973" starttime="20190830 01:12:50.468"></status>
</kw>
<status status="FAIL" endtime="20190830 01:12:51.974" starttime="20190830 01:12:50.422"></status>
</kw>
<status status="FAIL" endtime="20190830 01:12:51.974" starttime="20190830 01:12:50.421"></status>
</kw>
<status status="FAIL" endtime="20190830 01:12:51.974" starttime="20190830 01:12:49.693"></status>
</kw>
<status status="FAIL" endtime="20190830 01:12:51.974" critical="yes" starttime="20190830 01:12:49.692">Setup failed:
255 != 0</status>
</test>
<test id="s1-s7-t4" name="Delete file with s3api, file doesn't exist, prefix of a real file">
<kw type="setup" name="Setup s3 tests" library="commonawslib">
<kw name="Run Keyword" library="BuiltIn">
<doc>Executes the given keyword with the given arguments.</doc>
<arguments>
<arg>Install aws cli</arg>
</arguments>
<kw name="Install aws cli" library="commonlib">
<kw name="Run And Return Rc And Output" library="OperatingSystem">
<doc>Runs the given command in the system and returns the RC and output.</doc>
<arguments>
<arg>which apt-get</arg>
</arguments>
<assign>
<var>${rc}</var>
<var>${output}</var>
</assign>
<msg timestamp="20190830 01:12:51.980" level="INFO">Running command 'which apt-get 2&gt;&amp;1'.</msg>
<msg timestamp="20190830 01:12:51.987" level="INFO">${rc} = 1</msg>
<msg timestamp="20190830 01:12:51.987" level="INFO">${output} = which: no apt-get in (/opt/hadoop/bin/docker:/usr/local/sbin:/usr/local/bin:/usr/sbin:/usr/bin:/sbin:/bin:/opt/hadoop/bin)</msg>
<status status="PASS" endtime="20190830 01:12:51.987" starttime="20190830 01:12:51.978"></status>
</kw>
<kw name="Run Keyword If" library="BuiltIn">
<doc>Runs the given keyword with the given arguments, if ``condition`` is true.</doc>
<arguments>
<arg>'${rc}' == '0'</arg>
<arg>Install aws cli s3 debian</arg>
</arguments>
<status status="PASS" endtime="20190830 01:12:51.989" starttime="20190830 01:12:51.988"></status>
</kw>
<kw name="Run And Return Rc And Output" library="OperatingSystem">
<doc>Runs the given command in the system and returns the RC and output.</doc>
<arguments>
<arg>yum --help</arg>
</arguments>
<assign>
<var>${rc}</var>
<var>${output}</var>
</assign>
<msg timestamp="20190830 01:12:51.992" level="INFO">Running command 'yum --help 2&gt;&amp;1'.</msg>
<msg timestamp="20190830 01:12:52.179" level="INFO">${rc} = 0</msg>
<msg timestamp="20190830 01:12:52.179" level="INFO">${output} = Loaded plugins: fastestmirror, ovl
ovl: Error while doing RPMdb copy-up:
[Errno 13] Permission denied: '/var/lib/rpm/Group'
Usage: yum [options] COMMAND

List of Commands:

check          Check for pr...</msg>
<status status="PASS" endtime="20190830 01:12:52.180" starttime="20190830 01:12:51.990"></status>
</kw>
<kw name="Run Keyword If" library="BuiltIn">
<doc>Runs the given keyword with the given arguments, if ``condition`` is true.</doc>
<arguments>
<arg>'${rc}' == '0'</arg>
<arg>Install aws cli s3 centos</arg>
</arguments>
<kw name="Install aws cli s3 centos" library="commonawslib">
<kw name="Execute" library="commonlib">
<arguments>
<arg>sudo yum install -y awscli</arg>
</arguments>
<kw name="Run And Return Rc And Output" library="OperatingSystem">
<doc>Runs the given command in the system and returns the RC and output.</doc>
<arguments>
<arg>${command}</arg>
</arguments>
<assign>
<var>${rc}</var>
<var>${output}</var>
</assign>
<msg timestamp="20190830 01:12:52.185" level="INFO">Running command 'sudo yum install -y awscli 2&gt;&amp;1'.</msg>
<msg timestamp="20190830 01:12:52.729" level="INFO">${rc} = 0</msg>
<msg timestamp="20190830 01:12:52.729" level="INFO">${output} = Loaded plugins: fastestmirror, ovl
Loading mirror speeds from cached hostfile
 * base: mirror.sjc02.svwh.net
 * epel: sjc.edge.kernel.org
 * extras: sjc.edge.kernel.org
 * updates: sjc.edge.kernel.org...</msg>
<status status="PASS" endtime="20190830 01:12:52.729" starttime="20190830 01:12:52.183"></status>
</kw>
<kw name="Log" library="BuiltIn">
<doc>Logs the given message with the given level.</doc>
<arguments>
<arg>${output}</arg>
</arguments>
<msg timestamp="20190830 01:12:52.731" level="INFO">Loaded plugins: fastestmirror, ovl
Loading mirror speeds from cached hostfile
 * base: mirror.sjc02.svwh.net
 * epel: sjc.edge.kernel.org
 * extras: sjc.edge.kernel.org
 * updates: sjc.edge.kernel.org
Package awscli-1.14.28-5.el7_5.1.noarch already installed and latest version
Nothing to do</msg>
<status status="PASS" endtime="20190830 01:12:52.731" starttime="20190830 01:12:52.730"></status>
</kw>
<kw name="Should Be Equal As Integers" library="BuiltIn">
<doc>Fails if objects are unequal after converting them to integers.</doc>
<arguments>
<arg>${rc}</arg>
<arg>0</arg>
</arguments>
<msg timestamp="20190830 01:12:52.732" level="INFO">Argument types are:
&lt;type 'int'&gt;
&lt;type 'unicode'&gt;</msg>
<status status="PASS" endtime="20190830 01:12:52.732" starttime="20190830 01:12:52.731"></status>
</kw>
<status status="PASS" endtime="20190830 01:12:52.733" starttime="20190830 01:12:52.182"></status>
</kw>
<status status="PASS" endtime="20190830 01:12:52.733" starttime="20190830 01:12:52.182"></status>
</kw>
<status status="PASS" endtime="20190830 01:12:52.733" starttime="20190830 01:12:52.180"></status>
</kw>
<status status="PASS" endtime="20190830 01:12:52.733" starttime="20190830 01:12:51.977"></status>
</kw>
<status status="PASS" endtime="20190830 01:12:52.733" starttime="20190830 01:12:51.977"></status>
</kw>
<kw name="Run Keyword If" library="BuiltIn">
<doc>Runs the given keyword with the given arguments, if ``condition`` is true.</doc>
<arguments>
<arg>'${OZONE_S3_SET_CREDENTIALS}' == 'true'</arg>
<arg>Setup v4 headers</arg>
</arguments>
<kw name="Setup v4 headers" library="commonawslib">
<kw name="Run Keyword If" library="BuiltIn">
<doc>Runs the given keyword with the given arguments, if ``condition`` is true.</doc>
<arguments>
<arg>'${SECURITY_ENABLED}' == 'true'</arg>
<arg>Kinit test user</arg>
<arg>testuser</arg>
<arg>testuser.keytab</arg>
</arguments>
<kw name="Kinit test user" library="commonlib">
<arguments>
<arg>testuser</arg>
<arg>testuser.keytab</arg>
</arguments>
<kw name="Execute" library="commonlib">
<arguments>
<arg>hostname</arg>
</arguments>
<assign>
<var>${hostname}</var>
</assign>
<kw name="Run And Return Rc And Output" library="OperatingSystem">
<doc>Runs the given command in the system and returns the RC and output.</doc>
<arguments>
<arg>${command}</arg>
</arguments>
<assign>
<var>${rc}</var>
<var>${output}</var>
</assign>
<msg timestamp="20190830 01:12:52.740" level="INFO">Running command 'hostname 2&gt;&amp;1'.</msg>
<msg timestamp="20190830 01:12:52.748" level="INFO">${rc} = 0</msg>
<msg timestamp="20190830 01:12:52.748" level="INFO">${output} = s3g</msg>
<status status="PASS" endtime="20190830 01:12:52.748" starttime="20190830 01:12:52.738"></status>
</kw>
<kw name="Log" library="BuiltIn">
<doc>Logs the given message with the given level.</doc>
<arguments>
<arg>${output}</arg>
</arguments>
<msg timestamp="20190830 01:12:52.750" level="INFO">s3g</msg>
<status status="PASS" endtime="20190830 01:12:52.750" starttime="20190830 01:12:52.749"></status>
</kw>
<kw name="Should Be Equal As Integers" library="BuiltIn">
<doc>Fails if objects are unequal after converting them to integers.</doc>
<arguments>
<arg>${rc}</arg>
<arg>0</arg>
</arguments>
<msg timestamp="20190830 01:12:52.751" level="INFO">Argument types are:
&lt;type 'int'&gt;
&lt;type 'unicode'&gt;</msg>
<status status="PASS" endtime="20190830 01:12:52.751" starttime="20190830 01:12:52.750"></status>
</kw>
<msg timestamp="20190830 01:12:52.752" level="INFO">${hostname} = s3g</msg>
<status status="PASS" endtime="20190830 01:12:52.752" starttime="20190830 01:12:52.737"></status>
</kw>
<kw name="Set Suite Variable" library="BuiltIn">
<doc>Makes a variable available everywhere within the scope of the current suite.</doc>
<arguments>
<arg>${TEST_USER}</arg>
<arg>${user}/${hostname}@EXAMPLE.COM</arg>
</arguments>
<msg timestamp="20190830 01:12:52.754" level="INFO">${TEST_USER} = testuser/s3g@EXAMPLE.COM</msg>
<status status="PASS" endtime="20190830 01:12:52.754" starttime="20190830 01:12:52.753"></status>
</kw>
<kw name="Wait Until Keyword Succeeds" library="BuiltIn">
<doc>Runs the specified keyword and retries if it fails.</doc>
<arguments>
<arg>2min</arg>
<arg>10sec</arg>
<arg>Execute</arg>
<arg>kinit -k ${user}/${hostname}@EXAMPLE.COM -t /etc/security/keytabs/${keytab}</arg>
</arguments>
<kw name="Execute" library="commonlib">
<arguments>
<arg>kinit -k ${user}/${hostname}@EXAMPLE.COM -t /etc/security/keytabs/${keytab}</arg>
</arguments>
<kw name="Run And Return Rc And Output" library="OperatingSystem">
<doc>Runs the given command in the system and returns the RC and output.</doc>
<arguments>
<arg>${command}</arg>
</arguments>
<assign>
<var>${rc}</var>
<var>${output}</var>
</assign>
<msg timestamp="20190830 01:12:52.759" level="INFO">Running command 'kinit -k testuser/s3g@EXAMPLE.COM -t /etc/security/keytabs/testuser.keytab 2&gt;&amp;1'.</msg>
<msg timestamp="20190830 01:12:52.772" level="INFO">${rc} = 0</msg>
<msg timestamp="20190830 01:12:52.773" level="INFO">${output} = </msg>
<status status="PASS" endtime="20190830 01:12:52.773" starttime="20190830 01:12:52.756"></status>
</kw>
<kw name="Log" library="BuiltIn">
<doc>Logs the given message with the given level.</doc>
<arguments>
<arg>${output}</arg>
</arguments>
<msg timestamp="20190830 01:12:52.774" level="INFO"></msg>
<status status="PASS" endtime="20190830 01:12:52.774" starttime="20190830 01:12:52.773"></status>
</kw>
<kw name="Should Be Equal As Integers" library="BuiltIn">
<doc>Fails if objects are unequal after converting them to integers.</doc>
<arguments>
<arg>${rc}</arg>
<arg>0</arg>
</arguments>
<msg timestamp="20190830 01:12:52.775" level="INFO">Argument types are:
&lt;type 'int'&gt;
&lt;type 'unicode'&gt;</msg>
<status status="PASS" endtime="20190830 01:12:52.775" starttime="20190830 01:12:52.775"></status>
</kw>
<status status="PASS" endtime="20190830 01:12:52.776" starttime="20190830 01:12:52.755"></status>
</kw>
<status status="PASS" endtime="20190830 01:12:52.776" starttime="20190830 01:12:52.754"></status>
</kw>
<status status="PASS" endtime="20190830 01:12:52.776" starttime="20190830 01:12:52.736"></status>
</kw>
<status status="PASS" endtime="20190830 01:12:52.776" starttime="20190830 01:12:52.735"></status>
</kw>
<kw name="Execute" library="commonlib">
<arguments>
<arg>ozone s3 getsecret</arg>
</arguments>
<assign>
<var>${result}</var>
</assign>
<kw name="Run And Return Rc And Output" library="OperatingSystem">
<doc>Runs the given command in the system and returns the RC and output.</doc>
<arguments>
<arg>${command}</arg>
</arguments>
<assign>
<var>${rc}</var>
<var>${output}</var>
</assign>
<msg timestamp="20190830 01:12:52.780" level="INFO">Running command 'ozone s3 getsecret 2&gt;&amp;1'.</msg>
<msg timestamp="20190830 01:12:54.236" level="INFO">${rc} = 255</msg>
<msg timestamp="20190830 01:12:54.236" level="INFO">${output} = WARNING: An illegal reflective access operation has occurred
WARNING: Illegal reflective access by org.apache.hadoop.security.authentication.util.KerberosUtil (file:/opt/hadoop/share/ozone/lib/hadoop-...</msg>
<status status="PASS" endtime="20190830 01:12:54.236" starttime="20190830 01:12:52.778"></status>
</kw>
<kw name="Log" library="BuiltIn">
<doc>Logs the given message with the given level.</doc>
<arguments>
<arg>${output}</arg>
</arguments>
<msg timestamp="20190830 01:12:54.238" level="INFO">WARNING: An illegal reflective access operation has occurred
WARNING: Illegal reflective access by org.apache.hadoop.security.authentication.util.KerberosUtil (file:/opt/hadoop/share/ozone/lib/hadoop-auth-3.2.0.jar) to method sun.security.krb5.Config.getInstance()
WARNING: Please consider reporting this to the maintainers of org.apache.hadoop.security.authentication.util.KerberosUtil
WARNING: Use --illegal-access=warn to enable warnings of further illegal reflective access operations
WARNING: All illegal access operations will be denied in a future release
2019-08-30 01:12:54 ERROR OzoneClientFactory:192 - Couldn't create RpcClient protocol exception: 
java.lang.IllegalArgumentException: java.net.UnknownHostException: om
	at org.apache.hadoop.security.SecurityUtil.buildTokenService(SecurityUtil.java:447)
	at org.apache.hadoop.ozone.om.ha.OMProxyInfo.&lt;init&gt;(OMProxyInfo.java:40)
	at org.apache.hadoop.ozone.om.ha.OMFailoverProxyProvider.loadOMClientConfigs(OMFailoverProxyProvider.java:109)
	at org.apache.hadoop.ozone.om.ha.OMFailoverProxyProvider.&lt;init&gt;(OMFailoverProxyProvider.java:77)
	at org.apache.hadoop.ozone.om.protocolPB.OzoneManagerProtocolClientSideTranslatorPB.&lt;init&gt;(OzoneManagerProtocolClientSideTranslatorPB.java:195)
	at org.apache.hadoop.ozone.client.rpc.RpcClient.&lt;init&gt;(RpcClient.java:155)
	at org.apache.hadoop.ozone.client.OzoneClientFactory.getClientProtocol(OzoneClientFactory.java:189)
	at org.apache.hadoop.ozone.client.OzoneClientFactory.getRpcClient(OzoneClientFactory.java:152)
	at org.apache.hadoop.ozone.web.ozShell.OzoneAddress.createClient(OzoneAddress.java:102)
	at org.apache.hadoop.ozone.web.ozShell.s3.GetS3SecretHandler.call(GetS3SecretHandler.java:45)
	at org.apache.hadoop.ozone.web.ozShell.s3.GetS3SecretHandler.call(GetS3SecretHandler.java:32)
	at picocli.CommandLine.execute(CommandLine.java:1173)
	at picocli.CommandLine.access$800(CommandLine.java:141)
	at picocli.CommandLine$RunLast.handle(CommandLine.java:1367)
	at picocli.CommandLine$RunLast.handle(CommandLine.java:1335)
	at picocli.CommandLine$AbstractParseResultHandler.handleParseResult(CommandLine.java:1243)
	at picocli.CommandLine.parseWithHandlers(CommandLine.java:1526)
	at picocli.CommandLine.parseWithHandler(CommandLine.java:1465)
	at org.apache.hadoop.hdds.cli.GenericCli.execute(GenericCli.java:65)
	at org.apache.hadoop.ozone.web.ozShell.s3.S3Shell.execute(S3Shell.java:43)
	at org.apache.hadoop.hdds.cli.GenericCli.run(GenericCli.java:56)
	at org.apache.hadoop.ozone.web.ozShell.s3.S3Shell.main(S3Shell.java:54)
Caused by: java.net.UnknownHostException: om
	... 22 more
om</msg>
<status status="PASS" endtime="20190830 01:12:54.238" starttime="20190830 01:12:54.237"></status>
</kw>
<kw name="Should Be Equal As Integers" library="BuiltIn">
<doc>Fails if objects are unequal after converting them to integers.</doc>
<arguments>
<arg>${rc}</arg>
<arg>0</arg>
</arguments>
<msg timestamp="20190830 01:12:54.238" level="INFO">Argument types are:
&lt;type 'int'&gt;
&lt;type 'unicode'&gt;</msg>
<msg timestamp="20190830 01:12:54.239" level="FAIL">255 != 0</msg>
<status status="FAIL" endtime="20190830 01:12:54.239" starttime="20190830 01:12:54.238"></status>
</kw>
<status status="FAIL" endtime="20190830 01:12:54.239" starttime="20190830 01:12:52.777"></status>
</kw>
<status status="FAIL" endtime="20190830 01:12:54.240" starttime="20190830 01:12:52.735"></status>
</kw>
<status status="FAIL" endtime="20190830 01:12:54.240" starttime="20190830 01:12:52.734"></status>
</kw>
<status status="FAIL" endtime="20190830 01:12:54.240" starttime="20190830 01:12:51.976"></status>
</kw>
<status status="FAIL" endtime="20190830 01:12:54.240" critical="yes" starttime="20190830 01:12:51.975">Setup failed:
255 != 0</status>
</test>
<test id="s1-s7-t5" name="Delete file with s3api, bucket doesn't exist">
<kw type="setup" name="Setup s3 tests" library="commonawslib">
<kw name="Run Keyword" library="BuiltIn">
<doc>Executes the given keyword with the given arguments.</doc>
<arguments>
<arg>Install aws cli</arg>
</arguments>
<kw name="Install aws cli" library="commonlib">
<kw name="Run And Return Rc And Output" library="OperatingSystem">
<doc>Runs the given command in the system and returns the RC and output.</doc>
<arguments>
<arg>which apt-get</arg>
</arguments>
<assign>
<var>${rc}</var>
<var>${output}</var>
</assign>
<msg timestamp="20190830 01:12:54.245" level="INFO">Running command 'which apt-get 2&gt;&amp;1'.</msg>
<msg timestamp="20190830 01:12:54.251" level="INFO">${rc} = 1</msg>
<msg timestamp="20190830 01:12:54.251" level="INFO">${output} = which: no apt-get in (/opt/hadoop/bin/docker:/usr/local/sbin:/usr/local/bin:/usr/sbin:/usr/bin:/sbin:/bin:/opt/hadoop/bin)</msg>
<status status="PASS" endtime="20190830 01:12:54.252" starttime="20190830 01:12:54.243"></status>
</kw>
<kw name="Run Keyword If" library="BuiltIn">
<doc>Runs the given keyword with the given arguments, if ``condition`` is true.</doc>
<arguments>
<arg>'${rc}' == '0'</arg>
<arg>Install aws cli s3 debian</arg>
</arguments>
<status status="PASS" endtime="20190830 01:12:54.253" starttime="20190830 01:12:54.252"></status>
</kw>
<kw name="Run And Return Rc And Output" library="OperatingSystem">
<doc>Runs the given command in the system and returns the RC and output.</doc>
<arguments>
<arg>yum --help</arg>
</arguments>
<assign>
<var>${rc}</var>
<var>${output}</var>
</assign>
<msg timestamp="20190830 01:12:54.255" level="INFO">Running command 'yum --help 2&gt;&amp;1'.</msg>
<msg timestamp="20190830 01:12:54.421" level="INFO">${rc} = 0</msg>
<msg timestamp="20190830 01:12:54.422" level="INFO">${output} = Loaded plugins: fastestmirror, ovl
ovl: Error while doing RPMdb copy-up:
[Errno 13] Permission denied: '/var/lib/rpm/Group'
Usage: yum [options] COMMAND

List of Commands:

check          Check for pr...</msg>
<status status="PASS" endtime="20190830 01:12:54.422" starttime="20190830 01:12:54.253"></status>
</kw>
<kw name="Run Keyword If" library="BuiltIn">
<doc>Runs the given keyword with the given arguments, if ``condition`` is true.</doc>
<arguments>
<arg>'${rc}' == '0'</arg>
<arg>Install aws cli s3 centos</arg>
</arguments>
<kw name="Install aws cli s3 centos" library="commonawslib">
<kw name="Execute" library="commonlib">
<arguments>
<arg>sudo yum install -y awscli</arg>
</arguments>
<kw name="Run And Return Rc And Output" library="OperatingSystem">
<doc>Runs the given command in the system and returns the RC and output.</doc>
<arguments>
<arg>${command}</arg>
</arguments>
<assign>
<var>${rc}</var>
<var>${output}</var>
</assign>
<msg timestamp="20190830 01:12:54.429" level="INFO">Running command 'sudo yum install -y awscli 2&gt;&amp;1'.</msg>
<msg timestamp="20190830 01:12:54.851" level="INFO">${rc} = 0</msg>
<msg timestamp="20190830 01:12:54.851" level="INFO">${output} = Loaded plugins: fastestmirror, ovl
Loading mirror speeds from cached hostfile
 * base: mirror.sjc02.svwh.net
 * epel: sjc.edge.kernel.org
 * extras: sjc.edge.kernel.org
 * updates: sjc.edge.kernel.org...</msg>
<status status="PASS" endtime="20190830 01:12:54.852" starttime="20190830 01:12:54.426"></status>
</kw>
<kw name="Log" library="BuiltIn">
<doc>Logs the given message with the given level.</doc>
<arguments>
<arg>${output}</arg>
</arguments>
<msg timestamp="20190830 01:12:54.853" level="INFO">Loaded plugins: fastestmirror, ovl
Loading mirror speeds from cached hostfile
 * base: mirror.sjc02.svwh.net
 * epel: sjc.edge.kernel.org
 * extras: sjc.edge.kernel.org
 * updates: sjc.edge.kernel.org
Package awscli-1.14.28-5.el7_5.1.noarch already installed and latest version
Nothing to do</msg>
<status status="PASS" endtime="20190830 01:12:54.853" starttime="20190830 01:12:54.852"></status>
</kw>
<kw name="Should Be Equal As Integers" library="BuiltIn">
<doc>Fails if objects are unequal after converting them to integers.</doc>
<arguments>
<arg>${rc}</arg>
<arg>0</arg>
</arguments>
<msg timestamp="20190830 01:12:54.854" level="INFO">Argument types are:
&lt;type 'int'&gt;
&lt;type 'unicode'&gt;</msg>
<status status="PASS" endtime="20190830 01:12:54.855" starttime="20190830 01:12:54.854"></status>
</kw>
<status status="PASS" endtime="20190830 01:12:54.855" starttime="20190830 01:12:54.425"></status>
</kw>
<status status="PASS" endtime="20190830 01:12:54.855" starttime="20190830 01:12:54.424"></status>
</kw>
<status status="PASS" endtime="20190830 01:12:54.855" starttime="20190830 01:12:54.423"></status>
</kw>
<status status="PASS" endtime="20190830 01:12:54.856" starttime="20190830 01:12:54.242"></status>
</kw>
<status status="PASS" endtime="20190830 01:12:54.856" starttime="20190830 01:12:54.242"></status>
</kw>
<kw name="Run Keyword If" library="BuiltIn">
<doc>Runs the given keyword with the given arguments, if ``condition`` is true.</doc>
<arguments>
<arg>'${OZONE_S3_SET_CREDENTIALS}' == 'true'</arg>
<arg>Setup v4 headers</arg>
</arguments>
<kw name="Setup v4 headers" library="commonawslib">
<kw name="Run Keyword If" library="BuiltIn">
<doc>Runs the given keyword with the given arguments, if ``condition`` is true.</doc>
<arguments>
<arg>'${SECURITY_ENABLED}' == 'true'</arg>
<arg>Kinit test user</arg>
<arg>testuser</arg>
<arg>testuser.keytab</arg>
</arguments>
<kw name="Kinit test user" library="commonlib">
<arguments>
<arg>testuser</arg>
<arg>testuser.keytab</arg>
</arguments>
<kw name="Execute" library="commonlib">
<arguments>
<arg>hostname</arg>
</arguments>
<assign>
<var>${hostname}</var>
</assign>
<kw name="Run And Return Rc And Output" library="OperatingSystem">
<doc>Runs the given command in the system and returns the RC and output.</doc>
<arguments>
<arg>${command}</arg>
</arguments>
<assign>
<var>${rc}</var>
<var>${output}</var>
</assign>
<msg timestamp="20190830 01:12:54.862" level="INFO">Running command 'hostname 2&gt;&amp;1'.</msg>
<msg timestamp="20190830 01:12:54.870" level="INFO">${rc} = 0</msg>
<msg timestamp="20190830 01:12:54.870" level="INFO">${output} = s3g</msg>
<status status="PASS" endtime="20190830 01:12:54.870" starttime="20190830 01:12:54.860"></status>
</kw>
<kw name="Log" library="BuiltIn">
<doc>Logs the given message with the given level.</doc>
<arguments>
<arg>${output}</arg>
</arguments>
<msg timestamp="20190830 01:12:54.872" level="INFO">s3g</msg>
<status status="PASS" endtime="20190830 01:12:54.872" starttime="20190830 01:12:54.871"></status>
</kw>
<kw name="Should Be Equal As Integers" library="BuiltIn">
<doc>Fails if objects are unequal after converting them to integers.</doc>
<arguments>
<arg>${rc}</arg>
<arg>0</arg>
</arguments>
<msg timestamp="20190830 01:12:54.873" level="INFO">Argument types are:
&lt;type 'int'&gt;
&lt;type 'unicode'&gt;</msg>
<status status="PASS" endtime="20190830 01:12:54.873" starttime="20190830 01:12:54.873"></status>
</kw>
<msg timestamp="20190830 01:12:54.874" level="INFO">${hostname} = s3g</msg>
<status status="PASS" endtime="20190830 01:12:54.874" starttime="20190830 01:12:54.859"></status>
</kw>
<kw name="Set Suite Variable" library="BuiltIn">
<doc>Makes a variable available everywhere within the scope of the current suite.</doc>
<arguments>
<arg>${TEST_USER}</arg>
<arg>${user}/${hostname}@EXAMPLE.COM</arg>
</arguments>
<msg timestamp="20190830 01:12:54.876" level="INFO">${TEST_USER} = testuser/s3g@EXAMPLE.COM</msg>
<status status="PASS" endtime="20190830 01:12:54.876" starttime="20190830 01:12:54.875"></status>
</kw>
<kw name="Wait Until Keyword Succeeds" library="BuiltIn">
<doc>Runs the specified keyword and retries if it fails.</doc>
<arguments>
<arg>2min</arg>
<arg>10sec</arg>
<arg>Execute</arg>
<arg>kinit -k ${user}/${hostname}@EXAMPLE.COM -t /etc/security/keytabs/${keytab}</arg>
</arguments>
<kw name="Execute" library="commonlib">
<arguments>
<arg>kinit -k ${user}/${hostname}@EXAMPLE.COM -t /etc/security/keytabs/${keytab}</arg>
</arguments>
<kw name="Run And Return Rc And Output" library="OperatingSystem">
<doc>Runs the given command in the system and returns the RC and output.</doc>
<arguments>
<arg>${command}</arg>
</arguments>
<assign>
<var>${rc}</var>
<var>${output}</var>
</assign>
<msg timestamp="20190830 01:12:54.880" level="INFO">Running command 'kinit -k testuser/s3g@EXAMPLE.COM -t /etc/security/keytabs/testuser.keytab 2&gt;&amp;1'.</msg>
<msg timestamp="20190830 01:12:54.895" level="INFO">${rc} = 0</msg>
<msg timestamp="20190830 01:12:54.895" level="INFO">${output} = </msg>
<status status="PASS" endtime="20190830 01:12:54.895" starttime="20190830 01:12:54.878"></status>
</kw>
<kw name="Log" library="BuiltIn">
<doc>Logs the given message with the given level.</doc>
<arguments>
<arg>${output}</arg>
</arguments>
<msg timestamp="20190830 01:12:54.896" level="INFO"></msg>
<status status="PASS" endtime="20190830 01:12:54.896" starttime="20190830 01:12:54.895"></status>
</kw>
<kw name="Should Be Equal As Integers" library="BuiltIn">
<doc>Fails if objects are unequal after converting them to integers.</doc>
<arguments>
<arg>${rc}</arg>
<arg>0</arg>
</arguments>
<msg timestamp="20190830 01:12:54.897" level="INFO">Argument types are:
&lt;type 'int'&gt;
&lt;type 'unicode'&gt;</msg>
<status status="PASS" endtime="20190830 01:12:54.898" starttime="20190830 01:12:54.897"></status>
</kw>
<status status="PASS" endtime="20190830 01:12:54.898" starttime="20190830 01:12:54.877"></status>
</kw>
<status status="PASS" endtime="20190830 01:12:54.898" starttime="20190830 01:12:54.876"></status>
</kw>
<status status="PASS" endtime="20190830 01:12:54.898" starttime="20190830 01:12:54.859"></status>
</kw>
<status status="PASS" endtime="20190830 01:12:54.898" starttime="20190830 01:12:54.858"></status>
</kw>
<kw name="Execute" library="commonlib">
<arguments>
<arg>ozone s3 getsecret</arg>
</arguments>
<assign>
<var>${result}</var>
</assign>
<kw name="Run And Return Rc And Output" library="OperatingSystem">
<doc>Runs the given command in the system and returns the RC and output.</doc>
<arguments>
<arg>${command}</arg>
</arguments>
<assign>
<var>${rc}</var>
<var>${output}</var>
</assign>
<msg timestamp="20190830 01:12:54.901" level="INFO">Running command 'ozone s3 getsecret 2&gt;&amp;1'.</msg>
<msg timestamp="20190830 01:12:56.321" level="INFO">${rc} = 255</msg>
<msg timestamp="20190830 01:12:56.321" level="INFO">${output} = WARNING: An illegal reflective access operation has occurred
WARNING: Illegal reflective access by org.apache.hadoop.security.authentication.util.KerberosUtil (file:/opt/hadoop/share/ozone/lib/hadoop-...</msg>
<status status="PASS" endtime="20190830 01:12:56.321" starttime="20190830 01:12:54.900"></status>
</kw>
<kw name="Log" library="BuiltIn">
<doc>Logs the given message with the given level.</doc>
<arguments>
<arg>${output}</arg>
</arguments>
<msg timestamp="20190830 01:12:56.323" level="INFO">WARNING: An illegal reflective access operation has occurred
WARNING: Illegal reflective access by org.apache.hadoop.security.authentication.util.KerberosUtil (file:/opt/hadoop/share/ozone/lib/hadoop-auth-3.2.0.jar) to method sun.security.krb5.Config.getInstance()
WARNING: Please consider reporting this to the maintainers of org.apache.hadoop.security.authentication.util.KerberosUtil
WARNING: Use --illegal-access=warn to enable warnings of further illegal reflective access operations
WARNING: All illegal access operations will be denied in a future release
2019-08-30 01:12:56 ERROR OzoneClientFactory:192 - Couldn't create RpcClient protocol exception: 
java.lang.IllegalArgumentException: java.net.UnknownHostException: om
	at org.apache.hadoop.security.SecurityUtil.buildTokenService(SecurityUtil.java:447)
	at org.apache.hadoop.ozone.om.ha.OMProxyInfo.&lt;init&gt;(OMProxyInfo.java:40)
	at org.apache.hadoop.ozone.om.ha.OMFailoverProxyProvider.loadOMClientConfigs(OMFailoverProxyProvider.java:109)
	at org.apache.hadoop.ozone.om.ha.OMFailoverProxyProvider.&lt;init&gt;(OMFailoverProxyProvider.java:77)
	at org.apache.hadoop.ozone.om.protocolPB.OzoneManagerProtocolClientSideTranslatorPB.&lt;init&gt;(OzoneManagerProtocolClientSideTranslatorPB.java:195)
	at org.apache.hadoop.ozone.client.rpc.RpcClient.&lt;init&gt;(RpcClient.java:155)
	at org.apache.hadoop.ozone.client.OzoneClientFactory.getClientProtocol(OzoneClientFactory.java:189)
	at org.apache.hadoop.ozone.client.OzoneClientFactory.getRpcClient(OzoneClientFactory.java:152)
	at org.apache.hadoop.ozone.web.ozShell.OzoneAddress.createClient(OzoneAddress.java:102)
	at org.apache.hadoop.ozone.web.ozShell.s3.GetS3SecretHandler.call(GetS3SecretHandler.java:45)
	at org.apache.hadoop.ozone.web.ozShell.s3.GetS3SecretHandler.call(GetS3SecretHandler.java:32)
	at picocli.CommandLine.execute(CommandLine.java:1173)
	at picocli.CommandLine.access$800(CommandLine.java:141)
	at picocli.CommandLine$RunLast.handle(CommandLine.java:1367)
	at picocli.CommandLine$RunLast.handle(CommandLine.java:1335)
	at picocli.CommandLine$AbstractParseResultHandler.handleParseResult(CommandLine.java:1243)
	at picocli.CommandLine.parseWithHandlers(CommandLine.java:1526)
	at picocli.CommandLine.parseWithHandler(CommandLine.java:1465)
	at org.apache.hadoop.hdds.cli.GenericCli.execute(GenericCli.java:65)
	at org.apache.hadoop.ozone.web.ozShell.s3.S3Shell.execute(S3Shell.java:43)
	at org.apache.hadoop.hdds.cli.GenericCli.run(GenericCli.java:56)
	at org.apache.hadoop.ozone.web.ozShell.s3.S3Shell.main(S3Shell.java:54)
Caused by: java.net.UnknownHostException: om
	... 22 more
om</msg>
<status status="PASS" endtime="20190830 01:12:56.323" starttime="20190830 01:12:56.322"></status>
</kw>
<kw name="Should Be Equal As Integers" library="BuiltIn">
<doc>Fails if objects are unequal after converting them to integers.</doc>
<arguments>
<arg>${rc}</arg>
<arg>0</arg>
</arguments>
<msg timestamp="20190830 01:12:56.324" level="INFO">Argument types are:
&lt;type 'int'&gt;
&lt;type 'unicode'&gt;</msg>
<msg timestamp="20190830 01:12:56.324" level="FAIL">255 != 0</msg>
<status status="FAIL" endtime="20190830 01:12:56.324" starttime="20190830 01:12:56.323"></status>
</kw>
<status status="FAIL" endtime="20190830 01:12:56.325" starttime="20190830 01:12:54.899"></status>
</kw>
<status status="FAIL" endtime="20190830 01:12:56.325" starttime="20190830 01:12:54.857"></status>
</kw>
<status status="FAIL" endtime="20190830 01:12:56.325" starttime="20190830 01:12:54.856"></status>
</kw>
<status status="FAIL" endtime="20190830 01:12:56.325" starttime="20190830 01:12:54.242"></status>
</kw>
<status status="FAIL" endtime="20190830 01:12:56.326" critical="yes" starttime="20190830 01:12:54.241">Setup failed:
255 != 0</status>
</test>
<doc>S3 gateway test with aws cli</doc>
<status status="FAIL" endtime="20190830 01:12:56.328" starttime="20190830 01:12:45.277"></status>
</suite>
<suite source="/opt/hadoop/smoketest/s3/objectmultidelete.robot" id="s1-s8" name="Objectmultidelete">
<test id="s1-s8-t1" name="Delete file with multi delete">
<kw type="setup" name="Setup s3 tests" library="commonawslib">
<kw name="Run Keyword" library="BuiltIn">
<doc>Executes the given keyword with the given arguments.</doc>
<arguments>
<arg>Install aws cli</arg>
</arguments>
<kw name="Install aws cli" library="commonlib">
<kw name="Run And Return Rc And Output" library="OperatingSystem">
<doc>Runs the given command in the system and returns the RC and output.</doc>
<arguments>
<arg>which apt-get</arg>
</arguments>
<assign>
<var>${rc}</var>
<var>${output}</var>
</assign>
<msg timestamp="20190830 01:12:56.344" level="INFO">Running command 'which apt-get 2&gt;&amp;1'.</msg>
<msg timestamp="20190830 01:12:56.351" level="INFO">${rc} = 1</msg>
<msg timestamp="20190830 01:12:56.351" level="INFO">${output} = which: no apt-get in (/opt/hadoop/bin/docker:/usr/local/sbin:/usr/local/bin:/usr/sbin:/usr/bin:/sbin:/bin:/opt/hadoop/bin)</msg>
<status status="PASS" endtime="20190830 01:12:56.351" starttime="20190830 01:12:56.343"></status>
</kw>
<kw name="Run Keyword If" library="BuiltIn">
<doc>Runs the given keyword with the given arguments, if ``condition`` is true.</doc>
<arguments>
<arg>'${rc}' == '0'</arg>
<arg>Install aws cli s3 debian</arg>
</arguments>
<status status="PASS" endtime="20190830 01:12:56.352" starttime="20190830 01:12:56.351"></status>
</kw>
<kw name="Run And Return Rc And Output" library="OperatingSystem">
<doc>Runs the given command in the system and returns the RC and output.</doc>
<arguments>
<arg>yum --help</arg>
</arguments>
<assign>
<var>${rc}</var>
<var>${output}</var>
</assign>
<msg timestamp="20190830 01:12:56.353" level="INFO">Running command 'yum --help 2&gt;&amp;1'.</msg>
<msg timestamp="20190830 01:12:56.548" level="INFO">${rc} = 0</msg>
<msg timestamp="20190830 01:12:56.548" level="INFO">${output} = Loaded plugins: fastestmirror, ovl
ovl: Error while doing RPMdb copy-up:
[Errno 13] Permission denied: '/var/lib/rpm/Group'
Usage: yum [options] COMMAND

List of Commands:

check          Check for pr...</msg>
<status status="PASS" endtime="20190830 01:12:56.548" starttime="20190830 01:12:56.352"></status>
</kw>
<kw name="Run Keyword If" library="BuiltIn">
<doc>Runs the given keyword with the given arguments, if ``condition`` is true.</doc>
<arguments>
<arg>'${rc}' == '0'</arg>
<arg>Install aws cli s3 centos</arg>
</arguments>
<kw name="Install aws cli s3 centos" library="commonawslib">
<kw name="Execute" library="commonlib">
<arguments>
<arg>sudo yum install -y awscli</arg>
</arguments>
<kw name="Run And Return Rc And Output" library="OperatingSystem">
<doc>Runs the given command in the system and returns the RC and output.</doc>
<arguments>
<arg>${command}</arg>
</arguments>
<assign>
<var>${rc}</var>
<var>${output}</var>
</assign>
<msg timestamp="20190830 01:12:56.554" level="INFO">Running command 'sudo yum install -y awscli 2&gt;&amp;1'.</msg>
<msg timestamp="20190830 01:12:57.057" level="INFO">${rc} = 0</msg>
<msg timestamp="20190830 01:12:57.057" level="INFO">${output} = Loaded plugins: fastestmirror, ovl
Loading mirror speeds from cached hostfile
 * base: mirror.sjc02.svwh.net
 * epel: sjc.edge.kernel.org
 * extras: sjc.edge.kernel.org
 * updates: sjc.edge.kernel.org...</msg>
<status status="PASS" endtime="20190830 01:12:57.057" starttime="20190830 01:12:56.552"></status>
</kw>
<kw name="Log" library="BuiltIn">
<doc>Logs the given message with the given level.</doc>
<arguments>
<arg>${output}</arg>
</arguments>
<msg timestamp="20190830 01:12:57.059" level="INFO">Loaded plugins: fastestmirror, ovl
Loading mirror speeds from cached hostfile
 * base: mirror.sjc02.svwh.net
 * epel: sjc.edge.kernel.org
 * extras: sjc.edge.kernel.org
 * updates: sjc.edge.kernel.org
Package awscli-1.14.28-5.el7_5.1.noarch already installed and latest version
Nothing to do</msg>
<status status="PASS" endtime="20190830 01:12:57.060" starttime="20190830 01:12:57.058"></status>
</kw>
<kw name="Should Be Equal As Integers" library="BuiltIn">
<doc>Fails if objects are unequal after converting them to integers.</doc>
<arguments>
<arg>${rc}</arg>
<arg>0</arg>
</arguments>
<msg timestamp="20190830 01:12:57.061" level="INFO">Argument types are:
&lt;type 'int'&gt;
&lt;type 'unicode'&gt;</msg>
<status status="PASS" endtime="20190830 01:12:57.061" starttime="20190830 01:12:57.060"></status>
</kw>
<status status="PASS" endtime="20190830 01:12:57.061" starttime="20190830 01:12:56.551"></status>
</kw>
<status status="PASS" endtime="20190830 01:12:57.062" starttime="20190830 01:12:56.550"></status>
</kw>
<status status="PASS" endtime="20190830 01:12:57.062" starttime="20190830 01:12:56.549"></status>
</kw>
<status status="PASS" endtime="20190830 01:12:57.062" starttime="20190830 01:12:56.342"></status>
</kw>
<status status="PASS" endtime="20190830 01:12:57.062" starttime="20190830 01:12:56.342"></status>
</kw>
<kw name="Run Keyword If" library="BuiltIn">
<doc>Runs the given keyword with the given arguments, if ``condition`` is true.</doc>
<arguments>
<arg>'${OZONE_S3_SET_CREDENTIALS}' == 'true'</arg>
<arg>Setup v4 headers</arg>
</arguments>
<kw name="Setup v4 headers" library="commonawslib">
<kw name="Run Keyword If" library="BuiltIn">
<doc>Runs the given keyword with the given arguments, if ``condition`` is true.</doc>
<arguments>
<arg>'${SECURITY_ENABLED}' == 'true'</arg>
<arg>Kinit test user</arg>
<arg>testuser</arg>
<arg>testuser.keytab</arg>
</arguments>
<kw name="Kinit test user" library="commonlib">
<arguments>
<arg>testuser</arg>
<arg>testuser.keytab</arg>
</arguments>
<kw name="Execute" library="commonlib">
<arguments>
<arg>hostname</arg>
</arguments>
<assign>
<var>${hostname}</var>
</assign>
<kw name="Run And Return Rc And Output" library="OperatingSystem">
<doc>Runs the given command in the system and returns the RC and output.</doc>
<arguments>
<arg>${command}</arg>
</arguments>
<assign>
<var>${rc}</var>
<var>${output}</var>
</assign>
<msg timestamp="20190830 01:12:57.070" level="INFO">Running command 'hostname 2&gt;&amp;1'.</msg>
<msg timestamp="20190830 01:12:57.077" level="INFO">${rc} = 0</msg>
<msg timestamp="20190830 01:12:57.077" level="INFO">${output} = s3g</msg>
<status status="PASS" endtime="20190830 01:12:57.077" starttime="20190830 01:12:57.067"></status>
</kw>
<kw name="Log" library="BuiltIn">
<doc>Logs the given message with the given level.</doc>
<arguments>
<arg>${output}</arg>
</arguments>
<msg timestamp="20190830 01:12:57.079" level="INFO">s3g</msg>
<status status="PASS" endtime="20190830 01:12:57.079" starttime="20190830 01:12:57.078"></status>
</kw>
<kw name="Should Be Equal As Integers" library="BuiltIn">
<doc>Fails if objects are unequal after converting them to integers.</doc>
<arguments>
<arg>${rc}</arg>
<arg>0</arg>
</arguments>
<msg timestamp="20190830 01:12:57.080" level="INFO">Argument types are:
&lt;type 'int'&gt;
&lt;type 'unicode'&gt;</msg>
<status status="PASS" endtime="20190830 01:12:57.080" starttime="20190830 01:12:57.079"></status>
</kw>
<msg timestamp="20190830 01:12:57.081" level="INFO">${hostname} = s3g</msg>
<status status="PASS" endtime="20190830 01:12:57.081" starttime="20190830 01:12:57.067"></status>
</kw>
<kw name="Set Suite Variable" library="BuiltIn">
<doc>Makes a variable available everywhere within the scope of the current suite.</doc>
<arguments>
<arg>${TEST_USER}</arg>
<arg>${user}/${hostname}@EXAMPLE.COM</arg>
</arguments>
<msg timestamp="20190830 01:12:57.084" level="INFO">${TEST_USER} = testuser/s3g@EXAMPLE.COM</msg>
<status status="PASS" endtime="20190830 01:12:57.084" starttime="20190830 01:12:57.081"></status>
</kw>
<kw name="Wait Until Keyword Succeeds" library="BuiltIn">
<doc>Runs the specified keyword and retries if it fails.</doc>
<arguments>
<arg>2min</arg>
<arg>10sec</arg>
<arg>Execute</arg>
<arg>kinit -k ${user}/${hostname}@EXAMPLE.COM -t /etc/security/keytabs/${keytab}</arg>
</arguments>
<kw name="Execute" library="commonlib">
<arguments>
<arg>kinit -k ${user}/${hostname}@EXAMPLE.COM -t /etc/security/keytabs/${keytab}</arg>
</arguments>
<kw name="Run And Return Rc And Output" library="OperatingSystem">
<doc>Runs the given command in the system and returns the RC and output.</doc>
<arguments>
<arg>${command}</arg>
</arguments>
<assign>
<var>${rc}</var>
<var>${output}</var>
</assign>
<msg timestamp="20190830 01:12:57.088" level="INFO">Running command 'kinit -k testuser/s3g@EXAMPLE.COM -t /etc/security/keytabs/testuser.keytab 2&gt;&amp;1'.</msg>
<msg timestamp="20190830 01:12:57.106" level="INFO">${rc} = 0</msg>
<msg timestamp="20190830 01:12:57.106" level="INFO">${output} = </msg>
<status status="PASS" endtime="20190830 01:12:57.106" starttime="20190830 01:12:57.086"></status>
</kw>
<kw name="Log" library="BuiltIn">
<doc>Logs the given message with the given level.</doc>
<arguments>
<arg>${output}</arg>
</arguments>
<msg timestamp="20190830 01:12:57.108" level="INFO"></msg>
<status status="PASS" endtime="20190830 01:12:57.108" starttime="20190830 01:12:57.107"></status>
</kw>
<kw name="Should Be Equal As Integers" library="BuiltIn">
<doc>Fails if objects are unequal after converting them to integers.</doc>
<arguments>
<arg>${rc}</arg>
<arg>0</arg>
</arguments>
<msg timestamp="20190830 01:12:57.109" level="INFO">Argument types are:
&lt;type 'int'&gt;
&lt;type 'unicode'&gt;</msg>
<status status="PASS" endtime="20190830 01:12:57.110" starttime="20190830 01:12:57.109"></status>
</kw>
<status status="PASS" endtime="20190830 01:12:57.110" starttime="20190830 01:12:57.085"></status>
</kw>
<status status="PASS" endtime="20190830 01:12:57.111" starttime="20190830 01:12:57.084"></status>
</kw>
<status status="PASS" endtime="20190830 01:12:57.111" starttime="20190830 01:12:57.066"></status>
</kw>
<status status="PASS" endtime="20190830 01:12:57.111" starttime="20190830 01:12:57.065"></status>
</kw>
<kw name="Execute" library="commonlib">
<arguments>
<arg>ozone s3 getsecret</arg>
</arguments>
<assign>
<var>${result}</var>
</assign>
<kw name="Run And Return Rc And Output" library="OperatingSystem">
<doc>Runs the given command in the system and returns the RC and output.</doc>
<arguments>
<arg>${command}</arg>
</arguments>
<assign>
<var>${rc}</var>
<var>${output}</var>
</assign>
<msg timestamp="20190830 01:12:57.115" level="INFO">Running command 'ozone s3 getsecret 2&gt;&amp;1'.</msg>
<msg timestamp="20190830 01:12:58.536" level="INFO">${rc} = 255</msg>
<msg timestamp="20190830 01:12:58.536" level="INFO">${output} = WARNING: An illegal reflective access operation has occurred
WARNING: Illegal reflective access by org.apache.hadoop.security.authentication.util.KerberosUtil (file:/opt/hadoop/share/ozone/lib/hadoop-...</msg>
<status status="PASS" endtime="20190830 01:12:58.536" starttime="20190830 01:12:57.112"></status>
</kw>
<kw name="Log" library="BuiltIn">
<doc>Logs the given message with the given level.</doc>
<arguments>
<arg>${output}</arg>
</arguments>
<msg timestamp="20190830 01:12:58.537" level="INFO">WARNING: An illegal reflective access operation has occurred
WARNING: Illegal reflective access by org.apache.hadoop.security.authentication.util.KerberosUtil (file:/opt/hadoop/share/ozone/lib/hadoop-auth-3.2.0.jar) to method sun.security.krb5.Config.getInstance()
WARNING: Please consider reporting this to the maintainers of org.apache.hadoop.security.authentication.util.KerberosUtil
WARNING: Use --illegal-access=warn to enable warnings of further illegal reflective access operations
WARNING: All illegal access operations will be denied in a future release
2019-08-30 01:12:58 ERROR OzoneClientFactory:192 - Couldn't create RpcClient protocol exception: 
java.lang.IllegalArgumentException: java.net.UnknownHostException: om
	at org.apache.hadoop.security.SecurityUtil.buildTokenService(SecurityUtil.java:447)
	at org.apache.hadoop.ozone.om.ha.OMProxyInfo.&lt;init&gt;(OMProxyInfo.java:40)
	at org.apache.hadoop.ozone.om.ha.OMFailoverProxyProvider.loadOMClientConfigs(OMFailoverProxyProvider.java:109)
	at org.apache.hadoop.ozone.om.ha.OMFailoverProxyProvider.&lt;init&gt;(OMFailoverProxyProvider.java:77)
	at org.apache.hadoop.ozone.om.protocolPB.OzoneManagerProtocolClientSideTranslatorPB.&lt;init&gt;(OzoneManagerProtocolClientSideTranslatorPB.java:195)
	at org.apache.hadoop.ozone.client.rpc.RpcClient.&lt;init&gt;(RpcClient.java:155)
	at org.apache.hadoop.ozone.client.OzoneClientFactory.getClientProtocol(OzoneClientFactory.java:189)
	at org.apache.hadoop.ozone.client.OzoneClientFactory.getRpcClient(OzoneClientFactory.java:152)
	at org.apache.hadoop.ozone.web.ozShell.OzoneAddress.createClient(OzoneAddress.java:102)
	at org.apache.hadoop.ozone.web.ozShell.s3.GetS3SecretHandler.call(GetS3SecretHandler.java:45)
	at org.apache.hadoop.ozone.web.ozShell.s3.GetS3SecretHandler.call(GetS3SecretHandler.java:32)
	at picocli.CommandLine.execute(CommandLine.java:1173)
	at picocli.CommandLine.access$800(CommandLine.java:141)
	at picocli.CommandLine$RunLast.handle(CommandLine.java:1367)
	at picocli.CommandLine$RunLast.handle(CommandLine.java:1335)
	at picocli.CommandLine$AbstractParseResultHandler.handleParseResult(CommandLine.java:1243)
	at picocli.CommandLine.parseWithHandlers(CommandLine.java:1526)
	at picocli.CommandLine.parseWithHandler(CommandLine.java:1465)
	at org.apache.hadoop.hdds.cli.GenericCli.execute(GenericCli.java:65)
	at org.apache.hadoop.ozone.web.ozShell.s3.S3Shell.execute(S3Shell.java:43)
	at org.apache.hadoop.hdds.cli.GenericCli.run(GenericCli.java:56)
	at org.apache.hadoop.ozone.web.ozShell.s3.S3Shell.main(S3Shell.java:54)
Caused by: java.net.UnknownHostException: om
	... 22 more
om</msg>
<status status="PASS" endtime="20190830 01:12:58.538" starttime="20190830 01:12:58.537"></status>
</kw>
<kw name="Should Be Equal As Integers" library="BuiltIn">
<doc>Fails if objects are unequal after converting them to integers.</doc>
<arguments>
<arg>${rc}</arg>
<arg>0</arg>
</arguments>
<msg timestamp="20190830 01:12:58.538" level="INFO">Argument types are:
&lt;type 'int'&gt;
&lt;type 'unicode'&gt;</msg>
<msg timestamp="20190830 01:12:58.539" level="FAIL">255 != 0</msg>
<status status="FAIL" endtime="20190830 01:12:58.539" starttime="20190830 01:12:58.538"></status>
</kw>
<status status="FAIL" endtime="20190830 01:12:58.539" starttime="20190830 01:12:57.111"></status>
</kw>
<status status="FAIL" endtime="20190830 01:12:58.539" starttime="20190830 01:12:57.064"></status>
</kw>
<status status="FAIL" endtime="20190830 01:12:58.540" starttime="20190830 01:12:57.063"></status>
</kw>
<status status="FAIL" endtime="20190830 01:12:58.540" starttime="20190830 01:12:56.341"></status>
</kw>
<status status="FAIL" endtime="20190830 01:12:58.540" critical="yes" starttime="20190830 01:12:56.341">Setup failed:
255 != 0</status>
</test>
<doc>S3 gateway test with aws cli</doc>
<status status="FAIL" endtime="20190830 01:12:58.541" starttime="20190830 01:12:56.332"></status>
</suite>
<suite source="/opt/hadoop/smoketest/s3/objectputget.robot" id="s1-s9" name="Objectputget">
<test id="s1-s9-t1" name="Put object to s3">
<kw type="setup" name="Setup s3 tests" library="commonawslib">
<kw name="Run Keyword" library="BuiltIn">
<doc>Executes the given keyword with the given arguments.</doc>
<arguments>
<arg>Install aws cli</arg>
</arguments>
<kw name="Install aws cli" library="commonlib">
<kw name="Run And Return Rc And Output" library="OperatingSystem">
<doc>Runs the given command in the system and returns the RC and output.</doc>
<arguments>
<arg>which apt-get</arg>
</arguments>
<assign>
<var>${rc}</var>
<var>${output}</var>
</assign>
<msg timestamp="20190830 01:12:58.554" level="INFO">Running command 'which apt-get 2&gt;&amp;1'.</msg>
<msg timestamp="20190830 01:12:58.562" level="INFO">${rc} = 1</msg>
<msg timestamp="20190830 01:12:58.562" level="INFO">${output} = which: no apt-get in (/opt/hadoop/bin/docker:/usr/local/sbin:/usr/local/bin:/usr/sbin:/usr/bin:/sbin:/bin:/opt/hadoop/bin)</msg>
<status status="PASS" endtime="20190830 01:12:58.562" starttime="20190830 01:12:58.552"></status>
</kw>
<kw name="Run Keyword If" library="BuiltIn">
<doc>Runs the given keyword with the given arguments, if ``condition`` is true.</doc>
<arguments>
<arg>'${rc}' == '0'</arg>
<arg>Install aws cli s3 debian</arg>
</arguments>
<status status="PASS" endtime="20190830 01:12:58.564" starttime="20190830 01:12:58.563"></status>
</kw>
<kw name="Run And Return Rc And Output" library="OperatingSystem">
<doc>Runs the given command in the system and returns the RC and output.</doc>
<arguments>
<arg>yum --help</arg>
</arguments>
<assign>
<var>${rc}</var>
<var>${output}</var>
</assign>
<msg timestamp="20190830 01:12:58.566" level="INFO">Running command 'yum --help 2&gt;&amp;1'.</msg>
<msg timestamp="20190830 01:12:58.741" level="INFO">${rc} = 0</msg>
<msg timestamp="20190830 01:12:58.741" level="INFO">${output} = Loaded plugins: fastestmirror, ovl
ovl: Error while doing RPMdb copy-up:
[Errno 13] Permission denied: '/var/lib/rpm/Group'
Usage: yum [options] COMMAND

List of Commands:

check          Check for pr...</msg>
<status status="PASS" endtime="20190830 01:12:58.741" starttime="20190830 01:12:58.564"></status>
</kw>
<kw name="Run Keyword If" library="BuiltIn">
<doc>Runs the given keyword with the given arguments, if ``condition`` is true.</doc>
<arguments>
<arg>'${rc}' == '0'</arg>
<arg>Install aws cli s3 centos</arg>
</arguments>
<kw name="Install aws cli s3 centos" library="commonawslib">
<kw name="Execute" library="commonlib">
<arguments>
<arg>sudo yum install -y awscli</arg>
</arguments>
<kw name="Run And Return Rc And Output" library="OperatingSystem">
<doc>Runs the given command in the system and returns the RC and output.</doc>
<arguments>
<arg>${command}</arg>
</arguments>
<assign>
<var>${rc}</var>
<var>${output}</var>
</assign>
<msg timestamp="20190830 01:12:58.748" level="INFO">Running command 'sudo yum install -y awscli 2&gt;&amp;1'.</msg>
<msg timestamp="20190830 01:12:59.321" level="INFO">${rc} = 0</msg>
<msg timestamp="20190830 01:12:59.322" level="INFO">${output} = Loaded plugins: fastestmirror, ovl
Loading mirror speeds from cached hostfile
 * base: mirror.sjc02.svwh.net
 * epel: sjc.edge.kernel.org
 * extras: sjc.edge.kernel.org
 * updates: sjc.edge.kernel.org...</msg>
<status status="PASS" endtime="20190830 01:12:59.322" starttime="20190830 01:12:58.745"></status>
</kw>
<kw name="Log" library="BuiltIn">
<doc>Logs the given message with the given level.</doc>
<arguments>
<arg>${output}</arg>
</arguments>
<msg timestamp="20190830 01:12:59.323" level="INFO">Loaded plugins: fastestmirror, ovl
Loading mirror speeds from cached hostfile
 * base: mirror.sjc02.svwh.net
 * epel: sjc.edge.kernel.org
 * extras: sjc.edge.kernel.org
 * updates: sjc.edge.kernel.org
Package awscli-1.14.28-5.el7_5.1.noarch already installed and latest version
Nothing to do</msg>
<status status="PASS" endtime="20190830 01:12:59.324" starttime="20190830 01:12:59.323"></status>
</kw>
<kw name="Should Be Equal As Integers" library="BuiltIn">
<doc>Fails if objects are unequal after converting them to integers.</doc>
<arguments>
<arg>${rc}</arg>
<arg>0</arg>
</arguments>
<msg timestamp="20190830 01:12:59.325" level="INFO">Argument types are:
&lt;type 'int'&gt;
&lt;type 'unicode'&gt;</msg>
<status status="PASS" endtime="20190830 01:12:59.325" starttime="20190830 01:12:59.324"></status>
</kw>
<status status="PASS" endtime="20190830 01:12:59.325" starttime="20190830 01:12:58.745"></status>
</kw>
<status status="PASS" endtime="20190830 01:12:59.326" starttime="20190830 01:12:58.744"></status>
</kw>
<status status="PASS" endtime="20190830 01:12:59.326" starttime="20190830 01:12:58.742"></status>
</kw>
<status status="PASS" endtime="20190830 01:12:59.326" starttime="20190830 01:12:58.552"></status>
</kw>
<status status="PASS" endtime="20190830 01:12:59.326" starttime="20190830 01:12:58.552"></status>
</kw>
<kw name="Run Keyword If" library="BuiltIn">
<doc>Runs the given keyword with the given arguments, if ``condition`` is true.</doc>
<arguments>
<arg>'${OZONE_S3_SET_CREDENTIALS}' == 'true'</arg>
<arg>Setup v4 headers</arg>
</arguments>
<kw name="Setup v4 headers" library="commonawslib">
<kw name="Run Keyword If" library="BuiltIn">
<doc>Runs the given keyword with the given arguments, if ``condition`` is true.</doc>
<arguments>
<arg>'${SECURITY_ENABLED}' == 'true'</arg>
<arg>Kinit test user</arg>
<arg>testuser</arg>
<arg>testuser.keytab</arg>
</arguments>
<kw name="Kinit test user" library="commonlib">
<arguments>
<arg>testuser</arg>
<arg>testuser.keytab</arg>
</arguments>
<kw name="Execute" library="commonlib">
<arguments>
<arg>hostname</arg>
</arguments>
<assign>
<var>${hostname}</var>
</assign>
<kw name="Run And Return Rc And Output" library="OperatingSystem">
<doc>Runs the given command in the system and returns the RC and output.</doc>
<arguments>
<arg>${command}</arg>
</arguments>
<assign>
<var>${rc}</var>
<var>${output}</var>
</assign>
<msg timestamp="20190830 01:12:59.333" level="INFO">Running command 'hostname 2&gt;&amp;1'.</msg>
<msg timestamp="20190830 01:12:59.341" level="INFO">${rc} = 0</msg>
<msg timestamp="20190830 01:12:59.341" level="INFO">${output} = s3g</msg>
<status status="PASS" endtime="20190830 01:12:59.341" starttime="20190830 01:12:59.331"></status>
</kw>
<kw name="Log" library="BuiltIn">
<doc>Logs the given message with the given level.</doc>
<arguments>
<arg>${output}</arg>
</arguments>
<msg timestamp="20190830 01:12:59.342" level="INFO">s3g</msg>
<status status="PASS" endtime="20190830 01:12:59.343" starttime="20190830 01:12:59.342"></status>
</kw>
<kw name="Should Be Equal As Integers" library="BuiltIn">
<doc>Fails if objects are unequal after converting them to integers.</doc>
<arguments>
<arg>${rc}</arg>
<arg>0</arg>
</arguments>
<msg timestamp="20190830 01:12:59.343" level="INFO">Argument types are:
&lt;type 'int'&gt;
&lt;type 'unicode'&gt;</msg>
<status status="PASS" endtime="20190830 01:12:59.344" starttime="20190830 01:12:59.343"></status>
</kw>
<msg timestamp="20190830 01:12:59.344" level="INFO">${hostname} = s3g</msg>
<status status="PASS" endtime="20190830 01:12:59.344" starttime="20190830 01:12:59.330"></status>
</kw>
<kw name="Set Suite Variable" library="BuiltIn">
<doc>Makes a variable available everywhere within the scope of the current suite.</doc>
<arguments>
<arg>${TEST_USER}</arg>
<arg>${user}/${hostname}@EXAMPLE.COM</arg>
</arguments>
<msg timestamp="20190830 01:12:59.347" level="INFO">${TEST_USER} = testuser/s3g@EXAMPLE.COM</msg>
<status status="PASS" endtime="20190830 01:12:59.347" starttime="20190830 01:12:59.345"></status>
</kw>
<kw name="Wait Until Keyword Succeeds" library="BuiltIn">
<doc>Runs the specified keyword and retries if it fails.</doc>
<arguments>
<arg>2min</arg>
<arg>10sec</arg>
<arg>Execute</arg>
<arg>kinit -k ${user}/${hostname}@EXAMPLE.COM -t /etc/security/keytabs/${keytab}</arg>
</arguments>
<kw name="Execute" library="commonlib">
<arguments>
<arg>kinit -k ${user}/${hostname}@EXAMPLE.COM -t /etc/security/keytabs/${keytab}</arg>
</arguments>
<kw name="Run And Return Rc And Output" library="OperatingSystem">
<doc>Runs the given command in the system and returns the RC and output.</doc>
<arguments>
<arg>${command}</arg>
</arguments>
<assign>
<var>${rc}</var>
<var>${output}</var>
</assign>
<msg timestamp="20190830 01:12:59.351" level="INFO">Running command 'kinit -k testuser/s3g@EXAMPLE.COM -t /etc/security/keytabs/testuser.keytab 2&gt;&amp;1'.</msg>
<msg timestamp="20190830 01:12:59.368" level="INFO">${rc} = 0</msg>
<msg timestamp="20190830 01:12:59.368" level="INFO">${output} = </msg>
<status status="PASS" endtime="20190830 01:12:59.368" starttime="20190830 01:12:59.349"></status>
</kw>
<kw name="Log" library="BuiltIn">
<doc>Logs the given message with the given level.</doc>
<arguments>
<arg>${output}</arg>
</arguments>
<msg timestamp="20190830 01:12:59.370" level="INFO"></msg>
<status status="PASS" endtime="20190830 01:12:59.370" starttime="20190830 01:12:59.369"></status>
</kw>
<kw name="Should Be Equal As Integers" library="BuiltIn">
<doc>Fails if objects are unequal after converting them to integers.</doc>
<arguments>
<arg>${rc}</arg>
<arg>0</arg>
</arguments>
<msg timestamp="20190830 01:12:59.371" level="INFO">Argument types are:
&lt;type 'int'&gt;
&lt;type 'unicode'&gt;</msg>
<status status="PASS" endtime="20190830 01:12:59.371" starttime="20190830 01:12:59.370"></status>
</kw>
<status status="PASS" endtime="20190830 01:12:59.372" starttime="20190830 01:12:59.348"></status>
</kw>
<status status="PASS" endtime="20190830 01:12:59.372" starttime="20190830 01:12:59.347"></status>
</kw>
<status status="PASS" endtime="20190830 01:12:59.372" starttime="20190830 01:12:59.329"></status>
</kw>
<status status="PASS" endtime="20190830 01:12:59.373" starttime="20190830 01:12:59.328"></status>
</kw>
<kw name="Execute" library="commonlib">
<arguments>
<arg>ozone s3 getsecret</arg>
</arguments>
<assign>
<var>${result}</var>
</assign>
<kw name="Run And Return Rc And Output" library="OperatingSystem">
<doc>Runs the given command in the system and returns the RC and output.</doc>
<arguments>
<arg>${command}</arg>
</arguments>
<assign>
<var>${rc}</var>
<var>${output}</var>
</assign>
<msg timestamp="20190830 01:12:59.377" level="INFO">Running command 'ozone s3 getsecret 2&gt;&amp;1'.</msg>
<msg timestamp="20190830 01:13:00.929" level="INFO">${rc} = 255</msg>
<msg timestamp="20190830 01:13:00.929" level="INFO">${output} = WARNING: An illegal reflective access operation has occurred
WARNING: Illegal reflective access by org.apache.hadoop.security.authentication.util.KerberosUtil (file:/opt/hadoop/share/ozone/lib/hadoop-...</msg>
<status status="PASS" endtime="20190830 01:13:00.930" starttime="20190830 01:12:59.374"></status>
</kw>
<kw name="Log" library="BuiltIn">
<doc>Logs the given message with the given level.</doc>
<arguments>
<arg>${output}</arg>
</arguments>
<msg timestamp="20190830 01:13:00.931" level="INFO">WARNING: An illegal reflective access operation has occurred
WARNING: Illegal reflective access by org.apache.hadoop.security.authentication.util.KerberosUtil (file:/opt/hadoop/share/ozone/lib/hadoop-auth-3.2.0.jar) to method sun.security.krb5.Config.getInstance()
WARNING: Please consider reporting this to the maintainers of org.apache.hadoop.security.authentication.util.KerberosUtil
WARNING: Use --illegal-access=warn to enable warnings of further illegal reflective access operations
WARNING: All illegal access operations will be denied in a future release
2019-08-30 01:13:00 ERROR OzoneClientFactory:192 - Couldn't create RpcClient protocol exception: 
java.lang.IllegalArgumentException: java.net.UnknownHostException: om
	at org.apache.hadoop.security.SecurityUtil.buildTokenService(SecurityUtil.java:447)
	at org.apache.hadoop.ozone.om.ha.OMProxyInfo.&lt;init&gt;(OMProxyInfo.java:40)
	at org.apache.hadoop.ozone.om.ha.OMFailoverProxyProvider.loadOMClientConfigs(OMFailoverProxyProvider.java:109)
	at org.apache.hadoop.ozone.om.ha.OMFailoverProxyProvider.&lt;init&gt;(OMFailoverProxyProvider.java:77)
	at org.apache.hadoop.ozone.om.protocolPB.OzoneManagerProtocolClientSideTranslatorPB.&lt;init&gt;(OzoneManagerProtocolClientSideTranslatorPB.java:195)
	at org.apache.hadoop.ozone.client.rpc.RpcClient.&lt;init&gt;(RpcClient.java:155)
	at org.apache.hadoop.ozone.client.OzoneClientFactory.getClientProtocol(OzoneClientFactory.java:189)
	at org.apache.hadoop.ozone.client.OzoneClientFactory.getRpcClient(OzoneClientFactory.java:152)
	at org.apache.hadoop.ozone.web.ozShell.OzoneAddress.createClient(OzoneAddress.java:102)
	at org.apache.hadoop.ozone.web.ozShell.s3.GetS3SecretHandler.call(GetS3SecretHandler.java:45)
	at org.apache.hadoop.ozone.web.ozShell.s3.GetS3SecretHandler.call(GetS3SecretHandler.java:32)
	at picocli.CommandLine.execute(CommandLine.java:1173)
	at picocli.CommandLine.access$800(CommandLine.java:141)
	at picocli.CommandLine$RunLast.handle(CommandLine.java:1367)
	at picocli.CommandLine$RunLast.handle(CommandLine.java:1335)
	at picocli.CommandLine$AbstractParseResultHandler.handleParseResult(CommandLine.java:1243)
	at picocli.CommandLine.parseWithHandlers(CommandLine.java:1526)
	at picocli.CommandLine.parseWithHandler(CommandLine.java:1465)
	at org.apache.hadoop.hdds.cli.GenericCli.execute(GenericCli.java:65)
	at org.apache.hadoop.ozone.web.ozShell.s3.S3Shell.execute(S3Shell.java:43)
	at org.apache.hadoop.hdds.cli.GenericCli.run(GenericCli.java:56)
	at org.apache.hadoop.ozone.web.ozShell.s3.S3Shell.main(S3Shell.java:54)
Caused by: java.net.UnknownHostException: om
	... 22 more
om</msg>
<status status="PASS" endtime="20190830 01:13:00.931" starttime="20190830 01:13:00.930"></status>
</kw>
<kw name="Should Be Equal As Integers" library="BuiltIn">
<doc>Fails if objects are unequal after converting them to integers.</doc>
<arguments>
<arg>${rc}</arg>
<arg>0</arg>
</arguments>
<msg timestamp="20190830 01:13:00.932" level="INFO">Argument types are:
&lt;type 'int'&gt;
&lt;type 'unicode'&gt;</msg>
<msg timestamp="20190830 01:13:00.932" level="FAIL">255 != 0</msg>
<status status="FAIL" endtime="20190830 01:13:00.932" starttime="20190830 01:13:00.931"></status>
</kw>
<status status="FAIL" endtime="20190830 01:13:00.932" starttime="20190830 01:12:59.373"></status>
</kw>
<status status="FAIL" endtime="20190830 01:13:00.933" starttime="20190830 01:12:59.328"></status>
</kw>
<status status="FAIL" endtime="20190830 01:13:00.933" starttime="20190830 01:12:59.327"></status>
</kw>
<status status="FAIL" endtime="20190830 01:13:00.933" starttime="20190830 01:12:58.551"></status>
</kw>
<status status="FAIL" endtime="20190830 01:13:00.933" critical="yes" starttime="20190830 01:12:58.551">Setup failed:
255 != 0</status>
</test>
<test id="s1-s9-t2" name="Get object from s3">
<kw type="setup" name="Setup s3 tests" library="commonawslib">
<kw name="Run Keyword" library="BuiltIn">
<doc>Executes the given keyword with the given arguments.</doc>
<arguments>
<arg>Install aws cli</arg>
</arguments>
<kw name="Install aws cli" library="commonlib">
<kw name="Run And Return Rc And Output" library="OperatingSystem">
<doc>Runs the given command in the system and returns the RC and output.</doc>
<arguments>
<arg>which apt-get</arg>
</arguments>
<assign>
<var>${rc}</var>
<var>${output}</var>
</assign>
<msg timestamp="20190830 01:13:00.938" level="INFO">Running command 'which apt-get 2&gt;&amp;1'.</msg>
<msg timestamp="20190830 01:13:00.944" level="INFO">${rc} = 1</msg>
<msg timestamp="20190830 01:13:00.944" level="INFO">${output} = which: no apt-get in (/opt/hadoop/bin/docker:/usr/local/sbin:/usr/local/bin:/usr/sbin:/usr/bin:/sbin:/bin:/opt/hadoop/bin)</msg>
<status status="PASS" endtime="20190830 01:13:00.944" starttime="20190830 01:13:00.936"></status>
</kw>
<kw name="Run Keyword If" library="BuiltIn">
<doc>Runs the given keyword with the given arguments, if ``condition`` is true.</doc>
<arguments>
<arg>'${rc}' == '0'</arg>
<arg>Install aws cli s3 debian</arg>
</arguments>
<status status="PASS" endtime="20190830 01:13:00.946" starttime="20190830 01:13:00.945"></status>
</kw>
<kw name="Run And Return Rc And Output" library="OperatingSystem">
<doc>Runs the given command in the system and returns the RC and output.</doc>
<arguments>
<arg>yum --help</arg>
</arguments>
<assign>
<var>${rc}</var>
<var>${output}</var>
</assign>
<msg timestamp="20190830 01:13:00.948" level="INFO">Running command 'yum --help 2&gt;&amp;1'.</msg>
<msg timestamp="20190830 01:13:01.138" level="INFO">${rc} = 0</msg>
<msg timestamp="20190830 01:13:01.138" level="INFO">${output} = Loaded plugins: fastestmirror, ovl
ovl: Error while doing RPMdb copy-up:
[Errno 13] Permission denied: '/var/lib/rpm/Group'
Usage: yum [options] COMMAND

List of Commands:

check          Check for pr...</msg>
<status status="PASS" endtime="20190830 01:13:01.138" starttime="20190830 01:13:00.946"></status>
</kw>
<kw name="Run Keyword If" library="BuiltIn">
<doc>Runs the given keyword with the given arguments, if ``condition`` is true.</doc>
<arguments>
<arg>'${rc}' == '0'</arg>
<arg>Install aws cli s3 centos</arg>
</arguments>
<kw name="Install aws cli s3 centos" library="commonawslib">
<kw name="Execute" library="commonlib">
<arguments>
<arg>sudo yum install -y awscli</arg>
</arguments>
<kw name="Run And Return Rc And Output" library="OperatingSystem">
<doc>Runs the given command in the system and returns the RC and output.</doc>
<arguments>
<arg>${command}</arg>
</arguments>
<assign>
<var>${rc}</var>
<var>${output}</var>
</assign>
<msg timestamp="20190830 01:13:01.144" level="INFO">Running command 'sudo yum install -y awscli 2&gt;&amp;1'.</msg>
<msg timestamp="20190830 01:13:01.670" level="INFO">${rc} = 0</msg>
<msg timestamp="20190830 01:13:01.670" level="INFO">${output} = Loaded plugins: fastestmirror, ovl
Loading mirror speeds from cached hostfile
 * base: mirror.sjc02.svwh.net
 * epel: sjc.edge.kernel.org
 * extras: sjc.edge.kernel.org
 * updates: sjc.edge.kernel.org...</msg>
<status status="PASS" endtime="20190830 01:13:01.670" starttime="20190830 01:13:01.142"></status>
</kw>
<kw name="Log" library="BuiltIn">
<doc>Logs the given message with the given level.</doc>
<arguments>
<arg>${output}</arg>
</arguments>
<msg timestamp="20190830 01:13:01.672" level="INFO">Loaded plugins: fastestmirror, ovl
Loading mirror speeds from cached hostfile
 * base: mirror.sjc02.svwh.net
 * epel: sjc.edge.kernel.org
 * extras: sjc.edge.kernel.org
 * updates: sjc.edge.kernel.org
Package awscli-1.14.28-5.el7_5.1.noarch already installed and latest version
Nothing to do</msg>
<status status="PASS" endtime="20190830 01:13:01.672" starttime="20190830 01:13:01.671"></status>
</kw>
<kw name="Should Be Equal As Integers" library="BuiltIn">
<doc>Fails if objects are unequal after converting them to integers.</doc>
<arguments>
<arg>${rc}</arg>
<arg>0</arg>
</arguments>
<msg timestamp="20190830 01:13:01.673" level="INFO">Argument types are:
&lt;type 'int'&gt;
&lt;type 'unicode'&gt;</msg>
<status status="PASS" endtime="20190830 01:13:01.673" starttime="20190830 01:13:01.673"></status>
</kw>
<status status="PASS" endtime="20190830 01:13:01.674" starttime="20190830 01:13:01.141"></status>
</kw>
<status status="PASS" endtime="20190830 01:13:01.674" starttime="20190830 01:13:01.141"></status>
</kw>
<status status="PASS" endtime="20190830 01:13:01.674" starttime="20190830 01:13:01.139"></status>
</kw>
<status status="PASS" endtime="20190830 01:13:01.675" starttime="20190830 01:13:00.936"></status>
</kw>
<status status="PASS" endtime="20190830 01:13:01.675" starttime="20190830 01:13:00.935"></status>
</kw>
<kw name="Run Keyword If" library="BuiltIn">
<doc>Runs the given keyword with the given arguments, if ``condition`` is true.</doc>
<arguments>
<arg>'${OZONE_S3_SET_CREDENTIALS}' == 'true'</arg>
<arg>Setup v4 headers</arg>
</arguments>
<kw name="Setup v4 headers" library="commonawslib">
<kw name="Run Keyword If" library="BuiltIn">
<doc>Runs the given keyword with the given arguments, if ``condition`` is true.</doc>
<arguments>
<arg>'${SECURITY_ENABLED}' == 'true'</arg>
<arg>Kinit test user</arg>
<arg>testuser</arg>
<arg>testuser.keytab</arg>
</arguments>
<kw name="Kinit test user" library="commonlib">
<arguments>
<arg>testuser</arg>
<arg>testuser.keytab</arg>
</arguments>
<kw name="Execute" library="commonlib">
<arguments>
<arg>hostname</arg>
</arguments>
<assign>
<var>${hostname}</var>
</assign>
<kw name="Run And Return Rc And Output" library="OperatingSystem">
<doc>Runs the given command in the system and returns the RC and output.</doc>
<arguments>
<arg>${command}</arg>
</arguments>
<assign>
<var>${rc}</var>
<var>${output}</var>
</assign>
<msg timestamp="20190830 01:13:01.682" level="INFO">Running command 'hostname 2&gt;&amp;1'.</msg>
<msg timestamp="20190830 01:13:01.689" level="INFO">${rc} = 0</msg>
<msg timestamp="20190830 01:13:01.689" level="INFO">${output} = s3g</msg>
<status status="PASS" endtime="20190830 01:13:01.689" starttime="20190830 01:13:01.679"></status>
</kw>
<kw name="Log" library="BuiltIn">
<doc>Logs the given message with the given level.</doc>
<arguments>
<arg>${output}</arg>
</arguments>
<msg timestamp="20190830 01:13:01.691" level="INFO">s3g</msg>
<status status="PASS" endtime="20190830 01:13:01.691" starttime="20190830 01:13:01.690"></status>
</kw>
<kw name="Should Be Equal As Integers" library="BuiltIn">
<doc>Fails if objects are unequal after converting them to integers.</doc>
<arguments>
<arg>${rc}</arg>
<arg>0</arg>
</arguments>
<msg timestamp="20190830 01:13:01.692" level="INFO">Argument types are:
&lt;type 'int'&gt;
&lt;type 'unicode'&gt;</msg>
<status status="PASS" endtime="20190830 01:13:01.693" starttime="20190830 01:13:01.692"></status>
</kw>
<msg timestamp="20190830 01:13:01.693" level="INFO">${hostname} = s3g</msg>
<status status="PASS" endtime="20190830 01:13:01.693" starttime="20190830 01:13:01.679"></status>
</kw>
<kw name="Set Suite Variable" library="BuiltIn">
<doc>Makes a variable available everywhere within the scope of the current suite.</doc>
<arguments>
<arg>${TEST_USER}</arg>
<arg>${user}/${hostname}@EXAMPLE.COM</arg>
</arguments>
<msg timestamp="20190830 01:13:01.695" level="INFO">${TEST_USER} = testuser/s3g@EXAMPLE.COM</msg>
<status status="PASS" endtime="20190830 01:13:01.695" starttime="20190830 01:13:01.694"></status>
</kw>
<kw name="Wait Until Keyword Succeeds" library="BuiltIn">
<doc>Runs the specified keyword and retries if it fails.</doc>
<arguments>
<arg>2min</arg>
<arg>10sec</arg>
<arg>Execute</arg>
<arg>kinit -k ${user}/${hostname}@EXAMPLE.COM -t /etc/security/keytabs/${keytab}</arg>
</arguments>
<kw name="Execute" library="commonlib">
<arguments>
<arg>kinit -k ${user}/${hostname}@EXAMPLE.COM -t /etc/security/keytabs/${keytab}</arg>
</arguments>
<kw name="Run And Return Rc And Output" library="OperatingSystem">
<doc>Runs the given command in the system and returns the RC and output.</doc>
<arguments>
<arg>${command}</arg>
</arguments>
<assign>
<var>${rc}</var>
<var>${output}</var>
</assign>
<msg timestamp="20190830 01:13:01.700" level="INFO">Running command 'kinit -k testuser/s3g@EXAMPLE.COM -t /etc/security/keytabs/testuser.keytab 2&gt;&amp;1'.</msg>
<msg timestamp="20190830 01:13:01.715" level="INFO">${rc} = 0</msg>
<msg timestamp="20190830 01:13:01.716" level="INFO">${output} = </msg>
<status status="PASS" endtime="20190830 01:13:01.716" starttime="20190830 01:13:01.698"></status>
</kw>
<kw name="Log" library="BuiltIn">
<doc>Logs the given message with the given level.</doc>
<arguments>
<arg>${output}</arg>
</arguments>
<msg timestamp="20190830 01:13:01.717" level="INFO"></msg>
<status status="PASS" endtime="20190830 01:13:01.718" starttime="20190830 01:13:01.717"></status>
</kw>
<kw name="Should Be Equal As Integers" library="BuiltIn">
<doc>Fails if objects are unequal after converting them to integers.</doc>
<arguments>
<arg>${rc}</arg>
<arg>0</arg>
</arguments>
<msg timestamp="20190830 01:13:01.718" level="INFO">Argument types are:
&lt;type 'int'&gt;
&lt;type 'unicode'&gt;</msg>
<status status="PASS" endtime="20190830 01:13:01.719" starttime="20190830 01:13:01.718"></status>
</kw>
<status status="PASS" endtime="20190830 01:13:01.719" starttime="20190830 01:13:01.697"></status>
</kw>
<status status="PASS" endtime="20190830 01:13:01.719" starttime="20190830 01:13:01.696"></status>
</kw>
<status status="PASS" endtime="20190830 01:13:01.720" starttime="20190830 01:13:01.678"></status>
</kw>
<status status="PASS" endtime="20190830 01:13:01.720" starttime="20190830 01:13:01.677"></status>
</kw>
<kw name="Execute" library="commonlib">
<arguments>
<arg>ozone s3 getsecret</arg>
</arguments>
<assign>
<var>${result}</var>
</assign>
<kw name="Run And Return Rc And Output" library="OperatingSystem">
<doc>Runs the given command in the system and returns the RC and output.</doc>
<arguments>
<arg>${command}</arg>
</arguments>
<assign>
<var>${rc}</var>
<var>${output}</var>
</assign>
<msg timestamp="20190830 01:13:01.723" level="INFO">Running command 'ozone s3 getsecret 2&gt;&amp;1'.</msg>
<msg timestamp="20190830 01:13:03.125" level="INFO">${rc} = 255</msg>
<msg timestamp="20190830 01:13:03.126" level="INFO">${output} = WARNING: An illegal reflective access operation has occurred
WARNING: Illegal reflective access by org.apache.hadoop.security.authentication.util.KerberosUtil (file:/opt/hadoop/share/ozone/lib/hadoop-...</msg>
<status status="PASS" endtime="20190830 01:13:03.126" starttime="20190830 01:13:01.721"></status>
</kw>
<kw name="Log" library="BuiltIn">
<doc>Logs the given message with the given level.</doc>
<arguments>
<arg>${output}</arg>
</arguments>
<msg timestamp="20190830 01:13:03.127" level="INFO">WARNING: An illegal reflective access operation has occurred
WARNING: Illegal reflective access by org.apache.hadoop.security.authentication.util.KerberosUtil (file:/opt/hadoop/share/ozone/lib/hadoop-auth-3.2.0.jar) to method sun.security.krb5.Config.getInstance()
WARNING: Please consider reporting this to the maintainers of org.apache.hadoop.security.authentication.util.KerberosUtil
WARNING: Use --illegal-access=warn to enable warnings of further illegal reflective access operations
WARNING: All illegal access operations will be denied in a future release
2019-08-30 01:13:03 ERROR OzoneClientFactory:192 - Couldn't create RpcClient protocol exception: 
java.lang.IllegalArgumentException: java.net.UnknownHostException: om
	at org.apache.hadoop.security.SecurityUtil.buildTokenService(SecurityUtil.java:447)
	at org.apache.hadoop.ozone.om.ha.OMProxyInfo.&lt;init&gt;(OMProxyInfo.java:40)
	at org.apache.hadoop.ozone.om.ha.OMFailoverProxyProvider.loadOMClientConfigs(OMFailoverProxyProvider.java:109)
	at org.apache.hadoop.ozone.om.ha.OMFailoverProxyProvider.&lt;init&gt;(OMFailoverProxyProvider.java:77)
	at org.apache.hadoop.ozone.om.protocolPB.OzoneManagerProtocolClientSideTranslatorPB.&lt;init&gt;(OzoneManagerProtocolClientSideTranslatorPB.java:195)
	at org.apache.hadoop.ozone.client.rpc.RpcClient.&lt;init&gt;(RpcClient.java:155)
	at org.apache.hadoop.ozone.client.OzoneClientFactory.getClientProtocol(OzoneClientFactory.java:189)
	at org.apache.hadoop.ozone.client.OzoneClientFactory.getRpcClient(OzoneClientFactory.java:152)
	at org.apache.hadoop.ozone.web.ozShell.OzoneAddress.createClient(OzoneAddress.java:102)
	at org.apache.hadoop.ozone.web.ozShell.s3.GetS3SecretHandler.call(GetS3SecretHandler.java:45)
	at org.apache.hadoop.ozone.web.ozShell.s3.GetS3SecretHandler.call(GetS3SecretHandler.java:32)
	at picocli.CommandLine.execute(CommandLine.java:1173)
	at picocli.CommandLine.access$800(CommandLine.java:141)
	at picocli.CommandLine$RunLast.handle(CommandLine.java:1367)
	at picocli.CommandLine$RunLast.handle(CommandLine.java:1335)
	at picocli.CommandLine$AbstractParseResultHandler.handleParseResult(CommandLine.java:1243)
	at picocli.CommandLine.parseWithHandlers(CommandLine.java:1526)
	at picocli.CommandLine.parseWithHandler(CommandLine.java:1465)
	at org.apache.hadoop.hdds.cli.GenericCli.execute(GenericCli.java:65)
	at org.apache.hadoop.ozone.web.ozShell.s3.S3Shell.execute(S3Shell.java:43)
	at org.apache.hadoop.hdds.cli.GenericCli.run(GenericCli.java:56)
	at org.apache.hadoop.ozone.web.ozShell.s3.S3Shell.main(S3Shell.java:54)
Caused by: java.net.UnknownHostException: om
	... 22 more
om</msg>
<status status="PASS" endtime="20190830 01:13:03.128" starttime="20190830 01:13:03.126"></status>
</kw>
<kw name="Should Be Equal As Integers" library="BuiltIn">
<doc>Fails if objects are unequal after converting them to integers.</doc>
<arguments>
<arg>${rc}</arg>
<arg>0</arg>
</arguments>
<msg timestamp="20190830 01:13:03.128" level="INFO">Argument types are:
&lt;type 'int'&gt;
&lt;type 'unicode'&gt;</msg>
<msg timestamp="20190830 01:13:03.129" level="FAIL">255 != 0</msg>
<status status="FAIL" endtime="20190830 01:13:03.129" starttime="20190830 01:13:03.128"></status>
</kw>
<status status="FAIL" endtime="20190830 01:13:03.129" starttime="20190830 01:13:01.720"></status>
</kw>
<status status="FAIL" endtime="20190830 01:13:03.130" starttime="20190830 01:13:01.676"></status>
</kw>
<status status="FAIL" endtime="20190830 01:13:03.130" starttime="20190830 01:13:01.675"></status>
</kw>
<status status="FAIL" endtime="20190830 01:13:03.130" starttime="20190830 01:13:00.935"></status>
</kw>
<status status="FAIL" endtime="20190830 01:13:03.131" critical="yes" starttime="20190830 01:13:00.934">Setup failed:
255 != 0</status>
</test>
<test id="s1-s9-t3" name="Get Partial object from s3 with both start and endoffset">
<kw type="setup" name="Setup s3 tests" library="commonawslib">
<kw name="Run Keyword" library="BuiltIn">
<doc>Executes the given keyword with the given arguments.</doc>
<arguments>
<arg>Install aws cli</arg>
</arguments>
<kw name="Install aws cli" library="commonlib">
<kw name="Run And Return Rc And Output" library="OperatingSystem">
<doc>Runs the given command in the system and returns the RC and output.</doc>
<arguments>
<arg>which apt-get</arg>
</arguments>
<assign>
<var>${rc}</var>
<var>${output}</var>
</assign>
<msg timestamp="20190830 01:13:03.136" level="INFO">Running command 'which apt-get 2&gt;&amp;1'.</msg>
<msg timestamp="20190830 01:13:03.143" level="INFO">${rc} = 1</msg>
<msg timestamp="20190830 01:13:03.143" level="INFO">${output} = which: no apt-get in (/opt/hadoop/bin/docker:/usr/local/sbin:/usr/local/bin:/usr/sbin:/usr/bin:/sbin:/bin:/opt/hadoop/bin)</msg>
<status status="PASS" endtime="20190830 01:13:03.143" starttime="20190830 01:13:03.134"></status>
</kw>
<kw name="Run Keyword If" library="BuiltIn">
<doc>Runs the given keyword with the given arguments, if ``condition`` is true.</doc>
<arguments>
<arg>'${rc}' == '0'</arg>
<arg>Install aws cli s3 debian</arg>
</arguments>
<status status="PASS" endtime="20190830 01:13:03.144" starttime="20190830 01:13:03.143"></status>
</kw>
<kw name="Run And Return Rc And Output" library="OperatingSystem">
<doc>Runs the given command in the system and returns the RC and output.</doc>
<arguments>
<arg>yum --help</arg>
</arguments>
<assign>
<var>${rc}</var>
<var>${output}</var>
</assign>
<msg timestamp="20190830 01:13:03.146" level="INFO">Running command 'yum --help 2&gt;&amp;1'.</msg>
<msg timestamp="20190830 01:13:03.318" level="INFO">${rc} = 0</msg>
<msg timestamp="20190830 01:13:03.318" level="INFO">${output} = Loaded plugins: fastestmirror, ovl
ovl: Error while doing RPMdb copy-up:
[Errno 13] Permission denied: '/var/lib/rpm/Group'
Usage: yum [options] COMMAND

List of Commands:

check          Check for pr...</msg>
<status status="PASS" endtime="20190830 01:13:03.319" starttime="20190830 01:13:03.145"></status>
</kw>
<kw name="Run Keyword If" library="BuiltIn">
<doc>Runs the given keyword with the given arguments, if ``condition`` is true.</doc>
<arguments>
<arg>'${rc}' == '0'</arg>
<arg>Install aws cli s3 centos</arg>
</arguments>
<kw name="Install aws cli s3 centos" library="commonawslib">
<kw name="Execute" library="commonlib">
<arguments>
<arg>sudo yum install -y awscli</arg>
</arguments>
<kw name="Run And Return Rc And Output" library="OperatingSystem">
<doc>Runs the given command in the system and returns the RC and output.</doc>
<arguments>
<arg>${command}</arg>
</arguments>
<assign>
<var>${rc}</var>
<var>${output}</var>
</assign>
<msg timestamp="20190830 01:13:03.325" level="INFO">Running command 'sudo yum install -y awscli 2&gt;&amp;1'.</msg>
<msg timestamp="20190830 01:13:03.870" level="INFO">${rc} = 0</msg>
<msg timestamp="20190830 01:13:03.870" level="INFO">${output} = Loaded plugins: fastestmirror, ovl
Loading mirror speeds from cached hostfile
 * base: mirror.sjc02.svwh.net
 * epel: sjc.edge.kernel.org
 * extras: sjc.edge.kernel.org
 * updates: sjc.edge.kernel.org...</msg>
<status status="PASS" endtime="20190830 01:13:03.871" starttime="20190830 01:13:03.323"></status>
</kw>
<kw name="Log" library="BuiltIn">
<doc>Logs the given message with the given level.</doc>
<arguments>
<arg>${output}</arg>
</arguments>
<msg timestamp="20190830 01:13:03.873" level="INFO">Loaded plugins: fastestmirror, ovl
Loading mirror speeds from cached hostfile
 * base: mirror.sjc02.svwh.net
 * epel: sjc.edge.kernel.org
 * extras: sjc.edge.kernel.org
 * updates: sjc.edge.kernel.org
Package awscli-1.14.28-5.el7_5.1.noarch already installed and latest version
Nothing to do</msg>
<status status="PASS" endtime="20190830 01:13:03.873" starttime="20190830 01:13:03.871"></status>
</kw>
<kw name="Should Be Equal As Integers" library="BuiltIn">
<doc>Fails if objects are unequal after converting them to integers.</doc>
<arguments>
<arg>${rc}</arg>
<arg>0</arg>
</arguments>
<msg timestamp="20190830 01:13:03.874" level="INFO">Argument types are:
&lt;type 'int'&gt;
&lt;type 'unicode'&gt;</msg>
<status status="PASS" endtime="20190830 01:13:03.874" starttime="20190830 01:13:03.873"></status>
</kw>
<status status="PASS" endtime="20190830 01:13:03.875" starttime="20190830 01:13:03.322"></status>
</kw>
<status status="PASS" endtime="20190830 01:13:03.875" starttime="20190830 01:13:03.321"></status>
</kw>
<status status="PASS" endtime="20190830 01:13:03.875" starttime="20190830 01:13:03.319"></status>
</kw>
<status status="PASS" endtime="20190830 01:13:03.876" starttime="20190830 01:13:03.134"></status>
</kw>
<status status="PASS" endtime="20190830 01:13:03.876" starttime="20190830 01:13:03.133"></status>
</kw>
<kw name="Run Keyword If" library="BuiltIn">
<doc>Runs the given keyword with the given arguments, if ``condition`` is true.</doc>
<arguments>
<arg>'${OZONE_S3_SET_CREDENTIALS}' == 'true'</arg>
<arg>Setup v4 headers</arg>
</arguments>
<kw name="Setup v4 headers" library="commonawslib">
<kw name="Run Keyword If" library="BuiltIn">
<doc>Runs the given keyword with the given arguments, if ``condition`` is true.</doc>
<arguments>
<arg>'${SECURITY_ENABLED}' == 'true'</arg>
<arg>Kinit test user</arg>
<arg>testuser</arg>
<arg>testuser.keytab</arg>
</arguments>
<kw name="Kinit test user" library="commonlib">
<arguments>
<arg>testuser</arg>
<arg>testuser.keytab</arg>
</arguments>
<kw name="Execute" library="commonlib">
<arguments>
<arg>hostname</arg>
</arguments>
<assign>
<var>${hostname}</var>
</assign>
<kw name="Run And Return Rc And Output" library="OperatingSystem">
<doc>Runs the given command in the system and returns the RC and output.</doc>
<arguments>
<arg>${command}</arg>
</arguments>
<assign>
<var>${rc}</var>
<var>${output}</var>
</assign>
<msg timestamp="20190830 01:13:03.883" level="INFO">Running command 'hostname 2&gt;&amp;1'.</msg>
<msg timestamp="20190830 01:13:03.890" level="INFO">${rc} = 0</msg>
<msg timestamp="20190830 01:13:03.890" level="INFO">${output} = s3g</msg>
<status status="PASS" endtime="20190830 01:13:03.890" starttime="20190830 01:13:03.881"></status>
</kw>
<kw name="Log" library="BuiltIn">
<doc>Logs the given message with the given level.</doc>
<arguments>
<arg>${output}</arg>
</arguments>
<msg timestamp="20190830 01:13:03.892" level="INFO">s3g</msg>
<status status="PASS" endtime="20190830 01:13:03.892" starttime="20190830 01:13:03.891"></status>
</kw>
<kw name="Should Be Equal As Integers" library="BuiltIn">
<doc>Fails if objects are unequal after converting them to integers.</doc>
<arguments>
<arg>${rc}</arg>
<arg>0</arg>
</arguments>
<msg timestamp="20190830 01:13:03.893" level="INFO">Argument types are:
&lt;type 'int'&gt;
&lt;type 'unicode'&gt;</msg>
<status status="PASS" endtime="20190830 01:13:03.893" starttime="20190830 01:13:03.893"></status>
</kw>
<msg timestamp="20190830 01:13:03.894" level="INFO">${hostname} = s3g</msg>
<status status="PASS" endtime="20190830 01:13:03.894" starttime="20190830 01:13:03.880"></status>
</kw>
<kw name="Set Suite Variable" library="BuiltIn">
<doc>Makes a variable available everywhere within the scope of the current suite.</doc>
<arguments>
<arg>${TEST_USER}</arg>
<arg>${user}/${hostname}@EXAMPLE.COM</arg>
</arguments>
<msg timestamp="20190830 01:13:03.896" level="INFO">${TEST_USER} = testuser/s3g@EXAMPLE.COM</msg>
<status status="PASS" endtime="20190830 01:13:03.896" starttime="20190830 01:13:03.895"></status>
</kw>
<kw name="Wait Until Keyword Succeeds" library="BuiltIn">
<doc>Runs the specified keyword and retries if it fails.</doc>
<arguments>
<arg>2min</arg>
<arg>10sec</arg>
<arg>Execute</arg>
<arg>kinit -k ${user}/${hostname}@EXAMPLE.COM -t /etc/security/keytabs/${keytab}</arg>
</arguments>
<kw name="Execute" library="commonlib">
<arguments>
<arg>kinit -k ${user}/${hostname}@EXAMPLE.COM -t /etc/security/keytabs/${keytab}</arg>
</arguments>
<kw name="Run And Return Rc And Output" library="OperatingSystem">
<doc>Runs the given command in the system and returns the RC and output.</doc>
<arguments>
<arg>${command}</arg>
</arguments>
<assign>
<var>${rc}</var>
<var>${output}</var>
</assign>
<msg timestamp="20190830 01:13:03.901" level="INFO">Running command 'kinit -k testuser/s3g@EXAMPLE.COM -t /etc/security/keytabs/testuser.keytab 2&gt;&amp;1'.</msg>
<msg timestamp="20190830 01:13:03.916" level="INFO">${rc} = 0</msg>
<msg timestamp="20190830 01:13:03.916" level="INFO">${output} = </msg>
<status status="PASS" endtime="20190830 01:13:03.916" starttime="20190830 01:13:03.899"></status>
</kw>
<kw name="Log" library="BuiltIn">
<doc>Logs the given message with the given level.</doc>
<arguments>
<arg>${output}</arg>
</arguments>
<msg timestamp="20190830 01:13:03.918" level="INFO"></msg>
<status status="PASS" endtime="20190830 01:13:03.918" starttime="20190830 01:13:03.917"></status>
</kw>
<kw name="Should Be Equal As Integers" library="BuiltIn">
<doc>Fails if objects are unequal after converting them to integers.</doc>
<arguments>
<arg>${rc}</arg>
<arg>0</arg>
</arguments>
<msg timestamp="20190830 01:13:03.919" level="INFO">Argument types are:
&lt;type 'int'&gt;
&lt;type 'unicode'&gt;</msg>
<status status="PASS" endtime="20190830 01:13:03.919" starttime="20190830 01:13:03.918"></status>
</kw>
<status status="PASS" endtime="20190830 01:13:03.919" starttime="20190830 01:13:03.897"></status>
</kw>
<status status="PASS" endtime="20190830 01:13:03.920" starttime="20190830 01:13:03.896"></status>
</kw>
<status status="PASS" endtime="20190830 01:13:03.920" starttime="20190830 01:13:03.879"></status>
</kw>
<status status="PASS" endtime="20190830 01:13:03.920" starttime="20190830 01:13:03.878"></status>
</kw>
<kw name="Execute" library="commonlib">
<arguments>
<arg>ozone s3 getsecret</arg>
</arguments>
<assign>
<var>${result}</var>
</assign>
<kw name="Run And Return Rc And Output" library="OperatingSystem">
<doc>Runs the given command in the system and returns the RC and output.</doc>
<arguments>
<arg>${command}</arg>
</arguments>
<assign>
<var>${rc}</var>
<var>${output}</var>
</assign>
<msg timestamp="20190830 01:13:03.923" level="INFO">Running command 'ozone s3 getsecret 2&gt;&amp;1'.</msg>
<msg timestamp="20190830 01:13:05.258" level="INFO">${rc} = 255</msg>
<msg timestamp="20190830 01:13:05.259" level="INFO">${output} = WARNING: An illegal reflective access operation has occurred
WARNING: Illegal reflective access by org.apache.hadoop.security.authentication.util.KerberosUtil (file:/opt/hadoop/share/ozone/lib/hadoop-...</msg>
<status status="PASS" endtime="20190830 01:13:05.259" starttime="20190830 01:13:03.921"></status>
</kw>
<kw name="Log" library="BuiltIn">
<doc>Logs the given message with the given level.</doc>
<arguments>
<arg>${output}</arg>
</arguments>
<msg timestamp="20190830 01:13:05.260" level="INFO">WARNING: An illegal reflective access operation has occurred
WARNING: Illegal reflective access by org.apache.hadoop.security.authentication.util.KerberosUtil (file:/opt/hadoop/share/ozone/lib/hadoop-auth-3.2.0.jar) to method sun.security.krb5.Config.getInstance()
WARNING: Please consider reporting this to the maintainers of org.apache.hadoop.security.authentication.util.KerberosUtil
WARNING: Use --illegal-access=warn to enable warnings of further illegal reflective access operations
WARNING: All illegal access operations will be denied in a future release
2019-08-30 01:13:05 ERROR OzoneClientFactory:192 - Couldn't create RpcClient protocol exception: 
java.lang.IllegalArgumentException: java.net.UnknownHostException: om
	at org.apache.hadoop.security.SecurityUtil.buildTokenService(SecurityUtil.java:447)
	at org.apache.hadoop.ozone.om.ha.OMProxyInfo.&lt;init&gt;(OMProxyInfo.java:40)
	at org.apache.hadoop.ozone.om.ha.OMFailoverProxyProvider.loadOMClientConfigs(OMFailoverProxyProvider.java:109)
	at org.apache.hadoop.ozone.om.ha.OMFailoverProxyProvider.&lt;init&gt;(OMFailoverProxyProvider.java:77)
	at org.apache.hadoop.ozone.om.protocolPB.OzoneManagerProtocolClientSideTranslatorPB.&lt;init&gt;(OzoneManagerProtocolClientSideTranslatorPB.java:195)
	at org.apache.hadoop.ozone.client.rpc.RpcClient.&lt;init&gt;(RpcClient.java:155)
	at org.apache.hadoop.ozone.client.OzoneClientFactory.getClientProtocol(OzoneClientFactory.java:189)
	at org.apache.hadoop.ozone.client.OzoneClientFactory.getRpcClient(OzoneClientFactory.java:152)
	at org.apache.hadoop.ozone.web.ozShell.OzoneAddress.createClient(OzoneAddress.java:102)
	at org.apache.hadoop.ozone.web.ozShell.s3.GetS3SecretHandler.call(GetS3SecretHandler.java:45)
	at org.apache.hadoop.ozone.web.ozShell.s3.GetS3SecretHandler.call(GetS3SecretHandler.java:32)
	at picocli.CommandLine.execute(CommandLine.java:1173)
	at picocli.CommandLine.access$800(CommandLine.java:141)
	at picocli.CommandLine$RunLast.handle(CommandLine.java:1367)
	at picocli.CommandLine$RunLast.handle(CommandLine.java:1335)
	at picocli.CommandLine$AbstractParseResultHandler.handleParseResult(CommandLine.java:1243)
	at picocli.CommandLine.parseWithHandlers(CommandLine.java:1526)
	at picocli.CommandLine.parseWithHandler(CommandLine.java:1465)
	at org.apache.hadoop.hdds.cli.GenericCli.execute(GenericCli.java:65)
	at org.apache.hadoop.ozone.web.ozShell.s3.S3Shell.execute(S3Shell.java:43)
	at org.apache.hadoop.hdds.cli.GenericCli.run(GenericCli.java:56)
	at org.apache.hadoop.ozone.web.ozShell.s3.S3Shell.main(S3Shell.java:54)
Caused by: java.net.UnknownHostException: om
	... 22 more
om</msg>
<status status="PASS" endtime="20190830 01:13:05.260" starttime="20190830 01:13:05.259"></status>
</kw>
<kw name="Should Be Equal As Integers" library="BuiltIn">
<doc>Fails if objects are unequal after converting them to integers.</doc>
<arguments>
<arg>${rc}</arg>
<arg>0</arg>
</arguments>
<msg timestamp="20190830 01:13:05.261" level="INFO">Argument types are:
&lt;type 'int'&gt;
&lt;type 'unicode'&gt;</msg>
<msg timestamp="20190830 01:13:05.261" level="FAIL">255 != 0</msg>
<status status="FAIL" endtime="20190830 01:13:05.261" starttime="20190830 01:13:05.260"></status>
</kw>
<status status="FAIL" endtime="20190830 01:13:05.262" starttime="20190830 01:13:03.920"></status>
</kw>
<status status="FAIL" endtime="20190830 01:13:05.262" starttime="20190830 01:13:03.877"></status>
</kw>
<status status="FAIL" endtime="20190830 01:13:05.262" starttime="20190830 01:13:03.876"></status>
</kw>
<status status="FAIL" endtime="20190830 01:13:05.262" starttime="20190830 01:13:03.132"></status>
</kw>
<status status="FAIL" endtime="20190830 01:13:05.262" critical="yes" starttime="20190830 01:13:03.131">Setup failed:
255 != 0</status>
</test>
<test id="s1-s9-t4" name="Get Partial object from s3 with both start and endoffset(start offset and endoffset is greater than file size)">
<kw type="setup" name="Setup s3 tests" library="commonawslib">
<kw name="Run Keyword" library="BuiltIn">
<doc>Executes the given keyword with the given arguments.</doc>
<arguments>
<arg>Install aws cli</arg>
</arguments>
<kw name="Install aws cli" library="commonlib">
<kw name="Run And Return Rc And Output" library="OperatingSystem">
<doc>Runs the given command in the system and returns the RC and output.</doc>
<arguments>
<arg>which apt-get</arg>
</arguments>
<assign>
<var>${rc}</var>
<var>${output}</var>
</assign>
<msg timestamp="20190830 01:13:05.267" level="INFO">Running command 'which apt-get 2&gt;&amp;1'.</msg>
<msg timestamp="20190830 01:13:05.274" level="INFO">${rc} = 1</msg>
<msg timestamp="20190830 01:13:05.274" level="INFO">${output} = which: no apt-get in (/opt/hadoop/bin/docker:/usr/local/sbin:/usr/local/bin:/usr/sbin:/usr/bin:/sbin:/bin:/opt/hadoop/bin)</msg>
<status status="PASS" endtime="20190830 01:13:05.274" starttime="20190830 01:13:05.265"></status>
</kw>
<kw name="Run Keyword If" library="BuiltIn">
<doc>Runs the given keyword with the given arguments, if ``condition`` is true.</doc>
<arguments>
<arg>'${rc}' == '0'</arg>
<arg>Install aws cli s3 debian</arg>
</arguments>
<status status="PASS" endtime="20190830 01:13:05.276" starttime="20190830 01:13:05.275"></status>
</kw>
<kw name="Run And Return Rc And Output" library="OperatingSystem">
<doc>Runs the given command in the system and returns the RC and output.</doc>
<arguments>
<arg>yum --help</arg>
</arguments>
<assign>
<var>${rc}</var>
<var>${output}</var>
</assign>
<msg timestamp="20190830 01:13:05.278" level="INFO">Running command 'yum --help 2&gt;&amp;1'.</msg>
<msg timestamp="20190830 01:13:05.458" level="INFO">${rc} = 0</msg>
<msg timestamp="20190830 01:13:05.459" level="INFO">${output} = Loaded plugins: fastestmirror, ovl
ovl: Error while doing RPMdb copy-up:
[Errno 13] Permission denied: '/var/lib/rpm/Group'
Usage: yum [options] COMMAND

List of Commands:

check          Check for pr...</msg>
<status status="PASS" endtime="20190830 01:13:05.459" starttime="20190830 01:13:05.276"></status>
</kw>
<kw name="Run Keyword If" library="BuiltIn">
<doc>Runs the given keyword with the given arguments, if ``condition`` is true.</doc>
<arguments>
<arg>'${rc}' == '0'</arg>
<arg>Install aws cli s3 centos</arg>
</arguments>
<kw name="Install aws cli s3 centos" library="commonawslib">
<kw name="Execute" library="commonlib">
<arguments>
<arg>sudo yum install -y awscli</arg>
</arguments>
<kw name="Run And Return Rc And Output" library="OperatingSystem">
<doc>Runs the given command in the system and returns the RC and output.</doc>
<arguments>
<arg>${command}</arg>
</arguments>
<assign>
<var>${rc}</var>
<var>${output}</var>
</assign>
<msg timestamp="20190830 01:13:05.466" level="INFO">Running command 'sudo yum install -y awscli 2&gt;&amp;1'.</msg>
<msg timestamp="20190830 01:13:05.966" level="INFO">${rc} = 0</msg>
<msg timestamp="20190830 01:13:05.967" level="INFO">${output} = Loaded plugins: fastestmirror, ovl
Loading mirror speeds from cached hostfile
 * base: mirror.sjc02.svwh.net
 * epel: sjc.edge.kernel.org
 * extras: sjc.edge.kernel.org
 * updates: sjc.edge.kernel.org...</msg>
<status status="PASS" endtime="20190830 01:13:05.967" starttime="20190830 01:13:05.463"></status>
</kw>
<kw name="Log" library="BuiltIn">
<doc>Logs the given message with the given level.</doc>
<arguments>
<arg>${output}</arg>
</arguments>
<msg timestamp="20190830 01:13:05.969" level="INFO">Loaded plugins: fastestmirror, ovl
Loading mirror speeds from cached hostfile
 * base: mirror.sjc02.svwh.net
 * epel: sjc.edge.kernel.org
 * extras: sjc.edge.kernel.org
 * updates: sjc.edge.kernel.org
Package awscli-1.14.28-5.el7_5.1.noarch already installed and latest version
Nothing to do</msg>
<status status="PASS" endtime="20190830 01:13:05.969" starttime="20190830 01:13:05.968"></status>
</kw>
<kw name="Should Be Equal As Integers" library="BuiltIn">
<doc>Fails if objects are unequal after converting them to integers.</doc>
<arguments>
<arg>${rc}</arg>
<arg>0</arg>
</arguments>
<msg timestamp="20190830 01:13:05.970" level="INFO">Argument types are:
&lt;type 'int'&gt;
&lt;type 'unicode'&gt;</msg>
<status status="PASS" endtime="20190830 01:13:05.970" starttime="20190830 01:13:05.969"></status>
</kw>
<status status="PASS" endtime="20190830 01:13:05.971" starttime="20190830 01:13:05.462"></status>
</kw>
<status status="PASS" endtime="20190830 01:13:05.971" starttime="20190830 01:13:05.461"></status>
</kw>
<status status="PASS" endtime="20190830 01:13:05.971" starttime="20190830 01:13:05.460"></status>
</kw>
<status status="PASS" endtime="20190830 01:13:05.972" starttime="20190830 01:13:05.265"></status>
</kw>
<status status="PASS" endtime="20190830 01:13:05.972" starttime="20190830 01:13:05.264"></status>
</kw>
<kw name="Run Keyword If" library="BuiltIn">
<doc>Runs the given keyword with the given arguments, if ``condition`` is true.</doc>
<arguments>
<arg>'${OZONE_S3_SET_CREDENTIALS}' == 'true'</arg>
<arg>Setup v4 headers</arg>
</arguments>
<kw name="Setup v4 headers" library="commonawslib">
<kw name="Run Keyword If" library="BuiltIn">
<doc>Runs the given keyword with the given arguments, if ``condition`` is true.</doc>
<arguments>
<arg>'${SECURITY_ENABLED}' == 'true'</arg>
<arg>Kinit test user</arg>
<arg>testuser</arg>
<arg>testuser.keytab</arg>
</arguments>
<kw name="Kinit test user" library="commonlib">
<arguments>
<arg>testuser</arg>
<arg>testuser.keytab</arg>
</arguments>
<kw name="Execute" library="commonlib">
<arguments>
<arg>hostname</arg>
</arguments>
<assign>
<var>${hostname}</var>
</assign>
<kw name="Run And Return Rc And Output" library="OperatingSystem">
<doc>Runs the given command in the system and returns the RC and output.</doc>
<arguments>
<arg>${command}</arg>
</arguments>
<assign>
<var>${rc}</var>
<var>${output}</var>
</assign>
<msg timestamp="20190830 01:13:05.979" level="INFO">Running command 'hostname 2&gt;&amp;1'.</msg>
<msg timestamp="20190830 01:13:05.985" level="INFO">${rc} = 0</msg>
<msg timestamp="20190830 01:13:05.986" level="INFO">${output} = s3g</msg>
<status status="PASS" endtime="20190830 01:13:05.986" starttime="20190830 01:13:05.977"></status>
</kw>
<kw name="Log" library="BuiltIn">
<doc>Logs the given message with the given level.</doc>
<arguments>
<arg>${output}</arg>
</arguments>
<msg timestamp="20190830 01:13:05.987" level="INFO">s3g</msg>
<status status="PASS" endtime="20190830 01:13:05.987" starttime="20190830 01:13:05.986"></status>
</kw>
<kw name="Should Be Equal As Integers" library="BuiltIn">
<doc>Fails if objects are unequal after converting them to integers.</doc>
<arguments>
<arg>${rc}</arg>
<arg>0</arg>
</arguments>
<msg timestamp="20190830 01:13:05.988" level="INFO">Argument types are:
&lt;type 'int'&gt;
&lt;type 'unicode'&gt;</msg>
<status status="PASS" endtime="20190830 01:13:05.988" starttime="20190830 01:13:05.987"></status>
</kw>
<msg timestamp="20190830 01:13:05.988" level="INFO">${hostname} = s3g</msg>
<status status="PASS" endtime="20190830 01:13:05.989" starttime="20190830 01:13:05.976"></status>
</kw>
<kw name="Set Suite Variable" library="BuiltIn">
<doc>Makes a variable available everywhere within the scope of the current suite.</doc>
<arguments>
<arg>${TEST_USER}</arg>
<arg>${user}/${hostname}@EXAMPLE.COM</arg>
</arguments>
<msg timestamp="20190830 01:13:05.990" level="INFO">${TEST_USER} = testuser/s3g@EXAMPLE.COM</msg>
<status status="PASS" endtime="20190830 01:13:05.990" starttime="20190830 01:13:05.989"></status>
</kw>
<kw name="Wait Until Keyword Succeeds" library="BuiltIn">
<doc>Runs the specified keyword and retries if it fails.</doc>
<arguments>
<arg>2min</arg>
<arg>10sec</arg>
<arg>Execute</arg>
<arg>kinit -k ${user}/${hostname}@EXAMPLE.COM -t /etc/security/keytabs/${keytab}</arg>
</arguments>
<kw name="Execute" library="commonlib">
<arguments>
<arg>kinit -k ${user}/${hostname}@EXAMPLE.COM -t /etc/security/keytabs/${keytab}</arg>
</arguments>
<kw name="Run And Return Rc And Output" library="OperatingSystem">
<doc>Runs the given command in the system and returns the RC and output.</doc>
<arguments>
<arg>${command}</arg>
</arguments>
<assign>
<var>${rc}</var>
<var>${output}</var>
</assign>
<msg timestamp="20190830 01:13:05.994" level="INFO">Running command 'kinit -k testuser/s3g@EXAMPLE.COM -t /etc/security/keytabs/testuser.keytab 2&gt;&amp;1'.</msg>
<msg timestamp="20190830 01:13:06.008" level="INFO">${rc} = 0</msg>
<msg timestamp="20190830 01:13:06.009" level="INFO">${output} = </msg>
<status status="PASS" endtime="20190830 01:13:06.009" starttime="20190830 01:13:05.992"></status>
</kw>
<kw name="Log" library="BuiltIn">
<doc>Logs the given message with the given level.</doc>
<arguments>
<arg>${output}</arg>
</arguments>
<msg timestamp="20190830 01:13:06.010" level="INFO"></msg>
<status status="PASS" endtime="20190830 01:13:06.010" starttime="20190830 01:13:06.009"></status>
</kw>
<kw name="Should Be Equal As Integers" library="BuiltIn">
<doc>Fails if objects are unequal after converting them to integers.</doc>
<arguments>
<arg>${rc}</arg>
<arg>0</arg>
</arguments>
<msg timestamp="20190830 01:13:06.011" level="INFO">Argument types are:
&lt;type 'int'&gt;
&lt;type 'unicode'&gt;</msg>
<status status="PASS" endtime="20190830 01:13:06.011" starttime="20190830 01:13:06.010"></status>
</kw>
<status status="PASS" endtime="20190830 01:13:06.011" starttime="20190830 01:13:05.991"></status>
</kw>
<status status="PASS" endtime="20190830 01:13:06.011" starttime="20190830 01:13:05.990"></status>
</kw>
<status status="PASS" endtime="20190830 01:13:06.012" starttime="20190830 01:13:05.975"></status>
</kw>
<status status="PASS" endtime="20190830 01:13:06.012" starttime="20190830 01:13:05.974"></status>
</kw>
<kw name="Execute" library="commonlib">
<arguments>
<arg>ozone s3 getsecret</arg>
</arguments>
<assign>
<var>${result}</var>
</assign>
<kw name="Run And Return Rc And Output" library="OperatingSystem">
<doc>Runs the given command in the system and returns the RC and output.</doc>
<arguments>
<arg>${command}</arg>
</arguments>
<assign>
<var>${rc}</var>
<var>${output}</var>
</assign>
<msg timestamp="20190830 01:13:06.014" level="INFO">Running command 'ozone s3 getsecret 2&gt;&amp;1'.</msg>
<msg timestamp="20190830 01:13:07.469" level="INFO">${rc} = 255</msg>
<msg timestamp="20190830 01:13:07.469" level="INFO">${output} = WARNING: An illegal reflective access operation has occurred
WARNING: Illegal reflective access by org.apache.hadoop.security.authentication.util.KerberosUtil (file:/opt/hadoop/share/ozone/lib/hadoop-...</msg>
<status status="PASS" endtime="20190830 01:13:07.469" starttime="20190830 01:13:06.012"></status>
</kw>
<kw name="Log" library="BuiltIn">
<doc>Logs the given message with the given level.</doc>
<arguments>
<arg>${output}</arg>
</arguments>
<msg timestamp="20190830 01:13:07.471" level="INFO">WARNING: An illegal reflective access operation has occurred
WARNING: Illegal reflective access by org.apache.hadoop.security.authentication.util.KerberosUtil (file:/opt/hadoop/share/ozone/lib/hadoop-auth-3.2.0.jar) to method sun.security.krb5.Config.getInstance()
WARNING: Please consider reporting this to the maintainers of org.apache.hadoop.security.authentication.util.KerberosUtil
WARNING: Use --illegal-access=warn to enable warnings of further illegal reflective access operations
WARNING: All illegal access operations will be denied in a future release
2019-08-30 01:13:07 ERROR OzoneClientFactory:192 - Couldn't create RpcClient protocol exception: 
java.lang.IllegalArgumentException: java.net.UnknownHostException: om
	at org.apache.hadoop.security.SecurityUtil.buildTokenService(SecurityUtil.java:447)
	at org.apache.hadoop.ozone.om.ha.OMProxyInfo.&lt;init&gt;(OMProxyInfo.java:40)
	at org.apache.hadoop.ozone.om.ha.OMFailoverProxyProvider.loadOMClientConfigs(OMFailoverProxyProvider.java:109)
	at org.apache.hadoop.ozone.om.ha.OMFailoverProxyProvider.&lt;init&gt;(OMFailoverProxyProvider.java:77)
	at org.apache.hadoop.ozone.om.protocolPB.OzoneManagerProtocolClientSideTranslatorPB.&lt;init&gt;(OzoneManagerProtocolClientSideTranslatorPB.java:195)
	at org.apache.hadoop.ozone.client.rpc.RpcClient.&lt;init&gt;(RpcClient.java:155)
	at org.apache.hadoop.ozone.client.OzoneClientFactory.getClientProtocol(OzoneClientFactory.java:189)
	at org.apache.hadoop.ozone.client.OzoneClientFactory.getRpcClient(OzoneClientFactory.java:152)
	at org.apache.hadoop.ozone.web.ozShell.OzoneAddress.createClient(OzoneAddress.java:102)
	at org.apache.hadoop.ozone.web.ozShell.s3.GetS3SecretHandler.call(GetS3SecretHandler.java:45)
	at org.apache.hadoop.ozone.web.ozShell.s3.GetS3SecretHandler.call(GetS3SecretHandler.java:32)
	at picocli.CommandLine.execute(CommandLine.java:1173)
	at picocli.CommandLine.access$800(CommandLine.java:141)
	at picocli.CommandLine$RunLast.handle(CommandLine.java:1367)
	at picocli.CommandLine$RunLast.handle(CommandLine.java:1335)
	at picocli.CommandLine$AbstractParseResultHandler.handleParseResult(CommandLine.java:1243)
	at picocli.CommandLine.parseWithHandlers(CommandLine.java:1526)
	at picocli.CommandLine.parseWithHandler(CommandLine.java:1465)
	at org.apache.hadoop.hdds.cli.GenericCli.execute(GenericCli.java:65)
	at org.apache.hadoop.ozone.web.ozShell.s3.S3Shell.execute(S3Shell.java:43)
	at org.apache.hadoop.hdds.cli.GenericCli.run(GenericCli.java:56)
	at org.apache.hadoop.ozone.web.ozShell.s3.S3Shell.main(S3Shell.java:54)
Caused by: java.net.UnknownHostException: om
	... 22 more
om</msg>
<status status="PASS" endtime="20190830 01:13:07.471" starttime="20190830 01:13:07.470"></status>
</kw>
<kw name="Should Be Equal As Integers" library="BuiltIn">
<doc>Fails if objects are unequal after converting them to integers.</doc>
<arguments>
<arg>${rc}</arg>
<arg>0</arg>
</arguments>
<msg timestamp="20190830 01:13:07.471" level="INFO">Argument types are:
&lt;type 'int'&gt;
&lt;type 'unicode'&gt;</msg>
<msg timestamp="20190830 01:13:07.472" level="FAIL">255 != 0</msg>
<status status="FAIL" endtime="20190830 01:13:07.472" starttime="20190830 01:13:07.471"></status>
</kw>
<status status="FAIL" endtime="20190830 01:13:07.472" starttime="20190830 01:13:06.012"></status>
</kw>
<status status="FAIL" endtime="20190830 01:13:07.472" starttime="20190830 01:13:05.973"></status>
</kw>
<status status="FAIL" endtime="20190830 01:13:07.473" starttime="20190830 01:13:05.972"></status>
</kw>
<status status="FAIL" endtime="20190830 01:13:07.473" starttime="20190830 01:13:05.264"></status>
</kw>
<status status="FAIL" endtime="20190830 01:13:07.473" critical="yes" starttime="20190830 01:13:05.263">Setup failed:
255 != 0</status>
</test>
<test id="s1-s9-t5" name="Get Partial object from s3 with both start and endoffset(end offset is greater than file size)">
<kw type="setup" name="Setup s3 tests" library="commonawslib">
<kw name="Run Keyword" library="BuiltIn">
<doc>Executes the given keyword with the given arguments.</doc>
<arguments>
<arg>Install aws cli</arg>
</arguments>
<kw name="Install aws cli" library="commonlib">
<kw name="Run And Return Rc And Output" library="OperatingSystem">
<doc>Runs the given command in the system and returns the RC and output.</doc>
<arguments>
<arg>which apt-get</arg>
</arguments>
<assign>
<var>${rc}</var>
<var>${output}</var>
</assign>
<msg timestamp="20190830 01:13:07.479" level="INFO">Running command 'which apt-get 2&gt;&amp;1'.</msg>
<msg timestamp="20190830 01:13:07.484" level="INFO">${rc} = 1</msg>
<msg timestamp="20190830 01:13:07.484" level="INFO">${output} = which: no apt-get in (/opt/hadoop/bin/docker:/usr/local/sbin:/usr/local/bin:/usr/sbin:/usr/bin:/sbin:/bin:/opt/hadoop/bin)</msg>
<status status="PASS" endtime="20190830 01:13:07.484" starttime="20190830 01:13:07.477"></status>
</kw>
<kw name="Run Keyword If" library="BuiltIn">
<doc>Runs the given keyword with the given arguments, if ``condition`` is true.</doc>
<arguments>
<arg>'${rc}' == '0'</arg>
<arg>Install aws cli s3 debian</arg>
</arguments>
<status status="PASS" endtime="20190830 01:13:07.485" starttime="20190830 01:13:07.484"></status>
</kw>
<kw name="Run And Return Rc And Output" library="OperatingSystem">
<doc>Runs the given command in the system and returns the RC and output.</doc>
<arguments>
<arg>yum --help</arg>
</arguments>
<assign>
<var>${rc}</var>
<var>${output}</var>
</assign>
<msg timestamp="20190830 01:13:07.487" level="INFO">Running command 'yum --help 2&gt;&amp;1'.</msg>
<msg timestamp="20190830 01:13:07.660" level="INFO">${rc} = 0</msg>
<msg timestamp="20190830 01:13:07.660" level="INFO">${output} = Loaded plugins: fastestmirror, ovl
ovl: Error while doing RPMdb copy-up:
[Errno 13] Permission denied: '/var/lib/rpm/Group'
Usage: yum [options] COMMAND

List of Commands:

check          Check for pr...</msg>
<status status="PASS" endtime="20190830 01:13:07.660" starttime="20190830 01:13:07.485"></status>
</kw>
<kw name="Run Keyword If" library="BuiltIn">
<doc>Runs the given keyword with the given arguments, if ``condition`` is true.</doc>
<arguments>
<arg>'${rc}' == '0'</arg>
<arg>Install aws cli s3 centos</arg>
</arguments>
<kw name="Install aws cli s3 centos" library="commonawslib">
<kw name="Execute" library="commonlib">
<arguments>
<arg>sudo yum install -y awscli</arg>
</arguments>
<kw name="Run And Return Rc And Output" library="OperatingSystem">
<doc>Runs the given command in the system and returns the RC and output.</doc>
<arguments>
<arg>${command}</arg>
</arguments>
<assign>
<var>${rc}</var>
<var>${output}</var>
</assign>
<msg timestamp="20190830 01:13:07.669" level="INFO">Running command 'sudo yum install -y awscli 2&gt;&amp;1'.</msg>
<msg timestamp="20190830 01:13:08.247" level="INFO">${rc} = 0</msg>
<msg timestamp="20190830 01:13:08.247" level="INFO">${output} = Loaded plugins: fastestmirror, ovl
Loading mirror speeds from cached hostfile
 * base: mirror.sjc02.svwh.net
 * epel: sjc.edge.kernel.org
 * extras: sjc.edge.kernel.org
 * updates: sjc.edge.kernel.org...</msg>
<status status="PASS" endtime="20190830 01:13:08.247" starttime="20190830 01:13:07.666"></status>
</kw>
<kw name="Log" library="BuiltIn">
<doc>Logs the given message with the given level.</doc>
<arguments>
<arg>${output}</arg>
</arguments>
<msg timestamp="20190830 01:13:08.248" level="INFO">Loaded plugins: fastestmirror, ovl
Loading mirror speeds from cached hostfile
 * base: mirror.sjc02.svwh.net
 * epel: sjc.edge.kernel.org
 * extras: sjc.edge.kernel.org
 * updates: sjc.edge.kernel.org
Package awscli-1.14.28-5.el7_5.1.noarch already installed and latest version
Nothing to do</msg>
<status status="PASS" endtime="20190830 01:13:08.249" starttime="20190830 01:13:08.248"></status>
</kw>
<kw name="Should Be Equal As Integers" library="BuiltIn">
<doc>Fails if objects are unequal after converting them to integers.</doc>
<arguments>
<arg>${rc}</arg>
<arg>0</arg>
</arguments>
<msg timestamp="20190830 01:13:08.249" level="INFO">Argument types are:
&lt;type 'int'&gt;
&lt;type 'unicode'&gt;</msg>
<status status="PASS" endtime="20190830 01:13:08.250" starttime="20190830 01:13:08.249"></status>
</kw>
<status status="PASS" endtime="20190830 01:13:08.250" starttime="20190830 01:13:07.665"></status>
</kw>
<status status="PASS" endtime="20190830 01:13:08.250" starttime="20190830 01:13:07.664"></status>
</kw>
<status status="PASS" endtime="20190830 01:13:08.250" starttime="20190830 01:13:07.662"></status>
</kw>
<status status="PASS" endtime="20190830 01:13:08.251" starttime="20190830 01:13:07.476"></status>
</kw>
<status status="PASS" endtime="20190830 01:13:08.251" starttime="20190830 01:13:07.476"></status>
</kw>
<kw name="Run Keyword If" library="BuiltIn">
<doc>Runs the given keyword with the given arguments, if ``condition`` is true.</doc>
<arguments>
<arg>'${OZONE_S3_SET_CREDENTIALS}' == 'true'</arg>
<arg>Setup v4 headers</arg>
</arguments>
<kw name="Setup v4 headers" library="commonawslib">
<kw name="Run Keyword If" library="BuiltIn">
<doc>Runs the given keyword with the given arguments, if ``condition`` is true.</doc>
<arguments>
<arg>'${SECURITY_ENABLED}' == 'true'</arg>
<arg>Kinit test user</arg>
<arg>testuser</arg>
<arg>testuser.keytab</arg>
</arguments>
<kw name="Kinit test user" library="commonlib">
<arguments>
<arg>testuser</arg>
<arg>testuser.keytab</arg>
</arguments>
<kw name="Execute" library="commonlib">
<arguments>
<arg>hostname</arg>
</arguments>
<assign>
<var>${hostname}</var>
</assign>
<kw name="Run And Return Rc And Output" library="OperatingSystem">
<doc>Runs the given command in the system and returns the RC and output.</doc>
<arguments>
<arg>${command}</arg>
</arguments>
<assign>
<var>${rc}</var>
<var>${output}</var>
</assign>
<msg timestamp="20190830 01:13:08.256" level="INFO">Running command 'hostname 2&gt;&amp;1'.</msg>
<msg timestamp="20190830 01:13:08.262" level="INFO">${rc} = 0</msg>
<msg timestamp="20190830 01:13:08.262" level="INFO">${output} = s3g</msg>
<status status="PASS" endtime="20190830 01:13:08.262" starttime="20190830 01:13:08.254"></status>
</kw>
<kw name="Log" library="BuiltIn">
<doc>Logs the given message with the given level.</doc>
<arguments>
<arg>${output}</arg>
</arguments>
<msg timestamp="20190830 01:13:08.264" level="INFO">s3g</msg>
<status status="PASS" endtime="20190830 01:13:08.264" starttime="20190830 01:13:08.263"></status>
</kw>
<kw name="Should Be Equal As Integers" library="BuiltIn">
<doc>Fails if objects are unequal after converting them to integers.</doc>
<arguments>
<arg>${rc}</arg>
<arg>0</arg>
</arguments>
<msg timestamp="20190830 01:13:08.264" level="INFO">Argument types are:
&lt;type 'int'&gt;
&lt;type 'unicode'&gt;</msg>
<status status="PASS" endtime="20190830 01:13:08.265" starttime="20190830 01:13:08.264"></status>
</kw>
<msg timestamp="20190830 01:13:08.265" level="INFO">${hostname} = s3g</msg>
<status status="PASS" endtime="20190830 01:13:08.265" starttime="20190830 01:13:08.254"></status>
</kw>
<kw name="Set Suite Variable" library="BuiltIn">
<doc>Makes a variable available everywhere within the scope of the current suite.</doc>
<arguments>
<arg>${TEST_USER}</arg>
<arg>${user}/${hostname}@EXAMPLE.COM</arg>
</arguments>
<msg timestamp="20190830 01:13:08.266" level="INFO">${TEST_USER} = testuser/s3g@EXAMPLE.COM</msg>
<status status="PASS" endtime="20190830 01:13:08.266" starttime="20190830 01:13:08.265"></status>
</kw>
<kw name="Wait Until Keyword Succeeds" library="BuiltIn">
<doc>Runs the specified keyword and retries if it fails.</doc>
<arguments>
<arg>2min</arg>
<arg>10sec</arg>
<arg>Execute</arg>
<arg>kinit -k ${user}/${hostname}@EXAMPLE.COM -t /etc/security/keytabs/${keytab}</arg>
</arguments>
<kw name="Execute" library="commonlib">
<arguments>
<arg>kinit -k ${user}/${hostname}@EXAMPLE.COM -t /etc/security/keytabs/${keytab}</arg>
</arguments>
<kw name="Run And Return Rc And Output" library="OperatingSystem">
<doc>Runs the given command in the system and returns the RC and output.</doc>
<arguments>
<arg>${command}</arg>
</arguments>
<assign>
<var>${rc}</var>
<var>${output}</var>
</assign>
<msg timestamp="20190830 01:13:08.271" level="INFO">Running command 'kinit -k testuser/s3g@EXAMPLE.COM -t /etc/security/keytabs/testuser.keytab 2&gt;&amp;1'.</msg>
<msg timestamp="20190830 01:13:08.286" level="INFO">${rc} = 0</msg>
<msg timestamp="20190830 01:13:08.286" level="INFO">${output} = </msg>
<status status="PASS" endtime="20190830 01:13:08.286" starttime="20190830 01:13:08.269"></status>
</kw>
<kw name="Log" library="BuiltIn">
<doc>Logs the given message with the given level.</doc>
<arguments>
<arg>${output}</arg>
</arguments>
<msg timestamp="20190830 01:13:08.288" level="INFO"></msg>
<status status="PASS" endtime="20190830 01:13:08.288" starttime="20190830 01:13:08.287"></status>
</kw>
<kw name="Should Be Equal As Integers" library="BuiltIn">
<doc>Fails if objects are unequal after converting them to integers.</doc>
<arguments>
<arg>${rc}</arg>
<arg>0</arg>
</arguments>
<msg timestamp="20190830 01:13:08.289" level="INFO">Argument types are:
&lt;type 'int'&gt;
&lt;type 'unicode'&gt;</msg>
<status status="PASS" endtime="20190830 01:13:08.289" starttime="20190830 01:13:08.288"></status>
</kw>
<status status="PASS" endtime="20190830 01:13:08.289" starttime="20190830 01:13:08.267"></status>
</kw>
<status status="PASS" endtime="20190830 01:13:08.290" starttime="20190830 01:13:08.267"></status>
</kw>
<status status="PASS" endtime="20190830 01:13:08.290" starttime="20190830 01:13:08.253"></status>
</kw>
<status status="PASS" endtime="20190830 01:13:08.290" starttime="20190830 01:13:08.252"></status>
</kw>
<kw name="Execute" library="commonlib">
<arguments>
<arg>ozone s3 getsecret</arg>
</arguments>
<assign>
<var>${result}</var>
</assign>
<kw name="Run And Return Rc And Output" library="OperatingSystem">
<doc>Runs the given command in the system and returns the RC and output.</doc>
<arguments>
<arg>${command}</arg>
</arguments>
<assign>
<var>${rc}</var>
<var>${output}</var>
</assign>
<msg timestamp="20190830 01:13:08.293" level="INFO">Running command 'ozone s3 getsecret 2&gt;&amp;1'.</msg>
<msg timestamp="20190830 01:13:09.749" level="INFO">${rc} = 255</msg>
<msg timestamp="20190830 01:13:09.749" level="INFO">${output} = WARNING: An illegal reflective access operation has occurred
WARNING: Illegal reflective access by org.apache.hadoop.security.authentication.util.KerberosUtil (file:/opt/hadoop/share/ozone/lib/hadoop-...</msg>
<status status="PASS" endtime="20190830 01:13:09.749" starttime="20190830 01:13:08.291"></status>
</kw>
<kw name="Log" library="BuiltIn">
<doc>Logs the given message with the given level.</doc>
<arguments>
<arg>${output}</arg>
</arguments>
<msg timestamp="20190830 01:13:09.751" level="INFO">WARNING: An illegal reflective access operation has occurred
WARNING: Illegal reflective access by org.apache.hadoop.security.authentication.util.KerberosUtil (file:/opt/hadoop/share/ozone/lib/hadoop-auth-3.2.0.jar) to method sun.security.krb5.Config.getInstance()
WARNING: Please consider reporting this to the maintainers of org.apache.hadoop.security.authentication.util.KerberosUtil
WARNING: Use --illegal-access=warn to enable warnings of further illegal reflective access operations
WARNING: All illegal access operations will be denied in a future release
2019-08-30 01:13:09 ERROR OzoneClientFactory:192 - Couldn't create RpcClient protocol exception: 
java.lang.IllegalArgumentException: java.net.UnknownHostException: om
	at org.apache.hadoop.security.SecurityUtil.buildTokenService(SecurityUtil.java:447)
	at org.apache.hadoop.ozone.om.ha.OMProxyInfo.&lt;init&gt;(OMProxyInfo.java:40)
	at org.apache.hadoop.ozone.om.ha.OMFailoverProxyProvider.loadOMClientConfigs(OMFailoverProxyProvider.java:109)
	at org.apache.hadoop.ozone.om.ha.OMFailoverProxyProvider.&lt;init&gt;(OMFailoverProxyProvider.java:77)
	at org.apache.hadoop.ozone.om.protocolPB.OzoneManagerProtocolClientSideTranslatorPB.&lt;init&gt;(OzoneManagerProtocolClientSideTranslatorPB.java:195)
	at org.apache.hadoop.ozone.client.rpc.RpcClient.&lt;init&gt;(RpcClient.java:155)
	at org.apache.hadoop.ozone.client.OzoneClientFactory.getClientProtocol(OzoneClientFactory.java:189)
	at org.apache.hadoop.ozone.client.OzoneClientFactory.getRpcClient(OzoneClientFactory.java:152)
	at org.apache.hadoop.ozone.web.ozShell.OzoneAddress.createClient(OzoneAddress.java:102)
	at org.apache.hadoop.ozone.web.ozShell.s3.GetS3SecretHandler.call(GetS3SecretHandler.java:45)
	at org.apache.hadoop.ozone.web.ozShell.s3.GetS3SecretHandler.call(GetS3SecretHandler.java:32)
	at picocli.CommandLine.execute(CommandLine.java:1173)
	at picocli.CommandLine.access$800(CommandLine.java:141)
	at picocli.CommandLine$RunLast.handle(CommandLine.java:1367)
	at picocli.CommandLine$RunLast.handle(CommandLine.java:1335)
	at picocli.CommandLine$AbstractParseResultHandler.handleParseResult(CommandLine.java:1243)
	at picocli.CommandLine.parseWithHandlers(CommandLine.java:1526)
	at picocli.CommandLine.parseWithHandler(CommandLine.java:1465)
	at org.apache.hadoop.hdds.cli.GenericCli.execute(GenericCli.java:65)
	at org.apache.hadoop.ozone.web.ozShell.s3.S3Shell.execute(S3Shell.java:43)
	at org.apache.hadoop.hdds.cli.GenericCli.run(GenericCli.java:56)
	at org.apache.hadoop.ozone.web.ozShell.s3.S3Shell.main(S3Shell.java:54)
Caused by: java.net.UnknownHostException: om
	... 22 more
om</msg>
<status status="PASS" endtime="20190830 01:13:09.751" starttime="20190830 01:13:09.750"></status>
</kw>
<kw name="Should Be Equal As Integers" library="BuiltIn">
<doc>Fails if objects are unequal after converting them to integers.</doc>
<arguments>
<arg>${rc}</arg>
<arg>0</arg>
</arguments>
<msg timestamp="20190830 01:13:09.752" level="INFO">Argument types are:
&lt;type 'int'&gt;
&lt;type 'unicode'&gt;</msg>
<msg timestamp="20190830 01:13:09.752" level="FAIL">255 != 0</msg>
<status status="FAIL" endtime="20190830 01:13:09.753" starttime="20190830 01:13:09.751"></status>
</kw>
<status status="FAIL" endtime="20190830 01:13:09.753" starttime="20190830 01:13:08.290"></status>
</kw>
<status status="FAIL" endtime="20190830 01:13:09.753" starttime="20190830 01:13:08.252"></status>
</kw>
<status status="FAIL" endtime="20190830 01:13:09.753" starttime="20190830 01:13:08.251"></status>
</kw>
<status status="FAIL" endtime="20190830 01:13:09.754" starttime="20190830 01:13:07.475"></status>
</kw>
<status status="FAIL" endtime="20190830 01:13:09.754" critical="yes" starttime="20190830 01:13:07.474">Setup failed:
255 != 0</status>
</test>
<test id="s1-s9-t6" name="Get Partial object from s3 with only start offset">
<kw type="setup" name="Setup s3 tests" library="commonawslib">
<kw name="Run Keyword" library="BuiltIn">
<doc>Executes the given keyword with the given arguments.</doc>
<arguments>
<arg>Install aws cli</arg>
</arguments>
<kw name="Install aws cli" library="commonlib">
<kw name="Run And Return Rc And Output" library="OperatingSystem">
<doc>Runs the given command in the system and returns the RC and output.</doc>
<arguments>
<arg>which apt-get</arg>
</arguments>
<assign>
<var>${rc}</var>
<var>${output}</var>
</assign>
<msg timestamp="20190830 01:13:09.760" level="INFO">Running command 'which apt-get 2&gt;&amp;1'.</msg>
<msg timestamp="20190830 01:13:09.767" level="INFO">${rc} = 1</msg>
<msg timestamp="20190830 01:13:09.767" level="INFO">${output} = which: no apt-get in (/opt/hadoop/bin/docker:/usr/local/sbin:/usr/local/bin:/usr/sbin:/usr/bin:/sbin:/bin:/opt/hadoop/bin)</msg>
<status status="PASS" endtime="20190830 01:13:09.767" starttime="20190830 01:13:09.758"></status>
</kw>
<kw name="Run Keyword If" library="BuiltIn">
<doc>Runs the given keyword with the given arguments, if ``condition`` is true.</doc>
<arguments>
<arg>'${rc}' == '0'</arg>
<arg>Install aws cli s3 debian</arg>
</arguments>
<status status="PASS" endtime="20190830 01:13:09.769" starttime="20190830 01:13:09.768"></status>
</kw>
<kw name="Run And Return Rc And Output" library="OperatingSystem">
<doc>Runs the given command in the system and returns the RC and output.</doc>
<arguments>
<arg>yum --help</arg>
</arguments>
<assign>
<var>${rc}</var>
<var>${output}</var>
</assign>
<msg timestamp="20190830 01:13:09.771" level="INFO">Running command 'yum --help 2&gt;&amp;1'.</msg>
<msg timestamp="20190830 01:13:10.003" level="INFO">${rc} = 0</msg>
<msg timestamp="20190830 01:13:10.004" level="INFO">${output} = Loaded plugins: fastestmirror, ovl
ovl: Error while doing RPMdb copy-up:
[Errno 13] Permission denied: '/var/lib/rpm/Group'
Usage: yum [options] COMMAND

List of Commands:

check          Check for pr...</msg>
<status status="PASS" endtime="20190830 01:13:10.004" starttime="20190830 01:13:09.769"></status>
</kw>
<kw name="Run Keyword If" library="BuiltIn">
<doc>Runs the given keyword with the given arguments, if ``condition`` is true.</doc>
<arguments>
<arg>'${rc}' == '0'</arg>
<arg>Install aws cli s3 centos</arg>
</arguments>
<kw name="Install aws cli s3 centos" library="commonawslib">
<kw name="Execute" library="commonlib">
<arguments>
<arg>sudo yum install -y awscli</arg>
</arguments>
<kw name="Run And Return Rc And Output" library="OperatingSystem">
<doc>Runs the given command in the system and returns the RC and output.</doc>
<arguments>
<arg>${command}</arg>
</arguments>
<assign>
<var>${rc}</var>
<var>${output}</var>
</assign>
<msg timestamp="20190830 01:13:10.010" level="INFO">Running command 'sudo yum install -y awscli 2&gt;&amp;1'.</msg>
<msg timestamp="20190830 01:13:10.586" level="INFO">${rc} = 0</msg>
<msg timestamp="20190830 01:13:10.586" level="INFO">${output} = Loaded plugins: fastestmirror, ovl
Loading mirror speeds from cached hostfile
 * base: mirror.sjc02.svwh.net
 * epel: sjc.edge.kernel.org
 * extras: sjc.edge.kernel.org
 * updates: sjc.edge.kernel.org...</msg>
<status status="PASS" endtime="20190830 01:13:10.586" starttime="20190830 01:13:10.008"></status>
</kw>
<kw name="Log" library="BuiltIn">
<doc>Logs the given message with the given level.</doc>
<arguments>
<arg>${output}</arg>
</arguments>
<msg timestamp="20190830 01:13:10.588" level="INFO">Loaded plugins: fastestmirror, ovl
Loading mirror speeds from cached hostfile
 * base: mirror.sjc02.svwh.net
 * epel: sjc.edge.kernel.org
 * extras: sjc.edge.kernel.org
 * updates: sjc.edge.kernel.org
Package awscli-1.14.28-5.el7_5.1.noarch already installed and latest version
Nothing to do</msg>
<status status="PASS" endtime="20190830 01:13:10.588" starttime="20190830 01:13:10.587"></status>
</kw>
<kw name="Should Be Equal As Integers" library="BuiltIn">
<doc>Fails if objects are unequal after converting them to integers.</doc>
<arguments>
<arg>${rc}</arg>
<arg>0</arg>
</arguments>
<msg timestamp="20190830 01:13:10.589" level="INFO">Argument types are:
&lt;type 'int'&gt;
&lt;type 'unicode'&gt;</msg>
<status status="PASS" endtime="20190830 01:13:10.590" starttime="20190830 01:13:10.589"></status>
</kw>
<status status="PASS" endtime="20190830 01:13:10.590" starttime="20190830 01:13:10.007"></status>
</kw>
<status status="PASS" endtime="20190830 01:13:10.590" starttime="20190830 01:13:10.006"></status>
</kw>
<status status="PASS" endtime="20190830 01:13:10.591" starttime="20190830 01:13:10.005"></status>
</kw>
<status status="PASS" endtime="20190830 01:13:10.591" starttime="20190830 01:13:09.757"></status>
</kw>
<status status="PASS" endtime="20190830 01:13:10.591" starttime="20190830 01:13:09.757"></status>
</kw>
<kw name="Run Keyword If" library="BuiltIn">
<doc>Runs the given keyword with the given arguments, if ``condition`` is true.</doc>
<arguments>
<arg>'${OZONE_S3_SET_CREDENTIALS}' == 'true'</arg>
<arg>Setup v4 headers</arg>
</arguments>
<kw name="Setup v4 headers" library="commonawslib">
<kw name="Run Keyword If" library="BuiltIn">
<doc>Runs the given keyword with the given arguments, if ``condition`` is true.</doc>
<arguments>
<arg>'${SECURITY_ENABLED}' == 'true'</arg>
<arg>Kinit test user</arg>
<arg>testuser</arg>
<arg>testuser.keytab</arg>
</arguments>
<kw name="Kinit test user" library="commonlib">
<arguments>
<arg>testuser</arg>
<arg>testuser.keytab</arg>
</arguments>
<kw name="Execute" library="commonlib">
<arguments>
<arg>hostname</arg>
</arguments>
<assign>
<var>${hostname}</var>
</assign>
<kw name="Run And Return Rc And Output" library="OperatingSystem">
<doc>Runs the given command in the system and returns the RC and output.</doc>
<arguments>
<arg>${command}</arg>
</arguments>
<assign>
<var>${rc}</var>
<var>${output}</var>
</assign>
<msg timestamp="20190830 01:13:10.598" level="INFO">Running command 'hostname 2&gt;&amp;1'.</msg>
<msg timestamp="20190830 01:13:10.606" level="INFO">${rc} = 0</msg>
<msg timestamp="20190830 01:13:10.606" level="INFO">${output} = s3g</msg>
<status status="PASS" endtime="20190830 01:13:10.606" starttime="20190830 01:13:10.596"></status>
</kw>
<kw name="Log" library="BuiltIn">
<doc>Logs the given message with the given level.</doc>
<arguments>
<arg>${output}</arg>
</arguments>
<msg timestamp="20190830 01:13:10.608" level="INFO">s3g</msg>
<status status="PASS" endtime="20190830 01:13:10.608" starttime="20190830 01:13:10.607"></status>
</kw>
<kw name="Should Be Equal As Integers" library="BuiltIn">
<doc>Fails if objects are unequal after converting them to integers.</doc>
<arguments>
<arg>${rc}</arg>
<arg>0</arg>
</arguments>
<msg timestamp="20190830 01:13:10.609" level="INFO">Argument types are:
&lt;type 'int'&gt;
&lt;type 'unicode'&gt;</msg>
<status status="PASS" endtime="20190830 01:13:10.610" starttime="20190830 01:13:10.609"></status>
</kw>
<msg timestamp="20190830 01:13:10.610" level="INFO">${hostname} = s3g</msg>
<status status="PASS" endtime="20190830 01:13:10.610" starttime="20190830 01:13:10.595"></status>
</kw>
<kw name="Set Suite Variable" library="BuiltIn">
<doc>Makes a variable available everywhere within the scope of the current suite.</doc>
<arguments>
<arg>${TEST_USER}</arg>
<arg>${user}/${hostname}@EXAMPLE.COM</arg>
</arguments>
<msg timestamp="20190830 01:13:10.612" level="INFO">${TEST_USER} = testuser/s3g@EXAMPLE.COM</msg>
<status status="PASS" endtime="20190830 01:13:10.612" starttime="20190830 01:13:10.611"></status>
</kw>
<kw name="Wait Until Keyword Succeeds" library="BuiltIn">
<doc>Runs the specified keyword and retries if it fails.</doc>
<arguments>
<arg>2min</arg>
<arg>10sec</arg>
<arg>Execute</arg>
<arg>kinit -k ${user}/${hostname}@EXAMPLE.COM -t /etc/security/keytabs/${keytab}</arg>
</arguments>
<kw name="Execute" library="commonlib">
<arguments>
<arg>kinit -k ${user}/${hostname}@EXAMPLE.COM -t /etc/security/keytabs/${keytab}</arg>
</arguments>
<kw name="Run And Return Rc And Output" library="OperatingSystem">
<doc>Runs the given command in the system and returns the RC and output.</doc>
<arguments>
<arg>${command}</arg>
</arguments>
<assign>
<var>${rc}</var>
<var>${output}</var>
</assign>
<msg timestamp="20190830 01:13:10.617" level="INFO">Running command 'kinit -k testuser/s3g@EXAMPLE.COM -t /etc/security/keytabs/testuser.keytab 2&gt;&amp;1'.</msg>
<msg timestamp="20190830 01:13:10.635" level="INFO">${rc} = 0</msg>
<msg timestamp="20190830 01:13:10.636" level="INFO">${output} = </msg>
<status status="PASS" endtime="20190830 01:13:10.636" starttime="20190830 01:13:10.615"></status>
</kw>
<kw name="Log" library="BuiltIn">
<doc>Logs the given message with the given level.</doc>
<arguments>
<arg>${output}</arg>
</arguments>
<msg timestamp="20190830 01:13:10.637" level="INFO"></msg>
<status status="PASS" endtime="20190830 01:13:10.638" starttime="20190830 01:13:10.636"></status>
</kw>
<kw name="Should Be Equal As Integers" library="BuiltIn">
<doc>Fails if objects are unequal after converting them to integers.</doc>
<arguments>
<arg>${rc}</arg>
<arg>0</arg>
</arguments>
<msg timestamp="20190830 01:13:10.639" level="INFO">Argument types are:
&lt;type 'int'&gt;
&lt;type 'unicode'&gt;</msg>
<status status="PASS" endtime="20190830 01:13:10.639" starttime="20190830 01:13:10.638"></status>
</kw>
<status status="PASS" endtime="20190830 01:13:10.639" starttime="20190830 01:13:10.614"></status>
</kw>
<status status="PASS" endtime="20190830 01:13:10.640" starttime="20190830 01:13:10.613"></status>
</kw>
<status status="PASS" endtime="20190830 01:13:10.640" starttime="20190830 01:13:10.594"></status>
</kw>
<status status="PASS" endtime="20190830 01:13:10.640" starttime="20190830 01:13:10.593"></status>
</kw>
<kw name="Execute" library="commonlib">
<arguments>
<arg>ozone s3 getsecret</arg>
</arguments>
<assign>
<var>${result}</var>
</assign>
<kw name="Run And Return Rc And Output" library="OperatingSystem">
<doc>Runs the given command in the system and returns the RC and output.</doc>
<arguments>
<arg>${command}</arg>
</arguments>
<assign>
<var>${rc}</var>
<var>${output}</var>
</assign>
<msg timestamp="20190830 01:13:10.644" level="INFO">Running command 'ozone s3 getsecret 2&gt;&amp;1'.</msg>
<msg timestamp="20190830 01:13:12.203" level="INFO">${rc} = 255</msg>
<msg timestamp="20190830 01:13:12.204" level="INFO">${output} = WARNING: An illegal reflective access operation has occurred
WARNING: Illegal reflective access by org.apache.hadoop.security.authentication.util.KerberosUtil (file:/opt/hadoop/share/ozone/lib/hadoop-...</msg>
<status status="PASS" endtime="20190830 01:13:12.204" starttime="20190830 01:13:10.641"></status>
</kw>
<kw name="Log" library="BuiltIn">
<doc>Logs the given message with the given level.</doc>
<arguments>
<arg>${output}</arg>
</arguments>
<msg timestamp="20190830 01:13:12.206" level="INFO">WARNING: An illegal reflective access operation has occurred
WARNING: Illegal reflective access by org.apache.hadoop.security.authentication.util.KerberosUtil (file:/opt/hadoop/share/ozone/lib/hadoop-auth-3.2.0.jar) to method sun.security.krb5.Config.getInstance()
WARNING: Please consider reporting this to the maintainers of org.apache.hadoop.security.authentication.util.KerberosUtil
WARNING: Use --illegal-access=warn to enable warnings of further illegal reflective access operations
WARNING: All illegal access operations will be denied in a future release
2019-08-30 01:13:12 ERROR OzoneClientFactory:192 - Couldn't create RpcClient protocol exception: 
java.lang.IllegalArgumentException: java.net.UnknownHostException: om
	at org.apache.hadoop.security.SecurityUtil.buildTokenService(SecurityUtil.java:447)
	at org.apache.hadoop.ozone.om.ha.OMProxyInfo.&lt;init&gt;(OMProxyInfo.java:40)
	at org.apache.hadoop.ozone.om.ha.OMFailoverProxyProvider.loadOMClientConfigs(OMFailoverProxyProvider.java:109)
	at org.apache.hadoop.ozone.om.ha.OMFailoverProxyProvider.&lt;init&gt;(OMFailoverProxyProvider.java:77)
	at org.apache.hadoop.ozone.om.protocolPB.OzoneManagerProtocolClientSideTranslatorPB.&lt;init&gt;(OzoneManagerProtocolClientSideTranslatorPB.java:195)
	at org.apache.hadoop.ozone.client.rpc.RpcClient.&lt;init&gt;(RpcClient.java:155)
	at org.apache.hadoop.ozone.client.OzoneClientFactory.getClientProtocol(OzoneClientFactory.java:189)
	at org.apache.hadoop.ozone.client.OzoneClientFactory.getRpcClient(OzoneClientFactory.java:152)
	at org.apache.hadoop.ozone.web.ozShell.OzoneAddress.createClient(OzoneAddress.java:102)
	at org.apache.hadoop.ozone.web.ozShell.s3.GetS3SecretHandler.call(GetS3SecretHandler.java:45)
	at org.apache.hadoop.ozone.web.ozShell.s3.GetS3SecretHandler.call(GetS3SecretHandler.java:32)
	at picocli.CommandLine.execute(CommandLine.java:1173)
	at picocli.CommandLine.access$800(CommandLine.java:141)
	at picocli.CommandLine$RunLast.handle(CommandLine.java:1367)
	at picocli.CommandLine$RunLast.handle(CommandLine.java:1335)
	at picocli.CommandLine$AbstractParseResultHandler.handleParseResult(CommandLine.java:1243)
	at picocli.CommandLine.parseWithHandlers(CommandLine.java:1526)
	at picocli.CommandLine.parseWithHandler(CommandLine.java:1465)
	at org.apache.hadoop.hdds.cli.GenericCli.execute(GenericCli.java:65)
	at org.apache.hadoop.ozone.web.ozShell.s3.S3Shell.execute(S3Shell.java:43)
	at org.apache.hadoop.hdds.cli.GenericCli.run(GenericCli.java:56)
	at org.apache.hadoop.ozone.web.ozShell.s3.S3Shell.main(S3Shell.java:54)
Caused by: java.net.UnknownHostException: om
	... 22 more
om</msg>
<status status="PASS" endtime="20190830 01:13:12.206" starttime="20190830 01:13:12.205"></status>
</kw>
<kw name="Should Be Equal As Integers" library="BuiltIn">
<doc>Fails if objects are unequal after converting them to integers.</doc>
<arguments>
<arg>${rc}</arg>
<arg>0</arg>
</arguments>
<msg timestamp="20190830 01:13:12.207" level="INFO">Argument types are:
&lt;type 'int'&gt;
&lt;type 'unicode'&gt;</msg>
<msg timestamp="20190830 01:13:12.208" level="FAIL">255 != 0</msg>
<status status="FAIL" endtime="20190830 01:13:12.208" starttime="20190830 01:13:12.206"></status>
</kw>
<status status="FAIL" endtime="20190830 01:13:12.208" starttime="20190830 01:13:10.640"></status>
</kw>
<status status="FAIL" endtime="20190830 01:13:12.209" starttime="20190830 01:13:10.592"></status>
</kw>
<status status="FAIL" endtime="20190830 01:13:12.209" starttime="20190830 01:13:10.591"></status>
</kw>
<status status="FAIL" endtime="20190830 01:13:12.209" starttime="20190830 01:13:09.756"></status>
</kw>
<status status="FAIL" endtime="20190830 01:13:12.210" critical="yes" starttime="20190830 01:13:09.755">Setup failed:
255 != 0</status>
</test>
<test id="s1-s9-t7" name="Get Partial object from s3 with both start and endoffset which are equal">
<kw type="setup" name="Setup s3 tests" library="commonawslib">
<kw name="Run Keyword" library="BuiltIn">
<doc>Executes the given keyword with the given arguments.</doc>
<arguments>
<arg>Install aws cli</arg>
</arguments>
<kw name="Install aws cli" library="commonlib">
<kw name="Run And Return Rc And Output" library="OperatingSystem">
<doc>Runs the given command in the system and returns the RC and output.</doc>
<arguments>
<arg>which apt-get</arg>
</arguments>
<assign>
<var>${rc}</var>
<var>${output}</var>
</assign>
<msg timestamp="20190830 01:13:12.217" level="INFO">Running command 'which apt-get 2&gt;&amp;1'.</msg>
<msg timestamp="20190830 01:13:12.224" level="INFO">${rc} = 1</msg>
<msg timestamp="20190830 01:13:12.225" level="INFO">${output} = which: no apt-get in (/opt/hadoop/bin/docker:/usr/local/sbin:/usr/local/bin:/usr/sbin:/usr/bin:/sbin:/bin:/opt/hadoop/bin)</msg>
<status status="PASS" endtime="20190830 01:13:12.225" starttime="20190830 01:13:12.214"></status>
</kw>
<kw name="Run Keyword If" library="BuiltIn">
<doc>Runs the given keyword with the given arguments, if ``condition`` is true.</doc>
<arguments>
<arg>'${rc}' == '0'</arg>
<arg>Install aws cli s3 debian</arg>
</arguments>
<status status="PASS" endtime="20190830 01:13:12.227" starttime="20190830 01:13:12.226"></status>
</kw>
<kw name="Run And Return Rc And Output" library="OperatingSystem">
<doc>Runs the given command in the system and returns the RC and output.</doc>
<arguments>
<arg>yum --help</arg>
</arguments>
<assign>
<var>${rc}</var>
<var>${output}</var>
</assign>
<msg timestamp="20190830 01:13:12.229" level="INFO">Running command 'yum --help 2&gt;&amp;1'.</msg>
<msg timestamp="20190830 01:13:12.416" level="INFO">${rc} = 0</msg>
<msg timestamp="20190830 01:13:12.416" level="INFO">${output} = Loaded plugins: fastestmirror, ovl
ovl: Error while doing RPMdb copy-up:
[Errno 13] Permission denied: '/var/lib/rpm/Group'
Usage: yum [options] COMMAND

List of Commands:

check          Check for pr...</msg>
<status status="PASS" endtime="20190830 01:13:12.417" starttime="20190830 01:13:12.227"></status>
</kw>
<kw name="Run Keyword If" library="BuiltIn">
<doc>Runs the given keyword with the given arguments, if ``condition`` is true.</doc>
<arguments>
<arg>'${rc}' == '0'</arg>
<arg>Install aws cli s3 centos</arg>
</arguments>
<kw name="Install aws cli s3 centos" library="commonawslib">
<kw name="Execute" library="commonlib">
<arguments>
<arg>sudo yum install -y awscli</arg>
</arguments>
<kw name="Run And Return Rc And Output" library="OperatingSystem">
<doc>Runs the given command in the system and returns the RC and output.</doc>
<arguments>
<arg>${command}</arg>
</arguments>
<assign>
<var>${rc}</var>
<var>${output}</var>
</assign>
<msg timestamp="20190830 01:13:12.423" level="INFO">Running command 'sudo yum install -y awscli 2&gt;&amp;1'.</msg>
<msg timestamp="20190830 01:13:12.915" level="INFO">${rc} = 0</msg>
<msg timestamp="20190830 01:13:12.915" level="INFO">${output} = Loaded plugins: fastestmirror, ovl
Loading mirror speeds from cached hostfile
 * base: mirror.sjc02.svwh.net
 * epel: sjc.edge.kernel.org
 * extras: sjc.edge.kernel.org
 * updates: sjc.edge.kernel.org...</msg>
<status status="PASS" endtime="20190830 01:13:12.916" starttime="20190830 01:13:12.420"></status>
</kw>
<kw name="Log" library="BuiltIn">
<doc>Logs the given message with the given level.</doc>
<arguments>
<arg>${output}</arg>
</arguments>
<msg timestamp="20190830 01:13:12.917" level="INFO">Loaded plugins: fastestmirror, ovl
Loading mirror speeds from cached hostfile
 * base: mirror.sjc02.svwh.net
 * epel: sjc.edge.kernel.org
 * extras: sjc.edge.kernel.org
 * updates: sjc.edge.kernel.org
Package awscli-1.14.28-5.el7_5.1.noarch already installed and latest version
Nothing to do</msg>
<status status="PASS" endtime="20190830 01:13:12.918" starttime="20190830 01:13:12.916"></status>
</kw>
<kw name="Should Be Equal As Integers" library="BuiltIn">
<doc>Fails if objects are unequal after converting them to integers.</doc>
<arguments>
<arg>${rc}</arg>
<arg>0</arg>
</arguments>
<msg timestamp="20190830 01:13:12.919" level="INFO">Argument types are:
&lt;type 'int'&gt;
&lt;type 'unicode'&gt;</msg>
<status status="PASS" endtime="20190830 01:13:12.919" starttime="20190830 01:13:12.918"></status>
</kw>
<status status="PASS" endtime="20190830 01:13:12.920" starttime="20190830 01:13:12.420"></status>
</kw>
<status status="PASS" endtime="20190830 01:13:12.920" starttime="20190830 01:13:12.419"></status>
</kw>
<status status="PASS" endtime="20190830 01:13:12.920" starttime="20190830 01:13:12.417"></status>
</kw>
<status status="PASS" endtime="20190830 01:13:12.920" starttime="20190830 01:13:12.213"></status>
</kw>
<status status="PASS" endtime="20190830 01:13:12.920" starttime="20190830 01:13:12.213"></status>
</kw>
<kw name="Run Keyword If" library="BuiltIn">
<doc>Runs the given keyword with the given arguments, if ``condition`` is true.</doc>
<arguments>
<arg>'${OZONE_S3_SET_CREDENTIALS}' == 'true'</arg>
<arg>Setup v4 headers</arg>
</arguments>
<kw name="Setup v4 headers" library="commonawslib">
<kw name="Run Keyword If" library="BuiltIn">
<doc>Runs the given keyword with the given arguments, if ``condition`` is true.</doc>
<arguments>
<arg>'${SECURITY_ENABLED}' == 'true'</arg>
<arg>Kinit test user</arg>
<arg>testuser</arg>
<arg>testuser.keytab</arg>
</arguments>
<kw name="Kinit test user" library="commonlib">
<arguments>
<arg>testuser</arg>
<arg>testuser.keytab</arg>
</arguments>
<kw name="Execute" library="commonlib">
<arguments>
<arg>hostname</arg>
</arguments>
<assign>
<var>${hostname}</var>
</assign>
<kw name="Run And Return Rc And Output" library="OperatingSystem">
<doc>Runs the given command in the system and returns the RC and output.</doc>
<arguments>
<arg>${command}</arg>
</arguments>
<assign>
<var>${rc}</var>
<var>${output}</var>
</assign>
<msg timestamp="20190830 01:13:12.928" level="INFO">Running command 'hostname 2&gt;&amp;1'.</msg>
<msg timestamp="20190830 01:13:12.934" level="INFO">${rc} = 0</msg>
<msg timestamp="20190830 01:13:12.934" level="INFO">${output} = s3g</msg>
<status status="PASS" endtime="20190830 01:13:12.934" starttime="20190830 01:13:12.925"></status>
</kw>
<kw name="Log" library="BuiltIn">
<doc>Logs the given message with the given level.</doc>
<arguments>
<arg>${output}</arg>
</arguments>
<msg timestamp="20190830 01:13:12.936" level="INFO">s3g</msg>
<status status="PASS" endtime="20190830 01:13:12.936" starttime="20190830 01:13:12.935"></status>
</kw>
<kw name="Should Be Equal As Integers" library="BuiltIn">
<doc>Fails if objects are unequal after converting them to integers.</doc>
<arguments>
<arg>${rc}</arg>
<arg>0</arg>
</arguments>
<msg timestamp="20190830 01:13:12.937" level="INFO">Argument types are:
&lt;type 'int'&gt;
&lt;type 'unicode'&gt;</msg>
<status status="PASS" endtime="20190830 01:13:12.937" starttime="20190830 01:13:12.936"></status>
</kw>
<msg timestamp="20190830 01:13:12.938" level="INFO">${hostname} = s3g</msg>
<status status="PASS" endtime="20190830 01:13:12.938" starttime="20190830 01:13:12.924"></status>
</kw>
<kw name="Set Suite Variable" library="BuiltIn">
<doc>Makes a variable available everywhere within the scope of the current suite.</doc>
<arguments>
<arg>${TEST_USER}</arg>
<arg>${user}/${hostname}@EXAMPLE.COM</arg>
</arguments>
<msg timestamp="20190830 01:13:12.940" level="INFO">${TEST_USER} = testuser/s3g@EXAMPLE.COM</msg>
<status status="PASS" endtime="20190830 01:13:12.940" starttime="20190830 01:13:12.939"></status>
</kw>
<kw name="Wait Until Keyword Succeeds" library="BuiltIn">
<doc>Runs the specified keyword and retries if it fails.</doc>
<arguments>
<arg>2min</arg>
<arg>10sec</arg>
<arg>Execute</arg>
<arg>kinit -k ${user}/${hostname}@EXAMPLE.COM -t /etc/security/keytabs/${keytab}</arg>
</arguments>
<kw name="Execute" library="commonlib">
<arguments>
<arg>kinit -k ${user}/${hostname}@EXAMPLE.COM -t /etc/security/keytabs/${keytab}</arg>
</arguments>
<kw name="Run And Return Rc And Output" library="OperatingSystem">
<doc>Runs the given command in the system and returns the RC and output.</doc>
<arguments>
<arg>${command}</arg>
</arguments>
<assign>
<var>${rc}</var>
<var>${output}</var>
</assign>
<msg timestamp="20190830 01:13:12.944" level="INFO">Running command 'kinit -k testuser/s3g@EXAMPLE.COM -t /etc/security/keytabs/testuser.keytab 2&gt;&amp;1'.</msg>
<msg timestamp="20190830 01:13:12.961" level="INFO">${rc} = 0</msg>
<msg timestamp="20190830 01:13:12.961" level="INFO">${output} = </msg>
<status status="PASS" endtime="20190830 01:13:12.962" starttime="20190830 01:13:12.942"></status>
</kw>
<kw name="Log" library="BuiltIn">
<doc>Logs the given message with the given level.</doc>
<arguments>
<arg>${output}</arg>
</arguments>
<msg timestamp="20190830 01:13:12.963" level="INFO"></msg>
<status status="PASS" endtime="20190830 01:13:12.963" starttime="20190830 01:13:12.962"></status>
</kw>
<kw name="Should Be Equal As Integers" library="BuiltIn">
<doc>Fails if objects are unequal after converting them to integers.</doc>
<arguments>
<arg>${rc}</arg>
<arg>0</arg>
</arguments>
<msg timestamp="20190830 01:13:12.964" level="INFO">Argument types are:
&lt;type 'int'&gt;
&lt;type 'unicode'&gt;</msg>
<status status="PASS" endtime="20190830 01:13:12.964" starttime="20190830 01:13:12.963"></status>
</kw>
<status status="PASS" endtime="20190830 01:13:12.965" starttime="20190830 01:13:12.941"></status>
</kw>
<status status="PASS" endtime="20190830 01:13:12.965" starttime="20190830 01:13:12.940"></status>
</kw>
<status status="PASS" endtime="20190830 01:13:12.965" starttime="20190830 01:13:12.924"></status>
</kw>
<status status="PASS" endtime="20190830 01:13:12.965" starttime="20190830 01:13:12.923"></status>
</kw>
<kw name="Execute" library="commonlib">
<arguments>
<arg>ozone s3 getsecret</arg>
</arguments>
<assign>
<var>${result}</var>
</assign>
<kw name="Run And Return Rc And Output" library="OperatingSystem">
<doc>Runs the given command in the system and returns the RC and output.</doc>
<arguments>
<arg>${command}</arg>
</arguments>
<assign>
<var>${rc}</var>
<var>${output}</var>
</assign>
<msg timestamp="20190830 01:13:12.968" level="INFO">Running command 'ozone s3 getsecret 2&gt;&amp;1'.</msg>
<msg timestamp="20190830 01:13:14.400" level="INFO">${rc} = 255</msg>
<msg timestamp="20190830 01:13:14.400" level="INFO">${output} = WARNING: An illegal reflective access operation has occurred
WARNING: Illegal reflective access by org.apache.hadoop.security.authentication.util.KerberosUtil (file:/opt/hadoop/share/ozone/lib/hadoop-...</msg>
<status status="PASS" endtime="20190830 01:13:14.400" starttime="20190830 01:13:12.966"></status>
</kw>
<kw name="Log" library="BuiltIn">
<doc>Logs the given message with the given level.</doc>
<arguments>
<arg>${output}</arg>
</arguments>
<msg timestamp="20190830 01:13:14.403" level="INFO">WARNING: An illegal reflective access operation has occurred
WARNING: Illegal reflective access by org.apache.hadoop.security.authentication.util.KerberosUtil (file:/opt/hadoop/share/ozone/lib/hadoop-auth-3.2.0.jar) to method sun.security.krb5.Config.getInstance()
WARNING: Please consider reporting this to the maintainers of org.apache.hadoop.security.authentication.util.KerberosUtil
WARNING: Use --illegal-access=warn to enable warnings of further illegal reflective access operations
WARNING: All illegal access operations will be denied in a future release
2019-08-30 01:13:14 ERROR OzoneClientFactory:192 - Couldn't create RpcClient protocol exception: 
java.lang.IllegalArgumentException: java.net.UnknownHostException: om
	at org.apache.hadoop.security.SecurityUtil.buildTokenService(SecurityUtil.java:447)
	at org.apache.hadoop.ozone.om.ha.OMProxyInfo.&lt;init&gt;(OMProxyInfo.java:40)
	at org.apache.hadoop.ozone.om.ha.OMFailoverProxyProvider.loadOMClientConfigs(OMFailoverProxyProvider.java:109)
	at org.apache.hadoop.ozone.om.ha.OMFailoverProxyProvider.&lt;init&gt;(OMFailoverProxyProvider.java:77)
	at org.apache.hadoop.ozone.om.protocolPB.OzoneManagerProtocolClientSideTranslatorPB.&lt;init&gt;(OzoneManagerProtocolClientSideTranslatorPB.java:195)
	at org.apache.hadoop.ozone.client.rpc.RpcClient.&lt;init&gt;(RpcClient.java:155)
	at org.apache.hadoop.ozone.client.OzoneClientFactory.getClientProtocol(OzoneClientFactory.java:189)
	at org.apache.hadoop.ozone.client.OzoneClientFactory.getRpcClient(OzoneClientFactory.java:152)
	at org.apache.hadoop.ozone.web.ozShell.OzoneAddress.createClient(OzoneAddress.java:102)
	at org.apache.hadoop.ozone.web.ozShell.s3.GetS3SecretHandler.call(GetS3SecretHandler.java:45)
	at org.apache.hadoop.ozone.web.ozShell.s3.GetS3SecretHandler.call(GetS3SecretHandler.java:32)
	at picocli.CommandLine.execute(CommandLine.java:1173)
	at picocli.CommandLine.access$800(CommandLine.java:141)
	at picocli.CommandLine$RunLast.handle(CommandLine.java:1367)
	at picocli.CommandLine$RunLast.handle(CommandLine.java:1335)
	at picocli.CommandLine$AbstractParseResultHandler.handleParseResult(CommandLine.java:1243)
	at picocli.CommandLine.parseWithHandlers(CommandLine.java:1526)
	at picocli.CommandLine.parseWithHandler(CommandLine.java:1465)
	at org.apache.hadoop.hdds.cli.GenericCli.execute(GenericCli.java:65)
	at org.apache.hadoop.ozone.web.ozShell.s3.S3Shell.execute(S3Shell.java:43)
	at org.apache.hadoop.hdds.cli.GenericCli.run(GenericCli.java:56)
	at org.apache.hadoop.ozone.web.ozShell.s3.S3Shell.main(S3Shell.java:54)
Caused by: java.net.UnknownHostException: om
	... 22 more
om</msg>
<status status="PASS" endtime="20190830 01:13:14.403" starttime="20190830 01:13:14.401"></status>
</kw>
<kw name="Should Be Equal As Integers" library="BuiltIn">
<doc>Fails if objects are unequal after converting them to integers.</doc>
<arguments>
<arg>${rc}</arg>
<arg>0</arg>
</arguments>
<msg timestamp="20190830 01:13:14.404" level="INFO">Argument types are:
&lt;type 'int'&gt;
&lt;type 'unicode'&gt;</msg>
<msg timestamp="20190830 01:13:14.405" level="FAIL">255 != 0</msg>
<status status="FAIL" endtime="20190830 01:13:14.405" starttime="20190830 01:13:14.403"></status>
</kw>
<status status="FAIL" endtime="20190830 01:13:14.406" starttime="20190830 01:13:12.966"></status>
</kw>
<status status="FAIL" endtime="20190830 01:13:14.406" starttime="20190830 01:13:12.922"></status>
</kw>
<status status="FAIL" endtime="20190830 01:13:14.406" starttime="20190830 01:13:12.921"></status>
</kw>
<status status="FAIL" endtime="20190830 01:13:14.407" starttime="20190830 01:13:12.212"></status>
</kw>
<status status="FAIL" endtime="20190830 01:13:14.407" critical="yes" starttime="20190830 01:13:12.211">Setup failed:
255 != 0</status>
</test>
<test id="s1-s9-t8" name="Get Partial object from s3 to get last n bytes">
<kw type="setup" name="Setup s3 tests" library="commonawslib">
<kw name="Run Keyword" library="BuiltIn">
<doc>Executes the given keyword with the given arguments.</doc>
<arguments>
<arg>Install aws cli</arg>
</arguments>
<kw name="Install aws cli" library="commonlib">
<kw name="Run And Return Rc And Output" library="OperatingSystem">
<doc>Runs the given command in the system and returns the RC and output.</doc>
<arguments>
<arg>which apt-get</arg>
</arguments>
<assign>
<var>${rc}</var>
<var>${output}</var>
</assign>
<msg timestamp="20190830 01:13:14.416" level="INFO">Running command 'which apt-get 2&gt;&amp;1'.</msg>
<msg timestamp="20190830 01:13:14.423" level="INFO">${rc} = 1</msg>
<msg timestamp="20190830 01:13:14.424" level="INFO">${output} = which: no apt-get in (/opt/hadoop/bin/docker:/usr/local/sbin:/usr/local/bin:/usr/sbin:/usr/bin:/sbin:/bin:/opt/hadoop/bin)</msg>
<status status="PASS" endtime="20190830 01:13:14.424" starttime="20190830 01:13:14.412"></status>
</kw>
<kw name="Run Keyword If" library="BuiltIn">
<doc>Runs the given keyword with the given arguments, if ``condition`` is true.</doc>
<arguments>
<arg>'${rc}' == '0'</arg>
<arg>Install aws cli s3 debian</arg>
</arguments>
<status status="PASS" endtime="20190830 01:13:14.426" starttime="20190830 01:13:14.425"></status>
</kw>
<kw name="Run And Return Rc And Output" library="OperatingSystem">
<doc>Runs the given command in the system and returns the RC and output.</doc>
<arguments>
<arg>yum --help</arg>
</arguments>
<assign>
<var>${rc}</var>
<var>${output}</var>
</assign>
<msg timestamp="20190830 01:13:14.428" level="INFO">Running command 'yum --help 2&gt;&amp;1'.</msg>
<msg timestamp="20190830 01:13:14.665" level="INFO">${rc} = 0</msg>
<msg timestamp="20190830 01:13:14.666" level="INFO">${output} = Loaded plugins: fastestmirror, ovl
ovl: Error while doing RPMdb copy-up:
[Errno 13] Permission denied: '/var/lib/rpm/Group'
Usage: yum [options] COMMAND

List of Commands:

check          Check for pr...</msg>
<status status="PASS" endtime="20190830 01:13:14.666" starttime="20190830 01:13:14.426"></status>
</kw>
<kw name="Run Keyword If" library="BuiltIn">
<doc>Runs the given keyword with the given arguments, if ``condition`` is true.</doc>
<arguments>
<arg>'${rc}' == '0'</arg>
<arg>Install aws cli s3 centos</arg>
</arguments>
<kw name="Install aws cli s3 centos" library="commonawslib">
<kw name="Execute" library="commonlib">
<arguments>
<arg>sudo yum install -y awscli</arg>
</arguments>
<kw name="Run And Return Rc And Output" library="OperatingSystem">
<doc>Runs the given command in the system and returns the RC and output.</doc>
<arguments>
<arg>${command}</arg>
</arguments>
<assign>
<var>${rc}</var>
<var>${output}</var>
</assign>
<msg timestamp="20190830 01:13:14.673" level="INFO">Running command 'sudo yum install -y awscli 2&gt;&amp;1'.</msg>
<msg timestamp="20190830 01:13:15.263" level="INFO">${rc} = 0</msg>
<msg timestamp="20190830 01:13:15.263" level="INFO">${output} = Loaded plugins: fastestmirror, ovl
Loading mirror speeds from cached hostfile
 * base: mirror.sjc02.svwh.net
 * epel: sjc.edge.kernel.org
 * extras: sjc.edge.kernel.org
 * updates: sjc.edge.kernel.org...</msg>
<status status="PASS" endtime="20190830 01:13:15.264" starttime="20190830 01:13:14.670"></status>
</kw>
<kw name="Log" library="BuiltIn">
<doc>Logs the given message with the given level.</doc>
<arguments>
<arg>${output}</arg>
</arguments>
<msg timestamp="20190830 01:13:15.265" level="INFO">Loaded plugins: fastestmirror, ovl
Loading mirror speeds from cached hostfile
 * base: mirror.sjc02.svwh.net
 * epel: sjc.edge.kernel.org
 * extras: sjc.edge.kernel.org
 * updates: sjc.edge.kernel.org
Package awscli-1.14.28-5.el7_5.1.noarch already installed and latest version
Nothing to do</msg>
<status status="PASS" endtime="20190830 01:13:15.266" starttime="20190830 01:13:15.264"></status>
</kw>
<kw name="Should Be Equal As Integers" library="BuiltIn">
<doc>Fails if objects are unequal after converting them to integers.</doc>
<arguments>
<arg>${rc}</arg>
<arg>0</arg>
</arguments>
<msg timestamp="20190830 01:13:15.267" level="INFO">Argument types are:
&lt;type 'int'&gt;
&lt;type 'unicode'&gt;</msg>
<status status="PASS" endtime="20190830 01:13:15.267" starttime="20190830 01:13:15.266"></status>
</kw>
<status status="PASS" endtime="20190830 01:13:15.268" starttime="20190830 01:13:14.669"></status>
</kw>
<status status="PASS" endtime="20190830 01:13:15.268" starttime="20190830 01:13:14.668"></status>
</kw>
<status status="PASS" endtime="20190830 01:13:15.268" starttime="20190830 01:13:14.667"></status>
</kw>
<status status="PASS" endtime="20190830 01:13:15.268" starttime="20190830 01:13:14.411"></status>
</kw>
<status status="PASS" endtime="20190830 01:13:15.269" starttime="20190830 01:13:14.410"></status>
</kw>
<kw name="Run Keyword If" library="BuiltIn">
<doc>Runs the given keyword with the given arguments, if ``condition`` is true.</doc>
<arguments>
<arg>'${OZONE_S3_SET_CREDENTIALS}' == 'true'</arg>
<arg>Setup v4 headers</arg>
</arguments>
<kw name="Setup v4 headers" library="commonawslib">
<kw name="Run Keyword If" library="BuiltIn">
<doc>Runs the given keyword with the given arguments, if ``condition`` is true.</doc>
<arguments>
<arg>'${SECURITY_ENABLED}' == 'true'</arg>
<arg>Kinit test user</arg>
<arg>testuser</arg>
<arg>testuser.keytab</arg>
</arguments>
<kw name="Kinit test user" library="commonlib">
<arguments>
<arg>testuser</arg>
<arg>testuser.keytab</arg>
</arguments>
<kw name="Execute" library="commonlib">
<arguments>
<arg>hostname</arg>
</arguments>
<assign>
<var>${hostname}</var>
</assign>
<kw name="Run And Return Rc And Output" library="OperatingSystem">
<doc>Runs the given command in the system and returns the RC and output.</doc>
<arguments>
<arg>${command}</arg>
</arguments>
<assign>
<var>${rc}</var>
<var>${output}</var>
</assign>
<msg timestamp="20190830 01:13:15.276" level="INFO">Running command 'hostname 2&gt;&amp;1'.</msg>
<msg timestamp="20190830 01:13:15.283" level="INFO">${rc} = 0</msg>
<msg timestamp="20190830 01:13:15.283" level="INFO">${output} = s3g</msg>
<status status="PASS" endtime="20190830 01:13:15.284" starttime="20190830 01:13:15.273"></status>
</kw>
<kw name="Log" library="BuiltIn">
<doc>Logs the given message with the given level.</doc>
<arguments>
<arg>${output}</arg>
</arguments>
<msg timestamp="20190830 01:13:15.285" level="INFO">s3g</msg>
<status status="PASS" endtime="20190830 01:13:15.286" starttime="20190830 01:13:15.284"></status>
</kw>
<kw name="Should Be Equal As Integers" library="BuiltIn">
<doc>Fails if objects are unequal after converting them to integers.</doc>
<arguments>
<arg>${rc}</arg>
<arg>0</arg>
</arguments>
<msg timestamp="20190830 01:13:15.287" level="INFO">Argument types are:
&lt;type 'int'&gt;
&lt;type 'unicode'&gt;</msg>
<status status="PASS" endtime="20190830 01:13:15.287" starttime="20190830 01:13:15.286"></status>
</kw>
<msg timestamp="20190830 01:13:15.288" level="INFO">${hostname} = s3g</msg>
<status status="PASS" endtime="20190830 01:13:15.288" starttime="20190830 01:13:15.273"></status>
</kw>
<kw name="Set Suite Variable" library="BuiltIn">
<doc>Makes a variable available everywhere within the scope of the current suite.</doc>
<arguments>
<arg>${TEST_USER}</arg>
<arg>${user}/${hostname}@EXAMPLE.COM</arg>
</arguments>
<msg timestamp="20190830 01:13:15.289" level="INFO">${TEST_USER} = testuser/s3g@EXAMPLE.COM</msg>
<status status="PASS" endtime="20190830 01:13:15.289" starttime="20190830 01:13:15.288"></status>
</kw>
<kw name="Wait Until Keyword Succeeds" library="BuiltIn">
<doc>Runs the specified keyword and retries if it fails.</doc>
<arguments>
<arg>2min</arg>
<arg>10sec</arg>
<arg>Execute</arg>
<arg>kinit -k ${user}/${hostname}@EXAMPLE.COM -t /etc/security/keytabs/${keytab}</arg>
</arguments>
<kw name="Execute" library="commonlib">
<arguments>
<arg>kinit -k ${user}/${hostname}@EXAMPLE.COM -t /etc/security/keytabs/${keytab}</arg>
</arguments>
<kw name="Run And Return Rc And Output" library="OperatingSystem">
<doc>Runs the given command in the system and returns the RC and output.</doc>
<arguments>
<arg>${command}</arg>
</arguments>
<assign>
<var>${rc}</var>
<var>${output}</var>
</assign>
<msg timestamp="20190830 01:13:15.294" level="INFO">Running command 'kinit -k testuser/s3g@EXAMPLE.COM -t /etc/security/keytabs/testuser.keytab 2&gt;&amp;1'.</msg>
<msg timestamp="20190830 01:13:15.312" level="INFO">${rc} = 0</msg>
<msg timestamp="20190830 01:13:15.312" level="INFO">${output} = </msg>
<status status="PASS" endtime="20190830 01:13:15.312" starttime="20190830 01:13:15.292"></status>
</kw>
<kw name="Log" library="BuiltIn">
<doc>Logs the given message with the given level.</doc>
<arguments>
<arg>${output}</arg>
</arguments>
<msg timestamp="20190830 01:13:15.314" level="INFO"></msg>
<status status="PASS" endtime="20190830 01:13:15.314" starttime="20190830 01:13:15.313"></status>
</kw>
<kw name="Should Be Equal As Integers" library="BuiltIn">
<doc>Fails if objects are unequal after converting them to integers.</doc>
<arguments>
<arg>${rc}</arg>
<arg>0</arg>
</arguments>
<msg timestamp="20190830 01:13:15.315" level="INFO">Argument types are:
&lt;type 'int'&gt;
&lt;type 'unicode'&gt;</msg>
<status status="PASS" endtime="20190830 01:13:15.315" starttime="20190830 01:13:15.314"></status>
</kw>
<status status="PASS" endtime="20190830 01:13:15.316" starttime="20190830 01:13:15.291"></status>
</kw>
<status status="PASS" endtime="20190830 01:13:15.316" starttime="20190830 01:13:15.290"></status>
</kw>
<status status="PASS" endtime="20190830 01:13:15.316" starttime="20190830 01:13:15.272"></status>
</kw>
<status status="PASS" endtime="20190830 01:13:15.316" starttime="20190830 01:13:15.271"></status>
</kw>
<kw name="Execute" library="commonlib">
<arguments>
<arg>ozone s3 getsecret</arg>
</arguments>
<assign>
<var>${result}</var>
</assign>
<kw name="Run And Return Rc And Output" library="OperatingSystem">
<doc>Runs the given command in the system and returns the RC and output.</doc>
<arguments>
<arg>${command}</arg>
</arguments>
<assign>
<var>${rc}</var>
<var>${output}</var>
</assign>
<msg timestamp="20190830 01:13:15.320" level="INFO">Running command 'ozone s3 getsecret 2&gt;&amp;1'.</msg>
<msg timestamp="20190830 01:13:16.861" level="INFO">${rc} = 255</msg>
<msg timestamp="20190830 01:13:16.861" level="INFO">${output} = WARNING: An illegal reflective access operation has occurred
WARNING: Illegal reflective access by org.apache.hadoop.security.authentication.util.KerberosUtil (file:/opt/hadoop/share/ozone/lib/hadoop-...</msg>
<status status="PASS" endtime="20190830 01:13:16.861" starttime="20190830 01:13:15.318"></status>
</kw>
<kw name="Log" library="BuiltIn">
<doc>Logs the given message with the given level.</doc>
<arguments>
<arg>${output}</arg>
</arguments>
<msg timestamp="20190830 01:13:16.863" level="INFO">WARNING: An illegal reflective access operation has occurred
WARNING: Illegal reflective access by org.apache.hadoop.security.authentication.util.KerberosUtil (file:/opt/hadoop/share/ozone/lib/hadoop-auth-3.2.0.jar) to method sun.security.krb5.Config.getInstance()
WARNING: Please consider reporting this to the maintainers of org.apache.hadoop.security.authentication.util.KerberosUtil
WARNING: Use --illegal-access=warn to enable warnings of further illegal reflective access operations
WARNING: All illegal access operations will be denied in a future release
2019-08-30 01:13:16 ERROR OzoneClientFactory:192 - Couldn't create RpcClient protocol exception: 
java.lang.IllegalArgumentException: java.net.UnknownHostException: om
	at org.apache.hadoop.security.SecurityUtil.buildTokenService(SecurityUtil.java:447)
	at org.apache.hadoop.ozone.om.ha.OMProxyInfo.&lt;init&gt;(OMProxyInfo.java:40)
	at org.apache.hadoop.ozone.om.ha.OMFailoverProxyProvider.loadOMClientConfigs(OMFailoverProxyProvider.java:109)
	at org.apache.hadoop.ozone.om.ha.OMFailoverProxyProvider.&lt;init&gt;(OMFailoverProxyProvider.java:77)
	at org.apache.hadoop.ozone.om.protocolPB.OzoneManagerProtocolClientSideTranslatorPB.&lt;init&gt;(OzoneManagerProtocolClientSideTranslatorPB.java:195)
	at org.apache.hadoop.ozone.client.rpc.RpcClient.&lt;init&gt;(RpcClient.java:155)
	at org.apache.hadoop.ozone.client.OzoneClientFactory.getClientProtocol(OzoneClientFactory.java:189)
	at org.apache.hadoop.ozone.client.OzoneClientFactory.getRpcClient(OzoneClientFactory.java:152)
	at org.apache.hadoop.ozone.web.ozShell.OzoneAddress.createClient(OzoneAddress.java:102)
	at org.apache.hadoop.ozone.web.ozShell.s3.GetS3SecretHandler.call(GetS3SecretHandler.java:45)
	at org.apache.hadoop.ozone.web.ozShell.s3.GetS3SecretHandler.call(GetS3SecretHandler.java:32)
	at picocli.CommandLine.execute(CommandLine.java:1173)
	at picocli.CommandLine.access$800(CommandLine.java:141)
	at picocli.CommandLine$RunLast.handle(CommandLine.java:1367)
	at picocli.CommandLine$RunLast.handle(CommandLine.java:1335)
	at picocli.CommandLine$AbstractParseResultHandler.handleParseResult(CommandLine.java:1243)
	at picocli.CommandLine.parseWithHandlers(CommandLine.java:1526)
	at picocli.CommandLine.parseWithHandler(CommandLine.java:1465)
	at org.apache.hadoop.hdds.cli.GenericCli.execute(GenericCli.java:65)
	at org.apache.hadoop.ozone.web.ozShell.s3.S3Shell.execute(S3Shell.java:43)
	at org.apache.hadoop.hdds.cli.GenericCli.run(GenericCli.java:56)
	at org.apache.hadoop.ozone.web.ozShell.s3.S3Shell.main(S3Shell.java:54)
Caused by: java.net.UnknownHostException: om
	... 22 more
om</msg>
<status status="PASS" endtime="20190830 01:13:16.864" starttime="20190830 01:13:16.862"></status>
</kw>
<kw name="Should Be Equal As Integers" library="BuiltIn">
<doc>Fails if objects are unequal after converting them to integers.</doc>
<arguments>
<arg>${rc}</arg>
<arg>0</arg>
</arguments>
<msg timestamp="20190830 01:13:16.865" level="INFO">Argument types are:
&lt;type 'int'&gt;
&lt;type 'unicode'&gt;</msg>
<msg timestamp="20190830 01:13:16.865" level="FAIL">255 != 0</msg>
<status status="FAIL" endtime="20190830 01:13:16.865" starttime="20190830 01:13:16.864"></status>
</kw>
<status status="FAIL" endtime="20190830 01:13:16.866" starttime="20190830 01:13:15.317"></status>
</kw>
<status status="FAIL" endtime="20190830 01:13:16.866" starttime="20190830 01:13:15.270"></status>
</kw>
<status status="FAIL" endtime="20190830 01:13:16.866" starttime="20190830 01:13:15.269"></status>
</kw>
<status status="FAIL" endtime="20190830 01:13:16.867" starttime="20190830 01:13:14.410"></status>
</kw>
<status status="FAIL" endtime="20190830 01:13:16.867" critical="yes" starttime="20190830 01:13:14.408">Setup failed:
255 != 0</status>
</test>
<test id="s1-s9-t9" name="Incorrect values for end and start offset">
<kw type="setup" name="Setup s3 tests" library="commonawslib">
<kw name="Run Keyword" library="BuiltIn">
<doc>Executes the given keyword with the given arguments.</doc>
<arguments>
<arg>Install aws cli</arg>
</arguments>
<kw name="Install aws cli" library="commonlib">
<kw name="Run And Return Rc And Output" library="OperatingSystem">
<doc>Runs the given command in the system and returns the RC and output.</doc>
<arguments>
<arg>which apt-get</arg>
</arguments>
<assign>
<var>${rc}</var>
<var>${output}</var>
</assign>
<msg timestamp="20190830 01:13:16.874" level="INFO">Running command 'which apt-get 2&gt;&amp;1'.</msg>
<msg timestamp="20190830 01:13:16.880" level="INFO">${rc} = 1</msg>
<msg timestamp="20190830 01:13:16.880" level="INFO">${output} = which: no apt-get in (/opt/hadoop/bin/docker:/usr/local/sbin:/usr/local/bin:/usr/sbin:/usr/bin:/sbin:/bin:/opt/hadoop/bin)</msg>
<status status="PASS" endtime="20190830 01:13:16.880" starttime="20190830 01:13:16.871"></status>
</kw>
<kw name="Run Keyword If" library="BuiltIn">
<doc>Runs the given keyword with the given arguments, if ``condition`` is true.</doc>
<arguments>
<arg>'${rc}' == '0'</arg>
<arg>Install aws cli s3 debian</arg>
</arguments>
<status status="PASS" endtime="20190830 01:13:16.882" starttime="20190830 01:13:16.881"></status>
</kw>
<kw name="Run And Return Rc And Output" library="OperatingSystem">
<doc>Runs the given command in the system and returns the RC and output.</doc>
<arguments>
<arg>yum --help</arg>
</arguments>
<assign>
<var>${rc}</var>
<var>${output}</var>
</assign>
<msg timestamp="20190830 01:13:16.884" level="INFO">Running command 'yum --help 2&gt;&amp;1'.</msg>
<msg timestamp="20190830 01:13:17.068" level="INFO">${rc} = 0</msg>
<msg timestamp="20190830 01:13:17.068" level="INFO">${output} = Loaded plugins: fastestmirror, ovl
ovl: Error while doing RPMdb copy-up:
[Errno 13] Permission denied: '/var/lib/rpm/Group'
Usage: yum [options] COMMAND

List of Commands:

check          Check for pr...</msg>
<status status="PASS" endtime="20190830 01:13:17.068" starttime="20190830 01:13:16.882"></status>
</kw>
<kw name="Run Keyword If" library="BuiltIn">
<doc>Runs the given keyword with the given arguments, if ``condition`` is true.</doc>
<arguments>
<arg>'${rc}' == '0'</arg>
<arg>Install aws cli s3 centos</arg>
</arguments>
<kw name="Install aws cli s3 centos" library="commonawslib">
<kw name="Execute" library="commonlib">
<arguments>
<arg>sudo yum install -y awscli</arg>
</arguments>
<kw name="Run And Return Rc And Output" library="OperatingSystem">
<doc>Runs the given command in the system and returns the RC and output.</doc>
<arguments>
<arg>${command}</arg>
</arguments>
<assign>
<var>${rc}</var>
<var>${output}</var>
</assign>
<msg timestamp="20190830 01:13:17.075" level="INFO">Running command 'sudo yum install -y awscli 2&gt;&amp;1'.</msg>
<msg timestamp="20190830 01:13:17.596" level="INFO">${rc} = 0</msg>
<msg timestamp="20190830 01:13:17.596" level="INFO">${output} = Loaded plugins: fastestmirror, ovl
Loading mirror speeds from cached hostfile
 * base: mirror.sjc02.svwh.net
 * epel: sjc.edge.kernel.org
 * extras: sjc.edge.kernel.org
 * updates: sjc.edge.kernel.org...</msg>
<status status="PASS" endtime="20190830 01:13:17.596" starttime="20190830 01:13:17.073"></status>
</kw>
<kw name="Log" library="BuiltIn">
<doc>Logs the given message with the given level.</doc>
<arguments>
<arg>${output}</arg>
</arguments>
<msg timestamp="20190830 01:13:17.597" level="INFO">Loaded plugins: fastestmirror, ovl
Loading mirror speeds from cached hostfile
 * base: mirror.sjc02.svwh.net
 * epel: sjc.edge.kernel.org
 * extras: sjc.edge.kernel.org
 * updates: sjc.edge.kernel.org
Package awscli-1.14.28-5.el7_5.1.noarch already installed and latest version
Nothing to do</msg>
<status status="PASS" endtime="20190830 01:13:17.597" starttime="20190830 01:13:17.596"></status>
</kw>
<kw name="Should Be Equal As Integers" library="BuiltIn">
<doc>Fails if objects are unequal after converting them to integers.</doc>
<arguments>
<arg>${rc}</arg>
<arg>0</arg>
</arguments>
<msg timestamp="20190830 01:13:17.598" level="INFO">Argument types are:
&lt;type 'int'&gt;
&lt;type 'unicode'&gt;</msg>
<status status="PASS" endtime="20190830 01:13:17.598" starttime="20190830 01:13:17.598"></status>
</kw>
<status status="PASS" endtime="20190830 01:13:17.598" starttime="20190830 01:13:17.072"></status>
</kw>
<status status="PASS" endtime="20190830 01:13:17.599" starttime="20190830 01:13:17.071"></status>
</kw>
<status status="PASS" endtime="20190830 01:13:17.599" starttime="20190830 01:13:17.070"></status>
</kw>
<status status="PASS" endtime="20190830 01:13:17.599" starttime="20190830 01:13:16.871"></status>
</kw>
<status status="PASS" endtime="20190830 01:13:17.599" starttime="20190830 01:13:16.870"></status>
</kw>
<kw name="Run Keyword If" library="BuiltIn">
<doc>Runs the given keyword with the given arguments, if ``condition`` is true.</doc>
<arguments>
<arg>'${OZONE_S3_SET_CREDENTIALS}' == 'true'</arg>
<arg>Setup v4 headers</arg>
</arguments>
<kw name="Setup v4 headers" library="commonawslib">
<kw name="Run Keyword If" library="BuiltIn">
<doc>Runs the given keyword with the given arguments, if ``condition`` is true.</doc>
<arguments>
<arg>'${SECURITY_ENABLED}' == 'true'</arg>
<arg>Kinit test user</arg>
<arg>testuser</arg>
<arg>testuser.keytab</arg>
</arguments>
<kw name="Kinit test user" library="commonlib">
<arguments>
<arg>testuser</arg>
<arg>testuser.keytab</arg>
</arguments>
<kw name="Execute" library="commonlib">
<arguments>
<arg>hostname</arg>
</arguments>
<assign>
<var>${hostname}</var>
</assign>
<kw name="Run And Return Rc And Output" library="OperatingSystem">
<doc>Runs the given command in the system and returns the RC and output.</doc>
<arguments>
<arg>${command}</arg>
</arguments>
<assign>
<var>${rc}</var>
<var>${output}</var>
</assign>
<msg timestamp="20190830 01:13:17.604" level="INFO">Running command 'hostname 2&gt;&amp;1'.</msg>
<msg timestamp="20190830 01:13:17.610" level="INFO">${rc} = 0</msg>
<msg timestamp="20190830 01:13:17.610" level="INFO">${output} = s3g</msg>
<status status="PASS" endtime="20190830 01:13:17.610" starttime="20190830 01:13:17.602"></status>
</kw>
<kw name="Log" library="BuiltIn">
<doc>Logs the given message with the given level.</doc>
<arguments>
<arg>${output}</arg>
</arguments>
<msg timestamp="20190830 01:13:17.612" level="INFO">s3g</msg>
<status status="PASS" endtime="20190830 01:13:17.612" starttime="20190830 01:13:17.611"></status>
</kw>
<kw name="Should Be Equal As Integers" library="BuiltIn">
<doc>Fails if objects are unequal after converting them to integers.</doc>
<arguments>
<arg>${rc}</arg>
<arg>0</arg>
</arguments>
<msg timestamp="20190830 01:13:17.612" level="INFO">Argument types are:
&lt;type 'int'&gt;
&lt;type 'unicode'&gt;</msg>
<status status="PASS" endtime="20190830 01:13:17.613" starttime="20190830 01:13:17.612"></status>
</kw>
<msg timestamp="20190830 01:13:17.613" level="INFO">${hostname} = s3g</msg>
<status status="PASS" endtime="20190830 01:13:17.613" starttime="20190830 01:13:17.602"></status>
</kw>
<kw name="Set Suite Variable" library="BuiltIn">
<doc>Makes a variable available everywhere within the scope of the current suite.</doc>
<arguments>
<arg>${TEST_USER}</arg>
<arg>${user}/${hostname}@EXAMPLE.COM</arg>
</arguments>
<msg timestamp="20190830 01:13:17.614" level="INFO">${TEST_USER} = testuser/s3g@EXAMPLE.COM</msg>
<status status="PASS" endtime="20190830 01:13:17.614" starttime="20190830 01:13:17.613"></status>
</kw>
<kw name="Wait Until Keyword Succeeds" library="BuiltIn">
<doc>Runs the specified keyword and retries if it fails.</doc>
<arguments>
<arg>2min</arg>
<arg>10sec</arg>
<arg>Execute</arg>
<arg>kinit -k ${user}/${hostname}@EXAMPLE.COM -t /etc/security/keytabs/${keytab}</arg>
</arguments>
<kw name="Execute" library="commonlib">
<arguments>
<arg>kinit -k ${user}/${hostname}@EXAMPLE.COM -t /etc/security/keytabs/${keytab}</arg>
</arguments>
<kw name="Run And Return Rc And Output" library="OperatingSystem">
<doc>Runs the given command in the system and returns the RC and output.</doc>
<arguments>
<arg>${command}</arg>
</arguments>
<assign>
<var>${rc}</var>
<var>${output}</var>
</assign>
<msg timestamp="20190830 01:13:17.618" level="INFO">Running command 'kinit -k testuser/s3g@EXAMPLE.COM -t /etc/security/keytabs/testuser.keytab 2&gt;&amp;1'.</msg>
<msg timestamp="20190830 01:13:17.634" level="INFO">${rc} = 0</msg>
<msg timestamp="20190830 01:13:17.634" level="INFO">${output} = </msg>
<status status="PASS" endtime="20190830 01:13:17.634" starttime="20190830 01:13:17.616"></status>
</kw>
<kw name="Log" library="BuiltIn">
<doc>Logs the given message with the given level.</doc>
<arguments>
<arg>${output}</arg>
</arguments>
<msg timestamp="20190830 01:13:17.635" level="INFO"></msg>
<status status="PASS" endtime="20190830 01:13:17.635" starttime="20190830 01:13:17.634"></status>
</kw>
<kw name="Should Be Equal As Integers" library="BuiltIn">
<doc>Fails if objects are unequal after converting them to integers.</doc>
<arguments>
<arg>${rc}</arg>
<arg>0</arg>
</arguments>
<msg timestamp="20190830 01:13:17.636" level="INFO">Argument types are:
&lt;type 'int'&gt;
&lt;type 'unicode'&gt;</msg>
<status status="PASS" endtime="20190830 01:13:17.636" starttime="20190830 01:13:17.635"></status>
</kw>
<status status="PASS" endtime="20190830 01:13:17.636" starttime="20190830 01:13:17.615"></status>
</kw>
<status status="PASS" endtime="20190830 01:13:17.636" starttime="20190830 01:13:17.615"></status>
</kw>
<status status="PASS" endtime="20190830 01:13:17.637" starttime="20190830 01:13:17.601"></status>
</kw>
<status status="PASS" endtime="20190830 01:13:17.637" starttime="20190830 01:13:17.601"></status>
</kw>
<kw name="Execute" library="commonlib">
<arguments>
<arg>ozone s3 getsecret</arg>
</arguments>
<assign>
<var>${result}</var>
</assign>
<kw name="Run And Return Rc And Output" library="OperatingSystem">
<doc>Runs the given command in the system and returns the RC and output.</doc>
<arguments>
<arg>${command}</arg>
</arguments>
<assign>
<var>${rc}</var>
<var>${output}</var>
</assign>
<msg timestamp="20190830 01:13:17.639" level="INFO">Running command 'ozone s3 getsecret 2&gt;&amp;1'.</msg>
<msg timestamp="20190830 01:13:19.065" level="INFO">${rc} = 255</msg>
<msg timestamp="20190830 01:13:19.066" level="INFO">${output} = WARNING: An illegal reflective access operation has occurred
WARNING: Illegal reflective access by org.apache.hadoop.security.authentication.util.KerberosUtil (file:/opt/hadoop/share/ozone/lib/hadoop-...</msg>
<status status="PASS" endtime="20190830 01:13:19.066" starttime="20190830 01:13:17.638"></status>
</kw>
<kw name="Log" library="BuiltIn">
<doc>Logs the given message with the given level.</doc>
<arguments>
<arg>${output}</arg>
</arguments>
<msg timestamp="20190830 01:13:19.067" level="INFO">WARNING: An illegal reflective access operation has occurred
WARNING: Illegal reflective access by org.apache.hadoop.security.authentication.util.KerberosUtil (file:/opt/hadoop/share/ozone/lib/hadoop-auth-3.2.0.jar) to method sun.security.krb5.Config.getInstance()
WARNING: Please consider reporting this to the maintainers of org.apache.hadoop.security.authentication.util.KerberosUtil
WARNING: Use --illegal-access=warn to enable warnings of further illegal reflective access operations
WARNING: All illegal access operations will be denied in a future release
2019-08-30 01:13:19 ERROR OzoneClientFactory:192 - Couldn't create RpcClient protocol exception: 
java.lang.IllegalArgumentException: java.net.UnknownHostException: om
	at org.apache.hadoop.security.SecurityUtil.buildTokenService(SecurityUtil.java:447)
	at org.apache.hadoop.ozone.om.ha.OMProxyInfo.&lt;init&gt;(OMProxyInfo.java:40)
	at org.apache.hadoop.ozone.om.ha.OMFailoverProxyProvider.loadOMClientConfigs(OMFailoverProxyProvider.java:109)
	at org.apache.hadoop.ozone.om.ha.OMFailoverProxyProvider.&lt;init&gt;(OMFailoverProxyProvider.java:77)
	at org.apache.hadoop.ozone.om.protocolPB.OzoneManagerProtocolClientSideTranslatorPB.&lt;init&gt;(OzoneManagerProtocolClientSideTranslatorPB.java:195)
	at org.apache.hadoop.ozone.client.rpc.RpcClient.&lt;init&gt;(RpcClient.java:155)
	at org.apache.hadoop.ozone.client.OzoneClientFactory.getClientProtocol(OzoneClientFactory.java:189)
	at org.apache.hadoop.ozone.client.OzoneClientFactory.getRpcClient(OzoneClientFactory.java:152)
	at org.apache.hadoop.ozone.web.ozShell.OzoneAddress.createClient(OzoneAddress.java:102)
	at org.apache.hadoop.ozone.web.ozShell.s3.GetS3SecretHandler.call(GetS3SecretHandler.java:45)
	at org.apache.hadoop.ozone.web.ozShell.s3.GetS3SecretHandler.call(GetS3SecretHandler.java:32)
	at picocli.CommandLine.execute(CommandLine.java:1173)
	at picocli.CommandLine.access$800(CommandLine.java:141)
	at picocli.CommandLine$RunLast.handle(CommandLine.java:1367)
	at picocli.CommandLine$RunLast.handle(CommandLine.java:1335)
	at picocli.CommandLine$AbstractParseResultHandler.handleParseResult(CommandLine.java:1243)
	at picocli.CommandLine.parseWithHandlers(CommandLine.java:1526)
	at picocli.CommandLine.parseWithHandler(CommandLine.java:1465)
	at org.apache.hadoop.hdds.cli.GenericCli.execute(GenericCli.java:65)
	at org.apache.hadoop.ozone.web.ozShell.s3.S3Shell.execute(S3Shell.java:43)
	at org.apache.hadoop.hdds.cli.GenericCli.run(GenericCli.java:56)
	at org.apache.hadoop.ozone.web.ozShell.s3.S3Shell.main(S3Shell.java:54)
Caused by: java.net.UnknownHostException: om
	... 22 more
om</msg>
<status status="PASS" endtime="20190830 01:13:19.067" starttime="20190830 01:13:19.066"></status>
</kw>
<kw name="Should Be Equal As Integers" library="BuiltIn">
<doc>Fails if objects are unequal after converting them to integers.</doc>
<arguments>
<arg>${rc}</arg>
<arg>0</arg>
</arguments>
<msg timestamp="20190830 01:13:19.068" level="INFO">Argument types are:
&lt;type 'int'&gt;
&lt;type 'unicode'&gt;</msg>
<msg timestamp="20190830 01:13:19.068" level="FAIL">255 != 0</msg>
<status status="FAIL" endtime="20190830 01:13:19.068" starttime="20190830 01:13:19.067"></status>
</kw>
<status status="FAIL" endtime="20190830 01:13:19.068" starttime="20190830 01:13:17.637"></status>
</kw>
<status status="FAIL" endtime="20190830 01:13:19.069" starttime="20190830 01:13:17.600"></status>
</kw>
<status status="FAIL" endtime="20190830 01:13:19.069" starttime="20190830 01:13:17.599"></status>
</kw>
<status status="FAIL" endtime="20190830 01:13:19.069" starttime="20190830 01:13:16.870"></status>
</kw>
<status status="FAIL" endtime="20190830 01:13:19.069" critical="yes" starttime="20190830 01:13:16.868">Setup failed:
255 != 0</status>
</test>
<test id="s1-s9-t10" name="Zero byte file">
<kw type="setup" name="Setup s3 tests" library="commonawslib">
<kw name="Run Keyword" library="BuiltIn">
<doc>Executes the given keyword with the given arguments.</doc>
<arguments>
<arg>Install aws cli</arg>
</arguments>
<kw name="Install aws cli" library="commonlib">
<kw name="Run And Return Rc And Output" library="OperatingSystem">
<doc>Runs the given command in the system and returns the RC and output.</doc>
<arguments>
<arg>which apt-get</arg>
</arguments>
<assign>
<var>${rc}</var>
<var>${output}</var>
</assign>
<msg timestamp="20190830 01:13:19.074" level="INFO">Running command 'which apt-get 2&gt;&amp;1'.</msg>
<msg timestamp="20190830 01:13:19.081" level="INFO">${rc} = 1</msg>
<msg timestamp="20190830 01:13:19.081" level="INFO">${output} = which: no apt-get in (/opt/hadoop/bin/docker:/usr/local/sbin:/usr/local/bin:/usr/sbin:/usr/bin:/sbin:/bin:/opt/hadoop/bin)</msg>
<status status="PASS" endtime="20190830 01:13:19.082" starttime="20190830 01:13:19.072"></status>
</kw>
<kw name="Run Keyword If" library="BuiltIn">
<doc>Runs the given keyword with the given arguments, if ``condition`` is true.</doc>
<arguments>
<arg>'${rc}' == '0'</arg>
<arg>Install aws cli s3 debian</arg>
</arguments>
<status status="PASS" endtime="20190830 01:13:19.084" starttime="20190830 01:13:19.082"></status>
</kw>
<kw name="Run And Return Rc And Output" library="OperatingSystem">
<doc>Runs the given command in the system and returns the RC and output.</doc>
<arguments>
<arg>yum --help</arg>
</arguments>
<assign>
<var>${rc}</var>
<var>${output}</var>
</assign>
<msg timestamp="20190830 01:13:19.086" level="INFO">Running command 'yum --help 2&gt;&amp;1'.</msg>
<msg timestamp="20190830 01:13:19.288" level="INFO">${rc} = 0</msg>
<msg timestamp="20190830 01:13:19.288" level="INFO">${output} = Loaded plugins: fastestmirror, ovl
ovl: Error while doing RPMdb copy-up:
[Errno 13] Permission denied: '/var/lib/rpm/Group'
Usage: yum [options] COMMAND

List of Commands:

check          Check for pr...</msg>
<status status="PASS" endtime="20190830 01:13:19.288" starttime="20190830 01:13:19.084"></status>
</kw>
<kw name="Run Keyword If" library="BuiltIn">
<doc>Runs the given keyword with the given arguments, if ``condition`` is true.</doc>
<arguments>
<arg>'${rc}' == '0'</arg>
<arg>Install aws cli s3 centos</arg>
</arguments>
<kw name="Install aws cli s3 centos" library="commonawslib">
<kw name="Execute" library="commonlib">
<arguments>
<arg>sudo yum install -y awscli</arg>
</arguments>
<kw name="Run And Return Rc And Output" library="OperatingSystem">
<doc>Runs the given command in the system and returns the RC and output.</doc>
<arguments>
<arg>${command}</arg>
</arguments>
<assign>
<var>${rc}</var>
<var>${output}</var>
</assign>
<msg timestamp="20190830 01:13:19.294" level="INFO">Running command 'sudo yum install -y awscli 2&gt;&amp;1'.</msg>
<msg timestamp="20190830 01:13:19.841" level="INFO">${rc} = 0</msg>
<msg timestamp="20190830 01:13:19.841" level="INFO">${output} = Loaded plugins: fastestmirror, ovl
Loading mirror speeds from cached hostfile
 * base: mirror.sjc02.svwh.net
 * epel: sjc.edge.kernel.org
 * extras: sjc.edge.kernel.org
 * updates: sjc.edge.kernel.org...</msg>
<status status="PASS" endtime="20190830 01:13:19.841" starttime="20190830 01:13:19.292"></status>
</kw>
<kw name="Log" library="BuiltIn">
<doc>Logs the given message with the given level.</doc>
<arguments>
<arg>${output}</arg>
</arguments>
<msg timestamp="20190830 01:13:19.843" level="INFO">Loaded plugins: fastestmirror, ovl
Loading mirror speeds from cached hostfile
 * base: mirror.sjc02.svwh.net
 * epel: sjc.edge.kernel.org
 * extras: sjc.edge.kernel.org
 * updates: sjc.edge.kernel.org
Package awscli-1.14.28-5.el7_5.1.noarch already installed and latest version
Nothing to do</msg>
<status status="PASS" endtime="20190830 01:13:19.843" starttime="20190830 01:13:19.842"></status>
</kw>
<kw name="Should Be Equal As Integers" library="BuiltIn">
<doc>Fails if objects are unequal after converting them to integers.</doc>
<arguments>
<arg>${rc}</arg>
<arg>0</arg>
</arguments>
<msg timestamp="20190830 01:13:19.844" level="INFO">Argument types are:
&lt;type 'int'&gt;
&lt;type 'unicode'&gt;</msg>
<status status="PASS" endtime="20190830 01:13:19.845" starttime="20190830 01:13:19.844"></status>
</kw>
<status status="PASS" endtime="20190830 01:13:19.845" starttime="20190830 01:13:19.291"></status>
</kw>
<status status="PASS" endtime="20190830 01:13:19.846" starttime="20190830 01:13:19.291"></status>
</kw>
<status status="PASS" endtime="20190830 01:13:19.846" starttime="20190830 01:13:19.289"></status>
</kw>
<status status="PASS" endtime="20190830 01:13:19.846" starttime="20190830 01:13:19.071"></status>
</kw>
<status status="PASS" endtime="20190830 01:13:19.846" starttime="20190830 01:13:19.071"></status>
</kw>
<kw name="Run Keyword If" library="BuiltIn">
<doc>Runs the given keyword with the given arguments, if ``condition`` is true.</doc>
<arguments>
<arg>'${OZONE_S3_SET_CREDENTIALS}' == 'true'</arg>
<arg>Setup v4 headers</arg>
</arguments>
<kw name="Setup v4 headers" library="commonawslib">
<kw name="Run Keyword If" library="BuiltIn">
<doc>Runs the given keyword with the given arguments, if ``condition`` is true.</doc>
<arguments>
<arg>'${SECURITY_ENABLED}' == 'true'</arg>
<arg>Kinit test user</arg>
<arg>testuser</arg>
<arg>testuser.keytab</arg>
</arguments>
<kw name="Kinit test user" library="commonlib">
<arguments>
<arg>testuser</arg>
<arg>testuser.keytab</arg>
</arguments>
<kw name="Execute" library="commonlib">
<arguments>
<arg>hostname</arg>
</arguments>
<assign>
<var>${hostname}</var>
</assign>
<kw name="Run And Return Rc And Output" library="OperatingSystem">
<doc>Runs the given command in the system and returns the RC and output.</doc>
<arguments>
<arg>${command}</arg>
</arguments>
<assign>
<var>${rc}</var>
<var>${output}</var>
</assign>
<msg timestamp="20190830 01:13:19.853" level="INFO">Running command 'hostname 2&gt;&amp;1'.</msg>
<msg timestamp="20190830 01:13:19.861" level="INFO">${rc} = 0</msg>
<msg timestamp="20190830 01:13:19.861" level="INFO">${output} = s3g</msg>
<status status="PASS" endtime="20190830 01:13:19.861" starttime="20190830 01:13:19.851"></status>
</kw>
<kw name="Log" library="BuiltIn">
<doc>Logs the given message with the given level.</doc>
<arguments>
<arg>${output}</arg>
</arguments>
<msg timestamp="20190830 01:13:19.863" level="INFO">s3g</msg>
<status status="PASS" endtime="20190830 01:13:19.863" starttime="20190830 01:13:19.862"></status>
</kw>
<kw name="Should Be Equal As Integers" library="BuiltIn">
<doc>Fails if objects are unequal after converting them to integers.</doc>
<arguments>
<arg>${rc}</arg>
<arg>0</arg>
</arguments>
<msg timestamp="20190830 01:13:19.864" level="INFO">Argument types are:
&lt;type 'int'&gt;
&lt;type 'unicode'&gt;</msg>
<status status="PASS" endtime="20190830 01:13:19.864" starttime="20190830 01:13:19.863"></status>
</kw>
<msg timestamp="20190830 01:13:19.865" level="INFO">${hostname} = s3g</msg>
<status status="PASS" endtime="20190830 01:13:19.865" starttime="20190830 01:13:19.850"></status>
</kw>
<kw name="Set Suite Variable" library="BuiltIn">
<doc>Makes a variable available everywhere within the scope of the current suite.</doc>
<arguments>
<arg>${TEST_USER}</arg>
<arg>${user}/${hostname}@EXAMPLE.COM</arg>
</arguments>
<msg timestamp="20190830 01:13:19.867" level="INFO">${TEST_USER} = testuser/s3g@EXAMPLE.COM</msg>
<status status="PASS" endtime="20190830 01:13:19.867" starttime="20190830 01:13:19.865"></status>
</kw>
<kw name="Wait Until Keyword Succeeds" library="BuiltIn">
<doc>Runs the specified keyword and retries if it fails.</doc>
<arguments>
<arg>2min</arg>
<arg>10sec</arg>
<arg>Execute</arg>
<arg>kinit -k ${user}/${hostname}@EXAMPLE.COM -t /etc/security/keytabs/${keytab}</arg>
</arguments>
<kw name="Execute" library="commonlib">
<arguments>
<arg>kinit -k ${user}/${hostname}@EXAMPLE.COM -t /etc/security/keytabs/${keytab}</arg>
</arguments>
<kw name="Run And Return Rc And Output" library="OperatingSystem">
<doc>Runs the given command in the system and returns the RC and output.</doc>
<arguments>
<arg>${command}</arg>
</arguments>
<assign>
<var>${rc}</var>
<var>${output}</var>
</assign>
<msg timestamp="20190830 01:13:19.872" level="INFO">Running command 'kinit -k testuser/s3g@EXAMPLE.COM -t /etc/security/keytabs/testuser.keytab 2&gt;&amp;1'.</msg>
<msg timestamp="20190830 01:13:19.887" level="INFO">${rc} = 0</msg>
<msg timestamp="20190830 01:13:19.887" level="INFO">${output} = </msg>
<status status="PASS" endtime="20190830 01:13:19.887" starttime="20190830 01:13:19.869"></status>
</kw>
<kw name="Log" library="BuiltIn">
<doc>Logs the given message with the given level.</doc>
<arguments>
<arg>${output}</arg>
</arguments>
<msg timestamp="20190830 01:13:19.888" level="INFO"></msg>
<status status="PASS" endtime="20190830 01:13:19.889" starttime="20190830 01:13:19.888"></status>
</kw>
<kw name="Should Be Equal As Integers" library="BuiltIn">
<doc>Fails if objects are unequal after converting them to integers.</doc>
<arguments>
<arg>${rc}</arg>
<arg>0</arg>
</arguments>
<msg timestamp="20190830 01:13:19.890" level="INFO">Argument types are:
&lt;type 'int'&gt;
&lt;type 'unicode'&gt;</msg>
<status status="PASS" endtime="20190830 01:13:19.890" starttime="20190830 01:13:19.889"></status>
</kw>
<status status="PASS" endtime="20190830 01:13:19.890" starttime="20190830 01:13:19.868"></status>
</kw>
<status status="PASS" endtime="20190830 01:13:19.890" starttime="20190830 01:13:19.867"></status>
</kw>
<status status="PASS" endtime="20190830 01:13:19.891" starttime="20190830 01:13:19.849"></status>
</kw>
<status status="PASS" endtime="20190830 01:13:19.891" starttime="20190830 01:13:19.848"></status>
</kw>
<kw name="Execute" library="commonlib">
<arguments>
<arg>ozone s3 getsecret</arg>
</arguments>
<assign>
<var>${result}</var>
</assign>
<kw name="Run And Return Rc And Output" library="OperatingSystem">
<doc>Runs the given command in the system and returns the RC and output.</doc>
<arguments>
<arg>${command}</arg>
</arguments>
<assign>
<var>${rc}</var>
<var>${output}</var>
</assign>
<msg timestamp="20190830 01:13:19.894" level="INFO">Running command 'ozone s3 getsecret 2&gt;&amp;1'.</msg>
<msg timestamp="20190830 01:13:21.377" level="INFO">${rc} = 255</msg>
<msg timestamp="20190830 01:13:21.377" level="INFO">${output} = WARNING: An illegal reflective access operation has occurred
WARNING: Illegal reflective access by org.apache.hadoop.security.authentication.util.KerberosUtil (file:/opt/hadoop/share/ozone/lib/hadoop-...</msg>
<status status="PASS" endtime="20190830 01:13:21.377" starttime="20190830 01:13:19.892"></status>
</kw>
<kw name="Log" library="BuiltIn">
<doc>Logs the given message with the given level.</doc>
<arguments>
<arg>${output}</arg>
</arguments>
<msg timestamp="20190830 01:13:21.379" level="INFO">WARNING: An illegal reflective access operation has occurred
WARNING: Illegal reflective access by org.apache.hadoop.security.authentication.util.KerberosUtil (file:/opt/hadoop/share/ozone/lib/hadoop-auth-3.2.0.jar) to method sun.security.krb5.Config.getInstance()
WARNING: Please consider reporting this to the maintainers of org.apache.hadoop.security.authentication.util.KerberosUtil
WARNING: Use --illegal-access=warn to enable warnings of further illegal reflective access operations
WARNING: All illegal access operations will be denied in a future release
2019-08-30 01:13:21 ERROR OzoneClientFactory:192 - Couldn't create RpcClient protocol exception: 
java.lang.IllegalArgumentException: java.net.UnknownHostException: om
	at org.apache.hadoop.security.SecurityUtil.buildTokenService(SecurityUtil.java:447)
	at org.apache.hadoop.ozone.om.ha.OMProxyInfo.&lt;init&gt;(OMProxyInfo.java:40)
	at org.apache.hadoop.ozone.om.ha.OMFailoverProxyProvider.loadOMClientConfigs(OMFailoverProxyProvider.java:109)
	at org.apache.hadoop.ozone.om.ha.OMFailoverProxyProvider.&lt;init&gt;(OMFailoverProxyProvider.java:77)
	at org.apache.hadoop.ozone.om.protocolPB.OzoneManagerProtocolClientSideTranslatorPB.&lt;init&gt;(OzoneManagerProtocolClientSideTranslatorPB.java:195)
	at org.apache.hadoop.ozone.client.rpc.RpcClient.&lt;init&gt;(RpcClient.java:155)
	at org.apache.hadoop.ozone.client.OzoneClientFactory.getClientProtocol(OzoneClientFactory.java:189)
	at org.apache.hadoop.ozone.client.OzoneClientFactory.getRpcClient(OzoneClientFactory.java:152)
	at org.apache.hadoop.ozone.web.ozShell.OzoneAddress.createClient(OzoneAddress.java:102)
	at org.apache.hadoop.ozone.web.ozShell.s3.GetS3SecretHandler.call(GetS3SecretHandler.java:45)
	at org.apache.hadoop.ozone.web.ozShell.s3.GetS3SecretHandler.call(GetS3SecretHandler.java:32)
	at picocli.CommandLine.execute(CommandLine.java:1173)
	at picocli.CommandLine.access$800(CommandLine.java:141)
	at picocli.CommandLine$RunLast.handle(CommandLine.java:1367)
	at picocli.CommandLine$RunLast.handle(CommandLine.java:1335)
	at picocli.CommandLine$AbstractParseResultHandler.handleParseResult(CommandLine.java:1243)
	at picocli.CommandLine.parseWithHandlers(CommandLine.java:1526)
	at picocli.CommandLine.parseWithHandler(CommandLine.java:1465)
	at org.apache.hadoop.hdds.cli.GenericCli.execute(GenericCli.java:65)
	at org.apache.hadoop.ozone.web.ozShell.s3.S3Shell.execute(S3Shell.java:43)
	at org.apache.hadoop.hdds.cli.GenericCli.run(GenericCli.java:56)
	at org.apache.hadoop.ozone.web.ozShell.s3.S3Shell.main(S3Shell.java:54)
Caused by: java.net.UnknownHostException: om
	... 22 more
om</msg>
<status status="PASS" endtime="20190830 01:13:21.379" starttime="20190830 01:13:21.378"></status>
</kw>
<kw name="Should Be Equal As Integers" library="BuiltIn">
<doc>Fails if objects are unequal after converting them to integers.</doc>
<arguments>
<arg>${rc}</arg>
<arg>0</arg>
</arguments>
<msg timestamp="20190830 01:13:21.380" level="INFO">Argument types are:
&lt;type 'int'&gt;
&lt;type 'unicode'&gt;</msg>
<msg timestamp="20190830 01:13:21.381" level="FAIL">255 != 0</msg>
<status status="FAIL" endtime="20190830 01:13:21.381" starttime="20190830 01:13:21.380"></status>
</kw>
<status status="FAIL" endtime="20190830 01:13:21.382" starttime="20190830 01:13:19.891"></status>
</kw>
<status status="FAIL" endtime="20190830 01:13:21.382" starttime="20190830 01:13:19.848"></status>
</kw>
<status status="FAIL" endtime="20190830 01:13:21.382" starttime="20190830 01:13:19.847"></status>
</kw>
<status status="FAIL" endtime="20190830 01:13:21.382" starttime="20190830 01:13:19.070"></status>
</kw>
<status status="FAIL" endtime="20190830 01:13:21.383" critical="yes" starttime="20190830 01:13:19.070">Setup failed:
255 != 0</status>
</test>
<doc>S3 gateway test with aws cli</doc>
<status status="FAIL" endtime="20190830 01:13:21.386" starttime="20190830 01:12:58.543"></status>
</suite>
<suite source="/opt/hadoop/smoketest/s3/webui.robot" id="s1-s10" name="Webui">
<kw type="setup" name="Setup s3 tests" library="commonawslib">
<kw name="Run Keyword" library="BuiltIn">
<doc>Executes the given keyword with the given arguments.</doc>
<arguments>
<arg>Install aws cli</arg>
</arguments>
<kw name="Install aws cli" library="commonlib">
<kw name="Run And Return Rc And Output" library="OperatingSystem">
<doc>Runs the given command in the system and returns the RC and output.</doc>
<arguments>
<arg>which apt-get</arg>
</arguments>
<assign>
<var>${rc}</var>
<var>${output}</var>
</assign>
<msg timestamp="20190830 01:13:21.408" level="INFO">Running command 'which apt-get 2&gt;&amp;1'.</msg>
<msg timestamp="20190830 01:13:21.416" level="INFO">${rc} = 1</msg>
<msg timestamp="20190830 01:13:21.416" level="INFO">${output} = which: no apt-get in (/opt/hadoop/bin/docker:/usr/local/sbin:/usr/local/bin:/usr/sbin:/usr/bin:/sbin:/bin:/opt/hadoop/bin)</msg>
<status status="PASS" endtime="20190830 01:13:21.416" starttime="20190830 01:13:21.406"></status>
</kw>
<kw name="Run Keyword If" library="BuiltIn">
<doc>Runs the given keyword with the given arguments, if ``condition`` is true.</doc>
<arguments>
<arg>'${rc}' == '0'</arg>
<arg>Install aws cli s3 debian</arg>
</arguments>
<status status="PASS" endtime="20190830 01:13:21.418" starttime="20190830 01:13:21.417"></status>
</kw>
<kw name="Run And Return Rc And Output" library="OperatingSystem">
<doc>Runs the given command in the system and returns the RC and output.</doc>
<arguments>
<arg>yum --help</arg>
</arguments>
<assign>
<var>${rc}</var>
<var>${output}</var>
</assign>
<msg timestamp="20190830 01:13:21.421" level="INFO">Running command 'yum --help 2&gt;&amp;1'.</msg>
<msg timestamp="20190830 01:13:21.613" level="INFO">${rc} = 0</msg>
<msg timestamp="20190830 01:13:21.613" level="INFO">${output} = Loaded plugins: fastestmirror, ovl
ovl: Error while doing RPMdb copy-up:
[Errno 13] Permission denied: '/var/lib/rpm/Group'
Usage: yum [options] COMMAND

List of Commands:

check          Check for pr...</msg>
<status status="PASS" endtime="20190830 01:13:21.613" starttime="20190830 01:13:21.419"></status>
</kw>
<kw name="Run Keyword If" library="BuiltIn">
<doc>Runs the given keyword with the given arguments, if ``condition`` is true.</doc>
<arguments>
<arg>'${rc}' == '0'</arg>
<arg>Install aws cli s3 centos</arg>
</arguments>
<kw name="Install aws cli s3 centos" library="commonawslib">
<kw name="Execute" library="commonlib">
<arguments>
<arg>sudo yum install -y awscli</arg>
</arguments>
<kw name="Run And Return Rc And Output" library="OperatingSystem">
<doc>Runs the given command in the system and returns the RC and output.</doc>
<arguments>
<arg>${command}</arg>
</arguments>
<assign>
<var>${rc}</var>
<var>${output}</var>
</assign>
<msg timestamp="20190830 01:13:21.620" level="INFO">Running command 'sudo yum install -y awscli 2&gt;&amp;1'.</msg>
<msg timestamp="20190830 01:13:22.174" level="INFO">${rc} = 0</msg>
<msg timestamp="20190830 01:13:22.175" level="INFO">${output} = Loaded plugins: fastestmirror, ovl
Loading mirror speeds from cached hostfile
 * base: mirror.sjc02.svwh.net
 * epel: sjc.edge.kernel.org
 * extras: sjc.edge.kernel.org
 * updates: sjc.edge.kernel.org...</msg>
<status status="PASS" endtime="20190830 01:13:22.175" starttime="20190830 01:13:21.617"></status>
</kw>
<kw name="Log" library="BuiltIn">
<doc>Logs the given message with the given level.</doc>
<arguments>
<arg>${output}</arg>
</arguments>
<msg timestamp="20190830 01:13:22.177" level="INFO">Loaded plugins: fastestmirror, ovl
Loading mirror speeds from cached hostfile
 * base: mirror.sjc02.svwh.net
 * epel: sjc.edge.kernel.org
 * extras: sjc.edge.kernel.org
 * updates: sjc.edge.kernel.org
Package awscli-1.14.28-5.el7_5.1.noarch already installed and latest version
Nothing to do</msg>
<status status="PASS" endtime="20190830 01:13:22.177" starttime="20190830 01:13:22.176"></status>
</kw>
<kw name="Should Be Equal As Integers" library="BuiltIn">
<doc>Fails if objects are unequal after converting them to integers.</doc>
<arguments>
<arg>${rc}</arg>
<arg>0</arg>
</arguments>
<msg timestamp="20190830 01:13:22.178" level="INFO">Argument types are:
&lt;type 'int'&gt;
&lt;type 'unicode'&gt;</msg>
<status status="PASS" endtime="20190830 01:13:22.178" starttime="20190830 01:13:22.177"></status>
</kw>
<status status="PASS" endtime="20190830 01:13:22.179" starttime="20190830 01:13:21.617"></status>
</kw>
<status status="PASS" endtime="20190830 01:13:22.179" starttime="20190830 01:13:21.616"></status>
</kw>
<status status="PASS" endtime="20190830 01:13:22.179" starttime="20190830 01:13:21.614"></status>
</kw>
<status status="PASS" endtime="20190830 01:13:22.180" starttime="20190830 01:13:21.406"></status>
</kw>
<status status="PASS" endtime="20190830 01:13:22.180" starttime="20190830 01:13:21.405"></status>
</kw>
<kw name="Run Keyword If" library="BuiltIn">
<doc>Runs the given keyword with the given arguments, if ``condition`` is true.</doc>
<arguments>
<arg>'${OZONE_S3_SET_CREDENTIALS}' == 'true'</arg>
<arg>Setup v4 headers</arg>
</arguments>
<kw name="Setup v4 headers" library="commonawslib">
<kw name="Run Keyword If" library="BuiltIn">
<doc>Runs the given keyword with the given arguments, if ``condition`` is true.</doc>
<arguments>
<arg>'${SECURITY_ENABLED}' == 'true'</arg>
<arg>Kinit test user</arg>
<arg>testuser</arg>
<arg>testuser.keytab</arg>
</arguments>
<kw name="Kinit test user" library="commonlib">
<arguments>
<arg>testuser</arg>
<arg>testuser.keytab</arg>
</arguments>
<kw name="Execute" library="commonlib">
<arguments>
<arg>hostname</arg>
</arguments>
<assign>
<var>${hostname}</var>
</assign>
<kw name="Run And Return Rc And Output" library="OperatingSystem">
<doc>Runs the given command in the system and returns the RC and output.</doc>
<arguments>
<arg>${command}</arg>
</arguments>
<assign>
<var>${rc}</var>
<var>${output}</var>
</assign>
<msg timestamp="20190830 01:13:22.187" level="INFO">Running command 'hostname 2&gt;&amp;1'.</msg>
<msg timestamp="20190830 01:13:22.194" level="INFO">${rc} = 0</msg>
<msg timestamp="20190830 01:13:22.195" level="INFO">${output} = s3g</msg>
<status status="PASS" endtime="20190830 01:13:22.195" starttime="20190830 01:13:22.184"></status>
</kw>
<kw name="Log" library="BuiltIn">
<doc>Logs the given message with the given level.</doc>
<arguments>
<arg>${output}</arg>
</arguments>
<msg timestamp="20190830 01:13:22.197" level="INFO">s3g</msg>
<status status="PASS" endtime="20190830 01:13:22.198" starttime="20190830 01:13:22.196"></status>
</kw>
<kw name="Should Be Equal As Integers" library="BuiltIn">
<doc>Fails if objects are unequal after converting them to integers.</doc>
<arguments>
<arg>${rc}</arg>
<arg>0</arg>
</arguments>
<msg timestamp="20190830 01:13:22.199" level="INFO">Argument types are:
&lt;type 'int'&gt;
&lt;type 'unicode'&gt;</msg>
<status status="PASS" endtime="20190830 01:13:22.199" starttime="20190830 01:13:22.198"></status>
</kw>
<msg timestamp="20190830 01:13:22.200" level="INFO">${hostname} = s3g</msg>
<status status="PASS" endtime="20190830 01:13:22.200" starttime="20190830 01:13:22.183"></status>
</kw>
<kw name="Set Suite Variable" library="BuiltIn">
<doc>Makes a variable available everywhere within the scope of the current suite.</doc>
<arguments>
<arg>${TEST_USER}</arg>
<arg>${user}/${hostname}@EXAMPLE.COM</arg>
</arguments>
<msg timestamp="20190830 01:13:22.203" level="INFO">${TEST_USER} = testuser/s3g@EXAMPLE.COM</msg>
<status status="PASS" endtime="20190830 01:13:22.203" starttime="20190830 01:13:22.200"></status>
</kw>
<kw name="Wait Until Keyword Succeeds" library="BuiltIn">
<doc>Runs the specified keyword and retries if it fails.</doc>
<arguments>
<arg>2min</arg>
<arg>10sec</arg>
<arg>Execute</arg>
<arg>kinit -k ${user}/${hostname}@EXAMPLE.COM -t /etc/security/keytabs/${keytab}</arg>
</arguments>
<kw name="Execute" library="commonlib">
<arguments>
<arg>kinit -k ${user}/${hostname}@EXAMPLE.COM -t /etc/security/keytabs/${keytab}</arg>
</arguments>
<kw name="Run And Return Rc And Output" library="OperatingSystem">
<doc>Runs the given command in the system and returns the RC and output.</doc>
<arguments>
<arg>${command}</arg>
</arguments>
<assign>
<var>${rc}</var>
<var>${output}</var>
</assign>
<msg timestamp="20190830 01:13:22.207" level="INFO">Running command 'kinit -k testuser/s3g@EXAMPLE.COM -t /etc/security/keytabs/testuser.keytab 2&gt;&amp;1'.</msg>
<msg timestamp="20190830 01:13:22.225" level="INFO">${rc} = 0</msg>
<msg timestamp="20190830 01:13:22.225" level="INFO">${output} = </msg>
<status status="PASS" endtime="20190830 01:13:22.226" starttime="20190830 01:13:22.205"></status>
</kw>
<kw name="Log" library="BuiltIn">
<doc>Logs the given message with the given level.</doc>
<arguments>
<arg>${output}</arg>
</arguments>
<msg timestamp="20190830 01:13:22.227" level="INFO"></msg>
<status status="PASS" endtime="20190830 01:13:22.228" starttime="20190830 01:13:22.226"></status>
</kw>
<kw name="Should Be Equal As Integers" library="BuiltIn">
<doc>Fails if objects are unequal after converting them to integers.</doc>
<arguments>
<arg>${rc}</arg>
<arg>0</arg>
</arguments>
<msg timestamp="20190830 01:13:22.229" level="INFO">Argument types are:
&lt;type 'int'&gt;
&lt;type 'unicode'&gt;</msg>
<status status="PASS" endtime="20190830 01:13:22.229" starttime="20190830 01:13:22.228"></status>
</kw>
<status status="PASS" endtime="20190830 01:13:22.230" starttime="20190830 01:13:22.204"></status>
</kw>
<status status="PASS" endtime="20190830 01:13:22.230" starttime="20190830 01:13:22.203"></status>
</kw>
<status status="PASS" endtime="20190830 01:13:22.230" starttime="20190830 01:13:22.183"></status>
</kw>
<status status="PASS" endtime="20190830 01:13:22.230" starttime="20190830 01:13:22.182"></status>
</kw>
<kw name="Execute" library="commonlib">
<arguments>
<arg>ozone s3 getsecret</arg>
</arguments>
<assign>
<var>${result}</var>
</assign>
<kw name="Run And Return Rc And Output" library="OperatingSystem">
<doc>Runs the given command in the system and returns the RC and output.</doc>
<arguments>
<arg>${command}</arg>
</arguments>
<assign>
<var>${rc}</var>
<var>${output}</var>
</assign>
<msg timestamp="20190830 01:13:22.234" level="INFO">Running command 'ozone s3 getsecret 2&gt;&amp;1'.</msg>
<msg timestamp="20190830 01:13:23.760" level="INFO">${rc} = 255</msg>
<msg timestamp="20190830 01:13:23.760" level="INFO">${output} = WARNING: An illegal reflective access operation has occurred
WARNING: Illegal reflective access by org.apache.hadoop.security.authentication.util.KerberosUtil (file:/opt/hadoop/share/ozone/lib/hadoop-...</msg>
<status status="PASS" endtime="20190830 01:13:23.760" starttime="20190830 01:13:22.232"></status>
</kw>
<kw name="Log" library="BuiltIn">
<doc>Logs the given message with the given level.</doc>
<arguments>
<arg>${output}</arg>
</arguments>
<msg timestamp="20190830 01:13:23.762" level="INFO">WARNING: An illegal reflective access operation has occurred
WARNING: Illegal reflective access by org.apache.hadoop.security.authentication.util.KerberosUtil (file:/opt/hadoop/share/ozone/lib/hadoop-auth-3.2.0.jar) to method sun.security.krb5.Config.getInstance()
WARNING: Please consider reporting this to the maintainers of org.apache.hadoop.security.authentication.util.KerberosUtil
WARNING: Use --illegal-access=warn to enable warnings of further illegal reflective access operations
WARNING: All illegal access operations will be denied in a future release
2019-08-30 01:13:23 ERROR OzoneClientFactory:192 - Couldn't create RpcClient protocol exception: 
java.lang.IllegalArgumentException: java.net.UnknownHostException: om
	at org.apache.hadoop.security.SecurityUtil.buildTokenService(SecurityUtil.java:447)
	at org.apache.hadoop.ozone.om.ha.OMProxyInfo.&lt;init&gt;(OMProxyInfo.java:40)
	at org.apache.hadoop.ozone.om.ha.OMFailoverProxyProvider.loadOMClientConfigs(OMFailoverProxyProvider.java:109)
	at org.apache.hadoop.ozone.om.ha.OMFailoverProxyProvider.&lt;init&gt;(OMFailoverProxyProvider.java:77)
	at org.apache.hadoop.ozone.om.protocolPB.OzoneManagerProtocolClientSideTranslatorPB.&lt;init&gt;(OzoneManagerProtocolClientSideTranslatorPB.java:195)
	at org.apache.hadoop.ozone.client.rpc.RpcClient.&lt;init&gt;(RpcClient.java:155)
	at org.apache.hadoop.ozone.client.OzoneClientFactory.getClientProtocol(OzoneClientFactory.java:189)
	at org.apache.hadoop.ozone.client.OzoneClientFactory.getRpcClient(OzoneClientFactory.java:152)
	at org.apache.hadoop.ozone.web.ozShell.OzoneAddress.createClient(OzoneAddress.java:102)
	at org.apache.hadoop.ozone.web.ozShell.s3.GetS3SecretHandler.call(GetS3SecretHandler.java:45)
	at org.apache.hadoop.ozone.web.ozShell.s3.GetS3SecretHandler.call(GetS3SecretHandler.java:32)
	at picocli.CommandLine.execute(CommandLine.java:1173)
	at picocli.CommandLine.access$800(CommandLine.java:141)
	at picocli.CommandLine$RunLast.handle(CommandLine.java:1367)
	at picocli.CommandLine$RunLast.handle(CommandLine.java:1335)
	at picocli.CommandLine$AbstractParseResultHandler.handleParseResult(CommandLine.java:1243)
	at picocli.CommandLine.parseWithHandlers(CommandLine.java:1526)
	at picocli.CommandLine.parseWithHandler(CommandLine.java:1465)
	at org.apache.hadoop.hdds.cli.GenericCli.execute(GenericCli.java:65)
	at org.apache.hadoop.ozone.web.ozShell.s3.S3Shell.execute(S3Shell.java:43)
	at org.apache.hadoop.hdds.cli.GenericCli.run(GenericCli.java:56)
	at org.apache.hadoop.ozone.web.ozShell.s3.S3Shell.main(S3Shell.java:54)
Caused by: java.net.UnknownHostException: om
	... 22 more
om</msg>
<status status="PASS" endtime="20190830 01:13:23.763" starttime="20190830 01:13:23.761"></status>
</kw>
<kw name="Should Be Equal As Integers" library="BuiltIn">
<doc>Fails if objects are unequal after converting them to integers.</doc>
<arguments>
<arg>${rc}</arg>
<arg>0</arg>
</arguments>
<msg timestamp="20190830 01:13:23.764" level="INFO">Argument types are:
&lt;type 'int'&gt;
&lt;type 'unicode'&gt;</msg>
<msg timestamp="20190830 01:13:23.765" level="FAIL">255 != 0</msg>
<status status="FAIL" endtime="20190830 01:13:23.765" starttime="20190830 01:13:23.763"></status>
</kw>
<status status="FAIL" endtime="20190830 01:13:23.765" starttime="20190830 01:13:22.231"></status>
</kw>
<status status="FAIL" endtime="20190830 01:13:23.766" starttime="20190830 01:13:22.181"></status>
</kw>
<status status="FAIL" endtime="20190830 01:13:23.766" starttime="20190830 01:13:22.180"></status>
</kw>
<status status="FAIL" endtime="20190830 01:13:23.766" starttime="20190830 01:13:21.405"></status>
</kw>
<test id="s1-s10-t1" name="S3 Gateway Web UI">
<status status="FAIL" endtime="20190830 01:13:23.768" critical="yes" starttime="20190830 01:13:23.767">Parent suite setup failed:
255 != 0</status>
</test>
<doc>S3 gateway web ui test</doc>
<status status="FAIL" endtime="20190830 01:13:23.769" starttime="20190830 01:13:21.394">Suite setup failed:
255 != 0</status>
</suite>
<status status="FAIL" endtime="20190830 01:13:23.779" starttime="20190830 01:11:39.731"></status>
</suite>
<statistics>
<total>
<stat fail="34" pass="0">Critical Tests</stat>
<stat fail="34" pass="0">All Tests</stat>
</total>
<tag>
</tag>
<suite>
<stat fail="34" id="s1" name="ozonesecure-s3" pass="0">ozonesecure-s3</stat>
<stat fail="1" id="s1-s1" name="Awss3" pass="0">ozonesecure-s3.Awss3</stat>
<stat fail="1" id="s1-s2" name="Bucketcreate" pass="0">ozonesecure-s3.Bucketcreate</stat>
<stat fail="1" id="s1-s3" name="Buckethead" pass="0">ozonesecure-s3.Buckethead</stat>
<stat fail="1" id="s1-s4" name="Bucketlist" pass="0">ozonesecure-s3.Bucketlist</stat>
<stat fail="9" id="s1-s5" name="MultipartUpload" pass="0">ozonesecure-s3.MultipartUpload</stat>
<stat fail="4" id="s1-s6" name="Objectcopy" pass="0">ozonesecure-s3.Objectcopy</stat>
<stat fail="5" id="s1-s7" name="Objectdelete" pass="0">ozonesecure-s3.Objectdelete</stat>
<stat fail="1" id="s1-s8" name="Objectmultidelete" pass="0">ozonesecure-s3.Objectmultidelete</stat>
<stat fail="10" id="s1-s9" name="Objectputget" pass="0">ozonesecure-s3.Objectputget</stat>
<stat fail="1" id="s1-s10" name="Webui" pass="0">ozonesecure-s3.Webui</stat>
</suite>
</statistics>
<errors>
</errors>
</robot>
