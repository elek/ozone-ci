2019-09-04 07:45:19,147 [main] WARN  server.ServerUtils (ServerUtils.java:getScmDbDir(145)) - ozone.scm.db.dirs is not configured. We recommend adding this setting. Falling back to ozone.metadata.dirs instead.
2019-09-04 07:45:19,285 [main] WARN  server.ServerUtils (ServerUtils.java:getScmDbDir(145)) - ozone.scm.db.dirs is not configured. We recommend adding this setting. Falling back to ozone.metadata.dirs instead.
2019-09-04 07:45:19,289 [main] WARN  server.ServerUtils (ServerUtils.java:getScmDbDir(145)) - ozone.scm.db.dirs is not configured. We recommend adding this setting. Falling back to ozone.metadata.dirs instead.
2019-09-04 07:45:19,310 [main] INFO  util.log (Log.java:initialized(192)) - Logging initialized @911ms
2019-09-04 07:45:19,414 [main] INFO  db.DBStoreBuilder (DBStoreBuilder.java:addTable(110)) - using custom profile for table: deletedBlocks
2019-09-04 07:45:19,415 [main] INFO  db.DBStoreBuilder (DBStoreBuilder.java:processTables(161)) - Using default column profile:DBProfile.DISK for Table:deletedBlocks
2019-09-04 07:45:19,415 [main] INFO  db.DBStoreBuilder (DBStoreBuilder.java:addTable(110)) - using custom profile for table: validCerts
2019-09-04 07:45:19,415 [main] INFO  db.DBStoreBuilder (DBStoreBuilder.java:processTables(161)) - Using default column profile:DBProfile.DISK for Table:validCerts
2019-09-04 07:45:19,416 [main] INFO  db.DBStoreBuilder (DBStoreBuilder.java:addTable(110)) - using custom profile for table: revokedCerts
2019-09-04 07:45:19,416 [main] INFO  db.DBStoreBuilder (DBStoreBuilder.java:processTables(161)) - Using default column profile:DBProfile.DISK for Table:revokedCerts
2019-09-04 07:45:19,428 [main] INFO  db.DBStoreBuilder (DBStoreBuilder.java:addTable(110)) - using custom profile for table: default
2019-09-04 07:45:19,428 [main] INFO  db.DBStoreBuilder (DBStoreBuilder.java:processTables(167)) - Using default column profile:DBProfile.DISK for Table:default
2019-09-04 07:45:19,429 [main] INFO  db.DBStoreBuilder (DBStoreBuilder.java:getDbProfile(198)) - Using default options. DBProfile.DISK
2019-09-04 07:45:19,820 [main] INFO  net.NodeSchemaLoader (NodeSchemaLoader.java:loadSchemaFromFile(125)) - Loading file from sun.misc.CompoundEnumeration@6a192cfe
2019-09-04 07:45:19,822 [main] INFO  net.NodeSchemaLoader (NodeSchemaLoader.java:loadSchema(171)) - Loading network topology layer schema file
2019-09-04 07:45:19,897 [main] INFO  node.SCMNodeManager (SCMNodeManager.java:<init>(121)) - Entering startup safe mode.
2019-09-04 07:45:19,975 [main] INFO  algorithms.ContainerPlacementPolicyFactory (ContainerPlacementPolicyFactory.java:getPolicy(55)) - Create container placement policy of type org.apache.hadoop.hdds.scm.container.placement.algorithms.SCMContainerPlacementRandom
2019-09-04 07:45:19,989 [main] WARN  server.ServerUtils (ServerUtils.java:getScmDbDir(145)) - ozone.scm.db.dirs is not configured. We recommend adding this setting. Falling back to ozone.metadata.dirs instead.
2019-09-04 07:45:20,096 [main] INFO  pipeline.SCMPipelineManager (SCMPipelineManager.java:initializePipelineState(126)) - No pipeline exists in current db
2019-09-04 07:45:20,100 [main] WARN  server.ServerUtils (ServerUtils.java:getScmDbDir(145)) - ozone.scm.db.dirs is not configured. We recommend adding this setting. Falling back to ozone.metadata.dirs instead.
2019-09-04 07:45:20,299 [main] WARN  events.EventQueue (EventQueue.java:fireEvent(175)) - No event handler registered for event TypedEvent{payloadType=SafeModeStatus, name='SafeModeStatus'}
2019-09-04 07:45:20,759 [main] INFO  ipc.CallQueueManager (CallQueueManager.java:<init>(84)) - Using callQueue: class java.util.concurrent.LinkedBlockingQueue, queueCapacity: 2000, scheduler: class org.apache.hadoop.ipc.DefaultRpcScheduler, ipcBackoff: false.
2019-09-04 07:45:21,086 [Socket Reader #1 for port 46566] INFO  ipc.Server (Server.java:run(1074)) - Starting Socket Reader #1 for port 46566
2019-09-04 07:45:21,118 [main] INFO  ipc.CallQueueManager (CallQueueManager.java:<init>(84)) - Using callQueue: class java.util.concurrent.LinkedBlockingQueue, queueCapacity: 2000, scheduler: class org.apache.hadoop.ipc.DefaultRpcScheduler, ipcBackoff: false.
2019-09-04 07:45:21,119 [Socket Reader #1 for port 43460] INFO  ipc.Server (Server.java:run(1074)) - Starting Socket Reader #1 for port 43460
2019-09-04 07:45:21,127 [main] INFO  ipc.CallQueueManager (CallQueueManager.java:<init>(84)) - Using callQueue: class java.util.concurrent.LinkedBlockingQueue, queueCapacity: 2000, scheduler: class org.apache.hadoop.ipc.DefaultRpcScheduler, ipcBackoff: false.
2019-09-04 07:45:21,128 [Socket Reader #1 for port 39723] INFO  ipc.Server (Server.java:run(1074)) - Starting Socket Reader #1 for port 39723
2019-09-04 07:45:21,148 [main] INFO  hdfs.DFSUtil (DFSUtil.java:httpServerTemplateForNNAndJN(1641)) - Starting Web-server for scm at: http://0.0.0.0:0
2019-09-04 07:45:21,310 [main] INFO  server.AuthenticationFilter (AuthenticationFilter.java:constructSecretProvider(240)) - Unable to initialize FileSignerSecretProvider, falling back to use random secrets.
2019-09-04 07:45:21,318 [main] WARN  http.HttpRequestLog (HttpRequestLog.java:getRequestLog(97)) - Jetty request log can only be enabled using Log4j
2019-09-04 07:45:21,327 [main] INFO  http.HttpServer2 (HttpServer2.java:addGlobalFilter(975)) - Added global filter 'safety' (class=org.apache.hadoop.http.HttpServer2$QuotingInputFilter)
2019-09-04 07:45:21,329 [main] INFO  http.HttpServer2 (HttpServer2.java:addFilter(948)) - Added filter static_user_filter (class=org.apache.hadoop.http.lib.StaticUserWebFilter$StaticUserFilter) to context scm
2019-09-04 07:45:21,330 [main] INFO  http.HttpServer2 (HttpServer2.java:addFilter(958)) - Added filter static_user_filter (class=org.apache.hadoop.http.lib.StaticUserWebFilter$StaticUserFilter) to context logs
2019-09-04 07:45:21,330 [main] INFO  http.HttpServer2 (HttpServer2.java:addFilter(958)) - Added filter static_user_filter (class=org.apache.hadoop.http.lib.StaticUserWebFilter$StaticUserFilter) to context static
2019-09-04 07:45:21,358 [main] INFO  server.StorageContainerManager (StorageContainerManager.java:start(759)) - StorageContainerLocationProtocol RPC server is listening at /0.0.0.0:39723
2019-09-04 07:45:21,418 [main] WARN  impl.MetricsConfig (MetricsConfig.java:loadFirst(134)) - Cannot locate configuration: tried hadoop-metrics2-storagecontainermanager.properties,hadoop-metrics2.properties
2019-09-04 07:45:21,431 [main] INFO  impl.MetricsSystemImpl (MetricsSystemImpl.java:startTimer(374)) - Scheduled Metric snapshot period at 10 second(s).
2019-09-04 07:45:21,431 [main] INFO  impl.MetricsSystemImpl (MetricsSystemImpl.java:start(191)) - StorageContainerManager metrics system started
2019-09-04 07:45:21,657 [main] INFO  server.SCMClientProtocolServer (SCMClientProtocolServer.java:start(151)) - RPC server for Client  is listening at /0.0.0.0:39723
2019-09-04 07:45:21,658 [IPC Server Responder] INFO  ipc.Server (Server.java:run(1314)) - IPC Server Responder: starting
2019-09-04 07:45:21,658 [IPC Server listener on 39723] INFO  ipc.Server (Server.java:run(1153)) - IPC Server listener on 39723: starting
2019-09-04 07:45:21,661 [main] INFO  server.StorageContainerManager (StorageContainerManager.java:start(769)) - ScmBlockLocationProtocol RPC server is listening at /0.0.0.0:43460
2019-09-04 07:45:21,661 [main] INFO  server.SCMBlockProtocolServer (SCMBlockProtocolServer.java:start(140)) - RPC server for Block Protocol is listening at /0.0.0.0:43460
2019-09-04 07:45:21,662 [IPC Server Responder] INFO  ipc.Server (Server.java:run(1314)) - IPC Server Responder: starting
2019-09-04 07:45:21,662 [IPC Server listener on 43460] INFO  ipc.Server (Server.java:run(1153)) - IPC Server listener on 43460: starting
2019-09-04 07:45:21,664 [main] INFO  server.StorageContainerManager (StorageContainerManager.java:start(773)) - ScmDatanodeProtocl RPC server is listening at /0.0.0.0:46566
2019-09-04 07:45:21,665 [main] INFO  server.SCMDatanodeProtocolServer (SCMDatanodeProtocolServer.java:start(191)) - RPC server for DataNodes is listening at /0.0.0.0:46566
2019-09-04 07:45:21,665 [IPC Server Responder] INFO  ipc.Server (Server.java:run(1314)) - IPC Server Responder: starting
2019-09-04 07:45:21,665 [IPC Server listener on 46566] INFO  ipc.Server (Server.java:run(1153)) - IPC Server listener on 46566: starting
2019-09-04 07:45:21,669 [main] INFO  http.HttpServer2 (HttpServer2.java:bindListener(1191)) - Jetty bound to port 46524
2019-09-04 07:45:21,671 [main] INFO  server.Server (Server.java:doStart(351)) - jetty-9.3.24.v20180605, build timestamp: 2018-06-05T17:11:56Z, git hash: 84205aa28f11a4f31f2a3b86d1bba2cc8ab69827
2019-09-04 07:45:21,710 [main] INFO  handler.ContextHandler (ContextHandler.java:doStart(781)) - Started o.e.j.s.ServletContextHandler@1af687fe{/logs,file:///workdir/hadoop-ozone/integration-test/target/log,AVAILABLE}
2019-09-04 07:45:21,711 [main] INFO  handler.ContextHandler (ContextHandler.java:doStart(781)) - Started o.e.j.s.ServletContextHandler@3f390d63{/static,file:///workdir/hadoop-ozone/integration-test/target/test-classes/webapps/static,AVAILABLE}
2019-09-04 07:45:21,746 [main] INFO  handler.ContextHandler (ContextHandler.java:doStart(781)) - Started o.e.j.w.WebAppContext@d1f74b8{/,file:///workdir/hadoop-ozone/integration-test/target/test-classes/webapps/scm/,AVAILABLE}{/scm}
2019-09-04 07:45:21,756 [main] INFO  server.AbstractConnector (AbstractConnector.java:doStart(278)) - Started ServerConnector@7072bc39{HTTP/1.1,[http/1.1]}{0.0.0.0:46524}
2019-09-04 07:45:21,757 [main] INFO  server.Server (Server.java:doStart(419)) - Started @3358ms
2019-09-04 07:45:21,758 [main] INFO  server.BaseHttpServer (BaseHttpServer.java:updateConnectorAddress(213)) - HTTP server of SCM is listening at http://0.0.0.0:46524
2019-09-04 07:45:21,766 [org.apache.hadoop.util.JvmPauseMonitor$Monitor@24be2d9c] INFO  util.JvmPauseMonitor (JvmPauseMonitor.java:run(188)) - Starting JVM pause monitor
2019-09-04 07:45:21,770 [main] WARN  server.ServerUtils (ServerUtils.java:getDBPath(222)) - ozone.om.db.dirs is not configured. We recommend adding this setting. Falling back to ozone.metadata.dirs instead.
2019-09-04 07:45:21,900 [main] WARN  server.ServerUtils (ServerUtils.java:getDBPath(222)) - ozone.om.db.dirs is not configured. We recommend adding this setting. Falling back to ozone.metadata.dirs instead.
2019-09-04 07:45:21,900 [main] WARN  server.ServerUtils (ServerUtils.java:getDBPath(222)) - ozone.om.db.dirs is not configured. We recommend adding this setting. Falling back to ozone.metadata.dirs instead.
2019-09-04 07:45:21,901 [main] INFO  om.OzoneManager (OzoneManager.java:setOMNodeDetails(645)) - OM Service ID is not set. Setting it to the default ID: omServiceIdDefault
2019-09-04 07:45:21,902 [main] INFO  om.OzoneManager (OzoneManager.java:setOMNodeDetails(651)) - OM Node ID is not set. Setting it to the OmStorage's OmID: 78347fbe-7996-4dab-804b-219b00c6dd73
2019-09-04 07:45:21,903 [main] INFO  om.OzoneManager (OzoneManager.java:loadOMHAConfigs(602)) - Found matching OM address with OMServiceId: null, OMNodeId: null, RPC Address: localhost:0 and Ratis port: 9872
2019-09-04 07:45:22,168 | INFO  | SCMAudit | user=jenkins1000 | ip=192.168.34.9 | op=GET_SCM_INFO null | ret=SUCCESS |  
2019-09-04 07:45:22,651 [main] WARN  server.ServerUtils (ServerUtils.java:getDBPath(222)) - ozone.om.db.dirs is not configured. We recommend adding this setting. Falling back to ozone.metadata.dirs instead.
2019-09-04 07:45:22,659 [main] INFO  db.DBStoreBuilder (DBStoreBuilder.java:addTable(110)) - using custom profile for table: userTable
2019-09-04 07:45:22,660 [main] INFO  db.DBStoreBuilder (DBStoreBuilder.java:processTables(161)) - Using default column profile:DBProfile.DISK for Table:userTable
2019-09-04 07:45:22,660 [main] INFO  db.DBStoreBuilder (DBStoreBuilder.java:addTable(110)) - using custom profile for table: volumeTable
2019-09-04 07:45:22,660 [main] INFO  db.DBStoreBuilder (DBStoreBuilder.java:processTables(161)) - Using default column profile:DBProfile.DISK for Table:volumeTable
2019-09-04 07:45:22,660 [main] INFO  db.DBStoreBuilder (DBStoreBuilder.java:addTable(110)) - using custom profile for table: bucketTable
2019-09-04 07:45:22,661 [main] INFO  db.DBStoreBuilder (DBStoreBuilder.java:processTables(161)) - Using default column profile:DBProfile.DISK for Table:bucketTable
2019-09-04 07:45:22,661 [main] INFO  db.DBStoreBuilder (DBStoreBuilder.java:addTable(110)) - using custom profile for table: keyTable
2019-09-04 07:45:22,661 [main] INFO  db.DBStoreBuilder (DBStoreBuilder.java:processTables(161)) - Using default column profile:DBProfile.DISK for Table:keyTable
2019-09-04 07:45:22,661 [main] INFO  db.DBStoreBuilder (DBStoreBuilder.java:addTable(110)) - using custom profile for table: deletedTable
2019-09-04 07:45:22,662 [main] INFO  db.DBStoreBuilder (DBStoreBuilder.java:processTables(161)) - Using default column profile:DBProfile.DISK for Table:deletedTable
2019-09-04 07:45:22,662 [main] INFO  db.DBStoreBuilder (DBStoreBuilder.java:addTable(110)) - using custom profile for table: openKeyTable
2019-09-04 07:45:22,662 [main] INFO  db.DBStoreBuilder (DBStoreBuilder.java:processTables(161)) - Using default column profile:DBProfile.DISK for Table:openKeyTable
2019-09-04 07:45:22,662 [main] INFO  db.DBStoreBuilder (DBStoreBuilder.java:addTable(110)) - using custom profile for table: s3Table
2019-09-04 07:45:22,663 [main] INFO  db.DBStoreBuilder (DBStoreBuilder.java:processTables(161)) - Using default column profile:DBProfile.DISK for Table:s3Table
2019-09-04 07:45:22,663 [main] INFO  db.DBStoreBuilder (DBStoreBuilder.java:addTable(110)) - using custom profile for table: multipartInfoTable
2019-09-04 07:45:22,663 [main] INFO  db.DBStoreBuilder (DBStoreBuilder.java:processTables(161)) - Using default column profile:DBProfile.DISK for Table:multipartInfoTable
2019-09-04 07:45:22,663 [main] INFO  db.DBStoreBuilder (DBStoreBuilder.java:addTable(110)) - using custom profile for table: dTokenTable
2019-09-04 07:45:22,664 [main] INFO  db.DBStoreBuilder (DBStoreBuilder.java:processTables(161)) - Using default column profile:DBProfile.DISK for Table:dTokenTable
2019-09-04 07:45:22,664 [main] INFO  db.DBStoreBuilder (DBStoreBuilder.java:addTable(110)) - using custom profile for table: s3SecretTable
2019-09-04 07:45:22,664 [main] INFO  db.DBStoreBuilder (DBStoreBuilder.java:processTables(161)) - Using default column profile:DBProfile.DISK for Table:s3SecretTable
2019-09-04 07:45:22,664 [main] INFO  db.DBStoreBuilder (DBStoreBuilder.java:addTable(110)) - using custom profile for table: prefixTable
2019-09-04 07:45:22,665 [main] INFO  db.DBStoreBuilder (DBStoreBuilder.java:processTables(161)) - Using default column profile:DBProfile.DISK for Table:prefixTable
2019-09-04 07:45:22,665 [main] INFO  db.DBStoreBuilder (DBStoreBuilder.java:addTable(110)) - using custom profile for table: default
2019-09-04 07:45:22,665 [main] INFO  db.DBStoreBuilder (DBStoreBuilder.java:processTables(167)) - Using default column profile:DBProfile.DISK for Table:default
2019-09-04 07:45:22,665 [main] INFO  db.DBStoreBuilder (DBStoreBuilder.java:getDbProfile(198)) - Using default options. DBProfile.DISK
2019-09-04 07:45:23,574 [main] INFO  ipc.CallQueueManager (CallQueueManager.java:<init>(84)) - Using callQueue: class java.util.concurrent.LinkedBlockingQueue, queueCapacity: 2000, scheduler: class org.apache.hadoop.ipc.DefaultRpcScheduler, ipcBackoff: false.
2019-09-04 07:45:23,575 [Socket Reader #1 for port 40247] INFO  ipc.Server (Server.java:run(1074)) - Starting Socket Reader #1 for port 40247
2019-09-04 07:45:23,604 [main] INFO  om.OzoneManager (OzoneManager.java:start(1256)) - OzoneManager RPC server is listening at localhost/127.0.0.1:40247
2019-09-04 07:45:23,605 [main] INFO  impl.MetricsSystemImpl (MetricsSystemImpl.java:init(158)) - OzoneManager metrics system started (again)
2019-09-04 07:45:23,606 [IPC Server Responder] INFO  ipc.Server (Server.java:run(1314)) - IPC Server Responder: starting
2019-09-04 07:45:23,606 [IPC Server listener on 40247] INFO  ipc.Server (Server.java:run(1153)) - IPC Server listener on 40247: starting
2019-09-04 07:45:23,615 [main] INFO  hdfs.DFSUtil (DFSUtil.java:httpServerTemplateForNNAndJN(1641)) - Starting Web-server for ozoneManager at: http://0.0.0.0:0
2019-09-04 07:45:23,620 [main] INFO  server.AuthenticationFilter (AuthenticationFilter.java:constructSecretProvider(240)) - Unable to initialize FileSignerSecretProvider, falling back to use random secrets.
2019-09-04 07:45:23,621 [main] WARN  http.HttpRequestLog (HttpRequestLog.java:getRequestLog(97)) - Jetty request log can only be enabled using Log4j
2019-09-04 07:45:23,625 [main] INFO  http.HttpServer2 (HttpServer2.java:addGlobalFilter(975)) - Added global filter 'safety' (class=org.apache.hadoop.http.HttpServer2$QuotingInputFilter)
2019-09-04 07:45:23,627 [main] INFO  http.HttpServer2 (HttpServer2.java:addFilter(948)) - Added filter static_user_filter (class=org.apache.hadoop.http.lib.StaticUserWebFilter$StaticUserFilter) to context ozoneManager
2019-09-04 07:45:23,627 [main] INFO  http.HttpServer2 (HttpServer2.java:addFilter(958)) - Added filter static_user_filter (class=org.apache.hadoop.http.lib.StaticUserWebFilter$StaticUserFilter) to context static
2019-09-04 07:45:23,628 [main] INFO  http.HttpServer2 (HttpServer2.java:addFilter(958)) - Added filter static_user_filter (class=org.apache.hadoop.http.lib.StaticUserWebFilter$StaticUserFilter) to context logs
2019-09-04 07:45:23,632 [main] INFO  http.HttpServer2 (HttpServer2.java:bindListener(1191)) - Jetty bound to port 41923
2019-09-04 07:45:23,632 [main] INFO  server.Server (Server.java:doStart(351)) - jetty-9.3.24.v20180605, build timestamp: 2018-06-05T17:11:56Z, git hash: 84205aa28f11a4f31f2a3b86d1bba2cc8ab69827
2019-09-04 07:45:23,635 [main] INFO  handler.ContextHandler (ContextHandler.java:doStart(781)) - Started o.e.j.s.ServletContextHandler@1e9804b9{/logs,file:///workdir/hadoop-ozone/integration-test/target/log,AVAILABLE}
2019-09-04 07:45:23,636 [main] INFO  handler.ContextHandler (ContextHandler.java:doStart(781)) - Started o.e.j.s.ServletContextHandler@4e628b52{/static,file:///workdir/hadoop-ozone/integration-test/target/test-classes/webapps/static,AVAILABLE}
2019-09-04 07:45:23,645 [main] INFO  handler.ContextHandler (ContextHandler.java:doStart(781)) - Started o.e.j.w.WebAppContext@6daf2337{/,file:///workdir/hadoop-ozone/integration-test/target/test-classes/webapps/ozoneManager/,AVAILABLE}{/ozoneManager}
2019-09-04 07:45:23,647 [main] INFO  server.AbstractConnector (AbstractConnector.java:doStart(278)) - Started ServerConnector@24fabd0f{HTTP/1.1,[http/1.1]}{0.0.0.0:41923}
2019-09-04 07:45:23,647 [main] INFO  server.Server (Server.java:doStart(419)) - Started @5248ms
2019-09-04 07:45:23,649 [main] INFO  server.BaseHttpServer (BaseHttpServer.java:updateConnectorAddress(213)) - HTTP server of OZONEMANAGER is listening at http://0.0.0.0:41923
2019-09-04 07:45:23,961 [main] INFO  impl.MetricsSystemImpl (MetricsSystemImpl.java:init(158)) - HddsDatanode metrics system started (again)
2019-09-04 07:45:24,050 [main] INFO  ozone.HddsDatanodeService (HddsDatanodeService.java:start(184)) - HddsDatanodeService host:pr-hdds-1569-tfczc-1762686928 ip:192.168.34.9
2019-09-04 07:45:24,081 [main] INFO  volume.HddsVolume (HddsVolume.java:<init>(176)) - Creating Volume: /workdir/hadoop-ozone/integration-test/target/test-dir/MiniOzoneClusterImpl-68751a6c-b5d9-4680-8ddd-dddd40b06685/datanode-0/data/containers/hdds of  storage type : DISK and capacity : 1482555576320
2019-09-04 07:45:24,084 [main] INFO  volume.VolumeSet (VolumeSet.java:initializeVolumeSet(170)) - Added Volume : /workdir/hadoop-ozone/integration-test/target/test-dir/MiniOzoneClusterImpl-68751a6c-b5d9-4680-8ddd-dddd40b06685/datanode-0/data/containers/hdds to VolumeSet
2019-09-04 07:45:24,087 [main] INFO  volume.ThrottledAsyncChecker (ThrottledAsyncChecker.java:schedule(140)) - Scheduling a check for org.apache.hadoop.ozone.container.common.volume.HddsVolume@58e85c6f
2019-09-04 07:45:24,105 [main] INFO  volume.HddsVolumeChecker (HddsVolumeChecker.java:checkAllVolumes(203)) - Scheduled health check for volume org.apache.hadoop.ozone.container.common.volume.HddsVolume@58e85c6f
2019-09-04 07:45:24,215 [main] INFO  impl.RaftServerProxy (ConfUtils.java:logGet(43)) - raft.rpc.type = GRPC (default)
2019-09-04 07:45:24,280 [main] INFO  grpc.GrpcFactory (GrpcFactory.java:checkPooledByteBufAllocatorUseCacheForAllThreads(45)) - PERFORMANCE WARNING: useCacheForAllThreads is true that may cause Netty to create a lot garbage objects and, as a result, trigger GC.
	It is recommended to disable useCacheForAllThreads by setting -Dorg.apache.ratis.thirdparty.io.netty.allocator.useCacheForAllThreads=false in command line.
2019-09-04 07:45:24,284 [main] INFO  grpc.GrpcConfigKeys$Server (ConfUtils.java:logGet(43)) - raft.grpc.server.port = 0 (default)
2019-09-04 07:45:24,285 [main] INFO  server.GrpcService (ConfUtils.java:logGet(43)) - raft.grpc.message.size.max = 33570816 (custom)
2019-09-04 07:45:24,287 [main] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.log.appender.buffer.byte-limit = 33554432 (custom)
2019-09-04 07:45:24,288 [main] INFO  server.GrpcService (ConfUtils.java:logGet(43)) - raft.grpc.flow.control.window = 1MB (=1048576) (default)
2019-09-04 07:45:24,288 [main] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.rpc.request.timeout = 3000ms (default)
2019-09-04 07:45:24,443 [main] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.storage.dir = [/workdir/hadoop-ozone/integration-test/target/test-dir/MiniOzoneClusterImpl-68751a6c-b5d9-4680-8ddd-dddd40b06685/datanode-0/data/ratis] (custom)
2019-09-04 07:45:24,476 [main] INFO  replication.SimpleContainerDownloader (SimpleContainerDownloader.java:<init>(72)) - Starting container downloader service to copy containers to replicate.
2019-09-04 07:45:24,488 [main] INFO  hdfs.DFSUtil (DFSUtil.java:httpServerTemplateForNNAndJN(1641)) - Starting Web-server for hddsDatanode at: http://0.0.0.0:0
2019-09-04 07:45:24,489 [main] INFO  server.AuthenticationFilter (AuthenticationFilter.java:constructSecretProvider(240)) - Unable to initialize FileSignerSecretProvider, falling back to use random secrets.
2019-09-04 07:45:24,490 [main] WARN  http.HttpRequestLog (HttpRequestLog.java:getRequestLog(97)) - Jetty request log can only be enabled using Log4j
2019-09-04 07:45:24,491 [main] INFO  http.HttpServer2 (HttpServer2.java:addGlobalFilter(975)) - Added global filter 'safety' (class=org.apache.hadoop.http.HttpServer2$QuotingInputFilter)
2019-09-04 07:45:24,492 [main] INFO  http.HttpServer2 (HttpServer2.java:addFilter(948)) - Added filter static_user_filter (class=org.apache.hadoop.http.lib.StaticUserWebFilter$StaticUserFilter) to context hddsDatanode
2019-09-04 07:45:24,492 [main] INFO  http.HttpServer2 (HttpServer2.java:addFilter(958)) - Added filter static_user_filter (class=org.apache.hadoop.http.lib.StaticUserWebFilter$StaticUserFilter) to context logs
2019-09-04 07:45:24,492 [main] INFO  http.HttpServer2 (HttpServer2.java:addFilter(958)) - Added filter static_user_filter (class=org.apache.hadoop.http.lib.StaticUserWebFilter$StaticUserFilter) to context static
2019-09-04 07:45:24,493 [main] INFO  http.HttpServer2 (HttpServer2.java:bindListener(1191)) - Jetty bound to port 39773
2019-09-04 07:45:24,493 [main] INFO  server.Server (Server.java:doStart(351)) - jetty-9.3.24.v20180605, build timestamp: 2018-06-05T17:11:56Z, git hash: 84205aa28f11a4f31f2a3b86d1bba2cc8ab69827
2019-09-04 07:45:24,495 [main] INFO  handler.ContextHandler (ContextHandler.java:doStart(781)) - Started o.e.j.s.ServletContextHandler@58f39564{/logs,file:///workdir/hadoop-ozone/integration-test/target/log,AVAILABLE}
2019-09-04 07:45:24,496 [main] INFO  handler.ContextHandler (ContextHandler.java:doStart(781)) - Started o.e.j.s.ServletContextHandler@2f4c2cd4{/static,jar:file:/home/user/.m2/repository/org/apache/hadoop/hadoop-hdds-container-service/0.5.0-SNAPSHOT/hadoop-hdds-container-service-0.5.0-SNAPSHOT.jar!/webapps/static,AVAILABLE}
2019-09-04 07:45:24,528 [main] INFO  handler.ContextHandler (ContextHandler.java:doStart(781)) - Started o.e.j.w.WebAppContext@16727bf0{/,file:///tmp/jetty-0.0.0.0-39773-hddsDatanode-_-any-7440368744790470415.dir/webapp/,AVAILABLE}{/hddsDatanode}
2019-09-04 07:45:24,529 [main] INFO  server.AbstractConnector (AbstractConnector.java:doStart(278)) - Started ServerConnector@2f84acf7{HTTP/1.1,[http/1.1]}{0.0.0.0:39773}
2019-09-04 07:45:24,529 [main] INFO  server.Server (Server.java:doStart(419)) - Started @6130ms
2019-09-04 07:45:24,531 [main] INFO  server.BaseHttpServer (BaseHttpServer.java:updateConnectorAddress(213)) - HTTP server of HDDSDATANODE is listening at http://0.0.0.0:39773
Sep 04, 2019 7:45:24 AM com.sun.jersey.server.impl.application.WebApplicationImpl _initiate
INFO: Initiating Jersey application, version 'Jersey: 1.19 02/11/2015 03:25 AM'
2019-09-04 07:45:25,640 | INFO  | ObjectStoreRestHttpServer | Listening HDDS REST traffic on /0.0.0.0:32820 |  
2019-09-04 07:45:25,642 [main] INFO  ozone.HddsDatanodeService (HddsDatanodeService.java:startPlugins(395)) - Started plug-in org.apache.hadoop.ozone.web.OzoneHddsDatanodeService@622d7e4
2019-09-04 07:45:25,644 [main] INFO  ozone.MiniOzoneClusterImpl (MiniOzoneClusterImpl.java:lambda$waitForClusterToBeReady$0(142)) - Waiting for cluster to be ready. Got 0 of 1 DN Heartbeats.
2019-09-04 07:45:25,649 [org.apache.hadoop.util.JvmPauseMonitor$Monitor@2667ff9d] INFO  util.JvmPauseMonitor (JvmPauseMonitor.java:run(188)) - Starting JVM pause monitor
2019-09-04 07:45:25,776 [Datanode State Machine Thread - 0] INFO  datanode.InitDatanodeState (InitDatanodeState.java:persistContainerDatanodeDetails(140)) - DatanodeDetails is persisted to /workdir/hadoop-ozone/integration-test/target/test-dir/MiniOzoneClusterImpl-68751a6c-b5d9-4680-8ddd-dddd40b06685/datanode-0/meta/datanode.id
2019-09-04 07:45:26,644 [main] INFO  ozone.MiniOzoneClusterImpl (MiniOzoneClusterImpl.java:lambda$waitForClusterToBeReady$0(142)) - Waiting for cluster to be ready. Got 0 of 1 DN Heartbeats.
2019-09-04 07:45:27,645 [main] INFO  ozone.MiniOzoneClusterImpl (MiniOzoneClusterImpl.java:lambda$waitForClusterToBeReady$0(142)) - Waiting for cluster to be ready. Got 0 of 1 DN Heartbeats.
2019-09-04 07:45:27,684 | INFO  | SCMAudit | user=jenkins1000 | ip=192.168.34.9 | op=GET_VERSION null | ret=SUCCESS |  
2019-09-04 07:45:27,714 [Datanode State Machine Thread - 0] INFO  ozoneimpl.OzoneContainer (OzoneContainer.java:start(186)) - Attempting to start container services.
2019-09-04 07:45:27,715 [Datanode State Machine Thread - 0] INFO  ozoneimpl.OzoneContainer (OzoneContainer.java:startContainerScrub(160)) - Background container scrubber has been disabled by hdds.containerscrub.enabled
2019-09-04 07:45:27,715 [Datanode State Machine Thread - 0] INFO  ratis.XceiverServerRatis (XceiverServerRatis.java:start(404)) - Starting XceiverServerRatis 4e694486-3087-4490-b550-6be9ae6dbe9a at port 0
2019-09-04 07:45:27,737 [Datanode State Machine Thread - 0] INFO  impl.RaftServerProxy (RaftServerProxy.java:lambda$start$3(299)) - 4e694486-3087-4490-b550-6be9ae6dbe9a: start RPC server
2019-09-04 07:45:27,862 [Datanode State Machine Thread - 0] INFO  server.GrpcService (GrpcService.java:startImpl(149)) - 4e694486-3087-4490-b550-6be9ae6dbe9a: GrpcService started, listening on 0.0.0.0/0.0.0.0:39640
2019-09-04 07:45:27,863 [Datanode State Machine Thread - 0] INFO  ratis.XceiverServerRatis (XceiverServerRatis.java:start(414)) - XceiverServerRatis 4e694486-3087-4490-b550-6be9ae6dbe9a is started using port 39640
2019-09-04 07:45:27,865 [Datanode State Machine Thread - 0] INFO  server.XceiverServerGrpc (XceiverServerGrpc.java:start(163)) - XceiverServerGrpc 4e694486-3087-4490-b550-6be9ae6dbe9a is started using port 33669
2019-09-04 07:45:28,645 [main] INFO  ozone.MiniOzoneClusterImpl (MiniOzoneClusterImpl.java:lambda$waitForClusterToBeReady$0(142)) - Waiting for cluster to be ready. Got 0 of 1 DN Heartbeats.
2019-09-04 07:45:29,646 [main] INFO  ozone.MiniOzoneClusterImpl (MiniOzoneClusterImpl.java:lambda$waitForClusterToBeReady$0(142)) - Waiting for cluster to be ready. Got 0 of 1 DN Heartbeats.
2019-09-04 07:45:29,683 [IPC Server handler 18 on 46566] INFO  net.NetworkTopology (NetworkTopologyImpl.java:add(110)) - Added a new node: /default-rack/4e694486-3087-4490-b550-6be9ae6dbe9a
2019-09-04 07:45:29,684 [IPC Server handler 18 on 46566] INFO  node.SCMNodeManager (SCMNodeManager.java:register(273)) - Registered Data node : 4e694486-3087-4490-b550-6be9ae6dbe9a{ip: 192.168.34.9, host: pr-hdds-1569-tfczc-1762686928, networkLocation: /default-rack, certSerialId: null}
2019-09-04 07:45:29,688 [EventQueue-NodeRegistrationContainerReportForDataNodeSafeModeRule] INFO  safemode.SCMSafeModeManager (DataNodeSafeModeRule.java:process(71)) - SCM in safe mode. 1 DataNodes registered, 1 required.
2019-09-04 07:45:29,688 [EventQueue-NodeRegistrationContainerReportForDataNodeSafeModeRule] INFO  safemode.SCMSafeModeManager (SCMSafeModeManager.java:validateSafeModeExitRules(177)) - ScmSafeModeManager, all rules are successfully validated
2019-09-04 07:45:29,689 [EventQueue-NodeRegistrationContainerReportForDataNodeSafeModeRule] INFO  safemode.SCMSafeModeManager (SCMSafeModeManager.java:exitSafeMode(193)) - SCM exiting safe mode.
2019-09-04 07:45:29,696 | INFO  | SCMAudit | user=jenkins1000 | ip=192.168.34.9 | op=REGISTER {datanodeDetails=4e694486-3087-4490-b550-6be9ae6dbe9a{ip: 192.168.34.9, host: pr-hdds-1569-tfczc-1762686928, networkLocation: /default-rack, certSerialId: null}} | ret=SUCCESS |  
2019-09-04 07:45:30,518 [grpc-default-executor-0] INFO  impl.RaftServerProxy (RaftServerProxy.java:addNew(89)) - 4e694486-3087-4490-b550-6be9ae6dbe9a: addNew group-92368DA4D364:[4e694486-3087-4490-b550-6be9ae6dbe9a:192.168.34.9:39640] returns group-92368DA4D364:java.util.concurrent.CompletableFuture@6c182604[Not completed]
2019-09-04 07:45:30,535 [pool-27-thread-1] INFO  impl.RaftServerImpl (RaftServerImpl.java:<init>(93)) - 4e694486-3087-4490-b550-6be9ae6dbe9a: new RaftServerImpl for group-92368DA4D364:[4e694486-3087-4490-b550-6be9ae6dbe9a:192.168.34.9:39640] with ContainerStateMachine:uninitialized
2019-09-04 07:45:30,538 [pool-27-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.rpc.timeout.min = 5s (custom)
2019-09-04 07:45:30,539 [pool-27-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.rpc.timeout.max = 5200ms (custom)
2019-09-04 07:45:30,539 [pool-27-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.rpcslowness.timeout = 120s (custom)
2019-09-04 07:45:30,540 [pool-27-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.sleep.deviation.threshold = 300 (default)
2019-09-04 07:45:30,541 [pool-27-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.log.appender.install.snapshot.enabled = false (custom)
2019-09-04 07:45:30,551 [pool-27-thread-1] INFO  impl.RaftServerImpl (ServerState.java:<init>(105)) - 4e694486-3087-4490-b550-6be9ae6dbe9a:group-92368DA4D364 ConfigurationManager, init=-1: [4e694486-3087-4490-b550-6be9ae6dbe9a:192.168.34.9:39640], old=null, confs=<EMPTY_MAP>
2019-09-04 07:45:30,552 [pool-27-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.storage.dir = [/workdir/hadoop-ozone/integration-test/target/test-dir/MiniOzoneClusterImpl-68751a6c-b5d9-4680-8ddd-dddd40b06685/datanode-0/data/ratis] (custom)
2019-09-04 07:45:30,562 [pool-27-thread-1] INFO  storage.RaftStorageDirectory (RaftStorageDirectory.java:analyzeStorage(246)) - The storage directory /workdir/hadoop-ozone/integration-test/target/test-dir/MiniOzoneClusterImpl-68751a6c-b5d9-4680-8ddd-dddd40b06685/datanode-0/data/ratis/58e0dcf1-8781-48bb-ac92-92368da4d364 does not exist. Creating ...
2019-09-04 07:45:30,588 [pool-27-thread-1] INFO  storage.RaftStorageDirectory (RaftStorageDirectory.java:tryLock(328)) - Lock on /workdir/hadoop-ozone/integration-test/target/test-dir/MiniOzoneClusterImpl-68751a6c-b5d9-4680-8ddd-dddd40b06685/datanode-0/data/ratis/58e0dcf1-8781-48bb-ac92-92368da4d364/in_use.lock acquired by nodename 1142@pr-hdds-1569-tfczc-1762686928
2019-09-04 07:45:30,614 [pool-27-thread-1] INFO  storage.RaftStorage (RaftStorage.java:format(72)) - Storage directory /workdir/hadoop-ozone/integration-test/target/test-dir/MiniOzoneClusterImpl-68751a6c-b5d9-4680-8ddd-dddd40b06685/datanode-0/data/ratis/58e0dcf1-8781-48bb-ac92-92368da4d364 has been successfully formatted.
2019-09-04 07:45:30,616 [pool-27-thread-1] INFO  ratis.ContainerStateMachine (ContainerStateMachine.java:loadSnapshot(226)) - group-92368DA4D364: The snapshot info is null. Setting the last applied indexto:(t:0, i:~)
2019-09-04 07:45:30,616 [pool-27-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.leader.election.timeout = 120s (custom)
2019-09-04 07:45:30,618 [pool-27-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.log.use.memory = false (default)
2019-09-04 07:45:30,623 [pool-27-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.log.purge.gap = 1000000 (custom)
2019-09-04 07:45:30,623 [pool-27-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.log.appender.buffer.byte-limit = 33554432 (custom)
2019-09-04 07:45:30,625 [pool-27-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.log.segment.size.max = 1048576 (custom)
2019-09-04 07:45:30,629 [pool-27-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.log.segment.cache.num.max = 2 (custom)
2019-09-04 07:45:30,634 [pool-27-thread-1] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:<init>(172)) - new 4e694486-3087-4490-b550-6be9ae6dbe9a-SegmentedRaftLogWorker:Storage Directory /workdir/hadoop-ozone/integration-test/target/test-dir/MiniOzoneClusterImpl-68751a6c-b5d9-4680-8ddd-dddd40b06685/datanode-0/data/ratis/58e0dcf1-8781-48bb-ac92-92368da4d364 for RaftStorage:Storage Directory /workdir/hadoop-ozone/integration-test/target/test-dir/MiniOzoneClusterImpl-68751a6c-b5d9-4680-8ddd-dddd40b06685/datanode-0/data/ratis/58e0dcf1-8781-48bb-ac92-92368da4d364
2019-09-04 07:45:30,645 [pool-27-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.log.queue.byte-limit = 2147483647 (custom)
2019-09-04 07:45:30,646 [pool-27-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.log.queue.element-limit = 1024 (custom)
2019-09-04 07:45:30,647 [main] INFO  ozone.MiniOzoneClusterImpl (MiniOzoneClusterImpl.java:lambda$waitForClusterToBeReady$0(142)) - Cluster is ready. Got 1 of 1 DN Heartbeats.
2019-09-04 07:45:30,651 [pool-27-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.log.segment.size.max = 1048576 (custom)
2019-09-04 07:45:30,652 [pool-27-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.log.preallocated.size = 16384 (custom)
2019-09-04 07:45:30,652 [pool-27-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.log.write.buffer.size = 33554432 (custom)
2019-09-04 07:45:30,653 [pool-27-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.log.force.sync.num = 128 (default)
2019-09-04 07:45:30,654 [pool-27-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.log.statemachine.data.sync = true (default)
2019-09-04 07:45:30,654 [pool-27-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.log.statemachine.data.sync.timeout = 10s (default)
2019-09-04 07:45:30,654 [pool-27-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.log.statemachine.data.sync.timeout.retry = -1 (default)
2019-09-04 07:45:30,663 [pool-27-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.log.statemachine.data.caching.enabled = true (custom)
2019-09-04 07:45:30,667 [pool-27-thread-1] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:lambda$new$0(132)) - 4e694486-3087-4490-b550-6be9ae6dbe9a-SegmentedRaftLogWorker:Storage Directory /workdir/hadoop-ozone/integration-test/target/test-dir/MiniOzoneClusterImpl-68751a6c-b5d9-4680-8ddd-dddd40b06685/datanode-0/data/ratis/58e0dcf1-8781-48bb-ac92-92368da4d364: flushIndex: setUnconditionally 0 -> -1
2019-09-04 07:45:30,671 [pool-27-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.snapshot.auto.trigger.enabled = true (custom)
2019-09-04 07:45:30,672 [pool-27-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.snapshot.auto.trigger.threshold = 1 (custom)
2019-09-04 07:45:30,672 [pool-27-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.retrycache.expirytime = 600000ms (custom)
2019-09-04 07:45:30,691 [pool-27-thread-1] INFO  impl.RaftServerImpl (RaftServerImpl.java:start(180)) - 4e694486-3087-4490-b550-6be9ae6dbe9a: start group-92368DA4D364
2019-09-04 07:45:30,692 [pool-27-thread-1] INFO  impl.RaftServerImpl (RaftServerImpl.java:setRole(171)) - 4e694486-3087-4490-b550-6be9ae6dbe9a:group-92368DA4D364 changes role from null to FOLLOWER at term 0 for startAsFollower
2019-09-04 07:45:30,694 [pool-27-thread-1] INFO  impl.RoleInfo (RoleInfo.java:updateAndGet(143)) - 4e694486-3087-4490-b550-6be9ae6dbe9a: start FollowerState
2019-09-04 07:45:30,695 [pool-27-thread-1] INFO  util.JmxRegister (JmxRegister.java:tryRegister(44)) - Successfully registered JMX Bean with object name Ratis:service=RaftServer,group=group-92368DA4D364,id=4e694486-3087-4490-b550-6be9ae6dbe9a
2019-09-04 07:45:30,758 [RatisPipelineUtilsThread] INFO  pipeline.PipelineStateManager (PipelineStateManager.java:addPipeline(56)) - Created pipeline Pipeline[ Id: 58e0dcf1-8781-48bb-ac92-92368da4d364, Nodes: 4e694486-3087-4490-b550-6be9ae6dbe9a{ip: 192.168.34.9, host: pr-hdds-1569-tfczc-1762686928, networkLocation: /default-rack, certSerialId: null}, Type:RATIS, Factor:ONE, State:OPEN]
2019-09-04 07:45:30,953 [main] INFO  rpc.RpcClient (RpcClient.java:createVolume(293)) - Creating Volume: testcontainerstatemachinefailures, with jenkins1000 as owner.
2019-09-04 07:45:30,973 | INFO  | OMAudit | user=jenkins1000 | ip=127.0.0.1 | op=CREATE_VOLUME {admin=jenkins1000, owner=jenkins1000, volume=testcontainerstatemachinefailures, creationTime=1567583130968, quotaInBytes=1152921504606846976} | ret=SUCCESS |  
2019-09-04 07:45:30,985 | INFO  | OMAudit | user=jenkins1000 | ip=127.0.0.1 | op=READ_VOLUME {volume=testcontainerstatemachinefailures} | ret=SUCCESS |  
2019-09-04 07:45:30,990 [main] INFO  rpc.RpcClient (RpcClient.java:createBucket(432)) - Creating Bucket: testcontainerstatemachinefailures/testcontainerstatemachinefailures, with Versioning false and Storage Type set to DISK and Encryption set to false 
2019-09-04 07:45:31,004 | INFO  | OMAudit | user=jenkins1000 | ip=127.0.0.1 | op=CREATE_BUCKET {volume=testcontainerstatemachinefailures, bucket=testcontainerstatemachinefailures, acls=[user:jenkins1000:a[ACCESS], group:default:a[ACCESS]], isVersionEnabled=false, storageType=DISK, creationTime=0} | ret=SUCCESS |  
2019-09-04 07:45:31,010 | INFO  | OMAudit | user=jenkins1000 | ip=127.0.0.1 | op=READ_VOLUME {volume=testcontainerstatemachinefailures} | ret=SUCCESS |  
2019-09-04 07:45:31,016 | INFO  | OMAudit | user=jenkins1000 | ip=127.0.0.1 | op=READ_BUCKET {volume=testcontainerstatemachinefailures, bucket=testcontainerstatemachinefailures} | ret=SUCCESS |  
2019-09-04 07:45:31,067 | INFO  | SCMAudit | user=jenkins1000 | ip=192.168.34.9 | op=ALLOCATE_BLOCK {owner=78347fbe-7996-4dab-804b-219b00c6dd73, size=4194304, type=RATIS, factor=ONE} | ret=SUCCESS |  
2019-09-04 07:45:31,093 | INFO  | OMAudit | user=jenkins1000 | ip=127.0.0.1 | op=ALLOCATE_KEY {volume=testcontainerstatemachinefailures, bucket=testcontainerstatemachinefailures, key=ratis, dataSize=1024, replicationType=RATIS, replicationFactor=ONE, keyLocationInfo=null} | ret=SUCCESS |  
2019-09-04 07:45:31,130 [main] INFO  impl.MetricsSystemImpl (MetricsSystemImpl.java:init(158)) - XceiverClientMetrics metrics system started (again)
2019-09-04 07:45:31,227 [grpc-default-executor-0] INFO  client.GrpcClientProtocolClient (GrpcClientProtocolClient.java:onNext(255)) - client-65256B230D7F->4e694486-3087-4490-b550-6be9ae6dbe9a: receive RaftClientReply:client-65256B230D7F->4e694486-3087-4490-b550-6be9ae6dbe9a@group-92368DA4D364, cid=1, FAILED org.apache.ratis.protocol.NotLeaderException: Server 4e694486-3087-4490-b550-6be9ae6dbe9a is not the leader (null). Request must be sent to leader., logIndex=0, commits[4e694486-3087-4490-b550-6be9ae6dbe9a:c-1]
2019-09-04 07:45:31,679 | INFO  | SCMAudit | user=jenkins1000 | ip=192.168.34.9 | op=SEND_HEARTBEAT {datanodeUUID=4e694486-3087-4490-b550-6be9ae6dbe9a, command=[]} | ret=SUCCESS |  
2019-09-04 07:45:31,850 | INFO  | SCMAudit | user=jenkins1000 | ip=192.168.34.9 | op=SEND_HEARTBEAT {datanodeUUID=4e694486-3087-4490-b550-6be9ae6dbe9a, command=[]} | ret=SUCCESS |  
2019-09-04 07:45:32,051 | INFO  | SCMAudit | user=jenkins1000 | ip=192.168.34.9 | op=SEND_HEARTBEAT {datanodeUUID=4e694486-3087-4490-b550-6be9ae6dbe9a, command=[]} | ret=SUCCESS |  
2019-09-04 07:45:32,250 | INFO  | SCMAudit | user=jenkins1000 | ip=192.168.34.9 | op=SEND_HEARTBEAT {datanodeUUID=4e694486-3087-4490-b550-6be9ae6dbe9a, command=[]} | ret=SUCCESS |  
2019-09-04 07:45:32,450 | INFO  | SCMAudit | user=jenkins1000 | ip=192.168.34.9 | op=SEND_HEARTBEAT {datanodeUUID=4e694486-3087-4490-b550-6be9ae6dbe9a, command=[]} | ret=SUCCESS |  
2019-09-04 07:45:32,650 | INFO  | SCMAudit | user=jenkins1000 | ip=192.168.34.9 | op=SEND_HEARTBEAT {datanodeUUID=4e694486-3087-4490-b550-6be9ae6dbe9a, command=[]} | ret=SUCCESS |  
2019-09-04 07:45:32,691 [Thread-147] INFO  container.ReplicationManager (ReplicationManager.java:start(152)) - Starting Replication Monitor Thread.
2019-09-04 07:45:32,698 [ReplicationMonitor] INFO  container.ReplicationManager (ReplicationManager.java:run(215)) - Replication Monitor Thread took 7 milliseconds for processing 1 containers.
2019-09-04 07:45:32,850 | INFO  | SCMAudit | user=jenkins1000 | ip=192.168.34.9 | op=SEND_HEARTBEAT {datanodeUUID=4e694486-3087-4490-b550-6be9ae6dbe9a, command=[]} | ret=SUCCESS |  
2019-09-04 07:45:33,050 | INFO  | SCMAudit | user=jenkins1000 | ip=192.168.34.9 | op=SEND_HEARTBEAT {datanodeUUID=4e694486-3087-4490-b550-6be9ae6dbe9a, command=[]} | ret=SUCCESS |  
2019-09-04 07:45:33,253 | INFO  | SCMAudit | user=jenkins1000 | ip=192.168.34.9 | op=SEND_HEARTBEAT {datanodeUUID=4e694486-3087-4490-b550-6be9ae6dbe9a, command=[]} | ret=SUCCESS |  
2019-09-04 07:45:33,262 [grpc-default-executor-1] INFO  client.GrpcClientProtocolClient (GrpcClientProtocolClient.java:onNext(255)) - client-65256B230D7F->4e694486-3087-4490-b550-6be9ae6dbe9a: receive RaftClientReply:client-65256B230D7F->4e694486-3087-4490-b550-6be9ae6dbe9a@group-92368DA4D364, cid=1, FAILED org.apache.ratis.protocol.NotLeaderException: Server 4e694486-3087-4490-b550-6be9ae6dbe9a is not the leader (null). Request must be sent to leader., logIndex=0, commits[4e694486-3087-4490-b550-6be9ae6dbe9a:c-1]
2019-09-04 07:45:33,452 | INFO  | SCMAudit | user=jenkins1000 | ip=192.168.34.9 | op=SEND_HEARTBEAT {datanodeUUID=4e694486-3087-4490-b550-6be9ae6dbe9a, command=[]} | ret=SUCCESS |  
2019-09-04 07:45:33,652 | INFO  | SCMAudit | user=jenkins1000 | ip=192.168.34.9 | op=SEND_HEARTBEAT {datanodeUUID=4e694486-3087-4490-b550-6be9ae6dbe9a, command=[]} | ret=SUCCESS |  
2019-09-04 07:45:33,852 | INFO  | SCMAudit | user=jenkins1000 | ip=192.168.34.9 | op=SEND_HEARTBEAT {datanodeUUID=4e694486-3087-4490-b550-6be9ae6dbe9a, command=[]} | ret=SUCCESS |  
2019-09-04 07:45:34,052 | INFO  | SCMAudit | user=jenkins1000 | ip=192.168.34.9 | op=SEND_HEARTBEAT {datanodeUUID=4e694486-3087-4490-b550-6be9ae6dbe9a, command=[]} | ret=SUCCESS |  
2019-09-04 07:45:34,253 | INFO  | SCMAudit | user=jenkins1000 | ip=192.168.34.9 | op=SEND_HEARTBEAT {datanodeUUID=4e694486-3087-4490-b550-6be9ae6dbe9a, command=[]} | ret=SUCCESS |  
2019-09-04 07:45:34,452 | INFO  | SCMAudit | user=jenkins1000 | ip=192.168.34.9 | op=SEND_HEARTBEAT {datanodeUUID=4e694486-3087-4490-b550-6be9ae6dbe9a, command=[]} | ret=SUCCESS |  
2019-09-04 07:45:34,653 | INFO  | SCMAudit | user=jenkins1000 | ip=192.168.34.9 | op=SEND_HEARTBEAT {datanodeUUID=4e694486-3087-4490-b550-6be9ae6dbe9a, command=[]} | ret=SUCCESS |  
2019-09-04 07:45:34,852 | INFO  | SCMAudit | user=jenkins1000 | ip=192.168.34.9 | op=SEND_HEARTBEAT {datanodeUUID=4e694486-3087-4490-b550-6be9ae6dbe9a, command=[]} | ret=SUCCESS |  
2019-09-04 07:45:35,052 | INFO  | SCMAudit | user=jenkins1000 | ip=192.168.34.9 | op=SEND_HEARTBEAT {datanodeUUID=4e694486-3087-4490-b550-6be9ae6dbe9a, command=[]} | ret=SUCCESS |  
2019-09-04 07:45:35,253 | INFO  | SCMAudit | user=jenkins1000 | ip=192.168.34.9 | op=SEND_HEARTBEAT {datanodeUUID=4e694486-3087-4490-b550-6be9ae6dbe9a, command=[]} | ret=SUCCESS |  
2019-09-04 07:45:35,281 [grpc-default-executor-1] INFO  client.GrpcClientProtocolClient (GrpcClientProtocolClient.java:onNext(255)) - client-65256B230D7F->4e694486-3087-4490-b550-6be9ae6dbe9a: receive RaftClientReply:client-65256B230D7F->4e694486-3087-4490-b550-6be9ae6dbe9a@group-92368DA4D364, cid=1, FAILED org.apache.ratis.protocol.NotLeaderException: Server 4e694486-3087-4490-b550-6be9ae6dbe9a is not the leader (null). Request must be sent to leader., logIndex=0, commits[4e694486-3087-4490-b550-6be9ae6dbe9a:c-1]
2019-09-04 07:45:35,452 | INFO  | SCMAudit | user=jenkins1000 | ip=192.168.34.9 | op=SEND_HEARTBEAT {datanodeUUID=4e694486-3087-4490-b550-6be9ae6dbe9a, command=[]} | ret=SUCCESS |  
2019-09-04 07:45:35,653 | INFO  | SCMAudit | user=jenkins1000 | ip=192.168.34.9 | op=SEND_HEARTBEAT {datanodeUUID=4e694486-3087-4490-b550-6be9ae6dbe9a, command=[]} | ret=SUCCESS |  
2019-09-04 07:45:35,850 [Thread-149] INFO  impl.FollowerState (FollowerState.java:run(106)) - 4e694486-3087-4490-b550-6be9ae6dbe9a:group-92368DA4D364 changes to CANDIDATE, lastRpcTime:5156, electionTimeout:5156ms
2019-09-04 07:45:35,851 [Thread-149] INFO  impl.RoleInfo (RoleInfo.java:shutdownFollowerState(121)) - 4e694486-3087-4490-b550-6be9ae6dbe9a: shutdown FollowerState
2019-09-04 07:45:35,853 [Thread-149] INFO  impl.RaftServerImpl (RaftServerImpl.java:setRole(171)) - 4e694486-3087-4490-b550-6be9ae6dbe9a:group-92368DA4D364 changes role from FOLLOWER to CANDIDATE at term 0 for changeToCandidate
2019-09-04 07:45:35,854 | INFO  | SCMAudit | user=jenkins1000 | ip=192.168.34.9 | op=SEND_HEARTBEAT {datanodeUUID=4e694486-3087-4490-b550-6be9ae6dbe9a, command=[]} | ret=SUCCESS |  
2019-09-04 07:45:35,859 [Thread-149] INFO  impl.RoleInfo (RoleInfo.java:updateAndGet(143)) - 4e694486-3087-4490-b550-6be9ae6dbe9a: start LeaderElection
2019-09-04 07:45:35,885 [4e694486-3087-4490-b550-6be9ae6dbe9a:group-92368DA4D364:LeaderElection1] INFO  impl.LeaderElection (LeaderElection.java:askForVotes(181)) - 4e694486-3087-4490-b550-6be9ae6dbe9a:group-92368DA4D364:LeaderElection1: begin an election at term 1 for -1: [4e694486-3087-4490-b550-6be9ae6dbe9a:192.168.34.9:39640], old=null
2019-09-04 07:45:35,888 [4e694486-3087-4490-b550-6be9ae6dbe9a:group-92368DA4D364:LeaderElection1] INFO  impl.RoleInfo (RoleInfo.java:shutdownLeaderElection(134)) - 4e694486-3087-4490-b550-6be9ae6dbe9a: shutdown LeaderElection
2019-09-04 07:45:35,889 [4e694486-3087-4490-b550-6be9ae6dbe9a:group-92368DA4D364:LeaderElection1] INFO  impl.RaftServerImpl (RaftServerImpl.java:setRole(171)) - 4e694486-3087-4490-b550-6be9ae6dbe9a:group-92368DA4D364 changes role from CANDIDATE to LEADER at term 1 for changeToLeader
2019-09-04 07:45:35,890 [4e694486-3087-4490-b550-6be9ae6dbe9a:group-92368DA4D364:LeaderElection1] INFO  impl.RaftServerImpl (ServerState.java:setLeader(263)) - 4e694486-3087-4490-b550-6be9ae6dbe9a:group-92368DA4D364 change Leader from null to 4e694486-3087-4490-b550-6be9ae6dbe9a at term 1 for becomeLeader, leader elected after 5273ms
2019-09-04 07:45:35,899 [4e694486-3087-4490-b550-6be9ae6dbe9a:group-92368DA4D364:LeaderElection1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.staging.catchup.gap = 1000 (default)
2019-09-04 07:45:35,899 [4e694486-3087-4490-b550-6be9ae6dbe9a:group-92368DA4D364:LeaderElection1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.rpc.sleep.time = 25ms (default)
2019-09-04 07:45:35,903 [4e694486-3087-4490-b550-6be9ae6dbe9a:group-92368DA4D364:LeaderElection1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.write.element-limit = 4096 (default)
2019-09-04 07:45:35,907 [4e694486-3087-4490-b550-6be9ae6dbe9a:group-92368DA4D364:LeaderElection1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.watch.timeout = 10s (default)
2019-09-04 07:45:35,908 [4e694486-3087-4490-b550-6be9ae6dbe9a:group-92368DA4D364:LeaderElection1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.watch.timeout.denomination = 1s (default)
2019-09-04 07:45:35,909 [4e694486-3087-4490-b550-6be9ae6dbe9a:group-92368DA4D364:LeaderElection1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.watch.element-limit = 65536 (default)
2019-09-04 07:45:35,920 [4e694486-3087-4490-b550-6be9ae6dbe9a:group-92368DA4D364:LeaderElection1] INFO  impl.RoleInfo (RoleInfo.java:updateAndGet(143)) - 4e694486-3087-4490-b550-6be9ae6dbe9a: start LeaderState
2019-09-04 07:45:35,945 [4e694486-3087-4490-b550-6be9ae6dbe9a:group-92368DA4D364:LeaderElection1] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:startLogSegment(380)) - 4e694486-3087-4490-b550-6be9ae6dbe9a-SegmentedRaftLogWorker:Storage Directory /workdir/hadoop-ozone/integration-test/target/test-dir/MiniOzoneClusterImpl-68751a6c-b5d9-4680-8ddd-dddd40b06685/datanode-0/data/ratis/58e0dcf1-8781-48bb-ac92-92368da4d364: Starting segment from index:0
2019-09-04 07:45:35,953 [4e694486-3087-4490-b550-6be9ae6dbe9a:group-92368DA4D364:LeaderElection1] INFO  impl.RaftServerImpl (ServerState.java:setRaftConf(361)) - 4e694486-3087-4490-b550-6be9ae6dbe9a:group-92368DA4D364 set configuration 0: [4e694486-3087-4490-b550-6be9ae6dbe9a:192.168.34.9:39640], old=null at 0
2019-09-04 07:45:36,052 | INFO  | SCMAudit | user=jenkins1000 | ip=192.168.34.9 | op=SEND_HEARTBEAT {datanodeUUID=4e694486-3087-4490-b550-6be9ae6dbe9a, command=[]} | ret=SUCCESS |  
2019-09-04 07:45:36,150 [4e694486-3087-4490-b550-6be9ae6dbe9a-SegmentedRaftLogWorker:Storage Directory /workdir/hadoop-ozone/integration-test/target/test-dir/MiniOzoneClusterImpl-68751a6c-b5d9-4680-8ddd-dddd40b06685/datanode-0/data/ratis/58e0dcf1-8781-48bb-ac92-92368da4d364] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:execute(569)) - 4e694486-3087-4490-b550-6be9ae6dbe9a-SegmentedRaftLogWorker:Storage Directory /workdir/hadoop-ozone/integration-test/target/test-dir/MiniOzoneClusterImpl-68751a6c-b5d9-4680-8ddd-dddd40b06685/datanode-0/data/ratis/58e0dcf1-8781-48bb-ac92-92368da4d364: created new log segment /workdir/hadoop-ozone/integration-test/target/test-dir/MiniOzoneClusterImpl-68751a6c-b5d9-4680-8ddd-dddd40b06685/datanode-0/data/ratis/58e0dcf1-8781-48bb-ac92-92368da4d364/current/log_inprogress_0
2019-09-04 07:45:36,253 | INFO  | SCMAudit | user=jenkins1000 | ip=192.168.34.9 | op=SEND_HEARTBEAT {datanodeUUID=4e694486-3087-4490-b550-6be9ae6dbe9a, command=[]} | ret=SUCCESS |  
2019-09-04 07:45:36,457 | INFO  | SCMAudit | user=jenkins1000 | ip=192.168.34.9 | op=SEND_HEARTBEAT {datanodeUUID=4e694486-3087-4490-b550-6be9ae6dbe9a, command=[]} | ret=SUCCESS |  
2019-09-04 07:45:36,652 | INFO  | SCMAudit | user=jenkins1000 | ip=192.168.34.9 | op=SEND_HEARTBEAT {datanodeUUID=4e694486-3087-4490-b550-6be9ae6dbe9a, command=[]} | ret=SUCCESS |  
2019-09-04 07:45:36,854 | INFO  | SCMAudit | user=jenkins1000 | ip=192.168.34.9 | op=SEND_HEARTBEAT {datanodeUUID=4e694486-3087-4490-b550-6be9ae6dbe9a, command=[]} | ret=SUCCESS |  
2019-09-04 07:45:37,053 | INFO  | SCMAudit | user=jenkins1000 | ip=192.168.34.9 | op=SEND_HEARTBEAT {datanodeUUID=4e694486-3087-4490-b550-6be9ae6dbe9a, command=[]} | ret=SUCCESS |  
2019-09-04 07:45:37,255 | INFO  | SCMAudit | user=jenkins1000 | ip=192.168.34.9 | op=SEND_HEARTBEAT {datanodeUUID=4e694486-3087-4490-b550-6be9ae6dbe9a, command=[]} | ret=SUCCESS |  
2019-09-04 07:45:37,434 | INFO  | SCMAudit | user=jenkins1000 | ip=192.168.34.9 | op=SEND_HEARTBEAT {datanodeUUID=4e694486-3087-4490-b550-6be9ae6dbe9a, command=[]} | ret=SUCCESS |  
2019-09-04 07:45:37,457 | INFO  | DNAudit | user=null | ip=null | op=WRITE_CHUNK {blockData=conID: 1 locID: 102733128077475841 bcsId: 0} | ret=SUCCESS |  
2019-09-04 07:45:37,473 | INFO  | DNAudit | user=null | ip=null | op=WRITE_CHUNK {blockData=conID: 1 locID: 102733128077475841 bcsId: 0} | ret=SUCCESS |  
2019-09-04 07:45:37,479 [StateMachineUpdater:4e694486-3087-4490-b550-6be9ae6dbe9a:group-92368DA4D364] INFO  ratis.ContainerStateMachine (ContainerStateMachine.java:takeSnapshot(283)) - group-92368DA4D364: Taking a snapshot at:(t:1, i:1) file /workdir/hadoop-ozone/integration-test/target/test-dir/MiniOzoneClusterImpl-68751a6c-b5d9-4680-8ddd-dddd40b06685/datanode-0/data/ratis/58e0dcf1-8781-48bb-ac92-92368da4d364/sm/snapshot.1_1
2019-09-04 07:45:37,486 [grpc-default-executor-1] INFO  client.GrpcClientProtocolClient (GrpcClientProtocolClient.java:onNext(255)) - client-65256B230D7F->4e694486-3087-4490-b550-6be9ae6dbe9a: receive RaftClientReply:client-65256B230D7F->4e694486-3087-4490-b550-6be9ae6dbe9a@group-92368DA4D364, cid=1, SUCCESS, logIndex=1, commits[4e694486-3087-4490-b550-6be9ae6dbe9a:c1]
2019-09-04 07:45:37,513 [StateMachineUpdater:4e694486-3087-4490-b550-6be9ae6dbe9a:group-92368DA4D364] INFO  ratis.ContainerStateMachine (ContainerStateMachine.java:takeSnapshot(294)) - group-92368DA4D364: Finished taking a snapshot at:(t:1, i:1) file:/workdir/hadoop-ozone/integration-test/target/test-dir/MiniOzoneClusterImpl-68751a6c-b5d9-4680-8ddd-dddd40b06685/datanode-0/data/ratis/58e0dcf1-8781-48bb-ac92-92368da4d364/sm/snapshot.1_1 time:35
2019-09-04 07:45:37,514 [StateMachineUpdater:4e694486-3087-4490-b550-6be9ae6dbe9a:group-92368DA4D364] INFO  impl.StateMachineUpdater (StateMachineUpdater.java:takeSnapshot(242)) - StateMachineUpdater:4e694486-3087-4490-b550-6be9ae6dbe9a:group-92368DA4D364: Took a snapshot at index 1
2019-09-04 07:45:37,514 [StateMachineUpdater:4e694486-3087-4490-b550-6be9ae6dbe9a:group-92368DA4D364] INFO  impl.StateMachineUpdater (StateMachineUpdater.java:lambda$new$0(80)) - StateMachineUpdater:4e694486-3087-4490-b550-6be9ae6dbe9a:group-92368DA4D364: snapshotIndex: updateIncreasingly -1 -> 1
2019-09-04 07:45:37,627 | INFO  | DNAudit | user=null | ip=null | op=PUT_BLOCK {blockData=[blockId=conID: 1 locID: 102733128077475841 bcsId: 0,size=5]} | ret=SUCCESS |  
2019-09-04 07:45:37,629 [StateMachineUpdater:4e694486-3087-4490-b550-6be9ae6dbe9a:group-92368DA4D364] INFO  ratis.ContainerStateMachine (ContainerStateMachine.java:takeSnapshot(283)) - group-92368DA4D364: Taking a snapshot at:(t:1, i:1) file /workdir/hadoop-ozone/integration-test/target/test-dir/MiniOzoneClusterImpl-68751a6c-b5d9-4680-8ddd-dddd40b06685/datanode-0/data/ratis/58e0dcf1-8781-48bb-ac92-92368da4d364/sm/snapshot.1_1
2019-09-04 07:45:37,633 | INFO  | SCMAudit | user=jenkins1000 | ip=192.168.34.9 | op=SEND_HEARTBEAT {datanodeUUID=4e694486-3087-4490-b550-6be9ae6dbe9a, command=[]} | ret=SUCCESS |  
2019-09-04 07:45:37,634 [grpc-default-executor-1] INFO  client.GrpcClientProtocolClient (GrpcClientProtocolClient.java:onNext(255)) - client-65256B230D7F->4e694486-3087-4490-b550-6be9ae6dbe9a: receive RaftClientReply:client-65256B230D7F->4e694486-3087-4490-b550-6be9ae6dbe9a@group-92368DA4D364, cid=2, SUCCESS, logIndex=3, commits[4e694486-3087-4490-b550-6be9ae6dbe9a:c4]
2019-09-04 07:45:37,644 [StateMachineUpdater:4e694486-3087-4490-b550-6be9ae6dbe9a:group-92368DA4D364] INFO  ratis.ContainerStateMachine (ContainerStateMachine.java:takeSnapshot(294)) - group-92368DA4D364: Finished taking a snapshot at:(t:1, i:1) file:/workdir/hadoop-ozone/integration-test/target/test-dir/MiniOzoneClusterImpl-68751a6c-b5d9-4680-8ddd-dddd40b06685/datanode-0/data/ratis/58e0dcf1-8781-48bb-ac92-92368da4d364/sm/snapshot.1_1 time:15
2019-09-04 07:45:37,644 [StateMachineUpdater:4e694486-3087-4490-b550-6be9ae6dbe9a:group-92368DA4D364] INFO  impl.StateMachineUpdater (StateMachineUpdater.java:takeSnapshot(242)) - StateMachineUpdater:4e694486-3087-4490-b550-6be9ae6dbe9a:group-92368DA4D364: Took a snapshot at index 1
2019-09-04 07:45:37,645 [StateMachineUpdater:4e694486-3087-4490-b550-6be9ae6dbe9a:group-92368DA4D364] INFO  impl.StateMachineUpdater (StateMachineUpdater.java:lambda$new$0(80)) - StateMachineUpdater:4e694486-3087-4490-b550-6be9ae6dbe9a:group-92368DA4D364: snapshotIndex: updateIncreasingly 1 -> 1
2019-09-04 07:45:37,645 [StateMachineUpdater:4e694486-3087-4490-b550-6be9ae6dbe9a:group-92368DA4D364] INFO  ratis.ContainerStateMachine (ContainerStateMachine.java:takeSnapshot(283)) - group-92368DA4D364: Taking a snapshot at:(t:1, i:3) file /workdir/hadoop-ozone/integration-test/target/test-dir/MiniOzoneClusterImpl-68751a6c-b5d9-4680-8ddd-dddd40b06685/datanode-0/data/ratis/58e0dcf1-8781-48bb-ac92-92368da4d364/sm/snapshot.1_3
2019-09-04 07:45:37,650 [pool-26-thread-2] ERROR impl.ChunkManagerImpl (ChunkUtils.java:getChunkFile(234)) - Chunks path does not exist
2019-09-04 07:45:37,650 [pool-26-thread-2] INFO  keyvalue.KeyValueHandler (ContainerUtils.java:logAndReturnError(146)) - Operation: WriteChunk : Trace ID: 549c38453f8f24a6:549c38453f8f24a6:0:0 : Message: Unable to get Chunks directory. : Result: UNABLE_TO_FIND_DATA_DIR
2019-09-04 07:45:37,652 | ERROR | DNAudit | user=null | ip=null | op=PUT_BLOCK {blockData=[blockId=conID: 1 locID: 102733128077475841 bcsId: 0,size=10]} | ret=FAILURE | org.apache.hadoop.hdds.scm.container.common.helpers.ContainerNotOpenException: Container 1 in UNHEALTHY state
	at org.apache.hadoop.ozone.container.common.impl.HddsDispatcher.validateContainerCommand(HddsDispatcher.java:408)
	at org.apache.hadoop.ozone.container.common.transport.server.ratis.ContainerStateMachine.startTransaction(ContainerStateMachine.java:309) 
2019-09-04 07:45:37,652 [pool-26-thread-2] WARN  keyvalue.KeyValueHandler (KeyValueHandler.java:markContainerUnhealthy(909)) - Unexpected error while marking container 1 as unhealthy
org.apache.hadoop.hdds.scm.container.common.helpers.StorageContainerException: Error while creating/ updating .container file. ContainerID: 1
	at org.apache.hadoop.ozone.container.keyvalue.KeyValueContainer.writeToContainerFile(KeyValueContainer.java:233)
	at org.apache.hadoop.ozone.container.keyvalue.KeyValueContainer.updateContainerFile(KeyValueContainer.java:253)
	at org.apache.hadoop.ozone.container.keyvalue.KeyValueContainer.updateContainerData(KeyValueContainer.java:349)
	at org.apache.hadoop.ozone.container.keyvalue.KeyValueContainer.markContainerUnhealthy(KeyValueContainer.java:294)
	at org.apache.hadoop.ozone.container.keyvalue.KeyValueHandler.markContainerUnhealthy(KeyValueHandler.java:904)
	at org.apache.hadoop.ozone.container.common.impl.HddsDispatcher.dispatchRequest(HddsDispatcher.java:303)
	at org.apache.hadoop.ozone.container.common.impl.HddsDispatcher.dispatch(HddsDispatcher.java:148)
	at org.apache.hadoop.ozone.container.common.transport.server.ratis.ContainerStateMachine.dispatchCommand(ContainerStateMachine.java:395)
	at org.apache.hadoop.ozone.container.common.transport.server.ratis.ContainerStateMachine.runCommand(ContainerStateMachine.java:403)
	at org.apache.hadoop.ozone.container.common.transport.server.ratis.ContainerStateMachine.lambda$handleWriteChunk$1(ContainerStateMachine.java:435)
	at java.util.concurrent.CompletableFuture$AsyncSupply.run(CompletableFuture.java:1590)
	at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1149)
	at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:624)
	at java.lang.Thread.run(Thread.java:748)
Caused by: java.io.IOException: No such file or directory
	at java.io.UnixFileSystem.createFileExclusively(Native Method)
	at java.io.File.createTempFile(File.java:2024)
	at org.apache.hadoop.ozone.container.keyvalue.KeyValueContainer.createTempFile(KeyValueContainer.java:733)
	at org.apache.hadoop.ozone.container.keyvalue.KeyValueContainer.writeToContainerFile(KeyValueContainer.java:218)
	... 13 more
2019-09-04 07:45:37,656 | INFO  | SCMAudit | user=jenkins1000 | ip=192.168.34.9 | op=SEND_HEARTBEAT {datanodeUUID=4e694486-3087-4490-b550-6be9ae6dbe9a, command=[]} | ret=SUCCESS |  
2019-09-04 07:45:37,656 [EventQueue-IncrementalContainerReportForIncrementalContainerReportHandler] WARN  container.IncrementalContainerReportHandler (AbstractContainerReportHandler.java:updateContainerState(143)) - Container #1 is in OPEN state, but the datanode 4e694486-3087-4490-b550-6be9ae6dbe9a{ip: 192.168.34.9, host: pr-hdds-1569-tfczc-1762686928, networkLocation: /default-rack, certSerialId: null} reports an UNHEALTHY replica.
2019-09-04 07:45:37,659 | ERROR | DNAudit | user=null | ip=null | op=WRITE_CHUNK {blockData=conID: 1 locID: 102733128077475841 bcsId: 3} | ret=FAILURE | java.lang.Exception: Unable to get Chunks directory.
	at org.apache.hadoop.ozone.container.common.impl.HddsDispatcher.dispatchRequest(HddsDispatcher.java:320)
	at org.apache.hadoop.ozone.container.common.impl.HddsDispatcher.dispatch(HddsDispatcher.java:148) 
2019-09-04 07:45:37,659 [pool-26-thread-2] ERROR ratis.ContainerStateMachine (ContainerStateMachine.java:lambda$handleWriteChunk$2(449)) - group-92368DA4D364: writeChunk writeStateMachineData failed: blockIdcontainerID: 1
localID: 102733128077475841
blockCommitSequenceId: 3
 logIndex 5 chunkName 102733128077475841_chunk_2 Error message: Unable to get Chunks directory. Container Result: UNABLE_TO_FIND_DATA_DIR
2019-09-04 07:45:37,668 [4e694486-3087-4490-b550-6be9ae6dbe9a-SegmentedRaftLogWorker:Storage Directory /workdir/hadoop-ozone/integration-test/target/test-dir/MiniOzoneClusterImpl-68751a6c-b5d9-4680-8ddd-dddd40b06685/datanode-0/data/ratis/58e0dcf1-8781-48bb-ac92-92368da4d364] ERROR ratis.XceiverServerRatis (XceiverServerRatis.java:triggerPipelineClose(561)) - pipeline Action CLOSE  on pipeline PipelineID=58e0dcf1-8781-48bb-ac92-92368da4d364.Reason : Unable to get Chunks directory.
2019-09-04 07:45:37,672 | INFO  | SCMAudit | user=jenkins1000 | ip=192.168.34.9 | op=SEND_HEARTBEAT {datanodeUUID=4e694486-3087-4490-b550-6be9ae6dbe9a, command=[]} | ret=SUCCESS |  
2019-09-04 07:45:37,673 [EventQueue-PipelineActionsForPipelineActionHandler] ERROR pipeline.PipelineActionHandler (PipelineActionHandler.java:onMessage(60)) - Received pipeline action CLOSE for Pipeline[ Id: 58e0dcf1-8781-48bb-ac92-92368da4d364, Nodes: 4e694486-3087-4490-b550-6be9ae6dbe9a{ip: 192.168.34.9, host: pr-hdds-1569-tfczc-1762686928, networkLocation: /default-rack, certSerialId: null}, Type:RATIS, Factor:ONE, State:OPEN] from datanode 4e694486-3087-4490-b550-6be9ae6dbe9a{ip: 192.168.34.9, host: pr-hdds-1569-tfczc-1762686928, networkLocation: /default-rack, certSerialId: null}. Reason : Unable to get Chunks directory.
2019-09-04 07:45:37,673 [EventQueue-PipelineActionsForPipelineActionHandler] INFO  pipeline.SCMPipelineManager (SCMPipelineManager.java:finalizeAndDestroyPipeline(309)) - destroying pipeline:Pipeline[ Id: 58e0dcf1-8781-48bb-ac92-92368da4d364, Nodes: 4e694486-3087-4490-b550-6be9ae6dbe9a{ip: 192.168.34.9, host: pr-hdds-1569-tfczc-1762686928, networkLocation: /default-rack, certSerialId: null}, Type:RATIS, Factor:ONE, State:OPEN]
2019-09-04 07:45:37,674 [EventQueue-CloseContainerForCloseContainerEventHandler] INFO  container.CloseContainerEventHandler (CloseContainerEventHandler.java:onMessage(61)) - Close container Event triggered for container : #1
2019-09-04 07:45:37,675 [EventQueue-PipelineActionsForPipelineActionHandler] INFO  pipeline.PipelineStateManager (PipelineStateManager.java:finalizePipeline(123)) - Pipeline Pipeline[ Id: 58e0dcf1-8781-48bb-ac92-92368da4d364, Nodes: 4e694486-3087-4490-b550-6be9ae6dbe9a{ip: 192.168.34.9, host: pr-hdds-1569-tfczc-1762686928, networkLocation: /default-rack, certSerialId: null}, Type:RATIS, Factor:ONE, State:CLOSED] moved to CLOSED state
2019-09-04 07:45:37,677 [StateMachineUpdater:4e694486-3087-4490-b550-6be9ae6dbe9a:group-92368DA4D364] INFO  ratis.ContainerStateMachine (ContainerStateMachine.java:takeSnapshot(294)) - group-92368DA4D364: Finished taking a snapshot at:(t:1, i:3) file:/workdir/hadoop-ozone/integration-test/target/test-dir/MiniOzoneClusterImpl-68751a6c-b5d9-4680-8ddd-dddd40b06685/datanode-0/data/ratis/58e0dcf1-8781-48bb-ac92-92368da4d364/sm/snapshot.1_3 time:32
2019-09-04 07:45:37,677 [StateMachineUpdater:4e694486-3087-4490-b550-6be9ae6dbe9a:group-92368DA4D364] INFO  impl.StateMachineUpdater (StateMachineUpdater.java:takeSnapshot(242)) - StateMachineUpdater:4e694486-3087-4490-b550-6be9ae6dbe9a:group-92368DA4D364: Took a snapshot at index 3
2019-09-04 07:45:37,677 [EventQueue-CloseContainerForCloseContainerEventHandler] INFO  container.CloseContainerEventHandler (CloseContainerEventHandler.java:onMessage(61)) - Close container Event triggered for container : #1
2019-09-04 07:45:37,677 [StateMachineUpdater:4e694486-3087-4490-b550-6be9ae6dbe9a:group-92368DA4D364] INFO  impl.StateMachineUpdater (StateMachineUpdater.java:lambda$new$0(80)) - StateMachineUpdater:4e694486-3087-4490-b550-6be9ae6dbe9a:group-92368DA4D364: snapshotIndex: updateIncreasingly 1 -> 3
2019-09-04 07:45:37,895 | INFO  | SCMAudit | user=jenkins1000 | ip=192.168.34.9 | op=SEND_HEARTBEAT {datanodeUUID=4e694486-3087-4490-b550-6be9ae6dbe9a, command=[commandType: closeContainerCommand closeContainerCommandProto { containerID: 1 pipelineID { id: "58e0dcf1-8781-48bb-ac92-92368da4d364" } cmdId: 1 force: false } , commandType: closeContainerCommand closeContainerCommandProto { containerID: 1 pipelineID { id: "58e0dcf1-8781-48bb-ac92-92368da4d364" } cmdId: 1 force: false } ]} | ret=SUCCESS |  
2019-09-04 07:45:38,069 | INFO  | SCMAudit | user=jenkins1000 | ip=192.168.34.9 | op=SEND_HEARTBEAT {datanodeUUID=4e694486-3087-4490-b550-6be9ae6dbe9a, command=[]} | ret=SUCCESS |  
2019-09-04 07:45:38,253 [4e694486-3087-4490-b550-6be9ae6dbe9a-SegmentedRaftLogWorker:Storage Directory /workdir/hadoop-ozone/integration-test/target/test-dir/MiniOzoneClusterImpl-68751a6c-b5d9-4680-8ddd-dddd40b06685/datanode-0/data/ratis/58e0dcf1-8781-48bb-ac92-92368da4d364] ERROR ratis.XceiverServerRatis (XceiverServerRatis.java:triggerPipelineClose(561)) - pipeline Action CLOSE  on pipeline PipelineID=58e0dcf1-8781-48bb-ac92-92368da4d364.Reason : Log already failed at index 5 for task WriteLog:5: (t:1, i:5), STATEMACHINELOGENTRY, client-65256B230D7F, cid=3
2019-09-04 07:45:38,255 [EventQueue-PipelineActionsForPipelineActionHandler] ERROR pipeline.PipelineActionHandler (PipelineActionHandler.java:onMessage(60)) - Received pipeline action CLOSE for Pipeline[ Id: 58e0dcf1-8781-48bb-ac92-92368da4d364, Nodes: 4e694486-3087-4490-b550-6be9ae6dbe9a{ip: 192.168.34.9, host: pr-hdds-1569-tfczc-1762686928, networkLocation: /default-rack, certSerialId: null}, Type:RATIS, Factor:ONE, State:CLOSED] from datanode 4e694486-3087-4490-b550-6be9ae6dbe9a{ip: 192.168.34.9, host: pr-hdds-1569-tfczc-1762686928, networkLocation: /default-rack, certSerialId: null}. Reason : Log already failed at index 5 for task WriteLog:5: (t:1, i:5), STATEMACHINELOGENTRY, client-65256B230D7F, cid=3
2019-09-04 07:45:38,255 | INFO  | SCMAudit | user=jenkins1000 | ip=192.168.34.9 | op=SEND_HEARTBEAT {datanodeUUID=4e694486-3087-4490-b550-6be9ae6dbe9a, command=[]} | ret=SUCCESS |  
2019-09-04 07:45:38,255 [EventQueue-PipelineActionsForPipelineActionHandler] INFO  pipeline.SCMPipelineManager (SCMPipelineManager.java:finalizeAndDestroyPipeline(309)) - destroying pipeline:Pipeline[ Id: 58e0dcf1-8781-48bb-ac92-92368da4d364, Nodes: 4e694486-3087-4490-b550-6be9ae6dbe9a{ip: 192.168.34.9, host: pr-hdds-1569-tfczc-1762686928, networkLocation: /default-rack, certSerialId: null}, Type:RATIS, Factor:ONE, State:CLOSED]
2019-09-04 07:45:38,456 | INFO  | SCMAudit | user=jenkins1000 | ip=192.168.34.9 | op=SEND_HEARTBEAT {datanodeUUID=4e694486-3087-4490-b550-6be9ae6dbe9a, command=[]} | ret=SUCCESS |  
2019-09-04 07:45:38,655 | INFO  | SCMAudit | user=jenkins1000 | ip=192.168.34.9 | op=SEND_HEARTBEAT {datanodeUUID=4e694486-3087-4490-b550-6be9ae6dbe9a, command=[]} | ret=SUCCESS |  
2019-09-04 07:45:38,856 | INFO  | SCMAudit | user=jenkins1000 | ip=192.168.34.9 | op=SEND_HEARTBEAT {datanodeUUID=4e694486-3087-4490-b550-6be9ae6dbe9a, command=[]} | ret=SUCCESS |  
2019-09-04 07:45:39,056 | INFO  | SCMAudit | user=jenkins1000 | ip=192.168.34.9 | op=SEND_HEARTBEAT {datanodeUUID=4e694486-3087-4490-b550-6be9ae6dbe9a, command=[]} | ret=SUCCESS |  
2019-09-04 07:45:39,256 | INFO  | SCMAudit | user=jenkins1000 | ip=192.168.34.9 | op=SEND_HEARTBEAT {datanodeUUID=4e694486-3087-4490-b550-6be9ae6dbe9a, command=[]} | ret=SUCCESS |  
2019-09-04 07:45:39,456 | INFO  | SCMAudit | user=jenkins1000 | ip=192.168.34.9 | op=SEND_HEARTBEAT {datanodeUUID=4e694486-3087-4490-b550-6be9ae6dbe9a, command=[]} | ret=SUCCESS |  
2019-09-04 07:45:39,657 | INFO  | SCMAudit | user=jenkins1000 | ip=192.168.34.9 | op=SEND_HEARTBEAT {datanodeUUID=4e694486-3087-4490-b550-6be9ae6dbe9a, command=[]} | ret=SUCCESS |  
2019-09-04 07:45:39,856 | INFO  | SCMAudit | user=jenkins1000 | ip=192.168.34.9 | op=SEND_HEARTBEAT {datanodeUUID=4e694486-3087-4490-b550-6be9ae6dbe9a, command=[]} | ret=SUCCESS |  
2019-09-04 07:45:40,056 | INFO  | SCMAudit | user=jenkins1000 | ip=192.168.34.9 | op=SEND_HEARTBEAT {datanodeUUID=4e694486-3087-4490-b550-6be9ae6dbe9a, command=[]} | ret=SUCCESS |  
2019-09-04 07:45:40,256 | INFO  | SCMAudit | user=jenkins1000 | ip=192.168.34.9 | op=SEND_HEARTBEAT {datanodeUUID=4e694486-3087-4490-b550-6be9ae6dbe9a, command=[]} | ret=SUCCESS |  
2019-09-04 07:45:40,456 | INFO  | SCMAudit | user=jenkins1000 | ip=192.168.34.9 | op=SEND_HEARTBEAT {datanodeUUID=4e694486-3087-4490-b550-6be9ae6dbe9a, command=[]} | ret=SUCCESS |  
2019-09-04 07:45:40,656 | INFO  | SCMAudit | user=jenkins1000 | ip=192.168.34.9 | op=SEND_HEARTBEAT {datanodeUUID=4e694486-3087-4490-b550-6be9ae6dbe9a, command=[]} | ret=SUCCESS |  
2019-09-04 07:45:40,856 | INFO  | SCMAudit | user=jenkins1000 | ip=192.168.34.9 | op=SEND_HEARTBEAT {datanodeUUID=4e694486-3087-4490-b550-6be9ae6dbe9a, command=[]} | ret=SUCCESS |  
2019-09-04 07:45:41,056 | INFO  | SCMAudit | user=jenkins1000 | ip=192.168.34.9 | op=SEND_HEARTBEAT {datanodeUUID=4e694486-3087-4490-b550-6be9ae6dbe9a, command=[]} | ret=SUCCESS |  
2019-09-04 07:45:41,256 | INFO  | SCMAudit | user=jenkins1000 | ip=192.168.34.9 | op=SEND_HEARTBEAT {datanodeUUID=4e694486-3087-4490-b550-6be9ae6dbe9a, command=[]} | ret=SUCCESS |  
2019-09-04 07:45:41,456 | INFO  | SCMAudit | user=jenkins1000 | ip=192.168.34.9 | op=SEND_HEARTBEAT {datanodeUUID=4e694486-3087-4490-b550-6be9ae6dbe9a, command=[]} | ret=SUCCESS |  
2019-09-04 07:45:41,657 | INFO  | SCMAudit | user=jenkins1000 | ip=192.168.34.9 | op=SEND_HEARTBEAT {datanodeUUID=4e694486-3087-4490-b550-6be9ae6dbe9a, command=[]} | ret=SUCCESS |  
2019-09-04 07:45:41,857 | INFO  | SCMAudit | user=jenkins1000 | ip=192.168.34.9 | op=SEND_HEARTBEAT {datanodeUUID=4e694486-3087-4490-b550-6be9ae6dbe9a, command=[]} | ret=SUCCESS |  
2019-09-04 07:45:42,056 | INFO  | SCMAudit | user=jenkins1000 | ip=192.168.34.9 | op=SEND_HEARTBEAT {datanodeUUID=4e694486-3087-4490-b550-6be9ae6dbe9a, command=[]} | ret=SUCCESS |  
2019-09-04 07:45:42,256 | INFO  | SCMAudit | user=jenkins1000 | ip=192.168.34.9 | op=SEND_HEARTBEAT {datanodeUUID=4e694486-3087-4490-b550-6be9ae6dbe9a, command=[]} | ret=SUCCESS |  
2019-09-04 07:45:42,456 | INFO  | SCMAudit | user=jenkins1000 | ip=192.168.34.9 | op=SEND_HEARTBEAT {datanodeUUID=4e694486-3087-4490-b550-6be9ae6dbe9a, command=[]} | ret=SUCCESS |  
2019-09-04 07:45:42,656 | INFO  | SCMAudit | user=jenkins1000 | ip=192.168.34.9 | op=SEND_HEARTBEAT {datanodeUUID=4e694486-3087-4490-b550-6be9ae6dbe9a, command=[]} | ret=SUCCESS |  
2019-09-04 07:45:42,857 | INFO  | SCMAudit | user=jenkins1000 | ip=192.168.34.9 | op=SEND_HEARTBEAT {datanodeUUID=4e694486-3087-4490-b550-6be9ae6dbe9a, command=[]} | ret=SUCCESS |  
2019-09-04 07:45:43,057 | INFO  | SCMAudit | user=jenkins1000 | ip=192.168.34.9 | op=SEND_HEARTBEAT {datanodeUUID=4e694486-3087-4490-b550-6be9ae6dbe9a, command=[]} | ret=SUCCESS |  
2019-09-04 07:45:43,257 | INFO  | SCMAudit | user=jenkins1000 | ip=192.168.34.9 | op=SEND_HEARTBEAT {datanodeUUID=4e694486-3087-4490-b550-6be9ae6dbe9a, command=[]} | ret=SUCCESS |  
2019-09-04 07:45:43,457 | INFO  | SCMAudit | user=jenkins1000 | ip=192.168.34.9 | op=SEND_HEARTBEAT {datanodeUUID=4e694486-3087-4490-b550-6be9ae6dbe9a, command=[]} | ret=SUCCESS |  
2019-09-04 07:45:43,658 | INFO  | SCMAudit | user=jenkins1000 | ip=192.168.34.9 | op=SEND_HEARTBEAT {datanodeUUID=4e694486-3087-4490-b550-6be9ae6dbe9a, command=[]} | ret=SUCCESS |  
2019-09-04 07:45:43,857 | INFO  | SCMAudit | user=jenkins1000 | ip=192.168.34.9 | op=SEND_HEARTBEAT {datanodeUUID=4e694486-3087-4490-b550-6be9ae6dbe9a, command=[]} | ret=SUCCESS |  
2019-09-04 07:45:44,057 | INFO  | SCMAudit | user=jenkins1000 | ip=192.168.34.9 | op=SEND_HEARTBEAT {datanodeUUID=4e694486-3087-4490-b550-6be9ae6dbe9a, command=[]} | ret=SUCCESS |  
2019-09-04 07:45:44,258 | INFO  | SCMAudit | user=jenkins1000 | ip=192.168.34.9 | op=SEND_HEARTBEAT {datanodeUUID=4e694486-3087-4490-b550-6be9ae6dbe9a, command=[]} | ret=SUCCESS |  
2019-09-04 07:45:44,459 | INFO  | SCMAudit | user=jenkins1000 | ip=192.168.34.9 | op=SEND_HEARTBEAT {datanodeUUID=4e694486-3087-4490-b550-6be9ae6dbe9a, command=[]} | ret=SUCCESS |  
2019-09-04 07:45:44,658 | INFO  | SCMAudit | user=jenkins1000 | ip=192.168.34.9 | op=SEND_HEARTBEAT {datanodeUUID=4e694486-3087-4490-b550-6be9ae6dbe9a, command=[]} | ret=SUCCESS |  
2019-09-04 07:45:44,859 | INFO  | SCMAudit | user=jenkins1000 | ip=192.168.34.9 | op=SEND_HEARTBEAT {datanodeUUID=4e694486-3087-4490-b550-6be9ae6dbe9a, command=[]} | ret=SUCCESS |  
2019-09-04 07:45:45,059 | INFO  | SCMAudit | user=jenkins1000 | ip=192.168.34.9 | op=SEND_HEARTBEAT {datanodeUUID=4e694486-3087-4490-b550-6be9ae6dbe9a, command=[]} | ret=SUCCESS |  
2019-09-04 07:45:45,259 | INFO  | SCMAudit | user=jenkins1000 | ip=192.168.34.9 | op=SEND_HEARTBEAT {datanodeUUID=4e694486-3087-4490-b550-6be9ae6dbe9a, command=[]} | ret=SUCCESS |  
2019-09-04 07:45:45,459 | INFO  | SCMAudit | user=jenkins1000 | ip=192.168.34.9 | op=SEND_HEARTBEAT {datanodeUUID=4e694486-3087-4490-b550-6be9ae6dbe9a, command=[]} | ret=SUCCESS |  
2019-09-04 07:45:45,659 | INFO  | SCMAudit | user=jenkins1000 | ip=192.168.34.9 | op=SEND_HEARTBEAT {datanodeUUID=4e694486-3087-4490-b550-6be9ae6dbe9a, command=[]} | ret=SUCCESS |  
2019-09-04 07:45:45,859 | INFO  | SCMAudit | user=jenkins1000 | ip=192.168.34.9 | op=SEND_HEARTBEAT {datanodeUUID=4e694486-3087-4490-b550-6be9ae6dbe9a, command=[]} | ret=SUCCESS |  
2019-09-04 07:45:46,059 | INFO  | SCMAudit | user=jenkins1000 | ip=192.168.34.9 | op=SEND_HEARTBEAT {datanodeUUID=4e694486-3087-4490-b550-6be9ae6dbe9a, command=[]} | ret=SUCCESS |  
2019-09-04 07:45:46,261 | INFO  | SCMAudit | user=jenkins1000 | ip=192.168.34.9 | op=SEND_HEARTBEAT {datanodeUUID=4e694486-3087-4490-b550-6be9ae6dbe9a, command=[]} | ret=SUCCESS |  
2019-09-04 07:45:46,461 | INFO  | SCMAudit | user=jenkins1000 | ip=192.168.34.9 | op=SEND_HEARTBEAT {datanodeUUID=4e694486-3087-4490-b550-6be9ae6dbe9a, command=[]} | ret=SUCCESS |  
2019-09-04 07:45:46,661 | INFO  | SCMAudit | user=jenkins1000 | ip=192.168.34.9 | op=SEND_HEARTBEAT {datanodeUUID=4e694486-3087-4490-b550-6be9ae6dbe9a, command=[]} | ret=SUCCESS |  
2019-09-04 07:45:46,861 | INFO  | SCMAudit | user=jenkins1000 | ip=192.168.34.9 | op=SEND_HEARTBEAT {datanodeUUID=4e694486-3087-4490-b550-6be9ae6dbe9a, command=[]} | ret=SUCCESS |  
2019-09-04 07:45:47,061 | INFO  | SCMAudit | user=jenkins1000 | ip=192.168.34.9 | op=SEND_HEARTBEAT {datanodeUUID=4e694486-3087-4490-b550-6be9ae6dbe9a, command=[]} | ret=SUCCESS |  
2019-09-04 07:45:47,261 | INFO  | SCMAudit | user=jenkins1000 | ip=192.168.34.9 | op=SEND_HEARTBEAT {datanodeUUID=4e694486-3087-4490-b550-6be9ae6dbe9a, command=[]} | ret=SUCCESS |  
2019-09-04 07:45:47,461 | INFO  | SCMAudit | user=jenkins1000 | ip=192.168.34.9 | op=SEND_HEARTBEAT {datanodeUUID=4e694486-3087-4490-b550-6be9ae6dbe9a, command=[]} | ret=SUCCESS |  
2019-09-04 07:45:47,661 | INFO  | SCMAudit | user=jenkins1000 | ip=192.168.34.9 | op=SEND_HEARTBEAT {datanodeUUID=4e694486-3087-4490-b550-6be9ae6dbe9a, command=[]} | ret=SUCCESS |  
2019-09-04 07:45:47,696 [grpc-default-executor-1] INFO  impl.RaftServerProxy (RaftServerProxy.java:remove(95)) - 4e694486-3087-4490-b550-6be9ae6dbe9a: remove   LEADER group-92368DA4D364 4e694486-3087-4490-b550-6be9ae6dbe9a:t1, leader=4e694486-3087-4490-b550-6be9ae6dbe9a, voted=4e694486-3087-4490-b550-6be9ae6dbe9a, raftlog=4e694486-3087-4490-b550-6be9ae6dbe9a-SegmentedRaftLog:OPENED:c4,f4,i6, conf=0: [4e694486-3087-4490-b550-6be9ae6dbe9a:192.168.34.9:39640], old=null RUNNING
2019-09-04 07:45:47,699 [grpc-default-executor-1] INFO  impl.RaftServerImpl (RaftServerImpl.java:lambda$shutdown$3(245)) - 4e694486-3087-4490-b550-6be9ae6dbe9a: shutdown group-92368DA4D364
2019-09-04 07:45:47,699 [grpc-default-executor-1] INFO  util.JmxRegister (JmxRegister.java:unregister(73)) - Successfully un-registered JMX Bean with object name Ratis:service=RaftServer,group=group-92368DA4D364,id=4e694486-3087-4490-b550-6be9ae6dbe9a
2019-09-04 07:45:47,700 [grpc-default-executor-1] INFO  impl.RoleInfo (RoleInfo.java:shutdownLeaderState(104)) - 4e694486-3087-4490-b550-6be9ae6dbe9a: shutdown LeaderState
2019-09-04 07:45:47,701 [grpc-default-executor-1] INFO  impl.PendingRequests (PendingRequests.java:sendNotLeaderResponses(202)) - 4e694486-3087-4490-b550-6be9ae6dbe9a-PendingRequests: sendNotLeaderResponses
2019-09-04 07:45:47,703 [Command processor thread] ERROR commandhandler.CloseContainerCommandHandler (CloseContainerCommandHandler.java:handle(124)) - Can't close container #1
org.apache.hadoop.hdds.scm.container.common.helpers.StorageContainerException: Cannot quasi close container #1 while in UNHEALTHY state.
	at org.apache.hadoop.ozone.container.keyvalue.KeyValueHandler.quasiCloseContainer(KeyValueHandler.java:930)
	at org.apache.hadoop.ozone.container.ozoneimpl.ContainerController.quasiCloseContainer(ContainerController.java:107)
	at org.apache.hadoop.ozone.container.common.statemachine.commandhandler.CloseContainerCommandHandler.handle(CloseContainerCommandHandler.java:116)
	at org.apache.hadoop.ozone.container.common.statemachine.commandhandler.CommandDispatcher.handle(CommandDispatcher.java:93)
	at org.apache.hadoop.ozone.container.common.statemachine.DatanodeStateMachine.lambda$initCommandHandlerThread$1(DatanodeStateMachine.java:432)
	at java.lang.Thread.run(Thread.java:748)
2019-09-04 07:45:47,709 [grpc-default-executor-1] INFO  impl.StateMachineUpdater (StateMachineUpdater.java:stopAndJoin(115)) - StateMachineUpdater:4e694486-3087-4490-b550-6be9ae6dbe9a:group-92368DA4D364: set stopIndex = 4
2019-09-04 07:45:47,710 [StateMachineUpdater:4e694486-3087-4490-b550-6be9ae6dbe9a:group-92368DA4D364] INFO  ratis.ContainerStateMachine (ContainerStateMachine.java:takeSnapshot(283)) - group-92368DA4D364: Taking a snapshot at:(t:1, i:3) file /workdir/hadoop-ozone/integration-test/target/test-dir/MiniOzoneClusterImpl-68751a6c-b5d9-4680-8ddd-dddd40b06685/datanode-0/data/ratis/58e0dcf1-8781-48bb-ac92-92368da4d364/sm/snapshot.1_3
Sep 04, 2019 7:45:47 AM org.apache.ratis.thirdparty.io.grpc.netty.NettyServerHandler onStreamError
WARNING: Stream Error
org.apache.ratis.thirdparty.io.netty.handler.codec.http2.Http2Exception$StreamException: Received DATA frame for an unknown stream 3
	at org.apache.ratis.thirdparty.io.netty.handler.codec.http2.Http2Exception.streamError(Http2Exception.java:129)
	at org.apache.ratis.thirdparty.io.netty.handler.codec.http2.DefaultHttp2ConnectionDecoder$FrameReadListener.shouldIgnoreHeadersOrDataFrame(DefaultHttp2ConnectionDecoder.java:531)
	at org.apache.ratis.thirdparty.io.netty.handler.codec.http2.DefaultHttp2ConnectionDecoder$FrameReadListener.onDataRead(DefaultHttp2ConnectionDecoder.java:183)
	at org.apache.ratis.thirdparty.io.netty.handler.codec.http2.Http2InboundFrameLogger$1.onDataRead(Http2InboundFrameLogger.java:48)
	at org.apache.ratis.thirdparty.io.netty.handler.codec.http2.DefaultHttp2FrameReader.readDataFrame(DefaultHttp2FrameReader.java:421)
	at org.apache.ratis.thirdparty.io.netty.handler.codec.http2.DefaultHttp2FrameReader.processPayloadState(DefaultHttp2FrameReader.java:251)
	at org.apache.ratis.thirdparty.io.netty.handler.codec.http2.DefaultHttp2FrameReader.readFrame(DefaultHttp2FrameReader.java:160)
	at org.apache.ratis.thirdparty.io.netty.handler.codec.http2.Http2InboundFrameLogger.readFrame(Http2InboundFrameLogger.java:41)
	at org.apache.ratis.thirdparty.io.netty.handler.codec.http2.DefaultHttp2ConnectionDecoder.decodeFrame(DefaultHttp2ConnectionDecoder.java:118)
	at org.apache.ratis.thirdparty.io.netty.handler.codec.http2.Http2ConnectionHandler$FrameDecoder.decode(Http2ConnectionHandler.java:390)
	at org.apache.ratis.thirdparty.io.netty.handler.codec.http2.Http2ConnectionHandler.decode(Http2ConnectionHandler.java:450)
	at org.apache.ratis.thirdparty.io.netty.handler.codec.ByteToMessageDecoder.decodeRemovalReentryProtection(ByteToMessageDecoder.java:502)
	at org.apache.ratis.thirdparty.io.netty.handler.codec.ByteToMessageDecoder.callDecode(ByteToMessageDecoder.java:441)
	at org.apache.ratis.thirdparty.io.netty.handler.codec.ByteToMessageDecoder.channelRead(ByteToMessageDecoder.java:278)
	at org.apache.ratis.thirdparty.io.netty.channel.AbstractChannelHandlerContext.invokeChannelRead(AbstractChannelHandlerContext.java:362)
	at org.apache.ratis.thirdparty.io.netty.channel.AbstractChannelHandlerContext.invokeChannelRead(AbstractChannelHandlerContext.java:348)
	at org.apache.ratis.thirdparty.io.netty.channel.AbstractChannelHandlerContext.fireChannelRead(AbstractChannelHandlerContext.java:340)
	at org.apache.ratis.thirdparty.io.netty.channel.DefaultChannelPipeline$HeadContext.channelRead(DefaultChannelPipeline.java:1434)
	at org.apache.ratis.thirdparty.io.netty.channel.AbstractChannelHandlerContext.invokeChannelRead(AbstractChannelHandlerContext.java:362)
	at org.apache.ratis.thirdparty.io.netty.channel.AbstractChannelHandlerContext.invokeChannelRead(AbstractChannelHandlerContext.java:348)
	at org.apache.ratis.thirdparty.io.netty.channel.DefaultChannelPipeline.fireChannelRead(DefaultChannelPipeline.java:965)
	at org.apache.ratis.thirdparty.io.netty.channel.nio.AbstractNioByteChannel$NioByteUnsafe.read(AbstractNioByteChannel.java:163)
	at org.apache.ratis.thirdparty.io.netty.channel.nio.NioEventLoop.processSelectedKey(NioEventLoop.java:644)
	at org.apache.ratis.thirdparty.io.netty.channel.nio.NioEventLoop.processSelectedKeysOptimized(NioEventLoop.java:579)
	at org.apache.ratis.thirdparty.io.netty.channel.nio.NioEventLoop.processSelectedKeys(NioEventLoop.java:496)
	at org.apache.ratis.thirdparty.io.netty.channel.nio.NioEventLoop.run(NioEventLoop.java:458)
	at org.apache.ratis.thirdparty.io.netty.util.concurrent.SingleThreadEventExecutor$5.run(SingleThreadEventExecutor.java:897)
	at org.apache.ratis.thirdparty.io.netty.util.concurrent.FastThreadLocalRunnable.run(FastThreadLocalRunnable.java:30)
	at java.lang.Thread.run(Thread.java:748)

2019-09-04 07:45:47,736 [StateMachineUpdater:4e694486-3087-4490-b550-6be9ae6dbe9a:group-92368DA4D364] INFO  ratis.ContainerStateMachine (ContainerStateMachine.java:takeSnapshot(294)) - group-92368DA4D364: Finished taking a snapshot at:(t:1, i:3) file:/workdir/hadoop-ozone/integration-test/target/test-dir/MiniOzoneClusterImpl-68751a6c-b5d9-4680-8ddd-dddd40b06685/datanode-0/data/ratis/58e0dcf1-8781-48bb-ac92-92368da4d364/sm/snapshot.1_3 time:26
2019-09-04 07:45:47,736 [StateMachineUpdater:4e694486-3087-4490-b550-6be9ae6dbe9a:group-92368DA4D364] INFO  impl.StateMachineUpdater (StateMachineUpdater.java:takeSnapshot(242)) - StateMachineUpdater:4e694486-3087-4490-b550-6be9ae6dbe9a:group-92368DA4D364: Took a snapshot at index 3
2019-09-04 07:45:47,736 [StateMachineUpdater:4e694486-3087-4490-b550-6be9ae6dbe9a:group-92368DA4D364] INFO  impl.StateMachineUpdater (StateMachineUpdater.java:lambda$new$0(80)) - StateMachineUpdater:4e694486-3087-4490-b550-6be9ae6dbe9a:group-92368DA4D364: snapshotIndex: updateIncreasingly 3 -> 3
2019-09-04 07:45:47,737 [grpc-default-executor-1] INFO  impl.RaftServerImpl (ServerState.java:close(394)) - 4e694486-3087-4490-b550-6be9ae6dbe9a:group-92368DA4D364 closes. The last applied log index is 4
2019-09-04 07:45:47,739 [4e694486-3087-4490-b550-6be9ae6dbe9a-SegmentedRaftLogWorker:Storage Directory /workdir/hadoop-ozone/integration-test/target/test-dir/MiniOzoneClusterImpl-68751a6c-b5d9-4680-8ddd-dddd40b06685/datanode-0/data/ratis/58e0dcf1-8781-48bb-ac92-92368da4d364] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:run(313)) - 4e694486-3087-4490-b550-6be9ae6dbe9a-SegmentedRaftLogWorker:Storage Directory /workdir/hadoop-ozone/integration-test/target/test-dir/MiniOzoneClusterImpl-68751a6c-b5d9-4680-8ddd-dddd40b06685/datanode-0/data/ratis/58e0dcf1-8781-48bb-ac92-92368da4d364 was interrupted, exiting. There are 0 tasks remaining in the queue.
2019-09-04 07:45:47,740 [grpc-default-executor-1] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:close(228)) - 4e694486-3087-4490-b550-6be9ae6dbe9a-SegmentedRaftLogWorker:Storage Directory /workdir/hadoop-ozone/integration-test/target/test-dir/MiniOzoneClusterImpl-68751a6c-b5d9-4680-8ddd-dddd40b06685/datanode-0/data/ratis/58e0dcf1-8781-48bb-ac92-92368da4d364 close()
2019-09-04 07:45:47,751 [RatisPipelineUtilsThread] INFO  pipeline.PipelineStateManager (PipelineStateManager.java:removePipeline(108)) - Pipeline Pipeline[ Id: 58e0dcf1-8781-48bb-ac92-92368da4d364, Nodes: 4e694486-3087-4490-b550-6be9ae6dbe9a{ip: 192.168.34.9, host: pr-hdds-1569-tfczc-1762686928, networkLocation: /default-rack, certSerialId: null}, Type:RATIS, Factor:ONE, State:CLOSED] removed from db
2019-09-04 07:45:47,762 [grpc-default-executor-1] INFO  impl.RaftServerProxy (RaftServerProxy.java:addNew(89)) - 4e694486-3087-4490-b550-6be9ae6dbe9a: addNew group-536729B66335:[4e694486-3087-4490-b550-6be9ae6dbe9a:192.168.34.9:39640] returns group-536729B66335:java.util.concurrent.CompletableFuture@64fd3b22[Not completed]
2019-09-04 07:45:47,765 [pool-27-thread-1] INFO  impl.RaftServerImpl (RaftServerImpl.java:<init>(93)) - 4e694486-3087-4490-b550-6be9ae6dbe9a: new RaftServerImpl for group-536729B66335:[4e694486-3087-4490-b550-6be9ae6dbe9a:192.168.34.9:39640] with ContainerStateMachine:uninitialized
2019-09-04 07:45:47,765 [pool-27-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.rpc.timeout.min = 5s (custom)
2019-09-04 07:45:47,765 [pool-27-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.rpc.timeout.max = 5200ms (custom)
2019-09-04 07:45:47,765 [pool-27-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.rpcslowness.timeout = 120s (custom)
2019-09-04 07:45:47,765 [pool-27-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.sleep.deviation.threshold = 300 (default)
2019-09-04 07:45:47,765 [pool-27-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.log.appender.install.snapshot.enabled = false (custom)
2019-09-04 07:45:47,766 [pool-27-thread-1] INFO  impl.RaftServerImpl (ServerState.java:<init>(105)) - 4e694486-3087-4490-b550-6be9ae6dbe9a:group-536729B66335 ConfigurationManager, init=-1: [4e694486-3087-4490-b550-6be9ae6dbe9a:192.168.34.9:39640], old=null, confs=<EMPTY_MAP>
2019-09-04 07:45:47,766 [pool-27-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.storage.dir = [/workdir/hadoop-ozone/integration-test/target/test-dir/MiniOzoneClusterImpl-68751a6c-b5d9-4680-8ddd-dddd40b06685/datanode-0/data/ratis] (custom)
2019-09-04 07:45:47,766 [pool-27-thread-1] INFO  storage.RaftStorageDirectory (RaftStorageDirectory.java:analyzeStorage(246)) - The storage directory /workdir/hadoop-ozone/integration-test/target/test-dir/MiniOzoneClusterImpl-68751a6c-b5d9-4680-8ddd-dddd40b06685/datanode-0/data/ratis/5ed62a70-e574-47da-bd58-536729b66335 does not exist. Creating ...
2019-09-04 07:45:47,789 [pool-27-thread-1] INFO  storage.RaftStorageDirectory (RaftStorageDirectory.java:tryLock(328)) - Lock on /workdir/hadoop-ozone/integration-test/target/test-dir/MiniOzoneClusterImpl-68751a6c-b5d9-4680-8ddd-dddd40b06685/datanode-0/data/ratis/5ed62a70-e574-47da-bd58-536729b66335/in_use.lock acquired by nodename 1142@pr-hdds-1569-tfczc-1762686928
2019-09-04 07:45:47,813 [pool-27-thread-1] INFO  storage.RaftStorage (RaftStorage.java:format(72)) - Storage directory /workdir/hadoop-ozone/integration-test/target/test-dir/MiniOzoneClusterImpl-68751a6c-b5d9-4680-8ddd-dddd40b06685/datanode-0/data/ratis/5ed62a70-e574-47da-bd58-536729b66335 has been successfully formatted.
2019-09-04 07:45:47,813 [pool-27-thread-1] INFO  ratis.ContainerStateMachine (ContainerStateMachine.java:loadSnapshot(226)) - group-536729B66335: The snapshot info is null. Setting the last applied indexto:(t:0, i:~)
2019-09-04 07:45:47,813 [pool-27-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.leader.election.timeout = 120s (custom)
2019-09-04 07:45:47,814 [pool-27-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.log.use.memory = false (default)
2019-09-04 07:45:47,814 [pool-27-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.log.purge.gap = 1000000 (custom)
2019-09-04 07:45:47,814 [pool-27-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.log.appender.buffer.byte-limit = 33554432 (custom)
2019-09-04 07:45:47,814 [pool-27-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.log.segment.size.max = 1048576 (custom)
2019-09-04 07:45:47,814 [pool-27-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.log.segment.cache.num.max = 2 (custom)
2019-09-04 07:45:47,815 [pool-27-thread-1] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:<init>(172)) - new 4e694486-3087-4490-b550-6be9ae6dbe9a-SegmentedRaftLogWorker:Storage Directory /workdir/hadoop-ozone/integration-test/target/test-dir/MiniOzoneClusterImpl-68751a6c-b5d9-4680-8ddd-dddd40b06685/datanode-0/data/ratis/5ed62a70-e574-47da-bd58-536729b66335 for RaftStorage:Storage Directory /workdir/hadoop-ozone/integration-test/target/test-dir/MiniOzoneClusterImpl-68751a6c-b5d9-4680-8ddd-dddd40b06685/datanode-0/data/ratis/5ed62a70-e574-47da-bd58-536729b66335
2019-09-04 07:45:47,815 [pool-27-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.log.queue.byte-limit = 2147483647 (custom)
2019-09-04 07:45:47,815 [pool-27-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.log.queue.element-limit = 1024 (custom)
2019-09-04 07:45:47,815 [pool-27-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.log.segment.size.max = 1048576 (custom)
2019-09-04 07:45:47,815 [pool-27-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.log.preallocated.size = 16384 (custom)
2019-09-04 07:45:47,816 [pool-27-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.log.write.buffer.size = 33554432 (custom)
2019-09-04 07:45:47,816 [pool-27-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.log.force.sync.num = 128 (default)
2019-09-04 07:45:47,816 [pool-27-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.log.statemachine.data.sync = true (default)
2019-09-04 07:45:47,816 [pool-27-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.log.statemachine.data.sync.timeout = 10s (default)
2019-09-04 07:45:47,816 [pool-27-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.log.statemachine.data.sync.timeout.retry = -1 (default)
2019-09-04 07:45:47,817 [pool-27-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.log.statemachine.data.caching.enabled = true (custom)
2019-09-04 07:45:47,817 [pool-27-thread-1] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:lambda$new$0(132)) - 4e694486-3087-4490-b550-6be9ae6dbe9a-SegmentedRaftLogWorker:Storage Directory /workdir/hadoop-ozone/integration-test/target/test-dir/MiniOzoneClusterImpl-68751a6c-b5d9-4680-8ddd-dddd40b06685/datanode-0/data/ratis/5ed62a70-e574-47da-bd58-536729b66335: flushIndex: setUnconditionally 0 -> -1
2019-09-04 07:45:47,817 [pool-27-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.snapshot.auto.trigger.enabled = true (custom)
2019-09-04 07:45:47,818 [pool-27-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.snapshot.auto.trigger.threshold = 1 (custom)
2019-09-04 07:45:47,818 [pool-27-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.retrycache.expirytime = 600000ms (custom)
2019-09-04 07:45:47,818 [pool-27-thread-1] INFO  impl.RaftServerImpl (RaftServerImpl.java:start(180)) - 4e694486-3087-4490-b550-6be9ae6dbe9a: start group-536729B66335
2019-09-04 07:45:47,818 [pool-27-thread-1] INFO  impl.RaftServerImpl (RaftServerImpl.java:setRole(171)) - 4e694486-3087-4490-b550-6be9ae6dbe9a:group-536729B66335 changes role from null to FOLLOWER at term 0 for startAsFollower
2019-09-04 07:45:47,818 [pool-27-thread-1] INFO  impl.RoleInfo (RoleInfo.java:updateAndGet(143)) - 4e694486-3087-4490-b550-6be9ae6dbe9a: start FollowerState
2019-09-04 07:45:47,819 [pool-27-thread-1] INFO  util.JmxRegister (JmxRegister.java:tryRegister(44)) - Successfully registered JMX Bean with object name Ratis:service=RaftServer,group=group-536729B66335,id=4e694486-3087-4490-b550-6be9ae6dbe9a
2019-09-04 07:45:47,825 [RatisPipelineUtilsThread] INFO  pipeline.PipelineStateManager (PipelineStateManager.java:addPipeline(56)) - Created pipeline Pipeline[ Id: 5ed62a70-e574-47da-bd58-536729b66335, Nodes: 4e694486-3087-4490-b550-6be9ae6dbe9a{ip: 192.168.34.9, host: pr-hdds-1569-tfczc-1762686928, networkLocation: /default-rack, certSerialId: null}, Type:RATIS, Factor:ONE, State:OPEN]
2019-09-04 07:45:47,861 | INFO  | SCMAudit | user=jenkins1000 | ip=192.168.34.9 | op=SEND_HEARTBEAT {datanodeUUID=4e694486-3087-4490-b550-6be9ae6dbe9a, command=[]} | ret=SUCCESS |  
2019-09-04 07:45:48,061 | INFO  | SCMAudit | user=jenkins1000 | ip=192.168.34.9 | op=SEND_HEARTBEAT {datanodeUUID=4e694486-3087-4490-b550-6be9ae6dbe9a, command=[]} | ret=SUCCESS |  
2019-09-04 07:45:48,269 | INFO  | SCMAudit | user=jenkins1000 | ip=192.168.34.9 | op=SEND_HEARTBEAT {datanodeUUID=4e694486-3087-4490-b550-6be9ae6dbe9a, command=[]} | ret=SUCCESS |  
2019-09-04 07:45:48,279 [grpc-default-executor-1] INFO  impl.RaftServerProxy (RaftServerProxy.java:remove(95)) - 4e694486-3087-4490-b550-6be9ae6dbe9a: remove group-92368DA4D364:null
2019-09-04 07:45:48,305 [RatisPipelineUtilsThread] WARN  pipeline.RatisPipelineUtils (RatisPipelineUtils.java:destroyPipeline(66)) - Pipeline destroy failed for pipeline=PipelineID=58e0dcf1-8781-48bb-ac92-92368da4d364 dn=4e694486-3087-4490-b550-6be9ae6dbe9a{ip: 192.168.34.9, host: pr-hdds-1569-tfczc-1762686928, networkLocation: /default-rack, certSerialId: null}
2019-09-04 07:45:48,306 [RatisPipelineUtilsThread] ERROR pipeline.SCMPipelineManager (Scheduler.java:lambda$schedule$1(70)) - Destroy pipeline failed for pipeline:Pipeline[ Id: 58e0dcf1-8781-48bb-ac92-92368da4d364, Nodes: 4e694486-3087-4490-b550-6be9ae6dbe9a{ip: 192.168.34.9, host: pr-hdds-1569-tfczc-1762686928, networkLocation: /default-rack, certSerialId: null}, Type:RATIS, Factor:ONE, State:CLOSED]
org.apache.hadoop.hdds.scm.pipeline.PipelineNotFoundException: PipelineID=58e0dcf1-8781-48bb-ac92-92368da4d364 not found
	at org.apache.hadoop.hdds.scm.pipeline.PipelineStateMap.getPipeline(PipelineStateMap.java:132)
	at org.apache.hadoop.hdds.scm.pipeline.PipelineStateMap.removePipeline(PipelineStateMap.java:322)
	at org.apache.hadoop.hdds.scm.pipeline.PipelineStateManager.removePipeline(PipelineStateManager.java:107)
	at org.apache.hadoop.hdds.scm.pipeline.SCMPipelineManager.removePipeline(SCMPipelineManager.java:397)
	at org.apache.hadoop.hdds.scm.pipeline.SCMPipelineManager.destroyPipeline(SCMPipelineManager.java:383)
	at org.apache.hadoop.hdds.scm.pipeline.SCMPipelineManager.lambda$finalizeAndDestroyPipeline$0(SCMPipelineManager.java:316)
	at org.apache.hadoop.utils.Scheduler.lambda$schedule$1(Scheduler.java:68)
	at java.util.concurrent.Executors$RunnableAdapter.call(Executors.java:511)
	at java.util.concurrent.FutureTask.run(FutureTask.java:266)
	at java.util.concurrent.ScheduledThreadPoolExecutor$ScheduledFutureTask.access$201(ScheduledThreadPoolExecutor.java:180)
	at java.util.concurrent.ScheduledThreadPoolExecutor$ScheduledFutureTask.run(ScheduledThreadPoolExecutor.java:293)
	at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1149)
	at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:624)
	at java.lang.Thread.run(Thread.java:748)
2019-09-04 07:45:48,462 | INFO  | SCMAudit | user=jenkins1000 | ip=192.168.34.9 | op=SEND_HEARTBEAT {datanodeUUID=4e694486-3087-4490-b550-6be9ae6dbe9a, command=[]} | ret=SUCCESS |  
2019-09-04 07:45:48,663 | INFO  | SCMAudit | user=jenkins1000 | ip=192.168.34.9 | op=SEND_HEARTBEAT {datanodeUUID=4e694486-3087-4490-b550-6be9ae6dbe9a, command=[]} | ret=SUCCESS |  
2019-09-04 07:45:48,741 [main] WARN  io.KeyOutputStream (KeyOutputStream.java:handleException(276)) - Encountered exception java.io.IOException: Unexpected Storage Container Exception: java.util.concurrent.CompletionException: java.util.concurrent.CompletionException: org.apache.ratis.protocol.GroupMismatchException: 4e694486-3087-4490-b550-6be9ae6dbe9a: group-92368DA4D364 not found. on the pipeline Pipeline[ Id: 58e0dcf1-8781-48bb-ac92-92368da4d364, Nodes: 4e694486-3087-4490-b550-6be9ae6dbe9a{ip: 192.168.34.9, host: pr-hdds-1569-tfczc-1762686928, networkLocation: /default-rack, certSerialId: null}, Type:RATIS, Factor:ONE, State:OPEN]. The last committed block length is 5, uncommitted data length is 5 retry count 0
2019-09-04 07:45:48,764 | INFO  | SCMAudit | user=jenkins1000 | ip=192.168.34.9 | op=ALLOCATE_BLOCK {owner=78347fbe-7996-4dab-804b-219b00c6dd73, size=4194304, type=RATIS, factor=ONE} | ret=SUCCESS |  
2019-09-04 07:45:48,765 | INFO  | OMAudit | user=jenkins1000 | ip=127.0.0.1 | op=ALLOCATE_BLOCK {volume=testcontainerstatemachinefailures, bucket=testcontainerstatemachinefailures, key=ratis, dataSize=0, replicationType=null, replicationFactor=null, keyLocationInfo=null, clientID=102733128075247616} | ret=SUCCESS |  
2019-09-04 07:45:48,784 [grpc-default-executor-1] INFO  client.GrpcClientProtocolClient (GrpcClientProtocolClient.java:onNext(255)) - client-49C8CBA19333->4e694486-3087-4490-b550-6be9ae6dbe9a: receive RaftClientReply:client-49C8CBA19333->4e694486-3087-4490-b550-6be9ae6dbe9a@group-536729B66335, cid=8, FAILED org.apache.ratis.protocol.NotLeaderException: Server 4e694486-3087-4490-b550-6be9ae6dbe9a is not the leader (null). Request must be sent to leader., logIndex=0, commits[4e694486-3087-4490-b550-6be9ae6dbe9a:c-1]
2019-09-04 07:45:48,863 | INFO  | SCMAudit | user=jenkins1000 | ip=192.168.34.9 | op=SEND_HEARTBEAT {datanodeUUID=4e694486-3087-4490-b550-6be9ae6dbe9a, command=[]} | ret=SUCCESS |  
2019-09-04 07:45:49,063 | INFO  | SCMAudit | user=jenkins1000 | ip=192.168.34.9 | op=SEND_HEARTBEAT {datanodeUUID=4e694486-3087-4490-b550-6be9ae6dbe9a, command=[]} | ret=SUCCESS |  
2019-09-04 07:45:49,264 | INFO  | SCMAudit | user=jenkins1000 | ip=192.168.34.9 | op=SEND_HEARTBEAT {datanodeUUID=4e694486-3087-4490-b550-6be9ae6dbe9a, command=[]} | ret=SUCCESS |  
2019-09-04 07:45:49,464 | INFO  | SCMAudit | user=jenkins1000 | ip=192.168.34.9 | op=SEND_HEARTBEAT {datanodeUUID=4e694486-3087-4490-b550-6be9ae6dbe9a, command=[]} | ret=SUCCESS |  
2019-09-04 07:45:49,664 | INFO  | SCMAudit | user=jenkins1000 | ip=192.168.34.9 | op=SEND_HEARTBEAT {datanodeUUID=4e694486-3087-4490-b550-6be9ae6dbe9a, command=[]} | ret=SUCCESS |  
2019-09-04 07:45:49,866 | INFO  | SCMAudit | user=jenkins1000 | ip=192.168.34.9 | op=SEND_HEARTBEAT {datanodeUUID=4e694486-3087-4490-b550-6be9ae6dbe9a, command=[]} | ret=SUCCESS |  
2019-09-04 07:45:50,066 | INFO  | SCMAudit | user=jenkins1000 | ip=192.168.34.9 | op=SEND_HEARTBEAT {datanodeUUID=4e694486-3087-4490-b550-6be9ae6dbe9a, command=[]} | ret=SUCCESS |  
2019-09-04 07:45:50,266 | INFO  | SCMAudit | user=jenkins1000 | ip=192.168.34.9 | op=SEND_HEARTBEAT {datanodeUUID=4e694486-3087-4490-b550-6be9ae6dbe9a, command=[]} | ret=SUCCESS |  
2019-09-04 07:45:50,467 | INFO  | SCMAudit | user=jenkins1000 | ip=192.168.34.9 | op=SEND_HEARTBEAT {datanodeUUID=4e694486-3087-4490-b550-6be9ae6dbe9a, command=[]} | ret=SUCCESS |  
2019-09-04 07:45:50,666 | INFO  | SCMAudit | user=jenkins1000 | ip=192.168.34.9 | op=SEND_HEARTBEAT {datanodeUUID=4e694486-3087-4490-b550-6be9ae6dbe9a, command=[]} | ret=SUCCESS |  
2019-09-04 07:45:50,803 [grpc-default-executor-0] INFO  client.GrpcClientProtocolClient (GrpcClientProtocolClient.java:onNext(255)) - client-49C8CBA19333->4e694486-3087-4490-b550-6be9ae6dbe9a: receive RaftClientReply:client-49C8CBA19333->4e694486-3087-4490-b550-6be9ae6dbe9a@group-536729B66335, cid=8, FAILED org.apache.ratis.protocol.NotLeaderException: Server 4e694486-3087-4490-b550-6be9ae6dbe9a is not the leader (null). Request must be sent to leader., logIndex=0, commits[4e694486-3087-4490-b550-6be9ae6dbe9a:c-1]
2019-09-04 07:45:50,867 | INFO  | SCMAudit | user=jenkins1000 | ip=192.168.34.9 | op=SEND_HEARTBEAT {datanodeUUID=4e694486-3087-4490-b550-6be9ae6dbe9a, command=[]} | ret=SUCCESS |  
2019-09-04 07:45:51,066 | INFO  | SCMAudit | user=jenkins1000 | ip=192.168.34.9 | op=SEND_HEARTBEAT {datanodeUUID=4e694486-3087-4490-b550-6be9ae6dbe9a, command=[]} | ret=SUCCESS |  
2019-09-04 07:45:51,266 | INFO  | SCMAudit | user=jenkins1000 | ip=192.168.34.9 | op=SEND_HEARTBEAT {datanodeUUID=4e694486-3087-4490-b550-6be9ae6dbe9a, command=[]} | ret=SUCCESS |  
2019-09-04 07:45:51,466 | INFO  | SCMAudit | user=jenkins1000 | ip=192.168.34.9 | op=SEND_HEARTBEAT {datanodeUUID=4e694486-3087-4490-b550-6be9ae6dbe9a, command=[]} | ret=SUCCESS |  
2019-09-04 07:45:51,667 | INFO  | SCMAudit | user=jenkins1000 | ip=192.168.34.9 | op=SEND_HEARTBEAT {datanodeUUID=4e694486-3087-4490-b550-6be9ae6dbe9a, command=[]} | ret=SUCCESS |  
2019-09-04 07:45:51,867 | INFO  | SCMAudit | user=jenkins1000 | ip=192.168.34.9 | op=SEND_HEARTBEAT {datanodeUUID=4e694486-3087-4490-b550-6be9ae6dbe9a, command=[]} | ret=SUCCESS |  
2019-09-04 07:45:52,067 | INFO  | SCMAudit | user=jenkins1000 | ip=192.168.34.9 | op=SEND_HEARTBEAT {datanodeUUID=4e694486-3087-4490-b550-6be9ae6dbe9a, command=[]} | ret=SUCCESS |  
2019-09-04 07:45:52,267 | INFO  | SCMAudit | user=jenkins1000 | ip=192.168.34.9 | op=SEND_HEARTBEAT {datanodeUUID=4e694486-3087-4490-b550-6be9ae6dbe9a, command=[]} | ret=SUCCESS |  
2019-09-04 07:45:52,468 | INFO  | SCMAudit | user=jenkins1000 | ip=192.168.34.9 | op=SEND_HEARTBEAT {datanodeUUID=4e694486-3087-4490-b550-6be9ae6dbe9a, command=[]} | ret=SUCCESS |  
2019-09-04 07:45:52,667 | INFO  | SCMAudit | user=jenkins1000 | ip=192.168.34.9 | op=SEND_HEARTBEAT {datanodeUUID=4e694486-3087-4490-b550-6be9ae6dbe9a, command=[]} | ret=SUCCESS |  
2019-09-04 07:45:52,821 [grpc-default-executor-1] INFO  client.GrpcClientProtocolClient (GrpcClientProtocolClient.java:onNext(255)) - client-49C8CBA19333->4e694486-3087-4490-b550-6be9ae6dbe9a: receive RaftClientReply:client-49C8CBA19333->4e694486-3087-4490-b550-6be9ae6dbe9a@group-536729B66335, cid=8, FAILED org.apache.ratis.protocol.NotLeaderException: Server 4e694486-3087-4490-b550-6be9ae6dbe9a is not the leader (null). Request must be sent to leader., logIndex=0, commits[4e694486-3087-4490-b550-6be9ae6dbe9a:c-1]
2019-09-04 07:45:52,827 [Thread-187] INFO  impl.FollowerState (FollowerState.java:run(106)) - 4e694486-3087-4490-b550-6be9ae6dbe9a:group-536729B66335 changes to CANDIDATE, lastRpcTime:5008, electionTimeout:5008ms
2019-09-04 07:45:52,829 [Thread-187] INFO  impl.RoleInfo (RoleInfo.java:shutdownFollowerState(121)) - 4e694486-3087-4490-b550-6be9ae6dbe9a: shutdown FollowerState
2019-09-04 07:45:52,829 [Thread-187] INFO  impl.RaftServerImpl (RaftServerImpl.java:setRole(171)) - 4e694486-3087-4490-b550-6be9ae6dbe9a:group-536729B66335 changes role from FOLLOWER to CANDIDATE at term 0 for changeToCandidate
2019-09-04 07:45:52,829 [Thread-187] INFO  impl.RoleInfo (RoleInfo.java:updateAndGet(143)) - 4e694486-3087-4490-b550-6be9ae6dbe9a: start LeaderElection
2019-09-04 07:45:52,868 | INFO  | SCMAudit | user=jenkins1000 | ip=192.168.34.9 | op=SEND_HEARTBEAT {datanodeUUID=4e694486-3087-4490-b550-6be9ae6dbe9a, command=[]} | ret=SUCCESS |  
2019-09-04 07:45:52,868 [4e694486-3087-4490-b550-6be9ae6dbe9a:group-536729B66335:LeaderElection2] INFO  impl.LeaderElection (LeaderElection.java:askForVotes(181)) - 4e694486-3087-4490-b550-6be9ae6dbe9a:group-536729B66335:LeaderElection2: begin an election at term 1 for -1: [4e694486-3087-4490-b550-6be9ae6dbe9a:192.168.34.9:39640], old=null
2019-09-04 07:45:52,870 [4e694486-3087-4490-b550-6be9ae6dbe9a:group-536729B66335:LeaderElection2] INFO  impl.RoleInfo (RoleInfo.java:shutdownLeaderElection(134)) - 4e694486-3087-4490-b550-6be9ae6dbe9a: shutdown LeaderElection
2019-09-04 07:45:52,870 [4e694486-3087-4490-b550-6be9ae6dbe9a:group-536729B66335:LeaderElection2] INFO  impl.RaftServerImpl (RaftServerImpl.java:setRole(171)) - 4e694486-3087-4490-b550-6be9ae6dbe9a:group-536729B66335 changes role from CANDIDATE to LEADER at term 1 for changeToLeader
2019-09-04 07:45:52,870 [4e694486-3087-4490-b550-6be9ae6dbe9a:group-536729B66335:LeaderElection2] INFO  impl.RaftServerImpl (ServerState.java:setLeader(263)) - 4e694486-3087-4490-b550-6be9ae6dbe9a:group-536729B66335 change Leader from null to 4e694486-3087-4490-b550-6be9ae6dbe9a at term 1 for becomeLeader, leader elected after 5056ms
2019-09-04 07:45:52,871 [4e694486-3087-4490-b550-6be9ae6dbe9a:group-536729B66335:LeaderElection2] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.staging.catchup.gap = 1000 (default)
2019-09-04 07:45:52,871 [4e694486-3087-4490-b550-6be9ae6dbe9a:group-536729B66335:LeaderElection2] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.rpc.sleep.time = 25ms (default)
2019-09-04 07:45:52,871 [4e694486-3087-4490-b550-6be9ae6dbe9a:group-536729B66335:LeaderElection2] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.write.element-limit = 4096 (default)
2019-09-04 07:45:52,871 [4e694486-3087-4490-b550-6be9ae6dbe9a:group-536729B66335:LeaderElection2] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.watch.timeout = 10s (default)
2019-09-04 07:45:52,872 [4e694486-3087-4490-b550-6be9ae6dbe9a:group-536729B66335:LeaderElection2] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.watch.timeout.denomination = 1s (default)
2019-09-04 07:45:52,872 [4e694486-3087-4490-b550-6be9ae6dbe9a:group-536729B66335:LeaderElection2] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.watch.element-limit = 65536 (default)
2019-09-04 07:45:52,872 [4e694486-3087-4490-b550-6be9ae6dbe9a:group-536729B66335:LeaderElection2] INFO  impl.RoleInfo (RoleInfo.java:updateAndGet(143)) - 4e694486-3087-4490-b550-6be9ae6dbe9a: start LeaderState
2019-09-04 07:45:52,873 [4e694486-3087-4490-b550-6be9ae6dbe9a:group-536729B66335:LeaderElection2] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:startLogSegment(380)) - 4e694486-3087-4490-b550-6be9ae6dbe9a-SegmentedRaftLogWorker:Storage Directory /workdir/hadoop-ozone/integration-test/target/test-dir/MiniOzoneClusterImpl-68751a6c-b5d9-4680-8ddd-dddd40b06685/datanode-0/data/ratis/5ed62a70-e574-47da-bd58-536729b66335: Starting segment from index:0
2019-09-04 07:45:52,874 [4e694486-3087-4490-b550-6be9ae6dbe9a:group-536729B66335:LeaderElection2] INFO  impl.RaftServerImpl (ServerState.java:setRaftConf(361)) - 4e694486-3087-4490-b550-6be9ae6dbe9a:group-536729B66335 set configuration 0: [4e694486-3087-4490-b550-6be9ae6dbe9a:192.168.34.9:39640], old=null at 0
2019-09-04 07:45:52,932 [4e694486-3087-4490-b550-6be9ae6dbe9a-SegmentedRaftLogWorker:Storage Directory /workdir/hadoop-ozone/integration-test/target/test-dir/MiniOzoneClusterImpl-68751a6c-b5d9-4680-8ddd-dddd40b06685/datanode-0/data/ratis/5ed62a70-e574-47da-bd58-536729b66335] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:execute(569)) - 4e694486-3087-4490-b550-6be9ae6dbe9a-SegmentedRaftLogWorker:Storage Directory /workdir/hadoop-ozone/integration-test/target/test-dir/MiniOzoneClusterImpl-68751a6c-b5d9-4680-8ddd-dddd40b06685/datanode-0/data/ratis/5ed62a70-e574-47da-bd58-536729b66335: created new log segment /workdir/hadoop-ozone/integration-test/target/test-dir/MiniOzoneClusterImpl-68751a6c-b5d9-4680-8ddd-dddd40b06685/datanode-0/data/ratis/5ed62a70-e574-47da-bd58-536729b66335/current/log_inprogress_0
2019-09-04 07:45:53,068 | INFO  | SCMAudit | user=jenkins1000 | ip=192.168.34.9 | op=SEND_HEARTBEAT {datanodeUUID=4e694486-3087-4490-b550-6be9ae6dbe9a, command=[]} | ret=SUCCESS |  
2019-09-04 07:45:53,268 | INFO  | SCMAudit | user=jenkins1000 | ip=192.168.34.9 | op=SEND_HEARTBEAT {datanodeUUID=4e694486-3087-4490-b550-6be9ae6dbe9a, command=[]} | ret=SUCCESS |  
2019-09-04 07:45:53,469 | INFO  | SCMAudit | user=jenkins1000 | ip=192.168.34.9 | op=SEND_HEARTBEAT {datanodeUUID=4e694486-3087-4490-b550-6be9ae6dbe9a, command=[]} | ret=SUCCESS |  
2019-09-04 07:45:53,669 | INFO  | SCMAudit | user=jenkins1000 | ip=192.168.34.9 | op=SEND_HEARTBEAT {datanodeUUID=4e694486-3087-4490-b550-6be9ae6dbe9a, command=[]} | ret=SUCCESS |  
2019-09-04 07:45:53,869 | INFO  | SCMAudit | user=jenkins1000 | ip=192.168.34.9 | op=SEND_HEARTBEAT {datanodeUUID=4e694486-3087-4490-b550-6be9ae6dbe9a, command=[]} | ret=SUCCESS |  
2019-09-04 07:45:54,069 | INFO  | SCMAudit | user=jenkins1000 | ip=192.168.34.9 | op=SEND_HEARTBEAT {datanodeUUID=4e694486-3087-4490-b550-6be9ae6dbe9a, command=[]} | ret=SUCCESS |  
2019-09-04 07:45:54,269 | INFO  | SCMAudit | user=jenkins1000 | ip=192.168.34.9 | op=SEND_HEARTBEAT {datanodeUUID=4e694486-3087-4490-b550-6be9ae6dbe9a, command=[]} | ret=SUCCESS |  
2019-09-04 07:45:54,469 | INFO  | SCMAudit | user=jenkins1000 | ip=192.168.34.9 | op=SEND_HEARTBEAT {datanodeUUID=4e694486-3087-4490-b550-6be9ae6dbe9a, command=[]} | ret=SUCCESS |  
2019-09-04 07:45:54,670 | INFO  | SCMAudit | user=jenkins1000 | ip=192.168.34.9 | op=SEND_HEARTBEAT {datanodeUUID=4e694486-3087-4490-b550-6be9ae6dbe9a, command=[]} | ret=SUCCESS |  
2019-09-04 07:45:54,869 | INFO  | SCMAudit | user=jenkins1000 | ip=192.168.34.9 | op=SEND_HEARTBEAT {datanodeUUID=4e694486-3087-4490-b550-6be9ae6dbe9a, command=[]} | ret=SUCCESS |  
2019-09-04 07:45:54,938 | INFO  | DNAudit | user=null | ip=null | op=WRITE_CHUNK {blockData=conID: 2 locID: 102733129237331970 bcsId: 0} | ret=SUCCESS |  
2019-09-04 07:45:54,939 | INFO  | SCMAudit | user=jenkins1000 | ip=192.168.34.9 | op=SEND_HEARTBEAT {datanodeUUID=4e694486-3087-4490-b550-6be9ae6dbe9a, command=[]} | ret=SUCCESS |  
2019-09-04 07:45:54,952 | INFO  | DNAudit | user=null | ip=null | op=WRITE_CHUNK {blockData=conID: 2 locID: 102733129237331970 bcsId: 0} | ret=SUCCESS |  
2019-09-04 07:45:54,955 [StateMachineUpdater:4e694486-3087-4490-b550-6be9ae6dbe9a:group-536729B66335] INFO  ratis.ContainerStateMachine (ContainerStateMachine.java:takeSnapshot(283)) - group-536729B66335: Taking a snapshot at:(t:1, i:1) file /workdir/hadoop-ozone/integration-test/target/test-dir/MiniOzoneClusterImpl-68751a6c-b5d9-4680-8ddd-dddd40b06685/datanode-0/data/ratis/5ed62a70-e574-47da-bd58-536729b66335/sm/snapshot.1_1
2019-09-04 07:45:54,959 [grpc-default-executor-0] INFO  client.GrpcClientProtocolClient (GrpcClientProtocolClient.java:onNext(255)) - client-49C8CBA19333->4e694486-3087-4490-b550-6be9ae6dbe9a: receive RaftClientReply:client-49C8CBA19333->4e694486-3087-4490-b550-6be9ae6dbe9a@group-536729B66335, cid=8, SUCCESS, logIndex=1, commits[4e694486-3087-4490-b550-6be9ae6dbe9a:c1]
2019-09-04 07:45:54,973 [StateMachineUpdater:4e694486-3087-4490-b550-6be9ae6dbe9a:group-536729B66335] INFO  ratis.ContainerStateMachine (ContainerStateMachine.java:takeSnapshot(294)) - group-536729B66335: Finished taking a snapshot at:(t:1, i:1) file:/workdir/hadoop-ozone/integration-test/target/test-dir/MiniOzoneClusterImpl-68751a6c-b5d9-4680-8ddd-dddd40b06685/datanode-0/data/ratis/5ed62a70-e574-47da-bd58-536729b66335/sm/snapshot.1_1 time:20
2019-09-04 07:45:54,974 [StateMachineUpdater:4e694486-3087-4490-b550-6be9ae6dbe9a:group-536729B66335] INFO  impl.StateMachineUpdater (StateMachineUpdater.java:takeSnapshot(242)) - StateMachineUpdater:4e694486-3087-4490-b550-6be9ae6dbe9a:group-536729B66335: Took a snapshot at index 1
2019-09-04 07:45:54,974 [StateMachineUpdater:4e694486-3087-4490-b550-6be9ae6dbe9a:group-536729B66335] INFO  impl.StateMachineUpdater (StateMachineUpdater.java:lambda$new$0(80)) - StateMachineUpdater:4e694486-3087-4490-b550-6be9ae6dbe9a:group-536729B66335: snapshotIndex: updateIncreasingly -1 -> 1
2019-09-04 07:45:54,974 [StateMachineUpdater:4e694486-3087-4490-b550-6be9ae6dbe9a:group-536729B66335] INFO  ratis.ContainerStateMachine (ContainerStateMachine.java:takeSnapshot(283)) - group-536729B66335: Taking a snapshot at:(t:1, i:1) file /workdir/hadoop-ozone/integration-test/target/test-dir/MiniOzoneClusterImpl-68751a6c-b5d9-4680-8ddd-dddd40b06685/datanode-0/data/ratis/5ed62a70-e574-47da-bd58-536729b66335/sm/snapshot.1_1
2019-09-04 07:45:54,995 [StateMachineUpdater:4e694486-3087-4490-b550-6be9ae6dbe9a:group-536729B66335] INFO  ratis.ContainerStateMachine (ContainerStateMachine.java:takeSnapshot(294)) - group-536729B66335: Finished taking a snapshot at:(t:1, i:1) file:/workdir/hadoop-ozone/integration-test/target/test-dir/MiniOzoneClusterImpl-68751a6c-b5d9-4680-8ddd-dddd40b06685/datanode-0/data/ratis/5ed62a70-e574-47da-bd58-536729b66335/sm/snapshot.1_1 time:20
2019-09-04 07:45:54,995 [StateMachineUpdater:4e694486-3087-4490-b550-6be9ae6dbe9a:group-536729B66335] INFO  impl.StateMachineUpdater (StateMachineUpdater.java:takeSnapshot(242)) - StateMachineUpdater:4e694486-3087-4490-b550-6be9ae6dbe9a:group-536729B66335: Took a snapshot at index 1
2019-09-04 07:45:54,995 [StateMachineUpdater:4e694486-3087-4490-b550-6be9ae6dbe9a:group-536729B66335] INFO  impl.StateMachineUpdater (StateMachineUpdater.java:lambda$new$0(80)) - StateMachineUpdater:4e694486-3087-4490-b550-6be9ae6dbe9a:group-536729B66335: snapshotIndex: updateIncreasingly 1 -> 1
2019-09-04 07:45:55,064 | INFO  | DNAudit | user=null | ip=null | op=PUT_BLOCK {blockData=[blockId=conID: 2 locID: 102733129237331970 bcsId: 0,size=5]} | ret=SUCCESS |  
2019-09-04 07:45:55,066 [StateMachineUpdater:4e694486-3087-4490-b550-6be9ae6dbe9a:group-536729B66335] INFO  ratis.ContainerStateMachine (ContainerStateMachine.java:takeSnapshot(283)) - group-536729B66335: Taking a snapshot at:(t:1, i:1) file /workdir/hadoop-ozone/integration-test/target/test-dir/MiniOzoneClusterImpl-68751a6c-b5d9-4680-8ddd-dddd40b06685/datanode-0/data/ratis/5ed62a70-e574-47da-bd58-536729b66335/sm/snapshot.1_1
2019-09-04 07:45:55,070 [grpc-default-executor-0] INFO  client.GrpcClientProtocolClient (GrpcClientProtocolClient.java:onNext(255)) - client-49C8CBA19333->4e694486-3087-4490-b550-6be9ae6dbe9a: receive RaftClientReply:client-49C8CBA19333->4e694486-3087-4490-b550-6be9ae6dbe9a@group-536729B66335, cid=9, SUCCESS, logIndex=3, commits[4e694486-3087-4490-b550-6be9ae6dbe9a:c4]
2019-09-04 07:45:55,083 [StateMachineUpdater:4e694486-3087-4490-b550-6be9ae6dbe9a:group-536729B66335] INFO  ratis.ContainerStateMachine (ContainerStateMachine.java:takeSnapshot(294)) - group-536729B66335: Finished taking a snapshot at:(t:1, i:1) file:/workdir/hadoop-ozone/integration-test/target/test-dir/MiniOzoneClusterImpl-68751a6c-b5d9-4680-8ddd-dddd40b06685/datanode-0/data/ratis/5ed62a70-e574-47da-bd58-536729b66335/sm/snapshot.1_1 time:18
2019-09-04 07:45:55,083 [StateMachineUpdater:4e694486-3087-4490-b550-6be9ae6dbe9a:group-536729B66335] INFO  impl.StateMachineUpdater (StateMachineUpdater.java:takeSnapshot(242)) - StateMachineUpdater:4e694486-3087-4490-b550-6be9ae6dbe9a:group-536729B66335: Took a snapshot at index 1
2019-09-04 07:45:55,084 [StateMachineUpdater:4e694486-3087-4490-b550-6be9ae6dbe9a:group-536729B66335] INFO  impl.StateMachineUpdater (StateMachineUpdater.java:lambda$new$0(80)) - StateMachineUpdater:4e694486-3087-4490-b550-6be9ae6dbe9a:group-536729B66335: snapshotIndex: updateIncreasingly 1 -> 1
2019-09-04 07:45:55,084 | INFO  | OMAudit | user=jenkins1000 | ip=127.0.0.1 | op=COMMIT_KEY {volume=testcontainerstatemachinefailures, bucket=testcontainerstatemachinefailures, key=ratis, dataSize=10, replicationType=null, replicationFactor=null, keyLocationInfo=[{blockID={containerID=1, localID=102733128077475841}, length=5, offset=0, token=null, pipeline=Pipeline[ Id: 58e0dcf1-8781-48bb-ac92-92368da4d364, Nodes: 4e694486-3087-4490-b550-6be9ae6dbe9a{ip: 192.168.34.9, host: pr-hdds-1569-tfczc-1762686928, networkLocation: /default-rack, certSerialId: null}, Type:RATIS, Factor:ONE, State:OPEN], createVersion=0}, {blockID={containerID=2, localID=102733129237331970}, length=5, offset=0, token=null, pipeline=Pipeline[ Id: 5ed62a70-e574-47da-bd58-536729b66335, Nodes: 4e694486-3087-4490-b550-6be9ae6dbe9a{ip: 192.168.34.9, host: pr-hdds-1569-tfczc-1762686928, networkLocation: /default-rack, certSerialId: null}, Type:RATIS, Factor:ONE, State:OPEN], createVersion=0}], clientID=102733128075247616} | ret=SUCCESS |  
2019-09-04 07:45:55,086 [main] INFO  datanode.ObjectStoreHandler (ObjectStoreHandler.java:close(155)) - Closing ObjectStoreHandler.
2019-09-04 07:45:55,087 [main] INFO  ozone.HddsDatanodeService (HddsDatanodeService.java:stop(451)) - Stopped plug-in org.apache.hadoop.ozone.web.OzoneHddsDatanodeService@622d7e4
2019-09-04 07:45:55,137 [Datanode State Machine Thread - 0] INFO  statemachine.DatanodeStateMachine (DatanodeStateMachine.java:lambda$startDaemon$0(350)) - Ozone container server started.
2019-09-04 07:45:57,942 [EventQueue-StaleNodeForStaleNodeHandler] INFO  node.StaleNodeHandler (StaleNodeHandler.java:onMessage(58)) - Datanode 4e694486-3087-4490-b550-6be9ae6dbe9a{ip: 192.168.34.9, host: pr-hdds-1569-tfczc-1762686928, networkLocation: /default-rack, certSerialId: null} moved to stale state. Finalizing its pipelines [PipelineID=5ed62a70-e574-47da-bd58-536729b66335]
2019-09-04 07:45:57,942 [EventQueue-StaleNodeForStaleNodeHandler] INFO  pipeline.SCMPipelineManager (SCMPipelineManager.java:finalizeAndDestroyPipeline(309)) - destroying pipeline:Pipeline[ Id: 5ed62a70-e574-47da-bd58-536729b66335, Nodes: 4e694486-3087-4490-b550-6be9ae6dbe9a{ip: 192.168.34.9, host: pr-hdds-1569-tfczc-1762686928, networkLocation: /default-rack, certSerialId: null}, Type:RATIS, Factor:ONE, State:OPEN]
2019-09-04 07:45:57,942 [EventQueue-StaleNodeForStaleNodeHandler] INFO  pipeline.PipelineStateManager (PipelineStateManager.java:finalizePipeline(123)) - Pipeline Pipeline[ Id: 5ed62a70-e574-47da-bd58-536729b66335, Nodes: 4e694486-3087-4490-b550-6be9ae6dbe9a{ip: 192.168.34.9, host: pr-hdds-1569-tfczc-1762686928, networkLocation: /default-rack, certSerialId: null}, Type:RATIS, Factor:ONE, State:CLOSED] moved to CLOSED state
2019-09-04 07:45:57,943 [EventQueue-CloseContainerForCloseContainerEventHandler] INFO  container.CloseContainerEventHandler (CloseContainerEventHandler.java:onMessage(61)) - Close container Event triggered for container : #2
2019-09-04 07:46:00,089 [main] INFO  ozoneimpl.OzoneContainer (OzoneContainer.java:stop(199)) - Attempting to stop container services.
2019-09-04 07:46:00,091 [main] INFO  impl.RaftServerProxy (RaftServerProxy.java:lambda$close$4(314)) - 4e694486-3087-4490-b550-6be9ae6dbe9a: close
2019-09-04 07:46:00,092 [main] INFO  impl.RaftServerImpl (RaftServerImpl.java:lambda$shutdown$3(245)) - 4e694486-3087-4490-b550-6be9ae6dbe9a: shutdown group-536729B66335
2019-09-04 07:46:00,093 [main] INFO  util.JmxRegister (JmxRegister.java:unregister(73)) - Successfully un-registered JMX Bean with object name Ratis:service=RaftServer,group=group-536729B66335,id=4e694486-3087-4490-b550-6be9ae6dbe9a
2019-09-04 07:46:00,093 [main] INFO  impl.RoleInfo (RoleInfo.java:shutdownLeaderState(104)) - 4e694486-3087-4490-b550-6be9ae6dbe9a: shutdown LeaderState
2019-09-04 07:46:00,093 [main] INFO  impl.PendingRequests (PendingRequests.java:sendNotLeaderResponses(202)) - 4e694486-3087-4490-b550-6be9ae6dbe9a-PendingRequests: sendNotLeaderResponses
2019-09-04 07:46:00,098 [main] INFO  impl.StateMachineUpdater (StateMachineUpdater.java:stopAndJoin(115)) - StateMachineUpdater:4e694486-3087-4490-b550-6be9ae6dbe9a:group-536729B66335: set stopIndex = 4
2019-09-04 07:46:00,098 [StateMachineUpdater:4e694486-3087-4490-b550-6be9ae6dbe9a:group-536729B66335] INFO  ratis.ContainerStateMachine (ContainerStateMachine.java:takeSnapshot(283)) - group-536729B66335: Taking a snapshot at:(t:1, i:4) file /workdir/hadoop-ozone/integration-test/target/test-dir/MiniOzoneClusterImpl-68751a6c-b5d9-4680-8ddd-dddd40b06685/datanode-0/data/ratis/5ed62a70-e574-47da-bd58-536729b66335/sm/snapshot.1_4
2019-09-04 07:46:00,121 [StateMachineUpdater:4e694486-3087-4490-b550-6be9ae6dbe9a:group-536729B66335] INFO  ratis.ContainerStateMachine (ContainerStateMachine.java:takeSnapshot(294)) - group-536729B66335: Finished taking a snapshot at:(t:1, i:4) file:/workdir/hadoop-ozone/integration-test/target/test-dir/MiniOzoneClusterImpl-68751a6c-b5d9-4680-8ddd-dddd40b06685/datanode-0/data/ratis/5ed62a70-e574-47da-bd58-536729b66335/sm/snapshot.1_4 time:23
2019-09-04 07:46:00,121 [StateMachineUpdater:4e694486-3087-4490-b550-6be9ae6dbe9a:group-536729B66335] INFO  impl.StateMachineUpdater (StateMachineUpdater.java:takeSnapshot(242)) - StateMachineUpdater:4e694486-3087-4490-b550-6be9ae6dbe9a:group-536729B66335: Took a snapshot at index 4
2019-09-04 07:46:00,121 [StateMachineUpdater:4e694486-3087-4490-b550-6be9ae6dbe9a:group-536729B66335] INFO  impl.StateMachineUpdater (StateMachineUpdater.java:lambda$new$0(80)) - StateMachineUpdater:4e694486-3087-4490-b550-6be9ae6dbe9a:group-536729B66335: snapshotIndex: updateIncreasingly 1 -> 4
2019-09-04 07:46:00,122 [main] INFO  impl.RaftServerImpl (ServerState.java:close(394)) - 4e694486-3087-4490-b550-6be9ae6dbe9a:group-536729B66335 closes. The last applied log index is 4
2019-09-04 07:46:00,124 [4e694486-3087-4490-b550-6be9ae6dbe9a-SegmentedRaftLogWorker:Storage Directory /workdir/hadoop-ozone/integration-test/target/test-dir/MiniOzoneClusterImpl-68751a6c-b5d9-4680-8ddd-dddd40b06685/datanode-0/data/ratis/5ed62a70-e574-47da-bd58-536729b66335] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:run(313)) - 4e694486-3087-4490-b550-6be9ae6dbe9a-SegmentedRaftLogWorker:Storage Directory /workdir/hadoop-ozone/integration-test/target/test-dir/MiniOzoneClusterImpl-68751a6c-b5d9-4680-8ddd-dddd40b06685/datanode-0/data/ratis/5ed62a70-e574-47da-bd58-536729b66335 was interrupted, exiting. There are 0 tasks remaining in the queue.
2019-09-04 07:46:00,125 [main] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:close(228)) - 4e694486-3087-4490-b550-6be9ae6dbe9a-SegmentedRaftLogWorker:Storage Directory /workdir/hadoop-ozone/integration-test/target/test-dir/MiniOzoneClusterImpl-68751a6c-b5d9-4680-8ddd-dddd40b06685/datanode-0/data/ratis/5ed62a70-e574-47da-bd58-536729b66335 close()
2019-09-04 07:46:00,128 [main] INFO  server.GrpcService (GrpcService.java:closeImpl(155)) - 4e694486-3087-4490-b550-6be9ae6dbe9a: shutdown server with port 39640 now
2019-09-04 07:46:00,131 [main] INFO  server.GrpcService (GrpcService.java:closeImpl(163)) - 4e694486-3087-4490-b550-6be9ae6dbe9a: shutdown server with port 39640 successfully
2019-09-04 07:46:00,135 [main] INFO  utils.BackgroundService (BackgroundService.java:shutdown(148)) - Shutting down service BlockDeletingService
2019-09-04 07:46:00,136 [refreshUsed-/workdir/hadoop-ozone/integration-test/target/test-dir/MiniOzoneClusterImpl-68751a6c-b5d9-4680-8ddd-dddd40b06685/datanode-0/data/containers] WARN  fs.CachingGetSpaceUsed (CachingGetSpaceUsed.java:run(183)) - Thread Interrupted waiting to refresh disk information: sleep interrupted
2019-09-04 07:46:00,161 [main] INFO  statemachine.DatanodeStateMachine (DatanodeStateMachine.java:stopDaemon(395)) - Ozone container server stopped.
2019-09-04 07:46:00,166 [main] INFO  handler.ContextHandler (ContextHandler.java:doStop(910)) - Stopped o.e.j.w.WebAppContext@16727bf0{/,null,UNAVAILABLE}{/hddsDatanode}
2019-09-04 07:46:00,172 [main] INFO  server.AbstractConnector (AbstractConnector.java:doStop(318)) - Stopped ServerConnector@2f84acf7{HTTP/1.1,[http/1.1]}{0.0.0.0:0}
2019-09-04 07:46:00,173 [main] INFO  handler.ContextHandler (ContextHandler.java:doStop(910)) - Stopped o.e.j.s.ServletContextHandler@2f4c2cd4{/static,jar:file:/home/user/.m2/repository/org/apache/hadoop/hadoop-hdds-container-service/0.5.0-SNAPSHOT/hadoop-hdds-container-service-0.5.0-SNAPSHOT.jar!/webapps/static,UNAVAILABLE}
2019-09-04 07:46:00,173 [main] INFO  handler.ContextHandler (ContextHandler.java:doStop(910)) - Stopped o.e.j.s.ServletContextHandler@58f39564{/logs,file:///workdir/hadoop-ozone/integration-test/target/log,UNAVAILABLE}
2019-09-04 07:46:00,177 [main] INFO  ozone.MiniOzoneClusterImpl (MiniOzoneClusterImpl.java:lambda$waitForClusterToBeReady$0(142)) - Cluster is ready. Got 0 of 0 DN Heartbeats.
2019-09-04 07:46:00,180 [main] INFO  impl.MetricsSystemImpl (MetricsSystemImpl.java:init(158)) - HddsDatanode metrics system started (again)
2019-09-04 07:46:00,225 [main] INFO  ozone.HddsDatanodeService (HddsDatanodeService.java:start(184)) - HddsDatanodeService host:pr-hdds-1569-tfczc-1762686928 ip:192.168.34.9
2019-09-04 07:46:00,228 [main] INFO  volume.VolumeUsage (VolumeUsage.java:loadScmUsed(144)) - Cached ScmUsed found for /workdir/hadoop-ozone/integration-test/target/test-dir/MiniOzoneClusterImpl-68751a6c-b5d9-4680-8ddd-dddd40b06685/datanode-0/data/containers : 4096 
2019-09-04 07:46:00,229 [main] INFO  volume.HddsVolume (HddsVolume.java:<init>(176)) - Creating Volume: /workdir/hadoop-ozone/integration-test/target/test-dir/MiniOzoneClusterImpl-68751a6c-b5d9-4680-8ddd-dddd40b06685/datanode-0/data/containers/hdds of  storage type : DISK and capacity : 1482555576320
2019-09-04 07:46:00,229 [main] INFO  volume.VolumeSet (VolumeSet.java:initializeVolumeSet(170)) - Added Volume : /workdir/hadoop-ozone/integration-test/target/test-dir/MiniOzoneClusterImpl-68751a6c-b5d9-4680-8ddd-dddd40b06685/datanode-0/data/containers/hdds to VolumeSet
2019-09-04 07:46:00,230 [main] INFO  volume.ThrottledAsyncChecker (ThrottledAsyncChecker.java:schedule(140)) - Scheduling a check for org.apache.hadoop.ozone.container.common.volume.HddsVolume@261f359f
2019-09-04 07:46:00,230 [main] INFO  volume.HddsVolumeChecker (HddsVolumeChecker.java:checkAllVolumes(203)) - Scheduled health check for volume org.apache.hadoop.ozone.container.common.volume.HddsVolume@261f359f
2019-09-04 07:46:00,269 [main] INFO  impl.RaftServerProxy (ConfUtils.java:logGet(43)) - raft.rpc.type = GRPC (default)
2019-09-04 07:46:00,270 [main] INFO  grpc.GrpcFactory (GrpcFactory.java:checkPooledByteBufAllocatorUseCacheForAllThreads(45)) - PERFORMANCE WARNING: useCacheForAllThreads is true that may cause Netty to create a lot garbage objects and, as a result, trigger GC.
	It is recommended to disable useCacheForAllThreads by setting -Dorg.apache.ratis.thirdparty.io.netty.allocator.useCacheForAllThreads=false in command line.
2019-09-04 07:46:00,270 [main] INFO  grpc.GrpcConfigKeys$Server (ConfUtils.java:logGet(43)) - raft.grpc.server.port = 39640 (custom)
2019-09-04 07:46:00,270 [main] INFO  server.GrpcService (ConfUtils.java:logGet(43)) - raft.grpc.message.size.max = 33570816 (custom)
2019-09-04 07:46:00,271 [main] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.log.appender.buffer.byte-limit = 33554432 (custom)
2019-09-04 07:46:00,271 [main] INFO  server.GrpcService (ConfUtils.java:logGet(43)) - raft.grpc.flow.control.window = 1MB (=1048576) (default)
2019-09-04 07:46:00,271 [main] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.rpc.request.timeout = 3000ms (default)
2019-09-04 07:46:00,272 [main] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.storage.dir = [/workdir/hadoop-ozone/integration-test/target/test-dir/MiniOzoneClusterImpl-68751a6c-b5d9-4680-8ddd-dddd40b06685/datanode-0/data/ratis] (custom)
2019-09-04 07:46:00,272 [main] INFO  impl.RaftServerProxy (RaftServerProxy.java:lambda$null$0(191)) - 4e694486-3087-4490-b550-6be9ae6dbe9a: found a subdirectory /workdir/hadoop-ozone/integration-test/target/test-dir/MiniOzoneClusterImpl-68751a6c-b5d9-4680-8ddd-dddd40b06685/datanode-0/data/ratis/5ed62a70-e574-47da-bd58-536729b66335
2019-09-04 07:46:00,274 [main] INFO  impl.RaftServerProxy (RaftServerProxy.java:addNew(89)) - 4e694486-3087-4490-b550-6be9ae6dbe9a: addNew group-536729B66335:[] returns group-536729B66335:java.util.concurrent.CompletableFuture@2322e56f[Not completed]
2019-09-04 07:46:00,275 [main] INFO  replication.SimpleContainerDownloader (SimpleContainerDownloader.java:<init>(72)) - Starting container downloader service to copy containers to replicate.
2019-09-04 07:46:00,281 [main] INFO  hdfs.DFSUtil (DFSUtil.java:httpServerTemplateForNNAndJN(1641)) - Starting Web-server for hddsDatanode at: http://0.0.0.0:39773
2019-09-04 07:46:00,296 [pool-42-thread-1] INFO  impl.RaftServerImpl (RaftServerImpl.java:<init>(93)) - 4e694486-3087-4490-b550-6be9ae6dbe9a: new RaftServerImpl for group-536729B66335:[] with ContainerStateMachine:uninitialized
2019-09-04 07:46:00,297 [pool-42-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.rpc.timeout.min = 5s (custom)
2019-09-04 07:46:00,297 [pool-42-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.rpc.timeout.max = 5200ms (custom)
2019-09-04 07:46:00,297 [pool-42-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.rpcslowness.timeout = 120s (custom)
2019-09-04 07:46:00,297 [main] INFO  server.AuthenticationFilter (AuthenticationFilter.java:constructSecretProvider(240)) - Unable to initialize FileSignerSecretProvider, falling back to use random secrets.
2019-09-04 07:46:00,297 [pool-42-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.sleep.deviation.threshold = 300 (default)
2019-09-04 07:46:00,298 [pool-42-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.log.appender.install.snapshot.enabled = false (custom)
2019-09-04 07:46:00,298 [pool-42-thread-1] INFO  impl.RaftServerImpl (ServerState.java:<init>(105)) - 4e694486-3087-4490-b550-6be9ae6dbe9a:group-536729B66335 ConfigurationManager, init=-1: [], old=null, confs=<EMPTY_MAP>
2019-09-04 07:46:00,298 [main] WARN  http.HttpRequestLog (HttpRequestLog.java:getRequestLog(97)) - Jetty request log can only be enabled using Log4j
2019-09-04 07:46:00,298 [pool-42-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.storage.dir = [/workdir/hadoop-ozone/integration-test/target/test-dir/MiniOzoneClusterImpl-68751a6c-b5d9-4680-8ddd-dddd40b06685/datanode-0/data/ratis] (custom)
2019-09-04 07:46:00,300 [main] INFO  http.HttpServer2 (HttpServer2.java:addGlobalFilter(975)) - Added global filter 'safety' (class=org.apache.hadoop.http.HttpServer2$QuotingInputFilter)
2019-09-04 07:46:00,301 [main] INFO  http.HttpServer2 (HttpServer2.java:addFilter(948)) - Added filter static_user_filter (class=org.apache.hadoop.http.lib.StaticUserWebFilter$StaticUserFilter) to context hddsDatanode
2019-09-04 07:46:00,301 [main] INFO  http.HttpServer2 (HttpServer2.java:addFilter(958)) - Added filter static_user_filter (class=org.apache.hadoop.http.lib.StaticUserWebFilter$StaticUserFilter) to context logs
2019-09-04 07:46:00,302 [main] INFO  http.HttpServer2 (HttpServer2.java:addFilter(958)) - Added filter static_user_filter (class=org.apache.hadoop.http.lib.StaticUserWebFilter$StaticUserFilter) to context static
2019-09-04 07:46:00,303 [main] INFO  http.HttpServer2 (HttpServer2.java:bindListener(1191)) - Jetty bound to port 39773
2019-09-04 07:46:00,303 [main] INFO  server.Server (Server.java:doStart(351)) - jetty-9.3.24.v20180605, build timestamp: 2018-06-05T17:11:56Z, git hash: 84205aa28f11a4f31f2a3b86d1bba2cc8ab69827
2019-09-04 07:46:00,305 [main] INFO  handler.ContextHandler (ContextHandler.java:doStart(781)) - Started o.e.j.s.ServletContextHandler@4ef18604{/logs,file:///workdir/hadoop-ozone/integration-test/target/log,AVAILABLE}
2019-09-04 07:46:00,306 [main] INFO  handler.ContextHandler (ContextHandler.java:doStart(781)) - Started o.e.j.s.ServletContextHandler@16cf8438{/static,jar:file:/home/user/.m2/repository/org/apache/hadoop/hadoop-hdds-container-service/0.5.0-SNAPSHOT/hadoop-hdds-container-service-0.5.0-SNAPSHOT.jar!/webapps/static,AVAILABLE}
2019-09-04 07:46:00,322 [pool-42-thread-1] INFO  storage.RaftStorageDirectory (RaftStorageDirectory.java:tryLock(328)) - Lock on /workdir/hadoop-ozone/integration-test/target/test-dir/MiniOzoneClusterImpl-68751a6c-b5d9-4680-8ddd-dddd40b06685/datanode-0/data/ratis/5ed62a70-e574-47da-bd58-536729b66335/in_use.lock acquired by nodename 1142@pr-hdds-1569-tfczc-1762686928
2019-09-04 07:46:00,326 [pool-42-thread-1] INFO  ratis.ContainerStateMachine (ContainerStateMachine.java:loadSnapshot(235)) - group-536729B66335: Setting the last applied index to (t:1, i:4)
2019-09-04 07:46:00,329 [pool-42-thread-1] INFO  impl.RaftServerImpl (ServerState.java:setRaftConf(361)) - 4e694486-3087-4490-b550-6be9ae6dbe9a:group-536729B66335 set configuration 0: [4e694486-3087-4490-b550-6be9ae6dbe9a:192.168.34.9:39640], old=null at 0
2019-09-04 07:46:00,329 [pool-42-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.leader.election.timeout = 120s (custom)
2019-09-04 07:46:00,329 [pool-42-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.log.use.memory = false (default)
2019-09-04 07:46:00,330 [pool-42-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.log.purge.gap = 1000000 (custom)
2019-09-04 07:46:00,330 [pool-42-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.log.appender.buffer.byte-limit = 33554432 (custom)
2019-09-04 07:46:00,330 [pool-42-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.log.segment.size.max = 1048576 (custom)
2019-09-04 07:46:00,330 [pool-42-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.log.segment.cache.num.max = 2 (custom)
2019-09-04 07:46:00,330 [pool-42-thread-1] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:<init>(172)) - new 4e694486-3087-4490-b550-6be9ae6dbe9a-SegmentedRaftLogWorker:Storage Directory /workdir/hadoop-ozone/integration-test/target/test-dir/MiniOzoneClusterImpl-68751a6c-b5d9-4680-8ddd-dddd40b06685/datanode-0/data/ratis/5ed62a70-e574-47da-bd58-536729b66335 for RaftStorage:Storage Directory /workdir/hadoop-ozone/integration-test/target/test-dir/MiniOzoneClusterImpl-68751a6c-b5d9-4680-8ddd-dddd40b06685/datanode-0/data/ratis/5ed62a70-e574-47da-bd58-536729b66335
2019-09-04 07:46:00,330 [pool-42-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.log.queue.byte-limit = 2147483647 (custom)
2019-09-04 07:46:00,330 [pool-42-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.log.queue.element-limit = 1024 (custom)
2019-09-04 07:46:00,331 [pool-42-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.log.segment.size.max = 1048576 (custom)
2019-09-04 07:46:00,331 [pool-42-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.log.preallocated.size = 16384 (custom)
2019-09-04 07:46:00,331 [pool-42-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.log.write.buffer.size = 33554432 (custom)
2019-09-04 07:46:00,331 [pool-42-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.log.force.sync.num = 128 (default)
2019-09-04 07:46:00,331 [pool-42-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.log.statemachine.data.sync = true (default)
2019-09-04 07:46:00,331 [pool-42-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.log.statemachine.data.sync.timeout = 10s (default)
2019-09-04 07:46:00,331 [pool-42-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.log.statemachine.data.sync.timeout.retry = -1 (default)
2019-09-04 07:46:00,331 [pool-42-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.log.statemachine.data.caching.enabled = true (custom)
2019-09-04 07:46:00,337 [pool-42-thread-1] INFO  impl.RaftServerImpl (ServerState.java:setRaftConf(361)) - 4e694486-3087-4490-b550-6be9ae6dbe9a:group-536729B66335 set configuration 0: [4e694486-3087-4490-b550-6be9ae6dbe9a:192.168.34.9:39640], old=null at 0
2019-09-04 07:46:00,338 [pool-42-thread-1] INFO  segmented.LogSegment (LogSegment.java:loadSegment(145)) - Successfully read 5 entries from segment file /workdir/hadoop-ozone/integration-test/target/test-dir/MiniOzoneClusterImpl-68751a6c-b5d9-4680-8ddd-dddd40b06685/datanode-0/data/ratis/5ed62a70-e574-47da-bd58-536729b66335/current/log_inprogress_0
2019-09-04 07:46:00,338 [pool-42-thread-1] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:lambda$new$0(132)) - 4e694486-3087-4490-b550-6be9ae6dbe9a-SegmentedRaftLogWorker:Storage Directory /workdir/hadoop-ozone/integration-test/target/test-dir/MiniOzoneClusterImpl-68751a6c-b5d9-4680-8ddd-dddd40b06685/datanode-0/data/ratis/5ed62a70-e574-47da-bd58-536729b66335: flushIndex: setUnconditionally 0 -> 4
2019-09-04 07:46:00,344 [main] INFO  handler.ContextHandler (ContextHandler.java:doStart(781)) - Started o.e.j.w.WebAppContext@6b2fdffc{/,file:///tmp/jetty-0.0.0.0-39773-hddsDatanode-_-any-5619321306457303168.dir/webapp/,AVAILABLE}{/hddsDatanode}
2019-09-04 07:46:00,365 [main] INFO  server.AbstractConnector (AbstractConnector.java:doStart(278)) - Started ServerConnector@2ca3d826{HTTP/1.1,[http/1.1]}{0.0.0.0:39773}
2019-09-04 07:46:00,366 [main] INFO  server.Server (Server.java:doStart(419)) - Started @41967ms
2019-09-04 07:46:00,367 [pool-42-thread-1] INFO  raftlog.RaftLog (RaftLog.java:lambda$new$0(62)) - 4e694486-3087-4490-b550-6be9ae6dbe9a: commitIndex: updateToMax old=4, new=3, updated? false
2019-09-04 07:46:00,367 [main] INFO  server.BaseHttpServer (BaseHttpServer.java:updateConnectorAddress(213)) - HTTP server of HDDSDATANODE is listening at http://0.0.0.0:39773
2019-09-04 07:46:00,367 [pool-42-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.snapshot.auto.trigger.enabled = true (custom)
2019-09-04 07:46:00,367 [pool-42-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.snapshot.auto.trigger.threshold = 1 (custom)
2019-09-04 07:46:00,368 [pool-42-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.retrycache.expirytime = 600000ms (custom)
Sep 04, 2019 7:46:00 AM com.sun.jersey.server.impl.application.WebApplicationImpl _initiate
INFO: Initiating Jersey application, version 'Jersey: 1.19 02/11/2015 03:25 AM'
2019-09-04 07:46:00,613 | INFO  | ObjectStoreRestHttpServer | Listening HDDS REST traffic on /0.0.0.0:33247 |  
2019-09-04 07:46:00,613 [main] INFO  ozone.HddsDatanodeService (HddsDatanodeService.java:startPlugins(395)) - Started plug-in org.apache.hadoop.ozone.web.OzoneHddsDatanodeService@79ca7bea
2019-09-04 07:46:00,614 [main] INFO  ozone.MiniOzoneClusterImpl (MiniOzoneClusterImpl.java:lambda$waitForClusterToBeReady$0(142)) - Waiting for cluster to be ready. Got 0 of 1 DN Heartbeats.
2019-09-04 07:46:00,616 [org.apache.hadoop.util.JvmPauseMonitor$Monitor@4ba339b7] INFO  util.JvmPauseMonitor (JvmPauseMonitor.java:run(188)) - Starting JVM pause monitor
2019-09-04 07:46:01,614 [main] INFO  ozone.MiniOzoneClusterImpl (MiniOzoneClusterImpl.java:lambda$waitForClusterToBeReady$0(142)) - Waiting for cluster to be ready. Got 0 of 1 DN Heartbeats.
2019-09-04 07:46:02,615 [main] INFO  ozone.MiniOzoneClusterImpl (MiniOzoneClusterImpl.java:lambda$waitForClusterToBeReady$0(142)) - Waiting for cluster to be ready. Got 0 of 1 DN Heartbeats.
2019-09-04 07:46:02,618 | INFO  | SCMAudit | user=jenkins1000 | ip=192.168.34.9 | op=GET_VERSION null | ret=SUCCESS |  
2019-09-04 07:46:02,619 [Datanode State Machine Thread - 0] INFO  ozoneimpl.OzoneContainer (OzoneContainer.java:start(186)) - Attempting to start container services.
2019-09-04 07:46:02,619 [Datanode State Machine Thread - 0] INFO  ozoneimpl.OzoneContainer (OzoneContainer.java:startContainerScrub(160)) - Background container scrubber has been disabled by hdds.containerscrub.enabled
2019-09-04 07:46:02,620 [Datanode State Machine Thread - 0] INFO  ratis.XceiverServerRatis (XceiverServerRatis.java:start(404)) - Starting XceiverServerRatis 4e694486-3087-4490-b550-6be9ae6dbe9a at port 39640
2019-09-04 07:46:02,632 [Datanode State Machine Thread - 0] INFO  impl.RaftServerImpl (RaftServerImpl.java:start(180)) - 4e694486-3087-4490-b550-6be9ae6dbe9a: start group-536729B66335
2019-09-04 07:46:02,633 [Datanode State Machine Thread - 0] INFO  impl.RaftServerImpl (RaftServerImpl.java:setRole(171)) - 4e694486-3087-4490-b550-6be9ae6dbe9a:group-536729B66335 changes role from null to FOLLOWER at term 1 for startAsFollower
2019-09-04 07:46:02,633 [Datanode State Machine Thread - 0] INFO  impl.RoleInfo (RoleInfo.java:updateAndGet(143)) - 4e694486-3087-4490-b550-6be9ae6dbe9a: start FollowerState
2019-09-04 07:46:02,634 [Datanode State Machine Thread - 0] INFO  util.JmxRegister (JmxRegister.java:tryRegister(44)) - Successfully registered JMX Bean with object name Ratis:service=RaftServer,group=group-536729B66335,id=4e694486-3087-4490-b550-6be9ae6dbe9a
2019-09-04 07:46:02,635 [Datanode State Machine Thread - 0] INFO  impl.RaftServerProxy (RaftServerProxy.java:lambda$start$3(299)) - 4e694486-3087-4490-b550-6be9ae6dbe9a: start RPC server
2019-09-04 07:46:02,638 [Datanode State Machine Thread - 0] INFO  server.GrpcService (GrpcService.java:startImpl(149)) - 4e694486-3087-4490-b550-6be9ae6dbe9a: GrpcService started, listening on 0.0.0.0/0.0.0.0:39640
2019-09-04 07:46:03,615 [main] INFO  ozone.MiniOzoneClusterImpl (MiniOzoneClusterImpl.java:lambda$waitForClusterToBeReady$0(142)) - Waiting for cluster to be ready. Got 0 of 1 DN Heartbeats.
2019-09-04 07:46:04,616 [main] INFO  ozone.MiniOzoneClusterImpl (MiniOzoneClusterImpl.java:lambda$waitForClusterToBeReady$0(142)) - Waiting for cluster to be ready. Got 0 of 1 DN Heartbeats.
2019-09-04 07:46:04,622 | INFO  | SCMAudit | user=jenkins1000 | ip=192.168.34.9 | op=REGISTER {datanodeDetails=4e694486-3087-4490-b550-6be9ae6dbe9a{ip: 192.168.34.9, host: pr-hdds-1569-tfczc-1762686928, networkLocation: /default-rack, certSerialId: null}} | ret=SUCCESS |  
2019-09-04 07:46:05,617 [main] INFO  ozone.MiniOzoneClusterImpl (MiniOzoneClusterImpl.java:lambda$waitForClusterToBeReady$0(142)) - Waiting for cluster to be ready. Got 0 of 1 DN Heartbeats.
2019-09-04 07:46:06,617 [main] INFO  ozone.MiniOzoneClusterImpl (MiniOzoneClusterImpl.java:lambda$waitForClusterToBeReady$0(142)) - Waiting for cluster to be ready. Got 0 of 1 DN Heartbeats.
2019-09-04 07:46:06,619 | INFO  | SCMAudit | user=jenkins1000 | ip=192.168.34.9 | op=SEND_HEARTBEAT {datanodeUUID=4e694486-3087-4490-b550-6be9ae6dbe9a, command=[commandType: closeContainerCommand closeContainerCommandProto { containerID: 2 pipelineID { id: "5ed62a70-e574-47da-bd58-536729b66335" } cmdId: 2 force: false } ]} | ret=SUCCESS |  
2019-09-04 07:46:06,690 [grpc-default-executor-0] INFO  impl.RaftServerProxy (RaftServerProxy.java:addNew(89)) - 4e694486-3087-4490-b550-6be9ae6dbe9a: addNew group-17DD85CE7584:[4e694486-3087-4490-b550-6be9ae6dbe9a:192.168.34.9:39640] returns group-17DD85CE7584:java.util.concurrent.CompletableFuture@2ef8fd0a[Not completed]
2019-09-04 07:46:06,692 [pool-42-thread-1] INFO  impl.RaftServerImpl (RaftServerImpl.java:<init>(93)) - 4e694486-3087-4490-b550-6be9ae6dbe9a: new RaftServerImpl for group-17DD85CE7584:[4e694486-3087-4490-b550-6be9ae6dbe9a:192.168.34.9:39640] with ContainerStateMachine:uninitialized
2019-09-04 07:46:06,692 [pool-42-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.rpc.timeout.min = 5s (custom)
2019-09-04 07:46:06,692 [pool-42-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.rpc.timeout.max = 5200ms (custom)
2019-09-04 07:46:06,692 [pool-42-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.rpcslowness.timeout = 120s (custom)
2019-09-04 07:46:06,693 [pool-42-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.sleep.deviation.threshold = 300 (default)
2019-09-04 07:46:06,693 [pool-42-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.log.appender.install.snapshot.enabled = false (custom)
2019-09-04 07:46:06,693 [pool-42-thread-1] INFO  impl.RaftServerImpl (ServerState.java:<init>(105)) - 4e694486-3087-4490-b550-6be9ae6dbe9a:group-17DD85CE7584 ConfigurationManager, init=-1: [4e694486-3087-4490-b550-6be9ae6dbe9a:192.168.34.9:39640], old=null, confs=<EMPTY_MAP>
2019-09-04 07:46:06,693 [pool-42-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.storage.dir = [/workdir/hadoop-ozone/integration-test/target/test-dir/MiniOzoneClusterImpl-68751a6c-b5d9-4680-8ddd-dddd40b06685/datanode-0/data/ratis] (custom)
2019-09-04 07:46:06,693 [pool-42-thread-1] INFO  storage.RaftStorageDirectory (RaftStorageDirectory.java:analyzeStorage(246)) - The storage directory /workdir/hadoop-ozone/integration-test/target/test-dir/MiniOzoneClusterImpl-68751a6c-b5d9-4680-8ddd-dddd40b06685/datanode-0/data/ratis/2ea89166-e2d2-47e2-ae8f-17dd85ce7584 does not exist. Creating ...
2019-09-04 07:46:06,706 [pool-42-thread-1] INFO  storage.RaftStorageDirectory (RaftStorageDirectory.java:tryLock(328)) - Lock on /workdir/hadoop-ozone/integration-test/target/test-dir/MiniOzoneClusterImpl-68751a6c-b5d9-4680-8ddd-dddd40b06685/datanode-0/data/ratis/2ea89166-e2d2-47e2-ae8f-17dd85ce7584/in_use.lock acquired by nodename 1142@pr-hdds-1569-tfczc-1762686928
2019-09-04 07:46:06,719 [pool-42-thread-1] INFO  storage.RaftStorage (RaftStorage.java:format(72)) - Storage directory /workdir/hadoop-ozone/integration-test/target/test-dir/MiniOzoneClusterImpl-68751a6c-b5d9-4680-8ddd-dddd40b06685/datanode-0/data/ratis/2ea89166-e2d2-47e2-ae8f-17dd85ce7584 has been successfully formatted.
2019-09-04 07:46:06,720 [pool-42-thread-1] INFO  ratis.ContainerStateMachine (ContainerStateMachine.java:loadSnapshot(226)) - group-17DD85CE7584: The snapshot info is null. Setting the last applied indexto:(t:0, i:~)
2019-09-04 07:46:06,720 [pool-42-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.leader.election.timeout = 120s (custom)
2019-09-04 07:46:06,721 [pool-42-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.log.use.memory = false (default)
2019-09-04 07:46:06,721 [pool-42-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.log.purge.gap = 1000000 (custom)
2019-09-04 07:46:06,721 [pool-42-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.log.appender.buffer.byte-limit = 33554432 (custom)
2019-09-04 07:46:06,721 [pool-42-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.log.segment.size.max = 1048576 (custom)
2019-09-04 07:46:06,721 [pool-42-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.log.segment.cache.num.max = 2 (custom)
2019-09-04 07:46:06,721 [pool-42-thread-1] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:<init>(172)) - new 4e694486-3087-4490-b550-6be9ae6dbe9a-SegmentedRaftLogWorker:Storage Directory /workdir/hadoop-ozone/integration-test/target/test-dir/MiniOzoneClusterImpl-68751a6c-b5d9-4680-8ddd-dddd40b06685/datanode-0/data/ratis/2ea89166-e2d2-47e2-ae8f-17dd85ce7584 for RaftStorage:Storage Directory /workdir/hadoop-ozone/integration-test/target/test-dir/MiniOzoneClusterImpl-68751a6c-b5d9-4680-8ddd-dddd40b06685/datanode-0/data/ratis/2ea89166-e2d2-47e2-ae8f-17dd85ce7584
2019-09-04 07:46:06,721 [pool-42-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.log.queue.byte-limit = 2147483647 (custom)
2019-09-04 07:46:06,722 [pool-42-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.log.queue.element-limit = 1024 (custom)
2019-09-04 07:46:06,722 [pool-42-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.log.segment.size.max = 1048576 (custom)
2019-09-04 07:46:06,722 [pool-42-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.log.preallocated.size = 16384 (custom)
2019-09-04 07:46:06,722 [pool-42-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.log.write.buffer.size = 33554432 (custom)
2019-09-04 07:46:06,722 [pool-42-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.log.force.sync.num = 128 (default)
2019-09-04 07:46:06,722 [pool-42-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.log.statemachine.data.sync = true (default)
2019-09-04 07:46:06,722 [pool-42-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.log.statemachine.data.sync.timeout = 10s (default)
2019-09-04 07:46:06,723 [pool-42-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.log.statemachine.data.sync.timeout.retry = -1 (default)
2019-09-04 07:46:06,723 [pool-42-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.log.statemachine.data.caching.enabled = true (custom)
2019-09-04 07:46:06,723 [pool-42-thread-1] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:lambda$new$0(132)) - 4e694486-3087-4490-b550-6be9ae6dbe9a-SegmentedRaftLogWorker:Storage Directory /workdir/hadoop-ozone/integration-test/target/test-dir/MiniOzoneClusterImpl-68751a6c-b5d9-4680-8ddd-dddd40b06685/datanode-0/data/ratis/2ea89166-e2d2-47e2-ae8f-17dd85ce7584: flushIndex: setUnconditionally 0 -> -1
2019-09-04 07:46:06,723 [pool-42-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.snapshot.auto.trigger.enabled = true (custom)
2019-09-04 07:46:06,724 [pool-42-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.snapshot.auto.trigger.threshold = 1 (custom)
2019-09-04 07:46:06,724 [pool-42-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.retrycache.expirytime = 600000ms (custom)
2019-09-04 07:46:06,724 [pool-42-thread-1] INFO  impl.RaftServerImpl (RaftServerImpl.java:start(180)) - 4e694486-3087-4490-b550-6be9ae6dbe9a: start group-17DD85CE7584
2019-09-04 07:46:06,724 [pool-42-thread-1] INFO  impl.RaftServerImpl (RaftServerImpl.java:setRole(171)) - 4e694486-3087-4490-b550-6be9ae6dbe9a:group-17DD85CE7584 changes role from null to FOLLOWER at term 0 for startAsFollower
2019-09-04 07:46:06,724 [pool-42-thread-1] INFO  impl.RoleInfo (RoleInfo.java:updateAndGet(143)) - 4e694486-3087-4490-b550-6be9ae6dbe9a: start FollowerState
2019-09-04 07:46:06,725 [pool-42-thread-1] INFO  util.JmxRegister (JmxRegister.java:tryRegister(44)) - Successfully registered JMX Bean with object name Ratis:service=RaftServer,group=group-17DD85CE7584,id=4e694486-3087-4490-b550-6be9ae6dbe9a
2019-09-04 07:46:06,732 [RatisPipelineUtilsThread] INFO  pipeline.PipelineStateManager (PipelineStateManager.java:addPipeline(56)) - Created pipeline Pipeline[ Id: 2ea89166-e2d2-47e2-ae8f-17dd85ce7584, Nodes: 4e694486-3087-4490-b550-6be9ae6dbe9a{ip: 192.168.34.9, host: pr-hdds-1569-tfczc-1762686928, networkLocation: /default-rack, certSerialId: null}, Type:RATIS, Factor:ONE, State:OPEN]
2019-09-04 07:46:06,818 | INFO  | SCMAudit | user=jenkins1000 | ip=192.168.34.9 | op=SEND_HEARTBEAT {datanodeUUID=4e694486-3087-4490-b550-6be9ae6dbe9a, command=[]} | ret=SUCCESS |  
2019-09-04 07:46:07,017 | INFO  | SCMAudit | user=jenkins1000 | ip=192.168.34.9 | op=SEND_HEARTBEAT {datanodeUUID=4e694486-3087-4490-b550-6be9ae6dbe9a, command=[]} | ret=SUCCESS |  
2019-09-04 07:46:07,219 | INFO  | SCMAudit | user=jenkins1000 | ip=192.168.34.9 | op=SEND_HEARTBEAT {datanodeUUID=4e694486-3087-4490-b550-6be9ae6dbe9a, command=[]} | ret=SUCCESS |  
2019-09-04 07:46:07,418 | INFO  | SCMAudit | user=jenkins1000 | ip=192.168.34.9 | op=SEND_HEARTBEAT {datanodeUUID=4e694486-3087-4490-b550-6be9ae6dbe9a, command=[]} | ret=SUCCESS |  
2019-09-04 07:46:07,618 [main] INFO  ozone.MiniOzoneClusterImpl (MiniOzoneClusterImpl.java:lambda$waitForClusterToBeReady$0(142)) - Cluster is ready. Got 1 of 1 DN Heartbeats.
2019-09-04 07:46:07,618 | INFO  | SCMAudit | user=jenkins1000 | ip=192.168.34.9 | op=SEND_HEARTBEAT {datanodeUUID=4e694486-3087-4490-b550-6be9ae6dbe9a, command=[]} | ret=SUCCESS |  
2019-09-04 07:46:07,624 | INFO  | OMAudit | user=jenkins1000 | ip=127.0.0.1 | op=READ_VOLUME {volume=testcontainerstatemachinefailures} | ret=SUCCESS |  
2019-09-04 07:46:07,627 | INFO  | OMAudit | user=jenkins1000 | ip=127.0.0.1 | op=READ_BUCKET {volume=testcontainerstatemachinefailures, bucket=testcontainerstatemachinefailures} | ret=SUCCESS |  
2019-09-04 07:46:07,630 | INFO  | SCMAudit | user=jenkins1000 | ip=192.168.34.9 | op=SEND_HEARTBEAT {datanodeUUID=4e694486-3087-4490-b550-6be9ae6dbe9a, command=[]} | ret=SUCCESS |  
2019-09-04 07:46:07,636 | INFO  | SCMAudit | user=jenkins1000 | ip=192.168.34.9 | op=ALLOCATE_BLOCK {owner=78347fbe-7996-4dab-804b-219b00c6dd73, size=4194304, type=RATIS, factor=ONE} | ret=SUCCESS |  
2019-09-04 07:46:07,637 | INFO  | OMAudit | user=jenkins1000 | ip=127.0.0.1 | op=ALLOCATE_KEY {volume=testcontainerstatemachinefailures, bucket=testcontainerstatemachinefailures, key=ratis, dataSize=1024, replicationType=RATIS, replicationFactor=ONE, keyLocationInfo=null} | ret=SUCCESS |  
2019-09-04 07:46:07,654 [grpc-default-executor-0] INFO  client.GrpcClientProtocolClient (GrpcClientProtocolClient.java:onNext(255)) - client-58B71BE8F634->4e694486-3087-4490-b550-6be9ae6dbe9a: receive RaftClientReply:client-58B71BE8F634->4e694486-3087-4490-b550-6be9ae6dbe9a@group-17DD85CE7584, cid=11, FAILED org.apache.ratis.protocol.NotLeaderException: Server 4e694486-3087-4490-b550-6be9ae6dbe9a is not the leader (null). Request must be sent to leader., logIndex=0, commits[4e694486-3087-4490-b550-6be9ae6dbe9a:c-1]
2019-09-04 07:46:07,784 [Thread-230] INFO  impl.FollowerState (FollowerState.java:run(106)) - 4e694486-3087-4490-b550-6be9ae6dbe9a:group-536729B66335 changes to CANDIDATE, lastRpcTime:5150, electionTimeout:5150ms
2019-09-04 07:46:07,784 [Thread-230] INFO  impl.RoleInfo (RoleInfo.java:shutdownFollowerState(121)) - 4e694486-3087-4490-b550-6be9ae6dbe9a: shutdown FollowerState
2019-09-04 07:46:07,784 [Thread-230] INFO  impl.RaftServerImpl (RaftServerImpl.java:setRole(171)) - 4e694486-3087-4490-b550-6be9ae6dbe9a:group-536729B66335 changes role from FOLLOWER to CANDIDATE at term 1 for changeToCandidate
2019-09-04 07:46:07,784 [Thread-230] INFO  impl.RoleInfo (RoleInfo.java:updateAndGet(143)) - 4e694486-3087-4490-b550-6be9ae6dbe9a: start LeaderElection
2019-09-04 07:46:07,811 [4e694486-3087-4490-b550-6be9ae6dbe9a:group-536729B66335:LeaderElection3] INFO  impl.LeaderElection (LeaderElection.java:askForVotes(181)) - 4e694486-3087-4490-b550-6be9ae6dbe9a:group-536729B66335:LeaderElection3: begin an election at term 2 for 0: [4e694486-3087-4490-b550-6be9ae6dbe9a:192.168.34.9:39640], old=null
2019-09-04 07:46:07,812 [4e694486-3087-4490-b550-6be9ae6dbe9a:group-536729B66335:LeaderElection3] INFO  impl.RoleInfo (RoleInfo.java:shutdownLeaderElection(134)) - 4e694486-3087-4490-b550-6be9ae6dbe9a: shutdown LeaderElection
2019-09-04 07:46:07,812 [4e694486-3087-4490-b550-6be9ae6dbe9a:group-536729B66335:LeaderElection3] INFO  impl.RaftServerImpl (RaftServerImpl.java:setRole(171)) - 4e694486-3087-4490-b550-6be9ae6dbe9a:group-536729B66335 changes role from CANDIDATE to LEADER at term 2 for changeToLeader
2019-09-04 07:46:07,812 [4e694486-3087-4490-b550-6be9ae6dbe9a:group-536729B66335:LeaderElection3] INFO  impl.RaftServerImpl (ServerState.java:setLeader(263)) - 4e694486-3087-4490-b550-6be9ae6dbe9a:group-536729B66335 change Leader from null to 4e694486-3087-4490-b550-6be9ae6dbe9a at term 2 for becomeLeader, leader elected after 7483ms
2019-09-04 07:46:07,813 [4e694486-3087-4490-b550-6be9ae6dbe9a:group-536729B66335:LeaderElection3] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.staging.catchup.gap = 1000 (default)
2019-09-04 07:46:07,813 [4e694486-3087-4490-b550-6be9ae6dbe9a:group-536729B66335:LeaderElection3] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.rpc.sleep.time = 25ms (default)
2019-09-04 07:46:07,813 [4e694486-3087-4490-b550-6be9ae6dbe9a:group-536729B66335:LeaderElection3] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.write.element-limit = 4096 (default)
2019-09-04 07:46:07,813 [4e694486-3087-4490-b550-6be9ae6dbe9a:group-536729B66335:LeaderElection3] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.watch.timeout = 10s (default)
2019-09-04 07:46:07,813 [4e694486-3087-4490-b550-6be9ae6dbe9a:group-536729B66335:LeaderElection3] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.watch.timeout.denomination = 1s (default)
2019-09-04 07:46:07,813 [4e694486-3087-4490-b550-6be9ae6dbe9a:group-536729B66335:LeaderElection3] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.watch.element-limit = 65536 (default)
2019-09-04 07:46:07,814 [4e694486-3087-4490-b550-6be9ae6dbe9a:group-536729B66335:LeaderElection3] INFO  impl.RoleInfo (RoleInfo.java:updateAndGet(143)) - 4e694486-3087-4490-b550-6be9ae6dbe9a: start LeaderState
2019-09-04 07:46:07,814 [4e694486-3087-4490-b550-6be9ae6dbe9a:group-536729B66335:LeaderElection3] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:rollLogSegment(385)) - 4e694486-3087-4490-b550-6be9ae6dbe9a-SegmentedRaftLogWorker:Storage Directory /workdir/hadoop-ozone/integration-test/target/test-dir/MiniOzoneClusterImpl-68751a6c-b5d9-4680-8ddd-dddd40b06685/datanode-0/data/ratis/5ed62a70-e574-47da-bd58-536729b66335: Rolling segment log-0_4 to index:4
2019-09-04 07:46:07,817 [4e694486-3087-4490-b550-6be9ae6dbe9a:group-536729B66335:LeaderElection3] INFO  impl.RaftServerImpl (ServerState.java:setRaftConf(361)) - 4e694486-3087-4490-b550-6be9ae6dbe9a:group-536729B66335 set configuration 5: [4e694486-3087-4490-b550-6be9ae6dbe9a:192.168.34.9:39640], old=null at 5
2019-09-04 07:46:07,819 [4e694486-3087-4490-b550-6be9ae6dbe9a-SegmentedRaftLogWorker:Storage Directory /workdir/hadoop-ozone/integration-test/target/test-dir/MiniOzoneClusterImpl-68751a6c-b5d9-4680-8ddd-dddd40b06685/datanode-0/data/ratis/5ed62a70-e574-47da-bd58-536729b66335] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:execute(526)) - 4e694486-3087-4490-b550-6be9ae6dbe9a-SegmentedRaftLogWorker:Storage Directory /workdir/hadoop-ozone/integration-test/target/test-dir/MiniOzoneClusterImpl-68751a6c-b5d9-4680-8ddd-dddd40b06685/datanode-0/data/ratis/5ed62a70-e574-47da-bd58-536729b66335: Rolled log segment from /workdir/hadoop-ozone/integration-test/target/test-dir/MiniOzoneClusterImpl-68751a6c-b5d9-4680-8ddd-dddd40b06685/datanode-0/data/ratis/5ed62a70-e574-47da-bd58-536729b66335/current/log_inprogress_0 to /workdir/hadoop-ozone/integration-test/target/test-dir/MiniOzoneClusterImpl-68751a6c-b5d9-4680-8ddd-dddd40b06685/datanode-0/data/ratis/5ed62a70-e574-47da-bd58-536729b66335/current/log_0-4
2019-09-04 07:46:07,856 | INFO  | SCMAudit | user=jenkins1000 | ip=192.168.34.9 | op=SEND_HEARTBEAT {datanodeUUID=4e694486-3087-4490-b550-6be9ae6dbe9a, command=[]} | ret=SUCCESS |  
2019-09-04 07:46:07,878 [4e694486-3087-4490-b550-6be9ae6dbe9a-SegmentedRaftLogWorker:Storage Directory /workdir/hadoop-ozone/integration-test/target/test-dir/MiniOzoneClusterImpl-68751a6c-b5d9-4680-8ddd-dddd40b06685/datanode-0/data/ratis/5ed62a70-e574-47da-bd58-536729b66335] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:execute(569)) - 4e694486-3087-4490-b550-6be9ae6dbe9a-SegmentedRaftLogWorker:Storage Directory /workdir/hadoop-ozone/integration-test/target/test-dir/MiniOzoneClusterImpl-68751a6c-b5d9-4680-8ddd-dddd40b06685/datanode-0/data/ratis/5ed62a70-e574-47da-bd58-536729b66335: created new log segment /workdir/hadoop-ozone/integration-test/target/test-dir/MiniOzoneClusterImpl-68751a6c-b5d9-4680-8ddd-dddd40b06685/datanode-0/data/ratis/5ed62a70-e574-47da-bd58-536729b66335/current/log_inprogress_5
2019-09-04 07:46:07,890 [StateMachineUpdater:4e694486-3087-4490-b550-6be9ae6dbe9a:group-536729B66335] INFO  ratis.ContainerStateMachine (ContainerStateMachine.java:takeSnapshot(283)) - group-536729B66335: Taking a snapshot at:(t:1, i:4) file /workdir/hadoop-ozone/integration-test/target/test-dir/MiniOzoneClusterImpl-68751a6c-b5d9-4680-8ddd-dddd40b06685/datanode-0/data/ratis/5ed62a70-e574-47da-bd58-536729b66335/sm/snapshot.1_4
2019-09-04 07:46:07,896 [StateMachineUpdater:4e694486-3087-4490-b550-6be9ae6dbe9a:group-536729B66335] INFO  ratis.ContainerStateMachine (ContainerStateMachine.java:takeSnapshot(294)) - group-536729B66335: Finished taking a snapshot at:(t:1, i:4) file:/workdir/hadoop-ozone/integration-test/target/test-dir/MiniOzoneClusterImpl-68751a6c-b5d9-4680-8ddd-dddd40b06685/datanode-0/data/ratis/5ed62a70-e574-47da-bd58-536729b66335/sm/snapshot.1_4 time:6
2019-09-04 07:46:07,897 [StateMachineUpdater:4e694486-3087-4490-b550-6be9ae6dbe9a:group-536729B66335] INFO  impl.StateMachineUpdater (StateMachineUpdater.java:takeSnapshot(242)) - StateMachineUpdater:4e694486-3087-4490-b550-6be9ae6dbe9a:group-536729B66335: Took a snapshot at index 4
2019-09-04 07:46:07,897 [StateMachineUpdater:4e694486-3087-4490-b550-6be9ae6dbe9a:group-536729B66335] INFO  impl.StateMachineUpdater (StateMachineUpdater.java:lambda$new$0(80)) - StateMachineUpdater:4e694486-3087-4490-b550-6be9ae6dbe9a:group-536729B66335: snapshotIndex: updateIncreasingly 4 -> 4
2019-09-04 07:46:07,901 [StateMachineUpdater:4e694486-3087-4490-b550-6be9ae6dbe9a:group-536729B66335] INFO  ratis.ContainerStateMachine (ContainerStateMachine.java:takeSnapshot(283)) - group-536729B66335: Taking a snapshot at:(t:1, i:4) file /workdir/hadoop-ozone/integration-test/target/test-dir/MiniOzoneClusterImpl-68751a6c-b5d9-4680-8ddd-dddd40b06685/datanode-0/data/ratis/5ed62a70-e574-47da-bd58-536729b66335/sm/snapshot.1_4
2019-09-04 07:46:07,912 [StateMachineUpdater:4e694486-3087-4490-b550-6be9ae6dbe9a:group-536729B66335] INFO  ratis.ContainerStateMachine (ContainerStateMachine.java:takeSnapshot(294)) - group-536729B66335: Finished taking a snapshot at:(t:1, i:4) file:/workdir/hadoop-ozone/integration-test/target/test-dir/MiniOzoneClusterImpl-68751a6c-b5d9-4680-8ddd-dddd40b06685/datanode-0/data/ratis/5ed62a70-e574-47da-bd58-536729b66335/sm/snapshot.1_4 time:11
2019-09-04 07:46:07,912 [StateMachineUpdater:4e694486-3087-4490-b550-6be9ae6dbe9a:group-536729B66335] INFO  impl.StateMachineUpdater (StateMachineUpdater.java:takeSnapshot(242)) - StateMachineUpdater:4e694486-3087-4490-b550-6be9ae6dbe9a:group-536729B66335: Took a snapshot at index 4
2019-09-04 07:46:07,912 [StateMachineUpdater:4e694486-3087-4490-b550-6be9ae6dbe9a:group-536729B66335] INFO  impl.StateMachineUpdater (StateMachineUpdater.java:lambda$new$0(80)) - StateMachineUpdater:4e694486-3087-4490-b550-6be9ae6dbe9a:group-536729B66335: snapshotIndex: updateIncreasingly 4 -> 4
2019-09-04 07:46:07,955 [grpc-default-executor-0] INFO  impl.RaftServerProxy (RaftServerProxy.java:remove(95)) - 4e694486-3087-4490-b550-6be9ae6dbe9a: remove   LEADER group-536729B66335 4e694486-3087-4490-b550-6be9ae6dbe9a:t2, leader=4e694486-3087-4490-b550-6be9ae6dbe9a, voted=4e694486-3087-4490-b550-6be9ae6dbe9a, raftlog=4e694486-3087-4490-b550-6be9ae6dbe9a-SegmentedRaftLog:OPENED:c6,f6,i6, conf=5: [4e694486-3087-4490-b550-6be9ae6dbe9a:192.168.34.9:39640], old=null RUNNING
2019-09-04 07:46:07,958 [grpc-default-executor-0] INFO  impl.RaftServerImpl (RaftServerImpl.java:lambda$shutdown$3(245)) - 4e694486-3087-4490-b550-6be9ae6dbe9a: shutdown group-536729B66335
2019-09-04 07:46:07,958 [grpc-default-executor-0] INFO  util.JmxRegister (JmxRegister.java:unregister(73)) - Successfully un-registered JMX Bean with object name Ratis:service=RaftServer,group=group-536729B66335,id=4e694486-3087-4490-b550-6be9ae6dbe9a
2019-09-04 07:46:07,958 [grpc-default-executor-0] INFO  impl.RoleInfo (RoleInfo.java:shutdownLeaderState(104)) - 4e694486-3087-4490-b550-6be9ae6dbe9a: shutdown LeaderState
2019-09-04 07:46:07,959 [grpc-default-executor-0] INFO  impl.PendingRequests (PendingRequests.java:sendNotLeaderResponses(202)) - 4e694486-3087-4490-b550-6be9ae6dbe9a-PendingRequests: sendNotLeaderResponses
2019-09-04 07:46:07,962 [grpc-default-executor-0] INFO  impl.StateMachineUpdater (StateMachineUpdater.java:stopAndJoin(115)) - StateMachineUpdater:4e694486-3087-4490-b550-6be9ae6dbe9a:group-536729B66335: set stopIndex = 6
2019-09-04 07:46:07,962 [StateMachineUpdater:4e694486-3087-4490-b550-6be9ae6dbe9a:group-536729B66335] INFO  ratis.ContainerStateMachine (ContainerStateMachine.java:takeSnapshot(283)) - group-536729B66335: Taking a snapshot at:(t:1, i:4) file /workdir/hadoop-ozone/integration-test/target/test-dir/MiniOzoneClusterImpl-68751a6c-b5d9-4680-8ddd-dddd40b06685/datanode-0/data/ratis/5ed62a70-e574-47da-bd58-536729b66335/sm/snapshot.1_4
2019-09-04 07:46:07,985 [StateMachineUpdater:4e694486-3087-4490-b550-6be9ae6dbe9a:group-536729B66335] INFO  ratis.ContainerStateMachine (ContainerStateMachine.java:takeSnapshot(294)) - group-536729B66335: Finished taking a snapshot at:(t:1, i:4) file:/workdir/hadoop-ozone/integration-test/target/test-dir/MiniOzoneClusterImpl-68751a6c-b5d9-4680-8ddd-dddd40b06685/datanode-0/data/ratis/5ed62a70-e574-47da-bd58-536729b66335/sm/snapshot.1_4 time:24
2019-09-04 07:46:07,986 [StateMachineUpdater:4e694486-3087-4490-b550-6be9ae6dbe9a:group-536729B66335] INFO  impl.StateMachineUpdater (StateMachineUpdater.java:takeSnapshot(242)) - StateMachineUpdater:4e694486-3087-4490-b550-6be9ae6dbe9a:group-536729B66335: Took a snapshot at index 4
2019-09-04 07:46:07,986 [StateMachineUpdater:4e694486-3087-4490-b550-6be9ae6dbe9a:group-536729B66335] INFO  impl.StateMachineUpdater (StateMachineUpdater.java:lambda$new$0(80)) - StateMachineUpdater:4e694486-3087-4490-b550-6be9ae6dbe9a:group-536729B66335: snapshotIndex: updateIncreasingly 4 -> 4
2019-09-04 07:46:07,986 [grpc-default-executor-0] INFO  impl.RaftServerImpl (ServerState.java:close(394)) - 4e694486-3087-4490-b550-6be9ae6dbe9a:group-536729B66335 closes. The last applied log index is 6
2019-09-04 07:46:07,987 [4e694486-3087-4490-b550-6be9ae6dbe9a-SegmentedRaftLogWorker:Storage Directory /workdir/hadoop-ozone/integration-test/target/test-dir/MiniOzoneClusterImpl-68751a6c-b5d9-4680-8ddd-dddd40b06685/datanode-0/data/ratis/5ed62a70-e574-47da-bd58-536729b66335] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:run(313)) - 4e694486-3087-4490-b550-6be9ae6dbe9a-SegmentedRaftLogWorker:Storage Directory /workdir/hadoop-ozone/integration-test/target/test-dir/MiniOzoneClusterImpl-68751a6c-b5d9-4680-8ddd-dddd40b06685/datanode-0/data/ratis/5ed62a70-e574-47da-bd58-536729b66335 was interrupted, exiting. There are 0 tasks remaining in the queue.
2019-09-04 07:46:07,988 [grpc-default-executor-0] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:close(228)) - 4e694486-3087-4490-b550-6be9ae6dbe9a-SegmentedRaftLogWorker:Storage Directory /workdir/hadoop-ozone/integration-test/target/test-dir/MiniOzoneClusterImpl-68751a6c-b5d9-4680-8ddd-dddd40b06685/datanode-0/data/ratis/5ed62a70-e574-47da-bd58-536729b66335 close()
2019-09-04 07:46:07,998 [RatisPipelineUtilsThread] INFO  pipeline.PipelineStateManager (PipelineStateManager.java:removePipeline(108)) - Pipeline Pipeline[ Id: 5ed62a70-e574-47da-bd58-536729b66335, Nodes: 4e694486-3087-4490-b550-6be9ae6dbe9a{ip: 192.168.34.9, host: pr-hdds-1569-tfczc-1762686928, networkLocation: /default-rack, certSerialId: null}, Type:RATIS, Factor:ONE, State:CLOSED] removed from db
2019-09-04 07:46:08,030 | INFO  | SCMAudit | user=jenkins1000 | ip=192.168.34.9 | op=SEND_HEARTBEAT {datanodeUUID=4e694486-3087-4490-b550-6be9ae6dbe9a, command=[]} | ret=SUCCESS |  
2019-09-04 07:46:08,230 | INFO  | SCMAudit | user=jenkins1000 | ip=192.168.34.9 | op=SEND_HEARTBEAT {datanodeUUID=4e694486-3087-4490-b550-6be9ae6dbe9a, command=[]} | ret=SUCCESS |  
2019-09-04 07:46:08,431 | INFO  | SCMAudit | user=jenkins1000 | ip=192.168.34.9 | op=SEND_HEARTBEAT {datanodeUUID=4e694486-3087-4490-b550-6be9ae6dbe9a, command=[]} | ret=SUCCESS |  
2019-09-04 07:46:08,630 | INFO  | SCMAudit | user=jenkins1000 | ip=192.168.34.9 | op=SEND_HEARTBEAT {datanodeUUID=4e694486-3087-4490-b550-6be9ae6dbe9a, command=[]} | ret=SUCCESS |  
2019-09-04 07:46:08,831 | INFO  | SCMAudit | user=jenkins1000 | ip=192.168.34.9 | op=SEND_HEARTBEAT {datanodeUUID=4e694486-3087-4490-b550-6be9ae6dbe9a, command=[]} | ret=SUCCESS |  
2019-09-04 07:46:09,031 | INFO  | SCMAudit | user=jenkins1000 | ip=192.168.34.9 | op=SEND_HEARTBEAT {datanodeUUID=4e694486-3087-4490-b550-6be9ae6dbe9a, command=[]} | ret=SUCCESS |  
2019-09-04 07:46:09,231 | INFO  | SCMAudit | user=jenkins1000 | ip=192.168.34.9 | op=SEND_HEARTBEAT {datanodeUUID=4e694486-3087-4490-b550-6be9ae6dbe9a, command=[]} | ret=SUCCESS |  
2019-09-04 07:46:09,431 | INFO  | SCMAudit | user=jenkins1000 | ip=192.168.34.9 | op=SEND_HEARTBEAT {datanodeUUID=4e694486-3087-4490-b550-6be9ae6dbe9a, command=[]} | ret=SUCCESS |  
2019-09-04 07:46:09,631 | INFO  | SCMAudit | user=jenkins1000 | ip=192.168.34.9 | op=SEND_HEARTBEAT {datanodeUUID=4e694486-3087-4490-b550-6be9ae6dbe9a, command=[]} | ret=SUCCESS |  
2019-09-04 07:46:09,674 [grpc-default-executor-0] INFO  client.GrpcClientProtocolClient (GrpcClientProtocolClient.java:onNext(255)) - client-58B71BE8F634->4e694486-3087-4490-b550-6be9ae6dbe9a: receive RaftClientReply:client-58B71BE8F634->4e694486-3087-4490-b550-6be9ae6dbe9a@group-17DD85CE7584, cid=11, FAILED org.apache.ratis.protocol.NotLeaderException: Server 4e694486-3087-4490-b550-6be9ae6dbe9a is not the leader (null). Request must be sent to leader., logIndex=0, commits[4e694486-3087-4490-b550-6be9ae6dbe9a:c-1]
2019-09-04 07:46:09,831 | INFO  | SCMAudit | user=jenkins1000 | ip=192.168.34.9 | op=SEND_HEARTBEAT {datanodeUUID=4e694486-3087-4490-b550-6be9ae6dbe9a, command=[]} | ret=SUCCESS |  
2019-09-04 07:46:10,031 | INFO  | SCMAudit | user=jenkins1000 | ip=192.168.34.9 | op=SEND_HEARTBEAT {datanodeUUID=4e694486-3087-4490-b550-6be9ae6dbe9a, command=[]} | ret=SUCCESS |  
2019-09-04 07:46:10,231 | INFO  | SCMAudit | user=jenkins1000 | ip=192.168.34.9 | op=SEND_HEARTBEAT {datanodeUUID=4e694486-3087-4490-b550-6be9ae6dbe9a, command=[]} | ret=SUCCESS |  
2019-09-04 07:46:10,432 | INFO  | SCMAudit | user=jenkins1000 | ip=192.168.34.9 | op=SEND_HEARTBEAT {datanodeUUID=4e694486-3087-4490-b550-6be9ae6dbe9a, command=[]} | ret=SUCCESS |  
2019-09-04 07:46:10,631 | INFO  | SCMAudit | user=jenkins1000 | ip=192.168.34.9 | op=SEND_HEARTBEAT {datanodeUUID=4e694486-3087-4490-b550-6be9ae6dbe9a, command=[]} | ret=SUCCESS |  
2019-09-04 07:46:10,831 | INFO  | SCMAudit | user=jenkins1000 | ip=192.168.34.9 | op=SEND_HEARTBEAT {datanodeUUID=4e694486-3087-4490-b550-6be9ae6dbe9a, command=[]} | ret=SUCCESS |  
2019-09-04 07:46:11,031 | INFO  | SCMAudit | user=jenkins1000 | ip=192.168.34.9 | op=SEND_HEARTBEAT {datanodeUUID=4e694486-3087-4490-b550-6be9ae6dbe9a, command=[]} | ret=SUCCESS |  
2019-09-04 07:46:11,231 | INFO  | SCMAudit | user=jenkins1000 | ip=192.168.34.9 | op=SEND_HEARTBEAT {datanodeUUID=4e694486-3087-4490-b550-6be9ae6dbe9a, command=[]} | ret=SUCCESS |  
2019-09-04 07:46:11,433 | INFO  | SCMAudit | user=jenkins1000 | ip=192.168.34.9 | op=SEND_HEARTBEAT {datanodeUUID=4e694486-3087-4490-b550-6be9ae6dbe9a, command=[]} | ret=SUCCESS |  
2019-09-04 07:46:11,633 | INFO  | SCMAudit | user=jenkins1000 | ip=192.168.34.9 | op=SEND_HEARTBEAT {datanodeUUID=4e694486-3087-4490-b550-6be9ae6dbe9a, command=[]} | ret=SUCCESS |  
2019-09-04 07:46:11,689 [grpc-default-executor-1] INFO  client.GrpcClientProtocolClient (GrpcClientProtocolClient.java:onNext(255)) - client-58B71BE8F634->4e694486-3087-4490-b550-6be9ae6dbe9a: receive RaftClientReply:client-58B71BE8F634->4e694486-3087-4490-b550-6be9ae6dbe9a@group-17DD85CE7584, cid=11, FAILED org.apache.ratis.protocol.NotLeaderException: Server 4e694486-3087-4490-b550-6be9ae6dbe9a is not the leader (null). Request must be sent to leader., logIndex=0, commits[4e694486-3087-4490-b550-6be9ae6dbe9a:c-1]
2019-09-04 07:46:11,789 [Thread-233] INFO  impl.FollowerState (FollowerState.java:run(106)) - 4e694486-3087-4490-b550-6be9ae6dbe9a:group-17DD85CE7584 changes to CANDIDATE, lastRpcTime:5064, electionTimeout:5064ms
2019-09-04 07:46:11,790 [Thread-233] INFO  impl.RoleInfo (RoleInfo.java:shutdownFollowerState(121)) - 4e694486-3087-4490-b550-6be9ae6dbe9a: shutdown FollowerState
2019-09-04 07:46:11,790 [Thread-233] INFO  impl.RaftServerImpl (RaftServerImpl.java:setRole(171)) - 4e694486-3087-4490-b550-6be9ae6dbe9a:group-17DD85CE7584 changes role from FOLLOWER to CANDIDATE at term 0 for changeToCandidate
2019-09-04 07:46:11,790 [Thread-233] INFO  impl.RoleInfo (RoleInfo.java:updateAndGet(143)) - 4e694486-3087-4490-b550-6be9ae6dbe9a: start LeaderElection
2019-09-04 07:46:11,825 [4e694486-3087-4490-b550-6be9ae6dbe9a:group-17DD85CE7584:LeaderElection4] INFO  impl.LeaderElection (LeaderElection.java:askForVotes(181)) - 4e694486-3087-4490-b550-6be9ae6dbe9a:group-17DD85CE7584:LeaderElection4: begin an election at term 1 for -1: [4e694486-3087-4490-b550-6be9ae6dbe9a:192.168.34.9:39640], old=null
2019-09-04 07:46:11,826 [4e694486-3087-4490-b550-6be9ae6dbe9a:group-17DD85CE7584:LeaderElection4] INFO  impl.RoleInfo (RoleInfo.java:shutdownLeaderElection(134)) - 4e694486-3087-4490-b550-6be9ae6dbe9a: shutdown LeaderElection
2019-09-04 07:46:11,827 [4e694486-3087-4490-b550-6be9ae6dbe9a:group-17DD85CE7584:LeaderElection4] INFO  impl.RaftServerImpl (RaftServerImpl.java:setRole(171)) - 4e694486-3087-4490-b550-6be9ae6dbe9a:group-17DD85CE7584 changes role from CANDIDATE to LEADER at term 1 for changeToLeader
2019-09-04 07:46:11,827 [4e694486-3087-4490-b550-6be9ae6dbe9a:group-17DD85CE7584:LeaderElection4] INFO  impl.RaftServerImpl (ServerState.java:setLeader(263)) - 4e694486-3087-4490-b550-6be9ae6dbe9a:group-17DD85CE7584 change Leader from null to 4e694486-3087-4490-b550-6be9ae6dbe9a at term 1 for becomeLeader, leader elected after 5106ms
2019-09-04 07:46:11,827 [4e694486-3087-4490-b550-6be9ae6dbe9a:group-17DD85CE7584:LeaderElection4] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.staging.catchup.gap = 1000 (default)
2019-09-04 07:46:11,827 [4e694486-3087-4490-b550-6be9ae6dbe9a:group-17DD85CE7584:LeaderElection4] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.rpc.sleep.time = 25ms (default)
2019-09-04 07:46:11,827 [4e694486-3087-4490-b550-6be9ae6dbe9a:group-17DD85CE7584:LeaderElection4] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.write.element-limit = 4096 (default)
2019-09-04 07:46:11,827 [4e694486-3087-4490-b550-6be9ae6dbe9a:group-17DD85CE7584:LeaderElection4] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.watch.timeout = 10s (default)
2019-09-04 07:46:11,827 [4e694486-3087-4490-b550-6be9ae6dbe9a:group-17DD85CE7584:LeaderElection4] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.watch.timeout.denomination = 1s (default)
2019-09-04 07:46:11,827 [4e694486-3087-4490-b550-6be9ae6dbe9a:group-17DD85CE7584:LeaderElection4] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.watch.element-limit = 65536 (default)
2019-09-04 07:46:11,828 [4e694486-3087-4490-b550-6be9ae6dbe9a:group-17DD85CE7584:LeaderElection4] INFO  impl.RoleInfo (RoleInfo.java:updateAndGet(143)) - 4e694486-3087-4490-b550-6be9ae6dbe9a: start LeaderState
2019-09-04 07:46:11,828 [4e694486-3087-4490-b550-6be9ae6dbe9a:group-17DD85CE7584:LeaderElection4] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:startLogSegment(380)) - 4e694486-3087-4490-b550-6be9ae6dbe9a-SegmentedRaftLogWorker:Storage Directory /workdir/hadoop-ozone/integration-test/target/test-dir/MiniOzoneClusterImpl-68751a6c-b5d9-4680-8ddd-dddd40b06685/datanode-0/data/ratis/2ea89166-e2d2-47e2-ae8f-17dd85ce7584: Starting segment from index:0
2019-09-04 07:46:11,828 [4e694486-3087-4490-b550-6be9ae6dbe9a:group-17DD85CE7584:LeaderElection4] INFO  impl.RaftServerImpl (ServerState.java:setRaftConf(361)) - 4e694486-3087-4490-b550-6be9ae6dbe9a:group-17DD85CE7584 set configuration 0: [4e694486-3087-4490-b550-6be9ae6dbe9a:192.168.34.9:39640], old=null at 0
2019-09-04 07:46:11,855 | INFO  | SCMAudit | user=jenkins1000 | ip=192.168.34.9 | op=SEND_HEARTBEAT {datanodeUUID=4e694486-3087-4490-b550-6be9ae6dbe9a, command=[]} | ret=SUCCESS |  
2019-09-04 07:46:11,866 [4e694486-3087-4490-b550-6be9ae6dbe9a-SegmentedRaftLogWorker:Storage Directory /workdir/hadoop-ozone/integration-test/target/test-dir/MiniOzoneClusterImpl-68751a6c-b5d9-4680-8ddd-dddd40b06685/datanode-0/data/ratis/2ea89166-e2d2-47e2-ae8f-17dd85ce7584] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:execute(569)) - 4e694486-3087-4490-b550-6be9ae6dbe9a-SegmentedRaftLogWorker:Storage Directory /workdir/hadoop-ozone/integration-test/target/test-dir/MiniOzoneClusterImpl-68751a6c-b5d9-4680-8ddd-dddd40b06685/datanode-0/data/ratis/2ea89166-e2d2-47e2-ae8f-17dd85ce7584: created new log segment /workdir/hadoop-ozone/integration-test/target/test-dir/MiniOzoneClusterImpl-68751a6c-b5d9-4680-8ddd-dddd40b06685/datanode-0/data/ratis/2ea89166-e2d2-47e2-ae8f-17dd85ce7584/current/log_inprogress_0
2019-09-04 07:46:12,055 | INFO  | SCMAudit | user=jenkins1000 | ip=192.168.34.9 | op=SEND_HEARTBEAT {datanodeUUID=4e694486-3087-4490-b550-6be9ae6dbe9a, command=[]} | ret=SUCCESS |  
2019-09-04 07:46:12,255 | INFO  | SCMAudit | user=jenkins1000 | ip=192.168.34.9 | op=SEND_HEARTBEAT {datanodeUUID=4e694486-3087-4490-b550-6be9ae6dbe9a, command=[]} | ret=SUCCESS |  
2019-09-04 07:46:12,455 | INFO  | SCMAudit | user=jenkins1000 | ip=192.168.34.9 | op=SEND_HEARTBEAT {datanodeUUID=4e694486-3087-4490-b550-6be9ae6dbe9a, command=[]} | ret=SUCCESS |  
2019-09-04 07:46:12,655 | INFO  | SCMAudit | user=jenkins1000 | ip=192.168.34.9 | op=SEND_HEARTBEAT {datanodeUUID=4e694486-3087-4490-b550-6be9ae6dbe9a, command=[]} | ret=SUCCESS |  
2019-09-04 07:46:12,855 | INFO  | SCMAudit | user=jenkins1000 | ip=192.168.34.9 | op=SEND_HEARTBEAT {datanodeUUID=4e694486-3087-4490-b550-6be9ae6dbe9a, command=[]} | ret=SUCCESS |  
2019-09-04 07:46:13,056 | INFO  | SCMAudit | user=jenkins1000 | ip=192.168.34.9 | op=SEND_HEARTBEAT {datanodeUUID=4e694486-3087-4490-b550-6be9ae6dbe9a, command=[]} | ret=SUCCESS |  
2019-09-04 07:46:13,256 | INFO  | SCMAudit | user=jenkins1000 | ip=192.168.34.9 | op=SEND_HEARTBEAT {datanodeUUID=4e694486-3087-4490-b550-6be9ae6dbe9a, command=[]} | ret=SUCCESS |  
2019-09-04 07:46:13,456 | INFO  | SCMAudit | user=jenkins1000 | ip=192.168.34.9 | op=SEND_HEARTBEAT {datanodeUUID=4e694486-3087-4490-b550-6be9ae6dbe9a, command=[]} | ret=SUCCESS |  
2019-09-04 07:46:13,656 | INFO  | SCMAudit | user=jenkins1000 | ip=192.168.34.9 | op=SEND_HEARTBEAT {datanodeUUID=4e694486-3087-4490-b550-6be9ae6dbe9a, command=[]} | ret=SUCCESS |  
2019-09-04 07:46:13,811 | INFO  | DNAudit | user=null | ip=null | op=WRITE_CHUNK {blockData=conID: 3 locID: 102733130474192900 bcsId: 0} | ret=SUCCESS |  
2019-09-04 07:46:13,812 | INFO  | SCMAudit | user=jenkins1000 | ip=192.168.34.9 | op=SEND_HEARTBEAT {datanodeUUID=4e694486-3087-4490-b550-6be9ae6dbe9a, command=[]} | ret=SUCCESS |  
2019-09-04 07:46:13,825 | INFO  | DNAudit | user=null | ip=null | op=WRITE_CHUNK {blockData=conID: 3 locID: 102733130474192900 bcsId: 0} | ret=SUCCESS |  
2019-09-04 07:46:13,827 [StateMachineUpdater:4e694486-3087-4490-b550-6be9ae6dbe9a:group-17DD85CE7584] INFO  ratis.ContainerStateMachine (ContainerStateMachine.java:takeSnapshot(283)) - group-17DD85CE7584: Taking a snapshot at:(t:1, i:1) file /workdir/hadoop-ozone/integration-test/target/test-dir/MiniOzoneClusterImpl-68751a6c-b5d9-4680-8ddd-dddd40b06685/datanode-0/data/ratis/2ea89166-e2d2-47e2-ae8f-17dd85ce7584/sm/snapshot.1_1
2019-09-04 07:46:13,833 [grpc-default-executor-1] INFO  client.GrpcClientProtocolClient (GrpcClientProtocolClient.java:onNext(255)) - client-58B71BE8F634->4e694486-3087-4490-b550-6be9ae6dbe9a: receive RaftClientReply:client-58B71BE8F634->4e694486-3087-4490-b550-6be9ae6dbe9a@group-17DD85CE7584, cid=11, SUCCESS, logIndex=1, commits[4e694486-3087-4490-b550-6be9ae6dbe9a:c1]
2019-09-04 07:46:13,836 [StateMachineUpdater:4e694486-3087-4490-b550-6be9ae6dbe9a:group-17DD85CE7584] INFO  ratis.ContainerStateMachine (ContainerStateMachine.java:takeSnapshot(294)) - group-17DD85CE7584: Finished taking a snapshot at:(t:1, i:1) file:/workdir/hadoop-ozone/integration-test/target/test-dir/MiniOzoneClusterImpl-68751a6c-b5d9-4680-8ddd-dddd40b06685/datanode-0/data/ratis/2ea89166-e2d2-47e2-ae8f-17dd85ce7584/sm/snapshot.1_1 time:10
2019-09-04 07:46:13,836 [StateMachineUpdater:4e694486-3087-4490-b550-6be9ae6dbe9a:group-17DD85CE7584] INFO  impl.StateMachineUpdater (StateMachineUpdater.java:takeSnapshot(242)) - StateMachineUpdater:4e694486-3087-4490-b550-6be9ae6dbe9a:group-17DD85CE7584: Took a snapshot at index 1
2019-09-04 07:46:13,837 [StateMachineUpdater:4e694486-3087-4490-b550-6be9ae6dbe9a:group-17DD85CE7584] INFO  impl.StateMachineUpdater (StateMachineUpdater.java:lambda$new$0(80)) - StateMachineUpdater:4e694486-3087-4490-b550-6be9ae6dbe9a:group-17DD85CE7584: snapshotIndex: updateIncreasingly -1 -> 1
2019-09-04 07:46:13,837 [StateMachineUpdater:4e694486-3087-4490-b550-6be9ae6dbe9a:group-17DD85CE7584] INFO  ratis.ContainerStateMachine (ContainerStateMachine.java:takeSnapshot(283)) - group-17DD85CE7584: Taking a snapshot at:(t:1, i:1) file /workdir/hadoop-ozone/integration-test/target/test-dir/MiniOzoneClusterImpl-68751a6c-b5d9-4680-8ddd-dddd40b06685/datanode-0/data/ratis/2ea89166-e2d2-47e2-ae8f-17dd85ce7584/sm/snapshot.1_1
2019-09-04 07:46:13,849 [StateMachineUpdater:4e694486-3087-4490-b550-6be9ae6dbe9a:group-17DD85CE7584] INFO  ratis.ContainerStateMachine (ContainerStateMachine.java:takeSnapshot(294)) - group-17DD85CE7584: Finished taking a snapshot at:(t:1, i:1) file:/workdir/hadoop-ozone/integration-test/target/test-dir/MiniOzoneClusterImpl-68751a6c-b5d9-4680-8ddd-dddd40b06685/datanode-0/data/ratis/2ea89166-e2d2-47e2-ae8f-17dd85ce7584/sm/snapshot.1_1 time:13
2019-09-04 07:46:13,850 [StateMachineUpdater:4e694486-3087-4490-b550-6be9ae6dbe9a:group-17DD85CE7584] INFO  impl.StateMachineUpdater (StateMachineUpdater.java:takeSnapshot(242)) - StateMachineUpdater:4e694486-3087-4490-b550-6be9ae6dbe9a:group-17DD85CE7584: Took a snapshot at index 1
2019-09-04 07:46:13,850 [StateMachineUpdater:4e694486-3087-4490-b550-6be9ae6dbe9a:group-17DD85CE7584] INFO  impl.StateMachineUpdater (StateMachineUpdater.java:lambda$new$0(80)) - StateMachineUpdater:4e694486-3087-4490-b550-6be9ae6dbe9a:group-17DD85CE7584: snapshotIndex: updateIncreasingly 1 -> 1
2019-09-04 07:46:13,899 | INFO  | DNAudit | user=null | ip=null | op=PUT_BLOCK {blockData=[blockId=conID: 3 locID: 102733130474192900 bcsId: 0,size=5]} | ret=SUCCESS |  
2019-09-04 07:46:13,900 [StateMachineUpdater:4e694486-3087-4490-b550-6be9ae6dbe9a:group-17DD85CE7584] INFO  ratis.ContainerStateMachine (ContainerStateMachine.java:takeSnapshot(283)) - group-17DD85CE7584: Taking a snapshot at:(t:1, i:1) file /workdir/hadoop-ozone/integration-test/target/test-dir/MiniOzoneClusterImpl-68751a6c-b5d9-4680-8ddd-dddd40b06685/datanode-0/data/ratis/2ea89166-e2d2-47e2-ae8f-17dd85ce7584/sm/snapshot.1_1
2019-09-04 07:46:13,904 [grpc-default-executor-1] INFO  client.GrpcClientProtocolClient (GrpcClientProtocolClient.java:onNext(255)) - client-58B71BE8F634->4e694486-3087-4490-b550-6be9ae6dbe9a: receive RaftClientReply:client-58B71BE8F634->4e694486-3087-4490-b550-6be9ae6dbe9a@group-17DD85CE7584, cid=12, SUCCESS, logIndex=3, commits[4e694486-3087-4490-b550-6be9ae6dbe9a:c4]
2019-09-04 07:46:13,907 [pool-41-thread-2] ERROR impl.ChunkManagerImpl (ChunkUtils.java:getChunkFile(234)) - Chunks path does not exist
2019-09-04 07:46:13,908 [pool-41-thread-2] INFO  keyvalue.KeyValueHandler (ContainerUtils.java:logAndReturnError(146)) - Operation: WriteChunk : Trace ID: 52c620b63db2bc3e:52c620b63db2bc3e:0:0 : Message: Unable to get Chunks directory. : Result: UNABLE_TO_FIND_DATA_DIR
2019-09-04 07:46:13,911 [StateMachineUpdater:4e694486-3087-4490-b550-6be9ae6dbe9a:group-17DD85CE7584] INFO  ratis.ContainerStateMachine (ContainerStateMachine.java:takeSnapshot(294)) - group-17DD85CE7584: Finished taking a snapshot at:(t:1, i:1) file:/workdir/hadoop-ozone/integration-test/target/test-dir/MiniOzoneClusterImpl-68751a6c-b5d9-4680-8ddd-dddd40b06685/datanode-0/data/ratis/2ea89166-e2d2-47e2-ae8f-17dd85ce7584/sm/snapshot.1_1 time:12
2019-09-04 07:46:13,911 | ERROR | DNAudit | user=null | ip=null | op=PUT_BLOCK {blockData=[blockId=conID: 3 locID: 102733130474192900 bcsId: 0,size=10]} | ret=FAILURE | org.apache.hadoop.hdds.scm.container.common.helpers.ContainerNotOpenException: Container 3 in UNHEALTHY state
	at org.apache.hadoop.ozone.container.common.impl.HddsDispatcher.validateContainerCommand(HddsDispatcher.java:408)
	at org.apache.hadoop.ozone.container.common.transport.server.ratis.ContainerStateMachine.startTransaction(ContainerStateMachine.java:309) 
2019-09-04 07:46:13,911 [StateMachineUpdater:4e694486-3087-4490-b550-6be9ae6dbe9a:group-17DD85CE7584] INFO  impl.StateMachineUpdater (StateMachineUpdater.java:takeSnapshot(242)) - StateMachineUpdater:4e694486-3087-4490-b550-6be9ae6dbe9a:group-17DD85CE7584: Took a snapshot at index 1
2019-09-04 07:46:13,911 [StateMachineUpdater:4e694486-3087-4490-b550-6be9ae6dbe9a:group-17DD85CE7584] INFO  impl.StateMachineUpdater (StateMachineUpdater.java:lambda$new$0(80)) - StateMachineUpdater:4e694486-3087-4490-b550-6be9ae6dbe9a:group-17DD85CE7584: snapshotIndex: updateIncreasingly 1 -> 1
2019-09-04 07:46:13,929 | ERROR | DNAudit | user=null | ip=null | op=WRITE_CHUNK {blockData=conID: 3 locID: 102733130474192900 bcsId: 3} | ret=FAILURE | java.lang.Exception: Unable to get Chunks directory.
	at org.apache.hadoop.ozone.container.common.impl.HddsDispatcher.dispatchRequest(HddsDispatcher.java:320)
	at org.apache.hadoop.ozone.container.common.impl.HddsDispatcher.dispatch(HddsDispatcher.java:148) 
2019-09-04 07:46:13,929 [pool-41-thread-2] ERROR ratis.ContainerStateMachine (ContainerStateMachine.java:lambda$handleWriteChunk$2(449)) - group-17DD85CE7584: writeChunk writeStateMachineData failed: blockIdcontainerID: 3
localID: 102733130474192900
blockCommitSequenceId: 3
 logIndex 5 chunkName 102733130474192900_chunk_2 Error message: Unable to get Chunks directory. Container Result: UNABLE_TO_FIND_DATA_DIR
2019-09-04 07:46:13,931 [4e694486-3087-4490-b550-6be9ae6dbe9a-SegmentedRaftLogWorker:Storage Directory /workdir/hadoop-ozone/integration-test/target/test-dir/MiniOzoneClusterImpl-68751a6c-b5d9-4680-8ddd-dddd40b06685/datanode-0/data/ratis/2ea89166-e2d2-47e2-ae8f-17dd85ce7584] ERROR ratis.XceiverServerRatis (XceiverServerRatis.java:triggerPipelineClose(561)) - pipeline Action CLOSE  on pipeline PipelineID=2ea89166-e2d2-47e2-ae8f-17dd85ce7584.Reason : Unable to get Chunks directory.
2019-09-04 07:46:13,931 | INFO  | SCMAudit | user=jenkins1000 | ip=192.168.34.9 | op=SEND_HEARTBEAT {datanodeUUID=4e694486-3087-4490-b550-6be9ae6dbe9a, command=[]} | ret=SUCCESS |  
2019-09-04 07:46:13,931 [EventQueue-IncrementalContainerReportForIncrementalContainerReportHandler] WARN  container.IncrementalContainerReportHandler (AbstractContainerReportHandler.java:updateContainerState(143)) - Container #3 is in OPEN state, but the datanode 4e694486-3087-4490-b550-6be9ae6dbe9a{ip: 192.168.34.9, host: pr-hdds-1569-tfczc-1762686928, networkLocation: /default-rack, certSerialId: null} reports an UNHEALTHY replica.
2019-09-04 07:46:13,931 [EventQueue-CloseContainerForCloseContainerEventHandler] INFO  container.CloseContainerEventHandler (CloseContainerEventHandler.java:onMessage(61)) - Close container Event triggered for container : #3
2019-09-04 07:46:13,933 [EventQueue-PipelineActionsForPipelineActionHandler] ERROR pipeline.PipelineActionHandler (PipelineActionHandler.java:onMessage(60)) - Received pipeline action CLOSE for Pipeline[ Id: 2ea89166-e2d2-47e2-ae8f-17dd85ce7584, Nodes: 4e694486-3087-4490-b550-6be9ae6dbe9a{ip: 192.168.34.9, host: pr-hdds-1569-tfczc-1762686928, networkLocation: /default-rack, certSerialId: null}, Type:RATIS, Factor:ONE, State:OPEN] from datanode 4e694486-3087-4490-b550-6be9ae6dbe9a{ip: 192.168.34.9, host: pr-hdds-1569-tfczc-1762686928, networkLocation: /default-rack, certSerialId: null}. Reason : Unable to get Chunks directory.
2019-09-04 07:46:13,933 [EventQueue-PipelineActionsForPipelineActionHandler] INFO  pipeline.SCMPipelineManager (SCMPipelineManager.java:finalizeAndDestroyPipeline(309)) - destroying pipeline:Pipeline[ Id: 2ea89166-e2d2-47e2-ae8f-17dd85ce7584, Nodes: 4e694486-3087-4490-b550-6be9ae6dbe9a{ip: 192.168.34.9, host: pr-hdds-1569-tfczc-1762686928, networkLocation: /default-rack, certSerialId: null}, Type:RATIS, Factor:ONE, State:OPEN]
2019-09-04 07:46:13,933 [EventQueue-PipelineActionsForPipelineActionHandler] INFO  pipeline.PipelineStateManager (PipelineStateManager.java:finalizePipeline(123)) - Pipeline Pipeline[ Id: 2ea89166-e2d2-47e2-ae8f-17dd85ce7584, Nodes: 4e694486-3087-4490-b550-6be9ae6dbe9a{ip: 192.168.34.9, host: pr-hdds-1569-tfczc-1762686928, networkLocation: /default-rack, certSerialId: null}, Type:RATIS, Factor:ONE, State:CLOSED] moved to CLOSED state
2019-09-04 07:46:13,933 | INFO  | SCMAudit | user=jenkins1000 | ip=192.168.34.9 | op=SEND_HEARTBEAT {datanodeUUID=4e694486-3087-4490-b550-6be9ae6dbe9a, command=[commandType: closeContainerCommand closeContainerCommandProto { containerID: 3 pipelineID { id: "2ea89166-e2d2-47e2-ae8f-17dd85ce7584" } cmdId: 3 force: false } ]} | ret=SUCCESS |  
2019-09-04 07:46:14,132 | INFO  | SCMAudit | user=jenkins1000 | ip=192.168.34.9 | op=SEND_HEARTBEAT {datanodeUUID=4e694486-3087-4490-b550-6be9ae6dbe9a, command=[]} | ret=SUCCESS |  
2019-09-04 07:46:14,332 | INFO  | SCMAudit | user=jenkins1000 | ip=192.168.34.9 | op=SEND_HEARTBEAT {datanodeUUID=4e694486-3087-4490-b550-6be9ae6dbe9a, command=[]} | ret=SUCCESS |  
2019-09-04 07:46:14,458 [4e694486-3087-4490-b550-6be9ae6dbe9a-SegmentedRaftLogWorker:Storage Directory /workdir/hadoop-ozone/integration-test/target/test-dir/MiniOzoneClusterImpl-68751a6c-b5d9-4680-8ddd-dddd40b06685/datanode-0/data/ratis/2ea89166-e2d2-47e2-ae8f-17dd85ce7584] ERROR ratis.XceiverServerRatis (XceiverServerRatis.java:triggerPipelineClose(561)) - pipeline Action CLOSE  on pipeline PipelineID=2ea89166-e2d2-47e2-ae8f-17dd85ce7584.Reason : Log already failed at index 5 for task WriteLog:5: (t:1, i:5), STATEMACHINELOGENTRY, client-58B71BE8F634, cid=14
2019-09-04 07:46:14,460 | INFO  | SCMAudit | user=jenkins1000 | ip=192.168.34.9 | op=SEND_HEARTBEAT {datanodeUUID=4e694486-3087-4490-b550-6be9ae6dbe9a, command=[]} | ret=SUCCESS |  
2019-09-04 07:46:14,460 [EventQueue-PipelineActionsForPipelineActionHandler] ERROR pipeline.PipelineActionHandler (PipelineActionHandler.java:onMessage(60)) - Received pipeline action CLOSE for Pipeline[ Id: 2ea89166-e2d2-47e2-ae8f-17dd85ce7584, Nodes: 4e694486-3087-4490-b550-6be9ae6dbe9a{ip: 192.168.34.9, host: pr-hdds-1569-tfczc-1762686928, networkLocation: /default-rack, certSerialId: null}, Type:RATIS, Factor:ONE, State:CLOSED] from datanode 4e694486-3087-4490-b550-6be9ae6dbe9a{ip: 192.168.34.9, host: pr-hdds-1569-tfczc-1762686928, networkLocation: /default-rack, certSerialId: null}. Reason : Log already failed at index 5 for task WriteLog:5: (t:1, i:5), STATEMACHINELOGENTRY, client-58B71BE8F634, cid=14
2019-09-04 07:46:14,460 [EventQueue-PipelineActionsForPipelineActionHandler] INFO  pipeline.SCMPipelineManager (SCMPipelineManager.java:finalizeAndDestroyPipeline(309)) - destroying pipeline:Pipeline[ Id: 2ea89166-e2d2-47e2-ae8f-17dd85ce7584, Nodes: 4e694486-3087-4490-b550-6be9ae6dbe9a{ip: 192.168.34.9, host: pr-hdds-1569-tfczc-1762686928, networkLocation: /default-rack, certSerialId: null}, Type:RATIS, Factor:ONE, State:CLOSED]
2019-09-04 07:46:14,659 | INFO  | SCMAudit | user=jenkins1000 | ip=192.168.34.9 | op=SEND_HEARTBEAT {datanodeUUID=4e694486-3087-4490-b550-6be9ae6dbe9a, command=[]} | ret=SUCCESS |  
2019-09-04 07:46:14,860 | INFO  | SCMAudit | user=jenkins1000 | ip=192.168.34.9 | op=SEND_HEARTBEAT {datanodeUUID=4e694486-3087-4490-b550-6be9ae6dbe9a, command=[]} | ret=SUCCESS |  
2019-09-04 07:46:15,060 | INFO  | SCMAudit | user=jenkins1000 | ip=192.168.34.9 | op=SEND_HEARTBEAT {datanodeUUID=4e694486-3087-4490-b550-6be9ae6dbe9a, command=[]} | ret=SUCCESS |  
2019-09-04 07:46:15,260 | INFO  | SCMAudit | user=jenkins1000 | ip=192.168.34.9 | op=SEND_HEARTBEAT {datanodeUUID=4e694486-3087-4490-b550-6be9ae6dbe9a, command=[]} | ret=SUCCESS |  
2019-09-04 07:46:15,460 | INFO  | SCMAudit | user=jenkins1000 | ip=192.168.34.9 | op=SEND_HEARTBEAT {datanodeUUID=4e694486-3087-4490-b550-6be9ae6dbe9a, command=[]} | ret=SUCCESS |  
2019-09-04 07:46:15,660 | INFO  | SCMAudit | user=jenkins1000 | ip=192.168.34.9 | op=SEND_HEARTBEAT {datanodeUUID=4e694486-3087-4490-b550-6be9ae6dbe9a, command=[]} | ret=SUCCESS |  
2019-09-04 07:46:15,859 | INFO  | SCMAudit | user=jenkins1000 | ip=192.168.34.9 | op=SEND_HEARTBEAT {datanodeUUID=4e694486-3087-4490-b550-6be9ae6dbe9a, command=[]} | ret=SUCCESS |  
2019-09-04 07:46:16,060 | INFO  | SCMAudit | user=jenkins1000 | ip=192.168.34.9 | op=SEND_HEARTBEAT {datanodeUUID=4e694486-3087-4490-b550-6be9ae6dbe9a, command=[]} | ret=SUCCESS |  
2019-09-04 07:46:16,261 | INFO  | SCMAudit | user=jenkins1000 | ip=192.168.34.9 | op=SEND_HEARTBEAT {datanodeUUID=4e694486-3087-4490-b550-6be9ae6dbe9a, command=[]} | ret=SUCCESS |  
2019-09-04 07:46:16,463 | INFO  | SCMAudit | user=jenkins1000 | ip=192.168.34.9 | op=SEND_HEARTBEAT {datanodeUUID=4e694486-3087-4490-b550-6be9ae6dbe9a, command=[]} | ret=SUCCESS |  
2019-09-04 07:46:16,663 | INFO  | SCMAudit | user=jenkins1000 | ip=192.168.34.9 | op=SEND_HEARTBEAT {datanodeUUID=4e694486-3087-4490-b550-6be9ae6dbe9a, command=[]} | ret=SUCCESS |  
2019-09-04 07:46:16,864 | INFO  | SCMAudit | user=jenkins1000 | ip=192.168.34.9 | op=SEND_HEARTBEAT {datanodeUUID=4e694486-3087-4490-b550-6be9ae6dbe9a, command=[]} | ret=SUCCESS |  
2019-09-04 07:46:17,064 | INFO  | SCMAudit | user=jenkins1000 | ip=192.168.34.9 | op=SEND_HEARTBEAT {datanodeUUID=4e694486-3087-4490-b550-6be9ae6dbe9a, command=[]} | ret=SUCCESS |  
2019-09-04 07:46:17,264 | INFO  | SCMAudit | user=jenkins1000 | ip=192.168.34.9 | op=SEND_HEARTBEAT {datanodeUUID=4e694486-3087-4490-b550-6be9ae6dbe9a, command=[]} | ret=SUCCESS |  
2019-09-04 07:46:17,464 | INFO  | SCMAudit | user=jenkins1000 | ip=192.168.34.9 | op=SEND_HEARTBEAT {datanodeUUID=4e694486-3087-4490-b550-6be9ae6dbe9a, command=[]} | ret=SUCCESS |  
2019-09-04 07:46:17,664 | INFO  | SCMAudit | user=jenkins1000 | ip=192.168.34.9 | op=SEND_HEARTBEAT {datanodeUUID=4e694486-3087-4490-b550-6be9ae6dbe9a, command=[]} | ret=SUCCESS |  
2019-09-04 07:46:17,864 | INFO  | SCMAudit | user=jenkins1000 | ip=192.168.34.9 | op=SEND_HEARTBEAT {datanodeUUID=4e694486-3087-4490-b550-6be9ae6dbe9a, command=[]} | ret=SUCCESS |  
2019-09-04 07:46:18,064 | INFO  | SCMAudit | user=jenkins1000 | ip=192.168.34.9 | op=SEND_HEARTBEAT {datanodeUUID=4e694486-3087-4490-b550-6be9ae6dbe9a, command=[]} | ret=SUCCESS |  
2019-09-04 07:46:18,264 | INFO  | SCMAudit | user=jenkins1000 | ip=192.168.34.9 | op=SEND_HEARTBEAT {datanodeUUID=4e694486-3087-4490-b550-6be9ae6dbe9a, command=[]} | ret=SUCCESS |  
2019-09-04 07:46:18,465 | INFO  | SCMAudit | user=jenkins1000 | ip=192.168.34.9 | op=SEND_HEARTBEAT {datanodeUUID=4e694486-3087-4490-b550-6be9ae6dbe9a, command=[]} | ret=SUCCESS |  
2019-09-04 07:46:18,665 | INFO  | SCMAudit | user=jenkins1000 | ip=192.168.34.9 | op=SEND_HEARTBEAT {datanodeUUID=4e694486-3087-4490-b550-6be9ae6dbe9a, command=[]} | ret=SUCCESS |  
2019-09-04 07:46:18,865 | INFO  | SCMAudit | user=jenkins1000 | ip=192.168.34.9 | op=SEND_HEARTBEAT {datanodeUUID=4e694486-3087-4490-b550-6be9ae6dbe9a, command=[]} | ret=SUCCESS |  
2019-09-04 07:46:19,065 | INFO  | SCMAudit | user=jenkins1000 | ip=192.168.34.9 | op=SEND_HEARTBEAT {datanodeUUID=4e694486-3087-4490-b550-6be9ae6dbe9a, command=[]} | ret=SUCCESS |  
2019-09-04 07:46:19,265 | INFO  | SCMAudit | user=jenkins1000 | ip=192.168.34.9 | op=SEND_HEARTBEAT {datanodeUUID=4e694486-3087-4490-b550-6be9ae6dbe9a, command=[]} | ret=SUCCESS |  
2019-09-04 07:46:19,464 | INFO  | SCMAudit | user=jenkins1000 | ip=192.168.34.9 | op=SEND_HEARTBEAT {datanodeUUID=4e694486-3087-4490-b550-6be9ae6dbe9a, command=[]} | ret=SUCCESS |  
2019-09-04 07:46:19,665 | INFO  | SCMAudit | user=jenkins1000 | ip=192.168.34.9 | op=SEND_HEARTBEAT {datanodeUUID=4e694486-3087-4490-b550-6be9ae6dbe9a, command=[]} | ret=SUCCESS |  
2019-09-04 07:46:19,865 | INFO  | SCMAudit | user=jenkins1000 | ip=192.168.34.9 | op=SEND_HEARTBEAT {datanodeUUID=4e694486-3087-4490-b550-6be9ae6dbe9a, command=[]} | ret=SUCCESS |  
2019-09-04 07:46:20,065 | INFO  | SCMAudit | user=jenkins1000 | ip=192.168.34.9 | op=SEND_HEARTBEAT {datanodeUUID=4e694486-3087-4490-b550-6be9ae6dbe9a, command=[]} | ret=SUCCESS |  
2019-09-04 07:46:20,267 | INFO  | SCMAudit | user=jenkins1000 | ip=192.168.34.9 | op=SEND_HEARTBEAT {datanodeUUID=4e694486-3087-4490-b550-6be9ae6dbe9a, command=[]} | ret=SUCCESS |  
2019-09-04 07:46:20,466 | INFO  | SCMAudit | user=jenkins1000 | ip=192.168.34.9 | op=SEND_HEARTBEAT {datanodeUUID=4e694486-3087-4490-b550-6be9ae6dbe9a, command=[]} | ret=SUCCESS |  
2019-09-04 07:46:20,666 | INFO  | SCMAudit | user=jenkins1000 | ip=192.168.34.9 | op=SEND_HEARTBEAT {datanodeUUID=4e694486-3087-4490-b550-6be9ae6dbe9a, command=[]} | ret=SUCCESS |  
2019-09-04 07:46:20,866 | INFO  | SCMAudit | user=jenkins1000 | ip=192.168.34.9 | op=SEND_HEARTBEAT {datanodeUUID=4e694486-3087-4490-b550-6be9ae6dbe9a, command=[]} | ret=SUCCESS |  
2019-09-04 07:46:21,066 | INFO  | SCMAudit | user=jenkins1000 | ip=192.168.34.9 | op=SEND_HEARTBEAT {datanodeUUID=4e694486-3087-4490-b550-6be9ae6dbe9a, command=[]} | ret=SUCCESS |  
2019-09-04 07:46:21,268 | INFO  | SCMAudit | user=jenkins1000 | ip=192.168.34.9 | op=SEND_HEARTBEAT {datanodeUUID=4e694486-3087-4490-b550-6be9ae6dbe9a, command=[]} | ret=SUCCESS |  
2019-09-04 07:46:21,467 | INFO  | SCMAudit | user=jenkins1000 | ip=192.168.34.9 | op=SEND_HEARTBEAT {datanodeUUID=4e694486-3087-4490-b550-6be9ae6dbe9a, command=[]} | ret=SUCCESS |  
2019-09-04 07:46:21,667 | INFO  | SCMAudit | user=jenkins1000 | ip=192.168.34.9 | op=SEND_HEARTBEAT {datanodeUUID=4e694486-3087-4490-b550-6be9ae6dbe9a, command=[]} | ret=SUCCESS |  
2019-09-04 07:46:21,867 | INFO  | SCMAudit | user=jenkins1000 | ip=192.168.34.9 | op=SEND_HEARTBEAT {datanodeUUID=4e694486-3087-4490-b550-6be9ae6dbe9a, command=[]} | ret=SUCCESS |  
2019-09-04 07:46:22,067 | INFO  | SCMAudit | user=jenkins1000 | ip=192.168.34.9 | op=SEND_HEARTBEAT {datanodeUUID=4e694486-3087-4490-b550-6be9ae6dbe9a, command=[]} | ret=SUCCESS |  
2019-09-04 07:46:22,267 | INFO  | SCMAudit | user=jenkins1000 | ip=192.168.34.9 | op=SEND_HEARTBEAT {datanodeUUID=4e694486-3087-4490-b550-6be9ae6dbe9a, command=[]} | ret=SUCCESS |  
2019-09-04 07:46:22,467 | INFO  | SCMAudit | user=jenkins1000 | ip=192.168.34.9 | op=SEND_HEARTBEAT {datanodeUUID=4e694486-3087-4490-b550-6be9ae6dbe9a, command=[]} | ret=SUCCESS |  
2019-09-04 07:46:22,667 | INFO  | SCMAudit | user=jenkins1000 | ip=192.168.34.9 | op=SEND_HEARTBEAT {datanodeUUID=4e694486-3087-4490-b550-6be9ae6dbe9a, command=[]} | ret=SUCCESS |  
2019-09-04 07:46:22,867 | INFO  | SCMAudit | user=jenkins1000 | ip=192.168.34.9 | op=SEND_HEARTBEAT {datanodeUUID=4e694486-3087-4490-b550-6be9ae6dbe9a, command=[]} | ret=SUCCESS |  
2019-09-04 07:46:23,067 | INFO  | SCMAudit | user=jenkins1000 | ip=192.168.34.9 | op=SEND_HEARTBEAT {datanodeUUID=4e694486-3087-4490-b550-6be9ae6dbe9a, command=[]} | ret=SUCCESS |  
2019-09-04 07:46:23,266 | INFO  | SCMAudit | user=jenkins1000 | ip=192.168.34.9 | op=SEND_HEARTBEAT {datanodeUUID=4e694486-3087-4490-b550-6be9ae6dbe9a, command=[]} | ret=SUCCESS |  
2019-09-04 07:46:23,468 | INFO  | SCMAudit | user=jenkins1000 | ip=192.168.34.9 | op=SEND_HEARTBEAT {datanodeUUID=4e694486-3087-4490-b550-6be9ae6dbe9a, command=[]} | ret=SUCCESS |  
2019-09-04 07:46:23,667 | INFO  | SCMAudit | user=jenkins1000 | ip=192.168.34.9 | op=SEND_HEARTBEAT {datanodeUUID=4e694486-3087-4490-b550-6be9ae6dbe9a, command=[]} | ret=SUCCESS |  
2019-09-04 07:46:23,866 | INFO  | SCMAudit | user=jenkins1000 | ip=192.168.34.9 | op=SEND_HEARTBEAT {datanodeUUID=4e694486-3087-4490-b550-6be9ae6dbe9a, command=[]} | ret=SUCCESS |  
2019-09-04 07:46:23,942 [grpc-default-executor-1] INFO  impl.RaftServerProxy (RaftServerProxy.java:remove(95)) - 4e694486-3087-4490-b550-6be9ae6dbe9a: remove   LEADER group-17DD85CE7584 4e694486-3087-4490-b550-6be9ae6dbe9a:t1, leader=4e694486-3087-4490-b550-6be9ae6dbe9a, voted=4e694486-3087-4490-b550-6be9ae6dbe9a, raftlog=4e694486-3087-4490-b550-6be9ae6dbe9a-SegmentedRaftLog:OPENED:c4,f4,i6, conf=0: [4e694486-3087-4490-b550-6be9ae6dbe9a:192.168.34.9:39640], old=null RUNNING
2019-09-04 07:46:23,943 [grpc-default-executor-1] INFO  impl.RaftServerImpl (RaftServerImpl.java:lambda$shutdown$3(245)) - 4e694486-3087-4490-b550-6be9ae6dbe9a: shutdown group-17DD85CE7584
2019-09-04 07:46:23,943 [grpc-default-executor-1] INFO  util.JmxRegister (JmxRegister.java:unregister(73)) - Successfully un-registered JMX Bean with object name Ratis:service=RaftServer,group=group-17DD85CE7584,id=4e694486-3087-4490-b550-6be9ae6dbe9a
2019-09-04 07:46:23,943 [grpc-default-executor-1] INFO  impl.RoleInfo (RoleInfo.java:shutdownLeaderState(104)) - 4e694486-3087-4490-b550-6be9ae6dbe9a: shutdown LeaderState
2019-09-04 07:46:23,943 [grpc-default-executor-1] INFO  impl.PendingRequests (PendingRequests.java:sendNotLeaderResponses(202)) - 4e694486-3087-4490-b550-6be9ae6dbe9a-PendingRequests: sendNotLeaderResponses
2019-09-04 07:46:23,947 [grpc-default-executor-1] INFO  impl.StateMachineUpdater (StateMachineUpdater.java:stopAndJoin(115)) - StateMachineUpdater:4e694486-3087-4490-b550-6be9ae6dbe9a:group-17DD85CE7584: set stopIndex = 4
2019-09-04 07:46:23,947 [StateMachineUpdater:4e694486-3087-4490-b550-6be9ae6dbe9a:group-17DD85CE7584] INFO  ratis.ContainerStateMachine (ContainerStateMachine.java:takeSnapshot(283)) - group-17DD85CE7584: Taking a snapshot at:(t:1, i:4) file /workdir/hadoop-ozone/integration-test/target/test-dir/MiniOzoneClusterImpl-68751a6c-b5d9-4680-8ddd-dddd40b06685/datanode-0/data/ratis/2ea89166-e2d2-47e2-ae8f-17dd85ce7584/sm/snapshot.1_4
2019-09-04 07:46:23,971 [StateMachineUpdater:4e694486-3087-4490-b550-6be9ae6dbe9a:group-17DD85CE7584] INFO  ratis.ContainerStateMachine (ContainerStateMachine.java:takeSnapshot(294)) - group-17DD85CE7584: Finished taking a snapshot at:(t:1, i:4) file:/workdir/hadoop-ozone/integration-test/target/test-dir/MiniOzoneClusterImpl-68751a6c-b5d9-4680-8ddd-dddd40b06685/datanode-0/data/ratis/2ea89166-e2d2-47e2-ae8f-17dd85ce7584/sm/snapshot.1_4 time:24
2019-09-04 07:46:23,971 [StateMachineUpdater:4e694486-3087-4490-b550-6be9ae6dbe9a:group-17DD85CE7584] INFO  impl.StateMachineUpdater (StateMachineUpdater.java:takeSnapshot(242)) - StateMachineUpdater:4e694486-3087-4490-b550-6be9ae6dbe9a:group-17DD85CE7584: Took a snapshot at index 4
2019-09-04 07:46:23,971 [StateMachineUpdater:4e694486-3087-4490-b550-6be9ae6dbe9a:group-17DD85CE7584] INFO  impl.StateMachineUpdater (StateMachineUpdater.java:lambda$new$0(80)) - StateMachineUpdater:4e694486-3087-4490-b550-6be9ae6dbe9a:group-17DD85CE7584: snapshotIndex: updateIncreasingly 1 -> 4
2019-09-04 07:46:23,972 [grpc-default-executor-1] INFO  impl.RaftServerImpl (ServerState.java:close(394)) - 4e694486-3087-4490-b550-6be9ae6dbe9a:group-17DD85CE7584 closes. The last applied log index is 4
2019-09-04 07:46:23,972 [4e694486-3087-4490-b550-6be9ae6dbe9a-SegmentedRaftLogWorker:Storage Directory /workdir/hadoop-ozone/integration-test/target/test-dir/MiniOzoneClusterImpl-68751a6c-b5d9-4680-8ddd-dddd40b06685/datanode-0/data/ratis/2ea89166-e2d2-47e2-ae8f-17dd85ce7584] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:run(313)) - 4e694486-3087-4490-b550-6be9ae6dbe9a-SegmentedRaftLogWorker:Storage Directory /workdir/hadoop-ozone/integration-test/target/test-dir/MiniOzoneClusterImpl-68751a6c-b5d9-4680-8ddd-dddd40b06685/datanode-0/data/ratis/2ea89166-e2d2-47e2-ae8f-17dd85ce7584 was interrupted, exiting. There are 0 tasks remaining in the queue.
2019-09-04 07:46:23,973 [grpc-default-executor-1] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:close(228)) - 4e694486-3087-4490-b550-6be9ae6dbe9a-SegmentedRaftLogWorker:Storage Directory /workdir/hadoop-ozone/integration-test/target/test-dir/MiniOzoneClusterImpl-68751a6c-b5d9-4680-8ddd-dddd40b06685/datanode-0/data/ratis/2ea89166-e2d2-47e2-ae8f-17dd85ce7584 close()
2019-09-04 07:46:23,981 [RatisPipelineUtilsThread] INFO  pipeline.PipelineStateManager (PipelineStateManager.java:removePipeline(108)) - Pipeline Pipeline[ Id: 2ea89166-e2d2-47e2-ae8f-17dd85ce7584, Nodes: 4e694486-3087-4490-b550-6be9ae6dbe9a{ip: 192.168.34.9, host: pr-hdds-1569-tfczc-1762686928, networkLocation: /default-rack, certSerialId: null}, Type:RATIS, Factor:ONE, State:CLOSED] removed from db
2019-09-04 07:46:23,991 [grpc-default-executor-1] INFO  impl.RaftServerProxy (RaftServerProxy.java:addNew(89)) - 4e694486-3087-4490-b550-6be9ae6dbe9a: addNew group-5365ABA2FD10:[4e694486-3087-4490-b550-6be9ae6dbe9a:192.168.34.9:39640] returns group-5365ABA2FD10:java.util.concurrent.CompletableFuture@56599996[Not completed]
2019-09-04 07:46:23,992 [pool-42-thread-1] INFO  impl.RaftServerImpl (RaftServerImpl.java:<init>(93)) - 4e694486-3087-4490-b550-6be9ae6dbe9a: new RaftServerImpl for group-5365ABA2FD10:[4e694486-3087-4490-b550-6be9ae6dbe9a:192.168.34.9:39640] with ContainerStateMachine:uninitialized
2019-09-04 07:46:23,993 [pool-42-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.rpc.timeout.min = 5s (custom)
2019-09-04 07:46:23,993 [pool-42-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.rpc.timeout.max = 5200ms (custom)
2019-09-04 07:46:23,993 [pool-42-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.rpcslowness.timeout = 120s (custom)
2019-09-04 07:46:23,993 [pool-42-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.sleep.deviation.threshold = 300 (default)
2019-09-04 07:46:23,993 [pool-42-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.log.appender.install.snapshot.enabled = false (custom)
2019-09-04 07:46:23,993 [pool-42-thread-1] INFO  impl.RaftServerImpl (ServerState.java:<init>(105)) - 4e694486-3087-4490-b550-6be9ae6dbe9a:group-5365ABA2FD10 ConfigurationManager, init=-1: [4e694486-3087-4490-b550-6be9ae6dbe9a:192.168.34.9:39640], old=null, confs=<EMPTY_MAP>
2019-09-04 07:46:23,994 [pool-42-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.storage.dir = [/workdir/hadoop-ozone/integration-test/target/test-dir/MiniOzoneClusterImpl-68751a6c-b5d9-4680-8ddd-dddd40b06685/datanode-0/data/ratis] (custom)
2019-09-04 07:46:23,994 [pool-42-thread-1] INFO  storage.RaftStorageDirectory (RaftStorageDirectory.java:analyzeStorage(246)) - The storage directory /workdir/hadoop-ozone/integration-test/target/test-dir/MiniOzoneClusterImpl-68751a6c-b5d9-4680-8ddd-dddd40b06685/datanode-0/data/ratis/24dae620-0843-479b-91ab-5365aba2fd10 does not exist. Creating ...
2019-09-04 07:46:24,017 [pool-42-thread-1] INFO  storage.RaftStorageDirectory (RaftStorageDirectory.java:tryLock(328)) - Lock on /workdir/hadoop-ozone/integration-test/target/test-dir/MiniOzoneClusterImpl-68751a6c-b5d9-4680-8ddd-dddd40b06685/datanode-0/data/ratis/24dae620-0843-479b-91ab-5365aba2fd10/in_use.lock acquired by nodename 1142@pr-hdds-1569-tfczc-1762686928
2019-09-04 07:46:24,041 [pool-42-thread-1] INFO  storage.RaftStorage (RaftStorage.java:format(72)) - Storage directory /workdir/hadoop-ozone/integration-test/target/test-dir/MiniOzoneClusterImpl-68751a6c-b5d9-4680-8ddd-dddd40b06685/datanode-0/data/ratis/24dae620-0843-479b-91ab-5365aba2fd10 has been successfully formatted.
2019-09-04 07:46:24,041 [pool-42-thread-1] INFO  ratis.ContainerStateMachine (ContainerStateMachine.java:loadSnapshot(226)) - group-5365ABA2FD10: The snapshot info is null. Setting the last applied indexto:(t:0, i:~)
2019-09-04 07:46:24,041 [pool-42-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.leader.election.timeout = 120s (custom)
2019-09-04 07:46:24,041 [pool-42-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.log.use.memory = false (default)
2019-09-04 07:46:24,041 [pool-42-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.log.purge.gap = 1000000 (custom)
2019-09-04 07:46:24,042 [pool-42-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.log.appender.buffer.byte-limit = 33554432 (custom)
2019-09-04 07:46:24,042 [pool-42-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.log.segment.size.max = 1048576 (custom)
2019-09-04 07:46:24,042 [pool-42-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.log.segment.cache.num.max = 2 (custom)
2019-09-04 07:46:24,042 [pool-42-thread-1] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:<init>(172)) - new 4e694486-3087-4490-b550-6be9ae6dbe9a-SegmentedRaftLogWorker:Storage Directory /workdir/hadoop-ozone/integration-test/target/test-dir/MiniOzoneClusterImpl-68751a6c-b5d9-4680-8ddd-dddd40b06685/datanode-0/data/ratis/24dae620-0843-479b-91ab-5365aba2fd10 for RaftStorage:Storage Directory /workdir/hadoop-ozone/integration-test/target/test-dir/MiniOzoneClusterImpl-68751a6c-b5d9-4680-8ddd-dddd40b06685/datanode-0/data/ratis/24dae620-0843-479b-91ab-5365aba2fd10
2019-09-04 07:46:24,042 [pool-42-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.log.queue.byte-limit = 2147483647 (custom)
2019-09-04 07:46:24,042 [pool-42-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.log.queue.element-limit = 1024 (custom)
2019-09-04 07:46:24,042 [pool-42-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.log.segment.size.max = 1048576 (custom)
2019-09-04 07:46:24,042 [pool-42-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.log.preallocated.size = 16384 (custom)
2019-09-04 07:46:24,043 [pool-42-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.log.write.buffer.size = 33554432 (custom)
2019-09-04 07:46:24,043 [pool-42-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.log.force.sync.num = 128 (default)
2019-09-04 07:46:24,043 [pool-42-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.log.statemachine.data.sync = true (default)
2019-09-04 07:46:24,043 [pool-42-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.log.statemachine.data.sync.timeout = 10s (default)
2019-09-04 07:46:24,043 [pool-42-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.log.statemachine.data.sync.timeout.retry = -1 (default)
2019-09-04 07:46:24,043 [pool-42-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.log.statemachine.data.caching.enabled = true (custom)
2019-09-04 07:46:24,044 [pool-42-thread-1] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:lambda$new$0(132)) - 4e694486-3087-4490-b550-6be9ae6dbe9a-SegmentedRaftLogWorker:Storage Directory /workdir/hadoop-ozone/integration-test/target/test-dir/MiniOzoneClusterImpl-68751a6c-b5d9-4680-8ddd-dddd40b06685/datanode-0/data/ratis/24dae620-0843-479b-91ab-5365aba2fd10: flushIndex: setUnconditionally 0 -> -1
2019-09-04 07:46:24,044 [pool-42-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.snapshot.auto.trigger.enabled = true (custom)
2019-09-04 07:46:24,044 [pool-42-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.snapshot.auto.trigger.threshold = 1 (custom)
2019-09-04 07:46:24,044 [pool-42-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.retrycache.expirytime = 600000ms (custom)
2019-09-04 07:46:24,045 [pool-42-thread-1] INFO  impl.RaftServerImpl (RaftServerImpl.java:start(180)) - 4e694486-3087-4490-b550-6be9ae6dbe9a: start group-5365ABA2FD10
2019-09-04 07:46:24,045 [pool-42-thread-1] INFO  impl.RaftServerImpl (RaftServerImpl.java:setRole(171)) - 4e694486-3087-4490-b550-6be9ae6dbe9a:group-5365ABA2FD10 changes role from null to FOLLOWER at term 0 for startAsFollower
2019-09-04 07:46:24,045 [pool-42-thread-1] INFO  impl.RoleInfo (RoleInfo.java:updateAndGet(143)) - 4e694486-3087-4490-b550-6be9ae6dbe9a: start FollowerState
2019-09-04 07:46:24,045 [pool-42-thread-1] INFO  util.JmxRegister (JmxRegister.java:tryRegister(44)) - Successfully registered JMX Bean with object name Ratis:service=RaftServer,group=group-5365ABA2FD10,id=4e694486-3087-4490-b550-6be9ae6dbe9a
2019-09-04 07:46:24,052 [RatisPipelineUtilsThread] INFO  pipeline.PipelineStateManager (PipelineStateManager.java:addPipeline(56)) - Created pipeline Pipeline[ Id: 24dae620-0843-479b-91ab-5365aba2fd10, Nodes: 4e694486-3087-4490-b550-6be9ae6dbe9a{ip: 192.168.34.9, host: pr-hdds-1569-tfczc-1762686928, networkLocation: /default-rack, certSerialId: null}, Type:RATIS, Factor:ONE, State:OPEN]
2019-09-04 07:46:24,067 | INFO  | SCMAudit | user=jenkins1000 | ip=192.168.34.9 | op=SEND_HEARTBEAT {datanodeUUID=4e694486-3087-4490-b550-6be9ae6dbe9a, command=[]} | ret=SUCCESS |  
2019-09-04 07:46:24,267 | INFO  | SCMAudit | user=jenkins1000 | ip=192.168.34.9 | op=SEND_HEARTBEAT {datanodeUUID=4e694486-3087-4490-b550-6be9ae6dbe9a, command=[]} | ret=SUCCESS |  
2019-09-04 07:46:24,466 | INFO  | SCMAudit | user=jenkins1000 | ip=192.168.34.9 | op=SEND_HEARTBEAT {datanodeUUID=4e694486-3087-4490-b550-6be9ae6dbe9a, command=[]} | ret=SUCCESS |  
2019-09-04 07:46:24,471 [grpc-default-executor-1] INFO  impl.RaftServerProxy (RaftServerProxy.java:remove(95)) - 4e694486-3087-4490-b550-6be9ae6dbe9a: remove group-17DD85CE7584:null
2019-09-04 07:46:24,482 [RatisPipelineUtilsThread] WARN  pipeline.RatisPipelineUtils (RatisPipelineUtils.java:destroyPipeline(66)) - Pipeline destroy failed for pipeline=PipelineID=2ea89166-e2d2-47e2-ae8f-17dd85ce7584 dn=4e694486-3087-4490-b550-6be9ae6dbe9a{ip: 192.168.34.9, host: pr-hdds-1569-tfczc-1762686928, networkLocation: /default-rack, certSerialId: null}
2019-09-04 07:46:24,482 [RatisPipelineUtilsThread] ERROR pipeline.SCMPipelineManager (Scheduler.java:lambda$schedule$1(70)) - Destroy pipeline failed for pipeline:Pipeline[ Id: 2ea89166-e2d2-47e2-ae8f-17dd85ce7584, Nodes: 4e694486-3087-4490-b550-6be9ae6dbe9a{ip: 192.168.34.9, host: pr-hdds-1569-tfczc-1762686928, networkLocation: /default-rack, certSerialId: null}, Type:RATIS, Factor:ONE, State:CLOSED]
org.apache.hadoop.hdds.scm.pipeline.PipelineNotFoundException: PipelineID=2ea89166-e2d2-47e2-ae8f-17dd85ce7584 not found
	at org.apache.hadoop.hdds.scm.pipeline.PipelineStateMap.getPipeline(PipelineStateMap.java:132)
	at org.apache.hadoop.hdds.scm.pipeline.PipelineStateMap.removePipeline(PipelineStateMap.java:322)
	at org.apache.hadoop.hdds.scm.pipeline.PipelineStateManager.removePipeline(PipelineStateManager.java:107)
	at org.apache.hadoop.hdds.scm.pipeline.SCMPipelineManager.removePipeline(SCMPipelineManager.java:397)
	at org.apache.hadoop.hdds.scm.pipeline.SCMPipelineManager.destroyPipeline(SCMPipelineManager.java:383)
	at org.apache.hadoop.hdds.scm.pipeline.SCMPipelineManager.lambda$finalizeAndDestroyPipeline$0(SCMPipelineManager.java:316)
	at org.apache.hadoop.utils.Scheduler.lambda$schedule$1(Scheduler.java:68)
	at java.util.concurrent.Executors$RunnableAdapter.call(Executors.java:511)
	at java.util.concurrent.FutureTask.run(FutureTask.java:266)
	at java.util.concurrent.ScheduledThreadPoolExecutor$ScheduledFutureTask.access$201(ScheduledThreadPoolExecutor.java:180)
	at java.util.concurrent.ScheduledThreadPoolExecutor$ScheduledFutureTask.run(ScheduledThreadPoolExecutor.java:293)
	at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1149)
	at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:624)
	at java.lang.Thread.run(Thread.java:748)
2019-09-04 07:46:24,668 | INFO  | SCMAudit | user=jenkins1000 | ip=192.168.34.9 | op=SEND_HEARTBEAT {datanodeUUID=4e694486-3087-4490-b550-6be9ae6dbe9a, command=[]} | ret=SUCCESS |  
2019-09-04 07:46:24,867 | INFO  | SCMAudit | user=jenkins1000 | ip=192.168.34.9 | op=SEND_HEARTBEAT {datanodeUUID=4e694486-3087-4490-b550-6be9ae6dbe9a, command=[]} | ret=SUCCESS |  
2019-09-04 07:46:25,067 | INFO  | SCMAudit | user=jenkins1000 | ip=192.168.34.9 | op=SEND_HEARTBEAT {datanodeUUID=4e694486-3087-4490-b550-6be9ae6dbe9a, command=[]} | ret=SUCCESS |  
2019-09-04 07:46:25,267 | INFO  | SCMAudit | user=jenkins1000 | ip=192.168.34.9 | op=SEND_HEARTBEAT {datanodeUUID=4e694486-3087-4490-b550-6be9ae6dbe9a, command=[]} | ret=SUCCESS |  
2019-09-04 07:46:25,467 | INFO  | SCMAudit | user=jenkins1000 | ip=192.168.34.9 | op=SEND_HEARTBEAT {datanodeUUID=4e694486-3087-4490-b550-6be9ae6dbe9a, command=[]} | ret=SUCCESS |  
2019-09-04 07:46:25,667 | INFO  | SCMAudit | user=jenkins1000 | ip=192.168.34.9 | op=SEND_HEARTBEAT {datanodeUUID=4e694486-3087-4490-b550-6be9ae6dbe9a, command=[]} | ret=SUCCESS |  
2019-09-04 07:46:25,868 | INFO  | SCMAudit | user=jenkins1000 | ip=192.168.34.9 | op=SEND_HEARTBEAT {datanodeUUID=4e694486-3087-4490-b550-6be9ae6dbe9a, command=[]} | ret=SUCCESS |  
2019-09-04 07:46:25,947 [main] WARN  io.KeyOutputStream (KeyOutputStream.java:handleException(276)) - Encountered exception java.io.IOException: Unexpected Storage Container Exception: java.util.concurrent.CompletionException: java.util.concurrent.CompletionException: org.apache.ratis.protocol.GroupMismatchException: 4e694486-3087-4490-b550-6be9ae6dbe9a: group-17DD85CE7584 not found. on the pipeline Pipeline[ Id: 2ea89166-e2d2-47e2-ae8f-17dd85ce7584, Nodes: 4e694486-3087-4490-b550-6be9ae6dbe9a{ip: 192.168.34.9, host: pr-hdds-1569-tfczc-1762686928, networkLocation: /default-rack, certSerialId: null}, Type:RATIS, Factor:ONE, State:OPEN]. The last committed block length is 5, uncommitted data length is 5 retry count 0
2019-09-04 07:46:25,958 | INFO  | SCMAudit | user=jenkins1000 | ip=192.168.34.9 | op=ALLOCATE_BLOCK {owner=78347fbe-7996-4dab-804b-219b00c6dd73, size=4194304, type=RATIS, factor=ONE} | ret=SUCCESS |  
2019-09-04 07:46:25,959 | INFO  | OMAudit | user=jenkins1000 | ip=127.0.0.1 | op=ALLOCATE_BLOCK {volume=testcontainerstatemachinefailures, bucket=testcontainerstatemachinefailures, key=ratis, dataSize=0, replicationType=null, replicationFactor=null, keyLocationInfo=null, clientID=102733130473799683} | ret=SUCCESS |  
2019-09-04 07:46:25,970 [grpc-default-executor-1] INFO  client.GrpcClientProtocolClient (GrpcClientProtocolClient.java:onNext(255)) - client-4DCA703261C9->4e694486-3087-4490-b550-6be9ae6dbe9a: receive RaftClientReply:client-4DCA703261C9->4e694486-3087-4490-b550-6be9ae6dbe9a@group-5365ABA2FD10, cid=19, FAILED org.apache.ratis.protocol.NotLeaderException: Server 4e694486-3087-4490-b550-6be9ae6dbe9a is not the leader (null). Request must be sent to leader., logIndex=0, commits[4e694486-3087-4490-b550-6be9ae6dbe9a:c-1]
2019-09-04 07:46:26,068 | INFO  | SCMAudit | user=jenkins1000 | ip=192.168.34.9 | op=SEND_HEARTBEAT {datanodeUUID=4e694486-3087-4490-b550-6be9ae6dbe9a, command=[]} | ret=SUCCESS |  
2019-09-04 07:46:26,267 | INFO  | SCMAudit | user=jenkins1000 | ip=192.168.34.9 | op=SEND_HEARTBEAT {datanodeUUID=4e694486-3087-4490-b550-6be9ae6dbe9a, command=[]} | ret=SUCCESS |  
2019-09-04 07:46:26,468 | INFO  | SCMAudit | user=jenkins1000 | ip=192.168.34.9 | op=SEND_HEARTBEAT {datanodeUUID=4e694486-3087-4490-b550-6be9ae6dbe9a, command=[]} | ret=SUCCESS |  
2019-09-04 07:46:26,668 | INFO  | SCMAudit | user=jenkins1000 | ip=192.168.34.9 | op=SEND_HEARTBEAT {datanodeUUID=4e694486-3087-4490-b550-6be9ae6dbe9a, command=[]} | ret=SUCCESS |  
2019-09-04 07:46:26,868 | INFO  | SCMAudit | user=jenkins1000 | ip=192.168.34.9 | op=SEND_HEARTBEAT {datanodeUUID=4e694486-3087-4490-b550-6be9ae6dbe9a, command=[]} | ret=SUCCESS |  
2019-09-04 07:46:27,070 | INFO  | SCMAudit | user=jenkins1000 | ip=192.168.34.9 | op=SEND_HEARTBEAT {datanodeUUID=4e694486-3087-4490-b550-6be9ae6dbe9a, command=[]} | ret=SUCCESS |  
2019-09-04 07:46:27,269 | INFO  | SCMAudit | user=jenkins1000 | ip=192.168.34.9 | op=SEND_HEARTBEAT {datanodeUUID=4e694486-3087-4490-b550-6be9ae6dbe9a, command=[]} | ret=SUCCESS |  
2019-09-04 07:46:27,469 | INFO  | SCMAudit | user=jenkins1000 | ip=192.168.34.9 | op=SEND_HEARTBEAT {datanodeUUID=4e694486-3087-4490-b550-6be9ae6dbe9a, command=[]} | ret=SUCCESS |  
2019-09-04 07:46:27,669 | INFO  | SCMAudit | user=jenkins1000 | ip=192.168.34.9 | op=SEND_HEARTBEAT {datanodeUUID=4e694486-3087-4490-b550-6be9ae6dbe9a, command=[]} | ret=SUCCESS |  
2019-09-04 07:46:27,869 | INFO  | SCMAudit | user=jenkins1000 | ip=192.168.34.9 | op=SEND_HEARTBEAT {datanodeUUID=4e694486-3087-4490-b550-6be9ae6dbe9a, command=[]} | ret=SUCCESS |  
2019-09-04 07:46:27,990 [grpc-default-executor-0] INFO  client.GrpcClientProtocolClient (GrpcClientProtocolClient.java:onNext(255)) - client-4DCA703261C9->4e694486-3087-4490-b550-6be9ae6dbe9a: receive RaftClientReply:client-4DCA703261C9->4e694486-3087-4490-b550-6be9ae6dbe9a@group-5365ABA2FD10, cid=19, FAILED org.apache.ratis.protocol.NotLeaderException: Server 4e694486-3087-4490-b550-6be9ae6dbe9a is not the leader (null). Request must be sent to leader., logIndex=0, commits[4e694486-3087-4490-b550-6be9ae6dbe9a:c-1]
2019-09-04 07:46:28,069 | INFO  | SCMAudit | user=jenkins1000 | ip=192.168.34.9 | op=SEND_HEARTBEAT {datanodeUUID=4e694486-3087-4490-b550-6be9ae6dbe9a, command=[]} | ret=SUCCESS |  
2019-09-04 07:46:28,269 | INFO  | SCMAudit | user=jenkins1000 | ip=192.168.34.9 | op=SEND_HEARTBEAT {datanodeUUID=4e694486-3087-4490-b550-6be9ae6dbe9a, command=[]} | ret=SUCCESS |  
2019-09-04 07:46:28,469 | INFO  | SCMAudit | user=jenkins1000 | ip=192.168.34.9 | op=SEND_HEARTBEAT {datanodeUUID=4e694486-3087-4490-b550-6be9ae6dbe9a, command=[]} | ret=SUCCESS |  
2019-09-04 07:46:28,670 | INFO  | SCMAudit | user=jenkins1000 | ip=192.168.34.9 | op=SEND_HEARTBEAT {datanodeUUID=4e694486-3087-4490-b550-6be9ae6dbe9a, command=[]} | ret=SUCCESS |  
2019-09-04 07:46:28,869 | INFO  | SCMAudit | user=jenkins1000 | ip=192.168.34.9 | op=SEND_HEARTBEAT {datanodeUUID=4e694486-3087-4490-b550-6be9ae6dbe9a, command=[]} | ret=SUCCESS |  
2019-09-04 07:46:29,069 | INFO  | SCMAudit | user=jenkins1000 | ip=192.168.34.9 | op=SEND_HEARTBEAT {datanodeUUID=4e694486-3087-4490-b550-6be9ae6dbe9a, command=[]} | ret=SUCCESS |  
2019-09-04 07:46:29,162 [Thread-267] INFO  impl.FollowerState (FollowerState.java:run(106)) - 4e694486-3087-4490-b550-6be9ae6dbe9a:group-5365ABA2FD10 changes to CANDIDATE, lastRpcTime:5116, electionTimeout:5116ms
2019-09-04 07:46:29,163 [Thread-267] INFO  impl.RoleInfo (RoleInfo.java:shutdownFollowerState(121)) - 4e694486-3087-4490-b550-6be9ae6dbe9a: shutdown FollowerState
2019-09-04 07:46:29,163 [Thread-267] INFO  impl.RaftServerImpl (RaftServerImpl.java:setRole(171)) - 4e694486-3087-4490-b550-6be9ae6dbe9a:group-5365ABA2FD10 changes role from FOLLOWER to CANDIDATE at term 0 for changeToCandidate
2019-09-04 07:46:29,163 [Thread-267] INFO  impl.RoleInfo (RoleInfo.java:updateAndGet(143)) - 4e694486-3087-4490-b550-6be9ae6dbe9a: start LeaderElection
2019-09-04 07:46:29,179 [4e694486-3087-4490-b550-6be9ae6dbe9a:group-5365ABA2FD10:LeaderElection5] INFO  impl.LeaderElection (LeaderElection.java:askForVotes(181)) - 4e694486-3087-4490-b550-6be9ae6dbe9a:group-5365ABA2FD10:LeaderElection5: begin an election at term 1 for -1: [4e694486-3087-4490-b550-6be9ae6dbe9a:192.168.34.9:39640], old=null
2019-09-04 07:46:29,180 [4e694486-3087-4490-b550-6be9ae6dbe9a:group-5365ABA2FD10:LeaderElection5] INFO  impl.RoleInfo (RoleInfo.java:shutdownLeaderElection(134)) - 4e694486-3087-4490-b550-6be9ae6dbe9a: shutdown LeaderElection
2019-09-04 07:46:29,180 [4e694486-3087-4490-b550-6be9ae6dbe9a:group-5365ABA2FD10:LeaderElection5] INFO  impl.RaftServerImpl (RaftServerImpl.java:setRole(171)) - 4e694486-3087-4490-b550-6be9ae6dbe9a:group-5365ABA2FD10 changes role from CANDIDATE to LEADER at term 1 for changeToLeader
2019-09-04 07:46:29,180 [4e694486-3087-4490-b550-6be9ae6dbe9a:group-5365ABA2FD10:LeaderElection5] INFO  impl.RaftServerImpl (ServerState.java:setLeader(263)) - 4e694486-3087-4490-b550-6be9ae6dbe9a:group-5365ABA2FD10 change Leader from null to 4e694486-3087-4490-b550-6be9ae6dbe9a at term 1 for becomeLeader, leader elected after 5138ms
2019-09-04 07:46:29,180 [4e694486-3087-4490-b550-6be9ae6dbe9a:group-5365ABA2FD10:LeaderElection5] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.staging.catchup.gap = 1000 (default)
2019-09-04 07:46:29,180 [4e694486-3087-4490-b550-6be9ae6dbe9a:group-5365ABA2FD10:LeaderElection5] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.rpc.sleep.time = 25ms (default)
2019-09-04 07:46:29,181 [4e694486-3087-4490-b550-6be9ae6dbe9a:group-5365ABA2FD10:LeaderElection5] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.write.element-limit = 4096 (default)
2019-09-04 07:46:29,181 [4e694486-3087-4490-b550-6be9ae6dbe9a:group-5365ABA2FD10:LeaderElection5] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.watch.timeout = 10s (default)
2019-09-04 07:46:29,181 [4e694486-3087-4490-b550-6be9ae6dbe9a:group-5365ABA2FD10:LeaderElection5] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.watch.timeout.denomination = 1s (default)
2019-09-04 07:46:29,181 [4e694486-3087-4490-b550-6be9ae6dbe9a:group-5365ABA2FD10:LeaderElection5] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.watch.element-limit = 65536 (default)
2019-09-04 07:46:29,181 [4e694486-3087-4490-b550-6be9ae6dbe9a:group-5365ABA2FD10:LeaderElection5] INFO  impl.RoleInfo (RoleInfo.java:updateAndGet(143)) - 4e694486-3087-4490-b550-6be9ae6dbe9a: start LeaderState
2019-09-04 07:46:29,181 [4e694486-3087-4490-b550-6be9ae6dbe9a:group-5365ABA2FD10:LeaderElection5] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:startLogSegment(380)) - 4e694486-3087-4490-b550-6be9ae6dbe9a-SegmentedRaftLogWorker:Storage Directory /workdir/hadoop-ozone/integration-test/target/test-dir/MiniOzoneClusterImpl-68751a6c-b5d9-4680-8ddd-dddd40b06685/datanode-0/data/ratis/24dae620-0843-479b-91ab-5365aba2fd10: Starting segment from index:0
2019-09-04 07:46:29,182 [4e694486-3087-4490-b550-6be9ae6dbe9a:group-5365ABA2FD10:LeaderElection5] INFO  impl.RaftServerImpl (ServerState.java:setRaftConf(361)) - 4e694486-3087-4490-b550-6be9ae6dbe9a:group-5365ABA2FD10 set configuration 0: [4e694486-3087-4490-b550-6be9ae6dbe9a:192.168.34.9:39640], old=null at 0
2019-09-04 07:46:29,228 [4e694486-3087-4490-b550-6be9ae6dbe9a-SegmentedRaftLogWorker:Storage Directory /workdir/hadoop-ozone/integration-test/target/test-dir/MiniOzoneClusterImpl-68751a6c-b5d9-4680-8ddd-dddd40b06685/datanode-0/data/ratis/24dae620-0843-479b-91ab-5365aba2fd10] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:execute(569)) - 4e694486-3087-4490-b550-6be9ae6dbe9a-SegmentedRaftLogWorker:Storage Directory /workdir/hadoop-ozone/integration-test/target/test-dir/MiniOzoneClusterImpl-68751a6c-b5d9-4680-8ddd-dddd40b06685/datanode-0/data/ratis/24dae620-0843-479b-91ab-5365aba2fd10: created new log segment /workdir/hadoop-ozone/integration-test/target/test-dir/MiniOzoneClusterImpl-68751a6c-b5d9-4680-8ddd-dddd40b06685/datanode-0/data/ratis/24dae620-0843-479b-91ab-5365aba2fd10/current/log_inprogress_0
2019-09-04 07:46:29,270 | INFO  | SCMAudit | user=jenkins1000 | ip=192.168.34.9 | op=SEND_HEARTBEAT {datanodeUUID=4e694486-3087-4490-b550-6be9ae6dbe9a, command=[]} | ret=SUCCESS |  
2019-09-04 07:46:29,469 | INFO  | SCMAudit | user=jenkins1000 | ip=192.168.34.9 | op=SEND_HEARTBEAT {datanodeUUID=4e694486-3087-4490-b550-6be9ae6dbe9a, command=[]} | ret=SUCCESS |  
2019-09-04 07:46:29,668 | INFO  | SCMAudit | user=jenkins1000 | ip=192.168.34.9 | op=SEND_HEARTBEAT {datanodeUUID=4e694486-3087-4490-b550-6be9ae6dbe9a, command=[]} | ret=SUCCESS |  
2019-09-04 07:46:29,869 | INFO  | SCMAudit | user=jenkins1000 | ip=192.168.34.9 | op=SEND_HEARTBEAT {datanodeUUID=4e694486-3087-4490-b550-6be9ae6dbe9a, command=[]} | ret=SUCCESS |  
2019-09-04 07:46:30,070 | INFO  | SCMAudit | user=jenkins1000 | ip=192.168.34.9 | op=SEND_HEARTBEAT {datanodeUUID=4e694486-3087-4490-b550-6be9ae6dbe9a, command=[]} | ret=SUCCESS |  
2019-09-04 07:46:30,098 | INFO  | DNAudit | user=null | ip=null | op=WRITE_CHUNK {blockData=conID: 4 locID: 102733131674943493 bcsId: 0} | ret=SUCCESS |  
2019-09-04 07:46:30,098 | INFO  | SCMAudit | user=jenkins1000 | ip=192.168.34.9 | op=SEND_HEARTBEAT {datanodeUUID=4e694486-3087-4490-b550-6be9ae6dbe9a, command=[]} | ret=SUCCESS |  
2019-09-04 07:46:30,111 | INFO  | DNAudit | user=null | ip=null | op=WRITE_CHUNK {blockData=conID: 4 locID: 102733131674943493 bcsId: 0} | ret=SUCCESS |  
2019-09-04 07:46:30,114 [StateMachineUpdater:4e694486-3087-4490-b550-6be9ae6dbe9a:group-5365ABA2FD10] INFO  ratis.ContainerStateMachine (ContainerStateMachine.java:takeSnapshot(283)) - group-5365ABA2FD10: Taking a snapshot at:(t:1, i:1) file /workdir/hadoop-ozone/integration-test/target/test-dir/MiniOzoneClusterImpl-68751a6c-b5d9-4680-8ddd-dddd40b06685/datanode-0/data/ratis/24dae620-0843-479b-91ab-5365aba2fd10/sm/snapshot.1_1
2019-09-04 07:46:30,118 [grpc-default-executor-0] INFO  client.GrpcClientProtocolClient (GrpcClientProtocolClient.java:onNext(255)) - client-4DCA703261C9->4e694486-3087-4490-b550-6be9ae6dbe9a: receive RaftClientReply:client-4DCA703261C9->4e694486-3087-4490-b550-6be9ae6dbe9a@group-5365ABA2FD10, cid=19, SUCCESS, logIndex=1, commits[4e694486-3087-4490-b550-6be9ae6dbe9a:c1]
2019-09-04 07:46:30,133 [StateMachineUpdater:4e694486-3087-4490-b550-6be9ae6dbe9a:group-5365ABA2FD10] INFO  ratis.ContainerStateMachine (ContainerStateMachine.java:takeSnapshot(294)) - group-5365ABA2FD10: Finished taking a snapshot at:(t:1, i:1) file:/workdir/hadoop-ozone/integration-test/target/test-dir/MiniOzoneClusterImpl-68751a6c-b5d9-4680-8ddd-dddd40b06685/datanode-0/data/ratis/24dae620-0843-479b-91ab-5365aba2fd10/sm/snapshot.1_1 time:18
2019-09-04 07:46:30,133 [StateMachineUpdater:4e694486-3087-4490-b550-6be9ae6dbe9a:group-5365ABA2FD10] INFO  impl.StateMachineUpdater (StateMachineUpdater.java:takeSnapshot(242)) - StateMachineUpdater:4e694486-3087-4490-b550-6be9ae6dbe9a:group-5365ABA2FD10: Took a snapshot at index 1
2019-09-04 07:46:30,133 [StateMachineUpdater:4e694486-3087-4490-b550-6be9ae6dbe9a:group-5365ABA2FD10] INFO  impl.StateMachineUpdater (StateMachineUpdater.java:lambda$new$0(80)) - StateMachineUpdater:4e694486-3087-4490-b550-6be9ae6dbe9a:group-5365ABA2FD10: snapshotIndex: updateIncreasingly -1 -> 1
2019-09-04 07:46:30,134 [StateMachineUpdater:4e694486-3087-4490-b550-6be9ae6dbe9a:group-5365ABA2FD10] INFO  ratis.ContainerStateMachine (ContainerStateMachine.java:takeSnapshot(283)) - group-5365ABA2FD10: Taking a snapshot at:(t:1, i:1) file /workdir/hadoop-ozone/integration-test/target/test-dir/MiniOzoneClusterImpl-68751a6c-b5d9-4680-8ddd-dddd40b06685/datanode-0/data/ratis/24dae620-0843-479b-91ab-5365aba2fd10/sm/snapshot.1_1
2019-09-04 07:46:30,155 [StateMachineUpdater:4e694486-3087-4490-b550-6be9ae6dbe9a:group-5365ABA2FD10] INFO  ratis.ContainerStateMachine (ContainerStateMachine.java:takeSnapshot(294)) - group-5365ABA2FD10: Finished taking a snapshot at:(t:1, i:1) file:/workdir/hadoop-ozone/integration-test/target/test-dir/MiniOzoneClusterImpl-68751a6c-b5d9-4680-8ddd-dddd40b06685/datanode-0/data/ratis/24dae620-0843-479b-91ab-5365aba2fd10/sm/snapshot.1_1 time:22
2019-09-04 07:46:30,156 [StateMachineUpdater:4e694486-3087-4490-b550-6be9ae6dbe9a:group-5365ABA2FD10] INFO  impl.StateMachineUpdater (StateMachineUpdater.java:takeSnapshot(242)) - StateMachineUpdater:4e694486-3087-4490-b550-6be9ae6dbe9a:group-5365ABA2FD10: Took a snapshot at index 1
2019-09-04 07:46:30,156 [StateMachineUpdater:4e694486-3087-4490-b550-6be9ae6dbe9a:group-5365ABA2FD10] INFO  impl.StateMachineUpdater (StateMachineUpdater.java:lambda$new$0(80)) - StateMachineUpdater:4e694486-3087-4490-b550-6be9ae6dbe9a:group-5365ABA2FD10: snapshotIndex: updateIncreasingly 1 -> 1
2019-09-04 07:46:30,231 | INFO  | DNAudit | user=null | ip=null | op=PUT_BLOCK {blockData=[blockId=conID: 4 locID: 102733131674943493 bcsId: 0,size=5]} | ret=SUCCESS |  
2019-09-04 07:46:30,235 [StateMachineUpdater:4e694486-3087-4490-b550-6be9ae6dbe9a:group-5365ABA2FD10] INFO  ratis.ContainerStateMachine (ContainerStateMachine.java:takeSnapshot(283)) - group-5365ABA2FD10: Taking a snapshot at:(t:1, i:3) file /workdir/hadoop-ozone/integration-test/target/test-dir/MiniOzoneClusterImpl-68751a6c-b5d9-4680-8ddd-dddd40b06685/datanode-0/data/ratis/24dae620-0843-479b-91ab-5365aba2fd10/sm/snapshot.1_3
2019-09-04 07:46:30,239 [grpc-default-executor-0] INFO  client.GrpcClientProtocolClient (GrpcClientProtocolClient.java:onNext(255)) - client-4DCA703261C9->4e694486-3087-4490-b550-6be9ae6dbe9a: receive RaftClientReply:client-4DCA703261C9->4e694486-3087-4490-b550-6be9ae6dbe9a@group-5365ABA2FD10, cid=20, SUCCESS, logIndex=3, commits[4e694486-3087-4490-b550-6be9ae6dbe9a:c4]
2019-09-04 07:46:30,245 | INFO  | OMAudit | user=jenkins1000 | ip=127.0.0.1 | op=COMMIT_KEY {volume=testcontainerstatemachinefailures, bucket=testcontainerstatemachinefailures, key=ratis, dataSize=10, replicationType=null, replicationFactor=null, keyLocationInfo=[{blockID={containerID=3, localID=102733130474192900}, length=5, offset=0, token=null, pipeline=Pipeline[ Id: 2ea89166-e2d2-47e2-ae8f-17dd85ce7584, Nodes: 4e694486-3087-4490-b550-6be9ae6dbe9a{ip: 192.168.34.9, host: pr-hdds-1569-tfczc-1762686928, networkLocation: /default-rack, certSerialId: null}, Type:RATIS, Factor:ONE, State:OPEN], createVersion=0}, {blockID={containerID=4, localID=102733131674943493}, length=5, offset=0, token=null, pipeline=Pipeline[ Id: 24dae620-0843-479b-91ab-5365aba2fd10, Nodes: 4e694486-3087-4490-b550-6be9ae6dbe9a{ip: 192.168.34.9, host: pr-hdds-1569-tfczc-1762686928, networkLocation: /default-rack, certSerialId: null}, Type:RATIS, Factor:ONE, State:OPEN], createVersion=0}], clientID=102733130473799683} | ret=SUCCESS |  
2019-09-04 07:46:30,260 [StateMachineUpdater:4e694486-3087-4490-b550-6be9ae6dbe9a:group-5365ABA2FD10] INFO  ratis.ContainerStateMachine (ContainerStateMachine.java:takeSnapshot(294)) - group-5365ABA2FD10: Finished taking a snapshot at:(t:1, i:3) file:/workdir/hadoop-ozone/integration-test/target/test-dir/MiniOzoneClusterImpl-68751a6c-b5d9-4680-8ddd-dddd40b06685/datanode-0/data/ratis/24dae620-0843-479b-91ab-5365aba2fd10/sm/snapshot.1_3 time:24
2019-09-04 07:46:30,260 [StateMachineUpdater:4e694486-3087-4490-b550-6be9ae6dbe9a:group-5365ABA2FD10] INFO  impl.StateMachineUpdater (StateMachineUpdater.java:takeSnapshot(242)) - StateMachineUpdater:4e694486-3087-4490-b550-6be9ae6dbe9a:group-5365ABA2FD10: Took a snapshot at index 3
2019-09-04 07:46:30,260 [StateMachineUpdater:4e694486-3087-4490-b550-6be9ae6dbe9a:group-5365ABA2FD10] INFO  impl.StateMachineUpdater (StateMachineUpdater.java:lambda$new$0(80)) - StateMachineUpdater:4e694486-3087-4490-b550-6be9ae6dbe9a:group-5365ABA2FD10: snapshotIndex: updateIncreasingly 1 -> 3
2019-09-04 07:46:30,261 [StateMachineUpdater:4e694486-3087-4490-b550-6be9ae6dbe9a:group-5365ABA2FD10] INFO  ratis.ContainerStateMachine (ContainerStateMachine.java:takeSnapshot(283)) - group-5365ABA2FD10: Taking a snapshot at:(t:1, i:3) file /workdir/hadoop-ozone/integration-test/target/test-dir/MiniOzoneClusterImpl-68751a6c-b5d9-4680-8ddd-dddd40b06685/datanode-0/data/ratis/24dae620-0843-479b-91ab-5365aba2fd10/sm/snapshot.1_3
2019-09-04 07:46:30,264 [main] INFO  datanode.ObjectStoreHandler (ObjectStoreHandler.java:close(155)) - Closing ObjectStoreHandler.
2019-09-04 07:46:30,265 [main] INFO  ozone.HddsDatanodeService (HddsDatanodeService.java:stop(451)) - Stopped plug-in org.apache.hadoop.ozone.web.OzoneHddsDatanodeService@79ca7bea
2019-09-04 07:46:30,284 [StateMachineUpdater:4e694486-3087-4490-b550-6be9ae6dbe9a:group-5365ABA2FD10] INFO  ratis.ContainerStateMachine (ContainerStateMachine.java:takeSnapshot(294)) - group-5365ABA2FD10: Finished taking a snapshot at:(t:1, i:3) file:/workdir/hadoop-ozone/integration-test/target/test-dir/MiniOzoneClusterImpl-68751a6c-b5d9-4680-8ddd-dddd40b06685/datanode-0/data/ratis/24dae620-0843-479b-91ab-5365aba2fd10/sm/snapshot.1_3 time:23
2019-09-04 07:46:30,284 [StateMachineUpdater:4e694486-3087-4490-b550-6be9ae6dbe9a:group-5365ABA2FD10] INFO  impl.StateMachineUpdater (StateMachineUpdater.java:takeSnapshot(242)) - StateMachineUpdater:4e694486-3087-4490-b550-6be9ae6dbe9a:group-5365ABA2FD10: Took a snapshot at index 3
2019-09-04 07:46:30,284 [StateMachineUpdater:4e694486-3087-4490-b550-6be9ae6dbe9a:group-5365ABA2FD10] INFO  impl.StateMachineUpdater (StateMachineUpdater.java:lambda$new$0(80)) - StateMachineUpdater:4e694486-3087-4490-b550-6be9ae6dbe9a:group-5365ABA2FD10: snapshotIndex: updateIncreasingly 3 -> 3
2019-09-04 07:46:30,298 [Datanode State Machine Thread - 0] INFO  statemachine.DatanodeStateMachine (DatanodeStateMachine.java:lambda$startDaemon$0(350)) - Ozone container server started.
2019-09-04 07:46:33,116 [EventQueue-StaleNodeForStaleNodeHandler] INFO  node.StaleNodeHandler (StaleNodeHandler.java:onMessage(58)) - Datanode 4e694486-3087-4490-b550-6be9ae6dbe9a{ip: 192.168.34.9, host: pr-hdds-1569-tfczc-1762686928, networkLocation: /default-rack, certSerialId: null} moved to stale state. Finalizing its pipelines [PipelineID=24dae620-0843-479b-91ab-5365aba2fd10]
2019-09-04 07:46:33,116 [EventQueue-StaleNodeForStaleNodeHandler] INFO  pipeline.SCMPipelineManager (SCMPipelineManager.java:finalizeAndDestroyPipeline(309)) - destroying pipeline:Pipeline[ Id: 24dae620-0843-479b-91ab-5365aba2fd10, Nodes: 4e694486-3087-4490-b550-6be9ae6dbe9a{ip: 192.168.34.9, host: pr-hdds-1569-tfczc-1762686928, networkLocation: /default-rack, certSerialId: null}, Type:RATIS, Factor:ONE, State:OPEN]
2019-09-04 07:46:33,116 [EventQueue-StaleNodeForStaleNodeHandler] INFO  pipeline.PipelineStateManager (PipelineStateManager.java:finalizePipeline(123)) - Pipeline Pipeline[ Id: 24dae620-0843-479b-91ab-5365aba2fd10, Nodes: 4e694486-3087-4490-b550-6be9ae6dbe9a{ip: 192.168.34.9, host: pr-hdds-1569-tfczc-1762686928, networkLocation: /default-rack, certSerialId: null}, Type:RATIS, Factor:ONE, State:CLOSED] moved to CLOSED state
2019-09-04 07:46:33,116 [EventQueue-CloseContainerForCloseContainerEventHandler] INFO  container.CloseContainerEventHandler (CloseContainerEventHandler.java:onMessage(61)) - Close container Event triggered for container : #4
2019-09-04 07:46:35,267 [main] INFO  ozoneimpl.OzoneContainer (OzoneContainer.java:stop(199)) - Attempting to stop container services.
2019-09-04 07:46:35,267 [main] INFO  impl.RaftServerProxy (RaftServerProxy.java:lambda$close$4(314)) - 4e694486-3087-4490-b550-6be9ae6dbe9a: close
2019-09-04 07:46:35,267 [main] INFO  impl.RaftServerImpl (RaftServerImpl.java:lambda$shutdown$3(245)) - 4e694486-3087-4490-b550-6be9ae6dbe9a: shutdown group-5365ABA2FD10
2019-09-04 07:46:35,268 [main] INFO  util.JmxRegister (JmxRegister.java:unregister(73)) - Successfully un-registered JMX Bean with object name Ratis:service=RaftServer,group=group-5365ABA2FD10,id=4e694486-3087-4490-b550-6be9ae6dbe9a
2019-09-04 07:46:35,268 [main] INFO  impl.RoleInfo (RoleInfo.java:shutdownLeaderState(104)) - 4e694486-3087-4490-b550-6be9ae6dbe9a: shutdown LeaderState
2019-09-04 07:46:35,268 [main] INFO  impl.PendingRequests (PendingRequests.java:sendNotLeaderResponses(202)) - 4e694486-3087-4490-b550-6be9ae6dbe9a-PendingRequests: sendNotLeaderResponses
2019-09-04 07:46:35,273 [main] INFO  impl.StateMachineUpdater (StateMachineUpdater.java:stopAndJoin(115)) - StateMachineUpdater:4e694486-3087-4490-b550-6be9ae6dbe9a:group-5365ABA2FD10: set stopIndex = 4
2019-09-04 07:46:35,273 [StateMachineUpdater:4e694486-3087-4490-b550-6be9ae6dbe9a:group-5365ABA2FD10] INFO  ratis.ContainerStateMachine (ContainerStateMachine.java:takeSnapshot(283)) - group-5365ABA2FD10: Taking a snapshot at:(t:1, i:3) file /workdir/hadoop-ozone/integration-test/target/test-dir/MiniOzoneClusterImpl-68751a6c-b5d9-4680-8ddd-dddd40b06685/datanode-0/data/ratis/24dae620-0843-479b-91ab-5365aba2fd10/sm/snapshot.1_3
2019-09-04 07:46:35,297 [StateMachineUpdater:4e694486-3087-4490-b550-6be9ae6dbe9a:group-5365ABA2FD10] INFO  ratis.ContainerStateMachine (ContainerStateMachine.java:takeSnapshot(294)) - group-5365ABA2FD10: Finished taking a snapshot at:(t:1, i:3) file:/workdir/hadoop-ozone/integration-test/target/test-dir/MiniOzoneClusterImpl-68751a6c-b5d9-4680-8ddd-dddd40b06685/datanode-0/data/ratis/24dae620-0843-479b-91ab-5365aba2fd10/sm/snapshot.1_3 time:24
2019-09-04 07:46:35,297 [StateMachineUpdater:4e694486-3087-4490-b550-6be9ae6dbe9a:group-5365ABA2FD10] INFO  impl.StateMachineUpdater (StateMachineUpdater.java:takeSnapshot(242)) - StateMachineUpdater:4e694486-3087-4490-b550-6be9ae6dbe9a:group-5365ABA2FD10: Took a snapshot at index 3
2019-09-04 07:46:35,297 [StateMachineUpdater:4e694486-3087-4490-b550-6be9ae6dbe9a:group-5365ABA2FD10] INFO  impl.StateMachineUpdater (StateMachineUpdater.java:lambda$new$0(80)) - StateMachineUpdater:4e694486-3087-4490-b550-6be9ae6dbe9a:group-5365ABA2FD10: snapshotIndex: updateIncreasingly 3 -> 3
2019-09-04 07:46:35,297 [main] INFO  impl.RaftServerImpl (ServerState.java:close(394)) - 4e694486-3087-4490-b550-6be9ae6dbe9a:group-5365ABA2FD10 closes. The last applied log index is 4
2019-09-04 07:46:35,300 [4e694486-3087-4490-b550-6be9ae6dbe9a-SegmentedRaftLogWorker:Storage Directory /workdir/hadoop-ozone/integration-test/target/test-dir/MiniOzoneClusterImpl-68751a6c-b5d9-4680-8ddd-dddd40b06685/datanode-0/data/ratis/24dae620-0843-479b-91ab-5365aba2fd10] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:run(313)) - 4e694486-3087-4490-b550-6be9ae6dbe9a-SegmentedRaftLogWorker:Storage Directory /workdir/hadoop-ozone/integration-test/target/test-dir/MiniOzoneClusterImpl-68751a6c-b5d9-4680-8ddd-dddd40b06685/datanode-0/data/ratis/24dae620-0843-479b-91ab-5365aba2fd10 was interrupted, exiting. There are 0 tasks remaining in the queue.
2019-09-04 07:46:35,301 [main] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:close(228)) - 4e694486-3087-4490-b550-6be9ae6dbe9a-SegmentedRaftLogWorker:Storage Directory /workdir/hadoop-ozone/integration-test/target/test-dir/MiniOzoneClusterImpl-68751a6c-b5d9-4680-8ddd-dddd40b06685/datanode-0/data/ratis/24dae620-0843-479b-91ab-5365aba2fd10 close()
2019-09-04 07:46:35,303 [main] INFO  server.GrpcService (GrpcService.java:closeImpl(155)) - 4e694486-3087-4490-b550-6be9ae6dbe9a: shutdown server with port 39640 now
2019-09-04 07:46:35,304 [main] INFO  server.GrpcService (GrpcService.java:closeImpl(163)) - 4e694486-3087-4490-b550-6be9ae6dbe9a: shutdown server with port 39640 successfully
2019-09-04 07:46:35,305 [main] INFO  utils.BackgroundService (BackgroundService.java:shutdown(148)) - Shutting down service BlockDeletingService
2019-09-04 07:46:35,306 [refreshUsed-/workdir/hadoop-ozone/integration-test/target/test-dir/MiniOzoneClusterImpl-68751a6c-b5d9-4680-8ddd-dddd40b06685/datanode-0/data/containers] WARN  fs.CachingGetSpaceUsed (CachingGetSpaceUsed.java:run(183)) - Thread Interrupted waiting to refresh disk information: sleep interrupted
2019-09-04 07:46:35,327 [main] INFO  statemachine.DatanodeStateMachine (DatanodeStateMachine.java:stopDaemon(395)) - Ozone container server stopped.
2019-09-04 07:46:35,329 [main] INFO  handler.ContextHandler (ContextHandler.java:doStop(910)) - Stopped o.e.j.w.WebAppContext@6b2fdffc{/,null,UNAVAILABLE}{/hddsDatanode}
2019-09-04 07:46:35,329 [main] INFO  server.AbstractConnector (AbstractConnector.java:doStop(318)) - Stopped ServerConnector@2ca3d826{HTTP/1.1,[http/1.1]}{0.0.0.0:39773}
2019-09-04 07:46:35,330 [main] INFO  handler.ContextHandler (ContextHandler.java:doStop(910)) - Stopped o.e.j.s.ServletContextHandler@16cf8438{/static,jar:file:/home/user/.m2/repository/org/apache/hadoop/hadoop-hdds-container-service/0.5.0-SNAPSHOT/hadoop-hdds-container-service-0.5.0-SNAPSHOT.jar!/webapps/static,UNAVAILABLE}
2019-09-04 07:46:35,330 [main] INFO  handler.ContextHandler (ContextHandler.java:doStop(910)) - Stopped o.e.j.s.ServletContextHandler@4ef18604{/logs,file:///workdir/hadoop-ozone/integration-test/target/log,UNAVAILABLE}
2019-09-04 07:46:35,331 [main] INFO  ozone.MiniOzoneClusterImpl (MiniOzoneClusterImpl.java:lambda$waitForClusterToBeReady$0(142)) - Cluster is ready. Got 0 of 0 DN Heartbeats.
2019-09-04 07:46:35,334 [main] INFO  impl.MetricsSystemImpl (MetricsSystemImpl.java:init(158)) - HddsDatanode metrics system started (again)
2019-09-04 07:46:35,338 [main] INFO  ozone.HddsDatanodeService (HddsDatanodeService.java:start(184)) - HddsDatanodeService host:pr-hdds-1569-tfczc-1762686928 ip:192.168.34.9
2019-09-04 07:46:35,341 [main] INFO  volume.VolumeUsage (VolumeUsage.java:loadScmUsed(144)) - Cached ScmUsed found for /workdir/hadoop-ozone/integration-test/target/test-dir/MiniOzoneClusterImpl-68751a6c-b5d9-4680-8ddd-dddd40b06685/datanode-0/data/containers : 4096 
2019-09-04 07:46:35,342 [main] INFO  volume.HddsVolume (HddsVolume.java:<init>(176)) - Creating Volume: /workdir/hadoop-ozone/integration-test/target/test-dir/MiniOzoneClusterImpl-68751a6c-b5d9-4680-8ddd-dddd40b06685/datanode-0/data/containers/hdds of  storage type : DISK and capacity : 1482555576320
2019-09-04 07:46:35,343 [main] INFO  volume.VolumeSet (VolumeSet.java:initializeVolumeSet(170)) - Added Volume : /workdir/hadoop-ozone/integration-test/target/test-dir/MiniOzoneClusterImpl-68751a6c-b5d9-4680-8ddd-dddd40b06685/datanode-0/data/containers/hdds to VolumeSet
2019-09-04 07:46:35,343 [main] INFO  volume.ThrottledAsyncChecker (ThrottledAsyncChecker.java:schedule(140)) - Scheduling a check for org.apache.hadoop.ozone.container.common.volume.HddsVolume@27e44e9c
2019-09-04 07:46:35,343 [main] INFO  volume.HddsVolumeChecker (HddsVolumeChecker.java:checkAllVolumes(203)) - Scheduled health check for volume org.apache.hadoop.ozone.container.common.volume.HddsVolume@27e44e9c
2019-09-04 07:46:35,375 [main] INFO  impl.RaftServerProxy (ConfUtils.java:logGet(43)) - raft.rpc.type = GRPC (default)
2019-09-04 07:46:35,376 [main] INFO  grpc.GrpcFactory (GrpcFactory.java:checkPooledByteBufAllocatorUseCacheForAllThreads(45)) - PERFORMANCE WARNING: useCacheForAllThreads is true that may cause Netty to create a lot garbage objects and, as a result, trigger GC.
	It is recommended to disable useCacheForAllThreads by setting -Dorg.apache.ratis.thirdparty.io.netty.allocator.useCacheForAllThreads=false in command line.
2019-09-04 07:46:35,376 [main] INFO  grpc.GrpcConfigKeys$Server (ConfUtils.java:logGet(43)) - raft.grpc.server.port = 39640 (custom)
2019-09-04 07:46:35,376 [main] INFO  server.GrpcService (ConfUtils.java:logGet(43)) - raft.grpc.message.size.max = 33570816 (custom)
2019-09-04 07:46:35,376 [main] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.log.appender.buffer.byte-limit = 33554432 (custom)
2019-09-04 07:46:35,376 [main] INFO  server.GrpcService (ConfUtils.java:logGet(43)) - raft.grpc.flow.control.window = 1MB (=1048576) (default)
2019-09-04 07:46:35,377 [main] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.rpc.request.timeout = 3000ms (default)
2019-09-04 07:46:35,377 [main] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.storage.dir = [/workdir/hadoop-ozone/integration-test/target/test-dir/MiniOzoneClusterImpl-68751a6c-b5d9-4680-8ddd-dddd40b06685/datanode-0/data/ratis] (custom)
2019-09-04 07:46:35,377 [main] INFO  impl.RaftServerProxy (RaftServerProxy.java:lambda$null$0(191)) - 4e694486-3087-4490-b550-6be9ae6dbe9a: found a subdirectory /workdir/hadoop-ozone/integration-test/target/test-dir/MiniOzoneClusterImpl-68751a6c-b5d9-4680-8ddd-dddd40b06685/datanode-0/data/ratis/24dae620-0843-479b-91ab-5365aba2fd10
2019-09-04 07:46:35,378 [main] INFO  impl.RaftServerProxy (RaftServerProxy.java:addNew(89)) - 4e694486-3087-4490-b550-6be9ae6dbe9a: addNew group-5365ABA2FD10:[] returns group-5365ABA2FD10:java.util.concurrent.CompletableFuture@5329f6b3[Not completed]
2019-09-04 07:46:35,378 [main] INFO  replication.SimpleContainerDownloader (SimpleContainerDownloader.java:<init>(72)) - Starting container downloader service to copy containers to replicate.
2019-09-04 07:46:35,383 [main] INFO  hdfs.DFSUtil (DFSUtil.java:httpServerTemplateForNNAndJN(1641)) - Starting Web-server for hddsDatanode at: http://0.0.0.0:39773
2019-09-04 07:46:35,385 [pool-55-thread-1] INFO  impl.RaftServerImpl (RaftServerImpl.java:<init>(93)) - 4e694486-3087-4490-b550-6be9ae6dbe9a: new RaftServerImpl for group-5365ABA2FD10:[] with ContainerStateMachine:uninitialized
2019-09-04 07:46:35,386 [pool-55-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.rpc.timeout.min = 5s (custom)
2019-09-04 07:46:35,386 [pool-55-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.rpc.timeout.max = 5200ms (custom)
2019-09-04 07:46:35,386 [pool-55-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.rpcslowness.timeout = 120s (custom)
2019-09-04 07:46:35,386 [pool-55-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.sleep.deviation.threshold = 300 (default)
2019-09-04 07:46:35,386 [pool-55-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.log.appender.install.snapshot.enabled = false (custom)
2019-09-04 07:46:35,387 [pool-55-thread-1] INFO  impl.RaftServerImpl (ServerState.java:<init>(105)) - 4e694486-3087-4490-b550-6be9ae6dbe9a:group-5365ABA2FD10 ConfigurationManager, init=-1: [], old=null, confs=<EMPTY_MAP>
2019-09-04 07:46:35,387 [pool-55-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.storage.dir = [/workdir/hadoop-ozone/integration-test/target/test-dir/MiniOzoneClusterImpl-68751a6c-b5d9-4680-8ddd-dddd40b06685/datanode-0/data/ratis] (custom)
2019-09-04 07:46:35,387 [main] INFO  server.AuthenticationFilter (AuthenticationFilter.java:constructSecretProvider(240)) - Unable to initialize FileSignerSecretProvider, falling back to use random secrets.
2019-09-04 07:46:35,388 [main] WARN  http.HttpRequestLog (HttpRequestLog.java:getRequestLog(97)) - Jetty request log can only be enabled using Log4j
2019-09-04 07:46:35,390 [main] INFO  http.HttpServer2 (HttpServer2.java:addGlobalFilter(975)) - Added global filter 'safety' (class=org.apache.hadoop.http.HttpServer2$QuotingInputFilter)
2019-09-04 07:46:35,391 [main] INFO  http.HttpServer2 (HttpServer2.java:addFilter(948)) - Added filter static_user_filter (class=org.apache.hadoop.http.lib.StaticUserWebFilter$StaticUserFilter) to context hddsDatanode
2019-09-04 07:46:35,392 [main] INFO  http.HttpServer2 (HttpServer2.java:addFilter(958)) - Added filter static_user_filter (class=org.apache.hadoop.http.lib.StaticUserWebFilter$StaticUserFilter) to context logs
2019-09-04 07:46:35,392 [main] INFO  http.HttpServer2 (HttpServer2.java:addFilter(958)) - Added filter static_user_filter (class=org.apache.hadoop.http.lib.StaticUserWebFilter$StaticUserFilter) to context static
2019-09-04 07:46:35,393 [main] INFO  http.HttpServer2 (HttpServer2.java:bindListener(1191)) - Jetty bound to port 39773
2019-09-04 07:46:35,393 [main] INFO  server.Server (Server.java:doStart(351)) - jetty-9.3.24.v20180605, build timestamp: 2018-06-05T17:11:56Z, git hash: 84205aa28f11a4f31f2a3b86d1bba2cc8ab69827
2019-09-04 07:46:35,398 [main] INFO  handler.ContextHandler (ContextHandler.java:doStart(781)) - Started o.e.j.s.ServletContextHandler@66713605{/logs,file:///workdir/hadoop-ozone/integration-test/target/log,AVAILABLE}
2019-09-04 07:46:35,399 [main] INFO  handler.ContextHandler (ContextHandler.java:doStart(781)) - Started o.e.j.s.ServletContextHandler@7d50f2a8{/static,jar:file:/home/user/.m2/repository/org/apache/hadoop/hadoop-hdds-container-service/0.5.0-SNAPSHOT/hadoop-hdds-container-service-0.5.0-SNAPSHOT.jar!/webapps/static,AVAILABLE}
2019-09-04 07:46:35,409 [pool-55-thread-1] INFO  storage.RaftStorageDirectory (RaftStorageDirectory.java:tryLock(328)) - Lock on /workdir/hadoop-ozone/integration-test/target/test-dir/MiniOzoneClusterImpl-68751a6c-b5d9-4680-8ddd-dddd40b06685/datanode-0/data/ratis/24dae620-0843-479b-91ab-5365aba2fd10/in_use.lock acquired by nodename 1142@pr-hdds-1569-tfczc-1762686928
2019-09-04 07:46:35,411 [pool-55-thread-1] INFO  ratis.ContainerStateMachine (ContainerStateMachine.java:loadSnapshot(235)) - group-5365ABA2FD10: Setting the last applied index to (t:1, i:3)
2019-09-04 07:46:35,411 [pool-55-thread-1] INFO  impl.RaftServerImpl (ServerState.java:setRaftConf(361)) - 4e694486-3087-4490-b550-6be9ae6dbe9a:group-5365ABA2FD10 set configuration 0: [4e694486-3087-4490-b550-6be9ae6dbe9a:192.168.34.9:39640], old=null at 0
2019-09-04 07:46:35,412 [pool-55-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.leader.election.timeout = 120s (custom)
2019-09-04 07:46:35,412 [pool-55-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.log.use.memory = false (default)
2019-09-04 07:46:35,412 [pool-55-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.log.purge.gap = 1000000 (custom)
2019-09-04 07:46:35,412 [pool-55-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.log.appender.buffer.byte-limit = 33554432 (custom)
2019-09-04 07:46:35,412 [pool-55-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.log.segment.size.max = 1048576 (custom)
2019-09-04 07:46:35,413 [pool-55-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.log.segment.cache.num.max = 2 (custom)
2019-09-04 07:46:35,413 [pool-55-thread-1] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:<init>(172)) - new 4e694486-3087-4490-b550-6be9ae6dbe9a-SegmentedRaftLogWorker:Storage Directory /workdir/hadoop-ozone/integration-test/target/test-dir/MiniOzoneClusterImpl-68751a6c-b5d9-4680-8ddd-dddd40b06685/datanode-0/data/ratis/24dae620-0843-479b-91ab-5365aba2fd10 for RaftStorage:Storage Directory /workdir/hadoop-ozone/integration-test/target/test-dir/MiniOzoneClusterImpl-68751a6c-b5d9-4680-8ddd-dddd40b06685/datanode-0/data/ratis/24dae620-0843-479b-91ab-5365aba2fd10
2019-09-04 07:46:35,413 [pool-55-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.log.queue.byte-limit = 2147483647 (custom)
2019-09-04 07:46:35,413 [pool-55-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.log.queue.element-limit = 1024 (custom)
2019-09-04 07:46:35,414 [pool-55-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.log.segment.size.max = 1048576 (custom)
2019-09-04 07:46:35,414 [pool-55-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.log.preallocated.size = 16384 (custom)
2019-09-04 07:46:35,414 [pool-55-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.log.write.buffer.size = 33554432 (custom)
2019-09-04 07:46:35,414 [pool-55-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.log.force.sync.num = 128 (default)
2019-09-04 07:46:35,414 [pool-55-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.log.statemachine.data.sync = true (default)
2019-09-04 07:46:35,415 [pool-55-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.log.statemachine.data.sync.timeout = 10s (default)
2019-09-04 07:46:35,415 [pool-55-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.log.statemachine.data.sync.timeout.retry = -1 (default)
2019-09-04 07:46:35,415 [pool-55-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.log.statemachine.data.caching.enabled = true (custom)
2019-09-04 07:46:35,416 [pool-55-thread-1] INFO  impl.RaftServerImpl (ServerState.java:setRaftConf(361)) - 4e694486-3087-4490-b550-6be9ae6dbe9a:group-5365ABA2FD10 set configuration 0: [4e694486-3087-4490-b550-6be9ae6dbe9a:192.168.34.9:39640], old=null at 0
2019-09-04 07:46:35,417 [pool-55-thread-1] INFO  segmented.LogSegment (LogSegment.java:loadSegment(145)) - Successfully read 5 entries from segment file /workdir/hadoop-ozone/integration-test/target/test-dir/MiniOzoneClusterImpl-68751a6c-b5d9-4680-8ddd-dddd40b06685/datanode-0/data/ratis/24dae620-0843-479b-91ab-5365aba2fd10/current/log_inprogress_0
2019-09-04 07:46:35,417 [pool-55-thread-1] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:lambda$new$0(132)) - 4e694486-3087-4490-b550-6be9ae6dbe9a-SegmentedRaftLogWorker:Storage Directory /workdir/hadoop-ozone/integration-test/target/test-dir/MiniOzoneClusterImpl-68751a6c-b5d9-4680-8ddd-dddd40b06685/datanode-0/data/ratis/24dae620-0843-479b-91ab-5365aba2fd10: flushIndex: setUnconditionally 0 -> 4
2019-09-04 07:46:35,443 [pool-55-thread-1] INFO  raftlog.RaftLog (RaftLog.java:lambda$new$0(62)) - 4e694486-3087-4490-b550-6be9ae6dbe9a: commitIndex: updateToMax old=3, new=3, updated? false
2019-09-04 07:46:35,444 [pool-55-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.snapshot.auto.trigger.enabled = true (custom)
2019-09-04 07:46:35,444 [pool-55-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.snapshot.auto.trigger.threshold = 1 (custom)
2019-09-04 07:46:35,444 [pool-55-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.retrycache.expirytime = 600000ms (custom)
2019-09-04 07:46:35,445 [main] INFO  handler.ContextHandler (ContextHandler.java:doStart(781)) - Started o.e.j.w.WebAppContext@ad3f70a{/,file:///tmp/jetty-0.0.0.0-39773-hddsDatanode-_-any-2706562007047365593.dir/webapp/,AVAILABLE}{/hddsDatanode}
2019-09-04 07:46:35,447 [main] INFO  server.AbstractConnector (AbstractConnector.java:doStart(278)) - Started ServerConnector@54ccb3{HTTP/1.1,[http/1.1]}{0.0.0.0:39773}
2019-09-04 07:46:35,448 [main] INFO  server.Server (Server.java:doStart(419)) - Started @77049ms
2019-09-04 07:46:35,449 [main] INFO  server.BaseHttpServer (BaseHttpServer.java:updateConnectorAddress(213)) - HTTP server of HDDSDATANODE is listening at http://0.0.0.0:39773
Sep 04, 2019 7:46:35 AM com.sun.jersey.server.impl.application.WebApplicationImpl _initiate
INFO: Initiating Jersey application, version 'Jersey: 1.19 02/11/2015 03:25 AM'
2019-09-04 07:46:35,617 | INFO  | ObjectStoreRestHttpServer | Listening HDDS REST traffic on /0.0.0.0:43848 |  
2019-09-04 07:46:35,617 [main] INFO  ozone.HddsDatanodeService (HddsDatanodeService.java:startPlugins(395)) - Started plug-in org.apache.hadoop.ozone.web.OzoneHddsDatanodeService@4861cca9
2019-09-04 07:46:35,618 [main] INFO  ozone.MiniOzoneClusterImpl (MiniOzoneClusterImpl.java:lambda$waitForClusterToBeReady$0(142)) - Waiting for cluster to be ready. Got 0 of 1 DN Heartbeats.
2019-09-04 07:46:35,619 [org.apache.hadoop.util.JvmPauseMonitor$Monitor@4d64721f] INFO  util.JvmPauseMonitor (JvmPauseMonitor.java:run(188)) - Starting JVM pause monitor
2019-09-04 07:46:36,618 [main] INFO  ozone.MiniOzoneClusterImpl (MiniOzoneClusterImpl.java:lambda$waitForClusterToBeReady$0(142)) - Waiting for cluster to be ready. Got 0 of 1 DN Heartbeats.
2019-09-04 07:46:37,619 [main] INFO  ozone.MiniOzoneClusterImpl (MiniOzoneClusterImpl.java:lambda$waitForClusterToBeReady$0(142)) - Waiting for cluster to be ready. Got 0 of 1 DN Heartbeats.
2019-09-04 07:46:37,620 | INFO  | SCMAudit | user=jenkins1000 | ip=192.168.34.9 | op=GET_VERSION null | ret=SUCCESS |  
2019-09-04 07:46:37,622 [Datanode State Machine Thread - 0] INFO  ozoneimpl.OzoneContainer (OzoneContainer.java:start(186)) - Attempting to start container services.
2019-09-04 07:46:37,622 [Datanode State Machine Thread - 0] INFO  ozoneimpl.OzoneContainer (OzoneContainer.java:startContainerScrub(160)) - Background container scrubber has been disabled by hdds.containerscrub.enabled
2019-09-04 07:46:37,622 [Datanode State Machine Thread - 0] INFO  ratis.XceiverServerRatis (XceiverServerRatis.java:start(404)) - Starting XceiverServerRatis 4e694486-3087-4490-b550-6be9ae6dbe9a at port 39640
2019-09-04 07:46:37,632 [Datanode State Machine Thread - 0] INFO  impl.RaftServerImpl (RaftServerImpl.java:start(180)) - 4e694486-3087-4490-b550-6be9ae6dbe9a: start group-5365ABA2FD10
2019-09-04 07:46:37,633 [Datanode State Machine Thread - 0] INFO  impl.RaftServerImpl (RaftServerImpl.java:setRole(171)) - 4e694486-3087-4490-b550-6be9ae6dbe9a:group-5365ABA2FD10 changes role from null to FOLLOWER at term 1 for startAsFollower
2019-09-04 07:46:37,634 [Datanode State Machine Thread - 0] INFO  impl.RoleInfo (RoleInfo.java:updateAndGet(143)) - 4e694486-3087-4490-b550-6be9ae6dbe9a: start FollowerState
2019-09-04 07:46:37,634 [Datanode State Machine Thread - 0] INFO  util.JmxRegister (JmxRegister.java:tryRegister(44)) - Successfully registered JMX Bean with object name Ratis:service=RaftServer,group=group-5365ABA2FD10,id=4e694486-3087-4490-b550-6be9ae6dbe9a
2019-09-04 07:46:37,636 [Datanode State Machine Thread - 0] INFO  impl.RaftServerProxy (RaftServerProxy.java:lambda$start$3(299)) - 4e694486-3087-4490-b550-6be9ae6dbe9a: start RPC server
2019-09-04 07:46:37,637 [Datanode State Machine Thread - 0] INFO  server.GrpcService (GrpcService.java:startImpl(149)) - 4e694486-3087-4490-b550-6be9ae6dbe9a: GrpcService started, listening on 0.0.0.0/0.0.0.0:39640
2019-09-04 07:46:38,619 [main] INFO  ozone.MiniOzoneClusterImpl (MiniOzoneClusterImpl.java:lambda$waitForClusterToBeReady$0(142)) - Waiting for cluster to be ready. Got 0 of 1 DN Heartbeats.
2019-09-04 07:46:39,620 [main] INFO  ozone.MiniOzoneClusterImpl (MiniOzoneClusterImpl.java:lambda$waitForClusterToBeReady$0(142)) - Waiting for cluster to be ready. Got 0 of 1 DN Heartbeats.
2019-09-04 07:46:39,622 | INFO  | SCMAudit | user=jenkins1000 | ip=192.168.34.9 | op=REGISTER {datanodeDetails=4e694486-3087-4490-b550-6be9ae6dbe9a{ip: 192.168.34.9, host: pr-hdds-1569-tfczc-1762686928, networkLocation: /default-rack, certSerialId: null}} | ret=SUCCESS |  
2019-09-04 07:46:40,620 [main] INFO  ozone.MiniOzoneClusterImpl (MiniOzoneClusterImpl.java:lambda$waitForClusterToBeReady$0(142)) - Waiting for cluster to be ready. Got 0 of 1 DN Heartbeats.
2019-09-04 07:46:41,621 [main] INFO  ozone.MiniOzoneClusterImpl (MiniOzoneClusterImpl.java:lambda$waitForClusterToBeReady$0(142)) - Waiting for cluster to be ready. Got 0 of 1 DN Heartbeats.
2019-09-04 07:46:41,622 | INFO  | SCMAudit | user=jenkins1000 | ip=192.168.34.9 | op=SEND_HEARTBEAT {datanodeUUID=4e694486-3087-4490-b550-6be9ae6dbe9a, command=[commandType: closeContainerCommand closeContainerCommandProto { containerID: 4 pipelineID { id: "24dae620-0843-479b-91ab-5365aba2fd10" } cmdId: 4 force: false } ]} | ret=SUCCESS |  
2019-09-04 07:46:41,637 [grpc-default-executor-0] INFO  impl.RaftServerProxy (RaftServerProxy.java:addNew(89)) - 4e694486-3087-4490-b550-6be9ae6dbe9a: addNew group-F07366150A9C:[4e694486-3087-4490-b550-6be9ae6dbe9a:192.168.34.9:39640] returns group-F07366150A9C:java.util.concurrent.CompletableFuture@137ef4f4[Not completed]
2019-09-04 07:46:41,639 [pool-55-thread-1] INFO  impl.RaftServerImpl (RaftServerImpl.java:<init>(93)) - 4e694486-3087-4490-b550-6be9ae6dbe9a: new RaftServerImpl for group-F07366150A9C:[4e694486-3087-4490-b550-6be9ae6dbe9a:192.168.34.9:39640] with ContainerStateMachine:uninitialized
2019-09-04 07:46:41,639 [pool-55-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.rpc.timeout.min = 5s (custom)
2019-09-04 07:46:41,639 [pool-55-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.rpc.timeout.max = 5200ms (custom)
2019-09-04 07:46:41,639 [pool-55-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.rpcslowness.timeout = 120s (custom)
2019-09-04 07:46:41,639 [pool-55-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.sleep.deviation.threshold = 300 (default)
2019-09-04 07:46:41,640 [pool-55-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.log.appender.install.snapshot.enabled = false (custom)
2019-09-04 07:46:41,640 [pool-55-thread-1] INFO  impl.RaftServerImpl (ServerState.java:<init>(105)) - 4e694486-3087-4490-b550-6be9ae6dbe9a:group-F07366150A9C ConfigurationManager, init=-1: [4e694486-3087-4490-b550-6be9ae6dbe9a:192.168.34.9:39640], old=null, confs=<EMPTY_MAP>
2019-09-04 07:46:41,640 [pool-55-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.storage.dir = [/workdir/hadoop-ozone/integration-test/target/test-dir/MiniOzoneClusterImpl-68751a6c-b5d9-4680-8ddd-dddd40b06685/datanode-0/data/ratis] (custom)
2019-09-04 07:46:41,640 [pool-55-thread-1] INFO  storage.RaftStorageDirectory (RaftStorageDirectory.java:analyzeStorage(246)) - The storage directory /workdir/hadoop-ozone/integration-test/target/test-dir/MiniOzoneClusterImpl-68751a6c-b5d9-4680-8ddd-dddd40b06685/datanode-0/data/ratis/7779207f-502e-484b-a9e1-f07366150a9c does not exist. Creating ...
2019-09-04 07:46:41,654 [pool-55-thread-1] INFO  storage.RaftStorageDirectory (RaftStorageDirectory.java:tryLock(328)) - Lock on /workdir/hadoop-ozone/integration-test/target/test-dir/MiniOzoneClusterImpl-68751a6c-b5d9-4680-8ddd-dddd40b06685/datanode-0/data/ratis/7779207f-502e-484b-a9e1-f07366150a9c/in_use.lock acquired by nodename 1142@pr-hdds-1569-tfczc-1762686928
2019-09-04 07:46:41,667 [pool-55-thread-1] INFO  storage.RaftStorage (RaftStorage.java:format(72)) - Storage directory /workdir/hadoop-ozone/integration-test/target/test-dir/MiniOzoneClusterImpl-68751a6c-b5d9-4680-8ddd-dddd40b06685/datanode-0/data/ratis/7779207f-502e-484b-a9e1-f07366150a9c has been successfully formatted.
2019-09-04 07:46:41,668 [pool-55-thread-1] INFO  ratis.ContainerStateMachine (ContainerStateMachine.java:loadSnapshot(226)) - group-F07366150A9C: The snapshot info is null. Setting the last applied indexto:(t:0, i:~)
2019-09-04 07:46:41,668 [pool-55-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.leader.election.timeout = 120s (custom)
2019-09-04 07:46:41,668 [pool-55-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.log.use.memory = false (default)
2019-09-04 07:46:41,668 [pool-55-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.log.purge.gap = 1000000 (custom)
2019-09-04 07:46:41,668 [pool-55-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.log.appender.buffer.byte-limit = 33554432 (custom)
2019-09-04 07:46:41,668 [pool-55-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.log.segment.size.max = 1048576 (custom)
2019-09-04 07:46:41,669 [pool-55-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.log.segment.cache.num.max = 2 (custom)
2019-09-04 07:46:41,669 [pool-55-thread-1] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:<init>(172)) - new 4e694486-3087-4490-b550-6be9ae6dbe9a-SegmentedRaftLogWorker:Storage Directory /workdir/hadoop-ozone/integration-test/target/test-dir/MiniOzoneClusterImpl-68751a6c-b5d9-4680-8ddd-dddd40b06685/datanode-0/data/ratis/7779207f-502e-484b-a9e1-f07366150a9c for RaftStorage:Storage Directory /workdir/hadoop-ozone/integration-test/target/test-dir/MiniOzoneClusterImpl-68751a6c-b5d9-4680-8ddd-dddd40b06685/datanode-0/data/ratis/7779207f-502e-484b-a9e1-f07366150a9c
2019-09-04 07:46:41,669 [pool-55-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.log.queue.byte-limit = 2147483647 (custom)
2019-09-04 07:46:41,669 [pool-55-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.log.queue.element-limit = 1024 (custom)
2019-09-04 07:46:41,669 [pool-55-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.log.segment.size.max = 1048576 (custom)
2019-09-04 07:46:41,670 [pool-55-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.log.preallocated.size = 16384 (custom)
2019-09-04 07:46:41,670 [pool-55-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.log.write.buffer.size = 33554432 (custom)
2019-09-04 07:46:41,670 [pool-55-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.log.force.sync.num = 128 (default)
2019-09-04 07:46:41,670 [pool-55-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.log.statemachine.data.sync = true (default)
2019-09-04 07:46:41,670 [pool-55-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.log.statemachine.data.sync.timeout = 10s (default)
2019-09-04 07:46:41,670 [pool-55-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.log.statemachine.data.sync.timeout.retry = -1 (default)
2019-09-04 07:46:41,670 [pool-55-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.log.statemachine.data.caching.enabled = true (custom)
2019-09-04 07:46:41,671 [pool-55-thread-1] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:lambda$new$0(132)) - 4e694486-3087-4490-b550-6be9ae6dbe9a-SegmentedRaftLogWorker:Storage Directory /workdir/hadoop-ozone/integration-test/target/test-dir/MiniOzoneClusterImpl-68751a6c-b5d9-4680-8ddd-dddd40b06685/datanode-0/data/ratis/7779207f-502e-484b-a9e1-f07366150a9c: flushIndex: setUnconditionally 0 -> -1
2019-09-04 07:46:41,671 [pool-55-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.snapshot.auto.trigger.enabled = true (custom)
2019-09-04 07:46:41,671 [pool-55-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.snapshot.auto.trigger.threshold = 1 (custom)
2019-09-04 07:46:41,672 [pool-55-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.retrycache.expirytime = 600000ms (custom)
2019-09-04 07:46:41,672 [pool-55-thread-1] INFO  impl.RaftServerImpl (RaftServerImpl.java:start(180)) - 4e694486-3087-4490-b550-6be9ae6dbe9a: start group-F07366150A9C
2019-09-04 07:46:41,672 [pool-55-thread-1] INFO  impl.RaftServerImpl (RaftServerImpl.java:setRole(171)) - 4e694486-3087-4490-b550-6be9ae6dbe9a:group-F07366150A9C changes role from null to FOLLOWER at term 0 for startAsFollower
2019-09-04 07:46:41,672 [pool-55-thread-1] INFO  impl.RoleInfo (RoleInfo.java:updateAndGet(143)) - 4e694486-3087-4490-b550-6be9ae6dbe9a: start FollowerState
2019-09-04 07:46:41,673 [pool-55-thread-1] INFO  util.JmxRegister (JmxRegister.java:tryRegister(44)) - Successfully registered JMX Bean with object name Ratis:service=RaftServer,group=group-F07366150A9C,id=4e694486-3087-4490-b550-6be9ae6dbe9a
2019-09-04 07:46:41,678 [RatisPipelineUtilsThread] INFO  pipeline.PipelineStateManager (PipelineStateManager.java:addPipeline(56)) - Created pipeline Pipeline[ Id: 7779207f-502e-484b-a9e1-f07366150a9c, Nodes: 4e694486-3087-4490-b550-6be9ae6dbe9a{ip: 192.168.34.9, host: pr-hdds-1569-tfczc-1762686928, networkLocation: /default-rack, certSerialId: null}, Type:RATIS, Factor:ONE, State:OPEN]
2019-09-04 07:46:41,821 | INFO  | SCMAudit | user=jenkins1000 | ip=192.168.34.9 | op=SEND_HEARTBEAT {datanodeUUID=4e694486-3087-4490-b550-6be9ae6dbe9a, command=[]} | ret=SUCCESS |  
2019-09-04 07:46:42,021 | INFO  | SCMAudit | user=jenkins1000 | ip=192.168.34.9 | op=SEND_HEARTBEAT {datanodeUUID=4e694486-3087-4490-b550-6be9ae6dbe9a, command=[]} | ret=SUCCESS |  
2019-09-04 07:46:42,221 | INFO  | SCMAudit | user=jenkins1000 | ip=192.168.34.9 | op=SEND_HEARTBEAT {datanodeUUID=4e694486-3087-4490-b550-6be9ae6dbe9a, command=[]} | ret=SUCCESS |  
2019-09-04 07:46:42,421 | INFO  | SCMAudit | user=jenkins1000 | ip=192.168.34.9 | op=SEND_HEARTBEAT {datanodeUUID=4e694486-3087-4490-b550-6be9ae6dbe9a, command=[]} | ret=SUCCESS |  
2019-09-04 07:46:42,622 | INFO  | SCMAudit | user=jenkins1000 | ip=192.168.34.9 | op=SEND_HEARTBEAT {datanodeUUID=4e694486-3087-4490-b550-6be9ae6dbe9a, command=[]} | ret=SUCCESS |  
2019-09-04 07:46:42,622 [main] INFO  ozone.MiniOzoneClusterImpl (MiniOzoneClusterImpl.java:lambda$waitForClusterToBeReady$0(142)) - Cluster is ready. Got 1 of 1 DN Heartbeats.
2019-09-04 07:46:42,626 [main] INFO  keyvalue.KeyValueHandler (ContainerUtils.java:logAndReturnError(146)) - Operation: CloseContainer : Trace ID:  : Message: Cannot close container #3 while in UNHEALTHY state. : Result: CONTAINER_UNHEALTHY
2019-09-04 07:46:42,627 | ERROR | DNAudit | user=null | ip=null | op=CLOSE_CONTAINER {containerID=3} | ret=FAILURE | java.lang.Exception: Cannot close container #3 while in UNHEALTHY state.
	at org.apache.hadoop.ozone.container.common.impl.HddsDispatcher.dispatchRequest(HddsDispatcher.java:320)
	at org.apache.hadoop.ozone.container.common.impl.HddsDispatcher.dispatch(HddsDispatcher.java:148) 
2019-09-04 07:46:42,634 | INFO  | OMAudit | user=jenkins1000 | ip=127.0.0.1 | op=READ_VOLUME {volume=testcontainerstatemachinefailures} | ret=SUCCESS |  
2019-09-04 07:46:42,637 | INFO  | OMAudit | user=jenkins1000 | ip=127.0.0.1 | op=READ_BUCKET {volume=testcontainerstatemachinefailures, bucket=testcontainerstatemachinefailures} | ret=SUCCESS |  
2019-09-04 07:46:42,650 | INFO  | SCMAudit | user=jenkins1000 | ip=192.168.34.9 | op=ALLOCATE_BLOCK {owner=78347fbe-7996-4dab-804b-219b00c6dd73, size=4194304, type=RATIS, factor=ONE} | ret=SUCCESS |  
2019-09-04 07:46:42,650 | INFO  | SCMAudit | user=jenkins1000 | ip=192.168.34.9 | op=SEND_HEARTBEAT {datanodeUUID=4e694486-3087-4490-b550-6be9ae6dbe9a, command=[]} | ret=SUCCESS |  
2019-09-04 07:46:42,651 [EventQueue-CloseContainerForCloseContainerEventHandler] INFO  container.CloseContainerEventHandler (CloseContainerEventHandler.java:onMessage(61)) - Close container Event triggered for container : #3
2019-09-04 07:46:42,652 | INFO  | OMAudit | user=jenkins1000 | ip=127.0.0.1 | op=ALLOCATE_KEY {volume=testcontainerstatemachinefailures, bucket=testcontainerstatemachinefailures, key=ratis, dataSize=1024, replicationType=RATIS, replicationFactor=ONE, keyLocationInfo=null} | ret=SUCCESS |  
2019-09-04 07:46:42,674 [grpc-default-executor-0] INFO  client.GrpcClientProtocolClient (GrpcClientProtocolClient.java:onNext(255)) - client-6157D7F07848->4e694486-3087-4490-b550-6be9ae6dbe9a: receive RaftClientReply:client-6157D7F07848->4e694486-3087-4490-b550-6be9ae6dbe9a@group-F07366150A9C, cid=22, FAILED org.apache.ratis.protocol.NotLeaderException: Server 4e694486-3087-4490-b550-6be9ae6dbe9a is not the leader (null). Request must be sent to leader., logIndex=0, commits[4e694486-3087-4490-b550-6be9ae6dbe9a:c-1]
2019-09-04 07:46:42,791 [Thread-306] INFO  impl.FollowerState (FollowerState.java:run(106)) - 4e694486-3087-4490-b550-6be9ae6dbe9a:group-5365ABA2FD10 changes to CANDIDATE, lastRpcTime:5157, electionTimeout:5157ms
2019-09-04 07:46:42,792 [Thread-306] INFO  impl.RoleInfo (RoleInfo.java:shutdownFollowerState(121)) - 4e694486-3087-4490-b550-6be9ae6dbe9a: shutdown FollowerState
2019-09-04 07:46:42,792 [Thread-306] INFO  impl.RaftServerImpl (RaftServerImpl.java:setRole(171)) - 4e694486-3087-4490-b550-6be9ae6dbe9a:group-5365ABA2FD10 changes role from FOLLOWER to CANDIDATE at term 1 for changeToCandidate
2019-09-04 07:46:42,792 [Thread-306] INFO  impl.RoleInfo (RoleInfo.java:updateAndGet(143)) - 4e694486-3087-4490-b550-6be9ae6dbe9a: start LeaderElection
2019-09-04 07:46:42,818 [4e694486-3087-4490-b550-6be9ae6dbe9a:group-5365ABA2FD10:LeaderElection6] INFO  impl.LeaderElection (LeaderElection.java:askForVotes(181)) - 4e694486-3087-4490-b550-6be9ae6dbe9a:group-5365ABA2FD10:LeaderElection6: begin an election at term 2 for 0: [4e694486-3087-4490-b550-6be9ae6dbe9a:192.168.34.9:39640], old=null
2019-09-04 07:46:42,819 [4e694486-3087-4490-b550-6be9ae6dbe9a:group-5365ABA2FD10:LeaderElection6] INFO  impl.RoleInfo (RoleInfo.java:shutdownLeaderElection(134)) - 4e694486-3087-4490-b550-6be9ae6dbe9a: shutdown LeaderElection
2019-09-04 07:46:42,820 [4e694486-3087-4490-b550-6be9ae6dbe9a:group-5365ABA2FD10:LeaderElection6] INFO  impl.RaftServerImpl (RaftServerImpl.java:setRole(171)) - 4e694486-3087-4490-b550-6be9ae6dbe9a:group-5365ABA2FD10 changes role from CANDIDATE to LEADER at term 2 for changeToLeader
2019-09-04 07:46:42,820 [4e694486-3087-4490-b550-6be9ae6dbe9a:group-5365ABA2FD10:LeaderElection6] INFO  impl.RaftServerImpl (ServerState.java:setLeader(263)) - 4e694486-3087-4490-b550-6be9ae6dbe9a:group-5365ABA2FD10 change Leader from null to 4e694486-3087-4490-b550-6be9ae6dbe9a at term 2 for becomeLeader, leader elected after 7408ms
2019-09-04 07:46:42,820 [4e694486-3087-4490-b550-6be9ae6dbe9a:group-5365ABA2FD10:LeaderElection6] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.staging.catchup.gap = 1000 (default)
2019-09-04 07:46:42,820 [4e694486-3087-4490-b550-6be9ae6dbe9a:group-5365ABA2FD10:LeaderElection6] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.rpc.sleep.time = 25ms (default)
2019-09-04 07:46:42,820 [4e694486-3087-4490-b550-6be9ae6dbe9a:group-5365ABA2FD10:LeaderElection6] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.write.element-limit = 4096 (default)
2019-09-04 07:46:42,820 [4e694486-3087-4490-b550-6be9ae6dbe9a:group-5365ABA2FD10:LeaderElection6] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.watch.timeout = 10s (default)
2019-09-04 07:46:42,820 [4e694486-3087-4490-b550-6be9ae6dbe9a:group-5365ABA2FD10:LeaderElection6] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.watch.timeout.denomination = 1s (default)
2019-09-04 07:46:42,821 [4e694486-3087-4490-b550-6be9ae6dbe9a:group-5365ABA2FD10:LeaderElection6] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.watch.element-limit = 65536 (default)
2019-09-04 07:46:42,821 [4e694486-3087-4490-b550-6be9ae6dbe9a:group-5365ABA2FD10:LeaderElection6] INFO  impl.RoleInfo (RoleInfo.java:updateAndGet(143)) - 4e694486-3087-4490-b550-6be9ae6dbe9a: start LeaderState
2019-09-04 07:46:42,821 [4e694486-3087-4490-b550-6be9ae6dbe9a:group-5365ABA2FD10:LeaderElection6] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:rollLogSegment(385)) - 4e694486-3087-4490-b550-6be9ae6dbe9a-SegmentedRaftLogWorker:Storage Directory /workdir/hadoop-ozone/integration-test/target/test-dir/MiniOzoneClusterImpl-68751a6c-b5d9-4680-8ddd-dddd40b06685/datanode-0/data/ratis/24dae620-0843-479b-91ab-5365aba2fd10: Rolling segment log-0_4 to index:4
2019-09-04 07:46:42,823 [4e694486-3087-4490-b550-6be9ae6dbe9a:group-5365ABA2FD10:LeaderElection6] INFO  impl.RaftServerImpl (ServerState.java:setRaftConf(361)) - 4e694486-3087-4490-b550-6be9ae6dbe9a:group-5365ABA2FD10 set configuration 5: [4e694486-3087-4490-b550-6be9ae6dbe9a:192.168.34.9:39640], old=null at 5
2019-09-04 07:46:42,824 [4e694486-3087-4490-b550-6be9ae6dbe9a-SegmentedRaftLogWorker:Storage Directory /workdir/hadoop-ozone/integration-test/target/test-dir/MiniOzoneClusterImpl-68751a6c-b5d9-4680-8ddd-dddd40b06685/datanode-0/data/ratis/24dae620-0843-479b-91ab-5365aba2fd10] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:execute(526)) - 4e694486-3087-4490-b550-6be9ae6dbe9a-SegmentedRaftLogWorker:Storage Directory /workdir/hadoop-ozone/integration-test/target/test-dir/MiniOzoneClusterImpl-68751a6c-b5d9-4680-8ddd-dddd40b06685/datanode-0/data/ratis/24dae620-0843-479b-91ab-5365aba2fd10: Rolled log segment from /workdir/hadoop-ozone/integration-test/target/test-dir/MiniOzoneClusterImpl-68751a6c-b5d9-4680-8ddd-dddd40b06685/datanode-0/data/ratis/24dae620-0843-479b-91ab-5365aba2fd10/current/log_inprogress_0 to /workdir/hadoop-ozone/integration-test/target/test-dir/MiniOzoneClusterImpl-68751a6c-b5d9-4680-8ddd-dddd40b06685/datanode-0/data/ratis/24dae620-0843-479b-91ab-5365aba2fd10/current/log_0-4
2019-09-04 07:46:42,851 | INFO  | SCMAudit | user=jenkins1000 | ip=192.168.34.9 | op=SEND_HEARTBEAT {datanodeUUID=4e694486-3087-4490-b550-6be9ae6dbe9a, command=[commandType: closeContainerCommand closeContainerCommandProto { containerID: 3 pipelineID { id: "2ea89166-e2d2-47e2-ae8f-17dd85ce7584" } cmdId: 3 force: false } ]} | ret=SUCCESS |  
2019-09-04 07:46:42,873 [4e694486-3087-4490-b550-6be9ae6dbe9a-SegmentedRaftLogWorker:Storage Directory /workdir/hadoop-ozone/integration-test/target/test-dir/MiniOzoneClusterImpl-68751a6c-b5d9-4680-8ddd-dddd40b06685/datanode-0/data/ratis/24dae620-0843-479b-91ab-5365aba2fd10] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:execute(569)) - 4e694486-3087-4490-b550-6be9ae6dbe9a-SegmentedRaftLogWorker:Storage Directory /workdir/hadoop-ozone/integration-test/target/test-dir/MiniOzoneClusterImpl-68751a6c-b5d9-4680-8ddd-dddd40b06685/datanode-0/data/ratis/24dae620-0843-479b-91ab-5365aba2fd10: created new log segment /workdir/hadoop-ozone/integration-test/target/test-dir/MiniOzoneClusterImpl-68751a6c-b5d9-4680-8ddd-dddd40b06685/datanode-0/data/ratis/24dae620-0843-479b-91ab-5365aba2fd10/current/log_inprogress_5
2019-09-04 07:46:42,886 [StateMachineUpdater:4e694486-3087-4490-b550-6be9ae6dbe9a:group-5365ABA2FD10] INFO  ratis.ContainerStateMachine (ContainerStateMachine.java:takeSnapshot(283)) - group-5365ABA2FD10: Taking a snapshot at:(t:1, i:3) file /workdir/hadoop-ozone/integration-test/target/test-dir/MiniOzoneClusterImpl-68751a6c-b5d9-4680-8ddd-dddd40b06685/datanode-0/data/ratis/24dae620-0843-479b-91ab-5365aba2fd10/sm/snapshot.1_3
2019-09-04 07:46:42,908 [StateMachineUpdater:4e694486-3087-4490-b550-6be9ae6dbe9a:group-5365ABA2FD10] INFO  ratis.ContainerStateMachine (ContainerStateMachine.java:takeSnapshot(294)) - group-5365ABA2FD10: Finished taking a snapshot at:(t:1, i:3) file:/workdir/hadoop-ozone/integration-test/target/test-dir/MiniOzoneClusterImpl-68751a6c-b5d9-4680-8ddd-dddd40b06685/datanode-0/data/ratis/24dae620-0843-479b-91ab-5365aba2fd10/sm/snapshot.1_3 time:23
2019-09-04 07:46:42,909 [StateMachineUpdater:4e694486-3087-4490-b550-6be9ae6dbe9a:group-5365ABA2FD10] INFO  impl.StateMachineUpdater (StateMachineUpdater.java:takeSnapshot(242)) - StateMachineUpdater:4e694486-3087-4490-b550-6be9ae6dbe9a:group-5365ABA2FD10: Took a snapshot at index 3
2019-09-04 07:46:42,909 [StateMachineUpdater:4e694486-3087-4490-b550-6be9ae6dbe9a:group-5365ABA2FD10] INFO  impl.StateMachineUpdater (StateMachineUpdater.java:lambda$new$0(80)) - StateMachineUpdater:4e694486-3087-4490-b550-6be9ae6dbe9a:group-5365ABA2FD10: snapshotIndex: updateIncreasingly 3 -> 3
2019-09-04 07:46:42,909 [StateMachineUpdater:4e694486-3087-4490-b550-6be9ae6dbe9a:group-5365ABA2FD10] INFO  ratis.ContainerStateMachine (ContainerStateMachine.java:takeSnapshot(283)) - group-5365ABA2FD10: Taking a snapshot at:(t:1, i:3) file /workdir/hadoop-ozone/integration-test/target/test-dir/MiniOzoneClusterImpl-68751a6c-b5d9-4680-8ddd-dddd40b06685/datanode-0/data/ratis/24dae620-0843-479b-91ab-5365aba2fd10/sm/snapshot.1_3
2019-09-04 07:46:42,930 [StateMachineUpdater:4e694486-3087-4490-b550-6be9ae6dbe9a:group-5365ABA2FD10] INFO  ratis.ContainerStateMachine (ContainerStateMachine.java:takeSnapshot(294)) - group-5365ABA2FD10: Finished taking a snapshot at:(t:1, i:3) file:/workdir/hadoop-ozone/integration-test/target/test-dir/MiniOzoneClusterImpl-68751a6c-b5d9-4680-8ddd-dddd40b06685/datanode-0/data/ratis/24dae620-0843-479b-91ab-5365aba2fd10/sm/snapshot.1_3 time:22
2019-09-04 07:46:42,931 [StateMachineUpdater:4e694486-3087-4490-b550-6be9ae6dbe9a:group-5365ABA2FD10] INFO  impl.StateMachineUpdater (StateMachineUpdater.java:takeSnapshot(242)) - StateMachineUpdater:4e694486-3087-4490-b550-6be9ae6dbe9a:group-5365ABA2FD10: Took a snapshot at index 3
2019-09-04 07:46:42,931 [StateMachineUpdater:4e694486-3087-4490-b550-6be9ae6dbe9a:group-5365ABA2FD10] INFO  impl.StateMachineUpdater (StateMachineUpdater.java:lambda$new$0(80)) - StateMachineUpdater:4e694486-3087-4490-b550-6be9ae6dbe9a:group-5365ABA2FD10: snapshotIndex: updateIncreasingly 3 -> 3
2019-09-04 07:46:43,051 | INFO  | SCMAudit | user=jenkins1000 | ip=192.168.34.9 | op=SEND_HEARTBEAT {datanodeUUID=4e694486-3087-4490-b550-6be9ae6dbe9a, command=[]} | ret=SUCCESS |  
2019-09-04 07:46:43,125 [grpc-default-executor-0] INFO  impl.RaftServerProxy (RaftServerProxy.java:remove(95)) - 4e694486-3087-4490-b550-6be9ae6dbe9a: remove   LEADER group-5365ABA2FD10 4e694486-3087-4490-b550-6be9ae6dbe9a:t2, leader=4e694486-3087-4490-b550-6be9ae6dbe9a, voted=4e694486-3087-4490-b550-6be9ae6dbe9a, raftlog=4e694486-3087-4490-b550-6be9ae6dbe9a-SegmentedRaftLog:OPENED:c6,f6,i6, conf=5: [4e694486-3087-4490-b550-6be9ae6dbe9a:192.168.34.9:39640], old=null RUNNING
2019-09-04 07:46:43,126 [grpc-default-executor-0] INFO  impl.RaftServerImpl (RaftServerImpl.java:lambda$shutdown$3(245)) - 4e694486-3087-4490-b550-6be9ae6dbe9a: shutdown group-5365ABA2FD10
2019-09-04 07:46:43,126 [grpc-default-executor-0] INFO  util.JmxRegister (JmxRegister.java:unregister(73)) - Successfully un-registered JMX Bean with object name Ratis:service=RaftServer,group=group-5365ABA2FD10,id=4e694486-3087-4490-b550-6be9ae6dbe9a
2019-09-04 07:46:43,126 [grpc-default-executor-0] INFO  impl.RoleInfo (RoleInfo.java:shutdownLeaderState(104)) - 4e694486-3087-4490-b550-6be9ae6dbe9a: shutdown LeaderState
2019-09-04 07:46:43,126 [grpc-default-executor-0] INFO  impl.PendingRequests (PendingRequests.java:sendNotLeaderResponses(202)) - 4e694486-3087-4490-b550-6be9ae6dbe9a-PendingRequests: sendNotLeaderResponses
2019-09-04 07:46:43,129 [grpc-default-executor-0] INFO  impl.StateMachineUpdater (StateMachineUpdater.java:stopAndJoin(115)) - StateMachineUpdater:4e694486-3087-4490-b550-6be9ae6dbe9a:group-5365ABA2FD10: set stopIndex = 6
2019-09-04 07:46:43,129 [StateMachineUpdater:4e694486-3087-4490-b550-6be9ae6dbe9a:group-5365ABA2FD10] INFO  ratis.ContainerStateMachine (ContainerStateMachine.java:takeSnapshot(283)) - group-5365ABA2FD10: Taking a snapshot at:(t:1, i:3) file /workdir/hadoop-ozone/integration-test/target/test-dir/MiniOzoneClusterImpl-68751a6c-b5d9-4680-8ddd-dddd40b06685/datanode-0/data/ratis/24dae620-0843-479b-91ab-5365aba2fd10/sm/snapshot.1_3
2019-09-04 07:46:43,152 [StateMachineUpdater:4e694486-3087-4490-b550-6be9ae6dbe9a:group-5365ABA2FD10] INFO  ratis.ContainerStateMachine (ContainerStateMachine.java:takeSnapshot(294)) - group-5365ABA2FD10: Finished taking a snapshot at:(t:1, i:3) file:/workdir/hadoop-ozone/integration-test/target/test-dir/MiniOzoneClusterImpl-68751a6c-b5d9-4680-8ddd-dddd40b06685/datanode-0/data/ratis/24dae620-0843-479b-91ab-5365aba2fd10/sm/snapshot.1_3 time:23
2019-09-04 07:46:43,152 [StateMachineUpdater:4e694486-3087-4490-b550-6be9ae6dbe9a:group-5365ABA2FD10] INFO  impl.StateMachineUpdater (StateMachineUpdater.java:takeSnapshot(242)) - StateMachineUpdater:4e694486-3087-4490-b550-6be9ae6dbe9a:group-5365ABA2FD10: Took a snapshot at index 3
2019-09-04 07:46:43,153 [StateMachineUpdater:4e694486-3087-4490-b550-6be9ae6dbe9a:group-5365ABA2FD10] INFO  impl.StateMachineUpdater (StateMachineUpdater.java:lambda$new$0(80)) - StateMachineUpdater:4e694486-3087-4490-b550-6be9ae6dbe9a:group-5365ABA2FD10: snapshotIndex: updateIncreasingly 3 -> 3
2019-09-04 07:46:43,153 [grpc-default-executor-0] INFO  impl.RaftServerImpl (ServerState.java:close(394)) - 4e694486-3087-4490-b550-6be9ae6dbe9a:group-5365ABA2FD10 closes. The last applied log index is 6
2019-09-04 07:46:43,153 [4e694486-3087-4490-b550-6be9ae6dbe9a-SegmentedRaftLogWorker:Storage Directory /workdir/hadoop-ozone/integration-test/target/test-dir/MiniOzoneClusterImpl-68751a6c-b5d9-4680-8ddd-dddd40b06685/datanode-0/data/ratis/24dae620-0843-479b-91ab-5365aba2fd10] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:run(313)) - 4e694486-3087-4490-b550-6be9ae6dbe9a-SegmentedRaftLogWorker:Storage Directory /workdir/hadoop-ozone/integration-test/target/test-dir/MiniOzoneClusterImpl-68751a6c-b5d9-4680-8ddd-dddd40b06685/datanode-0/data/ratis/24dae620-0843-479b-91ab-5365aba2fd10 was interrupted, exiting. There are 0 tasks remaining in the queue.
2019-09-04 07:46:43,154 [grpc-default-executor-0] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:close(228)) - 4e694486-3087-4490-b550-6be9ae6dbe9a-SegmentedRaftLogWorker:Storage Directory /workdir/hadoop-ozone/integration-test/target/test-dir/MiniOzoneClusterImpl-68751a6c-b5d9-4680-8ddd-dddd40b06685/datanode-0/data/ratis/24dae620-0843-479b-91ab-5365aba2fd10 close()
2019-09-04 07:46:43,165 [RatisPipelineUtilsThread] INFO  pipeline.PipelineStateManager (PipelineStateManager.java:removePipeline(108)) - Pipeline Pipeline[ Id: 24dae620-0843-479b-91ab-5365aba2fd10, Nodes: 4e694486-3087-4490-b550-6be9ae6dbe9a{ip: 192.168.34.9, host: pr-hdds-1569-tfczc-1762686928, networkLocation: /default-rack, certSerialId: null}, Type:RATIS, Factor:ONE, State:CLOSED] removed from db
2019-09-04 07:46:43,250 | INFO  | SCMAudit | user=jenkins1000 | ip=192.168.34.9 | op=SEND_HEARTBEAT {datanodeUUID=4e694486-3087-4490-b550-6be9ae6dbe9a, command=[]} | ret=SUCCESS |  
2019-09-04 07:46:43,451 | INFO  | SCMAudit | user=jenkins1000 | ip=192.168.34.9 | op=SEND_HEARTBEAT {datanodeUUID=4e694486-3087-4490-b550-6be9ae6dbe9a, command=[]} | ret=SUCCESS |  
2019-09-04 07:46:43,652 | INFO  | SCMAudit | user=jenkins1000 | ip=192.168.34.9 | op=SEND_HEARTBEAT {datanodeUUID=4e694486-3087-4490-b550-6be9ae6dbe9a, command=[]} | ret=SUCCESS |  
2019-09-04 07:46:43,849 [Command processor thread] ERROR commandhandler.CloseContainerCommandHandler (CloseContainerCommandHandler.java:handle(124)) - Can't close container #3
org.apache.hadoop.hdds.scm.container.common.helpers.StorageContainerException: Cannot quasi close container #3 while in UNHEALTHY state.
	at org.apache.hadoop.ozone.container.keyvalue.KeyValueHandler.quasiCloseContainer(KeyValueHandler.java:930)
	at org.apache.hadoop.ozone.container.ozoneimpl.ContainerController.quasiCloseContainer(ContainerController.java:107)
	at org.apache.hadoop.ozone.container.common.statemachine.commandhandler.CloseContainerCommandHandler.handle(CloseContainerCommandHandler.java:116)
	at org.apache.hadoop.ozone.container.common.statemachine.commandhandler.CommandDispatcher.handle(CommandDispatcher.java:93)
	at org.apache.hadoop.ozone.container.common.statemachine.DatanodeStateMachine.lambda$initCommandHandlerThread$1(DatanodeStateMachine.java:432)
	at java.lang.Thread.run(Thread.java:748)
2019-09-04 07:46:43,851 | INFO  | SCMAudit | user=jenkins1000 | ip=192.168.34.9 | op=SEND_HEARTBEAT {datanodeUUID=4e694486-3087-4490-b550-6be9ae6dbe9a, command=[]} | ret=SUCCESS |  
2019-09-04 07:46:44,052 | INFO  | SCMAudit | user=jenkins1000 | ip=192.168.34.9 | op=SEND_HEARTBEAT {datanodeUUID=4e694486-3087-4490-b550-6be9ae6dbe9a, command=[]} | ret=SUCCESS |  
2019-09-04 07:46:44,253 | INFO  | SCMAudit | user=jenkins1000 | ip=192.168.34.9 | op=SEND_HEARTBEAT {datanodeUUID=4e694486-3087-4490-b550-6be9ae6dbe9a, command=[]} | ret=SUCCESS |  
2019-09-04 07:46:44,453 | INFO  | SCMAudit | user=jenkins1000 | ip=192.168.34.9 | op=SEND_HEARTBEAT {datanodeUUID=4e694486-3087-4490-b550-6be9ae6dbe9a, command=[]} | ret=SUCCESS |  
2019-09-04 07:46:44,656 | INFO  | SCMAudit | user=jenkins1000 | ip=192.168.34.9 | op=SEND_HEARTBEAT {datanodeUUID=4e694486-3087-4490-b550-6be9ae6dbe9a, command=[]} | ret=SUCCESS |  
2019-09-04 07:46:44,701 [grpc-default-executor-0] INFO  client.GrpcClientProtocolClient (GrpcClientProtocolClient.java:onNext(255)) - client-6157D7F07848->4e694486-3087-4490-b550-6be9ae6dbe9a: receive RaftClientReply:client-6157D7F07848->4e694486-3087-4490-b550-6be9ae6dbe9a@group-F07366150A9C, cid=22, FAILED org.apache.ratis.protocol.NotLeaderException: Server 4e694486-3087-4490-b550-6be9ae6dbe9a is not the leader (null). Request must be sent to leader., logIndex=0, commits[4e694486-3087-4490-b550-6be9ae6dbe9a:c-1]
2019-09-04 07:46:44,856 | INFO  | SCMAudit | user=jenkins1000 | ip=192.168.34.9 | op=SEND_HEARTBEAT {datanodeUUID=4e694486-3087-4490-b550-6be9ae6dbe9a, command=[]} | ret=SUCCESS |  
2019-09-04 07:46:45,056 | INFO  | SCMAudit | user=jenkins1000 | ip=192.168.34.9 | op=SEND_HEARTBEAT {datanodeUUID=4e694486-3087-4490-b550-6be9ae6dbe9a, command=[]} | ret=SUCCESS |  
2019-09-04 07:46:45,256 | INFO  | SCMAudit | user=jenkins1000 | ip=192.168.34.9 | op=SEND_HEARTBEAT {datanodeUUID=4e694486-3087-4490-b550-6be9ae6dbe9a, command=[]} | ret=SUCCESS |  
2019-09-04 07:46:45,455 | INFO  | SCMAudit | user=jenkins1000 | ip=192.168.34.9 | op=SEND_HEARTBEAT {datanodeUUID=4e694486-3087-4490-b550-6be9ae6dbe9a, command=[]} | ret=SUCCESS |  
2019-09-04 07:46:45,656 | INFO  | SCMAudit | user=jenkins1000 | ip=192.168.34.9 | op=SEND_HEARTBEAT {datanodeUUID=4e694486-3087-4490-b550-6be9ae6dbe9a, command=[]} | ret=SUCCESS |  
2019-09-04 07:46:45,855 | INFO  | SCMAudit | user=jenkins1000 | ip=192.168.34.9 | op=SEND_HEARTBEAT {datanodeUUID=4e694486-3087-4490-b550-6be9ae6dbe9a, command=[]} | ret=SUCCESS |  
2019-09-04 07:46:46,056 | INFO  | SCMAudit | user=jenkins1000 | ip=192.168.34.9 | op=SEND_HEARTBEAT {datanodeUUID=4e694486-3087-4490-b550-6be9ae6dbe9a, command=[]} | ret=SUCCESS |  
2019-09-04 07:46:46,256 | INFO  | SCMAudit | user=jenkins1000 | ip=192.168.34.9 | op=SEND_HEARTBEAT {datanodeUUID=4e694486-3087-4490-b550-6be9ae6dbe9a, command=[]} | ret=SUCCESS |  
2019-09-04 07:46:46,456 | INFO  | SCMAudit | user=jenkins1000 | ip=192.168.34.9 | op=SEND_HEARTBEAT {datanodeUUID=4e694486-3087-4490-b550-6be9ae6dbe9a, command=[]} | ret=SUCCESS |  
2019-09-04 07:46:46,656 | INFO  | SCMAudit | user=jenkins1000 | ip=192.168.34.9 | op=SEND_HEARTBEAT {datanodeUUID=4e694486-3087-4490-b550-6be9ae6dbe9a, command=[]} | ret=SUCCESS |  
2019-09-04 07:46:46,718 [grpc-default-executor-1] INFO  client.GrpcClientProtocolClient (GrpcClientProtocolClient.java:onNext(255)) - client-6157D7F07848->4e694486-3087-4490-b550-6be9ae6dbe9a: receive RaftClientReply:client-6157D7F07848->4e694486-3087-4490-b550-6be9ae6dbe9a@group-F07366150A9C, cid=22, FAILED org.apache.ratis.protocol.NotLeaderException: Server 4e694486-3087-4490-b550-6be9ae6dbe9a is not the leader (null). Request must be sent to leader., logIndex=0, commits[4e694486-3087-4490-b550-6be9ae6dbe9a:c-1]
2019-09-04 07:46:46,856 | INFO  | SCMAudit | user=jenkins1000 | ip=192.168.34.9 | op=SEND_HEARTBEAT {datanodeUUID=4e694486-3087-4490-b550-6be9ae6dbe9a, command=[]} | ret=SUCCESS |  
2019-09-04 07:46:46,867 [Thread-308] INFO  impl.FollowerState (FollowerState.java:run(106)) - 4e694486-3087-4490-b550-6be9ae6dbe9a:group-F07366150A9C changes to CANDIDATE, lastRpcTime:5194, electionTimeout:5194ms
2019-09-04 07:46:46,868 [Thread-308] INFO  impl.RoleInfo (RoleInfo.java:shutdownFollowerState(121)) - 4e694486-3087-4490-b550-6be9ae6dbe9a: shutdown FollowerState
2019-09-04 07:46:46,868 [Thread-308] INFO  impl.RaftServerImpl (RaftServerImpl.java:setRole(171)) - 4e694486-3087-4490-b550-6be9ae6dbe9a:group-F07366150A9C changes role from FOLLOWER to CANDIDATE at term 0 for changeToCandidate
2019-09-04 07:46:46,868 [Thread-308] INFO  impl.RoleInfo (RoleInfo.java:updateAndGet(143)) - 4e694486-3087-4490-b550-6be9ae6dbe9a: start LeaderElection
2019-09-04 07:46:46,891 [4e694486-3087-4490-b550-6be9ae6dbe9a:group-F07366150A9C:LeaderElection7] INFO  impl.LeaderElection (LeaderElection.java:askForVotes(181)) - 4e694486-3087-4490-b550-6be9ae6dbe9a:group-F07366150A9C:LeaderElection7: begin an election at term 1 for -1: [4e694486-3087-4490-b550-6be9ae6dbe9a:192.168.34.9:39640], old=null
2019-09-04 07:46:46,892 [4e694486-3087-4490-b550-6be9ae6dbe9a:group-F07366150A9C:LeaderElection7] INFO  impl.RoleInfo (RoleInfo.java:shutdownLeaderElection(134)) - 4e694486-3087-4490-b550-6be9ae6dbe9a: shutdown LeaderElection
2019-09-04 07:46:46,892 [4e694486-3087-4490-b550-6be9ae6dbe9a:group-F07366150A9C:LeaderElection7] INFO  impl.RaftServerImpl (RaftServerImpl.java:setRole(171)) - 4e694486-3087-4490-b550-6be9ae6dbe9a:group-F07366150A9C changes role from CANDIDATE to LEADER at term 1 for changeToLeader
2019-09-04 07:46:46,893 [4e694486-3087-4490-b550-6be9ae6dbe9a:group-F07366150A9C:LeaderElection7] INFO  impl.RaftServerImpl (ServerState.java:setLeader(263)) - 4e694486-3087-4490-b550-6be9ae6dbe9a:group-F07366150A9C change Leader from null to 4e694486-3087-4490-b550-6be9ae6dbe9a at term 1 for becomeLeader, leader elected after 5224ms
2019-09-04 07:46:46,893 [4e694486-3087-4490-b550-6be9ae6dbe9a:group-F07366150A9C:LeaderElection7] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.staging.catchup.gap = 1000 (default)
2019-09-04 07:46:46,893 [4e694486-3087-4490-b550-6be9ae6dbe9a:group-F07366150A9C:LeaderElection7] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.rpc.sleep.time = 25ms (default)
2019-09-04 07:46:46,893 [4e694486-3087-4490-b550-6be9ae6dbe9a:group-F07366150A9C:LeaderElection7] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.write.element-limit = 4096 (default)
2019-09-04 07:46:46,893 [4e694486-3087-4490-b550-6be9ae6dbe9a:group-F07366150A9C:LeaderElection7] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.watch.timeout = 10s (default)
2019-09-04 07:46:46,893 [4e694486-3087-4490-b550-6be9ae6dbe9a:group-F07366150A9C:LeaderElection7] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.watch.timeout.denomination = 1s (default)
2019-09-04 07:46:46,893 [4e694486-3087-4490-b550-6be9ae6dbe9a:group-F07366150A9C:LeaderElection7] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.watch.element-limit = 65536 (default)
2019-09-04 07:46:46,894 [4e694486-3087-4490-b550-6be9ae6dbe9a:group-F07366150A9C:LeaderElection7] INFO  impl.RoleInfo (RoleInfo.java:updateAndGet(143)) - 4e694486-3087-4490-b550-6be9ae6dbe9a: start LeaderState
2019-09-04 07:46:46,894 [4e694486-3087-4490-b550-6be9ae6dbe9a:group-F07366150A9C:LeaderElection7] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:startLogSegment(380)) - 4e694486-3087-4490-b550-6be9ae6dbe9a-SegmentedRaftLogWorker:Storage Directory /workdir/hadoop-ozone/integration-test/target/test-dir/MiniOzoneClusterImpl-68751a6c-b5d9-4680-8ddd-dddd40b06685/datanode-0/data/ratis/7779207f-502e-484b-a9e1-f07366150a9c: Starting segment from index:0
2019-09-04 07:46:46,894 [4e694486-3087-4490-b550-6be9ae6dbe9a:group-F07366150A9C:LeaderElection7] INFO  impl.RaftServerImpl (ServerState.java:setRaftConf(361)) - 4e694486-3087-4490-b550-6be9ae6dbe9a:group-F07366150A9C set configuration 0: [4e694486-3087-4490-b550-6be9ae6dbe9a:192.168.34.9:39640], old=null at 0
2019-09-04 07:46:46,959 [4e694486-3087-4490-b550-6be9ae6dbe9a-SegmentedRaftLogWorker:Storage Directory /workdir/hadoop-ozone/integration-test/target/test-dir/MiniOzoneClusterImpl-68751a6c-b5d9-4680-8ddd-dddd40b06685/datanode-0/data/ratis/7779207f-502e-484b-a9e1-f07366150a9c] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:execute(569)) - 4e694486-3087-4490-b550-6be9ae6dbe9a-SegmentedRaftLogWorker:Storage Directory /workdir/hadoop-ozone/integration-test/target/test-dir/MiniOzoneClusterImpl-68751a6c-b5d9-4680-8ddd-dddd40b06685/datanode-0/data/ratis/7779207f-502e-484b-a9e1-f07366150a9c: created new log segment /workdir/hadoop-ozone/integration-test/target/test-dir/MiniOzoneClusterImpl-68751a6c-b5d9-4680-8ddd-dddd40b06685/datanode-0/data/ratis/7779207f-502e-484b-a9e1-f07366150a9c/current/log_inprogress_0
2019-09-04 07:46:47,056 | INFO  | SCMAudit | user=jenkins1000 | ip=192.168.34.9 | op=SEND_HEARTBEAT {datanodeUUID=4e694486-3087-4490-b550-6be9ae6dbe9a, command=[]} | ret=SUCCESS |  
2019-09-04 07:46:47,255 | INFO  | SCMAudit | user=jenkins1000 | ip=192.168.34.9 | op=SEND_HEARTBEAT {datanodeUUID=4e694486-3087-4490-b550-6be9ae6dbe9a, command=[]} | ret=SUCCESS |  
2019-09-04 07:46:47,457 | INFO  | SCMAudit | user=jenkins1000 | ip=192.168.34.9 | op=SEND_HEARTBEAT {datanodeUUID=4e694486-3087-4490-b550-6be9ae6dbe9a, command=[]} | ret=SUCCESS |  
2019-09-04 07:46:47,657 | INFO  | SCMAudit | user=jenkins1000 | ip=192.168.34.9 | op=SEND_HEARTBEAT {datanodeUUID=4e694486-3087-4490-b550-6be9ae6dbe9a, command=[]} | ret=SUCCESS |  
2019-09-04 07:46:47,857 | INFO  | SCMAudit | user=jenkins1000 | ip=192.168.34.9 | op=SEND_HEARTBEAT {datanodeUUID=4e694486-3087-4490-b550-6be9ae6dbe9a, command=[]} | ret=SUCCESS |  
2019-09-04 07:46:48,056 | INFO  | SCMAudit | user=jenkins1000 | ip=192.168.34.9 | op=SEND_HEARTBEAT {datanodeUUID=4e694486-3087-4490-b550-6be9ae6dbe9a, command=[]} | ret=SUCCESS |  
2019-09-04 07:46:48,257 | INFO  | SCMAudit | user=jenkins1000 | ip=192.168.34.9 | op=SEND_HEARTBEAT {datanodeUUID=4e694486-3087-4490-b550-6be9ae6dbe9a, command=[]} | ret=SUCCESS |  
2019-09-04 07:46:48,456 | INFO  | SCMAudit | user=jenkins1000 | ip=192.168.34.9 | op=SEND_HEARTBEAT {datanodeUUID=4e694486-3087-4490-b550-6be9ae6dbe9a, command=[]} | ret=SUCCESS |  
2019-09-04 07:46:48,657 | INFO  | SCMAudit | user=jenkins1000 | ip=192.168.34.9 | op=SEND_HEARTBEAT {datanodeUUID=4e694486-3087-4490-b550-6be9ae6dbe9a, command=[]} | ret=SUCCESS |  
2019-09-04 07:46:48,835 | INFO  | DNAudit | user=null | ip=null | op=WRITE_CHUNK {blockData=conID: 5 locID: 102733132768804871 bcsId: 0} | ret=SUCCESS |  
2019-09-04 07:46:48,836 | INFO  | SCMAudit | user=jenkins1000 | ip=192.168.34.9 | op=SEND_HEARTBEAT {datanodeUUID=4e694486-3087-4490-b550-6be9ae6dbe9a, command=[]} | ret=SUCCESS |  
2019-09-04 07:46:48,849 | INFO  | DNAudit | user=null | ip=null | op=WRITE_CHUNK {blockData=conID: 5 locID: 102733132768804871 bcsId: 0} | ret=SUCCESS |  
2019-09-04 07:46:48,855 [grpc-default-executor-0] INFO  client.GrpcClientProtocolClient (GrpcClientProtocolClient.java:onNext(255)) - client-6157D7F07848->4e694486-3087-4490-b550-6be9ae6dbe9a: receive RaftClientReply:client-6157D7F07848->4e694486-3087-4490-b550-6be9ae6dbe9a@group-F07366150A9C, cid=22, SUCCESS, logIndex=1, commits[4e694486-3087-4490-b550-6be9ae6dbe9a:c1]
2019-09-04 07:46:48,859 [StateMachineUpdater:4e694486-3087-4490-b550-6be9ae6dbe9a:group-F07366150A9C] INFO  ratis.ContainerStateMachine (ContainerStateMachine.java:takeSnapshot(283)) - group-F07366150A9C: Taking a snapshot at:(t:1, i:1) file /workdir/hadoop-ozone/integration-test/target/test-dir/MiniOzoneClusterImpl-68751a6c-b5d9-4680-8ddd-dddd40b06685/datanode-0/data/ratis/7779207f-502e-484b-a9e1-f07366150a9c/sm/snapshot.1_1
2019-09-04 07:46:48,886 [StateMachineUpdater:4e694486-3087-4490-b550-6be9ae6dbe9a:group-F07366150A9C] INFO  ratis.ContainerStateMachine (ContainerStateMachine.java:takeSnapshot(294)) - group-F07366150A9C: Finished taking a snapshot at:(t:1, i:1) file:/workdir/hadoop-ozone/integration-test/target/test-dir/MiniOzoneClusterImpl-68751a6c-b5d9-4680-8ddd-dddd40b06685/datanode-0/data/ratis/7779207f-502e-484b-a9e1-f07366150a9c/sm/snapshot.1_1 time:27
2019-09-04 07:46:48,886 [StateMachineUpdater:4e694486-3087-4490-b550-6be9ae6dbe9a:group-F07366150A9C] INFO  impl.StateMachineUpdater (StateMachineUpdater.java:takeSnapshot(242)) - StateMachineUpdater:4e694486-3087-4490-b550-6be9ae6dbe9a:group-F07366150A9C: Took a snapshot at index 1
2019-09-04 07:46:48,886 [StateMachineUpdater:4e694486-3087-4490-b550-6be9ae6dbe9a:group-F07366150A9C] INFO  impl.StateMachineUpdater (StateMachineUpdater.java:lambda$new$0(80)) - StateMachineUpdater:4e694486-3087-4490-b550-6be9ae6dbe9a:group-F07366150A9C: snapshotIndex: updateIncreasingly -1 -> 1
2019-09-04 07:46:48,970 | INFO  | DNAudit | user=null | ip=null | op=PUT_BLOCK {blockData=[blockId=conID: 5 locID: 102733132768804871 bcsId: 0,size=5]} | ret=SUCCESS |  
2019-09-04 07:46:48,971 [StateMachineUpdater:4e694486-3087-4490-b550-6be9ae6dbe9a:group-F07366150A9C] INFO  ratis.ContainerStateMachine (ContainerStateMachine.java:takeSnapshot(283)) - group-F07366150A9C: Taking a snapshot at:(t:1, i:3) file /workdir/hadoop-ozone/integration-test/target/test-dir/MiniOzoneClusterImpl-68751a6c-b5d9-4680-8ddd-dddd40b06685/datanode-0/data/ratis/7779207f-502e-484b-a9e1-f07366150a9c/sm/snapshot.1_3
2019-09-04 07:46:48,974 [grpc-default-executor-0] INFO  client.GrpcClientProtocolClient (GrpcClientProtocolClient.java:onNext(255)) - client-6157D7F07848->4e694486-3087-4490-b550-6be9ae6dbe9a: receive RaftClientReply:client-6157D7F07848->4e694486-3087-4490-b550-6be9ae6dbe9a@group-F07366150A9C, cid=23, SUCCESS, logIndex=3, commits[4e694486-3087-4490-b550-6be9ae6dbe9a:c4]
2019-09-04 07:46:48,983 | INFO  | DNAudit | user=null | ip=null | op=WRITE_CHUNK {blockData=conID: 5 locID: 102733132768804871 bcsId: 3} | ret=SUCCESS |  
2019-09-04 07:46:49,013 [StateMachineUpdater:4e694486-3087-4490-b550-6be9ae6dbe9a:group-F07366150A9C] INFO  ratis.ContainerStateMachine (ContainerStateMachine.java:takeSnapshot(294)) - group-F07366150A9C: Finished taking a snapshot at:(t:1, i:3) file:/workdir/hadoop-ozone/integration-test/target/test-dir/MiniOzoneClusterImpl-68751a6c-b5d9-4680-8ddd-dddd40b06685/datanode-0/data/ratis/7779207f-502e-484b-a9e1-f07366150a9c/sm/snapshot.1_3 time:43
2019-09-04 07:46:49,014 [StateMachineUpdater:4e694486-3087-4490-b550-6be9ae6dbe9a:group-F07366150A9C] INFO  impl.StateMachineUpdater (StateMachineUpdater.java:takeSnapshot(242)) - StateMachineUpdater:4e694486-3087-4490-b550-6be9ae6dbe9a:group-F07366150A9C: Took a snapshot at index 3
2019-09-04 07:46:49,014 [StateMachineUpdater:4e694486-3087-4490-b550-6be9ae6dbe9a:group-F07366150A9C] INFO  impl.StateMachineUpdater (StateMachineUpdater.java:lambda$new$0(80)) - StateMachineUpdater:4e694486-3087-4490-b550-6be9ae6dbe9a:group-F07366150A9C: snapshotIndex: updateIncreasingly 1 -> 3
2019-09-04 07:46:49,016 | INFO  | DNAudit | user=null | ip=null | op=WRITE_CHUNK {blockData=conID: 5 locID: 102733132768804871 bcsId: 3} | ret=SUCCESS |  
2019-09-04 07:46:49,018 | INFO  | DNAudit | user=null | ip=null | op=PUT_BLOCK {blockData=[blockId=conID: 5 locID: 102733132768804871 bcsId: 0,size=10]} | ret=SUCCESS |  
2019-09-04 07:46:49,018 [grpc-default-executor-0] INFO  client.GrpcClientProtocolClient (GrpcClientProtocolClient.java:onNext(255)) - client-6157D7F07848->4e694486-3087-4490-b550-6be9ae6dbe9a: receive RaftClientReply:client-6157D7F07848->4e694486-3087-4490-b550-6be9ae6dbe9a@group-F07366150A9C, cid=25, SUCCESS, logIndex=5, commits[4e694486-3087-4490-b550-6be9ae6dbe9a:c7]
2019-09-04 07:46:49,018 [StateMachineUpdater:4e694486-3087-4490-b550-6be9ae6dbe9a:group-F07366150A9C] INFO  ratis.ContainerStateMachine (ContainerStateMachine.java:takeSnapshot(283)) - group-F07366150A9C: Taking a snapshot at:(t:1, i:7) file /workdir/hadoop-ozone/integration-test/target/test-dir/MiniOzoneClusterImpl-68751a6c-b5d9-4680-8ddd-dddd40b06685/datanode-0/data/ratis/7779207f-502e-484b-a9e1-f07366150a9c/sm/snapshot.1_7
2019-09-04 07:46:49,019 [grpc-default-executor-0] INFO  client.GrpcClientProtocolClient (GrpcClientProtocolClient.java:onNext(255)) - client-6157D7F07848->4e694486-3087-4490-b550-6be9ae6dbe9a: receive RaftClientReply:client-6157D7F07848->4e694486-3087-4490-b550-6be9ae6dbe9a@group-F07366150A9C, cid=26, SUCCESS, logIndex=6, commits[4e694486-3087-4490-b550-6be9ae6dbe9a:c7]
2019-09-04 07:46:49,025 | INFO  | OMAudit | user=jenkins1000 | ip=127.0.0.1 | op=COMMIT_KEY {volume=testcontainerstatemachinefailures, bucket=testcontainerstatemachinefailures, key=ratis, dataSize=10, replicationType=null, replicationFactor=null, keyLocationInfo=[{blockID={containerID=5, localID=102733132768804871}, length=10, offset=0, token=null, pipeline=Pipeline[ Id: 7779207f-502e-484b-a9e1-f07366150a9c, Nodes: 4e694486-3087-4490-b550-6be9ae6dbe9a{ip: 192.168.34.9, host: pr-hdds-1569-tfczc-1762686928, networkLocation: /default-rack, certSerialId: null}, Type:RATIS, Factor:ONE, State:OPEN], createVersion=0}], clientID=102733132768280582} | ret=SUCCESS |  
2019-09-04 07:46:49,035 | INFO  | SCMAudit | user=jenkins1000 | ip=192.168.34.9 | op=SEND_HEARTBEAT {datanodeUUID=4e694486-3087-4490-b550-6be9ae6dbe9a, command=[]} | ret=SUCCESS |  
2019-09-04 07:46:49,041 [main] INFO  ozone.MiniOzoneClusterImpl (MiniOzoneClusterImpl.java:getStorageContainerLocationClient(241)) - Creating StorageContainerLocationProtocol RPC client with address /0.0.0.0:39723
2019-09-04 07:46:49,047 [StateMachineUpdater:4e694486-3087-4490-b550-6be9ae6dbe9a:group-F07366150A9C] INFO  ratis.ContainerStateMachine (ContainerStateMachine.java:takeSnapshot(294)) - group-F07366150A9C: Finished taking a snapshot at:(t:1, i:7) file:/workdir/hadoop-ozone/integration-test/target/test-dir/MiniOzoneClusterImpl-68751a6c-b5d9-4680-8ddd-dddd40b06685/datanode-0/data/ratis/7779207f-502e-484b-a9e1-f07366150a9c/sm/snapshot.1_7 time:29
2019-09-04 07:46:49,047 | INFO  | SCMAudit | user=jenkins1000 | ip=192.168.34.9 | op=GET_CONTAINER_WITH_PIPELINE {containerID=#5} | ret=SUCCESS |  
2019-09-04 07:46:49,047 [StateMachineUpdater:4e694486-3087-4490-b550-6be9ae6dbe9a:group-F07366150A9C] INFO  impl.StateMachineUpdater (StateMachineUpdater.java:takeSnapshot(242)) - StateMachineUpdater:4e694486-3087-4490-b550-6be9ae6dbe9a:group-F07366150A9C: Took a snapshot at index 7
2019-09-04 07:46:49,047 [StateMachineUpdater:4e694486-3087-4490-b550-6be9ae6dbe9a:group-F07366150A9C] INFO  impl.StateMachineUpdater (StateMachineUpdater.java:lambda$new$0(80)) - StateMachineUpdater:4e694486-3087-4490-b550-6be9ae6dbe9a:group-F07366150A9C: snapshotIndex: updateIncreasingly 3 -> 7
2019-09-04 07:46:49,076 [RatisApplyTransactionExecutor 5] INFO  keyvalue.KeyValueHandler (ContainerUtils.java:logAndReturnError(146)) - Operation: CloseContainer : Trace ID: 80418e583a8bfb18:80418e583a8bfb18:0:0 : Message: Error while creating/ updating .container file. ContainerID: 5 : Result: CONTAINER_FILES_CREATE_ERROR
2019-09-04 07:46:49,077 [RatisApplyTransactionExecutor 5] WARN  keyvalue.KeyValueHandler (KeyValueHandler.java:markContainerUnhealthy(909)) - Unexpected error while marking container 5 as unhealthy
org.apache.hadoop.hdds.scm.container.common.helpers.StorageContainerException: Error while creating/ updating .container file. ContainerID: 5
	at org.apache.hadoop.ozone.container.keyvalue.KeyValueContainer.writeToContainerFile(KeyValueContainer.java:233)
	at org.apache.hadoop.ozone.container.keyvalue.KeyValueContainer.updateContainerFile(KeyValueContainer.java:253)
	at org.apache.hadoop.ozone.container.keyvalue.KeyValueContainer.updateContainerData(KeyValueContainer.java:349)
	at org.apache.hadoop.ozone.container.keyvalue.KeyValueContainer.markContainerUnhealthy(KeyValueContainer.java:294)
	at org.apache.hadoop.ozone.container.keyvalue.KeyValueHandler.markContainerUnhealthy(KeyValueHandler.java:904)
	at org.apache.hadoop.ozone.container.common.impl.HddsDispatcher.dispatchRequest(HddsDispatcher.java:303)
	at org.apache.hadoop.ozone.container.common.impl.HddsDispatcher.dispatch(HddsDispatcher.java:148)
	at org.apache.hadoop.ozone.container.common.transport.server.ratis.ContainerStateMachine.dispatchCommand(ContainerStateMachine.java:395)
	at org.apache.hadoop.ozone.container.common.transport.server.ratis.ContainerStateMachine.runCommand(ContainerStateMachine.java:403)
	at org.apache.hadoop.ozone.container.common.transport.server.ratis.ContainerStateMachine.lambda$applyTransaction$6(ContainerStateMachine.java:691)
	at java.util.concurrent.CompletableFuture$AsyncSupply.run(CompletableFuture.java:1590)
	at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1149)
	at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:624)
	at java.lang.Thread.run(Thread.java:748)
Caused by: java.io.IOException: No such file or directory
	at java.io.UnixFileSystem.createFileExclusively(Native Method)
	at java.io.File.createTempFile(File.java:2024)
	at org.apache.hadoop.ozone.container.keyvalue.KeyValueContainer.createTempFile(KeyValueContainer.java:733)
	at org.apache.hadoop.ozone.container.keyvalue.KeyValueContainer.writeToContainerFile(KeyValueContainer.java:218)
	... 13 more
2019-09-04 07:46:49,079 | ERROR | DNAudit | user=null | ip=null | op=CLOSE_CONTAINER {containerID=5} | ret=FAILURE | java.lang.Exception: Error while creating/ updating .container file. ContainerID: 5
	at org.apache.hadoop.ozone.container.common.impl.HddsDispatcher.dispatchRequest(HddsDispatcher.java:320)
	at org.apache.hadoop.ozone.container.common.impl.HddsDispatcher.dispatch(HddsDispatcher.java:148) 
2019-09-04 07:46:49,080 [RatisApplyTransactionExecutor 5] ERROR ratis.ContainerStateMachine (ContainerStateMachine.java:lambda$applyTransaction$7(702)) - gid group-F07366150A9C : ApplyTransaction failed. cmd CloseContainer logIndex 8 msg : Error while creating/ updating .container file. ContainerID: 5 Container Result: CONTAINER_FILES_CREATE_ERROR
2019-09-04 07:46:49,080 | INFO  | SCMAudit | user=jenkins1000 | ip=192.168.34.9 | op=SEND_HEARTBEAT {datanodeUUID=4e694486-3087-4490-b550-6be9ae6dbe9a, command=[]} | ret=SUCCESS |  
2019-09-04 07:46:49,080 [EventQueue-CloseContainerForCloseContainerEventHandler] INFO  container.CloseContainerEventHandler (CloseContainerEventHandler.java:onMessage(61)) - Close container Event triggered for container : #5
2019-09-04 07:46:49,080 [EventQueue-IncrementalContainerReportForIncrementalContainerReportHandler] WARN  container.IncrementalContainerReportHandler (AbstractContainerReportHandler.java:updateContainerState(143)) - Container #5 is in OPEN state, but the datanode 4e694486-3087-4490-b550-6be9ae6dbe9a{ip: 192.168.34.9, host: pr-hdds-1569-tfczc-1762686928, networkLocation: /default-rack, certSerialId: null} reports an UNHEALTHY replica.
2019-09-04 07:46:49,082 [StateMachineUpdater:4e694486-3087-4490-b550-6be9ae6dbe9a:group-F07366150A9C] ERROR impl.StateMachineUpdater (StateMachineUpdater.java:run(168)) - StateMachineUpdater:4e694486-3087-4490-b550-6be9ae6dbe9a:group-F07366150A9C: the StateMachineUpdater hits Throwable
java.util.concurrent.ExecutionException: org.apache.hadoop.hdds.scm.container.common.helpers.StorageContainerException: Error while creating/ updating .container file. ContainerID: 5
	at java.util.concurrent.CompletableFuture.reportGet(CompletableFuture.java:357)
	at java.util.concurrent.CompletableFuture.get(CompletableFuture.java:1895)
	at org.apache.ratis.server.impl.StateMachineUpdater.run(StateMachineUpdater.java:149)
	at java.lang.Thread.run(Thread.java:748)
Caused by: org.apache.hadoop.hdds.scm.container.common.helpers.StorageContainerException: Error while creating/ updating .container file. ContainerID: 5
	at org.apache.hadoop.ozone.container.common.transport.server.ratis.ContainerStateMachine.lambda$applyTransaction$7(ContainerStateMachine.java:701)
	at java.util.concurrent.CompletableFuture.uniApply(CompletableFuture.java:602)
	at java.util.concurrent.CompletableFuture$UniApply.tryFire(CompletableFuture.java:577)
	at java.util.concurrent.CompletableFuture.postComplete(CompletableFuture.java:474)
	at java.util.concurrent.CompletableFuture$AsyncSupply.run(CompletableFuture.java:1595)
	at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1149)
	at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:624)
	... 1 more
2019-09-04 07:46:49,089 [RatisApplyTransactionExecutor 5] ERROR ratis.XceiverServerRatis (XceiverServerRatis.java:triggerPipelineClose(561)) - pipeline Action CLOSE  on pipeline PipelineID=7779207f-502e-484b-a9e1-f07366150a9c.Reason : Ratis Transaction failure in datanode 4e694486-3087-4490-b550-6be9ae6dbe9a with role LEADER .Triggering pipeline close action.
2019-09-04 07:46:49,092 [EventQueue-PipelineActionsForPipelineActionHandler] ERROR pipeline.PipelineActionHandler (PipelineActionHandler.java:onMessage(60)) - Received pipeline action CLOSE for Pipeline[ Id: 7779207f-502e-484b-a9e1-f07366150a9c, Nodes: 4e694486-3087-4490-b550-6be9ae6dbe9a{ip: 192.168.34.9, host: pr-hdds-1569-tfczc-1762686928, networkLocation: /default-rack, certSerialId: null}, Type:RATIS, Factor:ONE, State:OPEN] from datanode 4e694486-3087-4490-b550-6be9ae6dbe9a{ip: 192.168.34.9, host: pr-hdds-1569-tfczc-1762686928, networkLocation: /default-rack, certSerialId: null}. Reason : Ratis Transaction failure in datanode 4e694486-3087-4490-b550-6be9ae6dbe9a with role LEADER .Triggering pipeline close action.
2019-09-04 07:46:49,091 [StateMachineUpdater:4e694486-3087-4490-b550-6be9ae6dbe9a:group-F07366150A9C] INFO  impl.RaftServerImpl (RaftServerImpl.java:lambda$shutdown$3(245)) - 4e694486-3087-4490-b550-6be9ae6dbe9a: shutdown group-F07366150A9C
2019-09-04 07:46:49,092 | INFO  | SCMAudit | user=jenkins1000 | ip=192.168.34.9 | op=SEND_HEARTBEAT {datanodeUUID=4e694486-3087-4490-b550-6be9ae6dbe9a, command=[commandType: closeContainerCommand closeContainerCommandProto { containerID: 5 pipelineID { id: "7779207f-502e-484b-a9e1-f07366150a9c" } cmdId: 5 force: false } ]} | ret=SUCCESS |  
2019-09-04 07:46:49,092 [EventQueue-PipelineActionsForPipelineActionHandler] INFO  pipeline.SCMPipelineManager (SCMPipelineManager.java:finalizeAndDestroyPipeline(309)) - destroying pipeline:Pipeline[ Id: 7779207f-502e-484b-a9e1-f07366150a9c, Nodes: 4e694486-3087-4490-b550-6be9ae6dbe9a{ip: 192.168.34.9, host: pr-hdds-1569-tfczc-1762686928, networkLocation: /default-rack, certSerialId: null}, Type:RATIS, Factor:ONE, State:OPEN]
2019-09-04 07:46:49,092 [StateMachineUpdater:4e694486-3087-4490-b550-6be9ae6dbe9a:group-F07366150A9C] INFO  util.JmxRegister (JmxRegister.java:unregister(73)) - Successfully un-registered JMX Bean with object name Ratis:service=RaftServer,group=group-F07366150A9C,id=4e694486-3087-4490-b550-6be9ae6dbe9a
2019-09-04 07:46:49,095 [EventQueue-PipelineActionsForPipelineActionHandler] INFO  pipeline.PipelineStateManager (PipelineStateManager.java:finalizePipeline(123)) - Pipeline Pipeline[ Id: 7779207f-502e-484b-a9e1-f07366150a9c, Nodes: 4e694486-3087-4490-b550-6be9ae6dbe9a{ip: 192.168.34.9, host: pr-hdds-1569-tfczc-1762686928, networkLocation: /default-rack, certSerialId: null}, Type:RATIS, Factor:ONE, State:CLOSED] moved to CLOSED state
2019-09-04 07:46:49,095 [StateMachineUpdater:4e694486-3087-4490-b550-6be9ae6dbe9a:group-F07366150A9C] INFO  impl.RoleInfo (RoleInfo.java:shutdownLeaderState(104)) - 4e694486-3087-4490-b550-6be9ae6dbe9a: shutdown LeaderState
2019-09-04 07:46:49,095 [StateMachineUpdater:4e694486-3087-4490-b550-6be9ae6dbe9a:group-F07366150A9C] INFO  impl.PendingRequests (PendingRequests.java:sendNotLeaderResponses(202)) - 4e694486-3087-4490-b550-6be9ae6dbe9a-PendingRequests: sendNotLeaderResponses
2019-09-04 07:46:49,100 [StateMachineUpdater:4e694486-3087-4490-b550-6be9ae6dbe9a:group-F07366150A9C] INFO  impl.StateMachineUpdater (StateMachineUpdater.java:stopAndJoin(115)) - StateMachineUpdater:4e694486-3087-4490-b550-6be9ae6dbe9a:group-F07366150A9C: set stopIndex = 9
2019-09-04 07:46:49,257 [Command processor thread] ERROR commandhandler.CloseContainerCommandHandler (CloseContainerCommandHandler.java:handle(124)) - Can't close container #5
java.io.IOException: org.apache.ratis.protocol.ServerNotReadyException: Server 4e694486-3087-4490-b550-6be9ae6dbe9a is not [RUNNING]: current state is CLOSING
	at org.apache.hadoop.ozone.container.common.transport.server.ratis.XceiverServerRatis.submitRequest(XceiverServerRatis.java:495)
	at org.apache.hadoop.ozone.container.common.statemachine.commandhandler.CloseContainerCommandHandler.handle(CloseContainerCommandHandler.java:109)
	at org.apache.hadoop.ozone.container.common.statemachine.commandhandler.CommandDispatcher.handle(CommandDispatcher.java:93)
	at org.apache.hadoop.ozone.container.common.statemachine.DatanodeStateMachine.lambda$initCommandHandlerThread$1(DatanodeStateMachine.java:432)
	at java.lang.Thread.run(Thread.java:748)
Caused by: java.util.concurrent.ExecutionException: org.apache.ratis.protocol.ServerNotReadyException: Server 4e694486-3087-4490-b550-6be9ae6dbe9a is not [RUNNING]: current state is CLOSING
	at java.util.concurrent.CompletableFuture.reportGet(CompletableFuture.java:357)
	at java.util.concurrent.CompletableFuture.get(CompletableFuture.java:1895)
	at org.apache.hadoop.ozone.container.common.transport.server.ratis.XceiverServerRatis.submitRequest(XceiverServerRatis.java:493)
	... 4 more
Caused by: org.apache.ratis.protocol.ServerNotReadyException: Server 4e694486-3087-4490-b550-6be9ae6dbe9a is not [RUNNING]: current state is CLOSING
	at org.apache.ratis.server.impl.RaftServerImpl.lambda$assertLifeCycleState$10(RaftServerImpl.java:466)
	at org.apache.ratis.util.LifeCycle.assertCurrentState(LifeCycle.java:185)
	at org.apache.ratis.server.impl.RaftServerImpl.assertLifeCycleState(RaftServerImpl.java:465)
	at org.apache.ratis.server.impl.RaftServerImpl.submitClientRequestAsync(RaftServerImpl.java:529)
	at org.apache.ratis.server.impl.RaftServerProxy.lambda$submitClientRequestAsync$7(RaftServerProxy.java:333)
	at org.apache.ratis.server.impl.RaftServerProxy.lambda$null$5(RaftServerProxy.java:328)
	at org.apache.ratis.util.JavaUtils.callAsUnchecked(JavaUtils.java:109)
	at org.apache.ratis.server.impl.RaftServerProxy.lambda$submitRequest$6(RaftServerProxy.java:328)
	at java.util.concurrent.CompletableFuture.uniComposeStage(CompletableFuture.java:981)
	at java.util.concurrent.CompletableFuture.thenCompose(CompletableFuture.java:2124)
	at org.apache.ratis.server.impl.RaftServerProxy.submitRequest(RaftServerProxy.java:327)
	at org.apache.ratis.server.impl.RaftServerProxy.submitClientRequestAsync(RaftServerProxy.java:333)
	... 5 more
2019-09-04 07:46:49,291 | INFO  | SCMAudit | user=jenkins1000 | ip=192.168.34.9 | op=SEND_HEARTBEAT {datanodeUUID=4e694486-3087-4490-b550-6be9ae6dbe9a, command=[]} | ret=SUCCESS |  
2019-09-04 07:46:49,492 | INFO  | SCMAudit | user=jenkins1000 | ip=192.168.34.9 | op=SEND_HEARTBEAT {datanodeUUID=4e694486-3087-4490-b550-6be9ae6dbe9a, command=[]} | ret=SUCCESS |  
2019-09-04 07:46:49,692 | INFO  | SCMAudit | user=jenkins1000 | ip=192.168.34.9 | op=SEND_HEARTBEAT {datanodeUUID=4e694486-3087-4490-b550-6be9ae6dbe9a, command=[]} | ret=SUCCESS |  
2019-09-04 07:46:49,891 | INFO  | SCMAudit | user=jenkins1000 | ip=192.168.34.9 | op=SEND_HEARTBEAT {datanodeUUID=4e694486-3087-4490-b550-6be9ae6dbe9a, command=[]} | ret=SUCCESS |  
2019-09-04 07:46:50,092 | INFO  | SCMAudit | user=jenkins1000 | ip=192.168.34.9 | op=SEND_HEARTBEAT {datanodeUUID=4e694486-3087-4490-b550-6be9ae6dbe9a, command=[]} | ret=SUCCESS |  
2019-09-04 07:46:50,293 | INFO  | SCMAudit | user=jenkins1000 | ip=192.168.34.9 | op=SEND_HEARTBEAT {datanodeUUID=4e694486-3087-4490-b550-6be9ae6dbe9a, command=[]} | ret=SUCCESS |  
2019-09-04 07:46:50,493 | INFO  | SCMAudit | user=jenkins1000 | ip=192.168.34.9 | op=SEND_HEARTBEAT {datanodeUUID=4e694486-3087-4490-b550-6be9ae6dbe9a, command=[]} | ret=SUCCESS |  
2019-09-04 07:46:50,693 | INFO  | SCMAudit | user=jenkins1000 | ip=192.168.34.9 | op=SEND_HEARTBEAT {datanodeUUID=4e694486-3087-4490-b550-6be9ae6dbe9a, command=[]} | ret=SUCCESS |  
2019-09-04 07:46:50,894 | INFO  | SCMAudit | user=jenkins1000 | ip=192.168.34.9 | op=SEND_HEARTBEAT {datanodeUUID=4e694486-3087-4490-b550-6be9ae6dbe9a, command=[]} | ret=SUCCESS |  
2019-09-04 07:46:51,094 | INFO  | SCMAudit | user=jenkins1000 | ip=192.168.34.9 | op=SEND_HEARTBEAT {datanodeUUID=4e694486-3087-4490-b550-6be9ae6dbe9a, command=[]} | ret=SUCCESS |  
2019-09-04 07:46:51,294 | INFO  | SCMAudit | user=jenkins1000 | ip=192.168.34.9 | op=SEND_HEARTBEAT {datanodeUUID=4e694486-3087-4490-b550-6be9ae6dbe9a, command=[]} | ret=SUCCESS |  
2019-09-04 07:46:51,494 | INFO  | SCMAudit | user=jenkins1000 | ip=192.168.34.9 | op=SEND_HEARTBEAT {datanodeUUID=4e694486-3087-4490-b550-6be9ae6dbe9a, command=[]} | ret=SUCCESS |  
2019-09-04 07:46:51,694 | INFO  | SCMAudit | user=jenkins1000 | ip=192.168.34.9 | op=SEND_HEARTBEAT {datanodeUUID=4e694486-3087-4490-b550-6be9ae6dbe9a, command=[]} | ret=SUCCESS |  
2019-09-04 07:46:51,894 | INFO  | SCMAudit | user=jenkins1000 | ip=192.168.34.9 | op=SEND_HEARTBEAT {datanodeUUID=4e694486-3087-4490-b550-6be9ae6dbe9a, command=[]} | ret=SUCCESS |  
2019-09-04 07:46:52,094 | INFO  | SCMAudit | user=jenkins1000 | ip=192.168.34.9 | op=SEND_HEARTBEAT {datanodeUUID=4e694486-3087-4490-b550-6be9ae6dbe9a, command=[]} | ret=SUCCESS |  
2019-09-04 07:46:52,294 | INFO  | SCMAudit | user=jenkins1000 | ip=192.168.34.9 | op=SEND_HEARTBEAT {datanodeUUID=4e694486-3087-4490-b550-6be9ae6dbe9a, command=[]} | ret=SUCCESS |  
2019-09-04 07:46:52,494 | INFO  | SCMAudit | user=jenkins1000 | ip=192.168.34.9 | op=SEND_HEARTBEAT {datanodeUUID=4e694486-3087-4490-b550-6be9ae6dbe9a, command=[]} | ret=SUCCESS |  
2019-09-04 07:46:52,694 | INFO  | SCMAudit | user=jenkins1000 | ip=192.168.34.9 | op=SEND_HEARTBEAT {datanodeUUID=4e694486-3087-4490-b550-6be9ae6dbe9a, command=[]} | ret=SUCCESS |  
2019-09-04 07:46:52,894 | INFO  | SCMAudit | user=jenkins1000 | ip=192.168.34.9 | op=SEND_HEARTBEAT {datanodeUUID=4e694486-3087-4490-b550-6be9ae6dbe9a, command=[]} | ret=SUCCESS |  
2019-09-04 07:46:53,094 | INFO  | SCMAudit | user=jenkins1000 | ip=192.168.34.9 | op=SEND_HEARTBEAT {datanodeUUID=4e694486-3087-4490-b550-6be9ae6dbe9a, command=[]} | ret=SUCCESS |  
2019-09-04 07:46:53,293 | INFO  | SCMAudit | user=jenkins1000 | ip=192.168.34.9 | op=SEND_HEARTBEAT {datanodeUUID=4e694486-3087-4490-b550-6be9ae6dbe9a, command=[]} | ret=SUCCESS |  
2019-09-04 07:46:53,494 | INFO  | SCMAudit | user=jenkins1000 | ip=192.168.34.9 | op=SEND_HEARTBEAT {datanodeUUID=4e694486-3087-4490-b550-6be9ae6dbe9a, command=[]} | ret=SUCCESS |  
2019-09-04 07:46:53,694 | INFO  | SCMAudit | user=jenkins1000 | ip=192.168.34.9 | op=SEND_HEARTBEAT {datanodeUUID=4e694486-3087-4490-b550-6be9ae6dbe9a, command=[]} | ret=SUCCESS |  
2019-09-04 07:46:53,894 | INFO  | SCMAudit | user=jenkins1000 | ip=192.168.34.9 | op=SEND_HEARTBEAT {datanodeUUID=4e694486-3087-4490-b550-6be9ae6dbe9a, command=[]} | ret=SUCCESS |  
2019-09-04 07:46:54,094 | INFO  | SCMAudit | user=jenkins1000 | ip=192.168.34.9 | op=SEND_HEARTBEAT {datanodeUUID=4e694486-3087-4490-b550-6be9ae6dbe9a, command=[]} | ret=SUCCESS |  
2019-09-04 07:46:54,295 | INFO  | SCMAudit | user=jenkins1000 | ip=192.168.34.9 | op=SEND_HEARTBEAT {datanodeUUID=4e694486-3087-4490-b550-6be9ae6dbe9a, command=[]} | ret=SUCCESS |  
2019-09-04 07:46:54,495 | INFO  | SCMAudit | user=jenkins1000 | ip=192.168.34.9 | op=SEND_HEARTBEAT {datanodeUUID=4e694486-3087-4490-b550-6be9ae6dbe9a, command=[]} | ret=SUCCESS |  
2019-09-04 07:46:54,695 | INFO  | SCMAudit | user=jenkins1000 | ip=192.168.34.9 | op=SEND_HEARTBEAT {datanodeUUID=4e694486-3087-4490-b550-6be9ae6dbe9a, command=[]} | ret=SUCCESS |  
2019-09-04 07:46:54,895 | INFO  | SCMAudit | user=jenkins1000 | ip=192.168.34.9 | op=SEND_HEARTBEAT {datanodeUUID=4e694486-3087-4490-b550-6be9ae6dbe9a, command=[]} | ret=SUCCESS |  
2019-09-04 07:46:55,095 | INFO  | SCMAudit | user=jenkins1000 | ip=192.168.34.9 | op=SEND_HEARTBEAT {datanodeUUID=4e694486-3087-4490-b550-6be9ae6dbe9a, command=[]} | ret=SUCCESS |  
2019-09-04 07:46:55,295 | INFO  | SCMAudit | user=jenkins1000 | ip=192.168.34.9 | op=SEND_HEARTBEAT {datanodeUUID=4e694486-3087-4490-b550-6be9ae6dbe9a, command=[]} | ret=SUCCESS |  
2019-09-04 07:46:55,494 | INFO  | SCMAudit | user=jenkins1000 | ip=192.168.34.9 | op=SEND_HEARTBEAT {datanodeUUID=4e694486-3087-4490-b550-6be9ae6dbe9a, command=[]} | ret=SUCCESS |  
2019-09-04 07:46:55,695 | INFO  | SCMAudit | user=jenkins1000 | ip=192.168.34.9 | op=SEND_HEARTBEAT {datanodeUUID=4e694486-3087-4490-b550-6be9ae6dbe9a, command=[]} | ret=SUCCESS |  
2019-09-04 07:46:55,895 | INFO  | SCMAudit | user=jenkins1000 | ip=192.168.34.9 | op=SEND_HEARTBEAT {datanodeUUID=4e694486-3087-4490-b550-6be9ae6dbe9a, command=[]} | ret=SUCCESS |  
2019-09-04 07:46:56,095 | INFO  | SCMAudit | user=jenkins1000 | ip=192.168.34.9 | op=SEND_HEARTBEAT {datanodeUUID=4e694486-3087-4490-b550-6be9ae6dbe9a, command=[]} | ret=SUCCESS |  
2019-09-04 07:46:56,295 | INFO  | SCMAudit | user=jenkins1000 | ip=192.168.34.9 | op=SEND_HEARTBEAT {datanodeUUID=4e694486-3087-4490-b550-6be9ae6dbe9a, command=[]} | ret=SUCCESS |  
2019-09-04 07:46:56,495 | INFO  | SCMAudit | user=jenkins1000 | ip=192.168.34.9 | op=SEND_HEARTBEAT {datanodeUUID=4e694486-3087-4490-b550-6be9ae6dbe9a, command=[]} | ret=SUCCESS |  
2019-09-04 07:46:56,695 | INFO  | SCMAudit | user=jenkins1000 | ip=192.168.34.9 | op=SEND_HEARTBEAT {datanodeUUID=4e694486-3087-4490-b550-6be9ae6dbe9a, command=[]} | ret=SUCCESS |  
2019-09-04 07:46:56,895 | INFO  | SCMAudit | user=jenkins1000 | ip=192.168.34.9 | op=SEND_HEARTBEAT {datanodeUUID=4e694486-3087-4490-b550-6be9ae6dbe9a, command=[]} | ret=SUCCESS |  
2019-09-04 07:46:57,095 | INFO  | SCMAudit | user=jenkins1000 | ip=192.168.34.9 | op=SEND_HEARTBEAT {datanodeUUID=4e694486-3087-4490-b550-6be9ae6dbe9a, command=[]} | ret=SUCCESS |  
2019-09-04 07:46:57,295 | INFO  | SCMAudit | user=jenkins1000 | ip=192.168.34.9 | op=SEND_HEARTBEAT {datanodeUUID=4e694486-3087-4490-b550-6be9ae6dbe9a, command=[]} | ret=SUCCESS |  
2019-09-04 07:46:57,495 | INFO  | SCMAudit | user=jenkins1000 | ip=192.168.34.9 | op=SEND_HEARTBEAT {datanodeUUID=4e694486-3087-4490-b550-6be9ae6dbe9a, command=[]} | ret=SUCCESS |  
2019-09-04 07:46:57,696 | INFO  | SCMAudit | user=jenkins1000 | ip=192.168.34.9 | op=SEND_HEARTBEAT {datanodeUUID=4e694486-3087-4490-b550-6be9ae6dbe9a, command=[]} | ret=SUCCESS |  
2019-09-04 07:46:57,896 | INFO  | SCMAudit | user=jenkins1000 | ip=192.168.34.9 | op=SEND_HEARTBEAT {datanodeUUID=4e694486-3087-4490-b550-6be9ae6dbe9a, command=[]} | ret=SUCCESS |  
2019-09-04 07:46:58,096 | INFO  | SCMAudit | user=jenkins1000 | ip=192.168.34.9 | op=SEND_HEARTBEAT {datanodeUUID=4e694486-3087-4490-b550-6be9ae6dbe9a, command=[]} | ret=SUCCESS |  
2019-09-04 07:46:58,229 [main] ERROR ratis.ContainerStateMachine (ContainerStateMachine.java:takeSnapshot(277)) - Failed to take snapshot  for group-F07366150A9C as the stateMachine is unhealthy. The last applied index is at (t:1, i:7)
2019-09-04 07:46:58,230 [main] INFO  ozone.MiniOzoneClusterImpl (MiniOzoneClusterImpl.java:shutdown(321)) - Shutting down the Mini Ozone Cluster
2019-09-04 07:46:58,231 | INFO  | SCMAudit | user=null | ip=null | op=GET_SCM_INFO null | ret=SUCCESS |  
2019-09-04 07:46:58,231 [main] INFO  ozone.MiniOzoneClusterImpl (MiniOzoneClusterImpl.java:stop(336)) - Stopping the Mini Ozone Cluster
2019-09-04 07:46:58,231 [main] INFO  ozone.MiniOzoneClusterImpl (MiniOzoneClusterImpl.java:stop(338)) - Stopping the OzoneManager
2019-09-04 07:46:58,231 [main] INFO  ipc.Server (Server.java:stop(3082)) - Stopping server on 40247
2019-09-04 07:46:58,237 [IPC Server listener on 40247] INFO  ipc.Server (Server.java:run(1185)) - Stopping IPC Server listener on 40247
2019-09-04 07:46:58,237 [main] INFO  ratis.OzoneManagerDoubleBuffer (OzoneManagerDoubleBuffer.java:stop(248)) - Stopping OMDoubleBuffer flush thread
2019-09-04 07:46:58,241 [IPC Server Responder] INFO  ipc.Server (Server.java:run(1319)) - Stopping IPC Server Responder
2019-09-04 07:46:58,248 [OMDoubleBufferFlushThread] INFO  ratis.OzoneManagerDoubleBuffer (OzoneManagerDoubleBuffer.java:flushTransactions(191)) - OMDoubleBuffer flush thread OMDoubleBufferFlushThread is interrupted and will exit. OMDoubleBufferFlushThread
2019-09-04 07:46:58,251 [main] INFO  utils.BackgroundService (BackgroundService.java:shutdown(148)) - Shutting down service KeyDeletingService
2019-09-04 07:46:58,252 [main] INFO  handler.ContextHandler (ContextHandler.java:doStop(910)) - Stopped o.e.j.w.WebAppContext@6daf2337{/,null,UNAVAILABLE}{/ozoneManager}
2019-09-04 07:46:58,253 [main] INFO  server.AbstractConnector (AbstractConnector.java:doStop(318)) - Stopped ServerConnector@24fabd0f{HTTP/1.1,[http/1.1]}{0.0.0.0:0}
2019-09-04 07:46:58,253 [main] INFO  handler.ContextHandler (ContextHandler.java:doStop(910)) - Stopped o.e.j.s.ServletContextHandler@4e628b52{/static,file:///workdir/hadoop-ozone/integration-test/target/test-classes/webapps/static,UNAVAILABLE}
2019-09-04 07:46:58,254 [main] INFO  handler.ContextHandler (ContextHandler.java:doStop(910)) - Stopped o.e.j.s.ServletContextHandler@1e9804b9{/logs,file:///workdir/hadoop-ozone/integration-test/target/log,UNAVAILABLE}
2019-09-04 07:46:58,257 [main] INFO  ozone.MiniOzoneClusterImpl (MiniOzoneClusterImpl.java:stop(344)) - Shutting the HddsDatanodes
2019-09-04 07:46:58,257 [main] INFO  datanode.ObjectStoreHandler (ObjectStoreHandler.java:close(155)) - Closing ObjectStoreHandler.
2019-09-04 07:46:58,258 [main] INFO  ozone.HddsDatanodeService (HddsDatanodeService.java:stop(451)) - Stopped plug-in org.apache.hadoop.ozone.web.OzoneHddsDatanodeService@4861cca9
2019-09-04 07:46:58,295 [Datanode State Machine Thread - 0] INFO  statemachine.DatanodeStateMachine (DatanodeStateMachine.java:lambda$startDaemon$0(350)) - Ozone container server started.
2019-09-04 07:46:59,104 [grpc-default-executor-1] INFO  impl.RaftServerProxy (RaftServerProxy.java:remove(95)) - 4e694486-3087-4490-b550-6be9ae6dbe9a: remove   LEADER group-F07366150A9C 4e694486-3087-4490-b550-6be9ae6dbe9a:t1, leader=4e694486-3087-4490-b550-6be9ae6dbe9a, voted=4e694486-3087-4490-b550-6be9ae6dbe9a, raftlog=4e694486-3087-4490-b550-6be9ae6dbe9a-SegmentedRaftLog:OPENED:c9,f9,i9, conf=0: [4e694486-3087-4490-b550-6be9ae6dbe9a:192.168.34.9:39640], old=null CLOSING
2019-09-04 07:46:59,110 [RatisPipelineUtilsThread] INFO  pipeline.PipelineStateManager (PipelineStateManager.java:removePipeline(108)) - Pipeline Pipeline[ Id: 7779207f-502e-484b-a9e1-f07366150a9c, Nodes: 4e694486-3087-4490-b550-6be9ae6dbe9a{ip: 192.168.34.9, host: pr-hdds-1569-tfczc-1762686928, networkLocation: /default-rack, certSerialId: null}, Type:RATIS, Factor:ONE, State:CLOSED] removed from db
2019-09-04 07:46:59,118 [grpc-default-executor-1] INFO  impl.RaftServerProxy (RaftServerProxy.java:addNew(89)) - 4e694486-3087-4490-b550-6be9ae6dbe9a: addNew group-0CBFF8943276:[4e694486-3087-4490-b550-6be9ae6dbe9a:192.168.34.9:39640] returns group-0CBFF8943276:java.util.concurrent.CompletableFuture@1dc48ea5[Not completed]
2019-09-04 07:46:59,120 [pool-55-thread-1] INFO  impl.RaftServerImpl (RaftServerImpl.java:<init>(93)) - 4e694486-3087-4490-b550-6be9ae6dbe9a: new RaftServerImpl for group-0CBFF8943276:[4e694486-3087-4490-b550-6be9ae6dbe9a:192.168.34.9:39640] with ContainerStateMachine:uninitialized
2019-09-04 07:46:59,120 [pool-55-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.rpc.timeout.min = 5s (custom)
2019-09-04 07:46:59,120 [pool-55-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.rpc.timeout.max = 5200ms (custom)
2019-09-04 07:46:59,121 [pool-55-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.rpcslowness.timeout = 120s (custom)
2019-09-04 07:46:59,121 [pool-55-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.sleep.deviation.threshold = 300 (default)
2019-09-04 07:46:59,121 [pool-55-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.log.appender.install.snapshot.enabled = false (custom)
2019-09-04 07:46:59,121 [pool-55-thread-1] INFO  impl.RaftServerImpl (ServerState.java:<init>(105)) - 4e694486-3087-4490-b550-6be9ae6dbe9a:group-0CBFF8943276 ConfigurationManager, init=-1: [4e694486-3087-4490-b550-6be9ae6dbe9a:192.168.34.9:39640], old=null, confs=<EMPTY_MAP>
2019-09-04 07:46:59,121 [pool-55-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.storage.dir = [/workdir/hadoop-ozone/integration-test/target/test-dir/MiniOzoneClusterImpl-68751a6c-b5d9-4680-8ddd-dddd40b06685/datanode-0/data/ratis] (custom)
2019-09-04 07:46:59,122 [pool-55-thread-1] INFO  storage.RaftStorageDirectory (RaftStorageDirectory.java:analyzeStorage(246)) - The storage directory /workdir/hadoop-ozone/integration-test/target/test-dir/MiniOzoneClusterImpl-68751a6c-b5d9-4680-8ddd-dddd40b06685/datanode-0/data/ratis/5298e041-9d96-4a09-b7c3-0cbff8943276 does not exist. Creating ...
2019-09-04 07:46:59,139 [pool-55-thread-1] INFO  storage.RaftStorageDirectory (RaftStorageDirectory.java:tryLock(328)) - Lock on /workdir/hadoop-ozone/integration-test/target/test-dir/MiniOzoneClusterImpl-68751a6c-b5d9-4680-8ddd-dddd40b06685/datanode-0/data/ratis/5298e041-9d96-4a09-b7c3-0cbff8943276/in_use.lock acquired by nodename 1142@pr-hdds-1569-tfczc-1762686928
2019-09-04 07:46:59,153 [pool-55-thread-1] INFO  storage.RaftStorage (RaftStorage.java:format(72)) - Storage directory /workdir/hadoop-ozone/integration-test/target/test-dir/MiniOzoneClusterImpl-68751a6c-b5d9-4680-8ddd-dddd40b06685/datanode-0/data/ratis/5298e041-9d96-4a09-b7c3-0cbff8943276 has been successfully formatted.
2019-09-04 07:46:59,153 [pool-55-thread-1] INFO  ratis.ContainerStateMachine (ContainerStateMachine.java:loadSnapshot(226)) - group-0CBFF8943276: The snapshot info is null. Setting the last applied indexto:(t:0, i:~)
2019-09-04 07:46:59,154 [pool-55-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.leader.election.timeout = 120s (custom)
2019-09-04 07:46:59,154 [pool-55-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.log.use.memory = false (default)
2019-09-04 07:46:59,154 [pool-55-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.log.purge.gap = 1000000 (custom)
2019-09-04 07:46:59,154 [pool-55-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.log.appender.buffer.byte-limit = 33554432 (custom)
2019-09-04 07:46:59,155 [pool-55-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.log.segment.size.max = 1048576 (custom)
2019-09-04 07:46:59,155 [pool-55-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.log.segment.cache.num.max = 2 (custom)
2019-09-04 07:46:59,155 [pool-55-thread-1] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:<init>(172)) - new 4e694486-3087-4490-b550-6be9ae6dbe9a-SegmentedRaftLogWorker:Storage Directory /workdir/hadoop-ozone/integration-test/target/test-dir/MiniOzoneClusterImpl-68751a6c-b5d9-4680-8ddd-dddd40b06685/datanode-0/data/ratis/5298e041-9d96-4a09-b7c3-0cbff8943276 for RaftStorage:Storage Directory /workdir/hadoop-ozone/integration-test/target/test-dir/MiniOzoneClusterImpl-68751a6c-b5d9-4680-8ddd-dddd40b06685/datanode-0/data/ratis/5298e041-9d96-4a09-b7c3-0cbff8943276
2019-09-04 07:46:59,155 [pool-55-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.log.queue.byte-limit = 2147483647 (custom)
2019-09-04 07:46:59,156 [pool-55-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.log.queue.element-limit = 1024 (custom)
2019-09-04 07:46:59,156 [pool-55-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.log.segment.size.max = 1048576 (custom)
2019-09-04 07:46:59,156 [pool-55-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.log.preallocated.size = 16384 (custom)
2019-09-04 07:46:59,156 [pool-55-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.log.write.buffer.size = 33554432 (custom)
2019-09-04 07:46:59,157 [pool-55-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.log.force.sync.num = 128 (default)
2019-09-04 07:46:59,157 [pool-55-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.log.statemachine.data.sync = true (default)
2019-09-04 07:46:59,157 [pool-55-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.log.statemachine.data.sync.timeout = 10s (default)
2019-09-04 07:46:59,157 [pool-55-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.log.statemachine.data.sync.timeout.retry = -1 (default)
2019-09-04 07:46:59,158 [pool-55-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.log.statemachine.data.caching.enabled = true (custom)
2019-09-04 07:46:59,158 [pool-55-thread-1] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:lambda$new$0(132)) - 4e694486-3087-4490-b550-6be9ae6dbe9a-SegmentedRaftLogWorker:Storage Directory /workdir/hadoop-ozone/integration-test/target/test-dir/MiniOzoneClusterImpl-68751a6c-b5d9-4680-8ddd-dddd40b06685/datanode-0/data/ratis/5298e041-9d96-4a09-b7c3-0cbff8943276: flushIndex: setUnconditionally 0 -> -1
2019-09-04 07:46:59,159 [pool-55-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.snapshot.auto.trigger.enabled = true (custom)
2019-09-04 07:46:59,159 [pool-55-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.snapshot.auto.trigger.threshold = 1 (custom)
2019-09-04 07:46:59,159 [pool-55-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.retrycache.expirytime = 600000ms (custom)
2019-09-04 07:46:59,160 [pool-55-thread-1] INFO  impl.RaftServerImpl (RaftServerImpl.java:start(180)) - 4e694486-3087-4490-b550-6be9ae6dbe9a: start group-0CBFF8943276
2019-09-04 07:46:59,160 [pool-55-thread-1] INFO  impl.RaftServerImpl (RaftServerImpl.java:setRole(171)) - 4e694486-3087-4490-b550-6be9ae6dbe9a:group-0CBFF8943276 changes role from null to FOLLOWER at term 0 for startAsFollower
2019-09-04 07:46:59,160 [pool-55-thread-1] INFO  impl.RoleInfo (RoleInfo.java:updateAndGet(143)) - 4e694486-3087-4490-b550-6be9ae6dbe9a: start FollowerState
2019-09-04 07:46:59,161 [pool-55-thread-1] INFO  util.JmxRegister (JmxRegister.java:tryRegister(44)) - Successfully registered JMX Bean with object name Ratis:service=RaftServer,group=group-0CBFF8943276,id=4e694486-3087-4490-b550-6be9ae6dbe9a
2019-09-04 07:46:59,168 [RatisPipelineUtilsThread] INFO  pipeline.PipelineStateManager (PipelineStateManager.java:addPipeline(56)) - Created pipeline Pipeline[ Id: 5298e041-9d96-4a09-b7c3-0cbff8943276, Nodes: 4e694486-3087-4490-b550-6be9ae6dbe9a{ip: 192.168.34.9, host: pr-hdds-1569-tfczc-1762686928, networkLocation: /default-rack, certSerialId: null}, Type:RATIS, Factor:ONE, State:OPEN]
2019-09-04 07:47:01,157 [EventQueue-StaleNodeForStaleNodeHandler] INFO  node.StaleNodeHandler (StaleNodeHandler.java:onMessage(58)) - Datanode 4e694486-3087-4490-b550-6be9ae6dbe9a{ip: 192.168.34.9, host: pr-hdds-1569-tfczc-1762686928, networkLocation: /default-rack, certSerialId: null} moved to stale state. Finalizing its pipelines [PipelineID=5298e041-9d96-4a09-b7c3-0cbff8943276]
2019-09-04 07:47:01,157 [EventQueue-StaleNodeForStaleNodeHandler] INFO  pipeline.SCMPipelineManager (SCMPipelineManager.java:finalizeAndDestroyPipeline(309)) - destroying pipeline:Pipeline[ Id: 5298e041-9d96-4a09-b7c3-0cbff8943276, Nodes: 4e694486-3087-4490-b550-6be9ae6dbe9a{ip: 192.168.34.9, host: pr-hdds-1569-tfczc-1762686928, networkLocation: /default-rack, certSerialId: null}, Type:RATIS, Factor:ONE, State:OPEN]
2019-09-04 07:47:01,158 [EventQueue-StaleNodeForStaleNodeHandler] INFO  pipeline.PipelineStateManager (PipelineStateManager.java:finalizePipeline(123)) - Pipeline Pipeline[ Id: 5298e041-9d96-4a09-b7c3-0cbff8943276, Nodes: 4e694486-3087-4490-b550-6be9ae6dbe9a{ip: 192.168.34.9, host: pr-hdds-1569-tfczc-1762686928, networkLocation: /default-rack, certSerialId: null}, Type:RATIS, Factor:ONE, State:CLOSED] moved to CLOSED state
2019-09-04 07:47:03,259 [main] INFO  ozoneimpl.OzoneContainer (OzoneContainer.java:stop(199)) - Attempting to stop container services.
2019-09-04 07:47:03,259 [main] INFO  impl.RaftServerProxy (RaftServerProxy.java:lambda$close$4(314)) - 4e694486-3087-4490-b550-6be9ae6dbe9a: close
2019-09-04 07:47:03,260 [main] INFO  impl.RaftServerImpl (RaftServerImpl.java:lambda$shutdown$3(245)) - 4e694486-3087-4490-b550-6be9ae6dbe9a: shutdown group-0CBFF8943276
2019-09-04 07:47:03,260 [main] INFO  util.JmxRegister (JmxRegister.java:unregister(73)) - Successfully un-registered JMX Bean with object name Ratis:service=RaftServer,group=group-0CBFF8943276,id=4e694486-3087-4490-b550-6be9ae6dbe9a
2019-09-04 07:47:03,260 [main] INFO  impl.RoleInfo (RoleInfo.java:shutdownFollowerState(121)) - 4e694486-3087-4490-b550-6be9ae6dbe9a: shutdown FollowerState
2019-09-04 07:47:03,260 [main] INFO  impl.StateMachineUpdater (StateMachineUpdater.java:stopAndJoin(115)) - StateMachineUpdater:4e694486-3087-4490-b550-6be9ae6dbe9a:group-0CBFF8943276: set stopIndex = -1
2019-09-04 07:47:03,261 [Thread-354] INFO  impl.FollowerState (FollowerState.java:run(114)) - 4e694486-3087-4490-b550-6be9ae6dbe9a: FollowerState was interrupted: java.lang.InterruptedException: sleep interrupted
2019-09-04 07:47:03,262 [main] INFO  impl.RaftServerImpl (ServerState.java:close(394)) - 4e694486-3087-4490-b550-6be9ae6dbe9a:group-0CBFF8943276 closes. The last applied log index is -1
2019-09-04 07:47:03,263 [4e694486-3087-4490-b550-6be9ae6dbe9a-SegmentedRaftLogWorker:Storage Directory /workdir/hadoop-ozone/integration-test/target/test-dir/MiniOzoneClusterImpl-68751a6c-b5d9-4680-8ddd-dddd40b06685/datanode-0/data/ratis/5298e041-9d96-4a09-b7c3-0cbff8943276] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:run(313)) - 4e694486-3087-4490-b550-6be9ae6dbe9a-SegmentedRaftLogWorker:Storage Directory /workdir/hadoop-ozone/integration-test/target/test-dir/MiniOzoneClusterImpl-68751a6c-b5d9-4680-8ddd-dddd40b06685/datanode-0/data/ratis/5298e041-9d96-4a09-b7c3-0cbff8943276 was interrupted, exiting. There are 0 tasks remaining in the queue.
2019-09-04 07:47:03,263 [main] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:close(228)) - 4e694486-3087-4490-b550-6be9ae6dbe9a-SegmentedRaftLogWorker:Storage Directory /workdir/hadoop-ozone/integration-test/target/test-dir/MiniOzoneClusterImpl-68751a6c-b5d9-4680-8ddd-dddd40b06685/datanode-0/data/ratis/5298e041-9d96-4a09-b7c3-0cbff8943276 close()
2019-09-04 07:47:03,265 [main] INFO  server.GrpcService (GrpcService.java:closeImpl(155)) - 4e694486-3087-4490-b550-6be9ae6dbe9a: shutdown server with port 39640 now
2019-09-04 07:47:03,266 [main] INFO  server.GrpcService (GrpcService.java:closeImpl(163)) - 4e694486-3087-4490-b550-6be9ae6dbe9a: shutdown server with port 39640 successfully
2019-09-04 07:47:03,267 [main] INFO  utils.BackgroundService (BackgroundService.java:shutdown(148)) - Shutting down service BlockDeletingService
2019-09-04 07:47:03,268 [refreshUsed-/workdir/hadoop-ozone/integration-test/target/test-dir/MiniOzoneClusterImpl-68751a6c-b5d9-4680-8ddd-dddd40b06685/datanode-0/data/containers] WARN  fs.CachingGetSpaceUsed (CachingGetSpaceUsed.java:run(183)) - Thread Interrupted waiting to refresh disk information: sleep interrupted
2019-09-04 07:47:03,287 [main] INFO  statemachine.DatanodeStateMachine (DatanodeStateMachine.java:stopDaemon(395)) - Ozone container server stopped.
2019-09-04 07:47:03,288 [main] INFO  handler.ContextHandler (ContextHandler.java:doStop(910)) - Stopped o.e.j.w.WebAppContext@ad3f70a{/,null,UNAVAILABLE}{/hddsDatanode}
2019-09-04 07:47:03,289 [main] INFO  server.AbstractConnector (AbstractConnector.java:doStop(318)) - Stopped ServerConnector@54ccb3{HTTP/1.1,[http/1.1]}{0.0.0.0:39773}
2019-09-04 07:47:03,289 [main] INFO  handler.ContextHandler (ContextHandler.java:doStop(910)) - Stopped o.e.j.s.ServletContextHandler@7d50f2a8{/static,jar:file:/home/user/.m2/repository/org/apache/hadoop/hadoop-hdds-container-service/0.5.0-SNAPSHOT/hadoop-hdds-container-service-0.5.0-SNAPSHOT.jar!/webapps/static,UNAVAILABLE}
2019-09-04 07:47:03,289 [main] INFO  handler.ContextHandler (ContextHandler.java:doStop(910)) - Stopped o.e.j.s.ServletContextHandler@66713605{/logs,file:///workdir/hadoop-ozone/integration-test/target/log,UNAVAILABLE}
2019-09-04 07:47:03,290 [main] INFO  ozone.MiniOzoneClusterImpl (MiniOzoneClusterImpl.java:stop(353)) - Stopping the StorageContainerManager
2019-09-04 07:47:03,290 [main] INFO  server.StorageContainerManager (StorageContainerManager.java:stop(797)) - Stopping Replication Manager Service.
2019-09-04 07:47:03,291 [main] INFO  container.ReplicationManager (ReplicationManager.java:stop(193)) - Stopping Replication Monitor Thread.
2019-09-04 07:47:03,291 [main] INFO  server.StorageContainerManager (StorageContainerManager.java:stop(804)) - Stopping Lease Manager of the command watchers
2019-09-04 07:47:03,291 [main] INFO  server.StorageContainerManager (StorageContainerManager.java:stop(811)) - Stopping datanode service RPC server
2019-09-04 07:47:03,291 [main] INFO  server.SCMDatanodeProtocolServer (SCMDatanodeProtocolServer.java:stop(367)) - Stopping the RPC server for DataNodes
2019-09-04 07:47:03,291 [main] INFO  ipc.Server (Server.java:stop(3082)) - Stopping server on 46566
2019-09-04 07:47:03,293 [IPC Server Responder] INFO  ipc.Server (Server.java:run(1319)) - Stopping IPC Server Responder
2019-09-04 07:47:03,293 [IPC Server listener on 46566] INFO  ipc.Server (Server.java:run(1185)) - Stopping IPC Server listener on 46566
2019-09-04 07:47:03,360 [SCM Heartbeat Processing Thread - 0] WARN  node.NodeStateManager (NodeStateManager.java:scheduleNextHealthCheck(655)) - Current Thread is interrupted, shutting down HB processing thread for Node Manager.
2019-09-04 07:47:03,360 [main] INFO  server.StorageContainerManager (StorageContainerManager.java:stop(819)) - Stopping block service RPC server
2019-09-04 07:47:03,361 [main] INFO  server.SCMBlockProtocolServer (SCMBlockProtocolServer.java:stop(148)) - Stopping the RPC server for Block Protocol
2019-09-04 07:47:03,361 [main] INFO  ipc.Server (Server.java:stop(3082)) - Stopping server on 43460
2019-09-04 07:47:03,362 [IPC Server listener on 43460] INFO  ipc.Server (Server.java:run(1185)) - Stopping IPC Server listener on 43460
2019-09-04 07:47:03,362 [main] INFO  server.StorageContainerManager (StorageContainerManager.java:stop(826)) - Stopping the StorageContainerLocationProtocol RPC server
2019-09-04 07:47:03,362 [main] INFO  server.SCMClientProtocolServer (SCMClientProtocolServer.java:stop(159)) - Stopping the RPC server for Client Protocol
2019-09-04 07:47:03,362 [main] INFO  ipc.Server (Server.java:stop(3082)) - Stopping server on 39723
2019-09-04 07:47:03,362 [IPC Server Responder] INFO  ipc.Server (Server.java:run(1319)) - Stopping IPC Server Responder
2019-09-04 07:47:03,363 [IPC Server listener on 39723] INFO  ipc.Server (Server.java:run(1185)) - Stopping IPC Server listener on 39723
2019-09-04 07:47:03,363 [main] INFO  server.StorageContainerManager (StorageContainerManager.java:stop(833)) - Stopping Storage Container Manager HTTP server.
2019-09-04 07:47:03,364 [IPC Server Responder] INFO  ipc.Server (Server.java:run(1319)) - Stopping IPC Server Responder
2019-09-04 07:47:03,364 [main] INFO  handler.ContextHandler (ContextHandler.java:doStop(910)) - Stopped o.e.j.w.WebAppContext@d1f74b8{/,null,UNAVAILABLE}{/scm}
2019-09-04 07:47:03,365 [main] INFO  server.AbstractConnector (AbstractConnector.java:doStop(318)) - Stopped ServerConnector@7072bc39{HTTP/1.1,[http/1.1]}{0.0.0.0:0}
2019-09-04 07:47:03,365 [main] INFO  handler.ContextHandler (ContextHandler.java:doStop(910)) - Stopped o.e.j.s.ServletContextHandler@3f390d63{/static,file:///workdir/hadoop-ozone/integration-test/target/test-classes/webapps/static,UNAVAILABLE}
2019-09-04 07:47:03,366 [main] INFO  handler.ContextHandler (ContextHandler.java:doStop(910)) - Stopped o.e.j.s.ServletContextHandler@1af687fe{/logs,file:///workdir/hadoop-ozone/integration-test/target/log,UNAVAILABLE}
2019-09-04 07:47:03,366 [main] INFO  server.StorageContainerManager (StorageContainerManager.java:stop(844)) - Stopping Block Manager Service.
2019-09-04 07:47:03,367 [main] INFO  utils.BackgroundService (BackgroundService.java:shutdown(148)) - Shutting down service SCMBlockDeletingService
2019-09-04 07:47:03,367 [main] INFO  utils.BackgroundService (BackgroundService.java:shutdown(148)) - Shutting down service SCMBlockDeletingService
2019-09-04 07:47:03,367 [main] INFO  server.StorageContainerManager (StorageContainerManager.java:stop(866)) - Stopping SCM Event Queue.
2019-09-04 07:47:03,373 [main] INFO  impl.MetricsSystemImpl (MetricsSystemImpl.java:stop(210)) - Stopping HddsDatanode metrics system...
2019-09-04 07:47:03,376 [main] INFO  impl.MetricsSystemImpl (MetricsSystemImpl.java:stop(216)) - HddsDatanode metrics system stopped.
