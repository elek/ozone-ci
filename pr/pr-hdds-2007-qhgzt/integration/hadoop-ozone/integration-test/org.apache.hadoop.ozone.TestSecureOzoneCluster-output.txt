2019-09-10 22:29:11,075 [Thread-0] INFO  minikdc.MiniKdc (MiniKdc.java:<init>(225)) - Configuration:
2019-09-10 22:29:11,077 [Thread-0] INFO  minikdc.MiniKdc (MiniKdc.java:<init>(226)) - ---------------------------------------------------------------
2019-09-10 22:29:11,083 [Thread-0] INFO  minikdc.MiniKdc (MiniKdc.java:<init>(228)) -   debug: false
2019-09-10 22:29:11,083 [Thread-0] INFO  minikdc.MiniKdc (MiniKdc.java:<init>(228)) -   transport: TCP
2019-09-10 22:29:11,083 [Thread-0] INFO  minikdc.MiniKdc (MiniKdc.java:<init>(228)) -   max.ticket.lifetime: 86400000
2019-09-10 22:29:11,083 [Thread-0] INFO  minikdc.MiniKdc (MiniKdc.java:<init>(228)) -   org.name: EXAMPLE
2019-09-10 22:29:11,083 [Thread-0] INFO  minikdc.MiniKdc (MiniKdc.java:<init>(228)) -   kdc.port: 0
2019-09-10 22:29:11,083 [Thread-0] INFO  minikdc.MiniKdc (MiniKdc.java:<init>(228)) -   org.domain: COM
2019-09-10 22:29:11,084 [Thread-0] INFO  minikdc.MiniKdc (MiniKdc.java:<init>(228)) -   max.renewable.lifetime: 604800000
2019-09-10 22:29:11,084 [Thread-0] INFO  minikdc.MiniKdc (MiniKdc.java:<init>(228)) -   instance: DefaultKrbServer
2019-09-10 22:29:11,084 [Thread-0] INFO  minikdc.MiniKdc (MiniKdc.java:<init>(228)) -   kdc.bind.address: localhost
2019-09-10 22:29:11,084 [Thread-0] INFO  minikdc.MiniKdc (MiniKdc.java:<init>(230)) - ---------------------------------------------------------------
2019-09-10 22:29:11,176 [Thread-0] INFO  minikdc.MiniKdc (MiniKdc.java:start(285)) - MiniKdc started.
2019-09-10 22:29:12,100 [Thread-0] WARN  server.ServerUtils (ServerUtils.java:getScmDbDir(145)) - ozone.scm.db.dirs is not configured. We recommend adding this setting. Falling back to ozone.metadata.dirs instead.
2019-09-10 22:29:12,139 [Thread-0] WARN  server.ServerUtils (ServerUtils.java:getScmDbDir(145)) - ozone.scm.db.dirs is not configured. We recommend adding this setting. Falling back to ozone.metadata.dirs instead.
2019-09-10 22:29:12,158 [Thread-0] WARN  server.ServerUtils (ServerUtils.java:getScmDbDir(145)) - ozone.scm.db.dirs is not configured. We recommend adding this setting. Falling back to ozone.metadata.dirs instead.
2019-09-10 22:29:12,290 [pool-1-thread-1] INFO  request.KdcRequest (KdcRequest.java:preauth(651)) - The preauth data is empty.
2019-09-10 22:29:12,296 [pool-1-thread-1] INFO  server.KdcHandler (KdcHandler.java:handleRecoverableException(177)) - KRB error occurred while processing request:Additional pre-authentication required
2019-09-10 22:29:12,377 [pool-1-thread-1] INFO  request.AsRequest (AsRequest.java:issueTicket(112)) - AS_REQ ISSUE: authtime 1568154552374,scm/pr-hdds-2007-qhgzt-2180668592@EXAMPLE.COM for krbtgt/EXAMPLE.COM@EXAMPLE.COM
2019-09-10 22:29:12,389 [Thread-0] INFO  security.UserGroupInformation (UserGroupInformation.java:loginUserFromKeytab(1009)) - Login successful for user scm/pr-hdds-2007-qhgzt-2180668592@EXAMPLE.COM using keytab file /workdir/hadoop-ozone/integration-test/target/test-dir/TestSecureOzoneCluster/scm.keytab
2019-09-10 22:29:12,389 [Thread-0] INFO  server.StorageContainerManager (StorageContainerManager.java:loginAsSCMUser(503)) - SCM login successful.
2019-09-10 22:29:12,391 [Thread-0] WARN  server.ServerUtils (ServerUtils.java:getScmDbDir(145)) - ozone.scm.db.dirs is not configured. We recommend adding this setting. Falling back to ozone.metadata.dirs instead.
2019-09-10 22:29:12,415 [Thread-0] INFO  util.log (Log.java:initialized(192)) - Logging initialized @2140ms
2019-09-10 22:29:12,518 [Thread-0] INFO  db.DBStoreBuilder (DBStoreBuilder.java:addTable(110)) - using custom profile for table: deletedBlocks
2019-09-10 22:29:12,518 [Thread-0] INFO  db.DBStoreBuilder (DBStoreBuilder.java:processTables(161)) - Using default column profile:DBProfile.DISK for Table:deletedBlocks
2019-09-10 22:29:12,518 [Thread-0] INFO  db.DBStoreBuilder (DBStoreBuilder.java:addTable(110)) - using custom profile for table: validCerts
2019-09-10 22:29:12,519 [Thread-0] INFO  db.DBStoreBuilder (DBStoreBuilder.java:processTables(161)) - Using default column profile:DBProfile.DISK for Table:validCerts
2019-09-10 22:29:12,519 [Thread-0] INFO  db.DBStoreBuilder (DBStoreBuilder.java:addTable(110)) - using custom profile for table: revokedCerts
2019-09-10 22:29:12,519 [Thread-0] INFO  db.DBStoreBuilder (DBStoreBuilder.java:processTables(161)) - Using default column profile:DBProfile.DISK for Table:revokedCerts
2019-09-10 22:29:12,531 [Thread-0] INFO  db.DBStoreBuilder (DBStoreBuilder.java:addTable(110)) - using custom profile for table: default
2019-09-10 22:29:12,532 [Thread-0] INFO  db.DBStoreBuilder (DBStoreBuilder.java:processTables(167)) - Using default column profile:DBProfile.DISK for Table:default
2019-09-10 22:29:12,533 [Thread-0] INFO  db.DBStoreBuilder (DBStoreBuilder.java:getDbProfile(198)) - Using default options. DBProfile.DISK
2019-09-10 22:29:13,393 [Thread-0] INFO  ipc.CallQueueManager (CallQueueManager.java:<init>(84)) - Using callQueue: class java.util.concurrent.LinkedBlockingQueue, queueCapacity: 200, scheduler: class org.apache.hadoop.ipc.DefaultRpcScheduler, ipcBackoff: false.
2019-09-10 22:29:13,425 [Socket Reader #1 for port 9961] INFO  ipc.Server (Server.java:run(1074)) - Starting Socket Reader #1 for port 9961
2019-09-10 22:29:13,730 [Thread-0] INFO  net.NodeSchemaLoader (NodeSchemaLoader.java:loadSchemaFromFile(125)) - Loading file from sun.misc.CompoundEnumeration@5096aa3c
2019-09-10 22:29:13,732 [Thread-0] INFO  net.NodeSchemaLoader (NodeSchemaLoader.java:loadSchema(171)) - Loading network topology layer schema file
2019-09-10 22:29:13,811 [Thread-0] INFO  node.SCMNodeManager (SCMNodeManager.java:<init>(114)) - Entering startup safe mode.
2019-09-10 22:29:13,871 [Thread-0] INFO  algorithms.ContainerPlacementPolicyFactory (ContainerPlacementPolicyFactory.java:getPolicy(55)) - Create container placement policy of type org.apache.hadoop.hdds.scm.container.placement.algorithms.SCMContainerPlacementRandom
2019-09-10 22:29:13,890 [Thread-0] WARN  server.ServerUtils (ServerUtils.java:getScmDbDir(145)) - ozone.scm.db.dirs is not configured. We recommend adding this setting. Falling back to ozone.metadata.dirs instead.
2019-09-10 22:29:13,997 [Thread-0] INFO  pipeline.SCMPipelineManager (SCMPipelineManager.java:initializePipelineState(128)) - No pipeline exists in current db
2019-09-10 22:29:14,000 [Thread-0] WARN  server.ServerUtils (ServerUtils.java:getScmDbDir(145)) - ozone.scm.db.dirs is not configured. We recommend adding this setting. Falling back to ozone.metadata.dirs instead.
2019-09-10 22:29:14,192 [Thread-0] WARN  events.EventQueue (EventQueue.java:fireEvent(183)) - No event handler registered for event TypedEvent{payloadType=SafeModeStatus, name='SafeModeStatus'}
ERROR StatusLogger No Log4j 2 configuration file found. Using default configuration (logging only errors to the console), or user programmatically provided configurations. Set system property 'log4j2.debug' to show Log4j 2 internal initialization logging. See https://logging.apache.org/log4j/2.x/manual/configuration.html for instructions on how to configure Log4j 2
2019-09-10 22:29:14,488 [Thread-0] INFO  ipc.CallQueueManager (CallQueueManager.java:<init>(84)) - Using callQueue: class java.util.concurrent.LinkedBlockingQueue, queueCapacity: 1000, scheduler: class org.apache.hadoop.ipc.DefaultRpcScheduler, ipcBackoff: false.
2019-09-10 22:29:14,489 [Socket Reader #1 for port 43686] INFO  ipc.Server (Server.java:run(1074)) - Starting Socket Reader #1 for port 43686
2019-09-10 22:29:14,501 [Thread-0] INFO  ipc.CallQueueManager (CallQueueManager.java:<init>(84)) - Using callQueue: class java.util.concurrent.LinkedBlockingQueue, queueCapacity: 1000, scheduler: class org.apache.hadoop.ipc.DefaultRpcScheduler, ipcBackoff: false.
2019-09-10 22:29:14,502 [Socket Reader #1 for port 46048] INFO  ipc.Server (Server.java:run(1074)) - Starting Socket Reader #1 for port 46048
2019-09-10 22:29:14,512 [Thread-0] INFO  ipc.CallQueueManager (CallQueueManager.java:<init>(84)) - Using callQueue: class java.util.concurrent.LinkedBlockingQueue, queueCapacity: 1000, scheduler: class org.apache.hadoop.ipc.DefaultRpcScheduler, ipcBackoff: false.
2019-09-10 22:29:14,514 [Socket Reader #1 for port 45877] INFO  ipc.Server (Server.java:run(1074)) - Starting Socket Reader #1 for port 45877
2019-09-10 22:29:14,539 [Thread-0] INFO  hdfs.DFSUtil (DFSUtil.java:httpServerTemplateForNNAndJN(1629)) - Starting web server as: HTTP_SCM/pr-hdds-2007-qhgzt-2180668592@EXAMPLE.COM
2019-09-10 22:29:14,540 [Thread-0] INFO  hdfs.DFSUtil (DFSUtil.java:httpServerTemplateForNNAndJN(1641)) - Starting Web-server for scm at: http://0.0.0.0:0
2019-09-10 22:29:14,720 [Thread-0] INFO  server.AuthenticationFilter (AuthenticationFilter.java:constructSecretProvider(240)) - Unable to initialize FileSignerSecretProvider, falling back to use random secrets.
2019-09-10 22:29:14,729 [Thread-0] WARN  http.HttpRequestLog (HttpRequestLog.java:getRequestLog(97)) - Jetty request log can only be enabled using Log4j
2019-09-10 22:29:14,737 [Thread-0] INFO  http.HttpServer2 (HttpServer2.java:addGlobalFilter(975)) - Added global filter 'safety' (class=org.apache.hadoop.http.HttpServer2$QuotingInputFilter)
2019-09-10 22:29:14,739 [Thread-0] INFO  http.HttpServer2 (HttpServer2.java:addFilter(948)) - Added filter static_user_filter (class=org.apache.hadoop.http.lib.StaticUserWebFilter$StaticUserFilter) to context scm
2019-09-10 22:29:14,740 [Thread-0] INFO  http.HttpServer2 (HttpServer2.java:addFilter(958)) - Added filter static_user_filter (class=org.apache.hadoop.http.lib.StaticUserWebFilter$StaticUserFilter) to context static
2019-09-10 22:29:14,740 [Thread-0] INFO  http.HttpServer2 (HttpServer2.java:addFilter(958)) - Added filter static_user_filter (class=org.apache.hadoop.http.lib.StaticUserWebFilter$StaticUserFilter) to context logs
2019-09-10 22:29:14,776 [Thread-0] INFO  server.StorageContainerManager (StorageContainerManager.java:start(759)) - StorageContainerLocationProtocol RPC server is listening at /0.0.0.0:45877
2019-09-10 22:29:14,848 [Thread-0] WARN  impl.MetricsConfig (MetricsConfig.java:loadFirst(134)) - Cannot locate configuration: tried hadoop-metrics2-storagecontainermanager.properties,hadoop-metrics2.properties
2019-09-10 22:29:14,861 [Thread-0] INFO  impl.MetricsSystemImpl (MetricsSystemImpl.java:startTimer(374)) - Scheduled Metric snapshot period at 10 second(s).
2019-09-10 22:29:14,861 [Thread-0] INFO  impl.MetricsSystemImpl (MetricsSystemImpl.java:start(191)) - StorageContainerManager metrics system started
2019-09-10 22:29:15,120 [Thread-0] INFO  server.SCMClientProtocolServer (SCMClientProtocolServer.java:start(151)) - RPC server for Client  is listening at /0.0.0.0:45877
2019-09-10 22:29:15,121 [IPC Server Responder] INFO  ipc.Server (Server.java:run(1314)) - IPC Server Responder: starting
2019-09-10 22:29:15,121 [IPC Server listener on 45877] INFO  ipc.Server (Server.java:run(1153)) - IPC Server listener on 45877: starting
2019-09-10 22:29:15,124 [Thread-0] INFO  server.StorageContainerManager (StorageContainerManager.java:start(769)) - ScmBlockLocationProtocol RPC server is listening at /0.0.0.0:46048
2019-09-10 22:29:15,125 [Thread-0] INFO  server.SCMBlockProtocolServer (SCMBlockProtocolServer.java:start(146)) - RPC server for Block Protocol is listening at /0.0.0.0:46048
2019-09-10 22:29:15,126 [IPC Server Responder] INFO  ipc.Server (Server.java:run(1314)) - IPC Server Responder: starting
2019-09-10 22:29:15,126 [IPC Server listener on 46048] INFO  ipc.Server (Server.java:run(1153)) - IPC Server listener on 46048: starting
2019-09-10 22:29:15,129 [Thread-0] INFO  server.StorageContainerManager (StorageContainerManager.java:start(773)) - ScmDatanodeProtocl RPC server is listening at /0.0.0.0:43686
2019-09-10 22:29:15,129 [Thread-0] INFO  server.SCMDatanodeProtocolServer (SCMDatanodeProtocolServer.java:start(191)) - RPC server for DataNodes is listening at /0.0.0.0:43686
2019-09-10 22:29:15,129 [IPC Server Responder] INFO  ipc.Server (Server.java:run(1314)) - IPC Server Responder: starting
2019-09-10 22:29:15,129 [IPC Server listener on 43686] INFO  ipc.Server (Server.java:run(1153)) - IPC Server listener on 43686: starting
2019-09-10 22:29:15,132 [Thread-0] INFO  server.SCMClientProtocolServer (SCMSecurityProtocolServer.java:start(197)) - Starting RPC server for SCMSecurityProtocolServer. is listening at /0.0.0.0:9961
2019-09-10 22:29:15,133 [IPC Server Responder] INFO  ipc.Server (Server.java:run(1314)) - IPC Server Responder: starting
2019-09-10 22:29:15,133 [IPC Server listener on 9961] INFO  ipc.Server (Server.java:run(1153)) - IPC Server listener on 9961: starting
2019-09-10 22:29:15,134 [Thread-0] INFO  http.HttpServer2 (HttpServer2.java:bindListener(1191)) - Jetty bound to port 39374
2019-09-10 22:29:15,136 [Thread-0] INFO  server.Server (Server.java:doStart(351)) - jetty-9.3.24.v20180605, build timestamp: 2018-06-05T17:11:56Z, git hash: 84205aa28f11a4f31f2a3b86d1bba2cc8ab69827
2019-09-10 22:29:15,171 [Thread-0] INFO  handler.ContextHandler (ContextHandler.java:doStart(781)) - Started o.e.j.s.ServletContextHandler@66ece73{/logs,file:///workdir/hadoop-ozone/integration-test/target/log,AVAILABLE}
2019-09-10 22:29:15,172 [Thread-0] INFO  handler.ContextHandler (ContextHandler.java:doStart(781)) - Started o.e.j.s.ServletContextHandler@5584d782{/static,file:///workdir/hadoop-ozone/integration-test/target/test-classes/webapps/static,AVAILABLE}
2019-09-10 22:29:15,199 [Thread-0] INFO  server.KerberosAuthenticationHandler (KerberosAuthenticationHandler.java:init(164)) - Using keytab /workdir/hadoop-ozone/integration-test/target/test-dir/TestSecureOzoneCluster/http.keytab, for principal HTTP_SCM/pr-hdds-2007-qhgzt-2180668592@EXAMPLE.COM
2019-09-10 22:29:15,526 [Thread-0] INFO  handler.ContextHandler (ContextHandler.java:doStart(781)) - Started o.e.j.w.WebAppContext@4848e62{/,file:///workdir/hadoop-ozone/integration-test/target/test-classes/webapps/scm/,AVAILABLE}{/scm}
2019-09-10 22:29:15,535 [Thread-0] INFO  server.AbstractConnector (AbstractConnector.java:doStart(278)) - Started ServerConnector@613d9830{HTTP/1.1,[http/1.1]}{0.0.0.0:39374}
2019-09-10 22:29:15,536 [Thread-0] INFO  server.Server (Server.java:doStart(419)) - Started @5261ms
2019-09-10 22:29:15,539 [Thread-0] INFO  impl.MetricsSinkAdapter (MetricsSinkAdapter.java:start(204)) - Sink prometheus started
2019-09-10 22:29:15,540 [Thread-0] INFO  impl.MetricsSystemImpl (MetricsSystemImpl.java:registerSink(301)) - Registered sink prometheus
2019-09-10 22:29:15,541 [Thread-0] INFO  server.BaseHttpServer (BaseHttpServer.java:updateConnectorAddress(215)) - HTTP server of SCM is listening at http://0.0.0.0:39374
2019-09-10 22:29:15,549 [org.apache.hadoop.util.JvmPauseMonitor$Monitor@12e5e5cc] INFO  util.JvmPauseMonitor (JvmPauseMonitor.java:run(188)) - Starting JVM pause monitor
2019-09-10 22:29:15,554 [pool-1-thread-1] INFO  request.KdcRequest (KdcRequest.java:preauth(651)) - The preauth data is empty.
2019-09-10 22:29:15,555 [pool-1-thread-1] INFO  server.KdcHandler (KdcHandler.java:handleRecoverableException(177)) - KRB error occurred while processing request:Additional pre-authentication required
2019-09-10 22:29:15,568 [pool-1-thread-1] INFO  request.AsRequest (AsRequest.java:issueTicket(112)) - AS_REQ ISSUE: authtime 1568154555567,test@EXAMPLE.COM for krbtgt/EXAMPLE.COM@EXAMPLE.COM
2019-09-10 22:29:15,868 [pool-1-thread-1] INFO  request.TgsRequest (TgsRequest.java:issueTicket(115)) - TGS_REQ ISSUE: authtime 1568154555866,test for scm/pr-hdds-2007-qhgzt-2180668592@EXAMPLE.COM
2019-09-10 22:29:15,903 [Socket Reader #1 for port 9961] INFO  ipc.Server (Server.java:saslProcess(1849)) - Auth successful for test@EXAMPLE.COM (auth:KERBEROS)
2019-09-10 22:29:16,067 [IPC Server handler 1 on 9961] INFO  ipc.Server (Server.java:logException(2726)) - IPC Server handler 1 on 9961, call Call#1 Retry#0 org.apache.hadoop.hdds.protocol.SCMSecurityProtocol.getCertificate from 192.168.69.94:33528
java.io.IOException: Certificate not found
	at org.apache.hadoop.hdds.scm.server.SCMSecurityProtocolServer.getCertificate(SCMSecurityProtocolServer.java:168)
	at org.apache.hadoop.hdds.protocolPB.SCMSecurityProtocolServerSideTranslatorPB.getCertificate(SCMSecurityProtocolServerSideTranslatorPB.java:104)
	at org.apache.hadoop.hdds.protocol.proto.SCMSecurityProtocolProtos$SCMSecurityProtocolService$2.callBlockingMethod(SCMSecurityProtocolProtos.java:3488)
	at org.apache.hadoop.ipc.ProtobufRpcEngine$Server$ProtoBufRpcInvoker.call(ProtobufRpcEngine.java:524)
	at org.apache.hadoop.ipc.RPC$Server.call(RPC.java:1025)
	at org.apache.hadoop.ipc.Server$RpcCall.run(Server.java:876)
	at org.apache.hadoop.ipc.Server$RpcCall.run(Server.java:822)
	at java.security.AccessController.doPrivileged(Native Method)
	at javax.security.auth.Subject.doAs(Subject.java:422)
	at org.apache.hadoop.security.UserGroupInformation.doAs(UserGroupInformation.java:1730)
	at org.apache.hadoop.ipc.Server$Handler.run(Server.java:2682)
2019-09-10 22:29:16,085 [Thread-0] WARN  ipc.Client (Client.java:run(755)) - Exception encountered while connecting to the server : org.apache.hadoop.security.AccessControlException: Client cannot authenticate via:[KERBEROS]
2019-09-10 22:29:16,090 [Thread-0] WARN  ipc.Client (Client.java:run(755)) - Exception encountered while connecting to the server : org.apache.hadoop.security.AccessControlException: Client cannot authenticate via:[KERBEROS]
2019-09-10 22:29:16,091 [Thread-0] INFO  server.StorageContainerManager (StorageContainerManager.java:stop(797)) - Stopping Replication Manager Service.
2019-09-10 22:29:16,092 [Thread-0] INFO  container.ReplicationManager (ReplicationManager.java:stop(209)) - Replication Monitor Thread is not running.
2019-09-10 22:29:16,092 [Thread-0] INFO  server.StorageContainerManager (StorageContainerManager.java:stop(804)) - Stopping Lease Manager of the command watchers
2019-09-10 22:29:16,092 [Thread-0] INFO  server.StorageContainerManager (StorageContainerManager.java:stop(811)) - Stopping datanode service RPC server
2019-09-10 22:29:16,093 [Thread-0] INFO  server.SCMDatanodeProtocolServer (SCMDatanodeProtocolServer.java:stop(367)) - Stopping the RPC server for DataNodes
2019-09-10 22:29:16,093 [Thread-0] INFO  ipc.Server (Server.java:stop(3082)) - Stopping server on 43686
2019-09-10 22:29:16,099 [IPC Server listener on 43686] INFO  ipc.Server (Server.java:run(1185)) - Stopping IPC Server listener on 43686
2019-09-10 22:29:16,099 [IPC Server Responder] INFO  ipc.Server (Server.java:run(1319)) - Stopping IPC Server Responder
2019-09-10 22:29:16,815 [SCM Heartbeat Processing Thread - 0] WARN  node.NodeStateManager (NodeStateManager.java:scheduleNextHealthCheck(646)) - Current Thread is interrupted, shutting down HB processing thread for Node Manager.
2019-09-10 22:29:16,817 [Thread-0] INFO  server.StorageContainerManager (StorageContainerManager.java:stop(819)) - Stopping block service RPC server
2019-09-10 22:29:16,817 [Thread-0] INFO  server.SCMBlockProtocolServer (SCMBlockProtocolServer.java:stop(155)) - Stopping the RPC server for Block Protocol
2019-09-10 22:29:16,818 [Thread-0] INFO  ipc.Server (Server.java:stop(3082)) - Stopping server on 46048
2019-09-10 22:29:16,820 [IPC Server listener on 46048] INFO  ipc.Server (Server.java:run(1185)) - Stopping IPC Server listener on 46048
2019-09-10 22:29:16,821 [Thread-0] INFO  server.StorageContainerManager (StorageContainerManager.java:stop(826)) - Stopping the StorageContainerLocationProtocol RPC server
2019-09-10 22:29:16,821 [IPC Server Responder] INFO  ipc.Server (Server.java:run(1319)) - Stopping IPC Server Responder
2019-09-10 22:29:16,823 [Thread-0] INFO  server.SCMClientProtocolServer (SCMClientProtocolServer.java:stop(159)) - Stopping the RPC server for Client Protocol
2019-09-10 22:29:16,824 [Thread-0] INFO  ipc.Server (Server.java:stop(3082)) - Stopping server on 45877
2019-09-10 22:29:16,825 [IPC Server listener on 45877] INFO  ipc.Server (Server.java:run(1185)) - Stopping IPC Server listener on 45877
2019-09-10 22:29:16,826 [IPC Server Responder] INFO  ipc.Server (Server.java:run(1319)) - Stopping IPC Server Responder
2019-09-10 22:29:16,825 [Thread-0] INFO  server.StorageContainerManager (StorageContainerManager.java:stop(833)) - Stopping Storage Container Manager HTTP server.
2019-09-10 22:29:16,833 [Thread-0] INFO  handler.ContextHandler (ContextHandler.java:doStop(910)) - Stopped o.e.j.w.WebAppContext@4848e62{/,null,UNAVAILABLE}{/scm}
2019-09-10 22:29:16,840 [Thread-0] INFO  server.AbstractConnector (AbstractConnector.java:doStop(318)) - Stopped ServerConnector@613d9830{HTTP/1.1,[http/1.1]}{0.0.0.0:0}
2019-09-10 22:29:16,841 [Thread-0] INFO  handler.ContextHandler (ContextHandler.java:doStop(910)) - Stopped o.e.j.s.ServletContextHandler@5584d782{/static,file:///workdir/hadoop-ozone/integration-test/target/test-classes/webapps/static,UNAVAILABLE}
2019-09-10 22:29:16,842 [Thread-0] INFO  handler.ContextHandler (ContextHandler.java:doStop(910)) - Stopped o.e.j.s.ServletContextHandler@66ece73{/logs,file:///workdir/hadoop-ozone/integration-test/target/log,UNAVAILABLE}
2019-09-10 22:29:16,845 [Thread-0] INFO  server.SCMClientProtocolServer (SCMSecurityProtocolServer.java:stop(204)) - Stopping the SCMSecurityProtocolServer.
2019-09-10 22:29:16,845 [Thread-0] INFO  ipc.Server (Server.java:stop(3082)) - Stopping server on 9961
2019-09-10 22:29:16,846 [IPC Server listener on 9961] INFO  ipc.Server (Server.java:run(1185)) - Stopping IPC Server listener on 9961
2019-09-10 22:29:16,846 [Thread-0] INFO  server.StorageContainerManager (StorageContainerManager.java:stop(844)) - Stopping Block Manager Service.
2019-09-10 22:29:16,846 [IPC Server Responder] INFO  ipc.Server (Server.java:run(1319)) - Stopping IPC Server Responder
2019-09-10 22:29:16,847 [Thread-0] INFO  utils.BackgroundService (BackgroundService.java:shutdown(148)) - Shutting down service SCMBlockDeletingService
2019-09-10 22:29:16,848 [Thread-0] INFO  utils.BackgroundService (BackgroundService.java:shutdown(148)) - Shutting down service SCMBlockDeletingService
2019-09-10 22:29:16,849 [Thread-0] INFO  server.StorageContainerManager (StorageContainerManager.java:stop(866)) - Stopping SCM Event Queue.
2019-09-10 22:29:16,858 [Thread-0] INFO  impl.MetricsSystemImpl (MetricsSystemImpl.java:stop(210)) - Stopping StorageContainerManager metrics system...
2019-09-10 22:29:16,860 [prometheus] INFO  impl.MetricsSinkAdapter (MetricsSinkAdapter.java:publishMetricsFromQueue(141)) - prometheus thread interrupted.
2019-09-10 22:29:16,861 [Thread-0] INFO  impl.MetricsSystemImpl (MetricsSystemImpl.java:stop(216)) - StorageContainerManager metrics system stopped.
2019-09-10 22:29:16,862 [Thread-0] INFO  impl.DefaultInternalKdcServerImpl (DefaultInternalKdcServerImpl.java:doStop(102)) - Default Internal kdc server stopped.
2019-09-10 22:29:17,863 [Thread-0] INFO  minikdc.MiniKdc (MiniKdc.java:stop(359)) - MiniKdc stopped.
2019-09-10 22:29:17,863 [Thread-0] INFO  server.StorageContainerManager (StorageContainerManager.java:stop(797)) - Stopping Replication Manager Service.
2019-09-10 22:29:17,864 [Thread-0] INFO  container.ReplicationManager (ReplicationManager.java:stop(209)) - Replication Monitor Thread is not running.
2019-09-10 22:29:17,864 [Thread-0] INFO  server.StorageContainerManager (StorageContainerManager.java:stop(804)) - Stopping Lease Manager of the command watchers
2019-09-10 22:29:17,864 [Thread-0] ERROR server.StorageContainerManager (StorageContainerManager.java:stop(807)) - Lease Manager of the command watchers stop failed
2019-09-10 22:29:17,864 [Thread-0] INFO  server.StorageContainerManager (StorageContainerManager.java:stop(811)) - Stopping datanode service RPC server
2019-09-10 22:29:17,865 [Thread-0] INFO  server.SCMDatanodeProtocolServer (SCMDatanodeProtocolServer.java:stop(367)) - Stopping the RPC server for DataNodes
2019-09-10 22:29:17,865 [Thread-0] INFO  ipc.Server (Server.java:stop(3082)) - Stopping server on 43686
2019-09-10 22:29:17,865 [Thread-0] INFO  server.StorageContainerManager (StorageContainerManager.java:stop(819)) - Stopping block service RPC server
2019-09-10 22:29:17,865 [Thread-0] INFO  server.SCMBlockProtocolServer (SCMBlockProtocolServer.java:stop(155)) - Stopping the RPC server for Block Protocol
2019-09-10 22:29:17,866 [Thread-0] INFO  ipc.Server (Server.java:stop(3082)) - Stopping server on 46048
2019-09-10 22:29:17,866 [Thread-0] INFO  server.StorageContainerManager (StorageContainerManager.java:stop(826)) - Stopping the StorageContainerLocationProtocol RPC server
2019-09-10 22:29:17,866 [Thread-0] INFO  server.SCMClientProtocolServer (SCMClientProtocolServer.java:stop(159)) - Stopping the RPC server for Client Protocol
2019-09-10 22:29:17,866 [Thread-0] INFO  ipc.Server (Server.java:stop(3082)) - Stopping server on 45877
2019-09-10 22:29:17,866 [Thread-0] INFO  server.StorageContainerManager (StorageContainerManager.java:stop(833)) - Stopping Storage Container Manager HTTP server.
2019-09-10 22:29:17,867 [Thread-0] INFO  server.SCMClientProtocolServer (SCMSecurityProtocolServer.java:stop(204)) - Stopping the SCMSecurityProtocolServer.
2019-09-10 22:29:17,867 [Thread-0] INFO  ipc.Server (Server.java:stop(3082)) - Stopping server on 9961
2019-09-10 22:29:17,867 [Thread-0] INFO  server.StorageContainerManager (StorageContainerManager.java:stop(844)) - Stopping Block Manager Service.
2019-09-10 22:29:17,867 [Thread-0] INFO  utils.BackgroundService (BackgroundService.java:shutdown(148)) - Shutting down service SCMBlockDeletingService
2019-09-10 22:29:17,868 [Thread-0] INFO  utils.BackgroundService (BackgroundService.java:shutdown(148)) - Shutting down service SCMBlockDeletingService
2019-09-10 22:29:17,868 [Thread-0] INFO  server.StorageContainerManager (StorageContainerManager.java:stop(866)) - Stopping SCM Event Queue.
2019-09-10 22:29:17,868 [Thread-0] INFO  impl.MetricsSystemImpl (MetricsSystemImpl.java:stop(205)) - StorageContainerManager metrics system stopped (again)
2019-09-10 22:29:17,905 [Thread-65] INFO  minikdc.MiniKdc (MiniKdc.java:<init>(225)) - Configuration:
2019-09-10 22:29:17,905 [Thread-65] INFO  minikdc.MiniKdc (MiniKdc.java:<init>(226)) - ---------------------------------------------------------------
2019-09-10 22:29:17,906 [Thread-65] INFO  minikdc.MiniKdc (MiniKdc.java:<init>(228)) -   debug: false
2019-09-10 22:29:17,906 [Thread-65] INFO  minikdc.MiniKdc (MiniKdc.java:<init>(228)) -   transport: TCP
2019-09-10 22:29:17,906 [Thread-65] INFO  minikdc.MiniKdc (MiniKdc.java:<init>(228)) -   max.ticket.lifetime: 86400000
2019-09-10 22:29:17,906 [Thread-65] INFO  minikdc.MiniKdc (MiniKdc.java:<init>(228)) -   org.name: EXAMPLE
2019-09-10 22:29:17,906 [Thread-65] INFO  minikdc.MiniKdc (MiniKdc.java:<init>(228)) -   kdc.port: 0
2019-09-10 22:29:17,906 [Thread-65] INFO  minikdc.MiniKdc (MiniKdc.java:<init>(228)) -   org.domain: COM
2019-09-10 22:29:17,906 [Thread-65] INFO  minikdc.MiniKdc (MiniKdc.java:<init>(228)) -   max.renewable.lifetime: 604800000
2019-09-10 22:29:17,907 [Thread-65] INFO  minikdc.MiniKdc (MiniKdc.java:<init>(228)) -   instance: DefaultKrbServer
2019-09-10 22:29:17,907 [Thread-65] INFO  minikdc.MiniKdc (MiniKdc.java:<init>(228)) -   kdc.bind.address: localhost
2019-09-10 22:29:17,907 [Thread-65] INFO  minikdc.MiniKdc (MiniKdc.java:<init>(230)) - ---------------------------------------------------------------
2019-09-10 22:29:17,913 [Thread-65] INFO  minikdc.MiniKdc (MiniKdc.java:start(285)) - MiniKdc started.
2019-09-10 22:29:18,243 [Thread-65] WARN  server.ServerUtils (ServerUtils.java:getScmDbDir(145)) - ozone.scm.db.dirs is not configured. We recommend adding this setting. Falling back to ozone.metadata.dirs instead.
2019-09-10 22:29:18,269 [Thread-65] WARN  server.ServerUtils (ServerUtils.java:getScmDbDir(145)) - ozone.scm.db.dirs is not configured. We recommend adding this setting. Falling back to ozone.metadata.dirs instead.
2019-09-10 22:29:18,271 [Thread-65] WARN  server.ServerUtils (ServerUtils.java:getScmDbDir(145)) - ozone.scm.db.dirs is not configured. We recommend adding this setting. Falling back to ozone.metadata.dirs instead.
2019-09-10 22:29:18,280 [pool-10-thread-1] INFO  request.KdcRequest (KdcRequest.java:preauth(651)) - The preauth data is empty.
2019-09-10 22:29:18,281 [pool-10-thread-1] INFO  server.KdcHandler (KdcHandler.java:handleRecoverableException(177)) - KRB error occurred while processing request:Additional pre-authentication required
2019-09-10 22:29:18,292 [pool-10-thread-1] INFO  request.AsRequest (AsRequest.java:issueTicket(112)) - AS_REQ ISSUE: authtime 1568154558291,scm/pr-hdds-2007-qhgzt-2180668592@EXAMPLE.COM for krbtgt/EXAMPLE.COM@EXAMPLE.COM
2019-09-10 22:29:18,296 [Thread-65] INFO  security.UserGroupInformation (UserGroupInformation.java:loginUserFromKeytab(1009)) - Login successful for user scm/pr-hdds-2007-qhgzt-2180668592@EXAMPLE.COM using keytab file /workdir/hadoop-ozone/integration-test/target/test-dir/TestSecureOzoneCluster/scm.keytab
2019-09-10 22:29:18,296 [Thread-65] INFO  server.StorageContainerManager (StorageContainerManager.java:loginAsSCMUser(503)) - SCM login successful.
2019-09-10 22:29:18,296 [Thread-65] WARN  server.ServerUtils (ServerUtils.java:getScmDbDir(145)) - ozone.scm.db.dirs is not configured. We recommend adding this setting. Falling back to ozone.metadata.dirs instead.
2019-09-10 22:29:18,297 [Thread-65] INFO  db.DBStoreBuilder (DBStoreBuilder.java:addTable(110)) - using custom profile for table: deletedBlocks
2019-09-10 22:29:18,298 [Thread-65] INFO  db.DBStoreBuilder (DBStoreBuilder.java:processTables(161)) - Using default column profile:DBProfile.DISK for Table:deletedBlocks
2019-09-10 22:29:18,298 [Thread-65] INFO  db.DBStoreBuilder (DBStoreBuilder.java:addTable(110)) - using custom profile for table: validCerts
2019-09-10 22:29:18,298 [Thread-65] INFO  db.DBStoreBuilder (DBStoreBuilder.java:processTables(161)) - Using default column profile:DBProfile.DISK for Table:validCerts
2019-09-10 22:29:18,299 [Thread-65] INFO  db.DBStoreBuilder (DBStoreBuilder.java:addTable(110)) - using custom profile for table: revokedCerts
2019-09-10 22:29:18,299 [Thread-65] INFO  db.DBStoreBuilder (DBStoreBuilder.java:processTables(161)) - Using default column profile:DBProfile.DISK for Table:revokedCerts
2019-09-10 22:29:18,299 [Thread-65] INFO  db.DBStoreBuilder (DBStoreBuilder.java:addTable(110)) - using custom profile for table: default
2019-09-10 22:29:18,300 [Thread-65] INFO  db.DBStoreBuilder (DBStoreBuilder.java:processTables(167)) - Using default column profile:DBProfile.DISK for Table:default
2019-09-10 22:29:18,300 [Thread-65] INFO  db.DBStoreBuilder (DBStoreBuilder.java:getDbProfile(198)) - Using default options. DBProfile.DISK
2019-09-10 22:29:18,740 [Thread-65] INFO  ipc.CallQueueManager (CallQueueManager.java:<init>(84)) - Using callQueue: class java.util.concurrent.LinkedBlockingQueue, queueCapacity: 200, scheduler: class org.apache.hadoop.ipc.DefaultRpcScheduler, ipcBackoff: false.
2019-09-10 22:29:18,742 [Socket Reader #1 for port 9961] INFO  ipc.Server (Server.java:run(1074)) - Starting Socket Reader #1 for port 9961
2019-09-10 22:29:18,746 [Thread-65] INFO  net.NodeSchemaLoader (NodeSchemaLoader.java:loadSchemaFromFile(125)) - Loading file from sun.misc.CompoundEnumeration@2ec93a6f
2019-09-10 22:29:18,746 [Thread-65] INFO  net.NodeSchemaLoader (NodeSchemaLoader.java:loadSchema(171)) - Loading network topology layer schema file
2019-09-10 22:29:18,753 [Thread-65] INFO  node.SCMNodeManager (SCMNodeManager.java:<init>(114)) - Entering startup safe mode.
2019-09-10 22:29:18,754 [Thread-65] INFO  algorithms.ContainerPlacementPolicyFactory (ContainerPlacementPolicyFactory.java:getPolicy(55)) - Create container placement policy of type org.apache.hadoop.hdds.scm.container.placement.algorithms.SCMContainerPlacementRandom
2019-09-10 22:29:18,754 [Thread-65] WARN  server.ServerUtils (ServerUtils.java:getScmDbDir(145)) - ozone.scm.db.dirs is not configured. We recommend adding this setting. Falling back to ozone.metadata.dirs instead.
2019-09-10 22:29:18,839 [Thread-65] INFO  pipeline.SCMPipelineManager (SCMPipelineManager.java:initializePipelineState(128)) - No pipeline exists in current db
2019-09-10 22:29:18,839 [Thread-65] WARN  server.ServerUtils (ServerUtils.java:getScmDbDir(145)) - ozone.scm.db.dirs is not configured. We recommend adding this setting. Falling back to ozone.metadata.dirs instead.
2019-09-10 22:29:18,923 [Thread-65] WARN  events.EventQueue (EventQueue.java:fireEvent(183)) - No event handler registered for event TypedEvent{payloadType=SafeModeStatus, name='SafeModeStatus'}
2019-09-10 22:29:18,924 [Thread-65] INFO  ipc.CallQueueManager (CallQueueManager.java:<init>(84)) - Using callQueue: class java.util.concurrent.LinkedBlockingQueue, queueCapacity: 1000, scheduler: class org.apache.hadoop.ipc.DefaultRpcScheduler, ipcBackoff: false.
2019-09-10 22:29:18,925 [Socket Reader #1 for port 38268] INFO  ipc.Server (Server.java:run(1074)) - Starting Socket Reader #1 for port 38268
2019-09-10 22:29:18,927 [Thread-65] INFO  ipc.CallQueueManager (CallQueueManager.java:<init>(84)) - Using callQueue: class java.util.concurrent.LinkedBlockingQueue, queueCapacity: 1000, scheduler: class org.apache.hadoop.ipc.DefaultRpcScheduler, ipcBackoff: false.
2019-09-10 22:29:18,928 [Socket Reader #1 for port 46009] INFO  ipc.Server (Server.java:run(1074)) - Starting Socket Reader #1 for port 46009
2019-09-10 22:29:18,929 [Thread-65] INFO  ipc.CallQueueManager (CallQueueManager.java:<init>(84)) - Using callQueue: class java.util.concurrent.LinkedBlockingQueue, queueCapacity: 1000, scheduler: class org.apache.hadoop.ipc.DefaultRpcScheduler, ipcBackoff: false.
2019-09-10 22:29:18,930 [Socket Reader #1 for port 35280] INFO  ipc.Server (Server.java:run(1074)) - Starting Socket Reader #1 for port 35280
2019-09-10 22:29:18,932 [Thread-65] INFO  hdfs.DFSUtil (DFSUtil.java:httpServerTemplateForNNAndJN(1629)) - Starting web server as: HTTP_SCM/pr-hdds-2007-qhgzt-2180668592@EXAMPLE.COM
2019-09-10 22:29:18,933 [Thread-65] INFO  hdfs.DFSUtil (DFSUtil.java:httpServerTemplateForNNAndJN(1641)) - Starting Web-server for scm at: http://0.0.0.0:0
2019-09-10 22:29:18,936 [Thread-65] INFO  server.AuthenticationFilter (AuthenticationFilter.java:constructSecretProvider(240)) - Unable to initialize FileSignerSecretProvider, falling back to use random secrets.
2019-09-10 22:29:18,938 [Thread-65] WARN  http.HttpRequestLog (HttpRequestLog.java:getRequestLog(97)) - Jetty request log can only be enabled using Log4j
2019-09-10 22:29:18,942 [Thread-65] INFO  http.HttpServer2 (HttpServer2.java:addGlobalFilter(975)) - Added global filter 'safety' (class=org.apache.hadoop.http.HttpServer2$QuotingInputFilter)
2019-09-10 22:29:18,944 [Thread-65] INFO  http.HttpServer2 (HttpServer2.java:addFilter(948)) - Added filter static_user_filter (class=org.apache.hadoop.http.lib.StaticUserWebFilter$StaticUserFilter) to context scm
2019-09-10 22:29:18,944 [Thread-65] INFO  http.HttpServer2 (HttpServer2.java:addFilter(958)) - Added filter static_user_filter (class=org.apache.hadoop.http.lib.StaticUserWebFilter$StaticUserFilter) to context static
2019-09-10 22:29:18,944 [Thread-65] INFO  http.HttpServer2 (HttpServer2.java:addFilter(958)) - Added filter static_user_filter (class=org.apache.hadoop.http.lib.StaticUserWebFilter$StaticUserFilter) to context logs
2019-09-10 22:29:18,950 [Thread-65] INFO  server.StorageContainerManager (StorageContainerManager.java:start(759)) - StorageContainerLocationProtocol RPC server is listening at /0.0.0.0:35280
2019-09-10 22:29:18,953 [Thread-65] WARN  impl.MetricsConfig (MetricsConfig.java:loadFirst(134)) - Cannot locate configuration: tried hadoop-metrics2-storagecontainermanager.properties,hadoop-metrics2.properties
2019-09-10 22:29:18,960 [Thread-65] INFO  impl.MetricsSystemImpl (MetricsSystemImpl.java:startTimer(374)) - Scheduled Metric snapshot period at 10 second(s).
2019-09-10 22:29:18,960 [Thread-65] INFO  impl.MetricsSystemImpl (MetricsSystemImpl.java:start(191)) - StorageContainerManager metrics system started
2019-09-10 22:29:18,970 [Thread-65] WARN  impl.MetricsSystemImpl (MetricsSystemImpl.java:register(276)) - Sink prometheus already exists!
2019-09-10 22:29:18,984 [Thread-65] INFO  server.SCMClientProtocolServer (SCMClientProtocolServer.java:start(151)) - RPC server for Client  is listening at /0.0.0.0:35280
2019-09-10 22:29:18,985 [IPC Server Responder] INFO  ipc.Server (Server.java:run(1314)) - IPC Server Responder: starting
2019-09-10 22:29:18,985 [IPC Server listener on 35280] INFO  ipc.Server (Server.java:run(1153)) - IPC Server listener on 35280: starting
2019-09-10 22:29:18,987 [Thread-65] INFO  server.StorageContainerManager (StorageContainerManager.java:start(769)) - ScmBlockLocationProtocol RPC server is listening at /0.0.0.0:46009
2019-09-10 22:29:18,988 [Thread-65] INFO  server.SCMBlockProtocolServer (SCMBlockProtocolServer.java:start(146)) - RPC server for Block Protocol is listening at /0.0.0.0:46009
2019-09-10 22:29:18,988 [IPC Server Responder] INFO  ipc.Server (Server.java:run(1314)) - IPC Server Responder: starting
2019-09-10 22:29:18,988 [IPC Server listener on 46009] INFO  ipc.Server (Server.java:run(1153)) - IPC Server listener on 46009: starting
2019-09-10 22:29:18,990 [Thread-65] INFO  server.StorageContainerManager (StorageContainerManager.java:start(773)) - ScmDatanodeProtocl RPC server is listening at /0.0.0.0:38268
2019-09-10 22:29:18,991 [Thread-65] INFO  server.SCMDatanodeProtocolServer (SCMDatanodeProtocolServer.java:start(191)) - RPC server for DataNodes is listening at /0.0.0.0:38268
2019-09-10 22:29:18,991 [IPC Server Responder] INFO  ipc.Server (Server.java:run(1314)) - IPC Server Responder: starting
2019-09-10 22:29:18,991 [IPC Server listener on 38268] INFO  ipc.Server (Server.java:run(1153)) - IPC Server listener on 38268: starting
2019-09-10 22:29:18,993 [Thread-65] INFO  server.SCMClientProtocolServer (SCMSecurityProtocolServer.java:start(197)) - Starting RPC server for SCMSecurityProtocolServer. is listening at /0.0.0.0:9961
2019-09-10 22:29:18,994 [IPC Server Responder] INFO  ipc.Server (Server.java:run(1314)) - IPC Server Responder: starting
2019-09-10 22:29:18,994 [Thread-65] INFO  http.HttpServer2 (HttpServer2.java:bindListener(1191)) - Jetty bound to port 43458
2019-09-10 22:29:18,994 [IPC Server listener on 9961] INFO  ipc.Server (Server.java:run(1153)) - IPC Server listener on 9961: starting
2019-09-10 22:29:18,995 [Thread-65] INFO  server.Server (Server.java:doStart(351)) - jetty-9.3.24.v20180605, build timestamp: 2018-06-05T17:11:56Z, git hash: 84205aa28f11a4f31f2a3b86d1bba2cc8ab69827
2019-09-10 22:29:18,998 [Thread-65] INFO  handler.ContextHandler (ContextHandler.java:doStart(781)) - Started o.e.j.s.ServletContextHandler@476036c9{/logs,file:///workdir/hadoop-ozone/integration-test/target/log,AVAILABLE}
2019-09-10 22:29:18,999 [Thread-65] INFO  handler.ContextHandler (ContextHandler.java:doStart(781)) - Started o.e.j.s.ServletContextHandler@167d36ab{/static,file:///workdir/hadoop-ozone/integration-test/target/test-classes/webapps/static,AVAILABLE}
2019-09-10 22:29:19,005 [Thread-65] INFO  server.KerberosAuthenticationHandler (KerberosAuthenticationHandler.java:init(164)) - Using keytab /workdir/hadoop-ozone/integration-test/target/test-dir/TestSecureOzoneCluster/http.keytab, for principal HTTP_SCM/pr-hdds-2007-qhgzt-2180668592@EXAMPLE.COM
2019-09-10 22:29:19,007 [Thread-65] INFO  handler.ContextHandler (ContextHandler.java:doStart(781)) - Started o.e.j.w.WebAppContext@382a9de2{/,file:///workdir/hadoop-ozone/integration-test/target/test-classes/webapps/scm/,AVAILABLE}{/scm}
2019-09-10 22:29:19,008 [Thread-65] INFO  server.AbstractConnector (AbstractConnector.java:doStart(278)) - Started ServerConnector@2a4f0a16{HTTP/1.1,[http/1.1]}{0.0.0.0:43458}
2019-09-10 22:29:19,008 [Thread-65] INFO  server.Server (Server.java:doStart(419)) - Started @8734ms
2019-09-10 22:29:19,009 [Thread-65] WARN  impl.MetricsSystemImpl (MetricsSystemImpl.java:register(276)) - Sink prometheus already exists!
2019-09-10 22:29:19,010 [Thread-65] INFO  server.BaseHttpServer (BaseHttpServer.java:updateConnectorAddress(215)) - HTTP server of SCM is listening at http://0.0.0.0:43458
2019-09-10 22:29:19,011 [org.apache.hadoop.util.JvmPauseMonitor$Monitor@836bee5] INFO  util.JvmPauseMonitor (JvmPauseMonitor.java:run(188)) - Starting JVM pause monitor
2019-09-10 22:29:19,016 [Thread-65] WARN  server.ServerUtils (ServerUtils.java:getDBPath(222)) - ozone.om.db.dirs is not configured. We recommend adding this setting. Falling back to ozone.metadata.dirs instead.
2019-09-10 22:29:19,030 [Thread-65] WARN  server.ServerUtils (ServerUtils.java:getDBPath(222)) - ozone.om.db.dirs is not configured. We recommend adding this setting. Falling back to ozone.metadata.dirs instead.
2019-09-10 22:29:19,030 [Thread-65] WARN  server.ServerUtils (ServerUtils.java:getDBPath(222)) - ozone.om.db.dirs is not configured. We recommend adding this setting. Falling back to ozone.metadata.dirs instead.
2019-09-10 22:29:19,031 [Thread-65] INFO  om.OzoneManager (OzoneManager.java:setOMNodeDetails(649)) - OM Service ID is not set. Setting it to the default ID: omServiceIdDefault
2019-09-10 22:29:19,031 [Thread-65] INFO  om.OzoneManager (OzoneManager.java:setOMNodeDetails(655)) - OM Node ID is not set. Setting it to the OmStorage's OmID: 1d101063-2409-4463-8577-fe3fc38cc8ce
2019-09-10 22:29:19,033 [Thread-65] INFO  om.OzoneManager (OzoneManager.java:loadOMHAConfigs(606)) - Found matching OM address with OMServiceId: null, OMNodeId: null, RPC Address: 0.0.0.0:9862 and Ratis port: 9872
2019-09-10 22:29:19,124 [Thread-65] WARN  server.ServerUtils (ServerUtils.java:getDBPath(222)) - ozone.om.db.dirs is not configured. We recommend adding this setting. Falling back to ozone.metadata.dirs instead.
2019-09-10 22:29:19,132 [Thread-65] INFO  db.DBStoreBuilder (DBStoreBuilder.java:addTable(110)) - using custom profile for table: userTable
2019-09-10 22:29:19,132 [Thread-65] INFO  db.DBStoreBuilder (DBStoreBuilder.java:processTables(161)) - Using default column profile:DBProfile.DISK for Table:userTable
2019-09-10 22:29:19,132 [Thread-65] INFO  db.DBStoreBuilder (DBStoreBuilder.java:addTable(110)) - using custom profile for table: volumeTable
2019-09-10 22:29:19,132 [Thread-65] INFO  db.DBStoreBuilder (DBStoreBuilder.java:processTables(161)) - Using default column profile:DBProfile.DISK for Table:volumeTable
2019-09-10 22:29:19,132 [Thread-65] INFO  db.DBStoreBuilder (DBStoreBuilder.java:addTable(110)) - using custom profile for table: bucketTable
2019-09-10 22:29:19,133 [Thread-65] INFO  db.DBStoreBuilder (DBStoreBuilder.java:processTables(161)) - Using default column profile:DBProfile.DISK for Table:bucketTable
2019-09-10 22:29:19,133 [Thread-65] INFO  db.DBStoreBuilder (DBStoreBuilder.java:addTable(110)) - using custom profile for table: keyTable
2019-09-10 22:29:19,133 [Thread-65] INFO  db.DBStoreBuilder (DBStoreBuilder.java:processTables(161)) - Using default column profile:DBProfile.DISK for Table:keyTable
2019-09-10 22:29:19,133 [Thread-65] INFO  db.DBStoreBuilder (DBStoreBuilder.java:addTable(110)) - using custom profile for table: deletedTable
2019-09-10 22:29:19,133 [Thread-65] INFO  db.DBStoreBuilder (DBStoreBuilder.java:processTables(161)) - Using default column profile:DBProfile.DISK for Table:deletedTable
2019-09-10 22:29:19,134 [Thread-65] INFO  db.DBStoreBuilder (DBStoreBuilder.java:addTable(110)) - using custom profile for table: openKeyTable
2019-09-10 22:29:19,134 [Thread-65] INFO  db.DBStoreBuilder (DBStoreBuilder.java:processTables(161)) - Using default column profile:DBProfile.DISK for Table:openKeyTable
2019-09-10 22:29:19,134 [Thread-65] INFO  db.DBStoreBuilder (DBStoreBuilder.java:addTable(110)) - using custom profile for table: s3Table
2019-09-10 22:29:19,134 [Thread-65] INFO  db.DBStoreBuilder (DBStoreBuilder.java:processTables(161)) - Using default column profile:DBProfile.DISK for Table:s3Table
2019-09-10 22:29:19,134 [Thread-65] INFO  db.DBStoreBuilder (DBStoreBuilder.java:addTable(110)) - using custom profile for table: multipartInfoTable
2019-09-10 22:29:19,134 [Thread-65] INFO  db.DBStoreBuilder (DBStoreBuilder.java:processTables(161)) - Using default column profile:DBProfile.DISK for Table:multipartInfoTable
2019-09-10 22:29:19,135 [Thread-65] INFO  db.DBStoreBuilder (DBStoreBuilder.java:addTable(110)) - using custom profile for table: dTokenTable
2019-09-10 22:29:19,135 [Thread-65] INFO  db.DBStoreBuilder (DBStoreBuilder.java:processTables(161)) - Using default column profile:DBProfile.DISK for Table:dTokenTable
2019-09-10 22:29:19,135 [Thread-65] INFO  db.DBStoreBuilder (DBStoreBuilder.java:addTable(110)) - using custom profile for table: s3SecretTable
2019-09-10 22:29:19,135 [Thread-65] INFO  db.DBStoreBuilder (DBStoreBuilder.java:processTables(161)) - Using default column profile:DBProfile.DISK for Table:s3SecretTable
2019-09-10 22:29:19,136 [Thread-65] INFO  db.DBStoreBuilder (DBStoreBuilder.java:addTable(110)) - using custom profile for table: prefixTable
2019-09-10 22:29:19,136 [Thread-65] INFO  db.DBStoreBuilder (DBStoreBuilder.java:processTables(161)) - Using default column profile:DBProfile.DISK for Table:prefixTable
2019-09-10 22:29:19,136 [Thread-65] INFO  db.DBStoreBuilder (DBStoreBuilder.java:addTable(110)) - using custom profile for table: default
2019-09-10 22:29:19,136 [Thread-65] INFO  db.DBStoreBuilder (DBStoreBuilder.java:processTables(167)) - Using default column profile:DBProfile.DISK for Table:default
2019-09-10 22:29:19,136 [Thread-65] INFO  db.DBStoreBuilder (DBStoreBuilder.java:getDbProfile(198)) - Using default options. DBProfile.DISK
2019-09-10 22:29:19,860 [Thread-65] INFO  ipc.CallQueueManager (CallQueueManager.java:<init>(84)) - Using callQueue: class java.util.concurrent.LinkedBlockingQueue, queueCapacity: 2000, scheduler: class org.apache.hadoop.ipc.DefaultRpcScheduler, ipcBackoff: false.
2019-09-10 22:29:19,862 [Socket Reader #1 for port 9862] INFO  ipc.Server (Server.java:run(1074)) - Starting Socket Reader #1 for port 9862
2019-09-10 22:29:19,905 [pool-10-thread-1] INFO  request.KdcRequest (KdcRequest.java:preauth(651)) - The preauth data is empty.
2019-09-10 22:29:19,906 [pool-10-thread-1] INFO  server.KdcHandler (KdcHandler.java:handleRecoverableException(177)) - KRB error occurred while processing request:Additional pre-authentication required
2019-09-10 22:29:19,925 [pool-10-thread-1] INFO  request.AsRequest (AsRequest.java:issueTicket(112)) - AS_REQ ISSUE: authtime 1568154559923,scm/pr-hdds-2007-qhgzt-2180668592@EXAMPLE.COM for krbtgt/EXAMPLE.COM@EXAMPLE.COM
2019-09-10 22:29:19,929 [Thread-65] INFO  security.UserGroupInformation (UserGroupInformation.java:loginUserFromKeytab(1009)) - Login successful for user scm/pr-hdds-2007-qhgzt-2180668592@EXAMPLE.COM using keytab file /workdir/hadoop-ozone/integration-test/target/test-dir/TestSecureOzoneCluster/scm.keytab
2019-09-10 22:29:19,930 [Thread-65] INFO  om.OzoneManager (OzoneManager.java:loginOMUser(923)) - Ozone Manager login successful.
2019-09-10 22:29:19,930 [Thread-65] WARN  server.ServerUtils (ServerUtils.java:getDBPath(222)) - ozone.om.db.dirs is not configured. We recommend adding this setting. Falling back to ozone.metadata.dirs instead.
2019-09-10 22:29:19,931 [Thread-65] INFO  om.OzoneManager (OzoneManager.java:omInit(1086)) - OM storage is already initialized. Initializing security
2019-09-10 22:29:19,931 [Thread-65] INFO  om.OzoneManager (OzoneManager.java:initializeSecurity(1105)) - Initializing secure OzoneManager.
2019-09-10 22:29:19,937 [Thread-65] ERROR client.OMCertificateClient (DefaultCertificateClient.java:getCertificate(212)) - Default certificate serial id is not set. Can't locate the default certificate for this client.
2019-09-10 22:29:19,938 [Thread-65] INFO  client.OMCertificateClient (DefaultCertificateClient.java:init(612)) - Certificate client init case: 0
2019-09-10 22:29:19,939 [Thread-65] INFO  client.OMCertificateClient (OMCertificateClient.java:handleCase(57)) - Creating keypair for client as keypair and certificate not found.
2019-09-10 22:29:20,046 [Thread-65] INFO  om.OzoneManager (OzoneManager.java:initializeSecurity(1111)) - Init response: GETCERT
2019-09-10 22:29:20,055 [Thread-65] INFO  ozone.OzoneSecurityUtil (OzoneSecurityUtil.java:getValidInetsForCurrentHost(103)) - Adding ip:192.168.69.94,host:pr-hdds-2007-qhgzt-2180668592
2019-09-10 22:29:20,056 [Thread-65] INFO  ozone.OzoneSecurityUtil (OzoneSecurityUtil.java:getValidInetsForCurrentHost(107)) - ip:127.0.0.1,host:localhost not returned.
2019-09-10 22:29:20,059 [Thread-65] INFO  om.OzoneManager (OzoneManager.java:getSCMSignedCert(1521)) - Creating csr for OM->dns:0.0.0.0,ip:0.0.0.0,scmId:7f9798e6-931b-49f7-9519-619ae7210f36,clusterId:a018c2aa-2711-41f0-8f7d-34cf09aa37eb,subject:scm@0.0.0.0
2019-09-10 22:29:20,075 [Thread-65] INFO  om.OzoneManager (OzoneManager.java:getSCMSignedCert(1538)) - OzoneManager ports added:[name: "RPC"
value: 9862
]
2019-09-10 22:29:20,092 [pool-10-thread-1] INFO  request.TgsRequest (TgsRequest.java:issueTicket(115)) - TGS_REQ ISSUE: authtime 1568154560090,scm/pr-hdds-2007-qhgzt-2180668592 for scm/pr-hdds-2007-qhgzt-2180668592@EXAMPLE.COM
2019-09-10 22:29:20,108 [Socket Reader #1 for port 9961] INFO  ipc.Server (Server.java:saslProcess(1849)) - Auth successful for scm/pr-hdds-2007-qhgzt-2180668592@EXAMPLE.COM (auth:KERBEROS)
2019-09-10 22:29:20,112 [IPC Server handler 0 on 9961] INFO  server.SCMClientProtocolServer (SCMSecurityProtocolServer.java:getOMCertificate(132)) - Processing CSR for om 0.0.0.0, UUID: 1d101063-2409-4463-8577-fe3fc38cc8ce
2019-09-10 22:29:20,173 [Thread-65] INFO  om.OzoneManager (OzoneManager.java:initializeSecurity(1118)) - Successfully stored SCM signed certificate.
OM already initialized.Reusing existing cluster id for sd=/tmp/junit2319316630069849927/junit941962053760964374/scm-meta/om;cid=a018c2aa-2711-41f0-8f7d-34cf09aa37eb
2019-09-10 22:29:20,209 [Thread-65] INFO  ipc.Server (Server.java:stop(3082)) - Stopping server on 9862
2019-09-10 22:29:20,210 [Thread-65] INFO  ratis.OzoneManagerDoubleBuffer (OzoneManagerDoubleBuffer.java:stop(248)) - Stopping OMDoubleBuffer flush thread
2019-09-10 22:29:20,210 [OMDoubleBufferFlushThread] INFO  ratis.OzoneManagerDoubleBuffer (OzoneManagerDoubleBuffer.java:flushTransactions(191)) - OMDoubleBuffer flush thread OMDoubleBufferFlushThread is interrupted and will exit. OMDoubleBufferFlushThread
2019-09-10 22:29:20,211 [Thread-65] INFO  utils.BackgroundService (BackgroundService.java:shutdown(148)) - Shutting down service KeyDeletingService
2019-09-10 22:29:20,219 [pool-10-thread-1] INFO  request.KdcRequest (KdcRequest.java:preauth(651)) - The preauth data is empty.
2019-09-10 22:29:20,219 [pool-10-thread-1] INFO  server.KdcHandler (KdcHandler.java:handleRecoverableException(177)) - KRB error occurred while processing request:Additional pre-authentication required
2019-09-10 22:29:20,226 [pool-10-thread-1] INFO  request.AsRequest (AsRequest.java:issueTicket(112)) - AS_REQ ISSUE: authtime 1568154560225,scm/pr-hdds-2007-qhgzt-2180668592@EXAMPLE.COM for krbtgt/EXAMPLE.COM@EXAMPLE.COM
2019-09-10 22:29:20,229 [Thread-65] INFO  security.UserGroupInformation (UserGroupInformation.java:loginUserFromKeytab(1009)) - Login successful for user scm/pr-hdds-2007-qhgzt-2180668592@EXAMPLE.COM using keytab file /workdir/hadoop-ozone/integration-test/target/test-dir/TestSecureOzoneCluster/scm.keytab
2019-09-10 22:29:20,229 [Thread-65] INFO  om.OzoneManager (OzoneManager.java:loginOMUser(923)) - Ozone Manager login successful.
2019-09-10 22:29:20,230 [Thread-65] WARN  server.ServerUtils (ServerUtils.java:getDBPath(222)) - ozone.om.db.dirs is not configured. We recommend adding this setting. Falling back to ozone.metadata.dirs instead.
2019-09-10 22:29:20,230 [Thread-65] WARN  server.ServerUtils (ServerUtils.java:getDBPath(222)) - ozone.om.db.dirs is not configured. We recommend adding this setting. Falling back to ozone.metadata.dirs instead.
2019-09-10 22:29:20,231 [Thread-65] INFO  om.OzoneManager (OzoneManager.java:setOMNodeDetails(649)) - OM Service ID is not set. Setting it to the default ID: omServiceIdDefault
2019-09-10 22:29:20,231 [Thread-65] INFO  om.OzoneManager (OzoneManager.java:setOMNodeDetails(655)) - OM Node ID is not set. Setting it to the OmStorage's OmID: 1d101063-2409-4463-8577-fe3fc38cc8ce
2019-09-10 22:29:20,232 [Thread-65] INFO  om.OzoneManager (OzoneManager.java:loadOMHAConfigs(606)) - Found matching OM address with OMServiceId: null, OMNodeId: null, RPC Address: 0.0.0.0:9862 and Ratis port: 9872
2019-09-10 22:29:20,237 [Thread-65] INFO  client.OMCertificateClient (DefaultCertificateClient.java:loadAllCertificates(115)) - Loading certificate from location:/tmp/junit2319316630069849927/junit941962053760964374/scm-meta/om/certs.
2019-09-10 22:29:20,242 [Thread-65] INFO  client.OMCertificateClient (DefaultCertificateClient.java:loadAllCertificates(135)) - Added certificate from file:/tmp/junit2319316630069849927/junit941962053760964374/scm-meta/om/certs/CA-1.crt.
2019-09-10 22:29:20,246 [Thread-65] INFO  client.OMCertificateClient (DefaultCertificateClient.java:loadAllCertificates(135)) - Added certificate from file:/tmp/junit2319316630069849927/junit941962053760964374/scm-meta/om/certs/8501346265046530.crt.
2019-09-10 22:29:20,247 [Thread-65] WARN  server.ServerUtils (ServerUtils.java:getDBPath(222)) - ozone.om.db.dirs is not configured. We recommend adding this setting. Falling back to ozone.metadata.dirs instead.
2019-09-10 22:29:20,248 [Thread-65] INFO  db.DBStoreBuilder (DBStoreBuilder.java:addTable(110)) - using custom profile for table: userTable
2019-09-10 22:29:20,248 [Thread-65] INFO  db.DBStoreBuilder (DBStoreBuilder.java:processTables(161)) - Using default column profile:DBProfile.DISK for Table:userTable
2019-09-10 22:29:20,248 [Thread-65] INFO  db.DBStoreBuilder (DBStoreBuilder.java:addTable(110)) - using custom profile for table: volumeTable
2019-09-10 22:29:20,249 [Thread-65] INFO  db.DBStoreBuilder (DBStoreBuilder.java:processTables(161)) - Using default column profile:DBProfile.DISK for Table:volumeTable
2019-09-10 22:29:20,249 [Thread-65] INFO  db.DBStoreBuilder (DBStoreBuilder.java:addTable(110)) - using custom profile for table: bucketTable
2019-09-10 22:29:20,249 [Thread-65] INFO  db.DBStoreBuilder (DBStoreBuilder.java:processTables(161)) - Using default column profile:DBProfile.DISK for Table:bucketTable
2019-09-10 22:29:20,249 [Thread-65] INFO  db.DBStoreBuilder (DBStoreBuilder.java:addTable(110)) - using custom profile for table: keyTable
2019-09-10 22:29:20,250 [Thread-65] INFO  db.DBStoreBuilder (DBStoreBuilder.java:processTables(161)) - Using default column profile:DBProfile.DISK for Table:keyTable
2019-09-10 22:29:20,250 [Thread-65] INFO  db.DBStoreBuilder (DBStoreBuilder.java:addTable(110)) - using custom profile for table: deletedTable
2019-09-10 22:29:20,250 [Thread-65] INFO  db.DBStoreBuilder (DBStoreBuilder.java:processTables(161)) - Using default column profile:DBProfile.DISK for Table:deletedTable
2019-09-10 22:29:20,250 [Thread-65] INFO  db.DBStoreBuilder (DBStoreBuilder.java:addTable(110)) - using custom profile for table: openKeyTable
2019-09-10 22:29:20,251 [Thread-65] INFO  db.DBStoreBuilder (DBStoreBuilder.java:processTables(161)) - Using default column profile:DBProfile.DISK for Table:openKeyTable
2019-09-10 22:29:20,251 [Thread-65] INFO  db.DBStoreBuilder (DBStoreBuilder.java:addTable(110)) - using custom profile for table: s3Table
2019-09-10 22:29:20,251 [Thread-65] INFO  db.DBStoreBuilder (DBStoreBuilder.java:processTables(161)) - Using default column profile:DBProfile.DISK for Table:s3Table
2019-09-10 22:29:20,251 [Thread-65] INFO  db.DBStoreBuilder (DBStoreBuilder.java:addTable(110)) - using custom profile for table: multipartInfoTable
2019-09-10 22:29:20,252 [Thread-65] INFO  db.DBStoreBuilder (DBStoreBuilder.java:processTables(161)) - Using default column profile:DBProfile.DISK for Table:multipartInfoTable
2019-09-10 22:29:20,252 [Thread-65] INFO  db.DBStoreBuilder (DBStoreBuilder.java:addTable(110)) - using custom profile for table: dTokenTable
2019-09-10 22:29:20,252 [Thread-65] INFO  db.DBStoreBuilder (DBStoreBuilder.java:processTables(161)) - Using default column profile:DBProfile.DISK for Table:dTokenTable
2019-09-10 22:29:20,252 [Thread-65] INFO  db.DBStoreBuilder (DBStoreBuilder.java:addTable(110)) - using custom profile for table: s3SecretTable
2019-09-10 22:29:20,253 [Thread-65] INFO  db.DBStoreBuilder (DBStoreBuilder.java:processTables(161)) - Using default column profile:DBProfile.DISK for Table:s3SecretTable
2019-09-10 22:29:20,253 [Thread-65] INFO  db.DBStoreBuilder (DBStoreBuilder.java:addTable(110)) - using custom profile for table: prefixTable
2019-09-10 22:29:20,253 [Thread-65] INFO  db.DBStoreBuilder (DBStoreBuilder.java:processTables(161)) - Using default column profile:DBProfile.DISK for Table:prefixTable
2019-09-10 22:29:20,253 [Thread-65] INFO  db.DBStoreBuilder (DBStoreBuilder.java:addTable(110)) - using custom profile for table: default
2019-09-10 22:29:20,254 [Thread-65] INFO  db.DBStoreBuilder (DBStoreBuilder.java:processTables(167)) - Using default column profile:DBProfile.DISK for Table:default
2019-09-10 22:29:20,254 [Thread-65] INFO  db.DBStoreBuilder (DBStoreBuilder.java:getDbProfile(198)) - Using default options. DBProfile.DISK
2019-09-10 22:29:20,583 [Thread-65] INFO  Configuration.deprecation (Configuration.java:logDeprecation(1394)) - No unit for ozone.manager.delegation.remover.scan.interval(3600000) assuming MILLISECONDS
2019-09-10 22:29:20,589 [Thread-65] INFO  security.OzoneSecretStore (OzoneSecretStore.java:loadState(69)) - Loaded 0 tokens
2019-09-10 22:29:20,589 [Thread-65] INFO  security.OzoneDelegationTokenSecretManager (OzoneDelegationTokenSecretManager.java:loadTokenSecretState(421)) - Loading token state into token manager.
2019-09-10 22:29:20,594 [Thread-65] INFO  ipc.CallQueueManager (CallQueueManager.java:<init>(84)) - Using callQueue: class java.util.concurrent.LinkedBlockingQueue, queueCapacity: 2000, scheduler: class org.apache.hadoop.ipc.DefaultRpcScheduler, ipcBackoff: false.
2019-09-10 22:29:20,595 [Socket Reader #1 for port 9862] INFO  ipc.Server (Server.java:run(1074)) - Starting Socket Reader #1 for port 9862
2019-09-10 22:29:20,623 [Thread-65] INFO  server.StorageContainerManager (StorageContainerManager.java:stop(797)) - Stopping Replication Manager Service.
2019-09-10 22:29:20,624 [Thread-65] INFO  container.ReplicationManager (ReplicationManager.java:stop(209)) - Replication Monitor Thread is not running.
2019-09-10 22:29:20,624 [Thread-65] INFO  server.StorageContainerManager (StorageContainerManager.java:stop(804)) - Stopping Lease Manager of the command watchers
2019-09-10 22:29:20,624 [Thread-65] INFO  server.StorageContainerManager (StorageContainerManager.java:stop(811)) - Stopping datanode service RPC server
2019-09-10 22:29:20,624 [Thread-65] INFO  server.SCMDatanodeProtocolServer (SCMDatanodeProtocolServer.java:stop(367)) - Stopping the RPC server for DataNodes
2019-09-10 22:29:20,624 [Thread-65] INFO  ipc.Server (Server.java:stop(3082)) - Stopping server on 38268
2019-09-10 22:29:20,627 [IPC Server Responder] INFO  ipc.Server (Server.java:run(1319)) - Stopping IPC Server Responder
2019-09-10 22:29:20,627 [IPC Server listener on 38268] INFO  ipc.Server (Server.java:run(1185)) - Stopping IPC Server listener on 38268
2019-09-10 22:29:21,753 [SCM Heartbeat Processing Thread - 0] WARN  node.NodeStateManager (NodeStateManager.java:scheduleNextHealthCheck(646)) - Current Thread is interrupted, shutting down HB processing thread for Node Manager.
2019-09-10 22:29:21,753 [Thread-65] INFO  server.StorageContainerManager (StorageContainerManager.java:stop(819)) - Stopping block service RPC server
2019-09-10 22:29:21,754 [Thread-65] INFO  server.SCMBlockProtocolServer (SCMBlockProtocolServer.java:stop(155)) - Stopping the RPC server for Block Protocol
2019-09-10 22:29:21,754 [Thread-65] INFO  ipc.Server (Server.java:stop(3082)) - Stopping server on 46009
2019-09-10 22:29:21,756 [IPC Server listener on 46009] INFO  ipc.Server (Server.java:run(1185)) - Stopping IPC Server listener on 46009
2019-09-10 22:29:21,757 [Thread-65] INFO  server.StorageContainerManager (StorageContainerManager.java:stop(826)) - Stopping the StorageContainerLocationProtocol RPC server
2019-09-10 22:29:21,757 [IPC Server Responder] INFO  ipc.Server (Server.java:run(1319)) - Stopping IPC Server Responder
2019-09-10 22:29:21,757 [Thread-65] INFO  server.SCMClientProtocolServer (SCMClientProtocolServer.java:stop(159)) - Stopping the RPC server for Client Protocol
2019-09-10 22:29:21,758 [Thread-65] INFO  ipc.Server (Server.java:stop(3082)) - Stopping server on 35280
2019-09-10 22:29:21,759 [IPC Server listener on 35280] INFO  ipc.Server (Server.java:run(1185)) - Stopping IPC Server listener on 35280
2019-09-10 22:29:21,759 [IPC Server Responder] INFO  ipc.Server (Server.java:run(1319)) - Stopping IPC Server Responder
2019-09-10 22:29:21,759 [Thread-65] INFO  server.StorageContainerManager (StorageContainerManager.java:stop(833)) - Stopping Storage Container Manager HTTP server.
2019-09-10 22:29:21,760 [Thread-65] INFO  handler.ContextHandler (ContextHandler.java:doStop(910)) - Stopped o.e.j.w.WebAppContext@382a9de2{/,null,UNAVAILABLE}{/scm}
2019-09-10 22:29:21,761 [Thread-65] INFO  server.AbstractConnector (AbstractConnector.java:doStop(318)) - Stopped ServerConnector@2a4f0a16{HTTP/1.1,[http/1.1]}{0.0.0.0:0}
2019-09-10 22:29:21,761 [Thread-65] INFO  handler.ContextHandler (ContextHandler.java:doStop(910)) - Stopped o.e.j.s.ServletContextHandler@167d36ab{/static,file:///workdir/hadoop-ozone/integration-test/target/test-classes/webapps/static,UNAVAILABLE}
2019-09-10 22:29:21,762 [Thread-65] INFO  handler.ContextHandler (ContextHandler.java:doStop(910)) - Stopped o.e.j.s.ServletContextHandler@476036c9{/logs,file:///workdir/hadoop-ozone/integration-test/target/log,UNAVAILABLE}
2019-09-10 22:29:21,763 [Thread-65] INFO  server.SCMClientProtocolServer (SCMSecurityProtocolServer.java:stop(204)) - Stopping the SCMSecurityProtocolServer.
2019-09-10 22:29:21,763 [Thread-65] INFO  ipc.Server (Server.java:stop(3082)) - Stopping server on 9961
2019-09-10 22:29:21,764 [IPC Server listener on 9961] INFO  ipc.Server (Server.java:run(1185)) - Stopping IPC Server listener on 9961
2019-09-10 22:29:21,764 [IPC Server Responder] INFO  ipc.Server (Server.java:run(1319)) - Stopping IPC Server Responder
2019-09-10 22:29:21,764 [Thread-65] INFO  server.StorageContainerManager (StorageContainerManager.java:stop(844)) - Stopping Block Manager Service.
2019-09-10 22:29:21,765 [Thread-65] INFO  utils.BackgroundService (BackgroundService.java:shutdown(148)) - Shutting down service SCMBlockDeletingService
2019-09-10 22:29:21,765 [Thread-65] INFO  utils.BackgroundService (BackgroundService.java:shutdown(148)) - Shutting down service SCMBlockDeletingService
2019-09-10 22:29:21,766 [Thread-65] INFO  server.StorageContainerManager (StorageContainerManager.java:stop(866)) - Stopping SCM Event Queue.
2019-09-10 22:29:21,769 [Thread-65] INFO  impl.MetricsSystemImpl (MetricsSystemImpl.java:stop(210)) - Stopping StorageContainerManager metrics system...
2019-09-10 22:29:21,771 [Thread-65] INFO  impl.MetricsSystemImpl (MetricsSystemImpl.java:stop(216)) - StorageContainerManager metrics system stopped.
2019-09-10 22:29:21,772 [Thread-65] INFO  impl.DefaultInternalKdcServerImpl (DefaultInternalKdcServerImpl.java:doStop(102)) - Default Internal kdc server stopped.
2019-09-10 22:29:22,773 [Thread-65] INFO  minikdc.MiniKdc (MiniKdc.java:stop(359)) - MiniKdc stopped.
2019-09-10 22:29:22,773 [Thread-65] INFO  server.StorageContainerManager (StorageContainerManager.java:stop(797)) - Stopping Replication Manager Service.
2019-09-10 22:29:22,773 [Thread-65] INFO  container.ReplicationManager (ReplicationManager.java:stop(209)) - Replication Monitor Thread is not running.
2019-09-10 22:29:22,773 [Thread-65] INFO  server.StorageContainerManager (StorageContainerManager.java:stop(804)) - Stopping Lease Manager of the command watchers
2019-09-10 22:29:22,774 [Thread-65] ERROR server.StorageContainerManager (StorageContainerManager.java:stop(807)) - Lease Manager of the command watchers stop failed
2019-09-10 22:29:22,774 [Thread-65] INFO  server.StorageContainerManager (StorageContainerManager.java:stop(811)) - Stopping datanode service RPC server
2019-09-10 22:29:22,774 [Thread-65] INFO  server.SCMDatanodeProtocolServer (SCMDatanodeProtocolServer.java:stop(367)) - Stopping the RPC server for DataNodes
2019-09-10 22:29:22,774 [Thread-65] INFO  ipc.Server (Server.java:stop(3082)) - Stopping server on 38268
2019-09-10 22:29:22,774 [Thread-65] INFO  server.StorageContainerManager (StorageContainerManager.java:stop(819)) - Stopping block service RPC server
2019-09-10 22:29:22,775 [Thread-65] INFO  server.SCMBlockProtocolServer (SCMBlockProtocolServer.java:stop(155)) - Stopping the RPC server for Block Protocol
2019-09-10 22:29:22,775 [Thread-65] INFO  ipc.Server (Server.java:stop(3082)) - Stopping server on 46009
2019-09-10 22:29:22,775 [Thread-65] INFO  server.StorageContainerManager (StorageContainerManager.java:stop(826)) - Stopping the StorageContainerLocationProtocol RPC server
2019-09-10 22:29:22,775 [Thread-65] INFO  server.SCMClientProtocolServer (SCMClientProtocolServer.java:stop(159)) - Stopping the RPC server for Client Protocol
2019-09-10 22:29:22,775 [Thread-65] INFO  ipc.Server (Server.java:stop(3082)) - Stopping server on 35280
2019-09-10 22:29:22,776 [Thread-65] INFO  server.StorageContainerManager (StorageContainerManager.java:stop(833)) - Stopping Storage Container Manager HTTP server.
2019-09-10 22:29:22,776 [Thread-65] INFO  server.SCMClientProtocolServer (SCMSecurityProtocolServer.java:stop(204)) - Stopping the SCMSecurityProtocolServer.
2019-09-10 22:29:22,776 [Thread-65] INFO  ipc.Server (Server.java:stop(3082)) - Stopping server on 9961
2019-09-10 22:29:22,776 [Thread-65] INFO  server.StorageContainerManager (StorageContainerManager.java:stop(844)) - Stopping Block Manager Service.
2019-09-10 22:29:22,776 [Thread-65] INFO  utils.BackgroundService (BackgroundService.java:shutdown(148)) - Shutting down service SCMBlockDeletingService
2019-09-10 22:29:22,776 [Thread-65] INFO  utils.BackgroundService (BackgroundService.java:shutdown(148)) - Shutting down service SCMBlockDeletingService
2019-09-10 22:29:22,777 [Thread-65] INFO  server.StorageContainerManager (StorageContainerManager.java:stop(866)) - Stopping SCM Event Queue.
2019-09-10 22:29:22,777 [Thread-65] INFO  impl.MetricsSystemImpl (MetricsSystemImpl.java:stop(205)) - StorageContainerManager metrics system stopped (again)
2019-09-10 22:29:22,777 [Thread-65] INFO  ipc.Server (Server.java:stop(3082)) - Stopping server on 9862
2019-09-10 22:29:22,778 [Thread-65] INFO  ratis.OzoneManagerDoubleBuffer (OzoneManagerDoubleBuffer.java:stop(248)) - Stopping OMDoubleBuffer flush thread
2019-09-10 22:29:22,778 [OMDoubleBufferFlushThread] INFO  ratis.OzoneManagerDoubleBuffer (OzoneManagerDoubleBuffer.java:flushTransactions(191)) - OMDoubleBuffer flush thread OMDoubleBufferFlushThread is interrupted and will exit. OMDoubleBufferFlushThread
2019-09-10 22:29:22,779 [Thread-65] INFO  utils.BackgroundService (BackgroundService.java:shutdown(148)) - Shutting down service KeyDeletingService
2019-09-10 22:29:22,779 [Thread-65] INFO  om.OzoneManager (OzoneManager.java:stopSecretManager(831)) - Stopping OM delegation token secret manager.
2019-09-10 22:29:22,812 [Thread-138] INFO  minikdc.MiniKdc (MiniKdc.java:<init>(225)) - Configuration:
2019-09-10 22:29:22,813 [Thread-138] INFO  minikdc.MiniKdc (MiniKdc.java:<init>(226)) - ---------------------------------------------------------------
2019-09-10 22:29:22,813 [Thread-138] INFO  minikdc.MiniKdc (MiniKdc.java:<init>(228)) -   debug: false
2019-09-10 22:29:22,813 [Thread-138] INFO  minikdc.MiniKdc (MiniKdc.java:<init>(228)) -   transport: TCP
2019-09-10 22:29:22,813 [Thread-138] INFO  minikdc.MiniKdc (MiniKdc.java:<init>(228)) -   max.ticket.lifetime: 86400000
2019-09-10 22:29:22,813 [Thread-138] INFO  minikdc.MiniKdc (MiniKdc.java:<init>(228)) -   org.name: EXAMPLE
2019-09-10 22:29:22,813 [Thread-138] INFO  minikdc.MiniKdc (MiniKdc.java:<init>(228)) -   kdc.port: 0
2019-09-10 22:29:22,813 [Thread-138] INFO  minikdc.MiniKdc (MiniKdc.java:<init>(228)) -   org.domain: COM
2019-09-10 22:29:22,814 [Thread-138] INFO  minikdc.MiniKdc (MiniKdc.java:<init>(228)) -   max.renewable.lifetime: 604800000
2019-09-10 22:29:22,814 [Thread-138] INFO  minikdc.MiniKdc (MiniKdc.java:<init>(228)) -   instance: DefaultKrbServer
2019-09-10 22:29:22,814 [Thread-138] INFO  minikdc.MiniKdc (MiniKdc.java:<init>(228)) -   kdc.bind.address: localhost
2019-09-10 22:29:22,814 [Thread-138] INFO  minikdc.MiniKdc (MiniKdc.java:<init>(230)) - ---------------------------------------------------------------
2019-09-10 22:29:22,817 [Thread-138] INFO  minikdc.MiniKdc (MiniKdc.java:start(285)) - MiniKdc started.
2019-09-10 22:29:23,023 [Thread-138] WARN  server.ServerUtils (ServerUtils.java:getDBPath(222)) - ozone.om.db.dirs is not configured. We recommend adding this setting. Falling back to ozone.metadata.dirs instead.
2019-09-10 22:29:23,048 [pool-40-thread-1] INFO  request.KdcRequest (KdcRequest.java:preauth(651)) - The preauth data is empty.
2019-09-10 22:29:23,048 [pool-40-thread-1] INFO  server.KdcHandler (KdcHandler.java:handleRecoverableException(177)) - KRB error occurred while processing request:Additional pre-authentication required
2019-09-10 22:29:23,060 [pool-40-thread-1] INFO  request.AsRequest (AsRequest.java:issueTicket(112)) - AS_REQ ISSUE: authtime 1568154563058,om/pr-hdds-2007-qhgzt-2180668592@EXAMPLE.COM for krbtgt/EXAMPLE.COM@EXAMPLE.COM
2019-09-10 22:29:23,063 [Thread-138] INFO  security.UserGroupInformation (UserGroupInformation.java:loginUserFromKeytab(1009)) - Login successful for user om/pr-hdds-2007-qhgzt-2180668592@EXAMPLE.COM using keytab file /workdir/hadoop-ozone/integration-test/target/test-dir/TestSecureOzoneCluster/om.keytab
2019-09-10 22:29:23,063 [Thread-138] INFO  om.OzoneManager (OzoneManager.java:loginOMUser(923)) - Ozone Manager login successful.
2019-09-10 22:29:23,063 [Thread-138] WARN  server.ServerUtils (ServerUtils.java:getDBPath(222)) - ozone.om.db.dirs is not configured. We recommend adding this setting. Falling back to ozone.metadata.dirs instead.
2019-09-10 22:29:23,064 [Thread-138] WARN  server.ServerUtils (ServerUtils.java:getDBPath(222)) - ozone.om.db.dirs is not configured. We recommend adding this setting. Falling back to ozone.metadata.dirs instead.
2019-09-10 22:29:23,065 [Thread-138] INFO  om.OzoneManager (OzoneManager.java:setOMNodeDetails(649)) - OM Service ID is not set. Setting it to the default ID: omServiceIdDefault
2019-09-10 22:29:23,065 [Thread-138] INFO  om.OzoneManager (OzoneManager.java:setOMNodeDetails(655)) - OM Node ID is not set. Setting it to the OmStorage's OmID: 945b464e-78c6-4c63-a812-8b2da873b9de
2019-09-10 22:29:23,066 [Thread-138] INFO  om.OzoneManager (OzoneManager.java:loadOMHAConfigs(606)) - Found matching OM address with OMServiceId: null, OMNodeId: null, RPC Address: 0.0.0.0:9862 and Ratis port: 9872
2019-09-10 22:29:23,071 [Thread-138] WARN  server.ServerUtils (ServerUtils.java:getDBPath(222)) - ozone.om.db.dirs is not configured. We recommend adding this setting. Falling back to ozone.metadata.dirs instead.
2019-09-10 22:29:23,071 [Thread-138] INFO  db.DBStoreBuilder (DBStoreBuilder.java:addTable(110)) - using custom profile for table: userTable
2019-09-10 22:29:23,072 [Thread-138] INFO  db.DBStoreBuilder (DBStoreBuilder.java:processTables(161)) - Using default column profile:DBProfile.DISK for Table:userTable
2019-09-10 22:29:23,072 [Thread-138] INFO  db.DBStoreBuilder (DBStoreBuilder.java:addTable(110)) - using custom profile for table: volumeTable
2019-09-10 22:29:23,072 [Thread-138] INFO  db.DBStoreBuilder (DBStoreBuilder.java:processTables(161)) - Using default column profile:DBProfile.DISK for Table:volumeTable
2019-09-10 22:29:23,072 [Thread-138] INFO  db.DBStoreBuilder (DBStoreBuilder.java:addTable(110)) - using custom profile for table: bucketTable
2019-09-10 22:29:23,073 [Thread-138] INFO  db.DBStoreBuilder (DBStoreBuilder.java:processTables(161)) - Using default column profile:DBProfile.DISK for Table:bucketTable
2019-09-10 22:29:23,073 [Thread-138] INFO  db.DBStoreBuilder (DBStoreBuilder.java:addTable(110)) - using custom profile for table: keyTable
2019-09-10 22:29:23,073 [Thread-138] INFO  db.DBStoreBuilder (DBStoreBuilder.java:processTables(161)) - Using default column profile:DBProfile.DISK for Table:keyTable
2019-09-10 22:29:23,073 [Thread-138] INFO  db.DBStoreBuilder (DBStoreBuilder.java:addTable(110)) - using custom profile for table: deletedTable
2019-09-10 22:29:23,074 [Thread-138] INFO  db.DBStoreBuilder (DBStoreBuilder.java:processTables(161)) - Using default column profile:DBProfile.DISK for Table:deletedTable
2019-09-10 22:29:23,074 [Thread-138] INFO  db.DBStoreBuilder (DBStoreBuilder.java:addTable(110)) - using custom profile for table: openKeyTable
2019-09-10 22:29:23,074 [Thread-138] INFO  db.DBStoreBuilder (DBStoreBuilder.java:processTables(161)) - Using default column profile:DBProfile.DISK for Table:openKeyTable
2019-09-10 22:29:23,074 [Thread-138] INFO  db.DBStoreBuilder (DBStoreBuilder.java:addTable(110)) - using custom profile for table: s3Table
2019-09-10 22:29:23,074 [Thread-138] INFO  db.DBStoreBuilder (DBStoreBuilder.java:processTables(161)) - Using default column profile:DBProfile.DISK for Table:s3Table
2019-09-10 22:29:23,075 [Thread-138] INFO  db.DBStoreBuilder (DBStoreBuilder.java:addTable(110)) - using custom profile for table: multipartInfoTable
2019-09-10 22:29:23,075 [Thread-138] INFO  db.DBStoreBuilder (DBStoreBuilder.java:processTables(161)) - Using default column profile:DBProfile.DISK for Table:multipartInfoTable
2019-09-10 22:29:23,075 [Thread-138] INFO  db.DBStoreBuilder (DBStoreBuilder.java:addTable(110)) - using custom profile for table: dTokenTable
2019-09-10 22:29:23,075 [Thread-138] INFO  db.DBStoreBuilder (DBStoreBuilder.java:processTables(161)) - Using default column profile:DBProfile.DISK for Table:dTokenTable
2019-09-10 22:29:23,076 [Thread-138] INFO  db.DBStoreBuilder (DBStoreBuilder.java:addTable(110)) - using custom profile for table: s3SecretTable
2019-09-10 22:29:23,076 [Thread-138] INFO  db.DBStoreBuilder (DBStoreBuilder.java:processTables(161)) - Using default column profile:DBProfile.DISK for Table:s3SecretTable
2019-09-10 22:29:23,076 [Thread-138] INFO  db.DBStoreBuilder (DBStoreBuilder.java:addTable(110)) - using custom profile for table: prefixTable
2019-09-10 22:29:23,076 [Thread-138] INFO  db.DBStoreBuilder (DBStoreBuilder.java:processTables(161)) - Using default column profile:DBProfile.DISK for Table:prefixTable
2019-09-10 22:29:23,077 [Thread-138] INFO  db.DBStoreBuilder (DBStoreBuilder.java:addTable(110)) - using custom profile for table: default
2019-09-10 22:29:23,077 [Thread-138] INFO  db.DBStoreBuilder (DBStoreBuilder.java:processTables(167)) - Using default column profile:DBProfile.DISK for Table:default
2019-09-10 22:29:23,077 [Thread-138] INFO  db.DBStoreBuilder (DBStoreBuilder.java:getDbProfile(198)) - Using default options. DBProfile.DISK
2019-09-10 22:29:23,818 [Thread-138] INFO  Configuration.deprecation (Configuration.java:logDeprecation(1394)) - No unit for ozone.manager.delegation.remover.scan.interval(3600000) assuming MILLISECONDS
2019-09-10 22:29:23,819 [Thread-138] INFO  security.OzoneSecretStore (OzoneSecretStore.java:loadState(69)) - Loaded 0 tokens
2019-09-10 22:29:23,819 [Thread-138] INFO  security.OzoneDelegationTokenSecretManager (OzoneDelegationTokenSecretManager.java:loadTokenSecretState(421)) - Loading token state into token manager.
2019-09-10 22:29:23,828 [Thread-138] INFO  ipc.CallQueueManager (CallQueueManager.java:<init>(84)) - Using callQueue: class java.util.concurrent.LinkedBlockingQueue, queueCapacity: 2000, scheduler: class org.apache.hadoop.ipc.DefaultRpcScheduler, ipcBackoff: false.
2019-09-10 22:29:23,829 [Socket Reader #1 for port 9862] INFO  ipc.Server (Server.java:run(1074)) - Starting Socket Reader #1 for port 9862
2019-09-10 22:29:24,134 [Thread-138] INFO  om.OzoneManager (OzoneManager.java:start(1240)) - OzoneManager RPC server is listening at /0.0.0.0:9862
2019-09-10 22:29:24,152 [Thread-138] WARN  impl.MetricsConfig (MetricsConfig.java:loadFirst(134)) - Cannot locate configuration: tried hadoop-metrics2-ozonemanager.properties,hadoop-metrics2.properties
2019-09-10 22:29:24,153 [Thread-138] INFO  impl.MetricsSystemImpl (MetricsSystemImpl.java:startTimer(374)) - Scheduled Metric snapshot period at 10 second(s).
2019-09-10 22:29:24,153 [Thread-138] INFO  impl.MetricsSystemImpl (MetricsSystemImpl.java:start(191)) - OzoneManager metrics system started
2019-09-10 22:29:24,171 [Thread-138] WARN  impl.MetricsSystemImpl (MetricsSystemImpl.java:register(276)) - Sink prometheus already exists!
2019-09-10 22:29:24,175 [Thread-138] INFO  om.OzoneManager (OzoneManager.java:readKeyPair(884)) - Reading keypair and certificate from file system.
2019-09-10 22:29:24,176 [Thread-138] INFO  om.OzoneManager (OzoneManager.java:startSecretManager(861)) - Starting OM delegation token secret manager
2019-09-10 22:29:24,176 [Thread-138] INFO  security.OzoneDelegationTokenSecretManager (OzoneSecretManager.java:updateCurrentKey(167)) - Updating the current master key for generating tokens
2019-09-10 22:29:24,178 [Thread[Thread-147,5,main]] INFO  security.OzoneDelegationTokenSecretManager (OzoneDelegationTokenSecretManager.java:run(526)) - Starting expired delegation token remover thread, tokenRemoverScanInterval=60 min(s)
2019-09-10 22:29:24,179 [IPC Server Responder] INFO  ipc.Server (Server.java:run(1314)) - IPC Server Responder: starting
2019-09-10 22:29:24,179 [IPC Server listener on 9862] INFO  ipc.Server (Server.java:run(1153)) - IPC Server listener on 9862: starting
2019-09-10 22:29:24,184 [Thread-138] INFO  hdfs.DFSUtil (DFSUtil.java:httpServerTemplateForNNAndJN(1629)) - Starting web server as: HTTP_OM/pr-hdds-2007-qhgzt-2180668592@EXAMPLE.COM
2019-09-10 22:29:24,184 [Thread-138] INFO  hdfs.DFSUtil (DFSUtil.java:httpServerTemplateForNNAndJN(1641)) - Starting Web-server for ozoneManager at: http://0.0.0.0:9874
2019-09-10 22:29:24,186 [Thread-138] INFO  server.AuthenticationFilter (AuthenticationFilter.java:constructSecretProvider(240)) - Unable to initialize FileSignerSecretProvider, falling back to use random secrets.
2019-09-10 22:29:24,186 [Thread-138] WARN  http.HttpRequestLog (HttpRequestLog.java:getRequestLog(97)) - Jetty request log can only be enabled using Log4j
2019-09-10 22:29:24,188 [Thread-138] INFO  http.HttpServer2 (HttpServer2.java:addGlobalFilter(975)) - Added global filter 'safety' (class=org.apache.hadoop.http.HttpServer2$QuotingInputFilter)
2019-09-10 22:29:24,189 [Thread-138] INFO  http.HttpServer2 (HttpServer2.java:addFilter(948)) - Added filter static_user_filter (class=org.apache.hadoop.http.lib.StaticUserWebFilter$StaticUserFilter) to context ozoneManager
2019-09-10 22:29:24,189 [Thread-138] INFO  http.HttpServer2 (HttpServer2.java:addFilter(958)) - Added filter static_user_filter (class=org.apache.hadoop.http.lib.StaticUserWebFilter$StaticUserFilter) to context logs
2019-09-10 22:29:24,189 [Thread-138] INFO  http.HttpServer2 (HttpServer2.java:addFilter(958)) - Added filter static_user_filter (class=org.apache.hadoop.http.lib.StaticUserWebFilter$StaticUserFilter) to context static
2019-09-10 22:29:24,191 [Thread-138] INFO  http.HttpServer2 (HttpServer2.java:bindListener(1191)) - Jetty bound to port 9874
2019-09-10 22:29:24,191 [Thread-138] INFO  server.Server (Server.java:doStart(351)) - jetty-9.3.24.v20180605, build timestamp: 2018-06-05T17:11:56Z, git hash: 84205aa28f11a4f31f2a3b86d1bba2cc8ab69827
2019-09-10 22:29:24,194 [Thread-138] INFO  handler.ContextHandler (ContextHandler.java:doStart(781)) - Started o.e.j.s.ServletContextHandler@13df24e3{/logs,file:///workdir/hadoop-ozone/integration-test/target/log,AVAILABLE}
2019-09-10 22:29:24,195 [Thread-138] INFO  handler.ContextHandler (ContextHandler.java:doStart(781)) - Started o.e.j.s.ServletContextHandler@2fe3ad2{/static,file:///workdir/hadoop-ozone/integration-test/target/test-classes/webapps/static,AVAILABLE}
2019-09-10 22:29:24,202 [Thread-138] INFO  server.KerberosAuthenticationHandler (KerberosAuthenticationHandler.java:init(164)) - Using keytab /workdir/hadoop-ozone/integration-test/target/test-dir/TestSecureOzoneCluster/http.keytab, for principal HTTP_OM/pr-hdds-2007-qhgzt-2180668592@EXAMPLE.COM
2019-09-10 22:29:24,203 [Thread-138] INFO  handler.ContextHandler (ContextHandler.java:doStart(781)) - Started o.e.j.w.WebAppContext@7bb01044{/,file:///workdir/hadoop-ozone/integration-test/target/test-classes/webapps/ozoneManager/,AVAILABLE}{/ozoneManager}
2019-09-10 22:29:24,203 [Thread-138] INFO  server.AbstractConnector (AbstractConnector.java:doStart(278)) - Started ServerConnector@11808029{HTTP/1.1,[http/1.1]}{0.0.0.0:9874}
2019-09-10 22:29:24,204 [Thread-138] INFO  server.Server (Server.java:doStart(419)) - Started @13929ms
2019-09-10 22:29:24,204 [Thread-138] WARN  impl.MetricsSystemImpl (MetricsSystemImpl.java:register(276)) - Sink prometheus already exists!
2019-09-10 22:29:24,205 [Thread-138] INFO  server.BaseHttpServer (BaseHttpServer.java:updateConnectorAddress(215)) - HTTP server of OZONEMANAGER is listening at http://0.0.0.0:9874
2019-09-10 22:29:24,388 [pool-40-thread-1] INFO  request.TgsRequest (TgsRequest.java:issueTicket(115)) - TGS_REQ ISSUE: authtime 1568154564387,om/pr-hdds-2007-qhgzt-2180668592 for om/pr-hdds-2007-qhgzt-2180668592@EXAMPLE.COM
2019-09-10 22:29:24,400 [Socket Reader #1 for port 9862] INFO  ipc.Server (Server.java:saslProcess(1849)) - Auth successful for om/pr-hdds-2007-qhgzt-2180668592@EXAMPLE.COM (auth:KERBEROS)
2019-09-10 22:29:24,652 [IPC Server handler 0 on 9862] WARN  ipc.Server (Server.java:logException(2724)) - IPC Server handler 0 on 9862, call Call#5 Retry#0 org.apache.hadoop.ozone.om.protocol.OzoneManagerProtocol.submitRequest from 192.168.69.94:44036
java.lang.NullPointerException
	at org.apache.hadoop.ozone.security.OzoneDelegationTokenSecretManager.updateToken(OzoneDelegationTokenSecretManager.java:164)
	at org.apache.hadoop.ozone.om.request.security.OMGetDelegationTokenRequest.validateAndUpdateCache(OMGetDelegationTokenRequest.java:155)
	at org.apache.hadoop.ozone.protocolPB.OzoneManagerProtocolServerSideTranslatorPB.submitRequestDirectlyToOM(OzoneManagerProtocolServerSideTranslatorPB.java:242)
	at org.apache.hadoop.ozone.protocolPB.OzoneManagerProtocolServerSideTranslatorPB.processRequest(OzoneManagerProtocolServerSideTranslatorPB.java:157)
	at org.apache.hadoop.ozone.protocolPB.OzoneManagerProtocolServerSideTranslatorPB.submitRequest(OzoneManagerProtocolServerSideTranslatorPB.java:111)
	at org.apache.hadoop.ozone.protocol.proto.OzoneManagerProtocolProtos$OzoneManagerService$2.callBlockingMethod(OzoneManagerProtocolProtos.java)
	at org.apache.hadoop.ipc.ProtobufRpcEngine$Server$ProtoBufRpcInvoker.call(ProtobufRpcEngine.java:524)
	at org.apache.hadoop.ipc.RPC$Server.call(RPC.java:1025)
	at org.apache.hadoop.ipc.Server$RpcCall.run(Server.java:876)
	at org.apache.hadoop.ipc.Server$RpcCall.run(Server.java:822)
	at java.security.AccessController.doPrivileged(Native Method)
	at javax.security.auth.Subject.doAs(Subject.java:422)
	at org.apache.hadoop.security.UserGroupInformation.doAs(UserGroupInformation.java:1730)
	at org.apache.hadoop.ipc.Server$Handler.run(Server.java:2682)
2019-09-10 22:29:24,656 [Thread-138] INFO  ipc.Server (Server.java:stop(3082)) - Stopping server on 9862
2019-09-10 22:29:24,657 [IPC Server listener on 9862] INFO  ipc.Server (Server.java:run(1185)) - Stopping IPC Server listener on 9862
2019-09-10 22:29:24,657 [IPC Server Responder] INFO  ipc.Server (Server.java:run(1319)) - Stopping IPC Server Responder
2019-09-10 22:29:24,657 [Thread-138] INFO  ratis.OzoneManagerDoubleBuffer (OzoneManagerDoubleBuffer.java:stop(248)) - Stopping OMDoubleBuffer flush thread
2019-09-10 22:29:24,659 [OMDoubleBufferFlushThread] INFO  ratis.OzoneManagerDoubleBuffer (OzoneManagerDoubleBuffer.java:flushTransactions(191)) - OMDoubleBuffer flush thread OMDoubleBufferFlushThread is interrupted and will exit. OMDoubleBufferFlushThread
2019-09-10 22:29:24,659 [Thread-138] INFO  utils.BackgroundService (BackgroundService.java:shutdown(148)) - Shutting down service KeyDeletingService
2019-09-10 22:29:24,660 [Thread-138] INFO  om.OzoneManager (OzoneManager.java:stopSecretManager(831)) - Stopping OM delegation token secret manager.
2019-09-10 22:29:24,660 [Thread[Thread-147,5,main]] ERROR security.OzoneDelegationTokenSecretManager (OzoneDelegationTokenSecretManager.java:run(541)) - ExpiredTokenRemover received java.lang.InterruptedException: sleep interrupted
2019-09-10 22:29:24,661 [Thread-138] INFO  handler.ContextHandler (ContextHandler.java:doStop(910)) - Stopped o.e.j.w.WebAppContext@7bb01044{/,null,UNAVAILABLE}{/ozoneManager}
2019-09-10 22:29:24,662 [Thread-138] INFO  server.AbstractConnector (AbstractConnector.java:doStop(318)) - Stopped ServerConnector@11808029{HTTP/1.1,[http/1.1]}{0.0.0.0:9874}
2019-09-10 22:29:24,663 [Thread-138] INFO  handler.ContextHandler (ContextHandler.java:doStop(910)) - Stopped o.e.j.s.ServletContextHandler@2fe3ad2{/static,file:///workdir/hadoop-ozone/integration-test/target/test-classes/webapps/static,UNAVAILABLE}
2019-09-10 22:29:24,663 [Thread-138] INFO  handler.ContextHandler (ContextHandler.java:doStop(910)) - Stopped o.e.j.s.ServletContextHandler@13df24e3{/logs,file:///workdir/hadoop-ozone/integration-test/target/log,UNAVAILABLE}
2019-09-10 22:29:24,666 [Thread-138] INFO  impl.DefaultInternalKdcServerImpl (DefaultInternalKdcServerImpl.java:doStop(102)) - Default Internal kdc server stopped.
2019-09-10 22:29:25,666 [Thread-138] INFO  minikdc.MiniKdc (MiniKdc.java:stop(359)) - MiniKdc stopped.
2019-09-10 22:29:25,668 [Thread-138] INFO  ipc.Server (Server.java:stop(3082)) - Stopping server on 9862
2019-09-10 22:29:25,668 [Thread-138] INFO  ratis.OzoneManagerDoubleBuffer (OzoneManagerDoubleBuffer.java:stop(260)) - OMDoubleBuffer flush thread is not running.
2019-09-10 22:29:25,668 [Thread-138] INFO  om.OzoneManager (OzoneManager.java:stopSecretManager(831)) - Stopping OM delegation token secret manager.
2019-09-10 22:29:25,710 [Thread-179] INFO  minikdc.MiniKdc (MiniKdc.java:<init>(225)) - Configuration:
2019-09-10 22:29:25,711 [Thread-179] INFO  minikdc.MiniKdc (MiniKdc.java:<init>(226)) - ---------------------------------------------------------------
2019-09-10 22:29:25,711 [Thread-179] INFO  minikdc.MiniKdc (MiniKdc.java:<init>(228)) -   debug: false
2019-09-10 22:29:25,711 [Thread-179] INFO  minikdc.MiniKdc (MiniKdc.java:<init>(228)) -   transport: TCP
2019-09-10 22:29:25,711 [Thread-179] INFO  minikdc.MiniKdc (MiniKdc.java:<init>(228)) -   max.ticket.lifetime: 86400000
2019-09-10 22:29:25,711 [Thread-179] INFO  minikdc.MiniKdc (MiniKdc.java:<init>(228)) -   org.name: EXAMPLE
2019-09-10 22:29:25,712 [Thread-179] INFO  minikdc.MiniKdc (MiniKdc.java:<init>(228)) -   kdc.port: 0
2019-09-10 22:29:25,712 [Thread-179] INFO  minikdc.MiniKdc (MiniKdc.java:<init>(228)) -   org.domain: COM
2019-09-10 22:29:25,712 [Thread-179] INFO  minikdc.MiniKdc (MiniKdc.java:<init>(228)) -   max.renewable.lifetime: 604800000
2019-09-10 22:29:25,712 [Thread-179] INFO  minikdc.MiniKdc (MiniKdc.java:<init>(228)) -   instance: DefaultKrbServer
2019-09-10 22:29:25,712 [Thread-179] INFO  minikdc.MiniKdc (MiniKdc.java:<init>(228)) -   kdc.bind.address: localhost
2019-09-10 22:29:25,712 [Thread-179] INFO  minikdc.MiniKdc (MiniKdc.java:<init>(230)) - ---------------------------------------------------------------
2019-09-10 22:29:25,716 [Thread-179] INFO  minikdc.MiniKdc (MiniKdc.java:start(285)) - MiniKdc started.
2019-09-10 22:29:26,150 [Thread-179] WARN  server.ServerUtils (ServerUtils.java:getScmDbDir(145)) - ozone.scm.db.dirs is not configured. We recommend adding this setting. Falling back to ozone.metadata.dirs instead.
2019-09-10 22:29:26,176 [Thread-179] WARN  server.ServerUtils (ServerUtils.java:getScmDbDir(145)) - ozone.scm.db.dirs is not configured. We recommend adding this setting. Falling back to ozone.metadata.dirs instead.
2019-09-10 22:29:26,178 [Thread-179] WARN  server.ServerUtils (ServerUtils.java:getScmDbDir(145)) - ozone.scm.db.dirs is not configured. We recommend adding this setting. Falling back to ozone.metadata.dirs instead.
2019-09-10 22:29:26,190 [pool-53-thread-1] INFO  request.KdcRequest (KdcRequest.java:preauth(651)) - The preauth data is empty.
2019-09-10 22:29:26,190 [pool-53-thread-1] INFO  server.KdcHandler (KdcHandler.java:handleRecoverableException(177)) - KRB error occurred while processing request:Additional pre-authentication required
2019-09-10 22:29:26,201 [pool-53-thread-1] INFO  request.AsRequest (AsRequest.java:issueTicket(112)) - AS_REQ ISSUE: authtime 1568154566200,scm/pr-hdds-2007-qhgzt-2180668592@EXAMPLE.COM for krbtgt/EXAMPLE.COM@EXAMPLE.COM
2019-09-10 22:29:26,204 [Thread-179] INFO  security.UserGroupInformation (UserGroupInformation.java:loginUserFromKeytab(1009)) - Login successful for user scm/pr-hdds-2007-qhgzt-2180668592@EXAMPLE.COM using keytab file /workdir/hadoop-ozone/integration-test/target/test-dir/TestSecureOzoneCluster/scm.keytab
2019-09-10 22:29:26,204 [Thread-179] INFO  server.StorageContainerManager (StorageContainerManager.java:loginAsSCMUser(503)) - SCM login successful.
2019-09-10 22:29:26,205 [Thread-179] WARN  server.ServerUtils (ServerUtils.java:getScmDbDir(145)) - ozone.scm.db.dirs is not configured. We recommend adding this setting. Falling back to ozone.metadata.dirs instead.
2019-09-10 22:29:26,205 [Thread-179] INFO  db.DBStoreBuilder (DBStoreBuilder.java:addTable(110)) - using custom profile for table: deletedBlocks
2019-09-10 22:29:26,205 [Thread-179] INFO  db.DBStoreBuilder (DBStoreBuilder.java:processTables(161)) - Using default column profile:DBProfile.DISK for Table:deletedBlocks
2019-09-10 22:29:26,206 [Thread-179] INFO  db.DBStoreBuilder (DBStoreBuilder.java:addTable(110)) - using custom profile for table: validCerts
2019-09-10 22:29:26,206 [Thread-179] INFO  db.DBStoreBuilder (DBStoreBuilder.java:processTables(161)) - Using default column profile:DBProfile.DISK for Table:validCerts
2019-09-10 22:29:26,206 [Thread-179] INFO  db.DBStoreBuilder (DBStoreBuilder.java:addTable(110)) - using custom profile for table: revokedCerts
2019-09-10 22:29:26,206 [Thread-179] INFO  db.DBStoreBuilder (DBStoreBuilder.java:processTables(161)) - Using default column profile:DBProfile.DISK for Table:revokedCerts
2019-09-10 22:29:26,207 [Thread-179] INFO  db.DBStoreBuilder (DBStoreBuilder.java:addTable(110)) - using custom profile for table: default
2019-09-10 22:29:26,207 [Thread-179] INFO  db.DBStoreBuilder (DBStoreBuilder.java:processTables(167)) - Using default column profile:DBProfile.DISK for Table:default
2019-09-10 22:29:26,207 [Thread-179] INFO  db.DBStoreBuilder (DBStoreBuilder.java:getDbProfile(198)) - Using default options. DBProfile.DISK
2019-09-10 22:29:26,599 [Thread-179] INFO  ipc.CallQueueManager (CallQueueManager.java:<init>(84)) - Using callQueue: class java.util.concurrent.LinkedBlockingQueue, queueCapacity: 200, scheduler: class org.apache.hadoop.ipc.DefaultRpcScheduler, ipcBackoff: false.
2019-09-10 22:29:26,600 [Socket Reader #1 for port 9961] INFO  ipc.Server (Server.java:run(1074)) - Starting Socket Reader #1 for port 9961
2019-09-10 22:29:26,603 [Thread-179] INFO  net.NodeSchemaLoader (NodeSchemaLoader.java:loadSchemaFromFile(125)) - Loading file from sun.misc.CompoundEnumeration@20e95ab0
2019-09-10 22:29:26,603 [Thread-179] INFO  net.NodeSchemaLoader (NodeSchemaLoader.java:loadSchema(171)) - Loading network topology layer schema file
2019-09-10 22:29:26,607 [Thread-179] INFO  node.SCMNodeManager (SCMNodeManager.java:<init>(114)) - Entering startup safe mode.
2019-09-10 22:29:26,608 [Thread-179] INFO  algorithms.ContainerPlacementPolicyFactory (ContainerPlacementPolicyFactory.java:getPolicy(55)) - Create container placement policy of type org.apache.hadoop.hdds.scm.container.placement.algorithms.SCMContainerPlacementRandom
2019-09-10 22:29:26,609 [Thread-179] WARN  server.ServerUtils (ServerUtils.java:getScmDbDir(145)) - ozone.scm.db.dirs is not configured. We recommend adding this setting. Falling back to ozone.metadata.dirs instead.
2019-09-10 22:29:26,779 [Thread-179] INFO  pipeline.SCMPipelineManager (SCMPipelineManager.java:initializePipelineState(128)) - No pipeline exists in current db
2019-09-10 22:29:26,780 [Thread-179] WARN  server.ServerUtils (ServerUtils.java:getScmDbDir(145)) - ozone.scm.db.dirs is not configured. We recommend adding this setting. Falling back to ozone.metadata.dirs instead.
2019-09-10 22:29:26,929 [Thread-179] WARN  events.EventQueue (EventQueue.java:fireEvent(183)) - No event handler registered for event TypedEvent{payloadType=SafeModeStatus, name='SafeModeStatus'}
2019-09-10 22:29:26,932 [Thread-179] INFO  ipc.CallQueueManager (CallQueueManager.java:<init>(84)) - Using callQueue: class java.util.concurrent.LinkedBlockingQueue, queueCapacity: 1000, scheduler: class org.apache.hadoop.ipc.DefaultRpcScheduler, ipcBackoff: false.
2019-09-10 22:29:26,934 [Socket Reader #1 for port 45350] INFO  ipc.Server (Server.java:run(1074)) - Starting Socket Reader #1 for port 45350
2019-09-10 22:29:26,940 [Thread-179] INFO  ipc.CallQueueManager (CallQueueManager.java:<init>(84)) - Using callQueue: class java.util.concurrent.LinkedBlockingQueue, queueCapacity: 1000, scheduler: class org.apache.hadoop.ipc.DefaultRpcScheduler, ipcBackoff: false.
2019-09-10 22:29:26,941 [Socket Reader #1 for port 37177] INFO  ipc.Server (Server.java:run(1074)) - Starting Socket Reader #1 for port 37177
2019-09-10 22:29:26,945 [Thread-179] INFO  ipc.CallQueueManager (CallQueueManager.java:<init>(84)) - Using callQueue: class java.util.concurrent.LinkedBlockingQueue, queueCapacity: 1000, scheduler: class org.apache.hadoop.ipc.DefaultRpcScheduler, ipcBackoff: false.
2019-09-10 22:29:26,946 [Socket Reader #1 for port 44411] INFO  ipc.Server (Server.java:run(1074)) - Starting Socket Reader #1 for port 44411
2019-09-10 22:29:26,950 [Thread-179] INFO  hdfs.DFSUtil (DFSUtil.java:httpServerTemplateForNNAndJN(1629)) - Starting web server as: HTTP_SCM/pr-hdds-2007-qhgzt-2180668592@EXAMPLE.COM
2019-09-10 22:29:26,951 [Thread-179] INFO  hdfs.DFSUtil (DFSUtil.java:httpServerTemplateForNNAndJN(1641)) - Starting Web-server for scm at: http://0.0.0.0:0
2019-09-10 22:29:26,954 [Thread-179] INFO  server.AuthenticationFilter (AuthenticationFilter.java:constructSecretProvider(240)) - Unable to initialize FileSignerSecretProvider, falling back to use random secrets.
2019-09-10 22:29:26,954 [Thread-179] WARN  http.HttpRequestLog (HttpRequestLog.java:getRequestLog(97)) - Jetty request log can only be enabled using Log4j
2019-09-10 22:29:26,958 [Thread-179] INFO  http.HttpServer2 (HttpServer2.java:addGlobalFilter(975)) - Added global filter 'safety' (class=org.apache.hadoop.http.HttpServer2$QuotingInputFilter)
2019-09-10 22:29:26,959 [Thread-179] INFO  http.HttpServer2 (HttpServer2.java:addFilter(948)) - Added filter static_user_filter (class=org.apache.hadoop.http.lib.StaticUserWebFilter$StaticUserFilter) to context scm
2019-09-10 22:29:26,959 [Thread-179] INFO  http.HttpServer2 (HttpServer2.java:addFilter(958)) - Added filter static_user_filter (class=org.apache.hadoop.http.lib.StaticUserWebFilter$StaticUserFilter) to context logs
2019-09-10 22:29:26,960 [Thread-179] INFO  http.HttpServer2 (HttpServer2.java:addFilter(958)) - Added filter static_user_filter (class=org.apache.hadoop.http.lib.StaticUserWebFilter$StaticUserFilter) to context static
2019-09-10 22:29:26,972 [Thread-179] INFO  server.StorageContainerManager (StorageContainerManager.java:start(759)) - StorageContainerLocationProtocol RPC server is listening at /0.0.0.0:44411
2019-09-10 22:29:26,973 [Thread-179] INFO  impl.MetricsSystemImpl (MetricsSystemImpl.java:init(158)) - StorageContainerManager metrics system started (again)
2019-09-10 22:29:26,974 [Thread-179] INFO  server.SCMClientProtocolServer (SCMClientProtocolServer.java:start(151)) - RPC server for Client  is listening at /0.0.0.0:44411
2019-09-10 22:29:26,975 [IPC Server Responder] INFO  ipc.Server (Server.java:run(1314)) - IPC Server Responder: starting
2019-09-10 22:29:26,975 [IPC Server listener on 44411] INFO  ipc.Server (Server.java:run(1153)) - IPC Server listener on 44411: starting
2019-09-10 22:29:26,978 [Thread-179] INFO  server.StorageContainerManager (StorageContainerManager.java:start(769)) - ScmBlockLocationProtocol RPC server is listening at /0.0.0.0:37177
2019-09-10 22:29:26,978 [Thread-179] INFO  server.SCMBlockProtocolServer (SCMBlockProtocolServer.java:start(146)) - RPC server for Block Protocol is listening at /0.0.0.0:37177
2019-09-10 22:29:26,979 [IPC Server Responder] INFO  ipc.Server (Server.java:run(1314)) - IPC Server Responder: starting
2019-09-10 22:29:26,979 [IPC Server listener on 37177] INFO  ipc.Server (Server.java:run(1153)) - IPC Server listener on 37177: starting
2019-09-10 22:29:26,981 [Thread-179] INFO  server.StorageContainerManager (StorageContainerManager.java:start(773)) - ScmDatanodeProtocl RPC server is listening at /0.0.0.0:45350
2019-09-10 22:29:26,982 [Thread-179] INFO  server.SCMDatanodeProtocolServer (SCMDatanodeProtocolServer.java:start(191)) - RPC server for DataNodes is listening at /0.0.0.0:45350
2019-09-10 22:29:26,982 [IPC Server Responder] INFO  ipc.Server (Server.java:run(1314)) - IPC Server Responder: starting
2019-09-10 22:29:26,982 [IPC Server listener on 45350] INFO  ipc.Server (Server.java:run(1153)) - IPC Server listener on 45350: starting
2019-09-10 22:29:26,984 [Thread-179] INFO  server.SCMClientProtocolServer (SCMSecurityProtocolServer.java:start(197)) - Starting RPC server for SCMSecurityProtocolServer. is listening at /0.0.0.0:9961
2019-09-10 22:29:26,985 [IPC Server Responder] INFO  ipc.Server (Server.java:run(1314)) - IPC Server Responder: starting
2019-09-10 22:29:26,985 [IPC Server listener on 9961] INFO  ipc.Server (Server.java:run(1153)) - IPC Server listener on 9961: starting
2019-09-10 22:29:26,986 [Thread-179] INFO  http.HttpServer2 (HttpServer2.java:bindListener(1191)) - Jetty bound to port 44410
2019-09-10 22:29:26,987 [Thread-179] INFO  server.Server (Server.java:doStart(351)) - jetty-9.3.24.v20180605, build timestamp: 2018-06-05T17:11:56Z, git hash: 84205aa28f11a4f31f2a3b86d1bba2cc8ab69827
2019-09-10 22:29:26,989 [Thread-179] INFO  handler.ContextHandler (ContextHandler.java:doStart(781)) - Started o.e.j.s.ServletContextHandler@59cfbb1f{/logs,file:///workdir/hadoop-ozone/integration-test/target/log,AVAILABLE}
2019-09-10 22:29:26,990 [Thread-179] INFO  handler.ContextHandler (ContextHandler.java:doStart(781)) - Started o.e.j.s.ServletContextHandler@6e93a954{/static,file:///workdir/hadoop-ozone/integration-test/target/test-classes/webapps/static,AVAILABLE}
2019-09-10 22:29:26,997 [Thread-179] INFO  server.KerberosAuthenticationHandler (KerberosAuthenticationHandler.java:init(164)) - Using keytab /workdir/hadoop-ozone/integration-test/target/test-dir/TestSecureOzoneCluster/http.keytab, for principal HTTP_SCM/pr-hdds-2007-qhgzt-2180668592@EXAMPLE.COM
2019-09-10 22:29:27,000 [Thread-179] INFO  handler.ContextHandler (ContextHandler.java:doStart(781)) - Started o.e.j.w.WebAppContext@561c7121{/,file:///workdir/hadoop-ozone/integration-test/target/test-classes/webapps/scm/,AVAILABLE}{/scm}
2019-09-10 22:29:27,000 [Thread-179] INFO  server.AbstractConnector (AbstractConnector.java:doStart(278)) - Started ServerConnector@6d324735{HTTP/1.1,[http/1.1]}{0.0.0.0:44410}
2019-09-10 22:29:27,001 [Thread-179] INFO  server.Server (Server.java:doStart(419)) - Started @16726ms
2019-09-10 22:29:27,001 [Thread-179] WARN  impl.MetricsSystemImpl (MetricsSystemImpl.java:register(276)) - Sink prometheus already exists!
2019-09-10 22:29:27,002 [Thread-179] INFO  server.BaseHttpServer (BaseHttpServer.java:updateConnectorAddress(215)) - HTTP server of SCM is listening at http://0.0.0.0:44410
2019-09-10 22:29:27,003 [Thread-179] WARN  server.ServerUtils (ServerUtils.java:getDBPath(222)) - ozone.om.db.dirs is not configured. We recommend adding this setting. Falling back to ozone.metadata.dirs instead.
2019-09-10 22:29:27,003 [org.apache.hadoop.util.JvmPauseMonitor$Monitor@7f8b84b4] INFO  util.JvmPauseMonitor (JvmPauseMonitor.java:run(188)) - Starting JVM pause monitor
2019-09-10 22:29:27,004 [Thread-179] INFO  om.OzoneManager (OzoneManager.java:initializeSecurity(1105)) - Initializing secure OzoneManager.
2019-09-10 22:29:27,005 [Thread-179] ERROR client.OMCertificateClient (DefaultCertificateClient.java:getCertificate(212)) - Default certificate serial id is not set. Can't locate the default certificate for this client.
2019-09-10 22:29:27,006 [Thread-179] INFO  client.OMCertificateClient (DefaultCertificateClient.java:init(612)) - Certificate client init case: 0
2019-09-10 22:29:27,006 [Thread-179] INFO  client.OMCertificateClient (OMCertificateClient.java:handleCase(57)) - Creating keypair for client as keypair and certificate not found.
2019-09-10 22:29:27,193 [Thread-179] INFO  om.OzoneManager (OzoneManager.java:initializeSecurity(1111)) - Init response: GETCERT
2019-09-10 22:29:27,194 [Thread-179] INFO  ozone.OzoneSecurityUtil (OzoneSecurityUtil.java:getValidInetsForCurrentHost(103)) - Adding ip:192.168.69.94,host:pr-hdds-2007-qhgzt-2180668592
2019-09-10 22:29:27,194 [Thread-179] INFO  ozone.OzoneSecurityUtil (OzoneSecurityUtil.java:getValidInetsForCurrentHost(107)) - ip:127.0.0.1,host:localhost not returned.
2019-09-10 22:29:27,195 [Thread-179] INFO  om.OzoneManager (OzoneManager.java:getSCMSignedCert(1521)) - Creating csr for OM->dns:0.0.0.0,ip:0.0.0.0,scmId:14676bf4-806c-45e1-b251-0dabde78443b,clusterId:6499a7d4-3921-4348-ad15-fba88b94cd62,subject:scm@0.0.0.0
2019-09-10 22:29:27,200 [Thread-179] INFO  om.OzoneManager (OzoneManager.java:getSCMSignedCert(1538)) - OzoneManager ports added:[name: "RPC"
value: 9862
]
2019-09-10 22:29:27,216 [pool-53-thread-1] INFO  request.TgsRequest (TgsRequest.java:issueTicket(115)) - TGS_REQ ISSUE: authtime 1568154567215,scm/pr-hdds-2007-qhgzt-2180668592 for scm/pr-hdds-2007-qhgzt-2180668592@EXAMPLE.COM
2019-09-10 22:29:27,228 [Socket Reader #1 for port 9961] INFO  ipc.Server (Server.java:saslProcess(1849)) - Auth successful for scm/pr-hdds-2007-qhgzt-2180668592@EXAMPLE.COM (auth:KERBEROS)
2019-09-10 22:29:27,231 [IPC Server handler 0 on 9961] INFO  server.SCMClientProtocolServer (SCMSecurityProtocolServer.java:getOMCertificate(132)) - Processing CSR for om 0.0.0.0, UUID: f9aef1e7-f1f8-4847-8d21-0d8009867b7a
2019-09-10 22:29:27,272 [Thread-179] INFO  om.OzoneManager (OzoneManager.java:initializeSecurity(1118)) - Successfully stored SCM signed certificate.
2019-09-10 22:29:27,295 [pool-53-thread-1] INFO  request.KdcRequest (KdcRequest.java:preauth(651)) - The preauth data is empty.
2019-09-10 22:29:27,296 [pool-53-thread-1] INFO  server.KdcHandler (KdcHandler.java:handleRecoverableException(177)) - KRB error occurred while processing request:Additional pre-authentication required
2019-09-10 22:29:27,307 [pool-53-thread-1] INFO  request.AsRequest (AsRequest.java:issueTicket(112)) - AS_REQ ISSUE: authtime 1568154567306,om/pr-hdds-2007-qhgzt-2180668592@EXAMPLE.COM for krbtgt/EXAMPLE.COM@EXAMPLE.COM
2019-09-10 22:29:27,310 [Thread-179] INFO  security.UserGroupInformation (UserGroupInformation.java:loginUserFromKeytab(1009)) - Login successful for user om/pr-hdds-2007-qhgzt-2180668592@EXAMPLE.COM using keytab file /workdir/hadoop-ozone/integration-test/target/test-dir/TestSecureOzoneCluster/om.keytab
2019-09-10 22:29:27,310 [Thread-179] INFO  om.OzoneManager (OzoneManager.java:loginOMUser(923)) - Ozone Manager login successful.
2019-09-10 22:29:27,310 [Thread-179] WARN  server.ServerUtils (ServerUtils.java:getDBPath(222)) - ozone.om.db.dirs is not configured. We recommend adding this setting. Falling back to ozone.metadata.dirs instead.
2019-09-10 22:29:27,311 [Thread-179] WARN  server.ServerUtils (ServerUtils.java:getDBPath(222)) - ozone.om.db.dirs is not configured. We recommend adding this setting. Falling back to ozone.metadata.dirs instead.
2019-09-10 22:29:27,311 [Thread-179] INFO  om.OzoneManager (OzoneManager.java:setOMNodeDetails(649)) - OM Service ID is not set. Setting it to the default ID: omServiceIdDefault
2019-09-10 22:29:27,311 [Thread-179] INFO  om.OzoneManager (OzoneManager.java:setOMNodeDetails(655)) - OM Node ID is not set. Setting it to the OmStorage's OmID: f9aef1e7-f1f8-4847-8d21-0d8009867b7a
2019-09-10 22:29:27,312 [Thread-179] INFO  om.OzoneManager (OzoneManager.java:loadOMHAConfigs(606)) - Found matching OM address with OMServiceId: null, OMNodeId: null, RPC Address: 0.0.0.0:9862 and Ratis port: 9872
2019-09-10 22:29:27,314 [Thread-179] INFO  client.OMCertificateClient (DefaultCertificateClient.java:loadAllCertificates(115)) - Loading certificate from location:/tmp/junit8833287642165084067/junit4549787724650785292/scm-meta/om/certs.
2019-09-10 22:29:27,318 [Thread-179] INFO  client.OMCertificateClient (DefaultCertificateClient.java:loadAllCertificates(135)) - Added certificate from file:/tmp/junit8833287642165084067/junit4549787724650785292/scm-meta/om/certs/CA-1.crt.
2019-09-10 22:29:27,322 [Thread-179] INFO  client.OMCertificateClient (DefaultCertificateClient.java:loadAllCertificates(135)) - Added certificate from file:/tmp/junit8833287642165084067/junit4549787724650785292/scm-meta/om/certs/8501353358857488.crt.
2019-09-10 22:29:27,324 [Thread-179] WARN  server.ServerUtils (ServerUtils.java:getDBPath(222)) - ozone.om.db.dirs is not configured. We recommend adding this setting. Falling back to ozone.metadata.dirs instead.
2019-09-10 22:29:27,324 [Thread-179] INFO  db.DBStoreBuilder (DBStoreBuilder.java:addTable(110)) - using custom profile for table: userTable
2019-09-10 22:29:27,324 [Thread-179] INFO  db.DBStoreBuilder (DBStoreBuilder.java:processTables(161)) - Using default column profile:DBProfile.DISK for Table:userTable
2019-09-10 22:29:27,324 [Thread-179] INFO  db.DBStoreBuilder (DBStoreBuilder.java:addTable(110)) - using custom profile for table: volumeTable
2019-09-10 22:29:27,325 [Thread-179] INFO  db.DBStoreBuilder (DBStoreBuilder.java:processTables(161)) - Using default column profile:DBProfile.DISK for Table:volumeTable
2019-09-10 22:29:27,325 [Thread-179] INFO  db.DBStoreBuilder (DBStoreBuilder.java:addTable(110)) - using custom profile for table: bucketTable
2019-09-10 22:29:27,325 [Thread-179] INFO  db.DBStoreBuilder (DBStoreBuilder.java:processTables(161)) - Using default column profile:DBProfile.DISK for Table:bucketTable
2019-09-10 22:29:27,325 [Thread-179] INFO  db.DBStoreBuilder (DBStoreBuilder.java:addTable(110)) - using custom profile for table: keyTable
2019-09-10 22:29:27,325 [Thread-179] INFO  db.DBStoreBuilder (DBStoreBuilder.java:processTables(161)) - Using default column profile:DBProfile.DISK for Table:keyTable
2019-09-10 22:29:27,326 [Thread-179] INFO  db.DBStoreBuilder (DBStoreBuilder.java:addTable(110)) - using custom profile for table: deletedTable
2019-09-10 22:29:27,326 [Thread-179] INFO  db.DBStoreBuilder (DBStoreBuilder.java:processTables(161)) - Using default column profile:DBProfile.DISK for Table:deletedTable
2019-09-10 22:29:27,326 [Thread-179] INFO  db.DBStoreBuilder (DBStoreBuilder.java:addTable(110)) - using custom profile for table: openKeyTable
2019-09-10 22:29:27,326 [Thread-179] INFO  db.DBStoreBuilder (DBStoreBuilder.java:processTables(161)) - Using default column profile:DBProfile.DISK for Table:openKeyTable
2019-09-10 22:29:27,327 [Thread-179] INFO  db.DBStoreBuilder (DBStoreBuilder.java:addTable(110)) - using custom profile for table: s3Table
2019-09-10 22:29:27,327 [Thread-179] INFO  db.DBStoreBuilder (DBStoreBuilder.java:processTables(161)) - Using default column profile:DBProfile.DISK for Table:s3Table
2019-09-10 22:29:27,327 [Thread-179] INFO  db.DBStoreBuilder (DBStoreBuilder.java:addTable(110)) - using custom profile for table: multipartInfoTable
2019-09-10 22:29:27,327 [Thread-179] INFO  db.DBStoreBuilder (DBStoreBuilder.java:processTables(161)) - Using default column profile:DBProfile.DISK for Table:multipartInfoTable
2019-09-10 22:29:27,327 [Thread-179] INFO  db.DBStoreBuilder (DBStoreBuilder.java:addTable(110)) - using custom profile for table: dTokenTable
2019-09-10 22:29:27,328 [Thread-179] INFO  db.DBStoreBuilder (DBStoreBuilder.java:processTables(161)) - Using default column profile:DBProfile.DISK for Table:dTokenTable
2019-09-10 22:29:27,328 [Thread-179] INFO  db.DBStoreBuilder (DBStoreBuilder.java:addTable(110)) - using custom profile for table: s3SecretTable
2019-09-10 22:29:27,328 [Thread-179] INFO  db.DBStoreBuilder (DBStoreBuilder.java:processTables(161)) - Using default column profile:DBProfile.DISK for Table:s3SecretTable
2019-09-10 22:29:27,328 [Thread-179] INFO  db.DBStoreBuilder (DBStoreBuilder.java:addTable(110)) - using custom profile for table: prefixTable
2019-09-10 22:29:27,328 [Thread-179] INFO  db.DBStoreBuilder (DBStoreBuilder.java:processTables(161)) - Using default column profile:DBProfile.DISK for Table:prefixTable
2019-09-10 22:29:27,329 [Thread-179] INFO  db.DBStoreBuilder (DBStoreBuilder.java:addTable(110)) - using custom profile for table: default
2019-09-10 22:29:27,329 [Thread-179] INFO  db.DBStoreBuilder (DBStoreBuilder.java:processTables(167)) - Using default column profile:DBProfile.DISK for Table:default
2019-09-10 22:29:27,329 [Thread-179] INFO  db.DBStoreBuilder (DBStoreBuilder.java:getDbProfile(198)) - Using default options. DBProfile.DISK
2019-09-10 22:29:28,082 [Thread-179] INFO  Configuration.deprecation (Configuration.java:logDeprecation(1394)) - No unit for ozone.manager.delegation.remover.scan.interval(3600000) assuming MILLISECONDS
2019-09-10 22:29:28,082 [Thread-179] INFO  security.OzoneSecretStore (OzoneSecretStore.java:loadState(69)) - Loaded 0 tokens
2019-09-10 22:29:28,082 [Thread-179] INFO  security.OzoneDelegationTokenSecretManager (OzoneDelegationTokenSecretManager.java:loadTokenSecretState(421)) - Loading token state into token manager.
2019-09-10 22:29:28,087 [Thread-179] INFO  ipc.CallQueueManager (CallQueueManager.java:<init>(84)) - Using callQueue: class java.util.concurrent.LinkedBlockingQueue, queueCapacity: 2000, scheduler: class org.apache.hadoop.ipc.DefaultRpcScheduler, ipcBackoff: false.
2019-09-10 22:29:28,088 [Socket Reader #1 for port 9862] INFO  ipc.Server (Server.java:run(1074)) - Starting Socket Reader #1 for port 9862
2019-09-10 22:29:28,116 [Thread-179] INFO  server.StorageContainerManager (StorageContainerManager.java:stop(797)) - Stopping Replication Manager Service.
2019-09-10 22:29:28,116 [Thread-179] INFO  container.ReplicationManager (ReplicationManager.java:stop(209)) - Replication Monitor Thread is not running.
2019-09-10 22:29:28,116 [Thread-179] INFO  server.StorageContainerManager (StorageContainerManager.java:stop(804)) - Stopping Lease Manager of the command watchers
2019-09-10 22:29:28,116 [Thread-179] INFO  server.StorageContainerManager (StorageContainerManager.java:stop(811)) - Stopping datanode service RPC server
2019-09-10 22:29:28,116 [Thread-179] INFO  server.SCMDatanodeProtocolServer (SCMDatanodeProtocolServer.java:stop(367)) - Stopping the RPC server for DataNodes
2019-09-10 22:29:28,117 [Thread-179] INFO  ipc.Server (Server.java:stop(3082)) - Stopping server on 45350
2019-09-10 22:29:28,118 [IPC Server Responder] INFO  ipc.Server (Server.java:run(1319)) - Stopping IPC Server Responder
2019-09-10 22:29:28,118 [IPC Server listener on 45350] INFO  ipc.Server (Server.java:run(1185)) - Stopping IPC Server listener on 45350
2019-09-10 22:29:29,608 [SCM Heartbeat Processing Thread - 0] WARN  node.NodeStateManager (NodeStateManager.java:scheduleNextHealthCheck(646)) - Current Thread is interrupted, shutting down HB processing thread for Node Manager.
2019-09-10 22:29:29,608 [Thread-179] INFO  server.StorageContainerManager (StorageContainerManager.java:stop(819)) - Stopping block service RPC server
2019-09-10 22:29:29,608 [Thread-179] INFO  server.SCMBlockProtocolServer (SCMBlockProtocolServer.java:stop(155)) - Stopping the RPC server for Block Protocol
2019-09-10 22:29:29,609 [Thread-179] INFO  ipc.Server (Server.java:stop(3082)) - Stopping server on 37177
2019-09-10 22:29:29,610 [IPC Server listener on 37177] INFO  ipc.Server (Server.java:run(1185)) - Stopping IPC Server listener on 37177
2019-09-10 22:29:29,610 [Thread-179] INFO  server.StorageContainerManager (StorageContainerManager.java:stop(826)) - Stopping the StorageContainerLocationProtocol RPC server
2019-09-10 22:29:29,611 [Thread-179] INFO  server.SCMClientProtocolServer (SCMClientProtocolServer.java:stop(159)) - Stopping the RPC server for Client Protocol
2019-09-10 22:29:29,611 [Thread-179] INFO  ipc.Server (Server.java:stop(3082)) - Stopping server on 44411
2019-09-10 22:29:29,610 [IPC Server Responder] INFO  ipc.Server (Server.java:run(1319)) - Stopping IPC Server Responder
2019-09-10 22:29:29,612 [IPC Server listener on 44411] INFO  ipc.Server (Server.java:run(1185)) - Stopping IPC Server listener on 44411
2019-09-10 22:29:29,612 [IPC Server Responder] INFO  ipc.Server (Server.java:run(1319)) - Stopping IPC Server Responder
2019-09-10 22:29:29,612 [Thread-179] INFO  server.StorageContainerManager (StorageContainerManager.java:stop(833)) - Stopping Storage Container Manager HTTP server.
2019-09-10 22:29:29,613 [Thread-179] INFO  handler.ContextHandler (ContextHandler.java:doStop(910)) - Stopped o.e.j.w.WebAppContext@561c7121{/,null,UNAVAILABLE}{/scm}
2019-09-10 22:29:29,614 [Thread-179] INFO  server.AbstractConnector (AbstractConnector.java:doStop(318)) - Stopped ServerConnector@6d324735{HTTP/1.1,[http/1.1]}{0.0.0.0:0}
2019-09-10 22:29:29,615 [Thread-179] INFO  handler.ContextHandler (ContextHandler.java:doStop(910)) - Stopped o.e.j.s.ServletContextHandler@6e93a954{/static,file:///workdir/hadoop-ozone/integration-test/target/test-classes/webapps/static,UNAVAILABLE}
2019-09-10 22:29:29,615 [Thread-179] INFO  handler.ContextHandler (ContextHandler.java:doStop(910)) - Stopped o.e.j.s.ServletContextHandler@59cfbb1f{/logs,file:///workdir/hadoop-ozone/integration-test/target/log,UNAVAILABLE}
2019-09-10 22:29:29,616 [Thread-179] INFO  server.SCMClientProtocolServer (SCMSecurityProtocolServer.java:stop(204)) - Stopping the SCMSecurityProtocolServer.
2019-09-10 22:29:29,616 [Thread-179] INFO  ipc.Server (Server.java:stop(3082)) - Stopping server on 9961
2019-09-10 22:29:29,617 [IPC Server listener on 9961] INFO  ipc.Server (Server.java:run(1185)) - Stopping IPC Server listener on 9961
2019-09-10 22:29:29,617 [Thread-179] INFO  server.StorageContainerManager (StorageContainerManager.java:stop(844)) - Stopping Block Manager Service.
2019-09-10 22:29:29,617 [IPC Server Responder] INFO  ipc.Server (Server.java:run(1319)) - Stopping IPC Server Responder
2019-09-10 22:29:29,617 [Thread-179] INFO  utils.BackgroundService (BackgroundService.java:shutdown(148)) - Shutting down service SCMBlockDeletingService
2019-09-10 22:29:29,618 [Thread-179] INFO  utils.BackgroundService (BackgroundService.java:shutdown(148)) - Shutting down service SCMBlockDeletingService
2019-09-10 22:29:29,618 [Thread-179] INFO  server.StorageContainerManager (StorageContainerManager.java:stop(866)) - Stopping SCM Event Queue.
2019-09-10 22:29:29,621 [Thread-179] INFO  impl.MetricsSystemImpl (MetricsSystemImpl.java:stop(210)) - Stopping StorageContainerManager metrics system...
2019-09-10 22:29:29,626 [Thread-179] INFO  impl.MetricsSystemImpl (MetricsSystemImpl.java:stop(216)) - StorageContainerManager metrics system stopped.
2019-09-10 22:29:29,627 [Thread-179] INFO  ipc.Server (Server.java:stop(3082)) - Stopping server on 9862
2019-09-10 22:29:29,627 [Thread-179] INFO  ratis.OzoneManagerDoubleBuffer (OzoneManagerDoubleBuffer.java:stop(248)) - Stopping OMDoubleBuffer flush thread
2019-09-10 22:29:29,627 [OMDoubleBufferFlushThread] INFO  ratis.OzoneManagerDoubleBuffer (OzoneManagerDoubleBuffer.java:flushTransactions(191)) - OMDoubleBuffer flush thread OMDoubleBufferFlushThread is interrupted and will exit. OMDoubleBufferFlushThread
2019-09-10 22:29:29,627 [Thread-179] INFO  utils.BackgroundService (BackgroundService.java:shutdown(148)) - Shutting down service KeyDeletingService
2019-09-10 22:29:29,628 [Thread-179] INFO  om.OzoneManager (OzoneManager.java:stopSecretManager(831)) - Stopping OM delegation token secret manager.
2019-09-10 22:29:29,629 [Thread-179] INFO  impl.DefaultInternalKdcServerImpl (DefaultInternalKdcServerImpl.java:doStop(102)) - Default Internal kdc server stopped.
2019-09-10 22:29:30,629 [Thread-179] INFO  minikdc.MiniKdc (MiniKdc.java:stop(359)) - MiniKdc stopped.
2019-09-10 22:29:30,630 [Thread-179] INFO  server.StorageContainerManager (StorageContainerManager.java:stop(797)) - Stopping Replication Manager Service.
2019-09-10 22:29:30,630 [Thread-179] INFO  container.ReplicationManager (ReplicationManager.java:stop(209)) - Replication Monitor Thread is not running.
2019-09-10 22:29:30,631 [Thread-179] INFO  server.StorageContainerManager (StorageContainerManager.java:stop(804)) - Stopping Lease Manager of the command watchers
2019-09-10 22:29:30,631 [Thread-179] ERROR server.StorageContainerManager (StorageContainerManager.java:stop(807)) - Lease Manager of the command watchers stop failed
2019-09-10 22:29:30,631 [Thread-179] INFO  server.StorageContainerManager (StorageContainerManager.java:stop(811)) - Stopping datanode service RPC server
2019-09-10 22:29:30,631 [Thread-179] INFO  server.SCMDatanodeProtocolServer (SCMDatanodeProtocolServer.java:stop(367)) - Stopping the RPC server for DataNodes
2019-09-10 22:29:30,632 [Thread-179] INFO  ipc.Server (Server.java:stop(3082)) - Stopping server on 45350
2019-09-10 22:29:30,632 [Thread-179] INFO  server.StorageContainerManager (StorageContainerManager.java:stop(819)) - Stopping block service RPC server
2019-09-10 22:29:30,632 [Thread-179] INFO  server.SCMBlockProtocolServer (SCMBlockProtocolServer.java:stop(155)) - Stopping the RPC server for Block Protocol
2019-09-10 22:29:30,632 [Thread-179] INFO  ipc.Server (Server.java:stop(3082)) - Stopping server on 37177
2019-09-10 22:29:30,633 [Thread-179] INFO  server.StorageContainerManager (StorageContainerManager.java:stop(826)) - Stopping the StorageContainerLocationProtocol RPC server
2019-09-10 22:29:30,633 [Thread-179] INFO  server.SCMClientProtocolServer (SCMClientProtocolServer.java:stop(159)) - Stopping the RPC server for Client Protocol
2019-09-10 22:29:30,633 [Thread-179] INFO  ipc.Server (Server.java:stop(3082)) - Stopping server on 44411
2019-09-10 22:29:30,633 [Thread-179] INFO  server.StorageContainerManager (StorageContainerManager.java:stop(833)) - Stopping Storage Container Manager HTTP server.
2019-09-10 22:29:30,634 [Thread-179] INFO  server.SCMClientProtocolServer (SCMSecurityProtocolServer.java:stop(204)) - Stopping the SCMSecurityProtocolServer.
2019-09-10 22:29:30,634 [Thread-179] INFO  ipc.Server (Server.java:stop(3082)) - Stopping server on 9961
2019-09-10 22:29:30,634 [Thread-179] INFO  server.StorageContainerManager (StorageContainerManager.java:stop(844)) - Stopping Block Manager Service.
2019-09-10 22:29:30,634 [Thread-179] INFO  utils.BackgroundService (BackgroundService.java:shutdown(148)) - Shutting down service SCMBlockDeletingService
2019-09-10 22:29:30,635 [Thread-179] INFO  utils.BackgroundService (BackgroundService.java:shutdown(148)) - Shutting down service SCMBlockDeletingService
2019-09-10 22:29:30,635 [Thread-179] INFO  server.StorageContainerManager (StorageContainerManager.java:stop(866)) - Stopping SCM Event Queue.
2019-09-10 22:29:30,636 [Thread-179] INFO  impl.MetricsSystemImpl (MetricsSystemImpl.java:stop(205)) - StorageContainerManager metrics system stopped (again)
2019-09-10 22:29:30,636 [Thread-179] INFO  ipc.Server (Server.java:stop(3082)) - Stopping server on 9862
2019-09-10 22:29:30,636 [Thread-179] INFO  ratis.OzoneManagerDoubleBuffer (OzoneManagerDoubleBuffer.java:stop(260)) - OMDoubleBuffer flush thread is not running.
2019-09-10 22:29:30,637 [Thread-179] INFO  om.OzoneManager (OzoneManager.java:stopSecretManager(831)) - Stopping OM delegation token secret manager.
2019-09-10 22:29:30,660 [Thread-244] INFO  minikdc.MiniKdc (MiniKdc.java:<init>(225)) - Configuration:
2019-09-10 22:29:30,660 [Thread-244] INFO  minikdc.MiniKdc (MiniKdc.java:<init>(226)) - ---------------------------------------------------------------
2019-09-10 22:29:30,660 [Thread-244] INFO  minikdc.MiniKdc (MiniKdc.java:<init>(228)) -   debug: false
2019-09-10 22:29:30,660 [Thread-244] INFO  minikdc.MiniKdc (MiniKdc.java:<init>(228)) -   transport: TCP
2019-09-10 22:29:30,660 [Thread-244] INFO  minikdc.MiniKdc (MiniKdc.java:<init>(228)) -   max.ticket.lifetime: 86400000
2019-09-10 22:29:30,660 [Thread-244] INFO  minikdc.MiniKdc (MiniKdc.java:<init>(228)) -   org.name: EXAMPLE
2019-09-10 22:29:30,660 [Thread-244] INFO  minikdc.MiniKdc (MiniKdc.java:<init>(228)) -   kdc.port: 0
2019-09-10 22:29:30,660 [Thread-244] INFO  minikdc.MiniKdc (MiniKdc.java:<init>(228)) -   org.domain: COM
2019-09-10 22:29:30,661 [Thread-244] INFO  minikdc.MiniKdc (MiniKdc.java:<init>(228)) -   max.renewable.lifetime: 604800000
2019-09-10 22:29:30,661 [Thread-244] INFO  minikdc.MiniKdc (MiniKdc.java:<init>(228)) -   instance: DefaultKrbServer
2019-09-10 22:29:30,661 [Thread-244] INFO  minikdc.MiniKdc (MiniKdc.java:<init>(228)) -   kdc.bind.address: localhost
2019-09-10 22:29:30,661 [Thread-244] INFO  minikdc.MiniKdc (MiniKdc.java:<init>(230)) - ---------------------------------------------------------------
2019-09-10 22:29:30,663 [Thread-244] INFO  minikdc.MiniKdc (MiniKdc.java:start(285)) - MiniKdc started.
2019-09-10 22:29:30,833 [Thread-244] WARN  server.ServerUtils (ServerUtils.java:getScmDbDir(145)) - ozone.scm.db.dirs is not configured. We recommend adding this setting. Falling back to ozone.metadata.dirs instead.
2019-09-10 22:29:30,858 [Thread-244] WARN  server.ServerUtils (ServerUtils.java:getScmDbDir(145)) - ozone.scm.db.dirs is not configured. We recommend adding this setting. Falling back to ozone.metadata.dirs instead.
2019-09-10 22:29:30,868 [pool-71-thread-1] INFO  request.KdcRequest (KdcRequest.java:preauth(651)) - The preauth data is empty.
2019-09-10 22:29:30,869 [pool-71-thread-1] INFO  server.KdcHandler (KdcHandler.java:handleRecoverableException(177)) - KRB error occurred while processing request:Additional pre-authentication required
2019-09-10 22:29:30,879 [pool-71-thread-1] INFO  request.AsRequest (AsRequest.java:issueTicket(112)) - AS_REQ ISSUE: authtime 1568154570878,scm/pr-hdds-2007-qhgzt-2180668592@EXAMPLE.COM for krbtgt/EXAMPLE.COM@EXAMPLE.COM
2019-09-10 22:29:30,882 [Thread-244] INFO  security.UserGroupInformation (UserGroupInformation.java:loginUserFromKeytab(1009)) - Login successful for user scm/pr-hdds-2007-qhgzt-2180668592@EXAMPLE.COM using keytab file /workdir/hadoop-ozone/integration-test/target/test-dir/TestSecureOzoneCluster/scm.keytab
2019-09-10 22:29:30,882 [Thread-244] INFO  server.StorageContainerManager (StorageContainerManager.java:loginAsSCMUser(503)) - SCM login successful.
2019-09-10 22:29:30,882 [Thread-244] WARN  server.ServerUtils (ServerUtils.java:getScmDbDir(145)) - ozone.scm.db.dirs is not configured. We recommend adding this setting. Falling back to ozone.metadata.dirs instead.
2019-09-10 22:29:30,883 [Thread-244] INFO  db.DBStoreBuilder (DBStoreBuilder.java:addTable(110)) - using custom profile for table: deletedBlocks
2019-09-10 22:29:30,883 [Thread-244] INFO  db.DBStoreBuilder (DBStoreBuilder.java:processTables(161)) - Using default column profile:DBProfile.DISK for Table:deletedBlocks
2019-09-10 22:29:30,883 [Thread-244] INFO  db.DBStoreBuilder (DBStoreBuilder.java:addTable(110)) - using custom profile for table: validCerts
2019-09-10 22:29:30,883 [Thread-244] INFO  db.DBStoreBuilder (DBStoreBuilder.java:processTables(161)) - Using default column profile:DBProfile.DISK for Table:validCerts
2019-09-10 22:29:30,884 [Thread-244] INFO  db.DBStoreBuilder (DBStoreBuilder.java:addTable(110)) - using custom profile for table: revokedCerts
2019-09-10 22:29:30,884 [Thread-244] INFO  db.DBStoreBuilder (DBStoreBuilder.java:processTables(161)) - Using default column profile:DBProfile.DISK for Table:revokedCerts
2019-09-10 22:29:30,884 [Thread-244] INFO  db.DBStoreBuilder (DBStoreBuilder.java:addTable(110)) - using custom profile for table: default
2019-09-10 22:29:30,884 [Thread-244] INFO  db.DBStoreBuilder (DBStoreBuilder.java:processTables(167)) - Using default column profile:DBProfile.DISK for Table:default
2019-09-10 22:29:30,884 [Thread-244] INFO  db.DBStoreBuilder (DBStoreBuilder.java:getDbProfile(198)) - Using default options. DBProfile.DISK
2019-09-10 22:29:31,415 [Thread-244] INFO  ipc.CallQueueManager (CallQueueManager.java:<init>(84)) - Using callQueue: class java.util.concurrent.LinkedBlockingQueue, queueCapacity: 200, scheduler: class org.apache.hadoop.ipc.DefaultRpcScheduler, ipcBackoff: false.
2019-09-10 22:29:31,417 [Socket Reader #1 for port 9961] INFO  ipc.Server (Server.java:run(1074)) - Starting Socket Reader #1 for port 9961
2019-09-10 22:29:31,419 [Thread-244] INFO  net.NodeSchemaLoader (NodeSchemaLoader.java:loadSchemaFromFile(125)) - Loading file from sun.misc.CompoundEnumeration@65c196bd
2019-09-10 22:29:31,419 [Thread-244] INFO  net.NodeSchemaLoader (NodeSchemaLoader.java:loadSchema(171)) - Loading network topology layer schema file
2019-09-10 22:29:31,423 [Thread-244] INFO  node.SCMNodeManager (SCMNodeManager.java:<init>(114)) - Entering startup safe mode.
2019-09-10 22:29:31,423 [Thread-244] INFO  algorithms.ContainerPlacementPolicyFactory (ContainerPlacementPolicyFactory.java:getPolicy(55)) - Create container placement policy of type org.apache.hadoop.hdds.scm.container.placement.algorithms.SCMContainerPlacementRandom
2019-09-10 22:29:31,423 [Thread-244] WARN  server.ServerUtils (ServerUtils.java:getScmDbDir(145)) - ozone.scm.db.dirs is not configured. We recommend adding this setting. Falling back to ozone.metadata.dirs instead.
2019-09-10 22:29:31,517 [Thread-244] INFO  pipeline.SCMPipelineManager (SCMPipelineManager.java:initializePipelineState(128)) - No pipeline exists in current db
2019-09-10 22:29:31,517 [Thread-244] WARN  server.ServerUtils (ServerUtils.java:getScmDbDir(145)) - ozone.scm.db.dirs is not configured. We recommend adding this setting. Falling back to ozone.metadata.dirs instead.
2019-09-10 22:29:31,635 [Thread-244] WARN  events.EventQueue (EventQueue.java:fireEvent(183)) - No event handler registered for event TypedEvent{payloadType=SafeModeStatus, name='SafeModeStatus'}
2019-09-10 22:29:31,636 [Thread-244] INFO  ipc.CallQueueManager (CallQueueManager.java:<init>(84)) - Using callQueue: class java.util.concurrent.LinkedBlockingQueue, queueCapacity: 1000, scheduler: class org.apache.hadoop.ipc.DefaultRpcScheduler, ipcBackoff: false.
2019-09-10 22:29:31,637 [Socket Reader #1 for port 9861] INFO  ipc.Server (Server.java:run(1074)) - Starting Socket Reader #1 for port 9861
2019-09-10 22:29:31,639 [Thread-244] INFO  ipc.CallQueueManager (CallQueueManager.java:<init>(84)) - Using callQueue: class java.util.concurrent.LinkedBlockingQueue, queueCapacity: 1000, scheduler: class org.apache.hadoop.ipc.DefaultRpcScheduler, ipcBackoff: false.
2019-09-10 22:29:31,640 [Socket Reader #1 for port 9863] INFO  ipc.Server (Server.java:run(1074)) - Starting Socket Reader #1 for port 9863
2019-09-10 22:29:31,642 [Thread-244] INFO  ipc.CallQueueManager (CallQueueManager.java:<init>(84)) - Using callQueue: class java.util.concurrent.LinkedBlockingQueue, queueCapacity: 1000, scheduler: class org.apache.hadoop.ipc.DefaultRpcScheduler, ipcBackoff: false.
2019-09-10 22:29:31,643 [Socket Reader #1 for port 9860] INFO  ipc.Server (Server.java:run(1074)) - Starting Socket Reader #1 for port 9860
2019-09-10 22:29:31,646 [Thread-244] INFO  hdfs.DFSUtil (DFSUtil.java:httpServerTemplateForNNAndJN(1629)) - Starting web server as: HTTP_SCM/pr-hdds-2007-qhgzt-2180668592@EXAMPLE.COM
2019-09-10 22:29:31,647 [Thread-244] INFO  hdfs.DFSUtil (DFSUtil.java:httpServerTemplateForNNAndJN(1641)) - Starting Web-server for scm at: http://0.0.0.0:9876
2019-09-10 22:29:31,648 [Thread-244] INFO  server.AuthenticationFilter (AuthenticationFilter.java:constructSecretProvider(240)) - Unable to initialize FileSignerSecretProvider, falling back to use random secrets.
2019-09-10 22:29:31,649 [Thread-244] WARN  http.HttpRequestLog (HttpRequestLog.java:getRequestLog(97)) - Jetty request log can only be enabled using Log4j
2019-09-10 22:29:31,651 [Thread-244] INFO  http.HttpServer2 (HttpServer2.java:addGlobalFilter(975)) - Added global filter 'safety' (class=org.apache.hadoop.http.HttpServer2$QuotingInputFilter)
2019-09-10 22:29:31,652 [Thread-244] INFO  http.HttpServer2 (HttpServer2.java:addFilter(948)) - Added filter static_user_filter (class=org.apache.hadoop.http.lib.StaticUserWebFilter$StaticUserFilter) to context scm
2019-09-10 22:29:31,652 [Thread-244] INFO  http.HttpServer2 (HttpServer2.java:addFilter(958)) - Added filter static_user_filter (class=org.apache.hadoop.http.lib.StaticUserWebFilter$StaticUserFilter) to context logs
2019-09-10 22:29:31,652 [Thread-244] INFO  http.HttpServer2 (HttpServer2.java:addFilter(958)) - Added filter static_user_filter (class=org.apache.hadoop.http.lib.StaticUserWebFilter$StaticUserFilter) to context static
2019-09-10 22:29:31,655 [Thread-244] WARN  server.ServerUtils (ServerUtils.java:getDBPath(222)) - ozone.om.db.dirs is not configured. We recommend adding this setting. Falling back to ozone.metadata.dirs instead.
2019-09-10 22:29:31,675 [pool-71-thread-1] INFO  request.KdcRequest (KdcRequest.java:preauth(651)) - The preauth data is empty.
2019-09-10 22:29:31,676 [pool-71-thread-1] INFO  server.KdcHandler (KdcHandler.java:handleRecoverableException(177)) - KRB error occurred while processing request:Additional pre-authentication required
2019-09-10 22:29:31,730 [pool-71-thread-1] INFO  request.AsRequest (AsRequest.java:issueTicket(112)) - AS_REQ ISSUE: authtime 1568154571729,om/pr-hdds-2007-qhgzt-2180668592@EXAMPLE.COM for krbtgt/EXAMPLE.COM@EXAMPLE.COM
2019-09-10 22:29:31,735 [Thread-244] INFO  security.UserGroupInformation (UserGroupInformation.java:loginUserFromKeytab(1009)) - Login successful for user om/pr-hdds-2007-qhgzt-2180668592@EXAMPLE.COM using keytab file /workdir/hadoop-ozone/integration-test/target/test-dir/TestSecureOzoneCluster/om.keytab
2019-09-10 22:29:31,736 [Thread-244] INFO  om.OzoneManager (OzoneManager.java:loginOMUser(923)) - Ozone Manager login successful.
2019-09-10 22:29:31,736 [Thread-244] WARN  server.ServerUtils (ServerUtils.java:getDBPath(222)) - ozone.om.db.dirs is not configured. We recommend adding this setting. Falling back to ozone.metadata.dirs instead.
2019-09-10 22:29:31,737 [Thread-244] WARN  server.ServerUtils (ServerUtils.java:getDBPath(222)) - ozone.om.db.dirs is not configured. We recommend adding this setting. Falling back to ozone.metadata.dirs instead.
2019-09-10 22:29:31,737 [Thread-244] INFO  om.OzoneManager (OzoneManager.java:setOMNodeDetails(649)) - OM Service ID is not set. Setting it to the default ID: omServiceIdDefault
2019-09-10 22:29:31,737 [Thread-244] INFO  om.OzoneManager (OzoneManager.java:setOMNodeDetails(655)) - OM Node ID is not set. Setting it to the OmStorage's OmID: fa641b8a-337d-42d9-87fb-086f9817c656
2019-09-10 22:29:31,738 [Thread-244] INFO  om.OzoneManager (OzoneManager.java:loadOMHAConfigs(606)) - Found matching OM address with OMServiceId: null, OMNodeId: null, RPC Address: 0.0.0.0:9862 and Ratis port: 9872
2019-09-10 22:29:31,743 [Thread-244] WARN  server.ServerUtils (ServerUtils.java:getDBPath(222)) - ozone.om.db.dirs is not configured. We recommend adding this setting. Falling back to ozone.metadata.dirs instead.
2019-09-10 22:29:31,743 [Thread-244] INFO  db.DBStoreBuilder (DBStoreBuilder.java:addTable(110)) - using custom profile for table: userTable
2019-09-10 22:29:31,744 [Thread-244] INFO  db.DBStoreBuilder (DBStoreBuilder.java:processTables(161)) - Using default column profile:DBProfile.DISK for Table:userTable
2019-09-10 22:29:31,744 [Thread-244] INFO  db.DBStoreBuilder (DBStoreBuilder.java:addTable(110)) - using custom profile for table: volumeTable
2019-09-10 22:29:31,744 [Thread-244] INFO  db.DBStoreBuilder (DBStoreBuilder.java:processTables(161)) - Using default column profile:DBProfile.DISK for Table:volumeTable
2019-09-10 22:29:31,744 [Thread-244] INFO  db.DBStoreBuilder (DBStoreBuilder.java:addTable(110)) - using custom profile for table: bucketTable
2019-09-10 22:29:31,744 [Thread-244] INFO  db.DBStoreBuilder (DBStoreBuilder.java:processTables(161)) - Using default column profile:DBProfile.DISK for Table:bucketTable
2019-09-10 22:29:31,745 [Thread-244] INFO  db.DBStoreBuilder (DBStoreBuilder.java:addTable(110)) - using custom profile for table: keyTable
2019-09-10 22:29:31,745 [Thread-244] INFO  db.DBStoreBuilder (DBStoreBuilder.java:processTables(161)) - Using default column profile:DBProfile.DISK for Table:keyTable
2019-09-10 22:29:31,745 [Thread-244] INFO  db.DBStoreBuilder (DBStoreBuilder.java:addTable(110)) - using custom profile for table: deletedTable
2019-09-10 22:29:31,745 [Thread-244] INFO  db.DBStoreBuilder (DBStoreBuilder.java:processTables(161)) - Using default column profile:DBProfile.DISK for Table:deletedTable
2019-09-10 22:29:31,746 [Thread-244] INFO  db.DBStoreBuilder (DBStoreBuilder.java:addTable(110)) - using custom profile for table: openKeyTable
2019-09-10 22:29:31,746 [Thread-244] INFO  db.DBStoreBuilder (DBStoreBuilder.java:processTables(161)) - Using default column profile:DBProfile.DISK for Table:openKeyTable
2019-09-10 22:29:31,746 [Thread-244] INFO  db.DBStoreBuilder (DBStoreBuilder.java:addTable(110)) - using custom profile for table: s3Table
2019-09-10 22:29:31,746 [Thread-244] INFO  db.DBStoreBuilder (DBStoreBuilder.java:processTables(161)) - Using default column profile:DBProfile.DISK for Table:s3Table
2019-09-10 22:29:31,746 [Thread-244] INFO  db.DBStoreBuilder (DBStoreBuilder.java:addTable(110)) - using custom profile for table: multipartInfoTable
2019-09-10 22:29:31,747 [Thread-244] INFO  db.DBStoreBuilder (DBStoreBuilder.java:processTables(161)) - Using default column profile:DBProfile.DISK for Table:multipartInfoTable
2019-09-10 22:29:31,747 [Thread-244] INFO  db.DBStoreBuilder (DBStoreBuilder.java:addTable(110)) - using custom profile for table: dTokenTable
2019-09-10 22:29:31,747 [Thread-244] INFO  db.DBStoreBuilder (DBStoreBuilder.java:processTables(161)) - Using default column profile:DBProfile.DISK for Table:dTokenTable
2019-09-10 22:29:31,747 [Thread-244] INFO  db.DBStoreBuilder (DBStoreBuilder.java:addTable(110)) - using custom profile for table: s3SecretTable
2019-09-10 22:29:31,747 [Thread-244] INFO  db.DBStoreBuilder (DBStoreBuilder.java:processTables(161)) - Using default column profile:DBProfile.DISK for Table:s3SecretTable
2019-09-10 22:29:31,748 [Thread-244] INFO  db.DBStoreBuilder (DBStoreBuilder.java:addTable(110)) - using custom profile for table: prefixTable
2019-09-10 22:29:31,748 [Thread-244] INFO  db.DBStoreBuilder (DBStoreBuilder.java:processTables(161)) - Using default column profile:DBProfile.DISK for Table:prefixTable
2019-09-10 22:29:31,748 [Thread-244] INFO  db.DBStoreBuilder (DBStoreBuilder.java:addTable(110)) - using custom profile for table: default
2019-09-10 22:29:31,748 [Thread-244] INFO  db.DBStoreBuilder (DBStoreBuilder.java:processTables(167)) - Using default column profile:DBProfile.DISK for Table:default
2019-09-10 22:29:31,749 [Thread-244] INFO  db.DBStoreBuilder (DBStoreBuilder.java:getDbProfile(198)) - Using default options. DBProfile.DISK
2019-09-10 22:29:32,469 [Thread-244] INFO  Configuration.deprecation (Configuration.java:logDeprecation(1394)) - No unit for ozone.manager.delegation.remover.scan.interval(3600000) assuming MILLISECONDS
2019-09-10 22:29:32,470 [Thread-244] INFO  security.OzoneSecretStore (OzoneSecretStore.java:loadState(69)) - Loaded 0 tokens
2019-09-10 22:29:32,470 [Thread-244] INFO  security.OzoneDelegationTokenSecretManager (OzoneDelegationTokenSecretManager.java:loadTokenSecretState(421)) - Loading token state into token manager.
2019-09-10 22:29:32,473 [Thread-244] INFO  ipc.CallQueueManager (CallQueueManager.java:<init>(84)) - Using callQueue: class java.util.concurrent.LinkedBlockingQueue, queueCapacity: 2000, scheduler: class org.apache.hadoop.ipc.DefaultRpcScheduler, ipcBackoff: false.
2019-09-10 22:29:32,474 [Socket Reader #1 for port 9862] INFO  ipc.Server (Server.java:run(1074)) - Starting Socket Reader #1 for port 9862
2019-09-10 22:29:32,494 [Thread-244] INFO  om.OzoneManager (OzoneManager.java:start(1240)) - OzoneManager RPC server is listening at /0.0.0.0:9862
2019-09-10 22:29:32,496 [Thread-244] WARN  impl.MetricsConfig (MetricsConfig.java:loadFirst(134)) - Cannot locate configuration: tried hadoop-metrics2-ozonemanager.properties,hadoop-metrics2.properties
2019-09-10 22:29:32,498 [Thread-244] INFO  impl.MetricsSystemImpl (MetricsSystemImpl.java:startTimer(374)) - Scheduled Metric snapshot period at 10 second(s).
2019-09-10 22:29:32,498 [Thread-244] INFO  impl.MetricsSystemImpl (MetricsSystemImpl.java:start(191)) - OzoneManager metrics system started
2019-09-10 22:29:32,527 [Thread-244] WARN  impl.MetricsSystemImpl (MetricsSystemImpl.java:register(276)) - Sink prometheus already exists!
2019-09-10 22:29:32,535 [Thread-244] INFO  om.OzoneManager (OzoneManager.java:readKeyPair(884)) - Reading keypair and certificate from file system.
2019-09-10 22:29:32,536 [Thread-244] ERROR om.OzoneManager (OzoneManager.java:startSecretManager(845)) - Unable to read key pair for OM.
org.apache.hadoop.ozone.security.OzoneSecurityException: Error reading keypair & certificate OzoneManager.
	at org.apache.hadoop.ozone.om.OzoneManager.readKeyPair(OzoneManager.java:891)
	at org.apache.hadoop.ozone.om.OzoneManager.startSecretManager(OzoneManager.java:843)
	at org.apache.hadoop.ozone.om.OzoneManager.startSecretManagerIfNecessary(OzoneManager.java:1486)
	at org.apache.hadoop.ozone.om.OzoneManager.start(OzoneManager.java:1254)
	at org.apache.hadoop.ozone.TestSecureOzoneCluster.testSecureOmInitializationSuccess(TestSecureOzoneCluster.java:408)
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.lang.reflect.Method.invoke(Method.java:498)
	at org.junit.runners.model.FrameworkMethod$1.runReflectiveCall(FrameworkMethod.java:47)
	at org.junit.internal.runners.model.ReflectiveCallable.run(ReflectiveCallable.java:12)
	at org.junit.runners.model.FrameworkMethod.invokeExplosively(FrameworkMethod.java:44)
	at org.junit.internal.runners.statements.InvokeMethod.evaluate(InvokeMethod.java:17)
	at org.junit.internal.runners.statements.RunBefores.evaluate(RunBefores.java:26)
	at org.junit.internal.runners.statements.RunAfters.evaluate(RunAfters.java:27)
	at org.junit.internal.runners.statements.FailOnTimeout$StatementThread.run(FailOnTimeout.java:74)
Caused by: java.lang.NullPointerException
	at java.util.Objects.requireNonNull(Objects.java:203)
	at org.apache.hadoop.ozone.om.OzoneManager.readKeyPair(OzoneManager.java:887)
	... 15 more
2019-09-10 22:29:32,537 [Thread-244] INFO  impl.DefaultInternalKdcServerImpl (DefaultInternalKdcServerImpl.java:doStop(102)) - Default Internal kdc server stopped.
2019-09-10 22:29:33,549 [Thread-244] INFO  minikdc.MiniKdc (MiniKdc.java:stop(359)) - MiniKdc stopped.
2019-09-10 22:29:33,549 [Thread-244] INFO  server.StorageContainerManager (StorageContainerManager.java:stop(797)) - Stopping Replication Manager Service.
2019-09-10 22:29:33,549 [Thread-244] INFO  container.ReplicationManager (ReplicationManager.java:stop(209)) - Replication Monitor Thread is not running.
2019-09-10 22:29:33,549 [Thread-244] INFO  server.StorageContainerManager (StorageContainerManager.java:stop(804)) - Stopping Lease Manager of the command watchers
2019-09-10 22:29:33,549 [Thread-244] ERROR server.StorageContainerManager (StorageContainerManager.java:stop(807)) - Lease Manager of the command watchers stop failed
2019-09-10 22:29:33,549 [Thread-244] INFO  server.StorageContainerManager (StorageContainerManager.java:stop(811)) - Stopping datanode service RPC server
2019-09-10 22:29:33,550 [Thread-244] INFO  server.SCMDatanodeProtocolServer (SCMDatanodeProtocolServer.java:stop(367)) - Stopping the RPC server for DataNodes
2019-09-10 22:29:33,550 [Thread-244] INFO  ipc.Server (Server.java:stop(3082)) - Stopping server on 9861
2019-09-10 22:29:34,423 [SCM Heartbeat Processing Thread - 0] WARN  node.NodeStateManager (NodeStateManager.java:scheduleNextHealthCheck(646)) - Current Thread is interrupted, shutting down HB processing thread for Node Manager.
2019-09-10 22:29:34,423 [Thread-244] INFO  server.StorageContainerManager (StorageContainerManager.java:stop(819)) - Stopping block service RPC server
2019-09-10 22:29:34,424 [Thread-244] INFO  server.SCMBlockProtocolServer (SCMBlockProtocolServer.java:stop(155)) - Stopping the RPC server for Block Protocol
2019-09-10 22:29:34,424 [Thread-244] INFO  ipc.Server (Server.java:stop(3082)) - Stopping server on 9863
2019-09-10 22:29:34,424 [Thread-244] INFO  server.StorageContainerManager (StorageContainerManager.java:stop(826)) - Stopping the StorageContainerLocationProtocol RPC server
2019-09-10 22:29:34,424 [Thread-244] INFO  server.SCMClientProtocolServer (SCMClientProtocolServer.java:stop(159)) - Stopping the RPC server for Client Protocol
2019-09-10 22:29:34,425 [Thread-244] INFO  ipc.Server (Server.java:stop(3082)) - Stopping server on 9860
2019-09-10 22:29:34,425 [Thread-244] INFO  server.StorageContainerManager (StorageContainerManager.java:stop(833)) - Stopping Storage Container Manager HTTP server.
2019-09-10 22:29:34,425 [Thread-244] INFO  server.SCMClientProtocolServer (SCMSecurityProtocolServer.java:stop(204)) - Stopping the SCMSecurityProtocolServer.
2019-09-10 22:29:34,426 [Thread-244] INFO  ipc.Server (Server.java:stop(3082)) - Stopping server on 9961
2019-09-10 22:29:34,426 [Thread-244] INFO  server.StorageContainerManager (StorageContainerManager.java:stop(844)) - Stopping Block Manager Service.
2019-09-10 22:29:34,426 [Thread-244] INFO  utils.BackgroundService (BackgroundService.java:shutdown(148)) - Shutting down service SCMBlockDeletingService
2019-09-10 22:29:34,426 [Thread-244] INFO  utils.BackgroundService (BackgroundService.java:shutdown(148)) - Shutting down service SCMBlockDeletingService
2019-09-10 22:29:34,427 [Thread-244] INFO  server.StorageContainerManager (StorageContainerManager.java:stop(866)) - Stopping SCM Event Queue.
2019-09-10 22:29:34,430 [Thread-244] INFO  ipc.Server (Server.java:stop(3082)) - Stopping server on 9862
2019-09-10 22:29:34,431 [Thread-244] INFO  ratis.OzoneManagerDoubleBuffer (OzoneManagerDoubleBuffer.java:stop(248)) - Stopping OMDoubleBuffer flush thread
2019-09-10 22:29:34,431 [OMDoubleBufferFlushThread] INFO  ratis.OzoneManagerDoubleBuffer (OzoneManagerDoubleBuffer.java:flushTransactions(191)) - OMDoubleBuffer flush thread OMDoubleBufferFlushThread is interrupted and will exit. OMDoubleBufferFlushThread
2019-09-10 22:29:34,432 [Thread-244] INFO  utils.BackgroundService (BackgroundService.java:shutdown(148)) - Shutting down service KeyDeletingService
2019-09-10 22:29:34,432 [Thread-244] INFO  om.OzoneManager (OzoneManager.java:stopSecretManager(831)) - Stopping OM delegation token secret manager.
2019-09-10 22:29:34,467 [Thread-265] INFO  minikdc.MiniKdc (MiniKdc.java:<init>(225)) - Configuration:
2019-09-10 22:29:34,467 [Thread-265] INFO  minikdc.MiniKdc (MiniKdc.java:<init>(226)) - ---------------------------------------------------------------
2019-09-10 22:29:34,467 [Thread-265] INFO  minikdc.MiniKdc (MiniKdc.java:<init>(228)) -   debug: false
2019-09-10 22:29:34,468 [Thread-265] INFO  minikdc.MiniKdc (MiniKdc.java:<init>(228)) -   transport: TCP
2019-09-10 22:29:34,468 [Thread-265] INFO  minikdc.MiniKdc (MiniKdc.java:<init>(228)) -   max.ticket.lifetime: 86400000
2019-09-10 22:29:34,468 [Thread-265] INFO  minikdc.MiniKdc (MiniKdc.java:<init>(228)) -   org.name: EXAMPLE
2019-09-10 22:29:34,468 [Thread-265] INFO  minikdc.MiniKdc (MiniKdc.java:<init>(228)) -   kdc.port: 0
2019-09-10 22:29:34,468 [Thread-265] INFO  minikdc.MiniKdc (MiniKdc.java:<init>(228)) -   org.domain: COM
2019-09-10 22:29:34,468 [Thread-265] INFO  minikdc.MiniKdc (MiniKdc.java:<init>(228)) -   max.renewable.lifetime: 604800000
2019-09-10 22:29:34,469 [Thread-265] INFO  minikdc.MiniKdc (MiniKdc.java:<init>(228)) -   instance: DefaultKrbServer
2019-09-10 22:29:34,469 [Thread-265] INFO  minikdc.MiniKdc (MiniKdc.java:<init>(228)) -   kdc.bind.address: localhost
2019-09-10 22:29:34,469 [Thread-265] INFO  minikdc.MiniKdc (MiniKdc.java:<init>(230)) - ---------------------------------------------------------------
2019-09-10 22:29:34,472 [Thread-265] INFO  minikdc.MiniKdc (MiniKdc.java:start(285)) - MiniKdc started.
2019-09-10 22:29:34,655 [Thread-265] WARN  server.ServerUtils (ServerUtils.java:getDBPath(222)) - ozone.om.db.dirs is not configured. We recommend adding this setting. Falling back to ozone.metadata.dirs instead.
2019-09-10 22:29:34,681 [pool-88-thread-1] INFO  request.KdcRequest (KdcRequest.java:preauth(651)) - The preauth data is empty.
2019-09-10 22:29:34,682 [pool-88-thread-1] INFO  server.KdcHandler (KdcHandler.java:handleRecoverableException(177)) - KRB error occurred while processing request:Additional pre-authentication required
2019-09-10 22:29:34,696 [pool-88-thread-1] INFO  request.AsRequest (AsRequest.java:issueTicket(112)) - AS_REQ ISSUE: authtime 1568154574696,om/pr-hdds-2007-qhgzt-2180668592@EXAMPLE.COM for krbtgt/EXAMPLE.COM@EXAMPLE.COM
2019-09-10 22:29:34,700 [Thread-265] INFO  security.UserGroupInformation (UserGroupInformation.java:loginUserFromKeytab(1009)) - Login successful for user om/pr-hdds-2007-qhgzt-2180668592@EXAMPLE.COM using keytab file /workdir/hadoop-ozone/integration-test/target/test-dir/TestSecureOzoneCluster/om.keytab
2019-09-10 22:29:34,700 [Thread-265] INFO  om.OzoneManager (OzoneManager.java:loginOMUser(923)) - Ozone Manager login successful.
2019-09-10 22:29:34,700 [Thread-265] WARN  server.ServerUtils (ServerUtils.java:getDBPath(222)) - ozone.om.db.dirs is not configured. We recommend adding this setting. Falling back to ozone.metadata.dirs instead.
2019-09-10 22:29:34,701 [Thread-265] WARN  server.ServerUtils (ServerUtils.java:getDBPath(222)) - ozone.om.db.dirs is not configured. We recommend adding this setting. Falling back to ozone.metadata.dirs instead.
2019-09-10 22:29:34,701 [Thread-265] INFO  om.OzoneManager (OzoneManager.java:setOMNodeDetails(649)) - OM Service ID is not set. Setting it to the default ID: omServiceIdDefault
2019-09-10 22:29:34,702 [Thread-265] INFO  om.OzoneManager (OzoneManager.java:setOMNodeDetails(655)) - OM Node ID is not set. Setting it to the OmStorage's OmID: 963b1f1c-2146-429a-a760-9ab8bcadb777
2019-09-10 22:29:34,702 [Thread-265] INFO  om.OzoneManager (OzoneManager.java:loadOMHAConfigs(606)) - Found matching OM address with OMServiceId: null, OMNodeId: null, RPC Address: 0.0.0.0:9862 and Ratis port: 9872
2019-09-10 22:29:34,706 [Thread-265] WARN  server.ServerUtils (ServerUtils.java:getDBPath(222)) - ozone.om.db.dirs is not configured. We recommend adding this setting. Falling back to ozone.metadata.dirs instead.
2019-09-10 22:29:34,707 [Thread-265] INFO  db.DBStoreBuilder (DBStoreBuilder.java:addTable(110)) - using custom profile for table: userTable
2019-09-10 22:29:34,707 [Thread-265] INFO  db.DBStoreBuilder (DBStoreBuilder.java:processTables(161)) - Using default column profile:DBProfile.DISK for Table:userTable
2019-09-10 22:29:34,707 [Thread-265] INFO  db.DBStoreBuilder (DBStoreBuilder.java:addTable(110)) - using custom profile for table: volumeTable
2019-09-10 22:29:34,707 [Thread-265] INFO  db.DBStoreBuilder (DBStoreBuilder.java:processTables(161)) - Using default column profile:DBProfile.DISK for Table:volumeTable
2019-09-10 22:29:34,708 [Thread-265] INFO  db.DBStoreBuilder (DBStoreBuilder.java:addTable(110)) - using custom profile for table: bucketTable
2019-09-10 22:29:34,708 [Thread-265] INFO  db.DBStoreBuilder (DBStoreBuilder.java:processTables(161)) - Using default column profile:DBProfile.DISK for Table:bucketTable
2019-09-10 22:29:34,708 [Thread-265] INFO  db.DBStoreBuilder (DBStoreBuilder.java:addTable(110)) - using custom profile for table: keyTable
2019-09-10 22:29:34,708 [Thread-265] INFO  db.DBStoreBuilder (DBStoreBuilder.java:processTables(161)) - Using default column profile:DBProfile.DISK for Table:keyTable
2019-09-10 22:29:34,708 [Thread-265] INFO  db.DBStoreBuilder (DBStoreBuilder.java:addTable(110)) - using custom profile for table: deletedTable
2019-09-10 22:29:34,708 [Thread-265] INFO  db.DBStoreBuilder (DBStoreBuilder.java:processTables(161)) - Using default column profile:DBProfile.DISK for Table:deletedTable
2019-09-10 22:29:34,709 [Thread-265] INFO  db.DBStoreBuilder (DBStoreBuilder.java:addTable(110)) - using custom profile for table: openKeyTable
2019-09-10 22:29:34,709 [Thread-265] INFO  db.DBStoreBuilder (DBStoreBuilder.java:processTables(161)) - Using default column profile:DBProfile.DISK for Table:openKeyTable
2019-09-10 22:29:34,709 [Thread-265] INFO  db.DBStoreBuilder (DBStoreBuilder.java:addTable(110)) - using custom profile for table: s3Table
2019-09-10 22:29:34,709 [Thread-265] INFO  db.DBStoreBuilder (DBStoreBuilder.java:processTables(161)) - Using default column profile:DBProfile.DISK for Table:s3Table
2019-09-10 22:29:34,709 [Thread-265] INFO  db.DBStoreBuilder (DBStoreBuilder.java:addTable(110)) - using custom profile for table: multipartInfoTable
2019-09-10 22:29:34,710 [Thread-265] INFO  db.DBStoreBuilder (DBStoreBuilder.java:processTables(161)) - Using default column profile:DBProfile.DISK for Table:multipartInfoTable
2019-09-10 22:29:34,710 [Thread-265] INFO  db.DBStoreBuilder (DBStoreBuilder.java:addTable(110)) - using custom profile for table: dTokenTable
2019-09-10 22:29:34,710 [Thread-265] INFO  db.DBStoreBuilder (DBStoreBuilder.java:processTables(161)) - Using default column profile:DBProfile.DISK for Table:dTokenTable
2019-09-10 22:29:34,710 [Thread-265] INFO  db.DBStoreBuilder (DBStoreBuilder.java:addTable(110)) - using custom profile for table: s3SecretTable
2019-09-10 22:29:34,710 [Thread-265] INFO  db.DBStoreBuilder (DBStoreBuilder.java:processTables(161)) - Using default column profile:DBProfile.DISK for Table:s3SecretTable
2019-09-10 22:29:34,710 [Thread-265] INFO  db.DBStoreBuilder (DBStoreBuilder.java:addTable(110)) - using custom profile for table: prefixTable
2019-09-10 22:29:34,711 [Thread-265] INFO  db.DBStoreBuilder (DBStoreBuilder.java:processTables(161)) - Using default column profile:DBProfile.DISK for Table:prefixTable
2019-09-10 22:29:34,711 [Thread-265] INFO  db.DBStoreBuilder (DBStoreBuilder.java:addTable(110)) - using custom profile for table: default
2019-09-10 22:29:34,711 [Thread-265] INFO  db.DBStoreBuilder (DBStoreBuilder.java:processTables(167)) - Using default column profile:DBProfile.DISK for Table:default
2019-09-10 22:29:34,711 [Thread-265] INFO  db.DBStoreBuilder (DBStoreBuilder.java:getDbProfile(198)) - Using default options. DBProfile.DISK
2019-09-10 22:29:35,463 [Thread-265] INFO  Configuration.deprecation (Configuration.java:logDeprecation(1394)) - No unit for ozone.manager.delegation.remover.scan.interval(3600000) assuming MILLISECONDS
2019-09-10 22:29:35,463 [Thread-265] INFO  security.OzoneSecretStore (OzoneSecretStore.java:loadState(69)) - Loaded 0 tokens
2019-09-10 22:29:35,463 [Thread-265] INFO  security.OzoneDelegationTokenSecretManager (OzoneDelegationTokenSecretManager.java:loadTokenSecretState(421)) - Loading token state into token manager.
2019-09-10 22:29:35,467 [Thread-265] INFO  ipc.CallQueueManager (CallQueueManager.java:<init>(84)) - Using callQueue: class java.util.concurrent.LinkedBlockingQueue, queueCapacity: 2000, scheduler: class org.apache.hadoop.ipc.DefaultRpcScheduler, ipcBackoff: false.
2019-09-10 22:29:35,468 [Socket Reader #1 for port 9862] INFO  ipc.Server (Server.java:run(1074)) - Starting Socket Reader #1 for port 9862
2019-09-10 22:29:35,627 [Thread-265] INFO  om.OzoneManager (OzoneManager.java:start(1240)) - OzoneManager RPC server is listening at /0.0.0.0:9862
2019-09-10 22:29:35,627 [Thread-265] INFO  impl.MetricsSystemImpl (MetricsSystemImpl.java:init(158)) - OzoneManager metrics system started (again)
2019-09-10 22:29:35,627 [Thread-265] INFO  om.OzoneManager (OzoneManager.java:readKeyPair(884)) - Reading keypair and certificate from file system.
2019-09-10 22:29:35,627 [Thread-265] INFO  om.OzoneManager (OzoneManager.java:startSecretManager(861)) - Starting OM delegation token secret manager
2019-09-10 22:29:35,628 [Thread-265] INFO  security.OzoneDelegationTokenSecretManager (OzoneSecretManager.java:updateCurrentKey(167)) - Updating the current master key for generating tokens
2019-09-10 22:29:35,628 [Thread[Thread-273,5,main]] INFO  security.OzoneDelegationTokenSecretManager (OzoneDelegationTokenSecretManager.java:run(526)) - Starting expired delegation token remover thread, tokenRemoverScanInterval=60 min(s)
2019-09-10 22:29:35,629 [IPC Server Responder] INFO  ipc.Server (Server.java:run(1314)) - IPC Server Responder: starting
2019-09-10 22:29:35,629 [IPC Server listener on 9862] INFO  ipc.Server (Server.java:run(1153)) - IPC Server listener on 9862: starting
2019-09-10 22:29:35,633 [Thread-265] INFO  hdfs.DFSUtil (DFSUtil.java:httpServerTemplateForNNAndJN(1629)) - Starting web server as: HTTP_OM/pr-hdds-2007-qhgzt-2180668592@EXAMPLE.COM
2019-09-10 22:29:35,634 [Thread-265] INFO  hdfs.DFSUtil (DFSUtil.java:httpServerTemplateForNNAndJN(1641)) - Starting Web-server for ozoneManager at: http://0.0.0.0:9874
2019-09-10 22:29:35,636 [Thread-265] INFO  server.AuthenticationFilter (AuthenticationFilter.java:constructSecretProvider(240)) - Unable to initialize FileSignerSecretProvider, falling back to use random secrets.
2019-09-10 22:29:35,636 [Thread-265] WARN  http.HttpRequestLog (HttpRequestLog.java:getRequestLog(97)) - Jetty request log can only be enabled using Log4j
2019-09-10 22:29:35,639 [Thread-265] INFO  http.HttpServer2 (HttpServer2.java:addGlobalFilter(975)) - Added global filter 'safety' (class=org.apache.hadoop.http.HttpServer2$QuotingInputFilter)
2019-09-10 22:29:35,640 [Thread-265] INFO  http.HttpServer2 (HttpServer2.java:addFilter(948)) - Added filter static_user_filter (class=org.apache.hadoop.http.lib.StaticUserWebFilter$StaticUserFilter) to context ozoneManager
2019-09-10 22:29:35,640 [Thread-265] INFO  http.HttpServer2 (HttpServer2.java:addFilter(958)) - Added filter static_user_filter (class=org.apache.hadoop.http.lib.StaticUserWebFilter$StaticUserFilter) to context static
2019-09-10 22:29:35,640 [Thread-265] INFO  http.HttpServer2 (HttpServer2.java:addFilter(958)) - Added filter static_user_filter (class=org.apache.hadoop.http.lib.StaticUserWebFilter$StaticUserFilter) to context logs
2019-09-10 22:29:35,642 [Thread-265] INFO  http.HttpServer2 (HttpServer2.java:bindListener(1191)) - Jetty bound to port 9874
2019-09-10 22:29:35,642 [Thread-265] INFO  server.Server (Server.java:doStart(351)) - jetty-9.3.24.v20180605, build timestamp: 2018-06-05T17:11:56Z, git hash: 84205aa28f11a4f31f2a3b86d1bba2cc8ab69827
2019-09-10 22:29:35,644 [Thread-265] INFO  handler.ContextHandler (ContextHandler.java:doStart(781)) - Started o.e.j.s.ServletContextHandler@5cdbde10{/logs,file:///workdir/hadoop-ozone/integration-test/target/log,AVAILABLE}
2019-09-10 22:29:35,645 [Thread-265] INFO  handler.ContextHandler (ContextHandler.java:doStart(781)) - Started o.e.j.s.ServletContextHandler@30e06419{/static,file:///workdir/hadoop-ozone/integration-test/target/test-classes/webapps/static,AVAILABLE}
2019-09-10 22:29:35,651 [Thread-265] INFO  server.KerberosAuthenticationHandler (KerberosAuthenticationHandler.java:init(164)) - Using keytab /workdir/hadoop-ozone/integration-test/target/test-dir/TestSecureOzoneCluster/http.keytab, for principal HTTP_OM/pr-hdds-2007-qhgzt-2180668592@EXAMPLE.COM
2019-09-10 22:29:35,652 [Thread-265] INFO  handler.ContextHandler (ContextHandler.java:doStart(781)) - Started o.e.j.w.WebAppContext@65005fb6{/,file:///workdir/hadoop-ozone/integration-test/target/test-classes/webapps/ozoneManager/,AVAILABLE}{/ozoneManager}
2019-09-10 22:29:35,653 [Thread-265] INFO  server.AbstractConnector (AbstractConnector.java:doStart(278)) - Started ServerConnector@30d1b0da{HTTP/1.1,[http/1.1]}{0.0.0.0:9874}
2019-09-10 22:29:35,654 [Thread-265] INFO  server.Server (Server.java:doStart(419)) - Started @25379ms
2019-09-10 22:29:35,654 [Thread-265] WARN  impl.MetricsSystemImpl (MetricsSystemImpl.java:register(276)) - Sink prometheus already exists!
2019-09-10 22:29:35,655 [Thread-265] INFO  server.BaseHttpServer (BaseHttpServer.java:updateConnectorAddress(215)) - HTTP server of OZONEMANAGER is listening at http://0.0.0.0:9874
2019-09-10 22:29:35,671 [pool-88-thread-1] INFO  request.TgsRequest (TgsRequest.java:issueTicket(115)) - TGS_REQ ISSUE: authtime 1568154575670,om/pr-hdds-2007-qhgzt-2180668592 for om/pr-hdds-2007-qhgzt-2180668592@EXAMPLE.COM
2019-09-10 22:29:35,687 [Socket Reader #1 for port 9862] INFO  ipc.Server (Server.java:saslProcess(1849)) - Auth successful for om/pr-hdds-2007-qhgzt-2180668592@EXAMPLE.COM (auth:KERBEROS)
2019-09-10 22:29:35,725 [Thread-265] INFO  ipc.Server (Server.java:stop(3082)) - Stopping server on 9862
2019-09-10 22:29:35,726 [IPC Server listener on 9862] INFO  ipc.Server (Server.java:run(1185)) - Stopping IPC Server listener on 9862
2019-09-10 22:29:35,726 [IPC Server Responder] INFO  ipc.Server (Server.java:run(1319)) - Stopping IPC Server Responder
2019-09-10 22:29:35,726 [Thread-265] INFO  ratis.OzoneManagerDoubleBuffer (OzoneManagerDoubleBuffer.java:stop(248)) - Stopping OMDoubleBuffer flush thread
2019-09-10 22:29:35,727 [OMDoubleBufferFlushThread] INFO  ratis.OzoneManagerDoubleBuffer (OzoneManagerDoubleBuffer.java:flushTransactions(191)) - OMDoubleBuffer flush thread OMDoubleBufferFlushThread is interrupted and will exit. OMDoubleBufferFlushThread
2019-09-10 22:29:35,727 [Thread-265] INFO  utils.BackgroundService (BackgroundService.java:shutdown(148)) - Shutting down service KeyDeletingService
2019-09-10 22:29:35,727 [Thread-265] INFO  om.OzoneManager (OzoneManager.java:stopSecretManager(831)) - Stopping OM delegation token secret manager.
2019-09-10 22:29:35,728 [Thread[Thread-273,5,main]] ERROR security.OzoneDelegationTokenSecretManager (OzoneDelegationTokenSecretManager.java:run(541)) - ExpiredTokenRemover received java.lang.InterruptedException: sleep interrupted
2019-09-10 22:29:35,728 [Thread-265] INFO  handler.ContextHandler (ContextHandler.java:doStop(910)) - Stopped o.e.j.w.WebAppContext@65005fb6{/,null,UNAVAILABLE}{/ozoneManager}
2019-09-10 22:29:35,729 [Thread-265] INFO  server.AbstractConnector (AbstractConnector.java:doStop(318)) - Stopped ServerConnector@30d1b0da{HTTP/1.1,[http/1.1]}{0.0.0.0:9874}
2019-09-10 22:29:35,729 [Thread-265] INFO  handler.ContextHandler (ContextHandler.java:doStop(910)) - Stopped o.e.j.s.ServletContextHandler@30e06419{/static,file:///workdir/hadoop-ozone/integration-test/target/test-classes/webapps/static,UNAVAILABLE}
2019-09-10 22:29:35,730 [Thread-265] INFO  handler.ContextHandler (ContextHandler.java:doStop(910)) - Stopped o.e.j.s.ServletContextHandler@5cdbde10{/logs,file:///workdir/hadoop-ozone/integration-test/target/log,UNAVAILABLE}
2019-09-10 22:29:35,731 [Thread-265] INFO  impl.DefaultInternalKdcServerImpl (DefaultInternalKdcServerImpl.java:doStop(102)) - Default Internal kdc server stopped.
2019-09-10 22:29:36,732 [Thread-265] INFO  minikdc.MiniKdc (MiniKdc.java:stop(359)) - MiniKdc stopped.
2019-09-10 22:29:36,732 [Thread-265] INFO  ipc.Server (Server.java:stop(3082)) - Stopping server on 9862
2019-09-10 22:29:36,732 [Thread-265] INFO  ratis.OzoneManagerDoubleBuffer (OzoneManagerDoubleBuffer.java:stop(260)) - OMDoubleBuffer flush thread is not running.
2019-09-10 22:29:36,732 [Thread-265] INFO  om.OzoneManager (OzoneManager.java:stopSecretManager(831)) - Stopping OM delegation token secret manager.
2019-09-10 22:29:36,760 [Thread-305] INFO  minikdc.MiniKdc (MiniKdc.java:<init>(225)) - Configuration:
2019-09-10 22:29:36,761 [Thread-305] INFO  minikdc.MiniKdc (MiniKdc.java:<init>(226)) - ---------------------------------------------------------------
2019-09-10 22:29:36,761 [Thread-305] INFO  minikdc.MiniKdc (MiniKdc.java:<init>(228)) -   debug: false
2019-09-10 22:29:36,761 [Thread-305] INFO  minikdc.MiniKdc (MiniKdc.java:<init>(228)) -   transport: TCP
2019-09-10 22:29:36,761 [Thread-305] INFO  minikdc.MiniKdc (MiniKdc.java:<init>(228)) -   max.ticket.lifetime: 86400000
2019-09-10 22:29:36,761 [Thread-305] INFO  minikdc.MiniKdc (MiniKdc.java:<init>(228)) -   org.name: EXAMPLE
2019-09-10 22:29:36,761 [Thread-305] INFO  minikdc.MiniKdc (MiniKdc.java:<init>(228)) -   kdc.port: 0
2019-09-10 22:29:36,762 [Thread-305] INFO  minikdc.MiniKdc (MiniKdc.java:<init>(228)) -   org.domain: COM
2019-09-10 22:29:36,762 [Thread-305] INFO  minikdc.MiniKdc (MiniKdc.java:<init>(228)) -   max.renewable.lifetime: 604800000
2019-09-10 22:29:36,762 [Thread-305] INFO  minikdc.MiniKdc (MiniKdc.java:<init>(228)) -   instance: DefaultKrbServer
2019-09-10 22:29:36,762 [Thread-305] INFO  minikdc.MiniKdc (MiniKdc.java:<init>(228)) -   kdc.bind.address: localhost
2019-09-10 22:29:36,762 [Thread-305] INFO  minikdc.MiniKdc (MiniKdc.java:<init>(230)) - ---------------------------------------------------------------
2019-09-10 22:29:36,765 [Thread-305] INFO  minikdc.MiniKdc (MiniKdc.java:start(285)) - MiniKdc started.
2019-09-10 22:29:37,026 [Thread-305] WARN  server.ServerUtils (ServerUtils.java:getScmDbDir(145)) - ozone.scm.db.dirs is not configured. We recommend adding this setting. Falling back to ozone.metadata.dirs instead.
2019-09-10 22:29:37,041 [Thread-305] WARN  server.ServerUtils (ServerUtils.java:getScmDbDir(145)) - ozone.scm.db.dirs is not configured. We recommend adding this setting. Falling back to ozone.metadata.dirs instead.
2019-09-10 22:29:37,049 [pool-101-thread-1] INFO  request.KdcRequest (KdcRequest.java:preauth(651)) - The preauth data is empty.
2019-09-10 22:29:37,050 [pool-101-thread-1] INFO  server.KdcHandler (KdcHandler.java:handleRecoverableException(177)) - KRB error occurred while processing request:Additional pre-authentication required
2019-09-10 22:29:37,060 [pool-101-thread-1] INFO  request.AsRequest (AsRequest.java:issueTicket(112)) - AS_REQ ISSUE: authtime 1568154577059,scm/pr-hdds-2007-qhgzt-2180668592@EXAMPLE.COM for krbtgt/EXAMPLE.COM@EXAMPLE.COM
2019-09-10 22:29:37,063 [Thread-305] INFO  security.UserGroupInformation (UserGroupInformation.java:loginUserFromKeytab(1009)) - Login successful for user scm/pr-hdds-2007-qhgzt-2180668592@EXAMPLE.COM using keytab file /workdir/hadoop-ozone/integration-test/target/test-dir/TestSecureOzoneCluster/scm.keytab
2019-09-10 22:29:37,063 [Thread-305] INFO  server.StorageContainerManager (StorageContainerManager.java:loginAsSCMUser(503)) - SCM login successful.
2019-09-10 22:29:37,063 [Thread-305] WARN  server.ServerUtils (ServerUtils.java:getScmDbDir(145)) - ozone.scm.db.dirs is not configured. We recommend adding this setting. Falling back to ozone.metadata.dirs instead.
2019-09-10 22:29:37,064 [Thread-305] INFO  db.DBStoreBuilder (DBStoreBuilder.java:addTable(110)) - using custom profile for table: deletedBlocks
2019-09-10 22:29:37,064 [Thread-305] INFO  db.DBStoreBuilder (DBStoreBuilder.java:processTables(161)) - Using default column profile:DBProfile.DISK for Table:deletedBlocks
2019-09-10 22:29:37,064 [Thread-305] INFO  db.DBStoreBuilder (DBStoreBuilder.java:addTable(110)) - using custom profile for table: validCerts
2019-09-10 22:29:37,065 [Thread-305] INFO  db.DBStoreBuilder (DBStoreBuilder.java:processTables(161)) - Using default column profile:DBProfile.DISK for Table:validCerts
2019-09-10 22:29:37,065 [Thread-305] INFO  db.DBStoreBuilder (DBStoreBuilder.java:addTable(110)) - using custom profile for table: revokedCerts
2019-09-10 22:29:37,065 [Thread-305] INFO  db.DBStoreBuilder (DBStoreBuilder.java:processTables(161)) - Using default column profile:DBProfile.DISK for Table:revokedCerts
2019-09-10 22:29:37,065 [Thread-305] INFO  db.DBStoreBuilder (DBStoreBuilder.java:addTable(110)) - using custom profile for table: default
2019-09-10 22:29:37,065 [Thread-305] INFO  db.DBStoreBuilder (DBStoreBuilder.java:processTables(167)) - Using default column profile:DBProfile.DISK for Table:default
2019-09-10 22:29:37,066 [Thread-305] INFO  db.DBStoreBuilder (DBStoreBuilder.java:getDbProfile(198)) - Using default options. DBProfile.DISK
2019-09-10 22:29:37,398 [Thread-305] INFO  ipc.CallQueueManager (CallQueueManager.java:<init>(84)) - Using callQueue: class java.util.concurrent.LinkedBlockingQueue, queueCapacity: 200, scheduler: class org.apache.hadoop.ipc.DefaultRpcScheduler, ipcBackoff: false.
2019-09-10 22:29:37,399 [Socket Reader #1 for port 9961] INFO  ipc.Server (Server.java:run(1074)) - Starting Socket Reader #1 for port 9961
2019-09-10 22:29:37,402 [Thread-305] INFO  net.NodeSchemaLoader (NodeSchemaLoader.java:loadSchemaFromFile(125)) - Loading file from sun.misc.CompoundEnumeration@70ff1e53
2019-09-10 22:29:37,402 [Thread-305] INFO  net.NodeSchemaLoader (NodeSchemaLoader.java:loadSchema(171)) - Loading network topology layer schema file
2019-09-10 22:29:37,406 [Thread-305] INFO  node.SCMNodeManager (SCMNodeManager.java:<init>(114)) - Entering startup safe mode.
2019-09-10 22:29:37,407 [Thread-305] INFO  algorithms.ContainerPlacementPolicyFactory (ContainerPlacementPolicyFactory.java:getPolicy(55)) - Create container placement policy of type org.apache.hadoop.hdds.scm.container.placement.algorithms.SCMContainerPlacementRandom
2019-09-10 22:29:37,407 [Thread-305] WARN  server.ServerUtils (ServerUtils.java:getScmDbDir(145)) - ozone.scm.db.dirs is not configured. We recommend adding this setting. Falling back to ozone.metadata.dirs instead.
2019-09-10 22:29:37,511 [Thread-305] INFO  pipeline.SCMPipelineManager (SCMPipelineManager.java:initializePipelineState(128)) - No pipeline exists in current db
2019-09-10 22:29:37,511 [Thread-305] WARN  server.ServerUtils (ServerUtils.java:getScmDbDir(145)) - ozone.scm.db.dirs is not configured. We recommend adding this setting. Falling back to ozone.metadata.dirs instead.
2019-09-10 22:29:37,647 [Thread-305] WARN  events.EventQueue (EventQueue.java:fireEvent(183)) - No event handler registered for event TypedEvent{payloadType=SafeModeStatus, name='SafeModeStatus'}
2019-09-10 22:29:37,649 [Thread-305] INFO  ipc.CallQueueManager (CallQueueManager.java:<init>(84)) - Using callQueue: class java.util.concurrent.LinkedBlockingQueue, queueCapacity: 1000, scheduler: class org.apache.hadoop.ipc.DefaultRpcScheduler, ipcBackoff: false.
2019-09-10 22:29:37,650 [Socket Reader #1 for port 9861] INFO  ipc.Server (Server.java:run(1074)) - Starting Socket Reader #1 for port 9861
2019-09-10 22:29:37,654 [Thread-305] INFO  ipc.CallQueueManager (CallQueueManager.java:<init>(84)) - Using callQueue: class java.util.concurrent.LinkedBlockingQueue, queueCapacity: 1000, scheduler: class org.apache.hadoop.ipc.DefaultRpcScheduler, ipcBackoff: false.
2019-09-10 22:29:37,654 [Socket Reader #1 for port 9863] INFO  ipc.Server (Server.java:run(1074)) - Starting Socket Reader #1 for port 9863
2019-09-10 22:29:37,657 [Thread-305] INFO  ipc.CallQueueManager (CallQueueManager.java:<init>(84)) - Using callQueue: class java.util.concurrent.LinkedBlockingQueue, queueCapacity: 1000, scheduler: class org.apache.hadoop.ipc.DefaultRpcScheduler, ipcBackoff: false.
2019-09-10 22:29:37,658 [Socket Reader #1 for port 9860] INFO  ipc.Server (Server.java:run(1074)) - Starting Socket Reader #1 for port 9860
2019-09-10 22:29:37,661 [Thread-305] INFO  hdfs.DFSUtil (DFSUtil.java:httpServerTemplateForNNAndJN(1629)) - Starting web server as: HTTP_SCM/pr-hdds-2007-qhgzt-2180668592@EXAMPLE.COM
2019-09-10 22:29:37,661 [Thread-305] INFO  hdfs.DFSUtil (DFSUtil.java:httpServerTemplateForNNAndJN(1641)) - Starting Web-server for scm at: http://0.0.0.0:9876
2019-09-10 22:29:37,664 [Thread-305] INFO  server.AuthenticationFilter (AuthenticationFilter.java:constructSecretProvider(240)) - Unable to initialize FileSignerSecretProvider, falling back to use random secrets.
2019-09-10 22:29:37,664 [Thread-305] WARN  http.HttpRequestLog (HttpRequestLog.java:getRequestLog(97)) - Jetty request log can only be enabled using Log4j
2019-09-10 22:29:37,667 [Thread-305] INFO  http.HttpServer2 (HttpServer2.java:addGlobalFilter(975)) - Added global filter 'safety' (class=org.apache.hadoop.http.HttpServer2$QuotingInputFilter)
2019-09-10 22:29:37,668 [Thread-305] INFO  http.HttpServer2 (HttpServer2.java:addFilter(948)) - Added filter static_user_filter (class=org.apache.hadoop.http.lib.StaticUserWebFilter$StaticUserFilter) to context scm
2019-09-10 22:29:37,668 [Thread-305] INFO  http.HttpServer2 (HttpServer2.java:addFilter(958)) - Added filter static_user_filter (class=org.apache.hadoop.http.lib.StaticUserWebFilter$StaticUserFilter) to context static
2019-09-10 22:29:37,669 [Thread-305] INFO  http.HttpServer2 (HttpServer2.java:addFilter(958)) - Added filter static_user_filter (class=org.apache.hadoop.http.lib.StaticUserWebFilter$StaticUserFilter) to context logs
2019-09-10 22:29:37,679 [Thread-305] INFO  impl.DefaultInternalKdcServerImpl (DefaultInternalKdcServerImpl.java:doStop(102)) - Default Internal kdc server stopped.
2019-09-10 22:29:38,679 [Thread-305] INFO  minikdc.MiniKdc (MiniKdc.java:stop(359)) - MiniKdc stopped.
2019-09-10 22:29:38,680 [Thread-305] INFO  server.StorageContainerManager (StorageContainerManager.java:stop(797)) - Stopping Replication Manager Service.
2019-09-10 22:29:38,682 [Thread-305] INFO  container.ReplicationManager (ReplicationManager.java:stop(209)) - Replication Monitor Thread is not running.
2019-09-10 22:29:38,683 [Thread-305] INFO  server.StorageContainerManager (StorageContainerManager.java:stop(804)) - Stopping Lease Manager of the command watchers
2019-09-10 22:29:38,683 [Thread-305] ERROR server.StorageContainerManager (StorageContainerManager.java:stop(807)) - Lease Manager of the command watchers stop failed
2019-09-10 22:29:38,683 [Thread-305] INFO  server.StorageContainerManager (StorageContainerManager.java:stop(811)) - Stopping datanode service RPC server
2019-09-10 22:29:38,683 [Thread-305] INFO  server.SCMDatanodeProtocolServer (SCMDatanodeProtocolServer.java:stop(367)) - Stopping the RPC server for DataNodes
2019-09-10 22:29:38,683 [Thread-305] INFO  ipc.Server (Server.java:stop(3082)) - Stopping server on 9861
2019-09-10 22:29:40,406 [SCM Heartbeat Processing Thread - 0] WARN  node.NodeStateManager (NodeStateManager.java:scheduleNextHealthCheck(646)) - Current Thread is interrupted, shutting down HB processing thread for Node Manager.
2019-09-10 22:29:40,407 [Thread-305] INFO  server.StorageContainerManager (StorageContainerManager.java:stop(819)) - Stopping block service RPC server
2019-09-10 22:29:40,407 [Thread-305] INFO  server.SCMBlockProtocolServer (SCMBlockProtocolServer.java:stop(155)) - Stopping the RPC server for Block Protocol
2019-09-10 22:29:40,407 [Thread-305] INFO  ipc.Server (Server.java:stop(3082)) - Stopping server on 9863
2019-09-10 22:29:40,407 [Thread-305] INFO  server.StorageContainerManager (StorageContainerManager.java:stop(826)) - Stopping the StorageContainerLocationProtocol RPC server
2019-09-10 22:29:40,408 [Thread-305] INFO  server.SCMClientProtocolServer (SCMClientProtocolServer.java:stop(159)) - Stopping the RPC server for Client Protocol
2019-09-10 22:29:40,408 [Thread-305] INFO  ipc.Server (Server.java:stop(3082)) - Stopping server on 9860
2019-09-10 22:29:40,408 [Thread-305] INFO  server.StorageContainerManager (StorageContainerManager.java:stop(833)) - Stopping Storage Container Manager HTTP server.
2019-09-10 22:29:40,408 [Thread-305] INFO  server.SCMClientProtocolServer (SCMSecurityProtocolServer.java:stop(204)) - Stopping the SCMSecurityProtocolServer.
2019-09-10 22:29:40,408 [Thread-305] INFO  ipc.Server (Server.java:stop(3082)) - Stopping server on 9961
2019-09-10 22:29:40,409 [Thread-305] INFO  server.StorageContainerManager (StorageContainerManager.java:stop(844)) - Stopping Block Manager Service.
2019-09-10 22:29:40,409 [Thread-305] INFO  utils.BackgroundService (BackgroundService.java:shutdown(148)) - Shutting down service SCMBlockDeletingService
2019-09-10 22:29:40,409 [Thread-305] INFO  utils.BackgroundService (BackgroundService.java:shutdown(148)) - Shutting down service SCMBlockDeletingService
2019-09-10 22:29:40,410 [Thread-305] INFO  server.StorageContainerManager (StorageContainerManager.java:stop(866)) - Stopping SCM Event Queue.
2019-09-10 22:29:40,436 [Thread-319] INFO  minikdc.MiniKdc (MiniKdc.java:<init>(225)) - Configuration:
2019-09-10 22:29:40,437 [Thread-319] INFO  minikdc.MiniKdc (MiniKdc.java:<init>(226)) - ---------------------------------------------------------------
2019-09-10 22:29:40,437 [Thread-319] INFO  minikdc.MiniKdc (MiniKdc.java:<init>(228)) -   debug: false
2019-09-10 22:29:40,437 [Thread-319] INFO  minikdc.MiniKdc (MiniKdc.java:<init>(228)) -   transport: TCP
2019-09-10 22:29:40,437 [Thread-319] INFO  minikdc.MiniKdc (MiniKdc.java:<init>(228)) -   max.ticket.lifetime: 86400000
2019-09-10 22:29:40,437 [Thread-319] INFO  minikdc.MiniKdc (MiniKdc.java:<init>(228)) -   org.name: EXAMPLE
2019-09-10 22:29:40,437 [Thread-319] INFO  minikdc.MiniKdc (MiniKdc.java:<init>(228)) -   kdc.port: 0
2019-09-10 22:29:40,437 [Thread-319] INFO  minikdc.MiniKdc (MiniKdc.java:<init>(228)) -   org.domain: COM
2019-09-10 22:29:40,438 [Thread-319] INFO  minikdc.MiniKdc (MiniKdc.java:<init>(228)) -   max.renewable.lifetime: 604800000
2019-09-10 22:29:40,438 [Thread-319] INFO  minikdc.MiniKdc (MiniKdc.java:<init>(228)) -   instance: DefaultKrbServer
2019-09-10 22:29:40,438 [Thread-319] INFO  minikdc.MiniKdc (MiniKdc.java:<init>(228)) -   kdc.bind.address: localhost
2019-09-10 22:29:40,438 [Thread-319] INFO  minikdc.MiniKdc (MiniKdc.java:<init>(230)) - ---------------------------------------------------------------
2019-09-10 22:29:40,441 [Thread-319] INFO  minikdc.MiniKdc (MiniKdc.java:start(285)) - MiniKdc started.
2019-09-10 22:29:40,869 [Thread-319] WARN  server.ServerUtils (ServerUtils.java:getScmDbDir(145)) - ozone.scm.db.dirs is not configured. We recommend adding this setting. Falling back to ozone.metadata.dirs instead.
2019-09-10 22:29:40,896 [Thread-319] WARN  server.ServerUtils (ServerUtils.java:getScmDbDir(145)) - ozone.scm.db.dirs is not configured. We recommend adding this setting. Falling back to ozone.metadata.dirs instead.
2019-09-10 22:29:40,908 [pool-107-thread-1] INFO  request.KdcRequest (KdcRequest.java:preauth(651)) - The preauth data is empty.
2019-09-10 22:29:40,909 [pool-107-thread-1] INFO  server.KdcHandler (KdcHandler.java:handleRecoverableException(177)) - KRB error occurred while processing request:Additional pre-authentication required
2019-09-10 22:29:40,921 [pool-107-thread-1] INFO  request.AsRequest (AsRequest.java:issueTicket(112)) - AS_REQ ISSUE: authtime 1568154580920,scm/pr-hdds-2007-qhgzt-2180668592@EXAMPLE.COM for krbtgt/EXAMPLE.COM@EXAMPLE.COM
2019-09-10 22:29:40,923 [Thread-319] INFO  security.UserGroupInformation (UserGroupInformation.java:loginUserFromKeytab(1009)) - Login successful for user scm/pr-hdds-2007-qhgzt-2180668592@EXAMPLE.COM using keytab file /workdir/hadoop-ozone/integration-test/target/test-dir/TestSecureOzoneCluster/scm.keytab
2019-09-10 22:29:40,924 [Thread-319] INFO  server.StorageContainerManager (StorageContainerManager.java:loginAsSCMUser(503)) - SCM login successful.
2019-09-10 22:29:40,924 [Thread-319] WARN  server.ServerUtils (ServerUtils.java:getScmDbDir(145)) - ozone.scm.db.dirs is not configured. We recommend adding this setting. Falling back to ozone.metadata.dirs instead.
2019-09-10 22:29:40,924 [Thread-319] INFO  db.DBStoreBuilder (DBStoreBuilder.java:addTable(110)) - using custom profile for table: deletedBlocks
2019-09-10 22:29:40,925 [Thread-319] INFO  db.DBStoreBuilder (DBStoreBuilder.java:processTables(161)) - Using default column profile:DBProfile.DISK for Table:deletedBlocks
2019-09-10 22:29:40,925 [Thread-319] INFO  db.DBStoreBuilder (DBStoreBuilder.java:addTable(110)) - using custom profile for table: validCerts
2019-09-10 22:29:40,925 [Thread-319] INFO  db.DBStoreBuilder (DBStoreBuilder.java:processTables(161)) - Using default column profile:DBProfile.DISK for Table:validCerts
2019-09-10 22:29:40,925 [Thread-319] INFO  db.DBStoreBuilder (DBStoreBuilder.java:addTable(110)) - using custom profile for table: revokedCerts
2019-09-10 22:29:40,926 [Thread-319] INFO  db.DBStoreBuilder (DBStoreBuilder.java:processTables(161)) - Using default column profile:DBProfile.DISK for Table:revokedCerts
2019-09-10 22:29:40,926 [Thread-319] INFO  db.DBStoreBuilder (DBStoreBuilder.java:addTable(110)) - using custom profile for table: default
2019-09-10 22:29:40,926 [Thread-319] INFO  db.DBStoreBuilder (DBStoreBuilder.java:processTables(167)) - Using default column profile:DBProfile.DISK for Table:default
2019-09-10 22:29:40,926 [Thread-319] INFO  db.DBStoreBuilder (DBStoreBuilder.java:getDbProfile(198)) - Using default options. DBProfile.DISK
2019-09-10 22:29:41,395 [Thread-319] INFO  ipc.CallQueueManager (CallQueueManager.java:<init>(84)) - Using callQueue: class java.util.concurrent.LinkedBlockingQueue, queueCapacity: 200, scheduler: class org.apache.hadoop.ipc.DefaultRpcScheduler, ipcBackoff: false.
2019-09-10 22:29:41,396 [Socket Reader #1 for port 9961] INFO  ipc.Server (Server.java:run(1074)) - Starting Socket Reader #1 for port 9961
2019-09-10 22:29:41,399 [Thread-319] INFO  net.NodeSchemaLoader (NodeSchemaLoader.java:loadSchemaFromFile(125)) - Loading file from sun.misc.CompoundEnumeration@127717ee
2019-09-10 22:29:41,399 [Thread-319] INFO  net.NodeSchemaLoader (NodeSchemaLoader.java:loadSchema(171)) - Loading network topology layer schema file
2019-09-10 22:29:41,403 [Thread-319] INFO  node.SCMNodeManager (SCMNodeManager.java:<init>(114)) - Entering startup safe mode.
2019-09-10 22:29:41,404 [Thread-319] INFO  algorithms.ContainerPlacementPolicyFactory (ContainerPlacementPolicyFactory.java:getPolicy(55)) - Create container placement policy of type org.apache.hadoop.hdds.scm.container.placement.algorithms.SCMContainerPlacementRandom
2019-09-10 22:29:41,404 [Thread-319] WARN  server.ServerUtils (ServerUtils.java:getScmDbDir(145)) - ozone.scm.db.dirs is not configured. We recommend adding this setting. Falling back to ozone.metadata.dirs instead.
2019-09-10 22:29:41,507 [Thread-319] INFO  pipeline.SCMPipelineManager (SCMPipelineManager.java:initializePipelineState(128)) - No pipeline exists in current db
2019-09-10 22:29:41,508 [Thread-319] WARN  server.ServerUtils (ServerUtils.java:getScmDbDir(145)) - ozone.scm.db.dirs is not configured. We recommend adding this setting. Falling back to ozone.metadata.dirs instead.
2019-09-10 22:29:41,633 [Thread-319] WARN  events.EventQueue (EventQueue.java:fireEvent(183)) - No event handler registered for event TypedEvent{payloadType=SafeModeStatus, name='SafeModeStatus'}
2019-09-10 22:29:41,634 [Thread-319] INFO  ipc.CallQueueManager (CallQueueManager.java:<init>(84)) - Using callQueue: class java.util.concurrent.LinkedBlockingQueue, queueCapacity: 1000, scheduler: class org.apache.hadoop.ipc.DefaultRpcScheduler, ipcBackoff: false.
2019-09-10 22:29:41,635 [Socket Reader #1 for port 9861] INFO  ipc.Server (Server.java:run(1074)) - Starting Socket Reader #1 for port 9861
2019-09-10 22:29:41,637 [Thread-319] INFO  ipc.CallQueueManager (CallQueueManager.java:<init>(84)) - Using callQueue: class java.util.concurrent.LinkedBlockingQueue, queueCapacity: 1000, scheduler: class org.apache.hadoop.ipc.DefaultRpcScheduler, ipcBackoff: false.
2019-09-10 22:29:41,638 [Socket Reader #1 for port 9863] INFO  ipc.Server (Server.java:run(1074)) - Starting Socket Reader #1 for port 9863
2019-09-10 22:29:41,639 [Thread-319] INFO  ipc.CallQueueManager (CallQueueManager.java:<init>(84)) - Using callQueue: class java.util.concurrent.LinkedBlockingQueue, queueCapacity: 1000, scheduler: class org.apache.hadoop.ipc.DefaultRpcScheduler, ipcBackoff: false.
2019-09-10 22:29:41,640 [Socket Reader #1 for port 9860] INFO  ipc.Server (Server.java:run(1074)) - Starting Socket Reader #1 for port 9860
2019-09-10 22:29:41,643 [Thread-319] INFO  hdfs.DFSUtil (DFSUtil.java:httpServerTemplateForNNAndJN(1629)) - Starting web server as: HTTP_SCM/pr-hdds-2007-qhgzt-2180668592@EXAMPLE.COM
2019-09-10 22:29:41,643 [Thread-319] INFO  hdfs.DFSUtil (DFSUtil.java:httpServerTemplateForNNAndJN(1641)) - Starting Web-server for scm at: http://0.0.0.0:9876
2019-09-10 22:29:41,644 [Thread-319] INFO  server.AuthenticationFilter (AuthenticationFilter.java:constructSecretProvider(240)) - Unable to initialize FileSignerSecretProvider, falling back to use random secrets.
2019-09-10 22:29:41,645 [Thread-319] WARN  http.HttpRequestLog (HttpRequestLog.java:getRequestLog(97)) - Jetty request log can only be enabled using Log4j
2019-09-10 22:29:41,646 [Thread-319] INFO  http.HttpServer2 (HttpServer2.java:addGlobalFilter(975)) - Added global filter 'safety' (class=org.apache.hadoop.http.HttpServer2$QuotingInputFilter)
2019-09-10 22:29:41,647 [Thread-319] INFO  http.HttpServer2 (HttpServer2.java:addFilter(948)) - Added filter static_user_filter (class=org.apache.hadoop.http.lib.StaticUserWebFilter$StaticUserFilter) to context scm
2019-09-10 22:29:41,647 [Thread-319] INFO  http.HttpServer2 (HttpServer2.java:addFilter(958)) - Added filter static_user_filter (class=org.apache.hadoop.http.lib.StaticUserWebFilter$StaticUserFilter) to context static
2019-09-10 22:29:41,647 [Thread-319] INFO  http.HttpServer2 (HttpServer2.java:addFilter(958)) - Added filter static_user_filter (class=org.apache.hadoop.http.lib.StaticUserWebFilter$StaticUserFilter) to context logs
2019-09-10 22:29:41,652 [Thread-319] WARN  server.ServerUtils (ServerUtils.java:getDBPath(222)) - ozone.om.db.dirs is not configured. We recommend adding this setting. Falling back to ozone.metadata.dirs instead.
2019-09-10 22:29:41,670 [pool-107-thread-1] INFO  request.KdcRequest (KdcRequest.java:preauth(651)) - The preauth data is empty.
2019-09-10 22:29:41,671 [pool-107-thread-1] INFO  server.KdcHandler (KdcHandler.java:handleRecoverableException(177)) - KRB error occurred while processing request:Additional pre-authentication required
2019-09-10 22:29:41,677 [pool-107-thread-1] INFO  request.AsRequest (AsRequest.java:issueTicket(112)) - AS_REQ ISSUE: authtime 1568154581677,om/pr-hdds-2007-qhgzt-2180668592@EXAMPLE.COM for krbtgt/EXAMPLE.COM@EXAMPLE.COM
2019-09-10 22:29:41,683 [Thread-319] INFO  security.UserGroupInformation (UserGroupInformation.java:loginUserFromKeytab(1009)) - Login successful for user om/pr-hdds-2007-qhgzt-2180668592@EXAMPLE.COM using keytab file /workdir/hadoop-ozone/integration-test/target/test-dir/TestSecureOzoneCluster/om.keytab
2019-09-10 22:29:41,684 [Thread-319] INFO  om.OzoneManager (OzoneManager.java:loginOMUser(923)) - Ozone Manager login successful.
2019-09-10 22:29:41,684 [Thread-319] WARN  server.ServerUtils (ServerUtils.java:getDBPath(222)) - ozone.om.db.dirs is not configured. We recommend adding this setting. Falling back to ozone.metadata.dirs instead.
2019-09-10 22:29:41,685 [Thread-319] WARN  server.ServerUtils (ServerUtils.java:getDBPath(222)) - ozone.om.db.dirs is not configured. We recommend adding this setting. Falling back to ozone.metadata.dirs instead.
2019-09-10 22:29:41,686 [Thread-319] INFO  om.OzoneManager (OzoneManager.java:setOMNodeDetails(649)) - OM Service ID is not set. Setting it to the default ID: omServiceIdDefault
2019-09-10 22:29:41,686 [Thread-319] INFO  om.OzoneManager (OzoneManager.java:setOMNodeDetails(655)) - OM Node ID is not set. Setting it to the OmStorage's OmID: 66c176d3-8f37-4a74-b5be-c07da9846efe
2019-09-10 22:29:41,687 [Thread-319] INFO  om.OzoneManager (OzoneManager.java:loadOMHAConfigs(606)) - Found matching OM address with OMServiceId: null, OMNodeId: null, RPC Address: 0.0.0.0:9862 and Ratis port: 9872
2019-09-10 22:29:41,691 [Thread-319] WARN  server.ServerUtils (ServerUtils.java:getDBPath(222)) - ozone.om.db.dirs is not configured. We recommend adding this setting. Falling back to ozone.metadata.dirs instead.
2019-09-10 22:29:41,691 [Thread-319] INFO  db.DBStoreBuilder (DBStoreBuilder.java:addTable(110)) - using custom profile for table: userTable
2019-09-10 22:29:41,691 [Thread-319] INFO  db.DBStoreBuilder (DBStoreBuilder.java:processTables(161)) - Using default column profile:DBProfile.DISK for Table:userTable
2019-09-10 22:29:41,692 [Thread-319] INFO  db.DBStoreBuilder (DBStoreBuilder.java:addTable(110)) - using custom profile for table: volumeTable
2019-09-10 22:29:41,692 [Thread-319] INFO  db.DBStoreBuilder (DBStoreBuilder.java:processTables(161)) - Using default column profile:DBProfile.DISK for Table:volumeTable
2019-09-10 22:29:41,692 [Thread-319] INFO  db.DBStoreBuilder (DBStoreBuilder.java:addTable(110)) - using custom profile for table: bucketTable
2019-09-10 22:29:41,692 [Thread-319] INFO  db.DBStoreBuilder (DBStoreBuilder.java:processTables(161)) - Using default column profile:DBProfile.DISK for Table:bucketTable
2019-09-10 22:29:41,692 [Thread-319] INFO  db.DBStoreBuilder (DBStoreBuilder.java:addTable(110)) - using custom profile for table: keyTable
2019-09-10 22:29:41,692 [Thread-319] INFO  db.DBStoreBuilder (DBStoreBuilder.java:processTables(161)) - Using default column profile:DBProfile.DISK for Table:keyTable
2019-09-10 22:29:41,693 [Thread-319] INFO  db.DBStoreBuilder (DBStoreBuilder.java:addTable(110)) - using custom profile for table: deletedTable
2019-09-10 22:29:41,693 [Thread-319] INFO  db.DBStoreBuilder (DBStoreBuilder.java:processTables(161)) - Using default column profile:DBProfile.DISK for Table:deletedTable
2019-09-10 22:29:41,693 [Thread-319] INFO  db.DBStoreBuilder (DBStoreBuilder.java:addTable(110)) - using custom profile for table: openKeyTable
2019-09-10 22:29:41,693 [Thread-319] INFO  db.DBStoreBuilder (DBStoreBuilder.java:processTables(161)) - Using default column profile:DBProfile.DISK for Table:openKeyTable
2019-09-10 22:29:41,693 [Thread-319] INFO  db.DBStoreBuilder (DBStoreBuilder.java:addTable(110)) - using custom profile for table: s3Table
2019-09-10 22:29:41,693 [Thread-319] INFO  db.DBStoreBuilder (DBStoreBuilder.java:processTables(161)) - Using default column profile:DBProfile.DISK for Table:s3Table
2019-09-10 22:29:41,693 [Thread-319] INFO  db.DBStoreBuilder (DBStoreBuilder.java:addTable(110)) - using custom profile for table: multipartInfoTable
2019-09-10 22:29:41,694 [Thread-319] INFO  db.DBStoreBuilder (DBStoreBuilder.java:processTables(161)) - Using default column profile:DBProfile.DISK for Table:multipartInfoTable
2019-09-10 22:29:41,694 [Thread-319] INFO  db.DBStoreBuilder (DBStoreBuilder.java:addTable(110)) - using custom profile for table: dTokenTable
2019-09-10 22:29:41,694 [Thread-319] INFO  db.DBStoreBuilder (DBStoreBuilder.java:processTables(161)) - Using default column profile:DBProfile.DISK for Table:dTokenTable
2019-09-10 22:29:41,694 [Thread-319] INFO  db.DBStoreBuilder (DBStoreBuilder.java:addTable(110)) - using custom profile for table: s3SecretTable
2019-09-10 22:29:41,694 [Thread-319] INFO  db.DBStoreBuilder (DBStoreBuilder.java:processTables(161)) - Using default column profile:DBProfile.DISK for Table:s3SecretTable
2019-09-10 22:29:41,694 [Thread-319] INFO  db.DBStoreBuilder (DBStoreBuilder.java:addTable(110)) - using custom profile for table: prefixTable
2019-09-10 22:29:41,694 [Thread-319] INFO  db.DBStoreBuilder (DBStoreBuilder.java:processTables(161)) - Using default column profile:DBProfile.DISK for Table:prefixTable
2019-09-10 22:29:41,695 [Thread-319] INFO  db.DBStoreBuilder (DBStoreBuilder.java:addTable(110)) - using custom profile for table: default
2019-09-10 22:29:41,695 [Thread-319] INFO  db.DBStoreBuilder (DBStoreBuilder.java:processTables(167)) - Using default column profile:DBProfile.DISK for Table:default
2019-09-10 22:29:41,695 [Thread-319] INFO  db.DBStoreBuilder (DBStoreBuilder.java:getDbProfile(198)) - Using default options. DBProfile.DISK
2019-09-10 22:29:42,316 [Thread-319] INFO  Configuration.deprecation (Configuration.java:logDeprecation(1394)) - No unit for ozone.manager.delegation.remover.scan.interval(3600000) assuming MILLISECONDS
2019-09-10 22:29:42,317 [Thread-319] INFO  security.OzoneSecretStore (OzoneSecretStore.java:loadState(69)) - Loaded 0 tokens
2019-09-10 22:29:42,317 [Thread-319] INFO  security.OzoneDelegationTokenSecretManager (OzoneDelegationTokenSecretManager.java:loadTokenSecretState(421)) - Loading token state into token manager.
2019-09-10 22:29:42,322 [Thread-319] INFO  ipc.CallQueueManager (CallQueueManager.java:<init>(84)) - Using callQueue: class java.util.concurrent.LinkedBlockingQueue, queueCapacity: 2000, scheduler: class org.apache.hadoop.ipc.DefaultRpcScheduler, ipcBackoff: false.
2019-09-10 22:29:42,324 [Socket Reader #1 for port 9862] INFO  ipc.Server (Server.java:run(1074)) - Starting Socket Reader #1 for port 9862
2019-09-10 22:29:42,352 [Thread-319] INFO  impl.DefaultInternalKdcServerImpl (DefaultInternalKdcServerImpl.java:doStop(102)) - Default Internal kdc server stopped.
2019-09-10 22:29:43,352 [Thread-319] INFO  minikdc.MiniKdc (MiniKdc.java:stop(359)) - MiniKdc stopped.
2019-09-10 22:29:43,353 [Thread-319] INFO  server.StorageContainerManager (StorageContainerManager.java:stop(797)) - Stopping Replication Manager Service.
2019-09-10 22:29:43,353 [Thread-319] INFO  container.ReplicationManager (ReplicationManager.java:stop(209)) - Replication Monitor Thread is not running.
2019-09-10 22:29:43,353 [Thread-319] INFO  server.StorageContainerManager (StorageContainerManager.java:stop(804)) - Stopping Lease Manager of the command watchers
2019-09-10 22:29:43,354 [Thread-319] ERROR server.StorageContainerManager (StorageContainerManager.java:stop(807)) - Lease Manager of the command watchers stop failed
2019-09-10 22:29:43,354 [Thread-319] INFO  server.StorageContainerManager (StorageContainerManager.java:stop(811)) - Stopping datanode service RPC server
2019-09-10 22:29:43,354 [Thread-319] INFO  server.SCMDatanodeProtocolServer (SCMDatanodeProtocolServer.java:stop(367)) - Stopping the RPC server for DataNodes
2019-09-10 22:29:43,354 [Thread-319] INFO  ipc.Server (Server.java:stop(3082)) - Stopping server on 9861
2019-09-10 22:29:44,403 [SCM Heartbeat Processing Thread - 0] WARN  node.NodeStateManager (NodeStateManager.java:scheduleNextHealthCheck(646)) - Current Thread is interrupted, shutting down HB processing thread for Node Manager.
2019-09-10 22:29:44,404 [Thread-319] INFO  server.StorageContainerManager (StorageContainerManager.java:stop(819)) - Stopping block service RPC server
2019-09-10 22:29:44,404 [Thread-319] INFO  server.SCMBlockProtocolServer (SCMBlockProtocolServer.java:stop(155)) - Stopping the RPC server for Block Protocol
2019-09-10 22:29:44,404 [Thread-319] INFO  ipc.Server (Server.java:stop(3082)) - Stopping server on 9863
2019-09-10 22:29:44,404 [Thread-319] INFO  server.StorageContainerManager (StorageContainerManager.java:stop(826)) - Stopping the StorageContainerLocationProtocol RPC server
2019-09-10 22:29:44,404 [Thread-319] INFO  server.SCMClientProtocolServer (SCMClientProtocolServer.java:stop(159)) - Stopping the RPC server for Client Protocol
2019-09-10 22:29:44,405 [Thread-319] INFO  ipc.Server (Server.java:stop(3082)) - Stopping server on 9860
2019-09-10 22:29:44,405 [Thread-319] INFO  server.StorageContainerManager (StorageContainerManager.java:stop(833)) - Stopping Storage Container Manager HTTP server.
2019-09-10 22:29:44,405 [Thread-319] INFO  server.SCMClientProtocolServer (SCMSecurityProtocolServer.java:stop(204)) - Stopping the SCMSecurityProtocolServer.
2019-09-10 22:29:44,405 [Thread-319] INFO  ipc.Server (Server.java:stop(3082)) - Stopping server on 9961
2019-09-10 22:29:44,406 [Thread-319] INFO  server.StorageContainerManager (StorageContainerManager.java:stop(844)) - Stopping Block Manager Service.
2019-09-10 22:29:44,406 [Thread-319] INFO  utils.BackgroundService (BackgroundService.java:shutdown(148)) - Shutting down service SCMBlockDeletingService
2019-09-10 22:29:44,406 [Thread-319] INFO  utils.BackgroundService (BackgroundService.java:shutdown(148)) - Shutting down service SCMBlockDeletingService
2019-09-10 22:29:44,407 [Thread-319] INFO  server.StorageContainerManager (StorageContainerManager.java:stop(866)) - Stopping SCM Event Queue.
2019-09-10 22:29:44,409 [Thread-319] INFO  ipc.Server (Server.java:stop(3082)) - Stopping server on 9862
2019-09-10 22:29:44,409 [Thread-319] INFO  ratis.OzoneManagerDoubleBuffer (OzoneManagerDoubleBuffer.java:stop(248)) - Stopping OMDoubleBuffer flush thread
2019-09-10 22:29:44,410 [OMDoubleBufferFlushThread] INFO  ratis.OzoneManagerDoubleBuffer (OzoneManagerDoubleBuffer.java:flushTransactions(191)) - OMDoubleBuffer flush thread OMDoubleBufferFlushThread is interrupted and will exit. OMDoubleBufferFlushThread
2019-09-10 22:29:44,410 [Thread-319] INFO  utils.BackgroundService (BackgroundService.java:shutdown(148)) - Shutting down service KeyDeletingService
2019-09-10 22:29:44,410 [Thread-319] INFO  om.OzoneManager (OzoneManager.java:stopSecretManager(831)) - Stopping OM delegation token secret manager.
2019-09-10 22:29:44,432 [Thread-339] INFO  minikdc.MiniKdc (MiniKdc.java:<init>(225)) - Configuration:
2019-09-10 22:29:44,433 [Thread-339] INFO  minikdc.MiniKdc (MiniKdc.java:<init>(226)) - ---------------------------------------------------------------
2019-09-10 22:29:44,433 [Thread-339] INFO  minikdc.MiniKdc (MiniKdc.java:<init>(228)) -   debug: false
2019-09-10 22:29:44,433 [Thread-339] INFO  minikdc.MiniKdc (MiniKdc.java:<init>(228)) -   transport: TCP
2019-09-10 22:29:44,433 [Thread-339] INFO  minikdc.MiniKdc (MiniKdc.java:<init>(228)) -   max.ticket.lifetime: 86400000
2019-09-10 22:29:44,433 [Thread-339] INFO  minikdc.MiniKdc (MiniKdc.java:<init>(228)) -   org.name: EXAMPLE
2019-09-10 22:29:44,433 [Thread-339] INFO  minikdc.MiniKdc (MiniKdc.java:<init>(228)) -   kdc.port: 0
2019-09-10 22:29:44,433 [Thread-339] INFO  minikdc.MiniKdc (MiniKdc.java:<init>(228)) -   org.domain: COM
2019-09-10 22:29:44,433 [Thread-339] INFO  minikdc.MiniKdc (MiniKdc.java:<init>(228)) -   max.renewable.lifetime: 604800000
2019-09-10 22:29:44,433 [Thread-339] INFO  minikdc.MiniKdc (MiniKdc.java:<init>(228)) -   instance: DefaultKrbServer
2019-09-10 22:29:44,433 [Thread-339] INFO  minikdc.MiniKdc (MiniKdc.java:<init>(228)) -   kdc.bind.address: localhost
2019-09-10 22:29:44,434 [Thread-339] INFO  minikdc.MiniKdc (MiniKdc.java:<init>(230)) - ---------------------------------------------------------------
2019-09-10 22:29:44,436 [Thread-339] INFO  minikdc.MiniKdc (MiniKdc.java:start(285)) - MiniKdc started.
2019-09-10 22:29:44,746 [Thread-339] WARN  server.ServerUtils (ServerUtils.java:getDBPath(222)) - ozone.om.db.dirs is not configured. We recommend adding this setting. Falling back to ozone.metadata.dirs instead.
2019-09-10 22:29:44,784 [pool-124-thread-1] INFO  request.KdcRequest (KdcRequest.java:preauth(651)) - The preauth data is empty.
2019-09-10 22:29:44,784 [pool-124-thread-1] INFO  server.KdcHandler (KdcHandler.java:handleRecoverableException(177)) - KRB error occurred while processing request:Additional pre-authentication required
2019-09-10 22:29:44,794 [pool-124-thread-1] INFO  request.AsRequest (AsRequest.java:issueTicket(112)) - AS_REQ ISSUE: authtime 1568154584793,om/pr-hdds-2007-qhgzt-2180668592@EXAMPLE.COM for krbtgt/EXAMPLE.COM@EXAMPLE.COM
2019-09-10 22:29:44,797 [Thread-339] INFO  security.UserGroupInformation (UserGroupInformation.java:loginUserFromKeytab(1009)) - Login successful for user om/pr-hdds-2007-qhgzt-2180668592@EXAMPLE.COM using keytab file /workdir/hadoop-ozone/integration-test/target/test-dir/TestSecureOzoneCluster/om.keytab
2019-09-10 22:29:44,797 [Thread-339] INFO  om.OzoneManager (OzoneManager.java:loginOMUser(923)) - Ozone Manager login successful.
2019-09-10 22:29:44,797 [Thread-339] WARN  server.ServerUtils (ServerUtils.java:getDBPath(222)) - ozone.om.db.dirs is not configured. We recommend adding this setting. Falling back to ozone.metadata.dirs instead.
2019-09-10 22:29:44,798 [Thread-339] WARN  server.ServerUtils (ServerUtils.java:getDBPath(222)) - ozone.om.db.dirs is not configured. We recommend adding this setting. Falling back to ozone.metadata.dirs instead.
2019-09-10 22:29:44,798 [Thread-339] INFO  om.OzoneManager (OzoneManager.java:setOMNodeDetails(649)) - OM Service ID is not set. Setting it to the default ID: omServiceIdDefault
2019-09-10 22:29:44,798 [Thread-339] INFO  om.OzoneManager (OzoneManager.java:setOMNodeDetails(655)) - OM Node ID is not set. Setting it to the OmStorage's OmID: 109784fb-8f62-4d69-a8df-fec547478fb3
2019-09-10 22:29:44,799 [Thread-339] INFO  om.OzoneManager (OzoneManager.java:loadOMHAConfigs(606)) - Found matching OM address with OMServiceId: null, OMNodeId: null, RPC Address: 0.0.0.0:9862 and Ratis port: 9872
2019-09-10 22:29:44,804 [Thread-339] WARN  server.ServerUtils (ServerUtils.java:getDBPath(222)) - ozone.om.db.dirs is not configured. We recommend adding this setting. Falling back to ozone.metadata.dirs instead.
2019-09-10 22:29:44,805 [Thread-339] INFO  db.DBStoreBuilder (DBStoreBuilder.java:addTable(110)) - using custom profile for table: userTable
2019-09-10 22:29:44,805 [Thread-339] INFO  db.DBStoreBuilder (DBStoreBuilder.java:processTables(161)) - Using default column profile:DBProfile.DISK for Table:userTable
2019-09-10 22:29:44,805 [Thread-339] INFO  db.DBStoreBuilder (DBStoreBuilder.java:addTable(110)) - using custom profile for table: volumeTable
2019-09-10 22:29:44,806 [Thread-339] INFO  db.DBStoreBuilder (DBStoreBuilder.java:processTables(161)) - Using default column profile:DBProfile.DISK for Table:volumeTable
2019-09-10 22:29:44,806 [Thread-339] INFO  db.DBStoreBuilder (DBStoreBuilder.java:addTable(110)) - using custom profile for table: bucketTable
2019-09-10 22:29:44,806 [Thread-339] INFO  db.DBStoreBuilder (DBStoreBuilder.java:processTables(161)) - Using default column profile:DBProfile.DISK for Table:bucketTable
2019-09-10 22:29:44,806 [Thread-339] INFO  db.DBStoreBuilder (DBStoreBuilder.java:addTable(110)) - using custom profile for table: keyTable
2019-09-10 22:29:44,806 [Thread-339] INFO  db.DBStoreBuilder (DBStoreBuilder.java:processTables(161)) - Using default column profile:DBProfile.DISK for Table:keyTable
2019-09-10 22:29:44,807 [Thread-339] INFO  db.DBStoreBuilder (DBStoreBuilder.java:addTable(110)) - using custom profile for table: deletedTable
2019-09-10 22:29:44,807 [Thread-339] INFO  db.DBStoreBuilder (DBStoreBuilder.java:processTables(161)) - Using default column profile:DBProfile.DISK for Table:deletedTable
2019-09-10 22:29:44,807 [Thread-339] INFO  db.DBStoreBuilder (DBStoreBuilder.java:addTable(110)) - using custom profile for table: openKeyTable
2019-09-10 22:29:44,807 [Thread-339] INFO  db.DBStoreBuilder (DBStoreBuilder.java:processTables(161)) - Using default column profile:DBProfile.DISK for Table:openKeyTable
2019-09-10 22:29:44,807 [Thread-339] INFO  db.DBStoreBuilder (DBStoreBuilder.java:addTable(110)) - using custom profile for table: s3Table
2019-09-10 22:29:44,808 [Thread-339] INFO  db.DBStoreBuilder (DBStoreBuilder.java:processTables(161)) - Using default column profile:DBProfile.DISK for Table:s3Table
2019-09-10 22:29:44,808 [Thread-339] INFO  db.DBStoreBuilder (DBStoreBuilder.java:addTable(110)) - using custom profile for table: multipartInfoTable
2019-09-10 22:29:44,808 [Thread-339] INFO  db.DBStoreBuilder (DBStoreBuilder.java:processTables(161)) - Using default column profile:DBProfile.DISK for Table:multipartInfoTable
2019-09-10 22:29:44,809 [Thread-339] INFO  db.DBStoreBuilder (DBStoreBuilder.java:addTable(110)) - using custom profile for table: dTokenTable
2019-09-10 22:29:44,809 [Thread-339] INFO  db.DBStoreBuilder (DBStoreBuilder.java:processTables(161)) - Using default column profile:DBProfile.DISK for Table:dTokenTable
2019-09-10 22:29:44,809 [Thread-339] INFO  db.DBStoreBuilder (DBStoreBuilder.java:addTable(110)) - using custom profile for table: s3SecretTable
2019-09-10 22:29:44,809 [Thread-339] INFO  db.DBStoreBuilder (DBStoreBuilder.java:processTables(161)) - Using default column profile:DBProfile.DISK for Table:s3SecretTable
2019-09-10 22:29:44,809 [Thread-339] INFO  db.DBStoreBuilder (DBStoreBuilder.java:addTable(110)) - using custom profile for table: prefixTable
2019-09-10 22:29:44,809 [Thread-339] INFO  db.DBStoreBuilder (DBStoreBuilder.java:processTables(161)) - Using default column profile:DBProfile.DISK for Table:prefixTable
2019-09-10 22:29:44,810 [Thread-339] INFO  db.DBStoreBuilder (DBStoreBuilder.java:addTable(110)) - using custom profile for table: default
2019-09-10 22:29:44,810 [Thread-339] INFO  db.DBStoreBuilder (DBStoreBuilder.java:processTables(167)) - Using default column profile:DBProfile.DISK for Table:default
2019-09-10 22:29:44,810 [Thread-339] INFO  db.DBStoreBuilder (DBStoreBuilder.java:getDbProfile(198)) - Using default options. DBProfile.DISK
2019-09-10 22:29:45,265 [Thread-339] INFO  Configuration.deprecation (Configuration.java:logDeprecation(1394)) - No unit for ozone.manager.delegation.remover.scan.interval(3600000) assuming MILLISECONDS
2019-09-10 22:29:45,265 [Thread-339] INFO  Configuration.deprecation (Configuration.java:logDeprecation(1394)) - No unit for ozone.manager.delegation.token.max-lifetime(500) assuming MILLISECONDS
2019-09-10 22:29:45,266 [Thread-339] INFO  security.OzoneSecretStore (OzoneSecretStore.java:loadState(69)) - Loaded 0 tokens
2019-09-10 22:29:45,266 [Thread-339] INFO  security.OzoneDelegationTokenSecretManager (OzoneDelegationTokenSecretManager.java:loadTokenSecretState(421)) - Loading token state into token manager.
2019-09-10 22:29:45,269 [Thread-339] INFO  ipc.CallQueueManager (CallQueueManager.java:<init>(84)) - Using callQueue: class java.util.concurrent.LinkedBlockingQueue, queueCapacity: 2000, scheduler: class org.apache.hadoop.ipc.DefaultRpcScheduler, ipcBackoff: false.
2019-09-10 22:29:45,270 [Socket Reader #1 for port 9862] INFO  ipc.Server (Server.java:run(1074)) - Starting Socket Reader #1 for port 9862
2019-09-10 22:29:45,481 [Thread-339] INFO  om.OzoneManager (OzoneManager.java:start(1240)) - OzoneManager RPC server is listening at /0.0.0.0:9862
2019-09-10 22:29:45,481 [Thread-339] INFO  impl.MetricsSystemImpl (MetricsSystemImpl.java:init(158)) - OzoneManager metrics system started (again)
2019-09-10 22:29:45,482 [Thread-339] INFO  om.OzoneManager (OzoneManager.java:readKeyPair(884)) - Reading keypair and certificate from file system.
2019-09-10 22:29:45,482 [Thread-339] INFO  om.OzoneManager (OzoneManager.java:startSecretManager(861)) - Starting OM delegation token secret manager
2019-09-10 22:29:45,482 [Thread-339] INFO  security.OzoneDelegationTokenSecretManager (OzoneSecretManager.java:updateCurrentKey(167)) - Updating the current master key for generating tokens
2019-09-10 22:29:45,482 [Thread[Thread-347,5,main]] INFO  security.OzoneDelegationTokenSecretManager (OzoneDelegationTokenSecretManager.java:run(526)) - Starting expired delegation token remover thread, tokenRemoverScanInterval=60 min(s)
2019-09-10 22:29:45,483 [IPC Server listener on 9862] INFO  ipc.Server (Server.java:run(1153)) - IPC Server listener on 9862: starting
2019-09-10 22:29:45,483 [IPC Server Responder] INFO  ipc.Server (Server.java:run(1314)) - IPC Server Responder: starting
2019-09-10 22:29:45,489 [Thread-339] INFO  hdfs.DFSUtil (DFSUtil.java:httpServerTemplateForNNAndJN(1629)) - Starting web server as: HTTP_OM/pr-hdds-2007-qhgzt-2180668592@EXAMPLE.COM
2019-09-10 22:29:45,489 [Thread-339] INFO  hdfs.DFSUtil (DFSUtil.java:httpServerTemplateForNNAndJN(1641)) - Starting Web-server for ozoneManager at: http://0.0.0.0:9874
2019-09-10 22:29:45,491 [Thread-339] INFO  server.AuthenticationFilter (AuthenticationFilter.java:constructSecretProvider(240)) - Unable to initialize FileSignerSecretProvider, falling back to use random secrets.
2019-09-10 22:29:45,492 [Thread-339] WARN  http.HttpRequestLog (HttpRequestLog.java:getRequestLog(97)) - Jetty request log can only be enabled using Log4j
2019-09-10 22:29:45,493 [Thread-339] INFO  http.HttpServer2 (HttpServer2.java:addGlobalFilter(975)) - Added global filter 'safety' (class=org.apache.hadoop.http.HttpServer2$QuotingInputFilter)
2019-09-10 22:29:45,494 [Thread-339] INFO  http.HttpServer2 (HttpServer2.java:addFilter(948)) - Added filter static_user_filter (class=org.apache.hadoop.http.lib.StaticUserWebFilter$StaticUserFilter) to context ozoneManager
2019-09-10 22:29:45,494 [Thread-339] INFO  http.HttpServer2 (HttpServer2.java:addFilter(958)) - Added filter static_user_filter (class=org.apache.hadoop.http.lib.StaticUserWebFilter$StaticUserFilter) to context static
2019-09-10 22:29:45,494 [Thread-339] INFO  http.HttpServer2 (HttpServer2.java:addFilter(958)) - Added filter static_user_filter (class=org.apache.hadoop.http.lib.StaticUserWebFilter$StaticUserFilter) to context logs
2019-09-10 22:29:45,495 [Thread-339] INFO  http.HttpServer2 (HttpServer2.java:bindListener(1191)) - Jetty bound to port 9874
2019-09-10 22:29:45,495 [Thread-339] INFO  server.Server (Server.java:doStart(351)) - jetty-9.3.24.v20180605, build timestamp: 2018-06-05T17:11:56Z, git hash: 84205aa28f11a4f31f2a3b86d1bba2cc8ab69827
2019-09-10 22:29:45,497 [Thread-339] INFO  handler.ContextHandler (ContextHandler.java:doStart(781)) - Started o.e.j.s.ServletContextHandler@2db96853{/logs,file:///workdir/hadoop-ozone/integration-test/target/log,AVAILABLE}
2019-09-10 22:29:45,498 [Thread-339] INFO  handler.ContextHandler (ContextHandler.java:doStart(781)) - Started o.e.j.s.ServletContextHandler@76f35f1b{/static,file:///workdir/hadoop-ozone/integration-test/target/test-classes/webapps/static,AVAILABLE}
2019-09-10 22:29:45,502 [Thread-339] INFO  server.KerberosAuthenticationHandler (KerberosAuthenticationHandler.java:init(164)) - Using keytab /workdir/hadoop-ozone/integration-test/target/test-dir/TestSecureOzoneCluster/http.keytab, for principal HTTP_OM/pr-hdds-2007-qhgzt-2180668592@EXAMPLE.COM
2019-09-10 22:29:45,503 [Thread-339] INFO  handler.ContextHandler (ContextHandler.java:doStart(781)) - Started o.e.j.w.WebAppContext@71f3e87b{/,file:///workdir/hadoop-ozone/integration-test/target/test-classes/webapps/ozoneManager/,AVAILABLE}{/ozoneManager}
2019-09-10 22:29:45,504 [Thread-339] INFO  server.AbstractConnector (AbstractConnector.java:doStart(278)) - Started ServerConnector@34d817f6{HTTP/1.1,[http/1.1]}{0.0.0.0:9874}
2019-09-10 22:29:45,504 [Thread-339] INFO  server.Server (Server.java:doStart(419)) - Started @35229ms
2019-09-10 22:29:45,504 [Thread-339] WARN  impl.MetricsSystemImpl (MetricsSystemImpl.java:register(276)) - Sink prometheus already exists!
2019-09-10 22:29:45,505 [Thread-339] INFO  server.BaseHttpServer (BaseHttpServer.java:updateConnectorAddress(215)) - HTTP server of OZONEMANAGER is listening at http://0.0.0.0:9874
2019-09-10 22:29:45,516 [pool-124-thread-1] INFO  request.TgsRequest (TgsRequest.java:issueTicket(115)) - TGS_REQ ISSUE: authtime 1568154585515,om/pr-hdds-2007-qhgzt-2180668592 for om/pr-hdds-2007-qhgzt-2180668592@EXAMPLE.COM
2019-09-10 22:29:45,526 [Socket Reader #1 for port 9862] INFO  ipc.Server (Server.java:saslProcess(1849)) - Auth successful for om/pr-hdds-2007-qhgzt-2180668592@EXAMPLE.COM (auth:KERBEROS)
2019-09-10 22:29:45,539 [IPC Server handler 2 on 9862] WARN  ipc.Server (Server.java:logException(2724)) - IPC Server handler 2 on 9862, call Call#10 Retry#0 org.apache.hadoop.ozone.om.protocol.OzoneManagerProtocol.submitRequest from 192.168.69.94:46877
java.lang.NullPointerException
	at org.apache.hadoop.ozone.security.OzoneDelegationTokenSecretManager.updateToken(OzoneDelegationTokenSecretManager.java:164)
	at org.apache.hadoop.ozone.om.request.security.OMGetDelegationTokenRequest.validateAndUpdateCache(OMGetDelegationTokenRequest.java:155)
	at org.apache.hadoop.ozone.protocolPB.OzoneManagerProtocolServerSideTranslatorPB.submitRequestDirectlyToOM(OzoneManagerProtocolServerSideTranslatorPB.java:242)
	at org.apache.hadoop.ozone.protocolPB.OzoneManagerProtocolServerSideTranslatorPB.processRequest(OzoneManagerProtocolServerSideTranslatorPB.java:157)
	at org.apache.hadoop.ozone.protocolPB.OzoneManagerProtocolServerSideTranslatorPB.submitRequest(OzoneManagerProtocolServerSideTranslatorPB.java:111)
	at org.apache.hadoop.ozone.protocol.proto.OzoneManagerProtocolProtos$OzoneManagerService$2.callBlockingMethod(OzoneManagerProtocolProtos.java)
	at org.apache.hadoop.ipc.ProtobufRpcEngine$Server$ProtoBufRpcInvoker.call(ProtobufRpcEngine.java:524)
	at org.apache.hadoop.ipc.RPC$Server.call(RPC.java:1025)
	at org.apache.hadoop.ipc.Server$RpcCall.run(Server.java:876)
	at org.apache.hadoop.ipc.Server$RpcCall.run(Server.java:822)
	at java.security.AccessController.doPrivileged(Native Method)
	at javax.security.auth.Subject.doAs(Subject.java:422)
	at org.apache.hadoop.security.UserGroupInformation.doAs(UserGroupInformation.java:1730)
	at org.apache.hadoop.ipc.Server$Handler.run(Server.java:2682)
2019-09-10 22:29:45,541 [Thread-339] INFO  ipc.Server (Server.java:stop(3082)) - Stopping server on 9862
2019-09-10 22:29:45,542 [IPC Server listener on 9862] INFO  ipc.Server (Server.java:run(1185)) - Stopping IPC Server listener on 9862
2019-09-10 22:29:45,542 [IPC Server Responder] INFO  ipc.Server (Server.java:run(1319)) - Stopping IPC Server Responder
2019-09-10 22:29:45,542 [Thread-339] INFO  ratis.OzoneManagerDoubleBuffer (OzoneManagerDoubleBuffer.java:stop(248)) - Stopping OMDoubleBuffer flush thread
2019-09-10 22:29:45,544 [OMDoubleBufferFlushThread] INFO  ratis.OzoneManagerDoubleBuffer (OzoneManagerDoubleBuffer.java:flushTransactions(191)) - OMDoubleBuffer flush thread OMDoubleBufferFlushThread is interrupted and will exit. OMDoubleBufferFlushThread
2019-09-10 22:29:45,544 [Thread-339] INFO  utils.BackgroundService (BackgroundService.java:shutdown(148)) - Shutting down service KeyDeletingService
2019-09-10 22:29:45,545 [Thread-339] INFO  om.OzoneManager (OzoneManager.java:stopSecretManager(831)) - Stopping OM delegation token secret manager.
2019-09-10 22:29:45,545 [Thread[Thread-347,5,main]] ERROR security.OzoneDelegationTokenSecretManager (OzoneDelegationTokenSecretManager.java:run(541)) - ExpiredTokenRemover received java.lang.InterruptedException: sleep interrupted
2019-09-10 22:29:45,545 [Thread-339] INFO  handler.ContextHandler (ContextHandler.java:doStop(910)) - Stopped o.e.j.w.WebAppContext@71f3e87b{/,null,UNAVAILABLE}{/ozoneManager}
2019-09-10 22:29:45,546 [Thread-339] INFO  server.AbstractConnector (AbstractConnector.java:doStop(318)) - Stopped ServerConnector@34d817f6{HTTP/1.1,[http/1.1]}{0.0.0.0:9874}
2019-09-10 22:29:45,546 [Thread-339] INFO  handler.ContextHandler (ContextHandler.java:doStop(910)) - Stopped o.e.j.s.ServletContextHandler@76f35f1b{/static,file:///workdir/hadoop-ozone/integration-test/target/test-classes/webapps/static,UNAVAILABLE}
2019-09-10 22:29:45,547 [Thread-339] INFO  handler.ContextHandler (ContextHandler.java:doStop(910)) - Stopped o.e.j.s.ServletContextHandler@2db96853{/logs,file:///workdir/hadoop-ozone/integration-test/target/log,UNAVAILABLE}
2019-09-10 22:29:45,548 [Thread-339] INFO  impl.DefaultInternalKdcServerImpl (DefaultInternalKdcServerImpl.java:doStop(102)) - Default Internal kdc server stopped.
2019-09-10 22:29:46,548 [Thread-339] INFO  minikdc.MiniKdc (MiniKdc.java:stop(359)) - MiniKdc stopped.
2019-09-10 22:29:46,549 [Thread-339] INFO  ipc.Server (Server.java:stop(3082)) - Stopping server on 9862
2019-09-10 22:29:46,549 [Thread-339] INFO  ratis.OzoneManagerDoubleBuffer (OzoneManagerDoubleBuffer.java:stop(260)) - OMDoubleBuffer flush thread is not running.
2019-09-10 22:29:46,549 [Thread-339] INFO  om.OzoneManager (OzoneManager.java:stopSecretManager(831)) - Stopping OM delegation token secret manager.
2019-09-10 22:29:46,580 [Thread-379] INFO  minikdc.MiniKdc (MiniKdc.java:<init>(225)) - Configuration:
2019-09-10 22:29:46,581 [Thread-379] INFO  minikdc.MiniKdc (MiniKdc.java:<init>(226)) - ---------------------------------------------------------------
2019-09-10 22:29:46,581 [Thread-379] INFO  minikdc.MiniKdc (MiniKdc.java:<init>(228)) -   debug: false
2019-09-10 22:29:46,581 [Thread-379] INFO  minikdc.MiniKdc (MiniKdc.java:<init>(228)) -   transport: TCP
2019-09-10 22:29:46,581 [Thread-379] INFO  minikdc.MiniKdc (MiniKdc.java:<init>(228)) -   max.ticket.lifetime: 86400000
2019-09-10 22:29:46,581 [Thread-379] INFO  minikdc.MiniKdc (MiniKdc.java:<init>(228)) -   org.name: EXAMPLE
2019-09-10 22:29:46,581 [Thread-379] INFO  minikdc.MiniKdc (MiniKdc.java:<init>(228)) -   kdc.port: 0
2019-09-10 22:29:46,581 [Thread-379] INFO  minikdc.MiniKdc (MiniKdc.java:<init>(228)) -   org.domain: COM
2019-09-10 22:29:46,582 [Thread-379] INFO  minikdc.MiniKdc (MiniKdc.java:<init>(228)) -   max.renewable.lifetime: 604800000
2019-09-10 22:29:46,582 [Thread-379] INFO  minikdc.MiniKdc (MiniKdc.java:<init>(228)) -   instance: DefaultKrbServer
2019-09-10 22:29:46,582 [Thread-379] INFO  minikdc.MiniKdc (MiniKdc.java:<init>(228)) -   kdc.bind.address: localhost
2019-09-10 22:29:46,582 [Thread-379] INFO  minikdc.MiniKdc (MiniKdc.java:<init>(230)) - ---------------------------------------------------------------
2019-09-10 22:29:46,585 [Thread-379] INFO  minikdc.MiniKdc (MiniKdc.java:start(285)) - MiniKdc started.
2019-09-10 22:29:46,885 [Thread-379] WARN  server.ServerUtils (ServerUtils.java:getScmDbDir(145)) - ozone.scm.db.dirs is not configured. We recommend adding this setting. Falling back to ozone.metadata.dirs instead.
2019-09-10 22:29:46,903 [Thread-379] WARN  server.ServerUtils (ServerUtils.java:getScmDbDir(145)) - ozone.scm.db.dirs is not configured. We recommend adding this setting. Falling back to ozone.metadata.dirs instead.
2019-09-10 22:29:46,905 [Thread-379] WARN  server.ServerUtils (ServerUtils.java:getScmDbDir(145)) - ozone.scm.db.dirs is not configured. We recommend adding this setting. Falling back to ozone.metadata.dirs instead.
2019-09-10 22:29:46,910 [Thread-379] WARN  server.ServerUtils (ServerUtils.java:getScmDbDir(145)) - ozone.scm.db.dirs is not configured. We recommend adding this setting. Falling back to ozone.metadata.dirs instead.
2019-09-10 22:29:46,911 [Thread-379] WARN  server.ServerUtils (ServerUtils.java:getScmDbDir(145)) - ozone.scm.db.dirs is not configured. We recommend adding this setting. Falling back to ozone.metadata.dirs instead.
2019-09-10 22:29:46,911 [Thread-379] INFO  impl.DefaultInternalKdcServerImpl (DefaultInternalKdcServerImpl.java:doStop(102)) - Default Internal kdc server stopped.
2019-09-10 22:29:47,912 [Thread-379] INFO  minikdc.MiniKdc (MiniKdc.java:stop(359)) - MiniKdc stopped.
