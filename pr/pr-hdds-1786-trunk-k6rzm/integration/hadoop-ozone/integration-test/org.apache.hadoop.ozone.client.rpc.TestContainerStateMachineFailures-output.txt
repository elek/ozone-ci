2019-09-10 17:52:10,476 [main] WARN  server.ServerUtils (ServerUtils.java:getScmDbDir(145)) - ozone.scm.db.dirs is not configured. We recommend adding this setting. Falling back to ozone.metadata.dirs instead.
2019-09-10 17:52:10,608 [main] WARN  server.ServerUtils (ServerUtils.java:getScmDbDir(145)) - ozone.scm.db.dirs is not configured. We recommend adding this setting. Falling back to ozone.metadata.dirs instead.
2019-09-10 17:52:10,612 [main] WARN  server.ServerUtils (ServerUtils.java:getScmDbDir(145)) - ozone.scm.db.dirs is not configured. We recommend adding this setting. Falling back to ozone.metadata.dirs instead.
2019-09-10 17:52:10,629 [main] INFO  util.log (Log.java:initialized(192)) - Logging initialized @965ms
2019-09-10 17:52:10,732 [main] INFO  db.DBStoreBuilder (DBStoreBuilder.java:addTable(110)) - using custom profile for table: deletedBlocks
2019-09-10 17:52:10,732 [main] INFO  db.DBStoreBuilder (DBStoreBuilder.java:processTables(161)) - Using default column profile:DBProfile.DISK for Table:deletedBlocks
2019-09-10 17:52:10,733 [main] INFO  db.DBStoreBuilder (DBStoreBuilder.java:addTable(110)) - using custom profile for table: validCerts
2019-09-10 17:52:10,733 [main] INFO  db.DBStoreBuilder (DBStoreBuilder.java:processTables(161)) - Using default column profile:DBProfile.DISK for Table:validCerts
2019-09-10 17:52:10,733 [main] INFO  db.DBStoreBuilder (DBStoreBuilder.java:addTable(110)) - using custom profile for table: revokedCerts
2019-09-10 17:52:10,734 [main] INFO  db.DBStoreBuilder (DBStoreBuilder.java:processTables(161)) - Using default column profile:DBProfile.DISK for Table:revokedCerts
2019-09-10 17:52:10,746 [main] INFO  db.DBStoreBuilder (DBStoreBuilder.java:addTable(110)) - using custom profile for table: default
2019-09-10 17:52:10,746 [main] INFO  db.DBStoreBuilder (DBStoreBuilder.java:processTables(167)) - Using default column profile:DBProfile.DISK for Table:default
2019-09-10 17:52:10,747 [main] INFO  db.DBStoreBuilder (DBStoreBuilder.java:getDbProfile(198)) - Using default options. DBProfile.DISK
2019-09-10 17:52:11,471 [main] INFO  net.NodeSchemaLoader (NodeSchemaLoader.java:loadSchemaFromFile(125)) - Loading file from sun.misc.CompoundEnumeration@4c583ecf
2019-09-10 17:52:11,473 [main] INFO  net.NodeSchemaLoader (NodeSchemaLoader.java:loadSchema(171)) - Loading network topology layer schema file
2019-09-10 17:52:11,544 [main] INFO  node.SCMNodeManager (SCMNodeManager.java:<init>(114)) - Entering startup safe mode.
2019-09-10 17:52:11,616 [main] INFO  algorithms.ContainerPlacementPolicyFactory (ContainerPlacementPolicyFactory.java:getPolicy(57)) - Create container placement policy of type org.apache.hadoop.hdds.scm.container.placement.algorithms.SCMContainerPlacementRandom
2019-09-10 17:52:11,630 [main] WARN  server.ServerUtils (ServerUtils.java:getScmDbDir(145)) - ozone.scm.db.dirs is not configured. We recommend adding this setting. Falling back to ozone.metadata.dirs instead.
2019-09-10 17:52:11,762 [main] INFO  pipeline.SCMPipelineManager (SCMPipelineManager.java:initializePipelineState(128)) - No pipeline exists in current db
2019-09-10 17:52:11,765 [main] WARN  server.ServerUtils (ServerUtils.java:getScmDbDir(145)) - ozone.scm.db.dirs is not configured. We recommend adding this setting. Falling back to ozone.metadata.dirs instead.
2019-09-10 17:52:11,960 [main] WARN  events.EventQueue (EventQueue.java:fireEvent(183)) - No event handler registered for event TypedEvent{payloadType=SafeModeStatus, name='SafeModeStatus'}
ERROR StatusLogger No Log4j 2 configuration file found. Using default configuration (logging only errors to the console), or user programmatically provided configurations. Set system property 'log4j2.debug' to show Log4j 2 internal initialization logging. See https://logging.apache.org/log4j/2.x/manual/configuration.html for instructions on how to configure Log4j 2
2019-09-10 17:52:12,332 [main] INFO  ipc.CallQueueManager (CallQueueManager.java:<init>(84)) - Using callQueue: class java.util.concurrent.LinkedBlockingQueue, queueCapacity: 2000, scheduler: class org.apache.hadoop.ipc.DefaultRpcScheduler, ipcBackoff: false.
2019-09-10 17:52:12,361 [Socket Reader #1 for port 43368] INFO  ipc.Server (Server.java:run(1074)) - Starting Socket Reader #1 for port 43368
2019-09-10 17:52:12,533 [main] INFO  ipc.CallQueueManager (CallQueueManager.java:<init>(84)) - Using callQueue: class java.util.concurrent.LinkedBlockingQueue, queueCapacity: 2000, scheduler: class org.apache.hadoop.ipc.DefaultRpcScheduler, ipcBackoff: false.
2019-09-10 17:52:12,534 [Socket Reader #1 for port 34058] INFO  ipc.Server (Server.java:run(1074)) - Starting Socket Reader #1 for port 34058
2019-09-10 17:52:12,546 [main] INFO  ipc.CallQueueManager (CallQueueManager.java:<init>(84)) - Using callQueue: class java.util.concurrent.LinkedBlockingQueue, queueCapacity: 2000, scheduler: class org.apache.hadoop.ipc.DefaultRpcScheduler, ipcBackoff: false.
2019-09-10 17:52:12,547 [Socket Reader #1 for port 45136] INFO  ipc.Server (Server.java:run(1074)) - Starting Socket Reader #1 for port 45136
2019-09-10 17:52:12,574 [main] INFO  hdfs.DFSUtil (DFSUtil.java:httpServerTemplateForNNAndJN(1641)) - Starting Web-server for scm at: http://0.0.0.0:0
2019-09-10 17:52:12,717 [main] INFO  server.AuthenticationFilter (AuthenticationFilter.java:constructSecretProvider(240)) - Unable to initialize FileSignerSecretProvider, falling back to use random secrets.
2019-09-10 17:52:12,725 [main] WARN  http.HttpRequestLog (HttpRequestLog.java:getRequestLog(97)) - Jetty request log can only be enabled using Log4j
2019-09-10 17:52:12,732 [main] INFO  http.HttpServer2 (HttpServer2.java:addGlobalFilter(975)) - Added global filter 'safety' (class=org.apache.hadoop.http.HttpServer2$QuotingInputFilter)
2019-09-10 17:52:12,735 [main] INFO  http.HttpServer2 (HttpServer2.java:addFilter(948)) - Added filter static_user_filter (class=org.apache.hadoop.http.lib.StaticUserWebFilter$StaticUserFilter) to context scm
2019-09-10 17:52:12,735 [main] INFO  http.HttpServer2 (HttpServer2.java:addFilter(958)) - Added filter static_user_filter (class=org.apache.hadoop.http.lib.StaticUserWebFilter$StaticUserFilter) to context logs
2019-09-10 17:52:12,736 [main] INFO  http.HttpServer2 (HttpServer2.java:addFilter(958)) - Added filter static_user_filter (class=org.apache.hadoop.http.lib.StaticUserWebFilter$StaticUserFilter) to context static
2019-09-10 17:52:12,775 [main] INFO  server.StorageContainerManager (StorageContainerManager.java:start(763)) - StorageContainerLocationProtocol RPC server is listening at /0.0.0.0:45136
2019-09-10 17:52:12,852 [main] WARN  impl.MetricsConfig (MetricsConfig.java:loadFirst(134)) - Cannot locate configuration: tried hadoop-metrics2-storagecontainermanager.properties,hadoop-metrics2.properties
2019-09-10 17:52:12,865 [main] INFO  impl.MetricsSystemImpl (MetricsSystemImpl.java:startTimer(374)) - Scheduled Metric snapshot period at 10 second(s).
2019-09-10 17:52:12,865 [main] INFO  impl.MetricsSystemImpl (MetricsSystemImpl.java:start(191)) - StorageContainerManager metrics system started
2019-09-10 17:52:13,105 [main] INFO  server.SCMClientProtocolServer (SCMClientProtocolServer.java:start(151)) - RPC server for Client  is listening at /0.0.0.0:45136
2019-09-10 17:52:13,106 [IPC Server Responder] INFO  ipc.Server (Server.java:run(1314)) - IPC Server Responder: starting
2019-09-10 17:52:13,106 [IPC Server listener on 45136] INFO  ipc.Server (Server.java:run(1153)) - IPC Server listener on 45136: starting
2019-09-10 17:52:13,109 [main] INFO  server.StorageContainerManager (StorageContainerManager.java:start(773)) - ScmBlockLocationProtocol RPC server is listening at /0.0.0.0:34058
2019-09-10 17:52:13,110 [main] INFO  server.SCMBlockProtocolServer (SCMBlockProtocolServer.java:start(146)) - RPC server for Block Protocol is listening at /0.0.0.0:34058
2019-09-10 17:52:13,110 [IPC Server Responder] INFO  ipc.Server (Server.java:run(1314)) - IPC Server Responder: starting
2019-09-10 17:52:13,111 [IPC Server listener on 34058] INFO  ipc.Server (Server.java:run(1153)) - IPC Server listener on 34058: starting
2019-09-10 17:52:13,113 [main] INFO  server.StorageContainerManager (StorageContainerManager.java:start(777)) - ScmDatanodeProtocl RPC server is listening at /0.0.0.0:43368
2019-09-10 17:52:13,113 [main] INFO  server.SCMDatanodeProtocolServer (SCMDatanodeProtocolServer.java:start(191)) - RPC server for DataNodes is listening at /0.0.0.0:43368
2019-09-10 17:52:13,113 [IPC Server Responder] INFO  ipc.Server (Server.java:run(1314)) - IPC Server Responder: starting
2019-09-10 17:52:13,113 [IPC Server listener on 43368] INFO  ipc.Server (Server.java:run(1153)) - IPC Server listener on 43368: starting
2019-09-10 17:52:13,117 [main] INFO  http.HttpServer2 (HttpServer2.java:bindListener(1191)) - Jetty bound to port 40862
2019-09-10 17:52:13,119 [main] INFO  server.Server (Server.java:doStart(351)) - jetty-9.3.24.v20180605, build timestamp: 2018-06-05T17:11:56Z, git hash: 84205aa28f11a4f31f2a3b86d1bba2cc8ab69827
2019-09-10 17:52:13,154 [main] INFO  handler.ContextHandler (ContextHandler.java:doStart(781)) - Started o.e.j.s.ServletContextHandler@2b0f373b{/logs,file:///workdir/hadoop-ozone/integration-test/target/log,AVAILABLE}
2019-09-10 17:52:13,155 [main] INFO  handler.ContextHandler (ContextHandler.java:doStart(781)) - Started o.e.j.s.ServletContextHandler@4b45dcb8{/static,file:///workdir/hadoop-ozone/integration-test/target/test-classes/webapps/static,AVAILABLE}
2019-09-10 17:52:13,188 [main] INFO  handler.ContextHandler (ContextHandler.java:doStart(781)) - Started o.e.j.w.WebAppContext@740abb5{/,file:///workdir/hadoop-ozone/integration-test/target/test-classes/webapps/scm/,AVAILABLE}{/scm}
2019-09-10 17:52:13,193 [main] INFO  server.AbstractConnector (AbstractConnector.java:doStart(278)) - Started ServerConnector@61edc883{HTTP/1.1,[http/1.1]}{0.0.0.0:40862}
2019-09-10 17:52:13,194 [main] INFO  server.Server (Server.java:doStart(419)) - Started @3529ms
2019-09-10 17:52:13,196 [main] INFO  impl.MetricsSinkAdapter (MetricsSinkAdapter.java:start(204)) - Sink prometheus started
2019-09-10 17:52:13,196 [main] INFO  impl.MetricsSystemImpl (MetricsSystemImpl.java:registerSink(301)) - Registered sink prometheus
2019-09-10 17:52:13,198 [main] INFO  server.BaseHttpServer (BaseHttpServer.java:updateConnectorAddress(215)) - HTTP server of SCM is listening at http://0.0.0.0:40862
2019-09-10 17:52:13,204 [org.apache.hadoop.util.JvmPauseMonitor$Monitor@5003041b] INFO  util.JvmPauseMonitor (JvmPauseMonitor.java:run(188)) - Starting JVM pause monitor
2019-09-10 17:52:13,209 [main] WARN  server.ServerUtils (ServerUtils.java:getDBPath(222)) - ozone.om.db.dirs is not configured. We recommend adding this setting. Falling back to ozone.metadata.dirs instead.
2019-09-10 17:52:13,336 [main] WARN  server.ServerUtils (ServerUtils.java:getDBPath(222)) - ozone.om.db.dirs is not configured. We recommend adding this setting. Falling back to ozone.metadata.dirs instead.
2019-09-10 17:52:13,336 [main] WARN  server.ServerUtils (ServerUtils.java:getDBPath(222)) - ozone.om.db.dirs is not configured. We recommend adding this setting. Falling back to ozone.metadata.dirs instead.
2019-09-10 17:52:13,337 [main] INFO  om.OzoneManager (OzoneManager.java:setOMNodeDetails(649)) - OM Service ID is not set. Setting it to the default ID: omServiceIdDefault
2019-09-10 17:52:13,337 [main] INFO  om.OzoneManager (OzoneManager.java:setOMNodeDetails(655)) - OM Node ID is not set. Setting it to the OmStorage's OmID: 0a5331f5-0bbf-4f67-a937-3168a3782be8
2019-09-10 17:52:13,338 [main] INFO  om.OzoneManager (OzoneManager.java:loadOMHAConfigs(606)) - Found matching OM address with OMServiceId: null, OMNodeId: null, RPC Address: localhost:0 and Ratis port: 9872
2019-09-10 17:52:14,037 [main] WARN  server.ServerUtils (ServerUtils.java:getDBPath(222)) - ozone.om.db.dirs is not configured. We recommend adding this setting. Falling back to ozone.metadata.dirs instead.
2019-09-10 17:52:14,045 [main] INFO  db.DBStoreBuilder (DBStoreBuilder.java:addTable(110)) - using custom profile for table: userTable
2019-09-10 17:52:14,045 [main] INFO  db.DBStoreBuilder (DBStoreBuilder.java:processTables(161)) - Using default column profile:DBProfile.DISK for Table:userTable
2019-09-10 17:52:14,045 [main] INFO  db.DBStoreBuilder (DBStoreBuilder.java:addTable(110)) - using custom profile for table: volumeTable
2019-09-10 17:52:14,046 [main] INFO  db.DBStoreBuilder (DBStoreBuilder.java:processTables(161)) - Using default column profile:DBProfile.DISK for Table:volumeTable
2019-09-10 17:52:14,046 [main] INFO  db.DBStoreBuilder (DBStoreBuilder.java:addTable(110)) - using custom profile for table: bucketTable
2019-09-10 17:52:14,046 [main] INFO  db.DBStoreBuilder (DBStoreBuilder.java:processTables(161)) - Using default column profile:DBProfile.DISK for Table:bucketTable
2019-09-10 17:52:14,046 [main] INFO  db.DBStoreBuilder (DBStoreBuilder.java:addTable(110)) - using custom profile for table: keyTable
2019-09-10 17:52:14,047 [main] INFO  db.DBStoreBuilder (DBStoreBuilder.java:processTables(161)) - Using default column profile:DBProfile.DISK for Table:keyTable
2019-09-10 17:52:14,047 [main] INFO  db.DBStoreBuilder (DBStoreBuilder.java:addTable(110)) - using custom profile for table: deletedTable
2019-09-10 17:52:14,047 [main] INFO  db.DBStoreBuilder (DBStoreBuilder.java:processTables(161)) - Using default column profile:DBProfile.DISK for Table:deletedTable
2019-09-10 17:52:14,047 [main] INFO  db.DBStoreBuilder (DBStoreBuilder.java:addTable(110)) - using custom profile for table: openKeyTable
2019-09-10 17:52:14,047 [main] INFO  db.DBStoreBuilder (DBStoreBuilder.java:processTables(161)) - Using default column profile:DBProfile.DISK for Table:openKeyTable
2019-09-10 17:52:14,048 [main] INFO  db.DBStoreBuilder (DBStoreBuilder.java:addTable(110)) - using custom profile for table: s3Table
2019-09-10 17:52:14,048 [main] INFO  db.DBStoreBuilder (DBStoreBuilder.java:processTables(161)) - Using default column profile:DBProfile.DISK for Table:s3Table
2019-09-10 17:52:14,048 [main] INFO  db.DBStoreBuilder (DBStoreBuilder.java:addTable(110)) - using custom profile for table: multipartInfoTable
2019-09-10 17:52:14,048 [main] INFO  db.DBStoreBuilder (DBStoreBuilder.java:processTables(161)) - Using default column profile:DBProfile.DISK for Table:multipartInfoTable
2019-09-10 17:52:14,049 [main] INFO  db.DBStoreBuilder (DBStoreBuilder.java:addTable(110)) - using custom profile for table: dTokenTable
2019-09-10 17:52:14,049 [main] INFO  db.DBStoreBuilder (DBStoreBuilder.java:processTables(161)) - Using default column profile:DBProfile.DISK for Table:dTokenTable
2019-09-10 17:52:14,049 [main] INFO  db.DBStoreBuilder (DBStoreBuilder.java:addTable(110)) - using custom profile for table: s3SecretTable
2019-09-10 17:52:14,049 [main] INFO  db.DBStoreBuilder (DBStoreBuilder.java:processTables(161)) - Using default column profile:DBProfile.DISK for Table:s3SecretTable
2019-09-10 17:52:14,050 [main] INFO  db.DBStoreBuilder (DBStoreBuilder.java:addTable(110)) - using custom profile for table: prefixTable
2019-09-10 17:52:14,050 [main] INFO  db.DBStoreBuilder (DBStoreBuilder.java:processTables(161)) - Using default column profile:DBProfile.DISK for Table:prefixTable
2019-09-10 17:52:14,050 [main] INFO  db.DBStoreBuilder (DBStoreBuilder.java:addTable(110)) - using custom profile for table: default
2019-09-10 17:52:14,050 [main] INFO  db.DBStoreBuilder (DBStoreBuilder.java:processTables(167)) - Using default column profile:DBProfile.DISK for Table:default
2019-09-10 17:52:14,050 [main] INFO  db.DBStoreBuilder (DBStoreBuilder.java:getDbProfile(198)) - Using default options. DBProfile.DISK
2019-09-10 17:52:14,724 [main] INFO  ipc.CallQueueManager (CallQueueManager.java:<init>(84)) - Using callQueue: class java.util.concurrent.LinkedBlockingQueue, queueCapacity: 2000, scheduler: class org.apache.hadoop.ipc.DefaultRpcScheduler, ipcBackoff: false.
2019-09-10 17:52:14,725 [Socket Reader #1 for port 35479] INFO  ipc.Server (Server.java:run(1074)) - Starting Socket Reader #1 for port 35479
2019-09-10 17:52:14,750 [main] INFO  om.OzoneManager (OzoneManager.java:start(1240)) - OzoneManager RPC server is listening at localhost/127.0.0.1:35479
2019-09-10 17:52:14,750 [main] INFO  impl.MetricsSystemImpl (MetricsSystemImpl.java:init(158)) - OzoneManager metrics system started (again)
2019-09-10 17:52:14,751 [IPC Server Responder] INFO  ipc.Server (Server.java:run(1314)) - IPC Server Responder: starting
2019-09-10 17:52:14,751 [IPC Server listener on 35479] INFO  ipc.Server (Server.java:run(1153)) - IPC Server listener on 35479: starting
2019-09-10 17:52:14,756 [main] INFO  hdfs.DFSUtil (DFSUtil.java:httpServerTemplateForNNAndJN(1641)) - Starting Web-server for ozoneManager at: http://0.0.0.0:0
2019-09-10 17:52:14,757 [main] INFO  server.AuthenticationFilter (AuthenticationFilter.java:constructSecretProvider(240)) - Unable to initialize FileSignerSecretProvider, falling back to use random secrets.
2019-09-10 17:52:14,758 [main] WARN  http.HttpRequestLog (HttpRequestLog.java:getRequestLog(97)) - Jetty request log can only be enabled using Log4j
2019-09-10 17:52:14,760 [main] INFO  http.HttpServer2 (HttpServer2.java:addGlobalFilter(975)) - Added global filter 'safety' (class=org.apache.hadoop.http.HttpServer2$QuotingInputFilter)
2019-09-10 17:52:14,761 [main] INFO  http.HttpServer2 (HttpServer2.java:addFilter(948)) - Added filter static_user_filter (class=org.apache.hadoop.http.lib.StaticUserWebFilter$StaticUserFilter) to context ozoneManager
2019-09-10 17:52:14,761 [main] INFO  http.HttpServer2 (HttpServer2.java:addFilter(958)) - Added filter static_user_filter (class=org.apache.hadoop.http.lib.StaticUserWebFilter$StaticUserFilter) to context logs
2019-09-10 17:52:14,761 [main] INFO  http.HttpServer2 (HttpServer2.java:addFilter(958)) - Added filter static_user_filter (class=org.apache.hadoop.http.lib.StaticUserWebFilter$StaticUserFilter) to context static
2019-09-10 17:52:14,763 [main] INFO  http.HttpServer2 (HttpServer2.java:bindListener(1191)) - Jetty bound to port 37403
2019-09-10 17:52:14,763 [main] INFO  server.Server (Server.java:doStart(351)) - jetty-9.3.24.v20180605, build timestamp: 2018-06-05T17:11:56Z, git hash: 84205aa28f11a4f31f2a3b86d1bba2cc8ab69827
2019-09-10 17:52:14,765 [main] INFO  handler.ContextHandler (ContextHandler.java:doStart(781)) - Started o.e.j.s.ServletContextHandler@74971ed9{/logs,file:///workdir/hadoop-ozone/integration-test/target/log,AVAILABLE}
2019-09-10 17:52:14,766 [main] INFO  handler.ContextHandler (ContextHandler.java:doStart(781)) - Started o.e.j.s.ServletContextHandler@ccd1bc3{/static,file:///workdir/hadoop-ozone/integration-test/target/test-classes/webapps/static,AVAILABLE}
2019-09-10 17:52:14,770 [main] INFO  handler.ContextHandler (ContextHandler.java:doStart(781)) - Started o.e.j.w.WebAppContext@3eed0f5{/,file:///workdir/hadoop-ozone/integration-test/target/test-classes/webapps/ozoneManager/,AVAILABLE}{/ozoneManager}
2019-09-10 17:52:14,771 [main] INFO  server.AbstractConnector (AbstractConnector.java:doStart(278)) - Started ServerConnector@64030b91{HTTP/1.1,[http/1.1]}{0.0.0.0:37403}
2019-09-10 17:52:14,773 [main] INFO  server.Server (Server.java:doStart(419)) - Started @5108ms
2019-09-10 17:52:14,773 [main] WARN  impl.MetricsSystemImpl (MetricsSystemImpl.java:register(276)) - Sink prometheus already exists!
2019-09-10 17:52:14,773 [main] INFO  server.BaseHttpServer (BaseHttpServer.java:updateConnectorAddress(215)) - HTTP server of OZONEMANAGER is listening at http://0.0.0.0:37403
2019-09-10 17:52:15,070 [main] INFO  impl.MetricsSystemImpl (MetricsSystemImpl.java:init(158)) - HddsDatanode metrics system started (again)
2019-09-10 17:52:15,117 [main] INFO  ozone.HddsDatanodeService (HddsDatanodeService.java:start(184)) - HddsDatanodeService host:pr-hdds-1786-trunk-k6rzm-1803654198 ip:192.168.5.139
2019-09-10 17:52:15,150 [main] INFO  volume.HddsVolume (HddsVolume.java:<init>(176)) - Creating Volume: /workdir/hadoop-ozone/integration-test/target/test-dir/MiniOzoneClusterImpl-d01b3807-3732-4de8-b8ba-bdf98e618289/datanode-0/data/containers/hdds of  storage type : DISK and capacity : 1482555576320
2019-09-10 17:52:15,152 [main] INFO  volume.VolumeSet (VolumeSet.java:initializeVolumeSet(170)) - Added Volume : /workdir/hadoop-ozone/integration-test/target/test-dir/MiniOzoneClusterImpl-d01b3807-3732-4de8-b8ba-bdf98e618289/datanode-0/data/containers/hdds to VolumeSet
2019-09-10 17:52:15,155 [main] INFO  volume.ThrottledAsyncChecker (ThrottledAsyncChecker.java:schedule(139)) - Scheduling a check for org.apache.hadoop.ozone.container.common.volume.HddsVolume@1c504e66
2019-09-10 17:52:15,172 [main] INFO  volume.HddsVolumeChecker (HddsVolumeChecker.java:checkAllVolumes(202)) - Scheduled health check for volume org.apache.hadoop.ozone.container.common.volume.HddsVolume@1c504e66
2019-09-10 17:52:15,279 [main] INFO  impl.RaftServerProxy (ConfUtils.java:logGet(43)) - raft.rpc.type = GRPC (default)
2019-09-10 17:52:15,346 [main] INFO  grpc.GrpcFactory (GrpcFactory.java:checkPooledByteBufAllocatorUseCacheForAllThreads(45)) - PERFORMANCE WARNING: useCacheForAllThreads is true that may cause Netty to create a lot garbage objects and, as a result, trigger GC.
	It is recommended to disable useCacheForAllThreads by setting -Dorg.apache.ratis.thirdparty.io.netty.allocator.useCacheForAllThreads=false in command line.
2019-09-10 17:52:15,351 [main] INFO  grpc.GrpcConfigKeys$Server (ConfUtils.java:logGet(43)) - raft.grpc.server.port = 0 (default)
2019-09-10 17:52:15,352 [main] INFO  server.GrpcService (ConfUtils.java:logGet(43)) - raft.grpc.message.size.max = 33570816 (custom)
2019-09-10 17:52:15,353 [main] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.log.appender.buffer.byte-limit = 33554432 (custom)
2019-09-10 17:52:15,354 [main] INFO  server.GrpcService (ConfUtils.java:logGet(43)) - raft.grpc.flow.control.window = 1MB (=1048576) (default)
2019-09-10 17:52:15,355 [main] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.rpc.request.timeout = 3000ms (default)
2019-09-10 17:52:15,511 [main] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.storage.dir = [/workdir/hadoop-ozone/integration-test/target/test-dir/MiniOzoneClusterImpl-d01b3807-3732-4de8-b8ba-bdf98e618289/datanode-0/data/ratis] (custom)
2019-09-10 17:52:15,563 [main] INFO  hdfs.DFSUtil (DFSUtil.java:httpServerTemplateForNNAndJN(1641)) - Starting Web-server for hddsDatanode at: http://0.0.0.0:0
2019-09-10 17:52:15,564 [main] INFO  server.AuthenticationFilter (AuthenticationFilter.java:constructSecretProvider(240)) - Unable to initialize FileSignerSecretProvider, falling back to use random secrets.
2019-09-10 17:52:15,565 [main] WARN  http.HttpRequestLog (HttpRequestLog.java:getRequestLog(97)) - Jetty request log can only be enabled using Log4j
2019-09-10 17:52:15,567 [main] INFO  http.HttpServer2 (HttpServer2.java:addGlobalFilter(975)) - Added global filter 'safety' (class=org.apache.hadoop.http.HttpServer2$QuotingInputFilter)
2019-09-10 17:52:15,567 [main] INFO  http.HttpServer2 (HttpServer2.java:addFilter(948)) - Added filter static_user_filter (class=org.apache.hadoop.http.lib.StaticUserWebFilter$StaticUserFilter) to context hddsDatanode
2019-09-10 17:52:15,568 [main] INFO  http.HttpServer2 (HttpServer2.java:addFilter(958)) - Added filter static_user_filter (class=org.apache.hadoop.http.lib.StaticUserWebFilter$StaticUserFilter) to context logs
2019-09-10 17:52:15,568 [main] INFO  http.HttpServer2 (HttpServer2.java:addFilter(958)) - Added filter static_user_filter (class=org.apache.hadoop.http.lib.StaticUserWebFilter$StaticUserFilter) to context static
2019-09-10 17:52:15,569 [main] INFO  http.HttpServer2 (HttpServer2.java:bindListener(1191)) - Jetty bound to port 46502
2019-09-10 17:52:15,569 [main] INFO  server.Server (Server.java:doStart(351)) - jetty-9.3.24.v20180605, build timestamp: 2018-06-05T17:11:56Z, git hash: 84205aa28f11a4f31f2a3b86d1bba2cc8ab69827
2019-09-10 17:52:15,571 [main] INFO  handler.ContextHandler (ContextHandler.java:doStart(781)) - Started o.e.j.s.ServletContextHandler@6ede46f6{/logs,file:///workdir/hadoop-ozone/integration-test/target/log,AVAILABLE}
2019-09-10 17:52:15,571 [main] INFO  handler.ContextHandler (ContextHandler.java:doStart(781)) - Started o.e.j.s.ServletContextHandler@2127e66e{/static,jar:file:/home/user/.m2/repository/org/apache/hadoop/hadoop-hdds-container-service/0.5.0-SNAPSHOT/hadoop-hdds-container-service-0.5.0-SNAPSHOT.jar!/webapps/static,AVAILABLE}
2019-09-10 17:52:15,606 [main] INFO  handler.ContextHandler (ContextHandler.java:doStart(781)) - Started o.e.j.w.WebAppContext@227a47{/,file:///tmp/jetty-0.0.0.0-46502-hddsDatanode-_-any-2843334213643799062.dir/webapp/,AVAILABLE}{/hddsDatanode}
2019-09-10 17:52:15,607 [main] INFO  server.AbstractConnector (AbstractConnector.java:doStart(278)) - Started ServerConnector@9596ce8{HTTP/1.1,[http/1.1]}{0.0.0.0:46502}
2019-09-10 17:52:15,608 [main] INFO  server.Server (Server.java:doStart(419)) - Started @5944ms
2019-09-10 17:52:15,608 [main] WARN  impl.MetricsSystemImpl (MetricsSystemImpl.java:register(276)) - Sink prometheus already exists!
2019-09-10 17:52:15,609 [main] INFO  server.BaseHttpServer (BaseHttpServer.java:updateConnectorAddress(215)) - HTTP server of HDDSDATANODE is listening at http://0.0.0.0:46502
2019-09-10 17:52:15,611 [main] INFO  ozone.MiniOzoneClusterImpl (MiniOzoneClusterImpl.java:lambda$waitForClusterToBeReady$0(140)) - Waiting for cluster to be ready. Got 0 of 1 DN Heartbeats.
2019-09-10 17:52:15,613 [org.apache.hadoop.util.JvmPauseMonitor$Monitor@3331ea87] INFO  util.JvmPauseMonitor (JvmPauseMonitor.java:run(188)) - Starting JVM pause monitor
2019-09-10 17:52:15,706 [Datanode State Machine Thread - 0] INFO  datanode.InitDatanodeState (InitDatanodeState.java:persistContainerDatanodeDetails(140)) - DatanodeDetails is persisted to /workdir/hadoop-ozone/integration-test/target/test-dir/MiniOzoneClusterImpl-d01b3807-3732-4de8-b8ba-bdf98e618289/datanode-0/meta/datanode.id
2019-09-10 17:52:16,611 [main] INFO  ozone.MiniOzoneClusterImpl (MiniOzoneClusterImpl.java:lambda$waitForClusterToBeReady$0(140)) - Waiting for cluster to be ready. Got 0 of 1 DN Heartbeats.
2019-09-10 17:52:17,612 [main] INFO  ozone.MiniOzoneClusterImpl (MiniOzoneClusterImpl.java:lambda$waitForClusterToBeReady$0(140)) - Waiting for cluster to be ready. Got 0 of 1 DN Heartbeats.
2019-09-10 17:52:17,669 [Datanode State Machine Thread - 0] INFO  ozoneimpl.OzoneContainer (OzoneContainer.java:start(217)) - Attempting to start container services.
2019-09-10 17:52:17,672 [Datanode State Machine Thread - 0] INFO  ozoneimpl.OzoneContainer (OzoneContainer.java:startContainerScrub(179)) - Background container scanner has been disabled.
2019-09-10 17:52:17,672 [Datanode State Machine Thread - 0] INFO  ratis.XceiverServerRatis (XceiverServerRatis.java:start(411)) - Starting XceiverServerRatis 60b001b3-1662-439d-83b7-d721b00602d4 at port 0
2019-09-10 17:52:17,697 [Datanode State Machine Thread - 0] INFO  impl.RaftServerProxy (RaftServerProxy.java:lambda$start$3(299)) - 60b001b3-1662-439d-83b7-d721b00602d4: start RPC server
2019-09-10 17:52:17,821 [Datanode State Machine Thread - 0] INFO  server.GrpcService (GrpcService.java:startImpl(158)) - 60b001b3-1662-439d-83b7-d721b00602d4: GrpcService started, listening on 0.0.0.0/0.0.0.0:37239
2019-09-10 17:52:17,822 [Datanode State Machine Thread - 0] INFO  ratis.XceiverServerRatis (XceiverServerRatis.java:start(421)) - XceiverServerRatis 60b001b3-1662-439d-83b7-d721b00602d4 is started using port 37239
2019-09-10 17:52:17,824 [Datanode State Machine Thread - 0] INFO  server.XceiverServerGrpc (XceiverServerGrpc.java:start(163)) - XceiverServerGrpc 60b001b3-1662-439d-83b7-d721b00602d4 is started using port 34303
2019-09-10 17:52:18,613 [main] INFO  ozone.MiniOzoneClusterImpl (MiniOzoneClusterImpl.java:lambda$waitForClusterToBeReady$0(140)) - Waiting for cluster to be ready. Got 0 of 1 DN Heartbeats.
2019-09-10 17:52:19,613 [main] INFO  ozone.MiniOzoneClusterImpl (MiniOzoneClusterImpl.java:lambda$waitForClusterToBeReady$0(140)) - Waiting for cluster to be ready. Got 0 of 1 DN Heartbeats.
2019-09-10 17:52:19,650 [IPC Server handler 0 on 43368] INFO  net.NetworkTopology (NetworkTopologyImpl.java:add(110)) - Added a new node: /default-rack/60b001b3-1662-439d-83b7-d721b00602d4
2019-09-10 17:52:19,650 [IPC Server handler 0 on 43368] INFO  node.SCMNodeManager (SCMNodeManager.java:register(266)) - Registered Data node : 60b001b3-1662-439d-83b7-d721b00602d4{ip: 192.168.5.139, host: pr-hdds-1786-trunk-k6rzm-1803654198, networkLocation: /default-rack, certSerialId: null}
2019-09-10 17:52:19,655 [EventQueue-NodeRegistrationContainerReportForDataNodeSafeModeRule] INFO  safemode.SCMSafeModeManager (DataNodeSafeModeRule.java:process(71)) - SCM in safe mode. 1 DataNodes registered, 1 required.
2019-09-10 17:52:19,655 [EventQueue-NodeRegistrationContainerReportForDataNodeSafeModeRule] INFO  safemode.SCMSafeModeManager (SCMSafeModeManager.java:validateSafeModeExitRules(177)) - ScmSafeModeManager, all rules are successfully validated
2019-09-10 17:52:19,655 [EventQueue-NodeRegistrationContainerReportForDataNodeSafeModeRule] INFO  safemode.SCMSafeModeManager (SCMSafeModeManager.java:exitSafeMode(193)) - SCM exiting safe mode.
2019-09-10 17:52:20,161 [grpc-default-executor-0] INFO  impl.RaftServerProxy (RaftServerProxy.java:addNew(89)) - 60b001b3-1662-439d-83b7-d721b00602d4: addNew group-C187B2D0FD2D:[60b001b3-1662-439d-83b7-d721b00602d4:192.168.5.139:37239] returns group-C187B2D0FD2D:java.util.concurrent.CompletableFuture@11364a73[Not completed]
2019-09-10 17:52:20,179 [pool-27-thread-1] INFO  impl.RaftServerImpl (RaftServerImpl.java:<init>(95)) - 60b001b3-1662-439d-83b7-d721b00602d4: new RaftServerImpl for group-C187B2D0FD2D:[60b001b3-1662-439d-83b7-d721b00602d4:192.168.5.139:37239] with ContainerStateMachine:uninitialized
2019-09-10 17:52:20,181 [pool-27-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.rpc.timeout.min = 5s (custom)
2019-09-10 17:52:20,182 [pool-27-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.rpc.timeout.max = 5200ms (custom)
2019-09-10 17:52:20,183 [pool-27-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.rpcslowness.timeout = 120s (custom)
2019-09-10 17:52:20,184 [pool-27-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.sleep.deviation.threshold = 300 (default)
2019-09-10 17:52:20,185 [pool-27-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.log.appender.install.snapshot.enabled = false (custom)
2019-09-10 17:52:20,194 [pool-27-thread-1] INFO  impl.RaftServerImpl (ServerState.java:<init>(103)) - 60b001b3-1662-439d-83b7-d721b00602d4@group-C187B2D0FD2D: ConfigurationManager, init=-1: [60b001b3-1662-439d-83b7-d721b00602d4:192.168.5.139:37239], old=null, confs=<EMPTY_MAP>
2019-09-10 17:52:20,194 [pool-27-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.storage.dir = [/workdir/hadoop-ozone/integration-test/target/test-dir/MiniOzoneClusterImpl-d01b3807-3732-4de8-b8ba-bdf98e618289/datanode-0/data/ratis] (custom)
2019-09-10 17:52:20,203 [pool-27-thread-1] INFO  storage.RaftStorageDirectory (RaftStorageDirectory.java:analyzeStorage(246)) - The storage directory /workdir/hadoop-ozone/integration-test/target/test-dir/MiniOzoneClusterImpl-d01b3807-3732-4de8-b8ba-bdf98e618289/datanode-0/data/ratis/73f30e8d-4802-48fb-a865-c187b2d0fd2d does not exist. Creating ...
2019-09-10 17:52:20,213 [pool-27-thread-1] INFO  storage.RaftStorageDirectory (RaftStorageDirectory.java:tryLock(328)) - Lock on /workdir/hadoop-ozone/integration-test/target/test-dir/MiniOzoneClusterImpl-d01b3807-3732-4de8-b8ba-bdf98e618289/datanode-0/data/ratis/73f30e8d-4802-48fb-a865-c187b2d0fd2d/in_use.lock acquired by nodename 23020@pr-hdds-1786-trunk-k6rzm-1803654198
2019-09-10 17:52:20,235 [pool-27-thread-1] INFO  storage.RaftStorage (RaftStorage.java:format(72)) - Storage directory /workdir/hadoop-ozone/integration-test/target/test-dir/MiniOzoneClusterImpl-d01b3807-3732-4de8-b8ba-bdf98e618289/datanode-0/data/ratis/73f30e8d-4802-48fb-a865-c187b2d0fd2d has been successfully formatted.
2019-09-10 17:52:20,238 [pool-27-thread-1] INFO  ratis.ContainerStateMachine (ContainerStateMachine.java:loadSnapshot(230)) - group-C187B2D0FD2D: The snapshot info is null. Setting the last applied indexto:(t:0, i:~)
2019-09-10 17:52:20,238 [pool-27-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.notification.no-leader.timeout = 120s (custom)
2019-09-10 17:52:20,242 [pool-27-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.log.use.memory = false (default)
2019-09-10 17:52:20,250 [pool-27-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.log.purge.gap = 1000000 (custom)
2019-09-10 17:52:20,251 [pool-27-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.log.appender.buffer.byte-limit = 33554432 (custom)
2019-09-10 17:52:20,254 [pool-27-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.log.segment.size.max = 1048576 (custom)
2019-09-10 17:52:20,261 [pool-27-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.log.segment.cache.num.max = 2 (custom)
2019-09-10 17:52:20,268 [pool-27-thread-1] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:<init>(172)) - new 60b001b3-1662-439d-83b7-d721b00602d4@group-C187B2D0FD2D-SegmentedRaftLogWorker for RaftStorage:Storage Directory /workdir/hadoop-ozone/integration-test/target/test-dir/MiniOzoneClusterImpl-d01b3807-3732-4de8-b8ba-bdf98e618289/datanode-0/data/ratis/73f30e8d-4802-48fb-a865-c187b2d0fd2d
2019-09-10 17:52:20,270 [pool-27-thread-1] INFO  impl.MetricsSystemImpl (MetricsSystemImpl.java:init(158)) - ratis metrics system started (again)
2019-09-10 17:52:20,309 [pool-27-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.log.queue.byte-limit = 2147483647 (custom)
2019-09-10 17:52:20,309 [pool-27-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.log.queue.element-limit = 1024 (custom)
2019-09-10 17:52:20,313 [pool-27-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.log.segment.size.max = 1048576 (custom)
2019-09-10 17:52:20,313 [pool-27-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.log.preallocated.size = 16384 (custom)
2019-09-10 17:52:20,314 [pool-27-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.log.write.buffer.size = 33554432 (custom)
2019-09-10 17:52:20,314 [pool-27-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.log.force.sync.num = 128 (default)
2019-09-10 17:52:20,315 [pool-27-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.log.statemachine.data.sync = true (default)
2019-09-10 17:52:20,315 [pool-27-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.log.statemachine.data.sync.timeout = 10s (default)
2019-09-10 17:52:20,316 [pool-27-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.log.statemachine.data.sync.timeout.retry = -1 (default)
2019-09-10 17:52:20,324 [pool-27-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.log.statemachine.data.caching.enabled = true (custom)
2019-09-10 17:52:20,329 [pool-27-thread-1] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:lambda$new$0(132)) - 60b001b3-1662-439d-83b7-d721b00602d4@group-C187B2D0FD2D-SegmentedRaftLogWorker: flushIndex: setUnconditionally 0 -> -1
2019-09-10 17:52:20,333 [pool-27-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.snapshot.auto.trigger.enabled = true (custom)
2019-09-10 17:52:20,334 [pool-27-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.snapshot.auto.trigger.threshold = 1 (custom)
2019-09-10 17:52:20,334 [pool-27-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.snapshot.retention.num.files = 5 (custom)
2019-09-10 17:52:20,335 [pool-27-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.retrycache.expirytime = 600000ms (custom)
2019-09-10 17:52:20,360 [pool-27-thread-1] INFO  impl.RaftServerImpl (RaftServerImpl.java:start(185)) - 60b001b3-1662-439d-83b7-d721b00602d4@group-C187B2D0FD2D: start as a follower, conf=-1: [60b001b3-1662-439d-83b7-d721b00602d4:192.168.5.139:37239], old=null
2019-09-10 17:52:20,361 [pool-27-thread-1] INFO  impl.RaftServerImpl (RaftServerImpl.java:setRole(174)) - 60b001b3-1662-439d-83b7-d721b00602d4@group-C187B2D0FD2D: changes role from      null to FOLLOWER at term 0 for startAsFollower
2019-09-10 17:52:20,362 [pool-27-thread-1] INFO  impl.RoleInfo (RoleInfo.java:updateAndGet(143)) - 60b001b3-1662-439d-83b7-d721b00602d4: start FollowerState
2019-09-10 17:52:20,364 [pool-27-thread-1] INFO  util.JmxRegister (JmxRegister.java:tryRegister(44)) - Successfully registered JMX Bean with object name Ratis:service=RaftServer,group=group-C187B2D0FD2D,id=60b001b3-1662-439d-83b7-d721b00602d4
2019-09-10 17:52:20,437 [RatisPipelineUtilsThread] INFO  pipeline.PipelineStateManager (PipelineStateManager.java:addPipeline(56)) - Created pipeline Pipeline[ Id: 73f30e8d-4802-48fb-a865-c187b2d0fd2d, Nodes: 60b001b3-1662-439d-83b7-d721b00602d4{ip: 192.168.5.139, host: pr-hdds-1786-trunk-k6rzm-1803654198, networkLocation: /default-rack, certSerialId: null}, Type:RATIS, Factor:ONE, State:OPEN]
2019-09-10 17:52:20,614 [main] INFO  ozone.MiniOzoneClusterImpl (MiniOzoneClusterImpl.java:lambda$waitForClusterToBeReady$0(140)) - Cluster is ready. Got 1 of 1 DN Heartbeats.
2019-09-10 17:52:21,076 [main] INFO  rpc.RpcClient (RpcClient.java:createVolume(298)) - Creating Volume: testcontainerstatemachinefailures, with jenkins1000 as owner.
2019-09-10 17:52:21,156 [IPC Server handler 0 on 35479] INFO  volume.OMVolumeCreateRequest (OMVolumeCreateRequest.java:validateAndUpdateCache(189)) - created volume:testcontainerstatemachinefailures for user:jenkins1000
2019-09-10 17:52:21,185 [main] INFO  rpc.RpcClient (RpcClient.java:createBucket(437)) - Creating Bucket: testcontainerstatemachinefailures/testcontainerstatemachinefailures, with Versioning false and Storage Type set to DISK and Encryption set to false 
2019-09-10 17:52:21,352 [main] INFO  impl.MetricsSystemImpl (MetricsSystemImpl.java:init(158)) - XceiverClientMetrics metrics system started (again)
2019-09-10 17:52:21,771 [grpc-default-executor-0] INFO  client.GrpcClientProtocolClient (GrpcClientProtocolClient.java:onNext(264)) - client-1E2A1DAFB4D6->60b001b3-1662-439d-83b7-d721b00602d4: receive RaftClientReply:client-1E2A1DAFB4D6->60b001b3-1662-439d-83b7-d721b00602d4@group-C187B2D0FD2D, cid=1, FAILED org.apache.ratis.protocol.NotLeaderException: Server 60b001b3-1662-439d-83b7-d721b00602d4@group-C187B2D0FD2D is not the leader, logIndex=0, commits[60b001b3-1662-439d-83b7-d721b00602d4:c-1]
2019-09-10 17:52:22,661 [Thread-148] INFO  container.ReplicationManager (ReplicationManager.java:start(162)) - Starting Replication Monitor Thread.
2019-09-10 17:52:22,669 [ReplicationMonitor] INFO  container.ReplicationManager (ReplicationManager.java:run(225)) - Replication Monitor Thread took 7 milliseconds for processing 1 containers.
2019-09-10 17:52:23,814 [grpc-default-executor-0] INFO  client.GrpcClientProtocolClient (GrpcClientProtocolClient.java:onNext(264)) - client-1E2A1DAFB4D6->60b001b3-1662-439d-83b7-d721b00602d4: receive RaftClientReply:client-1E2A1DAFB4D6->60b001b3-1662-439d-83b7-d721b00602d4@group-C187B2D0FD2D, cid=1, FAILED org.apache.ratis.protocol.NotLeaderException: Server 60b001b3-1662-439d-83b7-d721b00602d4@group-C187B2D0FD2D is not the leader, logIndex=0, commits[60b001b3-1662-439d-83b7-d721b00602d4:c-1]
2019-09-10 17:52:25,450 [Thread-150] INFO  impl.FollowerState (FollowerState.java:run(106)) - 60b001b3-1662-439d-83b7-d721b00602d4:group-C187B2D0FD2D changes to CANDIDATE, lastRpcTime:5087, electionTimeout:5087ms
2019-09-10 17:52:25,453 [Thread-150] INFO  impl.RoleInfo (RoleInfo.java:shutdownFollowerState(121)) - 60b001b3-1662-439d-83b7-d721b00602d4: shutdown FollowerState
2019-09-10 17:52:25,454 [Thread-150] INFO  impl.RaftServerImpl (RaftServerImpl.java:setRole(174)) - 60b001b3-1662-439d-83b7-d721b00602d4@group-C187B2D0FD2D: changes role from  FOLLOWER to CANDIDATE at term 0 for changeToCandidate
2019-09-10 17:52:25,461 [Thread-150] INFO  impl.RoleInfo (RoleInfo.java:updateAndGet(143)) - 60b001b3-1662-439d-83b7-d721b00602d4: start LeaderElection
2019-09-10 17:52:25,475 [60b001b3-1662-439d-83b7-d721b00602d4@group-C187B2D0FD2D:LeaderElection1] INFO  impl.LeaderElection (LeaderElection.java:askForVotes(182)) - 60b001b3-1662-439d-83b7-d721b00602d4@group-C187B2D0FD2D:LeaderElection1: begin an election at term 1 for -1: [60b001b3-1662-439d-83b7-d721b00602d4:192.168.5.139:37239], old=null
2019-09-10 17:52:25,477 [60b001b3-1662-439d-83b7-d721b00602d4@group-C187B2D0FD2D:LeaderElection1] INFO  impl.RoleInfo (RoleInfo.java:shutdownLeaderElection(134)) - 60b001b3-1662-439d-83b7-d721b00602d4: shutdown LeaderElection
2019-09-10 17:52:25,478 [60b001b3-1662-439d-83b7-d721b00602d4@group-C187B2D0FD2D:LeaderElection1] INFO  impl.RaftServerImpl (RaftServerImpl.java:setRole(174)) - 60b001b3-1662-439d-83b7-d721b00602d4@group-C187B2D0FD2D: changes role from CANDIDATE to LEADER at term 1 for changeToLeader
2019-09-10 17:52:25,478 [60b001b3-1662-439d-83b7-d721b00602d4@group-C187B2D0FD2D:LeaderElection1] INFO  impl.RaftServerImpl (ServerState.java:setLeader(253)) - 60b001b3-1662-439d-83b7-d721b00602d4@group-C187B2D0FD2D: change Leader from null to 60b001b3-1662-439d-83b7-d721b00602d4 at term 1 for becomeLeader, leader elected after 5239ms
2019-09-10 17:52:25,486 [60b001b3-1662-439d-83b7-d721b00602d4@group-C187B2D0FD2D:LeaderElection1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.staging.catchup.gap = 1000 (default)
2019-09-10 17:52:25,486 [60b001b3-1662-439d-83b7-d721b00602d4@group-C187B2D0FD2D:LeaderElection1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.rpc.sleep.time = 25ms (default)
2019-09-10 17:52:25,490 [60b001b3-1662-439d-83b7-d721b00602d4@group-C187B2D0FD2D:LeaderElection1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.write.element-limit = 4096 (default)
2019-09-10 17:52:25,493 [60b001b3-1662-439d-83b7-d721b00602d4@group-C187B2D0FD2D:LeaderElection1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.watch.timeout = 10s (default)
2019-09-10 17:52:25,493 [60b001b3-1662-439d-83b7-d721b00602d4@group-C187B2D0FD2D:LeaderElection1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.watch.timeout.denomination = 1s (default)
2019-09-10 17:52:25,494 [60b001b3-1662-439d-83b7-d721b00602d4@group-C187B2D0FD2D:LeaderElection1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.watch.element-limit = 65536 (default)
2019-09-10 17:52:25,535 [60b001b3-1662-439d-83b7-d721b00602d4@group-C187B2D0FD2D:LeaderElection1] INFO  impl.RoleInfo (RoleInfo.java:updateAndGet(143)) - 60b001b3-1662-439d-83b7-d721b00602d4: start LeaderState
2019-09-10 17:52:25,556 [60b001b3-1662-439d-83b7-d721b00602d4@group-C187B2D0FD2D:LeaderElection1] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:startLogSegment(380)) - 60b001b3-1662-439d-83b7-d721b00602d4@group-C187B2D0FD2D-SegmentedRaftLogWorker: Starting segment from index:0
2019-09-10 17:52:25,565 [60b001b3-1662-439d-83b7-d721b00602d4@group-C187B2D0FD2D:LeaderElection1] INFO  impl.RaftServerImpl (ServerState.java:setRaftConf(354)) - 60b001b3-1662-439d-83b7-d721b00602d4@group-C187B2D0FD2D: set configuration 0: [60b001b3-1662-439d-83b7-d721b00602d4:192.168.5.139:37239], old=null at 0
2019-09-10 17:52:25,760 [60b001b3-1662-439d-83b7-d721b00602d4@group-C187B2D0FD2D-SegmentedRaftLogWorker] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:execute(569)) - 60b001b3-1662-439d-83b7-d721b00602d4@group-C187B2D0FD2D-SegmentedRaftLogWorker: created new log segment /workdir/hadoop-ozone/integration-test/target/test-dir/MiniOzoneClusterImpl-d01b3807-3732-4de8-b8ba-bdf98e618289/datanode-0/data/ratis/73f30e8d-4802-48fb-a865-c187b2d0fd2d/current/log_inprogress_0
2019-09-10 17:52:26,480 [60b001b3-1662-439d-83b7-d721b00602d4@group-C187B2D0FD2D-StateMachineUpdater] INFO  ratis.ContainerStateMachine (ContainerStateMachine.java:takeSnapshot(289)) - group-C187B2D0FD2D: Taking a snapshot at:(t:1, i:1) file /workdir/hadoop-ozone/integration-test/target/test-dir/MiniOzoneClusterImpl-d01b3807-3732-4de8-b8ba-bdf98e618289/datanode-0/data/ratis/73f30e8d-4802-48fb-a865-c187b2d0fd2d/sm/snapshot.1_1
2019-09-10 17:52:26,486 [grpc-default-executor-1] INFO  client.GrpcClientProtocolClient (GrpcClientProtocolClient.java:onNext(264)) - client-1E2A1DAFB4D6->60b001b3-1662-439d-83b7-d721b00602d4: receive RaftClientReply:client-1E2A1DAFB4D6->60b001b3-1662-439d-83b7-d721b00602d4@group-C187B2D0FD2D, cid=1, SUCCESS, logIndex=1, commits[60b001b3-1662-439d-83b7-d721b00602d4:c1]
2019-09-10 17:52:26,552 [60b001b3-1662-439d-83b7-d721b00602d4@group-C187B2D0FD2D-StateMachineUpdater] INFO  ratis.ContainerStateMachine (ContainerStateMachine.java:takeSnapshot(300)) - group-C187B2D0FD2D: Finished taking a snapshot at:(t:1, i:1) file:/workdir/hadoop-ozone/integration-test/target/test-dir/MiniOzoneClusterImpl-d01b3807-3732-4de8-b8ba-bdf98e618289/datanode-0/data/ratis/73f30e8d-4802-48fb-a865-c187b2d0fd2d/sm/snapshot.1_1 time:72
2019-09-10 17:52:26,554 [60b001b3-1662-439d-83b7-d721b00602d4@group-C187B2D0FD2D-StateMachineUpdater] INFO  impl.StateMachineUpdater (StateMachineUpdater.java:takeSnapshot(258)) - 60b001b3-1662-439d-83b7-d721b00602d4@group-C187B2D0FD2D-StateMachineUpdater: Took a snapshot at index 1
2019-09-10 17:52:26,554 [60b001b3-1662-439d-83b7-d721b00602d4@group-C187B2D0FD2D-StateMachineUpdater] INFO  impl.StateMachineUpdater (StateMachineUpdater.java:lambda$new$0(83)) - 60b001b3-1662-439d-83b7-d721b00602d4@group-C187B2D0FD2D-StateMachineUpdater: snapshotIndex: updateIncreasingly -1 -> 1
2019-09-10 17:52:26,678 [60b001b3-1662-439d-83b7-d721b00602d4@group-C187B2D0FD2D-StateMachineUpdater] INFO  ratis.ContainerStateMachine (ContainerStateMachine.java:takeSnapshot(289)) - group-C187B2D0FD2D: Taking a snapshot at:(t:1, i:4) file /workdir/hadoop-ozone/integration-test/target/test-dir/MiniOzoneClusterImpl-d01b3807-3732-4de8-b8ba-bdf98e618289/datanode-0/data/ratis/73f30e8d-4802-48fb-a865-c187b2d0fd2d/sm/snapshot.1_4
2019-09-10 17:52:26,683 [grpc-default-executor-1] INFO  client.GrpcClientProtocolClient (GrpcClientProtocolClient.java:onNext(264)) - client-1E2A1DAFB4D6->60b001b3-1662-439d-83b7-d721b00602d4: receive RaftClientReply:client-1E2A1DAFB4D6->60b001b3-1662-439d-83b7-d721b00602d4@group-C187B2D0FD2D, cid=2, SUCCESS, logIndex=3, commits[60b001b3-1662-439d-83b7-d721b00602d4:c4]
2019-09-10 17:52:26,693 [60b001b3-1662-439d-83b7-d721b00602d4@group-C187B2D0FD2D-StateMachineUpdater] INFO  ratis.ContainerStateMachine (ContainerStateMachine.java:takeSnapshot(300)) - group-C187B2D0FD2D: Finished taking a snapshot at:(t:1, i:4) file:/workdir/hadoop-ozone/integration-test/target/test-dir/MiniOzoneClusterImpl-d01b3807-3732-4de8-b8ba-bdf98e618289/datanode-0/data/ratis/73f30e8d-4802-48fb-a865-c187b2d0fd2d/sm/snapshot.1_4 time:16
2019-09-10 17:52:26,694 [60b001b3-1662-439d-83b7-d721b00602d4@group-C187B2D0FD2D-StateMachineUpdater] INFO  impl.StateMachineUpdater (StateMachineUpdater.java:takeSnapshot(258)) - 60b001b3-1662-439d-83b7-d721b00602d4@group-C187B2D0FD2D-StateMachineUpdater: Took a snapshot at index 4
2019-09-10 17:52:26,694 [60b001b3-1662-439d-83b7-d721b00602d4@group-C187B2D0FD2D-StateMachineUpdater] INFO  impl.StateMachineUpdater (StateMachineUpdater.java:lambda$new$0(83)) - 60b001b3-1662-439d-83b7-d721b00602d4@group-C187B2D0FD2D-StateMachineUpdater: snapshotIndex: updateIncreasingly 1 -> 4
2019-09-10 17:52:26,697 [60b001b3-1662-439d-83b7-d721b00602d4@group-C187B2D0FD2D-StateMachineUpdater] INFO  ratis.ContainerStateMachine (ContainerStateMachine.java:takeSnapshot(289)) - group-C187B2D0FD2D: Taking a snapshot at:(t:1, i:5) file /workdir/hadoop-ozone/integration-test/target/test-dir/MiniOzoneClusterImpl-d01b3807-3732-4de8-b8ba-bdf98e618289/datanode-0/data/ratis/73f30e8d-4802-48fb-a865-c187b2d0fd2d/sm/snapshot.1_5
2019-09-10 17:52:26,700 [grpc-default-executor-1] INFO  client.GrpcClientProtocolClient (GrpcClientProtocolClient.java:onNext(264)) - client-1E2A1DAFB4D6->60b001b3-1662-439d-83b7-d721b00602d4: receive RaftClientReply:client-1E2A1DAFB4D6->60b001b3-1662-439d-83b7-d721b00602d4@group-C187B2D0FD2D, cid=3, SUCCESS, logIndex=5, commits[60b001b3-1662-439d-83b7-d721b00602d4:c5]
2019-09-10 17:52:26,710 [60b001b3-1662-439d-83b7-d721b00602d4@group-C187B2D0FD2D-StateMachineUpdater] INFO  ratis.ContainerStateMachine (ContainerStateMachine.java:takeSnapshot(300)) - group-C187B2D0FD2D: Finished taking a snapshot at:(t:1, i:5) file:/workdir/hadoop-ozone/integration-test/target/test-dir/MiniOzoneClusterImpl-d01b3807-3732-4de8-b8ba-bdf98e618289/datanode-0/data/ratis/73f30e8d-4802-48fb-a865-c187b2d0fd2d/sm/snapshot.1_5 time:13
2019-09-10 17:52:26,711 [60b001b3-1662-439d-83b7-d721b00602d4@group-C187B2D0FD2D-StateMachineUpdater] INFO  impl.StateMachineUpdater (StateMachineUpdater.java:takeSnapshot(258)) - 60b001b3-1662-439d-83b7-d721b00602d4@group-C187B2D0FD2D-StateMachineUpdater: Took a snapshot at index 5
2019-09-10 17:52:26,711 [60b001b3-1662-439d-83b7-d721b00602d4@group-C187B2D0FD2D-StateMachineUpdater] INFO  impl.StateMachineUpdater (StateMachineUpdater.java:lambda$new$0(83)) - 60b001b3-1662-439d-83b7-d721b00602d4@group-C187B2D0FD2D-StateMachineUpdater: snapshotIndex: updateIncreasingly 4 -> 5
2019-09-10 17:52:26,714 [60b001b3-1662-439d-83b7-d721b00602d4@group-C187B2D0FD2D-StateMachineUpdater] INFO  ratis.ContainerStateMachine (ContainerStateMachine.java:takeSnapshot(289)) - group-C187B2D0FD2D: Taking a snapshot at:(t:1, i:7) file /workdir/hadoop-ozone/integration-test/target/test-dir/MiniOzoneClusterImpl-d01b3807-3732-4de8-b8ba-bdf98e618289/datanode-0/data/ratis/73f30e8d-4802-48fb-a865-c187b2d0fd2d/sm/snapshot.1_7
2019-09-10 17:52:26,716 [grpc-default-executor-1] INFO  client.GrpcClientProtocolClient (GrpcClientProtocolClient.java:onNext(264)) - client-1E2A1DAFB4D6->60b001b3-1662-439d-83b7-d721b00602d4: receive RaftClientReply:client-1E2A1DAFB4D6->60b001b3-1662-439d-83b7-d721b00602d4@group-C187B2D0FD2D, cid=4, SUCCESS, logIndex=6, commits[60b001b3-1662-439d-83b7-d721b00602d4:c7]
2019-09-10 17:52:26,733 [60b001b3-1662-439d-83b7-d721b00602d4@group-C187B2D0FD2D-StateMachineUpdater] INFO  ratis.ContainerStateMachine (ContainerStateMachine.java:takeSnapshot(300)) - group-C187B2D0FD2D: Finished taking a snapshot at:(t:1, i:7) file:/workdir/hadoop-ozone/integration-test/target/test-dir/MiniOzoneClusterImpl-d01b3807-3732-4de8-b8ba-bdf98e618289/datanode-0/data/ratis/73f30e8d-4802-48fb-a865-c187b2d0fd2d/sm/snapshot.1_7 time:19
2019-09-10 17:52:26,733 [60b001b3-1662-439d-83b7-d721b00602d4@group-C187B2D0FD2D-StateMachineUpdater] INFO  impl.StateMachineUpdater (StateMachineUpdater.java:takeSnapshot(258)) - 60b001b3-1662-439d-83b7-d721b00602d4@group-C187B2D0FD2D-StateMachineUpdater: Took a snapshot at index 7
2019-09-10 17:52:26,733 [60b001b3-1662-439d-83b7-d721b00602d4@group-C187B2D0FD2D-StateMachineUpdater] INFO  impl.StateMachineUpdater (StateMachineUpdater.java:lambda$new$0(83)) - 60b001b3-1662-439d-83b7-d721b00602d4@group-C187B2D0FD2D-StateMachineUpdater: snapshotIndex: updateIncreasingly 5 -> 7
2019-09-10 17:52:26,734 [60b001b3-1662-439d-83b7-d721b00602d4@group-C187B2D0FD2D-StateMachineUpdater] INFO  ratis.ContainerStateMachine (ContainerStateMachine.java:takeSnapshot(289)) - group-C187B2D0FD2D: Taking a snapshot at:(t:1, i:7) file /workdir/hadoop-ozone/integration-test/target/test-dir/MiniOzoneClusterImpl-d01b3807-3732-4de8-b8ba-bdf98e618289/datanode-0/data/ratis/73f30e8d-4802-48fb-a865-c187b2d0fd2d/sm/snapshot.1_7
2019-09-10 17:52:26,748 [60b001b3-1662-439d-83b7-d721b00602d4@group-C187B2D0FD2D-StateMachineUpdater] INFO  ratis.ContainerStateMachine (ContainerStateMachine.java:takeSnapshot(300)) - group-C187B2D0FD2D: Finished taking a snapshot at:(t:1, i:7) file:/workdir/hadoop-ozone/integration-test/target/test-dir/MiniOzoneClusterImpl-d01b3807-3732-4de8-b8ba-bdf98e618289/datanode-0/data/ratis/73f30e8d-4802-48fb-a865-c187b2d0fd2d/sm/snapshot.1_7 time:13
2019-09-10 17:52:26,748 [60b001b3-1662-439d-83b7-d721b00602d4@group-C187B2D0FD2D-StateMachineUpdater] INFO  impl.StateMachineUpdater (StateMachineUpdater.java:takeSnapshot(258)) - 60b001b3-1662-439d-83b7-d721b00602d4@group-C187B2D0FD2D-StateMachineUpdater: Took a snapshot at index 7
2019-09-10 17:52:26,748 [60b001b3-1662-439d-83b7-d721b00602d4@group-C187B2D0FD2D-StateMachineUpdater] INFO  impl.StateMachineUpdater (StateMachineUpdater.java:lambda$new$0(83)) - 60b001b3-1662-439d-83b7-d721b00602d4@group-C187B2D0FD2D-StateMachineUpdater: snapshotIndex: updateIncreasingly 7 -> 7
2019-09-10 17:52:26,826 [Datanode State Machine Thread - 0] INFO  statemachine.DatanodeStateMachine (DatanodeStateMachine.java:lambda$startDaemon$0(350)) - Ozone container server started.
2019-09-10 17:52:29,659 [EventQueue-StaleNodeForStaleNodeHandler] INFO  node.StaleNodeHandler (StaleNodeHandler.java:onMessage(58)) - Datanode 60b001b3-1662-439d-83b7-d721b00602d4{ip: 192.168.5.139, host: pr-hdds-1786-trunk-k6rzm-1803654198, networkLocation: /default-rack, certSerialId: null} moved to stale state. Finalizing its pipelines [PipelineID=73f30e8d-4802-48fb-a865-c187b2d0fd2d]
2019-09-10 17:52:29,660 [EventQueue-StaleNodeForStaleNodeHandler] INFO  pipeline.SCMPipelineManager (SCMPipelineManager.java:finalizeAndDestroyPipeline(311)) - destroying pipeline:Pipeline[ Id: 73f30e8d-4802-48fb-a865-c187b2d0fd2d, Nodes: 60b001b3-1662-439d-83b7-d721b00602d4{ip: 192.168.5.139, host: pr-hdds-1786-trunk-k6rzm-1803654198, networkLocation: /default-rack, certSerialId: null}, Type:RATIS, Factor:ONE, State:OPEN]
2019-09-10 17:52:29,662 [EventQueue-StaleNodeForStaleNodeHandler] INFO  pipeline.PipelineStateManager (PipelineStateManager.java:finalizePipeline(123)) - Pipeline Pipeline[ Id: 73f30e8d-4802-48fb-a865-c187b2d0fd2d, Nodes: 60b001b3-1662-439d-83b7-d721b00602d4{ip: 192.168.5.139, host: pr-hdds-1786-trunk-k6rzm-1803654198, networkLocation: /default-rack, certSerialId: null}, Type:RATIS, Factor:ONE, State:CLOSED] moved to CLOSED state
2019-09-10 17:52:29,663 [EventQueue-CloseContainerForCloseContainerEventHandler] INFO  container.CloseContainerEventHandler (CloseContainerEventHandler.java:onMessage(61)) - Close container Event triggered for container : #1
2019-09-10 17:52:31,735 [main] INFO  ozoneimpl.OzoneContainer (OzoneContainer.java:stop(231)) - Attempting to stop container services.
2019-09-10 17:52:31,738 [main] INFO  impl.RaftServerProxy (RaftServerProxy.java:lambda$close$4(314)) - 60b001b3-1662-439d-83b7-d721b00602d4: close
2019-09-10 17:52:31,742 [main] INFO  impl.RaftServerImpl (RaftServerImpl.java:lambda$shutdown$3(251)) - 60b001b3-1662-439d-83b7-d721b00602d4@group-C187B2D0FD2D: shutdown
2019-09-10 17:52:31,743 [main] INFO  util.JmxRegister (JmxRegister.java:unregister(73)) - Successfully un-registered JMX Bean with object name Ratis:service=RaftServer,group=group-C187B2D0FD2D,id=60b001b3-1662-439d-83b7-d721b00602d4
2019-09-10 17:52:31,744 [main] INFO  impl.RoleInfo (RoleInfo.java:shutdownLeaderState(104)) - 60b001b3-1662-439d-83b7-d721b00602d4: shutdown LeaderState
2019-09-10 17:52:31,745 [main] INFO  impl.PendingRequests (PendingRequests.java:sendNotLeaderResponses(202)) - 60b001b3-1662-439d-83b7-d721b00602d4-PendingRequests: sendNotLeaderResponses
2019-09-10 17:52:31,758 [main] INFO  impl.StateMachineUpdater (StateMachineUpdater.java:stopAndJoin(125)) - 60b001b3-1662-439d-83b7-d721b00602d4@group-C187B2D0FD2D-StateMachineUpdater: set stopIndex = 8
2019-09-10 17:52:31,759 [60b001b3-1662-439d-83b7-d721b00602d4@group-C187B2D0FD2D-StateMachineUpdater] INFO  ratis.ContainerStateMachine (ContainerStateMachine.java:takeSnapshot(289)) - group-C187B2D0FD2D: Taking a snapshot at:(t:1, i:7) file /workdir/hadoop-ozone/integration-test/target/test-dir/MiniOzoneClusterImpl-d01b3807-3732-4de8-b8ba-bdf98e618289/datanode-0/data/ratis/73f30e8d-4802-48fb-a865-c187b2d0fd2d/sm/snapshot.1_7
2019-09-10 17:52:31,775 [60b001b3-1662-439d-83b7-d721b00602d4@group-C187B2D0FD2D-StateMachineUpdater] INFO  ratis.ContainerStateMachine (ContainerStateMachine.java:takeSnapshot(300)) - group-C187B2D0FD2D: Finished taking a snapshot at:(t:1, i:7) file:/workdir/hadoop-ozone/integration-test/target/test-dir/MiniOzoneClusterImpl-d01b3807-3732-4de8-b8ba-bdf98e618289/datanode-0/data/ratis/73f30e8d-4802-48fb-a865-c187b2d0fd2d/sm/snapshot.1_7 time:17
2019-09-10 17:52:31,776 [60b001b3-1662-439d-83b7-d721b00602d4@group-C187B2D0FD2D-StateMachineUpdater] INFO  impl.StateMachineUpdater (StateMachineUpdater.java:takeSnapshot(258)) - 60b001b3-1662-439d-83b7-d721b00602d4@group-C187B2D0FD2D-StateMachineUpdater: Took a snapshot at index 7
2019-09-10 17:52:31,776 [60b001b3-1662-439d-83b7-d721b00602d4@group-C187B2D0FD2D-StateMachineUpdater] INFO  impl.StateMachineUpdater (StateMachineUpdater.java:lambda$new$0(83)) - 60b001b3-1662-439d-83b7-d721b00602d4@group-C187B2D0FD2D-StateMachineUpdater: snapshotIndex: updateIncreasingly 7 -> 7
2019-09-10 17:52:31,777 [60b001b3-1662-439d-83b7-d721b00602d4@group-C187B2D0FD2D-StateMachineUpdater] INFO  ratis.ContainerStateMachine (ContainerStateMachine.java:takeSnapshot(289)) - group-C187B2D0FD2D: Taking a snapshot at:(t:1, i:7) file /workdir/hadoop-ozone/integration-test/target/test-dir/MiniOzoneClusterImpl-d01b3807-3732-4de8-b8ba-bdf98e618289/datanode-0/data/ratis/73f30e8d-4802-48fb-a865-c187b2d0fd2d/sm/snapshot.1_7
2019-09-10 17:52:31,791 [60b001b3-1662-439d-83b7-d721b00602d4@group-C187B2D0FD2D-StateMachineUpdater] INFO  ratis.ContainerStateMachine (ContainerStateMachine.java:takeSnapshot(300)) - group-C187B2D0FD2D: Finished taking a snapshot at:(t:1, i:7) file:/workdir/hadoop-ozone/integration-test/target/test-dir/MiniOzoneClusterImpl-d01b3807-3732-4de8-b8ba-bdf98e618289/datanode-0/data/ratis/73f30e8d-4802-48fb-a865-c187b2d0fd2d/sm/snapshot.1_7 time:15
2019-09-10 17:52:31,792 [60b001b3-1662-439d-83b7-d721b00602d4@group-C187B2D0FD2D-StateMachineUpdater] INFO  impl.StateMachineUpdater (StateMachineUpdater.java:takeSnapshot(258)) - 60b001b3-1662-439d-83b7-d721b00602d4@group-C187B2D0FD2D-StateMachineUpdater: Took a snapshot at index 7
2019-09-10 17:52:31,792 [60b001b3-1662-439d-83b7-d721b00602d4@group-C187B2D0FD2D-StateMachineUpdater] INFO  impl.StateMachineUpdater (StateMachineUpdater.java:lambda$new$0(83)) - 60b001b3-1662-439d-83b7-d721b00602d4@group-C187B2D0FD2D-StateMachineUpdater: snapshotIndex: updateIncreasingly 7 -> 7
2019-09-10 17:52:31,793 [main] INFO  impl.RaftServerImpl (ServerState.java:close(385)) - 60b001b3-1662-439d-83b7-d721b00602d4@group-C187B2D0FD2D: closes. applyIndex: 8
2019-09-10 17:52:31,796 [60b001b3-1662-439d-83b7-d721b00602d4@group-C187B2D0FD2D-SegmentedRaftLogWorker] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:run(313)) - 60b001b3-1662-439d-83b7-d721b00602d4@group-C187B2D0FD2D-SegmentedRaftLogWorker was interrupted, exiting. There are 0 tasks remaining in the queue.
2019-09-10 17:52:31,798 [main] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:close(228)) - 60b001b3-1662-439d-83b7-d721b00602d4@group-C187B2D0FD2D-SegmentedRaftLogWorker close()
2019-09-10 17:52:31,801 [main] INFO  server.GrpcService (GrpcService.java:closeImpl(164)) - 60b001b3-1662-439d-83b7-d721b00602d4: shutdown server with port 37239 now
2019-09-10 17:52:31,805 [main] INFO  server.GrpcService (GrpcService.java:closeImpl(172)) - 60b001b3-1662-439d-83b7-d721b00602d4: shutdown server with port 37239 successfully
2019-09-10 17:52:31,815 [refreshUsed-/workdir/hadoop-ozone/integration-test/target/test-dir/MiniOzoneClusterImpl-d01b3807-3732-4de8-b8ba-bdf98e618289/datanode-0/data/containers] WARN  fs.CachingGetSpaceUsed (CachingGetSpaceUsed.java:run(183)) - Thread Interrupted waiting to refresh disk information: sleep interrupted
2019-09-10 17:52:31,834 [main] INFO  utils.BackgroundService (BackgroundService.java:shutdown(148)) - Shutting down service BlockDeletingService
2019-09-10 17:52:31,836 [main] INFO  statemachine.DatanodeStateMachine (DatanodeStateMachine.java:stopDaemon(395)) - Ozone container server stopped.
2019-09-10 17:52:31,841 [main] INFO  handler.ContextHandler (ContextHandler.java:doStop(910)) - Stopped o.e.j.w.WebAppContext@227a47{/,null,UNAVAILABLE}{/hddsDatanode}
2019-09-10 17:52:31,847 [main] INFO  server.AbstractConnector (AbstractConnector.java:doStop(318)) - Stopped ServerConnector@9596ce8{HTTP/1.1,[http/1.1]}{0.0.0.0:0}
2019-09-10 17:52:31,848 [main] INFO  handler.ContextHandler (ContextHandler.java:doStop(910)) - Stopped o.e.j.s.ServletContextHandler@2127e66e{/static,jar:file:/home/user/.m2/repository/org/apache/hadoop/hadoop-hdds-container-service/0.5.0-SNAPSHOT/hadoop-hdds-container-service-0.5.0-SNAPSHOT.jar!/webapps/static,UNAVAILABLE}
2019-09-10 17:52:31,848 [main] INFO  handler.ContextHandler (ContextHandler.java:doStop(910)) - Stopped o.e.j.s.ServletContextHandler@6ede46f6{/logs,file:///workdir/hadoop-ozone/integration-test/target/log,UNAVAILABLE}
2019-09-10 17:52:31,852 [main] INFO  ozone.MiniOzoneClusterImpl (MiniOzoneClusterImpl.java:lambda$waitForClusterToBeReady$0(140)) - Cluster is ready. Got 0 of 0 DN Heartbeats.
2019-09-10 17:52:31,855 [main] INFO  impl.MetricsSystemImpl (MetricsSystemImpl.java:init(158)) - HddsDatanode metrics system started (again)
2019-09-10 17:52:31,892 [main] INFO  ozone.HddsDatanodeService (HddsDatanodeService.java:start(184)) - HddsDatanodeService host:pr-hdds-1786-trunk-k6rzm-1803654198 ip:192.168.5.139
2019-09-10 17:52:31,895 [main] INFO  volume.VolumeUsage (VolumeUsage.java:loadScmUsed(144)) - Cached ScmUsed found for /workdir/hadoop-ozone/integration-test/target/test-dir/MiniOzoneClusterImpl-d01b3807-3732-4de8-b8ba-bdf98e618289/datanode-0/data/containers : 4096 
2019-09-10 17:52:31,895 [main] INFO  volume.HddsVolume (HddsVolume.java:<init>(176)) - Creating Volume: /workdir/hadoop-ozone/integration-test/target/test-dir/MiniOzoneClusterImpl-d01b3807-3732-4de8-b8ba-bdf98e618289/datanode-0/data/containers/hdds of  storage type : DISK and capacity : 1482555576320
2019-09-10 17:52:31,896 [main] INFO  volume.VolumeSet (VolumeSet.java:initializeVolumeSet(170)) - Added Volume : /workdir/hadoop-ozone/integration-test/target/test-dir/MiniOzoneClusterImpl-d01b3807-3732-4de8-b8ba-bdf98e618289/datanode-0/data/containers/hdds to VolumeSet
2019-09-10 17:52:31,896 [main] INFO  volume.ThrottledAsyncChecker (ThrottledAsyncChecker.java:schedule(139)) - Scheduling a check for org.apache.hadoop.ozone.container.common.volume.HddsVolume@f9f3928
2019-09-10 17:52:31,897 [main] INFO  volume.HddsVolumeChecker (HddsVolumeChecker.java:checkAllVolumes(202)) - Scheduled health check for volume org.apache.hadoop.ozone.container.common.volume.HddsVolume@f9f3928
2019-09-10 17:52:31,916 [main] INFO  impl.RaftServerProxy (ConfUtils.java:logGet(43)) - raft.rpc.type = GRPC (default)
2019-09-10 17:52:31,917 [main] INFO  grpc.GrpcFactory (GrpcFactory.java:checkPooledByteBufAllocatorUseCacheForAllThreads(45)) - PERFORMANCE WARNING: useCacheForAllThreads is true that may cause Netty to create a lot garbage objects and, as a result, trigger GC.
	It is recommended to disable useCacheForAllThreads by setting -Dorg.apache.ratis.thirdparty.io.netty.allocator.useCacheForAllThreads=false in command line.
2019-09-10 17:52:31,917 [main] INFO  grpc.GrpcConfigKeys$Server (ConfUtils.java:logGet(43)) - raft.grpc.server.port = 37239 (custom)
2019-09-10 17:52:31,917 [main] INFO  server.GrpcService (ConfUtils.java:logGet(43)) - raft.grpc.message.size.max = 33570816 (custom)
2019-09-10 17:52:31,918 [main] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.log.appender.buffer.byte-limit = 33554432 (custom)
2019-09-10 17:52:31,918 [main] INFO  server.GrpcService (ConfUtils.java:logGet(43)) - raft.grpc.flow.control.window = 1MB (=1048576) (default)
2019-09-10 17:52:31,918 [main] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.rpc.request.timeout = 3000ms (default)
2019-09-10 17:52:31,919 [main] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.storage.dir = [/workdir/hadoop-ozone/integration-test/target/test-dir/MiniOzoneClusterImpl-d01b3807-3732-4de8-b8ba-bdf98e618289/datanode-0/data/ratis] (custom)
2019-09-10 17:52:31,919 [main] INFO  impl.RaftServerProxy (RaftServerProxy.java:lambda$null$0(191)) - 60b001b3-1662-439d-83b7-d721b00602d4: found a subdirectory /workdir/hadoop-ozone/integration-test/target/test-dir/MiniOzoneClusterImpl-d01b3807-3732-4de8-b8ba-bdf98e618289/datanode-0/data/ratis/73f30e8d-4802-48fb-a865-c187b2d0fd2d
2019-09-10 17:52:31,921 [main] INFO  impl.RaftServerProxy (RaftServerProxy.java:addNew(89)) - 60b001b3-1662-439d-83b7-d721b00602d4: addNew group-C187B2D0FD2D:[] returns group-C187B2D0FD2D:java.util.concurrent.CompletableFuture@43982337[Not completed]
2019-09-10 17:52:31,925 [main] INFO  hdfs.DFSUtil (DFSUtil.java:httpServerTemplateForNNAndJN(1641)) - Starting Web-server for hddsDatanode at: http://0.0.0.0:46502
2019-09-10 17:52:31,926 [pool-40-thread-1] INFO  impl.RaftServerImpl (RaftServerImpl.java:<init>(95)) - 60b001b3-1662-439d-83b7-d721b00602d4: new RaftServerImpl for group-C187B2D0FD2D:[] with ContainerStateMachine:uninitialized
2019-09-10 17:52:31,927 [pool-40-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.rpc.timeout.min = 5s (custom)
2019-09-10 17:52:31,927 [pool-40-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.rpc.timeout.max = 5200ms (custom)
2019-09-10 17:52:31,927 [pool-40-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.rpcslowness.timeout = 120s (custom)
2019-09-10 17:52:31,928 [main] INFO  server.AuthenticationFilter (AuthenticationFilter.java:constructSecretProvider(240)) - Unable to initialize FileSignerSecretProvider, falling back to use random secrets.
2019-09-10 17:52:31,928 [pool-40-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.sleep.deviation.threshold = 300 (default)
2019-09-10 17:52:31,928 [pool-40-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.log.appender.install.snapshot.enabled = false (custom)
2019-09-10 17:52:31,928 [pool-40-thread-1] INFO  impl.RaftServerImpl (ServerState.java:<init>(103)) - 60b001b3-1662-439d-83b7-d721b00602d4@group-C187B2D0FD2D: ConfigurationManager, init=-1: [], old=null, confs=<EMPTY_MAP>
2019-09-10 17:52:31,929 [pool-40-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.storage.dir = [/workdir/hadoop-ozone/integration-test/target/test-dir/MiniOzoneClusterImpl-d01b3807-3732-4de8-b8ba-bdf98e618289/datanode-0/data/ratis] (custom)
2019-09-10 17:52:31,929 [main] WARN  http.HttpRequestLog (HttpRequestLog.java:getRequestLog(97)) - Jetty request log can only be enabled using Log4j
2019-09-10 17:52:31,931 [main] INFO  http.HttpServer2 (HttpServer2.java:addGlobalFilter(975)) - Added global filter 'safety' (class=org.apache.hadoop.http.HttpServer2$QuotingInputFilter)
2019-09-10 17:52:31,931 [main] INFO  http.HttpServer2 (HttpServer2.java:addFilter(948)) - Added filter static_user_filter (class=org.apache.hadoop.http.lib.StaticUserWebFilter$StaticUserFilter) to context hddsDatanode
2019-09-10 17:52:31,932 [main] INFO  http.HttpServer2 (HttpServer2.java:addFilter(958)) - Added filter static_user_filter (class=org.apache.hadoop.http.lib.StaticUserWebFilter$StaticUserFilter) to context static
2019-09-10 17:52:31,932 [main] INFO  http.HttpServer2 (HttpServer2.java:addFilter(958)) - Added filter static_user_filter (class=org.apache.hadoop.http.lib.StaticUserWebFilter$StaticUserFilter) to context logs
2019-09-10 17:52:31,933 [main] INFO  http.HttpServer2 (HttpServer2.java:bindListener(1191)) - Jetty bound to port 46502
2019-09-10 17:52:31,933 [main] INFO  server.Server (Server.java:doStart(351)) - jetty-9.3.24.v20180605, build timestamp: 2018-06-05T17:11:56Z, git hash: 84205aa28f11a4f31f2a3b86d1bba2cc8ab69827
2019-09-10 17:52:31,935 [main] INFO  handler.ContextHandler (ContextHandler.java:doStart(781)) - Started o.e.j.s.ServletContextHandler@18371d89{/logs,file:///workdir/hadoop-ozone/integration-test/target/log,AVAILABLE}
2019-09-10 17:52:31,935 [main] INFO  handler.ContextHandler (ContextHandler.java:doStart(781)) - Started o.e.j.s.ServletContextHandler@4832f03b{/static,jar:file:/home/user/.m2/repository/org/apache/hadoop/hadoop-hdds-container-service/0.5.0-SNAPSHOT/hadoop-hdds-container-service-0.5.0-SNAPSHOT.jar!/webapps/static,AVAILABLE}
2019-09-10 17:52:31,945 [pool-40-thread-1] INFO  storage.RaftStorageDirectory (RaftStorageDirectory.java:tryLock(328)) - Lock on /workdir/hadoop-ozone/integration-test/target/test-dir/MiniOzoneClusterImpl-d01b3807-3732-4de8-b8ba-bdf98e618289/datanode-0/data/ratis/73f30e8d-4802-48fb-a865-c187b2d0fd2d/in_use.lock acquired by nodename 23020@pr-hdds-1786-trunk-k6rzm-1803654198
2019-09-10 17:52:31,950 [pool-40-thread-1] INFO  ratis.ContainerStateMachine (ContainerStateMachine.java:loadSnapshot(239)) - group-C187B2D0FD2D: Setting the last applied index to (t:1, i:7)
2019-09-10 17:52:31,955 [pool-40-thread-1] WARN  impl.ContainerSet (ContainerSet.java:lambda$buildMissingContainerSetAndValidate$1(257)) - Adding container 1 to missing container set.
2019-09-10 17:52:31,958 [pool-40-thread-1] INFO  impl.RaftServerImpl (ServerState.java:setRaftConf(354)) - 60b001b3-1662-439d-83b7-d721b00602d4@group-C187B2D0FD2D: set configuration 0: [60b001b3-1662-439d-83b7-d721b00602d4:192.168.5.139:37239], old=null at 0
2019-09-10 17:52:31,958 [pool-40-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.notification.no-leader.timeout = 120s (custom)
2019-09-10 17:52:31,958 [pool-40-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.log.use.memory = false (default)
2019-09-10 17:52:31,958 [pool-40-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.log.purge.gap = 1000000 (custom)
2019-09-10 17:52:31,959 [pool-40-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.log.appender.buffer.byte-limit = 33554432 (custom)
2019-09-10 17:52:31,959 [pool-40-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.log.segment.size.max = 1048576 (custom)
2019-09-10 17:52:31,959 [pool-40-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.log.segment.cache.num.max = 2 (custom)
2019-09-10 17:52:31,959 [pool-40-thread-1] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:<init>(172)) - new 60b001b3-1662-439d-83b7-d721b00602d4@group-C187B2D0FD2D-SegmentedRaftLogWorker for RaftStorage:Storage Directory /workdir/hadoop-ozone/integration-test/target/test-dir/MiniOzoneClusterImpl-d01b3807-3732-4de8-b8ba-bdf98e618289/datanode-0/data/ratis/73f30e8d-4802-48fb-a865-c187b2d0fd2d
2019-09-10 17:52:31,960 [pool-40-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.log.queue.byte-limit = 2147483647 (custom)
2019-09-10 17:52:31,960 [pool-40-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.log.queue.element-limit = 1024 (custom)
2019-09-10 17:52:31,960 [pool-40-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.log.segment.size.max = 1048576 (custom)
2019-09-10 17:52:31,960 [pool-40-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.log.preallocated.size = 16384 (custom)
2019-09-10 17:52:31,960 [pool-40-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.log.write.buffer.size = 33554432 (custom)
2019-09-10 17:52:31,961 [pool-40-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.log.force.sync.num = 128 (default)
2019-09-10 17:52:31,961 [pool-40-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.log.statemachine.data.sync = true (default)
2019-09-10 17:52:31,961 [pool-40-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.log.statemachine.data.sync.timeout = 10s (default)
2019-09-10 17:52:31,961 [pool-40-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.log.statemachine.data.sync.timeout.retry = -1 (default)
2019-09-10 17:52:31,962 [pool-40-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.log.statemachine.data.caching.enabled = true (custom)
2019-09-10 17:52:31,966 [main] INFO  handler.ContextHandler (ContextHandler.java:doStart(781)) - Started o.e.j.w.WebAppContext@1f67761b{/,file:///tmp/jetty-0.0.0.0-46502-hddsDatanode-_-any-7234907141559886255.dir/webapp/,AVAILABLE}{/hddsDatanode}
2019-09-10 17:52:31,967 [main] INFO  server.AbstractConnector (AbstractConnector.java:doStart(278)) - Started ServerConnector@5a034157{HTTP/1.1,[http/1.1]}{0.0.0.0:46502}
2019-09-10 17:52:31,967 [main] INFO  server.Server (Server.java:doStart(419)) - Started @22303ms
2019-09-10 17:52:31,968 [main] WARN  impl.MetricsSystemImpl (MetricsSystemImpl.java:register(276)) - Sink prometheus already exists!
2019-09-10 17:52:31,969 [main] INFO  server.BaseHttpServer (BaseHttpServer.java:updateConnectorAddress(215)) - HTTP server of HDDSDATANODE is listening at http://0.0.0.0:46502
2019-09-10 17:52:31,969 [main] INFO  ozone.MiniOzoneClusterImpl (MiniOzoneClusterImpl.java:lambda$waitForClusterToBeReady$0(140)) - Waiting for cluster to be ready. Got 0 of 1 DN Heartbeats.
2019-09-10 17:52:31,970 [pool-40-thread-1] INFO  impl.RaftServerImpl (ServerState.java:setRaftConf(354)) - 60b001b3-1662-439d-83b7-d721b00602d4@group-C187B2D0FD2D: set configuration 0: [60b001b3-1662-439d-83b7-d721b00602d4:192.168.5.139:37239], old=null at 0
2019-09-10 17:52:31,971 [org.apache.hadoop.util.JvmPauseMonitor$Monitor@74bc027a] INFO  util.JvmPauseMonitor (JvmPauseMonitor.java:run(188)) - Starting JVM pause monitor
2019-09-10 17:52:31,971 [pool-40-thread-1] INFO  segmented.LogSegment (LogSegment.java:loadSegment(123)) - Successfully read 9 entries from segment file /workdir/hadoop-ozone/integration-test/target/test-dir/MiniOzoneClusterImpl-d01b3807-3732-4de8-b8ba-bdf98e618289/datanode-0/data/ratis/73f30e8d-4802-48fb-a865-c187b2d0fd2d/current/log_inprogress_0
2019-09-10 17:52:31,971 [pool-40-thread-1] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:lambda$new$0(132)) - 60b001b3-1662-439d-83b7-d721b00602d4@group-C187B2D0FD2D-SegmentedRaftLogWorker: flushIndex: setUnconditionally 0 -> 8
2019-09-10 17:52:32,001 [pool-40-thread-1] INFO  raftlog.RaftLog (RaftLog.java:lambda$new$0(61)) - 60b001b3-1662-439d-83b7-d721b00602d4@group-C187B2D0FD2D-SegmentedRaftLog: commitIndex: updateToMax old=7, new=6, updated? false
2019-09-10 17:52:32,001 [pool-40-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.snapshot.auto.trigger.enabled = true (custom)
2019-09-10 17:52:32,002 [pool-40-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.snapshot.auto.trigger.threshold = 1 (custom)
2019-09-10 17:52:32,002 [pool-40-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.snapshot.retention.num.files = 5 (custom)
2019-09-10 17:52:32,002 [pool-40-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.retrycache.expirytime = 600000ms (custom)
2019-09-10 17:52:32,970 [main] INFO  ozone.MiniOzoneClusterImpl (MiniOzoneClusterImpl.java:lambda$waitForClusterToBeReady$0(140)) - Waiting for cluster to be ready. Got 0 of 1 DN Heartbeats.
2019-09-10 17:52:33,970 [main] INFO  ozone.MiniOzoneClusterImpl (MiniOzoneClusterImpl.java:lambda$waitForClusterToBeReady$0(140)) - Waiting for cluster to be ready. Got 0 of 1 DN Heartbeats.
2019-09-10 17:52:33,973 [Datanode State Machine Thread - 0] INFO  ozoneimpl.OzoneContainer (OzoneContainer.java:start(217)) - Attempting to start container services.
2019-09-10 17:52:33,974 [Datanode State Machine Thread - 0] INFO  ozoneimpl.OzoneContainer (OzoneContainer.java:startContainerScrub(179)) - Background container scanner has been disabled.
2019-09-10 17:52:33,974 [Datanode State Machine Thread - 0] INFO  ratis.XceiverServerRatis (XceiverServerRatis.java:start(411)) - Starting XceiverServerRatis 60b001b3-1662-439d-83b7-d721b00602d4 at port 37239
2019-09-10 17:52:33,982 [Datanode State Machine Thread - 0] INFO  impl.RaftServerImpl (RaftServerImpl.java:start(185)) - 60b001b3-1662-439d-83b7-d721b00602d4@group-C187B2D0FD2D: start as a follower, conf=0: [60b001b3-1662-439d-83b7-d721b00602d4:192.168.5.139:37239], old=null
2019-09-10 17:52:33,982 [Datanode State Machine Thread - 0] INFO  impl.RaftServerImpl (RaftServerImpl.java:setRole(174)) - 60b001b3-1662-439d-83b7-d721b00602d4@group-C187B2D0FD2D: changes role from      null to FOLLOWER at term 1 for startAsFollower
2019-09-10 17:52:33,982 [Datanode State Machine Thread - 0] INFO  impl.RoleInfo (RoleInfo.java:updateAndGet(143)) - 60b001b3-1662-439d-83b7-d721b00602d4: start FollowerState
2019-09-10 17:52:33,983 [Datanode State Machine Thread - 0] INFO  util.JmxRegister (JmxRegister.java:tryRegister(44)) - Successfully registered JMX Bean with object name Ratis:service=RaftServer,group=group-C187B2D0FD2D,id=60b001b3-1662-439d-83b7-d721b00602d4
2019-09-10 17:52:33,984 [Datanode State Machine Thread - 0] INFO  impl.RaftServerProxy (RaftServerProxy.java:lambda$start$3(299)) - 60b001b3-1662-439d-83b7-d721b00602d4: start RPC server
2019-09-10 17:52:33,986 [Datanode State Machine Thread - 0] INFO  server.GrpcService (GrpcService.java:startImpl(158)) - 60b001b3-1662-439d-83b7-d721b00602d4: GrpcService started, listening on 0.0.0.0/0.0.0.0:37239
2019-09-10 17:52:34,972 [main] INFO  ozone.MiniOzoneClusterImpl (MiniOzoneClusterImpl.java:lambda$waitForClusterToBeReady$0(140)) - Waiting for cluster to be ready. Got 0 of 1 DN Heartbeats.
2019-09-10 17:52:35,972 [main] INFO  ozone.MiniOzoneClusterImpl (MiniOzoneClusterImpl.java:lambda$waitForClusterToBeReady$0(140)) - Waiting for cluster to be ready. Got 0 of 1 DN Heartbeats.
2019-09-10 17:52:36,973 [main] INFO  ozone.MiniOzoneClusterImpl (MiniOzoneClusterImpl.java:lambda$waitForClusterToBeReady$0(140)) - Waiting for cluster to be ready. Got 0 of 1 DN Heartbeats.
2019-09-10 17:52:37,974 [main] INFO  ozone.MiniOzoneClusterImpl (MiniOzoneClusterImpl.java:lambda$waitForClusterToBeReady$0(140)) - Waiting for cluster to be ready. Got 0 of 1 DN Heartbeats.
2019-09-10 17:52:37,990 [grpc-default-executor-0] INFO  impl.RaftServerProxy (RaftServerProxy.java:addNew(89)) - 60b001b3-1662-439d-83b7-d721b00602d4: addNew group-8C4A8935FE97:[60b001b3-1662-439d-83b7-d721b00602d4:192.168.5.139:37239] returns group-8C4A8935FE97:java.util.concurrent.CompletableFuture@18a18f81[Not completed]
2019-09-10 17:52:37,992 [pool-40-thread-1] INFO  impl.RaftServerImpl (RaftServerImpl.java:<init>(95)) - 60b001b3-1662-439d-83b7-d721b00602d4: new RaftServerImpl for group-8C4A8935FE97:[60b001b3-1662-439d-83b7-d721b00602d4:192.168.5.139:37239] with ContainerStateMachine:uninitialized
2019-09-10 17:52:37,992 [pool-40-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.rpc.timeout.min = 5s (custom)
2019-09-10 17:52:37,993 [pool-40-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.rpc.timeout.max = 5200ms (custom)
2019-09-10 17:52:37,993 [pool-40-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.rpcslowness.timeout = 120s (custom)
2019-09-10 17:52:37,993 [pool-40-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.sleep.deviation.threshold = 300 (default)
2019-09-10 17:52:37,993 [pool-40-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.log.appender.install.snapshot.enabled = false (custom)
2019-09-10 17:52:37,993 [pool-40-thread-1] INFO  impl.RaftServerImpl (ServerState.java:<init>(103)) - 60b001b3-1662-439d-83b7-d721b00602d4@group-8C4A8935FE97: ConfigurationManager, init=-1: [60b001b3-1662-439d-83b7-d721b00602d4:192.168.5.139:37239], old=null, confs=<EMPTY_MAP>
2019-09-10 17:52:37,993 [pool-40-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.storage.dir = [/workdir/hadoop-ozone/integration-test/target/test-dir/MiniOzoneClusterImpl-d01b3807-3732-4de8-b8ba-bdf98e618289/datanode-0/data/ratis] (custom)
2019-09-10 17:52:37,994 [pool-40-thread-1] INFO  storage.RaftStorageDirectory (RaftStorageDirectory.java:analyzeStorage(246)) - The storage directory /workdir/hadoop-ozone/integration-test/target/test-dir/MiniOzoneClusterImpl-d01b3807-3732-4de8-b8ba-bdf98e618289/datanode-0/data/ratis/ddcba061-0fd1-4bc3-8ec3-8c4a8935fe97 does not exist. Creating ...
2019-09-10 17:52:38,007 [pool-40-thread-1] INFO  storage.RaftStorageDirectory (RaftStorageDirectory.java:tryLock(328)) - Lock on /workdir/hadoop-ozone/integration-test/target/test-dir/MiniOzoneClusterImpl-d01b3807-3732-4de8-b8ba-bdf98e618289/datanode-0/data/ratis/ddcba061-0fd1-4bc3-8ec3-8c4a8935fe97/in_use.lock acquired by nodename 23020@pr-hdds-1786-trunk-k6rzm-1803654198
2019-09-10 17:52:38,021 [pool-40-thread-1] INFO  storage.RaftStorage (RaftStorage.java:format(72)) - Storage directory /workdir/hadoop-ozone/integration-test/target/test-dir/MiniOzoneClusterImpl-d01b3807-3732-4de8-b8ba-bdf98e618289/datanode-0/data/ratis/ddcba061-0fd1-4bc3-8ec3-8c4a8935fe97 has been successfully formatted.
2019-09-10 17:52:38,022 [pool-40-thread-1] INFO  ratis.ContainerStateMachine (ContainerStateMachine.java:loadSnapshot(230)) - group-8C4A8935FE97: The snapshot info is null. Setting the last applied indexto:(t:0, i:~)
2019-09-10 17:52:38,022 [pool-40-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.notification.no-leader.timeout = 120s (custom)
2019-09-10 17:52:38,022 [pool-40-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.log.use.memory = false (default)
2019-09-10 17:52:38,022 [pool-40-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.log.purge.gap = 1000000 (custom)
2019-09-10 17:52:38,022 [pool-40-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.log.appender.buffer.byte-limit = 33554432 (custom)
2019-09-10 17:52:38,023 [pool-40-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.log.segment.size.max = 1048576 (custom)
2019-09-10 17:52:38,023 [pool-40-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.log.segment.cache.num.max = 2 (custom)
2019-09-10 17:52:38,023 [pool-40-thread-1] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:<init>(172)) - new 60b001b3-1662-439d-83b7-d721b00602d4@group-8C4A8935FE97-SegmentedRaftLogWorker for RaftStorage:Storage Directory /workdir/hadoop-ozone/integration-test/target/test-dir/MiniOzoneClusterImpl-d01b3807-3732-4de8-b8ba-bdf98e618289/datanode-0/data/ratis/ddcba061-0fd1-4bc3-8ec3-8c4a8935fe97
2019-09-10 17:52:38,023 [pool-40-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.log.queue.byte-limit = 2147483647 (custom)
2019-09-10 17:52:38,023 [pool-40-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.log.queue.element-limit = 1024 (custom)
2019-09-10 17:52:38,024 [pool-40-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.log.segment.size.max = 1048576 (custom)
2019-09-10 17:52:38,024 [pool-40-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.log.preallocated.size = 16384 (custom)
2019-09-10 17:52:38,024 [pool-40-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.log.write.buffer.size = 33554432 (custom)
2019-09-10 17:52:38,024 [pool-40-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.log.force.sync.num = 128 (default)
2019-09-10 17:52:38,024 [pool-40-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.log.statemachine.data.sync = true (default)
2019-09-10 17:52:38,024 [pool-40-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.log.statemachine.data.sync.timeout = 10s (default)
2019-09-10 17:52:38,024 [pool-40-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.log.statemachine.data.sync.timeout.retry = -1 (default)
2019-09-10 17:52:38,025 [pool-40-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.log.statemachine.data.caching.enabled = true (custom)
2019-09-10 17:52:38,025 [pool-40-thread-1] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:lambda$new$0(132)) - 60b001b3-1662-439d-83b7-d721b00602d4@group-8C4A8935FE97-SegmentedRaftLogWorker: flushIndex: setUnconditionally 0 -> -1
2019-09-10 17:52:38,025 [pool-40-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.snapshot.auto.trigger.enabled = true (custom)
2019-09-10 17:52:38,026 [pool-40-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.snapshot.auto.trigger.threshold = 1 (custom)
2019-09-10 17:52:38,026 [pool-40-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.snapshot.retention.num.files = 5 (custom)
2019-09-10 17:52:38,026 [pool-40-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.retrycache.expirytime = 600000ms (custom)
2019-09-10 17:52:38,045 [pool-40-thread-1] INFO  impl.RaftServerImpl (RaftServerImpl.java:start(185)) - 60b001b3-1662-439d-83b7-d721b00602d4@group-8C4A8935FE97: start as a follower, conf=-1: [60b001b3-1662-439d-83b7-d721b00602d4:192.168.5.139:37239], old=null
2019-09-10 17:52:38,046 [pool-40-thread-1] INFO  impl.RaftServerImpl (RaftServerImpl.java:setRole(174)) - 60b001b3-1662-439d-83b7-d721b00602d4@group-8C4A8935FE97: changes role from      null to FOLLOWER at term 0 for startAsFollower
2019-09-10 17:52:38,046 [pool-40-thread-1] INFO  impl.RoleInfo (RoleInfo.java:updateAndGet(143)) - 60b001b3-1662-439d-83b7-d721b00602d4: start FollowerState
2019-09-10 17:52:38,046 [pool-40-thread-1] INFO  util.JmxRegister (JmxRegister.java:tryRegister(44)) - Successfully registered JMX Bean with object name Ratis:service=RaftServer,group=group-8C4A8935FE97,id=60b001b3-1662-439d-83b7-d721b00602d4
2019-09-10 17:52:38,053 [RatisPipelineUtilsThread] INFO  pipeline.PipelineStateManager (PipelineStateManager.java:addPipeline(56)) - Created pipeline Pipeline[ Id: ddcba061-0fd1-4bc3-8ec3-8c4a8935fe97, Nodes: 60b001b3-1662-439d-83b7-d721b00602d4{ip: 192.168.5.139, host: pr-hdds-1786-trunk-k6rzm-1803654198, networkLocation: /default-rack, certSerialId: null}, Type:RATIS, Factor:ONE, State:OPEN]
2019-09-10 17:52:38,971 [Command processor thread] ERROR commandhandler.CloseContainerCommandHandler (CloseContainerCommandHandler.java:handle(84)) - Container #1 does not exist in datanode. Container close failed.
2019-09-10 17:52:38,974 [main] INFO  ozone.MiniOzoneClusterImpl (MiniOzoneClusterImpl.java:lambda$waitForClusterToBeReady$0(140)) - Cluster is ready. Got 1 of 1 DN Heartbeats.
2019-09-10 17:52:39,017 [Thread-186] INFO  impl.FollowerState (FollowerState.java:run(106)) - 60b001b3-1662-439d-83b7-d721b00602d4:group-C187B2D0FD2D changes to CANDIDATE, lastRpcTime:5034, electionTimeout:5034ms
2019-09-10 17:52:39,017 [Thread-186] INFO  impl.RoleInfo (RoleInfo.java:shutdownFollowerState(121)) - 60b001b3-1662-439d-83b7-d721b00602d4: shutdown FollowerState
2019-09-10 17:52:39,018 [Thread-186] INFO  impl.RaftServerImpl (RaftServerImpl.java:setRole(174)) - 60b001b3-1662-439d-83b7-d721b00602d4@group-C187B2D0FD2D: changes role from  FOLLOWER to CANDIDATE at term 1 for changeToCandidate
2019-09-10 17:52:39,018 [Thread-186] INFO  impl.RoleInfo (RoleInfo.java:updateAndGet(143)) - 60b001b3-1662-439d-83b7-d721b00602d4: start LeaderElection
2019-09-10 17:52:39,022 [grpc-default-executor-0] INFO  client.GrpcClientProtocolClient (GrpcClientProtocolClient.java:onNext(264)) - client-E682D50F9A19->60b001b3-1662-439d-83b7-d721b00602d4: receive RaftClientReply:client-E682D50F9A19->60b001b3-1662-439d-83b7-d721b00602d4@group-8C4A8935FE97, cid=6, FAILED org.apache.ratis.protocol.NotLeaderException: Server 60b001b3-1662-439d-83b7-d721b00602d4@group-8C4A8935FE97 is not the leader, logIndex=0, commits[60b001b3-1662-439d-83b7-d721b00602d4:c-1]
2019-09-10 17:52:39,034 [60b001b3-1662-439d-83b7-d721b00602d4@group-C187B2D0FD2D:LeaderElection2] INFO  impl.LeaderElection (LeaderElection.java:askForVotes(182)) - 60b001b3-1662-439d-83b7-d721b00602d4@group-C187B2D0FD2D:LeaderElection2: begin an election at term 2 for 0: [60b001b3-1662-439d-83b7-d721b00602d4:192.168.5.139:37239], old=null
2019-09-10 17:52:39,035 [60b001b3-1662-439d-83b7-d721b00602d4@group-C187B2D0FD2D:LeaderElection2] INFO  impl.RoleInfo (RoleInfo.java:shutdownLeaderElection(134)) - 60b001b3-1662-439d-83b7-d721b00602d4: shutdown LeaderElection
2019-09-10 17:52:39,035 [60b001b3-1662-439d-83b7-d721b00602d4@group-C187B2D0FD2D:LeaderElection2] INFO  impl.RaftServerImpl (RaftServerImpl.java:setRole(174)) - 60b001b3-1662-439d-83b7-d721b00602d4@group-C187B2D0FD2D: changes role from CANDIDATE to LEADER at term 2 for changeToLeader
2019-09-10 17:52:39,035 [60b001b3-1662-439d-83b7-d721b00602d4@group-C187B2D0FD2D:LeaderElection2] INFO  impl.RaftServerImpl (ServerState.java:setLeader(253)) - 60b001b3-1662-439d-83b7-d721b00602d4@group-C187B2D0FD2D: change Leader from null to 60b001b3-1662-439d-83b7-d721b00602d4 at term 2 for becomeLeader, leader elected after 7076ms
2019-09-10 17:52:39,035 [60b001b3-1662-439d-83b7-d721b00602d4@group-C187B2D0FD2D:LeaderElection2] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.staging.catchup.gap = 1000 (default)
2019-09-10 17:52:39,035 [60b001b3-1662-439d-83b7-d721b00602d4@group-C187B2D0FD2D:LeaderElection2] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.rpc.sleep.time = 25ms (default)
2019-09-10 17:52:39,035 [60b001b3-1662-439d-83b7-d721b00602d4@group-C187B2D0FD2D:LeaderElection2] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.write.element-limit = 4096 (default)
2019-09-10 17:52:39,035 [60b001b3-1662-439d-83b7-d721b00602d4@group-C187B2D0FD2D:LeaderElection2] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.watch.timeout = 10s (default)
2019-09-10 17:52:39,035 [60b001b3-1662-439d-83b7-d721b00602d4@group-C187B2D0FD2D:LeaderElection2] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.watch.timeout.denomination = 1s (default)
2019-09-10 17:52:39,036 [60b001b3-1662-439d-83b7-d721b00602d4@group-C187B2D0FD2D:LeaderElection2] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.watch.element-limit = 65536 (default)
2019-09-10 17:52:39,036 [60b001b3-1662-439d-83b7-d721b00602d4@group-C187B2D0FD2D:LeaderElection2] INFO  impl.RoleInfo (RoleInfo.java:updateAndGet(143)) - 60b001b3-1662-439d-83b7-d721b00602d4: start LeaderState
2019-09-10 17:52:39,037 [60b001b3-1662-439d-83b7-d721b00602d4@group-C187B2D0FD2D:LeaderElection2] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:rollLogSegment(385)) - 60b001b3-1662-439d-83b7-d721b00602d4@group-C187B2D0FD2D-SegmentedRaftLogWorker: Rolling segment log-0_8 to index:8
2019-09-10 17:52:39,039 [60b001b3-1662-439d-83b7-d721b00602d4@group-C187B2D0FD2D:LeaderElection2] INFO  impl.RaftServerImpl (ServerState.java:setRaftConf(354)) - 60b001b3-1662-439d-83b7-d721b00602d4@group-C187B2D0FD2D: set configuration 9: [60b001b3-1662-439d-83b7-d721b00602d4:192.168.5.139:37239], old=null at 9
2019-09-10 17:52:39,041 [60b001b3-1662-439d-83b7-d721b00602d4@group-C187B2D0FD2D-SegmentedRaftLogWorker] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:execute(526)) - 60b001b3-1662-439d-83b7-d721b00602d4@group-C187B2D0FD2D-SegmentedRaftLogWorker: Rolled log segment from /workdir/hadoop-ozone/integration-test/target/test-dir/MiniOzoneClusterImpl-d01b3807-3732-4de8-b8ba-bdf98e618289/datanode-0/data/ratis/73f30e8d-4802-48fb-a865-c187b2d0fd2d/current/log_inprogress_0 to /workdir/hadoop-ozone/integration-test/target/test-dir/MiniOzoneClusterImpl-d01b3807-3732-4de8-b8ba-bdf98e618289/datanode-0/data/ratis/73f30e8d-4802-48fb-a865-c187b2d0fd2d/current/log_0-8
2019-09-10 17:52:39,084 [60b001b3-1662-439d-83b7-d721b00602d4@group-C187B2D0FD2D-SegmentedRaftLogWorker] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:execute(569)) - 60b001b3-1662-439d-83b7-d721b00602d4@group-C187B2D0FD2D-SegmentedRaftLogWorker: created new log segment /workdir/hadoop-ozone/integration-test/target/test-dir/MiniOzoneClusterImpl-d01b3807-3732-4de8-b8ba-bdf98e618289/datanode-0/data/ratis/73f30e8d-4802-48fb-a865-c187b2d0fd2d/current/log_inprogress_9
2019-09-10 17:52:39,109 [60b001b3-1662-439d-83b7-d721b00602d4@group-C187B2D0FD2D-StateMachineUpdater] INFO  ratis.ContainerStateMachine (ContainerStateMachine.java:takeSnapshot(289)) - group-C187B2D0FD2D: Taking a snapshot at:(t:1, i:7) file /workdir/hadoop-ozone/integration-test/target/test-dir/MiniOzoneClusterImpl-d01b3807-3732-4de8-b8ba-bdf98e618289/datanode-0/data/ratis/73f30e8d-4802-48fb-a865-c187b2d0fd2d/sm/snapshot.1_7
2019-09-10 17:52:39,131 [60b001b3-1662-439d-83b7-d721b00602d4@group-C187B2D0FD2D-StateMachineUpdater] INFO  ratis.ContainerStateMachine (ContainerStateMachine.java:takeSnapshot(300)) - group-C187B2D0FD2D: Finished taking a snapshot at:(t:1, i:7) file:/workdir/hadoop-ozone/integration-test/target/test-dir/MiniOzoneClusterImpl-d01b3807-3732-4de8-b8ba-bdf98e618289/datanode-0/data/ratis/73f30e8d-4802-48fb-a865-c187b2d0fd2d/sm/snapshot.1_7 time:23
2019-09-10 17:52:39,132 [60b001b3-1662-439d-83b7-d721b00602d4@group-C187B2D0FD2D-StateMachineUpdater] INFO  impl.StateMachineUpdater (StateMachineUpdater.java:takeSnapshot(258)) - 60b001b3-1662-439d-83b7-d721b00602d4@group-C187B2D0FD2D-StateMachineUpdater: Took a snapshot at index 7
2019-09-10 17:52:39,132 [60b001b3-1662-439d-83b7-d721b00602d4@group-C187B2D0FD2D-StateMachineUpdater] INFO  impl.StateMachineUpdater (StateMachineUpdater.java:lambda$new$0(83)) - 60b001b3-1662-439d-83b7-d721b00602d4@group-C187B2D0FD2D-StateMachineUpdater: snapshotIndex: updateIncreasingly 7 -> 7
2019-09-10 17:52:39,133 [60b001b3-1662-439d-83b7-d721b00602d4@group-C187B2D0FD2D-StateMachineUpdater] INFO  ratis.ContainerStateMachine (ContainerStateMachine.java:takeSnapshot(289)) - group-C187B2D0FD2D: Taking a snapshot at:(t:1, i:7) file /workdir/hadoop-ozone/integration-test/target/test-dir/MiniOzoneClusterImpl-d01b3807-3732-4de8-b8ba-bdf98e618289/datanode-0/data/ratis/73f30e8d-4802-48fb-a865-c187b2d0fd2d/sm/snapshot.1_7
2019-09-10 17:52:39,147 [60b001b3-1662-439d-83b7-d721b00602d4@group-C187B2D0FD2D-StateMachineUpdater] INFO  ratis.ContainerStateMachine (ContainerStateMachine.java:takeSnapshot(300)) - group-C187B2D0FD2D: Finished taking a snapshot at:(t:1, i:7) file:/workdir/hadoop-ozone/integration-test/target/test-dir/MiniOzoneClusterImpl-d01b3807-3732-4de8-b8ba-bdf98e618289/datanode-0/data/ratis/73f30e8d-4802-48fb-a865-c187b2d0fd2d/sm/snapshot.1_7 time:14
2019-09-10 17:52:39,147 [60b001b3-1662-439d-83b7-d721b00602d4@group-C187B2D0FD2D-StateMachineUpdater] INFO  impl.StateMachineUpdater (StateMachineUpdater.java:takeSnapshot(258)) - 60b001b3-1662-439d-83b7-d721b00602d4@group-C187B2D0FD2D-StateMachineUpdater: Took a snapshot at index 7
2019-09-10 17:52:39,147 [60b001b3-1662-439d-83b7-d721b00602d4@group-C187B2D0FD2D-StateMachineUpdater] INFO  impl.StateMachineUpdater (StateMachineUpdater.java:lambda$new$0(83)) - 60b001b3-1662-439d-83b7-d721b00602d4@group-C187B2D0FD2D-StateMachineUpdater: snapshotIndex: updateIncreasingly 7 -> 7
2019-09-10 17:52:39,683 [grpc-default-executor-0] INFO  impl.RaftServerProxy (RaftServerProxy.java:remove(95)) - 60b001b3-1662-439d-83b7-d721b00602d4: remove    LEADER 60b001b3-1662-439d-83b7-d721b00602d4@group-C187B2D0FD2D:t2, leader=60b001b3-1662-439d-83b7-d721b00602d4, voted=60b001b3-1662-439d-83b7-d721b00602d4, raftlog=60b001b3-1662-439d-83b7-d721b00602d4@group-C187B2D0FD2D-SegmentedRaftLog:OPENED:c10,f10,i10, conf=9: [60b001b3-1662-439d-83b7-d721b00602d4:192.168.5.139:37239], old=null RUNNING
2019-09-10 17:52:39,686 [grpc-default-executor-0] INFO  impl.RaftServerImpl (RaftServerImpl.java:lambda$shutdown$3(251)) - 60b001b3-1662-439d-83b7-d721b00602d4@group-C187B2D0FD2D: shutdown
2019-09-10 17:52:39,687 [grpc-default-executor-0] INFO  util.JmxRegister (JmxRegister.java:unregister(73)) - Successfully un-registered JMX Bean with object name Ratis:service=RaftServer,group=group-C187B2D0FD2D,id=60b001b3-1662-439d-83b7-d721b00602d4
2019-09-10 17:52:39,687 [grpc-default-executor-0] INFO  impl.RoleInfo (RoleInfo.java:shutdownLeaderState(104)) - 60b001b3-1662-439d-83b7-d721b00602d4: shutdown LeaderState
2019-09-10 17:52:39,687 [grpc-default-executor-0] INFO  impl.PendingRequests (PendingRequests.java:sendNotLeaderResponses(202)) - 60b001b3-1662-439d-83b7-d721b00602d4-PendingRequests: sendNotLeaderResponses
2019-09-10 17:52:39,692 [grpc-default-executor-0] INFO  impl.StateMachineUpdater (StateMachineUpdater.java:stopAndJoin(125)) - 60b001b3-1662-439d-83b7-d721b00602d4@group-C187B2D0FD2D-StateMachineUpdater: set stopIndex = 10
2019-09-10 17:52:39,692 [60b001b3-1662-439d-83b7-d721b00602d4@group-C187B2D0FD2D-StateMachineUpdater] INFO  ratis.ContainerStateMachine (ContainerStateMachine.java:takeSnapshot(289)) - group-C187B2D0FD2D: Taking a snapshot at:(t:1, i:7) file /workdir/hadoop-ozone/integration-test/target/test-dir/MiniOzoneClusterImpl-d01b3807-3732-4de8-b8ba-bdf98e618289/datanode-0/data/ratis/73f30e8d-4802-48fb-a865-c187b2d0fd2d/sm/snapshot.1_7
2019-09-10 17:52:39,718 [60b001b3-1662-439d-83b7-d721b00602d4@group-C187B2D0FD2D-StateMachineUpdater] INFO  ratis.ContainerStateMachine (ContainerStateMachine.java:takeSnapshot(300)) - group-C187B2D0FD2D: Finished taking a snapshot at:(t:1, i:7) file:/workdir/hadoop-ozone/integration-test/target/test-dir/MiniOzoneClusterImpl-d01b3807-3732-4de8-b8ba-bdf98e618289/datanode-0/data/ratis/73f30e8d-4802-48fb-a865-c187b2d0fd2d/sm/snapshot.1_7 time:26
2019-09-10 17:52:39,719 [60b001b3-1662-439d-83b7-d721b00602d4@group-C187B2D0FD2D-StateMachineUpdater] INFO  impl.StateMachineUpdater (StateMachineUpdater.java:takeSnapshot(258)) - 60b001b3-1662-439d-83b7-d721b00602d4@group-C187B2D0FD2D-StateMachineUpdater: Took a snapshot at index 7
2019-09-10 17:52:39,719 [60b001b3-1662-439d-83b7-d721b00602d4@group-C187B2D0FD2D-StateMachineUpdater] INFO  impl.StateMachineUpdater (StateMachineUpdater.java:lambda$new$0(83)) - 60b001b3-1662-439d-83b7-d721b00602d4@group-C187B2D0FD2D-StateMachineUpdater: snapshotIndex: updateIncreasingly 7 -> 7
2019-09-10 17:52:39,719 [60b001b3-1662-439d-83b7-d721b00602d4@group-C187B2D0FD2D-StateMachineUpdater] INFO  ratis.ContainerStateMachine (ContainerStateMachine.java:takeSnapshot(289)) - group-C187B2D0FD2D: Taking a snapshot at:(t:1, i:7) file /workdir/hadoop-ozone/integration-test/target/test-dir/MiniOzoneClusterImpl-d01b3807-3732-4de8-b8ba-bdf98e618289/datanode-0/data/ratis/73f30e8d-4802-48fb-a865-c187b2d0fd2d/sm/snapshot.1_7
2019-09-10 17:52:39,732 [60b001b3-1662-439d-83b7-d721b00602d4@group-C187B2D0FD2D-StateMachineUpdater] INFO  ratis.ContainerStateMachine (ContainerStateMachine.java:takeSnapshot(300)) - group-C187B2D0FD2D: Finished taking a snapshot at:(t:1, i:7) file:/workdir/hadoop-ozone/integration-test/target/test-dir/MiniOzoneClusterImpl-d01b3807-3732-4de8-b8ba-bdf98e618289/datanode-0/data/ratis/73f30e8d-4802-48fb-a865-c187b2d0fd2d/sm/snapshot.1_7 time:13
2019-09-10 17:52:39,733 [60b001b3-1662-439d-83b7-d721b00602d4@group-C187B2D0FD2D-StateMachineUpdater] INFO  impl.StateMachineUpdater (StateMachineUpdater.java:takeSnapshot(258)) - 60b001b3-1662-439d-83b7-d721b00602d4@group-C187B2D0FD2D-StateMachineUpdater: Took a snapshot at index 7
2019-09-10 17:52:39,733 [60b001b3-1662-439d-83b7-d721b00602d4@group-C187B2D0FD2D-StateMachineUpdater] INFO  impl.StateMachineUpdater (StateMachineUpdater.java:lambda$new$0(83)) - 60b001b3-1662-439d-83b7-d721b00602d4@group-C187B2D0FD2D-StateMachineUpdater: snapshotIndex: updateIncreasingly 7 -> 7
2019-09-10 17:52:39,733 [grpc-default-executor-0] INFO  impl.RaftServerImpl (ServerState.java:close(385)) - 60b001b3-1662-439d-83b7-d721b00602d4@group-C187B2D0FD2D: closes. applyIndex: 10
2019-09-10 17:52:39,736 [60b001b3-1662-439d-83b7-d721b00602d4@group-C187B2D0FD2D-SegmentedRaftLogWorker] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:run(313)) - 60b001b3-1662-439d-83b7-d721b00602d4@group-C187B2D0FD2D-SegmentedRaftLogWorker was interrupted, exiting. There are 0 tasks remaining in the queue.
2019-09-10 17:52:39,738 [grpc-default-executor-0] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:close(228)) - 60b001b3-1662-439d-83b7-d721b00602d4@group-C187B2D0FD2D-SegmentedRaftLogWorker close()
2019-09-10 17:52:39,793 [RatisPipelineUtilsThread] WARN  pipeline.RatisPipelineUtils (RatisPipelineUtils.java:destroyPipeline(66)) - Pipeline destroy failed for pipeline=PipelineID=73f30e8d-4802-48fb-a865-c187b2d0fd2d dn=60b001b3-1662-439d-83b7-d721b00602d4{ip: 192.168.5.139, host: pr-hdds-1786-trunk-k6rzm-1803654198, networkLocation: /default-rack, certSerialId: null}
2019-09-10 17:52:39,793 [RatisPipelineUtilsThread] INFO  pipeline.PipelineStateManager (PipelineStateManager.java:removePipeline(108)) - Pipeline Pipeline[ Id: 73f30e8d-4802-48fb-a865-c187b2d0fd2d, Nodes: 60b001b3-1662-439d-83b7-d721b00602d4{ip: 192.168.5.139, host: pr-hdds-1786-trunk-k6rzm-1803654198, networkLocation: /default-rack, certSerialId: null}, Type:RATIS, Factor:ONE, State:CLOSED] removed from db
2019-09-10 17:52:41,055 [grpc-default-executor-1] INFO  client.GrpcClientProtocolClient (GrpcClientProtocolClient.java:onNext(264)) - client-E682D50F9A19->60b001b3-1662-439d-83b7-d721b00602d4: receive RaftClientReply:client-E682D50F9A19->60b001b3-1662-439d-83b7-d721b00602d4@group-8C4A8935FE97, cid=6, FAILED org.apache.ratis.protocol.NotLeaderException: Server 60b001b3-1662-439d-83b7-d721b00602d4@group-8C4A8935FE97 is not the leader, logIndex=0, commits[60b001b3-1662-439d-83b7-d721b00602d4:c-1]
2019-09-10 17:52:43,075 [grpc-default-executor-1] INFO  client.GrpcClientProtocolClient (GrpcClientProtocolClient.java:onNext(264)) - client-E682D50F9A19->60b001b3-1662-439d-83b7-d721b00602d4: receive RaftClientReply:client-E682D50F9A19->60b001b3-1662-439d-83b7-d721b00602d4@group-8C4A8935FE97, cid=6, FAILED org.apache.ratis.protocol.NotLeaderException: Server 60b001b3-1662-439d-83b7-d721b00602d4@group-8C4A8935FE97 is not the leader, logIndex=0, commits[60b001b3-1662-439d-83b7-d721b00602d4:c-1]
2019-09-10 17:52:43,103 [Thread-191] INFO  impl.FollowerState (FollowerState.java:run(106)) - 60b001b3-1662-439d-83b7-d721b00602d4:group-8C4A8935FE97 changes to CANDIDATE, lastRpcTime:5057, electionTimeout:5057ms
2019-09-10 17:52:43,104 [Thread-191] INFO  impl.RoleInfo (RoleInfo.java:shutdownFollowerState(121)) - 60b001b3-1662-439d-83b7-d721b00602d4: shutdown FollowerState
2019-09-10 17:52:43,104 [Thread-191] INFO  impl.RaftServerImpl (RaftServerImpl.java:setRole(174)) - 60b001b3-1662-439d-83b7-d721b00602d4@group-8C4A8935FE97: changes role from  FOLLOWER to CANDIDATE at term 0 for changeToCandidate
2019-09-10 17:52:43,105 [Thread-191] INFO  impl.RoleInfo (RoleInfo.java:updateAndGet(143)) - 60b001b3-1662-439d-83b7-d721b00602d4: start LeaderElection
2019-09-10 17:52:43,131 [60b001b3-1662-439d-83b7-d721b00602d4@group-8C4A8935FE97:LeaderElection3] INFO  impl.LeaderElection (LeaderElection.java:askForVotes(182)) - 60b001b3-1662-439d-83b7-d721b00602d4@group-8C4A8935FE97:LeaderElection3: begin an election at term 1 for -1: [60b001b3-1662-439d-83b7-d721b00602d4:192.168.5.139:37239], old=null
2019-09-10 17:52:43,131 [60b001b3-1662-439d-83b7-d721b00602d4@group-8C4A8935FE97:LeaderElection3] INFO  impl.RoleInfo (RoleInfo.java:shutdownLeaderElection(134)) - 60b001b3-1662-439d-83b7-d721b00602d4: shutdown LeaderElection
2019-09-10 17:52:43,132 [60b001b3-1662-439d-83b7-d721b00602d4@group-8C4A8935FE97:LeaderElection3] INFO  impl.RaftServerImpl (RaftServerImpl.java:setRole(174)) - 60b001b3-1662-439d-83b7-d721b00602d4@group-8C4A8935FE97: changes role from CANDIDATE to LEADER at term 1 for changeToLeader
2019-09-10 17:52:43,132 [60b001b3-1662-439d-83b7-d721b00602d4@group-8C4A8935FE97:LeaderElection3] INFO  impl.RaftServerImpl (ServerState.java:setLeader(253)) - 60b001b3-1662-439d-83b7-d721b00602d4@group-8C4A8935FE97: change Leader from null to 60b001b3-1662-439d-83b7-d721b00602d4 at term 1 for becomeLeader, leader elected after 5109ms
2019-09-10 17:52:43,132 [60b001b3-1662-439d-83b7-d721b00602d4@group-8C4A8935FE97:LeaderElection3] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.staging.catchup.gap = 1000 (default)
2019-09-10 17:52:43,132 [60b001b3-1662-439d-83b7-d721b00602d4@group-8C4A8935FE97:LeaderElection3] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.rpc.sleep.time = 25ms (default)
2019-09-10 17:52:43,133 [60b001b3-1662-439d-83b7-d721b00602d4@group-8C4A8935FE97:LeaderElection3] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.write.element-limit = 4096 (default)
2019-09-10 17:52:43,133 [60b001b3-1662-439d-83b7-d721b00602d4@group-8C4A8935FE97:LeaderElection3] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.watch.timeout = 10s (default)
2019-09-10 17:52:43,133 [60b001b3-1662-439d-83b7-d721b00602d4@group-8C4A8935FE97:LeaderElection3] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.watch.timeout.denomination = 1s (default)
2019-09-10 17:52:43,133 [60b001b3-1662-439d-83b7-d721b00602d4@group-8C4A8935FE97:LeaderElection3] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.watch.element-limit = 65536 (default)
2019-09-10 17:52:43,140 [60b001b3-1662-439d-83b7-d721b00602d4@group-8C4A8935FE97:LeaderElection3] INFO  impl.RoleInfo (RoleInfo.java:updateAndGet(143)) - 60b001b3-1662-439d-83b7-d721b00602d4: start LeaderState
2019-09-10 17:52:43,140 [60b001b3-1662-439d-83b7-d721b00602d4@group-8C4A8935FE97:LeaderElection3] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:startLogSegment(380)) - 60b001b3-1662-439d-83b7-d721b00602d4@group-8C4A8935FE97-SegmentedRaftLogWorker: Starting segment from index:0
2019-09-10 17:52:43,141 [60b001b3-1662-439d-83b7-d721b00602d4@group-8C4A8935FE97:LeaderElection3] INFO  impl.RaftServerImpl (ServerState.java:setRaftConf(354)) - 60b001b3-1662-439d-83b7-d721b00602d4@group-8C4A8935FE97: set configuration 0: [60b001b3-1662-439d-83b7-d721b00602d4:192.168.5.139:37239], old=null at 0
2019-09-10 17:52:43,189 [60b001b3-1662-439d-83b7-d721b00602d4@group-8C4A8935FE97-SegmentedRaftLogWorker] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:execute(569)) - 60b001b3-1662-439d-83b7-d721b00602d4@group-8C4A8935FE97-SegmentedRaftLogWorker: created new log segment /workdir/hadoop-ozone/integration-test/target/test-dir/MiniOzoneClusterImpl-d01b3807-3732-4de8-b8ba-bdf98e618289/datanode-0/data/ratis/ddcba061-0fd1-4bc3-8ec3-8c4a8935fe97/current/log_inprogress_0
2019-09-10 17:52:45,245 [60b001b3-1662-439d-83b7-d721b00602d4@group-8C4A8935FE97-StateMachineUpdater] INFO  ratis.ContainerStateMachine (ContainerStateMachine.java:takeSnapshot(289)) - group-8C4A8935FE97: Taking a snapshot at:(t:1, i:1) file /workdir/hadoop-ozone/integration-test/target/test-dir/MiniOzoneClusterImpl-d01b3807-3732-4de8-b8ba-bdf98e618289/datanode-0/data/ratis/ddcba061-0fd1-4bc3-8ec3-8c4a8935fe97/sm/snapshot.1_1
2019-09-10 17:52:45,249 [grpc-default-executor-0] INFO  client.GrpcClientProtocolClient (GrpcClientProtocolClient.java:onNext(264)) - client-E682D50F9A19->60b001b3-1662-439d-83b7-d721b00602d4: receive RaftClientReply:client-E682D50F9A19->60b001b3-1662-439d-83b7-d721b00602d4@group-8C4A8935FE97, cid=6, SUCCESS, logIndex=1, commits[60b001b3-1662-439d-83b7-d721b00602d4:c1]
2019-09-10 17:52:45,280 [60b001b3-1662-439d-83b7-d721b00602d4@group-8C4A8935FE97-StateMachineUpdater] INFO  ratis.ContainerStateMachine (ContainerStateMachine.java:takeSnapshot(300)) - group-8C4A8935FE97: Finished taking a snapshot at:(t:1, i:1) file:/workdir/hadoop-ozone/integration-test/target/test-dir/MiniOzoneClusterImpl-d01b3807-3732-4de8-b8ba-bdf98e618289/datanode-0/data/ratis/ddcba061-0fd1-4bc3-8ec3-8c4a8935fe97/sm/snapshot.1_1 time:35
2019-09-10 17:52:45,280 [60b001b3-1662-439d-83b7-d721b00602d4@group-8C4A8935FE97-StateMachineUpdater] INFO  impl.StateMachineUpdater (StateMachineUpdater.java:takeSnapshot(258)) - 60b001b3-1662-439d-83b7-d721b00602d4@group-8C4A8935FE97-StateMachineUpdater: Took a snapshot at index 1
2019-09-10 17:52:45,280 [60b001b3-1662-439d-83b7-d721b00602d4@group-8C4A8935FE97-StateMachineUpdater] INFO  impl.StateMachineUpdater (StateMachineUpdater.java:lambda$new$0(83)) - 60b001b3-1662-439d-83b7-d721b00602d4@group-8C4A8935FE97-StateMachineUpdater: snapshotIndex: updateIncreasingly -1 -> 1
2019-09-10 17:52:45,386 [60b001b3-1662-439d-83b7-d721b00602d4@group-8C4A8935FE97-StateMachineUpdater] INFO  ratis.ContainerStateMachine (ContainerStateMachine.java:takeSnapshot(289)) - group-8C4A8935FE97: Taking a snapshot at:(t:1, i:3) file /workdir/hadoop-ozone/integration-test/target/test-dir/MiniOzoneClusterImpl-d01b3807-3732-4de8-b8ba-bdf98e618289/datanode-0/data/ratis/ddcba061-0fd1-4bc3-8ec3-8c4a8935fe97/sm/snapshot.1_3
2019-09-10 17:52:45,389 [grpc-default-executor-0] INFO  client.GrpcClientProtocolClient (GrpcClientProtocolClient.java:onNext(264)) - client-E682D50F9A19->60b001b3-1662-439d-83b7-d721b00602d4: receive RaftClientReply:client-E682D50F9A19->60b001b3-1662-439d-83b7-d721b00602d4@group-8C4A8935FE97, cid=7, SUCCESS, logIndex=3, commits[60b001b3-1662-439d-83b7-d721b00602d4:c4]
2019-09-10 17:52:45,408 [60b001b3-1662-439d-83b7-d721b00602d4@group-8C4A8935FE97-StateMachineUpdater] INFO  ratis.ContainerStateMachine (ContainerStateMachine.java:takeSnapshot(300)) - group-8C4A8935FE97: Finished taking a snapshot at:(t:1, i:3) file:/workdir/hadoop-ozone/integration-test/target/test-dir/MiniOzoneClusterImpl-d01b3807-3732-4de8-b8ba-bdf98e618289/datanode-0/data/ratis/ddcba061-0fd1-4bc3-8ec3-8c4a8935fe97/sm/snapshot.1_3 time:22
2019-09-10 17:52:45,408 [60b001b3-1662-439d-83b7-d721b00602d4@group-8C4A8935FE97-StateMachineUpdater] INFO  impl.StateMachineUpdater (StateMachineUpdater.java:takeSnapshot(258)) - 60b001b3-1662-439d-83b7-d721b00602d4@group-8C4A8935FE97-StateMachineUpdater: Took a snapshot at index 3
2019-09-10 17:52:45,409 [60b001b3-1662-439d-83b7-d721b00602d4@group-8C4A8935FE97-StateMachineUpdater] INFO  impl.StateMachineUpdater (StateMachineUpdater.java:lambda$new$0(83)) - 60b001b3-1662-439d-83b7-d721b00602d4@group-8C4A8935FE97-StateMachineUpdater: snapshotIndex: updateIncreasingly 1 -> 3
2019-09-10 17:52:45,409 [60b001b3-1662-439d-83b7-d721b00602d4@group-8C4A8935FE97-StateMachineUpdater] INFO  ratis.ContainerStateMachine (ContainerStateMachine.java:takeSnapshot(289)) - group-8C4A8935FE97: Taking a snapshot at:(t:1, i:3) file /workdir/hadoop-ozone/integration-test/target/test-dir/MiniOzoneClusterImpl-d01b3807-3732-4de8-b8ba-bdf98e618289/datanode-0/data/ratis/ddcba061-0fd1-4bc3-8ec3-8c4a8935fe97/sm/snapshot.1_3
2019-09-10 17:52:45,431 [Datanode State Machine Thread - 0] INFO  statemachine.DatanodeStateMachine (DatanodeStateMachine.java:lambda$startDaemon$0(350)) - Ozone container server started.
2019-09-10 17:52:45,433 [60b001b3-1662-439d-83b7-d721b00602d4@group-8C4A8935FE97-StateMachineUpdater] INFO  ratis.ContainerStateMachine (ContainerStateMachine.java:takeSnapshot(300)) - group-8C4A8935FE97: Finished taking a snapshot at:(t:1, i:3) file:/workdir/hadoop-ozone/integration-test/target/test-dir/MiniOzoneClusterImpl-d01b3807-3732-4de8-b8ba-bdf98e618289/datanode-0/data/ratis/ddcba061-0fd1-4bc3-8ec3-8c4a8935fe97/sm/snapshot.1_3 time:24
2019-09-10 17:52:45,434 [60b001b3-1662-439d-83b7-d721b00602d4@group-8C4A8935FE97-StateMachineUpdater] INFO  impl.StateMachineUpdater (StateMachineUpdater.java:takeSnapshot(258)) - 60b001b3-1662-439d-83b7-d721b00602d4@group-8C4A8935FE97-StateMachineUpdater: Took a snapshot at index 3
2019-09-10 17:52:45,434 [60b001b3-1662-439d-83b7-d721b00602d4@group-8C4A8935FE97-StateMachineUpdater] INFO  impl.StateMachineUpdater (StateMachineUpdater.java:lambda$new$0(83)) - 60b001b3-1662-439d-83b7-d721b00602d4@group-8C4A8935FE97-StateMachineUpdater: snapshotIndex: updateIncreasingly 3 -> 3
2019-09-10 17:52:48,293 [EventQueue-StaleNodeForStaleNodeHandler] INFO  node.StaleNodeHandler (StaleNodeHandler.java:onMessage(58)) - Datanode 60b001b3-1662-439d-83b7-d721b00602d4{ip: 192.168.5.139, host: pr-hdds-1786-trunk-k6rzm-1803654198, networkLocation: /default-rack, certSerialId: null} moved to stale state. Finalizing its pipelines [PipelineID=ddcba061-0fd1-4bc3-8ec3-8c4a8935fe97]
2019-09-10 17:52:48,293 [EventQueue-StaleNodeForStaleNodeHandler] INFO  pipeline.SCMPipelineManager (SCMPipelineManager.java:finalizeAndDestroyPipeline(311)) - destroying pipeline:Pipeline[ Id: ddcba061-0fd1-4bc3-8ec3-8c4a8935fe97, Nodes: 60b001b3-1662-439d-83b7-d721b00602d4{ip: 192.168.5.139, host: pr-hdds-1786-trunk-k6rzm-1803654198, networkLocation: /default-rack, certSerialId: null}, Type:RATIS, Factor:ONE, State:OPEN]
2019-09-10 17:52:48,294 [EventQueue-StaleNodeForStaleNodeHandler] INFO  pipeline.PipelineStateManager (PipelineStateManager.java:finalizePipeline(123)) - Pipeline Pipeline[ Id: ddcba061-0fd1-4bc3-8ec3-8c4a8935fe97, Nodes: 60b001b3-1662-439d-83b7-d721b00602d4{ip: 192.168.5.139, host: pr-hdds-1786-trunk-k6rzm-1803654198, networkLocation: /default-rack, certSerialId: null}, Type:RATIS, Factor:ONE, State:CLOSED] moved to CLOSED state
2019-09-10 17:52:48,294 [EventQueue-CloseContainerForCloseContainerEventHandler] INFO  container.CloseContainerEventHandler (CloseContainerEventHandler.java:onMessage(61)) - Close container Event triggered for container : #2
2019-09-10 17:52:50,399 [main] INFO  ozoneimpl.OzoneContainer (OzoneContainer.java:stop(231)) - Attempting to stop container services.
2019-09-10 17:52:50,402 [main] INFO  impl.RaftServerProxy (RaftServerProxy.java:lambda$close$4(314)) - 60b001b3-1662-439d-83b7-d721b00602d4: close
2019-09-10 17:52:50,402 [main] INFO  impl.RaftServerImpl (RaftServerImpl.java:lambda$shutdown$3(251)) - 60b001b3-1662-439d-83b7-d721b00602d4@group-8C4A8935FE97: shutdown
2019-09-10 17:52:50,403 [main] INFO  util.JmxRegister (JmxRegister.java:unregister(73)) - Successfully un-registered JMX Bean with object name Ratis:service=RaftServer,group=group-8C4A8935FE97,id=60b001b3-1662-439d-83b7-d721b00602d4
2019-09-10 17:52:50,403 [main] INFO  impl.RoleInfo (RoleInfo.java:shutdownLeaderState(104)) - 60b001b3-1662-439d-83b7-d721b00602d4: shutdown LeaderState
2019-09-10 17:52:50,404 [main] INFO  impl.PendingRequests (PendingRequests.java:sendNotLeaderResponses(202)) - 60b001b3-1662-439d-83b7-d721b00602d4-PendingRequests: sendNotLeaderResponses
2019-09-10 17:52:50,408 [main] INFO  impl.StateMachineUpdater (StateMachineUpdater.java:stopAndJoin(125)) - 60b001b3-1662-439d-83b7-d721b00602d4@group-8C4A8935FE97-StateMachineUpdater: set stopIndex = 4
2019-09-10 17:52:50,409 [60b001b3-1662-439d-83b7-d721b00602d4@group-8C4A8935FE97-StateMachineUpdater] INFO  ratis.ContainerStateMachine (ContainerStateMachine.java:takeSnapshot(289)) - group-8C4A8935FE97: Taking a snapshot at:(t:1, i:3) file /workdir/hadoop-ozone/integration-test/target/test-dir/MiniOzoneClusterImpl-d01b3807-3732-4de8-b8ba-bdf98e618289/datanode-0/data/ratis/ddcba061-0fd1-4bc3-8ec3-8c4a8935fe97/sm/snapshot.1_3
2019-09-10 17:52:50,431 [60b001b3-1662-439d-83b7-d721b00602d4@group-8C4A8935FE97-StateMachineUpdater] INFO  ratis.ContainerStateMachine (ContainerStateMachine.java:takeSnapshot(300)) - group-8C4A8935FE97: Finished taking a snapshot at:(t:1, i:3) file:/workdir/hadoop-ozone/integration-test/target/test-dir/MiniOzoneClusterImpl-d01b3807-3732-4de8-b8ba-bdf98e618289/datanode-0/data/ratis/ddcba061-0fd1-4bc3-8ec3-8c4a8935fe97/sm/snapshot.1_3 time:23
2019-09-10 17:52:50,432 [60b001b3-1662-439d-83b7-d721b00602d4@group-8C4A8935FE97-StateMachineUpdater] INFO  impl.StateMachineUpdater (StateMachineUpdater.java:takeSnapshot(258)) - 60b001b3-1662-439d-83b7-d721b00602d4@group-8C4A8935FE97-StateMachineUpdater: Took a snapshot at index 3
2019-09-10 17:52:50,432 [60b001b3-1662-439d-83b7-d721b00602d4@group-8C4A8935FE97-StateMachineUpdater] INFO  impl.StateMachineUpdater (StateMachineUpdater.java:lambda$new$0(83)) - 60b001b3-1662-439d-83b7-d721b00602d4@group-8C4A8935FE97-StateMachineUpdater: snapshotIndex: updateIncreasingly 3 -> 3
2019-09-10 17:52:50,433 [60b001b3-1662-439d-83b7-d721b00602d4@group-8C4A8935FE97-StateMachineUpdater] INFO  ratis.ContainerStateMachine (ContainerStateMachine.java:takeSnapshot(289)) - group-8C4A8935FE97: Taking a snapshot at:(t:1, i:3) file /workdir/hadoop-ozone/integration-test/target/test-dir/MiniOzoneClusterImpl-d01b3807-3732-4de8-b8ba-bdf98e618289/datanode-0/data/ratis/ddcba061-0fd1-4bc3-8ec3-8c4a8935fe97/sm/snapshot.1_3
2019-09-10 17:52:50,438 [60b001b3-1662-439d-83b7-d721b00602d4@group-8C4A8935FE97-StateMachineUpdater] INFO  ratis.ContainerStateMachine (ContainerStateMachine.java:takeSnapshot(300)) - group-8C4A8935FE97: Finished taking a snapshot at:(t:1, i:3) file:/workdir/hadoop-ozone/integration-test/target/test-dir/MiniOzoneClusterImpl-d01b3807-3732-4de8-b8ba-bdf98e618289/datanode-0/data/ratis/ddcba061-0fd1-4bc3-8ec3-8c4a8935fe97/sm/snapshot.1_3 time:5
2019-09-10 17:52:50,438 [60b001b3-1662-439d-83b7-d721b00602d4@group-8C4A8935FE97-StateMachineUpdater] INFO  impl.StateMachineUpdater (StateMachineUpdater.java:takeSnapshot(258)) - 60b001b3-1662-439d-83b7-d721b00602d4@group-8C4A8935FE97-StateMachineUpdater: Took a snapshot at index 3
2019-09-10 17:52:50,438 [60b001b3-1662-439d-83b7-d721b00602d4@group-8C4A8935FE97-StateMachineUpdater] INFO  impl.StateMachineUpdater (StateMachineUpdater.java:lambda$new$0(83)) - 60b001b3-1662-439d-83b7-d721b00602d4@group-8C4A8935FE97-StateMachineUpdater: snapshotIndex: updateIncreasingly 3 -> 3
2019-09-10 17:52:50,439 [main] INFO  impl.RaftServerImpl (ServerState.java:close(385)) - 60b001b3-1662-439d-83b7-d721b00602d4@group-8C4A8935FE97: closes. applyIndex: 4
2019-09-10 17:52:50,440 [60b001b3-1662-439d-83b7-d721b00602d4@group-8C4A8935FE97-SegmentedRaftLogWorker] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:run(313)) - 60b001b3-1662-439d-83b7-d721b00602d4@group-8C4A8935FE97-SegmentedRaftLogWorker was interrupted, exiting. There are 0 tasks remaining in the queue.
2019-09-10 17:52:50,441 [main] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:close(228)) - 60b001b3-1662-439d-83b7-d721b00602d4@group-8C4A8935FE97-SegmentedRaftLogWorker close()
2019-09-10 17:52:50,443 [main] INFO  server.GrpcService (GrpcService.java:closeImpl(164)) - 60b001b3-1662-439d-83b7-d721b00602d4: shutdown server with port 37239 now
2019-09-10 17:52:50,444 [main] INFO  server.GrpcService (GrpcService.java:closeImpl(172)) - 60b001b3-1662-439d-83b7-d721b00602d4: shutdown server with port 37239 successfully
2019-09-10 17:52:50,447 [refreshUsed-/workdir/hadoop-ozone/integration-test/target/test-dir/MiniOzoneClusterImpl-d01b3807-3732-4de8-b8ba-bdf98e618289/datanode-0/data/containers] WARN  fs.CachingGetSpaceUsed (CachingGetSpaceUsed.java:run(183)) - Thread Interrupted waiting to refresh disk information: sleep interrupted
2019-09-10 17:52:50,476 [main] INFO  utils.BackgroundService (BackgroundService.java:shutdown(148)) - Shutting down service BlockDeletingService
2019-09-10 17:52:50,479 [main] INFO  statemachine.DatanodeStateMachine (DatanodeStateMachine.java:stopDaemon(395)) - Ozone container server stopped.
2019-09-10 17:52:50,480 [main] INFO  handler.ContextHandler (ContextHandler.java:doStop(910)) - Stopped o.e.j.w.WebAppContext@1f67761b{/,null,UNAVAILABLE}{/hddsDatanode}
2019-09-10 17:52:50,482 [main] INFO  server.AbstractConnector (AbstractConnector.java:doStop(318)) - Stopped ServerConnector@5a034157{HTTP/1.1,[http/1.1]}{0.0.0.0:46502}
2019-09-10 17:52:50,482 [main] INFO  handler.ContextHandler (ContextHandler.java:doStop(910)) - Stopped o.e.j.s.ServletContextHandler@4832f03b{/static,jar:file:/home/user/.m2/repository/org/apache/hadoop/hadoop-hdds-container-service/0.5.0-SNAPSHOT/hadoop-hdds-container-service-0.5.0-SNAPSHOT.jar!/webapps/static,UNAVAILABLE}
2019-09-10 17:52:50,483 [main] INFO  handler.ContextHandler (ContextHandler.java:doStop(910)) - Stopped o.e.j.s.ServletContextHandler@18371d89{/logs,file:///workdir/hadoop-ozone/integration-test/target/log,UNAVAILABLE}
2019-09-10 17:52:50,485 [main] INFO  ozone.MiniOzoneClusterImpl (MiniOzoneClusterImpl.java:lambda$waitForClusterToBeReady$0(140)) - Cluster is ready. Got 0 of 0 DN Heartbeats.
2019-09-10 17:52:50,489 [main] INFO  impl.MetricsSystemImpl (MetricsSystemImpl.java:init(158)) - HddsDatanode metrics system started (again)
2019-09-10 17:52:50,495 [main] INFO  ozone.HddsDatanodeService (HddsDatanodeService.java:start(184)) - HddsDatanodeService host:pr-hdds-1786-trunk-k6rzm-1803654198 ip:192.168.5.139
2019-09-10 17:52:50,499 [main] INFO  volume.VolumeUsage (VolumeUsage.java:loadScmUsed(144)) - Cached ScmUsed found for /workdir/hadoop-ozone/integration-test/target/test-dir/MiniOzoneClusterImpl-d01b3807-3732-4de8-b8ba-bdf98e618289/datanode-0/data/containers : 4096 
2019-09-10 17:52:50,499 [main] INFO  volume.HddsVolume (HddsVolume.java:<init>(176)) - Creating Volume: /workdir/hadoop-ozone/integration-test/target/test-dir/MiniOzoneClusterImpl-d01b3807-3732-4de8-b8ba-bdf98e618289/datanode-0/data/containers/hdds of  storage type : DISK and capacity : 1482555576320
2019-09-10 17:52:50,500 [main] INFO  volume.VolumeSet (VolumeSet.java:initializeVolumeSet(170)) - Added Volume : /workdir/hadoop-ozone/integration-test/target/test-dir/MiniOzoneClusterImpl-d01b3807-3732-4de8-b8ba-bdf98e618289/datanode-0/data/containers/hdds to VolumeSet
2019-09-10 17:52:50,500 [main] INFO  volume.ThrottledAsyncChecker (ThrottledAsyncChecker.java:schedule(139)) - Scheduling a check for org.apache.hadoop.ozone.container.common.volume.HddsVolume@58fa5769
2019-09-10 17:52:50,501 [main] INFO  volume.HddsVolumeChecker (HddsVolumeChecker.java:checkAllVolumes(202)) - Scheduled health check for volume org.apache.hadoop.ozone.container.common.volume.HddsVolume@58fa5769
2019-09-10 17:52:50,557 [main] INFO  impl.RaftServerProxy (ConfUtils.java:logGet(43)) - raft.rpc.type = GRPC (default)
2019-09-10 17:52:50,558 [main] INFO  grpc.GrpcFactory (GrpcFactory.java:checkPooledByteBufAllocatorUseCacheForAllThreads(45)) - PERFORMANCE WARNING: useCacheForAllThreads is true that may cause Netty to create a lot garbage objects and, as a result, trigger GC.
	It is recommended to disable useCacheForAllThreads by setting -Dorg.apache.ratis.thirdparty.io.netty.allocator.useCacheForAllThreads=false in command line.
2019-09-10 17:52:50,558 [main] INFO  grpc.GrpcConfigKeys$Server (ConfUtils.java:logGet(43)) - raft.grpc.server.port = 37239 (custom)
2019-09-10 17:52:50,558 [main] INFO  server.GrpcService (ConfUtils.java:logGet(43)) - raft.grpc.message.size.max = 33570816 (custom)
2019-09-10 17:52:50,559 [main] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.log.appender.buffer.byte-limit = 33554432 (custom)
2019-09-10 17:52:50,559 [main] INFO  server.GrpcService (ConfUtils.java:logGet(43)) - raft.grpc.flow.control.window = 1MB (=1048576) (default)
2019-09-10 17:52:50,559 [main] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.rpc.request.timeout = 3000ms (default)
2019-09-10 17:52:50,560 [main] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.storage.dir = [/workdir/hadoop-ozone/integration-test/target/test-dir/MiniOzoneClusterImpl-d01b3807-3732-4de8-b8ba-bdf98e618289/datanode-0/data/ratis] (custom)
2019-09-10 17:52:50,561 [main] INFO  impl.RaftServerProxy (RaftServerProxy.java:lambda$null$0(191)) - 60b001b3-1662-439d-83b7-d721b00602d4: found a subdirectory /workdir/hadoop-ozone/integration-test/target/test-dir/MiniOzoneClusterImpl-d01b3807-3732-4de8-b8ba-bdf98e618289/datanode-0/data/ratis/ddcba061-0fd1-4bc3-8ec3-8c4a8935fe97
2019-09-10 17:52:50,561 [main] INFO  impl.RaftServerProxy (RaftServerProxy.java:addNew(89)) - 60b001b3-1662-439d-83b7-d721b00602d4: addNew group-8C4A8935FE97:[] returns group-8C4A8935FE97:java.util.concurrent.CompletableFuture@31e130bf[Not completed]
2019-09-10 17:52:50,570 [main] INFO  hdfs.DFSUtil (DFSUtil.java:httpServerTemplateForNNAndJN(1641)) - Starting Web-server for hddsDatanode at: http://0.0.0.0:46502
2019-09-10 17:52:50,574 [main] INFO  server.AuthenticationFilter (AuthenticationFilter.java:constructSecretProvider(240)) - Unable to initialize FileSignerSecretProvider, falling back to use random secrets.
2019-09-10 17:52:50,575 [main] WARN  http.HttpRequestLog (HttpRequestLog.java:getRequestLog(97)) - Jetty request log can only be enabled using Log4j
2019-09-10 17:52:50,580 [main] INFO  http.HttpServer2 (HttpServer2.java:addGlobalFilter(975)) - Added global filter 'safety' (class=org.apache.hadoop.http.HttpServer2$QuotingInputFilter)
2019-09-10 17:52:50,581 [main] INFO  http.HttpServer2 (HttpServer2.java:addFilter(948)) - Added filter static_user_filter (class=org.apache.hadoop.http.lib.StaticUserWebFilter$StaticUserFilter) to context hddsDatanode
2019-09-10 17:52:50,581 [main] INFO  http.HttpServer2 (HttpServer2.java:addFilter(958)) - Added filter static_user_filter (class=org.apache.hadoop.http.lib.StaticUserWebFilter$StaticUserFilter) to context static
2019-09-10 17:52:50,582 [main] INFO  http.HttpServer2 (HttpServer2.java:addFilter(958)) - Added filter static_user_filter (class=org.apache.hadoop.http.lib.StaticUserWebFilter$StaticUserFilter) to context logs
2019-09-10 17:52:50,586 [main] INFO  http.HttpServer2 (HttpServer2.java:bindListener(1191)) - Jetty bound to port 46502
2019-09-10 17:52:50,587 [main] INFO  server.Server (Server.java:doStart(351)) - jetty-9.3.24.v20180605, build timestamp: 2018-06-05T17:11:56Z, git hash: 84205aa28f11a4f31f2a3b86d1bba2cc8ab69827
2019-09-10 17:52:50,588 [pool-51-thread-1] INFO  impl.RaftServerImpl (RaftServerImpl.java:<init>(95)) - 60b001b3-1662-439d-83b7-d721b00602d4: new RaftServerImpl for group-8C4A8935FE97:[] with ContainerStateMachine:uninitialized
2019-09-10 17:52:50,589 [pool-51-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.rpc.timeout.min = 5s (custom)
2019-09-10 17:52:50,589 [pool-51-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.rpc.timeout.max = 5200ms (custom)
2019-09-10 17:52:50,589 [pool-51-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.rpcslowness.timeout = 120s (custom)
2019-09-10 17:52:50,589 [pool-51-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.sleep.deviation.threshold = 300 (default)
2019-09-10 17:52:50,590 [pool-51-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.log.appender.install.snapshot.enabled = false (custom)
2019-09-10 17:52:50,590 [pool-51-thread-1] INFO  impl.RaftServerImpl (ServerState.java:<init>(103)) - 60b001b3-1662-439d-83b7-d721b00602d4@group-8C4A8935FE97: ConfigurationManager, init=-1: [], old=null, confs=<EMPTY_MAP>
2019-09-10 17:52:50,590 [main] INFO  handler.ContextHandler (ContextHandler.java:doStart(781)) - Started o.e.j.s.ServletContextHandler@765d55d5{/logs,file:///workdir/hadoop-ozone/integration-test/target/log,AVAILABLE}
2019-09-10 17:52:50,590 [pool-51-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.storage.dir = [/workdir/hadoop-ozone/integration-test/target/test-dir/MiniOzoneClusterImpl-d01b3807-3732-4de8-b8ba-bdf98e618289/datanode-0/data/ratis] (custom)
2019-09-10 17:52:50,590 [main] INFO  handler.ContextHandler (ContextHandler.java:doStart(781)) - Started o.e.j.s.ServletContextHandler@2bfb583b{/static,jar:file:/home/user/.m2/repository/org/apache/hadoop/hadoop-hdds-container-service/0.5.0-SNAPSHOT/hadoop-hdds-container-service-0.5.0-SNAPSHOT.jar!/webapps/static,AVAILABLE}
2019-09-10 17:52:50,612 [pool-51-thread-1] INFO  storage.RaftStorageDirectory (RaftStorageDirectory.java:tryLock(328)) - Lock on /workdir/hadoop-ozone/integration-test/target/test-dir/MiniOzoneClusterImpl-d01b3807-3732-4de8-b8ba-bdf98e618289/datanode-0/data/ratis/ddcba061-0fd1-4bc3-8ec3-8c4a8935fe97/in_use.lock acquired by nodename 23020@pr-hdds-1786-trunk-k6rzm-1803654198
2019-09-10 17:52:50,613 [pool-51-thread-1] INFO  ratis.ContainerStateMachine (ContainerStateMachine.java:loadSnapshot(239)) - group-8C4A8935FE97: Setting the last applied index to (t:1, i:3)
2019-09-10 17:52:50,613 [pool-51-thread-1] WARN  impl.ContainerSet (ContainerSet.java:lambda$buildMissingContainerSetAndValidate$1(264)) - Marking container 2 unhealthy as reported BCSID 0 is smaller than ratis snapshot recorded value 3
2019-09-10 17:52:50,621 [main] INFO  handler.ContextHandler (ContextHandler.java:doStart(781)) - Started o.e.j.w.WebAppContext@44fff386{/,file:///tmp/jetty-0.0.0.0-46502-hddsDatanode-_-any-6206450942730478146.dir/webapp/,AVAILABLE}{/hddsDatanode}
2019-09-10 17:52:50,622 [main] INFO  server.AbstractConnector (AbstractConnector.java:doStart(278)) - Started ServerConnector@1fc713c9{HTTP/1.1,[http/1.1]}{0.0.0.0:46502}
2019-09-10 17:52:50,623 [main] INFO  server.Server (Server.java:doStart(419)) - Started @40958ms
2019-09-10 17:52:50,623 [main] WARN  impl.MetricsSystemImpl (MetricsSystemImpl.java:register(276)) - Sink prometheus already exists!
2019-09-10 17:52:50,624 [main] INFO  server.BaseHttpServer (BaseHttpServer.java:updateConnectorAddress(215)) - HTTP server of HDDSDATANODE is listening at http://0.0.0.0:46502
2019-09-10 17:52:50,624 [main] INFO  ozone.MiniOzoneClusterImpl (MiniOzoneClusterImpl.java:lambda$waitForClusterToBeReady$0(140)) - Waiting for cluster to be ready. Got 0 of 1 DN Heartbeats.
2019-09-10 17:52:50,626 [org.apache.hadoop.util.JvmPauseMonitor$Monitor@a60f324] INFO  util.JvmPauseMonitor (JvmPauseMonitor.java:run(188)) - Starting JVM pause monitor
2019-09-10 17:52:50,632 [pool-51-thread-1] INFO  impl.RaftServerImpl (ServerState.java:setRaftConf(354)) - 60b001b3-1662-439d-83b7-d721b00602d4@group-8C4A8935FE97: set configuration 0: [60b001b3-1662-439d-83b7-d721b00602d4:192.168.5.139:37239], old=null at 0
2019-09-10 17:52:50,632 [pool-51-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.notification.no-leader.timeout = 120s (custom)
2019-09-10 17:52:50,632 [pool-51-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.log.use.memory = false (default)
2019-09-10 17:52:50,633 [pool-51-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.log.purge.gap = 1000000 (custom)
2019-09-10 17:52:50,633 [pool-51-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.log.appender.buffer.byte-limit = 33554432 (custom)
2019-09-10 17:52:50,633 [pool-51-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.log.segment.size.max = 1048576 (custom)
2019-09-10 17:52:50,633 [pool-51-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.log.segment.cache.num.max = 2 (custom)
2019-09-10 17:52:50,633 [pool-51-thread-1] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:<init>(172)) - new 60b001b3-1662-439d-83b7-d721b00602d4@group-8C4A8935FE97-SegmentedRaftLogWorker for RaftStorage:Storage Directory /workdir/hadoop-ozone/integration-test/target/test-dir/MiniOzoneClusterImpl-d01b3807-3732-4de8-b8ba-bdf98e618289/datanode-0/data/ratis/ddcba061-0fd1-4bc3-8ec3-8c4a8935fe97
2019-09-10 17:52:50,633 [pool-51-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.log.queue.byte-limit = 2147483647 (custom)
2019-09-10 17:52:50,634 [pool-51-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.log.queue.element-limit = 1024 (custom)
2019-09-10 17:52:50,634 [pool-51-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.log.segment.size.max = 1048576 (custom)
2019-09-10 17:52:50,634 [pool-51-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.log.preallocated.size = 16384 (custom)
2019-09-10 17:52:50,634 [pool-51-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.log.write.buffer.size = 33554432 (custom)
2019-09-10 17:52:50,634 [pool-51-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.log.force.sync.num = 128 (default)
2019-09-10 17:52:50,634 [pool-51-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.log.statemachine.data.sync = true (default)
2019-09-10 17:52:50,634 [pool-51-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.log.statemachine.data.sync.timeout = 10s (default)
2019-09-10 17:52:50,635 [pool-51-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.log.statemachine.data.sync.timeout.retry = -1 (default)
2019-09-10 17:52:50,635 [pool-51-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.log.statemachine.data.caching.enabled = true (custom)
2019-09-10 17:52:50,636 [pool-51-thread-1] INFO  impl.RaftServerImpl (ServerState.java:setRaftConf(354)) - 60b001b3-1662-439d-83b7-d721b00602d4@group-8C4A8935FE97: set configuration 0: [60b001b3-1662-439d-83b7-d721b00602d4:192.168.5.139:37239], old=null at 0
2019-09-10 17:52:50,636 [pool-51-thread-1] INFO  segmented.LogSegment (LogSegment.java:loadSegment(123)) - Successfully read 5 entries from segment file /workdir/hadoop-ozone/integration-test/target/test-dir/MiniOzoneClusterImpl-d01b3807-3732-4de8-b8ba-bdf98e618289/datanode-0/data/ratis/ddcba061-0fd1-4bc3-8ec3-8c4a8935fe97/current/log_inprogress_0
2019-09-10 17:52:50,636 [pool-51-thread-1] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:lambda$new$0(132)) - 60b001b3-1662-439d-83b7-d721b00602d4@group-8C4A8935FE97-SegmentedRaftLogWorker: flushIndex: setUnconditionally 0 -> 4
2019-09-10 17:52:50,660 [pool-51-thread-1] INFO  raftlog.RaftLog (RaftLog.java:lambda$new$0(61)) - 60b001b3-1662-439d-83b7-d721b00602d4@group-8C4A8935FE97-SegmentedRaftLog: commitIndex: updateToMax old=3, new=3, updated? false
2019-09-10 17:52:50,661 [pool-51-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.snapshot.auto.trigger.enabled = true (custom)
2019-09-10 17:52:50,661 [pool-51-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.snapshot.auto.trigger.threshold = 1 (custom)
2019-09-10 17:52:50,661 [pool-51-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.snapshot.retention.num.files = 5 (custom)
2019-09-10 17:52:50,661 [pool-51-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.retrycache.expirytime = 600000ms (custom)
2019-09-10 17:52:51,624 [main] INFO  ozone.MiniOzoneClusterImpl (MiniOzoneClusterImpl.java:lambda$waitForClusterToBeReady$0(140)) - Waiting for cluster to be ready. Got 0 of 1 DN Heartbeats.
2019-09-10 17:52:52,625 [main] INFO  ozone.MiniOzoneClusterImpl (MiniOzoneClusterImpl.java:lambda$waitForClusterToBeReady$0(140)) - Waiting for cluster to be ready. Got 0 of 1 DN Heartbeats.
2019-09-10 17:52:52,628 [Datanode State Machine Thread - 0] INFO  ozoneimpl.OzoneContainer (OzoneContainer.java:start(217)) - Attempting to start container services.
2019-09-10 17:52:52,628 [Datanode State Machine Thread - 0] INFO  ozoneimpl.OzoneContainer (OzoneContainer.java:startContainerScrub(179)) - Background container scanner has been disabled.
2019-09-10 17:52:52,629 [Datanode State Machine Thread - 0] INFO  ratis.XceiverServerRatis (XceiverServerRatis.java:start(411)) - Starting XceiverServerRatis 60b001b3-1662-439d-83b7-d721b00602d4 at port 37239
2019-09-10 17:52:52,636 [Datanode State Machine Thread - 0] INFO  impl.RaftServerImpl (RaftServerImpl.java:start(185)) - 60b001b3-1662-439d-83b7-d721b00602d4@group-8C4A8935FE97: start as a follower, conf=0: [60b001b3-1662-439d-83b7-d721b00602d4:192.168.5.139:37239], old=null
2019-09-10 17:52:52,637 [Datanode State Machine Thread - 0] INFO  impl.RaftServerImpl (RaftServerImpl.java:setRole(174)) - 60b001b3-1662-439d-83b7-d721b00602d4@group-8C4A8935FE97: changes role from      null to FOLLOWER at term 1 for startAsFollower
2019-09-10 17:52:52,637 [Datanode State Machine Thread - 0] INFO  impl.RoleInfo (RoleInfo.java:updateAndGet(143)) - 60b001b3-1662-439d-83b7-d721b00602d4: start FollowerState
2019-09-10 17:52:52,638 [Datanode State Machine Thread - 0] INFO  util.JmxRegister (JmxRegister.java:tryRegister(44)) - Successfully registered JMX Bean with object name Ratis:service=RaftServer,group=group-8C4A8935FE97,id=60b001b3-1662-439d-83b7-d721b00602d4
2019-09-10 17:52:52,638 [Datanode State Machine Thread - 0] INFO  impl.RaftServerProxy (RaftServerProxy.java:lambda$start$3(299)) - 60b001b3-1662-439d-83b7-d721b00602d4: start RPC server
2019-09-10 17:52:52,641 [Datanode State Machine Thread - 0] INFO  server.GrpcService (GrpcService.java:startImpl(158)) - 60b001b3-1662-439d-83b7-d721b00602d4: GrpcService started, listening on 0.0.0.0/0.0.0.0:37239
2019-09-10 17:52:53,625 [main] INFO  ozone.MiniOzoneClusterImpl (MiniOzoneClusterImpl.java:lambda$waitForClusterToBeReady$0(140)) - Waiting for cluster to be ready. Got 0 of 1 DN Heartbeats.
2019-09-10 17:52:54,627 [main] INFO  ozone.MiniOzoneClusterImpl (MiniOzoneClusterImpl.java:lambda$waitForClusterToBeReady$0(140)) - Waiting for cluster to be ready. Got 0 of 1 DN Heartbeats.
2019-09-10 17:52:55,629 [main] INFO  ozone.MiniOzoneClusterImpl (MiniOzoneClusterImpl.java:lambda$waitForClusterToBeReady$0(140)) - Waiting for cluster to be ready. Got 0 of 1 DN Heartbeats.
2019-09-10 17:52:56,630 [main] INFO  ozone.MiniOzoneClusterImpl (MiniOzoneClusterImpl.java:lambda$waitForClusterToBeReady$0(140)) - Waiting for cluster to be ready. Got 0 of 1 DN Heartbeats.
2019-09-10 17:52:56,727 [grpc-default-executor-0] INFO  impl.RaftServerProxy (RaftServerProxy.java:addNew(89)) - 60b001b3-1662-439d-83b7-d721b00602d4: addNew group-6C6BE890765A:[60b001b3-1662-439d-83b7-d721b00602d4:192.168.5.139:37239] returns group-6C6BE890765A:java.util.concurrent.CompletableFuture@1962dd58[Not completed]
2019-09-10 17:52:56,731 [pool-51-thread-1] INFO  impl.RaftServerImpl (RaftServerImpl.java:<init>(95)) - 60b001b3-1662-439d-83b7-d721b00602d4: new RaftServerImpl for group-6C6BE890765A:[60b001b3-1662-439d-83b7-d721b00602d4:192.168.5.139:37239] with ContainerStateMachine:uninitialized
2019-09-10 17:52:56,731 [pool-51-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.rpc.timeout.min = 5s (custom)
2019-09-10 17:52:56,731 [pool-51-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.rpc.timeout.max = 5200ms (custom)
2019-09-10 17:52:56,732 [pool-51-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.rpcslowness.timeout = 120s (custom)
2019-09-10 17:52:56,732 [pool-51-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.sleep.deviation.threshold = 300 (default)
2019-09-10 17:52:56,732 [pool-51-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.log.appender.install.snapshot.enabled = false (custom)
2019-09-10 17:52:56,732 [pool-51-thread-1] INFO  impl.RaftServerImpl (ServerState.java:<init>(103)) - 60b001b3-1662-439d-83b7-d721b00602d4@group-6C6BE890765A: ConfigurationManager, init=-1: [60b001b3-1662-439d-83b7-d721b00602d4:192.168.5.139:37239], old=null, confs=<EMPTY_MAP>
2019-09-10 17:52:56,733 [pool-51-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.storage.dir = [/workdir/hadoop-ozone/integration-test/target/test-dir/MiniOzoneClusterImpl-d01b3807-3732-4de8-b8ba-bdf98e618289/datanode-0/data/ratis] (custom)
2019-09-10 17:52:56,733 [pool-51-thread-1] INFO  storage.RaftStorageDirectory (RaftStorageDirectory.java:analyzeStorage(246)) - The storage directory /workdir/hadoop-ozone/integration-test/target/test-dir/MiniOzoneClusterImpl-d01b3807-3732-4de8-b8ba-bdf98e618289/datanode-0/data/ratis/d0fd881c-0db2-46f6-a6f5-6c6be890765a does not exist. Creating ...
2019-09-10 17:52:56,757 [pool-51-thread-1] INFO  storage.RaftStorageDirectory (RaftStorageDirectory.java:tryLock(328)) - Lock on /workdir/hadoop-ozone/integration-test/target/test-dir/MiniOzoneClusterImpl-d01b3807-3732-4de8-b8ba-bdf98e618289/datanode-0/data/ratis/d0fd881c-0db2-46f6-a6f5-6c6be890765a/in_use.lock acquired by nodename 23020@pr-hdds-1786-trunk-k6rzm-1803654198
2019-09-10 17:52:56,780 [pool-51-thread-1] INFO  storage.RaftStorage (RaftStorage.java:format(72)) - Storage directory /workdir/hadoop-ozone/integration-test/target/test-dir/MiniOzoneClusterImpl-d01b3807-3732-4de8-b8ba-bdf98e618289/datanode-0/data/ratis/d0fd881c-0db2-46f6-a6f5-6c6be890765a has been successfully formatted.
2019-09-10 17:52:56,781 [pool-51-thread-1] INFO  ratis.ContainerStateMachine (ContainerStateMachine.java:loadSnapshot(230)) - group-6C6BE890765A: The snapshot info is null. Setting the last applied indexto:(t:0, i:~)
2019-09-10 17:52:56,781 [pool-51-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.notification.no-leader.timeout = 120s (custom)
2019-09-10 17:52:56,781 [pool-51-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.log.use.memory = false (default)
2019-09-10 17:52:56,781 [pool-51-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.log.purge.gap = 1000000 (custom)
2019-09-10 17:52:56,782 [pool-51-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.log.appender.buffer.byte-limit = 33554432 (custom)
2019-09-10 17:52:56,782 [pool-51-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.log.segment.size.max = 1048576 (custom)
2019-09-10 17:52:56,782 [pool-51-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.log.segment.cache.num.max = 2 (custom)
2019-09-10 17:52:56,782 [pool-51-thread-1] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:<init>(172)) - new 60b001b3-1662-439d-83b7-d721b00602d4@group-6C6BE890765A-SegmentedRaftLogWorker for RaftStorage:Storage Directory /workdir/hadoop-ozone/integration-test/target/test-dir/MiniOzoneClusterImpl-d01b3807-3732-4de8-b8ba-bdf98e618289/datanode-0/data/ratis/d0fd881c-0db2-46f6-a6f5-6c6be890765a
2019-09-10 17:52:56,782 [pool-51-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.log.queue.byte-limit = 2147483647 (custom)
2019-09-10 17:52:56,782 [pool-51-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.log.queue.element-limit = 1024 (custom)
2019-09-10 17:52:56,783 [pool-51-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.log.segment.size.max = 1048576 (custom)
2019-09-10 17:52:56,783 [pool-51-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.log.preallocated.size = 16384 (custom)
2019-09-10 17:52:56,783 [pool-51-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.log.write.buffer.size = 33554432 (custom)
2019-09-10 17:52:56,783 [pool-51-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.log.force.sync.num = 128 (default)
2019-09-10 17:52:56,783 [pool-51-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.log.statemachine.data.sync = true (default)
2019-09-10 17:52:56,783 [pool-51-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.log.statemachine.data.sync.timeout = 10s (default)
2019-09-10 17:52:56,783 [pool-51-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.log.statemachine.data.sync.timeout.retry = -1 (default)
2019-09-10 17:52:56,783 [pool-51-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.log.statemachine.data.caching.enabled = true (custom)
2019-09-10 17:52:56,784 [pool-51-thread-1] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:lambda$new$0(132)) - 60b001b3-1662-439d-83b7-d721b00602d4@group-6C6BE890765A-SegmentedRaftLogWorker: flushIndex: setUnconditionally 0 -> -1
2019-09-10 17:52:56,784 [pool-51-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.snapshot.auto.trigger.enabled = true (custom)
2019-09-10 17:52:56,784 [pool-51-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.snapshot.auto.trigger.threshold = 1 (custom)
2019-09-10 17:52:56,784 [pool-51-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.snapshot.retention.num.files = 5 (custom)
2019-09-10 17:52:56,785 [pool-51-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.retrycache.expirytime = 600000ms (custom)
2019-09-10 17:52:56,789 [pool-51-thread-1] INFO  impl.RaftServerImpl (RaftServerImpl.java:start(185)) - 60b001b3-1662-439d-83b7-d721b00602d4@group-6C6BE890765A: start as a follower, conf=-1: [60b001b3-1662-439d-83b7-d721b00602d4:192.168.5.139:37239], old=null
2019-09-10 17:52:56,789 [pool-51-thread-1] INFO  impl.RaftServerImpl (RaftServerImpl.java:setRole(174)) - 60b001b3-1662-439d-83b7-d721b00602d4@group-6C6BE890765A: changes role from      null to FOLLOWER at term 0 for startAsFollower
2019-09-10 17:52:56,789 [pool-51-thread-1] INFO  impl.RoleInfo (RoleInfo.java:updateAndGet(143)) - 60b001b3-1662-439d-83b7-d721b00602d4: start FollowerState
2019-09-10 17:52:56,790 [pool-51-thread-1] INFO  util.JmxRegister (JmxRegister.java:tryRegister(44)) - Successfully registered JMX Bean with object name Ratis:service=RaftServer,group=group-6C6BE890765A,id=60b001b3-1662-439d-83b7-d721b00602d4
2019-09-10 17:52:56,797 [RatisPipelineUtilsThread] INFO  pipeline.PipelineStateManager (PipelineStateManager.java:addPipeline(56)) - Created pipeline Pipeline[ Id: d0fd881c-0db2-46f6-a6f5-6c6be890765a, Nodes: 60b001b3-1662-439d-83b7-d721b00602d4{ip: 192.168.5.139, host: pr-hdds-1786-trunk-k6rzm-1803654198, networkLocation: /default-rack, certSerialId: null}, Type:RATIS, Factor:ONE, State:OPEN]
2019-09-10 17:52:57,630 [main] INFO  ozone.MiniOzoneClusterImpl (MiniOzoneClusterImpl.java:lambda$waitForClusterToBeReady$0(140)) - Cluster is ready. Got 1 of 1 DN Heartbeats.
2019-09-10 17:52:57,669 [grpc-default-executor-0] INFO  client.GrpcClientProtocolClient (GrpcClientProtocolClient.java:onNext(264)) - client-B0AC5EAB884F->60b001b3-1662-439d-83b7-d721b00602d4: receive RaftClientReply:client-B0AC5EAB884F->60b001b3-1662-439d-83b7-d721b00602d4@group-6C6BE890765A, cid=10, FAILED org.apache.ratis.protocol.NotLeaderException: Server 60b001b3-1662-439d-83b7-d721b00602d4@group-6C6BE890765A is not the leader, logIndex=0, commits[60b001b3-1662-439d-83b7-d721b00602d4:c-1]
2019-09-10 17:52:57,785 [Thread-224] INFO  impl.FollowerState (FollowerState.java:run(106)) - 60b001b3-1662-439d-83b7-d721b00602d4:group-8C4A8935FE97 changes to CANDIDATE, lastRpcTime:5147, electionTimeout:5147ms
2019-09-10 17:52:57,785 [Thread-224] INFO  impl.RoleInfo (RoleInfo.java:shutdownFollowerState(121)) - 60b001b3-1662-439d-83b7-d721b00602d4: shutdown FollowerState
2019-09-10 17:52:57,785 [Thread-224] INFO  impl.RaftServerImpl (RaftServerImpl.java:setRole(174)) - 60b001b3-1662-439d-83b7-d721b00602d4@group-8C4A8935FE97: changes role from  FOLLOWER to CANDIDATE at term 1 for changeToCandidate
2019-09-10 17:52:57,785 [Thread-224] INFO  impl.RoleInfo (RoleInfo.java:updateAndGet(143)) - 60b001b3-1662-439d-83b7-d721b00602d4: start LeaderElection
2019-09-10 17:52:57,800 [60b001b3-1662-439d-83b7-d721b00602d4@group-8C4A8935FE97:LeaderElection4] INFO  impl.LeaderElection (LeaderElection.java:askForVotes(182)) - 60b001b3-1662-439d-83b7-d721b00602d4@group-8C4A8935FE97:LeaderElection4: begin an election at term 2 for 0: [60b001b3-1662-439d-83b7-d721b00602d4:192.168.5.139:37239], old=null
2019-09-10 17:52:57,801 [60b001b3-1662-439d-83b7-d721b00602d4@group-8C4A8935FE97:LeaderElection4] INFO  impl.RoleInfo (RoleInfo.java:shutdownLeaderElection(134)) - 60b001b3-1662-439d-83b7-d721b00602d4: shutdown LeaderElection
2019-09-10 17:52:57,801 [60b001b3-1662-439d-83b7-d721b00602d4@group-8C4A8935FE97:LeaderElection4] INFO  impl.RaftServerImpl (RaftServerImpl.java:setRole(174)) - 60b001b3-1662-439d-83b7-d721b00602d4@group-8C4A8935FE97: changes role from CANDIDATE to LEADER at term 2 for changeToLeader
2019-09-10 17:52:57,801 [60b001b3-1662-439d-83b7-d721b00602d4@group-8C4A8935FE97:LeaderElection4] INFO  impl.RaftServerImpl (ServerState.java:setLeader(253)) - 60b001b3-1662-439d-83b7-d721b00602d4@group-8C4A8935FE97: change Leader from null to 60b001b3-1662-439d-83b7-d721b00602d4 at term 2 for becomeLeader, leader elected after 7168ms
2019-09-10 17:52:57,801 [60b001b3-1662-439d-83b7-d721b00602d4@group-8C4A8935FE97:LeaderElection4] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.staging.catchup.gap = 1000 (default)
2019-09-10 17:52:57,802 [60b001b3-1662-439d-83b7-d721b00602d4@group-8C4A8935FE97:LeaderElection4] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.rpc.sleep.time = 25ms (default)
2019-09-10 17:52:57,802 [60b001b3-1662-439d-83b7-d721b00602d4@group-8C4A8935FE97:LeaderElection4] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.write.element-limit = 4096 (default)
2019-09-10 17:52:57,802 [60b001b3-1662-439d-83b7-d721b00602d4@group-8C4A8935FE97:LeaderElection4] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.watch.timeout = 10s (default)
2019-09-10 17:52:57,802 [60b001b3-1662-439d-83b7-d721b00602d4@group-8C4A8935FE97:LeaderElection4] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.watch.timeout.denomination = 1s (default)
2019-09-10 17:52:57,802 [60b001b3-1662-439d-83b7-d721b00602d4@group-8C4A8935FE97:LeaderElection4] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.watch.element-limit = 65536 (default)
2019-09-10 17:52:57,803 [60b001b3-1662-439d-83b7-d721b00602d4@group-8C4A8935FE97:LeaderElection4] INFO  impl.RoleInfo (RoleInfo.java:updateAndGet(143)) - 60b001b3-1662-439d-83b7-d721b00602d4: start LeaderState
2019-09-10 17:52:57,803 [60b001b3-1662-439d-83b7-d721b00602d4@group-8C4A8935FE97:LeaderElection4] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:rollLogSegment(385)) - 60b001b3-1662-439d-83b7-d721b00602d4@group-8C4A8935FE97-SegmentedRaftLogWorker: Rolling segment log-0_4 to index:4
2019-09-10 17:52:57,805 [60b001b3-1662-439d-83b7-d721b00602d4@group-8C4A8935FE97:LeaderElection4] INFO  impl.RaftServerImpl (ServerState.java:setRaftConf(354)) - 60b001b3-1662-439d-83b7-d721b00602d4@group-8C4A8935FE97: set configuration 5: [60b001b3-1662-439d-83b7-d721b00602d4:192.168.5.139:37239], old=null at 5
2019-09-10 17:52:57,805 [60b001b3-1662-439d-83b7-d721b00602d4@group-8C4A8935FE97-SegmentedRaftLogWorker] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:execute(526)) - 60b001b3-1662-439d-83b7-d721b00602d4@group-8C4A8935FE97-SegmentedRaftLogWorker: Rolled log segment from /workdir/hadoop-ozone/integration-test/target/test-dir/MiniOzoneClusterImpl-d01b3807-3732-4de8-b8ba-bdf98e618289/datanode-0/data/ratis/ddcba061-0fd1-4bc3-8ec3-8c4a8935fe97/current/log_inprogress_0 to /workdir/hadoop-ozone/integration-test/target/test-dir/MiniOzoneClusterImpl-d01b3807-3732-4de8-b8ba-bdf98e618289/datanode-0/data/ratis/ddcba061-0fd1-4bc3-8ec3-8c4a8935fe97/current/log_0-4
2019-09-10 17:52:57,842 [60b001b3-1662-439d-83b7-d721b00602d4@group-8C4A8935FE97-SegmentedRaftLogWorker] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:execute(569)) - 60b001b3-1662-439d-83b7-d721b00602d4@group-8C4A8935FE97-SegmentedRaftLogWorker: created new log segment /workdir/hadoop-ozone/integration-test/target/test-dir/MiniOzoneClusterImpl-d01b3807-3732-4de8-b8ba-bdf98e618289/datanode-0/data/ratis/ddcba061-0fd1-4bc3-8ec3-8c4a8935fe97/current/log_inprogress_5
2019-09-10 17:52:57,854 [60b001b3-1662-439d-83b7-d721b00602d4@group-8C4A8935FE97-StateMachineUpdater] INFO  ratis.ContainerStateMachine (ContainerStateMachine.java:takeSnapshot(289)) - group-8C4A8935FE97: Taking a snapshot at:(t:1, i:3) file /workdir/hadoop-ozone/integration-test/target/test-dir/MiniOzoneClusterImpl-d01b3807-3732-4de8-b8ba-bdf98e618289/datanode-0/data/ratis/ddcba061-0fd1-4bc3-8ec3-8c4a8935fe97/sm/snapshot.1_3
2019-09-10 17:52:57,889 [60b001b3-1662-439d-83b7-d721b00602d4@group-8C4A8935FE97-StateMachineUpdater] INFO  ratis.ContainerStateMachine (ContainerStateMachine.java:takeSnapshot(300)) - group-8C4A8935FE97: Finished taking a snapshot at:(t:1, i:3) file:/workdir/hadoop-ozone/integration-test/target/test-dir/MiniOzoneClusterImpl-d01b3807-3732-4de8-b8ba-bdf98e618289/datanode-0/data/ratis/ddcba061-0fd1-4bc3-8ec3-8c4a8935fe97/sm/snapshot.1_3 time:35
2019-09-10 17:52:57,890 [60b001b3-1662-439d-83b7-d721b00602d4@group-8C4A8935FE97-StateMachineUpdater] INFO  impl.StateMachineUpdater (StateMachineUpdater.java:takeSnapshot(258)) - 60b001b3-1662-439d-83b7-d721b00602d4@group-8C4A8935FE97-StateMachineUpdater: Took a snapshot at index 3
2019-09-10 17:52:57,890 [60b001b3-1662-439d-83b7-d721b00602d4@group-8C4A8935FE97-StateMachineUpdater] INFO  impl.StateMachineUpdater (StateMachineUpdater.java:lambda$new$0(83)) - 60b001b3-1662-439d-83b7-d721b00602d4@group-8C4A8935FE97-StateMachineUpdater: snapshotIndex: updateIncreasingly 3 -> 3
2019-09-10 17:52:57,890 [60b001b3-1662-439d-83b7-d721b00602d4@group-8C4A8935FE97-StateMachineUpdater] INFO  ratis.ContainerStateMachine (ContainerStateMachine.java:takeSnapshot(289)) - group-8C4A8935FE97: Taking a snapshot at:(t:1, i:3) file /workdir/hadoop-ozone/integration-test/target/test-dir/MiniOzoneClusterImpl-d01b3807-3732-4de8-b8ba-bdf98e618289/datanode-0/data/ratis/ddcba061-0fd1-4bc3-8ec3-8c4a8935fe97/sm/snapshot.1_3
2019-09-10 17:52:57,910 [60b001b3-1662-439d-83b7-d721b00602d4@group-8C4A8935FE97-StateMachineUpdater] INFO  ratis.ContainerStateMachine (ContainerStateMachine.java:takeSnapshot(300)) - group-8C4A8935FE97: Finished taking a snapshot at:(t:1, i:3) file:/workdir/hadoop-ozone/integration-test/target/test-dir/MiniOzoneClusterImpl-d01b3807-3732-4de8-b8ba-bdf98e618289/datanode-0/data/ratis/ddcba061-0fd1-4bc3-8ec3-8c4a8935fe97/sm/snapshot.1_3 time:20
2019-09-10 17:52:57,910 [60b001b3-1662-439d-83b7-d721b00602d4@group-8C4A8935FE97-StateMachineUpdater] INFO  impl.StateMachineUpdater (StateMachineUpdater.java:takeSnapshot(258)) - 60b001b3-1662-439d-83b7-d721b00602d4@group-8C4A8935FE97-StateMachineUpdater: Took a snapshot at index 3
2019-09-10 17:52:57,910 [60b001b3-1662-439d-83b7-d721b00602d4@group-8C4A8935FE97-StateMachineUpdater] INFO  impl.StateMachineUpdater (StateMachineUpdater.java:lambda$new$0(83)) - 60b001b3-1662-439d-83b7-d721b00602d4@group-8C4A8935FE97-StateMachineUpdater: snapshotIndex: updateIncreasingly 3 -> 3
2019-09-10 17:52:58,305 [grpc-default-executor-0] INFO  impl.RaftServerProxy (RaftServerProxy.java:remove(95)) - 60b001b3-1662-439d-83b7-d721b00602d4: remove    LEADER 60b001b3-1662-439d-83b7-d721b00602d4@group-8C4A8935FE97:t2, leader=60b001b3-1662-439d-83b7-d721b00602d4, voted=60b001b3-1662-439d-83b7-d721b00602d4, raftlog=60b001b3-1662-439d-83b7-d721b00602d4@group-8C4A8935FE97-SegmentedRaftLog:OPENED:c6,f6,i6, conf=5: [60b001b3-1662-439d-83b7-d721b00602d4:192.168.5.139:37239], old=null RUNNING
2019-09-10 17:52:58,305 [grpc-default-executor-0] INFO  impl.RaftServerImpl (RaftServerImpl.java:lambda$shutdown$3(251)) - 60b001b3-1662-439d-83b7-d721b00602d4@group-8C4A8935FE97: shutdown
2019-09-10 17:52:58,306 [grpc-default-executor-0] INFO  util.JmxRegister (JmxRegister.java:unregister(73)) - Successfully un-registered JMX Bean with object name Ratis:service=RaftServer,group=group-8C4A8935FE97,id=60b001b3-1662-439d-83b7-d721b00602d4
2019-09-10 17:52:58,306 [grpc-default-executor-0] INFO  impl.RoleInfo (RoleInfo.java:shutdownLeaderState(104)) - 60b001b3-1662-439d-83b7-d721b00602d4: shutdown LeaderState
2019-09-10 17:52:58,306 [grpc-default-executor-0] INFO  impl.PendingRequests (PendingRequests.java:sendNotLeaderResponses(202)) - 60b001b3-1662-439d-83b7-d721b00602d4-PendingRequests: sendNotLeaderResponses
2019-09-10 17:52:58,308 [grpc-default-executor-0] INFO  impl.StateMachineUpdater (StateMachineUpdater.java:stopAndJoin(125)) - 60b001b3-1662-439d-83b7-d721b00602d4@group-8C4A8935FE97-StateMachineUpdater: set stopIndex = 6
2019-09-10 17:52:58,308 [60b001b3-1662-439d-83b7-d721b00602d4@group-8C4A8935FE97-StateMachineUpdater] INFO  ratis.ContainerStateMachine (ContainerStateMachine.java:takeSnapshot(289)) - group-8C4A8935FE97: Taking a snapshot at:(t:1, i:3) file /workdir/hadoop-ozone/integration-test/target/test-dir/MiniOzoneClusterImpl-d01b3807-3732-4de8-b8ba-bdf98e618289/datanode-0/data/ratis/ddcba061-0fd1-4bc3-8ec3-8c4a8935fe97/sm/snapshot.1_3
2019-09-10 17:52:58,316 [60b001b3-1662-439d-83b7-d721b00602d4@group-8C4A8935FE97-StateMachineUpdater] INFO  ratis.ContainerStateMachine (ContainerStateMachine.java:takeSnapshot(300)) - group-8C4A8935FE97: Finished taking a snapshot at:(t:1, i:3) file:/workdir/hadoop-ozone/integration-test/target/test-dir/MiniOzoneClusterImpl-d01b3807-3732-4de8-b8ba-bdf98e618289/datanode-0/data/ratis/ddcba061-0fd1-4bc3-8ec3-8c4a8935fe97/sm/snapshot.1_3 time:8
2019-09-10 17:52:58,316 [60b001b3-1662-439d-83b7-d721b00602d4@group-8C4A8935FE97-StateMachineUpdater] INFO  impl.StateMachineUpdater (StateMachineUpdater.java:takeSnapshot(258)) - 60b001b3-1662-439d-83b7-d721b00602d4@group-8C4A8935FE97-StateMachineUpdater: Took a snapshot at index 3
2019-09-10 17:52:58,316 [60b001b3-1662-439d-83b7-d721b00602d4@group-8C4A8935FE97-StateMachineUpdater] INFO  impl.StateMachineUpdater (StateMachineUpdater.java:lambda$new$0(83)) - 60b001b3-1662-439d-83b7-d721b00602d4@group-8C4A8935FE97-StateMachineUpdater: snapshotIndex: updateIncreasingly 3 -> 3
2019-09-10 17:52:58,316 [60b001b3-1662-439d-83b7-d721b00602d4@group-8C4A8935FE97-StateMachineUpdater] INFO  ratis.ContainerStateMachine (ContainerStateMachine.java:takeSnapshot(289)) - group-8C4A8935FE97: Taking a snapshot at:(t:1, i:3) file /workdir/hadoop-ozone/integration-test/target/test-dir/MiniOzoneClusterImpl-d01b3807-3732-4de8-b8ba-bdf98e618289/datanode-0/data/ratis/ddcba061-0fd1-4bc3-8ec3-8c4a8935fe97/sm/snapshot.1_3
2019-09-10 17:52:58,328 [60b001b3-1662-439d-83b7-d721b00602d4@group-8C4A8935FE97-StateMachineUpdater] INFO  ratis.ContainerStateMachine (ContainerStateMachine.java:takeSnapshot(300)) - group-8C4A8935FE97: Finished taking a snapshot at:(t:1, i:3) file:/workdir/hadoop-ozone/integration-test/target/test-dir/MiniOzoneClusterImpl-d01b3807-3732-4de8-b8ba-bdf98e618289/datanode-0/data/ratis/ddcba061-0fd1-4bc3-8ec3-8c4a8935fe97/sm/snapshot.1_3 time:12
2019-09-10 17:52:58,328 [60b001b3-1662-439d-83b7-d721b00602d4@group-8C4A8935FE97-StateMachineUpdater] INFO  impl.StateMachineUpdater (StateMachineUpdater.java:takeSnapshot(258)) - 60b001b3-1662-439d-83b7-d721b00602d4@group-8C4A8935FE97-StateMachineUpdater: Took a snapshot at index 3
2019-09-10 17:52:58,328 [60b001b3-1662-439d-83b7-d721b00602d4@group-8C4A8935FE97-StateMachineUpdater] INFO  impl.StateMachineUpdater (StateMachineUpdater.java:lambda$new$0(83)) - 60b001b3-1662-439d-83b7-d721b00602d4@group-8C4A8935FE97-StateMachineUpdater: snapshotIndex: updateIncreasingly 3 -> 3
2019-09-10 17:52:58,329 [grpc-default-executor-0] INFO  impl.RaftServerImpl (ServerState.java:close(385)) - 60b001b3-1662-439d-83b7-d721b00602d4@group-8C4A8935FE97: closes. applyIndex: 6
2019-09-10 17:52:58,329 [60b001b3-1662-439d-83b7-d721b00602d4@group-8C4A8935FE97-SegmentedRaftLogWorker] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:run(313)) - 60b001b3-1662-439d-83b7-d721b00602d4@group-8C4A8935FE97-SegmentedRaftLogWorker was interrupted, exiting. There are 0 tasks remaining in the queue.
2019-09-10 17:52:58,330 [grpc-default-executor-0] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:close(228)) - 60b001b3-1662-439d-83b7-d721b00602d4@group-8C4A8935FE97-SegmentedRaftLogWorker close()
2019-09-10 17:52:58,338 [RatisPipelineUtilsThread] INFO  pipeline.PipelineStateManager (PipelineStateManager.java:removePipeline(108)) - Pipeline Pipeline[ Id: ddcba061-0fd1-4bc3-8ec3-8c4a8935fe97, Nodes: 60b001b3-1662-439d-83b7-d721b00602d4{ip: 192.168.5.139, host: pr-hdds-1786-trunk-k6rzm-1803654198, networkLocation: /default-rack, certSerialId: null}, Type:RATIS, Factor:ONE, State:CLOSED] removed from db
2019-09-10 17:52:59,689 [grpc-default-executor-1] INFO  client.GrpcClientProtocolClient (GrpcClientProtocolClient.java:onNext(264)) - client-B0AC5EAB884F->60b001b3-1662-439d-83b7-d721b00602d4: receive RaftClientReply:client-B0AC5EAB884F->60b001b3-1662-439d-83b7-d721b00602d4@group-6C6BE890765A, cid=10, FAILED org.apache.ratis.protocol.NotLeaderException: Server 60b001b3-1662-439d-83b7-d721b00602d4@group-6C6BE890765A is not the leader, logIndex=0, commits[60b001b3-1662-439d-83b7-d721b00602d4:c-1]
2019-09-10 17:53:01,711 [grpc-default-executor-0] INFO  client.GrpcClientProtocolClient (GrpcClientProtocolClient.java:onNext(264)) - client-B0AC5EAB884F->60b001b3-1662-439d-83b7-d721b00602d4: receive RaftClientReply:client-B0AC5EAB884F->60b001b3-1662-439d-83b7-d721b00602d4@group-6C6BE890765A, cid=10, FAILED org.apache.ratis.protocol.NotLeaderException: Server 60b001b3-1662-439d-83b7-d721b00602d4@group-6C6BE890765A is not the leader, logIndex=0, commits[60b001b3-1662-439d-83b7-d721b00602d4:c-1]
2019-09-10 17:53:01,862 [Thread-228] INFO  impl.FollowerState (FollowerState.java:run(106)) - 60b001b3-1662-439d-83b7-d721b00602d4:group-6C6BE890765A changes to CANDIDATE, lastRpcTime:5072, electionTimeout:5072ms
2019-09-10 17:53:01,864 [Thread-228] INFO  impl.RoleInfo (RoleInfo.java:shutdownFollowerState(121)) - 60b001b3-1662-439d-83b7-d721b00602d4: shutdown FollowerState
2019-09-10 17:53:01,865 [Thread-228] INFO  impl.RaftServerImpl (RaftServerImpl.java:setRole(174)) - 60b001b3-1662-439d-83b7-d721b00602d4@group-6C6BE890765A: changes role from  FOLLOWER to CANDIDATE at term 0 for changeToCandidate
2019-09-10 17:53:01,865 [Thread-228] INFO  impl.RoleInfo (RoleInfo.java:updateAndGet(143)) - 60b001b3-1662-439d-83b7-d721b00602d4: start LeaderElection
2019-09-10 17:53:02,194 [60b001b3-1662-439d-83b7-d721b00602d4@group-6C6BE890765A:LeaderElection5] INFO  impl.LeaderElection (LeaderElection.java:askForVotes(182)) - 60b001b3-1662-439d-83b7-d721b00602d4@group-6C6BE890765A:LeaderElection5: begin an election at term 1 for -1: [60b001b3-1662-439d-83b7-d721b00602d4:192.168.5.139:37239], old=null
2019-09-10 17:53:02,195 [60b001b3-1662-439d-83b7-d721b00602d4@group-6C6BE890765A:LeaderElection5] INFO  impl.RoleInfo (RoleInfo.java:shutdownLeaderElection(134)) - 60b001b3-1662-439d-83b7-d721b00602d4: shutdown LeaderElection
2019-09-10 17:53:02,196 [60b001b3-1662-439d-83b7-d721b00602d4@group-6C6BE890765A:LeaderElection5] INFO  impl.RaftServerImpl (RaftServerImpl.java:setRole(174)) - 60b001b3-1662-439d-83b7-d721b00602d4@group-6C6BE890765A: changes role from CANDIDATE to LEADER at term 1 for changeToLeader
2019-09-10 17:53:02,196 [60b001b3-1662-439d-83b7-d721b00602d4@group-6C6BE890765A:LeaderElection5] INFO  impl.RaftServerImpl (ServerState.java:setLeader(253)) - 60b001b3-1662-439d-83b7-d721b00602d4@group-6C6BE890765A: change Leader from null to 60b001b3-1662-439d-83b7-d721b00602d4 at term 1 for becomeLeader, leader elected after 5414ms
2019-09-10 17:53:02,196 [60b001b3-1662-439d-83b7-d721b00602d4@group-6C6BE890765A:LeaderElection5] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.staging.catchup.gap = 1000 (default)
2019-09-10 17:53:02,197 [60b001b3-1662-439d-83b7-d721b00602d4@group-6C6BE890765A:LeaderElection5] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.rpc.sleep.time = 25ms (default)
2019-09-10 17:53:02,197 [60b001b3-1662-439d-83b7-d721b00602d4@group-6C6BE890765A:LeaderElection5] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.write.element-limit = 4096 (default)
2019-09-10 17:53:02,197 [60b001b3-1662-439d-83b7-d721b00602d4@group-6C6BE890765A:LeaderElection5] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.watch.timeout = 10s (default)
2019-09-10 17:53:02,197 [60b001b3-1662-439d-83b7-d721b00602d4@group-6C6BE890765A:LeaderElection5] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.watch.timeout.denomination = 1s (default)
2019-09-10 17:53:02,197 [60b001b3-1662-439d-83b7-d721b00602d4@group-6C6BE890765A:LeaderElection5] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.watch.element-limit = 65536 (default)
2019-09-10 17:53:02,205 [60b001b3-1662-439d-83b7-d721b00602d4@group-6C6BE890765A:LeaderElection5] INFO  impl.RoleInfo (RoleInfo.java:updateAndGet(143)) - 60b001b3-1662-439d-83b7-d721b00602d4: start LeaderState
2019-09-10 17:53:02,205 [60b001b3-1662-439d-83b7-d721b00602d4@group-6C6BE890765A:LeaderElection5] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:startLogSegment(380)) - 60b001b3-1662-439d-83b7-d721b00602d4@group-6C6BE890765A-SegmentedRaftLogWorker: Starting segment from index:0
2019-09-10 17:53:02,206 [60b001b3-1662-439d-83b7-d721b00602d4@group-6C6BE890765A:LeaderElection5] INFO  impl.RaftServerImpl (ServerState.java:setRaftConf(354)) - 60b001b3-1662-439d-83b7-d721b00602d4@group-6C6BE890765A: set configuration 0: [60b001b3-1662-439d-83b7-d721b00602d4:192.168.5.139:37239], old=null at 0
2019-09-10 17:53:02,298 [60b001b3-1662-439d-83b7-d721b00602d4@group-6C6BE890765A-SegmentedRaftLogWorker] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:execute(569)) - 60b001b3-1662-439d-83b7-d721b00602d4@group-6C6BE890765A-SegmentedRaftLogWorker: created new log segment /workdir/hadoop-ozone/integration-test/target/test-dir/MiniOzoneClusterImpl-d01b3807-3732-4de8-b8ba-bdf98e618289/datanode-0/data/ratis/d0fd881c-0db2-46f6-a6f5-6c6be890765a/current/log_inprogress_0
2019-09-10 17:53:03,851 [60b001b3-1662-439d-83b7-d721b00602d4@group-6C6BE890765A-StateMachineUpdater] INFO  ratis.ContainerStateMachine (ContainerStateMachine.java:takeSnapshot(289)) - group-6C6BE890765A: Taking a snapshot at:(t:1, i:1) file /workdir/hadoop-ozone/integration-test/target/test-dir/MiniOzoneClusterImpl-d01b3807-3732-4de8-b8ba-bdf98e618289/datanode-0/data/ratis/d0fd881c-0db2-46f6-a6f5-6c6be890765a/sm/snapshot.1_1
2019-09-10 17:53:03,855 [grpc-default-executor-2] INFO  client.GrpcClientProtocolClient (GrpcClientProtocolClient.java:onNext(264)) - client-B0AC5EAB884F->60b001b3-1662-439d-83b7-d721b00602d4: receive RaftClientReply:client-B0AC5EAB884F->60b001b3-1662-439d-83b7-d721b00602d4@group-6C6BE890765A, cid=10, SUCCESS, logIndex=1, commits[60b001b3-1662-439d-83b7-d721b00602d4:c1]
2019-09-10 17:53:03,868 [60b001b3-1662-439d-83b7-d721b00602d4@group-6C6BE890765A-StateMachineUpdater] INFO  ratis.ContainerStateMachine (ContainerStateMachine.java:takeSnapshot(300)) - group-6C6BE890765A: Finished taking a snapshot at:(t:1, i:1) file:/workdir/hadoop-ozone/integration-test/target/test-dir/MiniOzoneClusterImpl-d01b3807-3732-4de8-b8ba-bdf98e618289/datanode-0/data/ratis/d0fd881c-0db2-46f6-a6f5-6c6be890765a/sm/snapshot.1_1 time:17
2019-09-10 17:53:03,868 [60b001b3-1662-439d-83b7-d721b00602d4@group-6C6BE890765A-StateMachineUpdater] INFO  impl.StateMachineUpdater (StateMachineUpdater.java:takeSnapshot(258)) - 60b001b3-1662-439d-83b7-d721b00602d4@group-6C6BE890765A-StateMachineUpdater: Took a snapshot at index 1
2019-09-10 17:53:03,868 [60b001b3-1662-439d-83b7-d721b00602d4@group-6C6BE890765A-StateMachineUpdater] INFO  impl.StateMachineUpdater (StateMachineUpdater.java:lambda$new$0(83)) - 60b001b3-1662-439d-83b7-d721b00602d4@group-6C6BE890765A-StateMachineUpdater: snapshotIndex: updateIncreasingly -1 -> 1
2019-09-10 17:53:03,868 [60b001b3-1662-439d-83b7-d721b00602d4@group-6C6BE890765A-StateMachineUpdater] INFO  ratis.ContainerStateMachine (ContainerStateMachine.java:takeSnapshot(289)) - group-6C6BE890765A: Taking a snapshot at:(t:1, i:1) file /workdir/hadoop-ozone/integration-test/target/test-dir/MiniOzoneClusterImpl-d01b3807-3732-4de8-b8ba-bdf98e618289/datanode-0/data/ratis/d0fd881c-0db2-46f6-a6f5-6c6be890765a/sm/snapshot.1_1
2019-09-10 17:53:03,885 [60b001b3-1662-439d-83b7-d721b00602d4@group-6C6BE890765A-StateMachineUpdater] INFO  ratis.ContainerStateMachine (ContainerStateMachine.java:takeSnapshot(300)) - group-6C6BE890765A: Finished taking a snapshot at:(t:1, i:1) file:/workdir/hadoop-ozone/integration-test/target/test-dir/MiniOzoneClusterImpl-d01b3807-3732-4de8-b8ba-bdf98e618289/datanode-0/data/ratis/d0fd881c-0db2-46f6-a6f5-6c6be890765a/sm/snapshot.1_1 time:16
2019-09-10 17:53:03,885 [60b001b3-1662-439d-83b7-d721b00602d4@group-6C6BE890765A-StateMachineUpdater] INFO  impl.StateMachineUpdater (StateMachineUpdater.java:takeSnapshot(258)) - 60b001b3-1662-439d-83b7-d721b00602d4@group-6C6BE890765A-StateMachineUpdater: Took a snapshot at index 1
2019-09-10 17:53:03,885 [60b001b3-1662-439d-83b7-d721b00602d4@group-6C6BE890765A-StateMachineUpdater] INFO  impl.StateMachineUpdater (StateMachineUpdater.java:lambda$new$0(83)) - 60b001b3-1662-439d-83b7-d721b00602d4@group-6C6BE890765A-StateMachineUpdater: snapshotIndex: updateIncreasingly 1 -> 1
2019-09-10 17:53:03,987 [60b001b3-1662-439d-83b7-d721b00602d4@group-6C6BE890765A-StateMachineUpdater] INFO  ratis.ContainerStateMachine (ContainerStateMachine.java:takeSnapshot(289)) - group-6C6BE890765A: Taking a snapshot at:(t:1, i:3) file /workdir/hadoop-ozone/integration-test/target/test-dir/MiniOzoneClusterImpl-d01b3807-3732-4de8-b8ba-bdf98e618289/datanode-0/data/ratis/d0fd881c-0db2-46f6-a6f5-6c6be890765a/sm/snapshot.1_3
2019-09-10 17:53:03,990 [grpc-default-executor-2] INFO  client.GrpcClientProtocolClient (GrpcClientProtocolClient.java:onNext(264)) - client-B0AC5EAB884F->60b001b3-1662-439d-83b7-d721b00602d4: receive RaftClientReply:client-B0AC5EAB884F->60b001b3-1662-439d-83b7-d721b00602d4@group-6C6BE890765A, cid=11, SUCCESS, logIndex=3, commits[60b001b3-1662-439d-83b7-d721b00602d4:c4]
2019-09-10 17:53:03,996 [pool-50-thread-2] ERROR impl.ChunkManagerImpl (ChunkUtils.java:getChunkFile(234)) - Chunks path does not exist
2019-09-10 17:53:03,997 [pool-50-thread-2] INFO  keyvalue.KeyValueHandler (ContainerUtils.java:logAndReturnError(146)) - Operation: WriteChunk : Trace ID: a6ff742b4e0d9e72:a6ff742b4e0d9e72:0:0 : Message: Unable to get Chunks directory. : Result: UNABLE_TO_FIND_DATA_DIR
2019-09-10 17:53:04,000 [pool-50-thread-2] WARN  keyvalue.KeyValueHandler (KeyValueHandler.java:markContainerUnhealthy(908)) - Unexpected error while marking container 3 as unhealthy
org.apache.hadoop.hdds.scm.container.common.helpers.StorageContainerException: Error while creating/ updating .container file. ContainerID: 3
	at org.apache.hadoop.ozone.container.keyvalue.KeyValueContainer.writeToContainerFile(KeyValueContainer.java:237)
	at org.apache.hadoop.ozone.container.keyvalue.KeyValueContainer.updateContainerFile(KeyValueContainer.java:257)
	at org.apache.hadoop.ozone.container.keyvalue.KeyValueContainer.updateContainerData(KeyValueContainer.java:356)
	at org.apache.hadoop.ozone.container.keyvalue.KeyValueContainer.markContainerUnhealthy(KeyValueContainer.java:298)
	at org.apache.hadoop.ozone.container.keyvalue.KeyValueHandler.markContainerUnhealthy(KeyValueHandler.java:903)
	at org.apache.hadoop.ozone.container.common.impl.HddsDispatcher.dispatchRequest(HddsDispatcher.java:309)
	at org.apache.hadoop.ozone.container.common.impl.HddsDispatcher.dispatch(HddsDispatcher.java:150)
	at org.apache.hadoop.ozone.container.common.transport.server.ratis.ContainerStateMachine.dispatchCommand(ContainerStateMachine.java:401)
	at org.apache.hadoop.ozone.container.common.transport.server.ratis.ContainerStateMachine.runCommand(ContainerStateMachine.java:409)
	at org.apache.hadoop.ozone.container.common.transport.server.ratis.ContainerStateMachine.lambda$handleWriteChunk$1(ContainerStateMachine.java:442)
	at java.util.concurrent.CompletableFuture$AsyncSupply.run(CompletableFuture.java:1590)
	at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1149)
	at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:624)
	at java.lang.Thread.run(Thread.java:748)
Caused by: java.io.IOException: No such file or directory
	at java.io.UnixFileSystem.createFileExclusively(Native Method)
	at java.io.File.createTempFile(File.java:2024)
	at org.apache.hadoop.ozone.container.keyvalue.KeyValueContainer.createTempFile(KeyValueContainer.java:726)
	at org.apache.hadoop.ozone.container.keyvalue.KeyValueContainer.writeToContainerFile(KeyValueContainer.java:222)
	... 13 more
2019-09-10 17:53:04,004 [EventQueue-IncrementalContainerReportForIncrementalContainerReportHandler] WARN  container.IncrementalContainerReportHandler (AbstractContainerReportHandler.java:updateContainerState(143)) - Container #3 is in OPEN state, but the datanode 60b001b3-1662-439d-83b7-d721b00602d4{ip: 192.168.5.139, host: pr-hdds-1786-trunk-k6rzm-1803654198, networkLocation: /default-rack, certSerialId: null} reports an UNHEALTHY replica.
17:53:04.000 [grpc-default-executor-2] ERROR DNAudit - user=null | ip=null | op=PUT_BLOCK {blockData=[blockId=conID: 3 locID: 102769490503204868 bcsId: 0,size=10]} | ret=FAILURE
org.apache.hadoop.hdds.scm.container.common.helpers.ContainerNotOpenException: Container 3 in UNHEALTHY state
	at org.apache.hadoop.ozone.container.common.impl.HddsDispatcher.validateContainerCommand(HddsDispatcher.java:431) ~[hadoop-hdds-container-service-0.5.0-SNAPSHOT.jar:?]
	at org.apache.hadoop.ozone.container.common.transport.server.ratis.ContainerStateMachine.startTransaction(ContainerStateMachine.java:315) ~[hadoop-hdds-container-service-0.5.0-SNAPSHOT.jar:?]
	at org.apache.ratis.server.impl.RaftServerImpl.submitClientRequestAsync(RaftServerImpl.java:573) ~[ratis-server-0.4.0-78e95b9-SNAPSHOT.jar:0.4.0-78e95b9-SNAPSHOT]
	at org.apache.ratis.server.impl.RaftServerProxy.lambda$submitClientRequestAsync$7(RaftServerProxy.java:333) ~[ratis-server-0.4.0-78e95b9-SNAPSHOT.jar:0.4.0-78e95b9-SNAPSHOT]
	at org.apache.ratis.server.impl.RaftServerProxy.lambda$null$5(RaftServerProxy.java:328) ~[ratis-server-0.4.0-78e95b9-SNAPSHOT.jar:0.4.0-78e95b9-SNAPSHOT]
	at org.apache.ratis.util.JavaUtils.callAsUnchecked(JavaUtils.java:109) ~[ratis-common-0.4.0-78e95b9-SNAPSHOT.jar:0.4.0-78e95b9-SNAPSHOT]
	at org.apache.ratis.server.impl.RaftServerProxy.lambda$submitRequest$6(RaftServerProxy.java:328) ~[ratis-server-0.4.0-78e95b9-SNAPSHOT.jar:0.4.0-78e95b9-SNAPSHOT]
	at java.util.concurrent.CompletableFuture.uniComposeStage(CompletableFuture.java:981) ~[?:1.8.0_212]
	at java.util.concurrent.CompletableFuture.thenCompose(CompletableFuture.java:2124) ~[?:1.8.0_212]
	at org.apache.ratis.server.impl.RaftServerProxy.submitRequest(RaftServerProxy.java:327) ~[ratis-server-0.4.0-78e95b9-SNAPSHOT.jar:0.4.0-78e95b9-SNAPSHOT]
	at org.apache.ratis.server.impl.RaftServerProxy.submitClientRequestAsync(RaftServerProxy.java:333) ~[ratis-server-0.4.0-78e95b9-SNAPSHOT.jar:0.4.0-78e95b9-SNAPSHOT]
	at org.apache.ratis.grpc.client.GrpcClientProtocolService$RequestStreamObserver.processClientRequest(GrpcClientProtocolService.java:220) ~[ratis-grpc-0.4.0-78e95b9-SNAPSHOT.jar:0.4.0-78e95b9-SNAPSHOT]
	at org.apache.ratis.grpc.client.GrpcClientProtocolService$OrderedRequestStreamObserver.processClientRequest(GrpcClientProtocolService.java:326) ~[ratis-grpc-0.4.0-78e95b9-SNAPSHOT.jar:0.4.0-78e95b9-SNAPSHOT]
	at org.apache.ratis.util.SlidingWindow$Server.processRequestsFromHead(SlidingWindow.java:429) [ratis-common-0.4.0-78e95b9-SNAPSHOT.jar:0.4.0-78e95b9-SNAPSHOT]
	at org.apache.ratis.util.SlidingWindow$Server.receivedRequest(SlidingWindow.java:421) [ratis-common-0.4.0-78e95b9-SNAPSHOT.jar:0.4.0-78e95b9-SNAPSHOT]
	at org.apache.ratis.grpc.client.GrpcClientProtocolService$OrderedRequestStreamObserver.processClientRequest(GrpcClientProtocolService.java:345) [ratis-grpc-0.4.0-78e95b9-SNAPSHOT.jar:0.4.0-78e95b9-SNAPSHOT]
	at org.apache.ratis.grpc.client.GrpcClientProtocolService$RequestStreamObserver.onNext(GrpcClientProtocolService.java:240) [ratis-grpc-0.4.0-78e95b9-SNAPSHOT.jar:0.4.0-78e95b9-SNAPSHOT]
	at org.apache.ratis.grpc.client.GrpcClientProtocolService$RequestStreamObserver.onNext(GrpcClientProtocolService.java:168) [ratis-grpc-0.4.0-78e95b9-SNAPSHOT.jar:0.4.0-78e95b9-SNAPSHOT]
	at org.apache.ratis.thirdparty.io.grpc.stub.ServerCalls$StreamingServerCallHandler$StreamingServerCallListener.onMessage(ServerCalls.java:248) [ratis-thirdparty-misc-0.2.0.jar:0.2.0]
	at org.apache.ratis.thirdparty.io.grpc.internal.ServerCallImpl$ServerStreamListenerImpl.messagesAvailable(ServerCallImpl.java:263) [ratis-thirdparty-misc-0.2.0.jar:0.2.0]
	at org.apache.ratis.thirdparty.io.grpc.internal.ServerImpl$JumpToApplicationThreadServerStreamListener$1MessagesAvailable.runInContext(ServerImpl.java:686) [ratis-thirdparty-misc-0.2.0.jar:0.2.0]
	at org.apache.ratis.thirdparty.io.grpc.internal.ContextRunnable.run(ContextRunnable.java:37) [ratis-thirdparty-misc-0.2.0.jar:0.2.0]
	at org.apache.ratis.thirdparty.io.grpc.internal.SerializingExecutor.run(SerializingExecutor.java:123) [ratis-thirdparty-misc-0.2.0.jar:0.2.0]
	at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1149) [?:1.8.0_212]
	at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:624) [?:1.8.0_212]
	at java.lang.Thread.run(Thread.java:748) [?:1.8.0_212]
17:53:04.009 [pool-50-thread-2] ERROR DNAudit - user=null | ip=null | op=WRITE_CHUNK {blockData=conID: 3 locID: 102769490503204868 bcsId: 3} | ret=FAILURE
java.lang.Exception: Unable to get Chunks directory.
	at org.apache.hadoop.ozone.container.common.impl.HddsDispatcher.dispatchRequest(HddsDispatcher.java:327) ~[hadoop-hdds-container-service-0.5.0-SNAPSHOT.jar:?]
	at org.apache.hadoop.ozone.container.common.impl.HddsDispatcher.dispatch(HddsDispatcher.java:150) ~[hadoop-hdds-container-service-0.5.0-SNAPSHOT.jar:?]
	at org.apache.hadoop.ozone.container.common.transport.server.ratis.ContainerStateMachine.dispatchCommand(ContainerStateMachine.java:401) ~[hadoop-hdds-container-service-0.5.0-SNAPSHOT.jar:?]
	at org.apache.hadoop.ozone.container.common.transport.server.ratis.ContainerStateMachine.runCommand(ContainerStateMachine.java:409) ~[hadoop-hdds-container-service-0.5.0-SNAPSHOT.jar:?]
	at org.apache.hadoop.ozone.container.common.transport.server.ratis.ContainerStateMachine.lambda$handleWriteChunk$1(ContainerStateMachine.java:442) ~[hadoop-hdds-container-service-0.5.0-SNAPSHOT.jar:?]
	at java.util.concurrent.CompletableFuture$AsyncSupply.run(CompletableFuture.java:1590) [?:1.8.0_212]
	at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1149) [?:1.8.0_212]
	at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:624) [?:1.8.0_212]
	at java.lang.Thread.run(Thread.java:748) [?:1.8.0_212]
2019-09-10 17:53:04,012 [60b001b3-1662-439d-83b7-d721b00602d4@group-6C6BE890765A-StateMachineUpdater] INFO  ratis.ContainerStateMachine (ContainerStateMachine.java:takeSnapshot(300)) - group-6C6BE890765A: Finished taking a snapshot at:(t:1, i:3) file:/workdir/hadoop-ozone/integration-test/target/test-dir/MiniOzoneClusterImpl-d01b3807-3732-4de8-b8ba-bdf98e618289/datanode-0/data/ratis/d0fd881c-0db2-46f6-a6f5-6c6be890765a/sm/snapshot.1_3 time:24
2019-09-10 17:53:04,012 [pool-50-thread-2] ERROR ratis.ContainerStateMachine (ContainerStateMachine.java:lambda$handleWriteChunk$2(456)) - group-6C6BE890765A: writeChunk writeStateMachineData failed: blockIdcontainerID: 3
localID: 102769490503204868
blockCommitSequenceId: 3
 logIndex 5 chunkName 102769490503204868_chunk_2 Error message: Unable to get Chunks directory. Container Result: UNABLE_TO_FIND_DATA_DIR
2019-09-10 17:53:04,012 [60b001b3-1662-439d-83b7-d721b00602d4@group-6C6BE890765A-StateMachineUpdater] INFO  impl.StateMachineUpdater (StateMachineUpdater.java:takeSnapshot(258)) - 60b001b3-1662-439d-83b7-d721b00602d4@group-6C6BE890765A-StateMachineUpdater: Took a snapshot at index 3
2019-09-10 17:53:04,012 [60b001b3-1662-439d-83b7-d721b00602d4@group-6C6BE890765A-StateMachineUpdater] INFO  impl.StateMachineUpdater (StateMachineUpdater.java:lambda$new$0(83)) - 60b001b3-1662-439d-83b7-d721b00602d4@group-6C6BE890765A-StateMachineUpdater: snapshotIndex: updateIncreasingly 1 -> 3
2019-09-10 17:53:04,013 [60b001b3-1662-439d-83b7-d721b00602d4@group-6C6BE890765A-StateMachineUpdater] INFO  ratis.ContainerStateMachine (ContainerStateMachine.java:takeSnapshot(289)) - group-6C6BE890765A: Taking a snapshot at:(t:1, i:3) file /workdir/hadoop-ozone/integration-test/target/test-dir/MiniOzoneClusterImpl-d01b3807-3732-4de8-b8ba-bdf98e618289/datanode-0/data/ratis/d0fd881c-0db2-46f6-a6f5-6c6be890765a/sm/snapshot.1_3
2019-09-10 17:53:04,025 [60b001b3-1662-439d-83b7-d721b00602d4@group-6C6BE890765A-SegmentedRaftLogWorker] ERROR ratis.XceiverServerRatis (XceiverServerRatis.java:triggerPipelineClose(575)) - pipeline Action CLOSE  on pipeline PipelineID=d0fd881c-0db2-46f6-a6f5-6c6be890765a.Reason : Unable to get Chunks directory.
2019-09-10 17:53:04,029 [EventQueue-PipelineActionsForPipelineActionHandler] ERROR pipeline.PipelineActionHandler (PipelineActionHandler.java:onMessage(60)) - Received pipeline action CLOSE for Pipeline[ Id: d0fd881c-0db2-46f6-a6f5-6c6be890765a, Nodes: 60b001b3-1662-439d-83b7-d721b00602d4{ip: 192.168.5.139, host: pr-hdds-1786-trunk-k6rzm-1803654198, networkLocation: /default-rack, certSerialId: null}, Type:RATIS, Factor:ONE, State:OPEN] from datanode 60b001b3-1662-439d-83b7-d721b00602d4{ip: 192.168.5.139, host: pr-hdds-1786-trunk-k6rzm-1803654198, networkLocation: /default-rack, certSerialId: null}. Reason : Unable to get Chunks directory.
2019-09-10 17:53:04,030 [EventQueue-PipelineActionsForPipelineActionHandler] INFO  pipeline.SCMPipelineManager (SCMPipelineManager.java:finalizeAndDestroyPipeline(311)) - destroying pipeline:Pipeline[ Id: d0fd881c-0db2-46f6-a6f5-6c6be890765a, Nodes: 60b001b3-1662-439d-83b7-d721b00602d4{ip: 192.168.5.139, host: pr-hdds-1786-trunk-k6rzm-1803654198, networkLocation: /default-rack, certSerialId: null}, Type:RATIS, Factor:ONE, State:OPEN]
2019-09-10 17:53:04,030 [EventQueue-CloseContainerForCloseContainerEventHandler] INFO  container.CloseContainerEventHandler (CloseContainerEventHandler.java:onMessage(61)) - Close container Event triggered for container : #3
2019-09-10 17:53:04,031 [EventQueue-PipelineActionsForPipelineActionHandler] INFO  pipeline.PipelineStateManager (PipelineStateManager.java:finalizePipeline(123)) - Pipeline Pipeline[ Id: d0fd881c-0db2-46f6-a6f5-6c6be890765a, Nodes: 60b001b3-1662-439d-83b7-d721b00602d4{ip: 192.168.5.139, host: pr-hdds-1786-trunk-k6rzm-1803654198, networkLocation: /default-rack, certSerialId: null}, Type:RATIS, Factor:ONE, State:CLOSED] moved to CLOSED state
2019-09-10 17:53:04,031 [EventQueue-CloseContainerForCloseContainerEventHandler] INFO  container.CloseContainerEventHandler (CloseContainerEventHandler.java:onMessage(61)) - Close container Event triggered for container : #3
2019-09-10 17:53:04,037 [60b001b3-1662-439d-83b7-d721b00602d4@group-6C6BE890765A-StateMachineUpdater] INFO  ratis.ContainerStateMachine (ContainerStateMachine.java:takeSnapshot(300)) - group-6C6BE890765A: Finished taking a snapshot at:(t:1, i:3) file:/workdir/hadoop-ozone/integration-test/target/test-dir/MiniOzoneClusterImpl-d01b3807-3732-4de8-b8ba-bdf98e618289/datanode-0/data/ratis/d0fd881c-0db2-46f6-a6f5-6c6be890765a/sm/snapshot.1_3 time:24
2019-09-10 17:53:04,037 [60b001b3-1662-439d-83b7-d721b00602d4@group-6C6BE890765A-StateMachineUpdater] INFO  impl.StateMachineUpdater (StateMachineUpdater.java:takeSnapshot(258)) - 60b001b3-1662-439d-83b7-d721b00602d4@group-6C6BE890765A-StateMachineUpdater: Took a snapshot at index 3
2019-09-10 17:53:04,037 [60b001b3-1662-439d-83b7-d721b00602d4@group-6C6BE890765A-StateMachineUpdater] INFO  impl.StateMachineUpdater (StateMachineUpdater.java:lambda$new$0(83)) - 60b001b3-1662-439d-83b7-d721b00602d4@group-6C6BE890765A-StateMachineUpdater: snapshotIndex: updateIncreasingly 3 -> 3
2019-09-10 17:53:14,047 [grpc-default-executor-2] INFO  impl.RaftServerProxy (RaftServerProxy.java:remove(95)) - 60b001b3-1662-439d-83b7-d721b00602d4: remove    LEADER 60b001b3-1662-439d-83b7-d721b00602d4@group-6C6BE890765A:t1, leader=60b001b3-1662-439d-83b7-d721b00602d4, voted=60b001b3-1662-439d-83b7-d721b00602d4, raftlog=60b001b3-1662-439d-83b7-d721b00602d4@group-6C6BE890765A-SegmentedRaftLog:OPENED:c4,f4,i5, conf=0: [60b001b3-1662-439d-83b7-d721b00602d4:192.168.5.139:37239], old=null RUNNING
2019-09-10 17:53:14,048 [grpc-default-executor-2] INFO  impl.RaftServerImpl (RaftServerImpl.java:lambda$shutdown$3(251)) - 60b001b3-1662-439d-83b7-d721b00602d4@group-6C6BE890765A: shutdown
2019-09-10 17:53:14,048 [grpc-default-executor-2] INFO  util.JmxRegister (JmxRegister.java:unregister(73)) - Successfully un-registered JMX Bean with object name Ratis:service=RaftServer,group=group-6C6BE890765A,id=60b001b3-1662-439d-83b7-d721b00602d4
2019-09-10 17:53:14,049 [grpc-default-executor-2] INFO  impl.RoleInfo (RoleInfo.java:shutdownLeaderState(104)) - 60b001b3-1662-439d-83b7-d721b00602d4: shutdown LeaderState
2019-09-10 17:53:14,049 [grpc-default-executor-2] INFO  impl.PendingRequests (PendingRequests.java:sendNotLeaderResponses(202)) - 60b001b3-1662-439d-83b7-d721b00602d4-PendingRequests: sendNotLeaderResponses
2019-09-10 17:53:14,053 [grpc-default-executor-2] INFO  impl.StateMachineUpdater (StateMachineUpdater.java:stopAndJoin(125)) - 60b001b3-1662-439d-83b7-d721b00602d4@group-6C6BE890765A-StateMachineUpdater: set stopIndex = 4
2019-09-10 17:53:14,054 [60b001b3-1662-439d-83b7-d721b00602d4@group-6C6BE890765A-StateMachineUpdater] INFO  ratis.ContainerStateMachine (ContainerStateMachine.java:takeSnapshot(289)) - group-6C6BE890765A: Taking a snapshot at:(t:1, i:3) file /workdir/hadoop-ozone/integration-test/target/test-dir/MiniOzoneClusterImpl-d01b3807-3732-4de8-b8ba-bdf98e618289/datanode-0/data/ratis/d0fd881c-0db2-46f6-a6f5-6c6be890765a/sm/snapshot.1_3
2019-09-10 17:53:14,076 [60b001b3-1662-439d-83b7-d721b00602d4@group-6C6BE890765A-StateMachineUpdater] INFO  ratis.ContainerStateMachine (ContainerStateMachine.java:takeSnapshot(300)) - group-6C6BE890765A: Finished taking a snapshot at:(t:1, i:3) file:/workdir/hadoop-ozone/integration-test/target/test-dir/MiniOzoneClusterImpl-d01b3807-3732-4de8-b8ba-bdf98e618289/datanode-0/data/ratis/d0fd881c-0db2-46f6-a6f5-6c6be890765a/sm/snapshot.1_3 time:23
2019-09-10 17:53:14,077 [60b001b3-1662-439d-83b7-d721b00602d4@group-6C6BE890765A-StateMachineUpdater] INFO  impl.StateMachineUpdater (StateMachineUpdater.java:takeSnapshot(258)) - 60b001b3-1662-439d-83b7-d721b00602d4@group-6C6BE890765A-StateMachineUpdater: Took a snapshot at index 3
2019-09-10 17:53:14,077 [60b001b3-1662-439d-83b7-d721b00602d4@group-6C6BE890765A-StateMachineUpdater] INFO  impl.StateMachineUpdater (StateMachineUpdater.java:lambda$new$0(83)) - 60b001b3-1662-439d-83b7-d721b00602d4@group-6C6BE890765A-StateMachineUpdater: snapshotIndex: updateIncreasingly 3 -> 3
2019-09-10 17:53:14,077 [60b001b3-1662-439d-83b7-d721b00602d4@group-6C6BE890765A-StateMachineUpdater] INFO  ratis.ContainerStateMachine (ContainerStateMachine.java:takeSnapshot(289)) - group-6C6BE890765A: Taking a snapshot at:(t:1, i:3) file /workdir/hadoop-ozone/integration-test/target/test-dir/MiniOzoneClusterImpl-d01b3807-3732-4de8-b8ba-bdf98e618289/datanode-0/data/ratis/d0fd881c-0db2-46f6-a6f5-6c6be890765a/sm/snapshot.1_3
2019-09-10 17:53:14,090 [60b001b3-1662-439d-83b7-d721b00602d4@group-6C6BE890765A-StateMachineUpdater] INFO  ratis.ContainerStateMachine (ContainerStateMachine.java:takeSnapshot(300)) - group-6C6BE890765A: Finished taking a snapshot at:(t:1, i:3) file:/workdir/hadoop-ozone/integration-test/target/test-dir/MiniOzoneClusterImpl-d01b3807-3732-4de8-b8ba-bdf98e618289/datanode-0/data/ratis/d0fd881c-0db2-46f6-a6f5-6c6be890765a/sm/snapshot.1_3 time:13
2019-09-10 17:53:14,090 [60b001b3-1662-439d-83b7-d721b00602d4@group-6C6BE890765A-StateMachineUpdater] INFO  impl.StateMachineUpdater (StateMachineUpdater.java:takeSnapshot(258)) - 60b001b3-1662-439d-83b7-d721b00602d4@group-6C6BE890765A-StateMachineUpdater: Took a snapshot at index 3
2019-09-10 17:53:14,090 [60b001b3-1662-439d-83b7-d721b00602d4@group-6C6BE890765A-StateMachineUpdater] INFO  impl.StateMachineUpdater (StateMachineUpdater.java:lambda$new$0(83)) - 60b001b3-1662-439d-83b7-d721b00602d4@group-6C6BE890765A-StateMachineUpdater: snapshotIndex: updateIncreasingly 3 -> 3
2019-09-10 17:53:14,090 [grpc-default-executor-2] INFO  impl.RaftServerImpl (ServerState.java:close(385)) - 60b001b3-1662-439d-83b7-d721b00602d4@group-6C6BE890765A: closes. applyIndex: 4
2019-09-10 17:53:14,091 [60b001b3-1662-439d-83b7-d721b00602d4@group-6C6BE890765A-SegmentedRaftLogWorker] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:run(313)) - 60b001b3-1662-439d-83b7-d721b00602d4@group-6C6BE890765A-SegmentedRaftLogWorker was interrupted, exiting. There are 0 tasks remaining in the queue.
2019-09-10 17:53:14,092 [grpc-default-executor-2] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:close(228)) - 60b001b3-1662-439d-83b7-d721b00602d4@group-6C6BE890765A-SegmentedRaftLogWorker close()
2019-09-10 17:53:14,101 [RatisPipelineUtilsThread] INFO  pipeline.PipelineStateManager (PipelineStateManager.java:removePipeline(108)) - Pipeline Pipeline[ Id: d0fd881c-0db2-46f6-a6f5-6c6be890765a, Nodes: 60b001b3-1662-439d-83b7-d721b00602d4{ip: 192.168.5.139, host: pr-hdds-1786-trunk-k6rzm-1803654198, networkLocation: /default-rack, certSerialId: null}, Type:RATIS, Factor:ONE, State:CLOSED] removed from db
2019-09-10 17:53:14,112 [grpc-default-executor-2] INFO  impl.RaftServerProxy (RaftServerProxy.java:addNew(89)) - 60b001b3-1662-439d-83b7-d721b00602d4: addNew group-91AD81AEEA2B:[60b001b3-1662-439d-83b7-d721b00602d4:192.168.5.139:37239] returns group-91AD81AEEA2B:java.util.concurrent.CompletableFuture@2c8056db[Not completed]
2019-09-10 17:53:14,114 [pool-51-thread-1] INFO  impl.RaftServerImpl (RaftServerImpl.java:<init>(95)) - 60b001b3-1662-439d-83b7-d721b00602d4: new RaftServerImpl for group-91AD81AEEA2B:[60b001b3-1662-439d-83b7-d721b00602d4:192.168.5.139:37239] with ContainerStateMachine:uninitialized
2019-09-10 17:53:14,114 [pool-51-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.rpc.timeout.min = 5s (custom)
2019-09-10 17:53:14,114 [pool-51-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.rpc.timeout.max = 5200ms (custom)
2019-09-10 17:53:14,114 [pool-51-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.rpcslowness.timeout = 120s (custom)
2019-09-10 17:53:14,115 [pool-51-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.sleep.deviation.threshold = 300 (default)
2019-09-10 17:53:14,115 [pool-51-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.log.appender.install.snapshot.enabled = false (custom)
2019-09-10 17:53:14,115 [pool-51-thread-1] INFO  impl.RaftServerImpl (ServerState.java:<init>(103)) - 60b001b3-1662-439d-83b7-d721b00602d4@group-91AD81AEEA2B: ConfigurationManager, init=-1: [60b001b3-1662-439d-83b7-d721b00602d4:192.168.5.139:37239], old=null, confs=<EMPTY_MAP>
2019-09-10 17:53:14,115 [pool-51-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.storage.dir = [/workdir/hadoop-ozone/integration-test/target/test-dir/MiniOzoneClusterImpl-d01b3807-3732-4de8-b8ba-bdf98e618289/datanode-0/data/ratis] (custom)
2019-09-10 17:53:14,115 [pool-51-thread-1] INFO  storage.RaftStorageDirectory (RaftStorageDirectory.java:analyzeStorage(246)) - The storage directory /workdir/hadoop-ozone/integration-test/target/test-dir/MiniOzoneClusterImpl-d01b3807-3732-4de8-b8ba-bdf98e618289/datanode-0/data/ratis/e193a3e5-6db1-4394-afc6-91ad81aeea2b does not exist. Creating ...
2019-09-10 17:53:14,138 [pool-51-thread-1] INFO  storage.RaftStorageDirectory (RaftStorageDirectory.java:tryLock(328)) - Lock on /workdir/hadoop-ozone/integration-test/target/test-dir/MiniOzoneClusterImpl-d01b3807-3732-4de8-b8ba-bdf98e618289/datanode-0/data/ratis/e193a3e5-6db1-4394-afc6-91ad81aeea2b/in_use.lock acquired by nodename 23020@pr-hdds-1786-trunk-k6rzm-1803654198
2019-09-10 17:53:14,161 [pool-51-thread-1] INFO  storage.RaftStorage (RaftStorage.java:format(72)) - Storage directory /workdir/hadoop-ozone/integration-test/target/test-dir/MiniOzoneClusterImpl-d01b3807-3732-4de8-b8ba-bdf98e618289/datanode-0/data/ratis/e193a3e5-6db1-4394-afc6-91ad81aeea2b has been successfully formatted.
2019-09-10 17:53:14,161 [pool-51-thread-1] INFO  ratis.ContainerStateMachine (ContainerStateMachine.java:loadSnapshot(230)) - group-91AD81AEEA2B: The snapshot info is null. Setting the last applied indexto:(t:0, i:~)
2019-09-10 17:53:14,162 [pool-51-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.notification.no-leader.timeout = 120s (custom)
2019-09-10 17:53:14,162 [pool-51-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.log.use.memory = false (default)
2019-09-10 17:53:14,162 [pool-51-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.log.purge.gap = 1000000 (custom)
2019-09-10 17:53:14,162 [pool-51-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.log.appender.buffer.byte-limit = 33554432 (custom)
2019-09-10 17:53:14,162 [pool-51-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.log.segment.size.max = 1048576 (custom)
2019-09-10 17:53:14,162 [pool-51-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.log.segment.cache.num.max = 2 (custom)
2019-09-10 17:53:14,162 [pool-51-thread-1] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:<init>(172)) - new 60b001b3-1662-439d-83b7-d721b00602d4@group-91AD81AEEA2B-SegmentedRaftLogWorker for RaftStorage:Storage Directory /workdir/hadoop-ozone/integration-test/target/test-dir/MiniOzoneClusterImpl-d01b3807-3732-4de8-b8ba-bdf98e618289/datanode-0/data/ratis/e193a3e5-6db1-4394-afc6-91ad81aeea2b
2019-09-10 17:53:14,163 [pool-51-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.log.queue.byte-limit = 2147483647 (custom)
2019-09-10 17:53:14,163 [pool-51-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.log.queue.element-limit = 1024 (custom)
2019-09-10 17:53:14,163 [pool-51-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.log.segment.size.max = 1048576 (custom)
2019-09-10 17:53:14,163 [pool-51-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.log.preallocated.size = 16384 (custom)
2019-09-10 17:53:14,163 [pool-51-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.log.write.buffer.size = 33554432 (custom)
2019-09-10 17:53:14,163 [pool-51-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.log.force.sync.num = 128 (default)
2019-09-10 17:53:14,164 [pool-51-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.log.statemachine.data.sync = true (default)
2019-09-10 17:53:14,164 [pool-51-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.log.statemachine.data.sync.timeout = 10s (default)
2019-09-10 17:53:14,164 [pool-51-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.log.statemachine.data.sync.timeout.retry = -1 (default)
2019-09-10 17:53:14,164 [pool-51-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.log.statemachine.data.caching.enabled = true (custom)
2019-09-10 17:53:14,164 [pool-51-thread-1] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:lambda$new$0(132)) - 60b001b3-1662-439d-83b7-d721b00602d4@group-91AD81AEEA2B-SegmentedRaftLogWorker: flushIndex: setUnconditionally 0 -> -1
2019-09-10 17:53:14,165 [pool-51-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.snapshot.auto.trigger.enabled = true (custom)
2019-09-10 17:53:14,165 [pool-51-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.snapshot.auto.trigger.threshold = 1 (custom)
2019-09-10 17:53:14,165 [pool-51-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.snapshot.retention.num.files = 5 (custom)
2019-09-10 17:53:14,165 [pool-51-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.retrycache.expirytime = 600000ms (custom)
2019-09-10 17:53:14,169 [pool-51-thread-1] INFO  impl.RaftServerImpl (RaftServerImpl.java:start(185)) - 60b001b3-1662-439d-83b7-d721b00602d4@group-91AD81AEEA2B: start as a follower, conf=-1: [60b001b3-1662-439d-83b7-d721b00602d4:192.168.5.139:37239], old=null
2019-09-10 17:53:14,169 [pool-51-thread-1] INFO  impl.RaftServerImpl (RaftServerImpl.java:setRole(174)) - 60b001b3-1662-439d-83b7-d721b00602d4@group-91AD81AEEA2B: changes role from      null to FOLLOWER at term 0 for startAsFollower
2019-09-10 17:53:14,169 [pool-51-thread-1] INFO  impl.RoleInfo (RoleInfo.java:updateAndGet(143)) - 60b001b3-1662-439d-83b7-d721b00602d4: start FollowerState
2019-09-10 17:53:14,170 [pool-51-thread-1] INFO  util.JmxRegister (JmxRegister.java:tryRegister(44)) - Successfully registered JMX Bean with object name Ratis:service=RaftServer,group=group-91AD81AEEA2B,id=60b001b3-1662-439d-83b7-d721b00602d4
2019-09-10 17:53:14,177 [RatisPipelineUtilsThread] INFO  pipeline.PipelineStateManager (PipelineStateManager.java:addPipeline(56)) - Created pipeline Pipeline[ Id: e193a3e5-6db1-4394-afc6-91ad81aeea2b, Nodes: 60b001b3-1662-439d-83b7-d721b00602d4{ip: 192.168.5.139, host: pr-hdds-1786-trunk-k6rzm-1803654198, networkLocation: /default-rack, certSerialId: null}, Type:RATIS, Factor:ONE, State:OPEN]
2019-09-10 17:53:16,079 [main] WARN  io.KeyOutputStream (KeyOutputStream.java:handleException(276)) - Encountered exception java.io.IOException: Unexpected Storage Container Exception: java.util.concurrent.CompletionException: java.util.concurrent.CompletionException: org.apache.ratis.protocol.GroupMismatchException: 60b001b3-1662-439d-83b7-d721b00602d4: group-6C6BE890765A not found. on the pipeline Pipeline[ Id: d0fd881c-0db2-46f6-a6f5-6c6be890765a, Nodes: 60b001b3-1662-439d-83b7-d721b00602d4{ip: 192.168.5.139, host: pr-hdds-1786-trunk-k6rzm-1803654198, networkLocation: /default-rack, certSerialId: null}, Type:RATIS, Factor:ONE, State:OPEN]. The last committed block length is 5, uncommitted data length is 5 retry count 0
2019-09-10 17:53:16,123 [grpc-default-executor-2] INFO  client.GrpcClientProtocolClient (GrpcClientProtocolClient.java:onNext(264)) - client-1DE43D4322E9->60b001b3-1662-439d-83b7-d721b00602d4: receive RaftClientReply:client-1DE43D4322E9->60b001b3-1662-439d-83b7-d721b00602d4@group-91AD81AEEA2B, cid=17, FAILED org.apache.ratis.protocol.NotLeaderException: Server 60b001b3-1662-439d-83b7-d721b00602d4@group-91AD81AEEA2B is not the leader, logIndex=0, commits[60b001b3-1662-439d-83b7-d721b00602d4:c-1]
2019-09-10 17:53:18,144 [grpc-default-executor-1] INFO  client.GrpcClientProtocolClient (GrpcClientProtocolClient.java:onNext(264)) - client-1DE43D4322E9->60b001b3-1662-439d-83b7-d721b00602d4: receive RaftClientReply:client-1DE43D4322E9->60b001b3-1662-439d-83b7-d721b00602d4@group-91AD81AEEA2B, cid=17, FAILED org.apache.ratis.protocol.NotLeaderException: Server 60b001b3-1662-439d-83b7-d721b00602d4@group-91AD81AEEA2B is not the leader, logIndex=0, commits[60b001b3-1662-439d-83b7-d721b00602d4:c-1]
2019-09-10 17:53:19,313 [Thread-255] INFO  impl.FollowerState (FollowerState.java:run(106)) - 60b001b3-1662-439d-83b7-d721b00602d4:group-91AD81AEEA2B changes to CANDIDATE, lastRpcTime:5143, electionTimeout:5143ms
2019-09-10 17:53:19,315 [Thread-255] INFO  impl.RoleInfo (RoleInfo.java:shutdownFollowerState(121)) - 60b001b3-1662-439d-83b7-d721b00602d4: shutdown FollowerState
2019-09-10 17:53:19,315 [Thread-255] INFO  impl.RaftServerImpl (RaftServerImpl.java:setRole(174)) - 60b001b3-1662-439d-83b7-d721b00602d4@group-91AD81AEEA2B: changes role from  FOLLOWER to CANDIDATE at term 0 for changeToCandidate
2019-09-10 17:53:19,315 [Thread-255] INFO  impl.RoleInfo (RoleInfo.java:updateAndGet(143)) - 60b001b3-1662-439d-83b7-d721b00602d4: start LeaderElection
2019-09-10 17:53:19,337 [60b001b3-1662-439d-83b7-d721b00602d4@group-91AD81AEEA2B:LeaderElection6] INFO  impl.LeaderElection (LeaderElection.java:askForVotes(182)) - 60b001b3-1662-439d-83b7-d721b00602d4@group-91AD81AEEA2B:LeaderElection6: begin an election at term 1 for -1: [60b001b3-1662-439d-83b7-d721b00602d4:192.168.5.139:37239], old=null
2019-09-10 17:53:19,337 [60b001b3-1662-439d-83b7-d721b00602d4@group-91AD81AEEA2B:LeaderElection6] INFO  impl.RoleInfo (RoleInfo.java:shutdownLeaderElection(134)) - 60b001b3-1662-439d-83b7-d721b00602d4: shutdown LeaderElection
2019-09-10 17:53:19,337 [60b001b3-1662-439d-83b7-d721b00602d4@group-91AD81AEEA2B:LeaderElection6] INFO  impl.RaftServerImpl (RaftServerImpl.java:setRole(174)) - 60b001b3-1662-439d-83b7-d721b00602d4@group-91AD81AEEA2B: changes role from CANDIDATE to LEADER at term 1 for changeToLeader
2019-09-10 17:53:19,337 [60b001b3-1662-439d-83b7-d721b00602d4@group-91AD81AEEA2B:LeaderElection6] INFO  impl.RaftServerImpl (ServerState.java:setLeader(253)) - 60b001b3-1662-439d-83b7-d721b00602d4@group-91AD81AEEA2B: change Leader from null to 60b001b3-1662-439d-83b7-d721b00602d4 at term 1 for becomeLeader, leader elected after 5175ms
2019-09-10 17:53:19,338 [60b001b3-1662-439d-83b7-d721b00602d4@group-91AD81AEEA2B:LeaderElection6] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.staging.catchup.gap = 1000 (default)
2019-09-10 17:53:19,338 [60b001b3-1662-439d-83b7-d721b00602d4@group-91AD81AEEA2B:LeaderElection6] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.rpc.sleep.time = 25ms (default)
2019-09-10 17:53:19,338 [60b001b3-1662-439d-83b7-d721b00602d4@group-91AD81AEEA2B:LeaderElection6] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.write.element-limit = 4096 (default)
2019-09-10 17:53:19,338 [60b001b3-1662-439d-83b7-d721b00602d4@group-91AD81AEEA2B:LeaderElection6] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.watch.timeout = 10s (default)
2019-09-10 17:53:19,338 [60b001b3-1662-439d-83b7-d721b00602d4@group-91AD81AEEA2B:LeaderElection6] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.watch.timeout.denomination = 1s (default)
2019-09-10 17:53:19,339 [60b001b3-1662-439d-83b7-d721b00602d4@group-91AD81AEEA2B:LeaderElection6] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.watch.element-limit = 65536 (default)
2019-09-10 17:53:19,345 [60b001b3-1662-439d-83b7-d721b00602d4@group-91AD81AEEA2B:LeaderElection6] INFO  impl.RoleInfo (RoleInfo.java:updateAndGet(143)) - 60b001b3-1662-439d-83b7-d721b00602d4: start LeaderState
2019-09-10 17:53:19,345 [60b001b3-1662-439d-83b7-d721b00602d4@group-91AD81AEEA2B:LeaderElection6] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:startLogSegment(380)) - 60b001b3-1662-439d-83b7-d721b00602d4@group-91AD81AEEA2B-SegmentedRaftLogWorker: Starting segment from index:0
2019-09-10 17:53:19,347 [60b001b3-1662-439d-83b7-d721b00602d4@group-91AD81AEEA2B:LeaderElection6] INFO  impl.RaftServerImpl (ServerState.java:setRaftConf(354)) - 60b001b3-1662-439d-83b7-d721b00602d4@group-91AD81AEEA2B: set configuration 0: [60b001b3-1662-439d-83b7-d721b00602d4:192.168.5.139:37239], old=null at 0
2019-09-10 17:53:19,404 [60b001b3-1662-439d-83b7-d721b00602d4@group-91AD81AEEA2B-SegmentedRaftLogWorker] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:execute(569)) - 60b001b3-1662-439d-83b7-d721b00602d4@group-91AD81AEEA2B-SegmentedRaftLogWorker: created new log segment /workdir/hadoop-ozone/integration-test/target/test-dir/MiniOzoneClusterImpl-d01b3807-3732-4de8-b8ba-bdf98e618289/datanode-0/data/ratis/e193a3e5-6db1-4394-afc6-91ad81aeea2b/current/log_inprogress_0
2019-09-10 17:53:20,337 [60b001b3-1662-439d-83b7-d721b00602d4@group-91AD81AEEA2B-StateMachineUpdater] INFO  ratis.ContainerStateMachine (ContainerStateMachine.java:takeSnapshot(289)) - group-91AD81AEEA2B: Taking a snapshot at:(t:1, i:1) file /workdir/hadoop-ozone/integration-test/target/test-dir/MiniOzoneClusterImpl-d01b3807-3732-4de8-b8ba-bdf98e618289/datanode-0/data/ratis/e193a3e5-6db1-4394-afc6-91ad81aeea2b/sm/snapshot.1_1
2019-09-10 17:53:20,340 [grpc-default-executor-2] INFO  client.GrpcClientProtocolClient (GrpcClientProtocolClient.java:onNext(264)) - client-1DE43D4322E9->60b001b3-1662-439d-83b7-d721b00602d4: receive RaftClientReply:client-1DE43D4322E9->60b001b3-1662-439d-83b7-d721b00602d4@group-91AD81AEEA2B, cid=17, SUCCESS, logIndex=1, commits[60b001b3-1662-439d-83b7-d721b00602d4:c1]
2019-09-10 17:53:20,360 [60b001b3-1662-439d-83b7-d721b00602d4@group-91AD81AEEA2B-StateMachineUpdater] INFO  ratis.ContainerStateMachine (ContainerStateMachine.java:takeSnapshot(300)) - group-91AD81AEEA2B: Finished taking a snapshot at:(t:1, i:1) file:/workdir/hadoop-ozone/integration-test/target/test-dir/MiniOzoneClusterImpl-d01b3807-3732-4de8-b8ba-bdf98e618289/datanode-0/data/ratis/e193a3e5-6db1-4394-afc6-91ad81aeea2b/sm/snapshot.1_1 time:26
2019-09-10 17:53:20,360 [60b001b3-1662-439d-83b7-d721b00602d4@group-91AD81AEEA2B-StateMachineUpdater] INFO  impl.StateMachineUpdater (StateMachineUpdater.java:takeSnapshot(258)) - 60b001b3-1662-439d-83b7-d721b00602d4@group-91AD81AEEA2B-StateMachineUpdater: Took a snapshot at index 1
2019-09-10 17:53:20,361 [60b001b3-1662-439d-83b7-d721b00602d4@group-91AD81AEEA2B-StateMachineUpdater] INFO  impl.StateMachineUpdater (StateMachineUpdater.java:lambda$new$0(83)) - 60b001b3-1662-439d-83b7-d721b00602d4@group-91AD81AEEA2B-StateMachineUpdater: snapshotIndex: updateIncreasingly -1 -> 1
2019-09-10 17:53:20,361 [60b001b3-1662-439d-83b7-d721b00602d4@group-91AD81AEEA2B-StateMachineUpdater] INFO  ratis.ContainerStateMachine (ContainerStateMachine.java:takeSnapshot(289)) - group-91AD81AEEA2B: Taking a snapshot at:(t:1, i:1) file /workdir/hadoop-ozone/integration-test/target/test-dir/MiniOzoneClusterImpl-d01b3807-3732-4de8-b8ba-bdf98e618289/datanode-0/data/ratis/e193a3e5-6db1-4394-afc6-91ad81aeea2b/sm/snapshot.1_1
2019-09-10 17:53:20,377 [60b001b3-1662-439d-83b7-d721b00602d4@group-91AD81AEEA2B-StateMachineUpdater] INFO  ratis.ContainerStateMachine (ContainerStateMachine.java:takeSnapshot(300)) - group-91AD81AEEA2B: Finished taking a snapshot at:(t:1, i:1) file:/workdir/hadoop-ozone/integration-test/target/test-dir/MiniOzoneClusterImpl-d01b3807-3732-4de8-b8ba-bdf98e618289/datanode-0/data/ratis/e193a3e5-6db1-4394-afc6-91ad81aeea2b/sm/snapshot.1_1 time:16
2019-09-10 17:53:20,377 [60b001b3-1662-439d-83b7-d721b00602d4@group-91AD81AEEA2B-StateMachineUpdater] INFO  impl.StateMachineUpdater (StateMachineUpdater.java:takeSnapshot(258)) - 60b001b3-1662-439d-83b7-d721b00602d4@group-91AD81AEEA2B-StateMachineUpdater: Took a snapshot at index 1
2019-09-10 17:53:20,377 [60b001b3-1662-439d-83b7-d721b00602d4@group-91AD81AEEA2B-StateMachineUpdater] INFO  impl.StateMachineUpdater (StateMachineUpdater.java:lambda$new$0(83)) - 60b001b3-1662-439d-83b7-d721b00602d4@group-91AD81AEEA2B-StateMachineUpdater: snapshotIndex: updateIncreasingly 1 -> 1
2019-09-10 17:53:20,447 [60b001b3-1662-439d-83b7-d721b00602d4@group-91AD81AEEA2B-StateMachineUpdater] INFO  ratis.ContainerStateMachine (ContainerStateMachine.java:takeSnapshot(289)) - group-91AD81AEEA2B: Taking a snapshot at:(t:1, i:4) file /workdir/hadoop-ozone/integration-test/target/test-dir/MiniOzoneClusterImpl-d01b3807-3732-4de8-b8ba-bdf98e618289/datanode-0/data/ratis/e193a3e5-6db1-4394-afc6-91ad81aeea2b/sm/snapshot.1_4
2019-09-10 17:53:20,451 [grpc-default-executor-2] INFO  client.GrpcClientProtocolClient (GrpcClientProtocolClient.java:onNext(264)) - client-1DE43D4322E9->60b001b3-1662-439d-83b7-d721b00602d4: receive RaftClientReply:client-1DE43D4322E9->60b001b3-1662-439d-83b7-d721b00602d4@group-91AD81AEEA2B, cid=18, SUCCESS, logIndex=3, commits[60b001b3-1662-439d-83b7-d721b00602d4:c4]
2019-09-10 17:53:20,470 [60b001b3-1662-439d-83b7-d721b00602d4@group-91AD81AEEA2B-StateMachineUpdater] INFO  ratis.ContainerStateMachine (ContainerStateMachine.java:takeSnapshot(300)) - group-91AD81AEEA2B: Finished taking a snapshot at:(t:1, i:4) file:/workdir/hadoop-ozone/integration-test/target/test-dir/MiniOzoneClusterImpl-d01b3807-3732-4de8-b8ba-bdf98e618289/datanode-0/data/ratis/e193a3e5-6db1-4394-afc6-91ad81aeea2b/sm/snapshot.1_4 time:23
2019-09-10 17:53:20,471 [60b001b3-1662-439d-83b7-d721b00602d4@group-91AD81AEEA2B-StateMachineUpdater] INFO  impl.StateMachineUpdater (StateMachineUpdater.java:takeSnapshot(258)) - 60b001b3-1662-439d-83b7-d721b00602d4@group-91AD81AEEA2B-StateMachineUpdater: Took a snapshot at index 4
2019-09-10 17:53:20,471 [60b001b3-1662-439d-83b7-d721b00602d4@group-91AD81AEEA2B-StateMachineUpdater] INFO  impl.StateMachineUpdater (StateMachineUpdater.java:lambda$new$0(83)) - 60b001b3-1662-439d-83b7-d721b00602d4@group-91AD81AEEA2B-StateMachineUpdater: snapshotIndex: updateIncreasingly 1 -> 4
2019-09-10 17:53:20,520 [Datanode State Machine Thread - 0] INFO  statemachine.DatanodeStateMachine (DatanodeStateMachine.java:lambda$startDaemon$0(350)) - Ozone container server started.
2019-09-10 17:53:23,387 [EventQueue-StaleNodeForStaleNodeHandler] INFO  node.StaleNodeHandler (StaleNodeHandler.java:onMessage(58)) - Datanode 60b001b3-1662-439d-83b7-d721b00602d4{ip: 192.168.5.139, host: pr-hdds-1786-trunk-k6rzm-1803654198, networkLocation: /default-rack, certSerialId: null} moved to stale state. Finalizing its pipelines [PipelineID=e193a3e5-6db1-4394-afc6-91ad81aeea2b]
2019-09-10 17:53:23,388 [EventQueue-StaleNodeForStaleNodeHandler] INFO  pipeline.SCMPipelineManager (SCMPipelineManager.java:finalizeAndDestroyPipeline(311)) - destroying pipeline:Pipeline[ Id: e193a3e5-6db1-4394-afc6-91ad81aeea2b, Nodes: 60b001b3-1662-439d-83b7-d721b00602d4{ip: 192.168.5.139, host: pr-hdds-1786-trunk-k6rzm-1803654198, networkLocation: /default-rack, certSerialId: null}, Type:RATIS, Factor:ONE, State:OPEN]
2019-09-10 17:53:23,388 [EventQueue-StaleNodeForStaleNodeHandler] INFO  pipeline.PipelineStateManager (PipelineStateManager.java:finalizePipeline(123)) - Pipeline Pipeline[ Id: e193a3e5-6db1-4394-afc6-91ad81aeea2b, Nodes: 60b001b3-1662-439d-83b7-d721b00602d4{ip: 192.168.5.139, host: pr-hdds-1786-trunk-k6rzm-1803654198, networkLocation: /default-rack, certSerialId: null}, Type:RATIS, Factor:ONE, State:CLOSED] moved to CLOSED state
2019-09-10 17:53:23,389 [EventQueue-CloseContainerForCloseContainerEventHandler] INFO  container.CloseContainerEventHandler (CloseContainerEventHandler.java:onMessage(61)) - Close container Event triggered for container : #4
2019-09-10 17:53:25,467 [main] INFO  ozoneimpl.OzoneContainer (OzoneContainer.java:stop(231)) - Attempting to stop container services.
2019-09-10 17:53:25,467 [main] INFO  impl.RaftServerProxy (RaftServerProxy.java:lambda$close$4(314)) - 60b001b3-1662-439d-83b7-d721b00602d4: close
2019-09-10 17:53:25,468 [main] INFO  impl.RaftServerImpl (RaftServerImpl.java:lambda$shutdown$3(251)) - 60b001b3-1662-439d-83b7-d721b00602d4@group-91AD81AEEA2B: shutdown
2019-09-10 17:53:25,468 [main] INFO  util.JmxRegister (JmxRegister.java:unregister(73)) - Successfully un-registered JMX Bean with object name Ratis:service=RaftServer,group=group-91AD81AEEA2B,id=60b001b3-1662-439d-83b7-d721b00602d4
2019-09-10 17:53:25,469 [main] INFO  impl.RoleInfo (RoleInfo.java:shutdownLeaderState(104)) - 60b001b3-1662-439d-83b7-d721b00602d4: shutdown LeaderState
2019-09-10 17:53:25,469 [main] INFO  impl.PendingRequests (PendingRequests.java:sendNotLeaderResponses(202)) - 60b001b3-1662-439d-83b7-d721b00602d4-PendingRequests: sendNotLeaderResponses
2019-09-10 17:53:25,474 [main] INFO  impl.StateMachineUpdater (StateMachineUpdater.java:stopAndJoin(125)) - 60b001b3-1662-439d-83b7-d721b00602d4@group-91AD81AEEA2B-StateMachineUpdater: set stopIndex = 4
2019-09-10 17:53:25,475 [main] INFO  impl.RaftServerImpl (ServerState.java:close(385)) - 60b001b3-1662-439d-83b7-d721b00602d4@group-91AD81AEEA2B: closes. applyIndex: 4
2019-09-10 17:53:25,475 [60b001b3-1662-439d-83b7-d721b00602d4@group-91AD81AEEA2B-SegmentedRaftLogWorker] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:run(313)) - 60b001b3-1662-439d-83b7-d721b00602d4@group-91AD81AEEA2B-SegmentedRaftLogWorker was interrupted, exiting. There are 0 tasks remaining in the queue.
2019-09-10 17:53:25,487 [main] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:close(228)) - 60b001b3-1662-439d-83b7-d721b00602d4@group-91AD81AEEA2B-SegmentedRaftLogWorker close()
2019-09-10 17:53:25,489 [main] INFO  server.GrpcService (GrpcService.java:closeImpl(164)) - 60b001b3-1662-439d-83b7-d721b00602d4: shutdown server with port 37239 now
2019-09-10 17:53:25,490 [main] INFO  server.GrpcService (GrpcService.java:closeImpl(172)) - 60b001b3-1662-439d-83b7-d721b00602d4: shutdown server with port 37239 successfully
2019-09-10 17:53:25,500 [refreshUsed-/workdir/hadoop-ozone/integration-test/target/test-dir/MiniOzoneClusterImpl-d01b3807-3732-4de8-b8ba-bdf98e618289/datanode-0/data/containers] WARN  fs.CachingGetSpaceUsed (CachingGetSpaceUsed.java:run(183)) - Thread Interrupted waiting to refresh disk information: sleep interrupted
2019-09-10 17:53:25,518 [main] INFO  utils.BackgroundService (BackgroundService.java:shutdown(148)) - Shutting down service BlockDeletingService
2019-09-10 17:53:25,521 [main] INFO  statemachine.DatanodeStateMachine (DatanodeStateMachine.java:stopDaemon(395)) - Ozone container server stopped.
2019-09-10 17:53:25,522 [main] INFO  handler.ContextHandler (ContextHandler.java:doStop(910)) - Stopped o.e.j.w.WebAppContext@44fff386{/,null,UNAVAILABLE}{/hddsDatanode}
2019-09-10 17:53:25,523 [main] INFO  server.AbstractConnector (AbstractConnector.java:doStop(318)) - Stopped ServerConnector@1fc713c9{HTTP/1.1,[http/1.1]}{0.0.0.0:46502}
2019-09-10 17:53:25,523 [main] INFO  handler.ContextHandler (ContextHandler.java:doStop(910)) - Stopped o.e.j.s.ServletContextHandler@2bfb583b{/static,jar:file:/home/user/.m2/repository/org/apache/hadoop/hadoop-hdds-container-service/0.5.0-SNAPSHOT/hadoop-hdds-container-service-0.5.0-SNAPSHOT.jar!/webapps/static,UNAVAILABLE}
2019-09-10 17:53:25,524 [main] INFO  handler.ContextHandler (ContextHandler.java:doStop(910)) - Stopped o.e.j.s.ServletContextHandler@765d55d5{/logs,file:///workdir/hadoop-ozone/integration-test/target/log,UNAVAILABLE}
2019-09-10 17:53:25,525 [main] INFO  ozone.MiniOzoneClusterImpl (MiniOzoneClusterImpl.java:lambda$waitForClusterToBeReady$0(140)) - Cluster is ready. Got 0 of 0 DN Heartbeats.
2019-09-10 17:53:25,527 [main] INFO  impl.MetricsSystemImpl (MetricsSystemImpl.java:init(158)) - HddsDatanode metrics system started (again)
2019-09-10 17:53:25,530 [main] INFO  ozone.HddsDatanodeService (HddsDatanodeService.java:start(184)) - HddsDatanodeService host:pr-hdds-1786-trunk-k6rzm-1803654198 ip:192.168.5.139
2019-09-10 17:53:25,532 [main] INFO  volume.VolumeUsage (VolumeUsage.java:loadScmUsed(144)) - Cached ScmUsed found for /workdir/hadoop-ozone/integration-test/target/test-dir/MiniOzoneClusterImpl-d01b3807-3732-4de8-b8ba-bdf98e618289/datanode-0/data/containers : 4096 
2019-09-10 17:53:25,533 [main] INFO  volume.HddsVolume (HddsVolume.java:<init>(176)) - Creating Volume: /workdir/hadoop-ozone/integration-test/target/test-dir/MiniOzoneClusterImpl-d01b3807-3732-4de8-b8ba-bdf98e618289/datanode-0/data/containers/hdds of  storage type : DISK and capacity : 1482555576320
2019-09-10 17:53:25,533 [main] INFO  volume.VolumeSet (VolumeSet.java:initializeVolumeSet(170)) - Added Volume : /workdir/hadoop-ozone/integration-test/target/test-dir/MiniOzoneClusterImpl-d01b3807-3732-4de8-b8ba-bdf98e618289/datanode-0/data/containers/hdds to VolumeSet
2019-09-10 17:53:25,533 [main] INFO  volume.ThrottledAsyncChecker (ThrottledAsyncChecker.java:schedule(139)) - Scheduling a check for org.apache.hadoop.ozone.container.common.volume.HddsVolume@7a4d582c
2019-09-10 17:53:25,534 [main] INFO  volume.HddsVolumeChecker (HddsVolumeChecker.java:checkAllVolumes(202)) - Scheduled health check for volume org.apache.hadoop.ozone.container.common.volume.HddsVolume@7a4d582c
2019-09-10 17:53:25,561 [main] INFO  impl.RaftServerProxy (ConfUtils.java:logGet(43)) - raft.rpc.type = GRPC (default)
2019-09-10 17:53:25,561 [main] INFO  grpc.GrpcFactory (GrpcFactory.java:checkPooledByteBufAllocatorUseCacheForAllThreads(45)) - PERFORMANCE WARNING: useCacheForAllThreads is true that may cause Netty to create a lot garbage objects and, as a result, trigger GC.
	It is recommended to disable useCacheForAllThreads by setting -Dorg.apache.ratis.thirdparty.io.netty.allocator.useCacheForAllThreads=false in command line.
2019-09-10 17:53:25,561 [main] INFO  grpc.GrpcConfigKeys$Server (ConfUtils.java:logGet(43)) - raft.grpc.server.port = 37239 (custom)
2019-09-10 17:53:25,562 [main] INFO  server.GrpcService (ConfUtils.java:logGet(43)) - raft.grpc.message.size.max = 33570816 (custom)
2019-09-10 17:53:25,562 [main] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.log.appender.buffer.byte-limit = 33554432 (custom)
2019-09-10 17:53:25,562 [main] INFO  server.GrpcService (ConfUtils.java:logGet(43)) - raft.grpc.flow.control.window = 1MB (=1048576) (default)
2019-09-10 17:53:25,562 [main] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.rpc.request.timeout = 3000ms (default)
2019-09-10 17:53:25,563 [main] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.storage.dir = [/workdir/hadoop-ozone/integration-test/target/test-dir/MiniOzoneClusterImpl-d01b3807-3732-4de8-b8ba-bdf98e618289/datanode-0/data/ratis] (custom)
2019-09-10 17:53:25,563 [main] INFO  impl.RaftServerProxy (RaftServerProxy.java:lambda$null$0(191)) - 60b001b3-1662-439d-83b7-d721b00602d4: found a subdirectory /workdir/hadoop-ozone/integration-test/target/test-dir/MiniOzoneClusterImpl-d01b3807-3732-4de8-b8ba-bdf98e618289/datanode-0/data/ratis/e193a3e5-6db1-4394-afc6-91ad81aeea2b
2019-09-10 17:53:25,564 [main] INFO  impl.RaftServerProxy (RaftServerProxy.java:addNew(89)) - 60b001b3-1662-439d-83b7-d721b00602d4: addNew group-91AD81AEEA2B:[] returns group-91AD81AEEA2B:java.util.concurrent.CompletableFuture@5a8c93[Not completed]
2019-09-10 17:53:25,566 [main] INFO  hdfs.DFSUtil (DFSUtil.java:httpServerTemplateForNNAndJN(1641)) - Starting Web-server for hddsDatanode at: http://0.0.0.0:46502
2019-09-10 17:53:25,568 [pool-63-thread-1] INFO  impl.RaftServerImpl (RaftServerImpl.java:<init>(95)) - 60b001b3-1662-439d-83b7-d721b00602d4: new RaftServerImpl for group-91AD81AEEA2B:[] with ContainerStateMachine:uninitialized
2019-09-10 17:53:25,569 [pool-63-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.rpc.timeout.min = 5s (custom)
2019-09-10 17:53:25,569 [pool-63-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.rpc.timeout.max = 5200ms (custom)
2019-09-10 17:53:25,569 [main] INFO  server.AuthenticationFilter (AuthenticationFilter.java:constructSecretProvider(240)) - Unable to initialize FileSignerSecretProvider, falling back to use random secrets.
2019-09-10 17:53:25,569 [pool-63-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.rpcslowness.timeout = 120s (custom)
2019-09-10 17:53:25,569 [pool-63-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.sleep.deviation.threshold = 300 (default)
2019-09-10 17:53:25,569 [pool-63-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.log.appender.install.snapshot.enabled = false (custom)
2019-09-10 17:53:25,570 [pool-63-thread-1] INFO  impl.RaftServerImpl (ServerState.java:<init>(103)) - 60b001b3-1662-439d-83b7-d721b00602d4@group-91AD81AEEA2B: ConfigurationManager, init=-1: [], old=null, confs=<EMPTY_MAP>
2019-09-10 17:53:25,570 [main] WARN  http.HttpRequestLog (HttpRequestLog.java:getRequestLog(97)) - Jetty request log can only be enabled using Log4j
2019-09-10 17:53:25,570 [pool-63-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.storage.dir = [/workdir/hadoop-ozone/integration-test/target/test-dir/MiniOzoneClusterImpl-d01b3807-3732-4de8-b8ba-bdf98e618289/datanode-0/data/ratis] (custom)
2019-09-10 17:53:25,571 [main] INFO  http.HttpServer2 (HttpServer2.java:addGlobalFilter(975)) - Added global filter 'safety' (class=org.apache.hadoop.http.HttpServer2$QuotingInputFilter)
2019-09-10 17:53:25,572 [main] INFO  http.HttpServer2 (HttpServer2.java:addFilter(948)) - Added filter static_user_filter (class=org.apache.hadoop.http.lib.StaticUserWebFilter$StaticUserFilter) to context hddsDatanode
2019-09-10 17:53:25,572 [main] INFO  http.HttpServer2 (HttpServer2.java:addFilter(958)) - Added filter static_user_filter (class=org.apache.hadoop.http.lib.StaticUserWebFilter$StaticUserFilter) to context logs
2019-09-10 17:53:25,572 [main] INFO  http.HttpServer2 (HttpServer2.java:addFilter(958)) - Added filter static_user_filter (class=org.apache.hadoop.http.lib.StaticUserWebFilter$StaticUserFilter) to context static
2019-09-10 17:53:25,573 [main] INFO  http.HttpServer2 (HttpServer2.java:bindListener(1191)) - Jetty bound to port 46502
2019-09-10 17:53:25,573 [main] INFO  server.Server (Server.java:doStart(351)) - jetty-9.3.24.v20180605, build timestamp: 2018-06-05T17:11:56Z, git hash: 84205aa28f11a4f31f2a3b86d1bba2cc8ab69827
2019-09-10 17:53:25,574 [main] INFO  handler.ContextHandler (ContextHandler.java:doStart(781)) - Started o.e.j.s.ServletContextHandler@55651434{/logs,file:///workdir/hadoop-ozone/integration-test/target/log,AVAILABLE}
2019-09-10 17:53:25,575 [main] INFO  handler.ContextHandler (ContextHandler.java:doStart(781)) - Started o.e.j.s.ServletContextHandler@50448409{/static,jar:file:/home/user/.m2/repository/org/apache/hadoop/hadoop-hdds-container-service/0.5.0-SNAPSHOT/hadoop-hdds-container-service-0.5.0-SNAPSHOT.jar!/webapps/static,AVAILABLE}
2019-09-10 17:53:25,583 [pool-63-thread-1] INFO  storage.RaftStorageDirectory (RaftStorageDirectory.java:tryLock(328)) - Lock on /workdir/hadoop-ozone/integration-test/target/test-dir/MiniOzoneClusterImpl-d01b3807-3732-4de8-b8ba-bdf98e618289/datanode-0/data/ratis/e193a3e5-6db1-4394-afc6-91ad81aeea2b/in_use.lock acquired by nodename 23020@pr-hdds-1786-trunk-k6rzm-1803654198
2019-09-10 17:53:25,584 [pool-63-thread-1] INFO  ratis.ContainerStateMachine (ContainerStateMachine.java:loadSnapshot(239)) - group-91AD81AEEA2B: Setting the last applied index to (t:1, i:4)
2019-09-10 17:53:25,585 [pool-63-thread-1] INFO  impl.RaftServerImpl (ServerState.java:setRaftConf(354)) - 60b001b3-1662-439d-83b7-d721b00602d4@group-91AD81AEEA2B: set configuration 0: [60b001b3-1662-439d-83b7-d721b00602d4:192.168.5.139:37239], old=null at 0
2019-09-10 17:53:25,585 [pool-63-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.notification.no-leader.timeout = 120s (custom)
2019-09-10 17:53:25,585 [pool-63-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.log.use.memory = false (default)
2019-09-10 17:53:25,585 [pool-63-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.log.purge.gap = 1000000 (custom)
2019-09-10 17:53:25,585 [pool-63-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.log.appender.buffer.byte-limit = 33554432 (custom)
2019-09-10 17:53:25,585 [pool-63-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.log.segment.size.max = 1048576 (custom)
2019-09-10 17:53:25,585 [pool-63-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.log.segment.cache.num.max = 2 (custom)
2019-09-10 17:53:25,585 [pool-63-thread-1] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:<init>(172)) - new 60b001b3-1662-439d-83b7-d721b00602d4@group-91AD81AEEA2B-SegmentedRaftLogWorker for RaftStorage:Storage Directory /workdir/hadoop-ozone/integration-test/target/test-dir/MiniOzoneClusterImpl-d01b3807-3732-4de8-b8ba-bdf98e618289/datanode-0/data/ratis/e193a3e5-6db1-4394-afc6-91ad81aeea2b
2019-09-10 17:53:25,586 [pool-63-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.log.queue.byte-limit = 2147483647 (custom)
2019-09-10 17:53:25,586 [pool-63-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.log.queue.element-limit = 1024 (custom)
2019-09-10 17:53:25,586 [pool-63-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.log.segment.size.max = 1048576 (custom)
2019-09-10 17:53:25,586 [pool-63-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.log.preallocated.size = 16384 (custom)
2019-09-10 17:53:25,586 [pool-63-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.log.write.buffer.size = 33554432 (custom)
2019-09-10 17:53:25,586 [pool-63-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.log.force.sync.num = 128 (default)
2019-09-10 17:53:25,586 [pool-63-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.log.statemachine.data.sync = true (default)
2019-09-10 17:53:25,586 [pool-63-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.log.statemachine.data.sync.timeout = 10s (default)
2019-09-10 17:53:25,587 [pool-63-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.log.statemachine.data.sync.timeout.retry = -1 (default)
2019-09-10 17:53:25,587 [pool-63-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.log.statemachine.data.caching.enabled = true (custom)
2019-09-10 17:53:25,587 [pool-63-thread-1] INFO  impl.RaftServerImpl (ServerState.java:setRaftConf(354)) - 60b001b3-1662-439d-83b7-d721b00602d4@group-91AD81AEEA2B: set configuration 0: [60b001b3-1662-439d-83b7-d721b00602d4:192.168.5.139:37239], old=null at 0
2019-09-10 17:53:25,588 [pool-63-thread-1] INFO  segmented.LogSegment (LogSegment.java:loadSegment(123)) - Successfully read 5 entries from segment file /workdir/hadoop-ozone/integration-test/target/test-dir/MiniOzoneClusterImpl-d01b3807-3732-4de8-b8ba-bdf98e618289/datanode-0/data/ratis/e193a3e5-6db1-4394-afc6-91ad81aeea2b/current/log_inprogress_0
2019-09-10 17:53:25,588 [pool-63-thread-1] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:lambda$new$0(132)) - 60b001b3-1662-439d-83b7-d721b00602d4@group-91AD81AEEA2B-SegmentedRaftLogWorker: flushIndex: setUnconditionally 0 -> 4
2019-09-10 17:53:25,602 [main] INFO  handler.ContextHandler (ContextHandler.java:doStart(781)) - Started o.e.j.w.WebAppContext@157ec23b{/,file:///tmp/jetty-0.0.0.0-46502-hddsDatanode-_-any-1742806299973192017.dir/webapp/,AVAILABLE}{/hddsDatanode}
2019-09-10 17:53:25,602 [main] INFO  server.AbstractConnector (AbstractConnector.java:doStart(278)) - Started ServerConnector@44d64d4e{HTTP/1.1,[http/1.1]}{0.0.0.0:46502}
2019-09-10 17:53:25,611 [pool-63-thread-1] INFO  raftlog.RaftLog (RaftLog.java:lambda$new$0(61)) - 60b001b3-1662-439d-83b7-d721b00602d4@group-91AD81AEEA2B-SegmentedRaftLog: commitIndex: updateToMax old=4, new=3, updated? false
2019-09-10 17:53:25,612 [main] INFO  server.Server (Server.java:doStart(419)) - Started @75947ms
2019-09-10 17:53:25,612 [main] WARN  impl.MetricsSystemImpl (MetricsSystemImpl.java:register(276)) - Sink prometheus already exists!
2019-09-10 17:53:25,613 [pool-63-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.snapshot.auto.trigger.enabled = true (custom)
2019-09-10 17:53:25,613 [pool-63-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.snapshot.auto.trigger.threshold = 1 (custom)
2019-09-10 17:53:25,613 [pool-63-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.snapshot.retention.num.files = 5 (custom)
2019-09-10 17:53:25,613 [pool-63-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.retrycache.expirytime = 600000ms (custom)
2019-09-10 17:53:25,613 [main] INFO  server.BaseHttpServer (BaseHttpServer.java:updateConnectorAddress(215)) - HTTP server of HDDSDATANODE is listening at http://0.0.0.0:46502
2019-09-10 17:53:25,613 [main] INFO  ozone.MiniOzoneClusterImpl (MiniOzoneClusterImpl.java:lambda$waitForClusterToBeReady$0(140)) - Waiting for cluster to be ready. Got 0 of 1 DN Heartbeats.
2019-09-10 17:53:25,614 [org.apache.hadoop.util.JvmPauseMonitor$Monitor@718705b1] INFO  util.JvmPauseMonitor (JvmPauseMonitor.java:run(188)) - Starting JVM pause monitor
2019-09-10 17:53:26,614 [main] INFO  ozone.MiniOzoneClusterImpl (MiniOzoneClusterImpl.java:lambda$waitForClusterToBeReady$0(140)) - Waiting for cluster to be ready. Got 0 of 1 DN Heartbeats.
2019-09-10 17:53:27,614 [main] INFO  ozone.MiniOzoneClusterImpl (MiniOzoneClusterImpl.java:lambda$waitForClusterToBeReady$0(140)) - Waiting for cluster to be ready. Got 0 of 1 DN Heartbeats.
2019-09-10 17:53:27,618 [Datanode State Machine Thread - 0] INFO  ozoneimpl.OzoneContainer (OzoneContainer.java:start(217)) - Attempting to start container services.
2019-09-10 17:53:27,618 [Datanode State Machine Thread - 0] INFO  ozoneimpl.OzoneContainer (OzoneContainer.java:startContainerScrub(179)) - Background container scanner has been disabled.
2019-09-10 17:53:27,619 [Datanode State Machine Thread - 0] INFO  ratis.XceiverServerRatis (XceiverServerRatis.java:start(411)) - Starting XceiverServerRatis 60b001b3-1662-439d-83b7-d721b00602d4 at port 37239
2019-09-10 17:53:27,631 [Datanode State Machine Thread - 0] INFO  impl.RaftServerImpl (RaftServerImpl.java:start(185)) - 60b001b3-1662-439d-83b7-d721b00602d4@group-91AD81AEEA2B: start as a follower, conf=0: [60b001b3-1662-439d-83b7-d721b00602d4:192.168.5.139:37239], old=null
2019-09-10 17:53:27,631 [Datanode State Machine Thread - 0] INFO  impl.RaftServerImpl (RaftServerImpl.java:setRole(174)) - 60b001b3-1662-439d-83b7-d721b00602d4@group-91AD81AEEA2B: changes role from      null to FOLLOWER at term 1 for startAsFollower
2019-09-10 17:53:27,631 [Datanode State Machine Thread - 0] INFO  impl.RoleInfo (RoleInfo.java:updateAndGet(143)) - 60b001b3-1662-439d-83b7-d721b00602d4: start FollowerState
2019-09-10 17:53:27,632 [Datanode State Machine Thread - 0] INFO  util.JmxRegister (JmxRegister.java:tryRegister(44)) - Successfully registered JMX Bean with object name Ratis:service=RaftServer,group=group-91AD81AEEA2B,id=60b001b3-1662-439d-83b7-d721b00602d4
2019-09-10 17:53:27,633 [Datanode State Machine Thread - 0] INFO  impl.RaftServerProxy (RaftServerProxy.java:lambda$start$3(299)) - 60b001b3-1662-439d-83b7-d721b00602d4: start RPC server
2019-09-10 17:53:27,636 [Datanode State Machine Thread - 0] INFO  server.GrpcService (GrpcService.java:startImpl(158)) - 60b001b3-1662-439d-83b7-d721b00602d4: GrpcService started, listening on 0.0.0.0/0.0.0.0:37239
2019-09-10 17:53:28,615 [main] INFO  ozone.MiniOzoneClusterImpl (MiniOzoneClusterImpl.java:lambda$waitForClusterToBeReady$0(140)) - Waiting for cluster to be ready. Got 0 of 1 DN Heartbeats.
2019-09-10 17:53:29,616 [main] INFO  ozone.MiniOzoneClusterImpl (MiniOzoneClusterImpl.java:lambda$waitForClusterToBeReady$0(140)) - Waiting for cluster to be ready. Got 0 of 1 DN Heartbeats.
2019-09-10 17:53:30,617 [main] INFO  ozone.MiniOzoneClusterImpl (MiniOzoneClusterImpl.java:lambda$waitForClusterToBeReady$0(140)) - Waiting for cluster to be ready. Got 0 of 1 DN Heartbeats.
2019-09-10 17:53:31,618 [main] INFO  ozone.MiniOzoneClusterImpl (MiniOzoneClusterImpl.java:lambda$waitForClusterToBeReady$0(140)) - Waiting for cluster to be ready. Got 0 of 1 DN Heartbeats.
2019-09-10 17:53:31,726 [grpc-default-executor-2] INFO  impl.RaftServerProxy (RaftServerProxy.java:addNew(89)) - 60b001b3-1662-439d-83b7-d721b00602d4: addNew group-4C85F019D845:[60b001b3-1662-439d-83b7-d721b00602d4:192.168.5.139:37239] returns group-4C85F019D845:java.util.concurrent.CompletableFuture@3bedd737[Not completed]
2019-09-10 17:53:31,731 [pool-63-thread-1] INFO  impl.RaftServerImpl (RaftServerImpl.java:<init>(95)) - 60b001b3-1662-439d-83b7-d721b00602d4: new RaftServerImpl for group-4C85F019D845:[60b001b3-1662-439d-83b7-d721b00602d4:192.168.5.139:37239] with ContainerStateMachine:uninitialized
2019-09-10 17:53:31,732 [pool-63-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.rpc.timeout.min = 5s (custom)
2019-09-10 17:53:31,732 [pool-63-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.rpc.timeout.max = 5200ms (custom)
2019-09-10 17:53:31,732 [pool-63-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.rpcslowness.timeout = 120s (custom)
2019-09-10 17:53:31,733 [pool-63-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.sleep.deviation.threshold = 300 (default)
2019-09-10 17:53:31,733 [pool-63-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.log.appender.install.snapshot.enabled = false (custom)
2019-09-10 17:53:31,733 [pool-63-thread-1] INFO  impl.RaftServerImpl (ServerState.java:<init>(103)) - 60b001b3-1662-439d-83b7-d721b00602d4@group-4C85F019D845: ConfigurationManager, init=-1: [60b001b3-1662-439d-83b7-d721b00602d4:192.168.5.139:37239], old=null, confs=<EMPTY_MAP>
2019-09-10 17:53:31,733 [pool-63-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.storage.dir = [/workdir/hadoop-ozone/integration-test/target/test-dir/MiniOzoneClusterImpl-d01b3807-3732-4de8-b8ba-bdf98e618289/datanode-0/data/ratis] (custom)
2019-09-10 17:53:31,734 [pool-63-thread-1] INFO  storage.RaftStorageDirectory (RaftStorageDirectory.java:analyzeStorage(246)) - The storage directory /workdir/hadoop-ozone/integration-test/target/test-dir/MiniOzoneClusterImpl-d01b3807-3732-4de8-b8ba-bdf98e618289/datanode-0/data/ratis/7047f3ac-dbce-4309-a712-4c85f019d845 does not exist. Creating ...
2019-09-10 17:53:31,758 [pool-63-thread-1] INFO  storage.RaftStorageDirectory (RaftStorageDirectory.java:tryLock(328)) - Lock on /workdir/hadoop-ozone/integration-test/target/test-dir/MiniOzoneClusterImpl-d01b3807-3732-4de8-b8ba-bdf98e618289/datanode-0/data/ratis/7047f3ac-dbce-4309-a712-4c85f019d845/in_use.lock acquired by nodename 23020@pr-hdds-1786-trunk-k6rzm-1803654198
2019-09-10 17:53:31,781 [pool-63-thread-1] INFO  storage.RaftStorage (RaftStorage.java:format(72)) - Storage directory /workdir/hadoop-ozone/integration-test/target/test-dir/MiniOzoneClusterImpl-d01b3807-3732-4de8-b8ba-bdf98e618289/datanode-0/data/ratis/7047f3ac-dbce-4309-a712-4c85f019d845 has been successfully formatted.
2019-09-10 17:53:31,781 [pool-63-thread-1] INFO  ratis.ContainerStateMachine (ContainerStateMachine.java:loadSnapshot(230)) - group-4C85F019D845: The snapshot info is null. Setting the last applied indexto:(t:0, i:~)
2019-09-10 17:53:31,782 [pool-63-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.notification.no-leader.timeout = 120s (custom)
2019-09-10 17:53:31,782 [pool-63-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.log.use.memory = false (default)
2019-09-10 17:53:31,782 [pool-63-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.log.purge.gap = 1000000 (custom)
2019-09-10 17:53:31,782 [pool-63-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.log.appender.buffer.byte-limit = 33554432 (custom)
2019-09-10 17:53:31,782 [pool-63-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.log.segment.size.max = 1048576 (custom)
2019-09-10 17:53:31,783 [pool-63-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.log.segment.cache.num.max = 2 (custom)
2019-09-10 17:53:31,783 [pool-63-thread-1] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:<init>(172)) - new 60b001b3-1662-439d-83b7-d721b00602d4@group-4C85F019D845-SegmentedRaftLogWorker for RaftStorage:Storage Directory /workdir/hadoop-ozone/integration-test/target/test-dir/MiniOzoneClusterImpl-d01b3807-3732-4de8-b8ba-bdf98e618289/datanode-0/data/ratis/7047f3ac-dbce-4309-a712-4c85f019d845
2019-09-10 17:53:31,783 [pool-63-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.log.queue.byte-limit = 2147483647 (custom)
2019-09-10 17:53:31,783 [pool-63-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.log.queue.element-limit = 1024 (custom)
2019-09-10 17:53:31,783 [pool-63-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.log.segment.size.max = 1048576 (custom)
2019-09-10 17:53:31,784 [pool-63-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.log.preallocated.size = 16384 (custom)
2019-09-10 17:53:31,784 [pool-63-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.log.write.buffer.size = 33554432 (custom)
2019-09-10 17:53:31,784 [pool-63-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.log.force.sync.num = 128 (default)
2019-09-10 17:53:31,784 [pool-63-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.log.statemachine.data.sync = true (default)
2019-09-10 17:53:31,784 [pool-63-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.log.statemachine.data.sync.timeout = 10s (default)
2019-09-10 17:53:31,784 [pool-63-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.log.statemachine.data.sync.timeout.retry = -1 (default)
2019-09-10 17:53:31,785 [pool-63-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.log.statemachine.data.caching.enabled = true (custom)
2019-09-10 17:53:31,785 [pool-63-thread-1] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:lambda$new$0(132)) - 60b001b3-1662-439d-83b7-d721b00602d4@group-4C85F019D845-SegmentedRaftLogWorker: flushIndex: setUnconditionally 0 -> -1
2019-09-10 17:53:31,786 [pool-63-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.snapshot.auto.trigger.enabled = true (custom)
2019-09-10 17:53:31,786 [pool-63-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.snapshot.auto.trigger.threshold = 1 (custom)
2019-09-10 17:53:31,786 [pool-63-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.snapshot.retention.num.files = 5 (custom)
2019-09-10 17:53:31,786 [pool-63-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.retrycache.expirytime = 600000ms (custom)
2019-09-10 17:53:31,791 [pool-63-thread-1] INFO  impl.RaftServerImpl (RaftServerImpl.java:start(185)) - 60b001b3-1662-439d-83b7-d721b00602d4@group-4C85F019D845: start as a follower, conf=-1: [60b001b3-1662-439d-83b7-d721b00602d4:192.168.5.139:37239], old=null
2019-09-10 17:53:31,791 [pool-63-thread-1] INFO  impl.RaftServerImpl (RaftServerImpl.java:setRole(174)) - 60b001b3-1662-439d-83b7-d721b00602d4@group-4C85F019D845: changes role from      null to FOLLOWER at term 0 for startAsFollower
2019-09-10 17:53:31,791 [pool-63-thread-1] INFO  impl.RoleInfo (RoleInfo.java:updateAndGet(143)) - 60b001b3-1662-439d-83b7-d721b00602d4: start FollowerState
2019-09-10 17:53:31,792 [pool-63-thread-1] INFO  util.JmxRegister (JmxRegister.java:tryRegister(44)) - Successfully registered JMX Bean with object name Ratis:service=RaftServer,group=group-4C85F019D845,id=60b001b3-1662-439d-83b7-d721b00602d4
2019-09-10 17:53:31,802 [RatisPipelineUtilsThread] INFO  pipeline.PipelineStateManager (PipelineStateManager.java:addPipeline(56)) - Created pipeline Pipeline[ Id: 7047f3ac-dbce-4309-a712-4c85f019d845, Nodes: 60b001b3-1662-439d-83b7-d721b00602d4{ip: 192.168.5.139, host: pr-hdds-1786-trunk-k6rzm-1803654198, networkLocation: /default-rack, certSerialId: null}, Type:RATIS, Factor:ONE, State:OPEN]
2019-09-10 17:53:32,618 [main] INFO  ozone.MiniOzoneClusterImpl (MiniOzoneClusterImpl.java:lambda$waitForClusterToBeReady$0(140)) - Cluster is ready. Got 1 of 1 DN Heartbeats.
2019-09-10 17:53:32,671 [grpc-default-executor-2] INFO  client.GrpcClientProtocolClient (GrpcClientProtocolClient.java:onNext(264)) - client-851CEC263E75->60b001b3-1662-439d-83b7-d721b00602d4: receive RaftClientReply:client-851CEC263E75->60b001b3-1662-439d-83b7-d721b00602d4@group-4C85F019D845, cid=20, FAILED org.apache.ratis.protocol.NotLeaderException: Server 60b001b3-1662-439d-83b7-d721b00602d4@group-4C85F019D845 is not the leader, logIndex=0, commits[60b001b3-1662-439d-83b7-d721b00602d4:c-1]
2019-09-10 17:53:32,751 [Thread-284] INFO  impl.FollowerState (FollowerState.java:run(106)) - 60b001b3-1662-439d-83b7-d721b00602d4:group-91AD81AEEA2B changes to CANDIDATE, lastRpcTime:5119, electionTimeout:5119ms
2019-09-10 17:53:32,751 [Thread-284] INFO  impl.RoleInfo (RoleInfo.java:shutdownFollowerState(121)) - 60b001b3-1662-439d-83b7-d721b00602d4: shutdown FollowerState
2019-09-10 17:53:32,751 [Thread-284] INFO  impl.RaftServerImpl (RaftServerImpl.java:setRole(174)) - 60b001b3-1662-439d-83b7-d721b00602d4@group-91AD81AEEA2B: changes role from  FOLLOWER to CANDIDATE at term 1 for changeToCandidate
2019-09-10 17:53:32,751 [Thread-284] INFO  impl.RoleInfo (RoleInfo.java:updateAndGet(143)) - 60b001b3-1662-439d-83b7-d721b00602d4: start LeaderElection
2019-09-10 17:53:32,780 [60b001b3-1662-439d-83b7-d721b00602d4@group-91AD81AEEA2B:LeaderElection7] INFO  impl.LeaderElection (LeaderElection.java:askForVotes(182)) - 60b001b3-1662-439d-83b7-d721b00602d4@group-91AD81AEEA2B:LeaderElection7: begin an election at term 2 for 0: [60b001b3-1662-439d-83b7-d721b00602d4:192.168.5.139:37239], old=null
2019-09-10 17:53:32,781 [60b001b3-1662-439d-83b7-d721b00602d4@group-91AD81AEEA2B:LeaderElection7] INFO  impl.RoleInfo (RoleInfo.java:shutdownLeaderElection(134)) - 60b001b3-1662-439d-83b7-d721b00602d4: shutdown LeaderElection
2019-09-10 17:53:32,781 [60b001b3-1662-439d-83b7-d721b00602d4@group-91AD81AEEA2B:LeaderElection7] INFO  impl.RaftServerImpl (RaftServerImpl.java:setRole(174)) - 60b001b3-1662-439d-83b7-d721b00602d4@group-91AD81AEEA2B: changes role from CANDIDATE to LEADER at term 2 for changeToLeader
2019-09-10 17:53:32,781 [60b001b3-1662-439d-83b7-d721b00602d4@group-91AD81AEEA2B:LeaderElection7] INFO  impl.RaftServerImpl (ServerState.java:setLeader(253)) - 60b001b3-1662-439d-83b7-d721b00602d4@group-91AD81AEEA2B: change Leader from null to 60b001b3-1662-439d-83b7-d721b00602d4 at term 2 for becomeLeader, leader elected after 7196ms
2019-09-10 17:53:32,782 [60b001b3-1662-439d-83b7-d721b00602d4@group-91AD81AEEA2B:LeaderElection7] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.staging.catchup.gap = 1000 (default)
2019-09-10 17:53:32,782 [60b001b3-1662-439d-83b7-d721b00602d4@group-91AD81AEEA2B:LeaderElection7] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.rpc.sleep.time = 25ms (default)
2019-09-10 17:53:32,782 [60b001b3-1662-439d-83b7-d721b00602d4@group-91AD81AEEA2B:LeaderElection7] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.write.element-limit = 4096 (default)
2019-09-10 17:53:32,782 [60b001b3-1662-439d-83b7-d721b00602d4@group-91AD81AEEA2B:LeaderElection7] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.watch.timeout = 10s (default)
2019-09-10 17:53:32,783 [60b001b3-1662-439d-83b7-d721b00602d4@group-91AD81AEEA2B:LeaderElection7] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.watch.timeout.denomination = 1s (default)
2019-09-10 17:53:32,783 [60b001b3-1662-439d-83b7-d721b00602d4@group-91AD81AEEA2B:LeaderElection7] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.watch.element-limit = 65536 (default)
2019-09-10 17:53:32,783 [60b001b3-1662-439d-83b7-d721b00602d4@group-91AD81AEEA2B:LeaderElection7] INFO  impl.RoleInfo (RoleInfo.java:updateAndGet(143)) - 60b001b3-1662-439d-83b7-d721b00602d4: start LeaderState
2019-09-10 17:53:32,784 [60b001b3-1662-439d-83b7-d721b00602d4@group-91AD81AEEA2B:LeaderElection7] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:rollLogSegment(385)) - 60b001b3-1662-439d-83b7-d721b00602d4@group-91AD81AEEA2B-SegmentedRaftLogWorker: Rolling segment log-0_4 to index:4
2019-09-10 17:53:32,785 [60b001b3-1662-439d-83b7-d721b00602d4@group-91AD81AEEA2B:LeaderElection7] INFO  impl.RaftServerImpl (ServerState.java:setRaftConf(354)) - 60b001b3-1662-439d-83b7-d721b00602d4@group-91AD81AEEA2B: set configuration 5: [60b001b3-1662-439d-83b7-d721b00602d4:192.168.5.139:37239], old=null at 5
2019-09-10 17:53:32,785 [60b001b3-1662-439d-83b7-d721b00602d4@group-91AD81AEEA2B-SegmentedRaftLogWorker] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:execute(526)) - 60b001b3-1662-439d-83b7-d721b00602d4@group-91AD81AEEA2B-SegmentedRaftLogWorker: Rolled log segment from /workdir/hadoop-ozone/integration-test/target/test-dir/MiniOzoneClusterImpl-d01b3807-3732-4de8-b8ba-bdf98e618289/datanode-0/data/ratis/e193a3e5-6db1-4394-afc6-91ad81aeea2b/current/log_inprogress_0 to /workdir/hadoop-ozone/integration-test/target/test-dir/MiniOzoneClusterImpl-d01b3807-3732-4de8-b8ba-bdf98e618289/datanode-0/data/ratis/e193a3e5-6db1-4394-afc6-91ad81aeea2b/current/log_0-4
2019-09-10 17:53:32,840 [60b001b3-1662-439d-83b7-d721b00602d4@group-91AD81AEEA2B-SegmentedRaftLogWorker] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:execute(569)) - 60b001b3-1662-439d-83b7-d721b00602d4@group-91AD81AEEA2B-SegmentedRaftLogWorker: created new log segment /workdir/hadoop-ozone/integration-test/target/test-dir/MiniOzoneClusterImpl-d01b3807-3732-4de8-b8ba-bdf98e618289/datanode-0/data/ratis/e193a3e5-6db1-4394-afc6-91ad81aeea2b/current/log_inprogress_5
2019-09-10 17:53:32,848 [60b001b3-1662-439d-83b7-d721b00602d4@group-91AD81AEEA2B-StateMachineUpdater] INFO  ratis.ContainerStateMachine (ContainerStateMachine.java:takeSnapshot(289)) - group-91AD81AEEA2B: Taking a snapshot at:(t:1, i:4) file /workdir/hadoop-ozone/integration-test/target/test-dir/MiniOzoneClusterImpl-d01b3807-3732-4de8-b8ba-bdf98e618289/datanode-0/data/ratis/e193a3e5-6db1-4394-afc6-91ad81aeea2b/sm/snapshot.1_4
2019-09-10 17:53:32,866 [60b001b3-1662-439d-83b7-d721b00602d4@group-91AD81AEEA2B-StateMachineUpdater] INFO  ratis.ContainerStateMachine (ContainerStateMachine.java:takeSnapshot(300)) - group-91AD81AEEA2B: Finished taking a snapshot at:(t:1, i:4) file:/workdir/hadoop-ozone/integration-test/target/test-dir/MiniOzoneClusterImpl-d01b3807-3732-4de8-b8ba-bdf98e618289/datanode-0/data/ratis/e193a3e5-6db1-4394-afc6-91ad81aeea2b/sm/snapshot.1_4 time:18
2019-09-10 17:53:32,866 [60b001b3-1662-439d-83b7-d721b00602d4@group-91AD81AEEA2B-StateMachineUpdater] INFO  impl.StateMachineUpdater (StateMachineUpdater.java:takeSnapshot(258)) - 60b001b3-1662-439d-83b7-d721b00602d4@group-91AD81AEEA2B-StateMachineUpdater: Took a snapshot at index 4
2019-09-10 17:53:32,866 [60b001b3-1662-439d-83b7-d721b00602d4@group-91AD81AEEA2B-StateMachineUpdater] INFO  impl.StateMachineUpdater (StateMachineUpdater.java:lambda$new$0(83)) - 60b001b3-1662-439d-83b7-d721b00602d4@group-91AD81AEEA2B-StateMachineUpdater: snapshotIndex: updateIncreasingly 4 -> 4
2019-09-10 17:53:32,866 [60b001b3-1662-439d-83b7-d721b00602d4@group-91AD81AEEA2B-StateMachineUpdater] INFO  ratis.ContainerStateMachine (ContainerStateMachine.java:takeSnapshot(289)) - group-91AD81AEEA2B: Taking a snapshot at:(t:1, i:4) file /workdir/hadoop-ozone/integration-test/target/test-dir/MiniOzoneClusterImpl-d01b3807-3732-4de8-b8ba-bdf98e618289/datanode-0/data/ratis/e193a3e5-6db1-4394-afc6-91ad81aeea2b/sm/snapshot.1_4
2019-09-10 17:53:32,883 [60b001b3-1662-439d-83b7-d721b00602d4@group-91AD81AEEA2B-StateMachineUpdater] INFO  ratis.ContainerStateMachine (ContainerStateMachine.java:takeSnapshot(300)) - group-91AD81AEEA2B: Finished taking a snapshot at:(t:1, i:4) file:/workdir/hadoop-ozone/integration-test/target/test-dir/MiniOzoneClusterImpl-d01b3807-3732-4de8-b8ba-bdf98e618289/datanode-0/data/ratis/e193a3e5-6db1-4394-afc6-91ad81aeea2b/sm/snapshot.1_4 time:16
2019-09-10 17:53:32,883 [60b001b3-1662-439d-83b7-d721b00602d4@group-91AD81AEEA2B-StateMachineUpdater] INFO  impl.StateMachineUpdater (StateMachineUpdater.java:takeSnapshot(258)) - 60b001b3-1662-439d-83b7-d721b00602d4@group-91AD81AEEA2B-StateMachineUpdater: Took a snapshot at index 4
2019-09-10 17:53:32,883 [60b001b3-1662-439d-83b7-d721b00602d4@group-91AD81AEEA2B-StateMachineUpdater] INFO  impl.StateMachineUpdater (StateMachineUpdater.java:lambda$new$0(83)) - 60b001b3-1662-439d-83b7-d721b00602d4@group-91AD81AEEA2B-StateMachineUpdater: snapshotIndex: updateIncreasingly 4 -> 4
2019-09-10 17:53:33,397 [grpc-default-executor-2] INFO  impl.RaftServerProxy (RaftServerProxy.java:remove(95)) - 60b001b3-1662-439d-83b7-d721b00602d4: remove    LEADER 60b001b3-1662-439d-83b7-d721b00602d4@group-91AD81AEEA2B:t2, leader=60b001b3-1662-439d-83b7-d721b00602d4, voted=60b001b3-1662-439d-83b7-d721b00602d4, raftlog=60b001b3-1662-439d-83b7-d721b00602d4@group-91AD81AEEA2B-SegmentedRaftLog:OPENED:c6,f6,i6, conf=5: [60b001b3-1662-439d-83b7-d721b00602d4:192.168.5.139:37239], old=null RUNNING
2019-09-10 17:53:33,398 [grpc-default-executor-2] INFO  impl.RaftServerImpl (RaftServerImpl.java:lambda$shutdown$3(251)) - 60b001b3-1662-439d-83b7-d721b00602d4@group-91AD81AEEA2B: shutdown
2019-09-10 17:53:33,398 [grpc-default-executor-2] INFO  util.JmxRegister (JmxRegister.java:unregister(73)) - Successfully un-registered JMX Bean with object name Ratis:service=RaftServer,group=group-91AD81AEEA2B,id=60b001b3-1662-439d-83b7-d721b00602d4
2019-09-10 17:53:33,398 [grpc-default-executor-2] INFO  impl.RoleInfo (RoleInfo.java:shutdownLeaderState(104)) - 60b001b3-1662-439d-83b7-d721b00602d4: shutdown LeaderState
2019-09-10 17:53:33,398 [grpc-default-executor-2] INFO  impl.PendingRequests (PendingRequests.java:sendNotLeaderResponses(202)) - 60b001b3-1662-439d-83b7-d721b00602d4-PendingRequests: sendNotLeaderResponses
2019-09-10 17:53:33,400 [grpc-default-executor-2] INFO  impl.StateMachineUpdater (StateMachineUpdater.java:stopAndJoin(125)) - 60b001b3-1662-439d-83b7-d721b00602d4@group-91AD81AEEA2B-StateMachineUpdater: set stopIndex = 6
2019-09-10 17:53:33,400 [60b001b3-1662-439d-83b7-d721b00602d4@group-91AD81AEEA2B-StateMachineUpdater] INFO  ratis.ContainerStateMachine (ContainerStateMachine.java:takeSnapshot(289)) - group-91AD81AEEA2B: Taking a snapshot at:(t:1, i:4) file /workdir/hadoop-ozone/integration-test/target/test-dir/MiniOzoneClusterImpl-d01b3807-3732-4de8-b8ba-bdf98e618289/datanode-0/data/ratis/e193a3e5-6db1-4394-afc6-91ad81aeea2b/sm/snapshot.1_4
2019-09-10 17:53:33,416 [60b001b3-1662-439d-83b7-d721b00602d4@group-91AD81AEEA2B-StateMachineUpdater] INFO  ratis.ContainerStateMachine (ContainerStateMachine.java:takeSnapshot(300)) - group-91AD81AEEA2B: Finished taking a snapshot at:(t:1, i:4) file:/workdir/hadoop-ozone/integration-test/target/test-dir/MiniOzoneClusterImpl-d01b3807-3732-4de8-b8ba-bdf98e618289/datanode-0/data/ratis/e193a3e5-6db1-4394-afc6-91ad81aeea2b/sm/snapshot.1_4 time:16
2019-09-10 17:53:33,416 [60b001b3-1662-439d-83b7-d721b00602d4@group-91AD81AEEA2B-StateMachineUpdater] INFO  impl.StateMachineUpdater (StateMachineUpdater.java:takeSnapshot(258)) - 60b001b3-1662-439d-83b7-d721b00602d4@group-91AD81AEEA2B-StateMachineUpdater: Took a snapshot at index 4
2019-09-10 17:53:33,416 [60b001b3-1662-439d-83b7-d721b00602d4@group-91AD81AEEA2B-StateMachineUpdater] INFO  impl.StateMachineUpdater (StateMachineUpdater.java:lambda$new$0(83)) - 60b001b3-1662-439d-83b7-d721b00602d4@group-91AD81AEEA2B-StateMachineUpdater: snapshotIndex: updateIncreasingly 4 -> 4
2019-09-10 17:53:33,417 [60b001b3-1662-439d-83b7-d721b00602d4@group-91AD81AEEA2B-StateMachineUpdater] INFO  ratis.ContainerStateMachine (ContainerStateMachine.java:takeSnapshot(289)) - group-91AD81AEEA2B: Taking a snapshot at:(t:1, i:4) file /workdir/hadoop-ozone/integration-test/target/test-dir/MiniOzoneClusterImpl-d01b3807-3732-4de8-b8ba-bdf98e618289/datanode-0/data/ratis/e193a3e5-6db1-4394-afc6-91ad81aeea2b/sm/snapshot.1_4
2019-09-10 17:53:33,433 [60b001b3-1662-439d-83b7-d721b00602d4@group-91AD81AEEA2B-StateMachineUpdater] INFO  ratis.ContainerStateMachine (ContainerStateMachine.java:takeSnapshot(300)) - group-91AD81AEEA2B: Finished taking a snapshot at:(t:1, i:4) file:/workdir/hadoop-ozone/integration-test/target/test-dir/MiniOzoneClusterImpl-d01b3807-3732-4de8-b8ba-bdf98e618289/datanode-0/data/ratis/e193a3e5-6db1-4394-afc6-91ad81aeea2b/sm/snapshot.1_4 time:17
2019-09-10 17:53:33,433 [60b001b3-1662-439d-83b7-d721b00602d4@group-91AD81AEEA2B-StateMachineUpdater] INFO  impl.StateMachineUpdater (StateMachineUpdater.java:takeSnapshot(258)) - 60b001b3-1662-439d-83b7-d721b00602d4@group-91AD81AEEA2B-StateMachineUpdater: Took a snapshot at index 4
2019-09-10 17:53:33,433 [60b001b3-1662-439d-83b7-d721b00602d4@group-91AD81AEEA2B-StateMachineUpdater] INFO  impl.StateMachineUpdater (StateMachineUpdater.java:lambda$new$0(83)) - 60b001b3-1662-439d-83b7-d721b00602d4@group-91AD81AEEA2B-StateMachineUpdater: snapshotIndex: updateIncreasingly 4 -> 4
2019-09-10 17:53:33,433 [grpc-default-executor-2] INFO  impl.RaftServerImpl (ServerState.java:close(385)) - 60b001b3-1662-439d-83b7-d721b00602d4@group-91AD81AEEA2B: closes. applyIndex: 6
2019-09-10 17:53:33,434 [60b001b3-1662-439d-83b7-d721b00602d4@group-91AD81AEEA2B-SegmentedRaftLogWorker] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:run(313)) - 60b001b3-1662-439d-83b7-d721b00602d4@group-91AD81AEEA2B-SegmentedRaftLogWorker was interrupted, exiting. There are 0 tasks remaining in the queue.
2019-09-10 17:53:33,435 [grpc-default-executor-2] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:close(228)) - 60b001b3-1662-439d-83b7-d721b00602d4@group-91AD81AEEA2B-SegmentedRaftLogWorker close()
2019-09-10 17:53:33,450 [grpc-default-executor-2] INFO  interfaces.Container (KeyValueContainer.java:flushAndSyncDB(386)) - Container 4 is synced with bcsId 3.
2019-09-10 17:53:33,450 [grpc-default-executor-2] INFO  interfaces.Container (KeyValueContainer.java:flushAndSyncDB(386)) - Container 4 is synced with bcsId 3.
2019-09-10 17:53:33,470 [EventQueue-IncrementalContainerReportForIncrementalContainerReportHandler] INFO  container.IncrementalContainerReportHandler (AbstractContainerReportHandler.java:updateContainerState(169)) - Moving container #4 to QUASI_CLOSED state, datanode 60b001b3-1662-439d-83b7-d721b00602d4{ip: 192.168.5.139, host: pr-hdds-1786-trunk-k6rzm-1803654198, networkLocation: /default-rack, certSerialId: null} reported QUASI_CLOSED replica.
2019-09-10 17:53:33,474 [RatisPipelineUtilsThread] INFO  pipeline.PipelineStateManager (PipelineStateManager.java:removePipeline(108)) - Pipeline Pipeline[ Id: e193a3e5-6db1-4394-afc6-91ad81aeea2b, Nodes: 60b001b3-1662-439d-83b7-d721b00602d4{ip: 192.168.5.139, host: pr-hdds-1786-trunk-k6rzm-1803654198, networkLocation: /default-rack, certSerialId: null}, Type:RATIS, Factor:ONE, State:CLOSED] removed from db
2019-09-10 17:53:34,692 [grpc-default-executor-1] INFO  client.GrpcClientProtocolClient (GrpcClientProtocolClient.java:onNext(264)) - client-851CEC263E75->60b001b3-1662-439d-83b7-d721b00602d4: receive RaftClientReply:client-851CEC263E75->60b001b3-1662-439d-83b7-d721b00602d4@group-4C85F019D845, cid=20, FAILED org.apache.ratis.protocol.NotLeaderException: Server 60b001b3-1662-439d-83b7-d721b00602d4@group-4C85F019D845 is not the leader, logIndex=0, commits[60b001b3-1662-439d-83b7-d721b00602d4:c-1]
2019-09-10 17:53:36,712 [grpc-default-executor-0] INFO  client.GrpcClientProtocolClient (GrpcClientProtocolClient.java:onNext(264)) - client-851CEC263E75->60b001b3-1662-439d-83b7-d721b00602d4: receive RaftClientReply:client-851CEC263E75->60b001b3-1662-439d-83b7-d721b00602d4@group-4C85F019D845, cid=20, FAILED org.apache.ratis.protocol.NotLeaderException: Server 60b001b3-1662-439d-83b7-d721b00602d4@group-4C85F019D845 is not the leader, logIndex=0, commits[60b001b3-1662-439d-83b7-d721b00602d4:c-1]
2019-09-10 17:53:36,922 [Thread-288] INFO  impl.FollowerState (FollowerState.java:run(106)) - 60b001b3-1662-439d-83b7-d721b00602d4:group-4C85F019D845 changes to CANDIDATE, lastRpcTime:5130, electionTimeout:5130ms
2019-09-10 17:53:36,924 [Thread-288] INFO  impl.RoleInfo (RoleInfo.java:shutdownFollowerState(121)) - 60b001b3-1662-439d-83b7-d721b00602d4: shutdown FollowerState
2019-09-10 17:53:36,924 [Thread-288] INFO  impl.RaftServerImpl (RaftServerImpl.java:setRole(174)) - 60b001b3-1662-439d-83b7-d721b00602d4@group-4C85F019D845: changes role from  FOLLOWER to CANDIDATE at term 0 for changeToCandidate
2019-09-10 17:53:36,924 [Thread-288] INFO  impl.RoleInfo (RoleInfo.java:updateAndGet(143)) - 60b001b3-1662-439d-83b7-d721b00602d4: start LeaderElection
2019-09-10 17:53:36,969 [60b001b3-1662-439d-83b7-d721b00602d4@group-4C85F019D845:LeaderElection8] INFO  impl.LeaderElection (LeaderElection.java:askForVotes(182)) - 60b001b3-1662-439d-83b7-d721b00602d4@group-4C85F019D845:LeaderElection8: begin an election at term 1 for -1: [60b001b3-1662-439d-83b7-d721b00602d4:192.168.5.139:37239], old=null
2019-09-10 17:53:36,969 [60b001b3-1662-439d-83b7-d721b00602d4@group-4C85F019D845:LeaderElection8] INFO  impl.RoleInfo (RoleInfo.java:shutdownLeaderElection(134)) - 60b001b3-1662-439d-83b7-d721b00602d4: shutdown LeaderElection
2019-09-10 17:53:36,970 [60b001b3-1662-439d-83b7-d721b00602d4@group-4C85F019D845:LeaderElection8] INFO  impl.RaftServerImpl (RaftServerImpl.java:setRole(174)) - 60b001b3-1662-439d-83b7-d721b00602d4@group-4C85F019D845: changes role from CANDIDATE to LEADER at term 1 for changeToLeader
2019-09-10 17:53:36,970 [60b001b3-1662-439d-83b7-d721b00602d4@group-4C85F019D845:LeaderElection8] INFO  impl.RaftServerImpl (ServerState.java:setLeader(253)) - 60b001b3-1662-439d-83b7-d721b00602d4@group-4C85F019D845: change Leader from null to 60b001b3-1662-439d-83b7-d721b00602d4 at term 1 for becomeLeader, leader elected after 5188ms
2019-09-10 17:53:36,970 [60b001b3-1662-439d-83b7-d721b00602d4@group-4C85F019D845:LeaderElection8] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.staging.catchup.gap = 1000 (default)
2019-09-10 17:53:36,970 [60b001b3-1662-439d-83b7-d721b00602d4@group-4C85F019D845:LeaderElection8] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.rpc.sleep.time = 25ms (default)
2019-09-10 17:53:36,970 [60b001b3-1662-439d-83b7-d721b00602d4@group-4C85F019D845:LeaderElection8] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.write.element-limit = 4096 (default)
2019-09-10 17:53:36,971 [60b001b3-1662-439d-83b7-d721b00602d4@group-4C85F019D845:LeaderElection8] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.watch.timeout = 10s (default)
2019-09-10 17:53:36,971 [60b001b3-1662-439d-83b7-d721b00602d4@group-4C85F019D845:LeaderElection8] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.watch.timeout.denomination = 1s (default)
2019-09-10 17:53:36,971 [60b001b3-1662-439d-83b7-d721b00602d4@group-4C85F019D845:LeaderElection8] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.watch.element-limit = 65536 (default)
2019-09-10 17:53:36,976 [60b001b3-1662-439d-83b7-d721b00602d4@group-4C85F019D845:LeaderElection8] INFO  impl.RoleInfo (RoleInfo.java:updateAndGet(143)) - 60b001b3-1662-439d-83b7-d721b00602d4: start LeaderState
2019-09-10 17:53:36,976 [60b001b3-1662-439d-83b7-d721b00602d4@group-4C85F019D845:LeaderElection8] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:startLogSegment(380)) - 60b001b3-1662-439d-83b7-d721b00602d4@group-4C85F019D845-SegmentedRaftLogWorker: Starting segment from index:0
2019-09-10 17:53:36,977 [60b001b3-1662-439d-83b7-d721b00602d4@group-4C85F019D845:LeaderElection8] INFO  impl.RaftServerImpl (ServerState.java:setRaftConf(354)) - 60b001b3-1662-439d-83b7-d721b00602d4@group-4C85F019D845: set configuration 0: [60b001b3-1662-439d-83b7-d721b00602d4:192.168.5.139:37239], old=null at 0
2019-09-10 17:53:37,010 [60b001b3-1662-439d-83b7-d721b00602d4@group-4C85F019D845-SegmentedRaftLogWorker] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:execute(569)) - 60b001b3-1662-439d-83b7-d721b00602d4@group-4C85F019D845-SegmentedRaftLogWorker: created new log segment /workdir/hadoop-ozone/integration-test/target/test-dir/MiniOzoneClusterImpl-d01b3807-3732-4de8-b8ba-bdf98e618289/datanode-0/data/ratis/7047f3ac-dbce-4309-a712-4c85f019d845/current/log_inprogress_0
2019-09-10 17:53:38,840 [60b001b3-1662-439d-83b7-d721b00602d4@group-4C85F019D845-StateMachineUpdater] INFO  ratis.ContainerStateMachine (ContainerStateMachine.java:takeSnapshot(289)) - group-4C85F019D845: Taking a snapshot at:(t:1, i:1) file /workdir/hadoop-ozone/integration-test/target/test-dir/MiniOzoneClusterImpl-d01b3807-3732-4de8-b8ba-bdf98e618289/datanode-0/data/ratis/7047f3ac-dbce-4309-a712-4c85f019d845/sm/snapshot.1_1
2019-09-10 17:53:38,845 [grpc-default-executor-0] INFO  client.GrpcClientProtocolClient (GrpcClientProtocolClient.java:onNext(264)) - client-851CEC263E75->60b001b3-1662-439d-83b7-d721b00602d4: receive RaftClientReply:client-851CEC263E75->60b001b3-1662-439d-83b7-d721b00602d4@group-4C85F019D845, cid=20, SUCCESS, logIndex=1, commits[60b001b3-1662-439d-83b7-d721b00602d4:c1]
2019-09-10 17:53:38,852 [60b001b3-1662-439d-83b7-d721b00602d4@group-4C85F019D845-StateMachineUpdater] INFO  ratis.ContainerStateMachine (ContainerStateMachine.java:takeSnapshot(300)) - group-4C85F019D845: Finished taking a snapshot at:(t:1, i:1) file:/workdir/hadoop-ozone/integration-test/target/test-dir/MiniOzoneClusterImpl-d01b3807-3732-4de8-b8ba-bdf98e618289/datanode-0/data/ratis/7047f3ac-dbce-4309-a712-4c85f019d845/sm/snapshot.1_1 time:11
2019-09-10 17:53:38,852 [60b001b3-1662-439d-83b7-d721b00602d4@group-4C85F019D845-StateMachineUpdater] INFO  impl.StateMachineUpdater (StateMachineUpdater.java:takeSnapshot(258)) - 60b001b3-1662-439d-83b7-d721b00602d4@group-4C85F019D845-StateMachineUpdater: Took a snapshot at index 1
2019-09-10 17:53:38,852 [60b001b3-1662-439d-83b7-d721b00602d4@group-4C85F019D845-StateMachineUpdater] INFO  impl.StateMachineUpdater (StateMachineUpdater.java:lambda$new$0(83)) - 60b001b3-1662-439d-83b7-d721b00602d4@group-4C85F019D845-StateMachineUpdater: snapshotIndex: updateIncreasingly -1 -> 1
2019-09-10 17:53:38,853 [60b001b3-1662-439d-83b7-d721b00602d4@group-4C85F019D845-StateMachineUpdater] INFO  ratis.ContainerStateMachine (ContainerStateMachine.java:takeSnapshot(289)) - group-4C85F019D845: Taking a snapshot at:(t:1, i:1) file /workdir/hadoop-ozone/integration-test/target/test-dir/MiniOzoneClusterImpl-d01b3807-3732-4de8-b8ba-bdf98e618289/datanode-0/data/ratis/7047f3ac-dbce-4309-a712-4c85f019d845/sm/snapshot.1_1
2019-09-10 17:53:38,866 [60b001b3-1662-439d-83b7-d721b00602d4@group-4C85F019D845-StateMachineUpdater] INFO  ratis.ContainerStateMachine (ContainerStateMachine.java:takeSnapshot(300)) - group-4C85F019D845: Finished taking a snapshot at:(t:1, i:1) file:/workdir/hadoop-ozone/integration-test/target/test-dir/MiniOzoneClusterImpl-d01b3807-3732-4de8-b8ba-bdf98e618289/datanode-0/data/ratis/7047f3ac-dbce-4309-a712-4c85f019d845/sm/snapshot.1_1 time:12
2019-09-10 17:53:38,866 [60b001b3-1662-439d-83b7-d721b00602d4@group-4C85F019D845-StateMachineUpdater] INFO  impl.StateMachineUpdater (StateMachineUpdater.java:takeSnapshot(258)) - 60b001b3-1662-439d-83b7-d721b00602d4@group-4C85F019D845-StateMachineUpdater: Took a snapshot at index 1
2019-09-10 17:53:38,866 [60b001b3-1662-439d-83b7-d721b00602d4@group-4C85F019D845-StateMachineUpdater] INFO  impl.StateMachineUpdater (StateMachineUpdater.java:lambda$new$0(83)) - 60b001b3-1662-439d-83b7-d721b00602d4@group-4C85F019D845-StateMachineUpdater: snapshotIndex: updateIncreasingly 1 -> 1
2019-09-10 17:53:38,915 [60b001b3-1662-439d-83b7-d721b00602d4@group-4C85F019D845-StateMachineUpdater] INFO  ratis.ContainerStateMachine (ContainerStateMachine.java:takeSnapshot(289)) - group-4C85F019D845: Taking a snapshot at:(t:1, i:4) file /workdir/hadoop-ozone/integration-test/target/test-dir/MiniOzoneClusterImpl-d01b3807-3732-4de8-b8ba-bdf98e618289/datanode-0/data/ratis/7047f3ac-dbce-4309-a712-4c85f019d845/sm/snapshot.1_4
2019-09-10 17:53:38,924 [grpc-default-executor-0] INFO  client.GrpcClientProtocolClient (GrpcClientProtocolClient.java:onNext(264)) - client-851CEC263E75->60b001b3-1662-439d-83b7-d721b00602d4: receive RaftClientReply:client-851CEC263E75->60b001b3-1662-439d-83b7-d721b00602d4@group-4C85F019D845, cid=21, SUCCESS, logIndex=3, commits[60b001b3-1662-439d-83b7-d721b00602d4:c4]
2019-09-10 17:53:38,930 [pool-62-thread-2] ERROR impl.ChunkManagerImpl (ChunkUtils.java:getChunkFile(234)) - Chunks path does not exist
2019-09-10 17:53:38,932 [pool-62-thread-2] INFO  keyvalue.KeyValueHandler (ContainerUtils.java:logAndReturnError(146)) - Operation: WriteChunk : Trace ID: d0398e9df18aaab1:d0398e9df18aaab1:0:0 : Message: Unable to get Chunks directory. : Result: UNABLE_TO_FIND_DATA_DIR
17:53:38.934 [grpc-default-executor-0] ERROR DNAudit - user=null | ip=null | op=PUT_BLOCK {blockData=[blockId=conID: 5 locID: 102769492796440583 bcsId: 0,size=10]} | ret=FAILURE
org.apache.hadoop.hdds.scm.container.common.helpers.ContainerNotOpenException: Container 5 in UNHEALTHY state
	at org.apache.hadoop.ozone.container.common.impl.HddsDispatcher.validateContainerCommand(HddsDispatcher.java:431) ~[hadoop-hdds-container-service-0.5.0-SNAPSHOT.jar:?]
	at org.apache.hadoop.ozone.container.common.transport.server.ratis.ContainerStateMachine.startTransaction(ContainerStateMachine.java:315) ~[hadoop-hdds-container-service-0.5.0-SNAPSHOT.jar:?]
	at org.apache.ratis.server.impl.RaftServerImpl.submitClientRequestAsync(RaftServerImpl.java:573) ~[ratis-server-0.4.0-78e95b9-SNAPSHOT.jar:0.4.0-78e95b9-SNAPSHOT]
	at org.apache.ratis.server.impl.RaftServerProxy.lambda$submitClientRequestAsync$7(RaftServerProxy.java:333) ~[ratis-server-0.4.0-78e95b9-SNAPSHOT.jar:0.4.0-78e95b9-SNAPSHOT]
	at org.apache.ratis.server.impl.RaftServerProxy.lambda$null$5(RaftServerProxy.java:328) ~[ratis-server-0.4.0-78e95b9-SNAPSHOT.jar:0.4.0-78e95b9-SNAPSHOT]
	at org.apache.ratis.util.JavaUtils.callAsUnchecked(JavaUtils.java:109) ~[ratis-common-0.4.0-78e95b9-SNAPSHOT.jar:0.4.0-78e95b9-SNAPSHOT]
	at org.apache.ratis.server.impl.RaftServerProxy.lambda$submitRequest$6(RaftServerProxy.java:328) ~[ratis-server-0.4.0-78e95b9-SNAPSHOT.jar:0.4.0-78e95b9-SNAPSHOT]
	at java.util.concurrent.CompletableFuture.uniComposeStage(CompletableFuture.java:981) ~[?:1.8.0_212]
	at java.util.concurrent.CompletableFuture.thenCompose(CompletableFuture.java:2124) ~[?:1.8.0_212]
	at org.apache.ratis.server.impl.RaftServerProxy.submitRequest(RaftServerProxy.java:327) ~[ratis-server-0.4.0-78e95b9-SNAPSHOT.jar:0.4.0-78e95b9-SNAPSHOT]
	at org.apache.ratis.server.impl.RaftServerProxy.submitClientRequestAsync(RaftServerProxy.java:333) ~[ratis-server-0.4.0-78e95b9-SNAPSHOT.jar:0.4.0-78e95b9-SNAPSHOT]
	at org.apache.ratis.grpc.client.GrpcClientProtocolService$RequestStreamObserver.processClientRequest(GrpcClientProtocolService.java:220) ~[ratis-grpc-0.4.0-78e95b9-SNAPSHOT.jar:0.4.0-78e95b9-SNAPSHOT]
	at org.apache.ratis.grpc.client.GrpcClientProtocolService$OrderedRequestStreamObserver.processClientRequest(GrpcClientProtocolService.java:326) ~[ratis-grpc-0.4.0-78e95b9-SNAPSHOT.jar:0.4.0-78e95b9-SNAPSHOT]
	at org.apache.ratis.util.SlidingWindow$Server.processRequestsFromHead(SlidingWindow.java:429) [ratis-common-0.4.0-78e95b9-SNAPSHOT.jar:0.4.0-78e95b9-SNAPSHOT]
	at org.apache.ratis.util.SlidingWindow$Server.receivedRequest(SlidingWindow.java:421) [ratis-common-0.4.0-78e95b9-SNAPSHOT.jar:0.4.0-78e95b9-SNAPSHOT]
	at org.apache.ratis.grpc.client.GrpcClientProtocolService$OrderedRequestStreamObserver.processClientRequest(GrpcClientProtocolService.java:345) [ratis-grpc-0.4.0-78e95b9-SNAPSHOT.jar:0.4.0-78e95b9-SNAPSHOT]
	at org.apache.ratis.grpc.client.GrpcClientProtocolService$RequestStreamObserver.onNext(GrpcClientProtocolService.java:240) [ratis-grpc-0.4.0-78e95b9-SNAPSHOT.jar:0.4.0-78e95b9-SNAPSHOT]
	at org.apache.ratis.grpc.client.GrpcClientProtocolService$RequestStreamObserver.onNext(GrpcClientProtocolService.java:168) [ratis-grpc-0.4.0-78e95b9-SNAPSHOT.jar:0.4.0-78e95b9-SNAPSHOT]
	at org.apache.ratis.thirdparty.io.grpc.stub.ServerCalls$StreamingServerCallHandler$StreamingServerCallListener.onMessage(ServerCalls.java:248) [ratis-thirdparty-misc-0.2.0.jar:0.2.0]
	at org.apache.ratis.thirdparty.io.grpc.internal.ServerCallImpl$ServerStreamListenerImpl.messagesAvailable(ServerCallImpl.java:263) [ratis-thirdparty-misc-0.2.0.jar:0.2.0]
	at org.apache.ratis.thirdparty.io.grpc.internal.ServerImpl$JumpToApplicationThreadServerStreamListener$1MessagesAvailable.runInContext(ServerImpl.java:686) [ratis-thirdparty-misc-0.2.0.jar:0.2.0]
	at org.apache.ratis.thirdparty.io.grpc.internal.ContextRunnable.run(ContextRunnable.java:37) [ratis-thirdparty-misc-0.2.0.jar:0.2.0]
	at org.apache.ratis.thirdparty.io.grpc.internal.SerializingExecutor.run(SerializingExecutor.java:123) [ratis-thirdparty-misc-0.2.0.jar:0.2.0]
	at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1149) [?:1.8.0_212]
	at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:624) [?:1.8.0_212]
	at java.lang.Thread.run(Thread.java:748) [?:1.8.0_212]
2019-09-10 17:53:38,997 [60b001b3-1662-439d-83b7-d721b00602d4@group-4C85F019D845-StateMachineUpdater] INFO  ratis.ContainerStateMachine (ContainerStateMachine.java:takeSnapshot(300)) - group-4C85F019D845: Finished taking a snapshot at:(t:1, i:4) file:/workdir/hadoop-ozone/integration-test/target/test-dir/MiniOzoneClusterImpl-d01b3807-3732-4de8-b8ba-bdf98e618289/datanode-0/data/ratis/7047f3ac-dbce-4309-a712-4c85f019d845/sm/snapshot.1_4 time:82
2019-09-10 17:53:38,998 [60b001b3-1662-439d-83b7-d721b00602d4@group-4C85F019D845-StateMachineUpdater] INFO  impl.StateMachineUpdater (StateMachineUpdater.java:takeSnapshot(258)) - 60b001b3-1662-439d-83b7-d721b00602d4@group-4C85F019D845-StateMachineUpdater: Took a snapshot at index 4
2019-09-10 17:53:38,999 [60b001b3-1662-439d-83b7-d721b00602d4@group-4C85F019D845-StateMachineUpdater] INFO  impl.StateMachineUpdater (StateMachineUpdater.java:lambda$new$0(83)) - 60b001b3-1662-439d-83b7-d721b00602d4@group-4C85F019D845-StateMachineUpdater: snapshotIndex: updateIncreasingly 1 -> 4
17:53:38.999 [pool-62-thread-2] ERROR DNAudit - user=null | ip=null | op=WRITE_CHUNK {blockData=conID: 5 locID: 102769492796440583 bcsId: 3} | ret=FAILURE
java.lang.Exception: Unable to get Chunks directory.
	at org.apache.hadoop.ozone.container.common.impl.HddsDispatcher.dispatchRequest(HddsDispatcher.java:327) ~[hadoop-hdds-container-service-0.5.0-SNAPSHOT.jar:?]
	at org.apache.hadoop.ozone.container.common.impl.HddsDispatcher.dispatch(HddsDispatcher.java:150) ~[hadoop-hdds-container-service-0.5.0-SNAPSHOT.jar:?]
	at org.apache.hadoop.ozone.container.common.transport.server.ratis.ContainerStateMachine.dispatchCommand(ContainerStateMachine.java:401) ~[hadoop-hdds-container-service-0.5.0-SNAPSHOT.jar:?]
	at org.apache.hadoop.ozone.container.common.transport.server.ratis.ContainerStateMachine.runCommand(ContainerStateMachine.java:409) ~[hadoop-hdds-container-service-0.5.0-SNAPSHOT.jar:?]
	at org.apache.hadoop.ozone.container.common.transport.server.ratis.ContainerStateMachine.lambda$handleWriteChunk$1(ContainerStateMachine.java:442) ~[hadoop-hdds-container-service-0.5.0-SNAPSHOT.jar:?]
	at java.util.concurrent.CompletableFuture$AsyncSupply.run(CompletableFuture.java:1590) [?:1.8.0_212]
	at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1149) [?:1.8.0_212]
	at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:624) [?:1.8.0_212]
	at java.lang.Thread.run(Thread.java:748) [?:1.8.0_212]
2019-09-10 17:53:39,001 [EventQueue-IncrementalContainerReportForIncrementalContainerReportHandler] WARN  container.IncrementalContainerReportHandler (AbstractContainerReportHandler.java:updateContainerState(143)) - Container #5 is in OPEN state, but the datanode 60b001b3-1662-439d-83b7-d721b00602d4{ip: 192.168.5.139, host: pr-hdds-1786-trunk-k6rzm-1803654198, networkLocation: /default-rack, certSerialId: null} reports an UNHEALTHY replica.
2019-09-10 17:53:39,001 [EventQueue-CloseContainerForCloseContainerEventHandler] INFO  container.CloseContainerEventHandler (CloseContainerEventHandler.java:onMessage(61)) - Close container Event triggered for container : #5
2019-09-10 17:53:39,002 [EventQueue-ContainerReportForContainerReportHandler] WARN  container.ContainerReportHandler (AbstractContainerReportHandler.java:updateContainerState(143)) - Container #5 is in OPEN state, but the datanode 60b001b3-1662-439d-83b7-d721b00602d4{ip: 192.168.5.139, host: pr-hdds-1786-trunk-k6rzm-1803654198, networkLocation: /default-rack, certSerialId: null} reports an UNHEALTHY replica.
2019-09-10 17:53:39,004 [pool-62-thread-2] ERROR ratis.ContainerStateMachine (ContainerStateMachine.java:lambda$handleWriteChunk$2(456)) - group-4C85F019D845: writeChunk writeStateMachineData failed: blockIdcontainerID: 5
localID: 102769492796440583
blockCommitSequenceId: 3
 logIndex 5 chunkName 102769492796440583_chunk_2 Error message: Unable to get Chunks directory. Container Result: UNABLE_TO_FIND_DATA_DIR
2019-09-10 17:53:39,005 [60b001b3-1662-439d-83b7-d721b00602d4@group-4C85F019D845-SegmentedRaftLogWorker] ERROR ratis.XceiverServerRatis (XceiverServerRatis.java:triggerPipelineClose(575)) - pipeline Action CLOSE  on pipeline PipelineID=7047f3ac-dbce-4309-a712-4c85f019d845.Reason : Unable to get Chunks directory.
2019-09-10 17:53:39,006 [EventQueue-PipelineActionsForPipelineActionHandler] ERROR pipeline.PipelineActionHandler (PipelineActionHandler.java:onMessage(60)) - Received pipeline action CLOSE for Pipeline[ Id: 7047f3ac-dbce-4309-a712-4c85f019d845, Nodes: 60b001b3-1662-439d-83b7-d721b00602d4{ip: 192.168.5.139, host: pr-hdds-1786-trunk-k6rzm-1803654198, networkLocation: /default-rack, certSerialId: null}, Type:RATIS, Factor:ONE, State:OPEN] from datanode 60b001b3-1662-439d-83b7-d721b00602d4{ip: 192.168.5.139, host: pr-hdds-1786-trunk-k6rzm-1803654198, networkLocation: /default-rack, certSerialId: null}. Reason : Unable to get Chunks directory.
2019-09-10 17:53:39,007 [EventQueue-PipelineActionsForPipelineActionHandler] INFO  pipeline.SCMPipelineManager (SCMPipelineManager.java:finalizeAndDestroyPipeline(311)) - destroying pipeline:Pipeline[ Id: 7047f3ac-dbce-4309-a712-4c85f019d845, Nodes: 60b001b3-1662-439d-83b7-d721b00602d4{ip: 192.168.5.139, host: pr-hdds-1786-trunk-k6rzm-1803654198, networkLocation: /default-rack, certSerialId: null}, Type:RATIS, Factor:ONE, State:OPEN]
2019-09-10 17:53:39,007 [EventQueue-PipelineActionsForPipelineActionHandler] INFO  pipeline.PipelineStateManager (PipelineStateManager.java:finalizePipeline(123)) - Pipeline Pipeline[ Id: 7047f3ac-dbce-4309-a712-4c85f019d845, Nodes: 60b001b3-1662-439d-83b7-d721b00602d4{ip: 192.168.5.139, host: pr-hdds-1786-trunk-k6rzm-1803654198, networkLocation: /default-rack, certSerialId: null}, Type:RATIS, Factor:ONE, State:CLOSED] moved to CLOSED state
2019-09-10 17:53:49,022 [grpc-default-executor-0] INFO  impl.RaftServerProxy (RaftServerProxy.java:remove(95)) - 60b001b3-1662-439d-83b7-d721b00602d4: remove    LEADER 60b001b3-1662-439d-83b7-d721b00602d4@group-4C85F019D845:t1, leader=60b001b3-1662-439d-83b7-d721b00602d4, voted=60b001b3-1662-439d-83b7-d721b00602d4, raftlog=60b001b3-1662-439d-83b7-d721b00602d4@group-4C85F019D845-SegmentedRaftLog:OPENED:c4,f4,i5, conf=0: [60b001b3-1662-439d-83b7-d721b00602d4:192.168.5.139:37239], old=null RUNNING
2019-09-10 17:53:49,023 [grpc-default-executor-0] INFO  impl.RaftServerImpl (RaftServerImpl.java:lambda$shutdown$3(251)) - 60b001b3-1662-439d-83b7-d721b00602d4@group-4C85F019D845: shutdown
2019-09-10 17:53:49,024 [grpc-default-executor-0] INFO  util.JmxRegister (JmxRegister.java:unregister(73)) - Successfully un-registered JMX Bean with object name Ratis:service=RaftServer,group=group-4C85F019D845,id=60b001b3-1662-439d-83b7-d721b00602d4
2019-09-10 17:53:49,024 [grpc-default-executor-0] INFO  impl.RoleInfo (RoleInfo.java:shutdownLeaderState(104)) - 60b001b3-1662-439d-83b7-d721b00602d4: shutdown LeaderState
2019-09-10 17:53:49,025 [grpc-default-executor-0] INFO  impl.PendingRequests (PendingRequests.java:sendNotLeaderResponses(202)) - 60b001b3-1662-439d-83b7-d721b00602d4-PendingRequests: sendNotLeaderResponses
2019-09-10 17:53:49,028 [grpc-default-executor-0] INFO  impl.StateMachineUpdater (StateMachineUpdater.java:stopAndJoin(125)) - 60b001b3-1662-439d-83b7-d721b00602d4@group-4C85F019D845-StateMachineUpdater: set stopIndex = 4
2019-09-10 17:53:49,029 [grpc-default-executor-0] INFO  impl.RaftServerImpl (ServerState.java:close(385)) - 60b001b3-1662-439d-83b7-d721b00602d4@group-4C85F019D845: closes. applyIndex: 4
2019-09-10 17:53:49,029 [60b001b3-1662-439d-83b7-d721b00602d4@group-4C85F019D845-SegmentedRaftLogWorker] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:run(313)) - 60b001b3-1662-439d-83b7-d721b00602d4@group-4C85F019D845-SegmentedRaftLogWorker was interrupted, exiting. There are 0 tasks remaining in the queue.
2019-09-10 17:53:49,030 [grpc-default-executor-0] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:close(228)) - 60b001b3-1662-439d-83b7-d721b00602d4@group-4C85F019D845-SegmentedRaftLogWorker close()
2019-09-10 17:53:49,039 [RatisPipelineUtilsThread] INFO  pipeline.PipelineStateManager (PipelineStateManager.java:removePipeline(108)) - Pipeline Pipeline[ Id: 7047f3ac-dbce-4309-a712-4c85f019d845, Nodes: 60b001b3-1662-439d-83b7-d721b00602d4{ip: 192.168.5.139, host: pr-hdds-1786-trunk-k6rzm-1803654198, networkLocation: /default-rack, certSerialId: null}, Type:RATIS, Factor:ONE, State:CLOSED] removed from db
2019-09-10 17:53:49,049 [grpc-default-executor-0] INFO  impl.RaftServerProxy (RaftServerProxy.java:addNew(89)) - 60b001b3-1662-439d-83b7-d721b00602d4: addNew group-B339AB5E8B2D:[60b001b3-1662-439d-83b7-d721b00602d4:192.168.5.139:37239] returns group-B339AB5E8B2D:java.util.concurrent.CompletableFuture@7ae94ba4[Not completed]
2019-09-10 17:53:49,052 [pool-63-thread-1] INFO  impl.RaftServerImpl (RaftServerImpl.java:<init>(95)) - 60b001b3-1662-439d-83b7-d721b00602d4: new RaftServerImpl for group-B339AB5E8B2D:[60b001b3-1662-439d-83b7-d721b00602d4:192.168.5.139:37239] with ContainerStateMachine:uninitialized
2019-09-10 17:53:49,052 [pool-63-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.rpc.timeout.min = 5s (custom)
2019-09-10 17:53:49,053 [pool-63-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.rpc.timeout.max = 5200ms (custom)
2019-09-10 17:53:49,053 [pool-63-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.rpcslowness.timeout = 120s (custom)
2019-09-10 17:53:49,053 [pool-63-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.sleep.deviation.threshold = 300 (default)
2019-09-10 17:53:49,053 [pool-63-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.log.appender.install.snapshot.enabled = false (custom)
2019-09-10 17:53:49,053 [pool-63-thread-1] INFO  impl.RaftServerImpl (ServerState.java:<init>(103)) - 60b001b3-1662-439d-83b7-d721b00602d4@group-B339AB5E8B2D: ConfigurationManager, init=-1: [60b001b3-1662-439d-83b7-d721b00602d4:192.168.5.139:37239], old=null, confs=<EMPTY_MAP>
2019-09-10 17:53:49,053 [pool-63-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.storage.dir = [/workdir/hadoop-ozone/integration-test/target/test-dir/MiniOzoneClusterImpl-d01b3807-3732-4de8-b8ba-bdf98e618289/datanode-0/data/ratis] (custom)
2019-09-10 17:53:49,054 [pool-63-thread-1] INFO  storage.RaftStorageDirectory (RaftStorageDirectory.java:analyzeStorage(246)) - The storage directory /workdir/hadoop-ozone/integration-test/target/test-dir/MiniOzoneClusterImpl-d01b3807-3732-4de8-b8ba-bdf98e618289/datanode-0/data/ratis/ffa76639-dfb6-4d7a-8e84-b339ab5e8b2d does not exist. Creating ...
2019-09-10 17:53:49,185 [pool-63-thread-1] INFO  storage.RaftStorageDirectory (RaftStorageDirectory.java:tryLock(328)) - Lock on /workdir/hadoop-ozone/integration-test/target/test-dir/MiniOzoneClusterImpl-d01b3807-3732-4de8-b8ba-bdf98e618289/datanode-0/data/ratis/ffa76639-dfb6-4d7a-8e84-b339ab5e8b2d/in_use.lock acquired by nodename 23020@pr-hdds-1786-trunk-k6rzm-1803654198
2019-09-10 17:53:49,190 [pool-63-thread-1] INFO  storage.RaftStorage (RaftStorage.java:format(72)) - Storage directory /workdir/hadoop-ozone/integration-test/target/test-dir/MiniOzoneClusterImpl-d01b3807-3732-4de8-b8ba-bdf98e618289/datanode-0/data/ratis/ffa76639-dfb6-4d7a-8e84-b339ab5e8b2d has been successfully formatted.
2019-09-10 17:53:49,190 [pool-63-thread-1] INFO  ratis.ContainerStateMachine (ContainerStateMachine.java:loadSnapshot(230)) - group-B339AB5E8B2D: The snapshot info is null. Setting the last applied indexto:(t:0, i:~)
2019-09-10 17:53:49,190 [pool-63-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.notification.no-leader.timeout = 120s (custom)
2019-09-10 17:53:49,190 [pool-63-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.log.use.memory = false (default)
2019-09-10 17:53:49,190 [pool-63-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.log.purge.gap = 1000000 (custom)
2019-09-10 17:53:49,191 [pool-63-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.log.appender.buffer.byte-limit = 33554432 (custom)
2019-09-10 17:53:49,191 [pool-63-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.log.segment.size.max = 1048576 (custom)
2019-09-10 17:53:49,191 [pool-63-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.log.segment.cache.num.max = 2 (custom)
2019-09-10 17:53:49,191 [pool-63-thread-1] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:<init>(172)) - new 60b001b3-1662-439d-83b7-d721b00602d4@group-B339AB5E8B2D-SegmentedRaftLogWorker for RaftStorage:Storage Directory /workdir/hadoop-ozone/integration-test/target/test-dir/MiniOzoneClusterImpl-d01b3807-3732-4de8-b8ba-bdf98e618289/datanode-0/data/ratis/ffa76639-dfb6-4d7a-8e84-b339ab5e8b2d
2019-09-10 17:53:49,191 [pool-63-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.log.queue.byte-limit = 2147483647 (custom)
2019-09-10 17:53:49,191 [pool-63-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.log.queue.element-limit = 1024 (custom)
2019-09-10 17:53:49,191 [pool-63-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.log.segment.size.max = 1048576 (custom)
2019-09-10 17:53:49,191 [pool-63-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.log.preallocated.size = 16384 (custom)
2019-09-10 17:53:49,192 [pool-63-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.log.write.buffer.size = 33554432 (custom)
2019-09-10 17:53:49,192 [pool-63-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.log.force.sync.num = 128 (default)
2019-09-10 17:53:49,192 [pool-63-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.log.statemachine.data.sync = true (default)
2019-09-10 17:53:49,192 [pool-63-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.log.statemachine.data.sync.timeout = 10s (default)
2019-09-10 17:53:49,192 [pool-63-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.log.statemachine.data.sync.timeout.retry = -1 (default)
2019-09-10 17:53:49,192 [pool-63-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.log.statemachine.data.caching.enabled = true (custom)
2019-09-10 17:53:49,193 [pool-63-thread-1] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:lambda$new$0(132)) - 60b001b3-1662-439d-83b7-d721b00602d4@group-B339AB5E8B2D-SegmentedRaftLogWorker: flushIndex: setUnconditionally 0 -> -1
2019-09-10 17:53:49,193 [pool-63-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.snapshot.auto.trigger.enabled = true (custom)
2019-09-10 17:53:49,193 [pool-63-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.snapshot.auto.trigger.threshold = 1 (custom)
2019-09-10 17:53:49,193 [pool-63-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.snapshot.retention.num.files = 5 (custom)
2019-09-10 17:53:49,193 [pool-63-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.retrycache.expirytime = 600000ms (custom)
2019-09-10 17:53:49,196 [pool-63-thread-1] INFO  impl.RaftServerImpl (RaftServerImpl.java:start(185)) - 60b001b3-1662-439d-83b7-d721b00602d4@group-B339AB5E8B2D: start as a follower, conf=-1: [60b001b3-1662-439d-83b7-d721b00602d4:192.168.5.139:37239], old=null
2019-09-10 17:53:49,196 [pool-63-thread-1] INFO  impl.RaftServerImpl (RaftServerImpl.java:setRole(174)) - 60b001b3-1662-439d-83b7-d721b00602d4@group-B339AB5E8B2D: changes role from      null to FOLLOWER at term 0 for startAsFollower
2019-09-10 17:53:49,196 [pool-63-thread-1] INFO  impl.RoleInfo (RoleInfo.java:updateAndGet(143)) - 60b001b3-1662-439d-83b7-d721b00602d4: start FollowerState
2019-09-10 17:53:49,196 [pool-63-thread-1] INFO  util.JmxRegister (JmxRegister.java:tryRegister(44)) - Successfully registered JMX Bean with object name Ratis:service=RaftServer,group=group-B339AB5E8B2D,id=60b001b3-1662-439d-83b7-d721b00602d4
2019-09-10 17:53:49,202 [RatisPipelineUtilsThread] INFO  pipeline.PipelineStateManager (PipelineStateManager.java:addPipeline(56)) - Created pipeline Pipeline[ Id: ffa76639-dfb6-4d7a-8e84-b339ab5e8b2d, Nodes: 60b001b3-1662-439d-83b7-d721b00602d4{ip: 192.168.5.139, host: pr-hdds-1786-trunk-k6rzm-1803654198, networkLocation: /default-rack, certSerialId: null}, Type:RATIS, Factor:ONE, State:OPEN]
2019-09-10 17:53:51,002 [main] WARN  io.KeyOutputStream (KeyOutputStream.java:handleException(276)) - Encountered exception java.io.IOException: Unexpected Storage Container Exception: java.util.concurrent.CompletionException: java.util.concurrent.CompletionException: org.apache.ratis.protocol.GroupMismatchException: 60b001b3-1662-439d-83b7-d721b00602d4: group-4C85F019D845 not found. on the pipeline Pipeline[ Id: 7047f3ac-dbce-4309-a712-4c85f019d845, Nodes: 60b001b3-1662-439d-83b7-d721b00602d4{ip: 192.168.5.139, host: pr-hdds-1786-trunk-k6rzm-1803654198, networkLocation: /default-rack, certSerialId: null}, Type:RATIS, Factor:ONE, State:OPEN]. The last committed block length is 5, uncommitted data length is 5 retry count 0
2019-09-10 17:53:51,038 [grpc-default-executor-0] INFO  client.GrpcClientProtocolClient (GrpcClientProtocolClient.java:onNext(264)) - client-22B88FA53310->60b001b3-1662-439d-83b7-d721b00602d4: receive RaftClientReply:client-22B88FA53310->60b001b3-1662-439d-83b7-d721b00602d4@group-B339AB5E8B2D, cid=27, FAILED org.apache.ratis.protocol.NotLeaderException: Server 60b001b3-1662-439d-83b7-d721b00602d4@group-B339AB5E8B2D is not the leader, logIndex=0, commits[60b001b3-1662-439d-83b7-d721b00602d4:c-1]
2019-09-10 17:53:53,071 [grpc-default-executor-2] INFO  client.GrpcClientProtocolClient (GrpcClientProtocolClient.java:onNext(264)) - client-22B88FA53310->60b001b3-1662-439d-83b7-d721b00602d4: receive RaftClientReply:client-22B88FA53310->60b001b3-1662-439d-83b7-d721b00602d4@group-B339AB5E8B2D, cid=27, FAILED org.apache.ratis.protocol.NotLeaderException: Server 60b001b3-1662-439d-83b7-d721b00602d4@group-B339AB5E8B2D is not the leader, logIndex=0, commits[60b001b3-1662-439d-83b7-d721b00602d4:c-1]
2019-09-10 17:53:54,388 [Thread-313] INFO  impl.FollowerState (FollowerState.java:run(106)) - 60b001b3-1662-439d-83b7-d721b00602d4:group-B339AB5E8B2D changes to CANDIDATE, lastRpcTime:5191, electionTimeout:5191ms
2019-09-10 17:53:54,389 [Thread-313] INFO  impl.RoleInfo (RoleInfo.java:shutdownFollowerState(121)) - 60b001b3-1662-439d-83b7-d721b00602d4: shutdown FollowerState
2019-09-10 17:53:54,389 [Thread-313] INFO  impl.RaftServerImpl (RaftServerImpl.java:setRole(174)) - 60b001b3-1662-439d-83b7-d721b00602d4@group-B339AB5E8B2D: changes role from  FOLLOWER to CANDIDATE at term 0 for changeToCandidate
2019-09-10 17:53:54,390 [Thread-313] INFO  impl.RoleInfo (RoleInfo.java:updateAndGet(143)) - 60b001b3-1662-439d-83b7-d721b00602d4: start LeaderElection
2019-09-10 17:53:54,400 [60b001b3-1662-439d-83b7-d721b00602d4@group-B339AB5E8B2D:LeaderElection9] INFO  impl.LeaderElection (LeaderElection.java:askForVotes(182)) - 60b001b3-1662-439d-83b7-d721b00602d4@group-B339AB5E8B2D:LeaderElection9: begin an election at term 1 for -1: [60b001b3-1662-439d-83b7-d721b00602d4:192.168.5.139:37239], old=null
2019-09-10 17:53:54,400 [60b001b3-1662-439d-83b7-d721b00602d4@group-B339AB5E8B2D:LeaderElection9] INFO  impl.RoleInfo (RoleInfo.java:shutdownLeaderElection(134)) - 60b001b3-1662-439d-83b7-d721b00602d4: shutdown LeaderElection
2019-09-10 17:53:54,400 [60b001b3-1662-439d-83b7-d721b00602d4@group-B339AB5E8B2D:LeaderElection9] INFO  impl.RaftServerImpl (RaftServerImpl.java:setRole(174)) - 60b001b3-1662-439d-83b7-d721b00602d4@group-B339AB5E8B2D: changes role from CANDIDATE to LEADER at term 1 for changeToLeader
2019-09-10 17:53:54,400 [60b001b3-1662-439d-83b7-d721b00602d4@group-B339AB5E8B2D:LeaderElection9] INFO  impl.RaftServerImpl (ServerState.java:setLeader(253)) - 60b001b3-1662-439d-83b7-d721b00602d4@group-B339AB5E8B2D: change Leader from null to 60b001b3-1662-439d-83b7-d721b00602d4 at term 1 for becomeLeader, leader elected after 5210ms
2019-09-10 17:53:54,401 [60b001b3-1662-439d-83b7-d721b00602d4@group-B339AB5E8B2D:LeaderElection9] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.staging.catchup.gap = 1000 (default)
2019-09-10 17:53:54,401 [60b001b3-1662-439d-83b7-d721b00602d4@group-B339AB5E8B2D:LeaderElection9] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.rpc.sleep.time = 25ms (default)
2019-09-10 17:53:54,401 [60b001b3-1662-439d-83b7-d721b00602d4@group-B339AB5E8B2D:LeaderElection9] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.write.element-limit = 4096 (default)
2019-09-10 17:53:54,401 [60b001b3-1662-439d-83b7-d721b00602d4@group-B339AB5E8B2D:LeaderElection9] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.watch.timeout = 10s (default)
2019-09-10 17:53:54,402 [60b001b3-1662-439d-83b7-d721b00602d4@group-B339AB5E8B2D:LeaderElection9] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.watch.timeout.denomination = 1s (default)
2019-09-10 17:53:54,402 [60b001b3-1662-439d-83b7-d721b00602d4@group-B339AB5E8B2D:LeaderElection9] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.watch.element-limit = 65536 (default)
2019-09-10 17:53:54,404 [60b001b3-1662-439d-83b7-d721b00602d4@group-B339AB5E8B2D:LeaderElection9] INFO  impl.RoleInfo (RoleInfo.java:updateAndGet(143)) - 60b001b3-1662-439d-83b7-d721b00602d4: start LeaderState
2019-09-10 17:53:54,405 [60b001b3-1662-439d-83b7-d721b00602d4@group-B339AB5E8B2D:LeaderElection9] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:startLogSegment(380)) - 60b001b3-1662-439d-83b7-d721b00602d4@group-B339AB5E8B2D-SegmentedRaftLogWorker: Starting segment from index:0
2019-09-10 17:53:54,406 [60b001b3-1662-439d-83b7-d721b00602d4@group-B339AB5E8B2D:LeaderElection9] INFO  impl.RaftServerImpl (ServerState.java:setRaftConf(354)) - 60b001b3-1662-439d-83b7-d721b00602d4@group-B339AB5E8B2D: set configuration 0: [60b001b3-1662-439d-83b7-d721b00602d4:192.168.5.139:37239], old=null at 0
2019-09-10 17:53:54,433 [60b001b3-1662-439d-83b7-d721b00602d4@group-B339AB5E8B2D-SegmentedRaftLogWorker] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:execute(569)) - 60b001b3-1662-439d-83b7-d721b00602d4@group-B339AB5E8B2D-SegmentedRaftLogWorker: created new log segment /workdir/hadoop-ozone/integration-test/target/test-dir/MiniOzoneClusterImpl-d01b3807-3732-4de8-b8ba-bdf98e618289/datanode-0/data/ratis/ffa76639-dfb6-4d7a-8e84-b339ab5e8b2d/current/log_inprogress_0
2019-09-10 17:53:55,204 [60b001b3-1662-439d-83b7-d721b00602d4@group-B339AB5E8B2D-StateMachineUpdater] INFO  ratis.ContainerStateMachine (ContainerStateMachine.java:takeSnapshot(289)) - group-B339AB5E8B2D: Taking a snapshot at:(t:1, i:1) file /workdir/hadoop-ozone/integration-test/target/test-dir/MiniOzoneClusterImpl-d01b3807-3732-4de8-b8ba-bdf98e618289/datanode-0/data/ratis/ffa76639-dfb6-4d7a-8e84-b339ab5e8b2d/sm/snapshot.1_1
2019-09-10 17:53:55,207 [grpc-default-executor-2] INFO  client.GrpcClientProtocolClient (GrpcClientProtocolClient.java:onNext(264)) - client-22B88FA53310->60b001b3-1662-439d-83b7-d721b00602d4: receive RaftClientReply:client-22B88FA53310->60b001b3-1662-439d-83b7-d721b00602d4@group-B339AB5E8B2D, cid=27, SUCCESS, logIndex=1, commits[60b001b3-1662-439d-83b7-d721b00602d4:c1]
2019-09-10 17:53:55,215 [60b001b3-1662-439d-83b7-d721b00602d4@group-B339AB5E8B2D-StateMachineUpdater] INFO  ratis.ContainerStateMachine (ContainerStateMachine.java:takeSnapshot(300)) - group-B339AB5E8B2D: Finished taking a snapshot at:(t:1, i:1) file:/workdir/hadoop-ozone/integration-test/target/test-dir/MiniOzoneClusterImpl-d01b3807-3732-4de8-b8ba-bdf98e618289/datanode-0/data/ratis/ffa76639-dfb6-4d7a-8e84-b339ab5e8b2d/sm/snapshot.1_1 time:11
2019-09-10 17:53:55,215 [60b001b3-1662-439d-83b7-d721b00602d4@group-B339AB5E8B2D-StateMachineUpdater] INFO  impl.StateMachineUpdater (StateMachineUpdater.java:takeSnapshot(258)) - 60b001b3-1662-439d-83b7-d721b00602d4@group-B339AB5E8B2D-StateMachineUpdater: Took a snapshot at index 1
2019-09-10 17:53:55,215 [60b001b3-1662-439d-83b7-d721b00602d4@group-B339AB5E8B2D-StateMachineUpdater] INFO  impl.StateMachineUpdater (StateMachineUpdater.java:lambda$new$0(83)) - 60b001b3-1662-439d-83b7-d721b00602d4@group-B339AB5E8B2D-StateMachineUpdater: snapshotIndex: updateIncreasingly -1 -> 1
2019-09-10 17:53:55,287 [60b001b3-1662-439d-83b7-d721b00602d4@group-B339AB5E8B2D-StateMachineUpdater] INFO  ratis.ContainerStateMachine (ContainerStateMachine.java:takeSnapshot(289)) - group-B339AB5E8B2D: Taking a snapshot at:(t:1, i:4) file /workdir/hadoop-ozone/integration-test/target/test-dir/MiniOzoneClusterImpl-d01b3807-3732-4de8-b8ba-bdf98e618289/datanode-0/data/ratis/ffa76639-dfb6-4d7a-8e84-b339ab5e8b2d/sm/snapshot.1_4
2019-09-10 17:53:55,289 [grpc-default-executor-2] INFO  client.GrpcClientProtocolClient (GrpcClientProtocolClient.java:onNext(264)) - client-22B88FA53310->60b001b3-1662-439d-83b7-d721b00602d4: receive RaftClientReply:client-22B88FA53310->60b001b3-1662-439d-83b7-d721b00602d4@group-B339AB5E8B2D, cid=28, SUCCESS, logIndex=3, commits[60b001b3-1662-439d-83b7-d721b00602d4:c4]
2019-09-10 17:53:55,300 [60b001b3-1662-439d-83b7-d721b00602d4@group-B339AB5E8B2D-StateMachineUpdater] INFO  ratis.ContainerStateMachine (ContainerStateMachine.java:takeSnapshot(300)) - group-B339AB5E8B2D: Finished taking a snapshot at:(t:1, i:4) file:/workdir/hadoop-ozone/integration-test/target/test-dir/MiniOzoneClusterImpl-d01b3807-3732-4de8-b8ba-bdf98e618289/datanode-0/data/ratis/ffa76639-dfb6-4d7a-8e84-b339ab5e8b2d/sm/snapshot.1_4 time:13
2019-09-10 17:53:55,301 [60b001b3-1662-439d-83b7-d721b00602d4@group-B339AB5E8B2D-StateMachineUpdater] INFO  impl.StateMachineUpdater (StateMachineUpdater.java:takeSnapshot(258)) - 60b001b3-1662-439d-83b7-d721b00602d4@group-B339AB5E8B2D-StateMachineUpdater: Took a snapshot at index 4
2019-09-10 17:53:55,301 [60b001b3-1662-439d-83b7-d721b00602d4@group-B339AB5E8B2D-StateMachineUpdater] INFO  impl.StateMachineUpdater (StateMachineUpdater.java:lambda$new$0(83)) - 60b001b3-1662-439d-83b7-d721b00602d4@group-B339AB5E8B2D-StateMachineUpdater: snapshotIndex: updateIncreasingly 1 -> 4
2019-09-10 17:53:55,390 [Datanode State Machine Thread - 0] INFO  statemachine.DatanodeStateMachine (DatanodeStateMachine.java:lambda$startDaemon$0(350)) - Ozone container server started.
2019-09-10 17:53:58,236 [EventQueue-StaleNodeForStaleNodeHandler] INFO  node.StaleNodeHandler (StaleNodeHandler.java:onMessage(58)) - Datanode 60b001b3-1662-439d-83b7-d721b00602d4{ip: 192.168.5.139, host: pr-hdds-1786-trunk-k6rzm-1803654198, networkLocation: /default-rack, certSerialId: null} moved to stale state. Finalizing its pipelines [PipelineID=ffa76639-dfb6-4d7a-8e84-b339ab5e8b2d]
2019-09-10 17:53:58,237 [EventQueue-StaleNodeForStaleNodeHandler] INFO  pipeline.SCMPipelineManager (SCMPipelineManager.java:finalizeAndDestroyPipeline(311)) - destroying pipeline:Pipeline[ Id: ffa76639-dfb6-4d7a-8e84-b339ab5e8b2d, Nodes: 60b001b3-1662-439d-83b7-d721b00602d4{ip: 192.168.5.139, host: pr-hdds-1786-trunk-k6rzm-1803654198, networkLocation: /default-rack, certSerialId: null}, Type:RATIS, Factor:ONE, State:OPEN]
2019-09-10 17:53:58,237 [EventQueue-StaleNodeForStaleNodeHandler] INFO  pipeline.PipelineStateManager (PipelineStateManager.java:finalizePipeline(123)) - Pipeline Pipeline[ Id: ffa76639-dfb6-4d7a-8e84-b339ab5e8b2d, Nodes: 60b001b3-1662-439d-83b7-d721b00602d4{ip: 192.168.5.139, host: pr-hdds-1786-trunk-k6rzm-1803654198, networkLocation: /default-rack, certSerialId: null}, Type:RATIS, Factor:ONE, State:CLOSED] moved to CLOSED state
2019-09-10 17:53:58,238 [EventQueue-CloseContainerForCloseContainerEventHandler] INFO  container.CloseContainerEventHandler (CloseContainerEventHandler.java:onMessage(61)) - Close container Event triggered for container : #6
2019-09-10 17:54:00,319 [main] INFO  ozoneimpl.OzoneContainer (OzoneContainer.java:stop(231)) - Attempting to stop container services.
2019-09-10 17:54:00,321 [main] INFO  impl.RaftServerProxy (RaftServerProxy.java:lambda$close$4(314)) - 60b001b3-1662-439d-83b7-d721b00602d4: close
2019-09-10 17:54:00,321 [main] INFO  impl.RaftServerImpl (RaftServerImpl.java:lambda$shutdown$3(251)) - 60b001b3-1662-439d-83b7-d721b00602d4@group-B339AB5E8B2D: shutdown
2019-09-10 17:54:00,322 [main] INFO  util.JmxRegister (JmxRegister.java:unregister(73)) - Successfully un-registered JMX Bean with object name Ratis:service=RaftServer,group=group-B339AB5E8B2D,id=60b001b3-1662-439d-83b7-d721b00602d4
2019-09-10 17:54:00,322 [main] INFO  impl.RoleInfo (RoleInfo.java:shutdownLeaderState(104)) - 60b001b3-1662-439d-83b7-d721b00602d4: shutdown LeaderState
2019-09-10 17:54:00,323 [main] INFO  impl.PendingRequests (PendingRequests.java:sendNotLeaderResponses(202)) - 60b001b3-1662-439d-83b7-d721b00602d4-PendingRequests: sendNotLeaderResponses
2019-09-10 17:54:00,328 [main] INFO  impl.StateMachineUpdater (StateMachineUpdater.java:stopAndJoin(125)) - 60b001b3-1662-439d-83b7-d721b00602d4@group-B339AB5E8B2D-StateMachineUpdater: set stopIndex = 4
2019-09-10 17:54:00,330 [main] INFO  impl.RaftServerImpl (ServerState.java:close(385)) - 60b001b3-1662-439d-83b7-d721b00602d4@group-B339AB5E8B2D: closes. applyIndex: 4
2019-09-10 17:54:00,330 [60b001b3-1662-439d-83b7-d721b00602d4@group-B339AB5E8B2D-SegmentedRaftLogWorker] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:run(313)) - 60b001b3-1662-439d-83b7-d721b00602d4@group-B339AB5E8B2D-SegmentedRaftLogWorker was interrupted, exiting. There are 0 tasks remaining in the queue.
2019-09-10 17:54:00,346 [main] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:close(228)) - 60b001b3-1662-439d-83b7-d721b00602d4@group-B339AB5E8B2D-SegmentedRaftLogWorker close()
2019-09-10 17:54:00,347 [main] INFO  server.GrpcService (GrpcService.java:closeImpl(164)) - 60b001b3-1662-439d-83b7-d721b00602d4: shutdown server with port 37239 now
2019-09-10 17:54:00,348 [main] INFO  server.GrpcService (GrpcService.java:closeImpl(172)) - 60b001b3-1662-439d-83b7-d721b00602d4: shutdown server with port 37239 successfully
2019-09-10 17:54:00,350 [refreshUsed-/workdir/hadoop-ozone/integration-test/target/test-dir/MiniOzoneClusterImpl-d01b3807-3732-4de8-b8ba-bdf98e618289/datanode-0/data/containers] WARN  fs.CachingGetSpaceUsed (CachingGetSpaceUsed.java:run(183)) - Thread Interrupted waiting to refresh disk information: sleep interrupted
2019-09-10 17:54:00,364 [main] INFO  utils.BackgroundService (BackgroundService.java:shutdown(148)) - Shutting down service BlockDeletingService
2019-09-10 17:54:00,366 [main] INFO  statemachine.DatanodeStateMachine (DatanodeStateMachine.java:stopDaemon(395)) - Ozone container server stopped.
2019-09-10 17:54:00,367 [main] INFO  handler.ContextHandler (ContextHandler.java:doStop(910)) - Stopped o.e.j.w.WebAppContext@157ec23b{/,null,UNAVAILABLE}{/hddsDatanode}
2019-09-10 17:54:00,368 [main] INFO  server.AbstractConnector (AbstractConnector.java:doStop(318)) - Stopped ServerConnector@44d64d4e{HTTP/1.1,[http/1.1]}{0.0.0.0:46502}
2019-09-10 17:54:00,368 [main] INFO  handler.ContextHandler (ContextHandler.java:doStop(910)) - Stopped o.e.j.s.ServletContextHandler@50448409{/static,jar:file:/home/user/.m2/repository/org/apache/hadoop/hadoop-hdds-container-service/0.5.0-SNAPSHOT/hadoop-hdds-container-service-0.5.0-SNAPSHOT.jar!/webapps/static,UNAVAILABLE}
2019-09-10 17:54:00,369 [main] INFO  handler.ContextHandler (ContextHandler.java:doStop(910)) - Stopped o.e.j.s.ServletContextHandler@55651434{/logs,file:///workdir/hadoop-ozone/integration-test/target/log,UNAVAILABLE}
2019-09-10 17:54:00,370 [main] INFO  ozone.MiniOzoneClusterImpl (MiniOzoneClusterImpl.java:lambda$waitForClusterToBeReady$0(140)) - Cluster is ready. Got 0 of 0 DN Heartbeats.
2019-09-10 17:54:00,372 [main] INFO  impl.MetricsSystemImpl (MetricsSystemImpl.java:init(158)) - HddsDatanode metrics system started (again)
2019-09-10 17:54:00,375 [main] INFO  ozone.HddsDatanodeService (HddsDatanodeService.java:start(184)) - HddsDatanodeService host:pr-hdds-1786-trunk-k6rzm-1803654198 ip:192.168.5.139
2019-09-10 17:54:00,377 [main] INFO  volume.VolumeUsage (VolumeUsage.java:loadScmUsed(144)) - Cached ScmUsed found for /workdir/hadoop-ozone/integration-test/target/test-dir/MiniOzoneClusterImpl-d01b3807-3732-4de8-b8ba-bdf98e618289/datanode-0/data/containers : 4096 
2019-09-10 17:54:00,377 [main] INFO  volume.HddsVolume (HddsVolume.java:<init>(176)) - Creating Volume: /workdir/hadoop-ozone/integration-test/target/test-dir/MiniOzoneClusterImpl-d01b3807-3732-4de8-b8ba-bdf98e618289/datanode-0/data/containers/hdds of  storage type : DISK and capacity : 1482555576320
2019-09-10 17:54:00,378 [main] INFO  volume.VolumeSet (VolumeSet.java:initializeVolumeSet(170)) - Added Volume : /workdir/hadoop-ozone/integration-test/target/test-dir/MiniOzoneClusterImpl-d01b3807-3732-4de8-b8ba-bdf98e618289/datanode-0/data/containers/hdds to VolumeSet
2019-09-10 17:54:00,378 [main] INFO  volume.ThrottledAsyncChecker (ThrottledAsyncChecker.java:schedule(139)) - Scheduling a check for org.apache.hadoop.ozone.container.common.volume.HddsVolume@40f35e52
2019-09-10 17:54:00,378 [main] INFO  volume.HddsVolumeChecker (HddsVolumeChecker.java:checkAllVolumes(202)) - Scheduled health check for volume org.apache.hadoop.ozone.container.common.volume.HddsVolume@40f35e52
2019-09-10 17:54:00,408 [main] INFO  impl.RaftServerProxy (ConfUtils.java:logGet(43)) - raft.rpc.type = GRPC (default)
2019-09-10 17:54:00,408 [main] INFO  grpc.GrpcFactory (GrpcFactory.java:checkPooledByteBufAllocatorUseCacheForAllThreads(45)) - PERFORMANCE WARNING: useCacheForAllThreads is true that may cause Netty to create a lot garbage objects and, as a result, trigger GC.
	It is recommended to disable useCacheForAllThreads by setting -Dorg.apache.ratis.thirdparty.io.netty.allocator.useCacheForAllThreads=false in command line.
2019-09-10 17:54:00,408 [main] INFO  grpc.GrpcConfigKeys$Server (ConfUtils.java:logGet(43)) - raft.grpc.server.port = 37239 (custom)
2019-09-10 17:54:00,408 [main] INFO  server.GrpcService (ConfUtils.java:logGet(43)) - raft.grpc.message.size.max = 33570816 (custom)
2019-09-10 17:54:00,409 [main] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.log.appender.buffer.byte-limit = 33554432 (custom)
2019-09-10 17:54:00,409 [main] INFO  server.GrpcService (ConfUtils.java:logGet(43)) - raft.grpc.flow.control.window = 1MB (=1048576) (default)
2019-09-10 17:54:00,409 [main] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.rpc.request.timeout = 3000ms (default)
2019-09-10 17:54:00,410 [main] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.storage.dir = [/workdir/hadoop-ozone/integration-test/target/test-dir/MiniOzoneClusterImpl-d01b3807-3732-4de8-b8ba-bdf98e618289/datanode-0/data/ratis] (custom)
2019-09-10 17:54:00,410 [main] INFO  impl.RaftServerProxy (RaftServerProxy.java:lambda$null$0(191)) - 60b001b3-1662-439d-83b7-d721b00602d4: found a subdirectory /workdir/hadoop-ozone/integration-test/target/test-dir/MiniOzoneClusterImpl-d01b3807-3732-4de8-b8ba-bdf98e618289/datanode-0/data/ratis/ffa76639-dfb6-4d7a-8e84-b339ab5e8b2d
2019-09-10 17:54:00,410 [main] INFO  impl.RaftServerProxy (RaftServerProxy.java:addNew(89)) - 60b001b3-1662-439d-83b7-d721b00602d4: addNew group-B339AB5E8B2D:[] returns group-B339AB5E8B2D:java.util.concurrent.CompletableFuture@3003e580[Not completed]
2019-09-10 17:54:00,412 [main] INFO  hdfs.DFSUtil (DFSUtil.java:httpServerTemplateForNNAndJN(1641)) - Starting Web-server for hddsDatanode at: http://0.0.0.0:46502
2019-09-10 17:54:00,414 [pool-75-thread-1] INFO  impl.RaftServerImpl (RaftServerImpl.java:<init>(95)) - 60b001b3-1662-439d-83b7-d721b00602d4: new RaftServerImpl for group-B339AB5E8B2D:[] with ContainerStateMachine:uninitialized
2019-09-10 17:54:00,414 [pool-75-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.rpc.timeout.min = 5s (custom)
2019-09-10 17:54:00,415 [pool-75-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.rpc.timeout.max = 5200ms (custom)
2019-09-10 17:54:00,415 [pool-75-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.rpcslowness.timeout = 120s (custom)
2019-09-10 17:54:00,415 [pool-75-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.sleep.deviation.threshold = 300 (default)
2019-09-10 17:54:00,415 [pool-75-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.log.appender.install.snapshot.enabled = false (custom)
2019-09-10 17:54:00,415 [pool-75-thread-1] INFO  impl.RaftServerImpl (ServerState.java:<init>(103)) - 60b001b3-1662-439d-83b7-d721b00602d4@group-B339AB5E8B2D: ConfigurationManager, init=-1: [], old=null, confs=<EMPTY_MAP>
2019-09-10 17:54:00,416 [pool-75-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.storage.dir = [/workdir/hadoop-ozone/integration-test/target/test-dir/MiniOzoneClusterImpl-d01b3807-3732-4de8-b8ba-bdf98e618289/datanode-0/data/ratis] (custom)
2019-09-10 17:54:00,416 [main] INFO  server.AuthenticationFilter (AuthenticationFilter.java:constructSecretProvider(240)) - Unable to initialize FileSignerSecretProvider, falling back to use random secrets.
2019-09-10 17:54:00,416 [main] WARN  http.HttpRequestLog (HttpRequestLog.java:getRequestLog(97)) - Jetty request log can only be enabled using Log4j
2019-09-10 17:54:00,418 [main] INFO  http.HttpServer2 (HttpServer2.java:addGlobalFilter(975)) - Added global filter 'safety' (class=org.apache.hadoop.http.HttpServer2$QuotingInputFilter)
2019-09-10 17:54:00,418 [main] INFO  http.HttpServer2 (HttpServer2.java:addFilter(948)) - Added filter static_user_filter (class=org.apache.hadoop.http.lib.StaticUserWebFilter$StaticUserFilter) to context hddsDatanode
2019-09-10 17:54:00,419 [main] INFO  http.HttpServer2 (HttpServer2.java:addFilter(958)) - Added filter static_user_filter (class=org.apache.hadoop.http.lib.StaticUserWebFilter$StaticUserFilter) to context logs
2019-09-10 17:54:00,419 [main] INFO  http.HttpServer2 (HttpServer2.java:addFilter(958)) - Added filter static_user_filter (class=org.apache.hadoop.http.lib.StaticUserWebFilter$StaticUserFilter) to context static
2019-09-10 17:54:00,419 [main] INFO  http.HttpServer2 (HttpServer2.java:bindListener(1191)) - Jetty bound to port 46502
2019-09-10 17:54:00,420 [main] INFO  server.Server (Server.java:doStart(351)) - jetty-9.3.24.v20180605, build timestamp: 2018-06-05T17:11:56Z, git hash: 84205aa28f11a4f31f2a3b86d1bba2cc8ab69827
2019-09-10 17:54:00,422 [main] INFO  handler.ContextHandler (ContextHandler.java:doStart(781)) - Started o.e.j.s.ServletContextHandler@30839e44{/logs,file:///workdir/hadoop-ozone/integration-test/target/log,AVAILABLE}
2019-09-10 17:54:00,422 [main] INFO  handler.ContextHandler (ContextHandler.java:doStart(781)) - Started o.e.j.s.ServletContextHandler@1945113f{/static,jar:file:/home/user/.m2/repository/org/apache/hadoop/hadoop-hdds-container-service/0.5.0-SNAPSHOT/hadoop-hdds-container-service-0.5.0-SNAPSHOT.jar!/webapps/static,AVAILABLE}
2019-09-10 17:54:00,429 [pool-75-thread-1] INFO  storage.RaftStorageDirectory (RaftStorageDirectory.java:tryLock(328)) - Lock on /workdir/hadoop-ozone/integration-test/target/test-dir/MiniOzoneClusterImpl-d01b3807-3732-4de8-b8ba-bdf98e618289/datanode-0/data/ratis/ffa76639-dfb6-4d7a-8e84-b339ab5e8b2d/in_use.lock acquired by nodename 23020@pr-hdds-1786-trunk-k6rzm-1803654198
2019-09-10 17:54:00,430 [pool-75-thread-1] INFO  ratis.ContainerStateMachine (ContainerStateMachine.java:loadSnapshot(239)) - group-B339AB5E8B2D: Setting the last applied index to (t:1, i:4)
2019-09-10 17:54:00,431 [pool-75-thread-1] INFO  impl.RaftServerImpl (ServerState.java:setRaftConf(354)) - 60b001b3-1662-439d-83b7-d721b00602d4@group-B339AB5E8B2D: set configuration 0: [60b001b3-1662-439d-83b7-d721b00602d4:192.168.5.139:37239], old=null at 0
2019-09-10 17:54:00,431 [pool-75-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.notification.no-leader.timeout = 120s (custom)
2019-09-10 17:54:00,431 [pool-75-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.log.use.memory = false (default)
2019-09-10 17:54:00,431 [pool-75-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.log.purge.gap = 1000000 (custom)
2019-09-10 17:54:00,432 [pool-75-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.log.appender.buffer.byte-limit = 33554432 (custom)
2019-09-10 17:54:00,432 [pool-75-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.log.segment.size.max = 1048576 (custom)
2019-09-10 17:54:00,432 [pool-75-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.log.segment.cache.num.max = 2 (custom)
2019-09-10 17:54:00,432 [pool-75-thread-1] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:<init>(172)) - new 60b001b3-1662-439d-83b7-d721b00602d4@group-B339AB5E8B2D-SegmentedRaftLogWorker for RaftStorage:Storage Directory /workdir/hadoop-ozone/integration-test/target/test-dir/MiniOzoneClusterImpl-d01b3807-3732-4de8-b8ba-bdf98e618289/datanode-0/data/ratis/ffa76639-dfb6-4d7a-8e84-b339ab5e8b2d
2019-09-10 17:54:00,432 [pool-75-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.log.queue.byte-limit = 2147483647 (custom)
2019-09-10 17:54:00,432 [pool-75-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.log.queue.element-limit = 1024 (custom)
2019-09-10 17:54:00,433 [pool-75-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.log.segment.size.max = 1048576 (custom)
2019-09-10 17:54:00,433 [pool-75-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.log.preallocated.size = 16384 (custom)
2019-09-10 17:54:00,433 [pool-75-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.log.write.buffer.size = 33554432 (custom)
2019-09-10 17:54:00,433 [pool-75-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.log.force.sync.num = 128 (default)
2019-09-10 17:54:00,433 [pool-75-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.log.statemachine.data.sync = true (default)
2019-09-10 17:54:00,433 [pool-75-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.log.statemachine.data.sync.timeout = 10s (default)
2019-09-10 17:54:00,433 [pool-75-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.log.statemachine.data.sync.timeout.retry = -1 (default)
2019-09-10 17:54:00,434 [pool-75-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.log.statemachine.data.caching.enabled = true (custom)
2019-09-10 17:54:00,434 [pool-75-thread-1] INFO  impl.RaftServerImpl (ServerState.java:setRaftConf(354)) - 60b001b3-1662-439d-83b7-d721b00602d4@group-B339AB5E8B2D: set configuration 0: [60b001b3-1662-439d-83b7-d721b00602d4:192.168.5.139:37239], old=null at 0
2019-09-10 17:54:00,435 [pool-75-thread-1] INFO  segmented.LogSegment (LogSegment.java:loadSegment(123)) - Successfully read 5 entries from segment file /workdir/hadoop-ozone/integration-test/target/test-dir/MiniOzoneClusterImpl-d01b3807-3732-4de8-b8ba-bdf98e618289/datanode-0/data/ratis/ffa76639-dfb6-4d7a-8e84-b339ab5e8b2d/current/log_inprogress_0
2019-09-10 17:54:00,435 [pool-75-thread-1] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:lambda$new$0(132)) - 60b001b3-1662-439d-83b7-d721b00602d4@group-B339AB5E8B2D-SegmentedRaftLogWorker: flushIndex: setUnconditionally 0 -> 4
2019-09-10 17:54:00,452 [main] INFO  handler.ContextHandler (ContextHandler.java:doStart(781)) - Started o.e.j.w.WebAppContext@411a5965{/,file:///tmp/jetty-0.0.0.0-46502-hddsDatanode-_-any-4147240583609933861.dir/webapp/,AVAILABLE}{/hddsDatanode}
2019-09-10 17:54:00,452 [main] INFO  server.AbstractConnector (AbstractConnector.java:doStart(278)) - Started ServerConnector@4fe533ff{HTTP/1.1,[http/1.1]}{0.0.0.0:46502}
2019-09-10 17:54:00,463 [pool-75-thread-1] INFO  raftlog.RaftLog (RaftLog.java:lambda$new$0(61)) - 60b001b3-1662-439d-83b7-d721b00602d4@group-B339AB5E8B2D-SegmentedRaftLog: commitIndex: updateToMax old=4, new=3, updated? false
2019-09-10 17:54:00,463 [main] INFO  server.Server (Server.java:doStart(419)) - Started @110799ms
2019-09-10 17:54:00,463 [main] WARN  impl.MetricsSystemImpl (MetricsSystemImpl.java:register(276)) - Sink prometheus already exists!
2019-09-10 17:54:00,463 [pool-75-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.snapshot.auto.trigger.enabled = true (custom)
2019-09-10 17:54:00,464 [pool-75-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.snapshot.auto.trigger.threshold = 1 (custom)
2019-09-10 17:54:00,464 [pool-75-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.snapshot.retention.num.files = 5 (custom)
2019-09-10 17:54:00,464 [pool-75-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.retrycache.expirytime = 600000ms (custom)
2019-09-10 17:54:00,464 [main] INFO  server.BaseHttpServer (BaseHttpServer.java:updateConnectorAddress(215)) - HTTP server of HDDSDATANODE is listening at http://0.0.0.0:46502
2019-09-10 17:54:00,465 [main] INFO  ozone.MiniOzoneClusterImpl (MiniOzoneClusterImpl.java:lambda$waitForClusterToBeReady$0(140)) - Waiting for cluster to be ready. Got 0 of 1 DN Heartbeats.
2019-09-10 17:54:00,466 [org.apache.hadoop.util.JvmPauseMonitor$Monitor@c49221b] INFO  util.JvmPauseMonitor (JvmPauseMonitor.java:run(188)) - Starting JVM pause monitor
2019-09-10 17:54:01,465 [main] INFO  ozone.MiniOzoneClusterImpl (MiniOzoneClusterImpl.java:lambda$waitForClusterToBeReady$0(140)) - Waiting for cluster to be ready. Got 0 of 1 DN Heartbeats.
2019-09-10 17:54:02,465 [main] INFO  ozone.MiniOzoneClusterImpl (MiniOzoneClusterImpl.java:lambda$waitForClusterToBeReady$0(140)) - Waiting for cluster to be ready. Got 0 of 1 DN Heartbeats.
2019-09-10 17:54:02,469 [Datanode State Machine Thread - 0] INFO  ozoneimpl.OzoneContainer (OzoneContainer.java:start(217)) - Attempting to start container services.
2019-09-10 17:54:02,469 [Datanode State Machine Thread - 0] INFO  ozoneimpl.OzoneContainer (OzoneContainer.java:startContainerScrub(179)) - Background container scanner has been disabled.
2019-09-10 17:54:02,469 [Datanode State Machine Thread - 0] INFO  ratis.XceiverServerRatis (XceiverServerRatis.java:start(411)) - Starting XceiverServerRatis 60b001b3-1662-439d-83b7-d721b00602d4 at port 37239
2019-09-10 17:54:02,478 [Datanode State Machine Thread - 0] INFO  impl.RaftServerImpl (RaftServerImpl.java:start(185)) - 60b001b3-1662-439d-83b7-d721b00602d4@group-B339AB5E8B2D: start as a follower, conf=0: [60b001b3-1662-439d-83b7-d721b00602d4:192.168.5.139:37239], old=null
2019-09-10 17:54:02,478 [Datanode State Machine Thread - 0] INFO  impl.RaftServerImpl (RaftServerImpl.java:setRole(174)) - 60b001b3-1662-439d-83b7-d721b00602d4@group-B339AB5E8B2D: changes role from      null to FOLLOWER at term 1 for startAsFollower
2019-09-10 17:54:02,478 [Datanode State Machine Thread - 0] INFO  impl.RoleInfo (RoleInfo.java:updateAndGet(143)) - 60b001b3-1662-439d-83b7-d721b00602d4: start FollowerState
2019-09-10 17:54:02,479 [Datanode State Machine Thread - 0] INFO  util.JmxRegister (JmxRegister.java:tryRegister(44)) - Successfully registered JMX Bean with object name Ratis:service=RaftServer,group=group-B339AB5E8B2D,id=60b001b3-1662-439d-83b7-d721b00602d4
2019-09-10 17:54:02,480 [Datanode State Machine Thread - 0] INFO  impl.RaftServerProxy (RaftServerProxy.java:lambda$start$3(299)) - 60b001b3-1662-439d-83b7-d721b00602d4: start RPC server
2019-09-10 17:54:02,483 [Datanode State Machine Thread - 0] INFO  server.GrpcService (GrpcService.java:startImpl(158)) - 60b001b3-1662-439d-83b7-d721b00602d4: GrpcService started, listening on 0.0.0.0/0.0.0.0:37239
2019-09-10 17:54:03,466 [main] INFO  ozone.MiniOzoneClusterImpl (MiniOzoneClusterImpl.java:lambda$waitForClusterToBeReady$0(140)) - Waiting for cluster to be ready. Got 0 of 1 DN Heartbeats.
2019-09-10 17:54:04,467 [main] INFO  ozone.MiniOzoneClusterImpl (MiniOzoneClusterImpl.java:lambda$waitForClusterToBeReady$0(140)) - Waiting for cluster to be ready. Got 0 of 1 DN Heartbeats.
2019-09-10 17:54:05,469 [main] INFO  ozone.MiniOzoneClusterImpl (MiniOzoneClusterImpl.java:lambda$waitForClusterToBeReady$0(140)) - Waiting for cluster to be ready. Got 0 of 1 DN Heartbeats.
2019-09-10 17:54:06,470 [main] INFO  ozone.MiniOzoneClusterImpl (MiniOzoneClusterImpl.java:lambda$waitForClusterToBeReady$0(140)) - Waiting for cluster to be ready. Got 0 of 1 DN Heartbeats.
2019-09-10 17:54:06,565 [grpc-default-executor-0] INFO  impl.RaftServerProxy (RaftServerProxy.java:addNew(89)) - 60b001b3-1662-439d-83b7-d721b00602d4: addNew group-7DBFE17CF3C0:[60b001b3-1662-439d-83b7-d721b00602d4:192.168.5.139:37239] returns group-7DBFE17CF3C0:java.util.concurrent.CompletableFuture@66d81124[Not completed]
2019-09-10 17:54:06,567 [pool-75-thread-1] INFO  impl.RaftServerImpl (RaftServerImpl.java:<init>(95)) - 60b001b3-1662-439d-83b7-d721b00602d4: new RaftServerImpl for group-7DBFE17CF3C0:[60b001b3-1662-439d-83b7-d721b00602d4:192.168.5.139:37239] with ContainerStateMachine:uninitialized
2019-09-10 17:54:06,567 [pool-75-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.rpc.timeout.min = 5s (custom)
2019-09-10 17:54:06,567 [pool-75-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.rpc.timeout.max = 5200ms (custom)
2019-09-10 17:54:06,567 [pool-75-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.rpcslowness.timeout = 120s (custom)
2019-09-10 17:54:06,567 [pool-75-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.sleep.deviation.threshold = 300 (default)
2019-09-10 17:54:06,567 [pool-75-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.log.appender.install.snapshot.enabled = false (custom)
2019-09-10 17:54:06,568 [pool-75-thread-1] INFO  impl.RaftServerImpl (ServerState.java:<init>(103)) - 60b001b3-1662-439d-83b7-d721b00602d4@group-7DBFE17CF3C0: ConfigurationManager, init=-1: [60b001b3-1662-439d-83b7-d721b00602d4:192.168.5.139:37239], old=null, confs=<EMPTY_MAP>
2019-09-10 17:54:06,568 [pool-75-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.storage.dir = [/workdir/hadoop-ozone/integration-test/target/test-dir/MiniOzoneClusterImpl-d01b3807-3732-4de8-b8ba-bdf98e618289/datanode-0/data/ratis] (custom)
2019-09-10 17:54:06,568 [pool-75-thread-1] INFO  storage.RaftStorageDirectory (RaftStorageDirectory.java:analyzeStorage(246)) - The storage directory /workdir/hadoop-ozone/integration-test/target/test-dir/MiniOzoneClusterImpl-d01b3807-3732-4de8-b8ba-bdf98e618289/datanode-0/data/ratis/cdf2afe6-8283-403d-8cc1-7dbfe17cf3c0 does not exist. Creating ...
2019-09-10 17:54:06,728 [pool-75-thread-1] INFO  storage.RaftStorageDirectory (RaftStorageDirectory.java:tryLock(328)) - Lock on /workdir/hadoop-ozone/integration-test/target/test-dir/MiniOzoneClusterImpl-d01b3807-3732-4de8-b8ba-bdf98e618289/datanode-0/data/ratis/cdf2afe6-8283-403d-8cc1-7dbfe17cf3c0/in_use.lock acquired by nodename 23020@pr-hdds-1786-trunk-k6rzm-1803654198
2019-09-10 17:54:06,757 [pool-75-thread-1] INFO  storage.RaftStorage (RaftStorage.java:format(72)) - Storage directory /workdir/hadoop-ozone/integration-test/target/test-dir/MiniOzoneClusterImpl-d01b3807-3732-4de8-b8ba-bdf98e618289/datanode-0/data/ratis/cdf2afe6-8283-403d-8cc1-7dbfe17cf3c0 has been successfully formatted.
2019-09-10 17:54:06,757 [pool-75-thread-1] INFO  ratis.ContainerStateMachine (ContainerStateMachine.java:loadSnapshot(230)) - group-7DBFE17CF3C0: The snapshot info is null. Setting the last applied indexto:(t:0, i:~)
2019-09-10 17:54:06,758 [pool-75-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.notification.no-leader.timeout = 120s (custom)
2019-09-10 17:54:06,758 [pool-75-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.log.use.memory = false (default)
2019-09-10 17:54:06,758 [pool-75-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.log.purge.gap = 1000000 (custom)
2019-09-10 17:54:06,758 [pool-75-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.log.appender.buffer.byte-limit = 33554432 (custom)
2019-09-10 17:54:06,759 [pool-75-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.log.segment.size.max = 1048576 (custom)
2019-09-10 17:54:06,759 [pool-75-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.log.segment.cache.num.max = 2 (custom)
2019-09-10 17:54:06,759 [pool-75-thread-1] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:<init>(172)) - new 60b001b3-1662-439d-83b7-d721b00602d4@group-7DBFE17CF3C0-SegmentedRaftLogWorker for RaftStorage:Storage Directory /workdir/hadoop-ozone/integration-test/target/test-dir/MiniOzoneClusterImpl-d01b3807-3732-4de8-b8ba-bdf98e618289/datanode-0/data/ratis/cdf2afe6-8283-403d-8cc1-7dbfe17cf3c0
2019-09-10 17:54:06,759 [pool-75-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.log.queue.byte-limit = 2147483647 (custom)
2019-09-10 17:54:06,760 [pool-75-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.log.queue.element-limit = 1024 (custom)
2019-09-10 17:54:06,760 [pool-75-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.log.segment.size.max = 1048576 (custom)
2019-09-10 17:54:06,760 [pool-75-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.log.preallocated.size = 16384 (custom)
2019-09-10 17:54:06,760 [pool-75-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.log.write.buffer.size = 33554432 (custom)
2019-09-10 17:54:06,760 [pool-75-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.log.force.sync.num = 128 (default)
2019-09-10 17:54:06,761 [pool-75-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.log.statemachine.data.sync = true (default)
2019-09-10 17:54:06,761 [pool-75-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.log.statemachine.data.sync.timeout = 10s (default)
2019-09-10 17:54:06,761 [pool-75-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.log.statemachine.data.sync.timeout.retry = -1 (default)
2019-09-10 17:54:06,761 [pool-75-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.log.statemachine.data.caching.enabled = true (custom)
2019-09-10 17:54:06,762 [pool-75-thread-1] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:lambda$new$0(132)) - 60b001b3-1662-439d-83b7-d721b00602d4@group-7DBFE17CF3C0-SegmentedRaftLogWorker: flushIndex: setUnconditionally 0 -> -1
2019-09-10 17:54:06,762 [pool-75-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.snapshot.auto.trigger.enabled = true (custom)
2019-09-10 17:54:06,763 [pool-75-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.snapshot.auto.trigger.threshold = 1 (custom)
2019-09-10 17:54:06,763 [pool-75-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.snapshot.retention.num.files = 5 (custom)
2019-09-10 17:54:06,763 [pool-75-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.retrycache.expirytime = 600000ms (custom)
2019-09-10 17:54:06,767 [pool-75-thread-1] INFO  impl.RaftServerImpl (RaftServerImpl.java:start(185)) - 60b001b3-1662-439d-83b7-d721b00602d4@group-7DBFE17CF3C0: start as a follower, conf=-1: [60b001b3-1662-439d-83b7-d721b00602d4:192.168.5.139:37239], old=null
2019-09-10 17:54:06,767 [pool-75-thread-1] INFO  impl.RaftServerImpl (RaftServerImpl.java:setRole(174)) - 60b001b3-1662-439d-83b7-d721b00602d4@group-7DBFE17CF3C0: changes role from      null to FOLLOWER at term 0 for startAsFollower
2019-09-10 17:54:06,768 [pool-75-thread-1] INFO  impl.RoleInfo (RoleInfo.java:updateAndGet(143)) - 60b001b3-1662-439d-83b7-d721b00602d4: start FollowerState
2019-09-10 17:54:06,768 [pool-75-thread-1] INFO  util.JmxRegister (JmxRegister.java:tryRegister(44)) - Successfully registered JMX Bean with object name Ratis:service=RaftServer,group=group-7DBFE17CF3C0,id=60b001b3-1662-439d-83b7-d721b00602d4
2019-09-10 17:54:06,775 [RatisPipelineUtilsThread] INFO  pipeline.PipelineStateManager (PipelineStateManager.java:addPipeline(56)) - Created pipeline Pipeline[ Id: cdf2afe6-8283-403d-8cc1-7dbfe17cf3c0, Nodes: 60b001b3-1662-439d-83b7-d721b00602d4{ip: 192.168.5.139, host: pr-hdds-1786-trunk-k6rzm-1803654198, networkLocation: /default-rack, certSerialId: null}, Type:RATIS, Factor:ONE, State:OPEN]
2019-09-10 17:54:07,472 [main] INFO  ozone.MiniOzoneClusterImpl (MiniOzoneClusterImpl.java:lambda$waitForClusterToBeReady$0(140)) - Cluster is ready. Got 1 of 1 DN Heartbeats.
2019-09-10 17:54:07,476 [main] INFO  keyvalue.KeyValueHandler (ContainerUtils.java:logAndReturnError(146)) - Operation: CloseContainer : Trace ID:  : Message: Cannot close container #5 while in UNHEALTHY state. : Result: CONTAINER_UNHEALTHY
17:54:07.476 [main] ERROR DNAudit - user=null | ip=null | op=CLOSE_CONTAINER {containerID=5} | ret=FAILURE
java.lang.Exception: Cannot close container #5 while in UNHEALTHY state.
	at org.apache.hadoop.ozone.container.common.impl.HddsDispatcher.dispatchRequest(HddsDispatcher.java:327) [hadoop-hdds-container-service-0.5.0-SNAPSHOT.jar:?]
	at org.apache.hadoop.ozone.container.common.impl.HddsDispatcher.dispatch(HddsDispatcher.java:150) [hadoop-hdds-container-service-0.5.0-SNAPSHOT.jar:?]
	at org.apache.hadoop.ozone.client.rpc.TestContainerStateMachineFailures.testUnhealthyContainer(TestContainerStateMachineFailures.java:274) [test-classes/:?]
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method) ~[?:1.8.0_212]
	at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62) ~[?:1.8.0_212]
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43) ~[?:1.8.0_212]
	at java.lang.reflect.Method.invoke(Method.java:498) ~[?:1.8.0_212]
	at org.junit.runners.model.FrameworkMethod$1.runReflectiveCall(FrameworkMethod.java:47) [junit-4.11.jar:?]
	at org.junit.internal.runners.model.ReflectiveCallable.run(ReflectiveCallable.java:12) [junit-4.11.jar:?]
	at org.junit.runners.model.FrameworkMethod.invokeExplosively(FrameworkMethod.java:44) [junit-4.11.jar:?]
	at org.junit.internal.runners.statements.InvokeMethod.evaluate(InvokeMethod.java:17) [junit-4.11.jar:?]
	at org.junit.runners.ParentRunner.runLeaf(ParentRunner.java:271) [junit-4.11.jar:?]
	at org.junit.runners.BlockJUnit4ClassRunner.runChild(BlockJUnit4ClassRunner.java:70) [junit-4.11.jar:?]
	at org.junit.runners.BlockJUnit4ClassRunner.runChild(BlockJUnit4ClassRunner.java:50) [junit-4.11.jar:?]
	at org.junit.runners.ParentRunner$3.run(ParentRunner.java:238) [junit-4.11.jar:?]
	at org.junit.runners.ParentRunner$1.schedule(ParentRunner.java:63) [junit-4.11.jar:?]
	at org.junit.runners.ParentRunner.runChildren(ParentRunner.java:236) [junit-4.11.jar:?]
	at org.junit.runners.ParentRunner.access$000(ParentRunner.java:53) [junit-4.11.jar:?]
	at org.junit.runners.ParentRunner$2.evaluate(ParentRunner.java:229) [junit-4.11.jar:?]
	at org.junit.internal.runners.statements.RunBefores.evaluate(RunBefores.java:26) [junit-4.11.jar:?]
	at org.junit.internal.runners.statements.RunAfters.evaluate(RunAfters.java:27) [junit-4.11.jar:?]
	at org.junit.runners.ParentRunner.run(ParentRunner.java:309) [junit-4.11.jar:?]
	at org.apache.maven.surefire.junit4.JUnit4Provider.execute(JUnit4Provider.java:365) [surefire-junit4-3.0.0-M1.jar:3.0.0-M1]
	at org.apache.maven.surefire.junit4.JUnit4Provider.executeWithRerun(JUnit4Provider.java:273) [surefire-junit4-3.0.0-M1.jar:3.0.0-M1]
	at org.apache.maven.surefire.junit4.JUnit4Provider.executeTestSet(JUnit4Provider.java:238) [surefire-junit4-3.0.0-M1.jar:3.0.0-M1]
	at org.apache.maven.surefire.junit4.JUnit4Provider.invoke(JUnit4Provider.java:159) [surefire-junit4-3.0.0-M1.jar:3.0.0-M1]
	at org.apache.maven.surefire.booter.ForkedBooter.invokeProviderInSameClassLoader(ForkedBooter.java:384) [surefire-booter-3.0.0-M1.jar:3.0.0-M1]
	at org.apache.maven.surefire.booter.ForkedBooter.runSuitesInProcess(ForkedBooter.java:345) [surefire-booter-3.0.0-M1.jar:3.0.0-M1]
	at org.apache.maven.surefire.booter.ForkedBooter.execute(ForkedBooter.java:126) [surefire-booter-3.0.0-M1.jar:3.0.0-M1]
	at org.apache.maven.surefire.booter.ForkedBooter.main(ForkedBooter.java:418) [surefire-booter-3.0.0-M1.jar:3.0.0-M1]
2019-09-10 17:54:07,500 [EventQueue-CloseContainerForCloseContainerEventHandler] INFO  container.CloseContainerEventHandler (CloseContainerEventHandler.java:onMessage(61)) - Close container Event triggered for container : #5
2019-09-10 17:54:07,515 [grpc-default-executor-0] INFO  client.GrpcClientProtocolClient (GrpcClientProtocolClient.java:onNext(264)) - client-585C56F256D2->60b001b3-1662-439d-83b7-d721b00602d4: receive RaftClientReply:client-585C56F256D2->60b001b3-1662-439d-83b7-d721b00602d4@group-7DBFE17CF3C0, cid=30, FAILED org.apache.ratis.protocol.NotLeaderException: Server 60b001b3-1662-439d-83b7-d721b00602d4@group-7DBFE17CF3C0 is not the leader, logIndex=0, commits[60b001b3-1662-439d-83b7-d721b00602d4:c-1]
2019-09-10 17:54:07,581 [Thread-342] INFO  impl.FollowerState (FollowerState.java:run(106)) - 60b001b3-1662-439d-83b7-d721b00602d4:group-B339AB5E8B2D changes to CANDIDATE, lastRpcTime:5102, electionTimeout:5102ms
2019-09-10 17:54:07,582 [Thread-342] INFO  impl.RoleInfo (RoleInfo.java:shutdownFollowerState(121)) - 60b001b3-1662-439d-83b7-d721b00602d4: shutdown FollowerState
2019-09-10 17:54:07,582 [Thread-342] INFO  impl.RaftServerImpl (RaftServerImpl.java:setRole(174)) - 60b001b3-1662-439d-83b7-d721b00602d4@group-B339AB5E8B2D: changes role from  FOLLOWER to CANDIDATE at term 1 for changeToCandidate
2019-09-10 17:54:07,582 [Thread-342] INFO  impl.RoleInfo (RoleInfo.java:updateAndGet(143)) - 60b001b3-1662-439d-83b7-d721b00602d4: start LeaderElection
2019-09-10 17:54:07,597 [60b001b3-1662-439d-83b7-d721b00602d4@group-B339AB5E8B2D:LeaderElection10] INFO  impl.LeaderElection (LeaderElection.java:askForVotes(182)) - 60b001b3-1662-439d-83b7-d721b00602d4@group-B339AB5E8B2D:LeaderElection10: begin an election at term 2 for 0: [60b001b3-1662-439d-83b7-d721b00602d4:192.168.5.139:37239], old=null
2019-09-10 17:54:07,598 [60b001b3-1662-439d-83b7-d721b00602d4@group-B339AB5E8B2D:LeaderElection10] INFO  impl.RoleInfo (RoleInfo.java:shutdownLeaderElection(134)) - 60b001b3-1662-439d-83b7-d721b00602d4: shutdown LeaderElection
2019-09-10 17:54:07,598 [60b001b3-1662-439d-83b7-d721b00602d4@group-B339AB5E8B2D:LeaderElection10] INFO  impl.RaftServerImpl (RaftServerImpl.java:setRole(174)) - 60b001b3-1662-439d-83b7-d721b00602d4@group-B339AB5E8B2D: changes role from CANDIDATE to LEADER at term 2 for changeToLeader
2019-09-10 17:54:07,598 [60b001b3-1662-439d-83b7-d721b00602d4@group-B339AB5E8B2D:LeaderElection10] INFO  impl.RaftServerImpl (ServerState.java:setLeader(253)) - 60b001b3-1662-439d-83b7-d721b00602d4@group-B339AB5E8B2D: change Leader from null to 60b001b3-1662-439d-83b7-d721b00602d4 at term 2 for becomeLeader, leader elected after 7166ms
2019-09-10 17:54:07,598 [60b001b3-1662-439d-83b7-d721b00602d4@group-B339AB5E8B2D:LeaderElection10] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.staging.catchup.gap = 1000 (default)
2019-09-10 17:54:07,598 [60b001b3-1662-439d-83b7-d721b00602d4@group-B339AB5E8B2D:LeaderElection10] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.rpc.sleep.time = 25ms (default)
2019-09-10 17:54:07,598 [60b001b3-1662-439d-83b7-d721b00602d4@group-B339AB5E8B2D:LeaderElection10] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.write.element-limit = 4096 (default)
2019-09-10 17:54:07,599 [60b001b3-1662-439d-83b7-d721b00602d4@group-B339AB5E8B2D:LeaderElection10] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.watch.timeout = 10s (default)
2019-09-10 17:54:07,599 [60b001b3-1662-439d-83b7-d721b00602d4@group-B339AB5E8B2D:LeaderElection10] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.watch.timeout.denomination = 1s (default)
2019-09-10 17:54:07,599 [60b001b3-1662-439d-83b7-d721b00602d4@group-B339AB5E8B2D:LeaderElection10] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.watch.element-limit = 65536 (default)
2019-09-10 17:54:07,599 [60b001b3-1662-439d-83b7-d721b00602d4@group-B339AB5E8B2D:LeaderElection10] INFO  impl.RoleInfo (RoleInfo.java:updateAndGet(143)) - 60b001b3-1662-439d-83b7-d721b00602d4: start LeaderState
2019-09-10 17:54:07,600 [60b001b3-1662-439d-83b7-d721b00602d4@group-B339AB5E8B2D:LeaderElection10] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:rollLogSegment(385)) - 60b001b3-1662-439d-83b7-d721b00602d4@group-B339AB5E8B2D-SegmentedRaftLogWorker: Rolling segment log-0_4 to index:4
2019-09-10 17:54:07,601 [60b001b3-1662-439d-83b7-d721b00602d4@group-B339AB5E8B2D:LeaderElection10] INFO  impl.RaftServerImpl (ServerState.java:setRaftConf(354)) - 60b001b3-1662-439d-83b7-d721b00602d4@group-B339AB5E8B2D: set configuration 5: [60b001b3-1662-439d-83b7-d721b00602d4:192.168.5.139:37239], old=null at 5
2019-09-10 17:54:07,602 [60b001b3-1662-439d-83b7-d721b00602d4@group-B339AB5E8B2D-SegmentedRaftLogWorker] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:execute(526)) - 60b001b3-1662-439d-83b7-d721b00602d4@group-B339AB5E8B2D-SegmentedRaftLogWorker: Rolled log segment from /workdir/hadoop-ozone/integration-test/target/test-dir/MiniOzoneClusterImpl-d01b3807-3732-4de8-b8ba-bdf98e618289/datanode-0/data/ratis/ffa76639-dfb6-4d7a-8e84-b339ab5e8b2d/current/log_inprogress_0 to /workdir/hadoop-ozone/integration-test/target/test-dir/MiniOzoneClusterImpl-d01b3807-3732-4de8-b8ba-bdf98e618289/datanode-0/data/ratis/ffa76639-dfb6-4d7a-8e84-b339ab5e8b2d/current/log_0-4
2019-09-10 17:54:07,654 [60b001b3-1662-439d-83b7-d721b00602d4@group-B339AB5E8B2D-SegmentedRaftLogWorker] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:execute(569)) - 60b001b3-1662-439d-83b7-d721b00602d4@group-B339AB5E8B2D-SegmentedRaftLogWorker: created new log segment /workdir/hadoop-ozone/integration-test/target/test-dir/MiniOzoneClusterImpl-d01b3807-3732-4de8-b8ba-bdf98e618289/datanode-0/data/ratis/ffa76639-dfb6-4d7a-8e84-b339ab5e8b2d/current/log_inprogress_5
2019-09-10 17:54:07,667 [60b001b3-1662-439d-83b7-d721b00602d4@group-B339AB5E8B2D-StateMachineUpdater] INFO  ratis.ContainerStateMachine (ContainerStateMachine.java:takeSnapshot(289)) - group-B339AB5E8B2D: Taking a snapshot at:(t:1, i:4) file /workdir/hadoop-ozone/integration-test/target/test-dir/MiniOzoneClusterImpl-d01b3807-3732-4de8-b8ba-bdf98e618289/datanode-0/data/ratis/ffa76639-dfb6-4d7a-8e84-b339ab5e8b2d/sm/snapshot.1_4
2019-09-10 17:54:07,689 [60b001b3-1662-439d-83b7-d721b00602d4@group-B339AB5E8B2D-StateMachineUpdater] INFO  ratis.ContainerStateMachine (ContainerStateMachine.java:takeSnapshot(300)) - group-B339AB5E8B2D: Finished taking a snapshot at:(t:1, i:4) file:/workdir/hadoop-ozone/integration-test/target/test-dir/MiniOzoneClusterImpl-d01b3807-3732-4de8-b8ba-bdf98e618289/datanode-0/data/ratis/ffa76639-dfb6-4d7a-8e84-b339ab5e8b2d/sm/snapshot.1_4 time:23
2019-09-10 17:54:07,689 [60b001b3-1662-439d-83b7-d721b00602d4@group-B339AB5E8B2D-StateMachineUpdater] INFO  impl.StateMachineUpdater (StateMachineUpdater.java:takeSnapshot(258)) - 60b001b3-1662-439d-83b7-d721b00602d4@group-B339AB5E8B2D-StateMachineUpdater: Took a snapshot at index 4
2019-09-10 17:54:07,689 [60b001b3-1662-439d-83b7-d721b00602d4@group-B339AB5E8B2D-StateMachineUpdater] INFO  impl.StateMachineUpdater (StateMachineUpdater.java:lambda$new$0(83)) - 60b001b3-1662-439d-83b7-d721b00602d4@group-B339AB5E8B2D-StateMachineUpdater: snapshotIndex: updateIncreasingly 4 -> 4
2019-09-10 17:54:07,690 [60b001b3-1662-439d-83b7-d721b00602d4@group-B339AB5E8B2D-StateMachineUpdater] INFO  ratis.ContainerStateMachine (ContainerStateMachine.java:takeSnapshot(289)) - group-B339AB5E8B2D: Taking a snapshot at:(t:1, i:4) file /workdir/hadoop-ozone/integration-test/target/test-dir/MiniOzoneClusterImpl-d01b3807-3732-4de8-b8ba-bdf98e618289/datanode-0/data/ratis/ffa76639-dfb6-4d7a-8e84-b339ab5e8b2d/sm/snapshot.1_4
2019-09-10 17:54:07,702 [60b001b3-1662-439d-83b7-d721b00602d4@group-B339AB5E8B2D-StateMachineUpdater] INFO  ratis.ContainerStateMachine (ContainerStateMachine.java:takeSnapshot(300)) - group-B339AB5E8B2D: Finished taking a snapshot at:(t:1, i:4) file:/workdir/hadoop-ozone/integration-test/target/test-dir/MiniOzoneClusterImpl-d01b3807-3732-4de8-b8ba-bdf98e618289/datanode-0/data/ratis/ffa76639-dfb6-4d7a-8e84-b339ab5e8b2d/sm/snapshot.1_4 time:13
2019-09-10 17:54:07,702 [60b001b3-1662-439d-83b7-d721b00602d4@group-B339AB5E8B2D-StateMachineUpdater] INFO  impl.StateMachineUpdater (StateMachineUpdater.java:takeSnapshot(258)) - 60b001b3-1662-439d-83b7-d721b00602d4@group-B339AB5E8B2D-StateMachineUpdater: Took a snapshot at index 4
2019-09-10 17:54:07,702 [60b001b3-1662-439d-83b7-d721b00602d4@group-B339AB5E8B2D-StateMachineUpdater] INFO  impl.StateMachineUpdater (StateMachineUpdater.java:lambda$new$0(83)) - 60b001b3-1662-439d-83b7-d721b00602d4@group-B339AB5E8B2D-StateMachineUpdater: snapshotIndex: updateIncreasingly 4 -> 4
2019-09-10 17:54:08,246 [grpc-default-executor-0] INFO  impl.RaftServerProxy (RaftServerProxy.java:remove(95)) - 60b001b3-1662-439d-83b7-d721b00602d4: remove    LEADER 60b001b3-1662-439d-83b7-d721b00602d4@group-B339AB5E8B2D:t2, leader=60b001b3-1662-439d-83b7-d721b00602d4, voted=60b001b3-1662-439d-83b7-d721b00602d4, raftlog=60b001b3-1662-439d-83b7-d721b00602d4@group-B339AB5E8B2D-SegmentedRaftLog:OPENED:c6,f6,i6, conf=5: [60b001b3-1662-439d-83b7-d721b00602d4:192.168.5.139:37239], old=null RUNNING
2019-09-10 17:54:08,247 [grpc-default-executor-0] INFO  impl.RaftServerImpl (RaftServerImpl.java:lambda$shutdown$3(251)) - 60b001b3-1662-439d-83b7-d721b00602d4@group-B339AB5E8B2D: shutdown
2019-09-10 17:54:08,247 [grpc-default-executor-0] INFO  util.JmxRegister (JmxRegister.java:unregister(73)) - Successfully un-registered JMX Bean with object name Ratis:service=RaftServer,group=group-B339AB5E8B2D,id=60b001b3-1662-439d-83b7-d721b00602d4
2019-09-10 17:54:08,247 [grpc-default-executor-0] INFO  impl.RoleInfo (RoleInfo.java:shutdownLeaderState(104)) - 60b001b3-1662-439d-83b7-d721b00602d4: shutdown LeaderState
2019-09-10 17:54:08,247 [grpc-default-executor-0] INFO  impl.PendingRequests (PendingRequests.java:sendNotLeaderResponses(202)) - 60b001b3-1662-439d-83b7-d721b00602d4-PendingRequests: sendNotLeaderResponses
2019-09-10 17:54:08,250 [grpc-default-executor-0] INFO  impl.StateMachineUpdater (StateMachineUpdater.java:stopAndJoin(125)) - 60b001b3-1662-439d-83b7-d721b00602d4@group-B339AB5E8B2D-StateMachineUpdater: set stopIndex = 6
2019-09-10 17:54:08,250 [60b001b3-1662-439d-83b7-d721b00602d4@group-B339AB5E8B2D-StateMachineUpdater] INFO  ratis.ContainerStateMachine (ContainerStateMachine.java:takeSnapshot(289)) - group-B339AB5E8B2D: Taking a snapshot at:(t:1, i:4) file /workdir/hadoop-ozone/integration-test/target/test-dir/MiniOzoneClusterImpl-d01b3807-3732-4de8-b8ba-bdf98e618289/datanode-0/data/ratis/ffa76639-dfb6-4d7a-8e84-b339ab5e8b2d/sm/snapshot.1_4
2019-09-10 17:54:08,370 [60b001b3-1662-439d-83b7-d721b00602d4@group-B339AB5E8B2D-StateMachineUpdater] INFO  ratis.ContainerStateMachine (ContainerStateMachine.java:takeSnapshot(300)) - group-B339AB5E8B2D: Finished taking a snapshot at:(t:1, i:4) file:/workdir/hadoop-ozone/integration-test/target/test-dir/MiniOzoneClusterImpl-d01b3807-3732-4de8-b8ba-bdf98e618289/datanode-0/data/ratis/ffa76639-dfb6-4d7a-8e84-b339ab5e8b2d/sm/snapshot.1_4 time:120
2019-09-10 17:54:08,370 [60b001b3-1662-439d-83b7-d721b00602d4@group-B339AB5E8B2D-StateMachineUpdater] INFO  impl.StateMachineUpdater (StateMachineUpdater.java:takeSnapshot(258)) - 60b001b3-1662-439d-83b7-d721b00602d4@group-B339AB5E8B2D-StateMachineUpdater: Took a snapshot at index 4
2019-09-10 17:54:08,370 [60b001b3-1662-439d-83b7-d721b00602d4@group-B339AB5E8B2D-StateMachineUpdater] INFO  impl.StateMachineUpdater (StateMachineUpdater.java:lambda$new$0(83)) - 60b001b3-1662-439d-83b7-d721b00602d4@group-B339AB5E8B2D-StateMachineUpdater: snapshotIndex: updateIncreasingly 4 -> 4
2019-09-10 17:54:08,371 [60b001b3-1662-439d-83b7-d721b00602d4@group-B339AB5E8B2D-StateMachineUpdater] INFO  ratis.ContainerStateMachine (ContainerStateMachine.java:takeSnapshot(289)) - group-B339AB5E8B2D: Taking a snapshot at:(t:1, i:4) file /workdir/hadoop-ozone/integration-test/target/test-dir/MiniOzoneClusterImpl-d01b3807-3732-4de8-b8ba-bdf98e618289/datanode-0/data/ratis/ffa76639-dfb6-4d7a-8e84-b339ab5e8b2d/sm/snapshot.1_4
2019-09-10 17:54:08,384 [60b001b3-1662-439d-83b7-d721b00602d4@group-B339AB5E8B2D-StateMachineUpdater] INFO  ratis.ContainerStateMachine (ContainerStateMachine.java:takeSnapshot(300)) - group-B339AB5E8B2D: Finished taking a snapshot at:(t:1, i:4) file:/workdir/hadoop-ozone/integration-test/target/test-dir/MiniOzoneClusterImpl-d01b3807-3732-4de8-b8ba-bdf98e618289/datanode-0/data/ratis/ffa76639-dfb6-4d7a-8e84-b339ab5e8b2d/sm/snapshot.1_4 time:14
2019-09-10 17:54:08,385 [60b001b3-1662-439d-83b7-d721b00602d4@group-B339AB5E8B2D-StateMachineUpdater] INFO  impl.StateMachineUpdater (StateMachineUpdater.java:takeSnapshot(258)) - 60b001b3-1662-439d-83b7-d721b00602d4@group-B339AB5E8B2D-StateMachineUpdater: Took a snapshot at index 4
2019-09-10 17:54:08,385 [60b001b3-1662-439d-83b7-d721b00602d4@group-B339AB5E8B2D-StateMachineUpdater] INFO  impl.StateMachineUpdater (StateMachineUpdater.java:lambda$new$0(83)) - 60b001b3-1662-439d-83b7-d721b00602d4@group-B339AB5E8B2D-StateMachineUpdater: snapshotIndex: updateIncreasingly 4 -> 4
2019-09-10 17:54:08,385 [grpc-default-executor-0] INFO  impl.RaftServerImpl (ServerState.java:close(385)) - 60b001b3-1662-439d-83b7-d721b00602d4@group-B339AB5E8B2D: closes. applyIndex: 6
2019-09-10 17:54:08,385 [60b001b3-1662-439d-83b7-d721b00602d4@group-B339AB5E8B2D-SegmentedRaftLogWorker] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:run(313)) - 60b001b3-1662-439d-83b7-d721b00602d4@group-B339AB5E8B2D-SegmentedRaftLogWorker was interrupted, exiting. There are 0 tasks remaining in the queue.
2019-09-10 17:54:08,387 [grpc-default-executor-0] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:close(228)) - 60b001b3-1662-439d-83b7-d721b00602d4@group-B339AB5E8B2D-SegmentedRaftLogWorker close()
2019-09-10 17:54:08,406 [grpc-default-executor-0] INFO  interfaces.Container (KeyValueContainer.java:flushAndSyncDB(386)) - Container 6 is synced with bcsId 3.
2019-09-10 17:54:08,407 [grpc-default-executor-0] INFO  interfaces.Container (KeyValueContainer.java:flushAndSyncDB(386)) - Container 6 is synced with bcsId 3.
2019-09-10 17:54:08,427 [EventQueue-IncrementalContainerReportForIncrementalContainerReportHandler] INFO  container.IncrementalContainerReportHandler (AbstractContainerReportHandler.java:updateContainerState(169)) - Moving container #6 to QUASI_CLOSED state, datanode 60b001b3-1662-439d-83b7-d721b00602d4{ip: 192.168.5.139, host: pr-hdds-1786-trunk-k6rzm-1803654198, networkLocation: /default-rack, certSerialId: null} reported QUASI_CLOSED replica.
2019-09-10 17:54:08,432 [RatisPipelineUtilsThread] INFO  pipeline.PipelineStateManager (PipelineStateManager.java:removePipeline(108)) - Pipeline Pipeline[ Id: ffa76639-dfb6-4d7a-8e84-b339ab5e8b2d, Nodes: 60b001b3-1662-439d-83b7-d721b00602d4{ip: 192.168.5.139, host: pr-hdds-1786-trunk-k6rzm-1803654198, networkLocation: /default-rack, certSerialId: null}, Type:RATIS, Factor:ONE, State:CLOSED] removed from db
2019-09-10 17:54:09,532 [grpc-default-executor-0] INFO  client.GrpcClientProtocolClient (GrpcClientProtocolClient.java:onNext(264)) - client-585C56F256D2->60b001b3-1662-439d-83b7-d721b00602d4: receive RaftClientReply:client-585C56F256D2->60b001b3-1662-439d-83b7-d721b00602d4@group-7DBFE17CF3C0, cid=30, FAILED org.apache.ratis.protocol.NotLeaderException: Server 60b001b3-1662-439d-83b7-d721b00602d4@group-7DBFE17CF3C0 is not the leader, logIndex=0, commits[60b001b3-1662-439d-83b7-d721b00602d4:c-1]
2019-09-10 17:54:11,553 [grpc-default-executor-2] INFO  client.GrpcClientProtocolClient (GrpcClientProtocolClient.java:onNext(264)) - client-585C56F256D2->60b001b3-1662-439d-83b7-d721b00602d4: receive RaftClientReply:client-585C56F256D2->60b001b3-1662-439d-83b7-d721b00602d4@group-7DBFE17CF3C0, cid=30, FAILED org.apache.ratis.protocol.NotLeaderException: Server 60b001b3-1662-439d-83b7-d721b00602d4@group-7DBFE17CF3C0 is not the leader, logIndex=0, commits[60b001b3-1662-439d-83b7-d721b00602d4:c-1]
2019-09-10 17:54:11,889 [Thread-346] INFO  impl.FollowerState (FollowerState.java:run(106)) - 60b001b3-1662-439d-83b7-d721b00602d4:group-7DBFE17CF3C0 changes to CANDIDATE, lastRpcTime:5121, electionTimeout:5121ms
2019-09-10 17:54:11,891 [Thread-346] INFO  impl.RoleInfo (RoleInfo.java:shutdownFollowerState(121)) - 60b001b3-1662-439d-83b7-d721b00602d4: shutdown FollowerState
2019-09-10 17:54:11,892 [Thread-346] INFO  impl.RaftServerImpl (RaftServerImpl.java:setRole(174)) - 60b001b3-1662-439d-83b7-d721b00602d4@group-7DBFE17CF3C0: changes role from  FOLLOWER to CANDIDATE at term 0 for changeToCandidate
2019-09-10 17:54:11,892 [Thread-346] INFO  impl.RoleInfo (RoleInfo.java:updateAndGet(143)) - 60b001b3-1662-439d-83b7-d721b00602d4: start LeaderElection
2019-09-10 17:54:11,913 [60b001b3-1662-439d-83b7-d721b00602d4@group-7DBFE17CF3C0:LeaderElection11] INFO  impl.LeaderElection (LeaderElection.java:askForVotes(182)) - 60b001b3-1662-439d-83b7-d721b00602d4@group-7DBFE17CF3C0:LeaderElection11: begin an election at term 1 for -1: [60b001b3-1662-439d-83b7-d721b00602d4:192.168.5.139:37239], old=null
2019-09-10 17:54:11,914 [60b001b3-1662-439d-83b7-d721b00602d4@group-7DBFE17CF3C0:LeaderElection11] INFO  impl.RoleInfo (RoleInfo.java:shutdownLeaderElection(134)) - 60b001b3-1662-439d-83b7-d721b00602d4: shutdown LeaderElection
2019-09-10 17:54:11,914 [60b001b3-1662-439d-83b7-d721b00602d4@group-7DBFE17CF3C0:LeaderElection11] INFO  impl.RaftServerImpl (RaftServerImpl.java:setRole(174)) - 60b001b3-1662-439d-83b7-d721b00602d4@group-7DBFE17CF3C0: changes role from CANDIDATE to LEADER at term 1 for changeToLeader
2019-09-10 17:54:11,914 [60b001b3-1662-439d-83b7-d721b00602d4@group-7DBFE17CF3C0:LeaderElection11] INFO  impl.RaftServerImpl (ServerState.java:setLeader(253)) - 60b001b3-1662-439d-83b7-d721b00602d4@group-7DBFE17CF3C0: change Leader from null to 60b001b3-1662-439d-83b7-d721b00602d4 at term 1 for becomeLeader, leader elected after 5156ms
2019-09-10 17:54:11,915 [60b001b3-1662-439d-83b7-d721b00602d4@group-7DBFE17CF3C0:LeaderElection11] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.staging.catchup.gap = 1000 (default)
2019-09-10 17:54:11,915 [60b001b3-1662-439d-83b7-d721b00602d4@group-7DBFE17CF3C0:LeaderElection11] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.rpc.sleep.time = 25ms (default)
2019-09-10 17:54:11,915 [60b001b3-1662-439d-83b7-d721b00602d4@group-7DBFE17CF3C0:LeaderElection11] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.write.element-limit = 4096 (default)
2019-09-10 17:54:11,916 [60b001b3-1662-439d-83b7-d721b00602d4@group-7DBFE17CF3C0:LeaderElection11] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.watch.timeout = 10s (default)
2019-09-10 17:54:11,916 [60b001b3-1662-439d-83b7-d721b00602d4@group-7DBFE17CF3C0:LeaderElection11] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.watch.timeout.denomination = 1s (default)
2019-09-10 17:54:11,916 [60b001b3-1662-439d-83b7-d721b00602d4@group-7DBFE17CF3C0:LeaderElection11] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.watch.element-limit = 65536 (default)
2019-09-10 17:54:11,923 [60b001b3-1662-439d-83b7-d721b00602d4@group-7DBFE17CF3C0:LeaderElection11] INFO  impl.RoleInfo (RoleInfo.java:updateAndGet(143)) - 60b001b3-1662-439d-83b7-d721b00602d4: start LeaderState
2019-09-10 17:54:11,924 [60b001b3-1662-439d-83b7-d721b00602d4@group-7DBFE17CF3C0:LeaderElection11] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:startLogSegment(380)) - 60b001b3-1662-439d-83b7-d721b00602d4@group-7DBFE17CF3C0-SegmentedRaftLogWorker: Starting segment from index:0
2019-09-10 17:54:11,925 [60b001b3-1662-439d-83b7-d721b00602d4@group-7DBFE17CF3C0:LeaderElection11] INFO  impl.RaftServerImpl (ServerState.java:setRaftConf(354)) - 60b001b3-1662-439d-83b7-d721b00602d4@group-7DBFE17CF3C0: set configuration 0: [60b001b3-1662-439d-83b7-d721b00602d4:192.168.5.139:37239], old=null at 0
2019-09-10 17:54:11,979 [60b001b3-1662-439d-83b7-d721b00602d4@group-7DBFE17CF3C0-SegmentedRaftLogWorker] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:execute(569)) - 60b001b3-1662-439d-83b7-d721b00602d4@group-7DBFE17CF3C0-SegmentedRaftLogWorker: created new log segment /workdir/hadoop-ozone/integration-test/target/test-dir/MiniOzoneClusterImpl-d01b3807-3732-4de8-b8ba-bdf98e618289/datanode-0/data/ratis/cdf2afe6-8283-403d-8cc1-7dbfe17cf3c0/current/log_inprogress_0
2019-09-10 17:54:13,650 [60b001b3-1662-439d-83b7-d721b00602d4@group-7DBFE17CF3C0-StateMachineUpdater] INFO  ratis.ContainerStateMachine (ContainerStateMachine.java:takeSnapshot(289)) - group-7DBFE17CF3C0: Taking a snapshot at:(t:1, i:1) file /workdir/hadoop-ozone/integration-test/target/test-dir/MiniOzoneClusterImpl-d01b3807-3732-4de8-b8ba-bdf98e618289/datanode-0/data/ratis/cdf2afe6-8283-403d-8cc1-7dbfe17cf3c0/sm/snapshot.1_1
2019-09-10 17:54:13,654 [grpc-default-executor-1] INFO  client.GrpcClientProtocolClient (GrpcClientProtocolClient.java:onNext(264)) - client-585C56F256D2->60b001b3-1662-439d-83b7-d721b00602d4: receive RaftClientReply:client-585C56F256D2->60b001b3-1662-439d-83b7-d721b00602d4@group-7DBFE17CF3C0, cid=30, SUCCESS, logIndex=1, commits[60b001b3-1662-439d-83b7-d721b00602d4:c2]
2019-09-10 17:54:13,664 [60b001b3-1662-439d-83b7-d721b00602d4@group-7DBFE17CF3C0-StateMachineUpdater] INFO  ratis.ContainerStateMachine (ContainerStateMachine.java:takeSnapshot(300)) - group-7DBFE17CF3C0: Finished taking a snapshot at:(t:1, i:1) file:/workdir/hadoop-ozone/integration-test/target/test-dir/MiniOzoneClusterImpl-d01b3807-3732-4de8-b8ba-bdf98e618289/datanode-0/data/ratis/cdf2afe6-8283-403d-8cc1-7dbfe17cf3c0/sm/snapshot.1_1 time:14
2019-09-10 17:54:13,664 [60b001b3-1662-439d-83b7-d721b00602d4@group-7DBFE17CF3C0-StateMachineUpdater] INFO  impl.StateMachineUpdater (StateMachineUpdater.java:takeSnapshot(258)) - 60b001b3-1662-439d-83b7-d721b00602d4@group-7DBFE17CF3C0-StateMachineUpdater: Took a snapshot at index 1
2019-09-10 17:54:13,664 [60b001b3-1662-439d-83b7-d721b00602d4@group-7DBFE17CF3C0-StateMachineUpdater] INFO  impl.StateMachineUpdater (StateMachineUpdater.java:lambda$new$0(83)) - 60b001b3-1662-439d-83b7-d721b00602d4@group-7DBFE17CF3C0-StateMachineUpdater: snapshotIndex: updateIncreasingly -1 -> 1
2019-09-10 17:54:13,732 [60b001b3-1662-439d-83b7-d721b00602d4@group-7DBFE17CF3C0-StateMachineUpdater] INFO  ratis.ContainerStateMachine (ContainerStateMachine.java:takeSnapshot(289)) - group-7DBFE17CF3C0: Taking a snapshot at:(t:1, i:4) file /workdir/hadoop-ozone/integration-test/target/test-dir/MiniOzoneClusterImpl-d01b3807-3732-4de8-b8ba-bdf98e618289/datanode-0/data/ratis/cdf2afe6-8283-403d-8cc1-7dbfe17cf3c0/sm/snapshot.1_4
2019-09-10 17:54:13,734 [grpc-default-executor-1] INFO  client.GrpcClientProtocolClient (GrpcClientProtocolClient.java:onNext(264)) - client-585C56F256D2->60b001b3-1662-439d-83b7-d721b00602d4: receive RaftClientReply:client-585C56F256D2->60b001b3-1662-439d-83b7-d721b00602d4@group-7DBFE17CF3C0, cid=31, SUCCESS, logIndex=3, commits[60b001b3-1662-439d-83b7-d721b00602d4:c4]
2019-09-10 17:54:13,746 [60b001b3-1662-439d-83b7-d721b00602d4@group-7DBFE17CF3C0-StateMachineUpdater] INFO  ratis.ContainerStateMachine (ContainerStateMachine.java:takeSnapshot(300)) - group-7DBFE17CF3C0: Finished taking a snapshot at:(t:1, i:4) file:/workdir/hadoop-ozone/integration-test/target/test-dir/MiniOzoneClusterImpl-d01b3807-3732-4de8-b8ba-bdf98e618289/datanode-0/data/ratis/cdf2afe6-8283-403d-8cc1-7dbfe17cf3c0/sm/snapshot.1_4 time:14
2019-09-10 17:54:13,746 [60b001b3-1662-439d-83b7-d721b00602d4@group-7DBFE17CF3C0-StateMachineUpdater] INFO  impl.StateMachineUpdater (StateMachineUpdater.java:takeSnapshot(258)) - 60b001b3-1662-439d-83b7-d721b00602d4@group-7DBFE17CF3C0-StateMachineUpdater: Took a snapshot at index 4
2019-09-10 17:54:13,746 [60b001b3-1662-439d-83b7-d721b00602d4@group-7DBFE17CF3C0-StateMachineUpdater] INFO  impl.StateMachineUpdater (StateMachineUpdater.java:lambda$new$0(83)) - 60b001b3-1662-439d-83b7-d721b00602d4@group-7DBFE17CF3C0-StateMachineUpdater: snapshotIndex: updateIncreasingly 1 -> 4
2019-09-10 17:54:13,752 [60b001b3-1662-439d-83b7-d721b00602d4@group-7DBFE17CF3C0-StateMachineUpdater] INFO  ratis.ContainerStateMachine (ContainerStateMachine.java:takeSnapshot(289)) - group-7DBFE17CF3C0: Taking a snapshot at:(t:1, i:6) file /workdir/hadoop-ozone/integration-test/target/test-dir/MiniOzoneClusterImpl-d01b3807-3732-4de8-b8ba-bdf98e618289/datanode-0/data/ratis/cdf2afe6-8283-403d-8cc1-7dbfe17cf3c0/sm/snapshot.1_6
2019-09-10 17:54:13,753 [grpc-default-executor-1] INFO  client.GrpcClientProtocolClient (GrpcClientProtocolClient.java:onNext(264)) - client-585C56F256D2->60b001b3-1662-439d-83b7-d721b00602d4: receive RaftClientReply:client-585C56F256D2->60b001b3-1662-439d-83b7-d721b00602d4@group-7DBFE17CF3C0, cid=33, SUCCESS, logIndex=5, commits[60b001b3-1662-439d-83b7-d721b00602d4:c6]
2019-09-10 17:54:13,754 [grpc-default-executor-1] INFO  client.GrpcClientProtocolClient (GrpcClientProtocolClient.java:onNext(264)) - client-585C56F256D2->60b001b3-1662-439d-83b7-d721b00602d4: receive RaftClientReply:client-585C56F256D2->60b001b3-1662-439d-83b7-d721b00602d4@group-7DBFE17CF3C0, cid=34, SUCCESS, logIndex=6, commits[60b001b3-1662-439d-83b7-d721b00602d4:c6]
2019-09-10 17:54:13,755 [60b001b3-1662-439d-83b7-d721b00602d4@group-7DBFE17CF3C0-StateMachineUpdater] INFO  ratis.ContainerStateMachine (ContainerStateMachine.java:takeSnapshot(300)) - group-7DBFE17CF3C0: Finished taking a snapshot at:(t:1, i:6) file:/workdir/hadoop-ozone/integration-test/target/test-dir/MiniOzoneClusterImpl-d01b3807-3732-4de8-b8ba-bdf98e618289/datanode-0/data/ratis/cdf2afe6-8283-403d-8cc1-7dbfe17cf3c0/sm/snapshot.1_6 time:3
2019-09-10 17:54:13,756 [60b001b3-1662-439d-83b7-d721b00602d4@group-7DBFE17CF3C0-StateMachineUpdater] INFO  impl.StateMachineUpdater (StateMachineUpdater.java:takeSnapshot(258)) - 60b001b3-1662-439d-83b7-d721b00602d4@group-7DBFE17CF3C0-StateMachineUpdater: Took a snapshot at index 6
2019-09-10 17:54:13,756 [60b001b3-1662-439d-83b7-d721b00602d4@group-7DBFE17CF3C0-StateMachineUpdater] INFO  impl.StateMachineUpdater (StateMachineUpdater.java:lambda$new$0(83)) - 60b001b3-1662-439d-83b7-d721b00602d4@group-7DBFE17CF3C0-StateMachineUpdater: snapshotIndex: updateIncreasingly 4 -> 6
2019-09-10 17:54:13,762 [60b001b3-1662-439d-83b7-d721b00602d4@group-7DBFE17CF3C0-StateMachineUpdater] INFO  ratis.ContainerStateMachine (ContainerStateMachine.java:takeSnapshot(289)) - group-7DBFE17CF3C0: Taking a snapshot at:(t:1, i:6) file /workdir/hadoop-ozone/integration-test/target/test-dir/MiniOzoneClusterImpl-d01b3807-3732-4de8-b8ba-bdf98e618289/datanode-0/data/ratis/cdf2afe6-8283-403d-8cc1-7dbfe17cf3c0/sm/snapshot.1_6
2019-09-10 17:54:13,765 [60b001b3-1662-439d-83b7-d721b00602d4@group-7DBFE17CF3C0-StateMachineUpdater] INFO  ratis.ContainerStateMachine (ContainerStateMachine.java:takeSnapshot(300)) - group-7DBFE17CF3C0: Finished taking a snapshot at:(t:1, i:6) file:/workdir/hadoop-ozone/integration-test/target/test-dir/MiniOzoneClusterImpl-d01b3807-3732-4de8-b8ba-bdf98e618289/datanode-0/data/ratis/cdf2afe6-8283-403d-8cc1-7dbfe17cf3c0/sm/snapshot.1_6 time:3
2019-09-10 17:54:13,765 [60b001b3-1662-439d-83b7-d721b00602d4@group-7DBFE17CF3C0-StateMachineUpdater] INFO  impl.StateMachineUpdater (StateMachineUpdater.java:takeSnapshot(258)) - 60b001b3-1662-439d-83b7-d721b00602d4@group-7DBFE17CF3C0-StateMachineUpdater: Took a snapshot at index 6
2019-09-10 17:54:13,765 [60b001b3-1662-439d-83b7-d721b00602d4@group-7DBFE17CF3C0-StateMachineUpdater] INFO  impl.StateMachineUpdater (StateMachineUpdater.java:lambda$new$0(83)) - 60b001b3-1662-439d-83b7-d721b00602d4@group-7DBFE17CF3C0-StateMachineUpdater: snapshotIndex: updateIncreasingly 6 -> 6
2019-09-10 17:54:13,776 [main] INFO  ozone.MiniOzoneClusterImpl (MiniOzoneClusterImpl.java:getStorageContainerLocationClient(227)) - Creating StorageContainerLocationProtocol RPC client with address /0.0.0.0:45136
2019-09-10 17:54:13,811 [RatisApplyTransactionExecutor 7] INFO  keyvalue.KeyValueHandler (ContainerUtils.java:logAndReturnError(146)) - Operation: CloseContainer : Trace ID: 5653055511b46698:5653055511b46698:0:0 : Message: Error while creating/ updating .container file. ContainerID: 7 : Result: CONTAINER_FILES_CREATE_ERROR
2019-09-10 17:54:13,812 [RatisApplyTransactionExecutor 7] WARN  keyvalue.KeyValueHandler (KeyValueHandler.java:markContainerUnhealthy(908)) - Unexpected error while marking container 7 as unhealthy
org.apache.hadoop.hdds.scm.container.common.helpers.StorageContainerException: Error while creating/ updating .container file. ContainerID: 7
	at org.apache.hadoop.ozone.container.keyvalue.KeyValueContainer.writeToContainerFile(KeyValueContainer.java:237)
	at org.apache.hadoop.ozone.container.keyvalue.KeyValueContainer.updateContainerFile(KeyValueContainer.java:257)
	at org.apache.hadoop.ozone.container.keyvalue.KeyValueContainer.updateContainerData(KeyValueContainer.java:356)
	at org.apache.hadoop.ozone.container.keyvalue.KeyValueContainer.markContainerUnhealthy(KeyValueContainer.java:298)
	at org.apache.hadoop.ozone.container.keyvalue.KeyValueHandler.markContainerUnhealthy(KeyValueHandler.java:903)
	at org.apache.hadoop.ozone.container.common.impl.HddsDispatcher.dispatchRequest(HddsDispatcher.java:309)
	at org.apache.hadoop.ozone.container.common.impl.HddsDispatcher.dispatch(HddsDispatcher.java:150)
	at org.apache.hadoop.ozone.container.common.transport.server.ratis.ContainerStateMachine.dispatchCommand(ContainerStateMachine.java:401)
	at org.apache.hadoop.ozone.container.common.transport.server.ratis.ContainerStateMachine.runCommand(ContainerStateMachine.java:409)
	at org.apache.hadoop.ozone.container.common.transport.server.ratis.ContainerStateMachine.lambda$applyTransaction$6(ContainerStateMachine.java:710)
	at java.util.concurrent.CompletableFuture$AsyncSupply.run(CompletableFuture.java:1590)
	at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1149)
	at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:624)
	at java.lang.Thread.run(Thread.java:748)
Caused by: java.io.IOException: No such file or directory
	at java.io.UnixFileSystem.createFileExclusively(Native Method)
	at java.io.File.createTempFile(File.java:2024)
	at org.apache.hadoop.ozone.container.keyvalue.KeyValueContainer.createTempFile(KeyValueContainer.java:726)
	at org.apache.hadoop.ozone.container.keyvalue.KeyValueContainer.writeToContainerFile(KeyValueContainer.java:222)
	... 13 more
2019-09-10 17:54:13,814 [EventQueue-IncrementalContainerReportForIncrementalContainerReportHandler] WARN  container.IncrementalContainerReportHandler (AbstractContainerReportHandler.java:updateContainerState(143)) - Container #7 is in OPEN state, but the datanode 60b001b3-1662-439d-83b7-d721b00602d4{ip: 192.168.5.139, host: pr-hdds-1786-trunk-k6rzm-1803654198, networkLocation: /default-rack, certSerialId: null} reports an UNHEALTHY replica.
2019-09-10 17:54:13,814 [EventQueue-CloseContainerForCloseContainerEventHandler] INFO  container.CloseContainerEventHandler (CloseContainerEventHandler.java:onMessage(61)) - Close container Event triggered for container : #7
17:54:13.813 [RatisApplyTransactionExecutor 7] ERROR DNAudit - user=null | ip=null | op=CLOSE_CONTAINER {containerID=7} | ret=FAILURE
java.lang.Exception: Error while creating/ updating .container file. ContainerID: 7
	at org.apache.hadoop.ozone.container.common.impl.HddsDispatcher.dispatchRequest(HddsDispatcher.java:327) ~[hadoop-hdds-container-service-0.5.0-SNAPSHOT.jar:?]
	at org.apache.hadoop.ozone.container.common.impl.HddsDispatcher.dispatch(HddsDispatcher.java:150) ~[hadoop-hdds-container-service-0.5.0-SNAPSHOT.jar:?]
	at org.apache.hadoop.ozone.container.common.transport.server.ratis.ContainerStateMachine.dispatchCommand(ContainerStateMachine.java:401) ~[hadoop-hdds-container-service-0.5.0-SNAPSHOT.jar:?]
	at org.apache.hadoop.ozone.container.common.transport.server.ratis.ContainerStateMachine.runCommand(ContainerStateMachine.java:409) ~[hadoop-hdds-container-service-0.5.0-SNAPSHOT.jar:?]
	at org.apache.hadoop.ozone.container.common.transport.server.ratis.ContainerStateMachine.lambda$applyTransaction$6(ContainerStateMachine.java:710) ~[hadoop-hdds-container-service-0.5.0-SNAPSHOT.jar:?]
	at java.util.concurrent.CompletableFuture$AsyncSupply.run(CompletableFuture.java:1590) [?:1.8.0_212]
	at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1149) [?:1.8.0_212]
	at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:624) [?:1.8.0_212]
	at java.lang.Thread.run(Thread.java:748) [?:1.8.0_212]
2019-09-10 17:54:13,815 [RatisApplyTransactionExecutor 7] ERROR ratis.ContainerStateMachine (ContainerStateMachine.java:lambda$applyTransaction$7(721)) - gid group-7DBFE17CF3C0 : ApplyTransaction failed. cmd CloseContainer logIndex 8 msg : Error while creating/ updating .container file. ContainerID: 7 Container Result: CONTAINER_FILES_CREATE_ERROR
2019-09-10 17:54:13,816 [60b001b3-1662-439d-83b7-d721b00602d4@group-7DBFE17CF3C0-StateMachineUpdater] ERROR impl.StateMachineUpdater (StateMachineUpdater.java:run(171)) - 60b001b3-1662-439d-83b7-d721b00602d4@group-7DBFE17CF3C0-StateMachineUpdater: the StateMachineUpdater hits Throwable
java.util.concurrent.ExecutionException: org.apache.hadoop.hdds.scm.container.common.helpers.StorageContainerException: Error while creating/ updating .container file. ContainerID: 7
	at java.util.concurrent.CompletableFuture.reportGet(CompletableFuture.java:357)
	at java.util.concurrent.CompletableFuture.get(CompletableFuture.java:1895)
	at org.apache.ratis.server.impl.StateMachineUpdater.checkAndTakeSnapshot(StateMachineUpdater.java:233)
	at org.apache.ratis.server.impl.StateMachineUpdater.run(StateMachineUpdater.java:155)
	at java.lang.Thread.run(Thread.java:748)
Caused by: org.apache.hadoop.hdds.scm.container.common.helpers.StorageContainerException: Error while creating/ updating .container file. ContainerID: 7
	at org.apache.hadoop.ozone.container.common.transport.server.ratis.ContainerStateMachine.lambda$applyTransaction$7(ContainerStateMachine.java:720)
	at java.util.concurrent.CompletableFuture.uniApply(CompletableFuture.java:602)
	at java.util.concurrent.CompletableFuture$UniApply.tryFire(CompletableFuture.java:577)
	at java.util.concurrent.CompletableFuture.postComplete(CompletableFuture.java:474)
	at java.util.concurrent.CompletableFuture$AsyncSupply.run(CompletableFuture.java:1595)
	at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1149)
	at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:624)
	... 1 more
2019-09-10 17:54:13,818 [RatisApplyTransactionExecutor 7] ERROR ratis.XceiverServerRatis (XceiverServerRatis.java:triggerPipelineClose(575)) - pipeline Action CLOSE  on pipeline PipelineID=cdf2afe6-8283-403d-8cc1-7dbfe17cf3c0.Reason : Ratis Transaction failure in datanode 60b001b3-1662-439d-83b7-d721b00602d4 with role LEADER .Triggering pipeline close action.
2019-09-10 17:54:13,819 [60b001b3-1662-439d-83b7-d721b00602d4@group-7DBFE17CF3C0-StateMachineUpdater] INFO  impl.RaftServerImpl (RaftServerImpl.java:lambda$shutdown$3(251)) - 60b001b3-1662-439d-83b7-d721b00602d4@group-7DBFE17CF3C0: shutdown
2019-09-10 17:54:13,820 [EventQueue-PipelineActionsForPipelineActionHandler] ERROR pipeline.PipelineActionHandler (PipelineActionHandler.java:onMessage(60)) - Received pipeline action CLOSE for Pipeline[ Id: cdf2afe6-8283-403d-8cc1-7dbfe17cf3c0, Nodes: 60b001b3-1662-439d-83b7-d721b00602d4{ip: 192.168.5.139, host: pr-hdds-1786-trunk-k6rzm-1803654198, networkLocation: /default-rack, certSerialId: null}, Type:RATIS, Factor:ONE, State:OPEN] from datanode 60b001b3-1662-439d-83b7-d721b00602d4{ip: 192.168.5.139, host: pr-hdds-1786-trunk-k6rzm-1803654198, networkLocation: /default-rack, certSerialId: null}. Reason : Ratis Transaction failure in datanode 60b001b3-1662-439d-83b7-d721b00602d4 with role LEADER .Triggering pipeline close action.
2019-09-10 17:54:13,820 [60b001b3-1662-439d-83b7-d721b00602d4@group-7DBFE17CF3C0-StateMachineUpdater] INFO  util.JmxRegister (JmxRegister.java:unregister(73)) - Successfully un-registered JMX Bean with object name Ratis:service=RaftServer,group=group-7DBFE17CF3C0,id=60b001b3-1662-439d-83b7-d721b00602d4
2019-09-10 17:54:13,820 [EventQueue-PipelineActionsForPipelineActionHandler] INFO  pipeline.SCMPipelineManager (SCMPipelineManager.java:finalizeAndDestroyPipeline(311)) - destroying pipeline:Pipeline[ Id: cdf2afe6-8283-403d-8cc1-7dbfe17cf3c0, Nodes: 60b001b3-1662-439d-83b7-d721b00602d4{ip: 192.168.5.139, host: pr-hdds-1786-trunk-k6rzm-1803654198, networkLocation: /default-rack, certSerialId: null}, Type:RATIS, Factor:ONE, State:OPEN]
2019-09-10 17:54:13,821 [60b001b3-1662-439d-83b7-d721b00602d4@group-7DBFE17CF3C0-StateMachineUpdater] INFO  impl.RoleInfo (RoleInfo.java:shutdownLeaderState(104)) - 60b001b3-1662-439d-83b7-d721b00602d4: shutdown LeaderState
2019-09-10 17:54:13,822 [EventQueue-PipelineActionsForPipelineActionHandler] INFO  pipeline.PipelineStateManager (PipelineStateManager.java:finalizePipeline(123)) - Pipeline Pipeline[ Id: cdf2afe6-8283-403d-8cc1-7dbfe17cf3c0, Nodes: 60b001b3-1662-439d-83b7-d721b00602d4{ip: 192.168.5.139, host: pr-hdds-1786-trunk-k6rzm-1803654198, networkLocation: /default-rack, certSerialId: null}, Type:RATIS, Factor:ONE, State:CLOSED] moved to CLOSED state
2019-09-10 17:54:13,822 [60b001b3-1662-439d-83b7-d721b00602d4@group-7DBFE17CF3C0-StateMachineUpdater] INFO  impl.PendingRequests (PendingRequests.java:sendNotLeaderResponses(202)) - 60b001b3-1662-439d-83b7-d721b00602d4-PendingRequests: sendNotLeaderResponses
2019-09-10 17:54:13,827 [60b001b3-1662-439d-83b7-d721b00602d4@group-7DBFE17CF3C0-StateMachineUpdater] INFO  impl.StateMachineUpdater (StateMachineUpdater.java:stopAndJoin(125)) - 60b001b3-1662-439d-83b7-d721b00602d4@group-7DBFE17CF3C0-StateMachineUpdater: set stopIndex = 9
2019-09-10 17:54:20,453 [grpc-default-executor-0] INFO  impl.RaftServerProxy (RaftServerProxy.java:addNew(89)) - 60b001b3-1662-439d-83b7-d721b00602d4: addNew group-12B99A8D6AFD:[60b001b3-1662-439d-83b7-d721b00602d4:192.168.5.139:37239] returns group-12B99A8D6AFD:java.util.concurrent.CompletableFuture@123e1372[Not completed]
2019-09-10 17:54:20,456 [pool-75-thread-1] INFO  impl.RaftServerImpl (RaftServerImpl.java:<init>(95)) - 60b001b3-1662-439d-83b7-d721b00602d4: new RaftServerImpl for group-12B99A8D6AFD:[60b001b3-1662-439d-83b7-d721b00602d4:192.168.5.139:37239] with ContainerStateMachine:uninitialized
2019-09-10 17:54:20,457 [pool-75-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.rpc.timeout.min = 5s (custom)
2019-09-10 17:54:20,457 [pool-75-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.rpc.timeout.max = 5200ms (custom)
2019-09-10 17:54:20,457 [pool-75-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.rpcslowness.timeout = 120s (custom)
2019-09-10 17:54:20,457 [pool-75-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.sleep.deviation.threshold = 300 (default)
2019-09-10 17:54:20,457 [pool-75-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.log.appender.install.snapshot.enabled = false (custom)
2019-09-10 17:54:20,458 [pool-75-thread-1] INFO  impl.RaftServerImpl (ServerState.java:<init>(103)) - 60b001b3-1662-439d-83b7-d721b00602d4@group-12B99A8D6AFD: ConfigurationManager, init=-1: [60b001b3-1662-439d-83b7-d721b00602d4:192.168.5.139:37239], old=null, confs=<EMPTY_MAP>
2019-09-10 17:54:20,458 [pool-75-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.storage.dir = [/workdir/hadoop-ozone/integration-test/target/test-dir/MiniOzoneClusterImpl-d01b3807-3732-4de8-b8ba-bdf98e618289/datanode-0/data/ratis] (custom)
2019-09-10 17:54:20,459 [pool-75-thread-1] INFO  storage.RaftStorageDirectory (RaftStorageDirectory.java:analyzeStorage(246)) - The storage directory /workdir/hadoop-ozone/integration-test/target/test-dir/MiniOzoneClusterImpl-d01b3807-3732-4de8-b8ba-bdf98e618289/datanode-0/data/ratis/1c59cca8-2db9-48f0-b568-12b99a8d6afd does not exist. Creating ...
2019-09-10 17:54:20,473 [pool-75-thread-1] INFO  storage.RaftStorageDirectory (RaftStorageDirectory.java:tryLock(328)) - Lock on /workdir/hadoop-ozone/integration-test/target/test-dir/MiniOzoneClusterImpl-d01b3807-3732-4de8-b8ba-bdf98e618289/datanode-0/data/ratis/1c59cca8-2db9-48f0-b568-12b99a8d6afd/in_use.lock acquired by nodename 23020@pr-hdds-1786-trunk-k6rzm-1803654198
2019-09-10 17:54:20,486 [pool-75-thread-1] INFO  storage.RaftStorage (RaftStorage.java:format(72)) - Storage directory /workdir/hadoop-ozone/integration-test/target/test-dir/MiniOzoneClusterImpl-d01b3807-3732-4de8-b8ba-bdf98e618289/datanode-0/data/ratis/1c59cca8-2db9-48f0-b568-12b99a8d6afd has been successfully formatted.
2019-09-10 17:54:20,486 [pool-75-thread-1] INFO  ratis.ContainerStateMachine (ContainerStateMachine.java:loadSnapshot(230)) - group-12B99A8D6AFD: The snapshot info is null. Setting the last applied indexto:(t:0, i:~)
2019-09-10 17:54:20,486 [pool-75-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.notification.no-leader.timeout = 120s (custom)
2019-09-10 17:54:20,487 [pool-75-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.log.use.memory = false (default)
2019-09-10 17:54:20,487 [pool-75-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.log.purge.gap = 1000000 (custom)
2019-09-10 17:54:20,487 [pool-75-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.log.appender.buffer.byte-limit = 33554432 (custom)
2019-09-10 17:54:20,487 [pool-75-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.log.segment.size.max = 1048576 (custom)
2019-09-10 17:54:20,487 [pool-75-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.log.segment.cache.num.max = 2 (custom)
2019-09-10 17:54:20,487 [pool-75-thread-1] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:<init>(172)) - new 60b001b3-1662-439d-83b7-d721b00602d4@group-12B99A8D6AFD-SegmentedRaftLogWorker for RaftStorage:Storage Directory /workdir/hadoop-ozone/integration-test/target/test-dir/MiniOzoneClusterImpl-d01b3807-3732-4de8-b8ba-bdf98e618289/datanode-0/data/ratis/1c59cca8-2db9-48f0-b568-12b99a8d6afd
2019-09-10 17:54:20,488 [pool-75-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.log.queue.byte-limit = 2147483647 (custom)
2019-09-10 17:54:20,488 [pool-75-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.log.queue.element-limit = 1024 (custom)
2019-09-10 17:54:20,488 [pool-75-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.log.segment.size.max = 1048576 (custom)
2019-09-10 17:54:20,488 [pool-75-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.log.preallocated.size = 16384 (custom)
2019-09-10 17:54:20,488 [pool-75-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.log.write.buffer.size = 33554432 (custom)
2019-09-10 17:54:20,488 [pool-75-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.log.force.sync.num = 128 (default)
2019-09-10 17:54:20,488 [pool-75-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.log.statemachine.data.sync = true (default)
2019-09-10 17:54:20,488 [pool-75-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.log.statemachine.data.sync.timeout = 10s (default)
2019-09-10 17:54:20,489 [pool-75-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.log.statemachine.data.sync.timeout.retry = -1 (default)
2019-09-10 17:54:20,489 [pool-75-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.log.statemachine.data.caching.enabled = true (custom)
2019-09-10 17:54:20,489 [pool-75-thread-1] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:lambda$new$0(132)) - 60b001b3-1662-439d-83b7-d721b00602d4@group-12B99A8D6AFD-SegmentedRaftLogWorker: flushIndex: setUnconditionally 0 -> -1
2019-09-10 17:54:20,489 [pool-75-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.snapshot.auto.trigger.enabled = true (custom)
2019-09-10 17:54:20,489 [pool-75-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.snapshot.auto.trigger.threshold = 1 (custom)
2019-09-10 17:54:20,490 [pool-75-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.snapshot.retention.num.files = 5 (custom)
2019-09-10 17:54:20,490 [pool-75-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.retrycache.expirytime = 600000ms (custom)
2019-09-10 17:54:20,492 [pool-75-thread-1] INFO  impl.RaftServerImpl (RaftServerImpl.java:start(185)) - 60b001b3-1662-439d-83b7-d721b00602d4@group-12B99A8D6AFD: start as a follower, conf=-1: [60b001b3-1662-439d-83b7-d721b00602d4:192.168.5.139:37239], old=null
2019-09-10 17:54:20,492 [pool-75-thread-1] INFO  impl.RaftServerImpl (RaftServerImpl.java:setRole(174)) - 60b001b3-1662-439d-83b7-d721b00602d4@group-12B99A8D6AFD: changes role from      null to FOLLOWER at term 0 for startAsFollower
2019-09-10 17:54:20,492 [pool-75-thread-1] INFO  impl.RoleInfo (RoleInfo.java:updateAndGet(143)) - 60b001b3-1662-439d-83b7-d721b00602d4: start FollowerState
2019-09-10 17:54:20,493 [pool-75-thread-1] INFO  util.JmxRegister (JmxRegister.java:tryRegister(44)) - Successfully registered JMX Bean with object name Ratis:service=RaftServer,group=group-12B99A8D6AFD,id=60b001b3-1662-439d-83b7-d721b00602d4
2019-09-10 17:54:20,500 [RatisPipelineUtilsThread] INFO  pipeline.PipelineStateManager (PipelineStateManager.java:addPipeline(56)) - Created pipeline Pipeline[ Id: 1c59cca8-2db9-48f0-b568-12b99a8d6afd, Nodes: 60b001b3-1662-439d-83b7-d721b00602d4{ip: 192.168.5.139, host: pr-hdds-1786-trunk-k6rzm-1803654198, networkLocation: /default-rack, certSerialId: null}, Type:RATIS, Factor:ONE, State:OPEN]
2019-09-10 17:54:22,979 [main] ERROR ratis.ContainerStateMachine (ContainerStateMachine.java:takeSnapshot(283)) - Failed to take snapshot  for group-7DBFE17CF3C0 as the stateMachine is unhealthy. The last applied index is at (t:1, i:6)
2019-09-10 17:54:22,980 [main] INFO  ozone.MiniOzoneClusterImpl (MiniOzoneClusterImpl.java:shutdown(307)) - Shutting down the Mini Ozone Cluster
2019-09-10 17:54:22,981 [main] INFO  ozone.MiniOzoneClusterImpl (MiniOzoneClusterImpl.java:stop(322)) - Stopping the Mini Ozone Cluster
2019-09-10 17:54:22,981 [main] INFO  ozone.MiniOzoneClusterImpl (MiniOzoneClusterImpl.java:stop(324)) - Stopping the OzoneManager
2019-09-10 17:54:22,981 [main] INFO  ipc.Server (Server.java:stop(3082)) - Stopping server on 35479
2019-09-10 17:54:22,984 [IPC Server listener on 35479] INFO  ipc.Server (Server.java:run(1185)) - Stopping IPC Server listener on 35479
2019-09-10 17:54:22,985 [main] INFO  ratis.OzoneManagerDoubleBuffer (OzoneManagerDoubleBuffer.java:stop(248)) - Stopping OMDoubleBuffer flush thread
2019-09-10 17:54:22,988 [IPC Server Responder] INFO  ipc.Server (Server.java:run(1319)) - Stopping IPC Server Responder
2019-09-10 17:54:22,989 [OMDoubleBufferFlushThread] INFO  ratis.OzoneManagerDoubleBuffer (OzoneManagerDoubleBuffer.java:flushTransactions(191)) - OMDoubleBuffer flush thread OMDoubleBufferFlushThread is interrupted and will exit. OMDoubleBufferFlushThread
2019-09-10 17:54:22,995 [main] INFO  utils.BackgroundService (BackgroundService.java:shutdown(148)) - Shutting down service KeyDeletingService
2019-09-10 17:54:23,002 [main] INFO  handler.ContextHandler (ContextHandler.java:doStop(910)) - Stopped o.e.j.w.WebAppContext@3eed0f5{/,null,UNAVAILABLE}{/ozoneManager}
2019-09-10 17:54:23,002 [main] INFO  server.AbstractConnector (AbstractConnector.java:doStop(318)) - Stopped ServerConnector@64030b91{HTTP/1.1,[http/1.1]}{0.0.0.0:0}
2019-09-10 17:54:23,003 [main] INFO  handler.ContextHandler (ContextHandler.java:doStop(910)) - Stopped o.e.j.s.ServletContextHandler@ccd1bc3{/static,file:///workdir/hadoop-ozone/integration-test/target/test-classes/webapps/static,UNAVAILABLE}
2019-09-10 17:54:23,003 [main] INFO  handler.ContextHandler (ContextHandler.java:doStop(910)) - Stopped o.e.j.s.ServletContextHandler@74971ed9{/logs,file:///workdir/hadoop-ozone/integration-test/target/log,UNAVAILABLE}
2019-09-10 17:54:23,006 [main] INFO  ozone.MiniOzoneClusterImpl (MiniOzoneClusterImpl.java:stop(330)) - Shutting the HddsDatanodes
2019-09-10 17:54:23,023 [Datanode State Machine Thread - 0] INFO  statemachine.DatanodeStateMachine (DatanodeStateMachine.java:lambda$startDaemon$0(350)) - Ozone container server started.
2019-09-10 17:54:23,830 [grpc-default-executor-0] INFO  impl.RaftServerProxy (RaftServerProxy.java:remove(95)) - 60b001b3-1662-439d-83b7-d721b00602d4: remove    LEADER 60b001b3-1662-439d-83b7-d721b00602d4@group-7DBFE17CF3C0:t1, leader=60b001b3-1662-439d-83b7-d721b00602d4, voted=60b001b3-1662-439d-83b7-d721b00602d4, raftlog=60b001b3-1662-439d-83b7-d721b00602d4@group-7DBFE17CF3C0-SegmentedRaftLog:OPENED:c9,f9,i9, conf=0: [60b001b3-1662-439d-83b7-d721b00602d4:192.168.5.139:37239], old=null CLOSING
2019-09-10 17:54:23,837 [RatisPipelineUtilsThread] INFO  pipeline.PipelineStateManager (PipelineStateManager.java:removePipeline(108)) - Pipeline Pipeline[ Id: cdf2afe6-8283-403d-8cc1-7dbfe17cf3c0, Nodes: 60b001b3-1662-439d-83b7-d721b00602d4{ip: 192.168.5.139, host: pr-hdds-1786-trunk-k6rzm-1803654198, networkLocation: /default-rack, certSerialId: null}, Type:RATIS, Factor:ONE, State:CLOSED] removed from db
2019-09-10 17:54:25,522 [Thread-376] INFO  impl.FollowerState (FollowerState.java:run(106)) - 60b001b3-1662-439d-83b7-d721b00602d4:group-12B99A8D6AFD changes to CANDIDATE, lastRpcTime:5029, electionTimeout:5029ms
2019-09-10 17:54:25,522 [Thread-376] INFO  impl.RoleInfo (RoleInfo.java:shutdownFollowerState(121)) - 60b001b3-1662-439d-83b7-d721b00602d4: shutdown FollowerState
2019-09-10 17:54:25,522 [Thread-376] INFO  impl.RaftServerImpl (RaftServerImpl.java:setRole(174)) - 60b001b3-1662-439d-83b7-d721b00602d4@group-12B99A8D6AFD: changes role from  FOLLOWER to CANDIDATE at term 0 for changeToCandidate
2019-09-10 17:54:25,523 [Thread-376] INFO  impl.RoleInfo (RoleInfo.java:updateAndGet(143)) - 60b001b3-1662-439d-83b7-d721b00602d4: start LeaderElection
2019-09-10 17:54:25,554 [60b001b3-1662-439d-83b7-d721b00602d4@group-12B99A8D6AFD:LeaderElection12] INFO  impl.LeaderElection (LeaderElection.java:askForVotes(182)) - 60b001b3-1662-439d-83b7-d721b00602d4@group-12B99A8D6AFD:LeaderElection12: begin an election at term 1 for -1: [60b001b3-1662-439d-83b7-d721b00602d4:192.168.5.139:37239], old=null
2019-09-10 17:54:25,554 [60b001b3-1662-439d-83b7-d721b00602d4@group-12B99A8D6AFD:LeaderElection12] INFO  impl.RoleInfo (RoleInfo.java:shutdownLeaderElection(134)) - 60b001b3-1662-439d-83b7-d721b00602d4: shutdown LeaderElection
2019-09-10 17:54:25,554 [60b001b3-1662-439d-83b7-d721b00602d4@group-12B99A8D6AFD:LeaderElection12] INFO  impl.RaftServerImpl (RaftServerImpl.java:setRole(174)) - 60b001b3-1662-439d-83b7-d721b00602d4@group-12B99A8D6AFD: changes role from CANDIDATE to LEADER at term 1 for changeToLeader
2019-09-10 17:54:25,554 [60b001b3-1662-439d-83b7-d721b00602d4@group-12B99A8D6AFD:LeaderElection12] INFO  impl.RaftServerImpl (ServerState.java:setLeader(253)) - 60b001b3-1662-439d-83b7-d721b00602d4@group-12B99A8D6AFD: change Leader from null to 60b001b3-1662-439d-83b7-d721b00602d4 at term 1 for becomeLeader, leader elected after 5067ms
2019-09-10 17:54:25,554 [60b001b3-1662-439d-83b7-d721b00602d4@group-12B99A8D6AFD:LeaderElection12] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.staging.catchup.gap = 1000 (default)
2019-09-10 17:54:25,554 [60b001b3-1662-439d-83b7-d721b00602d4@group-12B99A8D6AFD:LeaderElection12] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.rpc.sleep.time = 25ms (default)
2019-09-10 17:54:25,554 [60b001b3-1662-439d-83b7-d721b00602d4@group-12B99A8D6AFD:LeaderElection12] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.write.element-limit = 4096 (default)
2019-09-10 17:54:25,555 [60b001b3-1662-439d-83b7-d721b00602d4@group-12B99A8D6AFD:LeaderElection12] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.watch.timeout = 10s (default)
2019-09-10 17:54:25,555 [60b001b3-1662-439d-83b7-d721b00602d4@group-12B99A8D6AFD:LeaderElection12] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.watch.timeout.denomination = 1s (default)
2019-09-10 17:54:25,555 [60b001b3-1662-439d-83b7-d721b00602d4@group-12B99A8D6AFD:LeaderElection12] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.watch.element-limit = 65536 (default)
2019-09-10 17:54:25,558 [60b001b3-1662-439d-83b7-d721b00602d4@group-12B99A8D6AFD:LeaderElection12] INFO  impl.RoleInfo (RoleInfo.java:updateAndGet(143)) - 60b001b3-1662-439d-83b7-d721b00602d4: start LeaderState
2019-09-10 17:54:25,558 [60b001b3-1662-439d-83b7-d721b00602d4@group-12B99A8D6AFD:LeaderElection12] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:startLogSegment(380)) - 60b001b3-1662-439d-83b7-d721b00602d4@group-12B99A8D6AFD-SegmentedRaftLogWorker: Starting segment from index:0
2019-09-10 17:54:25,559 [60b001b3-1662-439d-83b7-d721b00602d4@group-12B99A8D6AFD:LeaderElection12] INFO  impl.RaftServerImpl (ServerState.java:setRaftConf(354)) - 60b001b3-1662-439d-83b7-d721b00602d4@group-12B99A8D6AFD: set configuration 0: [60b001b3-1662-439d-83b7-d721b00602d4:192.168.5.139:37239], old=null at 0
2019-09-10 17:54:25,612 [60b001b3-1662-439d-83b7-d721b00602d4@group-12B99A8D6AFD-SegmentedRaftLogWorker] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:execute(569)) - 60b001b3-1662-439d-83b7-d721b00602d4@group-12B99A8D6AFD-SegmentedRaftLogWorker: created new log segment /workdir/hadoop-ozone/integration-test/target/test-dir/MiniOzoneClusterImpl-d01b3807-3732-4de8-b8ba-bdf98e618289/datanode-0/data/ratis/1c59cca8-2db9-48f0-b568-12b99a8d6afd/current/log_inprogress_0
2019-09-10 17:54:25,880 [EventQueue-StaleNodeForStaleNodeHandler] INFO  node.StaleNodeHandler (StaleNodeHandler.java:onMessage(58)) - Datanode 60b001b3-1662-439d-83b7-d721b00602d4{ip: 192.168.5.139, host: pr-hdds-1786-trunk-k6rzm-1803654198, networkLocation: /default-rack, certSerialId: null} moved to stale state. Finalizing its pipelines [PipelineID=1c59cca8-2db9-48f0-b568-12b99a8d6afd]
2019-09-10 17:54:25,881 [EventQueue-StaleNodeForStaleNodeHandler] INFO  pipeline.SCMPipelineManager (SCMPipelineManager.java:finalizeAndDestroyPipeline(311)) - destroying pipeline:Pipeline[ Id: 1c59cca8-2db9-48f0-b568-12b99a8d6afd, Nodes: 60b001b3-1662-439d-83b7-d721b00602d4{ip: 192.168.5.139, host: pr-hdds-1786-trunk-k6rzm-1803654198, networkLocation: /default-rack, certSerialId: null}, Type:RATIS, Factor:ONE, State:OPEN]
2019-09-10 17:54:25,881 [EventQueue-StaleNodeForStaleNodeHandler] INFO  pipeline.PipelineStateManager (PipelineStateManager.java:finalizePipeline(123)) - Pipeline Pipeline[ Id: 1c59cca8-2db9-48f0-b568-12b99a8d6afd, Nodes: 60b001b3-1662-439d-83b7-d721b00602d4{ip: 192.168.5.139, host: pr-hdds-1786-trunk-k6rzm-1803654198, networkLocation: /default-rack, certSerialId: null}, Type:RATIS, Factor:ONE, State:CLOSED] moved to CLOSED state
2019-09-10 17:54:28,007 [main] INFO  ozoneimpl.OzoneContainer (OzoneContainer.java:stop(231)) - Attempting to stop container services.
2019-09-10 17:54:28,009 [main] INFO  impl.RaftServerProxy (RaftServerProxy.java:lambda$close$4(314)) - 60b001b3-1662-439d-83b7-d721b00602d4: close
2019-09-10 17:54:28,009 [main] INFO  impl.RaftServerImpl (RaftServerImpl.java:lambda$shutdown$3(251)) - 60b001b3-1662-439d-83b7-d721b00602d4@group-12B99A8D6AFD: shutdown
2019-09-10 17:54:28,009 [main] INFO  util.JmxRegister (JmxRegister.java:unregister(73)) - Successfully un-registered JMX Bean with object name Ratis:service=RaftServer,group=group-12B99A8D6AFD,id=60b001b3-1662-439d-83b7-d721b00602d4
2019-09-10 17:54:28,010 [main] INFO  impl.RoleInfo (RoleInfo.java:shutdownLeaderState(104)) - 60b001b3-1662-439d-83b7-d721b00602d4: shutdown LeaderState
2019-09-10 17:54:28,010 [main] INFO  impl.PendingRequests (PendingRequests.java:sendNotLeaderResponses(202)) - 60b001b3-1662-439d-83b7-d721b00602d4-PendingRequests: sendNotLeaderResponses
2019-09-10 17:54:28,011 [main] INFO  impl.StateMachineUpdater (StateMachineUpdater.java:stopAndJoin(125)) - 60b001b3-1662-439d-83b7-d721b00602d4@group-12B99A8D6AFD-StateMachineUpdater: set stopIndex = 0
2019-09-10 17:54:28,015 [main] INFO  impl.RaftServerImpl (ServerState.java:close(385)) - 60b001b3-1662-439d-83b7-d721b00602d4@group-12B99A8D6AFD: closes. applyIndex: 0
2019-09-10 17:54:28,016 [60b001b3-1662-439d-83b7-d721b00602d4@group-12B99A8D6AFD-SegmentedRaftLogWorker] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:run(313)) - 60b001b3-1662-439d-83b7-d721b00602d4@group-12B99A8D6AFD-SegmentedRaftLogWorker was interrupted, exiting. There are 0 tasks remaining in the queue.
2019-09-10 17:54:28,017 [main] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:close(228)) - 60b001b3-1662-439d-83b7-d721b00602d4@group-12B99A8D6AFD-SegmentedRaftLogWorker close()
2019-09-10 17:54:28,019 [main] INFO  server.GrpcService (GrpcService.java:closeImpl(164)) - 60b001b3-1662-439d-83b7-d721b00602d4: shutdown server with port 37239 now
2019-09-10 17:54:28,022 [main] INFO  server.GrpcService (GrpcService.java:closeImpl(172)) - 60b001b3-1662-439d-83b7-d721b00602d4: shutdown server with port 37239 successfully
2019-09-10 17:54:28,029 [refreshUsed-/workdir/hadoop-ozone/integration-test/target/test-dir/MiniOzoneClusterImpl-d01b3807-3732-4de8-b8ba-bdf98e618289/datanode-0/data/containers] WARN  fs.CachingGetSpaceUsed (CachingGetSpaceUsed.java:run(183)) - Thread Interrupted waiting to refresh disk information: sleep interrupted
2019-09-10 17:54:28,048 [main] INFO  utils.BackgroundService (BackgroundService.java:shutdown(148)) - Shutting down service BlockDeletingService
2019-09-10 17:54:28,051 [main] INFO  statemachine.DatanodeStateMachine (DatanodeStateMachine.java:stopDaemon(395)) - Ozone container server stopped.
2019-09-10 17:54:28,053 [main] INFO  handler.ContextHandler (ContextHandler.java:doStop(910)) - Stopped o.e.j.w.WebAppContext@411a5965{/,null,UNAVAILABLE}{/hddsDatanode}
2019-09-10 17:54:28,055 [main] INFO  server.AbstractConnector (AbstractConnector.java:doStop(318)) - Stopped ServerConnector@4fe533ff{HTTP/1.1,[http/1.1]}{0.0.0.0:46502}
2019-09-10 17:54:28,055 [main] INFO  handler.ContextHandler (ContextHandler.java:doStop(910)) - Stopped o.e.j.s.ServletContextHandler@1945113f{/static,jar:file:/home/user/.m2/repository/org/apache/hadoop/hadoop-hdds-container-service/0.5.0-SNAPSHOT/hadoop-hdds-container-service-0.5.0-SNAPSHOT.jar!/webapps/static,UNAVAILABLE}
2019-09-10 17:54:28,056 [main] INFO  handler.ContextHandler (ContextHandler.java:doStop(910)) - Stopped o.e.j.s.ServletContextHandler@30839e44{/logs,file:///workdir/hadoop-ozone/integration-test/target/log,UNAVAILABLE}
2019-09-10 17:54:28,058 [main] INFO  ozone.MiniOzoneClusterImpl (MiniOzoneClusterImpl.java:stop(339)) - Stopping the StorageContainerManager
2019-09-10 17:54:28,058 [main] INFO  server.StorageContainerManager (StorageContainerManager.java:stop(801)) - Stopping Replication Manager Service.
2019-09-10 17:54:28,058 [main] INFO  container.ReplicationManager (ReplicationManager.java:stop(203)) - Stopping Replication Monitor Thread.
2019-09-10 17:54:28,058 [main] INFO  server.StorageContainerManager (StorageContainerManager.java:stop(808)) - Stopping Lease Manager of the command watchers
2019-09-10 17:54:28,059 [main] INFO  server.StorageContainerManager (StorageContainerManager.java:stop(815)) - Stopping datanode service RPC server
2019-09-10 17:54:28,059 [main] INFO  server.SCMDatanodeProtocolServer (SCMDatanodeProtocolServer.java:stop(367)) - Stopping the RPC server for DataNodes
2019-09-10 17:54:28,059 [main] INFO  ipc.Server (Server.java:stop(3082)) - Stopping server on 43368
2019-09-10 17:54:28,060 [IPC Server listener on 43368] INFO  ipc.Server (Server.java:run(1185)) - Stopping IPC Server listener on 43368
2019-09-10 17:54:28,060 [IPC Server Responder] INFO  ipc.Server (Server.java:run(1319)) - Stopping IPC Server Responder
2019-09-10 17:54:28,083 [SCM Heartbeat Processing Thread - 0] WARN  node.NodeStateManager (NodeStateManager.java:scheduleNextHealthCheck(646)) - Current Thread is interrupted, shutting down HB processing thread for Node Manager.
2019-09-10 17:54:28,083 [main] INFO  server.StorageContainerManager (StorageContainerManager.java:stop(823)) - Stopping block service RPC server
2019-09-10 17:54:28,083 [main] INFO  server.SCMBlockProtocolServer (SCMBlockProtocolServer.java:stop(155)) - Stopping the RPC server for Block Protocol
2019-09-10 17:54:28,084 [main] INFO  ipc.Server (Server.java:stop(3082)) - Stopping server on 34058
2019-09-10 17:54:28,084 [IPC Server listener on 34058] INFO  ipc.Server (Server.java:run(1185)) - Stopping IPC Server listener on 34058
2019-09-10 17:54:28,085 [main] INFO  server.StorageContainerManager (StorageContainerManager.java:stop(830)) - Stopping the StorageContainerLocationProtocol RPC server
2019-09-10 17:54:28,085 [IPC Server Responder] INFO  ipc.Server (Server.java:run(1319)) - Stopping IPC Server Responder
2019-09-10 17:54:28,085 [main] INFO  server.SCMClientProtocolServer (SCMClientProtocolServer.java:stop(159)) - Stopping the RPC server for Client Protocol
2019-09-10 17:54:28,085 [main] INFO  ipc.Server (Server.java:stop(3082)) - Stopping server on 45136
2019-09-10 17:54:28,087 [IPC Server listener on 45136] INFO  ipc.Server (Server.java:run(1185)) - Stopping IPC Server listener on 45136
2019-09-10 17:54:28,087 [main] INFO  server.StorageContainerManager (StorageContainerManager.java:stop(837)) - Stopping Storage Container Manager HTTP server.
2019-09-10 17:54:28,087 [IPC Server Responder] INFO  ipc.Server (Server.java:run(1319)) - Stopping IPC Server Responder
2019-09-10 17:54:28,088 [main] INFO  handler.ContextHandler (ContextHandler.java:doStop(910)) - Stopped o.e.j.w.WebAppContext@740abb5{/,null,UNAVAILABLE}{/scm}
2019-09-10 17:54:28,089 [main] INFO  server.AbstractConnector (AbstractConnector.java:doStop(318)) - Stopped ServerConnector@61edc883{HTTP/1.1,[http/1.1]}{0.0.0.0:0}
2019-09-10 17:54:28,090 [main] INFO  handler.ContextHandler (ContextHandler.java:doStop(910)) - Stopped o.e.j.s.ServletContextHandler@4b45dcb8{/static,file:///workdir/hadoop-ozone/integration-test/target/test-classes/webapps/static,UNAVAILABLE}
2019-09-10 17:54:28,090 [main] INFO  handler.ContextHandler (ContextHandler.java:doStop(910)) - Stopped o.e.j.s.ServletContextHandler@2b0f373b{/logs,file:///workdir/hadoop-ozone/integration-test/target/log,UNAVAILABLE}
2019-09-10 17:54:28,091 [main] INFO  server.StorageContainerManager (StorageContainerManager.java:stop(848)) - Stopping Block Manager Service.
2019-09-10 17:54:28,091 [main] INFO  utils.BackgroundService (BackgroundService.java:shutdown(148)) - Shutting down service SCMBlockDeletingService
2019-09-10 17:54:28,092 [main] INFO  utils.BackgroundService (BackgroundService.java:shutdown(148)) - Shutting down service SCMBlockDeletingService
2019-09-10 17:54:28,093 [main] INFO  server.StorageContainerManager (StorageContainerManager.java:stop(870)) - Stopping SCM Event Queue.
2019-09-10 17:54:28,102 [main] INFO  impl.MetricsSystemImpl (MetricsSystemImpl.java:stop(210)) - Stopping HddsDatanode metrics system...
2019-09-10 17:54:28,112 [prometheus] INFO  impl.MetricsSinkAdapter (MetricsSinkAdapter.java:publishMetricsFromQueue(141)) - prometheus thread interrupted.
2019-09-10 17:54:28,112 [main] INFO  impl.MetricsSystemImpl (MetricsSystemImpl.java:stop(216)) - HddsDatanode metrics system stopped.
