2019-09-16 15:58:27,476 [main] WARN  server.ServerUtils (ServerUtils.java:getScmDbDir(145)) - ozone.scm.db.dirs is not configured. We recommend adding this setting. Falling back to ozone.metadata.dirs instead.
2019-09-16 15:58:27,624 [main] WARN  server.ServerUtils (ServerUtils.java:getScmDbDir(145)) - ozone.scm.db.dirs is not configured. We recommend adding this setting. Falling back to ozone.metadata.dirs instead.
2019-09-16 15:58:27,629 [main] WARN  server.ServerUtils (ServerUtils.java:getScmDbDir(145)) - ozone.scm.db.dirs is not configured. We recommend adding this setting. Falling back to ozone.metadata.dirs instead.
2019-09-16 15:58:27,649 [main] INFO  util.log (Log.java:initialized(192)) - Logging initialized @951ms
2019-09-16 15:58:27,756 [main] INFO  db.DBStoreBuilder (DBStoreBuilder.java:addTable(110)) - using custom profile for table: deletedBlocks
2019-09-16 15:58:27,757 [main] INFO  db.DBStoreBuilder (DBStoreBuilder.java:processTables(161)) - Using default column profile:DBProfile.DISK for Table:deletedBlocks
2019-09-16 15:58:27,757 [main] INFO  db.DBStoreBuilder (DBStoreBuilder.java:addTable(110)) - using custom profile for table: validCerts
2019-09-16 15:58:27,757 [main] INFO  db.DBStoreBuilder (DBStoreBuilder.java:processTables(161)) - Using default column profile:DBProfile.DISK for Table:validCerts
2019-09-16 15:58:27,758 [main] INFO  db.DBStoreBuilder (DBStoreBuilder.java:addTable(110)) - using custom profile for table: revokedCerts
2019-09-16 15:58:27,758 [main] INFO  db.DBStoreBuilder (DBStoreBuilder.java:processTables(161)) - Using default column profile:DBProfile.DISK for Table:revokedCerts
2019-09-16 15:58:27,771 [main] INFO  db.DBStoreBuilder (DBStoreBuilder.java:addTable(110)) - using custom profile for table: default
2019-09-16 15:58:27,771 [main] INFO  db.DBStoreBuilder (DBStoreBuilder.java:processTables(167)) - Using default column profile:DBProfile.DISK for Table:default
2019-09-16 15:58:27,772 [main] INFO  db.DBStoreBuilder (DBStoreBuilder.java:getDbProfile(198)) - Using default options. DBProfile.DISK
2019-09-16 15:58:28,363 [main] INFO  net.NodeSchemaLoader (NodeSchemaLoader.java:loadSchemaFromFile(125)) - Loading file from sun.misc.CompoundEnumeration@4c583ecf
2019-09-16 15:58:28,365 [main] INFO  net.NodeSchemaLoader (NodeSchemaLoader.java:loadSchema(171)) - Loading network topology layer schema file
2019-09-16 15:58:28,437 [main] INFO  node.SCMNodeManager (SCMNodeManager.java:<init>(114)) - Entering startup safe mode.
2019-09-16 15:58:28,510 [main] INFO  algorithms.ContainerPlacementPolicyFactory (ContainerPlacementPolicyFactory.java:getPolicy(57)) - Create container placement policy of type org.apache.hadoop.hdds.scm.container.placement.algorithms.SCMContainerPlacementRandom
2019-09-16 15:58:28,525 [main] WARN  server.ServerUtils (ServerUtils.java:getScmDbDir(145)) - ozone.scm.db.dirs is not configured. We recommend adding this setting. Falling back to ozone.metadata.dirs instead.
2019-09-16 15:58:29,553 [main] INFO  pipeline.SCMPipelineManager (SCMPipelineManager.java:initializePipelineState(128)) - No pipeline exists in current db
2019-09-16 15:58:29,556 [main] WARN  server.ServerUtils (ServerUtils.java:getScmDbDir(145)) - ozone.scm.db.dirs is not configured. We recommend adding this setting. Falling back to ozone.metadata.dirs instead.
2019-09-16 15:58:29,721 [main] WARN  events.EventQueue (EventQueue.java:fireEvent(183)) - No event handler registered for event TypedEvent{payloadType=SafeModeStatus, name='SafeModeStatus'}
ERROR StatusLogger No Log4j 2 configuration file found. Using default configuration (logging only errors to the console), or user programmatically provided configurations. Set system property 'log4j2.debug' to show Log4j 2 internal initialization logging. See https://logging.apache.org/log4j/2.x/manual/configuration.html for instructions on how to configure Log4j 2
2019-09-16 15:58:30,075 [main] INFO  ipc.CallQueueManager (CallQueueManager.java:<init>(84)) - Using callQueue: class java.util.concurrent.LinkedBlockingQueue, queueCapacity: 2000, scheduler: class org.apache.hadoop.ipc.DefaultRpcScheduler, ipcBackoff: false.
2019-09-16 15:58:30,104 [Socket Reader #1 for port 41271] INFO  ipc.Server (Server.java:run(1074)) - Starting Socket Reader #1 for port 41271
2019-09-16 15:58:30,243 [main] INFO  ipc.CallQueueManager (CallQueueManager.java:<init>(84)) - Using callQueue: class java.util.concurrent.LinkedBlockingQueue, queueCapacity: 2000, scheduler: class org.apache.hadoop.ipc.DefaultRpcScheduler, ipcBackoff: false.
2019-09-16 15:58:30,244 [Socket Reader #1 for port 34332] INFO  ipc.Server (Server.java:run(1074)) - Starting Socket Reader #1 for port 34332
2019-09-16 15:58:30,255 [main] INFO  ipc.CallQueueManager (CallQueueManager.java:<init>(84)) - Using callQueue: class java.util.concurrent.LinkedBlockingQueue, queueCapacity: 2000, scheduler: class org.apache.hadoop.ipc.DefaultRpcScheduler, ipcBackoff: false.
2019-09-16 15:58:30,256 [Socket Reader #1 for port 44319] INFO  ipc.Server (Server.java:run(1074)) - Starting Socket Reader #1 for port 44319
2019-09-16 15:58:30,280 [main] INFO  hdfs.DFSUtil (DFSUtil.java:httpServerTemplateForNNAndJN(1641)) - Starting Web-server for scm at: http://0.0.0.0:0
2019-09-16 15:58:30,435 [main] INFO  server.AuthenticationFilter (AuthenticationFilter.java:constructSecretProvider(240)) - Unable to initialize FileSignerSecretProvider, falling back to use random secrets.
2019-09-16 15:58:30,443 [main] WARN  http.HttpRequestLog (HttpRequestLog.java:getRequestLog(97)) - Jetty request log can only be enabled using Log4j
2019-09-16 15:58:30,451 [main] INFO  http.HttpServer2 (HttpServer2.java:addGlobalFilter(975)) - Added global filter 'safety' (class=org.apache.hadoop.http.HttpServer2$QuotingInputFilter)
2019-09-16 15:58:30,453 [main] INFO  http.HttpServer2 (HttpServer2.java:addFilter(948)) - Added filter static_user_filter (class=org.apache.hadoop.http.lib.StaticUserWebFilter$StaticUserFilter) to context scm
2019-09-16 15:58:30,453 [main] INFO  http.HttpServer2 (HttpServer2.java:addFilter(958)) - Added filter static_user_filter (class=org.apache.hadoop.http.lib.StaticUserWebFilter$StaticUserFilter) to context logs
2019-09-16 15:58:30,454 [main] INFO  http.HttpServer2 (HttpServer2.java:addFilter(958)) - Added filter static_user_filter (class=org.apache.hadoop.http.lib.StaticUserWebFilter$StaticUserFilter) to context static
2019-09-16 15:58:30,483 [main] INFO  server.StorageContainerManager (StorageContainerManager.java:start(763)) - StorageContainerLocationProtocol RPC server is listening at /0.0.0.0:44319
2019-09-16 15:58:30,541 [main] WARN  impl.MetricsConfig (MetricsConfig.java:loadFirst(134)) - Cannot locate configuration: tried hadoop-metrics2-storagecontainermanager.properties,hadoop-metrics2.properties
2019-09-16 15:58:30,553 [main] INFO  impl.MetricsSystemImpl (MetricsSystemImpl.java:startTimer(374)) - Scheduled Metric snapshot period at 10 second(s).
2019-09-16 15:58:30,553 [main] INFO  impl.MetricsSystemImpl (MetricsSystemImpl.java:start(191)) - StorageContainerManager metrics system started
2019-09-16 15:58:30,775 [main] INFO  server.SCMClientProtocolServer (SCMClientProtocolServer.java:start(151)) - RPC server for Client  is listening at /0.0.0.0:44319
2019-09-16 15:58:30,775 [IPC Server Responder] INFO  ipc.Server (Server.java:run(1314)) - IPC Server Responder: starting
2019-09-16 15:58:30,775 [IPC Server listener on 44319] INFO  ipc.Server (Server.java:run(1153)) - IPC Server listener on 44319: starting
2019-09-16 15:58:30,778 [main] INFO  server.StorageContainerManager (StorageContainerManager.java:start(773)) - ScmBlockLocationProtocol RPC server is listening at /0.0.0.0:34332
2019-09-16 15:58:30,779 [main] INFO  server.SCMBlockProtocolServer (SCMBlockProtocolServer.java:start(146)) - RPC server for Block Protocol is listening at /0.0.0.0:34332
2019-09-16 15:58:30,780 [IPC Server Responder] INFO  ipc.Server (Server.java:run(1314)) - IPC Server Responder: starting
2019-09-16 15:58:30,780 [IPC Server listener on 34332] INFO  ipc.Server (Server.java:run(1153)) - IPC Server listener on 34332: starting
2019-09-16 15:58:30,782 [main] INFO  server.StorageContainerManager (StorageContainerManager.java:start(777)) - ScmDatanodeProtocl RPC server is listening at /0.0.0.0:41271
2019-09-16 15:58:30,782 [main] INFO  server.SCMDatanodeProtocolServer (SCMDatanodeProtocolServer.java:start(191)) - RPC server for DataNodes is listening at /0.0.0.0:41271
2019-09-16 15:58:30,782 [IPC Server Responder] INFO  ipc.Server (Server.java:run(1314)) - IPC Server Responder: starting
2019-09-16 15:58:30,782 [IPC Server listener on 41271] INFO  ipc.Server (Server.java:run(1153)) - IPC Server listener on 41271: starting
2019-09-16 15:58:30,786 [main] INFO  http.HttpServer2 (HttpServer2.java:bindListener(1191)) - Jetty bound to port 39787
2019-09-16 15:58:30,788 [main] INFO  server.Server (Server.java:doStart(351)) - jetty-9.3.24.v20180605, build timestamp: 2018-06-05T17:11:56Z, git hash: 84205aa28f11a4f31f2a3b86d1bba2cc8ab69827
2019-09-16 15:58:30,843 [main] INFO  handler.ContextHandler (ContextHandler.java:doStart(781)) - Started o.e.j.s.ServletContextHandler@2b0f373b{/logs,file:///workdir/hadoop-ozone/integration-test/target/log,AVAILABLE}
2019-09-16 15:58:30,844 [main] INFO  handler.ContextHandler (ContextHandler.java:doStart(781)) - Started o.e.j.s.ServletContextHandler@4b45dcb8{/static,file:///workdir/hadoop-ozone/integration-test/target/test-classes/webapps/static,AVAILABLE}
2019-09-16 15:58:30,902 [main] INFO  handler.ContextHandler (ContextHandler.java:doStart(781)) - Started o.e.j.w.WebAppContext@740abb5{/,file:///workdir/hadoop-ozone/integration-test/target/test-classes/webapps/scm/,AVAILABLE}{/scm}
2019-09-16 15:58:30,910 [main] INFO  server.AbstractConnector (AbstractConnector.java:doStart(278)) - Started ServerConnector@61edc883{HTTP/1.1,[http/1.1]}{0.0.0.0:39787}
2019-09-16 15:58:30,911 [main] INFO  server.Server (Server.java:doStart(419)) - Started @4213ms
2019-09-16 15:58:30,913 [main] INFO  impl.MetricsSinkAdapter (MetricsSinkAdapter.java:start(204)) - Sink prometheus started
2019-09-16 15:58:30,913 [main] INFO  impl.MetricsSystemImpl (MetricsSystemImpl.java:registerSink(301)) - Registered sink prometheus
2019-09-16 15:58:30,915 [main] INFO  server.BaseHttpServer (BaseHttpServer.java:updateConnectorAddress(215)) - HTTP server of SCM is listening at http://0.0.0.0:39787
2019-09-16 15:58:30,921 [org.apache.hadoop.util.JvmPauseMonitor$Monitor@5003041b] INFO  util.JvmPauseMonitor (JvmPauseMonitor.java:run(188)) - Starting JVM pause monitor
2019-09-16 15:58:30,925 [main] WARN  server.ServerUtils (ServerUtils.java:getDBPath(222)) - ozone.om.db.dirs is not configured. We recommend adding this setting. Falling back to ozone.metadata.dirs instead.
2019-09-16 15:58:31,058 [main] WARN  server.ServerUtils (ServerUtils.java:getDBPath(222)) - ozone.om.db.dirs is not configured. We recommend adding this setting. Falling back to ozone.metadata.dirs instead.
2019-09-16 15:58:31,059 [main] WARN  server.ServerUtils (ServerUtils.java:getDBPath(222)) - ozone.om.db.dirs is not configured. We recommend adding this setting. Falling back to ozone.metadata.dirs instead.
2019-09-16 15:58:31,060 [main] INFO  om.OzoneManager (OzoneManager.java:setOMNodeDetails(649)) - OM Service ID is not set. Setting it to the default ID: omServiceIdDefault
2019-09-16 15:58:31,060 [main] INFO  om.OzoneManager (OzoneManager.java:setOMNodeDetails(655)) - OM Node ID is not set. Setting it to the OmStorage's OmID: 2f82f591-37b5-477f-be43-c0dbbbad15dd
2019-09-16 15:58:31,061 [main] INFO  om.OzoneManager (OzoneManager.java:loadOMHAConfigs(606)) - Found matching OM address with OMServiceId: null, OMNodeId: null, RPC Address: localhost:0 and Ratis port: 9872
2019-09-16 15:58:31,833 [main] WARN  server.ServerUtils (ServerUtils.java:getDBPath(222)) - ozone.om.db.dirs is not configured. We recommend adding this setting. Falling back to ozone.metadata.dirs instead.
2019-09-16 15:58:31,840 [main] INFO  db.DBStoreBuilder (DBStoreBuilder.java:addTable(110)) - using custom profile for table: userTable
2019-09-16 15:58:31,841 [main] INFO  db.DBStoreBuilder (DBStoreBuilder.java:processTables(161)) - Using default column profile:DBProfile.DISK for Table:userTable
2019-09-16 15:58:31,841 [main] INFO  db.DBStoreBuilder (DBStoreBuilder.java:addTable(110)) - using custom profile for table: volumeTable
2019-09-16 15:58:31,841 [main] INFO  db.DBStoreBuilder (DBStoreBuilder.java:processTables(161)) - Using default column profile:DBProfile.DISK for Table:volumeTable
2019-09-16 15:58:31,841 [main] INFO  db.DBStoreBuilder (DBStoreBuilder.java:addTable(110)) - using custom profile for table: bucketTable
2019-09-16 15:58:31,841 [main] INFO  db.DBStoreBuilder (DBStoreBuilder.java:processTables(161)) - Using default column profile:DBProfile.DISK for Table:bucketTable
2019-09-16 15:58:31,842 [main] INFO  db.DBStoreBuilder (DBStoreBuilder.java:addTable(110)) - using custom profile for table: keyTable
2019-09-16 15:58:31,842 [main] INFO  db.DBStoreBuilder (DBStoreBuilder.java:processTables(161)) - Using default column profile:DBProfile.DISK for Table:keyTable
2019-09-16 15:58:31,842 [main] INFO  db.DBStoreBuilder (DBStoreBuilder.java:addTable(110)) - using custom profile for table: deletedTable
2019-09-16 15:58:31,842 [main] INFO  db.DBStoreBuilder (DBStoreBuilder.java:processTables(161)) - Using default column profile:DBProfile.DISK for Table:deletedTable
2019-09-16 15:58:31,843 [main] INFO  db.DBStoreBuilder (DBStoreBuilder.java:addTable(110)) - using custom profile for table: openKeyTable
2019-09-16 15:58:31,843 [main] INFO  db.DBStoreBuilder (DBStoreBuilder.java:processTables(161)) - Using default column profile:DBProfile.DISK for Table:openKeyTable
2019-09-16 15:58:31,843 [main] INFO  db.DBStoreBuilder (DBStoreBuilder.java:addTable(110)) - using custom profile for table: s3Table
2019-09-16 15:58:31,843 [main] INFO  db.DBStoreBuilder (DBStoreBuilder.java:processTables(161)) - Using default column profile:DBProfile.DISK for Table:s3Table
2019-09-16 15:58:31,844 [main] INFO  db.DBStoreBuilder (DBStoreBuilder.java:addTable(110)) - using custom profile for table: multipartInfoTable
2019-09-16 15:58:31,844 [main] INFO  db.DBStoreBuilder (DBStoreBuilder.java:processTables(161)) - Using default column profile:DBProfile.DISK for Table:multipartInfoTable
2019-09-16 15:58:31,844 [main] INFO  db.DBStoreBuilder (DBStoreBuilder.java:addTable(110)) - using custom profile for table: dTokenTable
2019-09-16 15:58:31,844 [main] INFO  db.DBStoreBuilder (DBStoreBuilder.java:processTables(161)) - Using default column profile:DBProfile.DISK for Table:dTokenTable
2019-09-16 15:58:31,845 [main] INFO  db.DBStoreBuilder (DBStoreBuilder.java:addTable(110)) - using custom profile for table: s3SecretTable
2019-09-16 15:58:31,845 [main] INFO  db.DBStoreBuilder (DBStoreBuilder.java:processTables(161)) - Using default column profile:DBProfile.DISK for Table:s3SecretTable
2019-09-16 15:58:31,845 [main] INFO  db.DBStoreBuilder (DBStoreBuilder.java:addTable(110)) - using custom profile for table: prefixTable
2019-09-16 15:58:31,845 [main] INFO  db.DBStoreBuilder (DBStoreBuilder.java:processTables(161)) - Using default column profile:DBProfile.DISK for Table:prefixTable
2019-09-16 15:58:31,846 [main] INFO  db.DBStoreBuilder (DBStoreBuilder.java:addTable(110)) - using custom profile for table: default
2019-09-16 15:58:31,846 [main] INFO  db.DBStoreBuilder (DBStoreBuilder.java:processTables(167)) - Using default column profile:DBProfile.DISK for Table:default
2019-09-16 15:58:31,846 [main] INFO  db.DBStoreBuilder (DBStoreBuilder.java:getDbProfile(198)) - Using default options. DBProfile.DISK
2019-09-16 15:58:32,780 [main] INFO  ipc.CallQueueManager (CallQueueManager.java:<init>(84)) - Using callQueue: class java.util.concurrent.LinkedBlockingQueue, queueCapacity: 2000, scheduler: class org.apache.hadoop.ipc.DefaultRpcScheduler, ipcBackoff: false.
2019-09-16 15:58:32,781 [Socket Reader #1 for port 39777] INFO  ipc.Server (Server.java:run(1074)) - Starting Socket Reader #1 for port 39777
2019-09-16 15:58:32,802 [main] INFO  om.OzoneManager (OzoneManager.java:start(1240)) - OzoneManager RPC server is listening at localhost/127.0.0.1:39777
2019-09-16 15:58:32,802 [main] INFO  impl.MetricsSystemImpl (MetricsSystemImpl.java:init(158)) - OzoneManager metrics system started (again)
2019-09-16 15:58:32,804 [IPC Server Responder] INFO  ipc.Server (Server.java:run(1314)) - IPC Server Responder: starting
2019-09-16 15:58:32,804 [IPC Server listener on 39777] INFO  ipc.Server (Server.java:run(1153)) - IPC Server listener on 39777: starting
2019-09-16 15:58:32,812 [main] INFO  hdfs.DFSUtil (DFSUtil.java:httpServerTemplateForNNAndJN(1641)) - Starting Web-server for ozoneManager at: http://0.0.0.0:0
2019-09-16 15:58:32,815 [main] INFO  server.AuthenticationFilter (AuthenticationFilter.java:constructSecretProvider(240)) - Unable to initialize FileSignerSecretProvider, falling back to use random secrets.
2019-09-16 15:58:32,815 [main] WARN  http.HttpRequestLog (HttpRequestLog.java:getRequestLog(97)) - Jetty request log can only be enabled using Log4j
2019-09-16 15:58:32,818 [main] INFO  http.HttpServer2 (HttpServer2.java:addGlobalFilter(975)) - Added global filter 'safety' (class=org.apache.hadoop.http.HttpServer2$QuotingInputFilter)
2019-09-16 15:58:32,820 [main] INFO  http.HttpServer2 (HttpServer2.java:addFilter(948)) - Added filter static_user_filter (class=org.apache.hadoop.http.lib.StaticUserWebFilter$StaticUserFilter) to context ozoneManager
2019-09-16 15:58:32,820 [main] INFO  http.HttpServer2 (HttpServer2.java:addFilter(958)) - Added filter static_user_filter (class=org.apache.hadoop.http.lib.StaticUserWebFilter$StaticUserFilter) to context logs
2019-09-16 15:58:32,821 [main] INFO  http.HttpServer2 (HttpServer2.java:addFilter(958)) - Added filter static_user_filter (class=org.apache.hadoop.http.lib.StaticUserWebFilter$StaticUserFilter) to context static
2019-09-16 15:58:32,824 [main] INFO  http.HttpServer2 (HttpServer2.java:bindListener(1191)) - Jetty bound to port 33833
2019-09-16 15:58:32,824 [main] INFO  server.Server (Server.java:doStart(351)) - jetty-9.3.24.v20180605, build timestamp: 2018-06-05T17:11:56Z, git hash: 84205aa28f11a4f31f2a3b86d1bba2cc8ab69827
2019-09-16 15:58:32,827 [main] INFO  handler.ContextHandler (ContextHandler.java:doStart(781)) - Started o.e.j.s.ServletContextHandler@74971ed9{/logs,file:///workdir/hadoop-ozone/integration-test/target/log,AVAILABLE}
2019-09-16 15:58:32,828 [main] INFO  handler.ContextHandler (ContextHandler.java:doStart(781)) - Started o.e.j.s.ServletContextHandler@ccd1bc3{/static,file:///workdir/hadoop-ozone/integration-test/target/test-classes/webapps/static,AVAILABLE}
2019-09-16 15:58:32,835 [main] INFO  handler.ContextHandler (ContextHandler.java:doStart(781)) - Started o.e.j.w.WebAppContext@3eed0f5{/,file:///workdir/hadoop-ozone/integration-test/target/test-classes/webapps/ozoneManager/,AVAILABLE}{/ozoneManager}
2019-09-16 15:58:32,837 [main] INFO  server.AbstractConnector (AbstractConnector.java:doStart(278)) - Started ServerConnector@64030b91{HTTP/1.1,[http/1.1]}{0.0.0.0:33833}
2019-09-16 15:58:32,839 [main] INFO  server.Server (Server.java:doStart(419)) - Started @6141ms
2019-09-16 15:58:32,839 [main] WARN  impl.MetricsSystemImpl (MetricsSystemImpl.java:register(276)) - Sink prometheus already exists!
2019-09-16 15:58:32,840 [main] INFO  server.BaseHttpServer (BaseHttpServer.java:updateConnectorAddress(215)) - HTTP server of OZONEMANAGER is listening at http://0.0.0.0:33833
2019-09-16 15:58:33,164 [main] INFO  impl.MetricsSystemImpl (MetricsSystemImpl.java:init(158)) - HddsDatanode metrics system started (again)
2019-09-16 15:58:33,244 [main] INFO  ozone.HddsDatanodeService (HddsDatanodeService.java:start(184)) - HddsDatanodeService host:pr-hdds-2022-qxstf-1422721469 ip:192.168.5.184
2019-09-16 15:58:33,279 [main] INFO  volume.HddsVolume (HddsVolume.java:<init>(176)) - Creating Volume: /workdir/hadoop-ozone/integration-test/target/test-dir/MiniOzoneClusterImpl-e7174f9f-1f65-4936-ace6-f3a8e5d3c0c8/datanode-0/data/containers/hdds of  storage type : DISK and capacity : 1482555576320
2019-09-16 15:58:33,281 [main] INFO  volume.VolumeSet (VolumeSet.java:initializeVolumeSet(170)) - Added Volume : /workdir/hadoop-ozone/integration-test/target/test-dir/MiniOzoneClusterImpl-e7174f9f-1f65-4936-ace6-f3a8e5d3c0c8/datanode-0/data/containers/hdds to VolumeSet
2019-09-16 15:58:33,284 [main] INFO  volume.ThrottledAsyncChecker (ThrottledAsyncChecker.java:schedule(139)) - Scheduling a check for org.apache.hadoop.ozone.container.common.volume.HddsVolume@1c504e66
2019-09-16 15:58:33,303 [main] INFO  volume.HddsVolumeChecker (HddsVolumeChecker.java:checkAllVolumes(202)) - Scheduled health check for volume org.apache.hadoop.ozone.container.common.volume.HddsVolume@1c504e66
2019-09-16 15:58:33,418 [main] INFO  impl.RaftServerProxy (ConfUtils.java:logGet(43)) - raft.rpc.type = GRPC (default)
2019-09-16 15:58:33,490 [main] INFO  grpc.GrpcFactory (GrpcFactory.java:checkPooledByteBufAllocatorUseCacheForAllThreads(45)) - PERFORMANCE WARNING: useCacheForAllThreads is true that may cause Netty to create a lot garbage objects and, as a result, trigger GC.
	It is recommended to disable useCacheForAllThreads by setting -Dorg.apache.ratis.thirdparty.io.netty.allocator.useCacheForAllThreads=false in command line.
2019-09-16 15:58:33,495 [main] INFO  grpc.GrpcConfigKeys$Server (ConfUtils.java:logGet(43)) - raft.grpc.server.port = 0 (default)
2019-09-16 15:58:33,496 [main] INFO  server.GrpcService (ConfUtils.java:logGet(43)) - raft.grpc.message.size.max = 33570816 (custom)
2019-09-16 15:58:33,498 [main] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.log.appender.buffer.byte-limit = 33554432 (custom)
2019-09-16 15:58:33,499 [main] INFO  server.GrpcService (ConfUtils.java:logGet(43)) - raft.grpc.flow.control.window = 1MB (=1048576) (default)
2019-09-16 15:58:33,499 [main] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.rpc.request.timeout = 3000ms (default)
2019-09-16 15:58:33,667 [main] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.storage.dir = [/workdir/hadoop-ozone/integration-test/target/test-dir/MiniOzoneClusterImpl-e7174f9f-1f65-4936-ace6-f3a8e5d3c0c8/datanode-0/data/ratis] (custom)
2019-09-16 15:58:33,716 [main] INFO  hdfs.DFSUtil (DFSUtil.java:httpServerTemplateForNNAndJN(1641)) - Starting Web-server for hddsDatanode at: http://0.0.0.0:0
2019-09-16 15:58:33,718 [main] INFO  server.AuthenticationFilter (AuthenticationFilter.java:constructSecretProvider(240)) - Unable to initialize FileSignerSecretProvider, falling back to use random secrets.
2019-09-16 15:58:33,719 [main] WARN  http.HttpRequestLog (HttpRequestLog.java:getRequestLog(97)) - Jetty request log can only be enabled using Log4j
2019-09-16 15:58:33,721 [main] INFO  http.HttpServer2 (HttpServer2.java:addGlobalFilter(975)) - Added global filter 'safety' (class=org.apache.hadoop.http.HttpServer2$QuotingInputFilter)
2019-09-16 15:58:33,722 [main] INFO  http.HttpServer2 (HttpServer2.java:addFilter(948)) - Added filter static_user_filter (class=org.apache.hadoop.http.lib.StaticUserWebFilter$StaticUserFilter) to context hddsDatanode
2019-09-16 15:58:33,722 [main] INFO  http.HttpServer2 (HttpServer2.java:addFilter(958)) - Added filter static_user_filter (class=org.apache.hadoop.http.lib.StaticUserWebFilter$StaticUserFilter) to context logs
2019-09-16 15:58:33,722 [main] INFO  http.HttpServer2 (HttpServer2.java:addFilter(958)) - Added filter static_user_filter (class=org.apache.hadoop.http.lib.StaticUserWebFilter$StaticUserFilter) to context static
2019-09-16 15:58:33,723 [main] INFO  http.HttpServer2 (HttpServer2.java:bindListener(1191)) - Jetty bound to port 43474
2019-09-16 15:58:33,724 [main] INFO  server.Server (Server.java:doStart(351)) - jetty-9.3.24.v20180605, build timestamp: 2018-06-05T17:11:56Z, git hash: 84205aa28f11a4f31f2a3b86d1bba2cc8ab69827
2019-09-16 15:58:33,726 [main] INFO  handler.ContextHandler (ContextHandler.java:doStart(781)) - Started o.e.j.s.ServletContextHandler@6ede46f6{/logs,file:///workdir/hadoop-ozone/integration-test/target/log,AVAILABLE}
2019-09-16 15:58:33,726 [main] INFO  handler.ContextHandler (ContextHandler.java:doStart(781)) - Started o.e.j.s.ServletContextHandler@2127e66e{/static,jar:file:/home/user/.m2/repository/org/apache/hadoop/hadoop-hdds-container-service/0.5.0-SNAPSHOT/hadoop-hdds-container-service-0.5.0-SNAPSHOT.jar!/webapps/static,AVAILABLE}
2019-09-16 15:58:33,756 [main] INFO  handler.ContextHandler (ContextHandler.java:doStart(781)) - Started o.e.j.w.WebAppContext@227a47{/,file:///tmp/jetty-0.0.0.0-43474-hddsDatanode-_-any-2458270258424378806.dir/webapp/,AVAILABLE}{/hddsDatanode}
2019-09-16 15:58:33,756 [main] INFO  server.AbstractConnector (AbstractConnector.java:doStart(278)) - Started ServerConnector@9596ce8{HTTP/1.1,[http/1.1]}{0.0.0.0:43474}
2019-09-16 15:58:33,757 [main] INFO  server.Server (Server.java:doStart(419)) - Started @7059ms
2019-09-16 15:58:33,757 [main] WARN  impl.MetricsSystemImpl (MetricsSystemImpl.java:register(276)) - Sink prometheus already exists!
2019-09-16 15:58:33,759 [main] INFO  server.BaseHttpServer (BaseHttpServer.java:updateConnectorAddress(215)) - HTTP server of HDDSDATANODE is listening at http://0.0.0.0:43474
2019-09-16 15:58:33,761 [main] INFO  ozone.MiniOzoneClusterImpl (MiniOzoneClusterImpl.java:lambda$waitForClusterToBeReady$0(145)) - Waiting for cluster to be ready. Got 0 of 1 DN Heartbeats.
2019-09-16 15:58:33,767 [org.apache.hadoop.util.JvmPauseMonitor$Monitor@580d6632] INFO  util.JvmPauseMonitor (JvmPauseMonitor.java:run(188)) - Starting JVM pause monitor
2019-09-16 15:58:33,901 [Datanode State Machine Thread - 0] INFO  datanode.InitDatanodeState (InitDatanodeState.java:persistContainerDatanodeDetails(140)) - DatanodeDetails is persisted to /workdir/hadoop-ozone/integration-test/target/test-dir/MiniOzoneClusterImpl-e7174f9f-1f65-4936-ace6-f3a8e5d3c0c8/datanode-0/meta/datanode.id
2019-09-16 15:58:34,761 [main] INFO  ozone.MiniOzoneClusterImpl (MiniOzoneClusterImpl.java:lambda$waitForClusterToBeReady$0(145)) - Waiting for cluster to be ready. Got 0 of 1 DN Heartbeats.
2019-09-16 15:58:35,763 [main] INFO  ozone.MiniOzoneClusterImpl (MiniOzoneClusterImpl.java:lambda$waitForClusterToBeReady$0(145)) - Waiting for cluster to be ready. Got 0 of 1 DN Heartbeats.
2019-09-16 15:58:35,853 [Datanode State Machine Thread - 0] INFO  ozoneimpl.OzoneContainer (OzoneContainer.java:start(217)) - Attempting to start container services.
2019-09-16 15:58:35,856 [Datanode State Machine Thread - 0] INFO  ozoneimpl.OzoneContainer (OzoneContainer.java:startContainerScrub(179)) - Background container scanner has been disabled.
2019-09-16 15:58:35,856 [Datanode State Machine Thread - 0] INFO  ratis.XceiverServerRatis (XceiverServerRatis.java:start(411)) - Starting XceiverServerRatis f3e3a3a3-846b-4347-a380-93d47fe145fc at port 0
2019-09-16 15:58:35,880 [Datanode State Machine Thread - 0] INFO  impl.RaftServerProxy (RaftServerProxy.java:lambda$start$3(299)) - f3e3a3a3-846b-4347-a380-93d47fe145fc: start RPC server
2019-09-16 15:58:36,014 [Datanode State Machine Thread - 0] INFO  server.GrpcService (GrpcService.java:startImpl(158)) - f3e3a3a3-846b-4347-a380-93d47fe145fc: GrpcService started, listening on 0.0.0.0/0.0.0.0:33964
2019-09-16 15:58:36,015 [Datanode State Machine Thread - 0] INFO  ratis.XceiverServerRatis (XceiverServerRatis.java:start(421)) - XceiverServerRatis f3e3a3a3-846b-4347-a380-93d47fe145fc is started using port 33964
2019-09-16 15:58:36,017 [Datanode State Machine Thread - 0] INFO  server.XceiverServerGrpc (XceiverServerGrpc.java:start(163)) - XceiverServerGrpc f3e3a3a3-846b-4347-a380-93d47fe145fc is started using port 36257
2019-09-16 15:58:36,764 [main] INFO  ozone.MiniOzoneClusterImpl (MiniOzoneClusterImpl.java:lambda$waitForClusterToBeReady$0(145)) - Waiting for cluster to be ready. Got 0 of 1 DN Heartbeats.
2019-09-16 15:58:37,764 [main] INFO  ozone.MiniOzoneClusterImpl (MiniOzoneClusterImpl.java:lambda$waitForClusterToBeReady$0(145)) - Waiting for cluster to be ready. Got 0 of 1 DN Heartbeats.
2019-09-16 15:58:37,806 [IPC Server handler 9 on 41271] INFO  net.NetworkTopology (NetworkTopologyImpl.java:add(110)) - Added a new node: /default-rack/f3e3a3a3-846b-4347-a380-93d47fe145fc
2019-09-16 15:58:37,806 [IPC Server handler 9 on 41271] INFO  node.SCMNodeManager (SCMNodeManager.java:register(266)) - Registered Data node : f3e3a3a3-846b-4347-a380-93d47fe145fc{ip: 192.168.5.184, host: pr-hdds-2022-qxstf-1422721469, networkLocation: /default-rack, certSerialId: null}
2019-09-16 15:58:37,812 [EventQueue-NodeRegistrationContainerReportForDataNodeSafeModeRule] INFO  safemode.SCMSafeModeManager (DataNodeSafeModeRule.java:process(71)) - SCM in safe mode. 1 DataNodes registered, 1 required.
2019-09-16 15:58:37,812 [EventQueue-NodeRegistrationContainerReportForDataNodeSafeModeRule] INFO  safemode.SCMSafeModeManager (SCMSafeModeManager.java:validateSafeModeExitRules(177)) - ScmSafeModeManager, all rules are successfully validated
2019-09-16 15:58:37,813 [EventQueue-NodeRegistrationContainerReportForDataNodeSafeModeRule] INFO  safemode.SCMSafeModeManager (SCMSafeModeManager.java:exitSafeMode(193)) - SCM exiting safe mode.
2019-09-16 15:58:38,329 [grpc-default-executor-0] INFO  impl.RaftServerProxy (RaftServerProxy.java:addNew(89)) - f3e3a3a3-846b-4347-a380-93d47fe145fc: addNew group-58C9CD3F2190:[f3e3a3a3-846b-4347-a380-93d47fe145fc:192.168.5.184:33964] returns group-58C9CD3F2190:java.util.concurrent.CompletableFuture@63ca8af6[Not completed]
2019-09-16 15:58:38,344 [pool-27-thread-1] INFO  impl.RaftServerImpl (RaftServerImpl.java:<init>(95)) - f3e3a3a3-846b-4347-a380-93d47fe145fc: new RaftServerImpl for group-58C9CD3F2190:[f3e3a3a3-846b-4347-a380-93d47fe145fc:192.168.5.184:33964] with ContainerStateMachine:uninitialized
2019-09-16 15:58:38,347 [pool-27-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.rpc.timeout.min = 5s (custom)
2019-09-16 15:58:38,347 [pool-27-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.rpc.timeout.max = 5200ms (custom)
2019-09-16 15:58:38,348 [pool-27-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.rpcslowness.timeout = 120s (custom)
2019-09-16 15:58:38,348 [pool-27-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.sleep.deviation.threshold = 300 (default)
2019-09-16 15:58:38,349 [pool-27-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.log.appender.install.snapshot.enabled = false (custom)
2019-09-16 15:58:38,356 [pool-27-thread-1] INFO  impl.RaftServerImpl (ServerState.java:<init>(103)) - f3e3a3a3-846b-4347-a380-93d47fe145fc@group-58C9CD3F2190: ConfigurationManager, init=-1: [f3e3a3a3-846b-4347-a380-93d47fe145fc:192.168.5.184:33964], old=null, confs=<EMPTY_MAP>
2019-09-16 15:58:38,356 [pool-27-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.storage.dir = [/workdir/hadoop-ozone/integration-test/target/test-dir/MiniOzoneClusterImpl-e7174f9f-1f65-4936-ace6-f3a8e5d3c0c8/datanode-0/data/ratis] (custom)
2019-09-16 15:58:38,363 [pool-27-thread-1] INFO  storage.RaftStorageDirectory (RaftStorageDirectory.java:analyzeStorage(246)) - The storage directory /workdir/hadoop-ozone/integration-test/target/test-dir/MiniOzoneClusterImpl-e7174f9f-1f65-4936-ace6-f3a8e5d3c0c8/datanode-0/data/ratis/809e1103-cd65-45ce-ae57-58c9cd3f2190 does not exist. Creating ...
2019-09-16 15:58:38,390 [pool-27-thread-1] INFO  storage.RaftStorageDirectory (RaftStorageDirectory.java:tryLock(328)) - Lock on /workdir/hadoop-ozone/integration-test/target/test-dir/MiniOzoneClusterImpl-e7174f9f-1f65-4936-ace6-f3a8e5d3c0c8/datanode-0/data/ratis/809e1103-cd65-45ce-ae57-58c9cd3f2190/in_use.lock acquired by nodename 22961@pr-hdds-2022-qxstf-1422721469
2019-09-16 15:58:38,438 [pool-27-thread-1] INFO  storage.RaftStorage (RaftStorage.java:format(72)) - Storage directory /workdir/hadoop-ozone/integration-test/target/test-dir/MiniOzoneClusterImpl-e7174f9f-1f65-4936-ace6-f3a8e5d3c0c8/datanode-0/data/ratis/809e1103-cd65-45ce-ae57-58c9cd3f2190 has been successfully formatted.
2019-09-16 15:58:38,441 [pool-27-thread-1] INFO  ratis.ContainerStateMachine (ContainerStateMachine.java:loadSnapshot(230)) - group-58C9CD3F2190: The snapshot info is null. Setting the last applied indexto:(t:0, i:~)
2019-09-16 15:58:38,442 [pool-27-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.notification.no-leader.timeout = 120s (custom)
2019-09-16 15:58:38,445 [pool-27-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.log.use.memory = false (default)
2019-09-16 15:58:38,454 [pool-27-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.log.purge.gap = 1000000 (custom)
2019-09-16 15:58:38,454 [pool-27-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.log.appender.buffer.byte-limit = 33554432 (custom)
2019-09-16 15:58:38,457 [pool-27-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.log.segment.size.max = 1048576 (custom)
2019-09-16 15:58:38,463 [pool-27-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.log.segment.cache.num.max = 2 (custom)
2019-09-16 15:58:38,471 [pool-27-thread-1] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:<init>(172)) - new f3e3a3a3-846b-4347-a380-93d47fe145fc@group-58C9CD3F2190-SegmentedRaftLogWorker for RaftStorage:Storage Directory /workdir/hadoop-ozone/integration-test/target/test-dir/MiniOzoneClusterImpl-e7174f9f-1f65-4936-ace6-f3a8e5d3c0c8/datanode-0/data/ratis/809e1103-cd65-45ce-ae57-58c9cd3f2190
2019-09-16 15:58:38,473 [pool-27-thread-1] INFO  impl.MetricsSystemImpl (MetricsSystemImpl.java:init(158)) - ratis metrics system started (again)
2019-09-16 15:58:38,523 [pool-27-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.log.queue.byte-limit = 2147483647 (custom)
2019-09-16 15:58:38,524 [pool-27-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.log.queue.element-limit = 1024 (custom)
2019-09-16 15:58:38,528 [pool-27-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.log.segment.size.max = 1048576 (custom)
2019-09-16 15:58:38,529 [pool-27-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.log.preallocated.size = 16384 (custom)
2019-09-16 15:58:38,529 [pool-27-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.log.write.buffer.size = 33554432 (custom)
2019-09-16 15:58:38,530 [pool-27-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.log.force.sync.num = 128 (default)
2019-09-16 15:58:38,531 [pool-27-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.log.statemachine.data.sync = true (default)
2019-09-16 15:58:38,531 [pool-27-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.log.statemachine.data.sync.timeout = 10s (default)
2019-09-16 15:58:38,532 [pool-27-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.log.statemachine.data.sync.timeout.retry = -1 (default)
2019-09-16 15:58:38,543 [pool-27-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.log.statemachine.data.caching.enabled = true (custom)
2019-09-16 15:58:38,548 [pool-27-thread-1] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:lambda$new$0(132)) - f3e3a3a3-846b-4347-a380-93d47fe145fc@group-58C9CD3F2190-SegmentedRaftLogWorker: flushIndex: setUnconditionally 0 -> -1
2019-09-16 15:58:38,553 [pool-27-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.snapshot.auto.trigger.enabled = true (custom)
2019-09-16 15:58:38,554 [pool-27-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.snapshot.auto.trigger.threshold = 1 (custom)
2019-09-16 15:58:38,554 [pool-27-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.snapshot.retention.num.files = 5 (custom)
2019-09-16 15:58:38,555 [pool-27-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.retrycache.expirytime = 600000ms (custom)
2019-09-16 15:58:38,584 [pool-27-thread-1] INFO  impl.RaftServerImpl (RaftServerImpl.java:start(185)) - f3e3a3a3-846b-4347-a380-93d47fe145fc@group-58C9CD3F2190: start as a follower, conf=-1: [f3e3a3a3-846b-4347-a380-93d47fe145fc:192.168.5.184:33964], old=null
2019-09-16 15:58:38,585 [pool-27-thread-1] INFO  impl.RaftServerImpl (RaftServerImpl.java:setRole(174)) - f3e3a3a3-846b-4347-a380-93d47fe145fc@group-58C9CD3F2190: changes role from      null to FOLLOWER at term 0 for startAsFollower
2019-09-16 15:58:38,586 [pool-27-thread-1] INFO  impl.RoleInfo (RoleInfo.java:updateAndGet(143)) - f3e3a3a3-846b-4347-a380-93d47fe145fc: start FollowerState
2019-09-16 15:58:38,587 [pool-27-thread-1] INFO  util.JmxRegister (JmxRegister.java:tryRegister(44)) - Successfully registered JMX Bean with object name Ratis:service=RaftServer,group=group-58C9CD3F2190,id=f3e3a3a3-846b-4347-a380-93d47fe145fc
2019-09-16 15:58:38,649 [RatisPipelineUtilsThread] INFO  pipeline.PipelineStateManager (PipelineStateManager.java:addPipeline(56)) - Created pipeline Pipeline[ Id: 809e1103-cd65-45ce-ae57-58c9cd3f2190, Nodes: f3e3a3a3-846b-4347-a380-93d47fe145fc{ip: 192.168.5.184, host: pr-hdds-2022-qxstf-1422721469, networkLocation: /default-rack, certSerialId: null}, Type:RATIS, Factor:ONE, State:OPEN]
2019-09-16 15:58:38,765 [main] INFO  ozone.MiniOzoneClusterImpl (MiniOzoneClusterImpl.java:lambda$waitForClusterToBeReady$0(145)) - Cluster is ready. Got 1 of 1 DN Heartbeats.
2019-09-16 15:58:39,220 [main] INFO  rpc.RpcClient (RpcClient.java:createVolume(302)) - Creating Volume: testcontainerstatemachinefailures, with jenkins1000 as owner.
2019-09-16 15:58:39,311 [IPC Server handler 1 on 39777] INFO  volume.OMVolumeCreateRequest (OMVolumeCreateRequest.java:validateAndUpdateCache(189)) - created volume:testcontainerstatemachinefailures for user:jenkins1000
2019-09-16 15:58:39,336 [main] INFO  rpc.RpcClient (RpcClient.java:createBucket(441)) - Creating Bucket: testcontainerstatemachinefailures/testcontainerstatemachinefailures, with Versioning false and Storage Type set to DISK and Encryption set to false 
2019-09-16 15:58:39,486 [main] INFO  impl.MetricsSystemImpl (MetricsSystemImpl.java:init(158)) - XceiverClientMetrics metrics system started (again)
2019-09-16 15:58:39,894 [grpc-default-executor-0] INFO  client.GrpcClientProtocolClient (GrpcClientProtocolClient.java:onNext(264)) - client-0BFB7C1A555A->f3e3a3a3-846b-4347-a380-93d47fe145fc: receive RaftClientReply:client-0BFB7C1A555A->f3e3a3a3-846b-4347-a380-93d47fe145fc@group-58C9CD3F2190, cid=1, FAILED org.apache.ratis.protocol.NotLeaderException: Server f3e3a3a3-846b-4347-a380-93d47fe145fc@group-58C9CD3F2190 is not the leader, logIndex=0, commits[f3e3a3a3-846b-4347-a380-93d47fe145fc:c-1]
2019-09-16 15:58:40,818 [Thread-148] INFO  container.ReplicationManager (ReplicationManager.java:start(162)) - Starting Replication Monitor Thread.
2019-09-16 15:58:40,825 [ReplicationMonitor] INFO  container.ReplicationManager (ReplicationManager.java:run(225)) - Replication Monitor Thread took 6 milliseconds for processing 1 containers.
2019-09-16 15:58:41,929 [grpc-default-executor-1] INFO  client.GrpcClientProtocolClient (GrpcClientProtocolClient.java:onNext(264)) - client-0BFB7C1A555A->f3e3a3a3-846b-4347-a380-93d47fe145fc: receive RaftClientReply:client-0BFB7C1A555A->f3e3a3a3-846b-4347-a380-93d47fe145fc@group-58C9CD3F2190, cid=1, FAILED org.apache.ratis.protocol.NotLeaderException: Server f3e3a3a3-846b-4347-a380-93d47fe145fc@group-58C9CD3F2190 is not the leader, logIndex=0, commits[f3e3a3a3-846b-4347-a380-93d47fe145fc:c-1]
2019-09-16 15:58:43,637 [Thread-150] INFO  impl.FollowerState (FollowerState.java:run(106)) - f3e3a3a3-846b-4347-a380-93d47fe145fc:group-58C9CD3F2190 changes to CANDIDATE, lastRpcTime:5051, electionTimeout:5051ms
2019-09-16 15:58:43,641 [Thread-150] INFO  impl.RoleInfo (RoleInfo.java:shutdownFollowerState(121)) - f3e3a3a3-846b-4347-a380-93d47fe145fc: shutdown FollowerState
2019-09-16 15:58:43,642 [Thread-150] INFO  impl.RaftServerImpl (RaftServerImpl.java:setRole(174)) - f3e3a3a3-846b-4347-a380-93d47fe145fc@group-58C9CD3F2190: changes role from  FOLLOWER to CANDIDATE at term 0 for changeToCandidate
2019-09-16 15:58:43,649 [Thread-150] INFO  impl.RoleInfo (RoleInfo.java:updateAndGet(143)) - f3e3a3a3-846b-4347-a380-93d47fe145fc: start LeaderElection
2019-09-16 15:58:43,669 [f3e3a3a3-846b-4347-a380-93d47fe145fc@group-58C9CD3F2190:LeaderElection1] INFO  impl.LeaderElection (LeaderElection.java:askForVotes(182)) - f3e3a3a3-846b-4347-a380-93d47fe145fc@group-58C9CD3F2190:LeaderElection1: begin an election at term 1 for -1: [f3e3a3a3-846b-4347-a380-93d47fe145fc:192.168.5.184:33964], old=null
2019-09-16 15:58:43,671 [f3e3a3a3-846b-4347-a380-93d47fe145fc@group-58C9CD3F2190:LeaderElection1] INFO  impl.RoleInfo (RoleInfo.java:shutdownLeaderElection(134)) - f3e3a3a3-846b-4347-a380-93d47fe145fc: shutdown LeaderElection
2019-09-16 15:58:43,672 [f3e3a3a3-846b-4347-a380-93d47fe145fc@group-58C9CD3F2190:LeaderElection1] INFO  impl.RaftServerImpl (RaftServerImpl.java:setRole(174)) - f3e3a3a3-846b-4347-a380-93d47fe145fc@group-58C9CD3F2190: changes role from CANDIDATE to LEADER at term 1 for changeToLeader
2019-09-16 15:58:43,672 [f3e3a3a3-846b-4347-a380-93d47fe145fc@group-58C9CD3F2190:LeaderElection1] INFO  impl.RaftServerImpl (ServerState.java:setLeader(253)) - f3e3a3a3-846b-4347-a380-93d47fe145fc@group-58C9CD3F2190: change Leader from null to f3e3a3a3-846b-4347-a380-93d47fe145fc at term 1 for becomeLeader, leader elected after 5230ms
2019-09-16 15:58:43,680 [f3e3a3a3-846b-4347-a380-93d47fe145fc@group-58C9CD3F2190:LeaderElection1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.staging.catchup.gap = 1000 (default)
2019-09-16 15:58:43,680 [f3e3a3a3-846b-4347-a380-93d47fe145fc@group-58C9CD3F2190:LeaderElection1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.rpc.sleep.time = 25ms (default)
2019-09-16 15:58:43,683 [f3e3a3a3-846b-4347-a380-93d47fe145fc@group-58C9CD3F2190:LeaderElection1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.write.element-limit = 4096 (default)
2019-09-16 15:58:43,686 [f3e3a3a3-846b-4347-a380-93d47fe145fc@group-58C9CD3F2190:LeaderElection1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.watch.timeout = 10s (default)
2019-09-16 15:58:43,687 [f3e3a3a3-846b-4347-a380-93d47fe145fc@group-58C9CD3F2190:LeaderElection1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.watch.timeout.denomination = 1s (default)
2019-09-16 15:58:43,688 [f3e3a3a3-846b-4347-a380-93d47fe145fc@group-58C9CD3F2190:LeaderElection1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.watch.element-limit = 65536 (default)
2019-09-16 15:58:43,723 [f3e3a3a3-846b-4347-a380-93d47fe145fc@group-58C9CD3F2190:LeaderElection1] INFO  impl.RoleInfo (RoleInfo.java:updateAndGet(143)) - f3e3a3a3-846b-4347-a380-93d47fe145fc: start LeaderState
2019-09-16 15:58:43,747 [f3e3a3a3-846b-4347-a380-93d47fe145fc@group-58C9CD3F2190:LeaderElection1] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:startLogSegment(380)) - f3e3a3a3-846b-4347-a380-93d47fe145fc@group-58C9CD3F2190-SegmentedRaftLogWorker: Starting segment from index:0
2019-09-16 15:58:43,756 [f3e3a3a3-846b-4347-a380-93d47fe145fc@group-58C9CD3F2190:LeaderElection1] INFO  impl.RaftServerImpl (ServerState.java:setRaftConf(354)) - f3e3a3a3-846b-4347-a380-93d47fe145fc@group-58C9CD3F2190: set configuration 0: [f3e3a3a3-846b-4347-a380-93d47fe145fc:192.168.5.184:33964], old=null at 0
2019-09-16 15:58:43,971 [grpc-default-executor-1] INFO  client.GrpcClientProtocolClient (GrpcClientProtocolClient.java:onNext(264)) - client-0BFB7C1A555A->f3e3a3a3-846b-4347-a380-93d47fe145fc: receive RaftClientReply:client-0BFB7C1A555A->f3e3a3a3-846b-4347-a380-93d47fe145fc@group-58C9CD3F2190, cid=1, FAILED org.apache.ratis.protocol.LeaderNotReadyException: f3e3a3a3-846b-4347-a380-93d47fe145fc@group-58C9CD3F2190 is in LEADER state but not ready yet., logIndex=0, commits[f3e3a3a3-846b-4347-a380-93d47fe145fc:c-1]
2019-09-16 15:58:43,988 [f3e3a3a3-846b-4347-a380-93d47fe145fc@group-58C9CD3F2190-SegmentedRaftLogWorker] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:execute(569)) - f3e3a3a3-846b-4347-a380-93d47fe145fc@group-58C9CD3F2190-SegmentedRaftLogWorker: created new log segment /workdir/hadoop-ozone/integration-test/target/test-dir/MiniOzoneClusterImpl-e7174f9f-1f65-4936-ace6-f3a8e5d3c0c8/datanode-0/data/ratis/809e1103-cd65-45ce-ae57-58c9cd3f2190/current/log_inprogress_0
2019-09-16 15:58:46,345 [f3e3a3a3-846b-4347-a380-93d47fe145fc@group-58C9CD3F2190-StateMachineUpdater] INFO  ratis.ContainerStateMachine (ContainerStateMachine.java:takeSnapshot(289)) - group-58C9CD3F2190: Taking a snapshot at:(t:1, i:1) file /workdir/hadoop-ozone/integration-test/target/test-dir/MiniOzoneClusterImpl-e7174f9f-1f65-4936-ace6-f3a8e5d3c0c8/datanode-0/data/ratis/809e1103-cd65-45ce-ae57-58c9cd3f2190/sm/snapshot.1_1
2019-09-16 15:58:46,364 [grpc-default-executor-0] INFO  client.GrpcClientProtocolClient (GrpcClientProtocolClient.java:onNext(264)) - client-0BFB7C1A555A->f3e3a3a3-846b-4347-a380-93d47fe145fc: receive RaftClientReply:client-0BFB7C1A555A->f3e3a3a3-846b-4347-a380-93d47fe145fc@group-58C9CD3F2190, cid=1, SUCCESS, logIndex=1, commits[f3e3a3a3-846b-4347-a380-93d47fe145fc:c1]
2019-09-16 15:58:46,403 [f3e3a3a3-846b-4347-a380-93d47fe145fc@group-58C9CD3F2190-StateMachineUpdater] INFO  ratis.ContainerStateMachine (ContainerStateMachine.java:takeSnapshot(300)) - group-58C9CD3F2190: Finished taking a snapshot at:(t:1, i:1) file:/workdir/hadoop-ozone/integration-test/target/test-dir/MiniOzoneClusterImpl-e7174f9f-1f65-4936-ace6-f3a8e5d3c0c8/datanode-0/data/ratis/809e1103-cd65-45ce-ae57-58c9cd3f2190/sm/snapshot.1_1 time:58
2019-09-16 15:58:46,405 [f3e3a3a3-846b-4347-a380-93d47fe145fc@group-58C9CD3F2190-StateMachineUpdater] INFO  impl.StateMachineUpdater (StateMachineUpdater.java:takeSnapshot(258)) - f3e3a3a3-846b-4347-a380-93d47fe145fc@group-58C9CD3F2190-StateMachineUpdater: Took a snapshot at index 1
2019-09-16 15:58:46,406 [f3e3a3a3-846b-4347-a380-93d47fe145fc@group-58C9CD3F2190-StateMachineUpdater] INFO  impl.StateMachineUpdater (StateMachineUpdater.java:lambda$new$0(83)) - f3e3a3a3-846b-4347-a380-93d47fe145fc@group-58C9CD3F2190-StateMachineUpdater: snapshotIndex: updateIncreasingly -1 -> 1
2019-09-16 15:58:46,556 [f3e3a3a3-846b-4347-a380-93d47fe145fc@group-58C9CD3F2190-StateMachineUpdater] INFO  ratis.ContainerStateMachine (ContainerStateMachine.java:takeSnapshot(289)) - group-58C9CD3F2190: Taking a snapshot at:(t:1, i:1) file /workdir/hadoop-ozone/integration-test/target/test-dir/MiniOzoneClusterImpl-e7174f9f-1f65-4936-ace6-f3a8e5d3c0c8/datanode-0/data/ratis/809e1103-cd65-45ce-ae57-58c9cd3f2190/sm/snapshot.1_1
2019-09-16 15:58:46,563 [grpc-default-executor-0] INFO  client.GrpcClientProtocolClient (GrpcClientProtocolClient.java:onNext(264)) - client-0BFB7C1A555A->f3e3a3a3-846b-4347-a380-93d47fe145fc: receive RaftClientReply:client-0BFB7C1A555A->f3e3a3a3-846b-4347-a380-93d47fe145fc@group-58C9CD3F2190, cid=2, SUCCESS, logIndex=3, commits[f3e3a3a3-846b-4347-a380-93d47fe145fc:c4]
2019-09-16 15:58:46,584 [f3e3a3a3-846b-4347-a380-93d47fe145fc@group-58C9CD3F2190-StateMachineUpdater] INFO  ratis.ContainerStateMachine (ContainerStateMachine.java:takeSnapshot(300)) - group-58C9CD3F2190: Finished taking a snapshot at:(t:1, i:1) file:/workdir/hadoop-ozone/integration-test/target/test-dir/MiniOzoneClusterImpl-e7174f9f-1f65-4936-ace6-f3a8e5d3c0c8/datanode-0/data/ratis/809e1103-cd65-45ce-ae57-58c9cd3f2190/sm/snapshot.1_1 time:29
2019-09-16 15:58:46,584 [f3e3a3a3-846b-4347-a380-93d47fe145fc@group-58C9CD3F2190-StateMachineUpdater] INFO  impl.StateMachineUpdater (StateMachineUpdater.java:takeSnapshot(258)) - f3e3a3a3-846b-4347-a380-93d47fe145fc@group-58C9CD3F2190-StateMachineUpdater: Took a snapshot at index 1
2019-09-16 15:58:46,584 [f3e3a3a3-846b-4347-a380-93d47fe145fc@group-58C9CD3F2190-StateMachineUpdater] INFO  impl.StateMachineUpdater (StateMachineUpdater.java:lambda$new$0(83)) - f3e3a3a3-846b-4347-a380-93d47fe145fc@group-58C9CD3F2190-StateMachineUpdater: snapshotIndex: updateIncreasingly 1 -> 1
2019-09-16 15:58:46,585 [f3e3a3a3-846b-4347-a380-93d47fe145fc@group-58C9CD3F2190-StateMachineUpdater] INFO  ratis.ContainerStateMachine (ContainerStateMachine.java:takeSnapshot(289)) - group-58C9CD3F2190: Taking a snapshot at:(t:1, i:3) file /workdir/hadoop-ozone/integration-test/target/test-dir/MiniOzoneClusterImpl-e7174f9f-1f65-4936-ace6-f3a8e5d3c0c8/datanode-0/data/ratis/809e1103-cd65-45ce-ae57-58c9cd3f2190/sm/snapshot.1_3
2019-09-16 15:58:46,618 [f3e3a3a3-846b-4347-a380-93d47fe145fc@group-58C9CD3F2190-StateMachineUpdater] INFO  ratis.ContainerStateMachine (ContainerStateMachine.java:takeSnapshot(300)) - group-58C9CD3F2190: Finished taking a snapshot at:(t:1, i:3) file:/workdir/hadoop-ozone/integration-test/target/test-dir/MiniOzoneClusterImpl-e7174f9f-1f65-4936-ace6-f3a8e5d3c0c8/datanode-0/data/ratis/809e1103-cd65-45ce-ae57-58c9cd3f2190/sm/snapshot.1_3 time:33
2019-09-16 15:58:46,618 [f3e3a3a3-846b-4347-a380-93d47fe145fc@group-58C9CD3F2190-StateMachineUpdater] INFO  impl.StateMachineUpdater (StateMachineUpdater.java:takeSnapshot(258)) - f3e3a3a3-846b-4347-a380-93d47fe145fc@group-58C9CD3F2190-StateMachineUpdater: Took a snapshot at index 3
2019-09-16 15:58:46,619 [f3e3a3a3-846b-4347-a380-93d47fe145fc@group-58C9CD3F2190-StateMachineUpdater] INFO  impl.StateMachineUpdater (StateMachineUpdater.java:lambda$new$0(83)) - f3e3a3a3-846b-4347-a380-93d47fe145fc@group-58C9CD3F2190-StateMachineUpdater: snapshotIndex: updateIncreasingly 1 -> 3
2019-09-16 15:58:46,623 [f3e3a3a3-846b-4347-a380-93d47fe145fc@group-58C9CD3F2190-StateMachineUpdater] INFO  ratis.ContainerStateMachine (ContainerStateMachine.java:takeSnapshot(289)) - group-58C9CD3F2190: Taking a snapshot at:(t:1, i:6) file /workdir/hadoop-ozone/integration-test/target/test-dir/MiniOzoneClusterImpl-e7174f9f-1f65-4936-ace6-f3a8e5d3c0c8/datanode-0/data/ratis/809e1103-cd65-45ce-ae57-58c9cd3f2190/sm/snapshot.1_6
2019-09-16 15:58:46,625 [grpc-default-executor-0] INFO  client.GrpcClientProtocolClient (GrpcClientProtocolClient.java:onNext(264)) - client-0BFB7C1A555A->f3e3a3a3-846b-4347-a380-93d47fe145fc: receive RaftClientReply:client-0BFB7C1A555A->f3e3a3a3-846b-4347-a380-93d47fe145fc@group-58C9CD3F2190, cid=3, SUCCESS, logIndex=5, commits[f3e3a3a3-846b-4347-a380-93d47fe145fc:c6]
2019-09-16 15:58:46,627 [grpc-default-executor-0] INFO  client.GrpcClientProtocolClient (GrpcClientProtocolClient.java:onNext(264)) - client-0BFB7C1A555A->f3e3a3a3-846b-4347-a380-93d47fe145fc: receive RaftClientReply:client-0BFB7C1A555A->f3e3a3a3-846b-4347-a380-93d47fe145fc@group-58C9CD3F2190, cid=4, SUCCESS, logIndex=6, commits[f3e3a3a3-846b-4347-a380-93d47fe145fc:c6]
2019-09-16 15:58:46,636 [f3e3a3a3-846b-4347-a380-93d47fe145fc@group-58C9CD3F2190-StateMachineUpdater] INFO  ratis.ContainerStateMachine (ContainerStateMachine.java:takeSnapshot(300)) - group-58C9CD3F2190: Finished taking a snapshot at:(t:1, i:6) file:/workdir/hadoop-ozone/integration-test/target/test-dir/MiniOzoneClusterImpl-e7174f9f-1f65-4936-ace6-f3a8e5d3c0c8/datanode-0/data/ratis/809e1103-cd65-45ce-ae57-58c9cd3f2190/sm/snapshot.1_6 time:14
2019-09-16 15:58:46,636 [f3e3a3a3-846b-4347-a380-93d47fe145fc@group-58C9CD3F2190-StateMachineUpdater] INFO  impl.StateMachineUpdater (StateMachineUpdater.java:takeSnapshot(258)) - f3e3a3a3-846b-4347-a380-93d47fe145fc@group-58C9CD3F2190-StateMachineUpdater: Took a snapshot at index 6
2019-09-16 15:58:46,637 [f3e3a3a3-846b-4347-a380-93d47fe145fc@group-58C9CD3F2190-StateMachineUpdater] INFO  impl.StateMachineUpdater (StateMachineUpdater.java:lambda$new$0(83)) - f3e3a3a3-846b-4347-a380-93d47fe145fc@group-58C9CD3F2190-StateMachineUpdater: snapshotIndex: updateIncreasingly 3 -> 6
2019-09-16 15:58:46,637 [f3e3a3a3-846b-4347-a380-93d47fe145fc@group-58C9CD3F2190-StateMachineUpdater] INFO  ratis.ContainerStateMachine (ContainerStateMachine.java:takeSnapshot(289)) - group-58C9CD3F2190: Taking a snapshot at:(t:1, i:6) file /workdir/hadoop-ozone/integration-test/target/test-dir/MiniOzoneClusterImpl-e7174f9f-1f65-4936-ace6-f3a8e5d3c0c8/datanode-0/data/ratis/809e1103-cd65-45ce-ae57-58c9cd3f2190/sm/snapshot.1_6
2019-09-16 15:58:46,655 [f3e3a3a3-846b-4347-a380-93d47fe145fc@group-58C9CD3F2190-StateMachineUpdater] INFO  ratis.ContainerStateMachine (ContainerStateMachine.java:takeSnapshot(300)) - group-58C9CD3F2190: Finished taking a snapshot at:(t:1, i:6) file:/workdir/hadoop-ozone/integration-test/target/test-dir/MiniOzoneClusterImpl-e7174f9f-1f65-4936-ace6-f3a8e5d3c0c8/datanode-0/data/ratis/809e1103-cd65-45ce-ae57-58c9cd3f2190/sm/snapshot.1_6 time:18
2019-09-16 15:58:46,655 [f3e3a3a3-846b-4347-a380-93d47fe145fc@group-58C9CD3F2190-StateMachineUpdater] INFO  impl.StateMachineUpdater (StateMachineUpdater.java:takeSnapshot(258)) - f3e3a3a3-846b-4347-a380-93d47fe145fc@group-58C9CD3F2190-StateMachineUpdater: Took a snapshot at index 6
2019-09-16 15:58:46,656 [f3e3a3a3-846b-4347-a380-93d47fe145fc@group-58C9CD3F2190-StateMachineUpdater] INFO  impl.StateMachineUpdater (StateMachineUpdater.java:lambda$new$0(83)) - f3e3a3a3-846b-4347-a380-93d47fe145fc@group-58C9CD3F2190-StateMachineUpdater: snapshotIndex: updateIncreasingly 6 -> 6
2019-09-16 15:58:46,659 [Datanode State Machine Thread - 0] INFO  statemachine.DatanodeStateMachine (DatanodeStateMachine.java:lambda$startDaemon$0(350)) - Ozone container server started.
2019-09-16 15:58:49,496 [EventQueue-StaleNodeForStaleNodeHandler] INFO  node.StaleNodeHandler (StaleNodeHandler.java:onMessage(58)) - Datanode f3e3a3a3-846b-4347-a380-93d47fe145fc{ip: 192.168.5.184, host: pr-hdds-2022-qxstf-1422721469, networkLocation: /default-rack, certSerialId: null} moved to stale state. Finalizing its pipelines [PipelineID=809e1103-cd65-45ce-ae57-58c9cd3f2190]
2019-09-16 15:58:49,497 [EventQueue-StaleNodeForStaleNodeHandler] INFO  pipeline.SCMPipelineManager (SCMPipelineManager.java:finalizeAndDestroyPipeline(311)) - destroying pipeline:Pipeline[ Id: 809e1103-cd65-45ce-ae57-58c9cd3f2190, Nodes: f3e3a3a3-846b-4347-a380-93d47fe145fc{ip: 192.168.5.184, host: pr-hdds-2022-qxstf-1422721469, networkLocation: /default-rack, certSerialId: null}, Type:RATIS, Factor:ONE, State:OPEN]
2019-09-16 15:58:49,498 [EventQueue-StaleNodeForStaleNodeHandler] INFO  pipeline.PipelineStateManager (PipelineStateManager.java:finalizePipeline(123)) - Pipeline Pipeline[ Id: 809e1103-cd65-45ce-ae57-58c9cd3f2190, Nodes: f3e3a3a3-846b-4347-a380-93d47fe145fc{ip: 192.168.5.184, host: pr-hdds-2022-qxstf-1422721469, networkLocation: /default-rack, certSerialId: null}, Type:RATIS, Factor:ONE, State:CLOSED] moved to CLOSED state
2019-09-16 15:58:49,499 [EventQueue-CloseContainerForCloseContainerEventHandler] INFO  container.CloseContainerEventHandler (CloseContainerEventHandler.java:onMessage(61)) - Close container Event triggered for container : #1
2019-09-16 15:58:51,648 [main] INFO  ozoneimpl.OzoneContainer (OzoneContainer.java:stop(231)) - Attempting to stop container services.
2019-09-16 15:58:51,650 [main] INFO  impl.RaftServerProxy (RaftServerProxy.java:lambda$close$4(314)) - f3e3a3a3-846b-4347-a380-93d47fe145fc: close
2019-09-16 15:58:51,652 [main] INFO  impl.RaftServerImpl (RaftServerImpl.java:lambda$shutdown$3(251)) - f3e3a3a3-846b-4347-a380-93d47fe145fc@group-58C9CD3F2190: shutdown
2019-09-16 15:58:51,652 [main] INFO  util.JmxRegister (JmxRegister.java:unregister(73)) - Successfully un-registered JMX Bean with object name Ratis:service=RaftServer,group=group-58C9CD3F2190,id=f3e3a3a3-846b-4347-a380-93d47fe145fc
2019-09-16 15:58:51,653 [main] INFO  impl.RoleInfo (RoleInfo.java:shutdownLeaderState(104)) - f3e3a3a3-846b-4347-a380-93d47fe145fc: shutdown LeaderState
2019-09-16 15:58:51,654 [main] INFO  impl.PendingRequests (PendingRequests.java:sendNotLeaderResponses(202)) - f3e3a3a3-846b-4347-a380-93d47fe145fc-PendingRequests: sendNotLeaderResponses
2019-09-16 15:58:51,661 [main] INFO  impl.StateMachineUpdater (StateMachineUpdater.java:stopAndJoin(125)) - f3e3a3a3-846b-4347-a380-93d47fe145fc@group-58C9CD3F2190-StateMachineUpdater: set stopIndex = 7
2019-09-16 15:58:51,662 [f3e3a3a3-846b-4347-a380-93d47fe145fc@group-58C9CD3F2190-StateMachineUpdater] INFO  ratis.ContainerStateMachine (ContainerStateMachine.java:takeSnapshot(289)) - group-58C9CD3F2190: Taking a snapshot at:(t:1, i:6) file /workdir/hadoop-ozone/integration-test/target/test-dir/MiniOzoneClusterImpl-e7174f9f-1f65-4936-ace6-f3a8e5d3c0c8/datanode-0/data/ratis/809e1103-cd65-45ce-ae57-58c9cd3f2190/sm/snapshot.1_6
2019-09-16 15:58:51,676 [f3e3a3a3-846b-4347-a380-93d47fe145fc@group-58C9CD3F2190-StateMachineUpdater] INFO  ratis.ContainerStateMachine (ContainerStateMachine.java:takeSnapshot(300)) - group-58C9CD3F2190: Finished taking a snapshot at:(t:1, i:6) file:/workdir/hadoop-ozone/integration-test/target/test-dir/MiniOzoneClusterImpl-e7174f9f-1f65-4936-ace6-f3a8e5d3c0c8/datanode-0/data/ratis/809e1103-cd65-45ce-ae57-58c9cd3f2190/sm/snapshot.1_6 time:15
2019-09-16 15:58:51,676 [f3e3a3a3-846b-4347-a380-93d47fe145fc@group-58C9CD3F2190-StateMachineUpdater] INFO  impl.StateMachineUpdater (StateMachineUpdater.java:takeSnapshot(258)) - f3e3a3a3-846b-4347-a380-93d47fe145fc@group-58C9CD3F2190-StateMachineUpdater: Took a snapshot at index 6
2019-09-16 15:58:51,677 [f3e3a3a3-846b-4347-a380-93d47fe145fc@group-58C9CD3F2190-StateMachineUpdater] INFO  impl.StateMachineUpdater (StateMachineUpdater.java:lambda$new$0(83)) - f3e3a3a3-846b-4347-a380-93d47fe145fc@group-58C9CD3F2190-StateMachineUpdater: snapshotIndex: updateIncreasingly 6 -> 6
2019-09-16 15:58:51,677 [f3e3a3a3-846b-4347-a380-93d47fe145fc@group-58C9CD3F2190-StateMachineUpdater] INFO  ratis.ContainerStateMachine (ContainerStateMachine.java:takeSnapshot(289)) - group-58C9CD3F2190: Taking a snapshot at:(t:1, i:6) file /workdir/hadoop-ozone/integration-test/target/test-dir/MiniOzoneClusterImpl-e7174f9f-1f65-4936-ace6-f3a8e5d3c0c8/datanode-0/data/ratis/809e1103-cd65-45ce-ae57-58c9cd3f2190/sm/snapshot.1_6
2019-09-16 15:58:51,712 [f3e3a3a3-846b-4347-a380-93d47fe145fc@group-58C9CD3F2190-StateMachineUpdater] INFO  ratis.ContainerStateMachine (ContainerStateMachine.java:takeSnapshot(300)) - group-58C9CD3F2190: Finished taking a snapshot at:(t:1, i:6) file:/workdir/hadoop-ozone/integration-test/target/test-dir/MiniOzoneClusterImpl-e7174f9f-1f65-4936-ace6-f3a8e5d3c0c8/datanode-0/data/ratis/809e1103-cd65-45ce-ae57-58c9cd3f2190/sm/snapshot.1_6 time:35
2019-09-16 15:58:51,712 [f3e3a3a3-846b-4347-a380-93d47fe145fc@group-58C9CD3F2190-StateMachineUpdater] INFO  impl.StateMachineUpdater (StateMachineUpdater.java:takeSnapshot(258)) - f3e3a3a3-846b-4347-a380-93d47fe145fc@group-58C9CD3F2190-StateMachineUpdater: Took a snapshot at index 6
2019-09-16 15:58:51,712 [f3e3a3a3-846b-4347-a380-93d47fe145fc@group-58C9CD3F2190-StateMachineUpdater] INFO  impl.StateMachineUpdater (StateMachineUpdater.java:lambda$new$0(83)) - f3e3a3a3-846b-4347-a380-93d47fe145fc@group-58C9CD3F2190-StateMachineUpdater: snapshotIndex: updateIncreasingly 6 -> 6
2019-09-16 15:58:51,714 [main] INFO  impl.RaftServerImpl (ServerState.java:close(385)) - f3e3a3a3-846b-4347-a380-93d47fe145fc@group-58C9CD3F2190: closes. applyIndex: 7
2019-09-16 15:58:51,717 [f3e3a3a3-846b-4347-a380-93d47fe145fc@group-58C9CD3F2190-SegmentedRaftLogWorker] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:run(313)) - f3e3a3a3-846b-4347-a380-93d47fe145fc@group-58C9CD3F2190-SegmentedRaftLogWorker was interrupted, exiting. There are 0 tasks remaining in the queue.
2019-09-16 15:58:51,718 [main] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:close(228)) - f3e3a3a3-846b-4347-a380-93d47fe145fc@group-58C9CD3F2190-SegmentedRaftLogWorker close()
2019-09-16 15:58:51,721 [main] INFO  server.GrpcService (GrpcService.java:closeImpl(164)) - f3e3a3a3-846b-4347-a380-93d47fe145fc: shutdown server with port 33964 now
2019-09-16 15:58:51,726 [main] INFO  server.GrpcService (GrpcService.java:closeImpl(172)) - f3e3a3a3-846b-4347-a380-93d47fe145fc: shutdown server with port 33964 successfully
2019-09-16 15:58:51,737 [refreshUsed-/workdir/hadoop-ozone/integration-test/target/test-dir/MiniOzoneClusterImpl-e7174f9f-1f65-4936-ace6-f3a8e5d3c0c8/datanode-0/data/containers] WARN  fs.CachingGetSpaceUsed (CachingGetSpaceUsed.java:run(183)) - Thread Interrupted waiting to refresh disk information: sleep interrupted
2019-09-16 15:58:51,755 [main] INFO  utils.BackgroundService (BackgroundService.java:shutdown(148)) - Shutting down service BlockDeletingService
2019-09-16 15:58:51,757 [main] INFO  statemachine.DatanodeStateMachine (DatanodeStateMachine.java:stopDaemon(395)) - Ozone container server stopped.
2019-09-16 15:58:51,761 [main] INFO  handler.ContextHandler (ContextHandler.java:doStop(910)) - Stopped o.e.j.w.WebAppContext@227a47{/,null,UNAVAILABLE}{/hddsDatanode}
2019-09-16 15:58:51,767 [main] INFO  server.AbstractConnector (AbstractConnector.java:doStop(318)) - Stopped ServerConnector@9596ce8{HTTP/1.1,[http/1.1]}{0.0.0.0:0}
2019-09-16 15:58:51,768 [main] INFO  handler.ContextHandler (ContextHandler.java:doStop(910)) - Stopped o.e.j.s.ServletContextHandler@2127e66e{/static,jar:file:/home/user/.m2/repository/org/apache/hadoop/hadoop-hdds-container-service/0.5.0-SNAPSHOT/hadoop-hdds-container-service-0.5.0-SNAPSHOT.jar!/webapps/static,UNAVAILABLE}
2019-09-16 15:58:51,768 [main] INFO  handler.ContextHandler (ContextHandler.java:doStop(910)) - Stopped o.e.j.s.ServletContextHandler@6ede46f6{/logs,file:///workdir/hadoop-ozone/integration-test/target/log,UNAVAILABLE}
2019-09-16 15:58:51,772 [main] INFO  ozone.MiniOzoneClusterImpl (MiniOzoneClusterImpl.java:lambda$waitForClusterToBeReady$0(145)) - Cluster is ready. Got 0 of 0 DN Heartbeats.
2019-09-16 15:58:51,774 [main] INFO  impl.MetricsSystemImpl (MetricsSystemImpl.java:init(158)) - HddsDatanode metrics system started (again)
2019-09-16 15:58:51,813 [main] INFO  ozone.HddsDatanodeService (HddsDatanodeService.java:start(184)) - HddsDatanodeService host:pr-hdds-2022-qxstf-1422721469 ip:192.168.5.184
2019-09-16 15:58:51,818 [main] INFO  volume.VolumeUsage (VolumeUsage.java:loadScmUsed(144)) - Cached ScmUsed found for /workdir/hadoop-ozone/integration-test/target/test-dir/MiniOzoneClusterImpl-e7174f9f-1f65-4936-ace6-f3a8e5d3c0c8/datanode-0/data/containers : 4096 
2019-09-16 15:58:51,819 [main] INFO  volume.HddsVolume (HddsVolume.java:<init>(176)) - Creating Volume: /workdir/hadoop-ozone/integration-test/target/test-dir/MiniOzoneClusterImpl-e7174f9f-1f65-4936-ace6-f3a8e5d3c0c8/datanode-0/data/containers/hdds of  storage type : DISK and capacity : 1482555576320
2019-09-16 15:58:51,820 [main] INFO  volume.VolumeSet (VolumeSet.java:initializeVolumeSet(170)) - Added Volume : /workdir/hadoop-ozone/integration-test/target/test-dir/MiniOzoneClusterImpl-e7174f9f-1f65-4936-ace6-f3a8e5d3c0c8/datanode-0/data/containers/hdds to VolumeSet
2019-09-16 15:58:51,820 [main] INFO  volume.ThrottledAsyncChecker (ThrottledAsyncChecker.java:schedule(139)) - Scheduling a check for org.apache.hadoop.ozone.container.common.volume.HddsVolume@141d3d43
2019-09-16 15:58:51,822 [main] INFO  volume.HddsVolumeChecker (HddsVolumeChecker.java:checkAllVolumes(202)) - Scheduled health check for volume org.apache.hadoop.ozone.container.common.volume.HddsVolume@141d3d43
2019-09-16 15:58:51,852 [main] INFO  impl.RaftServerProxy (ConfUtils.java:logGet(43)) - raft.rpc.type = GRPC (default)
2019-09-16 15:58:51,853 [main] INFO  grpc.GrpcFactory (GrpcFactory.java:checkPooledByteBufAllocatorUseCacheForAllThreads(45)) - PERFORMANCE WARNING: useCacheForAllThreads is true that may cause Netty to create a lot garbage objects and, as a result, trigger GC.
	It is recommended to disable useCacheForAllThreads by setting -Dorg.apache.ratis.thirdparty.io.netty.allocator.useCacheForAllThreads=false in command line.
2019-09-16 15:58:51,853 [main] INFO  grpc.GrpcConfigKeys$Server (ConfUtils.java:logGet(43)) - raft.grpc.server.port = 33964 (custom)
2019-09-16 15:58:51,853 [main] INFO  server.GrpcService (ConfUtils.java:logGet(43)) - raft.grpc.message.size.max = 33570816 (custom)
2019-09-16 15:58:51,854 [main] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.log.appender.buffer.byte-limit = 33554432 (custom)
2019-09-16 15:58:51,854 [main] INFO  server.GrpcService (ConfUtils.java:logGet(43)) - raft.grpc.flow.control.window = 1MB (=1048576) (default)
2019-09-16 15:58:51,854 [main] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.rpc.request.timeout = 3000ms (default)
2019-09-16 15:58:51,856 [main] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.storage.dir = [/workdir/hadoop-ozone/integration-test/target/test-dir/MiniOzoneClusterImpl-e7174f9f-1f65-4936-ace6-f3a8e5d3c0c8/datanode-0/data/ratis] (custom)
2019-09-16 15:58:51,856 [main] INFO  impl.RaftServerProxy (RaftServerProxy.java:lambda$null$0(191)) - f3e3a3a3-846b-4347-a380-93d47fe145fc: found a subdirectory /workdir/hadoop-ozone/integration-test/target/test-dir/MiniOzoneClusterImpl-e7174f9f-1f65-4936-ace6-f3a8e5d3c0c8/datanode-0/data/ratis/809e1103-cd65-45ce-ae57-58c9cd3f2190
2019-09-16 15:58:51,858 [main] INFO  impl.RaftServerProxy (RaftServerProxy.java:addNew(89)) - f3e3a3a3-846b-4347-a380-93d47fe145fc: addNew group-58C9CD3F2190:[] returns group-58C9CD3F2190:java.util.concurrent.CompletableFuture@7426a448[Not completed]
2019-09-16 15:58:51,861 [main] INFO  hdfs.DFSUtil (DFSUtil.java:httpServerTemplateForNNAndJN(1641)) - Starting Web-server for hddsDatanode at: http://0.0.0.0:43474
2019-09-16 15:58:51,861 [pool-40-thread-1] INFO  impl.RaftServerImpl (RaftServerImpl.java:<init>(95)) - f3e3a3a3-846b-4347-a380-93d47fe145fc: new RaftServerImpl for group-58C9CD3F2190:[] with ContainerStateMachine:uninitialized
2019-09-16 15:58:51,862 [pool-40-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.rpc.timeout.min = 5s (custom)
2019-09-16 15:58:51,862 [pool-40-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.rpc.timeout.max = 5200ms (custom)
2019-09-16 15:58:51,862 [pool-40-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.rpcslowness.timeout = 120s (custom)
2019-09-16 15:58:51,862 [pool-40-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.sleep.deviation.threshold = 300 (default)
2019-09-16 15:58:51,862 [pool-40-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.log.appender.install.snapshot.enabled = false (custom)
2019-09-16 15:58:51,863 [pool-40-thread-1] INFO  impl.RaftServerImpl (ServerState.java:<init>(103)) - f3e3a3a3-846b-4347-a380-93d47fe145fc@group-58C9CD3F2190: ConfigurationManager, init=-1: [], old=null, confs=<EMPTY_MAP>
2019-09-16 15:58:51,863 [pool-40-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.storage.dir = [/workdir/hadoop-ozone/integration-test/target/test-dir/MiniOzoneClusterImpl-e7174f9f-1f65-4936-ace6-f3a8e5d3c0c8/datanode-0/data/ratis] (custom)
2019-09-16 15:58:51,863 [main] INFO  server.AuthenticationFilter (AuthenticationFilter.java:constructSecretProvider(240)) - Unable to initialize FileSignerSecretProvider, falling back to use random secrets.
2019-09-16 15:58:51,865 [main] WARN  http.HttpRequestLog (HttpRequestLog.java:getRequestLog(97)) - Jetty request log can only be enabled using Log4j
2019-09-16 15:58:51,867 [main] INFO  http.HttpServer2 (HttpServer2.java:addGlobalFilter(975)) - Added global filter 'safety' (class=org.apache.hadoop.http.HttpServer2$QuotingInputFilter)
2019-09-16 15:58:51,868 [main] INFO  http.HttpServer2 (HttpServer2.java:addFilter(948)) - Added filter static_user_filter (class=org.apache.hadoop.http.lib.StaticUserWebFilter$StaticUserFilter) to context hddsDatanode
2019-09-16 15:58:51,868 [main] INFO  http.HttpServer2 (HttpServer2.java:addFilter(958)) - Added filter static_user_filter (class=org.apache.hadoop.http.lib.StaticUserWebFilter$StaticUserFilter) to context logs
2019-09-16 15:58:51,869 [main] INFO  http.HttpServer2 (HttpServer2.java:addFilter(958)) - Added filter static_user_filter (class=org.apache.hadoop.http.lib.StaticUserWebFilter$StaticUserFilter) to context static
2019-09-16 15:58:51,870 [main] INFO  http.HttpServer2 (HttpServer2.java:bindListener(1191)) - Jetty bound to port 43474
2019-09-16 15:58:51,870 [main] INFO  server.Server (Server.java:doStart(351)) - jetty-9.3.24.v20180605, build timestamp: 2018-06-05T17:11:56Z, git hash: 84205aa28f11a4f31f2a3b86d1bba2cc8ab69827
2019-09-16 15:58:51,872 [main] INFO  handler.ContextHandler (ContextHandler.java:doStart(781)) - Started o.e.j.s.ServletContextHandler@47b11ec7{/logs,file:///workdir/hadoop-ozone/integration-test/target/log,AVAILABLE}
2019-09-16 15:58:51,873 [main] INFO  handler.ContextHandler (ContextHandler.java:doStart(781)) - Started o.e.j.s.ServletContextHandler@36aa52d2{/static,jar:file:/home/user/.m2/repository/org/apache/hadoop/hadoop-hdds-container-service/0.5.0-SNAPSHOT/hadoop-hdds-container-service-0.5.0-SNAPSHOT.jar!/webapps/static,AVAILABLE}
2019-09-16 15:58:51,910 [pool-40-thread-1] INFO  storage.RaftStorageDirectory (RaftStorageDirectory.java:tryLock(328)) - Lock on /workdir/hadoop-ozone/integration-test/target/test-dir/MiniOzoneClusterImpl-e7174f9f-1f65-4936-ace6-f3a8e5d3c0c8/datanode-0/data/ratis/809e1103-cd65-45ce-ae57-58c9cd3f2190/in_use.lock acquired by nodename 22961@pr-hdds-2022-qxstf-1422721469
2019-09-16 15:58:51,913 [main] INFO  handler.ContextHandler (ContextHandler.java:doStart(781)) - Started o.e.j.w.WebAppContext@6aa3bfc{/,file:///tmp/jetty-0.0.0.0-43474-hddsDatanode-_-any-3039820889927635200.dir/webapp/,AVAILABLE}{/hddsDatanode}
2019-09-16 15:58:51,913 [main] INFO  server.AbstractConnector (AbstractConnector.java:doStart(278)) - Started ServerConnector@6e4599c0{HTTP/1.1,[http/1.1]}{0.0.0.0:43474}
2019-09-16 15:58:51,914 [main] INFO  server.Server (Server.java:doStart(419)) - Started @25217ms
2019-09-16 15:58:51,915 [main] WARN  impl.MetricsSystemImpl (MetricsSystemImpl.java:register(276)) - Sink prometheus already exists!
2019-09-16 15:58:51,916 [pool-40-thread-1] INFO  ratis.ContainerStateMachine (ContainerStateMachine.java:loadSnapshot(239)) - group-58C9CD3F2190: Setting the last applied index to (t:1, i:6)
2019-09-16 15:58:51,917 [main] INFO  server.BaseHttpServer (BaseHttpServer.java:updateConnectorAddress(215)) - HTTP server of HDDSDATANODE is listening at http://0.0.0.0:43474
2019-09-16 15:58:51,917 [main] INFO  ozone.MiniOzoneClusterImpl (MiniOzoneClusterImpl.java:lambda$waitForClusterToBeReady$0(145)) - Waiting for cluster to be ready. Got 0 of 1 DN Heartbeats.
2019-09-16 15:58:51,919 [org.apache.hadoop.util.JvmPauseMonitor$Monitor@56efb5bf] INFO  util.JvmPauseMonitor (JvmPauseMonitor.java:run(188)) - Starting JVM pause monitor
2019-09-16 15:58:51,922 [pool-40-thread-1] WARN  impl.ContainerSet (ContainerSet.java:lambda$buildMissingContainerSetAndValidate$1(257)) - Adding container 1 to missing container set.
2019-09-16 15:58:51,925 [pool-40-thread-1] INFO  impl.RaftServerImpl (ServerState.java:setRaftConf(354)) - f3e3a3a3-846b-4347-a380-93d47fe145fc@group-58C9CD3F2190: set configuration 0: [f3e3a3a3-846b-4347-a380-93d47fe145fc:192.168.5.184:33964], old=null at 0
2019-09-16 15:58:51,925 [pool-40-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.notification.no-leader.timeout = 120s (custom)
2019-09-16 15:58:51,925 [pool-40-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.log.use.memory = false (default)
2019-09-16 15:58:51,926 [pool-40-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.log.purge.gap = 1000000 (custom)
2019-09-16 15:58:51,926 [pool-40-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.log.appender.buffer.byte-limit = 33554432 (custom)
2019-09-16 15:58:51,926 [pool-40-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.log.segment.size.max = 1048576 (custom)
2019-09-16 15:58:51,926 [pool-40-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.log.segment.cache.num.max = 2 (custom)
2019-09-16 15:58:51,926 [pool-40-thread-1] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:<init>(172)) - new f3e3a3a3-846b-4347-a380-93d47fe145fc@group-58C9CD3F2190-SegmentedRaftLogWorker for RaftStorage:Storage Directory /workdir/hadoop-ozone/integration-test/target/test-dir/MiniOzoneClusterImpl-e7174f9f-1f65-4936-ace6-f3a8e5d3c0c8/datanode-0/data/ratis/809e1103-cd65-45ce-ae57-58c9cd3f2190
2019-09-16 15:58:51,927 [pool-40-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.log.queue.byte-limit = 2147483647 (custom)
2019-09-16 15:58:51,927 [pool-40-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.log.queue.element-limit = 1024 (custom)
2019-09-16 15:58:51,927 [pool-40-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.log.segment.size.max = 1048576 (custom)
2019-09-16 15:58:51,928 [pool-40-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.log.preallocated.size = 16384 (custom)
2019-09-16 15:58:51,928 [pool-40-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.log.write.buffer.size = 33554432 (custom)
2019-09-16 15:58:51,928 [pool-40-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.log.force.sync.num = 128 (default)
2019-09-16 15:58:51,928 [pool-40-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.log.statemachine.data.sync = true (default)
2019-09-16 15:58:51,928 [pool-40-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.log.statemachine.data.sync.timeout = 10s (default)
2019-09-16 15:58:51,929 [pool-40-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.log.statemachine.data.sync.timeout.retry = -1 (default)
2019-09-16 15:58:51,929 [pool-40-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.log.statemachine.data.caching.enabled = true (custom)
2019-09-16 15:58:51,937 [pool-40-thread-1] INFO  impl.RaftServerImpl (ServerState.java:setRaftConf(354)) - f3e3a3a3-846b-4347-a380-93d47fe145fc@group-58C9CD3F2190: set configuration 0: [f3e3a3a3-846b-4347-a380-93d47fe145fc:192.168.5.184:33964], old=null at 0
2019-09-16 15:58:51,938 [pool-40-thread-1] INFO  segmented.LogSegment (LogSegment.java:loadSegment(123)) - Successfully read 8 entries from segment file /workdir/hadoop-ozone/integration-test/target/test-dir/MiniOzoneClusterImpl-e7174f9f-1f65-4936-ace6-f3a8e5d3c0c8/datanode-0/data/ratis/809e1103-cd65-45ce-ae57-58c9cd3f2190/current/log_inprogress_0
2019-09-16 15:58:51,939 [pool-40-thread-1] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:lambda$new$0(132)) - f3e3a3a3-846b-4347-a380-93d47fe145fc@group-58C9CD3F2190-SegmentedRaftLogWorker: flushIndex: setUnconditionally 0 -> 7
2019-09-16 15:58:51,973 [pool-40-thread-1] INFO  raftlog.RaftLog (RaftLog.java:lambda$new$0(61)) - f3e3a3a3-846b-4347-a380-93d47fe145fc@group-58C9CD3F2190-SegmentedRaftLog: commitIndex: updateToMax old=6, new=6, updated? false
2019-09-16 15:58:51,973 [pool-40-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.snapshot.auto.trigger.enabled = true (custom)
2019-09-16 15:58:51,973 [pool-40-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.snapshot.auto.trigger.threshold = 1 (custom)
2019-09-16 15:58:51,974 [pool-40-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.snapshot.retention.num.files = 5 (custom)
2019-09-16 15:58:51,974 [pool-40-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.retrycache.expirytime = 600000ms (custom)
2019-09-16 15:58:52,918 [main] INFO  ozone.MiniOzoneClusterImpl (MiniOzoneClusterImpl.java:lambda$waitForClusterToBeReady$0(145)) - Waiting for cluster to be ready. Got 0 of 1 DN Heartbeats.
2019-09-16 15:58:53,918 [main] INFO  ozone.MiniOzoneClusterImpl (MiniOzoneClusterImpl.java:lambda$waitForClusterToBeReady$0(145)) - Waiting for cluster to be ready. Got 0 of 1 DN Heartbeats.
2019-09-16 15:58:53,921 [Datanode State Machine Thread - 0] INFO  ozoneimpl.OzoneContainer (OzoneContainer.java:start(217)) - Attempting to start container services.
2019-09-16 15:58:53,921 [Datanode State Machine Thread - 0] INFO  ozoneimpl.OzoneContainer (OzoneContainer.java:startContainerScrub(179)) - Background container scanner has been disabled.
2019-09-16 15:58:53,922 [Datanode State Machine Thread - 0] INFO  ratis.XceiverServerRatis (XceiverServerRatis.java:start(411)) - Starting XceiverServerRatis f3e3a3a3-846b-4347-a380-93d47fe145fc at port 33964
2019-09-16 15:58:53,930 [Datanode State Machine Thread - 0] INFO  impl.RaftServerImpl (RaftServerImpl.java:start(185)) - f3e3a3a3-846b-4347-a380-93d47fe145fc@group-58C9CD3F2190: start as a follower, conf=0: [f3e3a3a3-846b-4347-a380-93d47fe145fc:192.168.5.184:33964], old=null
2019-09-16 15:58:53,930 [Datanode State Machine Thread - 0] INFO  impl.RaftServerImpl (RaftServerImpl.java:setRole(174)) - f3e3a3a3-846b-4347-a380-93d47fe145fc@group-58C9CD3F2190: changes role from      null to FOLLOWER at term 1 for startAsFollower
2019-09-16 15:58:53,930 [Datanode State Machine Thread - 0] INFO  impl.RoleInfo (RoleInfo.java:updateAndGet(143)) - f3e3a3a3-846b-4347-a380-93d47fe145fc: start FollowerState
2019-09-16 15:58:53,930 [Datanode State Machine Thread - 0] INFO  util.JmxRegister (JmxRegister.java:tryRegister(44)) - Successfully registered JMX Bean with object name Ratis:service=RaftServer,group=group-58C9CD3F2190,id=f3e3a3a3-846b-4347-a380-93d47fe145fc
2019-09-16 15:58:53,931 [Datanode State Machine Thread - 0] INFO  impl.RaftServerProxy (RaftServerProxy.java:lambda$start$3(299)) - f3e3a3a3-846b-4347-a380-93d47fe145fc: start RPC server
2019-09-16 15:58:53,934 [Datanode State Machine Thread - 0] INFO  server.GrpcService (GrpcService.java:startImpl(158)) - f3e3a3a3-846b-4347-a380-93d47fe145fc: GrpcService started, listening on 0.0.0.0/0.0.0.0:33964
2019-09-16 15:58:54,919 [main] INFO  ozone.MiniOzoneClusterImpl (MiniOzoneClusterImpl.java:lambda$waitForClusterToBeReady$0(145)) - Waiting for cluster to be ready. Got 0 of 1 DN Heartbeats.
2019-09-16 15:58:55,920 [main] INFO  ozone.MiniOzoneClusterImpl (MiniOzoneClusterImpl.java:lambda$waitForClusterToBeReady$0(145)) - Waiting for cluster to be ready. Got 0 of 1 DN Heartbeats.
2019-09-16 15:58:56,923 [main] INFO  ozone.MiniOzoneClusterImpl (MiniOzoneClusterImpl.java:lambda$waitForClusterToBeReady$0(145)) - Waiting for cluster to be ready. Got 0 of 1 DN Heartbeats.
2019-09-16 15:58:57,924 [main] INFO  ozone.MiniOzoneClusterImpl (MiniOzoneClusterImpl.java:lambda$waitForClusterToBeReady$0(145)) - Waiting for cluster to be ready. Got 0 of 1 DN Heartbeats.
2019-09-16 15:58:58,041 [grpc-default-executor-1] INFO  impl.RaftServerProxy (RaftServerProxy.java:addNew(89)) - f3e3a3a3-846b-4347-a380-93d47fe145fc: addNew group-B0234D410E7F:[f3e3a3a3-846b-4347-a380-93d47fe145fc:192.168.5.184:33964] returns group-B0234D410E7F:java.util.concurrent.CompletableFuture@2d66b999[Not completed]
2019-09-16 15:58:58,044 [pool-40-thread-1] INFO  impl.RaftServerImpl (RaftServerImpl.java:<init>(95)) - f3e3a3a3-846b-4347-a380-93d47fe145fc: new RaftServerImpl for group-B0234D410E7F:[f3e3a3a3-846b-4347-a380-93d47fe145fc:192.168.5.184:33964] with ContainerStateMachine:uninitialized
2019-09-16 15:58:58,044 [pool-40-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.rpc.timeout.min = 5s (custom)
2019-09-16 15:58:58,045 [pool-40-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.rpc.timeout.max = 5200ms (custom)
2019-09-16 15:58:58,045 [pool-40-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.rpcslowness.timeout = 120s (custom)
2019-09-16 15:58:58,045 [pool-40-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.sleep.deviation.threshold = 300 (default)
2019-09-16 15:58:58,045 [pool-40-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.log.appender.install.snapshot.enabled = false (custom)
2019-09-16 15:58:58,045 [pool-40-thread-1] INFO  impl.RaftServerImpl (ServerState.java:<init>(103)) - f3e3a3a3-846b-4347-a380-93d47fe145fc@group-B0234D410E7F: ConfigurationManager, init=-1: [f3e3a3a3-846b-4347-a380-93d47fe145fc:192.168.5.184:33964], old=null, confs=<EMPTY_MAP>
2019-09-16 15:58:58,046 [pool-40-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.storage.dir = [/workdir/hadoop-ozone/integration-test/target/test-dir/MiniOzoneClusterImpl-e7174f9f-1f65-4936-ace6-f3a8e5d3c0c8/datanode-0/data/ratis] (custom)
2019-09-16 15:58:58,046 [pool-40-thread-1] INFO  storage.RaftStorageDirectory (RaftStorageDirectory.java:analyzeStorage(246)) - The storage directory /workdir/hadoop-ozone/integration-test/target/test-dir/MiniOzoneClusterImpl-e7174f9f-1f65-4936-ace6-f3a8e5d3c0c8/datanode-0/data/ratis/9a50cf2b-020d-4bc8-a16f-b0234d410e7f does not exist. Creating ...
2019-09-16 15:58:58,064 [pool-40-thread-1] INFO  storage.RaftStorageDirectory (RaftStorageDirectory.java:tryLock(328)) - Lock on /workdir/hadoop-ozone/integration-test/target/test-dir/MiniOzoneClusterImpl-e7174f9f-1f65-4936-ace6-f3a8e5d3c0c8/datanode-0/data/ratis/9a50cf2b-020d-4bc8-a16f-b0234d410e7f/in_use.lock acquired by nodename 22961@pr-hdds-2022-qxstf-1422721469
2019-09-16 15:58:58,086 [pool-40-thread-1] INFO  storage.RaftStorage (RaftStorage.java:format(72)) - Storage directory /workdir/hadoop-ozone/integration-test/target/test-dir/MiniOzoneClusterImpl-e7174f9f-1f65-4936-ace6-f3a8e5d3c0c8/datanode-0/data/ratis/9a50cf2b-020d-4bc8-a16f-b0234d410e7f has been successfully formatted.
2019-09-16 15:58:58,088 [pool-40-thread-1] INFO  ratis.ContainerStateMachine (ContainerStateMachine.java:loadSnapshot(230)) - group-B0234D410E7F: The snapshot info is null. Setting the last applied indexto:(t:0, i:~)
2019-09-16 15:58:58,088 [pool-40-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.notification.no-leader.timeout = 120s (custom)
2019-09-16 15:58:58,088 [pool-40-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.log.use.memory = false (default)
2019-09-16 15:58:58,088 [pool-40-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.log.purge.gap = 1000000 (custom)
2019-09-16 15:58:58,088 [pool-40-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.log.appender.buffer.byte-limit = 33554432 (custom)
2019-09-16 15:58:58,089 [pool-40-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.log.segment.size.max = 1048576 (custom)
2019-09-16 15:58:58,089 [pool-40-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.log.segment.cache.num.max = 2 (custom)
2019-09-16 15:58:58,089 [pool-40-thread-1] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:<init>(172)) - new f3e3a3a3-846b-4347-a380-93d47fe145fc@group-B0234D410E7F-SegmentedRaftLogWorker for RaftStorage:Storage Directory /workdir/hadoop-ozone/integration-test/target/test-dir/MiniOzoneClusterImpl-e7174f9f-1f65-4936-ace6-f3a8e5d3c0c8/datanode-0/data/ratis/9a50cf2b-020d-4bc8-a16f-b0234d410e7f
2019-09-16 15:58:58,089 [pool-40-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.log.queue.byte-limit = 2147483647 (custom)
2019-09-16 15:58:58,089 [pool-40-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.log.queue.element-limit = 1024 (custom)
2019-09-16 15:58:58,090 [pool-40-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.log.segment.size.max = 1048576 (custom)
2019-09-16 15:58:58,090 [pool-40-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.log.preallocated.size = 16384 (custom)
2019-09-16 15:58:58,090 [pool-40-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.log.write.buffer.size = 33554432 (custom)
2019-09-16 15:58:58,090 [pool-40-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.log.force.sync.num = 128 (default)
2019-09-16 15:58:58,090 [pool-40-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.log.statemachine.data.sync = true (default)
2019-09-16 15:58:58,090 [pool-40-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.log.statemachine.data.sync.timeout = 10s (default)
2019-09-16 15:58:58,091 [pool-40-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.log.statemachine.data.sync.timeout.retry = -1 (default)
2019-09-16 15:58:58,091 [pool-40-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.log.statemachine.data.caching.enabled = true (custom)
2019-09-16 15:58:58,091 [pool-40-thread-1] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:lambda$new$0(132)) - f3e3a3a3-846b-4347-a380-93d47fe145fc@group-B0234D410E7F-SegmentedRaftLogWorker: flushIndex: setUnconditionally 0 -> -1
2019-09-16 15:58:58,092 [pool-40-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.snapshot.auto.trigger.enabled = true (custom)
2019-09-16 15:58:58,092 [pool-40-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.snapshot.auto.trigger.threshold = 1 (custom)
2019-09-16 15:58:58,092 [pool-40-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.snapshot.retention.num.files = 5 (custom)
2019-09-16 15:58:58,092 [pool-40-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.retrycache.expirytime = 600000ms (custom)
2019-09-16 15:58:58,119 [pool-40-thread-1] INFO  impl.RaftServerImpl (RaftServerImpl.java:start(185)) - f3e3a3a3-846b-4347-a380-93d47fe145fc@group-B0234D410E7F: start as a follower, conf=-1: [f3e3a3a3-846b-4347-a380-93d47fe145fc:192.168.5.184:33964], old=null
2019-09-16 15:58:58,119 [pool-40-thread-1] INFO  impl.RaftServerImpl (RaftServerImpl.java:setRole(174)) - f3e3a3a3-846b-4347-a380-93d47fe145fc@group-B0234D410E7F: changes role from      null to FOLLOWER at term 0 for startAsFollower
2019-09-16 15:58:58,119 [pool-40-thread-1] INFO  impl.RoleInfo (RoleInfo.java:updateAndGet(143)) - f3e3a3a3-846b-4347-a380-93d47fe145fc: start FollowerState
2019-09-16 15:58:58,120 [pool-40-thread-1] INFO  util.JmxRegister (JmxRegister.java:tryRegister(44)) - Successfully registered JMX Bean with object name Ratis:service=RaftServer,group=group-B0234D410E7F,id=f3e3a3a3-846b-4347-a380-93d47fe145fc
2019-09-16 15:58:58,128 [RatisPipelineUtilsThread] INFO  pipeline.PipelineStateManager (PipelineStateManager.java:addPipeline(56)) - Created pipeline Pipeline[ Id: 9a50cf2b-020d-4bc8-a16f-b0234d410e7f, Nodes: f3e3a3a3-846b-4347-a380-93d47fe145fc{ip: 192.168.5.184, host: pr-hdds-2022-qxstf-1422721469, networkLocation: /default-rack, certSerialId: null}, Type:RATIS, Factor:ONE, State:OPEN]
2019-09-16 15:58:58,920 [Command processor thread] ERROR commandhandler.CloseContainerCommandHandler (CloseContainerCommandHandler.java:handle(84)) - Container #1 does not exist in datanode. Container close failed.
2019-09-16 15:58:58,925 [main] INFO  ozone.MiniOzoneClusterImpl (MiniOzoneClusterImpl.java:lambda$waitForClusterToBeReady$0(145)) - Cluster is ready. Got 1 of 1 DN Heartbeats.
2019-09-16 15:58:58,954 [Thread-188] INFO  impl.FollowerState (FollowerState.java:run(106)) - f3e3a3a3-846b-4347-a380-93d47fe145fc:group-58C9CD3F2190 changes to CANDIDATE, lastRpcTime:5023, electionTimeout:5023ms
2019-09-16 15:58:58,954 [Thread-188] INFO  impl.RoleInfo (RoleInfo.java:shutdownFollowerState(121)) - f3e3a3a3-846b-4347-a380-93d47fe145fc: shutdown FollowerState
2019-09-16 15:58:58,955 [Thread-188] INFO  impl.RaftServerImpl (RaftServerImpl.java:setRole(174)) - f3e3a3a3-846b-4347-a380-93d47fe145fc@group-58C9CD3F2190: changes role from  FOLLOWER to CANDIDATE at term 1 for changeToCandidate
2019-09-16 15:58:58,955 [Thread-188] INFO  impl.RoleInfo (RoleInfo.java:updateAndGet(143)) - f3e3a3a3-846b-4347-a380-93d47fe145fc: start LeaderElection
2019-09-16 15:58:58,975 [f3e3a3a3-846b-4347-a380-93d47fe145fc@group-58C9CD3F2190:LeaderElection2] INFO  impl.LeaderElection (LeaderElection.java:askForVotes(182)) - f3e3a3a3-846b-4347-a380-93d47fe145fc@group-58C9CD3F2190:LeaderElection2: begin an election at term 2 for 0: [f3e3a3a3-846b-4347-a380-93d47fe145fc:192.168.5.184:33964], old=null
2019-09-16 15:58:58,976 [f3e3a3a3-846b-4347-a380-93d47fe145fc@group-58C9CD3F2190:LeaderElection2] INFO  impl.RoleInfo (RoleInfo.java:shutdownLeaderElection(134)) - f3e3a3a3-846b-4347-a380-93d47fe145fc: shutdown LeaderElection
2019-09-16 15:58:58,976 [f3e3a3a3-846b-4347-a380-93d47fe145fc@group-58C9CD3F2190:LeaderElection2] INFO  impl.RaftServerImpl (RaftServerImpl.java:setRole(174)) - f3e3a3a3-846b-4347-a380-93d47fe145fc@group-58C9CD3F2190: changes role from CANDIDATE to LEADER at term 2 for changeToLeader
2019-09-16 15:58:58,976 [f3e3a3a3-846b-4347-a380-93d47fe145fc@group-58C9CD3F2190:LeaderElection2] INFO  impl.RaftServerImpl (ServerState.java:setLeader(253)) - f3e3a3a3-846b-4347-a380-93d47fe145fc@group-58C9CD3F2190: change Leader from null to f3e3a3a3-846b-4347-a380-93d47fe145fc at term 2 for becomeLeader, leader elected after 7050ms
2019-09-16 15:58:58,976 [f3e3a3a3-846b-4347-a380-93d47fe145fc@group-58C9CD3F2190:LeaderElection2] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.staging.catchup.gap = 1000 (default)
2019-09-16 15:58:58,977 [f3e3a3a3-846b-4347-a380-93d47fe145fc@group-58C9CD3F2190:LeaderElection2] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.rpc.sleep.time = 25ms (default)
2019-09-16 15:58:58,977 [f3e3a3a3-846b-4347-a380-93d47fe145fc@group-58C9CD3F2190:LeaderElection2] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.write.element-limit = 4096 (default)
2019-09-16 15:58:58,977 [f3e3a3a3-846b-4347-a380-93d47fe145fc@group-58C9CD3F2190:LeaderElection2] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.watch.timeout = 10s (default)
2019-09-16 15:58:58,977 [f3e3a3a3-846b-4347-a380-93d47fe145fc@group-58C9CD3F2190:LeaderElection2] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.watch.timeout.denomination = 1s (default)
2019-09-16 15:58:58,977 [f3e3a3a3-846b-4347-a380-93d47fe145fc@group-58C9CD3F2190:LeaderElection2] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.watch.element-limit = 65536 (default)
2019-09-16 15:58:58,977 [grpc-default-executor-1] INFO  client.GrpcClientProtocolClient (GrpcClientProtocolClient.java:onNext(264)) - client-57FD7352FCDA->f3e3a3a3-846b-4347-a380-93d47fe145fc: receive RaftClientReply:client-57FD7352FCDA->f3e3a3a3-846b-4347-a380-93d47fe145fc@group-B0234D410E7F, cid=6, FAILED org.apache.ratis.protocol.NotLeaderException: Server f3e3a3a3-846b-4347-a380-93d47fe145fc@group-B0234D410E7F is not the leader, logIndex=0, commits[f3e3a3a3-846b-4347-a380-93d47fe145fc:c-1]
2019-09-16 15:58:58,977 [f3e3a3a3-846b-4347-a380-93d47fe145fc@group-58C9CD3F2190:LeaderElection2] INFO  impl.RoleInfo (RoleInfo.java:updateAndGet(143)) - f3e3a3a3-846b-4347-a380-93d47fe145fc: start LeaderState
2019-09-16 15:58:58,979 [f3e3a3a3-846b-4347-a380-93d47fe145fc@group-58C9CD3F2190:LeaderElection2] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:rollLogSegment(385)) - f3e3a3a3-846b-4347-a380-93d47fe145fc@group-58C9CD3F2190-SegmentedRaftLogWorker: Rolling segment log-0_7 to index:7
2019-09-16 15:58:58,982 [f3e3a3a3-846b-4347-a380-93d47fe145fc@group-58C9CD3F2190:LeaderElection2] INFO  impl.RaftServerImpl (ServerState.java:setRaftConf(354)) - f3e3a3a3-846b-4347-a380-93d47fe145fc@group-58C9CD3F2190: set configuration 8: [f3e3a3a3-846b-4347-a380-93d47fe145fc:192.168.5.184:33964], old=null at 8
2019-09-16 15:58:58,983 [f3e3a3a3-846b-4347-a380-93d47fe145fc@group-58C9CD3F2190-SegmentedRaftLogWorker] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:execute(526)) - f3e3a3a3-846b-4347-a380-93d47fe145fc@group-58C9CD3F2190-SegmentedRaftLogWorker: Rolled log segment from /workdir/hadoop-ozone/integration-test/target/test-dir/MiniOzoneClusterImpl-e7174f9f-1f65-4936-ace6-f3a8e5d3c0c8/datanode-0/data/ratis/809e1103-cd65-45ce-ae57-58c9cd3f2190/current/log_inprogress_0 to /workdir/hadoop-ozone/integration-test/target/test-dir/MiniOzoneClusterImpl-e7174f9f-1f65-4936-ace6-f3a8e5d3c0c8/datanode-0/data/ratis/809e1103-cd65-45ce-ae57-58c9cd3f2190/current/log_0-7
2019-09-16 15:58:59,023 [f3e3a3a3-846b-4347-a380-93d47fe145fc@group-58C9CD3F2190-SegmentedRaftLogWorker] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:execute(569)) - f3e3a3a3-846b-4347-a380-93d47fe145fc@group-58C9CD3F2190-SegmentedRaftLogWorker: created new log segment /workdir/hadoop-ozone/integration-test/target/test-dir/MiniOzoneClusterImpl-e7174f9f-1f65-4936-ace6-f3a8e5d3c0c8/datanode-0/data/ratis/809e1103-cd65-45ce-ae57-58c9cd3f2190/current/log_inprogress_8
2019-09-16 15:58:59,035 [f3e3a3a3-846b-4347-a380-93d47fe145fc@group-58C9CD3F2190-StateMachineUpdater] INFO  ratis.ContainerStateMachine (ContainerStateMachine.java:takeSnapshot(289)) - group-58C9CD3F2190: Taking a snapshot at:(t:1, i:6) file /workdir/hadoop-ozone/integration-test/target/test-dir/MiniOzoneClusterImpl-e7174f9f-1f65-4936-ace6-f3a8e5d3c0c8/datanode-0/data/ratis/809e1103-cd65-45ce-ae57-58c9cd3f2190/sm/snapshot.1_6
2019-09-16 15:58:59,049 [f3e3a3a3-846b-4347-a380-93d47fe145fc@group-58C9CD3F2190-StateMachineUpdater] INFO  ratis.ContainerStateMachine (ContainerStateMachine.java:takeSnapshot(300)) - group-58C9CD3F2190: Finished taking a snapshot at:(t:1, i:6) file:/workdir/hadoop-ozone/integration-test/target/test-dir/MiniOzoneClusterImpl-e7174f9f-1f65-4936-ace6-f3a8e5d3c0c8/datanode-0/data/ratis/809e1103-cd65-45ce-ae57-58c9cd3f2190/sm/snapshot.1_6 time:15
2019-09-16 15:58:59,050 [f3e3a3a3-846b-4347-a380-93d47fe145fc@group-58C9CD3F2190-StateMachineUpdater] INFO  impl.StateMachineUpdater (StateMachineUpdater.java:takeSnapshot(258)) - f3e3a3a3-846b-4347-a380-93d47fe145fc@group-58C9CD3F2190-StateMachineUpdater: Took a snapshot at index 6
2019-09-16 15:58:59,050 [f3e3a3a3-846b-4347-a380-93d47fe145fc@group-58C9CD3F2190-StateMachineUpdater] INFO  impl.StateMachineUpdater (StateMachineUpdater.java:lambda$new$0(83)) - f3e3a3a3-846b-4347-a380-93d47fe145fc@group-58C9CD3F2190-StateMachineUpdater: snapshotIndex: updateIncreasingly 6 -> 6
2019-09-16 15:58:59,051 [f3e3a3a3-846b-4347-a380-93d47fe145fc@group-58C9CD3F2190-StateMachineUpdater] INFO  ratis.ContainerStateMachine (ContainerStateMachine.java:takeSnapshot(289)) - group-58C9CD3F2190: Taking a snapshot at:(t:1, i:6) file /workdir/hadoop-ozone/integration-test/target/test-dir/MiniOzoneClusterImpl-e7174f9f-1f65-4936-ace6-f3a8e5d3c0c8/datanode-0/data/ratis/809e1103-cd65-45ce-ae57-58c9cd3f2190/sm/snapshot.1_6
2019-09-16 15:58:59,066 [f3e3a3a3-846b-4347-a380-93d47fe145fc@group-58C9CD3F2190-StateMachineUpdater] INFO  ratis.ContainerStateMachine (ContainerStateMachine.java:takeSnapshot(300)) - group-58C9CD3F2190: Finished taking a snapshot at:(t:1, i:6) file:/workdir/hadoop-ozone/integration-test/target/test-dir/MiniOzoneClusterImpl-e7174f9f-1f65-4936-ace6-f3a8e5d3c0c8/datanode-0/data/ratis/809e1103-cd65-45ce-ae57-58c9cd3f2190/sm/snapshot.1_6 time:15
2019-09-16 15:58:59,066 [f3e3a3a3-846b-4347-a380-93d47fe145fc@group-58C9CD3F2190-StateMachineUpdater] INFO  impl.StateMachineUpdater (StateMachineUpdater.java:takeSnapshot(258)) - f3e3a3a3-846b-4347-a380-93d47fe145fc@group-58C9CD3F2190-StateMachineUpdater: Took a snapshot at index 6
2019-09-16 15:58:59,066 [f3e3a3a3-846b-4347-a380-93d47fe145fc@group-58C9CD3F2190-StateMachineUpdater] INFO  impl.StateMachineUpdater (StateMachineUpdater.java:lambda$new$0(83)) - f3e3a3a3-846b-4347-a380-93d47fe145fc@group-58C9CD3F2190-StateMachineUpdater: snapshotIndex: updateIncreasingly 6 -> 6
2019-09-16 15:58:59,519 [grpc-default-executor-1] INFO  impl.RaftServerProxy (RaftServerProxy.java:remove(95)) - f3e3a3a3-846b-4347-a380-93d47fe145fc: remove    LEADER f3e3a3a3-846b-4347-a380-93d47fe145fc@group-58C9CD3F2190:t2, leader=f3e3a3a3-846b-4347-a380-93d47fe145fc, voted=f3e3a3a3-846b-4347-a380-93d47fe145fc, raftlog=f3e3a3a3-846b-4347-a380-93d47fe145fc@group-58C9CD3F2190-SegmentedRaftLog:OPENED:c9,f9,i9, conf=8: [f3e3a3a3-846b-4347-a380-93d47fe145fc:192.168.5.184:33964], old=null RUNNING
2019-09-16 15:58:59,520 [grpc-default-executor-1] INFO  impl.RaftServerImpl (RaftServerImpl.java:lambda$shutdown$3(251)) - f3e3a3a3-846b-4347-a380-93d47fe145fc@group-58C9CD3F2190: shutdown
2019-09-16 15:58:59,521 [grpc-default-executor-1] INFO  util.JmxRegister (JmxRegister.java:unregister(73)) - Successfully un-registered JMX Bean with object name Ratis:service=RaftServer,group=group-58C9CD3F2190,id=f3e3a3a3-846b-4347-a380-93d47fe145fc
2019-09-16 15:58:59,521 [grpc-default-executor-1] INFO  impl.RoleInfo (RoleInfo.java:shutdownLeaderState(104)) - f3e3a3a3-846b-4347-a380-93d47fe145fc: shutdown LeaderState
2019-09-16 15:58:59,521 [grpc-default-executor-1] INFO  impl.PendingRequests (PendingRequests.java:sendNotLeaderResponses(202)) - f3e3a3a3-846b-4347-a380-93d47fe145fc-PendingRequests: sendNotLeaderResponses
2019-09-16 15:58:59,524 [grpc-default-executor-1] INFO  impl.StateMachineUpdater (StateMachineUpdater.java:stopAndJoin(125)) - f3e3a3a3-846b-4347-a380-93d47fe145fc@group-58C9CD3F2190-StateMachineUpdater: set stopIndex = 9
2019-09-16 15:58:59,524 [f3e3a3a3-846b-4347-a380-93d47fe145fc@group-58C9CD3F2190-StateMachineUpdater] INFO  ratis.ContainerStateMachine (ContainerStateMachine.java:takeSnapshot(289)) - group-58C9CD3F2190: Taking a snapshot at:(t:1, i:6) file /workdir/hadoop-ozone/integration-test/target/test-dir/MiniOzoneClusterImpl-e7174f9f-1f65-4936-ace6-f3a8e5d3c0c8/datanode-0/data/ratis/809e1103-cd65-45ce-ae57-58c9cd3f2190/sm/snapshot.1_6
2019-09-16 15:58:59,588 [f3e3a3a3-846b-4347-a380-93d47fe145fc@group-58C9CD3F2190-StateMachineUpdater] INFO  ratis.ContainerStateMachine (ContainerStateMachine.java:takeSnapshot(300)) - group-58C9CD3F2190: Finished taking a snapshot at:(t:1, i:6) file:/workdir/hadoop-ozone/integration-test/target/test-dir/MiniOzoneClusterImpl-e7174f9f-1f65-4936-ace6-f3a8e5d3c0c8/datanode-0/data/ratis/809e1103-cd65-45ce-ae57-58c9cd3f2190/sm/snapshot.1_6 time:65
2019-09-16 15:58:59,588 [f3e3a3a3-846b-4347-a380-93d47fe145fc@group-58C9CD3F2190-StateMachineUpdater] INFO  impl.StateMachineUpdater (StateMachineUpdater.java:takeSnapshot(258)) - f3e3a3a3-846b-4347-a380-93d47fe145fc@group-58C9CD3F2190-StateMachineUpdater: Took a snapshot at index 6
2019-09-16 15:58:59,588 [f3e3a3a3-846b-4347-a380-93d47fe145fc@group-58C9CD3F2190-StateMachineUpdater] INFO  impl.StateMachineUpdater (StateMachineUpdater.java:lambda$new$0(83)) - f3e3a3a3-846b-4347-a380-93d47fe145fc@group-58C9CD3F2190-StateMachineUpdater: snapshotIndex: updateIncreasingly 6 -> 6
2019-09-16 15:58:59,589 [f3e3a3a3-846b-4347-a380-93d47fe145fc@group-58C9CD3F2190-StateMachineUpdater] INFO  ratis.ContainerStateMachine (ContainerStateMachine.java:takeSnapshot(289)) - group-58C9CD3F2190: Taking a snapshot at:(t:1, i:6) file /workdir/hadoop-ozone/integration-test/target/test-dir/MiniOzoneClusterImpl-e7174f9f-1f65-4936-ace6-f3a8e5d3c0c8/datanode-0/data/ratis/809e1103-cd65-45ce-ae57-58c9cd3f2190/sm/snapshot.1_6
2019-09-16 15:58:59,746 [f3e3a3a3-846b-4347-a380-93d47fe145fc@group-58C9CD3F2190-StateMachineUpdater] INFO  ratis.ContainerStateMachine (ContainerStateMachine.java:takeSnapshot(300)) - group-58C9CD3F2190: Finished taking a snapshot at:(t:1, i:6) file:/workdir/hadoop-ozone/integration-test/target/test-dir/MiniOzoneClusterImpl-e7174f9f-1f65-4936-ace6-f3a8e5d3c0c8/datanode-0/data/ratis/809e1103-cd65-45ce-ae57-58c9cd3f2190/sm/snapshot.1_6 time:158
2019-09-16 15:58:59,747 [f3e3a3a3-846b-4347-a380-93d47fe145fc@group-58C9CD3F2190-StateMachineUpdater] INFO  impl.StateMachineUpdater (StateMachineUpdater.java:takeSnapshot(258)) - f3e3a3a3-846b-4347-a380-93d47fe145fc@group-58C9CD3F2190-StateMachineUpdater: Took a snapshot at index 6
2019-09-16 15:58:59,747 [f3e3a3a3-846b-4347-a380-93d47fe145fc@group-58C9CD3F2190-StateMachineUpdater] INFO  impl.StateMachineUpdater (StateMachineUpdater.java:lambda$new$0(83)) - f3e3a3a3-846b-4347-a380-93d47fe145fc@group-58C9CD3F2190-StateMachineUpdater: snapshotIndex: updateIncreasingly 6 -> 6
2019-09-16 15:58:59,747 [grpc-default-executor-1] INFO  impl.RaftServerImpl (ServerState.java:close(385)) - f3e3a3a3-846b-4347-a380-93d47fe145fc@group-58C9CD3F2190: closes. applyIndex: 9
2019-09-16 15:58:59,748 [f3e3a3a3-846b-4347-a380-93d47fe145fc@group-58C9CD3F2190-SegmentedRaftLogWorker] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:run(313)) - f3e3a3a3-846b-4347-a380-93d47fe145fc@group-58C9CD3F2190-SegmentedRaftLogWorker was interrupted, exiting. There are 0 tasks remaining in the queue.
2019-09-16 15:58:59,750 [grpc-default-executor-1] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:close(228)) - f3e3a3a3-846b-4347-a380-93d47fe145fc@group-58C9CD3F2190-SegmentedRaftLogWorker close()
2019-09-16 15:58:59,811 [RatisPipelineUtilsThread] WARN  pipeline.RatisPipelineUtils (RatisPipelineUtils.java:destroyPipeline(66)) - Pipeline destroy failed for pipeline=PipelineID=809e1103-cd65-45ce-ae57-58c9cd3f2190 dn=f3e3a3a3-846b-4347-a380-93d47fe145fc{ip: 192.168.5.184, host: pr-hdds-2022-qxstf-1422721469, networkLocation: /default-rack, certSerialId: null}
2019-09-16 15:58:59,813 [RatisPipelineUtilsThread] INFO  pipeline.PipelineStateManager (PipelineStateManager.java:removePipeline(108)) - Pipeline Pipeline[ Id: 809e1103-cd65-45ce-ae57-58c9cd3f2190, Nodes: f3e3a3a3-846b-4347-a380-93d47fe145fc{ip: 192.168.5.184, host: pr-hdds-2022-qxstf-1422721469, networkLocation: /default-rack, certSerialId: null}, Type:RATIS, Factor:ONE, State:CLOSED] removed from db
2019-09-16 15:59:00,994 [grpc-default-executor-0] INFO  client.GrpcClientProtocolClient (GrpcClientProtocolClient.java:onNext(264)) - client-57FD7352FCDA->f3e3a3a3-846b-4347-a380-93d47fe145fc: receive RaftClientReply:client-57FD7352FCDA->f3e3a3a3-846b-4347-a380-93d47fe145fc@group-B0234D410E7F, cid=6, FAILED org.apache.ratis.protocol.NotLeaderException: Server f3e3a3a3-846b-4347-a380-93d47fe145fc@group-B0234D410E7F is not the leader, logIndex=0, commits[f3e3a3a3-846b-4347-a380-93d47fe145fc:c-1]
2019-09-16 15:59:03,010 [grpc-default-executor-0] INFO  client.GrpcClientProtocolClient (GrpcClientProtocolClient.java:onNext(264)) - client-57FD7352FCDA->f3e3a3a3-846b-4347-a380-93d47fe145fc: receive RaftClientReply:client-57FD7352FCDA->f3e3a3a3-846b-4347-a380-93d47fe145fc@group-B0234D410E7F, cid=6, FAILED org.apache.ratis.protocol.NotLeaderException: Server f3e3a3a3-846b-4347-a380-93d47fe145fc@group-B0234D410E7F is not the leader, logIndex=0, commits[f3e3a3a3-846b-4347-a380-93d47fe145fc:c-1]
2019-09-16 15:59:03,227 [Thread-193] INFO  impl.FollowerState (FollowerState.java:run(106)) - f3e3a3a3-846b-4347-a380-93d47fe145fc:group-B0234D410E7F changes to CANDIDATE, lastRpcTime:5107, electionTimeout:5107ms
2019-09-16 15:59:03,227 [Thread-193] INFO  impl.RoleInfo (RoleInfo.java:shutdownFollowerState(121)) - f3e3a3a3-846b-4347-a380-93d47fe145fc: shutdown FollowerState
2019-09-16 15:59:03,227 [Thread-193] INFO  impl.RaftServerImpl (RaftServerImpl.java:setRole(174)) - f3e3a3a3-846b-4347-a380-93d47fe145fc@group-B0234D410E7F: changes role from  FOLLOWER to CANDIDATE at term 0 for changeToCandidate
2019-09-16 15:59:03,227 [Thread-193] INFO  impl.RoleInfo (RoleInfo.java:updateAndGet(143)) - f3e3a3a3-846b-4347-a380-93d47fe145fc: start LeaderElection
2019-09-16 15:59:03,256 [f3e3a3a3-846b-4347-a380-93d47fe145fc@group-B0234D410E7F:LeaderElection3] INFO  impl.LeaderElection (LeaderElection.java:askForVotes(182)) - f3e3a3a3-846b-4347-a380-93d47fe145fc@group-B0234D410E7F:LeaderElection3: begin an election at term 1 for -1: [f3e3a3a3-846b-4347-a380-93d47fe145fc:192.168.5.184:33964], old=null
2019-09-16 15:59:03,256 [f3e3a3a3-846b-4347-a380-93d47fe145fc@group-B0234D410E7F:LeaderElection3] INFO  impl.RoleInfo (RoleInfo.java:shutdownLeaderElection(134)) - f3e3a3a3-846b-4347-a380-93d47fe145fc: shutdown LeaderElection
2019-09-16 15:59:03,256 [f3e3a3a3-846b-4347-a380-93d47fe145fc@group-B0234D410E7F:LeaderElection3] INFO  impl.RaftServerImpl (RaftServerImpl.java:setRole(174)) - f3e3a3a3-846b-4347-a380-93d47fe145fc@group-B0234D410E7F: changes role from CANDIDATE to LEADER at term 1 for changeToLeader
2019-09-16 15:59:03,257 [f3e3a3a3-846b-4347-a380-93d47fe145fc@group-B0234D410E7F:LeaderElection3] INFO  impl.RaftServerImpl (ServerState.java:setLeader(253)) - f3e3a3a3-846b-4347-a380-93d47fe145fc@group-B0234D410E7F: change Leader from null to f3e3a3a3-846b-4347-a380-93d47fe145fc at term 1 for becomeLeader, leader elected after 5168ms
2019-09-16 15:59:03,257 [f3e3a3a3-846b-4347-a380-93d47fe145fc@group-B0234D410E7F:LeaderElection3] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.staging.catchup.gap = 1000 (default)
2019-09-16 15:59:03,257 [f3e3a3a3-846b-4347-a380-93d47fe145fc@group-B0234D410E7F:LeaderElection3] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.rpc.sleep.time = 25ms (default)
2019-09-16 15:59:03,257 [f3e3a3a3-846b-4347-a380-93d47fe145fc@group-B0234D410E7F:LeaderElection3] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.write.element-limit = 4096 (default)
2019-09-16 15:59:03,257 [f3e3a3a3-846b-4347-a380-93d47fe145fc@group-B0234D410E7F:LeaderElection3] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.watch.timeout = 10s (default)
2019-09-16 15:59:03,258 [f3e3a3a3-846b-4347-a380-93d47fe145fc@group-B0234D410E7F:LeaderElection3] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.watch.timeout.denomination = 1s (default)
2019-09-16 15:59:03,258 [f3e3a3a3-846b-4347-a380-93d47fe145fc@group-B0234D410E7F:LeaderElection3] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.watch.element-limit = 65536 (default)
2019-09-16 15:59:03,266 [f3e3a3a3-846b-4347-a380-93d47fe145fc@group-B0234D410E7F:LeaderElection3] INFO  impl.RoleInfo (RoleInfo.java:updateAndGet(143)) - f3e3a3a3-846b-4347-a380-93d47fe145fc: start LeaderState
2019-09-16 15:59:03,267 [f3e3a3a3-846b-4347-a380-93d47fe145fc@group-B0234D410E7F:LeaderElection3] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:startLogSegment(380)) - f3e3a3a3-846b-4347-a380-93d47fe145fc@group-B0234D410E7F-SegmentedRaftLogWorker: Starting segment from index:0
2019-09-16 15:59:03,267 [f3e3a3a3-846b-4347-a380-93d47fe145fc@group-B0234D410E7F:LeaderElection3] INFO  impl.RaftServerImpl (ServerState.java:setRaftConf(354)) - f3e3a3a3-846b-4347-a380-93d47fe145fc@group-B0234D410E7F: set configuration 0: [f3e3a3a3-846b-4347-a380-93d47fe145fc:192.168.5.184:33964], old=null at 0
2019-09-16 15:59:03,321 [f3e3a3a3-846b-4347-a380-93d47fe145fc@group-B0234D410E7F-SegmentedRaftLogWorker] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:execute(569)) - f3e3a3a3-846b-4347-a380-93d47fe145fc@group-B0234D410E7F-SegmentedRaftLogWorker: created new log segment /workdir/hadoop-ozone/integration-test/target/test-dir/MiniOzoneClusterImpl-e7174f9f-1f65-4936-ace6-f3a8e5d3c0c8/datanode-0/data/ratis/9a50cf2b-020d-4bc8-a16f-b0234d410e7f/current/log_inprogress_0
2019-09-16 15:59:05,309 [grpc-default-executor-1] INFO  client.GrpcClientProtocolClient (GrpcClientProtocolClient.java:onNext(264)) - client-57FD7352FCDA->f3e3a3a3-846b-4347-a380-93d47fe145fc: receive RaftClientReply:client-57FD7352FCDA->f3e3a3a3-846b-4347-a380-93d47fe145fc@group-B0234D410E7F, cid=6, SUCCESS, logIndex=1, commits[f3e3a3a3-846b-4347-a380-93d47fe145fc:c1]
2019-09-16 15:59:05,467 [f3e3a3a3-846b-4347-a380-93d47fe145fc@group-B0234D410E7F-StateMachineUpdater] INFO  ratis.ContainerStateMachine (ContainerStateMachine.java:takeSnapshot(289)) - group-B0234D410E7F: Taking a snapshot at:(t:1, i:1) file /workdir/hadoop-ozone/integration-test/target/test-dir/MiniOzoneClusterImpl-e7174f9f-1f65-4936-ace6-f3a8e5d3c0c8/datanode-0/data/ratis/9a50cf2b-020d-4bc8-a16f-b0234d410e7f/sm/snapshot.1_1
2019-09-16 15:59:05,577 [f3e3a3a3-846b-4347-a380-93d47fe145fc@group-B0234D410E7F-StateMachineUpdater] INFO  ratis.ContainerStateMachine (ContainerStateMachine.java:takeSnapshot(300)) - group-B0234D410E7F: Finished taking a snapshot at:(t:1, i:1) file:/workdir/hadoop-ozone/integration-test/target/test-dir/MiniOzoneClusterImpl-e7174f9f-1f65-4936-ace6-f3a8e5d3c0c8/datanode-0/data/ratis/9a50cf2b-020d-4bc8-a16f-b0234d410e7f/sm/snapshot.1_1 time:110
2019-09-16 15:59:05,578 [f3e3a3a3-846b-4347-a380-93d47fe145fc@group-B0234D410E7F-StateMachineUpdater] INFO  impl.StateMachineUpdater (StateMachineUpdater.java:takeSnapshot(258)) - f3e3a3a3-846b-4347-a380-93d47fe145fc@group-B0234D410E7F-StateMachineUpdater: Took a snapshot at index 1
2019-09-16 15:59:05,578 [f3e3a3a3-846b-4347-a380-93d47fe145fc@group-B0234D410E7F-StateMachineUpdater] INFO  impl.StateMachineUpdater (StateMachineUpdater.java:lambda$new$0(83)) - f3e3a3a3-846b-4347-a380-93d47fe145fc@group-B0234D410E7F-StateMachineUpdater: snapshotIndex: updateIncreasingly -1 -> 1
2019-09-16 15:59:05,724 [f3e3a3a3-846b-4347-a380-93d47fe145fc@group-B0234D410E7F-StateMachineUpdater] INFO  ratis.ContainerStateMachine (ContainerStateMachine.java:takeSnapshot(289)) - group-B0234D410E7F: Taking a snapshot at:(t:1, i:1) file /workdir/hadoop-ozone/integration-test/target/test-dir/MiniOzoneClusterImpl-e7174f9f-1f65-4936-ace6-f3a8e5d3c0c8/datanode-0/data/ratis/9a50cf2b-020d-4bc8-a16f-b0234d410e7f/sm/snapshot.1_1
2019-09-16 15:59:05,730 [grpc-default-executor-1] INFO  client.GrpcClientProtocolClient (GrpcClientProtocolClient.java:onNext(264)) - client-57FD7352FCDA->f3e3a3a3-846b-4347-a380-93d47fe145fc: receive RaftClientReply:client-57FD7352FCDA->f3e3a3a3-846b-4347-a380-93d47fe145fc@group-B0234D410E7F, cid=7, SUCCESS, logIndex=3, commits[f3e3a3a3-846b-4347-a380-93d47fe145fc:c4]
2019-09-16 15:59:05,739 [f3e3a3a3-846b-4347-a380-93d47fe145fc@group-B0234D410E7F-StateMachineUpdater] INFO  ratis.ContainerStateMachine (ContainerStateMachine.java:takeSnapshot(300)) - group-B0234D410E7F: Finished taking a snapshot at:(t:1, i:1) file:/workdir/hadoop-ozone/integration-test/target/test-dir/MiniOzoneClusterImpl-e7174f9f-1f65-4936-ace6-f3a8e5d3c0c8/datanode-0/data/ratis/9a50cf2b-020d-4bc8-a16f-b0234d410e7f/sm/snapshot.1_1 time:15
2019-09-16 15:59:05,739 [f3e3a3a3-846b-4347-a380-93d47fe145fc@group-B0234D410E7F-StateMachineUpdater] INFO  impl.StateMachineUpdater (StateMachineUpdater.java:takeSnapshot(258)) - f3e3a3a3-846b-4347-a380-93d47fe145fc@group-B0234D410E7F-StateMachineUpdater: Took a snapshot at index 1
2019-09-16 15:59:05,739 [f3e3a3a3-846b-4347-a380-93d47fe145fc@group-B0234D410E7F-StateMachineUpdater] INFO  impl.StateMachineUpdater (StateMachineUpdater.java:lambda$new$0(83)) - f3e3a3a3-846b-4347-a380-93d47fe145fc@group-B0234D410E7F-StateMachineUpdater: snapshotIndex: updateIncreasingly 1 -> 1
2019-09-16 15:59:05,740 [f3e3a3a3-846b-4347-a380-93d47fe145fc@group-B0234D410E7F-StateMachineUpdater] INFO  ratis.ContainerStateMachine (ContainerStateMachine.java:takeSnapshot(289)) - group-B0234D410E7F: Taking a snapshot at:(t:1, i:3) file /workdir/hadoop-ozone/integration-test/target/test-dir/MiniOzoneClusterImpl-e7174f9f-1f65-4936-ace6-f3a8e5d3c0c8/datanode-0/data/ratis/9a50cf2b-020d-4bc8-a16f-b0234d410e7f/sm/snapshot.1_3
2019-09-16 15:59:05,764 [f3e3a3a3-846b-4347-a380-93d47fe145fc@group-B0234D410E7F-StateMachineUpdater] INFO  ratis.ContainerStateMachine (ContainerStateMachine.java:takeSnapshot(300)) - group-B0234D410E7F: Finished taking a snapshot at:(t:1, i:3) file:/workdir/hadoop-ozone/integration-test/target/test-dir/MiniOzoneClusterImpl-e7174f9f-1f65-4936-ace6-f3a8e5d3c0c8/datanode-0/data/ratis/9a50cf2b-020d-4bc8-a16f-b0234d410e7f/sm/snapshot.1_3 time:24
2019-09-16 15:59:05,764 [f3e3a3a3-846b-4347-a380-93d47fe145fc@group-B0234D410E7F-StateMachineUpdater] INFO  impl.StateMachineUpdater (StateMachineUpdater.java:takeSnapshot(258)) - f3e3a3a3-846b-4347-a380-93d47fe145fc@group-B0234D410E7F-StateMachineUpdater: Took a snapshot at index 3
2019-09-16 15:59:05,764 [f3e3a3a3-846b-4347-a380-93d47fe145fc@group-B0234D410E7F-StateMachineUpdater] INFO  impl.StateMachineUpdater (StateMachineUpdater.java:lambda$new$0(83)) - f3e3a3a3-846b-4347-a380-93d47fe145fc@group-B0234D410E7F-StateMachineUpdater: snapshotIndex: updateIncreasingly 1 -> 3
2019-09-16 15:59:05,878 [Datanode State Machine Thread - 0] INFO  statemachine.DatanodeStateMachine (DatanodeStateMachine.java:lambda$startDaemon$0(350)) - Ozone container server started.
2019-09-16 15:59:08,740 [EventQueue-StaleNodeForStaleNodeHandler] INFO  node.StaleNodeHandler (StaleNodeHandler.java:onMessage(58)) - Datanode f3e3a3a3-846b-4347-a380-93d47fe145fc{ip: 192.168.5.184, host: pr-hdds-2022-qxstf-1422721469, networkLocation: /default-rack, certSerialId: null} moved to stale state. Finalizing its pipelines [PipelineID=9a50cf2b-020d-4bc8-a16f-b0234d410e7f]
2019-09-16 15:59:08,741 [EventQueue-StaleNodeForStaleNodeHandler] INFO  pipeline.SCMPipelineManager (SCMPipelineManager.java:finalizeAndDestroyPipeline(311)) - destroying pipeline:Pipeline[ Id: 9a50cf2b-020d-4bc8-a16f-b0234d410e7f, Nodes: f3e3a3a3-846b-4347-a380-93d47fe145fc{ip: 192.168.5.184, host: pr-hdds-2022-qxstf-1422721469, networkLocation: /default-rack, certSerialId: null}, Type:RATIS, Factor:ONE, State:OPEN]
2019-09-16 15:59:08,742 [EventQueue-StaleNodeForStaleNodeHandler] INFO  pipeline.PipelineStateManager (PipelineStateManager.java:finalizePipeline(123)) - Pipeline Pipeline[ Id: 9a50cf2b-020d-4bc8-a16f-b0234d410e7f, Nodes: f3e3a3a3-846b-4347-a380-93d47fe145fc{ip: 192.168.5.184, host: pr-hdds-2022-qxstf-1422721469, networkLocation: /default-rack, certSerialId: null}, Type:RATIS, Factor:ONE, State:CLOSED] moved to CLOSED state
2019-09-16 15:59:08,742 [EventQueue-CloseContainerForCloseContainerEventHandler] INFO  container.CloseContainerEventHandler (CloseContainerEventHandler.java:onMessage(61)) - Close container Event triggered for container : #2
2019-09-16 15:59:10,746 [main] INFO  ozoneimpl.OzoneContainer (OzoneContainer.java:stop(231)) - Attempting to stop container services.
2019-09-16 15:59:10,749 [main] INFO  impl.RaftServerProxy (RaftServerProxy.java:lambda$close$4(314)) - f3e3a3a3-846b-4347-a380-93d47fe145fc: close
2019-09-16 15:59:10,750 [main] INFO  impl.RaftServerImpl (RaftServerImpl.java:lambda$shutdown$3(251)) - f3e3a3a3-846b-4347-a380-93d47fe145fc@group-B0234D410E7F: shutdown
2019-09-16 15:59:10,750 [main] INFO  util.JmxRegister (JmxRegister.java:unregister(73)) - Successfully un-registered JMX Bean with object name Ratis:service=RaftServer,group=group-B0234D410E7F,id=f3e3a3a3-846b-4347-a380-93d47fe145fc
2019-09-16 15:59:10,751 [main] INFO  impl.RoleInfo (RoleInfo.java:shutdownLeaderState(104)) - f3e3a3a3-846b-4347-a380-93d47fe145fc: shutdown LeaderState
2019-09-16 15:59:10,752 [main] INFO  impl.PendingRequests (PendingRequests.java:sendNotLeaderResponses(202)) - f3e3a3a3-846b-4347-a380-93d47fe145fc-PendingRequests: sendNotLeaderResponses
2019-09-16 15:59:10,757 [main] INFO  impl.StateMachineUpdater (StateMachineUpdater.java:stopAndJoin(125)) - f3e3a3a3-846b-4347-a380-93d47fe145fc@group-B0234D410E7F-StateMachineUpdater: set stopIndex = 4
2019-09-16 15:59:10,758 [f3e3a3a3-846b-4347-a380-93d47fe145fc@group-B0234D410E7F-StateMachineUpdater] INFO  ratis.ContainerStateMachine (ContainerStateMachine.java:takeSnapshot(289)) - group-B0234D410E7F: Taking a snapshot at:(t:1, i:3) file /workdir/hadoop-ozone/integration-test/target/test-dir/MiniOzoneClusterImpl-e7174f9f-1f65-4936-ace6-f3a8e5d3c0c8/datanode-0/data/ratis/9a50cf2b-020d-4bc8-a16f-b0234d410e7f/sm/snapshot.1_3
2019-09-16 15:59:10,814 [f3e3a3a3-846b-4347-a380-93d47fe145fc@group-B0234D410E7F-StateMachineUpdater] INFO  ratis.ContainerStateMachine (ContainerStateMachine.java:takeSnapshot(300)) - group-B0234D410E7F: Finished taking a snapshot at:(t:1, i:3) file:/workdir/hadoop-ozone/integration-test/target/test-dir/MiniOzoneClusterImpl-e7174f9f-1f65-4936-ace6-f3a8e5d3c0c8/datanode-0/data/ratis/9a50cf2b-020d-4bc8-a16f-b0234d410e7f/sm/snapshot.1_3 time:57
2019-09-16 15:59:10,815 [f3e3a3a3-846b-4347-a380-93d47fe145fc@group-B0234D410E7F-StateMachineUpdater] INFO  impl.StateMachineUpdater (StateMachineUpdater.java:takeSnapshot(258)) - f3e3a3a3-846b-4347-a380-93d47fe145fc@group-B0234D410E7F-StateMachineUpdater: Took a snapshot at index 3
2019-09-16 15:59:10,815 [f3e3a3a3-846b-4347-a380-93d47fe145fc@group-B0234D410E7F-StateMachineUpdater] INFO  impl.StateMachineUpdater (StateMachineUpdater.java:lambda$new$0(83)) - f3e3a3a3-846b-4347-a380-93d47fe145fc@group-B0234D410E7F-StateMachineUpdater: snapshotIndex: updateIncreasingly 3 -> 3
2019-09-16 15:59:10,815 [f3e3a3a3-846b-4347-a380-93d47fe145fc@group-B0234D410E7F-StateMachineUpdater] INFO  ratis.ContainerStateMachine (ContainerStateMachine.java:takeSnapshot(289)) - group-B0234D410E7F: Taking a snapshot at:(t:1, i:3) file /workdir/hadoop-ozone/integration-test/target/test-dir/MiniOzoneClusterImpl-e7174f9f-1f65-4936-ace6-f3a8e5d3c0c8/datanode-0/data/ratis/9a50cf2b-020d-4bc8-a16f-b0234d410e7f/sm/snapshot.1_3
2019-09-16 15:59:10,880 [f3e3a3a3-846b-4347-a380-93d47fe145fc@group-B0234D410E7F-StateMachineUpdater] INFO  ratis.ContainerStateMachine (ContainerStateMachine.java:takeSnapshot(300)) - group-B0234D410E7F: Finished taking a snapshot at:(t:1, i:3) file:/workdir/hadoop-ozone/integration-test/target/test-dir/MiniOzoneClusterImpl-e7174f9f-1f65-4936-ace6-f3a8e5d3c0c8/datanode-0/data/ratis/9a50cf2b-020d-4bc8-a16f-b0234d410e7f/sm/snapshot.1_3 time:64
2019-09-16 15:59:10,880 [f3e3a3a3-846b-4347-a380-93d47fe145fc@group-B0234D410E7F-StateMachineUpdater] INFO  impl.StateMachineUpdater (StateMachineUpdater.java:takeSnapshot(258)) - f3e3a3a3-846b-4347-a380-93d47fe145fc@group-B0234D410E7F-StateMachineUpdater: Took a snapshot at index 3
2019-09-16 15:59:10,880 [f3e3a3a3-846b-4347-a380-93d47fe145fc@group-B0234D410E7F-StateMachineUpdater] INFO  impl.StateMachineUpdater (StateMachineUpdater.java:lambda$new$0(83)) - f3e3a3a3-846b-4347-a380-93d47fe145fc@group-B0234D410E7F-StateMachineUpdater: snapshotIndex: updateIncreasingly 3 -> 3
2019-09-16 15:59:10,881 [main] INFO  impl.RaftServerImpl (ServerState.java:close(385)) - f3e3a3a3-846b-4347-a380-93d47fe145fc@group-B0234D410E7F: closes. applyIndex: 4
2019-09-16 15:59:10,882 [f3e3a3a3-846b-4347-a380-93d47fe145fc@group-B0234D410E7F-SegmentedRaftLogWorker] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:run(313)) - f3e3a3a3-846b-4347-a380-93d47fe145fc@group-B0234D410E7F-SegmentedRaftLogWorker was interrupted, exiting. There are 0 tasks remaining in the queue.
2019-09-16 15:59:10,883 [main] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:close(228)) - f3e3a3a3-846b-4347-a380-93d47fe145fc@group-B0234D410E7F-SegmentedRaftLogWorker close()
2019-09-16 15:59:10,885 [main] INFO  server.GrpcService (GrpcService.java:closeImpl(164)) - f3e3a3a3-846b-4347-a380-93d47fe145fc: shutdown server with port 33964 now
2019-09-16 15:59:10,886 [main] INFO  server.GrpcService (GrpcService.java:closeImpl(172)) - f3e3a3a3-846b-4347-a380-93d47fe145fc: shutdown server with port 33964 successfully
2019-09-16 15:59:10,888 [refreshUsed-/workdir/hadoop-ozone/integration-test/target/test-dir/MiniOzoneClusterImpl-e7174f9f-1f65-4936-ace6-f3a8e5d3c0c8/datanode-0/data/containers] WARN  fs.CachingGetSpaceUsed (CachingGetSpaceUsed.java:run(183)) - Thread Interrupted waiting to refresh disk information: sleep interrupted
2019-09-16 15:59:10,909 [main] INFO  utils.BackgroundService (BackgroundService.java:shutdown(148)) - Shutting down service BlockDeletingService
2019-09-16 15:59:10,911 [main] INFO  statemachine.DatanodeStateMachine (DatanodeStateMachine.java:stopDaemon(395)) - Ozone container server stopped.
2019-09-16 15:59:10,913 [main] INFO  handler.ContextHandler (ContextHandler.java:doStop(910)) - Stopped o.e.j.w.WebAppContext@6aa3bfc{/,null,UNAVAILABLE}{/hddsDatanode}
2019-09-16 15:59:10,914 [main] INFO  server.AbstractConnector (AbstractConnector.java:doStop(318)) - Stopped ServerConnector@6e4599c0{HTTP/1.1,[http/1.1]}{0.0.0.0:43474}
2019-09-16 15:59:10,914 [main] INFO  handler.ContextHandler (ContextHandler.java:doStop(910)) - Stopped o.e.j.s.ServletContextHandler@36aa52d2{/static,jar:file:/home/user/.m2/repository/org/apache/hadoop/hadoop-hdds-container-service/0.5.0-SNAPSHOT/hadoop-hdds-container-service-0.5.0-SNAPSHOT.jar!/webapps/static,UNAVAILABLE}
2019-09-16 15:59:10,914 [main] INFO  handler.ContextHandler (ContextHandler.java:doStop(910)) - Stopped o.e.j.s.ServletContextHandler@47b11ec7{/logs,file:///workdir/hadoop-ozone/integration-test/target/log,UNAVAILABLE}
2019-09-16 15:59:10,916 [main] INFO  ozone.MiniOzoneClusterImpl (MiniOzoneClusterImpl.java:lambda$waitForClusterToBeReady$0(145)) - Cluster is ready. Got 0 of 0 DN Heartbeats.
2019-09-16 15:59:10,918 [main] INFO  impl.MetricsSystemImpl (MetricsSystemImpl.java:init(158)) - HddsDatanode metrics system started (again)
2019-09-16 15:59:10,923 [main] INFO  ozone.HddsDatanodeService (HddsDatanodeService.java:start(184)) - HddsDatanodeService host:pr-hdds-2022-qxstf-1422721469 ip:192.168.5.184
2019-09-16 15:59:10,927 [main] INFO  volume.VolumeUsage (VolumeUsage.java:loadScmUsed(144)) - Cached ScmUsed found for /workdir/hadoop-ozone/integration-test/target/test-dir/MiniOzoneClusterImpl-e7174f9f-1f65-4936-ace6-f3a8e5d3c0c8/datanode-0/data/containers : 4096 
2019-09-16 15:59:10,927 [main] INFO  volume.HddsVolume (HddsVolume.java:<init>(176)) - Creating Volume: /workdir/hadoop-ozone/integration-test/target/test-dir/MiniOzoneClusterImpl-e7174f9f-1f65-4936-ace6-f3a8e5d3c0c8/datanode-0/data/containers/hdds of  storage type : DISK and capacity : 1482555576320
2019-09-16 15:59:10,927 [main] INFO  volume.VolumeSet (VolumeSet.java:initializeVolumeSet(170)) - Added Volume : /workdir/hadoop-ozone/integration-test/target/test-dir/MiniOzoneClusterImpl-e7174f9f-1f65-4936-ace6-f3a8e5d3c0c8/datanode-0/data/containers/hdds to VolumeSet
2019-09-16 15:59:10,928 [main] INFO  volume.ThrottledAsyncChecker (ThrottledAsyncChecker.java:schedule(139)) - Scheduling a check for org.apache.hadoop.ozone.container.common.volume.HddsVolume@4a901445
2019-09-16 15:59:10,928 [main] INFO  volume.HddsVolumeChecker (HddsVolumeChecker.java:checkAllVolumes(202)) - Scheduled health check for volume org.apache.hadoop.ozone.container.common.volume.HddsVolume@4a901445
2019-09-16 15:59:10,974 [main] INFO  impl.RaftServerProxy (ConfUtils.java:logGet(43)) - raft.rpc.type = GRPC (default)
2019-09-16 15:59:10,974 [main] INFO  grpc.GrpcFactory (GrpcFactory.java:checkPooledByteBufAllocatorUseCacheForAllThreads(45)) - PERFORMANCE WARNING: useCacheForAllThreads is true that may cause Netty to create a lot garbage objects and, as a result, trigger GC.
	It is recommended to disable useCacheForAllThreads by setting -Dorg.apache.ratis.thirdparty.io.netty.allocator.useCacheForAllThreads=false in command line.
2019-09-16 15:59:10,975 [main] INFO  grpc.GrpcConfigKeys$Server (ConfUtils.java:logGet(43)) - raft.grpc.server.port = 33964 (custom)
2019-09-16 15:59:10,975 [main] INFO  server.GrpcService (ConfUtils.java:logGet(43)) - raft.grpc.message.size.max = 33570816 (custom)
2019-09-16 15:59:10,975 [main] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.log.appender.buffer.byte-limit = 33554432 (custom)
2019-09-16 15:59:10,976 [main] INFO  server.GrpcService (ConfUtils.java:logGet(43)) - raft.grpc.flow.control.window = 1MB (=1048576) (default)
2019-09-16 15:59:10,976 [main] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.rpc.request.timeout = 3000ms (default)
2019-09-16 15:59:10,977 [main] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.storage.dir = [/workdir/hadoop-ozone/integration-test/target/test-dir/MiniOzoneClusterImpl-e7174f9f-1f65-4936-ace6-f3a8e5d3c0c8/datanode-0/data/ratis] (custom)
2019-09-16 15:59:10,977 [main] INFO  impl.RaftServerProxy (RaftServerProxy.java:lambda$null$0(191)) - f3e3a3a3-846b-4347-a380-93d47fe145fc: found a subdirectory /workdir/hadoop-ozone/integration-test/target/test-dir/MiniOzoneClusterImpl-e7174f9f-1f65-4936-ace6-f3a8e5d3c0c8/datanode-0/data/ratis/9a50cf2b-020d-4bc8-a16f-b0234d410e7f
2019-09-16 15:59:10,978 [main] INFO  impl.RaftServerProxy (RaftServerProxy.java:addNew(89)) - f3e3a3a3-846b-4347-a380-93d47fe145fc: addNew group-B0234D410E7F:[] returns group-B0234D410E7F:java.util.concurrent.CompletableFuture@30c4e352[Not completed]
2019-09-16 15:59:10,982 [main] INFO  hdfs.DFSUtil (DFSUtil.java:httpServerTemplateForNNAndJN(1641)) - Starting Web-server for hddsDatanode at: http://0.0.0.0:43474
2019-09-16 15:59:10,993 [main] INFO  server.AuthenticationFilter (AuthenticationFilter.java:constructSecretProvider(240)) - Unable to initialize FileSignerSecretProvider, falling back to use random secrets.
2019-09-16 15:59:10,994 [pool-51-thread-1] INFO  impl.RaftServerImpl (RaftServerImpl.java:<init>(95)) - f3e3a3a3-846b-4347-a380-93d47fe145fc: new RaftServerImpl for group-B0234D410E7F:[] with ContainerStateMachine:uninitialized
2019-09-16 15:59:10,995 [pool-51-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.rpc.timeout.min = 5s (custom)
2019-09-16 15:59:10,995 [main] WARN  http.HttpRequestLog (HttpRequestLog.java:getRequestLog(97)) - Jetty request log can only be enabled using Log4j
2019-09-16 15:59:10,995 [pool-51-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.rpc.timeout.max = 5200ms (custom)
2019-09-16 15:59:10,996 [pool-51-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.rpcslowness.timeout = 120s (custom)
2019-09-16 15:59:10,996 [pool-51-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.sleep.deviation.threshold = 300 (default)
2019-09-16 15:59:10,996 [pool-51-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.log.appender.install.snapshot.enabled = false (custom)
2019-09-16 15:59:10,996 [pool-51-thread-1] INFO  impl.RaftServerImpl (ServerState.java:<init>(103)) - f3e3a3a3-846b-4347-a380-93d47fe145fc@group-B0234D410E7F: ConfigurationManager, init=-1: [], old=null, confs=<EMPTY_MAP>
2019-09-16 15:59:10,996 [pool-51-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.storage.dir = [/workdir/hadoop-ozone/integration-test/target/test-dir/MiniOzoneClusterImpl-e7174f9f-1f65-4936-ace6-f3a8e5d3c0c8/datanode-0/data/ratis] (custom)
2019-09-16 15:59:10,998 [main] INFO  http.HttpServer2 (HttpServer2.java:addGlobalFilter(975)) - Added global filter 'safety' (class=org.apache.hadoop.http.HttpServer2$QuotingInputFilter)
2019-09-16 15:59:10,999 [main] INFO  http.HttpServer2 (HttpServer2.java:addFilter(948)) - Added filter static_user_filter (class=org.apache.hadoop.http.lib.StaticUserWebFilter$StaticUserFilter) to context hddsDatanode
2019-09-16 15:59:10,999 [main] INFO  http.HttpServer2 (HttpServer2.java:addFilter(958)) - Added filter static_user_filter (class=org.apache.hadoop.http.lib.StaticUserWebFilter$StaticUserFilter) to context logs
2019-09-16 15:59:11,000 [main] INFO  http.HttpServer2 (HttpServer2.java:addFilter(958)) - Added filter static_user_filter (class=org.apache.hadoop.http.lib.StaticUserWebFilter$StaticUserFilter) to context static
2019-09-16 15:59:11,001 [main] INFO  http.HttpServer2 (HttpServer2.java:bindListener(1191)) - Jetty bound to port 43474
2019-09-16 15:59:11,001 [main] INFO  server.Server (Server.java:doStart(351)) - jetty-9.3.24.v20180605, build timestamp: 2018-06-05T17:11:56Z, git hash: 84205aa28f11a4f31f2a3b86d1bba2cc8ab69827
2019-09-16 15:59:11,004 [main] INFO  handler.ContextHandler (ContextHandler.java:doStart(781)) - Started o.e.j.s.ServletContextHandler@6e3ecf5c{/logs,file:///workdir/hadoop-ozone/integration-test/target/log,AVAILABLE}
2019-09-16 15:59:11,004 [main] INFO  handler.ContextHandler (ContextHandler.java:doStart(781)) - Started o.e.j.s.ServletContextHandler@341b13a8{/static,jar:file:/home/user/.m2/repository/org/apache/hadoop/hadoop-hdds-container-service/0.5.0-SNAPSHOT/hadoop-hdds-container-service-0.5.0-SNAPSHOT.jar!/webapps/static,AVAILABLE}
2019-09-16 15:59:11,034 [main] INFO  handler.ContextHandler (ContextHandler.java:doStart(781)) - Started o.e.j.w.WebAppContext@513b52af{/,file:///tmp/jetty-0.0.0.0-43474-hddsDatanode-_-any-2380511942859574338.dir/webapp/,AVAILABLE}{/hddsDatanode}
2019-09-16 15:59:11,035 [main] INFO  server.AbstractConnector (AbstractConnector.java:doStart(278)) - Started ServerConnector@5a8c93{HTTP/1.1,[http/1.1]}{0.0.0.0:43474}
2019-09-16 15:59:11,036 [main] INFO  server.Server (Server.java:doStart(419)) - Started @44338ms
2019-09-16 15:59:11,036 [main] WARN  impl.MetricsSystemImpl (MetricsSystemImpl.java:register(276)) - Sink prometheus already exists!
2019-09-16 15:59:11,037 [main] INFO  server.BaseHttpServer (BaseHttpServer.java:updateConnectorAddress(215)) - HTTP server of HDDSDATANODE is listening at http://0.0.0.0:43474
2019-09-16 15:59:11,037 [main] INFO  ozone.MiniOzoneClusterImpl (MiniOzoneClusterImpl.java:lambda$waitForClusterToBeReady$0(145)) - Waiting for cluster to be ready. Got 0 of 1 DN Heartbeats.
2019-09-16 15:59:11,037 [pool-51-thread-1] INFO  storage.RaftStorageDirectory (RaftStorageDirectory.java:tryLock(328)) - Lock on /workdir/hadoop-ozone/integration-test/target/test-dir/MiniOzoneClusterImpl-e7174f9f-1f65-4936-ace6-f3a8e5d3c0c8/datanode-0/data/ratis/9a50cf2b-020d-4bc8-a16f-b0234d410e7f/in_use.lock acquired by nodename 22961@pr-hdds-2022-qxstf-1422721469
2019-09-16 15:59:11,039 [org.apache.hadoop.util.JvmPauseMonitor$Monitor@49c2b806] INFO  util.JvmPauseMonitor (JvmPauseMonitor.java:run(188)) - Starting JVM pause monitor
2019-09-16 15:59:11,039 [pool-51-thread-1] INFO  ratis.ContainerStateMachine (ContainerStateMachine.java:loadSnapshot(239)) - group-B0234D410E7F: Setting the last applied index to (t:1, i:3)
2019-09-16 15:59:11,040 [pool-51-thread-1] WARN  impl.ContainerSet (ContainerSet.java:lambda$buildMissingContainerSetAndValidate$1(264)) - Marking container 2 unhealthy as reported BCSID 0 is smaller than ratis snapshot recorded value 3
2019-09-16 15:59:11,072 [pool-51-thread-1] INFO  impl.RaftServerImpl (ServerState.java:setRaftConf(354)) - f3e3a3a3-846b-4347-a380-93d47fe145fc@group-B0234D410E7F: set configuration 0: [f3e3a3a3-846b-4347-a380-93d47fe145fc:192.168.5.184:33964], old=null at 0
2019-09-16 15:59:11,073 [pool-51-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.notification.no-leader.timeout = 120s (custom)
2019-09-16 15:59:11,073 [pool-51-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.log.use.memory = false (default)
2019-09-16 15:59:11,073 [pool-51-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.log.purge.gap = 1000000 (custom)
2019-09-16 15:59:11,073 [pool-51-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.log.appender.buffer.byte-limit = 33554432 (custom)
2019-09-16 15:59:11,073 [pool-51-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.log.segment.size.max = 1048576 (custom)
2019-09-16 15:59:11,074 [pool-51-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.log.segment.cache.num.max = 2 (custom)
2019-09-16 15:59:11,074 [pool-51-thread-1] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:<init>(172)) - new f3e3a3a3-846b-4347-a380-93d47fe145fc@group-B0234D410E7F-SegmentedRaftLogWorker for RaftStorage:Storage Directory /workdir/hadoop-ozone/integration-test/target/test-dir/MiniOzoneClusterImpl-e7174f9f-1f65-4936-ace6-f3a8e5d3c0c8/datanode-0/data/ratis/9a50cf2b-020d-4bc8-a16f-b0234d410e7f
2019-09-16 15:59:11,074 [pool-51-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.log.queue.byte-limit = 2147483647 (custom)
2019-09-16 15:59:11,074 [pool-51-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.log.queue.element-limit = 1024 (custom)
2019-09-16 15:59:11,074 [pool-51-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.log.segment.size.max = 1048576 (custom)
2019-09-16 15:59:11,075 [pool-51-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.log.preallocated.size = 16384 (custom)
2019-09-16 15:59:11,075 [pool-51-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.log.write.buffer.size = 33554432 (custom)
2019-09-16 15:59:11,075 [pool-51-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.log.force.sync.num = 128 (default)
2019-09-16 15:59:11,075 [pool-51-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.log.statemachine.data.sync = true (default)
2019-09-16 15:59:11,075 [pool-51-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.log.statemachine.data.sync.timeout = 10s (default)
2019-09-16 15:59:11,075 [pool-51-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.log.statemachine.data.sync.timeout.retry = -1 (default)
2019-09-16 15:59:11,076 [pool-51-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.log.statemachine.data.caching.enabled = true (custom)
2019-09-16 15:59:11,077 [pool-51-thread-1] INFO  impl.RaftServerImpl (ServerState.java:setRaftConf(354)) - f3e3a3a3-846b-4347-a380-93d47fe145fc@group-B0234D410E7F: set configuration 0: [f3e3a3a3-846b-4347-a380-93d47fe145fc:192.168.5.184:33964], old=null at 0
2019-09-16 15:59:11,077 [pool-51-thread-1] INFO  segmented.LogSegment (LogSegment.java:loadSegment(123)) - Successfully read 5 entries from segment file /workdir/hadoop-ozone/integration-test/target/test-dir/MiniOzoneClusterImpl-e7174f9f-1f65-4936-ace6-f3a8e5d3c0c8/datanode-0/data/ratis/9a50cf2b-020d-4bc8-a16f-b0234d410e7f/current/log_inprogress_0
2019-09-16 15:59:11,077 [pool-51-thread-1] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:lambda$new$0(132)) - f3e3a3a3-846b-4347-a380-93d47fe145fc@group-B0234D410E7F-SegmentedRaftLogWorker: flushIndex: setUnconditionally 0 -> 4
2019-09-16 15:59:11,106 [pool-51-thread-1] INFO  raftlog.RaftLog (RaftLog.java:lambda$new$0(61)) - f3e3a3a3-846b-4347-a380-93d47fe145fc@group-B0234D410E7F-SegmentedRaftLog: commitIndex: updateToMax old=3, new=3, updated? false
2019-09-16 15:59:11,107 [pool-51-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.snapshot.auto.trigger.enabled = true (custom)
2019-09-16 15:59:11,107 [pool-51-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.snapshot.auto.trigger.threshold = 1 (custom)
2019-09-16 15:59:11,108 [pool-51-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.snapshot.retention.num.files = 5 (custom)
2019-09-16 15:59:11,108 [pool-51-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.retrycache.expirytime = 600000ms (custom)
2019-09-16 15:59:12,038 [main] INFO  ozone.MiniOzoneClusterImpl (MiniOzoneClusterImpl.java:lambda$waitForClusterToBeReady$0(145)) - Waiting for cluster to be ready. Got 0 of 1 DN Heartbeats.
2019-09-16 15:59:13,038 [main] INFO  ozone.MiniOzoneClusterImpl (MiniOzoneClusterImpl.java:lambda$waitForClusterToBeReady$0(145)) - Waiting for cluster to be ready. Got 0 of 1 DN Heartbeats.
2019-09-16 15:59:13,042 [Datanode State Machine Thread - 0] INFO  ozoneimpl.OzoneContainer (OzoneContainer.java:start(217)) - Attempting to start container services.
2019-09-16 15:59:13,043 [Datanode State Machine Thread - 0] INFO  ozoneimpl.OzoneContainer (OzoneContainer.java:startContainerScrub(179)) - Background container scanner has been disabled.
2019-09-16 15:59:13,043 [Datanode State Machine Thread - 0] INFO  ratis.XceiverServerRatis (XceiverServerRatis.java:start(411)) - Starting XceiverServerRatis f3e3a3a3-846b-4347-a380-93d47fe145fc at port 33964
2019-09-16 15:59:13,052 [Datanode State Machine Thread - 0] INFO  impl.RaftServerImpl (RaftServerImpl.java:start(185)) - f3e3a3a3-846b-4347-a380-93d47fe145fc@group-B0234D410E7F: start as a follower, conf=0: [f3e3a3a3-846b-4347-a380-93d47fe145fc:192.168.5.184:33964], old=null
2019-09-16 15:59:13,053 [Datanode State Machine Thread - 0] INFO  impl.RaftServerImpl (RaftServerImpl.java:setRole(174)) - f3e3a3a3-846b-4347-a380-93d47fe145fc@group-B0234D410E7F: changes role from      null to FOLLOWER at term 1 for startAsFollower
2019-09-16 15:59:13,053 [Datanode State Machine Thread - 0] INFO  impl.RoleInfo (RoleInfo.java:updateAndGet(143)) - f3e3a3a3-846b-4347-a380-93d47fe145fc: start FollowerState
2019-09-16 15:59:13,053 [Datanode State Machine Thread - 0] INFO  util.JmxRegister (JmxRegister.java:tryRegister(44)) - Successfully registered JMX Bean with object name Ratis:service=RaftServer,group=group-B0234D410E7F,id=f3e3a3a3-846b-4347-a380-93d47fe145fc
2019-09-16 15:59:13,054 [Datanode State Machine Thread - 0] INFO  impl.RaftServerProxy (RaftServerProxy.java:lambda$start$3(299)) - f3e3a3a3-846b-4347-a380-93d47fe145fc: start RPC server
2019-09-16 15:59:13,057 [Datanode State Machine Thread - 0] INFO  server.GrpcService (GrpcService.java:startImpl(158)) - f3e3a3a3-846b-4347-a380-93d47fe145fc: GrpcService started, listening on 0.0.0.0/0.0.0.0:33964
2019-09-16 15:59:14,039 [main] INFO  ozone.MiniOzoneClusterImpl (MiniOzoneClusterImpl.java:lambda$waitForClusterToBeReady$0(145)) - Waiting for cluster to be ready. Got 0 of 1 DN Heartbeats.
2019-09-16 15:59:15,040 [main] INFO  ozone.MiniOzoneClusterImpl (MiniOzoneClusterImpl.java:lambda$waitForClusterToBeReady$0(145)) - Waiting for cluster to be ready. Got 0 of 1 DN Heartbeats.
2019-09-16 15:59:16,041 [main] INFO  ozone.MiniOzoneClusterImpl (MiniOzoneClusterImpl.java:lambda$waitForClusterToBeReady$0(145)) - Waiting for cluster to be ready. Got 0 of 1 DN Heartbeats.
2019-09-16 15:59:17,041 [main] INFO  ozone.MiniOzoneClusterImpl (MiniOzoneClusterImpl.java:lambda$waitForClusterToBeReady$0(145)) - Waiting for cluster to be ready. Got 0 of 1 DN Heartbeats.
2019-09-16 15:59:17,063 [grpc-default-executor-1] INFO  impl.RaftServerProxy (RaftServerProxy.java:addNew(89)) - f3e3a3a3-846b-4347-a380-93d47fe145fc: addNew group-0FC4C63A4CC2:[f3e3a3a3-846b-4347-a380-93d47fe145fc:192.168.5.184:33964] returns group-0FC4C63A4CC2:java.util.concurrent.CompletableFuture@4db7ab66[Not completed]
2019-09-16 15:59:17,065 [pool-51-thread-1] INFO  impl.RaftServerImpl (RaftServerImpl.java:<init>(95)) - f3e3a3a3-846b-4347-a380-93d47fe145fc: new RaftServerImpl for group-0FC4C63A4CC2:[f3e3a3a3-846b-4347-a380-93d47fe145fc:192.168.5.184:33964] with ContainerStateMachine:uninitialized
2019-09-16 15:59:17,065 [pool-51-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.rpc.timeout.min = 5s (custom)
2019-09-16 15:59:17,065 [pool-51-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.rpc.timeout.max = 5200ms (custom)
2019-09-16 15:59:17,066 [pool-51-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.rpcslowness.timeout = 120s (custom)
2019-09-16 15:59:17,066 [pool-51-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.sleep.deviation.threshold = 300 (default)
2019-09-16 15:59:17,066 [pool-51-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.log.appender.install.snapshot.enabled = false (custom)
2019-09-16 15:59:17,066 [pool-51-thread-1] INFO  impl.RaftServerImpl (ServerState.java:<init>(103)) - f3e3a3a3-846b-4347-a380-93d47fe145fc@group-0FC4C63A4CC2: ConfigurationManager, init=-1: [f3e3a3a3-846b-4347-a380-93d47fe145fc:192.168.5.184:33964], old=null, confs=<EMPTY_MAP>
2019-09-16 15:59:17,066 [pool-51-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.storage.dir = [/workdir/hadoop-ozone/integration-test/target/test-dir/MiniOzoneClusterImpl-e7174f9f-1f65-4936-ace6-f3a8e5d3c0c8/datanode-0/data/ratis] (custom)
2019-09-16 15:59:17,067 [pool-51-thread-1] INFO  storage.RaftStorageDirectory (RaftStorageDirectory.java:analyzeStorage(246)) - The storage directory /workdir/hadoop-ozone/integration-test/target/test-dir/MiniOzoneClusterImpl-e7174f9f-1f65-4936-ace6-f3a8e5d3c0c8/datanode-0/data/ratis/0fa56b19-b315-4e7a-8e87-0fc4c63a4cc2 does not exist. Creating ...
2019-09-16 15:59:17,082 [pool-51-thread-1] INFO  storage.RaftStorageDirectory (RaftStorageDirectory.java:tryLock(328)) - Lock on /workdir/hadoop-ozone/integration-test/target/test-dir/MiniOzoneClusterImpl-e7174f9f-1f65-4936-ace6-f3a8e5d3c0c8/datanode-0/data/ratis/0fa56b19-b315-4e7a-8e87-0fc4c63a4cc2/in_use.lock acquired by nodename 22961@pr-hdds-2022-qxstf-1422721469
2019-09-16 15:59:17,114 [pool-51-thread-1] INFO  storage.RaftStorage (RaftStorage.java:format(72)) - Storage directory /workdir/hadoop-ozone/integration-test/target/test-dir/MiniOzoneClusterImpl-e7174f9f-1f65-4936-ace6-f3a8e5d3c0c8/datanode-0/data/ratis/0fa56b19-b315-4e7a-8e87-0fc4c63a4cc2 has been successfully formatted.
2019-09-16 15:59:17,114 [pool-51-thread-1] INFO  ratis.ContainerStateMachine (ContainerStateMachine.java:loadSnapshot(230)) - group-0FC4C63A4CC2: The snapshot info is null. Setting the last applied indexto:(t:0, i:~)
2019-09-16 15:59:17,114 [pool-51-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.notification.no-leader.timeout = 120s (custom)
2019-09-16 15:59:17,114 [pool-51-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.log.use.memory = false (default)
2019-09-16 15:59:17,115 [pool-51-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.log.purge.gap = 1000000 (custom)
2019-09-16 15:59:17,115 [pool-51-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.log.appender.buffer.byte-limit = 33554432 (custom)
2019-09-16 15:59:17,115 [pool-51-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.log.segment.size.max = 1048576 (custom)
2019-09-16 15:59:17,115 [pool-51-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.log.segment.cache.num.max = 2 (custom)
2019-09-16 15:59:17,115 [pool-51-thread-1] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:<init>(172)) - new f3e3a3a3-846b-4347-a380-93d47fe145fc@group-0FC4C63A4CC2-SegmentedRaftLogWorker for RaftStorage:Storage Directory /workdir/hadoop-ozone/integration-test/target/test-dir/MiniOzoneClusterImpl-e7174f9f-1f65-4936-ace6-f3a8e5d3c0c8/datanode-0/data/ratis/0fa56b19-b315-4e7a-8e87-0fc4c63a4cc2
2019-09-16 15:59:17,116 [pool-51-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.log.queue.byte-limit = 2147483647 (custom)
2019-09-16 15:59:17,116 [pool-51-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.log.queue.element-limit = 1024 (custom)
2019-09-16 15:59:17,116 [pool-51-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.log.segment.size.max = 1048576 (custom)
2019-09-16 15:59:17,116 [pool-51-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.log.preallocated.size = 16384 (custom)
2019-09-16 15:59:17,117 [pool-51-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.log.write.buffer.size = 33554432 (custom)
2019-09-16 15:59:17,117 [pool-51-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.log.force.sync.num = 128 (default)
2019-09-16 15:59:17,117 [pool-51-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.log.statemachine.data.sync = true (default)
2019-09-16 15:59:17,117 [pool-51-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.log.statemachine.data.sync.timeout = 10s (default)
2019-09-16 15:59:17,117 [pool-51-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.log.statemachine.data.sync.timeout.retry = -1 (default)
2019-09-16 15:59:17,118 [pool-51-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.log.statemachine.data.caching.enabled = true (custom)
2019-09-16 15:59:17,118 [pool-51-thread-1] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:lambda$new$0(132)) - f3e3a3a3-846b-4347-a380-93d47fe145fc@group-0FC4C63A4CC2-SegmentedRaftLogWorker: flushIndex: setUnconditionally 0 -> -1
2019-09-16 15:59:17,119 [pool-51-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.snapshot.auto.trigger.enabled = true (custom)
2019-09-16 15:59:17,119 [pool-51-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.snapshot.auto.trigger.threshold = 1 (custom)
2019-09-16 15:59:17,119 [pool-51-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.snapshot.retention.num.files = 5 (custom)
2019-09-16 15:59:17,119 [pool-51-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.retrycache.expirytime = 600000ms (custom)
2019-09-16 15:59:17,125 [pool-51-thread-1] INFO  impl.RaftServerImpl (RaftServerImpl.java:start(185)) - f3e3a3a3-846b-4347-a380-93d47fe145fc@group-0FC4C63A4CC2: start as a follower, conf=-1: [f3e3a3a3-846b-4347-a380-93d47fe145fc:192.168.5.184:33964], old=null
2019-09-16 15:59:17,125 [pool-51-thread-1] INFO  impl.RaftServerImpl (RaftServerImpl.java:setRole(174)) - f3e3a3a3-846b-4347-a380-93d47fe145fc@group-0FC4C63A4CC2: changes role from      null to FOLLOWER at term 0 for startAsFollower
2019-09-16 15:59:17,125 [pool-51-thread-1] INFO  impl.RoleInfo (RoleInfo.java:updateAndGet(143)) - f3e3a3a3-846b-4347-a380-93d47fe145fc: start FollowerState
2019-09-16 15:59:17,126 [pool-51-thread-1] INFO  util.JmxRegister (JmxRegister.java:tryRegister(44)) - Successfully registered JMX Bean with object name Ratis:service=RaftServer,group=group-0FC4C63A4CC2,id=f3e3a3a3-846b-4347-a380-93d47fe145fc
2019-09-16 15:59:17,133 [RatisPipelineUtilsThread] INFO  pipeline.PipelineStateManager (PipelineStateManager.java:addPipeline(56)) - Created pipeline Pipeline[ Id: 0fa56b19-b315-4e7a-8e87-0fc4c63a4cc2, Nodes: f3e3a3a3-846b-4347-a380-93d47fe145fc{ip: 192.168.5.184, host: pr-hdds-2022-qxstf-1422721469, networkLocation: /default-rack, certSerialId: null}, Type:RATIS, Factor:ONE, State:OPEN]
2019-09-16 15:59:18,042 [main] INFO  ozone.MiniOzoneClusterImpl (MiniOzoneClusterImpl.java:lambda$waitForClusterToBeReady$0(145)) - Cluster is ready. Got 1 of 1 DN Heartbeats.
2019-09-16 15:59:18,094 [grpc-default-executor-1] INFO  client.GrpcClientProtocolClient (GrpcClientProtocolClient.java:onNext(264)) - client-3895E747E2A0->f3e3a3a3-846b-4347-a380-93d47fe145fc: receive RaftClientReply:client-3895E747E2A0->f3e3a3a3-846b-4347-a380-93d47fe145fc@group-0FC4C63A4CC2, cid=10, FAILED org.apache.ratis.protocol.NotLeaderException: Server f3e3a3a3-846b-4347-a380-93d47fe145fc@group-0FC4C63A4CC2 is not the leader, logIndex=0, commits[f3e3a3a3-846b-4347-a380-93d47fe145fc:c-1]
2019-09-16 15:59:18,253 [Thread-226] INFO  impl.FollowerState (FollowerState.java:run(106)) - f3e3a3a3-846b-4347-a380-93d47fe145fc:group-B0234D410E7F changes to CANDIDATE, lastRpcTime:5200, electionTimeout:5200ms
2019-09-16 15:59:18,254 [Thread-226] INFO  impl.RoleInfo (RoleInfo.java:shutdownFollowerState(121)) - f3e3a3a3-846b-4347-a380-93d47fe145fc: shutdown FollowerState
2019-09-16 15:59:18,254 [Thread-226] INFO  impl.RaftServerImpl (RaftServerImpl.java:setRole(174)) - f3e3a3a3-846b-4347-a380-93d47fe145fc@group-B0234D410E7F: changes role from  FOLLOWER to CANDIDATE at term 1 for changeToCandidate
2019-09-16 15:59:18,254 [Thread-226] INFO  impl.RoleInfo (RoleInfo.java:updateAndGet(143)) - f3e3a3a3-846b-4347-a380-93d47fe145fc: start LeaderElection
2019-09-16 15:59:18,292 [f3e3a3a3-846b-4347-a380-93d47fe145fc@group-B0234D410E7F:LeaderElection4] INFO  impl.LeaderElection (LeaderElection.java:askForVotes(182)) - f3e3a3a3-846b-4347-a380-93d47fe145fc@group-B0234D410E7F:LeaderElection4: begin an election at term 2 for 0: [f3e3a3a3-846b-4347-a380-93d47fe145fc:192.168.5.184:33964], old=null
2019-09-16 15:59:18,293 [f3e3a3a3-846b-4347-a380-93d47fe145fc@group-B0234D410E7F:LeaderElection4] INFO  impl.RoleInfo (RoleInfo.java:shutdownLeaderElection(134)) - f3e3a3a3-846b-4347-a380-93d47fe145fc: shutdown LeaderElection
2019-09-16 15:59:18,293 [f3e3a3a3-846b-4347-a380-93d47fe145fc@group-B0234D410E7F:LeaderElection4] INFO  impl.RaftServerImpl (RaftServerImpl.java:setRole(174)) - f3e3a3a3-846b-4347-a380-93d47fe145fc@group-B0234D410E7F: changes role from CANDIDATE to LEADER at term 2 for changeToLeader
2019-09-16 15:59:18,293 [f3e3a3a3-846b-4347-a380-93d47fe145fc@group-B0234D410E7F:LeaderElection4] INFO  impl.RaftServerImpl (ServerState.java:setLeader(253)) - f3e3a3a3-846b-4347-a380-93d47fe145fc@group-B0234D410E7F: change Leader from null to f3e3a3a3-846b-4347-a380-93d47fe145fc at term 2 for becomeLeader, leader elected after 7220ms
2019-09-16 15:59:18,293 [f3e3a3a3-846b-4347-a380-93d47fe145fc@group-B0234D410E7F:LeaderElection4] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.staging.catchup.gap = 1000 (default)
2019-09-16 15:59:18,293 [f3e3a3a3-846b-4347-a380-93d47fe145fc@group-B0234D410E7F:LeaderElection4] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.rpc.sleep.time = 25ms (default)
2019-09-16 15:59:18,293 [f3e3a3a3-846b-4347-a380-93d47fe145fc@group-B0234D410E7F:LeaderElection4] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.write.element-limit = 4096 (default)
2019-09-16 15:59:18,294 [f3e3a3a3-846b-4347-a380-93d47fe145fc@group-B0234D410E7F:LeaderElection4] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.watch.timeout = 10s (default)
2019-09-16 15:59:18,294 [f3e3a3a3-846b-4347-a380-93d47fe145fc@group-B0234D410E7F:LeaderElection4] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.watch.timeout.denomination = 1s (default)
2019-09-16 15:59:18,294 [f3e3a3a3-846b-4347-a380-93d47fe145fc@group-B0234D410E7F:LeaderElection4] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.watch.element-limit = 65536 (default)
2019-09-16 15:59:18,294 [f3e3a3a3-846b-4347-a380-93d47fe145fc@group-B0234D410E7F:LeaderElection4] INFO  impl.RoleInfo (RoleInfo.java:updateAndGet(143)) - f3e3a3a3-846b-4347-a380-93d47fe145fc: start LeaderState
2019-09-16 15:59:18,295 [f3e3a3a3-846b-4347-a380-93d47fe145fc@group-B0234D410E7F:LeaderElection4] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:rollLogSegment(385)) - f3e3a3a3-846b-4347-a380-93d47fe145fc@group-B0234D410E7F-SegmentedRaftLogWorker: Rolling segment log-0_4 to index:4
2019-09-16 15:59:18,297 [f3e3a3a3-846b-4347-a380-93d47fe145fc@group-B0234D410E7F:LeaderElection4] INFO  impl.RaftServerImpl (ServerState.java:setRaftConf(354)) - f3e3a3a3-846b-4347-a380-93d47fe145fc@group-B0234D410E7F: set configuration 5: [f3e3a3a3-846b-4347-a380-93d47fe145fc:192.168.5.184:33964], old=null at 5
2019-09-16 15:59:18,298 [f3e3a3a3-846b-4347-a380-93d47fe145fc@group-B0234D410E7F-SegmentedRaftLogWorker] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:execute(526)) - f3e3a3a3-846b-4347-a380-93d47fe145fc@group-B0234D410E7F-SegmentedRaftLogWorker: Rolled log segment from /workdir/hadoop-ozone/integration-test/target/test-dir/MiniOzoneClusterImpl-e7174f9f-1f65-4936-ace6-f3a8e5d3c0c8/datanode-0/data/ratis/9a50cf2b-020d-4bc8-a16f-b0234d410e7f/current/log_inprogress_0 to /workdir/hadoop-ozone/integration-test/target/test-dir/MiniOzoneClusterImpl-e7174f9f-1f65-4936-ace6-f3a8e5d3c0c8/datanode-0/data/ratis/9a50cf2b-020d-4bc8-a16f-b0234d410e7f/current/log_0-4
2019-09-16 15:59:18,371 [f3e3a3a3-846b-4347-a380-93d47fe145fc@group-B0234D410E7F-SegmentedRaftLogWorker] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:execute(569)) - f3e3a3a3-846b-4347-a380-93d47fe145fc@group-B0234D410E7F-SegmentedRaftLogWorker: created new log segment /workdir/hadoop-ozone/integration-test/target/test-dir/MiniOzoneClusterImpl-e7174f9f-1f65-4936-ace6-f3a8e5d3c0c8/datanode-0/data/ratis/9a50cf2b-020d-4bc8-a16f-b0234d410e7f/current/log_inprogress_5
2019-09-16 15:59:18,415 [f3e3a3a3-846b-4347-a380-93d47fe145fc@group-B0234D410E7F-StateMachineUpdater] INFO  ratis.ContainerStateMachine (ContainerStateMachine.java:takeSnapshot(289)) - group-B0234D410E7F: Taking a snapshot at:(t:1, i:3) file /workdir/hadoop-ozone/integration-test/target/test-dir/MiniOzoneClusterImpl-e7174f9f-1f65-4936-ace6-f3a8e5d3c0c8/datanode-0/data/ratis/9a50cf2b-020d-4bc8-a16f-b0234d410e7f/sm/snapshot.1_3
2019-09-16 15:59:18,453 [f3e3a3a3-846b-4347-a380-93d47fe145fc@group-B0234D410E7F-StateMachineUpdater] INFO  ratis.ContainerStateMachine (ContainerStateMachine.java:takeSnapshot(300)) - group-B0234D410E7F: Finished taking a snapshot at:(t:1, i:3) file:/workdir/hadoop-ozone/integration-test/target/test-dir/MiniOzoneClusterImpl-e7174f9f-1f65-4936-ace6-f3a8e5d3c0c8/datanode-0/data/ratis/9a50cf2b-020d-4bc8-a16f-b0234d410e7f/sm/snapshot.1_3 time:38
2019-09-16 15:59:18,454 [f3e3a3a3-846b-4347-a380-93d47fe145fc@group-B0234D410E7F-StateMachineUpdater] INFO  impl.StateMachineUpdater (StateMachineUpdater.java:takeSnapshot(258)) - f3e3a3a3-846b-4347-a380-93d47fe145fc@group-B0234D410E7F-StateMachineUpdater: Took a snapshot at index 3
2019-09-16 15:59:18,454 [f3e3a3a3-846b-4347-a380-93d47fe145fc@group-B0234D410E7F-StateMachineUpdater] INFO  impl.StateMachineUpdater (StateMachineUpdater.java:lambda$new$0(83)) - f3e3a3a3-846b-4347-a380-93d47fe145fc@group-B0234D410E7F-StateMachineUpdater: snapshotIndex: updateIncreasingly 3 -> 3
2019-09-16 15:59:18,455 [f3e3a3a3-846b-4347-a380-93d47fe145fc@group-B0234D410E7F-StateMachineUpdater] INFO  ratis.ContainerStateMachine (ContainerStateMachine.java:takeSnapshot(289)) - group-B0234D410E7F: Taking a snapshot at:(t:1, i:3) file /workdir/hadoop-ozone/integration-test/target/test-dir/MiniOzoneClusterImpl-e7174f9f-1f65-4936-ace6-f3a8e5d3c0c8/datanode-0/data/ratis/9a50cf2b-020d-4bc8-a16f-b0234d410e7f/sm/snapshot.1_3
2019-09-16 15:59:18,497 [f3e3a3a3-846b-4347-a380-93d47fe145fc@group-B0234D410E7F-StateMachineUpdater] INFO  ratis.ContainerStateMachine (ContainerStateMachine.java:takeSnapshot(300)) - group-B0234D410E7F: Finished taking a snapshot at:(t:1, i:3) file:/workdir/hadoop-ozone/integration-test/target/test-dir/MiniOzoneClusterImpl-e7174f9f-1f65-4936-ace6-f3a8e5d3c0c8/datanode-0/data/ratis/9a50cf2b-020d-4bc8-a16f-b0234d410e7f/sm/snapshot.1_3 time:43
2019-09-16 15:59:18,497 [f3e3a3a3-846b-4347-a380-93d47fe145fc@group-B0234D410E7F-StateMachineUpdater] INFO  impl.StateMachineUpdater (StateMachineUpdater.java:takeSnapshot(258)) - f3e3a3a3-846b-4347-a380-93d47fe145fc@group-B0234D410E7F-StateMachineUpdater: Took a snapshot at index 3
2019-09-16 15:59:18,497 [f3e3a3a3-846b-4347-a380-93d47fe145fc@group-B0234D410E7F-StateMachineUpdater] INFO  impl.StateMachineUpdater (StateMachineUpdater.java:lambda$new$0(83)) - f3e3a3a3-846b-4347-a380-93d47fe145fc@group-B0234D410E7F-StateMachineUpdater: snapshotIndex: updateIncreasingly 3 -> 3
2019-09-16 15:59:18,753 [grpc-default-executor-1] INFO  impl.RaftServerProxy (RaftServerProxy.java:remove(95)) - f3e3a3a3-846b-4347-a380-93d47fe145fc: remove    LEADER f3e3a3a3-846b-4347-a380-93d47fe145fc@group-B0234D410E7F:t2, leader=f3e3a3a3-846b-4347-a380-93d47fe145fc, voted=f3e3a3a3-846b-4347-a380-93d47fe145fc, raftlog=f3e3a3a3-846b-4347-a380-93d47fe145fc@group-B0234D410E7F-SegmentedRaftLog:OPENED:c6,f6,i6, conf=5: [f3e3a3a3-846b-4347-a380-93d47fe145fc:192.168.5.184:33964], old=null RUNNING
2019-09-16 15:59:18,753 [grpc-default-executor-1] INFO  impl.RaftServerImpl (RaftServerImpl.java:lambda$shutdown$3(251)) - f3e3a3a3-846b-4347-a380-93d47fe145fc@group-B0234D410E7F: shutdown
2019-09-16 15:59:18,753 [grpc-default-executor-1] INFO  util.JmxRegister (JmxRegister.java:unregister(73)) - Successfully un-registered JMX Bean with object name Ratis:service=RaftServer,group=group-B0234D410E7F,id=f3e3a3a3-846b-4347-a380-93d47fe145fc
2019-09-16 15:59:18,754 [grpc-default-executor-1] INFO  impl.RoleInfo (RoleInfo.java:shutdownLeaderState(104)) - f3e3a3a3-846b-4347-a380-93d47fe145fc: shutdown LeaderState
2019-09-16 15:59:18,754 [grpc-default-executor-1] INFO  impl.PendingRequests (PendingRequests.java:sendNotLeaderResponses(202)) - f3e3a3a3-846b-4347-a380-93d47fe145fc-PendingRequests: sendNotLeaderResponses
2019-09-16 15:59:18,756 [grpc-default-executor-1] INFO  impl.StateMachineUpdater (StateMachineUpdater.java:stopAndJoin(125)) - f3e3a3a3-846b-4347-a380-93d47fe145fc@group-B0234D410E7F-StateMachineUpdater: set stopIndex = 6
2019-09-16 15:59:18,756 [f3e3a3a3-846b-4347-a380-93d47fe145fc@group-B0234D410E7F-StateMachineUpdater] INFO  ratis.ContainerStateMachine (ContainerStateMachine.java:takeSnapshot(289)) - group-B0234D410E7F: Taking a snapshot at:(t:1, i:3) file /workdir/hadoop-ozone/integration-test/target/test-dir/MiniOzoneClusterImpl-e7174f9f-1f65-4936-ace6-f3a8e5d3c0c8/datanode-0/data/ratis/9a50cf2b-020d-4bc8-a16f-b0234d410e7f/sm/snapshot.1_3
2019-09-16 15:59:18,789 [f3e3a3a3-846b-4347-a380-93d47fe145fc@group-B0234D410E7F-StateMachineUpdater] INFO  ratis.ContainerStateMachine (ContainerStateMachine.java:takeSnapshot(300)) - group-B0234D410E7F: Finished taking a snapshot at:(t:1, i:3) file:/workdir/hadoop-ozone/integration-test/target/test-dir/MiniOzoneClusterImpl-e7174f9f-1f65-4936-ace6-f3a8e5d3c0c8/datanode-0/data/ratis/9a50cf2b-020d-4bc8-a16f-b0234d410e7f/sm/snapshot.1_3 time:33
2019-09-16 15:59:18,790 [f3e3a3a3-846b-4347-a380-93d47fe145fc@group-B0234D410E7F-StateMachineUpdater] INFO  impl.StateMachineUpdater (StateMachineUpdater.java:takeSnapshot(258)) - f3e3a3a3-846b-4347-a380-93d47fe145fc@group-B0234D410E7F-StateMachineUpdater: Took a snapshot at index 3
2019-09-16 15:59:18,790 [f3e3a3a3-846b-4347-a380-93d47fe145fc@group-B0234D410E7F-StateMachineUpdater] INFO  impl.StateMachineUpdater (StateMachineUpdater.java:lambda$new$0(83)) - f3e3a3a3-846b-4347-a380-93d47fe145fc@group-B0234D410E7F-StateMachineUpdater: snapshotIndex: updateIncreasingly 3 -> 3
2019-09-16 15:59:18,790 [f3e3a3a3-846b-4347-a380-93d47fe145fc@group-B0234D410E7F-StateMachineUpdater] INFO  ratis.ContainerStateMachine (ContainerStateMachine.java:takeSnapshot(289)) - group-B0234D410E7F: Taking a snapshot at:(t:1, i:3) file /workdir/hadoop-ozone/integration-test/target/test-dir/MiniOzoneClusterImpl-e7174f9f-1f65-4936-ace6-f3a8e5d3c0c8/datanode-0/data/ratis/9a50cf2b-020d-4bc8-a16f-b0234d410e7f/sm/snapshot.1_3
2019-09-16 15:59:19,032 [f3e3a3a3-846b-4347-a380-93d47fe145fc@group-B0234D410E7F-StateMachineUpdater] INFO  ratis.ContainerStateMachine (ContainerStateMachine.java:takeSnapshot(300)) - group-B0234D410E7F: Finished taking a snapshot at:(t:1, i:3) file:/workdir/hadoop-ozone/integration-test/target/test-dir/MiniOzoneClusterImpl-e7174f9f-1f65-4936-ace6-f3a8e5d3c0c8/datanode-0/data/ratis/9a50cf2b-020d-4bc8-a16f-b0234d410e7f/sm/snapshot.1_3 time:242
2019-09-16 15:59:19,033 [f3e3a3a3-846b-4347-a380-93d47fe145fc@group-B0234D410E7F-StateMachineUpdater] INFO  impl.StateMachineUpdater (StateMachineUpdater.java:takeSnapshot(258)) - f3e3a3a3-846b-4347-a380-93d47fe145fc@group-B0234D410E7F-StateMachineUpdater: Took a snapshot at index 3
2019-09-16 15:59:19,033 [f3e3a3a3-846b-4347-a380-93d47fe145fc@group-B0234D410E7F-StateMachineUpdater] INFO  impl.StateMachineUpdater (StateMachineUpdater.java:lambda$new$0(83)) - f3e3a3a3-846b-4347-a380-93d47fe145fc@group-B0234D410E7F-StateMachineUpdater: snapshotIndex: updateIncreasingly 3 -> 3
2019-09-16 15:59:19,034 [grpc-default-executor-1] INFO  impl.RaftServerImpl (ServerState.java:close(385)) - f3e3a3a3-846b-4347-a380-93d47fe145fc@group-B0234D410E7F: closes. applyIndex: 6
2019-09-16 15:59:19,034 [f3e3a3a3-846b-4347-a380-93d47fe145fc@group-B0234D410E7F-SegmentedRaftLogWorker] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:run(313)) - f3e3a3a3-846b-4347-a380-93d47fe145fc@group-B0234D410E7F-SegmentedRaftLogWorker was interrupted, exiting. There are 0 tasks remaining in the queue.
2019-09-16 15:59:19,035 [grpc-default-executor-1] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:close(228)) - f3e3a3a3-846b-4347-a380-93d47fe145fc@group-B0234D410E7F-SegmentedRaftLogWorker close()
2019-09-16 15:59:19,048 [RatisPipelineUtilsThread] INFO  pipeline.PipelineStateManager (PipelineStateManager.java:removePipeline(108)) - Pipeline Pipeline[ Id: 9a50cf2b-020d-4bc8-a16f-b0234d410e7f, Nodes: f3e3a3a3-846b-4347-a380-93d47fe145fc{ip: 192.168.5.184, host: pr-hdds-2022-qxstf-1422721469, networkLocation: /default-rack, certSerialId: null}, Type:RATIS, Factor:ONE, State:CLOSED] removed from db
2019-09-16 15:59:20,113 [grpc-default-executor-0] INFO  client.GrpcClientProtocolClient (GrpcClientProtocolClient.java:onNext(264)) - client-3895E747E2A0->f3e3a3a3-846b-4347-a380-93d47fe145fc: receive RaftClientReply:client-3895E747E2A0->f3e3a3a3-846b-4347-a380-93d47fe145fc@group-0FC4C63A4CC2, cid=10, FAILED org.apache.ratis.protocol.NotLeaderException: Server f3e3a3a3-846b-4347-a380-93d47fe145fc@group-0FC4C63A4CC2 is not the leader, logIndex=0, commits[f3e3a3a3-846b-4347-a380-93d47fe145fc:c-1]
2019-09-16 15:59:22,130 [grpc-default-executor-1] INFO  client.GrpcClientProtocolClient (GrpcClientProtocolClient.java:onNext(264)) - client-3895E747E2A0->f3e3a3a3-846b-4347-a380-93d47fe145fc: receive RaftClientReply:client-3895E747E2A0->f3e3a3a3-846b-4347-a380-93d47fe145fc@group-0FC4C63A4CC2, cid=10, FAILED org.apache.ratis.protocol.NotLeaderException: Server f3e3a3a3-846b-4347-a380-93d47fe145fc@group-0FC4C63A4CC2 is not the leader, logIndex=0, commits[f3e3a3a3-846b-4347-a380-93d47fe145fc:c-1]
2019-09-16 15:59:22,187 [Thread-230] INFO  impl.FollowerState (FollowerState.java:run(106)) - f3e3a3a3-846b-4347-a380-93d47fe145fc:group-0FC4C63A4CC2 changes to CANDIDATE, lastRpcTime:5061, electionTimeout:5061ms
2019-09-16 15:59:22,188 [Thread-230] INFO  impl.RoleInfo (RoleInfo.java:shutdownFollowerState(121)) - f3e3a3a3-846b-4347-a380-93d47fe145fc: shutdown FollowerState
2019-09-16 15:59:22,188 [Thread-230] INFO  impl.RaftServerImpl (RaftServerImpl.java:setRole(174)) - f3e3a3a3-846b-4347-a380-93d47fe145fc@group-0FC4C63A4CC2: changes role from  FOLLOWER to CANDIDATE at term 0 for changeToCandidate
2019-09-16 15:59:22,188 [Thread-230] INFO  impl.RoleInfo (RoleInfo.java:updateAndGet(143)) - f3e3a3a3-846b-4347-a380-93d47fe145fc: start LeaderElection
2019-09-16 15:59:22,214 [f3e3a3a3-846b-4347-a380-93d47fe145fc@group-0FC4C63A4CC2:LeaderElection5] INFO  impl.LeaderElection (LeaderElection.java:askForVotes(182)) - f3e3a3a3-846b-4347-a380-93d47fe145fc@group-0FC4C63A4CC2:LeaderElection5: begin an election at term 1 for -1: [f3e3a3a3-846b-4347-a380-93d47fe145fc:192.168.5.184:33964], old=null
2019-09-16 15:59:22,214 [f3e3a3a3-846b-4347-a380-93d47fe145fc@group-0FC4C63A4CC2:LeaderElection5] INFO  impl.RoleInfo (RoleInfo.java:shutdownLeaderElection(134)) - f3e3a3a3-846b-4347-a380-93d47fe145fc: shutdown LeaderElection
2019-09-16 15:59:22,214 [f3e3a3a3-846b-4347-a380-93d47fe145fc@group-0FC4C63A4CC2:LeaderElection5] INFO  impl.RaftServerImpl (RaftServerImpl.java:setRole(174)) - f3e3a3a3-846b-4347-a380-93d47fe145fc@group-0FC4C63A4CC2: changes role from CANDIDATE to LEADER at term 1 for changeToLeader
2019-09-16 15:59:22,214 [f3e3a3a3-846b-4347-a380-93d47fe145fc@group-0FC4C63A4CC2:LeaderElection5] INFO  impl.RaftServerImpl (ServerState.java:setLeader(253)) - f3e3a3a3-846b-4347-a380-93d47fe145fc@group-0FC4C63A4CC2: change Leader from null to f3e3a3a3-846b-4347-a380-93d47fe145fc at term 1 for becomeLeader, leader elected after 5100ms
2019-09-16 15:59:22,215 [f3e3a3a3-846b-4347-a380-93d47fe145fc@group-0FC4C63A4CC2:LeaderElection5] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.staging.catchup.gap = 1000 (default)
2019-09-16 15:59:22,215 [f3e3a3a3-846b-4347-a380-93d47fe145fc@group-0FC4C63A4CC2:LeaderElection5] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.rpc.sleep.time = 25ms (default)
2019-09-16 15:59:22,215 [f3e3a3a3-846b-4347-a380-93d47fe145fc@group-0FC4C63A4CC2:LeaderElection5] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.write.element-limit = 4096 (default)
2019-09-16 15:59:22,216 [f3e3a3a3-846b-4347-a380-93d47fe145fc@group-0FC4C63A4CC2:LeaderElection5] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.watch.timeout = 10s (default)
2019-09-16 15:59:22,216 [f3e3a3a3-846b-4347-a380-93d47fe145fc@group-0FC4C63A4CC2:LeaderElection5] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.watch.timeout.denomination = 1s (default)
2019-09-16 15:59:22,216 [f3e3a3a3-846b-4347-a380-93d47fe145fc@group-0FC4C63A4CC2:LeaderElection5] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.watch.element-limit = 65536 (default)
2019-09-16 15:59:22,225 [f3e3a3a3-846b-4347-a380-93d47fe145fc@group-0FC4C63A4CC2:LeaderElection5] INFO  impl.RoleInfo (RoleInfo.java:updateAndGet(143)) - f3e3a3a3-846b-4347-a380-93d47fe145fc: start LeaderState
2019-09-16 15:59:22,225 [f3e3a3a3-846b-4347-a380-93d47fe145fc@group-0FC4C63A4CC2:LeaderElection5] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:startLogSegment(380)) - f3e3a3a3-846b-4347-a380-93d47fe145fc@group-0FC4C63A4CC2-SegmentedRaftLogWorker: Starting segment from index:0
2019-09-16 15:59:22,226 [f3e3a3a3-846b-4347-a380-93d47fe145fc@group-0FC4C63A4CC2:LeaderElection5] INFO  impl.RaftServerImpl (ServerState.java:setRaftConf(354)) - f3e3a3a3-846b-4347-a380-93d47fe145fc@group-0FC4C63A4CC2: set configuration 0: [f3e3a3a3-846b-4347-a380-93d47fe145fc:192.168.5.184:33964], old=null at 0
2019-09-16 15:59:22,624 [f3e3a3a3-846b-4347-a380-93d47fe145fc@group-0FC4C63A4CC2-SegmentedRaftLogWorker] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:execute(569)) - f3e3a3a3-846b-4347-a380-93d47fe145fc@group-0FC4C63A4CC2-SegmentedRaftLogWorker: created new log segment /workdir/hadoop-ozone/integration-test/target/test-dir/MiniOzoneClusterImpl-e7174f9f-1f65-4936-ace6-f3a8e5d3c0c8/datanode-0/data/ratis/0fa56b19-b315-4e7a-8e87-0fc4c63a4cc2/current/log_inprogress_0
2019-09-16 15:59:24,362 [grpc-default-executor-0] INFO  client.GrpcClientProtocolClient (GrpcClientProtocolClient.java:onNext(264)) - client-3895E747E2A0->f3e3a3a3-846b-4347-a380-93d47fe145fc: receive RaftClientReply:client-3895E747E2A0->f3e3a3a3-846b-4347-a380-93d47fe145fc@group-0FC4C63A4CC2, cid=10, SUCCESS, logIndex=1, commits[f3e3a3a3-846b-4347-a380-93d47fe145fc:c1]
2019-09-16 15:59:24,373 [f3e3a3a3-846b-4347-a380-93d47fe145fc@group-0FC4C63A4CC2-StateMachineUpdater] INFO  ratis.ContainerStateMachine (ContainerStateMachine.java:takeSnapshot(289)) - group-0FC4C63A4CC2: Taking a snapshot at:(t:1, i:1) file /workdir/hadoop-ozone/integration-test/target/test-dir/MiniOzoneClusterImpl-e7174f9f-1f65-4936-ace6-f3a8e5d3c0c8/datanode-0/data/ratis/0fa56b19-b315-4e7a-8e87-0fc4c63a4cc2/sm/snapshot.1_1
2019-09-16 15:59:24,399 [f3e3a3a3-846b-4347-a380-93d47fe145fc@group-0FC4C63A4CC2-StateMachineUpdater] INFO  ratis.ContainerStateMachine (ContainerStateMachine.java:takeSnapshot(300)) - group-0FC4C63A4CC2: Finished taking a snapshot at:(t:1, i:1) file:/workdir/hadoop-ozone/integration-test/target/test-dir/MiniOzoneClusterImpl-e7174f9f-1f65-4936-ace6-f3a8e5d3c0c8/datanode-0/data/ratis/0fa56b19-b315-4e7a-8e87-0fc4c63a4cc2/sm/snapshot.1_1 time:26
2019-09-16 15:59:24,399 [f3e3a3a3-846b-4347-a380-93d47fe145fc@group-0FC4C63A4CC2-StateMachineUpdater] INFO  impl.StateMachineUpdater (StateMachineUpdater.java:takeSnapshot(258)) - f3e3a3a3-846b-4347-a380-93d47fe145fc@group-0FC4C63A4CC2-StateMachineUpdater: Took a snapshot at index 1
2019-09-16 15:59:24,399 [f3e3a3a3-846b-4347-a380-93d47fe145fc@group-0FC4C63A4CC2-StateMachineUpdater] INFO  impl.StateMachineUpdater (StateMachineUpdater.java:lambda$new$0(83)) - f3e3a3a3-846b-4347-a380-93d47fe145fc@group-0FC4C63A4CC2-StateMachineUpdater: snapshotIndex: updateIncreasingly -1 -> 1
2019-09-16 15:59:24,530 [f3e3a3a3-846b-4347-a380-93d47fe145fc@group-0FC4C63A4CC2-StateMachineUpdater] INFO  ratis.ContainerStateMachine (ContainerStateMachine.java:takeSnapshot(289)) - group-0FC4C63A4CC2: Taking a snapshot at:(t:1, i:4) file /workdir/hadoop-ozone/integration-test/target/test-dir/MiniOzoneClusterImpl-e7174f9f-1f65-4936-ace6-f3a8e5d3c0c8/datanode-0/data/ratis/0fa56b19-b315-4e7a-8e87-0fc4c63a4cc2/sm/snapshot.1_4
2019-09-16 15:59:24,531 [grpc-default-executor-0] INFO  client.GrpcClientProtocolClient (GrpcClientProtocolClient.java:onNext(264)) - client-3895E747E2A0->f3e3a3a3-846b-4347-a380-93d47fe145fc: receive RaftClientReply:client-3895E747E2A0->f3e3a3a3-846b-4347-a380-93d47fe145fc@group-0FC4C63A4CC2, cid=11, SUCCESS, logIndex=3, commits[f3e3a3a3-846b-4347-a380-93d47fe145fc:c4]
2019-09-16 15:59:24,537 [pool-50-thread-2] ERROR impl.ChunkManagerImpl (ChunkUtils.java:getChunkFile(234)) - Chunks path does not exist
2019-09-16 15:59:24,541 [pool-50-thread-2] INFO  keyvalue.KeyValueHandler (ContainerUtils.java:logAndReturnError(146)) - Operation: WriteChunk : Trace ID: 9fc2e53901e4ae41:9fc2e53901e4ae41:0:0 : Message: Unable to get Chunks directory. : Result: UNABLE_TO_FIND_DATA_DIR
2019-09-16 15:59:24,545 [pool-50-thread-2] WARN  keyvalue.KeyValueHandler (KeyValueHandler.java:markContainerUnhealthy(908)) - Unexpected error while marking container 3 as unhealthy
org.apache.hadoop.hdds.scm.container.common.helpers.StorageContainerException: Error while creating/ updating .container file. ContainerID: 3
	at org.apache.hadoop.ozone.container.keyvalue.KeyValueContainer.writeToContainerFile(KeyValueContainer.java:237)
	at org.apache.hadoop.ozone.container.keyvalue.KeyValueContainer.updateContainerFile(KeyValueContainer.java:257)
	at org.apache.hadoop.ozone.container.keyvalue.KeyValueContainer.updateContainerData(KeyValueContainer.java:356)
	at org.apache.hadoop.ozone.container.keyvalue.KeyValueContainer.markContainerUnhealthy(KeyValueContainer.java:298)
	at org.apache.hadoop.ozone.container.keyvalue.KeyValueHandler.markContainerUnhealthy(KeyValueHandler.java:903)
	at org.apache.hadoop.ozone.container.common.impl.HddsDispatcher.dispatchRequest(HddsDispatcher.java:309)
	at org.apache.hadoop.ozone.container.common.impl.HddsDispatcher.dispatch(HddsDispatcher.java:150)
	at org.apache.hadoop.ozone.container.common.transport.server.ratis.ContainerStateMachine.dispatchCommand(ContainerStateMachine.java:401)
	at org.apache.hadoop.ozone.container.common.transport.server.ratis.ContainerStateMachine.runCommand(ContainerStateMachine.java:409)
	at org.apache.hadoop.ozone.container.common.transport.server.ratis.ContainerStateMachine.lambda$handleWriteChunk$1(ContainerStateMachine.java:442)
	at java.util.concurrent.CompletableFuture$AsyncSupply.run(CompletableFuture.java:1590)
	at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1149)
	at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:624)
	at java.lang.Thread.run(Thread.java:748)
Caused by: java.io.IOException: No such file or directory
	at java.io.UnixFileSystem.createFileExclusively(Native Method)
	at java.io.File.createTempFile(File.java:2024)
	at org.apache.hadoop.ozone.container.keyvalue.KeyValueContainer.createTempFile(KeyValueContainer.java:726)
	at org.apache.hadoop.ozone.container.keyvalue.KeyValueContainer.writeToContainerFile(KeyValueContainer.java:222)
	... 13 more
2019-09-16 15:59:24,551 [EventQueue-IncrementalContainerReportForIncrementalContainerReportHandler] WARN  container.IncrementalContainerReportHandler (AbstractContainerReportHandler.java:updateContainerState(143)) - Container #3 is in OPEN state, but the datanode f3e3a3a3-846b-4347-a380-93d47fe145fc{ip: 192.168.5.184, host: pr-hdds-2022-qxstf-1422721469, networkLocation: /default-rack, certSerialId: null} reports an UNHEALTHY replica.
15:59:24.563 [pool-50-thread-2] ERROR DNAudit - user=null | ip=null | op=WRITE_CHUNK {blockData=conID: 3 locID: 102803017437478916 bcsId: 3} | ret=FAILURE
java.lang.Exception: Unable to get Chunks directory.
	at org.apache.hadoop.ozone.container.common.impl.HddsDispatcher.dispatchRequest(HddsDispatcher.java:327) ~[hadoop-hdds-container-service-0.5.0-SNAPSHOT.jar:?]
	at org.apache.hadoop.ozone.container.common.impl.HddsDispatcher.dispatch(HddsDispatcher.java:150) ~[hadoop-hdds-container-service-0.5.0-SNAPSHOT.jar:?]
	at org.apache.hadoop.ozone.container.common.transport.server.ratis.ContainerStateMachine.dispatchCommand(ContainerStateMachine.java:401) ~[hadoop-hdds-container-service-0.5.0-SNAPSHOT.jar:?]
	at org.apache.hadoop.ozone.container.common.transport.server.ratis.ContainerStateMachine.runCommand(ContainerStateMachine.java:409) ~[hadoop-hdds-container-service-0.5.0-SNAPSHOT.jar:?]
	at org.apache.hadoop.ozone.container.common.transport.server.ratis.ContainerStateMachine.lambda$handleWriteChunk$1(ContainerStateMachine.java:442) ~[hadoop-hdds-container-service-0.5.0-SNAPSHOT.jar:?]
	at java.util.concurrent.CompletableFuture$AsyncSupply.run(CompletableFuture.java:1590) [?:1.8.0_212]
	at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1149) [?:1.8.0_212]
	at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:624) [?:1.8.0_212]
	at java.lang.Thread.run(Thread.java:748) [?:1.8.0_212]
2019-09-16 15:59:24,579 [pool-50-thread-2] ERROR ratis.ContainerStateMachine (ContainerStateMachine.java:lambda$handleWriteChunk$2(456)) - group-0FC4C63A4CC2: writeChunk writeStateMachineData failed: blockIdcontainerID: 3
localID: 102803017437478916
blockCommitSequenceId: 3
 logIndex 5 chunkName 102803017437478916_chunk_2 Error message: Unable to get Chunks directory. Container Result: UNABLE_TO_FIND_DATA_DIR
2019-09-16 15:59:24,588 [f3e3a3a3-846b-4347-a380-93d47fe145fc@group-0FC4C63A4CC2-SegmentedRaftLogWorker] ERROR ratis.XceiverServerRatis (XceiverServerRatis.java:triggerPipelineClose(575)) - pipeline Action CLOSE  on pipeline PipelineID=0fa56b19-b315-4e7a-8e87-0fc4c63a4cc2.Reason : Unable to get Chunks directory.
2019-09-16 15:59:24,588 [f3e3a3a3-846b-4347-a380-93d47fe145fc@group-0FC4C63A4CC2-SegmentedRaftLogWorker] ERROR ratis.XceiverServerRatis (XceiverServerRatis.java:triggerPipelineClose(575)) - pipeline Action CLOSE  on pipeline PipelineID=0fa56b19-b315-4e7a-8e87-0fc4c63a4cc2.Reason : Log already failed at index 5 for task WriteLog:5: (t:1, i:5), STATEMACHINELOGENTRY, client-3895E747E2A0, cid=13
2019-09-16 15:59:24,591 [f3e3a3a3-846b-4347-a380-93d47fe145fc@group-0FC4C63A4CC2-StateMachineUpdater] INFO  ratis.ContainerStateMachine (ContainerStateMachine.java:takeSnapshot(300)) - group-0FC4C63A4CC2: Finished taking a snapshot at:(t:1, i:4) file:/workdir/hadoop-ozone/integration-test/target/test-dir/MiniOzoneClusterImpl-e7174f9f-1f65-4936-ace6-f3a8e5d3c0c8/datanode-0/data/ratis/0fa56b19-b315-4e7a-8e87-0fc4c63a4cc2/sm/snapshot.1_4 time:61
2019-09-16 15:59:24,592 [f3e3a3a3-846b-4347-a380-93d47fe145fc@group-0FC4C63A4CC2-StateMachineUpdater] INFO  impl.StateMachineUpdater (StateMachineUpdater.java:takeSnapshot(258)) - f3e3a3a3-846b-4347-a380-93d47fe145fc@group-0FC4C63A4CC2-StateMachineUpdater: Took a snapshot at index 4
2019-09-16 15:59:24,592 [f3e3a3a3-846b-4347-a380-93d47fe145fc@group-0FC4C63A4CC2-StateMachineUpdater] INFO  impl.StateMachineUpdater (StateMachineUpdater.java:lambda$new$0(83)) - f3e3a3a3-846b-4347-a380-93d47fe145fc@group-0FC4C63A4CC2-StateMachineUpdater: snapshotIndex: updateIncreasingly 1 -> 4
2019-09-16 15:59:24,593 [EventQueue-ContainerReportForContainerReportHandler] WARN  container.ContainerReportHandler (AbstractContainerReportHandler.java:updateContainerState(143)) - Container #3 is in OPEN state, but the datanode f3e3a3a3-846b-4347-a380-93d47fe145fc{ip: 192.168.5.184, host: pr-hdds-2022-qxstf-1422721469, networkLocation: /default-rack, certSerialId: null} reports an UNHEALTHY replica.
2019-09-16 15:59:24,593 [EventQueue-CloseContainerForCloseContainerEventHandler] INFO  container.CloseContainerEventHandler (CloseContainerEventHandler.java:onMessage(61)) - Close container Event triggered for container : #3
2019-09-16 15:59:24,594 [EventQueue-PipelineActionsForPipelineActionHandler] ERROR pipeline.PipelineActionHandler (PipelineActionHandler.java:onMessage(60)) - Received pipeline action CLOSE for Pipeline[ Id: 0fa56b19-b315-4e7a-8e87-0fc4c63a4cc2, Nodes: f3e3a3a3-846b-4347-a380-93d47fe145fc{ip: 192.168.5.184, host: pr-hdds-2022-qxstf-1422721469, networkLocation: /default-rack, certSerialId: null}, Type:RATIS, Factor:ONE, State:OPEN] from datanode f3e3a3a3-846b-4347-a380-93d47fe145fc{ip: 192.168.5.184, host: pr-hdds-2022-qxstf-1422721469, networkLocation: /default-rack, certSerialId: null}. Reason : Unable to get Chunks directory.
2019-09-16 15:59:24,594 [EventQueue-PipelineActionsForPipelineActionHandler] INFO  pipeline.SCMPipelineManager (SCMPipelineManager.java:finalizeAndDestroyPipeline(311)) - destroying pipeline:Pipeline[ Id: 0fa56b19-b315-4e7a-8e87-0fc4c63a4cc2, Nodes: f3e3a3a3-846b-4347-a380-93d47fe145fc{ip: 192.168.5.184, host: pr-hdds-2022-qxstf-1422721469, networkLocation: /default-rack, certSerialId: null}, Type:RATIS, Factor:ONE, State:OPEN]
2019-09-16 15:59:24,594 [EventQueue-PipelineActionsForPipelineActionHandler] INFO  pipeline.PipelineStateManager (PipelineStateManager.java:finalizePipeline(123)) - Pipeline Pipeline[ Id: 0fa56b19-b315-4e7a-8e87-0fc4c63a4cc2, Nodes: f3e3a3a3-846b-4347-a380-93d47fe145fc{ip: 192.168.5.184, host: pr-hdds-2022-qxstf-1422721469, networkLocation: /default-rack, certSerialId: null}, Type:RATIS, Factor:ONE, State:CLOSED] moved to CLOSED state
2019-09-16 15:59:34,603 [grpc-default-executor-0] INFO  impl.RaftServerProxy (RaftServerProxy.java:remove(95)) - f3e3a3a3-846b-4347-a380-93d47fe145fc: remove    LEADER f3e3a3a3-846b-4347-a380-93d47fe145fc@group-0FC4C63A4CC2:t1, leader=f3e3a3a3-846b-4347-a380-93d47fe145fc, voted=f3e3a3a3-846b-4347-a380-93d47fe145fc, raftlog=f3e3a3a3-846b-4347-a380-93d47fe145fc@group-0FC4C63A4CC2-SegmentedRaftLog:OPENED:c4,f4,i6, conf=0: [f3e3a3a3-846b-4347-a380-93d47fe145fc:192.168.5.184:33964], old=null RUNNING
2019-09-16 15:59:34,604 [grpc-default-executor-0] INFO  impl.RaftServerImpl (RaftServerImpl.java:lambda$shutdown$3(251)) - f3e3a3a3-846b-4347-a380-93d47fe145fc@group-0FC4C63A4CC2: shutdown
2019-09-16 15:59:34,605 [grpc-default-executor-0] INFO  util.JmxRegister (JmxRegister.java:unregister(73)) - Successfully un-registered JMX Bean with object name Ratis:service=RaftServer,group=group-0FC4C63A4CC2,id=f3e3a3a3-846b-4347-a380-93d47fe145fc
2019-09-16 15:59:34,605 [grpc-default-executor-0] INFO  impl.RoleInfo (RoleInfo.java:shutdownLeaderState(104)) - f3e3a3a3-846b-4347-a380-93d47fe145fc: shutdown LeaderState
2019-09-16 15:59:34,605 [grpc-default-executor-0] INFO  impl.PendingRequests (PendingRequests.java:sendNotLeaderResponses(202)) - f3e3a3a3-846b-4347-a380-93d47fe145fc-PendingRequests: sendNotLeaderResponses
2019-09-16 15:59:34,610 [grpc-default-executor-0] INFO  impl.StateMachineUpdater (StateMachineUpdater.java:stopAndJoin(125)) - f3e3a3a3-846b-4347-a380-93d47fe145fc@group-0FC4C63A4CC2-StateMachineUpdater: set stopIndex = 4
2019-09-16 15:59:34,610 [grpc-default-executor-0] INFO  impl.RaftServerImpl (ServerState.java:close(385)) - f3e3a3a3-846b-4347-a380-93d47fe145fc@group-0FC4C63A4CC2: closes. applyIndex: 4
2019-09-16 15:59:34,611 [f3e3a3a3-846b-4347-a380-93d47fe145fc@group-0FC4C63A4CC2-SegmentedRaftLogWorker] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:run(313)) - f3e3a3a3-846b-4347-a380-93d47fe145fc@group-0FC4C63A4CC2-SegmentedRaftLogWorker was interrupted, exiting. There are 0 tasks remaining in the queue.
2019-09-16 15:59:34,611 [grpc-default-executor-0] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:close(228)) - f3e3a3a3-846b-4347-a380-93d47fe145fc@group-0FC4C63A4CC2-SegmentedRaftLogWorker close()
2019-09-16 15:59:34,621 [RatisPipelineUtilsThread] INFO  pipeline.PipelineStateManager (PipelineStateManager.java:removePipeline(108)) - Pipeline Pipeline[ Id: 0fa56b19-b315-4e7a-8e87-0fc4c63a4cc2, Nodes: f3e3a3a3-846b-4347-a380-93d47fe145fc{ip: 192.168.5.184, host: pr-hdds-2022-qxstf-1422721469, networkLocation: /default-rack, certSerialId: null}, Type:RATIS, Factor:ONE, State:CLOSED] removed from db
2019-09-16 15:59:34,630 [grpc-default-executor-0] INFO  impl.RaftServerProxy (RaftServerProxy.java:addNew(89)) - f3e3a3a3-846b-4347-a380-93d47fe145fc: addNew group-DD580B7AD7E1:[f3e3a3a3-846b-4347-a380-93d47fe145fc:192.168.5.184:33964] returns group-DD580B7AD7E1:java.util.concurrent.CompletableFuture@62539793[Not completed]
2019-09-16 15:59:34,633 [pool-51-thread-1] INFO  impl.RaftServerImpl (RaftServerImpl.java:<init>(95)) - f3e3a3a3-846b-4347-a380-93d47fe145fc: new RaftServerImpl for group-DD580B7AD7E1:[f3e3a3a3-846b-4347-a380-93d47fe145fc:192.168.5.184:33964] with ContainerStateMachine:uninitialized
2019-09-16 15:59:34,633 [pool-51-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.rpc.timeout.min = 5s (custom)
2019-09-16 15:59:34,633 [pool-51-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.rpc.timeout.max = 5200ms (custom)
2019-09-16 15:59:34,633 [pool-51-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.rpcslowness.timeout = 120s (custom)
2019-09-16 15:59:34,633 [pool-51-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.sleep.deviation.threshold = 300 (default)
2019-09-16 15:59:34,634 [pool-51-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.log.appender.install.snapshot.enabled = false (custom)
2019-09-16 15:59:34,634 [pool-51-thread-1] INFO  impl.RaftServerImpl (ServerState.java:<init>(103)) - f3e3a3a3-846b-4347-a380-93d47fe145fc@group-DD580B7AD7E1: ConfigurationManager, init=-1: [f3e3a3a3-846b-4347-a380-93d47fe145fc:192.168.5.184:33964], old=null, confs=<EMPTY_MAP>
2019-09-16 15:59:34,634 [pool-51-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.storage.dir = [/workdir/hadoop-ozone/integration-test/target/test-dir/MiniOzoneClusterImpl-e7174f9f-1f65-4936-ace6-f3a8e5d3c0c8/datanode-0/data/ratis] (custom)
2019-09-16 15:59:34,634 [pool-51-thread-1] INFO  storage.RaftStorageDirectory (RaftStorageDirectory.java:analyzeStorage(246)) - The storage directory /workdir/hadoop-ozone/integration-test/target/test-dir/MiniOzoneClusterImpl-e7174f9f-1f65-4936-ace6-f3a8e5d3c0c8/datanode-0/data/ratis/cb82132d-c226-4c4a-b68a-dd580b7ad7e1 does not exist. Creating ...
2019-09-16 15:59:34,690 [pool-51-thread-1] INFO  storage.RaftStorageDirectory (RaftStorageDirectory.java:tryLock(328)) - Lock on /workdir/hadoop-ozone/integration-test/target/test-dir/MiniOzoneClusterImpl-e7174f9f-1f65-4936-ace6-f3a8e5d3c0c8/datanode-0/data/ratis/cb82132d-c226-4c4a-b68a-dd580b7ad7e1/in_use.lock acquired by nodename 22961@pr-hdds-2022-qxstf-1422721469
2019-09-16 15:59:34,716 [pool-51-thread-1] INFO  storage.RaftStorage (RaftStorage.java:format(72)) - Storage directory /workdir/hadoop-ozone/integration-test/target/test-dir/MiniOzoneClusterImpl-e7174f9f-1f65-4936-ace6-f3a8e5d3c0c8/datanode-0/data/ratis/cb82132d-c226-4c4a-b68a-dd580b7ad7e1 has been successfully formatted.
2019-09-16 15:59:34,716 [pool-51-thread-1] INFO  ratis.ContainerStateMachine (ContainerStateMachine.java:loadSnapshot(230)) - group-DD580B7AD7E1: The snapshot info is null. Setting the last applied indexto:(t:0, i:~)
2019-09-16 15:59:34,716 [pool-51-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.notification.no-leader.timeout = 120s (custom)
2019-09-16 15:59:34,716 [pool-51-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.log.use.memory = false (default)
2019-09-16 15:59:34,717 [pool-51-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.log.purge.gap = 1000000 (custom)
2019-09-16 15:59:34,717 [pool-51-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.log.appender.buffer.byte-limit = 33554432 (custom)
2019-09-16 15:59:34,717 [pool-51-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.log.segment.size.max = 1048576 (custom)
2019-09-16 15:59:34,717 [pool-51-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.log.segment.cache.num.max = 2 (custom)
2019-09-16 15:59:34,717 [pool-51-thread-1] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:<init>(172)) - new f3e3a3a3-846b-4347-a380-93d47fe145fc@group-DD580B7AD7E1-SegmentedRaftLogWorker for RaftStorage:Storage Directory /workdir/hadoop-ozone/integration-test/target/test-dir/MiniOzoneClusterImpl-e7174f9f-1f65-4936-ace6-f3a8e5d3c0c8/datanode-0/data/ratis/cb82132d-c226-4c4a-b68a-dd580b7ad7e1
2019-09-16 15:59:34,718 [pool-51-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.log.queue.byte-limit = 2147483647 (custom)
2019-09-16 15:59:34,718 [pool-51-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.log.queue.element-limit = 1024 (custom)
2019-09-16 15:59:34,718 [pool-51-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.log.segment.size.max = 1048576 (custom)
2019-09-16 15:59:34,718 [pool-51-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.log.preallocated.size = 16384 (custom)
2019-09-16 15:59:34,718 [pool-51-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.log.write.buffer.size = 33554432 (custom)
2019-09-16 15:59:34,719 [pool-51-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.log.force.sync.num = 128 (default)
2019-09-16 15:59:34,719 [pool-51-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.log.statemachine.data.sync = true (default)
2019-09-16 15:59:34,719 [pool-51-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.log.statemachine.data.sync.timeout = 10s (default)
2019-09-16 15:59:34,719 [pool-51-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.log.statemachine.data.sync.timeout.retry = -1 (default)
2019-09-16 15:59:34,720 [pool-51-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.log.statemachine.data.caching.enabled = true (custom)
2019-09-16 15:59:34,720 [pool-51-thread-1] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:lambda$new$0(132)) - f3e3a3a3-846b-4347-a380-93d47fe145fc@group-DD580B7AD7E1-SegmentedRaftLogWorker: flushIndex: setUnconditionally 0 -> -1
2019-09-16 15:59:34,720 [pool-51-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.snapshot.auto.trigger.enabled = true (custom)
2019-09-16 15:59:34,721 [pool-51-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.snapshot.auto.trigger.threshold = 1 (custom)
2019-09-16 15:59:34,721 [pool-51-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.snapshot.retention.num.files = 5 (custom)
2019-09-16 15:59:34,721 [pool-51-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.retrycache.expirytime = 600000ms (custom)
2019-09-16 15:59:34,726 [pool-51-thread-1] INFO  impl.RaftServerImpl (RaftServerImpl.java:start(185)) - f3e3a3a3-846b-4347-a380-93d47fe145fc@group-DD580B7AD7E1: start as a follower, conf=-1: [f3e3a3a3-846b-4347-a380-93d47fe145fc:192.168.5.184:33964], old=null
2019-09-16 15:59:34,727 [pool-51-thread-1] INFO  impl.RaftServerImpl (RaftServerImpl.java:setRole(174)) - f3e3a3a3-846b-4347-a380-93d47fe145fc@group-DD580B7AD7E1: changes role from      null to FOLLOWER at term 0 for startAsFollower
2019-09-16 15:59:34,727 [pool-51-thread-1] INFO  impl.RoleInfo (RoleInfo.java:updateAndGet(143)) - f3e3a3a3-846b-4347-a380-93d47fe145fc: start FollowerState
2019-09-16 15:59:34,727 [pool-51-thread-1] INFO  util.JmxRegister (JmxRegister.java:tryRegister(44)) - Successfully registered JMX Bean with object name Ratis:service=RaftServer,group=group-DD580B7AD7E1,id=f3e3a3a3-846b-4347-a380-93d47fe145fc
2019-09-16 15:59:34,738 [RatisPipelineUtilsThread] INFO  pipeline.PipelineStateManager (PipelineStateManager.java:addPipeline(56)) - Created pipeline Pipeline[ Id: cb82132d-c226-4c4a-b68a-dd580b7ad7e1, Nodes: f3e3a3a3-846b-4347-a380-93d47fe145fc{ip: 192.168.5.184, host: pr-hdds-2022-qxstf-1422721469, networkLocation: /default-rack, certSerialId: null}, Type:RATIS, Factor:ONE, State:OPEN]
2019-09-16 15:59:36,621 [main] WARN  io.KeyOutputStream (KeyOutputStream.java:handleException(276)) - Encountered exception java.io.IOException: Unexpected Storage Container Exception: java.util.concurrent.CompletionException: java.util.concurrent.CompletionException: org.apache.ratis.protocol.GroupMismatchException: f3e3a3a3-846b-4347-a380-93d47fe145fc: group-0FC4C63A4CC2 not found. on the pipeline Pipeline[ Id: 0fa56b19-b315-4e7a-8e87-0fc4c63a4cc2, Nodes: f3e3a3a3-846b-4347-a380-93d47fe145fc{ip: 192.168.5.184, host: pr-hdds-2022-qxstf-1422721469, networkLocation: /default-rack, certSerialId: null}, Type:RATIS, Factor:ONE, State:OPEN]. The last committed block length is 5, uncommitted data length is 5 retry count 0
2019-09-16 15:59:36,671 [grpc-default-executor-0] INFO  client.GrpcClientProtocolClient (GrpcClientProtocolClient.java:onNext(264)) - client-5C3ED3ADB758->f3e3a3a3-846b-4347-a380-93d47fe145fc: receive RaftClientReply:client-5C3ED3ADB758->f3e3a3a3-846b-4347-a380-93d47fe145fc@group-DD580B7AD7E1, cid=17, FAILED org.apache.ratis.protocol.NotLeaderException: Server f3e3a3a3-846b-4347-a380-93d47fe145fc@group-DD580B7AD7E1 is not the leader, logIndex=0, commits[f3e3a3a3-846b-4347-a380-93d47fe145fc:c-1]
2019-09-16 15:59:38,693 [grpc-default-executor-1] INFO  client.GrpcClientProtocolClient (GrpcClientProtocolClient.java:onNext(264)) - client-5C3ED3ADB758->f3e3a3a3-846b-4347-a380-93d47fe145fc: receive RaftClientReply:client-5C3ED3ADB758->f3e3a3a3-846b-4347-a380-93d47fe145fc@group-DD580B7AD7E1, cid=17, FAILED org.apache.ratis.protocol.NotLeaderException: Server f3e3a3a3-846b-4347-a380-93d47fe145fc@group-DD580B7AD7E1 is not the leader, logIndex=0, commits[f3e3a3a3-846b-4347-a380-93d47fe145fc:c-1]
2019-09-16 15:59:39,820 [Thread-257] INFO  impl.FollowerState (FollowerState.java:run(106)) - f3e3a3a3-846b-4347-a380-93d47fe145fc:group-DD580B7AD7E1 changes to CANDIDATE, lastRpcTime:5092, electionTimeout:5092ms
2019-09-16 15:59:39,821 [Thread-257] INFO  impl.RoleInfo (RoleInfo.java:shutdownFollowerState(121)) - f3e3a3a3-846b-4347-a380-93d47fe145fc: shutdown FollowerState
2019-09-16 15:59:39,821 [Thread-257] INFO  impl.RaftServerImpl (RaftServerImpl.java:setRole(174)) - f3e3a3a3-846b-4347-a380-93d47fe145fc@group-DD580B7AD7E1: changes role from  FOLLOWER to CANDIDATE at term 0 for changeToCandidate
2019-09-16 15:59:39,822 [Thread-257] INFO  impl.RoleInfo (RoleInfo.java:updateAndGet(143)) - f3e3a3a3-846b-4347-a380-93d47fe145fc: start LeaderElection
2019-09-16 15:59:39,853 [f3e3a3a3-846b-4347-a380-93d47fe145fc@group-DD580B7AD7E1:LeaderElection6] INFO  impl.LeaderElection (LeaderElection.java:askForVotes(182)) - f3e3a3a3-846b-4347-a380-93d47fe145fc@group-DD580B7AD7E1:LeaderElection6: begin an election at term 1 for -1: [f3e3a3a3-846b-4347-a380-93d47fe145fc:192.168.5.184:33964], old=null
2019-09-16 15:59:39,853 [f3e3a3a3-846b-4347-a380-93d47fe145fc@group-DD580B7AD7E1:LeaderElection6] INFO  impl.RoleInfo (RoleInfo.java:shutdownLeaderElection(134)) - f3e3a3a3-846b-4347-a380-93d47fe145fc: shutdown LeaderElection
2019-09-16 15:59:39,854 [f3e3a3a3-846b-4347-a380-93d47fe145fc@group-DD580B7AD7E1:LeaderElection6] INFO  impl.RaftServerImpl (RaftServerImpl.java:setRole(174)) - f3e3a3a3-846b-4347-a380-93d47fe145fc@group-DD580B7AD7E1: changes role from CANDIDATE to LEADER at term 1 for changeToLeader
2019-09-16 15:59:39,854 [f3e3a3a3-846b-4347-a380-93d47fe145fc@group-DD580B7AD7E1:LeaderElection6] INFO  impl.RaftServerImpl (ServerState.java:setLeader(253)) - f3e3a3a3-846b-4347-a380-93d47fe145fc@group-DD580B7AD7E1: change Leader from null to f3e3a3a3-846b-4347-a380-93d47fe145fc at term 1 for becomeLeader, leader elected after 5137ms
2019-09-16 15:59:39,854 [f3e3a3a3-846b-4347-a380-93d47fe145fc@group-DD580B7AD7E1:LeaderElection6] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.staging.catchup.gap = 1000 (default)
2019-09-16 15:59:39,855 [f3e3a3a3-846b-4347-a380-93d47fe145fc@group-DD580B7AD7E1:LeaderElection6] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.rpc.sleep.time = 25ms (default)
2019-09-16 15:59:39,855 [f3e3a3a3-846b-4347-a380-93d47fe145fc@group-DD580B7AD7E1:LeaderElection6] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.write.element-limit = 4096 (default)
2019-09-16 15:59:39,855 [f3e3a3a3-846b-4347-a380-93d47fe145fc@group-DD580B7AD7E1:LeaderElection6] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.watch.timeout = 10s (default)
2019-09-16 15:59:39,856 [f3e3a3a3-846b-4347-a380-93d47fe145fc@group-DD580B7AD7E1:LeaderElection6] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.watch.timeout.denomination = 1s (default)
2019-09-16 15:59:39,856 [f3e3a3a3-846b-4347-a380-93d47fe145fc@group-DD580B7AD7E1:LeaderElection6] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.watch.element-limit = 65536 (default)
2019-09-16 15:59:39,864 [f3e3a3a3-846b-4347-a380-93d47fe145fc@group-DD580B7AD7E1:LeaderElection6] INFO  impl.RoleInfo (RoleInfo.java:updateAndGet(143)) - f3e3a3a3-846b-4347-a380-93d47fe145fc: start LeaderState
2019-09-16 15:59:39,864 [f3e3a3a3-846b-4347-a380-93d47fe145fc@group-DD580B7AD7E1:LeaderElection6] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:startLogSegment(380)) - f3e3a3a3-846b-4347-a380-93d47fe145fc@group-DD580B7AD7E1-SegmentedRaftLogWorker: Starting segment from index:0
2019-09-16 15:59:39,867 [f3e3a3a3-846b-4347-a380-93d47fe145fc@group-DD580B7AD7E1:LeaderElection6] INFO  impl.RaftServerImpl (ServerState.java:setRaftConf(354)) - f3e3a3a3-846b-4347-a380-93d47fe145fc@group-DD580B7AD7E1: set configuration 0: [f3e3a3a3-846b-4347-a380-93d47fe145fc:192.168.5.184:33964], old=null at 0
2019-09-16 15:59:39,917 [f3e3a3a3-846b-4347-a380-93d47fe145fc@group-DD580B7AD7E1-SegmentedRaftLogWorker] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:execute(569)) - f3e3a3a3-846b-4347-a380-93d47fe145fc@group-DD580B7AD7E1-SegmentedRaftLogWorker: created new log segment /workdir/hadoop-ozone/integration-test/target/test-dir/MiniOzoneClusterImpl-e7174f9f-1f65-4936-ace6-f3a8e5d3c0c8/datanode-0/data/ratis/cb82132d-c226-4c4a-b68a-dd580b7ad7e1/current/log_inprogress_0
2019-09-16 15:59:40,932 [f3e3a3a3-846b-4347-a380-93d47fe145fc@group-DD580B7AD7E1-StateMachineUpdater] INFO  ratis.ContainerStateMachine (ContainerStateMachine.java:takeSnapshot(289)) - group-DD580B7AD7E1: Taking a snapshot at:(t:1, i:1) file /workdir/hadoop-ozone/integration-test/target/test-dir/MiniOzoneClusterImpl-e7174f9f-1f65-4936-ace6-f3a8e5d3c0c8/datanode-0/data/ratis/cb82132d-c226-4c4a-b68a-dd580b7ad7e1/sm/snapshot.1_1
2019-09-16 15:59:40,935 [grpc-default-executor-1] INFO  client.GrpcClientProtocolClient (GrpcClientProtocolClient.java:onNext(264)) - client-5C3ED3ADB758->f3e3a3a3-846b-4347-a380-93d47fe145fc: receive RaftClientReply:client-5C3ED3ADB758->f3e3a3a3-846b-4347-a380-93d47fe145fc@group-DD580B7AD7E1, cid=17, SUCCESS, logIndex=1, commits[f3e3a3a3-846b-4347-a380-93d47fe145fc:c1]
2019-09-16 15:59:40,986 [f3e3a3a3-846b-4347-a380-93d47fe145fc@group-DD580B7AD7E1-StateMachineUpdater] INFO  ratis.ContainerStateMachine (ContainerStateMachine.java:takeSnapshot(300)) - group-DD580B7AD7E1: Finished taking a snapshot at:(t:1, i:1) file:/workdir/hadoop-ozone/integration-test/target/test-dir/MiniOzoneClusterImpl-e7174f9f-1f65-4936-ace6-f3a8e5d3c0c8/datanode-0/data/ratis/cb82132d-c226-4c4a-b68a-dd580b7ad7e1/sm/snapshot.1_1 time:54
2019-09-16 15:59:40,986 [f3e3a3a3-846b-4347-a380-93d47fe145fc@group-DD580B7AD7E1-StateMachineUpdater] INFO  impl.StateMachineUpdater (StateMachineUpdater.java:takeSnapshot(258)) - f3e3a3a3-846b-4347-a380-93d47fe145fc@group-DD580B7AD7E1-StateMachineUpdater: Took a snapshot at index 1
2019-09-16 15:59:40,986 [f3e3a3a3-846b-4347-a380-93d47fe145fc@group-DD580B7AD7E1-StateMachineUpdater] INFO  impl.StateMachineUpdater (StateMachineUpdater.java:lambda$new$0(83)) - f3e3a3a3-846b-4347-a380-93d47fe145fc@group-DD580B7AD7E1-StateMachineUpdater: snapshotIndex: updateIncreasingly -1 -> 1
2019-09-16 15:59:41,065 [f3e3a3a3-846b-4347-a380-93d47fe145fc@group-DD580B7AD7E1-StateMachineUpdater] INFO  ratis.ContainerStateMachine (ContainerStateMachine.java:takeSnapshot(289)) - group-DD580B7AD7E1: Taking a snapshot at:(t:1, i:3) file /workdir/hadoop-ozone/integration-test/target/test-dir/MiniOzoneClusterImpl-e7174f9f-1f65-4936-ace6-f3a8e5d3c0c8/datanode-0/data/ratis/cb82132d-c226-4c4a-b68a-dd580b7ad7e1/sm/snapshot.1_3
2019-09-16 15:59:41,068 [grpc-default-executor-1] INFO  client.GrpcClientProtocolClient (GrpcClientProtocolClient.java:onNext(264)) - client-5C3ED3ADB758->f3e3a3a3-846b-4347-a380-93d47fe145fc: receive RaftClientReply:client-5C3ED3ADB758->f3e3a3a3-846b-4347-a380-93d47fe145fc@group-DD580B7AD7E1, cid=18, SUCCESS, logIndex=3, commits[f3e3a3a3-846b-4347-a380-93d47fe145fc:c4]
2019-09-16 15:59:41,106 [Datanode State Machine Thread - 0] INFO  statemachine.DatanodeStateMachine (DatanodeStateMachine.java:lambda$startDaemon$0(350)) - Ozone container server started.
2019-09-16 15:59:41,114 [f3e3a3a3-846b-4347-a380-93d47fe145fc@group-DD580B7AD7E1-StateMachineUpdater] INFO  ratis.ContainerStateMachine (ContainerStateMachine.java:takeSnapshot(300)) - group-DD580B7AD7E1: Finished taking a snapshot at:(t:1, i:3) file:/workdir/hadoop-ozone/integration-test/target/test-dir/MiniOzoneClusterImpl-e7174f9f-1f65-4936-ace6-f3a8e5d3c0c8/datanode-0/data/ratis/cb82132d-c226-4c4a-b68a-dd580b7ad7e1/sm/snapshot.1_3 time:49
2019-09-16 15:59:41,114 [f3e3a3a3-846b-4347-a380-93d47fe145fc@group-DD580B7AD7E1-StateMachineUpdater] INFO  impl.StateMachineUpdater (StateMachineUpdater.java:takeSnapshot(258)) - f3e3a3a3-846b-4347-a380-93d47fe145fc@group-DD580B7AD7E1-StateMachineUpdater: Took a snapshot at index 3
2019-09-16 15:59:41,114 [f3e3a3a3-846b-4347-a380-93d47fe145fc@group-DD580B7AD7E1-StateMachineUpdater] INFO  impl.StateMachineUpdater (StateMachineUpdater.java:lambda$new$0(83)) - f3e3a3a3-846b-4347-a380-93d47fe145fc@group-DD580B7AD7E1-StateMachineUpdater: snapshotIndex: updateIncreasingly 1 -> 3
2019-09-16 15:59:41,114 [f3e3a3a3-846b-4347-a380-93d47fe145fc@group-DD580B7AD7E1-StateMachineUpdater] INFO  ratis.ContainerStateMachine (ContainerStateMachine.java:takeSnapshot(289)) - group-DD580B7AD7E1: Taking a snapshot at:(t:1, i:3) file /workdir/hadoop-ozone/integration-test/target/test-dir/MiniOzoneClusterImpl-e7174f9f-1f65-4936-ace6-f3a8e5d3c0c8/datanode-0/data/ratis/cb82132d-c226-4c4a-b68a-dd580b7ad7e1/sm/snapshot.1_3
2019-09-16 15:59:41,127 [f3e3a3a3-846b-4347-a380-93d47fe145fc@group-DD580B7AD7E1-StateMachineUpdater] INFO  ratis.ContainerStateMachine (ContainerStateMachine.java:takeSnapshot(300)) - group-DD580B7AD7E1: Finished taking a snapshot at:(t:1, i:3) file:/workdir/hadoop-ozone/integration-test/target/test-dir/MiniOzoneClusterImpl-e7174f9f-1f65-4936-ace6-f3a8e5d3c0c8/datanode-0/data/ratis/cb82132d-c226-4c4a-b68a-dd580b7ad7e1/sm/snapshot.1_3 time:13
2019-09-16 15:59:41,127 [f3e3a3a3-846b-4347-a380-93d47fe145fc@group-DD580B7AD7E1-StateMachineUpdater] INFO  impl.StateMachineUpdater (StateMachineUpdater.java:takeSnapshot(258)) - f3e3a3a3-846b-4347-a380-93d47fe145fc@group-DD580B7AD7E1-StateMachineUpdater: Took a snapshot at index 3
2019-09-16 15:59:41,127 [f3e3a3a3-846b-4347-a380-93d47fe145fc@group-DD580B7AD7E1-StateMachineUpdater] INFO  impl.StateMachineUpdater (StateMachineUpdater.java:lambda$new$0(83)) - f3e3a3a3-846b-4347-a380-93d47fe145fc@group-DD580B7AD7E1-StateMachineUpdater: snapshotIndex: updateIncreasingly 3 -> 3
2019-09-16 15:59:43,993 [EventQueue-StaleNodeForStaleNodeHandler] INFO  node.StaleNodeHandler (StaleNodeHandler.java:onMessage(58)) - Datanode f3e3a3a3-846b-4347-a380-93d47fe145fc{ip: 192.168.5.184, host: pr-hdds-2022-qxstf-1422721469, networkLocation: /default-rack, certSerialId: null} moved to stale state. Finalizing its pipelines [PipelineID=cb82132d-c226-4c4a-b68a-dd580b7ad7e1]
2019-09-16 15:59:43,994 [EventQueue-StaleNodeForStaleNodeHandler] INFO  pipeline.SCMPipelineManager (SCMPipelineManager.java:finalizeAndDestroyPipeline(311)) - destroying pipeline:Pipeline[ Id: cb82132d-c226-4c4a-b68a-dd580b7ad7e1, Nodes: f3e3a3a3-846b-4347-a380-93d47fe145fc{ip: 192.168.5.184, host: pr-hdds-2022-qxstf-1422721469, networkLocation: /default-rack, certSerialId: null}, Type:RATIS, Factor:ONE, State:OPEN]
2019-09-16 15:59:43,994 [EventQueue-StaleNodeForStaleNodeHandler] INFO  pipeline.PipelineStateManager (PipelineStateManager.java:finalizePipeline(123)) - Pipeline Pipeline[ Id: cb82132d-c226-4c4a-b68a-dd580b7ad7e1, Nodes: f3e3a3a3-846b-4347-a380-93d47fe145fc{ip: 192.168.5.184, host: pr-hdds-2022-qxstf-1422721469, networkLocation: /default-rack, certSerialId: null}, Type:RATIS, Factor:ONE, State:CLOSED] moved to CLOSED state
2019-09-16 15:59:43,994 [EventQueue-CloseContainerForCloseContainerEventHandler] INFO  container.CloseContainerEventHandler (CloseContainerEventHandler.java:onMessage(61)) - Close container Event triggered for container : #4
2019-09-16 15:59:46,083 [main] INFO  ozoneimpl.OzoneContainer (OzoneContainer.java:stop(231)) - Attempting to stop container services.
2019-09-16 15:59:46,085 [main] INFO  impl.RaftServerProxy (RaftServerProxy.java:lambda$close$4(314)) - f3e3a3a3-846b-4347-a380-93d47fe145fc: close
2019-09-16 15:59:46,085 [main] INFO  impl.RaftServerImpl (RaftServerImpl.java:lambda$shutdown$3(251)) - f3e3a3a3-846b-4347-a380-93d47fe145fc@group-DD580B7AD7E1: shutdown
2019-09-16 15:59:46,086 [main] INFO  util.JmxRegister (JmxRegister.java:unregister(73)) - Successfully un-registered JMX Bean with object name Ratis:service=RaftServer,group=group-DD580B7AD7E1,id=f3e3a3a3-846b-4347-a380-93d47fe145fc
2019-09-16 15:59:46,087 [main] INFO  impl.RoleInfo (RoleInfo.java:shutdownLeaderState(104)) - f3e3a3a3-846b-4347-a380-93d47fe145fc: shutdown LeaderState
2019-09-16 15:59:46,087 [main] INFO  impl.PendingRequests (PendingRequests.java:sendNotLeaderResponses(202)) - f3e3a3a3-846b-4347-a380-93d47fe145fc-PendingRequests: sendNotLeaderResponses
2019-09-16 15:59:46,092 [main] INFO  impl.StateMachineUpdater (StateMachineUpdater.java:stopAndJoin(125)) - f3e3a3a3-846b-4347-a380-93d47fe145fc@group-DD580B7AD7E1-StateMachineUpdater: set stopIndex = 4
2019-09-16 15:59:46,092 [f3e3a3a3-846b-4347-a380-93d47fe145fc@group-DD580B7AD7E1-StateMachineUpdater] INFO  ratis.ContainerStateMachine (ContainerStateMachine.java:takeSnapshot(289)) - group-DD580B7AD7E1: Taking a snapshot at:(t:1, i:3) file /workdir/hadoop-ozone/integration-test/target/test-dir/MiniOzoneClusterImpl-e7174f9f-1f65-4936-ace6-f3a8e5d3c0c8/datanode-0/data/ratis/cb82132d-c226-4c4a-b68a-dd580b7ad7e1/sm/snapshot.1_3
2019-09-16 15:59:46,106 [f3e3a3a3-846b-4347-a380-93d47fe145fc@group-DD580B7AD7E1-StateMachineUpdater] INFO  ratis.ContainerStateMachine (ContainerStateMachine.java:takeSnapshot(300)) - group-DD580B7AD7E1: Finished taking a snapshot at:(t:1, i:3) file:/workdir/hadoop-ozone/integration-test/target/test-dir/MiniOzoneClusterImpl-e7174f9f-1f65-4936-ace6-f3a8e5d3c0c8/datanode-0/data/ratis/cb82132d-c226-4c4a-b68a-dd580b7ad7e1/sm/snapshot.1_3 time:14
2019-09-16 15:59:46,106 [f3e3a3a3-846b-4347-a380-93d47fe145fc@group-DD580B7AD7E1-StateMachineUpdater] INFO  impl.StateMachineUpdater (StateMachineUpdater.java:takeSnapshot(258)) - f3e3a3a3-846b-4347-a380-93d47fe145fc@group-DD580B7AD7E1-StateMachineUpdater: Took a snapshot at index 3
2019-09-16 15:59:46,107 [f3e3a3a3-846b-4347-a380-93d47fe145fc@group-DD580B7AD7E1-StateMachineUpdater] INFO  impl.StateMachineUpdater (StateMachineUpdater.java:lambda$new$0(83)) - f3e3a3a3-846b-4347-a380-93d47fe145fc@group-DD580B7AD7E1-StateMachineUpdater: snapshotIndex: updateIncreasingly 3 -> 3
2019-09-16 15:59:46,107 [f3e3a3a3-846b-4347-a380-93d47fe145fc@group-DD580B7AD7E1-StateMachineUpdater] INFO  ratis.ContainerStateMachine (ContainerStateMachine.java:takeSnapshot(289)) - group-DD580B7AD7E1: Taking a snapshot at:(t:1, i:3) file /workdir/hadoop-ozone/integration-test/target/test-dir/MiniOzoneClusterImpl-e7174f9f-1f65-4936-ace6-f3a8e5d3c0c8/datanode-0/data/ratis/cb82132d-c226-4c4a-b68a-dd580b7ad7e1/sm/snapshot.1_3
2019-09-16 15:59:46,119 [f3e3a3a3-846b-4347-a380-93d47fe145fc@group-DD580B7AD7E1-StateMachineUpdater] INFO  ratis.ContainerStateMachine (ContainerStateMachine.java:takeSnapshot(300)) - group-DD580B7AD7E1: Finished taking a snapshot at:(t:1, i:3) file:/workdir/hadoop-ozone/integration-test/target/test-dir/MiniOzoneClusterImpl-e7174f9f-1f65-4936-ace6-f3a8e5d3c0c8/datanode-0/data/ratis/cb82132d-c226-4c4a-b68a-dd580b7ad7e1/sm/snapshot.1_3 time:12
2019-09-16 15:59:46,120 [f3e3a3a3-846b-4347-a380-93d47fe145fc@group-DD580B7AD7E1-StateMachineUpdater] INFO  impl.StateMachineUpdater (StateMachineUpdater.java:takeSnapshot(258)) - f3e3a3a3-846b-4347-a380-93d47fe145fc@group-DD580B7AD7E1-StateMachineUpdater: Took a snapshot at index 3
2019-09-16 15:59:46,120 [f3e3a3a3-846b-4347-a380-93d47fe145fc@group-DD580B7AD7E1-StateMachineUpdater] INFO  impl.StateMachineUpdater (StateMachineUpdater.java:lambda$new$0(83)) - f3e3a3a3-846b-4347-a380-93d47fe145fc@group-DD580B7AD7E1-StateMachineUpdater: snapshotIndex: updateIncreasingly 3 -> 3
2019-09-16 15:59:46,120 [main] INFO  impl.RaftServerImpl (ServerState.java:close(385)) - f3e3a3a3-846b-4347-a380-93d47fe145fc@group-DD580B7AD7E1: closes. applyIndex: 4
2019-09-16 15:59:46,121 [f3e3a3a3-846b-4347-a380-93d47fe145fc@group-DD580B7AD7E1-SegmentedRaftLogWorker] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:run(313)) - f3e3a3a3-846b-4347-a380-93d47fe145fc@group-DD580B7AD7E1-SegmentedRaftLogWorker was interrupted, exiting. There are 0 tasks remaining in the queue.
2019-09-16 15:59:46,122 [main] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:close(228)) - f3e3a3a3-846b-4347-a380-93d47fe145fc@group-DD580B7AD7E1-SegmentedRaftLogWorker close()
2019-09-16 15:59:46,123 [main] INFO  server.GrpcService (GrpcService.java:closeImpl(164)) - f3e3a3a3-846b-4347-a380-93d47fe145fc: shutdown server with port 33964 now
2019-09-16 15:59:46,125 [main] INFO  server.GrpcService (GrpcService.java:closeImpl(172)) - f3e3a3a3-846b-4347-a380-93d47fe145fc: shutdown server with port 33964 successfully
2019-09-16 15:59:46,132 [refreshUsed-/workdir/hadoop-ozone/integration-test/target/test-dir/MiniOzoneClusterImpl-e7174f9f-1f65-4936-ace6-f3a8e5d3c0c8/datanode-0/data/containers] WARN  fs.CachingGetSpaceUsed (CachingGetSpaceUsed.java:run(183)) - Thread Interrupted waiting to refresh disk information: sleep interrupted
2019-09-16 15:59:46,158 [main] INFO  utils.BackgroundService (BackgroundService.java:shutdown(148)) - Shutting down service BlockDeletingService
2019-09-16 15:59:46,160 [main] INFO  statemachine.DatanodeStateMachine (DatanodeStateMachine.java:stopDaemon(395)) - Ozone container server stopped.
2019-09-16 15:59:46,162 [main] INFO  handler.ContextHandler (ContextHandler.java:doStop(910)) - Stopped o.e.j.w.WebAppContext@513b52af{/,null,UNAVAILABLE}{/hddsDatanode}
2019-09-16 15:59:46,163 [main] INFO  server.AbstractConnector (AbstractConnector.java:doStop(318)) - Stopped ServerConnector@5a8c93{HTTP/1.1,[http/1.1]}{0.0.0.0:43474}
2019-09-16 15:59:46,163 [main] INFO  handler.ContextHandler (ContextHandler.java:doStop(910)) - Stopped o.e.j.s.ServletContextHandler@341b13a8{/static,jar:file:/home/user/.m2/repository/org/apache/hadoop/hadoop-hdds-container-service/0.5.0-SNAPSHOT/hadoop-hdds-container-service-0.5.0-SNAPSHOT.jar!/webapps/static,UNAVAILABLE}
2019-09-16 15:59:46,164 [main] INFO  handler.ContextHandler (ContextHandler.java:doStop(910)) - Stopped o.e.j.s.ServletContextHandler@6e3ecf5c{/logs,file:///workdir/hadoop-ozone/integration-test/target/log,UNAVAILABLE}
2019-09-16 15:59:46,165 [main] INFO  ozone.MiniOzoneClusterImpl (MiniOzoneClusterImpl.java:lambda$waitForClusterToBeReady$0(145)) - Cluster is ready. Got 0 of 0 DN Heartbeats.
2019-09-16 15:59:46,169 [main] INFO  impl.MetricsSystemImpl (MetricsSystemImpl.java:init(158)) - HddsDatanode metrics system started (again)
2019-09-16 15:59:46,176 [main] INFO  ozone.HddsDatanodeService (HddsDatanodeService.java:start(184)) - HddsDatanodeService host:pr-hdds-2022-qxstf-1422721469 ip:192.168.5.184
2019-09-16 15:59:46,179 [main] INFO  volume.VolumeUsage (VolumeUsage.java:loadScmUsed(144)) - Cached ScmUsed found for /workdir/hadoop-ozone/integration-test/target/test-dir/MiniOzoneClusterImpl-e7174f9f-1f65-4936-ace6-f3a8e5d3c0c8/datanode-0/data/containers : 4096 
2019-09-16 15:59:46,180 [main] INFO  volume.HddsVolume (HddsVolume.java:<init>(176)) - Creating Volume: /workdir/hadoop-ozone/integration-test/target/test-dir/MiniOzoneClusterImpl-e7174f9f-1f65-4936-ace6-f3a8e5d3c0c8/datanode-0/data/containers/hdds of  storage type : DISK and capacity : 1482555576320
2019-09-16 15:59:46,180 [main] INFO  volume.VolumeSet (VolumeSet.java:initializeVolumeSet(170)) - Added Volume : /workdir/hadoop-ozone/integration-test/target/test-dir/MiniOzoneClusterImpl-e7174f9f-1f65-4936-ace6-f3a8e5d3c0c8/datanode-0/data/containers/hdds to VolumeSet
2019-09-16 15:59:46,180 [main] INFO  volume.ThrottledAsyncChecker (ThrottledAsyncChecker.java:schedule(139)) - Scheduling a check for org.apache.hadoop.ozone.container.common.volume.HddsVolume@134ff8f8
2019-09-16 15:59:46,181 [main] INFO  volume.HddsVolumeChecker (HddsVolumeChecker.java:checkAllVolumes(202)) - Scheduled health check for volume org.apache.hadoop.ozone.container.common.volume.HddsVolume@134ff8f8
2019-09-16 15:59:46,213 [main] INFO  impl.RaftServerProxy (ConfUtils.java:logGet(43)) - raft.rpc.type = GRPC (default)
2019-09-16 15:59:46,213 [main] INFO  grpc.GrpcFactory (GrpcFactory.java:checkPooledByteBufAllocatorUseCacheForAllThreads(45)) - PERFORMANCE WARNING: useCacheForAllThreads is true that may cause Netty to create a lot garbage objects and, as a result, trigger GC.
	It is recommended to disable useCacheForAllThreads by setting -Dorg.apache.ratis.thirdparty.io.netty.allocator.useCacheForAllThreads=false in command line.
2019-09-16 15:59:46,213 [main] INFO  grpc.GrpcConfigKeys$Server (ConfUtils.java:logGet(43)) - raft.grpc.server.port = 33964 (custom)
2019-09-16 15:59:46,214 [main] INFO  server.GrpcService (ConfUtils.java:logGet(43)) - raft.grpc.message.size.max = 33570816 (custom)
2019-09-16 15:59:46,214 [main] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.log.appender.buffer.byte-limit = 33554432 (custom)
2019-09-16 15:59:46,214 [main] INFO  server.GrpcService (ConfUtils.java:logGet(43)) - raft.grpc.flow.control.window = 1MB (=1048576) (default)
2019-09-16 15:59:46,214 [main] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.rpc.request.timeout = 3000ms (default)
2019-09-16 15:59:46,215 [main] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.storage.dir = [/workdir/hadoop-ozone/integration-test/target/test-dir/MiniOzoneClusterImpl-e7174f9f-1f65-4936-ace6-f3a8e5d3c0c8/datanode-0/data/ratis] (custom)
2019-09-16 15:59:46,216 [main] INFO  impl.RaftServerProxy (RaftServerProxy.java:lambda$null$0(191)) - f3e3a3a3-846b-4347-a380-93d47fe145fc: found a subdirectory /workdir/hadoop-ozone/integration-test/target/test-dir/MiniOzoneClusterImpl-e7174f9f-1f65-4936-ace6-f3a8e5d3c0c8/datanode-0/data/ratis/cb82132d-c226-4c4a-b68a-dd580b7ad7e1
2019-09-16 15:59:46,216 [main] INFO  impl.RaftServerProxy (RaftServerProxy.java:addNew(89)) - f3e3a3a3-846b-4347-a380-93d47fe145fc: addNew group-DD580B7AD7E1:[] returns group-DD580B7AD7E1:java.util.concurrent.CompletableFuture@62b790a5[Not completed]
2019-09-16 15:59:46,220 [pool-63-thread-1] INFO  impl.RaftServerImpl (RaftServerImpl.java:<init>(95)) - f3e3a3a3-846b-4347-a380-93d47fe145fc: new RaftServerImpl for group-DD580B7AD7E1:[] with ContainerStateMachine:uninitialized
2019-09-16 15:59:46,220 [main] INFO  hdfs.DFSUtil (DFSUtil.java:httpServerTemplateForNNAndJN(1641)) - Starting Web-server for hddsDatanode at: http://0.0.0.0:43474
2019-09-16 15:59:46,220 [pool-63-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.rpc.timeout.min = 5s (custom)
2019-09-16 15:59:46,221 [pool-63-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.rpc.timeout.max = 5200ms (custom)
2019-09-16 15:59:46,221 [pool-63-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.rpcslowness.timeout = 120s (custom)
2019-09-16 15:59:46,221 [pool-63-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.sleep.deviation.threshold = 300 (default)
2019-09-16 15:59:46,221 [pool-63-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.log.appender.install.snapshot.enabled = false (custom)
2019-09-16 15:59:46,222 [pool-63-thread-1] INFO  impl.RaftServerImpl (ServerState.java:<init>(103)) - f3e3a3a3-846b-4347-a380-93d47fe145fc@group-DD580B7AD7E1: ConfigurationManager, init=-1: [], old=null, confs=<EMPTY_MAP>
2019-09-16 15:59:46,222 [pool-63-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.storage.dir = [/workdir/hadoop-ozone/integration-test/target/test-dir/MiniOzoneClusterImpl-e7174f9f-1f65-4936-ace6-f3a8e5d3c0c8/datanode-0/data/ratis] (custom)
2019-09-16 15:59:46,223 [main] INFO  server.AuthenticationFilter (AuthenticationFilter.java:constructSecretProvider(240)) - Unable to initialize FileSignerSecretProvider, falling back to use random secrets.
2019-09-16 15:59:46,223 [main] WARN  http.HttpRequestLog (HttpRequestLog.java:getRequestLog(97)) - Jetty request log can only be enabled using Log4j
2019-09-16 15:59:46,225 [main] INFO  http.HttpServer2 (HttpServer2.java:addGlobalFilter(975)) - Added global filter 'safety' (class=org.apache.hadoop.http.HttpServer2$QuotingInputFilter)
2019-09-16 15:59:46,226 [main] INFO  http.HttpServer2 (HttpServer2.java:addFilter(948)) - Added filter static_user_filter (class=org.apache.hadoop.http.lib.StaticUserWebFilter$StaticUserFilter) to context hddsDatanode
2019-09-16 15:59:46,226 [main] INFO  http.HttpServer2 (HttpServer2.java:addFilter(958)) - Added filter static_user_filter (class=org.apache.hadoop.http.lib.StaticUserWebFilter$StaticUserFilter) to context logs
2019-09-16 15:59:46,226 [main] INFO  http.HttpServer2 (HttpServer2.java:addFilter(958)) - Added filter static_user_filter (class=org.apache.hadoop.http.lib.StaticUserWebFilter$StaticUserFilter) to context static
2019-09-16 15:59:46,227 [main] INFO  http.HttpServer2 (HttpServer2.java:bindListener(1191)) - Jetty bound to port 43474
2019-09-16 15:59:46,227 [main] INFO  server.Server (Server.java:doStart(351)) - jetty-9.3.24.v20180605, build timestamp: 2018-06-05T17:11:56Z, git hash: 84205aa28f11a4f31f2a3b86d1bba2cc8ab69827
2019-09-16 15:59:46,229 [main] INFO  handler.ContextHandler (ContextHandler.java:doStart(781)) - Started o.e.j.s.ServletContextHandler@75e27856{/logs,file:///workdir/hadoop-ozone/integration-test/target/log,AVAILABLE}
2019-09-16 15:59:46,230 [main] INFO  handler.ContextHandler (ContextHandler.java:doStart(781)) - Started o.e.j.s.ServletContextHandler@4f4c88f9{/static,jar:file:/home/user/.m2/repository/org/apache/hadoop/hadoop-hdds-container-service/0.5.0-SNAPSHOT/hadoop-hdds-container-service-0.5.0-SNAPSHOT.jar!/webapps/static,AVAILABLE}
2019-09-16 15:59:46,246 [pool-63-thread-1] INFO  storage.RaftStorageDirectory (RaftStorageDirectory.java:tryLock(328)) - Lock on /workdir/hadoop-ozone/integration-test/target/test-dir/MiniOzoneClusterImpl-e7174f9f-1f65-4936-ace6-f3a8e5d3c0c8/datanode-0/data/ratis/cb82132d-c226-4c4a-b68a-dd580b7ad7e1/in_use.lock acquired by nodename 22961@pr-hdds-2022-qxstf-1422721469
2019-09-16 15:59:46,247 [pool-63-thread-1] INFO  ratis.ContainerStateMachine (ContainerStateMachine.java:loadSnapshot(239)) - group-DD580B7AD7E1: Setting the last applied index to (t:1, i:3)
2019-09-16 15:59:46,248 [pool-63-thread-1] INFO  impl.RaftServerImpl (ServerState.java:setRaftConf(354)) - f3e3a3a3-846b-4347-a380-93d47fe145fc@group-DD580B7AD7E1: set configuration 0: [f3e3a3a3-846b-4347-a380-93d47fe145fc:192.168.5.184:33964], old=null at 0
2019-09-16 15:59:46,249 [pool-63-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.notification.no-leader.timeout = 120s (custom)
2019-09-16 15:59:46,249 [pool-63-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.log.use.memory = false (default)
2019-09-16 15:59:46,249 [pool-63-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.log.purge.gap = 1000000 (custom)
2019-09-16 15:59:46,249 [pool-63-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.log.appender.buffer.byte-limit = 33554432 (custom)
2019-09-16 15:59:46,249 [pool-63-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.log.segment.size.max = 1048576 (custom)
2019-09-16 15:59:46,250 [pool-63-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.log.segment.cache.num.max = 2 (custom)
2019-09-16 15:59:46,250 [pool-63-thread-1] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:<init>(172)) - new f3e3a3a3-846b-4347-a380-93d47fe145fc@group-DD580B7AD7E1-SegmentedRaftLogWorker for RaftStorage:Storage Directory /workdir/hadoop-ozone/integration-test/target/test-dir/MiniOzoneClusterImpl-e7174f9f-1f65-4936-ace6-f3a8e5d3c0c8/datanode-0/data/ratis/cb82132d-c226-4c4a-b68a-dd580b7ad7e1
2019-09-16 15:59:46,250 [pool-63-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.log.queue.byte-limit = 2147483647 (custom)
2019-09-16 15:59:46,250 [pool-63-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.log.queue.element-limit = 1024 (custom)
2019-09-16 15:59:46,250 [pool-63-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.log.segment.size.max = 1048576 (custom)
2019-09-16 15:59:46,251 [pool-63-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.log.preallocated.size = 16384 (custom)
2019-09-16 15:59:46,251 [pool-63-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.log.write.buffer.size = 33554432 (custom)
2019-09-16 15:59:46,251 [pool-63-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.log.force.sync.num = 128 (default)
2019-09-16 15:59:46,251 [pool-63-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.log.statemachine.data.sync = true (default)
2019-09-16 15:59:46,251 [pool-63-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.log.statemachine.data.sync.timeout = 10s (default)
2019-09-16 15:59:46,252 [pool-63-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.log.statemachine.data.sync.timeout.retry = -1 (default)
2019-09-16 15:59:46,252 [pool-63-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.log.statemachine.data.caching.enabled = true (custom)
2019-09-16 15:59:46,253 [pool-63-thread-1] INFO  impl.RaftServerImpl (ServerState.java:setRaftConf(354)) - f3e3a3a3-846b-4347-a380-93d47fe145fc@group-DD580B7AD7E1: set configuration 0: [f3e3a3a3-846b-4347-a380-93d47fe145fc:192.168.5.184:33964], old=null at 0
2019-09-16 15:59:46,253 [pool-63-thread-1] INFO  segmented.LogSegment (LogSegment.java:loadSegment(123)) - Successfully read 5 entries from segment file /workdir/hadoop-ozone/integration-test/target/test-dir/MiniOzoneClusterImpl-e7174f9f-1f65-4936-ace6-f3a8e5d3c0c8/datanode-0/data/ratis/cb82132d-c226-4c4a-b68a-dd580b7ad7e1/current/log_inprogress_0
2019-09-16 15:59:46,254 [pool-63-thread-1] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:lambda$new$0(132)) - f3e3a3a3-846b-4347-a380-93d47fe145fc@group-DD580B7AD7E1-SegmentedRaftLogWorker: flushIndex: setUnconditionally 0 -> 4
2019-09-16 15:59:46,264 [main] INFO  handler.ContextHandler (ContextHandler.java:doStart(781)) - Started o.e.j.w.WebAppContext@7219ac49{/,file:///tmp/jetty-0.0.0.0-43474-hddsDatanode-_-any-7874460897117002254.dir/webapp/,AVAILABLE}{/hddsDatanode}
2019-09-16 15:59:46,264 [main] INFO  server.AbstractConnector (AbstractConnector.java:doStart(278)) - Started ServerConnector@21da4b5f{HTTP/1.1,[http/1.1]}{0.0.0.0:43474}
2019-09-16 15:59:46,284 [pool-63-thread-1] INFO  raftlog.RaftLog (RaftLog.java:lambda$new$0(61)) - f3e3a3a3-846b-4347-a380-93d47fe145fc@group-DD580B7AD7E1-SegmentedRaftLog: commitIndex: updateToMax old=3, new=3, updated? false
2019-09-16 15:59:46,285 [main] INFO  server.Server (Server.java:doStart(419)) - Started @79587ms
2019-09-16 15:59:46,285 [main] WARN  impl.MetricsSystemImpl (MetricsSystemImpl.java:register(276)) - Sink prometheus already exists!
2019-09-16 15:59:46,285 [pool-63-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.snapshot.auto.trigger.enabled = true (custom)
2019-09-16 15:59:46,285 [pool-63-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.snapshot.auto.trigger.threshold = 1 (custom)
2019-09-16 15:59:46,286 [pool-63-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.snapshot.retention.num.files = 5 (custom)
2019-09-16 15:59:46,286 [pool-63-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.retrycache.expirytime = 600000ms (custom)
2019-09-16 15:59:46,287 [main] INFO  server.BaseHttpServer (BaseHttpServer.java:updateConnectorAddress(215)) - HTTP server of HDDSDATANODE is listening at http://0.0.0.0:43474
2019-09-16 15:59:46,287 [main] INFO  ozone.MiniOzoneClusterImpl (MiniOzoneClusterImpl.java:lambda$waitForClusterToBeReady$0(145)) - Waiting for cluster to be ready. Got 0 of 1 DN Heartbeats.
2019-09-16 15:59:46,289 [org.apache.hadoop.util.JvmPauseMonitor$Monitor@1e740bcf] INFO  util.JvmPauseMonitor (JvmPauseMonitor.java:run(188)) - Starting JVM pause monitor
2019-09-16 15:59:47,288 [main] INFO  ozone.MiniOzoneClusterImpl (MiniOzoneClusterImpl.java:lambda$waitForClusterToBeReady$0(145)) - Waiting for cluster to be ready. Got 0 of 1 DN Heartbeats.
2019-09-16 15:59:48,288 [main] INFO  ozone.MiniOzoneClusterImpl (MiniOzoneClusterImpl.java:lambda$waitForClusterToBeReady$0(145)) - Waiting for cluster to be ready. Got 0 of 1 DN Heartbeats.
2019-09-16 15:59:48,291 [Datanode State Machine Thread - 0] INFO  ozoneimpl.OzoneContainer (OzoneContainer.java:start(217)) - Attempting to start container services.
2019-09-16 15:59:48,291 [Datanode State Machine Thread - 0] INFO  ozoneimpl.OzoneContainer (OzoneContainer.java:startContainerScrub(179)) - Background container scanner has been disabled.
2019-09-16 15:59:48,292 [Datanode State Machine Thread - 0] INFO  ratis.XceiverServerRatis (XceiverServerRatis.java:start(411)) - Starting XceiverServerRatis f3e3a3a3-846b-4347-a380-93d47fe145fc at port 33964
2019-09-16 15:59:48,303 [Datanode State Machine Thread - 0] INFO  impl.RaftServerImpl (RaftServerImpl.java:start(185)) - f3e3a3a3-846b-4347-a380-93d47fe145fc@group-DD580B7AD7E1: start as a follower, conf=0: [f3e3a3a3-846b-4347-a380-93d47fe145fc:192.168.5.184:33964], old=null
2019-09-16 15:59:48,303 [Datanode State Machine Thread - 0] INFO  impl.RaftServerImpl (RaftServerImpl.java:setRole(174)) - f3e3a3a3-846b-4347-a380-93d47fe145fc@group-DD580B7AD7E1: changes role from      null to FOLLOWER at term 1 for startAsFollower
2019-09-16 15:59:48,303 [Datanode State Machine Thread - 0] INFO  impl.RoleInfo (RoleInfo.java:updateAndGet(143)) - f3e3a3a3-846b-4347-a380-93d47fe145fc: start FollowerState
2019-09-16 15:59:48,304 [Datanode State Machine Thread - 0] INFO  util.JmxRegister (JmxRegister.java:tryRegister(44)) - Successfully registered JMX Bean with object name Ratis:service=RaftServer,group=group-DD580B7AD7E1,id=f3e3a3a3-846b-4347-a380-93d47fe145fc
2019-09-16 15:59:48,305 [Datanode State Machine Thread - 0] INFO  impl.RaftServerProxy (RaftServerProxy.java:lambda$start$3(299)) - f3e3a3a3-846b-4347-a380-93d47fe145fc: start RPC server
2019-09-16 15:59:48,308 [Datanode State Machine Thread - 0] INFO  server.GrpcService (GrpcService.java:startImpl(158)) - f3e3a3a3-846b-4347-a380-93d47fe145fc: GrpcService started, listening on 0.0.0.0/0.0.0.0:33964
2019-09-16 15:59:49,289 [main] INFO  ozone.MiniOzoneClusterImpl (MiniOzoneClusterImpl.java:lambda$waitForClusterToBeReady$0(145)) - Waiting for cluster to be ready. Got 0 of 1 DN Heartbeats.
2019-09-16 15:59:50,290 [main] INFO  ozone.MiniOzoneClusterImpl (MiniOzoneClusterImpl.java:lambda$waitForClusterToBeReady$0(145)) - Waiting for cluster to be ready. Got 0 of 1 DN Heartbeats.
2019-09-16 15:59:51,291 [main] INFO  ozone.MiniOzoneClusterImpl (MiniOzoneClusterImpl.java:lambda$waitForClusterToBeReady$0(145)) - Waiting for cluster to be ready. Got 0 of 1 DN Heartbeats.
2019-09-16 15:59:52,292 [main] INFO  ozone.MiniOzoneClusterImpl (MiniOzoneClusterImpl.java:lambda$waitForClusterToBeReady$0(145)) - Waiting for cluster to be ready. Got 0 of 1 DN Heartbeats.
2019-09-16 15:59:52,321 [grpc-default-executor-1] INFO  impl.RaftServerProxy (RaftServerProxy.java:addNew(89)) - f3e3a3a3-846b-4347-a380-93d47fe145fc: addNew group-157F323A4677:[f3e3a3a3-846b-4347-a380-93d47fe145fc:192.168.5.184:33964] returns group-157F323A4677:java.util.concurrent.CompletableFuture@654c8c65[Not completed]
2019-09-16 15:59:52,325 [pool-63-thread-1] INFO  impl.RaftServerImpl (RaftServerImpl.java:<init>(95)) - f3e3a3a3-846b-4347-a380-93d47fe145fc: new RaftServerImpl for group-157F323A4677:[f3e3a3a3-846b-4347-a380-93d47fe145fc:192.168.5.184:33964] with ContainerStateMachine:uninitialized
2019-09-16 15:59:52,325 [pool-63-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.rpc.timeout.min = 5s (custom)
2019-09-16 15:59:52,326 [pool-63-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.rpc.timeout.max = 5200ms (custom)
2019-09-16 15:59:52,326 [pool-63-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.rpcslowness.timeout = 120s (custom)
2019-09-16 15:59:52,326 [pool-63-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.sleep.deviation.threshold = 300 (default)
2019-09-16 15:59:52,326 [pool-63-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.log.appender.install.snapshot.enabled = false (custom)
2019-09-16 15:59:52,326 [pool-63-thread-1] INFO  impl.RaftServerImpl (ServerState.java:<init>(103)) - f3e3a3a3-846b-4347-a380-93d47fe145fc@group-157F323A4677: ConfigurationManager, init=-1: [f3e3a3a3-846b-4347-a380-93d47fe145fc:192.168.5.184:33964], old=null, confs=<EMPTY_MAP>
2019-09-16 15:59:52,327 [pool-63-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.storage.dir = [/workdir/hadoop-ozone/integration-test/target/test-dir/MiniOzoneClusterImpl-e7174f9f-1f65-4936-ace6-f3a8e5d3c0c8/datanode-0/data/ratis] (custom)
2019-09-16 15:59:52,327 [pool-63-thread-1] INFO  storage.RaftStorageDirectory (RaftStorageDirectory.java:analyzeStorage(246)) - The storage directory /workdir/hadoop-ozone/integration-test/target/test-dir/MiniOzoneClusterImpl-e7174f9f-1f65-4936-ace6-f3a8e5d3c0c8/datanode-0/data/ratis/b70eb6fc-95b1-4d7b-a0d1-157f323a4677 does not exist. Creating ...
2019-09-16 15:59:52,363 [pool-63-thread-1] INFO  storage.RaftStorageDirectory (RaftStorageDirectory.java:tryLock(328)) - Lock on /workdir/hadoop-ozone/integration-test/target/test-dir/MiniOzoneClusterImpl-e7174f9f-1f65-4936-ace6-f3a8e5d3c0c8/datanode-0/data/ratis/b70eb6fc-95b1-4d7b-a0d1-157f323a4677/in_use.lock acquired by nodename 22961@pr-hdds-2022-qxstf-1422721469
2019-09-16 15:59:52,388 [pool-63-thread-1] INFO  storage.RaftStorage (RaftStorage.java:format(72)) - Storage directory /workdir/hadoop-ozone/integration-test/target/test-dir/MiniOzoneClusterImpl-e7174f9f-1f65-4936-ace6-f3a8e5d3c0c8/datanode-0/data/ratis/b70eb6fc-95b1-4d7b-a0d1-157f323a4677 has been successfully formatted.
2019-09-16 15:59:52,389 [pool-63-thread-1] INFO  ratis.ContainerStateMachine (ContainerStateMachine.java:loadSnapshot(230)) - group-157F323A4677: The snapshot info is null. Setting the last applied indexto:(t:0, i:~)
2019-09-16 15:59:52,389 [pool-63-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.notification.no-leader.timeout = 120s (custom)
2019-09-16 15:59:52,389 [pool-63-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.log.use.memory = false (default)
2019-09-16 15:59:52,389 [pool-63-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.log.purge.gap = 1000000 (custom)
2019-09-16 15:59:52,390 [pool-63-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.log.appender.buffer.byte-limit = 33554432 (custom)
2019-09-16 15:59:52,390 [pool-63-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.log.segment.size.max = 1048576 (custom)
2019-09-16 15:59:52,390 [pool-63-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.log.segment.cache.num.max = 2 (custom)
2019-09-16 15:59:52,390 [pool-63-thread-1] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:<init>(172)) - new f3e3a3a3-846b-4347-a380-93d47fe145fc@group-157F323A4677-SegmentedRaftLogWorker for RaftStorage:Storage Directory /workdir/hadoop-ozone/integration-test/target/test-dir/MiniOzoneClusterImpl-e7174f9f-1f65-4936-ace6-f3a8e5d3c0c8/datanode-0/data/ratis/b70eb6fc-95b1-4d7b-a0d1-157f323a4677
2019-09-16 15:59:52,391 [pool-63-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.log.queue.byte-limit = 2147483647 (custom)
2019-09-16 15:59:52,391 [pool-63-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.log.queue.element-limit = 1024 (custom)
2019-09-16 15:59:52,391 [pool-63-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.log.segment.size.max = 1048576 (custom)
2019-09-16 15:59:52,391 [pool-63-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.log.preallocated.size = 16384 (custom)
2019-09-16 15:59:52,391 [pool-63-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.log.write.buffer.size = 33554432 (custom)
2019-09-16 15:59:52,392 [pool-63-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.log.force.sync.num = 128 (default)
2019-09-16 15:59:52,392 [pool-63-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.log.statemachine.data.sync = true (default)
2019-09-16 15:59:52,392 [pool-63-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.log.statemachine.data.sync.timeout = 10s (default)
2019-09-16 15:59:52,392 [pool-63-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.log.statemachine.data.sync.timeout.retry = -1 (default)
2019-09-16 15:59:52,392 [pool-63-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.log.statemachine.data.caching.enabled = true (custom)
2019-09-16 15:59:52,393 [pool-63-thread-1] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:lambda$new$0(132)) - f3e3a3a3-846b-4347-a380-93d47fe145fc@group-157F323A4677-SegmentedRaftLogWorker: flushIndex: setUnconditionally 0 -> -1
2019-09-16 15:59:52,394 [pool-63-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.snapshot.auto.trigger.enabled = true (custom)
2019-09-16 15:59:52,394 [pool-63-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.snapshot.auto.trigger.threshold = 1 (custom)
2019-09-16 15:59:52,394 [pool-63-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.snapshot.retention.num.files = 5 (custom)
2019-09-16 15:59:52,394 [pool-63-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.retrycache.expirytime = 600000ms (custom)
2019-09-16 15:59:52,398 [pool-63-thread-1] INFO  impl.RaftServerImpl (RaftServerImpl.java:start(185)) - f3e3a3a3-846b-4347-a380-93d47fe145fc@group-157F323A4677: start as a follower, conf=-1: [f3e3a3a3-846b-4347-a380-93d47fe145fc:192.168.5.184:33964], old=null
2019-09-16 15:59:52,399 [pool-63-thread-1] INFO  impl.RaftServerImpl (RaftServerImpl.java:setRole(174)) - f3e3a3a3-846b-4347-a380-93d47fe145fc@group-157F323A4677: changes role from      null to FOLLOWER at term 0 for startAsFollower
2019-09-16 15:59:52,399 [pool-63-thread-1] INFO  impl.RoleInfo (RoleInfo.java:updateAndGet(143)) - f3e3a3a3-846b-4347-a380-93d47fe145fc: start FollowerState
2019-09-16 15:59:52,399 [pool-63-thread-1] INFO  util.JmxRegister (JmxRegister.java:tryRegister(44)) - Successfully registered JMX Bean with object name Ratis:service=RaftServer,group=group-157F323A4677,id=f3e3a3a3-846b-4347-a380-93d47fe145fc
2019-09-16 15:59:52,406 [RatisPipelineUtilsThread] INFO  pipeline.PipelineStateManager (PipelineStateManager.java:addPipeline(56)) - Created pipeline Pipeline[ Id: b70eb6fc-95b1-4d7b-a0d1-157f323a4677, Nodes: f3e3a3a3-846b-4347-a380-93d47fe145fc{ip: 192.168.5.184, host: pr-hdds-2022-qxstf-1422721469, networkLocation: /default-rack, certSerialId: null}, Type:RATIS, Factor:ONE, State:OPEN]
2019-09-16 15:59:53,292 [main] INFO  ozone.MiniOzoneClusterImpl (MiniOzoneClusterImpl.java:lambda$waitForClusterToBeReady$0(145)) - Cluster is ready. Got 1 of 1 DN Heartbeats.
2019-09-16 15:59:53,332 [grpc-default-executor-1] INFO  client.GrpcClientProtocolClient (GrpcClientProtocolClient.java:onNext(264)) - client-BF7ABAA8CDC4->f3e3a3a3-846b-4347-a380-93d47fe145fc: receive RaftClientReply:client-BF7ABAA8CDC4->f3e3a3a3-846b-4347-a380-93d47fe145fc@group-157F323A4677, cid=20, FAILED org.apache.ratis.protocol.NotLeaderException: Server f3e3a3a3-846b-4347-a380-93d47fe145fc@group-157F323A4677 is not the leader, logIndex=0, commits[f3e3a3a3-846b-4347-a380-93d47fe145fc:c-1]
2019-09-16 15:59:53,484 [Thread-286] INFO  impl.FollowerState (FollowerState.java:run(106)) - f3e3a3a3-846b-4347-a380-93d47fe145fc:group-DD580B7AD7E1 changes to CANDIDATE, lastRpcTime:5180, electionTimeout:5180ms
2019-09-16 15:59:53,484 [Thread-286] INFO  impl.RoleInfo (RoleInfo.java:shutdownFollowerState(121)) - f3e3a3a3-846b-4347-a380-93d47fe145fc: shutdown FollowerState
2019-09-16 15:59:53,485 [Thread-286] INFO  impl.RaftServerImpl (RaftServerImpl.java:setRole(174)) - f3e3a3a3-846b-4347-a380-93d47fe145fc@group-DD580B7AD7E1: changes role from  FOLLOWER to CANDIDATE at term 1 for changeToCandidate
2019-09-16 15:59:53,485 [Thread-286] INFO  impl.RoleInfo (RoleInfo.java:updateAndGet(143)) - f3e3a3a3-846b-4347-a380-93d47fe145fc: start LeaderElection
2019-09-16 15:59:53,515 [f3e3a3a3-846b-4347-a380-93d47fe145fc@group-DD580B7AD7E1:LeaderElection7] INFO  impl.LeaderElection (LeaderElection.java:askForVotes(182)) - f3e3a3a3-846b-4347-a380-93d47fe145fc@group-DD580B7AD7E1:LeaderElection7: begin an election at term 2 for 0: [f3e3a3a3-846b-4347-a380-93d47fe145fc:192.168.5.184:33964], old=null
2019-09-16 15:59:53,515 [f3e3a3a3-846b-4347-a380-93d47fe145fc@group-DD580B7AD7E1:LeaderElection7] INFO  impl.RoleInfo (RoleInfo.java:shutdownLeaderElection(134)) - f3e3a3a3-846b-4347-a380-93d47fe145fc: shutdown LeaderElection
2019-09-16 15:59:53,515 [f3e3a3a3-846b-4347-a380-93d47fe145fc@group-DD580B7AD7E1:LeaderElection7] INFO  impl.RaftServerImpl (RaftServerImpl.java:setRole(174)) - f3e3a3a3-846b-4347-a380-93d47fe145fc@group-DD580B7AD7E1: changes role from CANDIDATE to LEADER at term 2 for changeToLeader
2019-09-16 15:59:53,515 [f3e3a3a3-846b-4347-a380-93d47fe145fc@group-DD580B7AD7E1:LeaderElection7] INFO  impl.RaftServerImpl (ServerState.java:setLeader(253)) - f3e3a3a3-846b-4347-a380-93d47fe145fc@group-DD580B7AD7E1: change Leader from null to f3e3a3a3-846b-4347-a380-93d47fe145fc at term 2 for becomeLeader, leader elected after 7266ms
2019-09-16 15:59:53,515 [f3e3a3a3-846b-4347-a380-93d47fe145fc@group-DD580B7AD7E1:LeaderElection7] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.staging.catchup.gap = 1000 (default)
2019-09-16 15:59:53,516 [f3e3a3a3-846b-4347-a380-93d47fe145fc@group-DD580B7AD7E1:LeaderElection7] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.rpc.sleep.time = 25ms (default)
2019-09-16 15:59:53,516 [f3e3a3a3-846b-4347-a380-93d47fe145fc@group-DD580B7AD7E1:LeaderElection7] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.write.element-limit = 4096 (default)
2019-09-16 15:59:53,516 [f3e3a3a3-846b-4347-a380-93d47fe145fc@group-DD580B7AD7E1:LeaderElection7] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.watch.timeout = 10s (default)
2019-09-16 15:59:53,516 [f3e3a3a3-846b-4347-a380-93d47fe145fc@group-DD580B7AD7E1:LeaderElection7] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.watch.timeout.denomination = 1s (default)
2019-09-16 15:59:53,516 [f3e3a3a3-846b-4347-a380-93d47fe145fc@group-DD580B7AD7E1:LeaderElection7] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.watch.element-limit = 65536 (default)
2019-09-16 15:59:53,517 [f3e3a3a3-846b-4347-a380-93d47fe145fc@group-DD580B7AD7E1:LeaderElection7] INFO  impl.RoleInfo (RoleInfo.java:updateAndGet(143)) - f3e3a3a3-846b-4347-a380-93d47fe145fc: start LeaderState
2019-09-16 15:59:53,517 [f3e3a3a3-846b-4347-a380-93d47fe145fc@group-DD580B7AD7E1:LeaderElection7] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:rollLogSegment(385)) - f3e3a3a3-846b-4347-a380-93d47fe145fc@group-DD580B7AD7E1-SegmentedRaftLogWorker: Rolling segment log-0_4 to index:4
2019-09-16 15:59:53,519 [f3e3a3a3-846b-4347-a380-93d47fe145fc@group-DD580B7AD7E1:LeaderElection7] INFO  impl.RaftServerImpl (ServerState.java:setRaftConf(354)) - f3e3a3a3-846b-4347-a380-93d47fe145fc@group-DD580B7AD7E1: set configuration 5: [f3e3a3a3-846b-4347-a380-93d47fe145fc:192.168.5.184:33964], old=null at 5
2019-09-16 15:59:53,519 [f3e3a3a3-846b-4347-a380-93d47fe145fc@group-DD580B7AD7E1-SegmentedRaftLogWorker] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:execute(526)) - f3e3a3a3-846b-4347-a380-93d47fe145fc@group-DD580B7AD7E1-SegmentedRaftLogWorker: Rolled log segment from /workdir/hadoop-ozone/integration-test/target/test-dir/MiniOzoneClusterImpl-e7174f9f-1f65-4936-ace6-f3a8e5d3c0c8/datanode-0/data/ratis/cb82132d-c226-4c4a-b68a-dd580b7ad7e1/current/log_inprogress_0 to /workdir/hadoop-ozone/integration-test/target/test-dir/MiniOzoneClusterImpl-e7174f9f-1f65-4936-ace6-f3a8e5d3c0c8/datanode-0/data/ratis/cb82132d-c226-4c4a-b68a-dd580b7ad7e1/current/log_0-4
2019-09-16 15:59:53,573 [f3e3a3a3-846b-4347-a380-93d47fe145fc@group-DD580B7AD7E1-SegmentedRaftLogWorker] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:execute(569)) - f3e3a3a3-846b-4347-a380-93d47fe145fc@group-DD580B7AD7E1-SegmentedRaftLogWorker: created new log segment /workdir/hadoop-ozone/integration-test/target/test-dir/MiniOzoneClusterImpl-e7174f9f-1f65-4936-ace6-f3a8e5d3c0c8/datanode-0/data/ratis/cb82132d-c226-4c4a-b68a-dd580b7ad7e1/current/log_inprogress_5
2019-09-16 15:59:53,591 [f3e3a3a3-846b-4347-a380-93d47fe145fc@group-DD580B7AD7E1-StateMachineUpdater] INFO  ratis.ContainerStateMachine (ContainerStateMachine.java:takeSnapshot(289)) - group-DD580B7AD7E1: Taking a snapshot at:(t:1, i:3) file /workdir/hadoop-ozone/integration-test/target/test-dir/MiniOzoneClusterImpl-e7174f9f-1f65-4936-ace6-f3a8e5d3c0c8/datanode-0/data/ratis/cb82132d-c226-4c4a-b68a-dd580b7ad7e1/sm/snapshot.1_3
2019-09-16 15:59:53,624 [f3e3a3a3-846b-4347-a380-93d47fe145fc@group-DD580B7AD7E1-StateMachineUpdater] INFO  ratis.ContainerStateMachine (ContainerStateMachine.java:takeSnapshot(300)) - group-DD580B7AD7E1: Finished taking a snapshot at:(t:1, i:3) file:/workdir/hadoop-ozone/integration-test/target/test-dir/MiniOzoneClusterImpl-e7174f9f-1f65-4936-ace6-f3a8e5d3c0c8/datanode-0/data/ratis/cb82132d-c226-4c4a-b68a-dd580b7ad7e1/sm/snapshot.1_3 time:32
2019-09-16 15:59:53,624 [f3e3a3a3-846b-4347-a380-93d47fe145fc@group-DD580B7AD7E1-StateMachineUpdater] INFO  impl.StateMachineUpdater (StateMachineUpdater.java:takeSnapshot(258)) - f3e3a3a3-846b-4347-a380-93d47fe145fc@group-DD580B7AD7E1-StateMachineUpdater: Took a snapshot at index 3
2019-09-16 15:59:53,624 [f3e3a3a3-846b-4347-a380-93d47fe145fc@group-DD580B7AD7E1-StateMachineUpdater] INFO  impl.StateMachineUpdater (StateMachineUpdater.java:lambda$new$0(83)) - f3e3a3a3-846b-4347-a380-93d47fe145fc@group-DD580B7AD7E1-StateMachineUpdater: snapshotIndex: updateIncreasingly 3 -> 3
2019-09-16 15:59:53,625 [f3e3a3a3-846b-4347-a380-93d47fe145fc@group-DD580B7AD7E1-StateMachineUpdater] INFO  ratis.ContainerStateMachine (ContainerStateMachine.java:takeSnapshot(289)) - group-DD580B7AD7E1: Taking a snapshot at:(t:1, i:3) file /workdir/hadoop-ozone/integration-test/target/test-dir/MiniOzoneClusterImpl-e7174f9f-1f65-4936-ace6-f3a8e5d3c0c8/datanode-0/data/ratis/cb82132d-c226-4c4a-b68a-dd580b7ad7e1/sm/snapshot.1_3
2019-09-16 15:59:53,657 [f3e3a3a3-846b-4347-a380-93d47fe145fc@group-DD580B7AD7E1-StateMachineUpdater] INFO  ratis.ContainerStateMachine (ContainerStateMachine.java:takeSnapshot(300)) - group-DD580B7AD7E1: Finished taking a snapshot at:(t:1, i:3) file:/workdir/hadoop-ozone/integration-test/target/test-dir/MiniOzoneClusterImpl-e7174f9f-1f65-4936-ace6-f3a8e5d3c0c8/datanode-0/data/ratis/cb82132d-c226-4c4a-b68a-dd580b7ad7e1/sm/snapshot.1_3 time:33
2019-09-16 15:59:53,658 [f3e3a3a3-846b-4347-a380-93d47fe145fc@group-DD580B7AD7E1-StateMachineUpdater] INFO  impl.StateMachineUpdater (StateMachineUpdater.java:takeSnapshot(258)) - f3e3a3a3-846b-4347-a380-93d47fe145fc@group-DD580B7AD7E1-StateMachineUpdater: Took a snapshot at index 3
2019-09-16 15:59:53,658 [f3e3a3a3-846b-4347-a380-93d47fe145fc@group-DD580B7AD7E1-StateMachineUpdater] INFO  impl.StateMachineUpdater (StateMachineUpdater.java:lambda$new$0(83)) - f3e3a3a3-846b-4347-a380-93d47fe145fc@group-DD580B7AD7E1-StateMachineUpdater: snapshotIndex: updateIncreasingly 3 -> 3
2019-09-16 15:59:54,001 [grpc-default-executor-1] INFO  impl.RaftServerProxy (RaftServerProxy.java:remove(95)) - f3e3a3a3-846b-4347-a380-93d47fe145fc: remove    LEADER f3e3a3a3-846b-4347-a380-93d47fe145fc@group-DD580B7AD7E1:t2, leader=f3e3a3a3-846b-4347-a380-93d47fe145fc, voted=f3e3a3a3-846b-4347-a380-93d47fe145fc, raftlog=f3e3a3a3-846b-4347-a380-93d47fe145fc@group-DD580B7AD7E1-SegmentedRaftLog:OPENED:c6,f6,i6, conf=5: [f3e3a3a3-846b-4347-a380-93d47fe145fc:192.168.5.184:33964], old=null RUNNING
2019-09-16 15:59:54,001 [grpc-default-executor-1] INFO  impl.RaftServerImpl (RaftServerImpl.java:lambda$shutdown$3(251)) - f3e3a3a3-846b-4347-a380-93d47fe145fc@group-DD580B7AD7E1: shutdown
2019-09-16 15:59:54,001 [grpc-default-executor-1] INFO  util.JmxRegister (JmxRegister.java:unregister(73)) - Successfully un-registered JMX Bean with object name Ratis:service=RaftServer,group=group-DD580B7AD7E1,id=f3e3a3a3-846b-4347-a380-93d47fe145fc
2019-09-16 15:59:54,001 [grpc-default-executor-1] INFO  impl.RoleInfo (RoleInfo.java:shutdownLeaderState(104)) - f3e3a3a3-846b-4347-a380-93d47fe145fc: shutdown LeaderState
2019-09-16 15:59:54,001 [grpc-default-executor-1] INFO  impl.PendingRequests (PendingRequests.java:sendNotLeaderResponses(202)) - f3e3a3a3-846b-4347-a380-93d47fe145fc-PendingRequests: sendNotLeaderResponses
2019-09-16 15:59:54,003 [grpc-default-executor-1] INFO  impl.StateMachineUpdater (StateMachineUpdater.java:stopAndJoin(125)) - f3e3a3a3-846b-4347-a380-93d47fe145fc@group-DD580B7AD7E1-StateMachineUpdater: set stopIndex = 6
2019-09-16 15:59:54,003 [f3e3a3a3-846b-4347-a380-93d47fe145fc@group-DD580B7AD7E1-StateMachineUpdater] INFO  ratis.ContainerStateMachine (ContainerStateMachine.java:takeSnapshot(289)) - group-DD580B7AD7E1: Taking a snapshot at:(t:1, i:3) file /workdir/hadoop-ozone/integration-test/target/test-dir/MiniOzoneClusterImpl-e7174f9f-1f65-4936-ace6-f3a8e5d3c0c8/datanode-0/data/ratis/cb82132d-c226-4c4a-b68a-dd580b7ad7e1/sm/snapshot.1_3
2019-09-16 15:59:54,033 [f3e3a3a3-846b-4347-a380-93d47fe145fc@group-DD580B7AD7E1-StateMachineUpdater] INFO  ratis.ContainerStateMachine (ContainerStateMachine.java:takeSnapshot(300)) - group-DD580B7AD7E1: Finished taking a snapshot at:(t:1, i:3) file:/workdir/hadoop-ozone/integration-test/target/test-dir/MiniOzoneClusterImpl-e7174f9f-1f65-4936-ace6-f3a8e5d3c0c8/datanode-0/data/ratis/cb82132d-c226-4c4a-b68a-dd580b7ad7e1/sm/snapshot.1_3 time:29
2019-09-16 15:59:54,033 [f3e3a3a3-846b-4347-a380-93d47fe145fc@group-DD580B7AD7E1-StateMachineUpdater] INFO  impl.StateMachineUpdater (StateMachineUpdater.java:takeSnapshot(258)) - f3e3a3a3-846b-4347-a380-93d47fe145fc@group-DD580B7AD7E1-StateMachineUpdater: Took a snapshot at index 3
2019-09-16 15:59:54,033 [f3e3a3a3-846b-4347-a380-93d47fe145fc@group-DD580B7AD7E1-StateMachineUpdater] INFO  impl.StateMachineUpdater (StateMachineUpdater.java:lambda$new$0(83)) - f3e3a3a3-846b-4347-a380-93d47fe145fc@group-DD580B7AD7E1-StateMachineUpdater: snapshotIndex: updateIncreasingly 3 -> 3
2019-09-16 15:59:54,033 [f3e3a3a3-846b-4347-a380-93d47fe145fc@group-DD580B7AD7E1-StateMachineUpdater] INFO  ratis.ContainerStateMachine (ContainerStateMachine.java:takeSnapshot(289)) - group-DD580B7AD7E1: Taking a snapshot at:(t:1, i:3) file /workdir/hadoop-ozone/integration-test/target/test-dir/MiniOzoneClusterImpl-e7174f9f-1f65-4936-ace6-f3a8e5d3c0c8/datanode-0/data/ratis/cb82132d-c226-4c4a-b68a-dd580b7ad7e1/sm/snapshot.1_3
2019-09-16 15:59:54,066 [f3e3a3a3-846b-4347-a380-93d47fe145fc@group-DD580B7AD7E1-StateMachineUpdater] INFO  ratis.ContainerStateMachine (ContainerStateMachine.java:takeSnapshot(300)) - group-DD580B7AD7E1: Finished taking a snapshot at:(t:1, i:3) file:/workdir/hadoop-ozone/integration-test/target/test-dir/MiniOzoneClusterImpl-e7174f9f-1f65-4936-ace6-f3a8e5d3c0c8/datanode-0/data/ratis/cb82132d-c226-4c4a-b68a-dd580b7ad7e1/sm/snapshot.1_3 time:33
2019-09-16 15:59:54,067 [f3e3a3a3-846b-4347-a380-93d47fe145fc@group-DD580B7AD7E1-StateMachineUpdater] INFO  impl.StateMachineUpdater (StateMachineUpdater.java:takeSnapshot(258)) - f3e3a3a3-846b-4347-a380-93d47fe145fc@group-DD580B7AD7E1-StateMachineUpdater: Took a snapshot at index 3
2019-09-16 15:59:54,067 [f3e3a3a3-846b-4347-a380-93d47fe145fc@group-DD580B7AD7E1-StateMachineUpdater] INFO  impl.StateMachineUpdater (StateMachineUpdater.java:lambda$new$0(83)) - f3e3a3a3-846b-4347-a380-93d47fe145fc@group-DD580B7AD7E1-StateMachineUpdater: snapshotIndex: updateIncreasingly 3 -> 3
2019-09-16 15:59:54,067 [grpc-default-executor-1] INFO  impl.RaftServerImpl (ServerState.java:close(385)) - f3e3a3a3-846b-4347-a380-93d47fe145fc@group-DD580B7AD7E1: closes. applyIndex: 6
2019-09-16 15:59:54,067 [f3e3a3a3-846b-4347-a380-93d47fe145fc@group-DD580B7AD7E1-SegmentedRaftLogWorker] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:run(313)) - f3e3a3a3-846b-4347-a380-93d47fe145fc@group-DD580B7AD7E1-SegmentedRaftLogWorker was interrupted, exiting. There are 0 tasks remaining in the queue.
2019-09-16 15:59:54,068 [grpc-default-executor-1] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:close(228)) - f3e3a3a3-846b-4347-a380-93d47fe145fc@group-DD580B7AD7E1-SegmentedRaftLogWorker close()
2019-09-16 15:59:54,084 [grpc-default-executor-1] INFO  interfaces.Container (KeyValueContainer.java:flushAndSyncDB(386)) - Container 4 is synced with bcsId 3.
2019-09-16 15:59:54,084 [grpc-default-executor-1] INFO  interfaces.Container (KeyValueContainer.java:flushAndSyncDB(386)) - Container 4 is synced with bcsId 3.
2019-09-16 15:59:54,119 [EventQueue-IncrementalContainerReportForIncrementalContainerReportHandler] INFO  container.IncrementalContainerReportHandler (AbstractContainerReportHandler.java:updateContainerState(169)) - Moving container #4 to QUASI_CLOSED state, datanode f3e3a3a3-846b-4347-a380-93d47fe145fc{ip: 192.168.5.184, host: pr-hdds-2022-qxstf-1422721469, networkLocation: /default-rack, certSerialId: null} reported QUASI_CLOSED replica.
2019-09-16 15:59:54,123 [RatisPipelineUtilsThread] INFO  pipeline.PipelineStateManager (PipelineStateManager.java:removePipeline(108)) - Pipeline Pipeline[ Id: cb82132d-c226-4c4a-b68a-dd580b7ad7e1, Nodes: f3e3a3a3-846b-4347-a380-93d47fe145fc{ip: 192.168.5.184, host: pr-hdds-2022-qxstf-1422721469, networkLocation: /default-rack, certSerialId: null}, Type:RATIS, Factor:ONE, State:CLOSED] removed from db
2019-09-16 15:59:55,356 [grpc-default-executor-1] INFO  client.GrpcClientProtocolClient (GrpcClientProtocolClient.java:onNext(264)) - client-BF7ABAA8CDC4->f3e3a3a3-846b-4347-a380-93d47fe145fc: receive RaftClientReply:client-BF7ABAA8CDC4->f3e3a3a3-846b-4347-a380-93d47fe145fc@group-157F323A4677, cid=20, FAILED org.apache.ratis.protocol.NotLeaderException: Server f3e3a3a3-846b-4347-a380-93d47fe145fc@group-157F323A4677 is not the leader, logIndex=0, commits[f3e3a3a3-846b-4347-a380-93d47fe145fc:c-1]
2019-09-16 15:59:57,377 [grpc-default-executor-0] INFO  client.GrpcClientProtocolClient (GrpcClientProtocolClient.java:onNext(264)) - client-BF7ABAA8CDC4->f3e3a3a3-846b-4347-a380-93d47fe145fc: receive RaftClientReply:client-BF7ABAA8CDC4->f3e3a3a3-846b-4347-a380-93d47fe145fc@group-157F323A4677, cid=20, FAILED org.apache.ratis.protocol.NotLeaderException: Server f3e3a3a3-846b-4347-a380-93d47fe145fc@group-157F323A4677 is not the leader, logIndex=0, commits[f3e3a3a3-846b-4347-a380-93d47fe145fc:c-1]
2019-09-16 15:59:57,471 [Thread-290] INFO  impl.FollowerState (FollowerState.java:run(106)) - f3e3a3a3-846b-4347-a380-93d47fe145fc:group-157F323A4677 changes to CANDIDATE, lastRpcTime:5072, electionTimeout:5072ms
2019-09-16 15:59:57,472 [Thread-290] INFO  impl.RoleInfo (RoleInfo.java:shutdownFollowerState(121)) - f3e3a3a3-846b-4347-a380-93d47fe145fc: shutdown FollowerState
2019-09-16 15:59:57,472 [Thread-290] INFO  impl.RaftServerImpl (RaftServerImpl.java:setRole(174)) - f3e3a3a3-846b-4347-a380-93d47fe145fc@group-157F323A4677: changes role from  FOLLOWER to CANDIDATE at term 0 for changeToCandidate
2019-09-16 15:59:57,473 [Thread-290] INFO  impl.RoleInfo (RoleInfo.java:updateAndGet(143)) - f3e3a3a3-846b-4347-a380-93d47fe145fc: start LeaderElection
2019-09-16 15:59:57,522 [f3e3a3a3-846b-4347-a380-93d47fe145fc@group-157F323A4677:LeaderElection8] INFO  impl.LeaderElection (LeaderElection.java:askForVotes(182)) - f3e3a3a3-846b-4347-a380-93d47fe145fc@group-157F323A4677:LeaderElection8: begin an election at term 1 for -1: [f3e3a3a3-846b-4347-a380-93d47fe145fc:192.168.5.184:33964], old=null
2019-09-16 15:59:57,523 [f3e3a3a3-846b-4347-a380-93d47fe145fc@group-157F323A4677:LeaderElection8] INFO  impl.RoleInfo (RoleInfo.java:shutdownLeaderElection(134)) - f3e3a3a3-846b-4347-a380-93d47fe145fc: shutdown LeaderElection
2019-09-16 15:59:57,523 [f3e3a3a3-846b-4347-a380-93d47fe145fc@group-157F323A4677:LeaderElection8] INFO  impl.RaftServerImpl (RaftServerImpl.java:setRole(174)) - f3e3a3a3-846b-4347-a380-93d47fe145fc@group-157F323A4677: changes role from CANDIDATE to LEADER at term 1 for changeToLeader
2019-09-16 15:59:57,523 [f3e3a3a3-846b-4347-a380-93d47fe145fc@group-157F323A4677:LeaderElection8] INFO  impl.RaftServerImpl (ServerState.java:setLeader(253)) - f3e3a3a3-846b-4347-a380-93d47fe145fc@group-157F323A4677: change Leader from null to f3e3a3a3-846b-4347-a380-93d47fe145fc at term 1 for becomeLeader, leader elected after 5134ms
2019-09-16 15:59:57,523 [f3e3a3a3-846b-4347-a380-93d47fe145fc@group-157F323A4677:LeaderElection8] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.staging.catchup.gap = 1000 (default)
2019-09-16 15:59:57,524 [f3e3a3a3-846b-4347-a380-93d47fe145fc@group-157F323A4677:LeaderElection8] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.rpc.sleep.time = 25ms (default)
2019-09-16 15:59:57,524 [f3e3a3a3-846b-4347-a380-93d47fe145fc@group-157F323A4677:LeaderElection8] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.write.element-limit = 4096 (default)
2019-09-16 15:59:57,524 [f3e3a3a3-846b-4347-a380-93d47fe145fc@group-157F323A4677:LeaderElection8] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.watch.timeout = 10s (default)
2019-09-16 15:59:57,524 [f3e3a3a3-846b-4347-a380-93d47fe145fc@group-157F323A4677:LeaderElection8] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.watch.timeout.denomination = 1s (default)
2019-09-16 15:59:57,524 [f3e3a3a3-846b-4347-a380-93d47fe145fc@group-157F323A4677:LeaderElection8] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.watch.element-limit = 65536 (default)
2019-09-16 15:59:57,529 [f3e3a3a3-846b-4347-a380-93d47fe145fc@group-157F323A4677:LeaderElection8] INFO  impl.RoleInfo (RoleInfo.java:updateAndGet(143)) - f3e3a3a3-846b-4347-a380-93d47fe145fc: start LeaderState
2019-09-16 15:59:57,530 [f3e3a3a3-846b-4347-a380-93d47fe145fc@group-157F323A4677:LeaderElection8] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:startLogSegment(380)) - f3e3a3a3-846b-4347-a380-93d47fe145fc@group-157F323A4677-SegmentedRaftLogWorker: Starting segment from index:0
2019-09-16 15:59:57,531 [f3e3a3a3-846b-4347-a380-93d47fe145fc@group-157F323A4677:LeaderElection8] INFO  impl.RaftServerImpl (ServerState.java:setRaftConf(354)) - f3e3a3a3-846b-4347-a380-93d47fe145fc@group-157F323A4677: set configuration 0: [f3e3a3a3-846b-4347-a380-93d47fe145fc:192.168.5.184:33964], old=null at 0
2019-09-16 15:59:57,598 [f3e3a3a3-846b-4347-a380-93d47fe145fc@group-157F323A4677-SegmentedRaftLogWorker] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:execute(569)) - f3e3a3a3-846b-4347-a380-93d47fe145fc@group-157F323A4677-SegmentedRaftLogWorker: created new log segment /workdir/hadoop-ozone/integration-test/target/test-dir/MiniOzoneClusterImpl-e7174f9f-1f65-4936-ace6-f3a8e5d3c0c8/datanode-0/data/ratis/b70eb6fc-95b1-4d7b-a0d1-157f323a4677/current/log_inprogress_0
2019-09-16 15:59:59,721 [f3e3a3a3-846b-4347-a380-93d47fe145fc@group-157F323A4677-StateMachineUpdater] INFO  ratis.ContainerStateMachine (ContainerStateMachine.java:takeSnapshot(289)) - group-157F323A4677: Taking a snapshot at:(t:1, i:1) file /workdir/hadoop-ozone/integration-test/target/test-dir/MiniOzoneClusterImpl-e7174f9f-1f65-4936-ace6-f3a8e5d3c0c8/datanode-0/data/ratis/b70eb6fc-95b1-4d7b-a0d1-157f323a4677/sm/snapshot.1_1
2019-09-16 15:59:59,725 [grpc-default-executor-1] INFO  client.GrpcClientProtocolClient (GrpcClientProtocolClient.java:onNext(264)) - client-BF7ABAA8CDC4->f3e3a3a3-846b-4347-a380-93d47fe145fc: receive RaftClientReply:client-BF7ABAA8CDC4->f3e3a3a3-846b-4347-a380-93d47fe145fc@group-157F323A4677, cid=20, SUCCESS, logIndex=1, commits[f3e3a3a3-846b-4347-a380-93d47fe145fc:c1]
2019-09-16 15:59:59,748 [f3e3a3a3-846b-4347-a380-93d47fe145fc@group-157F323A4677-StateMachineUpdater] INFO  ratis.ContainerStateMachine (ContainerStateMachine.java:takeSnapshot(300)) - group-157F323A4677: Finished taking a snapshot at:(t:1, i:1) file:/workdir/hadoop-ozone/integration-test/target/test-dir/MiniOzoneClusterImpl-e7174f9f-1f65-4936-ace6-f3a8e5d3c0c8/datanode-0/data/ratis/b70eb6fc-95b1-4d7b-a0d1-157f323a4677/sm/snapshot.1_1 time:26
2019-09-16 15:59:59,748 [f3e3a3a3-846b-4347-a380-93d47fe145fc@group-157F323A4677-StateMachineUpdater] INFO  impl.StateMachineUpdater (StateMachineUpdater.java:takeSnapshot(258)) - f3e3a3a3-846b-4347-a380-93d47fe145fc@group-157F323A4677-StateMachineUpdater: Took a snapshot at index 1
2019-09-16 15:59:59,748 [f3e3a3a3-846b-4347-a380-93d47fe145fc@group-157F323A4677-StateMachineUpdater] INFO  impl.StateMachineUpdater (StateMachineUpdater.java:lambda$new$0(83)) - f3e3a3a3-846b-4347-a380-93d47fe145fc@group-157F323A4677-StateMachineUpdater: snapshotIndex: updateIncreasingly -1 -> 1
2019-09-16 15:59:59,871 [f3e3a3a3-846b-4347-a380-93d47fe145fc@group-157F323A4677-StateMachineUpdater] INFO  ratis.ContainerStateMachine (ContainerStateMachine.java:takeSnapshot(289)) - group-157F323A4677: Taking a snapshot at:(t:1, i:3) file /workdir/hadoop-ozone/integration-test/target/test-dir/MiniOzoneClusterImpl-e7174f9f-1f65-4936-ace6-f3a8e5d3c0c8/datanode-0/data/ratis/b70eb6fc-95b1-4d7b-a0d1-157f323a4677/sm/snapshot.1_3
2019-09-16 15:59:59,874 [grpc-default-executor-1] INFO  client.GrpcClientProtocolClient (GrpcClientProtocolClient.java:onNext(264)) - client-BF7ABAA8CDC4->f3e3a3a3-846b-4347-a380-93d47fe145fc: receive RaftClientReply:client-BF7ABAA8CDC4->f3e3a3a3-846b-4347-a380-93d47fe145fc@group-157F323A4677, cid=21, SUCCESS, logIndex=3, commits[f3e3a3a3-846b-4347-a380-93d47fe145fc:c4]
2019-09-16 15:59:59,878 [pool-62-thread-2] ERROR impl.ChunkManagerImpl (ChunkUtils.java:getChunkFile(234)) - Chunks path does not exist
2019-09-16 15:59:59,879 [pool-62-thread-2] INFO  keyvalue.KeyValueHandler (ContainerUtils.java:logAndReturnError(146)) - Operation: WriteChunk : Trace ID: f2cd4b98ddb4cef7:f2cd4b98ddb4cef7:0:0 : Message: Unable to get Chunks directory. : Result: UNABLE_TO_FIND_DATA_DIR
15:59:59.881 [grpc-default-executor-1] ERROR DNAudit - user=null | ip=null | op=PUT_BLOCK {blockData=[blockId=conID: 5 locID: 102803019747229703 bcsId: 0,size=10]} | ret=FAILURE
org.apache.hadoop.hdds.scm.container.common.helpers.ContainerNotOpenException: Container 5 in UNHEALTHY state
	at org.apache.hadoop.ozone.container.common.impl.HddsDispatcher.validateContainerCommand(HddsDispatcher.java:431) ~[hadoop-hdds-container-service-0.5.0-SNAPSHOT.jar:?]
	at org.apache.hadoop.ozone.container.common.transport.server.ratis.ContainerStateMachine.startTransaction(ContainerStateMachine.java:315) ~[hadoop-hdds-container-service-0.5.0-SNAPSHOT.jar:?]
	at org.apache.ratis.server.impl.RaftServerImpl.submitClientRequestAsync(RaftServerImpl.java:573) ~[ratis-server-0.4.0-78e95b9-SNAPSHOT.jar:0.4.0-78e95b9-SNAPSHOT]
	at org.apache.ratis.server.impl.RaftServerProxy.lambda$submitClientRequestAsync$7(RaftServerProxy.java:333) ~[ratis-server-0.4.0-78e95b9-SNAPSHOT.jar:0.4.0-78e95b9-SNAPSHOT]
	at org.apache.ratis.server.impl.RaftServerProxy.lambda$null$5(RaftServerProxy.java:328) ~[ratis-server-0.4.0-78e95b9-SNAPSHOT.jar:0.4.0-78e95b9-SNAPSHOT]
	at org.apache.ratis.util.JavaUtils.callAsUnchecked(JavaUtils.java:109) ~[ratis-common-0.4.0-78e95b9-SNAPSHOT.jar:0.4.0-78e95b9-SNAPSHOT]
	at org.apache.ratis.server.impl.RaftServerProxy.lambda$submitRequest$6(RaftServerProxy.java:328) ~[ratis-server-0.4.0-78e95b9-SNAPSHOT.jar:0.4.0-78e95b9-SNAPSHOT]
	at java.util.concurrent.CompletableFuture.uniComposeStage(CompletableFuture.java:981) ~[?:1.8.0_212]
	at java.util.concurrent.CompletableFuture.thenCompose(CompletableFuture.java:2124) ~[?:1.8.0_212]
	at org.apache.ratis.server.impl.RaftServerProxy.submitRequest(RaftServerProxy.java:327) ~[ratis-server-0.4.0-78e95b9-SNAPSHOT.jar:0.4.0-78e95b9-SNAPSHOT]
	at org.apache.ratis.server.impl.RaftServerProxy.submitClientRequestAsync(RaftServerProxy.java:333) ~[ratis-server-0.4.0-78e95b9-SNAPSHOT.jar:0.4.0-78e95b9-SNAPSHOT]
	at org.apache.ratis.grpc.client.GrpcClientProtocolService$RequestStreamObserver.processClientRequest(GrpcClientProtocolService.java:220) ~[ratis-grpc-0.4.0-78e95b9-SNAPSHOT.jar:0.4.0-78e95b9-SNAPSHOT]
	at org.apache.ratis.grpc.client.GrpcClientProtocolService$OrderedRequestStreamObserver.processClientRequest(GrpcClientProtocolService.java:326) ~[ratis-grpc-0.4.0-78e95b9-SNAPSHOT.jar:0.4.0-78e95b9-SNAPSHOT]
	at org.apache.ratis.util.SlidingWindow$Server.processRequestsFromHead(SlidingWindow.java:429) [ratis-common-0.4.0-78e95b9-SNAPSHOT.jar:0.4.0-78e95b9-SNAPSHOT]
	at org.apache.ratis.util.SlidingWindow$Server.receivedRequest(SlidingWindow.java:421) [ratis-common-0.4.0-78e95b9-SNAPSHOT.jar:0.4.0-78e95b9-SNAPSHOT]
	at org.apache.ratis.grpc.client.GrpcClientProtocolService$OrderedRequestStreamObserver.processClientRequest(GrpcClientProtocolService.java:345) [ratis-grpc-0.4.0-78e95b9-SNAPSHOT.jar:0.4.0-78e95b9-SNAPSHOT]
	at org.apache.ratis.grpc.client.GrpcClientProtocolService$RequestStreamObserver.onNext(GrpcClientProtocolService.java:240) [ratis-grpc-0.4.0-78e95b9-SNAPSHOT.jar:0.4.0-78e95b9-SNAPSHOT]
	at org.apache.ratis.grpc.client.GrpcClientProtocolService$RequestStreamObserver.onNext(GrpcClientProtocolService.java:168) [ratis-grpc-0.4.0-78e95b9-SNAPSHOT.jar:0.4.0-78e95b9-SNAPSHOT]
	at org.apache.ratis.thirdparty.io.grpc.stub.ServerCalls$StreamingServerCallHandler$StreamingServerCallListener.onMessage(ServerCalls.java:248) [ratis-thirdparty-misc-0.2.0.jar:0.2.0]
	at org.apache.ratis.thirdparty.io.grpc.internal.ServerCallImpl$ServerStreamListenerImpl.messagesAvailable(ServerCallImpl.java:263) [ratis-thirdparty-misc-0.2.0.jar:0.2.0]
	at org.apache.ratis.thirdparty.io.grpc.internal.ServerImpl$JumpToApplicationThreadServerStreamListener$1MessagesAvailable.runInContext(ServerImpl.java:686) [ratis-thirdparty-misc-0.2.0.jar:0.2.0]
	at org.apache.ratis.thirdparty.io.grpc.internal.ContextRunnable.run(ContextRunnable.java:37) [ratis-thirdparty-misc-0.2.0.jar:0.2.0]
	at org.apache.ratis.thirdparty.io.grpc.internal.SerializingExecutor.run(SerializingExecutor.java:123) [ratis-thirdparty-misc-0.2.0.jar:0.2.0]
	at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1149) [?:1.8.0_212]
	at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:624) [?:1.8.0_212]
	at java.lang.Thread.run(Thread.java:748) [?:1.8.0_212]
2019-09-16 15:59:59,896 [f3e3a3a3-846b-4347-a380-93d47fe145fc@group-157F323A4677-StateMachineUpdater] INFO  ratis.ContainerStateMachine (ContainerStateMachine.java:takeSnapshot(300)) - group-157F323A4677: Finished taking a snapshot at:(t:1, i:3) file:/workdir/hadoop-ozone/integration-test/target/test-dir/MiniOzoneClusterImpl-e7174f9f-1f65-4936-ace6-f3a8e5d3c0c8/datanode-0/data/ratis/b70eb6fc-95b1-4d7b-a0d1-157f323a4677/sm/snapshot.1_3 time:24
2019-09-16 15:59:59,896 [f3e3a3a3-846b-4347-a380-93d47fe145fc@group-157F323A4677-StateMachineUpdater] INFO  impl.StateMachineUpdater (StateMachineUpdater.java:takeSnapshot(258)) - f3e3a3a3-846b-4347-a380-93d47fe145fc@group-157F323A4677-StateMachineUpdater: Took a snapshot at index 3
2019-09-16 15:59:59,896 [f3e3a3a3-846b-4347-a380-93d47fe145fc@group-157F323A4677-StateMachineUpdater] INFO  impl.StateMachineUpdater (StateMachineUpdater.java:lambda$new$0(83)) - f3e3a3a3-846b-4347-a380-93d47fe145fc@group-157F323A4677-StateMachineUpdater: snapshotIndex: updateIncreasingly 1 -> 3
2019-09-16 15:59:59,897 [f3e3a3a3-846b-4347-a380-93d47fe145fc@group-157F323A4677-StateMachineUpdater] INFO  ratis.ContainerStateMachine (ContainerStateMachine.java:takeSnapshot(289)) - group-157F323A4677: Taking a snapshot at:(t:1, i:3) file /workdir/hadoop-ozone/integration-test/target/test-dir/MiniOzoneClusterImpl-e7174f9f-1f65-4936-ace6-f3a8e5d3c0c8/datanode-0/data/ratis/b70eb6fc-95b1-4d7b-a0d1-157f323a4677/sm/snapshot.1_3
15:59:59.897 [pool-62-thread-2] ERROR DNAudit - user=null | ip=null | op=WRITE_CHUNK {blockData=conID: 5 locID: 102803019747229703 bcsId: 3} | ret=FAILURE
java.lang.Exception: Unable to get Chunks directory.
	at org.apache.hadoop.ozone.container.common.impl.HddsDispatcher.dispatchRequest(HddsDispatcher.java:327) ~[hadoop-hdds-container-service-0.5.0-SNAPSHOT.jar:?]
	at org.apache.hadoop.ozone.container.common.impl.HddsDispatcher.dispatch(HddsDispatcher.java:150) ~[hadoop-hdds-container-service-0.5.0-SNAPSHOT.jar:?]
	at org.apache.hadoop.ozone.container.common.transport.server.ratis.ContainerStateMachine.dispatchCommand(ContainerStateMachine.java:401) ~[hadoop-hdds-container-service-0.5.0-SNAPSHOT.jar:?]
	at org.apache.hadoop.ozone.container.common.transport.server.ratis.ContainerStateMachine.runCommand(ContainerStateMachine.java:409) ~[hadoop-hdds-container-service-0.5.0-SNAPSHOT.jar:?]
	at org.apache.hadoop.ozone.container.common.transport.server.ratis.ContainerStateMachine.lambda$handleWriteChunk$1(ContainerStateMachine.java:442) ~[hadoop-hdds-container-service-0.5.0-SNAPSHOT.jar:?]
	at java.util.concurrent.CompletableFuture$AsyncSupply.run(CompletableFuture.java:1590) [?:1.8.0_212]
	at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1149) [?:1.8.0_212]
	at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:624) [?:1.8.0_212]
	at java.lang.Thread.run(Thread.java:748) [?:1.8.0_212]
2019-09-16 15:59:59,898 [EventQueue-IncrementalContainerReportForIncrementalContainerReportHandler] WARN  container.IncrementalContainerReportHandler (AbstractContainerReportHandler.java:updateContainerState(143)) - Container #5 is in OPEN state, but the datanode f3e3a3a3-846b-4347-a380-93d47fe145fc{ip: 192.168.5.184, host: pr-hdds-2022-qxstf-1422721469, networkLocation: /default-rack, certSerialId: null} reports an UNHEALTHY replica.
2019-09-16 15:59:59,899 [EventQueue-CloseContainerForCloseContainerEventHandler] INFO  container.CloseContainerEventHandler (CloseContainerEventHandler.java:onMessage(61)) - Close container Event triggered for container : #5
2019-09-16 15:59:59,901 [pool-62-thread-2] ERROR ratis.ContainerStateMachine (ContainerStateMachine.java:lambda$handleWriteChunk$2(456)) - group-157F323A4677: writeChunk writeStateMachineData failed: blockIdcontainerID: 5
localID: 102803019747229703
blockCommitSequenceId: 3
 logIndex 5 chunkName 102803019747229703_chunk_2 Error message: Unable to get Chunks directory. Container Result: UNABLE_TO_FIND_DATA_DIR
2019-09-16 15:59:59,902 [f3e3a3a3-846b-4347-a380-93d47fe145fc@group-157F323A4677-SegmentedRaftLogWorker] ERROR ratis.XceiverServerRatis (XceiverServerRatis.java:triggerPipelineClose(575)) - pipeline Action CLOSE  on pipeline PipelineID=b70eb6fc-95b1-4d7b-a0d1-157f323a4677.Reason : Unable to get Chunks directory.
2019-09-16 15:59:59,902 [EventQueue-PipelineActionsForPipelineActionHandler] ERROR pipeline.PipelineActionHandler (PipelineActionHandler.java:onMessage(60)) - Received pipeline action CLOSE for Pipeline[ Id: b70eb6fc-95b1-4d7b-a0d1-157f323a4677, Nodes: f3e3a3a3-846b-4347-a380-93d47fe145fc{ip: 192.168.5.184, host: pr-hdds-2022-qxstf-1422721469, networkLocation: /default-rack, certSerialId: null}, Type:RATIS, Factor:ONE, State:OPEN] from datanode f3e3a3a3-846b-4347-a380-93d47fe145fc{ip: 192.168.5.184, host: pr-hdds-2022-qxstf-1422721469, networkLocation: /default-rack, certSerialId: null}. Reason : Unable to get Chunks directory.
2019-09-16 15:59:59,903 [EventQueue-PipelineActionsForPipelineActionHandler] INFO  pipeline.SCMPipelineManager (SCMPipelineManager.java:finalizeAndDestroyPipeline(311)) - destroying pipeline:Pipeline[ Id: b70eb6fc-95b1-4d7b-a0d1-157f323a4677, Nodes: f3e3a3a3-846b-4347-a380-93d47fe145fc{ip: 192.168.5.184, host: pr-hdds-2022-qxstf-1422721469, networkLocation: /default-rack, certSerialId: null}, Type:RATIS, Factor:ONE, State:OPEN]
2019-09-16 15:59:59,903 [EventQueue-PipelineActionsForPipelineActionHandler] INFO  pipeline.PipelineStateManager (PipelineStateManager.java:finalizePipeline(123)) - Pipeline Pipeline[ Id: b70eb6fc-95b1-4d7b-a0d1-157f323a4677, Nodes: f3e3a3a3-846b-4347-a380-93d47fe145fc{ip: 192.168.5.184, host: pr-hdds-2022-qxstf-1422721469, networkLocation: /default-rack, certSerialId: null}, Type:RATIS, Factor:ONE, State:CLOSED] moved to CLOSED state
2019-09-16 15:59:59,941 [f3e3a3a3-846b-4347-a380-93d47fe145fc@group-157F323A4677-StateMachineUpdater] INFO  ratis.ContainerStateMachine (ContainerStateMachine.java:takeSnapshot(300)) - group-157F323A4677: Finished taking a snapshot at:(t:1, i:3) file:/workdir/hadoop-ozone/integration-test/target/test-dir/MiniOzoneClusterImpl-e7174f9f-1f65-4936-ace6-f3a8e5d3c0c8/datanode-0/data/ratis/b70eb6fc-95b1-4d7b-a0d1-157f323a4677/sm/snapshot.1_3 time:43
2019-09-16 15:59:59,941 [f3e3a3a3-846b-4347-a380-93d47fe145fc@group-157F323A4677-StateMachineUpdater] INFO  impl.StateMachineUpdater (StateMachineUpdater.java:takeSnapshot(258)) - f3e3a3a3-846b-4347-a380-93d47fe145fc@group-157F323A4677-StateMachineUpdater: Took a snapshot at index 3
2019-09-16 15:59:59,942 [f3e3a3a3-846b-4347-a380-93d47fe145fc@group-157F323A4677-StateMachineUpdater] INFO  impl.StateMachineUpdater (StateMachineUpdater.java:lambda$new$0(83)) - f3e3a3a3-846b-4347-a380-93d47fe145fc@group-157F323A4677-StateMachineUpdater: snapshotIndex: updateIncreasingly 3 -> 3
2019-09-16 16:00:09,912 [grpc-default-executor-1] INFO  impl.RaftServerProxy (RaftServerProxy.java:remove(95)) - f3e3a3a3-846b-4347-a380-93d47fe145fc: remove    LEADER f3e3a3a3-846b-4347-a380-93d47fe145fc@group-157F323A4677:t1, leader=f3e3a3a3-846b-4347-a380-93d47fe145fc, voted=f3e3a3a3-846b-4347-a380-93d47fe145fc, raftlog=f3e3a3a3-846b-4347-a380-93d47fe145fc@group-157F323A4677-SegmentedRaftLog:OPENED:c4,f4,i5, conf=0: [f3e3a3a3-846b-4347-a380-93d47fe145fc:192.168.5.184:33964], old=null RUNNING
2019-09-16 16:00:09,913 [grpc-default-executor-1] INFO  impl.RaftServerImpl (RaftServerImpl.java:lambda$shutdown$3(251)) - f3e3a3a3-846b-4347-a380-93d47fe145fc@group-157F323A4677: shutdown
2019-09-16 16:00:09,913 [grpc-default-executor-1] INFO  util.JmxRegister (JmxRegister.java:unregister(73)) - Successfully un-registered JMX Bean with object name Ratis:service=RaftServer,group=group-157F323A4677,id=f3e3a3a3-846b-4347-a380-93d47fe145fc
2019-09-16 16:00:09,913 [grpc-default-executor-1] INFO  impl.RoleInfo (RoleInfo.java:shutdownLeaderState(104)) - f3e3a3a3-846b-4347-a380-93d47fe145fc: shutdown LeaderState
2019-09-16 16:00:09,913 [grpc-default-executor-1] INFO  impl.PendingRequests (PendingRequests.java:sendNotLeaderResponses(202)) - f3e3a3a3-846b-4347-a380-93d47fe145fc-PendingRequests: sendNotLeaderResponses
2019-09-16 16:00:09,917 [grpc-default-executor-1] INFO  impl.StateMachineUpdater (StateMachineUpdater.java:stopAndJoin(125)) - f3e3a3a3-846b-4347-a380-93d47fe145fc@group-157F323A4677-StateMachineUpdater: set stopIndex = 4
2019-09-16 16:00:09,918 [f3e3a3a3-846b-4347-a380-93d47fe145fc@group-157F323A4677-StateMachineUpdater] INFO  ratis.ContainerStateMachine (ContainerStateMachine.java:takeSnapshot(289)) - group-157F323A4677: Taking a snapshot at:(t:1, i:3) file /workdir/hadoop-ozone/integration-test/target/test-dir/MiniOzoneClusterImpl-e7174f9f-1f65-4936-ace6-f3a8e5d3c0c8/datanode-0/data/ratis/b70eb6fc-95b1-4d7b-a0d1-157f323a4677/sm/snapshot.1_3
2019-09-16 16:00:09,980 [f3e3a3a3-846b-4347-a380-93d47fe145fc@group-157F323A4677-StateMachineUpdater] INFO  ratis.ContainerStateMachine (ContainerStateMachine.java:takeSnapshot(300)) - group-157F323A4677: Finished taking a snapshot at:(t:1, i:3) file:/workdir/hadoop-ozone/integration-test/target/test-dir/MiniOzoneClusterImpl-e7174f9f-1f65-4936-ace6-f3a8e5d3c0c8/datanode-0/data/ratis/b70eb6fc-95b1-4d7b-a0d1-157f323a4677/sm/snapshot.1_3 time:63
2019-09-16 16:00:09,980 [f3e3a3a3-846b-4347-a380-93d47fe145fc@group-157F323A4677-StateMachineUpdater] INFO  impl.StateMachineUpdater (StateMachineUpdater.java:takeSnapshot(258)) - f3e3a3a3-846b-4347-a380-93d47fe145fc@group-157F323A4677-StateMachineUpdater: Took a snapshot at index 3
2019-09-16 16:00:09,981 [f3e3a3a3-846b-4347-a380-93d47fe145fc@group-157F323A4677-StateMachineUpdater] INFO  impl.StateMachineUpdater (StateMachineUpdater.java:lambda$new$0(83)) - f3e3a3a3-846b-4347-a380-93d47fe145fc@group-157F323A4677-StateMachineUpdater: snapshotIndex: updateIncreasingly 3 -> 3
2019-09-16 16:00:09,981 [f3e3a3a3-846b-4347-a380-93d47fe145fc@group-157F323A4677-StateMachineUpdater] INFO  ratis.ContainerStateMachine (ContainerStateMachine.java:takeSnapshot(289)) - group-157F323A4677: Taking a snapshot at:(t:1, i:3) file /workdir/hadoop-ozone/integration-test/target/test-dir/MiniOzoneClusterImpl-e7174f9f-1f65-4936-ace6-f3a8e5d3c0c8/datanode-0/data/ratis/b70eb6fc-95b1-4d7b-a0d1-157f323a4677/sm/snapshot.1_3
2019-09-16 16:00:10,005 [f3e3a3a3-846b-4347-a380-93d47fe145fc@group-157F323A4677-StateMachineUpdater] INFO  ratis.ContainerStateMachine (ContainerStateMachine.java:takeSnapshot(300)) - group-157F323A4677: Finished taking a snapshot at:(t:1, i:3) file:/workdir/hadoop-ozone/integration-test/target/test-dir/MiniOzoneClusterImpl-e7174f9f-1f65-4936-ace6-f3a8e5d3c0c8/datanode-0/data/ratis/b70eb6fc-95b1-4d7b-a0d1-157f323a4677/sm/snapshot.1_3 time:24
2019-09-16 16:00:10,006 [f3e3a3a3-846b-4347-a380-93d47fe145fc@group-157F323A4677-StateMachineUpdater] INFO  impl.StateMachineUpdater (StateMachineUpdater.java:takeSnapshot(258)) - f3e3a3a3-846b-4347-a380-93d47fe145fc@group-157F323A4677-StateMachineUpdater: Took a snapshot at index 3
2019-09-16 16:00:10,006 [f3e3a3a3-846b-4347-a380-93d47fe145fc@group-157F323A4677-StateMachineUpdater] INFO  impl.StateMachineUpdater (StateMachineUpdater.java:lambda$new$0(83)) - f3e3a3a3-846b-4347-a380-93d47fe145fc@group-157F323A4677-StateMachineUpdater: snapshotIndex: updateIncreasingly 3 -> 3
2019-09-16 16:00:10,006 [grpc-default-executor-1] INFO  impl.RaftServerImpl (ServerState.java:close(385)) - f3e3a3a3-846b-4347-a380-93d47fe145fc@group-157F323A4677: closes. applyIndex: 4
2019-09-16 16:00:10,007 [f3e3a3a3-846b-4347-a380-93d47fe145fc@group-157F323A4677-SegmentedRaftLogWorker] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:run(313)) - f3e3a3a3-846b-4347-a380-93d47fe145fc@group-157F323A4677-SegmentedRaftLogWorker was interrupted, exiting. There are 0 tasks remaining in the queue.
2019-09-16 16:00:10,008 [grpc-default-executor-1] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:close(228)) - f3e3a3a3-846b-4347-a380-93d47fe145fc@group-157F323A4677-SegmentedRaftLogWorker close()
2019-09-16 16:00:10,016 [RatisPipelineUtilsThread] INFO  pipeline.PipelineStateManager (PipelineStateManager.java:removePipeline(108)) - Pipeline Pipeline[ Id: b70eb6fc-95b1-4d7b-a0d1-157f323a4677, Nodes: f3e3a3a3-846b-4347-a380-93d47fe145fc{ip: 192.168.5.184, host: pr-hdds-2022-qxstf-1422721469, networkLocation: /default-rack, certSerialId: null}, Type:RATIS, Factor:ONE, State:CLOSED] removed from db
2019-09-16 16:00:10,024 [grpc-default-executor-1] INFO  impl.RaftServerProxy (RaftServerProxy.java:addNew(89)) - f3e3a3a3-846b-4347-a380-93d47fe145fc: addNew group-35973CD54530:[f3e3a3a3-846b-4347-a380-93d47fe145fc:192.168.5.184:33964] returns group-35973CD54530:java.util.concurrent.CompletableFuture@4221af41[Not completed]
2019-09-16 16:00:10,027 [pool-63-thread-1] INFO  impl.RaftServerImpl (RaftServerImpl.java:<init>(95)) - f3e3a3a3-846b-4347-a380-93d47fe145fc: new RaftServerImpl for group-35973CD54530:[f3e3a3a3-846b-4347-a380-93d47fe145fc:192.168.5.184:33964] with ContainerStateMachine:uninitialized
2019-09-16 16:00:10,027 [pool-63-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.rpc.timeout.min = 5s (custom)
2019-09-16 16:00:10,027 [pool-63-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.rpc.timeout.max = 5200ms (custom)
2019-09-16 16:00:10,027 [pool-63-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.rpcslowness.timeout = 120s (custom)
2019-09-16 16:00:10,027 [pool-63-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.sleep.deviation.threshold = 300 (default)
2019-09-16 16:00:10,027 [pool-63-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.log.appender.install.snapshot.enabled = false (custom)
2019-09-16 16:00:10,027 [pool-63-thread-1] INFO  impl.RaftServerImpl (ServerState.java:<init>(103)) - f3e3a3a3-846b-4347-a380-93d47fe145fc@group-35973CD54530: ConfigurationManager, init=-1: [f3e3a3a3-846b-4347-a380-93d47fe145fc:192.168.5.184:33964], old=null, confs=<EMPTY_MAP>
2019-09-16 16:00:10,028 [pool-63-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.storage.dir = [/workdir/hadoop-ozone/integration-test/target/test-dir/MiniOzoneClusterImpl-e7174f9f-1f65-4936-ace6-f3a8e5d3c0c8/datanode-0/data/ratis] (custom)
2019-09-16 16:00:10,028 [pool-63-thread-1] INFO  storage.RaftStorageDirectory (RaftStorageDirectory.java:analyzeStorage(246)) - The storage directory /workdir/hadoop-ozone/integration-test/target/test-dir/MiniOzoneClusterImpl-e7174f9f-1f65-4936-ace6-f3a8e5d3c0c8/datanode-0/data/ratis/5e18a1ad-bac9-4355-994f-35973cd54530 does not exist. Creating ...
2019-09-16 16:00:10,081 [pool-63-thread-1] INFO  storage.RaftStorageDirectory (RaftStorageDirectory.java:tryLock(328)) - Lock on /workdir/hadoop-ozone/integration-test/target/test-dir/MiniOzoneClusterImpl-e7174f9f-1f65-4936-ace6-f3a8e5d3c0c8/datanode-0/data/ratis/5e18a1ad-bac9-4355-994f-35973cd54530/in_use.lock acquired by nodename 22961@pr-hdds-2022-qxstf-1422721469
2019-09-16 16:00:10,107 [pool-63-thread-1] INFO  storage.RaftStorage (RaftStorage.java:format(72)) - Storage directory /workdir/hadoop-ozone/integration-test/target/test-dir/MiniOzoneClusterImpl-e7174f9f-1f65-4936-ace6-f3a8e5d3c0c8/datanode-0/data/ratis/5e18a1ad-bac9-4355-994f-35973cd54530 has been successfully formatted.
2019-09-16 16:00:10,107 [pool-63-thread-1] INFO  ratis.ContainerStateMachine (ContainerStateMachine.java:loadSnapshot(230)) - group-35973CD54530: The snapshot info is null. Setting the last applied indexto:(t:0, i:~)
2019-09-16 16:00:10,108 [pool-63-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.notification.no-leader.timeout = 120s (custom)
2019-09-16 16:00:10,108 [pool-63-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.log.use.memory = false (default)
2019-09-16 16:00:10,108 [pool-63-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.log.purge.gap = 1000000 (custom)
2019-09-16 16:00:10,108 [pool-63-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.log.appender.buffer.byte-limit = 33554432 (custom)
2019-09-16 16:00:10,108 [pool-63-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.log.segment.size.max = 1048576 (custom)
2019-09-16 16:00:10,109 [pool-63-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.log.segment.cache.num.max = 2 (custom)
2019-09-16 16:00:10,109 [pool-63-thread-1] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:<init>(172)) - new f3e3a3a3-846b-4347-a380-93d47fe145fc@group-35973CD54530-SegmentedRaftLogWorker for RaftStorage:Storage Directory /workdir/hadoop-ozone/integration-test/target/test-dir/MiniOzoneClusterImpl-e7174f9f-1f65-4936-ace6-f3a8e5d3c0c8/datanode-0/data/ratis/5e18a1ad-bac9-4355-994f-35973cd54530
2019-09-16 16:00:10,109 [pool-63-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.log.queue.byte-limit = 2147483647 (custom)
2019-09-16 16:00:10,109 [pool-63-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.log.queue.element-limit = 1024 (custom)
2019-09-16 16:00:10,109 [pool-63-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.log.segment.size.max = 1048576 (custom)
2019-09-16 16:00:10,110 [pool-63-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.log.preallocated.size = 16384 (custom)
2019-09-16 16:00:10,110 [pool-63-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.log.write.buffer.size = 33554432 (custom)
2019-09-16 16:00:10,110 [pool-63-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.log.force.sync.num = 128 (default)
2019-09-16 16:00:10,110 [pool-63-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.log.statemachine.data.sync = true (default)
2019-09-16 16:00:10,110 [pool-63-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.log.statemachine.data.sync.timeout = 10s (default)
2019-09-16 16:00:10,110 [pool-63-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.log.statemachine.data.sync.timeout.retry = -1 (default)
2019-09-16 16:00:10,111 [pool-63-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.log.statemachine.data.caching.enabled = true (custom)
2019-09-16 16:00:10,111 [pool-63-thread-1] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:lambda$new$0(132)) - f3e3a3a3-846b-4347-a380-93d47fe145fc@group-35973CD54530-SegmentedRaftLogWorker: flushIndex: setUnconditionally 0 -> -1
2019-09-16 16:00:10,111 [pool-63-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.snapshot.auto.trigger.enabled = true (custom)
2019-09-16 16:00:10,112 [pool-63-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.snapshot.auto.trigger.threshold = 1 (custom)
2019-09-16 16:00:10,112 [pool-63-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.snapshot.retention.num.files = 5 (custom)
2019-09-16 16:00:10,112 [pool-63-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.retrycache.expirytime = 600000ms (custom)
2019-09-16 16:00:10,116 [pool-63-thread-1] INFO  impl.RaftServerImpl (RaftServerImpl.java:start(185)) - f3e3a3a3-846b-4347-a380-93d47fe145fc@group-35973CD54530: start as a follower, conf=-1: [f3e3a3a3-846b-4347-a380-93d47fe145fc:192.168.5.184:33964], old=null
2019-09-16 16:00:10,116 [pool-63-thread-1] INFO  impl.RaftServerImpl (RaftServerImpl.java:setRole(174)) - f3e3a3a3-846b-4347-a380-93d47fe145fc@group-35973CD54530: changes role from      null to FOLLOWER at term 0 for startAsFollower
2019-09-16 16:00:10,116 [pool-63-thread-1] INFO  impl.RoleInfo (RoleInfo.java:updateAndGet(143)) - f3e3a3a3-846b-4347-a380-93d47fe145fc: start FollowerState
2019-09-16 16:00:10,117 [pool-63-thread-1] INFO  util.JmxRegister (JmxRegister.java:tryRegister(44)) - Successfully registered JMX Bean with object name Ratis:service=RaftServer,group=group-35973CD54530,id=f3e3a3a3-846b-4347-a380-93d47fe145fc
2019-09-16 16:00:10,121 [RatisPipelineUtilsThread] INFO  pipeline.PipelineStateManager (PipelineStateManager.java:addPipeline(56)) - Created pipeline Pipeline[ Id: 5e18a1ad-bac9-4355-994f-35973cd54530, Nodes: f3e3a3a3-846b-4347-a380-93d47fe145fc{ip: 192.168.5.184, host: pr-hdds-2022-qxstf-1422721469, networkLocation: /default-rack, certSerialId: null}, Type:RATIS, Factor:ONE, State:OPEN]
2019-09-16 16:00:11,927 [main] WARN  io.KeyOutputStream (KeyOutputStream.java:handleException(276)) - Encountered exception java.io.IOException: Unexpected Storage Container Exception: java.util.concurrent.CompletionException: java.util.concurrent.CompletionException: org.apache.ratis.protocol.GroupMismatchException: f3e3a3a3-846b-4347-a380-93d47fe145fc: group-157F323A4677 not found. on the pipeline Pipeline[ Id: b70eb6fc-95b1-4d7b-a0d1-157f323a4677, Nodes: f3e3a3a3-846b-4347-a380-93d47fe145fc{ip: 192.168.5.184, host: pr-hdds-2022-qxstf-1422721469, networkLocation: /default-rack, certSerialId: null}, Type:RATIS, Factor:ONE, State:OPEN]. The last committed block length is 5, uncommitted data length is 5 retry count 0
2019-09-16 16:00:11,964 [grpc-default-executor-1] INFO  client.GrpcClientProtocolClient (GrpcClientProtocolClient.java:onNext(264)) - client-9FED02AB4025->f3e3a3a3-846b-4347-a380-93d47fe145fc: receive RaftClientReply:client-9FED02AB4025->f3e3a3a3-846b-4347-a380-93d47fe145fc@group-35973CD54530, cid=27, FAILED org.apache.ratis.protocol.NotLeaderException: Server f3e3a3a3-846b-4347-a380-93d47fe145fc@group-35973CD54530 is not the leader, logIndex=0, commits[f3e3a3a3-846b-4347-a380-93d47fe145fc:c-1]
2019-09-16 16:00:13,993 [grpc-default-executor-2] INFO  client.GrpcClientProtocolClient (GrpcClientProtocolClient.java:onNext(264)) - client-9FED02AB4025->f3e3a3a3-846b-4347-a380-93d47fe145fc: receive RaftClientReply:client-9FED02AB4025->f3e3a3a3-846b-4347-a380-93d47fe145fc@group-35973CD54530, cid=27, FAILED org.apache.ratis.protocol.NotLeaderException: Server f3e3a3a3-846b-4347-a380-93d47fe145fc@group-35973CD54530 is not the leader, logIndex=0, commits[f3e3a3a3-846b-4347-a380-93d47fe145fc:c-1]
2019-09-16 16:00:15,134 [Thread-315] INFO  impl.FollowerState (FollowerState.java:run(106)) - f3e3a3a3-846b-4347-a380-93d47fe145fc:group-35973CD54530 changes to CANDIDATE, lastRpcTime:5017, electionTimeout:5017ms
2019-09-16 16:00:15,134 [Thread-315] INFO  impl.RoleInfo (RoleInfo.java:shutdownFollowerState(121)) - f3e3a3a3-846b-4347-a380-93d47fe145fc: shutdown FollowerState
2019-09-16 16:00:15,135 [Thread-315] INFO  impl.RaftServerImpl (RaftServerImpl.java:setRole(174)) - f3e3a3a3-846b-4347-a380-93d47fe145fc@group-35973CD54530: changes role from  FOLLOWER to CANDIDATE at term 0 for changeToCandidate
2019-09-16 16:00:15,135 [Thread-315] INFO  impl.RoleInfo (RoleInfo.java:updateAndGet(143)) - f3e3a3a3-846b-4347-a380-93d47fe145fc: start LeaderElection
2019-09-16 16:00:16,007 [grpc-default-executor-0] INFO  client.GrpcClientProtocolClient (GrpcClientProtocolClient.java:onNext(264)) - client-9FED02AB4025->f3e3a3a3-846b-4347-a380-93d47fe145fc: receive RaftClientReply:client-9FED02AB4025->f3e3a3a3-846b-4347-a380-93d47fe145fc@group-35973CD54530, cid=27, FAILED org.apache.ratis.protocol.NotLeaderException: Server f3e3a3a3-846b-4347-a380-93d47fe145fc@group-35973CD54530 is not the leader, logIndex=0, commits[f3e3a3a3-846b-4347-a380-93d47fe145fc:c-1]
2019-09-16 16:00:16,459 [f3e3a3a3-846b-4347-a380-93d47fe145fc@group-35973CD54530:LeaderElection9] INFO  impl.LeaderElection (LeaderElection.java:askForVotes(182)) - f3e3a3a3-846b-4347-a380-93d47fe145fc@group-35973CD54530:LeaderElection9: begin an election at term 1 for -1: [f3e3a3a3-846b-4347-a380-93d47fe145fc:192.168.5.184:33964], old=null
2019-09-16 16:00:16,460 [f3e3a3a3-846b-4347-a380-93d47fe145fc@group-35973CD54530:LeaderElection9] INFO  impl.RoleInfo (RoleInfo.java:shutdownLeaderElection(134)) - f3e3a3a3-846b-4347-a380-93d47fe145fc: shutdown LeaderElection
2019-09-16 16:00:16,460 [f3e3a3a3-846b-4347-a380-93d47fe145fc@group-35973CD54530:LeaderElection9] INFO  impl.RaftServerImpl (RaftServerImpl.java:setRole(174)) - f3e3a3a3-846b-4347-a380-93d47fe145fc@group-35973CD54530: changes role from CANDIDATE to LEADER at term 1 for changeToLeader
2019-09-16 16:00:16,460 [f3e3a3a3-846b-4347-a380-93d47fe145fc@group-35973CD54530:LeaderElection9] INFO  impl.RaftServerImpl (ServerState.java:setLeader(253)) - f3e3a3a3-846b-4347-a380-93d47fe145fc@group-35973CD54530: change Leader from null to f3e3a3a3-846b-4347-a380-93d47fe145fc at term 1 for becomeLeader, leader elected after 6352ms
2019-09-16 16:00:16,460 [f3e3a3a3-846b-4347-a380-93d47fe145fc@group-35973CD54530:LeaderElection9] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.staging.catchup.gap = 1000 (default)
2019-09-16 16:00:16,461 [f3e3a3a3-846b-4347-a380-93d47fe145fc@group-35973CD54530:LeaderElection9] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.rpc.sleep.time = 25ms (default)
2019-09-16 16:00:16,461 [f3e3a3a3-846b-4347-a380-93d47fe145fc@group-35973CD54530:LeaderElection9] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.write.element-limit = 4096 (default)
2019-09-16 16:00:16,461 [f3e3a3a3-846b-4347-a380-93d47fe145fc@group-35973CD54530:LeaderElection9] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.watch.timeout = 10s (default)
2019-09-16 16:00:16,461 [f3e3a3a3-846b-4347-a380-93d47fe145fc@group-35973CD54530:LeaderElection9] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.watch.timeout.denomination = 1s (default)
2019-09-16 16:00:16,461 [f3e3a3a3-846b-4347-a380-93d47fe145fc@group-35973CD54530:LeaderElection9] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.watch.element-limit = 65536 (default)
2019-09-16 16:00:16,464 [f3e3a3a3-846b-4347-a380-93d47fe145fc@group-35973CD54530:LeaderElection9] INFO  impl.RoleInfo (RoleInfo.java:updateAndGet(143)) - f3e3a3a3-846b-4347-a380-93d47fe145fc: start LeaderState
2019-09-16 16:00:16,465 [f3e3a3a3-846b-4347-a380-93d47fe145fc@group-35973CD54530:LeaderElection9] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:startLogSegment(380)) - f3e3a3a3-846b-4347-a380-93d47fe145fc@group-35973CD54530-SegmentedRaftLogWorker: Starting segment from index:0
2019-09-16 16:00:16,465 [f3e3a3a3-846b-4347-a380-93d47fe145fc@group-35973CD54530:LeaderElection9] INFO  impl.RaftServerImpl (ServerState.java:setRaftConf(354)) - f3e3a3a3-846b-4347-a380-93d47fe145fc@group-35973CD54530: set configuration 0: [f3e3a3a3-846b-4347-a380-93d47fe145fc:192.168.5.184:33964], old=null at 0
2019-09-16 16:00:16,656 [f3e3a3a3-846b-4347-a380-93d47fe145fc@group-35973CD54530-SegmentedRaftLogWorker] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:execute(569)) - f3e3a3a3-846b-4347-a380-93d47fe145fc@group-35973CD54530-SegmentedRaftLogWorker: created new log segment /workdir/hadoop-ozone/integration-test/target/test-dir/MiniOzoneClusterImpl-e7174f9f-1f65-4936-ace6-f3a8e5d3c0c8/datanode-0/data/ratis/5e18a1ad-bac9-4355-994f-35973cd54530/current/log_inprogress_0
2019-09-16 16:00:18,107 [f3e3a3a3-846b-4347-a380-93d47fe145fc@group-35973CD54530-StateMachineUpdater] INFO  ratis.ContainerStateMachine (ContainerStateMachine.java:takeSnapshot(289)) - group-35973CD54530: Taking a snapshot at:(t:1, i:1) file /workdir/hadoop-ozone/integration-test/target/test-dir/MiniOzoneClusterImpl-e7174f9f-1f65-4936-ace6-f3a8e5d3c0c8/datanode-0/data/ratis/5e18a1ad-bac9-4355-994f-35973cd54530/sm/snapshot.1_1
2019-09-16 16:00:18,110 [grpc-default-executor-2] INFO  client.GrpcClientProtocolClient (GrpcClientProtocolClient.java:onNext(264)) - client-9FED02AB4025->f3e3a3a3-846b-4347-a380-93d47fe145fc: receive RaftClientReply:client-9FED02AB4025->f3e3a3a3-846b-4347-a380-93d47fe145fc@group-35973CD54530, cid=27, SUCCESS, logIndex=1, commits[f3e3a3a3-846b-4347-a380-93d47fe145fc:c1]
2019-09-16 16:00:18,124 [f3e3a3a3-846b-4347-a380-93d47fe145fc@group-35973CD54530-StateMachineUpdater] INFO  ratis.ContainerStateMachine (ContainerStateMachine.java:takeSnapshot(300)) - group-35973CD54530: Finished taking a snapshot at:(t:1, i:1) file:/workdir/hadoop-ozone/integration-test/target/test-dir/MiniOzoneClusterImpl-e7174f9f-1f65-4936-ace6-f3a8e5d3c0c8/datanode-0/data/ratis/5e18a1ad-bac9-4355-994f-35973cd54530/sm/snapshot.1_1 time:17
2019-09-16 16:00:18,124 [f3e3a3a3-846b-4347-a380-93d47fe145fc@group-35973CD54530-StateMachineUpdater] INFO  impl.StateMachineUpdater (StateMachineUpdater.java:takeSnapshot(258)) - f3e3a3a3-846b-4347-a380-93d47fe145fc@group-35973CD54530-StateMachineUpdater: Took a snapshot at index 1
2019-09-16 16:00:18,124 [f3e3a3a3-846b-4347-a380-93d47fe145fc@group-35973CD54530-StateMachineUpdater] INFO  impl.StateMachineUpdater (StateMachineUpdater.java:lambda$new$0(83)) - f3e3a3a3-846b-4347-a380-93d47fe145fc@group-35973CD54530-StateMachineUpdater: snapshotIndex: updateIncreasingly -1 -> 1
2019-09-16 16:00:18,125 [f3e3a3a3-846b-4347-a380-93d47fe145fc@group-35973CD54530-StateMachineUpdater] INFO  ratis.ContainerStateMachine (ContainerStateMachine.java:takeSnapshot(289)) - group-35973CD54530: Taking a snapshot at:(t:1, i:1) file /workdir/hadoop-ozone/integration-test/target/test-dir/MiniOzoneClusterImpl-e7174f9f-1f65-4936-ace6-f3a8e5d3c0c8/datanode-0/data/ratis/5e18a1ad-bac9-4355-994f-35973cd54530/sm/snapshot.1_1
2019-09-16 16:00:18,153 [f3e3a3a3-846b-4347-a380-93d47fe145fc@group-35973CD54530-StateMachineUpdater] INFO  ratis.ContainerStateMachine (ContainerStateMachine.java:takeSnapshot(300)) - group-35973CD54530: Finished taking a snapshot at:(t:1, i:1) file:/workdir/hadoop-ozone/integration-test/target/test-dir/MiniOzoneClusterImpl-e7174f9f-1f65-4936-ace6-f3a8e5d3c0c8/datanode-0/data/ratis/5e18a1ad-bac9-4355-994f-35973cd54530/sm/snapshot.1_1 time:29
2019-09-16 16:00:18,153 [f3e3a3a3-846b-4347-a380-93d47fe145fc@group-35973CD54530-StateMachineUpdater] INFO  impl.StateMachineUpdater (StateMachineUpdater.java:takeSnapshot(258)) - f3e3a3a3-846b-4347-a380-93d47fe145fc@group-35973CD54530-StateMachineUpdater: Took a snapshot at index 1
2019-09-16 16:00:18,153 [f3e3a3a3-846b-4347-a380-93d47fe145fc@group-35973CD54530-StateMachineUpdater] INFO  impl.StateMachineUpdater (StateMachineUpdater.java:lambda$new$0(83)) - f3e3a3a3-846b-4347-a380-93d47fe145fc@group-35973CD54530-StateMachineUpdater: snapshotIndex: updateIncreasingly 1 -> 1
2019-09-16 16:00:18,238 [f3e3a3a3-846b-4347-a380-93d47fe145fc@group-35973CD54530-StateMachineUpdater] INFO  ratis.ContainerStateMachine (ContainerStateMachine.java:takeSnapshot(289)) - group-35973CD54530: Taking a snapshot at:(t:1, i:4) file /workdir/hadoop-ozone/integration-test/target/test-dir/MiniOzoneClusterImpl-e7174f9f-1f65-4936-ace6-f3a8e5d3c0c8/datanode-0/data/ratis/5e18a1ad-bac9-4355-994f-35973cd54530/sm/snapshot.1_4
2019-09-16 16:00:18,241 [grpc-default-executor-2] INFO  client.GrpcClientProtocolClient (GrpcClientProtocolClient.java:onNext(264)) - client-9FED02AB4025->f3e3a3a3-846b-4347-a380-93d47fe145fc: receive RaftClientReply:client-9FED02AB4025->f3e3a3a3-846b-4347-a380-93d47fe145fc@group-35973CD54530, cid=28, SUCCESS, logIndex=3, commits[f3e3a3a3-846b-4347-a380-93d47fe145fc:c4]
2019-09-16 16:00:18,285 [f3e3a3a3-846b-4347-a380-93d47fe145fc@group-35973CD54530-StateMachineUpdater] INFO  ratis.ContainerStateMachine (ContainerStateMachine.java:takeSnapshot(300)) - group-35973CD54530: Finished taking a snapshot at:(t:1, i:4) file:/workdir/hadoop-ozone/integration-test/target/test-dir/MiniOzoneClusterImpl-e7174f9f-1f65-4936-ace6-f3a8e5d3c0c8/datanode-0/data/ratis/5e18a1ad-bac9-4355-994f-35973cd54530/sm/snapshot.1_4 time:47
2019-09-16 16:00:18,285 [f3e3a3a3-846b-4347-a380-93d47fe145fc@group-35973CD54530-StateMachineUpdater] INFO  impl.StateMachineUpdater (StateMachineUpdater.java:takeSnapshot(258)) - f3e3a3a3-846b-4347-a380-93d47fe145fc@group-35973CD54530-StateMachineUpdater: Took a snapshot at index 4
2019-09-16 16:00:18,285 [Datanode State Machine Thread - 0] INFO  statemachine.DatanodeStateMachine (DatanodeStateMachine.java:lambda$startDaemon$0(350)) - Ozone container server started.
2019-09-16 16:00:18,285 [f3e3a3a3-846b-4347-a380-93d47fe145fc@group-35973CD54530-StateMachineUpdater] INFO  impl.StateMachineUpdater (StateMachineUpdater.java:lambda$new$0(83)) - f3e3a3a3-846b-4347-a380-93d47fe145fc@group-35973CD54530-StateMachineUpdater: snapshotIndex: updateIncreasingly 1 -> 4
2019-09-16 16:00:21,147 [EventQueue-StaleNodeForStaleNodeHandler] INFO  node.StaleNodeHandler (StaleNodeHandler.java:onMessage(58)) - Datanode f3e3a3a3-846b-4347-a380-93d47fe145fc{ip: 192.168.5.184, host: pr-hdds-2022-qxstf-1422721469, networkLocation: /default-rack, certSerialId: null} moved to stale state. Finalizing its pipelines [PipelineID=5e18a1ad-bac9-4355-994f-35973cd54530]
2019-09-16 16:00:21,147 [EventQueue-StaleNodeForStaleNodeHandler] INFO  pipeline.SCMPipelineManager (SCMPipelineManager.java:finalizeAndDestroyPipeline(311)) - destroying pipeline:Pipeline[ Id: 5e18a1ad-bac9-4355-994f-35973cd54530, Nodes: f3e3a3a3-846b-4347-a380-93d47fe145fc{ip: 192.168.5.184, host: pr-hdds-2022-qxstf-1422721469, networkLocation: /default-rack, certSerialId: null}, Type:RATIS, Factor:ONE, State:OPEN]
2019-09-16 16:00:21,148 [EventQueue-StaleNodeForStaleNodeHandler] INFO  pipeline.PipelineStateManager (PipelineStateManager.java:finalizePipeline(123)) - Pipeline Pipeline[ Id: 5e18a1ad-bac9-4355-994f-35973cd54530, Nodes: f3e3a3a3-846b-4347-a380-93d47fe145fc{ip: 192.168.5.184, host: pr-hdds-2022-qxstf-1422721469, networkLocation: /default-rack, certSerialId: null}, Type:RATIS, Factor:ONE, State:CLOSED] moved to CLOSED state
2019-09-16 16:00:21,148 [EventQueue-CloseContainerForCloseContainerEventHandler] INFO  container.CloseContainerEventHandler (CloseContainerEventHandler.java:onMessage(61)) - Close container Event triggered for container : #6
2019-09-16 16:00:23,268 [main] INFO  ozoneimpl.OzoneContainer (OzoneContainer.java:stop(231)) - Attempting to stop container services.
2019-09-16 16:00:23,269 [main] INFO  impl.RaftServerProxy (RaftServerProxy.java:lambda$close$4(314)) - f3e3a3a3-846b-4347-a380-93d47fe145fc: close
2019-09-16 16:00:23,270 [main] INFO  impl.RaftServerImpl (RaftServerImpl.java:lambda$shutdown$3(251)) - f3e3a3a3-846b-4347-a380-93d47fe145fc@group-35973CD54530: shutdown
2019-09-16 16:00:23,270 [main] INFO  util.JmxRegister (JmxRegister.java:unregister(73)) - Successfully un-registered JMX Bean with object name Ratis:service=RaftServer,group=group-35973CD54530,id=f3e3a3a3-846b-4347-a380-93d47fe145fc
2019-09-16 16:00:23,270 [main] INFO  impl.RoleInfo (RoleInfo.java:shutdownLeaderState(104)) - f3e3a3a3-846b-4347-a380-93d47fe145fc: shutdown LeaderState
2019-09-16 16:00:23,271 [main] INFO  impl.PendingRequests (PendingRequests.java:sendNotLeaderResponses(202)) - f3e3a3a3-846b-4347-a380-93d47fe145fc-PendingRequests: sendNotLeaderResponses
2019-09-16 16:00:23,276 [main] INFO  impl.StateMachineUpdater (StateMachineUpdater.java:stopAndJoin(125)) - f3e3a3a3-846b-4347-a380-93d47fe145fc@group-35973CD54530-StateMachineUpdater: set stopIndex = 4
2019-09-16 16:00:23,277 [main] INFO  impl.RaftServerImpl (ServerState.java:close(385)) - f3e3a3a3-846b-4347-a380-93d47fe145fc@group-35973CD54530: closes. applyIndex: 4
2019-09-16 16:00:23,278 [f3e3a3a3-846b-4347-a380-93d47fe145fc@group-35973CD54530-SegmentedRaftLogWorker] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:run(313)) - f3e3a3a3-846b-4347-a380-93d47fe145fc@group-35973CD54530-SegmentedRaftLogWorker was interrupted, exiting. There are 0 tasks remaining in the queue.
2019-09-16 16:00:23,281 [main] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:close(228)) - f3e3a3a3-846b-4347-a380-93d47fe145fc@group-35973CD54530-SegmentedRaftLogWorker close()
2019-09-16 16:00:23,282 [main] INFO  server.GrpcService (GrpcService.java:closeImpl(164)) - f3e3a3a3-846b-4347-a380-93d47fe145fc: shutdown server with port 33964 now
2019-09-16 16:00:23,284 [main] INFO  server.GrpcService (GrpcService.java:closeImpl(172)) - f3e3a3a3-846b-4347-a380-93d47fe145fc: shutdown server with port 33964 successfully
2019-09-16 16:00:23,288 [refreshUsed-/workdir/hadoop-ozone/integration-test/target/test-dir/MiniOzoneClusterImpl-e7174f9f-1f65-4936-ace6-f3a8e5d3c0c8/datanode-0/data/containers] WARN  fs.CachingGetSpaceUsed (CachingGetSpaceUsed.java:run(183)) - Thread Interrupted waiting to refresh disk information: sleep interrupted
2019-09-16 16:00:23,310 [main] INFO  utils.BackgroundService (BackgroundService.java:shutdown(148)) - Shutting down service BlockDeletingService
2019-09-16 16:00:23,311 [main] INFO  statemachine.DatanodeStateMachine (DatanodeStateMachine.java:stopDaemon(395)) - Ozone container server stopped.
2019-09-16 16:00:23,313 [main] INFO  handler.ContextHandler (ContextHandler.java:doStop(910)) - Stopped o.e.j.w.WebAppContext@7219ac49{/,null,UNAVAILABLE}{/hddsDatanode}
2019-09-16 16:00:23,314 [main] INFO  server.AbstractConnector (AbstractConnector.java:doStop(318)) - Stopped ServerConnector@21da4b5f{HTTP/1.1,[http/1.1]}{0.0.0.0:43474}
2019-09-16 16:00:23,315 [main] INFO  handler.ContextHandler (ContextHandler.java:doStop(910)) - Stopped o.e.j.s.ServletContextHandler@4f4c88f9{/static,jar:file:/home/user/.m2/repository/org/apache/hadoop/hadoop-hdds-container-service/0.5.0-SNAPSHOT/hadoop-hdds-container-service-0.5.0-SNAPSHOT.jar!/webapps/static,UNAVAILABLE}
2019-09-16 16:00:23,315 [main] INFO  handler.ContextHandler (ContextHandler.java:doStop(910)) - Stopped o.e.j.s.ServletContextHandler@75e27856{/logs,file:///workdir/hadoop-ozone/integration-test/target/log,UNAVAILABLE}
2019-09-16 16:00:23,317 [main] INFO  ozone.MiniOzoneClusterImpl (MiniOzoneClusterImpl.java:lambda$waitForClusterToBeReady$0(145)) - Cluster is ready. Got 0 of 0 DN Heartbeats.
2019-09-16 16:00:23,320 [main] INFO  impl.MetricsSystemImpl (MetricsSystemImpl.java:init(158)) - HddsDatanode metrics system started (again)
2019-09-16 16:00:23,325 [main] INFO  ozone.HddsDatanodeService (HddsDatanodeService.java:start(184)) - HddsDatanodeService host:pr-hdds-2022-qxstf-1422721469 ip:192.168.5.184
2019-09-16 16:00:23,328 [main] INFO  volume.VolumeUsage (VolumeUsage.java:loadScmUsed(144)) - Cached ScmUsed found for /workdir/hadoop-ozone/integration-test/target/test-dir/MiniOzoneClusterImpl-e7174f9f-1f65-4936-ace6-f3a8e5d3c0c8/datanode-0/data/containers : 4096 
2019-09-16 16:00:23,329 [main] INFO  volume.HddsVolume (HddsVolume.java:<init>(176)) - Creating Volume: /workdir/hadoop-ozone/integration-test/target/test-dir/MiniOzoneClusterImpl-e7174f9f-1f65-4936-ace6-f3a8e5d3c0c8/datanode-0/data/containers/hdds of  storage type : DISK and capacity : 1482555576320
2019-09-16 16:00:23,329 [main] INFO  volume.VolumeSet (VolumeSet.java:initializeVolumeSet(170)) - Added Volume : /workdir/hadoop-ozone/integration-test/target/test-dir/MiniOzoneClusterImpl-e7174f9f-1f65-4936-ace6-f3a8e5d3c0c8/datanode-0/data/containers/hdds to VolumeSet
2019-09-16 16:00:23,330 [main] INFO  volume.ThrottledAsyncChecker (ThrottledAsyncChecker.java:schedule(139)) - Scheduling a check for org.apache.hadoop.ozone.container.common.volume.HddsVolume@5d5b9ecb
2019-09-16 16:00:23,330 [main] INFO  volume.HddsVolumeChecker (HddsVolumeChecker.java:checkAllVolumes(202)) - Scheduled health check for volume org.apache.hadoop.ozone.container.common.volume.HddsVolume@5d5b9ecb
2019-09-16 16:00:23,362 [main] INFO  impl.RaftServerProxy (ConfUtils.java:logGet(43)) - raft.rpc.type = GRPC (default)
2019-09-16 16:00:23,362 [main] INFO  grpc.GrpcFactory (GrpcFactory.java:checkPooledByteBufAllocatorUseCacheForAllThreads(45)) - PERFORMANCE WARNING: useCacheForAllThreads is true that may cause Netty to create a lot garbage objects and, as a result, trigger GC.
	It is recommended to disable useCacheForAllThreads by setting -Dorg.apache.ratis.thirdparty.io.netty.allocator.useCacheForAllThreads=false in command line.
2019-09-16 16:00:23,362 [main] INFO  grpc.GrpcConfigKeys$Server (ConfUtils.java:logGet(43)) - raft.grpc.server.port = 33964 (custom)
2019-09-16 16:00:23,363 [main] INFO  server.GrpcService (ConfUtils.java:logGet(43)) - raft.grpc.message.size.max = 33570816 (custom)
2019-09-16 16:00:23,363 [main] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.log.appender.buffer.byte-limit = 33554432 (custom)
2019-09-16 16:00:23,363 [main] INFO  server.GrpcService (ConfUtils.java:logGet(43)) - raft.grpc.flow.control.window = 1MB (=1048576) (default)
2019-09-16 16:00:23,364 [main] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.rpc.request.timeout = 3000ms (default)
2019-09-16 16:00:23,364 [main] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.storage.dir = [/workdir/hadoop-ozone/integration-test/target/test-dir/MiniOzoneClusterImpl-e7174f9f-1f65-4936-ace6-f3a8e5d3c0c8/datanode-0/data/ratis] (custom)
2019-09-16 16:00:23,365 [main] INFO  impl.RaftServerProxy (RaftServerProxy.java:lambda$null$0(191)) - f3e3a3a3-846b-4347-a380-93d47fe145fc: found a subdirectory /workdir/hadoop-ozone/integration-test/target/test-dir/MiniOzoneClusterImpl-e7174f9f-1f65-4936-ace6-f3a8e5d3c0c8/datanode-0/data/ratis/5e18a1ad-bac9-4355-994f-35973cd54530
2019-09-16 16:00:23,365 [main] INFO  impl.RaftServerProxy (RaftServerProxy.java:addNew(89)) - f3e3a3a3-846b-4347-a380-93d47fe145fc: addNew group-35973CD54530:[] returns group-35973CD54530:java.util.concurrent.CompletableFuture@5b7aa898[Not completed]
2019-09-16 16:00:23,369 [main] INFO  hdfs.DFSUtil (DFSUtil.java:httpServerTemplateForNNAndJN(1641)) - Starting Web-server for hddsDatanode at: http://0.0.0.0:43474
2019-09-16 16:00:23,369 [pool-75-thread-1] INFO  impl.RaftServerImpl (RaftServerImpl.java:<init>(95)) - f3e3a3a3-846b-4347-a380-93d47fe145fc: new RaftServerImpl for group-35973CD54530:[] with ContainerStateMachine:uninitialized
2019-09-16 16:00:23,370 [pool-75-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.rpc.timeout.min = 5s (custom)
2019-09-16 16:00:23,370 [pool-75-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.rpc.timeout.max = 5200ms (custom)
2019-09-16 16:00:23,370 [pool-75-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.rpcslowness.timeout = 120s (custom)
2019-09-16 16:00:23,371 [pool-75-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.sleep.deviation.threshold = 300 (default)
2019-09-16 16:00:23,371 [pool-75-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.log.appender.install.snapshot.enabled = false (custom)
2019-09-16 16:00:23,371 [pool-75-thread-1] INFO  impl.RaftServerImpl (ServerState.java:<init>(103)) - f3e3a3a3-846b-4347-a380-93d47fe145fc@group-35973CD54530: ConfigurationManager, init=-1: [], old=null, confs=<EMPTY_MAP>
2019-09-16 16:00:23,371 [pool-75-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.storage.dir = [/workdir/hadoop-ozone/integration-test/target/test-dir/MiniOzoneClusterImpl-e7174f9f-1f65-4936-ace6-f3a8e5d3c0c8/datanode-0/data/ratis] (custom)
2019-09-16 16:00:23,371 [main] INFO  server.AuthenticationFilter (AuthenticationFilter.java:constructSecretProvider(240)) - Unable to initialize FileSignerSecretProvider, falling back to use random secrets.
2019-09-16 16:00:23,372 [main] WARN  http.HttpRequestLog (HttpRequestLog.java:getRequestLog(97)) - Jetty request log can only be enabled using Log4j
2019-09-16 16:00:23,374 [main] INFO  http.HttpServer2 (HttpServer2.java:addGlobalFilter(975)) - Added global filter 'safety' (class=org.apache.hadoop.http.HttpServer2$QuotingInputFilter)
2019-09-16 16:00:23,375 [main] INFO  http.HttpServer2 (HttpServer2.java:addFilter(948)) - Added filter static_user_filter (class=org.apache.hadoop.http.lib.StaticUserWebFilter$StaticUserFilter) to context hddsDatanode
2019-09-16 16:00:23,375 [main] INFO  http.HttpServer2 (HttpServer2.java:addFilter(958)) - Added filter static_user_filter (class=org.apache.hadoop.http.lib.StaticUserWebFilter$StaticUserFilter) to context logs
2019-09-16 16:00:23,375 [main] INFO  http.HttpServer2 (HttpServer2.java:addFilter(958)) - Added filter static_user_filter (class=org.apache.hadoop.http.lib.StaticUserWebFilter$StaticUserFilter) to context static
2019-09-16 16:00:23,376 [main] INFO  http.HttpServer2 (HttpServer2.java:bindListener(1191)) - Jetty bound to port 43474
2019-09-16 16:00:23,376 [main] INFO  server.Server (Server.java:doStart(351)) - jetty-9.3.24.v20180605, build timestamp: 2018-06-05T17:11:56Z, git hash: 84205aa28f11a4f31f2a3b86d1bba2cc8ab69827
2019-09-16 16:00:23,379 [main] INFO  handler.ContextHandler (ContextHandler.java:doStart(781)) - Started o.e.j.s.ServletContextHandler@254449bb{/logs,file:///workdir/hadoop-ozone/integration-test/target/log,AVAILABLE}
2019-09-16 16:00:23,379 [main] INFO  handler.ContextHandler (ContextHandler.java:doStart(781)) - Started o.e.j.s.ServletContextHandler@29ebbdf4{/static,jar:file:/home/user/.m2/repository/org/apache/hadoop/hadoop-hdds-container-service/0.5.0-SNAPSHOT/hadoop-hdds-container-service-0.5.0-SNAPSHOT.jar!/webapps/static,AVAILABLE}
2019-09-16 16:00:23,416 [main] INFO  handler.ContextHandler (ContextHandler.java:doStart(781)) - Started o.e.j.w.WebAppContext@1192b58e{/,file:///tmp/jetty-0.0.0.0-43474-hddsDatanode-_-any-6442970610316456303.dir/webapp/,AVAILABLE}{/hddsDatanode}
2019-09-16 16:00:23,417 [main] INFO  server.AbstractConnector (AbstractConnector.java:doStart(278)) - Started ServerConnector@563f09f8{HTTP/1.1,[http/1.1]}{0.0.0.0:43474}
2019-09-16 16:00:23,418 [main] INFO  server.Server (Server.java:doStart(419)) - Started @116720ms
2019-09-16 16:00:23,418 [main] WARN  impl.MetricsSystemImpl (MetricsSystemImpl.java:register(276)) - Sink prometheus already exists!
2019-09-16 16:00:23,419 [main] INFO  server.BaseHttpServer (BaseHttpServer.java:updateConnectorAddress(215)) - HTTP server of HDDSDATANODE is listening at http://0.0.0.0:43474
2019-09-16 16:00:23,419 [main] INFO  ozone.MiniOzoneClusterImpl (MiniOzoneClusterImpl.java:lambda$waitForClusterToBeReady$0(145)) - Waiting for cluster to be ready. Got 0 of 1 DN Heartbeats.
2019-09-16 16:00:23,420 [org.apache.hadoop.util.JvmPauseMonitor$Monitor@13405e68] INFO  util.JvmPauseMonitor (JvmPauseMonitor.java:run(188)) - Starting JVM pause monitor
2019-09-16 16:00:23,425 [pool-75-thread-1] INFO  storage.RaftStorageDirectory (RaftStorageDirectory.java:tryLock(328)) - Lock on /workdir/hadoop-ozone/integration-test/target/test-dir/MiniOzoneClusterImpl-e7174f9f-1f65-4936-ace6-f3a8e5d3c0c8/datanode-0/data/ratis/5e18a1ad-bac9-4355-994f-35973cd54530/in_use.lock acquired by nodename 22961@pr-hdds-2022-qxstf-1422721469
2019-09-16 16:00:23,426 [pool-75-thread-1] INFO  ratis.ContainerStateMachine (ContainerStateMachine.java:loadSnapshot(239)) - group-35973CD54530: Setting the last applied index to (t:1, i:4)
2019-09-16 16:00:23,427 [pool-75-thread-1] INFO  impl.RaftServerImpl (ServerState.java:setRaftConf(354)) - f3e3a3a3-846b-4347-a380-93d47fe145fc@group-35973CD54530: set configuration 0: [f3e3a3a3-846b-4347-a380-93d47fe145fc:192.168.5.184:33964], old=null at 0
2019-09-16 16:00:23,427 [pool-75-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.notification.no-leader.timeout = 120s (custom)
2019-09-16 16:00:23,427 [pool-75-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.log.use.memory = false (default)
2019-09-16 16:00:23,427 [pool-75-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.log.purge.gap = 1000000 (custom)
2019-09-16 16:00:23,427 [pool-75-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.log.appender.buffer.byte-limit = 33554432 (custom)
2019-09-16 16:00:23,427 [pool-75-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.log.segment.size.max = 1048576 (custom)
2019-09-16 16:00:23,427 [pool-75-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.log.segment.cache.num.max = 2 (custom)
2019-09-16 16:00:23,427 [pool-75-thread-1] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:<init>(172)) - new f3e3a3a3-846b-4347-a380-93d47fe145fc@group-35973CD54530-SegmentedRaftLogWorker for RaftStorage:Storage Directory /workdir/hadoop-ozone/integration-test/target/test-dir/MiniOzoneClusterImpl-e7174f9f-1f65-4936-ace6-f3a8e5d3c0c8/datanode-0/data/ratis/5e18a1ad-bac9-4355-994f-35973cd54530
2019-09-16 16:00:23,428 [pool-75-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.log.queue.byte-limit = 2147483647 (custom)
2019-09-16 16:00:23,428 [pool-75-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.log.queue.element-limit = 1024 (custom)
2019-09-16 16:00:23,428 [pool-75-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.log.segment.size.max = 1048576 (custom)
2019-09-16 16:00:23,428 [pool-75-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.log.preallocated.size = 16384 (custom)
2019-09-16 16:00:23,428 [pool-75-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.log.write.buffer.size = 33554432 (custom)
2019-09-16 16:00:23,428 [pool-75-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.log.force.sync.num = 128 (default)
2019-09-16 16:00:23,428 [pool-75-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.log.statemachine.data.sync = true (default)
2019-09-16 16:00:23,428 [pool-75-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.log.statemachine.data.sync.timeout = 10s (default)
2019-09-16 16:00:23,429 [pool-75-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.log.statemachine.data.sync.timeout.retry = -1 (default)
2019-09-16 16:00:23,429 [pool-75-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.log.statemachine.data.caching.enabled = true (custom)
2019-09-16 16:00:23,429 [pool-75-thread-1] INFO  impl.RaftServerImpl (ServerState.java:setRaftConf(354)) - f3e3a3a3-846b-4347-a380-93d47fe145fc@group-35973CD54530: set configuration 0: [f3e3a3a3-846b-4347-a380-93d47fe145fc:192.168.5.184:33964], old=null at 0
2019-09-16 16:00:23,430 [pool-75-thread-1] INFO  segmented.LogSegment (LogSegment.java:loadSegment(123)) - Successfully read 5 entries from segment file /workdir/hadoop-ozone/integration-test/target/test-dir/MiniOzoneClusterImpl-e7174f9f-1f65-4936-ace6-f3a8e5d3c0c8/datanode-0/data/ratis/5e18a1ad-bac9-4355-994f-35973cd54530/current/log_inprogress_0
2019-09-16 16:00:23,430 [pool-75-thread-1] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:lambda$new$0(132)) - f3e3a3a3-846b-4347-a380-93d47fe145fc@group-35973CD54530-SegmentedRaftLogWorker: flushIndex: setUnconditionally 0 -> 4
2019-09-16 16:00:23,453 [pool-75-thread-1] INFO  raftlog.RaftLog (RaftLog.java:lambda$new$0(61)) - f3e3a3a3-846b-4347-a380-93d47fe145fc@group-35973CD54530-SegmentedRaftLog: commitIndex: updateToMax old=4, new=3, updated? false
2019-09-16 16:00:23,454 [pool-75-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.snapshot.auto.trigger.enabled = true (custom)
2019-09-16 16:00:23,454 [pool-75-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.snapshot.auto.trigger.threshold = 1 (custom)
2019-09-16 16:00:23,454 [pool-75-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.snapshot.retention.num.files = 5 (custom)
2019-09-16 16:00:23,454 [pool-75-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.retrycache.expirytime = 600000ms (custom)
2019-09-16 16:00:24,419 [main] INFO  ozone.MiniOzoneClusterImpl (MiniOzoneClusterImpl.java:lambda$waitForClusterToBeReady$0(145)) - Waiting for cluster to be ready. Got 0 of 1 DN Heartbeats.
2019-09-16 16:00:25,420 [main] INFO  ozone.MiniOzoneClusterImpl (MiniOzoneClusterImpl.java:lambda$waitForClusterToBeReady$0(145)) - Waiting for cluster to be ready. Got 0 of 1 DN Heartbeats.
2019-09-16 16:00:25,423 [Datanode State Machine Thread - 0] INFO  ozoneimpl.OzoneContainer (OzoneContainer.java:start(217)) - Attempting to start container services.
2019-09-16 16:00:25,423 [Datanode State Machine Thread - 0] INFO  ozoneimpl.OzoneContainer (OzoneContainer.java:startContainerScrub(179)) - Background container scanner has been disabled.
2019-09-16 16:00:25,423 [Datanode State Machine Thread - 0] INFO  ratis.XceiverServerRatis (XceiverServerRatis.java:start(411)) - Starting XceiverServerRatis f3e3a3a3-846b-4347-a380-93d47fe145fc at port 33964
2019-09-16 16:00:25,431 [Datanode State Machine Thread - 0] INFO  impl.RaftServerImpl (RaftServerImpl.java:start(185)) - f3e3a3a3-846b-4347-a380-93d47fe145fc@group-35973CD54530: start as a follower, conf=0: [f3e3a3a3-846b-4347-a380-93d47fe145fc:192.168.5.184:33964], old=null
2019-09-16 16:00:25,431 [Datanode State Machine Thread - 0] INFO  impl.RaftServerImpl (RaftServerImpl.java:setRole(174)) - f3e3a3a3-846b-4347-a380-93d47fe145fc@group-35973CD54530: changes role from      null to FOLLOWER at term 1 for startAsFollower
2019-09-16 16:00:25,431 [Datanode State Machine Thread - 0] INFO  impl.RoleInfo (RoleInfo.java:updateAndGet(143)) - f3e3a3a3-846b-4347-a380-93d47fe145fc: start FollowerState
2019-09-16 16:00:25,432 [Datanode State Machine Thread - 0] INFO  util.JmxRegister (JmxRegister.java:tryRegister(44)) - Successfully registered JMX Bean with object name Ratis:service=RaftServer,group=group-35973CD54530,id=f3e3a3a3-846b-4347-a380-93d47fe145fc
2019-09-16 16:00:25,433 [Datanode State Machine Thread - 0] INFO  impl.RaftServerProxy (RaftServerProxy.java:lambda$start$3(299)) - f3e3a3a3-846b-4347-a380-93d47fe145fc: start RPC server
2019-09-16 16:00:25,435 [Datanode State Machine Thread - 0] INFO  server.GrpcService (GrpcService.java:startImpl(158)) - f3e3a3a3-846b-4347-a380-93d47fe145fc: GrpcService started, listening on 0.0.0.0/0.0.0.0:33964
2019-09-16 16:00:26,421 [main] INFO  ozone.MiniOzoneClusterImpl (MiniOzoneClusterImpl.java:lambda$waitForClusterToBeReady$0(145)) - Waiting for cluster to be ready. Got 0 of 1 DN Heartbeats.
2019-09-16 16:00:27,422 [main] INFO  ozone.MiniOzoneClusterImpl (MiniOzoneClusterImpl.java:lambda$waitForClusterToBeReady$0(145)) - Waiting for cluster to be ready. Got 0 of 1 DN Heartbeats.
2019-09-16 16:00:28,422 [main] INFO  ozone.MiniOzoneClusterImpl (MiniOzoneClusterImpl.java:lambda$waitForClusterToBeReady$0(145)) - Waiting for cluster to be ready. Got 0 of 1 DN Heartbeats.
2019-09-16 16:00:29,423 [main] INFO  ozone.MiniOzoneClusterImpl (MiniOzoneClusterImpl.java:lambda$waitForClusterToBeReady$0(145)) - Waiting for cluster to be ready. Got 0 of 1 DN Heartbeats.
2019-09-16 16:00:29,469 [grpc-default-executor-2] INFO  impl.RaftServerProxy (RaftServerProxy.java:addNew(89)) - f3e3a3a3-846b-4347-a380-93d47fe145fc: addNew group-68B55407E0D3:[f3e3a3a3-846b-4347-a380-93d47fe145fc:192.168.5.184:33964] returns group-68B55407E0D3:java.util.concurrent.CompletableFuture@77b56c3e[Not completed]
2019-09-16 16:00:29,471 [pool-75-thread-1] INFO  impl.RaftServerImpl (RaftServerImpl.java:<init>(95)) - f3e3a3a3-846b-4347-a380-93d47fe145fc: new RaftServerImpl for group-68B55407E0D3:[f3e3a3a3-846b-4347-a380-93d47fe145fc:192.168.5.184:33964] with ContainerStateMachine:uninitialized
2019-09-16 16:00:29,472 [pool-75-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.rpc.timeout.min = 5s (custom)
2019-09-16 16:00:29,472 [pool-75-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.rpc.timeout.max = 5200ms (custom)
2019-09-16 16:00:29,472 [pool-75-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.rpcslowness.timeout = 120s (custom)
2019-09-16 16:00:29,472 [pool-75-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.sleep.deviation.threshold = 300 (default)
2019-09-16 16:00:29,472 [pool-75-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.log.appender.install.snapshot.enabled = false (custom)
2019-09-16 16:00:29,472 [pool-75-thread-1] INFO  impl.RaftServerImpl (ServerState.java:<init>(103)) - f3e3a3a3-846b-4347-a380-93d47fe145fc@group-68B55407E0D3: ConfigurationManager, init=-1: [f3e3a3a3-846b-4347-a380-93d47fe145fc:192.168.5.184:33964], old=null, confs=<EMPTY_MAP>
2019-09-16 16:00:29,472 [pool-75-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.storage.dir = [/workdir/hadoop-ozone/integration-test/target/test-dir/MiniOzoneClusterImpl-e7174f9f-1f65-4936-ace6-f3a8e5d3c0c8/datanode-0/data/ratis] (custom)
2019-09-16 16:00:29,473 [pool-75-thread-1] INFO  storage.RaftStorageDirectory (RaftStorageDirectory.java:analyzeStorage(246)) - The storage directory /workdir/hadoop-ozone/integration-test/target/test-dir/MiniOzoneClusterImpl-e7174f9f-1f65-4936-ace6-f3a8e5d3c0c8/datanode-0/data/ratis/c7c6f1c4-d218-49cd-a948-68b55407e0d3 does not exist. Creating ...
2019-09-16 16:00:29,507 [pool-75-thread-1] INFO  storage.RaftStorageDirectory (RaftStorageDirectory.java:tryLock(328)) - Lock on /workdir/hadoop-ozone/integration-test/target/test-dir/MiniOzoneClusterImpl-e7174f9f-1f65-4936-ace6-f3a8e5d3c0c8/datanode-0/data/ratis/c7c6f1c4-d218-49cd-a948-68b55407e0d3/in_use.lock acquired by nodename 22961@pr-hdds-2022-qxstf-1422721469
2019-09-16 16:00:29,541 [pool-75-thread-1] INFO  storage.RaftStorage (RaftStorage.java:format(72)) - Storage directory /workdir/hadoop-ozone/integration-test/target/test-dir/MiniOzoneClusterImpl-e7174f9f-1f65-4936-ace6-f3a8e5d3c0c8/datanode-0/data/ratis/c7c6f1c4-d218-49cd-a948-68b55407e0d3 has been successfully formatted.
2019-09-16 16:00:29,541 [pool-75-thread-1] INFO  ratis.ContainerStateMachine (ContainerStateMachine.java:loadSnapshot(230)) - group-68B55407E0D3: The snapshot info is null. Setting the last applied indexto:(t:0, i:~)
2019-09-16 16:00:29,541 [pool-75-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.notification.no-leader.timeout = 120s (custom)
2019-09-16 16:00:29,542 [pool-75-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.log.use.memory = false (default)
2019-09-16 16:00:29,542 [pool-75-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.log.purge.gap = 1000000 (custom)
2019-09-16 16:00:29,542 [pool-75-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.log.appender.buffer.byte-limit = 33554432 (custom)
2019-09-16 16:00:29,542 [pool-75-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.log.segment.size.max = 1048576 (custom)
2019-09-16 16:00:29,542 [pool-75-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.log.segment.cache.num.max = 2 (custom)
2019-09-16 16:00:29,543 [pool-75-thread-1] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:<init>(172)) - new f3e3a3a3-846b-4347-a380-93d47fe145fc@group-68B55407E0D3-SegmentedRaftLogWorker for RaftStorage:Storage Directory /workdir/hadoop-ozone/integration-test/target/test-dir/MiniOzoneClusterImpl-e7174f9f-1f65-4936-ace6-f3a8e5d3c0c8/datanode-0/data/ratis/c7c6f1c4-d218-49cd-a948-68b55407e0d3
2019-09-16 16:00:29,543 [pool-75-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.log.queue.byte-limit = 2147483647 (custom)
2019-09-16 16:00:29,543 [pool-75-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.log.queue.element-limit = 1024 (custom)
2019-09-16 16:00:29,543 [pool-75-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.log.segment.size.max = 1048576 (custom)
2019-09-16 16:00:29,543 [pool-75-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.log.preallocated.size = 16384 (custom)
2019-09-16 16:00:29,544 [pool-75-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.log.write.buffer.size = 33554432 (custom)
2019-09-16 16:00:29,544 [pool-75-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.log.force.sync.num = 128 (default)
2019-09-16 16:00:29,544 [pool-75-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.log.statemachine.data.sync = true (default)
2019-09-16 16:00:29,544 [pool-75-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.log.statemachine.data.sync.timeout = 10s (default)
2019-09-16 16:00:29,544 [pool-75-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.log.statemachine.data.sync.timeout.retry = -1 (default)
2019-09-16 16:00:29,545 [pool-75-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.log.statemachine.data.caching.enabled = true (custom)
2019-09-16 16:00:29,545 [pool-75-thread-1] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:lambda$new$0(132)) - f3e3a3a3-846b-4347-a380-93d47fe145fc@group-68B55407E0D3-SegmentedRaftLogWorker: flushIndex: setUnconditionally 0 -> -1
2019-09-16 16:00:29,546 [pool-75-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.snapshot.auto.trigger.enabled = true (custom)
2019-09-16 16:00:29,546 [pool-75-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.snapshot.auto.trigger.threshold = 1 (custom)
2019-09-16 16:00:29,546 [pool-75-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.snapshot.retention.num.files = 5 (custom)
2019-09-16 16:00:29,546 [pool-75-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.retrycache.expirytime = 600000ms (custom)
2019-09-16 16:00:29,550 [pool-75-thread-1] INFO  impl.RaftServerImpl (RaftServerImpl.java:start(185)) - f3e3a3a3-846b-4347-a380-93d47fe145fc@group-68B55407E0D3: start as a follower, conf=-1: [f3e3a3a3-846b-4347-a380-93d47fe145fc:192.168.5.184:33964], old=null
2019-09-16 16:00:29,550 [pool-75-thread-1] INFO  impl.RaftServerImpl (RaftServerImpl.java:setRole(174)) - f3e3a3a3-846b-4347-a380-93d47fe145fc@group-68B55407E0D3: changes role from      null to FOLLOWER at term 0 for startAsFollower
2019-09-16 16:00:29,550 [pool-75-thread-1] INFO  impl.RoleInfo (RoleInfo.java:updateAndGet(143)) - f3e3a3a3-846b-4347-a380-93d47fe145fc: start FollowerState
2019-09-16 16:00:29,551 [pool-75-thread-1] INFO  util.JmxRegister (JmxRegister.java:tryRegister(44)) - Successfully registered JMX Bean with object name Ratis:service=RaftServer,group=group-68B55407E0D3,id=f3e3a3a3-846b-4347-a380-93d47fe145fc
2019-09-16 16:00:29,558 [RatisPipelineUtilsThread] INFO  pipeline.PipelineStateManager (PipelineStateManager.java:addPipeline(56)) - Created pipeline Pipeline[ Id: c7c6f1c4-d218-49cd-a948-68b55407e0d3, Nodes: f3e3a3a3-846b-4347-a380-93d47fe145fc{ip: 192.168.5.184, host: pr-hdds-2022-qxstf-1422721469, networkLocation: /default-rack, certSerialId: null}, Type:RATIS, Factor:ONE, State:OPEN]
2019-09-16 16:00:30,423 [main] INFO  ozone.MiniOzoneClusterImpl (MiniOzoneClusterImpl.java:lambda$waitForClusterToBeReady$0(145)) - Cluster is ready. Got 1 of 1 DN Heartbeats.
2019-09-16 16:00:30,426 [main] INFO  keyvalue.KeyValueHandler (ContainerUtils.java:logAndReturnError(146)) - Operation: CloseContainer : Trace ID:  : Message: Cannot close container #5 while in UNHEALTHY state. : Result: CONTAINER_UNHEALTHY
16:00:30.427 [main] ERROR DNAudit - user=null | ip=null | op=CLOSE_CONTAINER {containerID=5} | ret=FAILURE
java.lang.Exception: Cannot close container #5 while in UNHEALTHY state.
	at org.apache.hadoop.ozone.container.common.impl.HddsDispatcher.dispatchRequest(HddsDispatcher.java:327) [hadoop-hdds-container-service-0.5.0-SNAPSHOT.jar:?]
	at org.apache.hadoop.ozone.container.common.impl.HddsDispatcher.dispatch(HddsDispatcher.java:150) [hadoop-hdds-container-service-0.5.0-SNAPSHOT.jar:?]
	at org.apache.hadoop.ozone.client.rpc.TestContainerStateMachineFailures.testUnhealthyContainer(TestContainerStateMachineFailures.java:274) [test-classes/:?]
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method) ~[?:1.8.0_212]
	at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62) ~[?:1.8.0_212]
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43) ~[?:1.8.0_212]
	at java.lang.reflect.Method.invoke(Method.java:498) ~[?:1.8.0_212]
	at org.junit.runners.model.FrameworkMethod$1.runReflectiveCall(FrameworkMethod.java:47) [junit-4.11.jar:?]
	at org.junit.internal.runners.model.ReflectiveCallable.run(ReflectiveCallable.java:12) [junit-4.11.jar:?]
	at org.junit.runners.model.FrameworkMethod.invokeExplosively(FrameworkMethod.java:44) [junit-4.11.jar:?]
	at org.junit.internal.runners.statements.InvokeMethod.evaluate(InvokeMethod.java:17) [junit-4.11.jar:?]
	at org.junit.runners.ParentRunner.runLeaf(ParentRunner.java:271) [junit-4.11.jar:?]
	at org.junit.runners.BlockJUnit4ClassRunner.runChild(BlockJUnit4ClassRunner.java:70) [junit-4.11.jar:?]
	at org.junit.runners.BlockJUnit4ClassRunner.runChild(BlockJUnit4ClassRunner.java:50) [junit-4.11.jar:?]
	at org.junit.runners.ParentRunner$3.run(ParentRunner.java:238) [junit-4.11.jar:?]
	at org.junit.runners.ParentRunner$1.schedule(ParentRunner.java:63) [junit-4.11.jar:?]
	at org.junit.runners.ParentRunner.runChildren(ParentRunner.java:236) [junit-4.11.jar:?]
	at org.junit.runners.ParentRunner.access$000(ParentRunner.java:53) [junit-4.11.jar:?]
	at org.junit.runners.ParentRunner$2.evaluate(ParentRunner.java:229) [junit-4.11.jar:?]
	at org.junit.internal.runners.statements.RunBefores.evaluate(RunBefores.java:26) [junit-4.11.jar:?]
	at org.junit.internal.runners.statements.RunAfters.evaluate(RunAfters.java:27) [junit-4.11.jar:?]
	at org.junit.runners.ParentRunner.run(ParentRunner.java:309) [junit-4.11.jar:?]
	at org.apache.maven.surefire.junit4.JUnit4Provider.execute(JUnit4Provider.java:365) [surefire-junit4-3.0.0-M1.jar:3.0.0-M1]
	at org.apache.maven.surefire.junit4.JUnit4Provider.executeWithRerun(JUnit4Provider.java:273) [surefire-junit4-3.0.0-M1.jar:3.0.0-M1]
	at org.apache.maven.surefire.junit4.JUnit4Provider.executeTestSet(JUnit4Provider.java:238) [surefire-junit4-3.0.0-M1.jar:3.0.0-M1]
	at org.apache.maven.surefire.junit4.JUnit4Provider.invoke(JUnit4Provider.java:159) [surefire-junit4-3.0.0-M1.jar:3.0.0-M1]
	at org.apache.maven.surefire.booter.ForkedBooter.invokeProviderInSameClassLoader(ForkedBooter.java:384) [surefire-booter-3.0.0-M1.jar:3.0.0-M1]
	at org.apache.maven.surefire.booter.ForkedBooter.runSuitesInProcess(ForkedBooter.java:345) [surefire-booter-3.0.0-M1.jar:3.0.0-M1]
	at org.apache.maven.surefire.booter.ForkedBooter.execute(ForkedBooter.java:126) [surefire-booter-3.0.0-M1.jar:3.0.0-M1]
	at org.apache.maven.surefire.booter.ForkedBooter.main(ForkedBooter.java:418) [surefire-booter-3.0.0-M1.jar:3.0.0-M1]
2019-09-16 16:00:30,462 [grpc-default-executor-2] INFO  client.GrpcClientProtocolClient (GrpcClientProtocolClient.java:onNext(264)) - client-2EF67F2D5D23->f3e3a3a3-846b-4347-a380-93d47fe145fc: receive RaftClientReply:client-2EF67F2D5D23->f3e3a3a3-846b-4347-a380-93d47fe145fc@group-68B55407E0D3, cid=30, FAILED org.apache.ratis.protocol.NotLeaderException: Server f3e3a3a3-846b-4347-a380-93d47fe145fc@group-68B55407E0D3 is not the leader, logIndex=0, commits[f3e3a3a3-846b-4347-a380-93d47fe145fc:c-1]
2019-09-16 16:00:30,503 [EventQueue-CloseContainerForCloseContainerEventHandler] INFO  container.CloseContainerEventHandler (CloseContainerEventHandler.java:onMessage(61)) - Close container Event triggered for container : #5
2019-09-16 16:00:30,522 [Thread-346] INFO  impl.FollowerState (FollowerState.java:run(106)) - f3e3a3a3-846b-4347-a380-93d47fe145fc:group-35973CD54530 changes to CANDIDATE, lastRpcTime:5091, electionTimeout:5091ms
2019-09-16 16:00:30,523 [Thread-346] INFO  impl.RoleInfo (RoleInfo.java:shutdownFollowerState(121)) - f3e3a3a3-846b-4347-a380-93d47fe145fc: shutdown FollowerState
2019-09-16 16:00:30,523 [Thread-346] INFO  impl.RaftServerImpl (RaftServerImpl.java:setRole(174)) - f3e3a3a3-846b-4347-a380-93d47fe145fc@group-35973CD54530: changes role from  FOLLOWER to CANDIDATE at term 1 for changeToCandidate
2019-09-16 16:00:30,523 [Thread-346] INFO  impl.RoleInfo (RoleInfo.java:updateAndGet(143)) - f3e3a3a3-846b-4347-a380-93d47fe145fc: start LeaderElection
2019-09-16 16:00:30,543 [f3e3a3a3-846b-4347-a380-93d47fe145fc@group-35973CD54530:LeaderElection10] INFO  impl.LeaderElection (LeaderElection.java:askForVotes(182)) - f3e3a3a3-846b-4347-a380-93d47fe145fc@group-35973CD54530:LeaderElection10: begin an election at term 2 for 0: [f3e3a3a3-846b-4347-a380-93d47fe145fc:192.168.5.184:33964], old=null
2019-09-16 16:00:30,544 [f3e3a3a3-846b-4347-a380-93d47fe145fc@group-35973CD54530:LeaderElection10] INFO  impl.RoleInfo (RoleInfo.java:shutdownLeaderElection(134)) - f3e3a3a3-846b-4347-a380-93d47fe145fc: shutdown LeaderElection
2019-09-16 16:00:30,544 [f3e3a3a3-846b-4347-a380-93d47fe145fc@group-35973CD54530:LeaderElection10] INFO  impl.RaftServerImpl (RaftServerImpl.java:setRole(174)) - f3e3a3a3-846b-4347-a380-93d47fe145fc@group-35973CD54530: changes role from CANDIDATE to LEADER at term 2 for changeToLeader
2019-09-16 16:00:30,544 [f3e3a3a3-846b-4347-a380-93d47fe145fc@group-35973CD54530:LeaderElection10] INFO  impl.RaftServerImpl (ServerState.java:setLeader(253)) - f3e3a3a3-846b-4347-a380-93d47fe145fc@group-35973CD54530: change Leader from null to f3e3a3a3-846b-4347-a380-93d47fe145fc at term 2 for becomeLeader, leader elected after 7117ms
2019-09-16 16:00:30,544 [f3e3a3a3-846b-4347-a380-93d47fe145fc@group-35973CD54530:LeaderElection10] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.staging.catchup.gap = 1000 (default)
2019-09-16 16:00:30,544 [f3e3a3a3-846b-4347-a380-93d47fe145fc@group-35973CD54530:LeaderElection10] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.rpc.sleep.time = 25ms (default)
2019-09-16 16:00:30,544 [f3e3a3a3-846b-4347-a380-93d47fe145fc@group-35973CD54530:LeaderElection10] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.write.element-limit = 4096 (default)
2019-09-16 16:00:30,544 [f3e3a3a3-846b-4347-a380-93d47fe145fc@group-35973CD54530:LeaderElection10] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.watch.timeout = 10s (default)
2019-09-16 16:00:30,545 [f3e3a3a3-846b-4347-a380-93d47fe145fc@group-35973CD54530:LeaderElection10] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.watch.timeout.denomination = 1s (default)
2019-09-16 16:00:30,545 [f3e3a3a3-846b-4347-a380-93d47fe145fc@group-35973CD54530:LeaderElection10] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.watch.element-limit = 65536 (default)
2019-09-16 16:00:30,545 [f3e3a3a3-846b-4347-a380-93d47fe145fc@group-35973CD54530:LeaderElection10] INFO  impl.RoleInfo (RoleInfo.java:updateAndGet(143)) - f3e3a3a3-846b-4347-a380-93d47fe145fc: start LeaderState
2019-09-16 16:00:30,545 [f3e3a3a3-846b-4347-a380-93d47fe145fc@group-35973CD54530:LeaderElection10] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:rollLogSegment(385)) - f3e3a3a3-846b-4347-a380-93d47fe145fc@group-35973CD54530-SegmentedRaftLogWorker: Rolling segment log-0_4 to index:4
2019-09-16 16:00:30,546 [f3e3a3a3-846b-4347-a380-93d47fe145fc@group-35973CD54530:LeaderElection10] INFO  impl.RaftServerImpl (ServerState.java:setRaftConf(354)) - f3e3a3a3-846b-4347-a380-93d47fe145fc@group-35973CD54530: set configuration 5: [f3e3a3a3-846b-4347-a380-93d47fe145fc:192.168.5.184:33964], old=null at 5
2019-09-16 16:00:30,546 [f3e3a3a3-846b-4347-a380-93d47fe145fc@group-35973CD54530-SegmentedRaftLogWorker] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:execute(526)) - f3e3a3a3-846b-4347-a380-93d47fe145fc@group-35973CD54530-SegmentedRaftLogWorker: Rolled log segment from /workdir/hadoop-ozone/integration-test/target/test-dir/MiniOzoneClusterImpl-e7174f9f-1f65-4936-ace6-f3a8e5d3c0c8/datanode-0/data/ratis/5e18a1ad-bac9-4355-994f-35973cd54530/current/log_inprogress_0 to /workdir/hadoop-ozone/integration-test/target/test-dir/MiniOzoneClusterImpl-e7174f9f-1f65-4936-ace6-f3a8e5d3c0c8/datanode-0/data/ratis/5e18a1ad-bac9-4355-994f-35973cd54530/current/log_0-4
2019-09-16 16:00:30,610 [f3e3a3a3-846b-4347-a380-93d47fe145fc@group-35973CD54530-SegmentedRaftLogWorker] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:execute(569)) - f3e3a3a3-846b-4347-a380-93d47fe145fc@group-35973CD54530-SegmentedRaftLogWorker: created new log segment /workdir/hadoop-ozone/integration-test/target/test-dir/MiniOzoneClusterImpl-e7174f9f-1f65-4936-ace6-f3a8e5d3c0c8/datanode-0/data/ratis/5e18a1ad-bac9-4355-994f-35973cd54530/current/log_inprogress_5
2019-09-16 16:00:30,644 [f3e3a3a3-846b-4347-a380-93d47fe145fc@group-35973CD54530-StateMachineUpdater] INFO  ratis.ContainerStateMachine (ContainerStateMachine.java:takeSnapshot(289)) - group-35973CD54530: Taking a snapshot at:(t:1, i:4) file /workdir/hadoop-ozone/integration-test/target/test-dir/MiniOzoneClusterImpl-e7174f9f-1f65-4936-ace6-f3a8e5d3c0c8/datanode-0/data/ratis/5e18a1ad-bac9-4355-994f-35973cd54530/sm/snapshot.1_4
2019-09-16 16:00:30,677 [f3e3a3a3-846b-4347-a380-93d47fe145fc@group-35973CD54530-StateMachineUpdater] INFO  ratis.ContainerStateMachine (ContainerStateMachine.java:takeSnapshot(300)) - group-35973CD54530: Finished taking a snapshot at:(t:1, i:4) file:/workdir/hadoop-ozone/integration-test/target/test-dir/MiniOzoneClusterImpl-e7174f9f-1f65-4936-ace6-f3a8e5d3c0c8/datanode-0/data/ratis/5e18a1ad-bac9-4355-994f-35973cd54530/sm/snapshot.1_4 time:33
2019-09-16 16:00:30,678 [f3e3a3a3-846b-4347-a380-93d47fe145fc@group-35973CD54530-StateMachineUpdater] INFO  impl.StateMachineUpdater (StateMachineUpdater.java:takeSnapshot(258)) - f3e3a3a3-846b-4347-a380-93d47fe145fc@group-35973CD54530-StateMachineUpdater: Took a snapshot at index 4
2019-09-16 16:00:30,678 [f3e3a3a3-846b-4347-a380-93d47fe145fc@group-35973CD54530-StateMachineUpdater] INFO  impl.StateMachineUpdater (StateMachineUpdater.java:lambda$new$0(83)) - f3e3a3a3-846b-4347-a380-93d47fe145fc@group-35973CD54530-StateMachineUpdater: snapshotIndex: updateIncreasingly 4 -> 4
2019-09-16 16:00:30,679 [f3e3a3a3-846b-4347-a380-93d47fe145fc@group-35973CD54530-StateMachineUpdater] INFO  ratis.ContainerStateMachine (ContainerStateMachine.java:takeSnapshot(289)) - group-35973CD54530: Taking a snapshot at:(t:1, i:4) file /workdir/hadoop-ozone/integration-test/target/test-dir/MiniOzoneClusterImpl-e7174f9f-1f65-4936-ace6-f3a8e5d3c0c8/datanode-0/data/ratis/5e18a1ad-bac9-4355-994f-35973cd54530/sm/snapshot.1_4
2019-09-16 16:00:30,736 [f3e3a3a3-846b-4347-a380-93d47fe145fc@group-35973CD54530-StateMachineUpdater] INFO  ratis.ContainerStateMachine (ContainerStateMachine.java:takeSnapshot(300)) - group-35973CD54530: Finished taking a snapshot at:(t:1, i:4) file:/workdir/hadoop-ozone/integration-test/target/test-dir/MiniOzoneClusterImpl-e7174f9f-1f65-4936-ace6-f3a8e5d3c0c8/datanode-0/data/ratis/5e18a1ad-bac9-4355-994f-35973cd54530/sm/snapshot.1_4 time:58
2019-09-16 16:00:30,736 [f3e3a3a3-846b-4347-a380-93d47fe145fc@group-35973CD54530-StateMachineUpdater] INFO  impl.StateMachineUpdater (StateMachineUpdater.java:takeSnapshot(258)) - f3e3a3a3-846b-4347-a380-93d47fe145fc@group-35973CD54530-StateMachineUpdater: Took a snapshot at index 4
2019-09-16 16:00:30,736 [f3e3a3a3-846b-4347-a380-93d47fe145fc@group-35973CD54530-StateMachineUpdater] INFO  impl.StateMachineUpdater (StateMachineUpdater.java:lambda$new$0(83)) - f3e3a3a3-846b-4347-a380-93d47fe145fc@group-35973CD54530-StateMachineUpdater: snapshotIndex: updateIncreasingly 4 -> 4
2019-09-16 16:00:31,157 [grpc-default-executor-2] INFO  impl.RaftServerProxy (RaftServerProxy.java:remove(95)) - f3e3a3a3-846b-4347-a380-93d47fe145fc: remove    LEADER f3e3a3a3-846b-4347-a380-93d47fe145fc@group-35973CD54530:t2, leader=f3e3a3a3-846b-4347-a380-93d47fe145fc, voted=f3e3a3a3-846b-4347-a380-93d47fe145fc, raftlog=f3e3a3a3-846b-4347-a380-93d47fe145fc@group-35973CD54530-SegmentedRaftLog:OPENED:c6,f6,i6, conf=5: [f3e3a3a3-846b-4347-a380-93d47fe145fc:192.168.5.184:33964], old=null RUNNING
2019-09-16 16:00:31,157 [grpc-default-executor-2] INFO  impl.RaftServerImpl (RaftServerImpl.java:lambda$shutdown$3(251)) - f3e3a3a3-846b-4347-a380-93d47fe145fc@group-35973CD54530: shutdown
2019-09-16 16:00:31,157 [grpc-default-executor-2] INFO  util.JmxRegister (JmxRegister.java:unregister(73)) - Successfully un-registered JMX Bean with object name Ratis:service=RaftServer,group=group-35973CD54530,id=f3e3a3a3-846b-4347-a380-93d47fe145fc
2019-09-16 16:00:31,158 [grpc-default-executor-2] INFO  impl.RoleInfo (RoleInfo.java:shutdownLeaderState(104)) - f3e3a3a3-846b-4347-a380-93d47fe145fc: shutdown LeaderState
2019-09-16 16:00:31,158 [grpc-default-executor-2] INFO  impl.PendingRequests (PendingRequests.java:sendNotLeaderResponses(202)) - f3e3a3a3-846b-4347-a380-93d47fe145fc-PendingRequests: sendNotLeaderResponses
2019-09-16 16:00:31,162 [grpc-default-executor-2] INFO  impl.StateMachineUpdater (StateMachineUpdater.java:stopAndJoin(125)) - f3e3a3a3-846b-4347-a380-93d47fe145fc@group-35973CD54530-StateMachineUpdater: set stopIndex = 6
2019-09-16 16:00:31,162 [f3e3a3a3-846b-4347-a380-93d47fe145fc@group-35973CD54530-StateMachineUpdater] INFO  ratis.ContainerStateMachine (ContainerStateMachine.java:takeSnapshot(289)) - group-35973CD54530: Taking a snapshot at:(t:1, i:4) file /workdir/hadoop-ozone/integration-test/target/test-dir/MiniOzoneClusterImpl-e7174f9f-1f65-4936-ace6-f3a8e5d3c0c8/datanode-0/data/ratis/5e18a1ad-bac9-4355-994f-35973cd54530/sm/snapshot.1_4
2019-09-16 16:00:31,186 [f3e3a3a3-846b-4347-a380-93d47fe145fc@group-35973CD54530-StateMachineUpdater] INFO  ratis.ContainerStateMachine (ContainerStateMachine.java:takeSnapshot(300)) - group-35973CD54530: Finished taking a snapshot at:(t:1, i:4) file:/workdir/hadoop-ozone/integration-test/target/test-dir/MiniOzoneClusterImpl-e7174f9f-1f65-4936-ace6-f3a8e5d3c0c8/datanode-0/data/ratis/5e18a1ad-bac9-4355-994f-35973cd54530/sm/snapshot.1_4 time:24
2019-09-16 16:00:31,187 [f3e3a3a3-846b-4347-a380-93d47fe145fc@group-35973CD54530-StateMachineUpdater] INFO  impl.StateMachineUpdater (StateMachineUpdater.java:takeSnapshot(258)) - f3e3a3a3-846b-4347-a380-93d47fe145fc@group-35973CD54530-StateMachineUpdater: Took a snapshot at index 4
2019-09-16 16:00:31,187 [f3e3a3a3-846b-4347-a380-93d47fe145fc@group-35973CD54530-StateMachineUpdater] INFO  impl.StateMachineUpdater (StateMachineUpdater.java:lambda$new$0(83)) - f3e3a3a3-846b-4347-a380-93d47fe145fc@group-35973CD54530-StateMachineUpdater: snapshotIndex: updateIncreasingly 4 -> 4
2019-09-16 16:00:31,187 [f3e3a3a3-846b-4347-a380-93d47fe145fc@group-35973CD54530-StateMachineUpdater] INFO  ratis.ContainerStateMachine (ContainerStateMachine.java:takeSnapshot(289)) - group-35973CD54530: Taking a snapshot at:(t:1, i:4) file /workdir/hadoop-ozone/integration-test/target/test-dir/MiniOzoneClusterImpl-e7174f9f-1f65-4936-ace6-f3a8e5d3c0c8/datanode-0/data/ratis/5e18a1ad-bac9-4355-994f-35973cd54530/sm/snapshot.1_4
2019-09-16 16:00:31,203 [f3e3a3a3-846b-4347-a380-93d47fe145fc@group-35973CD54530-StateMachineUpdater] INFO  ratis.ContainerStateMachine (ContainerStateMachine.java:takeSnapshot(300)) - group-35973CD54530: Finished taking a snapshot at:(t:1, i:4) file:/workdir/hadoop-ozone/integration-test/target/test-dir/MiniOzoneClusterImpl-e7174f9f-1f65-4936-ace6-f3a8e5d3c0c8/datanode-0/data/ratis/5e18a1ad-bac9-4355-994f-35973cd54530/sm/snapshot.1_4 time:16
2019-09-16 16:00:31,204 [f3e3a3a3-846b-4347-a380-93d47fe145fc@group-35973CD54530-StateMachineUpdater] INFO  impl.StateMachineUpdater (StateMachineUpdater.java:takeSnapshot(258)) - f3e3a3a3-846b-4347-a380-93d47fe145fc@group-35973CD54530-StateMachineUpdater: Took a snapshot at index 4
2019-09-16 16:00:31,204 [f3e3a3a3-846b-4347-a380-93d47fe145fc@group-35973CD54530-StateMachineUpdater] INFO  impl.StateMachineUpdater (StateMachineUpdater.java:lambda$new$0(83)) - f3e3a3a3-846b-4347-a380-93d47fe145fc@group-35973CD54530-StateMachineUpdater: snapshotIndex: updateIncreasingly 4 -> 4
2019-09-16 16:00:31,204 [grpc-default-executor-2] INFO  impl.RaftServerImpl (ServerState.java:close(385)) - f3e3a3a3-846b-4347-a380-93d47fe145fc@group-35973CD54530: closes. applyIndex: 6
2019-09-16 16:00:31,205 [f3e3a3a3-846b-4347-a380-93d47fe145fc@group-35973CD54530-SegmentedRaftLogWorker] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:run(313)) - f3e3a3a3-846b-4347-a380-93d47fe145fc@group-35973CD54530-SegmentedRaftLogWorker was interrupted, exiting. There are 0 tasks remaining in the queue.
2019-09-16 16:00:31,206 [grpc-default-executor-2] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:close(228)) - f3e3a3a3-846b-4347-a380-93d47fe145fc@group-35973CD54530-SegmentedRaftLogWorker close()
2019-09-16 16:00:31,222 [grpc-default-executor-2] INFO  interfaces.Container (KeyValueContainer.java:flushAndSyncDB(386)) - Container 6 is synced with bcsId 3.
2019-09-16 16:00:31,223 [grpc-default-executor-2] INFO  interfaces.Container (KeyValueContainer.java:flushAndSyncDB(386)) - Container 6 is synced with bcsId 3.
2019-09-16 16:00:31,253 [EventQueue-IncrementalContainerReportForIncrementalContainerReportHandler] INFO  container.IncrementalContainerReportHandler (AbstractContainerReportHandler.java:updateContainerState(169)) - Moving container #6 to QUASI_CLOSED state, datanode f3e3a3a3-846b-4347-a380-93d47fe145fc{ip: 192.168.5.184, host: pr-hdds-2022-qxstf-1422721469, networkLocation: /default-rack, certSerialId: null} reported QUASI_CLOSED replica.
2019-09-16 16:00:31,257 [RatisPipelineUtilsThread] INFO  pipeline.PipelineStateManager (PipelineStateManager.java:removePipeline(108)) - Pipeline Pipeline[ Id: 5e18a1ad-bac9-4355-994f-35973cd54530, Nodes: f3e3a3a3-846b-4347-a380-93d47fe145fc{ip: 192.168.5.184, host: pr-hdds-2022-qxstf-1422721469, networkLocation: /default-rack, certSerialId: null}, Type:RATIS, Factor:ONE, State:CLOSED] removed from db
2019-09-16 16:00:32,477 [grpc-default-executor-0] INFO  client.GrpcClientProtocolClient (GrpcClientProtocolClient.java:onNext(264)) - client-2EF67F2D5D23->f3e3a3a3-846b-4347-a380-93d47fe145fc: receive RaftClientReply:client-2EF67F2D5D23->f3e3a3a3-846b-4347-a380-93d47fe145fc@group-68B55407E0D3, cid=30, FAILED org.apache.ratis.protocol.NotLeaderException: Server f3e3a3a3-846b-4347-a380-93d47fe145fc@group-68B55407E0D3 is not the leader, logIndex=0, commits[f3e3a3a3-846b-4347-a380-93d47fe145fc:c-1]
2019-09-16 16:00:34,489 [grpc-default-executor-2] INFO  client.GrpcClientProtocolClient (GrpcClientProtocolClient.java:onNext(264)) - client-2EF67F2D5D23->f3e3a3a3-846b-4347-a380-93d47fe145fc: receive RaftClientReply:client-2EF67F2D5D23->f3e3a3a3-846b-4347-a380-93d47fe145fc@group-68B55407E0D3, cid=30, FAILED org.apache.ratis.protocol.NotLeaderException: Server f3e3a3a3-846b-4347-a380-93d47fe145fc@group-68B55407E0D3 is not the leader, logIndex=0, commits[f3e3a3a3-846b-4347-a380-93d47fe145fc:c-1]
2019-09-16 16:00:34,551 [Thread-350] INFO  impl.FollowerState (FollowerState.java:run(106)) - f3e3a3a3-846b-4347-a380-93d47fe145fc:group-68B55407E0D3 changes to CANDIDATE, lastRpcTime:5000, electionTimeout:5000ms
2019-09-16 16:00:34,551 [Thread-350] INFO  impl.RoleInfo (RoleInfo.java:shutdownFollowerState(121)) - f3e3a3a3-846b-4347-a380-93d47fe145fc: shutdown FollowerState
2019-09-16 16:00:34,551 [Thread-350] INFO  impl.RaftServerImpl (RaftServerImpl.java:setRole(174)) - f3e3a3a3-846b-4347-a380-93d47fe145fc@group-68B55407E0D3: changes role from  FOLLOWER to CANDIDATE at term 0 for changeToCandidate
2019-09-16 16:00:34,551 [Thread-350] INFO  impl.RoleInfo (RoleInfo.java:updateAndGet(143)) - f3e3a3a3-846b-4347-a380-93d47fe145fc: start LeaderElection
2019-09-16 16:00:34,586 [f3e3a3a3-846b-4347-a380-93d47fe145fc@group-68B55407E0D3:LeaderElection11] INFO  impl.LeaderElection (LeaderElection.java:askForVotes(182)) - f3e3a3a3-846b-4347-a380-93d47fe145fc@group-68B55407E0D3:LeaderElection11: begin an election at term 1 for -1: [f3e3a3a3-846b-4347-a380-93d47fe145fc:192.168.5.184:33964], old=null
2019-09-16 16:00:34,586 [f3e3a3a3-846b-4347-a380-93d47fe145fc@group-68B55407E0D3:LeaderElection11] INFO  impl.RoleInfo (RoleInfo.java:shutdownLeaderElection(134)) - f3e3a3a3-846b-4347-a380-93d47fe145fc: shutdown LeaderElection
2019-09-16 16:00:34,586 [f3e3a3a3-846b-4347-a380-93d47fe145fc@group-68B55407E0D3:LeaderElection11] INFO  impl.RaftServerImpl (RaftServerImpl.java:setRole(174)) - f3e3a3a3-846b-4347-a380-93d47fe145fc@group-68B55407E0D3: changes role from CANDIDATE to LEADER at term 1 for changeToLeader
2019-09-16 16:00:34,587 [f3e3a3a3-846b-4347-a380-93d47fe145fc@group-68B55407E0D3:LeaderElection11] INFO  impl.RaftServerImpl (ServerState.java:setLeader(253)) - f3e3a3a3-846b-4347-a380-93d47fe145fc@group-68B55407E0D3: change Leader from null to f3e3a3a3-846b-4347-a380-93d47fe145fc at term 1 for becomeLeader, leader elected after 5045ms
2019-09-16 16:00:34,587 [f3e3a3a3-846b-4347-a380-93d47fe145fc@group-68B55407E0D3:LeaderElection11] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.staging.catchup.gap = 1000 (default)
2019-09-16 16:00:34,587 [f3e3a3a3-846b-4347-a380-93d47fe145fc@group-68B55407E0D3:LeaderElection11] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.rpc.sleep.time = 25ms (default)
2019-09-16 16:00:34,587 [f3e3a3a3-846b-4347-a380-93d47fe145fc@group-68B55407E0D3:LeaderElection11] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.write.element-limit = 4096 (default)
2019-09-16 16:00:34,587 [f3e3a3a3-846b-4347-a380-93d47fe145fc@group-68B55407E0D3:LeaderElection11] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.watch.timeout = 10s (default)
2019-09-16 16:00:34,588 [f3e3a3a3-846b-4347-a380-93d47fe145fc@group-68B55407E0D3:LeaderElection11] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.watch.timeout.denomination = 1s (default)
2019-09-16 16:00:34,588 [f3e3a3a3-846b-4347-a380-93d47fe145fc@group-68B55407E0D3:LeaderElection11] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.watch.element-limit = 65536 (default)
2019-09-16 16:00:34,592 [f3e3a3a3-846b-4347-a380-93d47fe145fc@group-68B55407E0D3:LeaderElection11] INFO  impl.RoleInfo (RoleInfo.java:updateAndGet(143)) - f3e3a3a3-846b-4347-a380-93d47fe145fc: start LeaderState
2019-09-16 16:00:34,593 [f3e3a3a3-846b-4347-a380-93d47fe145fc@group-68B55407E0D3:LeaderElection11] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:startLogSegment(380)) - f3e3a3a3-846b-4347-a380-93d47fe145fc@group-68B55407E0D3-SegmentedRaftLogWorker: Starting segment from index:0
2019-09-16 16:00:34,593 [f3e3a3a3-846b-4347-a380-93d47fe145fc@group-68B55407E0D3:LeaderElection11] INFO  impl.RaftServerImpl (ServerState.java:setRaftConf(354)) - f3e3a3a3-846b-4347-a380-93d47fe145fc@group-68B55407E0D3: set configuration 0: [f3e3a3a3-846b-4347-a380-93d47fe145fc:192.168.5.184:33964], old=null at 0
2019-09-16 16:00:34,634 [f3e3a3a3-846b-4347-a380-93d47fe145fc@group-68B55407E0D3-SegmentedRaftLogWorker] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:execute(569)) - f3e3a3a3-846b-4347-a380-93d47fe145fc@group-68B55407E0D3-SegmentedRaftLogWorker: created new log segment /workdir/hadoop-ozone/integration-test/target/test-dir/MiniOzoneClusterImpl-e7174f9f-1f65-4936-ace6-f3a8e5d3c0c8/datanode-0/data/ratis/c7c6f1c4-d218-49cd-a948-68b55407e0d3/current/log_inprogress_0
2019-09-16 16:00:37,877 [grpc-default-executor-2] INFO  client.GrpcClientProtocolClient (GrpcClientProtocolClient.java:onNext(264)) - client-2EF67F2D5D23->f3e3a3a3-846b-4347-a380-93d47fe145fc: receive RaftClientReply:client-2EF67F2D5D23->f3e3a3a3-846b-4347-a380-93d47fe145fc@group-68B55407E0D3, cid=30, SUCCESS, logIndex=1, commits[f3e3a3a3-846b-4347-a380-93d47fe145fc:c1]
2019-09-16 16:00:37,903 [f3e3a3a3-846b-4347-a380-93d47fe145fc@group-68B55407E0D3-StateMachineUpdater] INFO  ratis.ContainerStateMachine (ContainerStateMachine.java:takeSnapshot(289)) - group-68B55407E0D3: Taking a snapshot at:(t:1, i:1) file /workdir/hadoop-ozone/integration-test/target/test-dir/MiniOzoneClusterImpl-e7174f9f-1f65-4936-ace6-f3a8e5d3c0c8/datanode-0/data/ratis/c7c6f1c4-d218-49cd-a948-68b55407e0d3/sm/snapshot.1_1
2019-09-16 16:00:37,932 [f3e3a3a3-846b-4347-a380-93d47fe145fc@group-68B55407E0D3-StateMachineUpdater] INFO  ratis.ContainerStateMachine (ContainerStateMachine.java:takeSnapshot(300)) - group-68B55407E0D3: Finished taking a snapshot at:(t:1, i:1) file:/workdir/hadoop-ozone/integration-test/target/test-dir/MiniOzoneClusterImpl-e7174f9f-1f65-4936-ace6-f3a8e5d3c0c8/datanode-0/data/ratis/c7c6f1c4-d218-49cd-a948-68b55407e0d3/sm/snapshot.1_1 time:29
2019-09-16 16:00:37,933 [f3e3a3a3-846b-4347-a380-93d47fe145fc@group-68B55407E0D3-StateMachineUpdater] INFO  impl.StateMachineUpdater (StateMachineUpdater.java:takeSnapshot(258)) - f3e3a3a3-846b-4347-a380-93d47fe145fc@group-68B55407E0D3-StateMachineUpdater: Took a snapshot at index 1
2019-09-16 16:00:37,933 [f3e3a3a3-846b-4347-a380-93d47fe145fc@group-68B55407E0D3-StateMachineUpdater] INFO  impl.StateMachineUpdater (StateMachineUpdater.java:lambda$new$0(83)) - f3e3a3a3-846b-4347-a380-93d47fe145fc@group-68B55407E0D3-StateMachineUpdater: snapshotIndex: updateIncreasingly -1 -> 1
2019-09-16 16:00:38,053 [f3e3a3a3-846b-4347-a380-93d47fe145fc@group-68B55407E0D3-StateMachineUpdater] INFO  ratis.ContainerStateMachine (ContainerStateMachine.java:takeSnapshot(289)) - group-68B55407E0D3: Taking a snapshot at:(t:1, i:1) file /workdir/hadoop-ozone/integration-test/target/test-dir/MiniOzoneClusterImpl-e7174f9f-1f65-4936-ace6-f3a8e5d3c0c8/datanode-0/data/ratis/c7c6f1c4-d218-49cd-a948-68b55407e0d3/sm/snapshot.1_1
2019-09-16 16:00:38,056 [grpc-default-executor-2] INFO  client.GrpcClientProtocolClient (GrpcClientProtocolClient.java:onNext(264)) - client-2EF67F2D5D23->f3e3a3a3-846b-4347-a380-93d47fe145fc: receive RaftClientReply:client-2EF67F2D5D23->f3e3a3a3-846b-4347-a380-93d47fe145fc@group-68B55407E0D3, cid=31, SUCCESS, logIndex=3, commits[f3e3a3a3-846b-4347-a380-93d47fe145fc:c4]
2019-09-16 16:00:38,077 [f3e3a3a3-846b-4347-a380-93d47fe145fc@group-68B55407E0D3-StateMachineUpdater] INFO  ratis.ContainerStateMachine (ContainerStateMachine.java:takeSnapshot(300)) - group-68B55407E0D3: Finished taking a snapshot at:(t:1, i:1) file:/workdir/hadoop-ozone/integration-test/target/test-dir/MiniOzoneClusterImpl-e7174f9f-1f65-4936-ace6-f3a8e5d3c0c8/datanode-0/data/ratis/c7c6f1c4-d218-49cd-a948-68b55407e0d3/sm/snapshot.1_1 time:24
2019-09-16 16:00:38,078 [f3e3a3a3-846b-4347-a380-93d47fe145fc@group-68B55407E0D3-StateMachineUpdater] INFO  impl.StateMachineUpdater (StateMachineUpdater.java:takeSnapshot(258)) - f3e3a3a3-846b-4347-a380-93d47fe145fc@group-68B55407E0D3-StateMachineUpdater: Took a snapshot at index 1
2019-09-16 16:00:38,078 [f3e3a3a3-846b-4347-a380-93d47fe145fc@group-68B55407E0D3-StateMachineUpdater] INFO  impl.StateMachineUpdater (StateMachineUpdater.java:lambda$new$0(83)) - f3e3a3a3-846b-4347-a380-93d47fe145fc@group-68B55407E0D3-StateMachineUpdater: snapshotIndex: updateIncreasingly 1 -> 1
2019-09-16 16:00:38,078 [f3e3a3a3-846b-4347-a380-93d47fe145fc@group-68B55407E0D3-StateMachineUpdater] INFO  ratis.ContainerStateMachine (ContainerStateMachine.java:takeSnapshot(289)) - group-68B55407E0D3: Taking a snapshot at:(t:1, i:3) file /workdir/hadoop-ozone/integration-test/target/test-dir/MiniOzoneClusterImpl-e7174f9f-1f65-4936-ace6-f3a8e5d3c0c8/datanode-0/data/ratis/c7c6f1c4-d218-49cd-a948-68b55407e0d3/sm/snapshot.1_3
2019-09-16 16:00:38,105 [f3e3a3a3-846b-4347-a380-93d47fe145fc@group-68B55407E0D3-StateMachineUpdater] INFO  ratis.ContainerStateMachine (ContainerStateMachine.java:takeSnapshot(300)) - group-68B55407E0D3: Finished taking a snapshot at:(t:1, i:3) file:/workdir/hadoop-ozone/integration-test/target/test-dir/MiniOzoneClusterImpl-e7174f9f-1f65-4936-ace6-f3a8e5d3c0c8/datanode-0/data/ratis/c7c6f1c4-d218-49cd-a948-68b55407e0d3/sm/snapshot.1_3 time:27
2019-09-16 16:00:38,105 [f3e3a3a3-846b-4347-a380-93d47fe145fc@group-68B55407E0D3-StateMachineUpdater] INFO  impl.StateMachineUpdater (StateMachineUpdater.java:takeSnapshot(258)) - f3e3a3a3-846b-4347-a380-93d47fe145fc@group-68B55407E0D3-StateMachineUpdater: Took a snapshot at index 3
2019-09-16 16:00:38,105 [f3e3a3a3-846b-4347-a380-93d47fe145fc@group-68B55407E0D3-StateMachineUpdater] INFO  impl.StateMachineUpdater (StateMachineUpdater.java:lambda$new$0(83)) - f3e3a3a3-846b-4347-a380-93d47fe145fc@group-68B55407E0D3-StateMachineUpdater: snapshotIndex: updateIncreasingly 1 -> 3
2019-09-16 16:00:38,108 [f3e3a3a3-846b-4347-a380-93d47fe145fc@group-68B55407E0D3-StateMachineUpdater] INFO  ratis.ContainerStateMachine (ContainerStateMachine.java:takeSnapshot(289)) - group-68B55407E0D3: Taking a snapshot at:(t:1, i:5) file /workdir/hadoop-ozone/integration-test/target/test-dir/MiniOzoneClusterImpl-e7174f9f-1f65-4936-ace6-f3a8e5d3c0c8/datanode-0/data/ratis/c7c6f1c4-d218-49cd-a948-68b55407e0d3/sm/snapshot.1_5
2019-09-16 16:00:38,108 [grpc-default-executor-2] INFO  client.GrpcClientProtocolClient (GrpcClientProtocolClient.java:onNext(264)) - client-2EF67F2D5D23->f3e3a3a3-846b-4347-a380-93d47fe145fc: receive RaftClientReply:client-2EF67F2D5D23->f3e3a3a3-846b-4347-a380-93d47fe145fc@group-68B55407E0D3, cid=33, SUCCESS, logIndex=5, commits[f3e3a3a3-846b-4347-a380-93d47fe145fc:c6]
2019-09-16 16:00:38,109 [grpc-default-executor-2] INFO  client.GrpcClientProtocolClient (GrpcClientProtocolClient.java:onNext(264)) - client-2EF67F2D5D23->f3e3a3a3-846b-4347-a380-93d47fe145fc: receive RaftClientReply:client-2EF67F2D5D23->f3e3a3a3-846b-4347-a380-93d47fe145fc@group-68B55407E0D3, cid=34, SUCCESS, logIndex=6, commits[f3e3a3a3-846b-4347-a380-93d47fe145fc:c6]
2019-09-16 16:00:38,138 [f3e3a3a3-846b-4347-a380-93d47fe145fc@group-68B55407E0D3-StateMachineUpdater] INFO  ratis.ContainerStateMachine (ContainerStateMachine.java:takeSnapshot(300)) - group-68B55407E0D3: Finished taking a snapshot at:(t:1, i:5) file:/workdir/hadoop-ozone/integration-test/target/test-dir/MiniOzoneClusterImpl-e7174f9f-1f65-4936-ace6-f3a8e5d3c0c8/datanode-0/data/ratis/c7c6f1c4-d218-49cd-a948-68b55407e0d3/sm/snapshot.1_5 time:31
2019-09-16 16:00:38,139 [main] INFO  ozone.MiniOzoneClusterImpl (MiniOzoneClusterImpl.java:getStorageContainerLocationClient(232)) - Creating StorageContainerLocationProtocol RPC client with address /0.0.0.0:44319
2019-09-16 16:00:38,139 [f3e3a3a3-846b-4347-a380-93d47fe145fc@group-68B55407E0D3-StateMachineUpdater] INFO  impl.StateMachineUpdater (StateMachineUpdater.java:takeSnapshot(258)) - f3e3a3a3-846b-4347-a380-93d47fe145fc@group-68B55407E0D3-StateMachineUpdater: Took a snapshot at index 5
2019-09-16 16:00:38,139 [f3e3a3a3-846b-4347-a380-93d47fe145fc@group-68B55407E0D3-StateMachineUpdater] INFO  impl.StateMachineUpdater (StateMachineUpdater.java:lambda$new$0(83)) - f3e3a3a3-846b-4347-a380-93d47fe145fc@group-68B55407E0D3-StateMachineUpdater: snapshotIndex: updateIncreasingly 3 -> 5
2019-09-16 16:00:38,139 [f3e3a3a3-846b-4347-a380-93d47fe145fc@group-68B55407E0D3-StateMachineUpdater] INFO  ratis.ContainerStateMachine (ContainerStateMachine.java:takeSnapshot(289)) - group-68B55407E0D3: Taking a snapshot at:(t:1, i:6) file /workdir/hadoop-ozone/integration-test/target/test-dir/MiniOzoneClusterImpl-e7174f9f-1f65-4936-ace6-f3a8e5d3c0c8/datanode-0/data/ratis/c7c6f1c4-d218-49cd-a948-68b55407e0d3/sm/snapshot.1_6
2019-09-16 16:00:38,168 [f3e3a3a3-846b-4347-a380-93d47fe145fc@group-68B55407E0D3-StateMachineUpdater] INFO  ratis.ContainerStateMachine (ContainerStateMachine.java:takeSnapshot(300)) - group-68B55407E0D3: Finished taking a snapshot at:(t:1, i:6) file:/workdir/hadoop-ozone/integration-test/target/test-dir/MiniOzoneClusterImpl-e7174f9f-1f65-4936-ace6-f3a8e5d3c0c8/datanode-0/data/ratis/c7c6f1c4-d218-49cd-a948-68b55407e0d3/sm/snapshot.1_6 time:28
2019-09-16 16:00:38,168 [f3e3a3a3-846b-4347-a380-93d47fe145fc@group-68B55407E0D3-StateMachineUpdater] INFO  impl.StateMachineUpdater (StateMachineUpdater.java:takeSnapshot(258)) - f3e3a3a3-846b-4347-a380-93d47fe145fc@group-68B55407E0D3-StateMachineUpdater: Took a snapshot at index 6
2019-09-16 16:00:38,168 [f3e3a3a3-846b-4347-a380-93d47fe145fc@group-68B55407E0D3-StateMachineUpdater] INFO  impl.StateMachineUpdater (StateMachineUpdater.java:lambda$new$0(83)) - f3e3a3a3-846b-4347-a380-93d47fe145fc@group-68B55407E0D3-StateMachineUpdater: snapshotIndex: updateIncreasingly 5 -> 6
2019-09-16 16:00:38,182 [RatisApplyTransactionExecutor 7] INFO  keyvalue.KeyValueHandler (ContainerUtils.java:logAndReturnError(146)) - Operation: CloseContainer : Trace ID: 271e35872f7a04c5:271e35872f7a04c5:0:0 : Message: Error while creating/ updating .container file. ContainerID: 7 : Result: CONTAINER_FILES_CREATE_ERROR
2019-09-16 16:00:38,183 [RatisApplyTransactionExecutor 7] WARN  keyvalue.KeyValueHandler (KeyValueHandler.java:markContainerUnhealthy(908)) - Unexpected error while marking container 7 as unhealthy
org.apache.hadoop.hdds.scm.container.common.helpers.StorageContainerException: Error while creating/ updating .container file. ContainerID: 7
	at org.apache.hadoop.ozone.container.keyvalue.KeyValueContainer.writeToContainerFile(KeyValueContainer.java:237)
	at org.apache.hadoop.ozone.container.keyvalue.KeyValueContainer.updateContainerFile(KeyValueContainer.java:257)
	at org.apache.hadoop.ozone.container.keyvalue.KeyValueContainer.updateContainerData(KeyValueContainer.java:356)
	at org.apache.hadoop.ozone.container.keyvalue.KeyValueContainer.markContainerUnhealthy(KeyValueContainer.java:298)
	at org.apache.hadoop.ozone.container.keyvalue.KeyValueHandler.markContainerUnhealthy(KeyValueHandler.java:903)
	at org.apache.hadoop.ozone.container.common.impl.HddsDispatcher.dispatchRequest(HddsDispatcher.java:309)
	at org.apache.hadoop.ozone.container.common.impl.HddsDispatcher.dispatch(HddsDispatcher.java:150)
	at org.apache.hadoop.ozone.container.common.transport.server.ratis.ContainerStateMachine.dispatchCommand(ContainerStateMachine.java:401)
	at org.apache.hadoop.ozone.container.common.transport.server.ratis.ContainerStateMachine.runCommand(ContainerStateMachine.java:409)
	at org.apache.hadoop.ozone.container.common.transport.server.ratis.ContainerStateMachine.lambda$applyTransaction$6(ContainerStateMachine.java:710)
	at java.util.concurrent.CompletableFuture$AsyncSupply.run(CompletableFuture.java:1590)
	at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1149)
	at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:624)
	at java.lang.Thread.run(Thread.java:748)
Caused by: java.io.IOException: No such file or directory
	at java.io.UnixFileSystem.createFileExclusively(Native Method)
	at java.io.File.createTempFile(File.java:2024)
	at org.apache.hadoop.ozone.container.keyvalue.KeyValueContainer.createTempFile(KeyValueContainer.java:726)
	at org.apache.hadoop.ozone.container.keyvalue.KeyValueContainer.writeToContainerFile(KeyValueContainer.java:222)
	... 13 more
16:00:38.183 [RatisApplyTransactionExecutor 7] ERROR DNAudit - user=null | ip=null | op=CLOSE_CONTAINER {containerID=7} | ret=FAILURE
java.lang.Exception: Error while creating/ updating .container file. ContainerID: 7
	at org.apache.hadoop.ozone.container.common.impl.HddsDispatcher.dispatchRequest(HddsDispatcher.java:327) ~[hadoop-hdds-container-service-0.5.0-SNAPSHOT.jar:?]
	at org.apache.hadoop.ozone.container.common.impl.HddsDispatcher.dispatch(HddsDispatcher.java:150) ~[hadoop-hdds-container-service-0.5.0-SNAPSHOT.jar:?]
	at org.apache.hadoop.ozone.container.common.transport.server.ratis.ContainerStateMachine.dispatchCommand(ContainerStateMachine.java:401) ~[hadoop-hdds-container-service-0.5.0-SNAPSHOT.jar:?]
	at org.apache.hadoop.ozone.container.common.transport.server.ratis.ContainerStateMachine.runCommand(ContainerStateMachine.java:409) ~[hadoop-hdds-container-service-0.5.0-SNAPSHOT.jar:?]
	at org.apache.hadoop.ozone.container.common.transport.server.ratis.ContainerStateMachine.lambda$applyTransaction$6(ContainerStateMachine.java:710) ~[hadoop-hdds-container-service-0.5.0-SNAPSHOT.jar:?]
	at java.util.concurrent.CompletableFuture$AsyncSupply.run(CompletableFuture.java:1590) [?:1.8.0_212]
	at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1149) [?:1.8.0_212]
	at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:624) [?:1.8.0_212]
	at java.lang.Thread.run(Thread.java:748) [?:1.8.0_212]
2019-09-16 16:00:38,184 [EventQueue-IncrementalContainerReportForIncrementalContainerReportHandler] WARN  container.IncrementalContainerReportHandler (AbstractContainerReportHandler.java:updateContainerState(143)) - Container #7 is in OPEN state, but the datanode f3e3a3a3-846b-4347-a380-93d47fe145fc{ip: 192.168.5.184, host: pr-hdds-2022-qxstf-1422721469, networkLocation: /default-rack, certSerialId: null} reports an UNHEALTHY replica.
2019-09-16 16:00:38,184 [RatisApplyTransactionExecutor 7] ERROR ratis.ContainerStateMachine (ContainerStateMachine.java:lambda$applyTransaction$7(721)) - gid group-68B55407E0D3 : ApplyTransaction failed. cmd CloseContainer logIndex 9 msg : Error while creating/ updating .container file. ContainerID: 7 Container Result: CONTAINER_FILES_CREATE_ERROR
2019-09-16 16:00:38,184 [EventQueue-CloseContainerForCloseContainerEventHandler] INFO  container.CloseContainerEventHandler (CloseContainerEventHandler.java:onMessage(61)) - Close container Event triggered for container : #7
2019-09-16 16:00:38,186 [RatisApplyTransactionExecutor 7] ERROR ratis.XceiverServerRatis (XceiverServerRatis.java:triggerPipelineClose(575)) - pipeline Action CLOSE  on pipeline PipelineID=c7c6f1c4-d218-49cd-a948-68b55407e0d3.Reason : Ratis Transaction failure in datanode f3e3a3a3-846b-4347-a380-93d47fe145fc with role LEADER .Triggering pipeline close action.
2019-09-16 16:00:38,186 [f3e3a3a3-846b-4347-a380-93d47fe145fc@group-68B55407E0D3-StateMachineUpdater] ERROR impl.StateMachineUpdater (StateMachineUpdater.java:run(171)) - f3e3a3a3-846b-4347-a380-93d47fe145fc@group-68B55407E0D3-StateMachineUpdater: the StateMachineUpdater hits Throwable
java.util.concurrent.ExecutionException: org.apache.hadoop.hdds.scm.container.common.helpers.StorageContainerException: Error while creating/ updating .container file. ContainerID: 7
	at java.util.concurrent.CompletableFuture.reportGet(CompletableFuture.java:357)
	at java.util.concurrent.CompletableFuture.get(CompletableFuture.java:1895)
	at org.apache.ratis.server.impl.StateMachineUpdater.checkAndTakeSnapshot(StateMachineUpdater.java:233)
	at org.apache.ratis.server.impl.StateMachineUpdater.run(StateMachineUpdater.java:155)
	at java.lang.Thread.run(Thread.java:748)
Caused by: org.apache.hadoop.hdds.scm.container.common.helpers.StorageContainerException: Error while creating/ updating .container file. ContainerID: 7
	at org.apache.hadoop.ozone.container.common.transport.server.ratis.ContainerStateMachine.lambda$applyTransaction$7(ContainerStateMachine.java:720)
	at java.util.concurrent.CompletableFuture.uniApply(CompletableFuture.java:602)
	at java.util.concurrent.CompletableFuture$UniApply.tryFire(CompletableFuture.java:577)
	at java.util.concurrent.CompletableFuture.postComplete(CompletableFuture.java:474)
	at java.util.concurrent.CompletableFuture$AsyncSupply.run(CompletableFuture.java:1595)
	at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1149)
	at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:624)
	... 1 more
2019-09-16 16:00:38,187 [f3e3a3a3-846b-4347-a380-93d47fe145fc@group-68B55407E0D3-StateMachineUpdater] INFO  impl.RaftServerImpl (RaftServerImpl.java:lambda$shutdown$3(251)) - f3e3a3a3-846b-4347-a380-93d47fe145fc@group-68B55407E0D3: shutdown
2019-09-16 16:00:38,188 [f3e3a3a3-846b-4347-a380-93d47fe145fc@group-68B55407E0D3-StateMachineUpdater] INFO  util.JmxRegister (JmxRegister.java:unregister(73)) - Successfully un-registered JMX Bean with object name Ratis:service=RaftServer,group=group-68B55407E0D3,id=f3e3a3a3-846b-4347-a380-93d47fe145fc
2019-09-16 16:00:38,188 [f3e3a3a3-846b-4347-a380-93d47fe145fc@group-68B55407E0D3-StateMachineUpdater] INFO  impl.RoleInfo (RoleInfo.java:shutdownLeaderState(104)) - f3e3a3a3-846b-4347-a380-93d47fe145fc: shutdown LeaderState
2019-09-16 16:00:38,188 [f3e3a3a3-846b-4347-a380-93d47fe145fc@group-68B55407E0D3-StateMachineUpdater] INFO  impl.PendingRequests (PendingRequests.java:sendNotLeaderResponses(202)) - f3e3a3a3-846b-4347-a380-93d47fe145fc-PendingRequests: sendNotLeaderResponses
2019-09-16 16:00:38,188 [EventQueue-PipelineActionsForPipelineActionHandler] ERROR pipeline.PipelineActionHandler (PipelineActionHandler.java:onMessage(60)) - Received pipeline action CLOSE for Pipeline[ Id: c7c6f1c4-d218-49cd-a948-68b55407e0d3, Nodes: f3e3a3a3-846b-4347-a380-93d47fe145fc{ip: 192.168.5.184, host: pr-hdds-2022-qxstf-1422721469, networkLocation: /default-rack, certSerialId: null}, Type:RATIS, Factor:ONE, State:OPEN] from datanode f3e3a3a3-846b-4347-a380-93d47fe145fc{ip: 192.168.5.184, host: pr-hdds-2022-qxstf-1422721469, networkLocation: /default-rack, certSerialId: null}. Reason : Ratis Transaction failure in datanode f3e3a3a3-846b-4347-a380-93d47fe145fc with role LEADER .Triggering pipeline close action.
2019-09-16 16:00:38,189 [EventQueue-PipelineActionsForPipelineActionHandler] INFO  pipeline.SCMPipelineManager (SCMPipelineManager.java:finalizeAndDestroyPipeline(311)) - destroying pipeline:Pipeline[ Id: c7c6f1c4-d218-49cd-a948-68b55407e0d3, Nodes: f3e3a3a3-846b-4347-a380-93d47fe145fc{ip: 192.168.5.184, host: pr-hdds-2022-qxstf-1422721469, networkLocation: /default-rack, certSerialId: null}, Type:RATIS, Factor:ONE, State:OPEN]
2019-09-16 16:00:38,191 [f3e3a3a3-846b-4347-a380-93d47fe145fc@group-68B55407E0D3-StateMachineUpdater] INFO  impl.StateMachineUpdater (StateMachineUpdater.java:stopAndJoin(125)) - f3e3a3a3-846b-4347-a380-93d47fe145fc@group-68B55407E0D3-StateMachineUpdater: set stopIndex = 9
2019-09-16 16:00:38,192 [EventQueue-PipelineActionsForPipelineActionHandler] INFO  pipeline.PipelineStateManager (PipelineStateManager.java:finalizePipeline(123)) - Pipeline Pipeline[ Id: c7c6f1c4-d218-49cd-a948-68b55407e0d3, Nodes: f3e3a3a3-846b-4347-a380-93d47fe145fc{ip: 192.168.5.184, host: pr-hdds-2022-qxstf-1422721469, networkLocation: /default-rack, certSerialId: null}, Type:RATIS, Factor:ONE, State:CLOSED] moved to CLOSED state
2019-09-16 16:00:38,661 [grpc-default-executor-0] INFO  impl.RaftServerProxy (RaftServerProxy.java:addNew(89)) - f3e3a3a3-846b-4347-a380-93d47fe145fc: addNew group-1F7415941AC5:[f3e3a3a3-846b-4347-a380-93d47fe145fc:192.168.5.184:33964] returns group-1F7415941AC5:java.util.concurrent.CompletableFuture@6e7612e2[Not completed]
2019-09-16 16:00:38,663 [pool-75-thread-1] INFO  impl.RaftServerImpl (RaftServerImpl.java:<init>(95)) - f3e3a3a3-846b-4347-a380-93d47fe145fc: new RaftServerImpl for group-1F7415941AC5:[f3e3a3a3-846b-4347-a380-93d47fe145fc:192.168.5.184:33964] with ContainerStateMachine:uninitialized
2019-09-16 16:00:38,663 [pool-75-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.rpc.timeout.min = 5s (custom)
2019-09-16 16:00:38,663 [pool-75-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.rpc.timeout.max = 5200ms (custom)
2019-09-16 16:00:38,663 [pool-75-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.rpcslowness.timeout = 120s (custom)
2019-09-16 16:00:38,663 [pool-75-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.sleep.deviation.threshold = 300 (default)
2019-09-16 16:00:38,663 [pool-75-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.log.appender.install.snapshot.enabled = false (custom)
2019-09-16 16:00:38,664 [pool-75-thread-1] INFO  impl.RaftServerImpl (ServerState.java:<init>(103)) - f3e3a3a3-846b-4347-a380-93d47fe145fc@group-1F7415941AC5: ConfigurationManager, init=-1: [f3e3a3a3-846b-4347-a380-93d47fe145fc:192.168.5.184:33964], old=null, confs=<EMPTY_MAP>
2019-09-16 16:00:38,664 [pool-75-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.storage.dir = [/workdir/hadoop-ozone/integration-test/target/test-dir/MiniOzoneClusterImpl-e7174f9f-1f65-4936-ace6-f3a8e5d3c0c8/datanode-0/data/ratis] (custom)
2019-09-16 16:00:38,664 [pool-75-thread-1] INFO  storage.RaftStorageDirectory (RaftStorageDirectory.java:analyzeStorage(246)) - The storage directory /workdir/hadoop-ozone/integration-test/target/test-dir/MiniOzoneClusterImpl-e7174f9f-1f65-4936-ace6-f3a8e5d3c0c8/datanode-0/data/ratis/2dd3fd3f-2a41-4697-91e4-1f7415941ac5 does not exist. Creating ...
2019-09-16 16:00:38,724 [pool-75-thread-1] INFO  storage.RaftStorageDirectory (RaftStorageDirectory.java:tryLock(328)) - Lock on /workdir/hadoop-ozone/integration-test/target/test-dir/MiniOzoneClusterImpl-e7174f9f-1f65-4936-ace6-f3a8e5d3c0c8/datanode-0/data/ratis/2dd3fd3f-2a41-4697-91e4-1f7415941ac5/in_use.lock acquired by nodename 22961@pr-hdds-2022-qxstf-1422721469
2019-09-16 16:00:38,758 [pool-75-thread-1] INFO  storage.RaftStorage (RaftStorage.java:format(72)) - Storage directory /workdir/hadoop-ozone/integration-test/target/test-dir/MiniOzoneClusterImpl-e7174f9f-1f65-4936-ace6-f3a8e5d3c0c8/datanode-0/data/ratis/2dd3fd3f-2a41-4697-91e4-1f7415941ac5 has been successfully formatted.
2019-09-16 16:00:38,759 [pool-75-thread-1] INFO  ratis.ContainerStateMachine (ContainerStateMachine.java:loadSnapshot(230)) - group-1F7415941AC5: The snapshot info is null. Setting the last applied indexto:(t:0, i:~)
2019-09-16 16:00:38,759 [pool-75-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.notification.no-leader.timeout = 120s (custom)
2019-09-16 16:00:38,759 [pool-75-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.log.use.memory = false (default)
2019-09-16 16:00:38,759 [pool-75-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.log.purge.gap = 1000000 (custom)
2019-09-16 16:00:38,759 [pool-75-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.log.appender.buffer.byte-limit = 33554432 (custom)
2019-09-16 16:00:38,759 [pool-75-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.log.segment.size.max = 1048576 (custom)
2019-09-16 16:00:38,760 [pool-75-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.log.segment.cache.num.max = 2 (custom)
2019-09-16 16:00:38,760 [pool-75-thread-1] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:<init>(172)) - new f3e3a3a3-846b-4347-a380-93d47fe145fc@group-1F7415941AC5-SegmentedRaftLogWorker for RaftStorage:Storage Directory /workdir/hadoop-ozone/integration-test/target/test-dir/MiniOzoneClusterImpl-e7174f9f-1f65-4936-ace6-f3a8e5d3c0c8/datanode-0/data/ratis/2dd3fd3f-2a41-4697-91e4-1f7415941ac5
2019-09-16 16:00:38,760 [pool-75-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.log.queue.byte-limit = 2147483647 (custom)
2019-09-16 16:00:38,760 [pool-75-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.log.queue.element-limit = 1024 (custom)
2019-09-16 16:00:38,760 [pool-75-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.log.segment.size.max = 1048576 (custom)
2019-09-16 16:00:38,761 [pool-75-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.log.preallocated.size = 16384 (custom)
2019-09-16 16:00:38,761 [pool-75-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.log.write.buffer.size = 33554432 (custom)
2019-09-16 16:00:38,761 [pool-75-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.log.force.sync.num = 128 (default)
2019-09-16 16:00:38,761 [pool-75-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.log.statemachine.data.sync = true (default)
2019-09-16 16:00:38,762 [pool-75-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.log.statemachine.data.sync.timeout = 10s (default)
2019-09-16 16:00:38,762 [pool-75-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.log.statemachine.data.sync.timeout.retry = -1 (default)
2019-09-16 16:00:38,762 [pool-75-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.log.statemachine.data.caching.enabled = true (custom)
2019-09-16 16:00:38,762 [pool-75-thread-1] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:lambda$new$0(132)) - f3e3a3a3-846b-4347-a380-93d47fe145fc@group-1F7415941AC5-SegmentedRaftLogWorker: flushIndex: setUnconditionally 0 -> -1
2019-09-16 16:00:38,763 [pool-75-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.snapshot.auto.trigger.enabled = true (custom)
2019-09-16 16:00:38,763 [pool-75-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.snapshot.auto.trigger.threshold = 1 (custom)
2019-09-16 16:00:38,763 [pool-75-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.snapshot.retention.num.files = 5 (custom)
2019-09-16 16:00:38,763 [pool-75-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.retrycache.expirytime = 600000ms (custom)
2019-09-16 16:00:38,768 [pool-75-thread-1] INFO  impl.RaftServerImpl (RaftServerImpl.java:start(185)) - f3e3a3a3-846b-4347-a380-93d47fe145fc@group-1F7415941AC5: start as a follower, conf=-1: [f3e3a3a3-846b-4347-a380-93d47fe145fc:192.168.5.184:33964], old=null
2019-09-16 16:00:38,768 [pool-75-thread-1] INFO  impl.RaftServerImpl (RaftServerImpl.java:setRole(174)) - f3e3a3a3-846b-4347-a380-93d47fe145fc@group-1F7415941AC5: changes role from      null to FOLLOWER at term 0 for startAsFollower
2019-09-16 16:00:38,768 [pool-75-thread-1] INFO  impl.RoleInfo (RoleInfo.java:updateAndGet(143)) - f3e3a3a3-846b-4347-a380-93d47fe145fc: start FollowerState
2019-09-16 16:00:38,769 [pool-75-thread-1] INFO  util.JmxRegister (JmxRegister.java:tryRegister(44)) - Successfully registered JMX Bean with object name Ratis:service=RaftServer,group=group-1F7415941AC5,id=f3e3a3a3-846b-4347-a380-93d47fe145fc
2019-09-16 16:00:38,774 [RatisPipelineUtilsThread] INFO  pipeline.PipelineStateManager (PipelineStateManager.java:addPipeline(56)) - Created pipeline Pipeline[ Id: 2dd3fd3f-2a41-4697-91e4-1f7415941ac5, Nodes: f3e3a3a3-846b-4347-a380-93d47fe145fc{ip: 192.168.5.184, host: pr-hdds-2022-qxstf-1422721469, networkLocation: /default-rack, certSerialId: null}, Type:RATIS, Factor:ONE, State:OPEN]
2019-09-16 16:00:43,853 [Thread-377] INFO  impl.FollowerState (FollowerState.java:run(106)) - f3e3a3a3-846b-4347-a380-93d47fe145fc:group-1F7415941AC5 changes to CANDIDATE, lastRpcTime:5084, electionTimeout:5084ms
2019-09-16 16:00:43,854 [Thread-377] INFO  impl.RoleInfo (RoleInfo.java:shutdownFollowerState(121)) - f3e3a3a3-846b-4347-a380-93d47fe145fc: shutdown FollowerState
2019-09-16 16:00:43,854 [Thread-377] INFO  impl.RaftServerImpl (RaftServerImpl.java:setRole(174)) - f3e3a3a3-846b-4347-a380-93d47fe145fc@group-1F7415941AC5: changes role from  FOLLOWER to CANDIDATE at term 0 for changeToCandidate
2019-09-16 16:00:43,854 [Thread-377] INFO  impl.RoleInfo (RoleInfo.java:updateAndGet(143)) - f3e3a3a3-846b-4347-a380-93d47fe145fc: start LeaderElection
2019-09-16 16:00:43,910 [f3e3a3a3-846b-4347-a380-93d47fe145fc@group-1F7415941AC5:LeaderElection12] INFO  impl.LeaderElection (LeaderElection.java:askForVotes(182)) - f3e3a3a3-846b-4347-a380-93d47fe145fc@group-1F7415941AC5:LeaderElection12: begin an election at term 1 for -1: [f3e3a3a3-846b-4347-a380-93d47fe145fc:192.168.5.184:33964], old=null
2019-09-16 16:00:43,910 [f3e3a3a3-846b-4347-a380-93d47fe145fc@group-1F7415941AC5:LeaderElection12] INFO  impl.RoleInfo (RoleInfo.java:shutdownLeaderElection(134)) - f3e3a3a3-846b-4347-a380-93d47fe145fc: shutdown LeaderElection
2019-09-16 16:00:43,911 [f3e3a3a3-846b-4347-a380-93d47fe145fc@group-1F7415941AC5:LeaderElection12] INFO  impl.RaftServerImpl (RaftServerImpl.java:setRole(174)) - f3e3a3a3-846b-4347-a380-93d47fe145fc@group-1F7415941AC5: changes role from CANDIDATE to LEADER at term 1 for changeToLeader
2019-09-16 16:00:43,911 [f3e3a3a3-846b-4347-a380-93d47fe145fc@group-1F7415941AC5:LeaderElection12] INFO  impl.RaftServerImpl (ServerState.java:setLeader(253)) - f3e3a3a3-846b-4347-a380-93d47fe145fc@group-1F7415941AC5: change Leader from null to f3e3a3a3-846b-4347-a380-93d47fe145fc at term 1 for becomeLeader, leader elected after 5151ms
2019-09-16 16:00:43,911 [f3e3a3a3-846b-4347-a380-93d47fe145fc@group-1F7415941AC5:LeaderElection12] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.staging.catchup.gap = 1000 (default)
2019-09-16 16:00:43,911 [f3e3a3a3-846b-4347-a380-93d47fe145fc@group-1F7415941AC5:LeaderElection12] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.rpc.sleep.time = 25ms (default)
2019-09-16 16:00:43,911 [f3e3a3a3-846b-4347-a380-93d47fe145fc@group-1F7415941AC5:LeaderElection12] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.write.element-limit = 4096 (default)
2019-09-16 16:00:43,911 [f3e3a3a3-846b-4347-a380-93d47fe145fc@group-1F7415941AC5:LeaderElection12] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.watch.timeout = 10s (default)
2019-09-16 16:00:43,911 [f3e3a3a3-846b-4347-a380-93d47fe145fc@group-1F7415941AC5:LeaderElection12] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.watch.timeout.denomination = 1s (default)
2019-09-16 16:00:43,912 [f3e3a3a3-846b-4347-a380-93d47fe145fc@group-1F7415941AC5:LeaderElection12] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(43)) - raft.server.watch.element-limit = 65536 (default)
2019-09-16 16:00:43,915 [f3e3a3a3-846b-4347-a380-93d47fe145fc@group-1F7415941AC5:LeaderElection12] INFO  impl.RoleInfo (RoleInfo.java:updateAndGet(143)) - f3e3a3a3-846b-4347-a380-93d47fe145fc: start LeaderState
2019-09-16 16:00:43,915 [f3e3a3a3-846b-4347-a380-93d47fe145fc@group-1F7415941AC5:LeaderElection12] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:startLogSegment(380)) - f3e3a3a3-846b-4347-a380-93d47fe145fc@group-1F7415941AC5-SegmentedRaftLogWorker: Starting segment from index:0
2019-09-16 16:00:43,916 [f3e3a3a3-846b-4347-a380-93d47fe145fc@group-1F7415941AC5:LeaderElection12] INFO  impl.RaftServerImpl (ServerState.java:setRaftConf(354)) - f3e3a3a3-846b-4347-a380-93d47fe145fc@group-1F7415941AC5: set configuration 0: [f3e3a3a3-846b-4347-a380-93d47fe145fc:192.168.5.184:33964], old=null at 0
2019-09-16 16:00:43,977 [f3e3a3a3-846b-4347-a380-93d47fe145fc@group-1F7415941AC5-SegmentedRaftLogWorker] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:execute(569)) - f3e3a3a3-846b-4347-a380-93d47fe145fc@group-1F7415941AC5-SegmentedRaftLogWorker: created new log segment /workdir/hadoop-ozone/integration-test/target/test-dir/MiniOzoneClusterImpl-e7174f9f-1f65-4936-ace6-f3a8e5d3c0c8/datanode-0/data/ratis/2dd3fd3f-2a41-4697-91e4-1f7415941ac5/current/log_inprogress_0
2019-09-16 16:00:47,316 [main] ERROR ratis.ContainerStateMachine (ContainerStateMachine.java:takeSnapshot(283)) - Failed to take snapshot  for group-68B55407E0D3 as the stateMachine is unhealthy. The last applied index is at (t:1, i:6)
2019-09-16 16:00:47,328 [main] INFO  ozone.MiniOzoneClusterImpl (MiniOzoneClusterImpl.java:shutdown(312)) - Shutting down the Mini Ozone Cluster
2019-09-16 16:00:47,329 [main] INFO  ozone.MiniOzoneClusterImpl (MiniOzoneClusterImpl.java:stop(327)) - Stopping the Mini Ozone Cluster
2019-09-16 16:00:47,329 [main] INFO  ozone.MiniOzoneClusterImpl (MiniOzoneClusterImpl.java:stop(329)) - Stopping the OzoneManager
2019-09-16 16:00:47,329 [main] INFO  ipc.Server (Server.java:stop(3082)) - Stopping server on 39777
2019-09-16 16:00:47,340 [IPC Server listener on 39777] INFO  ipc.Server (Server.java:run(1185)) - Stopping IPC Server listener on 39777
2019-09-16 16:00:47,341 [main] INFO  ratis.OzoneManagerDoubleBuffer (OzoneManagerDoubleBuffer.java:stop(248)) - Stopping OMDoubleBuffer flush thread
2019-09-16 16:00:47,342 [IPC Server Responder] INFO  ipc.Server (Server.java:run(1319)) - Stopping IPC Server Responder
2019-09-16 16:00:47,342 [OMDoubleBufferFlushThread] INFO  ratis.OzoneManagerDoubleBuffer (OzoneManagerDoubleBuffer.java:flushTransactions(191)) - OMDoubleBuffer flush thread OMDoubleBufferFlushThread is interrupted and will exit. OMDoubleBufferFlushThread
2019-09-16 16:00:47,343 [main] INFO  utils.BackgroundService (BackgroundService.java:shutdown(148)) - Shutting down service KeyDeletingService
2019-09-16 16:00:47,345 [main] INFO  handler.ContextHandler (ContextHandler.java:doStop(910)) - Stopped o.e.j.w.WebAppContext@3eed0f5{/,null,UNAVAILABLE}{/ozoneManager}
2019-09-16 16:00:47,346 [main] INFO  server.AbstractConnector (AbstractConnector.java:doStop(318)) - Stopped ServerConnector@64030b91{HTTP/1.1,[http/1.1]}{0.0.0.0:0}
2019-09-16 16:00:47,346 [main] INFO  handler.ContextHandler (ContextHandler.java:doStop(910)) - Stopped o.e.j.s.ServletContextHandler@ccd1bc3{/static,file:///workdir/hadoop-ozone/integration-test/target/test-classes/webapps/static,UNAVAILABLE}
2019-09-16 16:00:47,347 [main] INFO  handler.ContextHandler (ContextHandler.java:doStop(910)) - Stopped o.e.j.s.ServletContextHandler@74971ed9{/logs,file:///workdir/hadoop-ozone/integration-test/target/log,UNAVAILABLE}
2019-09-16 16:00:47,350 [main] INFO  ozone.MiniOzoneClusterImpl (MiniOzoneClusterImpl.java:stop(335)) - Shutting the HddsDatanodes
2019-09-16 16:00:47,388 [Datanode State Machine Thread - 0] INFO  statemachine.DatanodeStateMachine (DatanodeStateMachine.java:lambda$startDaemon$0(350)) - Ozone container server started.
2019-09-16 16:00:48,199 [grpc-default-executor-0] INFO  impl.RaftServerProxy (RaftServerProxy.java:remove(95)) - f3e3a3a3-846b-4347-a380-93d47fe145fc: remove    LEADER f3e3a3a3-846b-4347-a380-93d47fe145fc@group-68B55407E0D3:t1, leader=f3e3a3a3-846b-4347-a380-93d47fe145fc, voted=f3e3a3a3-846b-4347-a380-93d47fe145fc, raftlog=f3e3a3a3-846b-4347-a380-93d47fe145fc@group-68B55407E0D3-SegmentedRaftLog:OPENED:c9,f10,i10, conf=0: [f3e3a3a3-846b-4347-a380-93d47fe145fc:192.168.5.184:33964], old=null CLOSING
2019-09-16 16:00:48,204 [RatisPipelineUtilsThread] INFO  pipeline.PipelineStateManager (PipelineStateManager.java:removePipeline(108)) - Pipeline Pipeline[ Id: c7c6f1c4-d218-49cd-a948-68b55407e0d3, Nodes: f3e3a3a3-846b-4347-a380-93d47fe145fc{ip: 192.168.5.184, host: pr-hdds-2022-qxstf-1422721469, networkLocation: /default-rack, certSerialId: null}, Type:RATIS, Factor:ONE, State:CLOSED] removed from db
2019-09-16 16:00:50,198 [EventQueue-StaleNodeForStaleNodeHandler] INFO  node.StaleNodeHandler (StaleNodeHandler.java:onMessage(58)) - Datanode f3e3a3a3-846b-4347-a380-93d47fe145fc{ip: 192.168.5.184, host: pr-hdds-2022-qxstf-1422721469, networkLocation: /default-rack, certSerialId: null} moved to stale state. Finalizing its pipelines [PipelineID=2dd3fd3f-2a41-4697-91e4-1f7415941ac5]
2019-09-16 16:00:50,199 [EventQueue-StaleNodeForStaleNodeHandler] INFO  pipeline.SCMPipelineManager (SCMPipelineManager.java:finalizeAndDestroyPipeline(311)) - destroying pipeline:Pipeline[ Id: 2dd3fd3f-2a41-4697-91e4-1f7415941ac5, Nodes: f3e3a3a3-846b-4347-a380-93d47fe145fc{ip: 192.168.5.184, host: pr-hdds-2022-qxstf-1422721469, networkLocation: /default-rack, certSerialId: null}, Type:RATIS, Factor:ONE, State:OPEN]
2019-09-16 16:00:50,199 [EventQueue-StaleNodeForStaleNodeHandler] INFO  pipeline.PipelineStateManager (PipelineStateManager.java:finalizePipeline(123)) - Pipeline Pipeline[ Id: 2dd3fd3f-2a41-4697-91e4-1f7415941ac5, Nodes: f3e3a3a3-846b-4347-a380-93d47fe145fc{ip: 192.168.5.184, host: pr-hdds-2022-qxstf-1422721469, networkLocation: /default-rack, certSerialId: null}, Type:RATIS, Factor:ONE, State:CLOSED] moved to CLOSED state
2019-09-16 16:00:52,352 [main] INFO  ozoneimpl.OzoneContainer (OzoneContainer.java:stop(231)) - Attempting to stop container services.
2019-09-16 16:00:52,354 [main] INFO  impl.RaftServerProxy (RaftServerProxy.java:lambda$close$4(314)) - f3e3a3a3-846b-4347-a380-93d47fe145fc: close
2019-09-16 16:00:52,354 [main] INFO  impl.RaftServerImpl (RaftServerImpl.java:lambda$shutdown$3(251)) - f3e3a3a3-846b-4347-a380-93d47fe145fc@group-1F7415941AC5: shutdown
2019-09-16 16:00:52,355 [main] INFO  util.JmxRegister (JmxRegister.java:unregister(73)) - Successfully un-registered JMX Bean with object name Ratis:service=RaftServer,group=group-1F7415941AC5,id=f3e3a3a3-846b-4347-a380-93d47fe145fc
2019-09-16 16:00:52,355 [main] INFO  impl.RoleInfo (RoleInfo.java:shutdownLeaderState(104)) - f3e3a3a3-846b-4347-a380-93d47fe145fc: shutdown LeaderState
2019-09-16 16:00:52,356 [main] INFO  impl.PendingRequests (PendingRequests.java:sendNotLeaderResponses(202)) - f3e3a3a3-846b-4347-a380-93d47fe145fc-PendingRequests: sendNotLeaderResponses
2019-09-16 16:00:52,356 [main] INFO  impl.StateMachineUpdater (StateMachineUpdater.java:stopAndJoin(125)) - f3e3a3a3-846b-4347-a380-93d47fe145fc@group-1F7415941AC5-StateMachineUpdater: set stopIndex = 0
2019-09-16 16:00:52,358 [main] INFO  impl.RaftServerImpl (ServerState.java:close(385)) - f3e3a3a3-846b-4347-a380-93d47fe145fc@group-1F7415941AC5: closes. applyIndex: 0
2019-09-16 16:00:52,360 [f3e3a3a3-846b-4347-a380-93d47fe145fc@group-1F7415941AC5-SegmentedRaftLogWorker] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:run(313)) - f3e3a3a3-846b-4347-a380-93d47fe145fc@group-1F7415941AC5-SegmentedRaftLogWorker was interrupted, exiting. There are 0 tasks remaining in the queue.
2019-09-16 16:00:52,361 [main] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:close(228)) - f3e3a3a3-846b-4347-a380-93d47fe145fc@group-1F7415941AC5-SegmentedRaftLogWorker close()
2019-09-16 16:00:52,363 [main] INFO  server.GrpcService (GrpcService.java:closeImpl(164)) - f3e3a3a3-846b-4347-a380-93d47fe145fc: shutdown server with port 33964 now
2019-09-16 16:00:52,364 [main] INFO  server.GrpcService (GrpcService.java:closeImpl(172)) - f3e3a3a3-846b-4347-a380-93d47fe145fc: shutdown server with port 33964 successfully
2019-09-16 16:00:52,371 [refreshUsed-/workdir/hadoop-ozone/integration-test/target/test-dir/MiniOzoneClusterImpl-e7174f9f-1f65-4936-ace6-f3a8e5d3c0c8/datanode-0/data/containers] WARN  fs.CachingGetSpaceUsed (CachingGetSpaceUsed.java:run(183)) - Thread Interrupted waiting to refresh disk information: sleep interrupted
2019-09-16 16:00:52,387 [main] INFO  utils.BackgroundService (BackgroundService.java:shutdown(148)) - Shutting down service BlockDeletingService
2019-09-16 16:00:52,389 [main] INFO  statemachine.DatanodeStateMachine (DatanodeStateMachine.java:stopDaemon(395)) - Ozone container server stopped.
2019-09-16 16:00:52,391 [main] INFO  handler.ContextHandler (ContextHandler.java:doStop(910)) - Stopped o.e.j.w.WebAppContext@1192b58e{/,null,UNAVAILABLE}{/hddsDatanode}
2019-09-16 16:00:52,392 [main] INFO  server.AbstractConnector (AbstractConnector.java:doStop(318)) - Stopped ServerConnector@563f09f8{HTTP/1.1,[http/1.1]}{0.0.0.0:43474}
2019-09-16 16:00:52,392 [main] INFO  handler.ContextHandler (ContextHandler.java:doStop(910)) - Stopped o.e.j.s.ServletContextHandler@29ebbdf4{/static,jar:file:/home/user/.m2/repository/org/apache/hadoop/hadoop-hdds-container-service/0.5.0-SNAPSHOT/hadoop-hdds-container-service-0.5.0-SNAPSHOT.jar!/webapps/static,UNAVAILABLE}
2019-09-16 16:00:52,392 [main] INFO  handler.ContextHandler (ContextHandler.java:doStop(910)) - Stopped o.e.j.s.ServletContextHandler@254449bb{/logs,file:///workdir/hadoop-ozone/integration-test/target/log,UNAVAILABLE}
2019-09-16 16:00:52,394 [main] INFO  ozone.MiniOzoneClusterImpl (MiniOzoneClusterImpl.java:stop(344)) - Stopping the StorageContainerManager
2019-09-16 16:00:52,394 [main] INFO  server.StorageContainerManager (StorageContainerManager.java:stop(801)) - Stopping Replication Manager Service.
2019-09-16 16:00:52,394 [main] INFO  container.ReplicationManager (ReplicationManager.java:stop(203)) - Stopping Replication Monitor Thread.
2019-09-16 16:00:52,394 [main] INFO  server.StorageContainerManager (StorageContainerManager.java:stop(808)) - Stopping Lease Manager of the command watchers
2019-09-16 16:00:52,395 [main] INFO  server.StorageContainerManager (StorageContainerManager.java:stop(815)) - Stopping datanode service RPC server
2019-09-16 16:00:52,395 [main] INFO  server.SCMDatanodeProtocolServer (SCMDatanodeProtocolServer.java:stop(367)) - Stopping the RPC server for DataNodes
2019-09-16 16:00:52,395 [main] INFO  ipc.Server (Server.java:stop(3082)) - Stopping server on 41271
2019-09-16 16:00:52,397 [IPC Server listener on 41271] INFO  ipc.Server (Server.java:run(1185)) - Stopping IPC Server listener on 41271
2019-09-16 16:00:52,397 [IPC Server Responder] INFO  ipc.Server (Server.java:run(1319)) - Stopping IPC Server Responder
2019-09-16 16:00:52,403 [SCM Heartbeat Processing Thread - 0] WARN  node.NodeStateManager (NodeStateManager.java:scheduleNextHealthCheck(646)) - Current Thread is interrupted, shutting down HB processing thread for Node Manager.
2019-09-16 16:00:52,403 [main] INFO  server.StorageContainerManager (StorageContainerManager.java:stop(823)) - Stopping block service RPC server
2019-09-16 16:00:52,403 [main] INFO  server.SCMBlockProtocolServer (SCMBlockProtocolServer.java:stop(155)) - Stopping the RPC server for Block Protocol
2019-09-16 16:00:52,404 [main] INFO  ipc.Server (Server.java:stop(3082)) - Stopping server on 34332
2019-09-16 16:00:52,405 [IPC Server listener on 34332] INFO  ipc.Server (Server.java:run(1185)) - Stopping IPC Server listener on 34332
2019-09-16 16:00:52,405 [IPC Server Responder] INFO  ipc.Server (Server.java:run(1319)) - Stopping IPC Server Responder
2019-09-16 16:00:52,405 [main] INFO  server.StorageContainerManager (StorageContainerManager.java:stop(830)) - Stopping the StorageContainerLocationProtocol RPC server
2019-09-16 16:00:52,406 [main] INFO  server.SCMClientProtocolServer (SCMClientProtocolServer.java:stop(159)) - Stopping the RPC server for Client Protocol
2019-09-16 16:00:52,406 [main] INFO  ipc.Server (Server.java:stop(3082)) - Stopping server on 44319
2019-09-16 16:00:52,407 [IPC Server listener on 44319] INFO  ipc.Server (Server.java:run(1185)) - Stopping IPC Server listener on 44319
2019-09-16 16:00:52,408 [main] INFO  server.StorageContainerManager (StorageContainerManager.java:stop(837)) - Stopping Storage Container Manager HTTP server.
2019-09-16 16:00:52,408 [IPC Server Responder] INFO  ipc.Server (Server.java:run(1319)) - Stopping IPC Server Responder
2019-09-16 16:00:52,408 [main] INFO  handler.ContextHandler (ContextHandler.java:doStop(910)) - Stopped o.e.j.w.WebAppContext@740abb5{/,null,UNAVAILABLE}{/scm}
2019-09-16 16:00:52,409 [main] INFO  server.AbstractConnector (AbstractConnector.java:doStop(318)) - Stopped ServerConnector@61edc883{HTTP/1.1,[http/1.1]}{0.0.0.0:0}
2019-09-16 16:00:52,409 [main] INFO  handler.ContextHandler (ContextHandler.java:doStop(910)) - Stopped o.e.j.s.ServletContextHandler@4b45dcb8{/static,file:///workdir/hadoop-ozone/integration-test/target/test-classes/webapps/static,UNAVAILABLE}
2019-09-16 16:00:52,410 [main] INFO  handler.ContextHandler (ContextHandler.java:doStop(910)) - Stopped o.e.j.s.ServletContextHandler@2b0f373b{/logs,file:///workdir/hadoop-ozone/integration-test/target/log,UNAVAILABLE}
2019-09-16 16:00:52,411 [main] INFO  server.StorageContainerManager (StorageContainerManager.java:stop(848)) - Stopping Block Manager Service.
2019-09-16 16:00:52,411 [main] INFO  utils.BackgroundService (BackgroundService.java:shutdown(148)) - Shutting down service SCMBlockDeletingService
2019-09-16 16:00:52,411 [main] INFO  utils.BackgroundService (BackgroundService.java:shutdown(148)) - Shutting down service SCMBlockDeletingService
2019-09-16 16:00:52,411 [main] INFO  server.StorageContainerManager (StorageContainerManager.java:stop(870)) - Stopping SCM Event Queue.
2019-09-16 16:00:52,418 [main] INFO  impl.MetricsSystemImpl (MetricsSystemImpl.java:stop(210)) - Stopping HddsDatanode metrics system...
2019-09-16 16:00:52,425 [prometheus] INFO  impl.MetricsSinkAdapter (MetricsSinkAdapter.java:publishMetricsFromQueue(141)) - prometheus thread interrupted.
2019-09-16 16:00:52,425 [main] INFO  impl.MetricsSystemImpl (MetricsSystemImpl.java:stop(216)) - HddsDatanode metrics system stopped.
